(window.webpackJsonp = window.webpackJsonp || []).push([[221, 2, 6, 8, 9, 11, 12, 22, 42], {
    1217: function(e, t, i) {
        (t = e.exports = i(33)(!0)).push([e.i, "/* breakpoints */\n/* Using .9375 on the max-widths prevents overlap at the breakpoint pixel. 1em by default equals 16px, .9375 is 15/16ths */", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.28/node_modules/ui-connect/styles/variables.module.css"],
            names: [],
            mappings: "AAMA,iBAAgB;AAChB,2HAA0H",
            file: "variables.module.css",
            sourcesContent: ["@value spacingXS: 11px;\n@value spacingSM: 22px;\n@value spacingMD: 33px;\n@value spacingLG: 44px;\n@value spacingXL: 55px;\n\n/* breakpoints */\n/* Using .9375 on the max-widths prevents overlap at the breakpoint pixel. 1em by default equals 16px, .9375 is 15/16ths */\n@value endXS:     47.9375em;\n@value startSM:   48em;\n@value endSM:     61.9375em;\n@value startMD:   62em;\n@value endMD:     74.9375em;\n@value startLG:   75em;"],
            sourceRoot: ""
        }]),
        t.locals = {
            spacingXS: "11px",
            spacingSM: "22px",
            spacingMD: "33px",
            spacingLG: "44px",
            spacingXL: "55px",
            endXS: "47.9375em",
            startSM: "48em",
            endSM: "61.9375em",
            startMD: "62em",
            endMD: "74.9375em",
            startLG: "75em"
        }
    },
    1221: function(e, t, i) {
        !function(e) {
            "use strict";
            var t = Object.freeze;
            function i(e) {
                var t, i, a, n;
                for (i = 1,
                a = arguments.length; i < a; i++)
                    for (t in n = arguments[i])
                        e[t] = n[t];
                return e
            }
            Object.freeze = function(e) {
                return e
            }
            ;
            var a = Object.create || function() {
                function e() {}
                return function(t) {
                    return e.prototype = t,
                    new e
                }
            }();
            function n(e, t) {
                var i = Array.prototype.slice;
                if (e.bind)
                    return e.bind.apply(e, i.call(arguments, 1));
                var a = i.call(arguments, 2);
                return function() {
                    return e.apply(t, a.length ? a.concat(i.call(arguments)) : arguments)
                }
            }
            var r = 0;
            function s(e) {
                return e._leaflet_id = e._leaflet_id || ++r,
                e._leaflet_id
            }
            function o(e, t, i) {
                var a, n, r, s;
                return s = function() {
                    a = !1,
                    n && (r.apply(i, n),
                    n = !1)
                }
                ,
                r = function() {
                    a ? n = arguments : (e.apply(i, arguments),
                    setTimeout(s, t),
                    a = !0)
                }
            }
            function l(e, t, i) {
                var a = t[1]
                  , n = t[0]
                  , r = a - n;
                return e === a && i ? e : ((e - n) % r + r) % r + n
            }
            function c() {
                return !1
            }
            function h(e, t) {
                return t = void 0 === t ? 6 : t,
                +(Math.round(e + "e+" + t) + "e-" + t)
            }
            function d(e) {
                return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
            }
            function p(e) {
                return d(e).split(/\s+/)
            }
            function u(e, t) {
                for (var i in e.hasOwnProperty("options") || (e.options = e.options ? a(e.options) : {}),
                t)
                    e.options[i] = t[i];
                return e.options
            }
            function m(e, t, i) {
                var a = [];
                for (var n in e)
                    a.push(encodeURIComponent(i ? n.toUpperCase() : n) + "=" + encodeURIComponent(e[n]));
                return (t && -1 !== t.indexOf("?") ? "&" : "?") + a.join("&")
            }
            var g = /\{ *([\w_-]+) *\}/g;
            function f(e, t) {
                return e.replace(g, function(e, i) {
                    var a = t[i];
                    if (void 0 === a)
                        throw new Error("No value provided for variable " + e);
                    return "function" === typeof a && (a = a(t)),
                    a
                })
            }
            var v = Array.isArray || function(e) {
                return "[object Array]" === Object.prototype.toString.call(e)
            }
            ;
            function y(e, t) {
                for (var i = 0; i < e.length; i++)
                    if (e[i] === t)
                        return i;
                return -1
            }
            var A = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";
            function _(e) {
                return window["webkit" + e] || window["moz" + e] || window["ms" + e]
            }
            var b = 0;
            function C(e) {
                var t = +new Date
                  , i = Math.max(0, 16 - (t - b));
                return b = t + i,
                window.setTimeout(e, i)
            }
            var w = window.requestAnimationFrame || _("RequestAnimationFrame") || C
              , x = window.cancelAnimationFrame || _("CancelAnimationFrame") || _("CancelRequestAnimationFrame") || function(e) {
                window.clearTimeout(e)
            }
            ;
            function S(e, t, i) {
                if (!i || w !== C)
                    return w.call(window, n(e, t));
                e.call(t)
            }
            function T(e) {
                e && x.call(window, e)
            }
            var E = (Object.freeze || Object)({
                freeze: t,
                extend: i,
                create: a,
                bind: n,
                lastId: r,
                stamp: s,
                throttle: o,
                wrapNum: l,
                falseFn: c,
                formatNum: h,
                trim: d,
                splitWords: p,
                setOptions: u,
                getParamString: m,
                template: f,
                isArray: v,
                indexOf: y,
                emptyImageUrl: A,
                requestFn: w,
                cancelFn: x,
                requestAnimFrame: S,
                cancelAnimFrame: T
            });
            function k() {}
            k.extend = function(e) {
                var t = function() {
                    this.initialize && this.initialize.apply(this, arguments),
                    this.callInitHooks()
                }
                  , n = t.__super__ = this.prototype
                  , r = a(n);
                for (var s in r.constructor = t,
                t.prototype = r,
                this)
                    this.hasOwnProperty(s) && "prototype" !== s && "__super__" !== s && (t[s] = this[s]);
                return e.statics && (i(t, e.statics),
                delete e.statics),
                e.includes && (function(e) {
                    if ("undefined" !== typeof L && L && L.Mixin) {
                        e = v(e) ? e : [e];
                        for (var t = 0; t < e.length; t++)
                            e[t] === L.Mixin.Events && console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.", (new Error).stack)
                    }
                }(e.includes),
                i.apply(null, [r].concat(e.includes)),
                delete e.includes),
                r.options && (e.options = i(a(r.options), e.options)),
                i(r, e),
                r._initHooks = [],
                r.callInitHooks = function() {
                    if (!this._initHooksCalled) {
                        n.callInitHooks && n.callInitHooks.call(this),
                        this._initHooksCalled = !0;
                        for (var e = 0, t = r._initHooks.length; e < t; e++)
                            r._initHooks[e].call(this)
                    }
                }
                ,
                t
            }
            ,
            k.include = function(e) {
                return i(this.prototype, e),
                this
            }
            ,
            k.mergeOptions = function(e) {
                return i(this.prototype.options, e),
                this
            }
            ,
            k.addInitHook = function(e) {
                var t = Array.prototype.slice.call(arguments, 1)
                  , i = "function" === typeof e ? e : function() {
                    this[e].apply(this, t)
                }
                ;
                return this.prototype._initHooks = this.prototype._initHooks || [],
                this.prototype._initHooks.push(i),
                this
            }
            ;
            var P = {
                on: function(e, t, i) {
                    if ("object" === typeof e)
                        for (var a in e)
                            this._on(a, e[a], t);
                    else {
                        e = p(e);
                        for (var n = 0, r = e.length; n < r; n++)
                            this._on(e[n], t, i)
                    }
                    return this
                },
                off: function(e, t, i) {
                    if (e)
                        if ("object" === typeof e)
                            for (var a in e)
                                this._off(a, e[a], t);
                        else {
                            e = p(e);
                            for (var n = 0, r = e.length; n < r; n++)
                                this._off(e[n], t, i)
                        }
                    else
                        delete this._events;
                    return this
                },
                _on: function(e, t, i) {
                    this._events = this._events || {};
                    var a = this._events[e];
                    a || (a = [],
                    this._events[e] = a),
                    i === this && (i = void 0);
                    for (var n = {
                        fn: t,
                        ctx: i
                    }, r = a, s = 0, o = r.length; s < o; s++)
                        if (r[s].fn === t && r[s].ctx === i)
                            return;
                    r.push(n)
                },
                _off: function(e, t, i) {
                    var a, n, r;
                    if (this._events && (a = this._events[e]))
                        if (t) {
                            if (i === this && (i = void 0),
                            a)
                                for (n = 0,
                                r = a.length; n < r; n++) {
                                    var s = a[n];
                                    if (s.ctx === i && s.fn === t)
                                        return s.fn = c,
                                        this._firingCount && (this._events[e] = a = a.slice()),
                                        void a.splice(n, 1)
                                }
                        } else {
                            for (n = 0,
                            r = a.length; n < r; n++)
                                a[n].fn = c;
                            delete this._events[e]
                        }
                },
                fire: function(e, t, a) {
                    if (!this.listens(e, a))
                        return this;
                    var n = i({}, t, {
                        type: e,
                        target: this,
                        sourceTarget: t && t.sourceTarget || this
                    });
                    if (this._events) {
                        var r = this._events[e];
                        if (r) {
                            this._firingCount = this._firingCount + 1 || 1;
                            for (var s = 0, o = r.length; s < o; s++) {
                                var l = r[s];
                                l.fn.call(l.ctx || this, n)
                            }
                            this._firingCount--
                        }
                    }
                    return a && this._propagateEvent(n),
                    this
                },
                listens: function(e, t) {
                    var i = this._events && this._events[e];
                    if (i && i.length)
                        return !0;
                    if (t)
                        for (var a in this._eventParents)
                            if (this._eventParents[a].listens(e, t))
                                return !0;
                    return !1
                },
                once: function(e, t, i) {
                    if ("object" === typeof e) {
                        for (var a in e)
                            this.once(a, e[a], t);
                        return this
                    }
                    var r = n(function() {
                        this.off(e, t, i).off(e, r, i)
                    }, this);
                    return this.on(e, t, i).on(e, r, i)
                },
                addEventParent: function(e) {
                    return this._eventParents = this._eventParents || {},
                    this._eventParents[s(e)] = e,
                    this
                },
                removeEventParent: function(e) {
                    return this._eventParents && delete this._eventParents[s(e)],
                    this
                },
                _propagateEvent: function(e) {
                    for (var t in this._eventParents)
                        this._eventParents[t].fire(e.type, i({
                            layer: e.target,
                            propagatedFrom: e.target
                        }, e), !0)
                }
            };
            P.addEventListener = P.on,
            P.removeEventListener = P.clearAllEventListeners = P.off,
            P.addOneTimeEventListener = P.once,
            P.fireEvent = P.fire,
            P.hasEventListeners = P.listens;
            var z = k.extend(P);
            function I(e, t, i) {
                this.x = i ? Math.round(e) : e,
                this.y = i ? Math.round(t) : t
            }
            var D = Math.trunc || function(e) {
                return e > 0 ? Math.floor(e) : Math.ceil(e)
            }
            ;
            function M(e, t, i) {
                return e instanceof I ? e : v(e) ? new I(e[0],e[1]) : void 0 === e || null === e ? e : "object" === typeof e && "x"in e && "y"in e ? new I(e.x,e.y) : new I(e,t,i)
            }
            function B(e, t) {
                if (e)
                    for (var i = t ? [e, t] : e, a = 0, n = i.length; a < n; a++)
                        this.extend(i[a])
            }
            function O(e, t) {
                return !e || e instanceof B ? e : new B(e,t)
            }
            function R(e, t) {
                if (e)
                    for (var i = t ? [e, t] : e, a = 0, n = i.length; a < n; a++)
                        this.extend(i[a])
            }
            function N(e, t) {
                return e instanceof R ? e : new R(e,t)
            }
            function V(e, t, i) {
                if (isNaN(e) || isNaN(t))
                    throw new Error("Invalid LatLng object: (" + e + ", " + t + ")");
                this.lat = +e,
                this.lng = +t,
                void 0 !== i && (this.alt = +i)
            }
            function F(e, t, i) {
                return e instanceof V ? e : v(e) && "object" !== typeof e[0] ? 3 === e.length ? new V(e[0],e[1],e[2]) : 2 === e.length ? new V(e[0],e[1]) : null : void 0 === e || null === e ? e : "object" === typeof e && "lat"in e ? new V(e.lat,"lng"in e ? e.lng : e.lon,e.alt) : void 0 === t ? null : new V(e,t,i)
            }
            I.prototype = {
                clone: function() {
                    return new I(this.x,this.y)
                },
                add: function(e) {
                    return this.clone()._add(M(e))
                },
                _add: function(e) {
                    return this.x += e.x,
                    this.y += e.y,
                    this
                },
                subtract: function(e) {
                    return this.clone()._subtract(M(e))
                },
                _subtract: function(e) {
                    return this.x -= e.x,
                    this.y -= e.y,
                    this
                },
                divideBy: function(e) {
                    return this.clone()._divideBy(e)
                },
                _divideBy: function(e) {
                    return this.x /= e,
                    this.y /= e,
                    this
                },
                multiplyBy: function(e) {
                    return this.clone()._multiplyBy(e)
                },
                _multiplyBy: function(e) {
                    return this.x *= e,
                    this.y *= e,
                    this
                },
                scaleBy: function(e) {
                    return new I(this.x * e.x,this.y * e.y)
                },
                unscaleBy: function(e) {
                    return new I(this.x / e.x,this.y / e.y)
                },
                round: function() {
                    return this.clone()._round()
                },
                _round: function() {
                    return this.x = Math.round(this.x),
                    this.y = Math.round(this.y),
                    this
                },
                floor: function() {
                    return this.clone()._floor()
                },
                _floor: function() {
                    return this.x = Math.floor(this.x),
                    this.y = Math.floor(this.y),
                    this
                },
                ceil: function() {
                    return this.clone()._ceil()
                },
                _ceil: function() {
                    return this.x = Math.ceil(this.x),
                    this.y = Math.ceil(this.y),
                    this
                },
                trunc: function() {
                    return this.clone()._trunc()
                },
                _trunc: function() {
                    return this.x = D(this.x),
                    this.y = D(this.y),
                    this
                },
                distanceTo: function(e) {
                    var t = (e = M(e)).x - this.x
                      , i = e.y - this.y;
                    return Math.sqrt(t * t + i * i)
                },
                equals: function(e) {
                    return (e = M(e)).x === this.x && e.y === this.y
                },
                contains: function(e) {
                    return e = M(e),
                    Math.abs(e.x) <= Math.abs(this.x) && Math.abs(e.y) <= Math.abs(this.y)
                },
                toString: function() {
                    return "Point(" + h(this.x) + ", " + h(this.y) + ")"
                }
            },
            B.prototype = {
                extend: function(e) {
                    return e = M(e),
                    this.min || this.max ? (this.min.x = Math.min(e.x, this.min.x),
                    this.max.x = Math.max(e.x, this.max.x),
                    this.min.y = Math.min(e.y, this.min.y),
                    this.max.y = Math.max(e.y, this.max.y)) : (this.min = e.clone(),
                    this.max = e.clone()),
                    this
                },
                getCenter: function(e) {
                    return new I((this.min.x + this.max.x) / 2,(this.min.y + this.max.y) / 2,e)
                },
                getBottomLeft: function() {
                    return new I(this.min.x,this.max.y)
                },
                getTopRight: function() {
                    return new I(this.max.x,this.min.y)
                },
                getTopLeft: function() {
                    return this.min
                },
                getBottomRight: function() {
                    return this.max
                },
                getSize: function() {
                    return this.max.subtract(this.min)
                },
                contains: function(e) {
                    var t, i;
                    return (e = "number" === typeof e[0] || e instanceof I ? M(e) : O(e))instanceof B ? (t = e.min,
                    i = e.max) : t = i = e,
                    t.x >= this.min.x && i.x <= this.max.x && t.y >= this.min.y && i.y <= this.max.y
                },
                intersects: function(e) {
                    e = O(e);
                    var t = this.min
                      , i = this.max
                      , a = e.min
                      , n = e.max
                      , r = n.x >= t.x && a.x <= i.x
                      , s = n.y >= t.y && a.y <= i.y;
                    return r && s
                },
                overlaps: function(e) {
                    e = O(e);
                    var t = this.min
                      , i = this.max
                      , a = e.min
                      , n = e.max
                      , r = n.x > t.x && a.x < i.x
                      , s = n.y > t.y && a.y < i.y;
                    return r && s
                },
                isValid: function() {
                    return !(!this.min || !this.max)
                }
            },
            R.prototype = {
                extend: function(e) {
                    var t, i, a = this._southWest, n = this._northEast;
                    if (e instanceof V)
                        t = e,
                        i = e;
                    else {
                        if (!(e instanceof R))
                            return e ? this.extend(F(e) || N(e)) : this;
                        if (t = e._southWest,
                        i = e._northEast,
                        !t || !i)
                            return this
                    }
                    return a || n ? (a.lat = Math.min(t.lat, a.lat),
                    a.lng = Math.min(t.lng, a.lng),
                    n.lat = Math.max(i.lat, n.lat),
                    n.lng = Math.max(i.lng, n.lng)) : (this._southWest = new V(t.lat,t.lng),
                    this._northEast = new V(i.lat,i.lng)),
                    this
                },
                pad: function(e) {
                    var t = this._southWest
                      , i = this._northEast
                      , a = Math.abs(t.lat - i.lat) * e
                      , n = Math.abs(t.lng - i.lng) * e;
                    return new R(new V(t.lat - a,t.lng - n),new V(i.lat + a,i.lng + n))
                },
                getCenter: function() {
                    return new V((this._southWest.lat + this._northEast.lat) / 2,(this._southWest.lng + this._northEast.lng) / 2)
                },
                getSouthWest: function() {
                    return this._southWest
                },
                getNorthEast: function() {
                    return this._northEast
                },
                getNorthWest: function() {
                    return new V(this.getNorth(),this.getWest())
                },
                getSouthEast: function() {
                    return new V(this.getSouth(),this.getEast())
                },
                getWest: function() {
                    return this._southWest.lng
                },
                getSouth: function() {
                    return this._southWest.lat
                },
                getEast: function() {
                    return this._northEast.lng
                },
                getNorth: function() {
                    return this._northEast.lat
                },
                contains: function(e) {
                    e = "number" === typeof e[0] || e instanceof V || "lat"in e ? F(e) : N(e);
                    var t, i, a = this._southWest, n = this._northEast;
                    return e instanceof R ? (t = e.getSouthWest(),
                    i = e.getNorthEast()) : t = i = e,
                    t.lat >= a.lat && i.lat <= n.lat && t.lng >= a.lng && i.lng <= n.lng
                },
                intersects: function(e) {
                    e = N(e);
                    var t = this._southWest
                      , i = this._northEast
                      , a = e.getSouthWest()
                      , n = e.getNorthEast()
                      , r = n.lat >= t.lat && a.lat <= i.lat
                      , s = n.lng >= t.lng && a.lng <= i.lng;
                    return r && s
                },
                overlaps: function(e) {
                    e = N(e);
                    var t = this._southWest
                      , i = this._northEast
                      , a = e.getSouthWest()
                      , n = e.getNorthEast()
                      , r = n.lat > t.lat && a.lat < i.lat
                      , s = n.lng > t.lng && a.lng < i.lng;
                    return r && s
                },
                toBBoxString: function() {
                    return [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(",")
                },
                equals: function(e, t) {
                    return !!e && (e = N(e),
                    this._southWest.equals(e.getSouthWest(), t) && this._northEast.equals(e.getNorthEast(), t))
                },
                isValid: function() {
                    return !(!this._southWest || !this._northEast)
                }
            },
            V.prototype = {
                equals: function(e, t) {
                    if (!e)
                        return !1;
                    e = F(e);
                    var i = Math.max(Math.abs(this.lat - e.lat), Math.abs(this.lng - e.lng));
                    return i <= (void 0 === t ? 1e-9 : t)
                },
                toString: function(e) {
                    return "LatLng(" + h(this.lat, e) + ", " + h(this.lng, e) + ")"
                },
                distanceTo: function(e) {
                    return H.distance(this, F(e))
                },
                wrap: function() {
                    return H.wrapLatLng(this)
                },
                toBounds: function(e) {
                    var t = 180 * e / 40075017
                      , i = t / Math.cos(Math.PI / 180 * this.lat);
                    return N([this.lat - t, this.lng - i], [this.lat + t, this.lng + i])
                },
                clone: function() {
                    return new V(this.lat,this.lng,this.alt)
                }
            };
            var G = {
                latLngToPoint: function(e, t) {
                    var i = this.projection.project(e)
                      , a = this.scale(t);
                    return this.transformation._transform(i, a)
                },
                pointToLatLng: function(e, t) {
                    var i = this.scale(t)
                      , a = this.transformation.untransform(e, i);
                    return this.projection.unproject(a)
                },
                project: function(e) {
                    return this.projection.project(e)
                },
                unproject: function(e) {
                    return this.projection.unproject(e)
                },
                scale: function(e) {
                    return 256 * Math.pow(2, e)
                },
                zoom: function(e) {
                    return Math.log(e / 256) / Math.LN2
                },
                getProjectedBounds: function(e) {
                    if (this.infinite)
                        return null;
                    var t = this.projection.bounds
                      , i = this.scale(e)
                      , a = this.transformation.transform(t.min, i)
                      , n = this.transformation.transform(t.max, i);
                    return new B(a,n)
                },
                infinite: !1,
                wrapLatLng: function(e) {
                    var t = this.wrapLng ? l(e.lng, this.wrapLng, !0) : e.lng
                      , i = this.wrapLat ? l(e.lat, this.wrapLat, !0) : e.lat
                      , a = e.alt;
                    return new V(i,t,a)
                },
                wrapLatLngBounds: function(e) {
                    var t = e.getCenter()
                      , i = this.wrapLatLng(t)
                      , a = t.lat - i.lat
                      , n = t.lng - i.lng;
                    if (0 === a && 0 === n)
                        return e;
                    var r = e.getSouthWest()
                      , s = e.getNorthEast()
                      , o = new V(r.lat - a,r.lng - n)
                      , l = new V(s.lat - a,s.lng - n);
                    return new R(o,l)
                }
            }
              , H = i({}, G, {
                wrapLng: [-180, 180],
                R: 6371e3,
                distance: function(e, t) {
                    var i = Math.PI / 180
                      , a = e.lat * i
                      , n = t.lat * i
                      , r = Math.sin((t.lat - e.lat) * i / 2)
                      , s = Math.sin((t.lng - e.lng) * i / 2)
                      , o = r * r + Math.cos(a) * Math.cos(n) * s * s
                      , l = 2 * Math.atan2(Math.sqrt(o), Math.sqrt(1 - o));
                    return this.R * l
                }
            })
              , U = {
                R: 6378137,
                MAX_LATITUDE: 85.0511287798,
                project: function(e) {
                    var t = Math.PI / 180
                      , i = this.MAX_LATITUDE
                      , a = Math.max(Math.min(i, e.lat), -i)
                      , n = Math.sin(a * t);
                    return new I(this.R * e.lng * t,this.R * Math.log((1 + n) / (1 - n)) / 2)
                },
                unproject: function(e) {
                    var t = 180 / Math.PI;
                    return new V((2 * Math.atan(Math.exp(e.y / this.R)) - Math.PI / 2) * t,e.x * t / this.R)
                },
                bounds: function() {
                    var e = 6378137 * Math.PI;
                    return new B([-e, -e],[e, e])
                }()
            };
            function Q(e, t, i, a) {
                if (v(e))
                    return this._a = e[0],
                    this._b = e[1],
                    this._c = e[2],
                    void (this._d = e[3]);
                this._a = e,
                this._b = t,
                this._c = i,
                this._d = a
            }
            function K(e, t, i, a) {
                return new Q(e,t,i,a)
            }
            Q.prototype = {
                transform: function(e, t) {
                    return this._transform(e.clone(), t)
                },
                _transform: function(e, t) {
                    return t = t || 1,
                    e.x = t * (this._a * e.x + this._b),
                    e.y = t * (this._c * e.y + this._d),
                    e
                },
                untransform: function(e, t) {
                    return t = t || 1,
                    new I((e.x / t - this._b) / this._a,(e.y / t - this._d) / this._c)
                }
            };
            var W = i({}, H, {
                code: "EPSG:3857",
                projection: U,
                transformation: function() {
                    var e = .5 / (Math.PI * U.R);
                    return K(e, .5, -e, .5)
                }()
            })
              , Y = i({}, W, {
                code: "EPSG:900913"
            });
            function j(e) {
                return document.createElementNS("http://www.w3.org/2000/svg", e)
            }
            function $(e, t) {
                var i, a, n, r, s, o, l = "";
                for (i = 0,
                n = e.length; i < n; i++) {
                    for (s = e[i],
                    a = 0,
                    r = s.length; a < r; a++)
                        o = s[a],
                        l += (a ? "L" : "M") + o.x + " " + o.y;
                    l += t ? Te ? "z" : "x" : ""
                }
                return l || "M0 0"
            }
            var Z = document.documentElement.style
              , q = "ActiveXObject"in window
              , X = q && !document.addEventListener
              , J = "msLaunchUri"in navigator && !("documentMode"in document)
              , ee = Le("webkit")
              , te = Le("android")
              , ie = Le("android 2") || Le("android 3")
              , ae = parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1], 10)
              , ne = te && Le("Google") && ae < 537 && !("AudioNode"in window)
              , re = !!window.opera
              , se = Le("chrome")
              , oe = Le("gecko") && !ee && !re && !q
              , le = !se && Le("safari")
              , ce = Le("phantom")
              , he = "OTransition"in Z
              , de = 0 === navigator.platform.indexOf("Win")
              , pe = q && "transition"in Z
              , ue = "WebKitCSSMatrix"in window && "m11"in new window.WebKitCSSMatrix && !ie
              , me = "MozPerspective"in Z
              , ge = !window.L_DISABLE_3D && (pe || ue || me) && !he && !ce
              , fe = "undefined" !== typeof orientation || Le("mobile")
              , ve = fe && ee
              , ye = fe && ue
              , Ae = !window.PointerEvent && window.MSPointerEvent
              , _e = !(!window.PointerEvent && !Ae)
              , be = !window.L_NO_TOUCH && (_e || "ontouchstart"in window || window.DocumentTouch && document instanceof window.DocumentTouch)
              , Ce = fe && re
              , we = fe && oe
              , xe = (window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI) > 1
              , Se = !!document.createElement("canvas").getContext
              , Te = !(!document.createElementNS || !j("svg").createSVGRect)
              , Ee = !Te && function() {
                try {
                    var e = document.createElement("div");
                    e.innerHTML = '<v:shape adj="1"/>';
                    var t = e.firstChild;
                    return t.style.behavior = "url(#default#VML)",
                    t && "object" === typeof t.adj
                } catch (i) {
                    return !1
                }
            }();
            function Le(e) {
                return navigator.userAgent.toLowerCase().indexOf(e) >= 0
            }
            var ke = (Object.freeze || Object)({
                ie: q,
                ielt9: X,
                edge: J,
                webkit: ee,
                android: te,
                android23: ie,
                androidStock: ne,
                opera: re,
                chrome: se,
                gecko: oe,
                safari: le,
                phantom: ce,
                opera12: he,
                win: de,
                ie3d: pe,
                webkit3d: ue,
                gecko3d: me,
                any3d: ge,
                mobile: fe,
                mobileWebkit: ve,
                mobileWebkit3d: ye,
                msPointer: Ae,
                pointer: _e,
                touch: be,
                mobileOpera: Ce,
                mobileGecko: we,
                retina: xe,
                canvas: Se,
                svg: Te,
                vml: Ee
            })
              , Pe = Ae ? "MSPointerDown" : "pointerdown"
              , ze = Ae ? "MSPointerMove" : "pointermove"
              , Ie = Ae ? "MSPointerUp" : "pointerup"
              , De = Ae ? "MSPointerCancel" : "pointercancel"
              , Me = ["INPUT", "SELECT", "OPTION"]
              , Be = {}
              , Oe = !1
              , Re = 0;
            function Ne(e, t, i, a) {
                return "touchstart" === t ? function(e, t, i) {
                    var a = n(function(e) {
                        if ("mouse" !== e.pointerType && e.MSPOINTER_TYPE_MOUSE && e.pointerType !== e.MSPOINTER_TYPE_MOUSE) {
                            if (!(Me.indexOf(e.target.tagName) < 0))
                                return;
                            Bt(e)
                        }
                        He(e, t)
                    });
                    e["_leaflet_touchstart" + i] = a,
                    e.addEventListener(Pe, a, !1),
                    Oe || (document.documentElement.addEventListener(Pe, Ve, !0),
                    document.documentElement.addEventListener(ze, Fe, !0),
                    document.documentElement.addEventListener(Ie, Ge, !0),
                    document.documentElement.addEventListener(De, Ge, !0),
                    Oe = !0)
                }(e, i, a) : "touchmove" === t ? function(e, t, i) {
                    var a = function(e) {
                        (e.pointerType !== e.MSPOINTER_TYPE_MOUSE && "mouse" !== e.pointerType || 0 !== e.buttons) && He(e, t)
                    };
                    e["_leaflet_touchmove" + i] = a,
                    e.addEventListener(ze, a, !1)
                }(e, i, a) : "touchend" === t && function(e, t, i) {
                    var a = function(e) {
                        He(e, t)
                    };
                    e["_leaflet_touchend" + i] = a,
                    e.addEventListener(Ie, a, !1),
                    e.addEventListener(De, a, !1)
                }(e, i, a),
                this
            }
            function Ve(e) {
                Be[e.pointerId] = e,
                Re++
            }
            function Fe(e) {
                Be[e.pointerId] && (Be[e.pointerId] = e)
            }
            function Ge(e) {
                delete Be[e.pointerId],
                Re--
            }
            function He(e, t) {
                for (var i in e.touches = [],
                Be)
                    e.touches.push(Be[i]);
                e.changedTouches = [e],
                t(e)
            }
            var Ue = Ae ? "MSPointerDown" : _e ? "pointerdown" : "touchstart"
              , Qe = Ae ? "MSPointerUp" : _e ? "pointerup" : "touchend"
              , Ke = "_leaflet_";
            function We(e, t, i) {
                var a, n, r = !1, s = 250;
                function o(e) {
                    var t;
                    if (_e) {
                        if (!J || "mouse" === e.pointerType)
                            return;
                        t = Re
                    } else
                        t = e.touches.length;
                    if (!(t > 1)) {
                        var i = Date.now()
                          , o = i - (a || i);
                        n = e.touches ? e.touches[0] : e,
                        r = o > 0 && o <= s,
                        a = i
                    }
                }
                function l(e) {
                    if (r && !n.cancelBubble) {
                        if (_e) {
                            if (!J || "mouse" === e.pointerType)
                                return;
                            var i, s, o = {};
                            for (s in n)
                                i = n[s],
                                o[s] = i && i.bind ? i.bind(n) : i;
                            n = o
                        }
                        n.type = "dblclick",
                        n.button = 0,
                        t(n),
                        a = null
                    }
                }
                return e[Ke + Ue + i] = o,
                e[Ke + Qe + i] = l,
                e[Ke + "dblclick" + i] = t,
                e.addEventListener(Ue, o, !1),
                e.addEventListener(Qe, l, !1),
                e.addEventListener("dblclick", t, !1),
                this
            }
            function Ye(e, t) {
                var i = e[Ke + Ue + t]
                  , a = e[Ke + Qe + t]
                  , n = e[Ke + "dblclick" + t];
                return e.removeEventListener(Ue, i, !1),
                e.removeEventListener(Qe, a, !1),
                J || e.removeEventListener("dblclick", n, !1),
                this
            }
            var je, $e, Ze, qe, Xe, Je = gt(["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]), et = gt(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]), tt = "webkitTransition" === et || "OTransition" === et ? et + "End" : "transitionend";
            function it(e) {
                return "string" === typeof e ? document.getElementById(e) : e
            }
            function at(e, t) {
                var i = e.style[t] || e.currentStyle && e.currentStyle[t];
                if ((!i || "auto" === i) && document.defaultView) {
                    var a = document.defaultView.getComputedStyle(e, null);
                    i = a ? a[t] : null
                }
                return "auto" === i ? null : i
            }
            function nt(e, t, i) {
                var a = document.createElement(e);
                return a.className = t || "",
                i && i.appendChild(a),
                a
            }
            function rt(e) {
                var t = e.parentNode;
                t && t.removeChild(e)
            }
            function st(e) {
                for (; e.firstChild; )
                    e.removeChild(e.firstChild)
            }
            function ot(e) {
                var t = e.parentNode;
                t && t.lastChild !== e && t.appendChild(e)
            }
            function lt(e) {
                var t = e.parentNode;
                t && t.firstChild !== e && t.insertBefore(e, t.firstChild)
            }
            function ct(e, t) {
                if (void 0 !== e.classList)
                    return e.classList.contains(t);
                var i = ut(e);
                return i.length > 0 && new RegExp("(^|\\s)" + t + "(\\s|$)").test(i)
            }
            function ht(e, t) {
                if (void 0 !== e.classList)
                    for (var i = p(t), a = 0, n = i.length; a < n; a++)
                        e.classList.add(i[a]);
                else if (!ct(e, t)) {
                    var r = ut(e);
                    pt(e, (r ? r + " " : "") + t)
                }
            }
            function dt(e, t) {
                void 0 !== e.classList ? e.classList.remove(t) : pt(e, d((" " + ut(e) + " ").replace(" " + t + " ", " ")))
            }
            function pt(e, t) {
                void 0 === e.className.baseVal ? e.className = t : e.className.baseVal = t
            }
            function ut(e) {
                return e.correspondingElement && (e = e.correspondingElement),
                void 0 === e.className.baseVal ? e.className : e.className.baseVal
            }
            function mt(e, t) {
                "opacity"in e.style ? e.style.opacity = t : "filter"in e.style && function(e, t) {
                    var i = !1
                      , a = "DXImageTransform.Microsoft.Alpha";
                    try {
                        i = e.filters.item(a)
                    } catch (n) {
                        if (1 === t)
                            return
                    }
                    t = Math.round(100 * t),
                    i ? (i.Enabled = 100 !== t,
                    i.Opacity = t) : e.style.filter += " progid:" + a + "(opacity=" + t + ")"
                }(e, t)
            }
            function gt(e) {
                for (var t = document.documentElement.style, i = 0; i < e.length; i++)
                    if (e[i]in t)
                        return e[i];
                return !1
            }
            function ft(e, t, i) {
                var a = t || new I(0,0);
                e.style[Je] = (pe ? "translate(" + a.x + "px," + a.y + "px)" : "translate3d(" + a.x + "px," + a.y + "px,0)") + (i ? " scale(" + i + ")" : "")
            }
            function vt(e, t) {
                e._leaflet_pos = t,
                ge ? ft(e, t) : (e.style.left = t.x + "px",
                e.style.top = t.y + "px")
            }
            function yt(e) {
                return e._leaflet_pos || new I(0,0)
            }
            if ("onselectstart"in document)
                je = function() {
                    Et(window, "selectstart", Bt)
                }
                ,
                $e = function() {
                    kt(window, "selectstart", Bt)
                }
                ;
            else {
                var At = gt(["userSelect", "WebkitUserSelect", "OUserSelect", "MozUserSelect", "msUserSelect"]);
                je = function() {
                    if (At) {
                        var e = document.documentElement.style;
                        Ze = e[At],
                        e[At] = "none"
                    }
                }
                ,
                $e = function() {
                    At && (document.documentElement.style[At] = Ze,
                    Ze = void 0)
                }
            }
            function _t() {
                Et(window, "dragstart", Bt)
            }
            function bt() {
                kt(window, "dragstart", Bt)
            }
            function Ct(e) {
                for (; -1 === e.tabIndex; )
                    e = e.parentNode;
                e.style && (wt(),
                qe = e,
                Xe = e.style.outline,
                e.style.outline = "none",
                Et(window, "keydown", wt))
            }
            function wt() {
                qe && (qe.style.outline = Xe,
                qe = void 0,
                Xe = void 0,
                kt(window, "keydown", wt))
            }
            function xt(e) {
                do {
                    e = e.parentNode
                } while ((!e.offsetWidth || !e.offsetHeight) && e !== document.body);return e
            }
            function St(e) {
                var t = e.getBoundingClientRect();
                return {
                    x: t.width / e.offsetWidth || 1,
                    y: t.height / e.offsetHeight || 1,
                    boundingClientRect: t
                }
            }
            var Tt = (Object.freeze || Object)({
                TRANSFORM: Je,
                TRANSITION: et,
                TRANSITION_END: tt,
                get: it,
                getStyle: at,
                create: nt,
                remove: rt,
                empty: st,
                toFront: ot,
                toBack: lt,
                hasClass: ct,
                addClass: ht,
                removeClass: dt,
                setClass: pt,
                getClass: ut,
                setOpacity: mt,
                testProp: gt,
                setTransform: ft,
                setPosition: vt,
                getPosition: yt,
                disableTextSelection: je,
                enableTextSelection: $e,
                disableImageDrag: _t,
                enableImageDrag: bt,
                preventOutline: Ct,
                restoreOutline: wt,
                getSizedParentNode: xt,
                getScale: St
            });
            function Et(e, t, i, a) {
                if ("object" === typeof t)
                    for (var n in t)
                        Pt(e, n, t[n], i);
                else {
                    t = p(t);
                    for (var r = 0, s = t.length; r < s; r++)
                        Pt(e, t[r], i, a)
                }
                return this
            }
            var Lt = "_leaflet_events";
            function kt(e, t, i, a) {
                if ("object" === typeof t)
                    for (var n in t)
                        zt(e, n, t[n], i);
                else if (t) {
                    t = p(t);
                    for (var r = 0, s = t.length; r < s; r++)
                        zt(e, t[r], i, a)
                } else {
                    for (var o in e[Lt])
                        zt(e, o, e[Lt][o]);
                    delete e[Lt]
                }
                return this
            }
            function Pt(e, t, i, a) {
                var n = t + s(i) + (a ? "_" + s(a) : "");
                if (e[Lt] && e[Lt][n])
                    return this;
                var r = function(t) {
                    return i.call(a || e, t || window.event)
                }
                  , o = r;
                _e && 0 === t.indexOf("touch") ? Ne(e, t, r, n) : !be || "dblclick" !== t || !We || _e && se ? "addEventListener"in e ? "mousewheel" === t ? e.addEventListener("onwheel"in e ? "wheel" : "mousewheel", r, !1) : "mouseenter" === t || "mouseleave" === t ? (r = function(t) {
                    t = t || window.event,
                    Qt(e, t) && o(t)
                }
                ,
                e.addEventListener("mouseenter" === t ? "mouseover" : "mouseout", r, !1)) : ("click" === t && te && (r = function(e) {
                    !function(e, t) {
                        var i = e.timeStamp || e.originalEvent && e.originalEvent.timeStamp
                          , a = Ft && i - Ft;
                        a && a > 100 && a < 500 || e.target._simulatedClick && !e._simulated ? Ot(e) : (Ft = i,
                        t(e))
                    }(e, o)
                }
                ),
                e.addEventListener(t, r, !1)) : "attachEvent"in e && e.attachEvent("on" + t, r) : We(e, r, n),
                e[Lt] = e[Lt] || {},
                e[Lt][n] = r
            }
            function zt(e, t, i, a) {
                var n = t + s(i) + (a ? "_" + s(a) : "")
                  , r = e[Lt] && e[Lt][n];
                if (!r)
                    return this;
                _e && 0 === t.indexOf("touch") ? function(e, t, i) {
                    var a = e["_leaflet_" + t + i];
                    "touchstart" === t ? e.removeEventListener(Pe, a, !1) : "touchmove" === t ? e.removeEventListener(ze, a, !1) : "touchend" === t && (e.removeEventListener(Ie, a, !1),
                    e.removeEventListener(De, a, !1))
                }(e, t, n) : !be || "dblclick" !== t || !Ye || _e && se ? "removeEventListener"in e ? "mousewheel" === t ? e.removeEventListener("onwheel"in e ? "wheel" : "mousewheel", r, !1) : e.removeEventListener("mouseenter" === t ? "mouseover" : "mouseleave" === t ? "mouseout" : t, r, !1) : "detachEvent"in e && e.detachEvent("on" + t, r) : Ye(e, n),
                e[Lt][n] = null
            }
            function It(e) {
                return e.stopPropagation ? e.stopPropagation() : e.originalEvent ? e.originalEvent._stopped = !0 : e.cancelBubble = !0,
                Ut(e),
                this
            }
            function Dt(e) {
                return Pt(e, "mousewheel", It),
                this
            }
            function Mt(e) {
                return Et(e, "mousedown touchstart dblclick", It),
                Pt(e, "click", Ht),
                this
            }
            function Bt(e) {
                return e.preventDefault ? e.preventDefault() : e.returnValue = !1,
                this
            }
            function Ot(e) {
                return Bt(e),
                It(e),
                this
            }
            function Rt(e, t) {
                if (!t)
                    return new I(e.clientX,e.clientY);
                var i = St(t)
                  , a = i.boundingClientRect;
                return new I((e.clientX - a.left) / i.x - t.clientLeft,(e.clientY - a.top) / i.y - t.clientTop)
            }
            var Nt = de && se ? 2 * window.devicePixelRatio : oe ? window.devicePixelRatio : 1;
            function Vt(e) {
                return J ? e.wheelDeltaY / 2 : e.deltaY && 0 === e.deltaMode ? -e.deltaY / Nt : e.deltaY && 1 === e.deltaMode ? 20 * -e.deltaY : e.deltaY && 2 === e.deltaMode ? 60 * -e.deltaY : e.deltaX || e.deltaZ ? 0 : e.wheelDelta ? (e.wheelDeltaY || e.wheelDelta) / 2 : e.detail && Math.abs(e.detail) < 32765 ? 20 * -e.detail : e.detail ? e.detail / -32765 * 60 : 0
            }
            var Ft, Gt = {};
            function Ht(e) {
                Gt[e.type] = !0
            }
            function Ut(e) {
                var t = Gt[e.type];
                return Gt[e.type] = !1,
                t
            }
            function Qt(e, t) {
                var i = t.relatedTarget;
                if (!i)
                    return !0;
                try {
                    for (; i && i !== e; )
                        i = i.parentNode
                } catch (a) {
                    return !1
                }
                return i !== e
            }
            var Kt = (Object.freeze || Object)({
                on: Et,
                off: kt,
                stopPropagation: It,
                disableScrollPropagation: Dt,
                disableClickPropagation: Mt,
                preventDefault: Bt,
                stop: Ot,
                getMousePosition: Rt,
                getWheelDelta: Vt,
                fakeStop: Ht,
                skipped: Ut,
                isExternalTarget: Qt,
                addListener: Et,
                removeListener: kt
            })
              , Wt = z.extend({
                run: function(e, t, i, a) {
                    this.stop(),
                    this._el = e,
                    this._inProgress = !0,
                    this._duration = i || .25,
                    this._easeOutPower = 1 / Math.max(a || .5, .2),
                    this._startPos = yt(e),
                    this._offset = t.subtract(this._startPos),
                    this._startTime = +new Date,
                    this.fire("start"),
                    this._animate()
                },
                stop: function() {
                    this._inProgress && (this._step(!0),
                    this._complete())
                },
                _animate: function() {
                    this._animId = S(this._animate, this),
                    this._step()
                },
                _step: function(e) {
                    var t = +new Date - this._startTime
                      , i = 1e3 * this._duration;
                    t < i ? this._runFrame(this._easeOut(t / i), e) : (this._runFrame(1),
                    this._complete())
                },
                _runFrame: function(e, t) {
                    var i = this._startPos.add(this._offset.multiplyBy(e));
                    t && i._round(),
                    vt(this._el, i),
                    this.fire("step")
                },
                _complete: function() {
                    T(this._animId),
                    this._inProgress = !1,
                    this.fire("end")
                },
                _easeOut: function(e) {
                    return 1 - Math.pow(1 - e, this._easeOutPower)
                }
            })
              , Yt = z.extend({
                options: {
                    crs: W,
                    center: void 0,
                    zoom: void 0,
                    minZoom: void 0,
                    maxZoom: void 0,
                    layers: [],
                    maxBounds: void 0,
                    renderer: void 0,
                    zoomAnimation: !0,
                    zoomAnimationThreshold: 4,
                    fadeAnimation: !0,
                    markerZoomAnimation: !0,
                    transform3DLimit: 8388608,
                    zoomSnap: 1,
                    zoomDelta: 1,
                    trackResize: !0
                },
                initialize: function(e, t) {
                    t = u(this, t),
                    this._handlers = [],
                    this._layers = {},
                    this._zoomBoundLayers = {},
                    this._sizeChanged = !0,
                    this._initContainer(e),
                    this._initLayout(),
                    this._onResize = n(this._onResize, this),
                    this._initEvents(),
                    t.maxBounds && this.setMaxBounds(t.maxBounds),
                    void 0 !== t.zoom && (this._zoom = this._limitZoom(t.zoom)),
                    t.center && void 0 !== t.zoom && this.setView(F(t.center), t.zoom, {
                        reset: !0
                    }),
                    this.callInitHooks(),
                    this._zoomAnimated = et && ge && !Ce && this.options.zoomAnimation,
                    this._zoomAnimated && (this._createAnimProxy(),
                    Et(this._proxy, tt, this._catchTransitionEnd, this)),
                    this._addLayers(this.options.layers)
                },
                setView: function(e, t, a) {
                    if (t = void 0 === t ? this._zoom : this._limitZoom(t),
                    e = this._limitCenter(F(e), t, this.options.maxBounds),
                    a = a || {},
                    this._stop(),
                    this._loaded && !a.reset && !0 !== a) {
                        void 0 !== a.animate && (a.zoom = i({
                            animate: a.animate
                        }, a.zoom),
                        a.pan = i({
                            animate: a.animate,
                            duration: a.duration
                        }, a.pan));
                        var n = this._zoom !== t ? this._tryAnimatedZoom && this._tryAnimatedZoom(e, t, a.zoom) : this._tryAnimatedPan(e, a.pan);
                        if (n)
                            return clearTimeout(this._sizeTimer),
                            this
                    }
                    return this._resetView(e, t),
                    this
                },
                setZoom: function(e, t) {
                    return this._loaded ? this.setView(this.getCenter(), e, {
                        zoom: t
                    }) : (this._zoom = e,
                    this)
                },
                zoomIn: function(e, t) {
                    return e = e || (ge ? this.options.zoomDelta : 1),
                    this.setZoom(this._zoom + e, t)
                },
                zoomOut: function(e, t) {
                    return e = e || (ge ? this.options.zoomDelta : 1),
                    this.setZoom(this._zoom - e, t)
                },
                setZoomAround: function(e, t, i) {
                    var a = this.getZoomScale(t)
                      , n = this.getSize().divideBy(2)
                      , r = e instanceof I ? e : this.latLngToContainerPoint(e)
                      , s = r.subtract(n).multiplyBy(1 - 1 / a)
                      , o = this.containerPointToLatLng(n.add(s));
                    return this.setView(o, t, {
                        zoom: i
                    })
                },
                _getBoundsCenterZoom: function(e, t) {
                    t = t || {},
                    e = e.getBounds ? e.getBounds() : N(e);
                    var i = M(t.paddingTopLeft || t.padding || [0, 0])
                      , a = M(t.paddingBottomRight || t.padding || [0, 0])
                      , n = this.getBoundsZoom(e, !1, i.add(a));
                    if ((n = "number" === typeof t.maxZoom ? Math.min(t.maxZoom, n) : n) === 1 / 0)
                        return {
                            center: e.getCenter(),
                            zoom: n
                        };
                    var r = a.subtract(i).divideBy(2)
                      , s = this.project(e.getSouthWest(), n)
                      , o = this.project(e.getNorthEast(), n)
                      , l = this.unproject(s.add(o).divideBy(2).add(r), n);
                    return {
                        center: l,
                        zoom: n
                    }
                },
                fitBounds: function(e, t) {
                    if (!(e = N(e)).isValid())
                        throw new Error("Bounds are not valid.");
                    var i = this._getBoundsCenterZoom(e, t);
                    return this.setView(i.center, i.zoom, t)
                },
                fitWorld: function(e) {
                    return this.fitBounds([[-90, -180], [90, 180]], e)
                },
                panTo: function(e, t) {
                    return this.setView(e, this._zoom, {
                        pan: t
                    })
                },
                panBy: function(e, t) {
                    if (e = M(e).round(),
                    t = t || {},
                    !e.x && !e.y)
                        return this.fire("moveend");
                    if (!0 !== t.animate && !this.getSize().contains(e))
                        return this._resetView(this.unproject(this.project(this.getCenter()).add(e)), this.getZoom()),
                        this;
                    if (this._panAnim || (this._panAnim = new Wt,
                    this._panAnim.on({
                        step: this._onPanTransitionStep,
                        end: this._onPanTransitionEnd
                    }, this)),
                    t.noMoveStart || this.fire("movestart"),
                    !1 !== t.animate) {
                        ht(this._mapPane, "leaflet-pan-anim");
                        var i = this._getMapPanePos().subtract(e).round();
                        this._panAnim.run(this._mapPane, i, t.duration || .25, t.easeLinearity)
                    } else
                        this._rawPanBy(e),
                        this.fire("move").fire("moveend");
                    return this
                },
                flyTo: function(e, t, i) {
                    if (!1 === (i = i || {}).animate || !ge)
                        return this.setView(e, t, i);
                    this._stop();
                    var a = this.project(this.getCenter())
                      , n = this.project(e)
                      , r = this.getSize()
                      , s = this._zoom;
                    e = F(e),
                    t = void 0 === t ? s : t;
                    var o = Math.max(r.x, r.y)
                      , l = o * this.getZoomScale(s, t)
                      , c = n.distanceTo(a) || 1
                      , h = 1.42
                      , d = h * h;
                    function p(e) {
                        var t = e ? -1 : 1
                          , i = e ? l : o
                          , a = l * l - o * o + t * d * d * c * c
                          , n = 2 * i * d * c
                          , r = a / n
                          , s = Math.sqrt(r * r + 1) - r
                          , h = s < 1e-9 ? -18 : Math.log(s);
                        return h
                    }
                    function u(e) {
                        return (Math.exp(e) - Math.exp(-e)) / 2
                    }
                    function m(e) {
                        return (Math.exp(e) + Math.exp(-e)) / 2
                    }
                    var g = p(0);
                    function f(e) {
                        return o * (m(g) * (u(t = g + h * e) / m(t)) - u(g)) / d;
                        var t
                    }
                    var v = Date.now()
                      , y = (p(1) - g) / h
                      , A = i.duration ? 1e3 * i.duration : 1e3 * y * .8;
                    return this._moveStart(!0, i.noMoveStart),
                    function i() {
                        var r = (Date.now() - v) / A
                          , l = function(e) {
                            return 1 - Math.pow(1 - e, 1.5)
                        }(r) * y;
                        r <= 1 ? (this._flyToFrame = S(i, this),
                        this._move(this.unproject(a.add(n.subtract(a).multiplyBy(f(l) / c)), s), this.getScaleZoom(o / function(e) {
                            return o * (m(g) / m(g + h * e))
                        }(l), s), {
                            flyTo: !0
                        })) : this._move(e, t)._moveEnd(!0)
                    }
                    .call(this),
                    this
                },
                flyToBounds: function(e, t) {
                    var i = this._getBoundsCenterZoom(e, t);
                    return this.flyTo(i.center, i.zoom, t)
                },
                setMaxBounds: function(e) {
                    return (e = N(e)).isValid() ? (this.options.maxBounds && this.off("moveend", this._panInsideMaxBounds),
                    this.options.maxBounds = e,
                    this._loaded && this._panInsideMaxBounds(),
                    this.on("moveend", this._panInsideMaxBounds)) : (this.options.maxBounds = null,
                    this.off("moveend", this._panInsideMaxBounds))
                },
                setMinZoom: function(e) {
                    var t = this.options.minZoom;
                    return this.options.minZoom = e,
                    this._loaded && t !== e && (this.fire("zoomlevelschange"),
                    this.getZoom() < this.options.minZoom) ? this.setZoom(e) : this
                },
                setMaxZoom: function(e) {
                    var t = this.options.maxZoom;
                    return this.options.maxZoom = e,
                    this._loaded && t !== e && (this.fire("zoomlevelschange"),
                    this.getZoom() > this.options.maxZoom) ? this.setZoom(e) : this
                },
                panInsideBounds: function(e, t) {
                    this._enforcingBounds = !0;
                    var i = this.getCenter()
                      , a = this._limitCenter(i, this._zoom, N(e));
                    return i.equals(a) || this.panTo(a, t),
                    this._enforcingBounds = !1,
                    this
                },
                panInside: function(e, t) {
                    var i = M((t = t || {}).paddingTopLeft || t.padding || [0, 0])
                      , a = M(t.paddingBottomRight || t.padding || [0, 0])
                      , n = this.getCenter()
                      , r = this.project(n)
                      , s = this.project(e)
                      , o = this.getPixelBounds()
                      , l = o.getSize().divideBy(2)
                      , c = O([o.min.add(i), o.max.subtract(a)]);
                    if (!c.contains(s)) {
                        this._enforcingBounds = !0;
                        var h = r.subtract(s)
                          , d = M(s.x + h.x, s.y + h.y);
                        (s.x < c.min.x || s.x > c.max.x) && (d.x = r.x - h.x,
                        h.x > 0 ? d.x += l.x - i.x : d.x -= l.x - a.x),
                        (s.y < c.min.y || s.y > c.max.y) && (d.y = r.y - h.y,
                        h.y > 0 ? d.y += l.y - i.y : d.y -= l.y - a.y),
                        this.panTo(this.unproject(d), t),
                        this._enforcingBounds = !1
                    }
                    return this
                },
                invalidateSize: function(e) {
                    if (!this._loaded)
                        return this;
                    e = i({
                        animate: !1,
                        pan: !0
                    }, !0 === e ? {
                        animate: !0
                    } : e);
                    var t = this.getSize();
                    this._sizeChanged = !0,
                    this._lastCenter = null;
                    var a = this.getSize()
                      , r = t.divideBy(2).round()
                      , s = a.divideBy(2).round()
                      , o = r.subtract(s);
                    return o.x || o.y ? (e.animate && e.pan ? this.panBy(o) : (e.pan && this._rawPanBy(o),
                    this.fire("move"),
                    e.debounceMoveend ? (clearTimeout(this._sizeTimer),
                    this._sizeTimer = setTimeout(n(this.fire, this, "moveend"), 200)) : this.fire("moveend")),
                    this.fire("resize", {
                        oldSize: t,
                        newSize: a
                    })) : this
                },
                stop: function() {
                    return this.setZoom(this._limitZoom(this._zoom)),
                    this.options.zoomSnap || this.fire("viewreset"),
                    this._stop()
                },
                locate: function(e) {
                    if (e = this._locateOptions = i({
                        timeout: 1e4,
                        watch: !1
                    }, e),
                    !("geolocation"in navigator))
                        return this._handleGeolocationError({
                            code: 0,
                            message: "Geolocation not supported."
                        }),
                        this;
                    var t = n(this._handleGeolocationResponse, this)
                      , a = n(this._handleGeolocationError, this);
                    return e.watch ? this._locationWatchId = navigator.geolocation.watchPosition(t, a, e) : navigator.geolocation.getCurrentPosition(t, a, e),
                    this
                },
                stopLocate: function() {
                    return navigator.geolocation && navigator.geolocation.clearWatch && navigator.geolocation.clearWatch(this._locationWatchId),
                    this._locateOptions && (this._locateOptions.setView = !1),
                    this
                },
                _handleGeolocationError: function(e) {
                    var t = e.code
                      , i = e.message || (1 === t ? "permission denied" : 2 === t ? "position unavailable" : "timeout");
                    this._locateOptions.setView && !this._loaded && this.fitWorld(),
                    this.fire("locationerror", {
                        code: t,
                        message: "Geolocation error: " + i + "."
                    })
                },
                _handleGeolocationResponse: function(e) {
                    var t = e.coords.latitude
                      , i = e.coords.longitude
                      , a = new V(t,i)
                      , n = a.toBounds(2 * e.coords.accuracy)
                      , r = this._locateOptions;
                    if (r.setView) {
                        var s = this.getBoundsZoom(n);
                        this.setView(a, r.maxZoom ? Math.min(s, r.maxZoom) : s)
                    }
                    var o = {
                        latlng: a,
                        bounds: n,
                        timestamp: e.timestamp
                    };
                    for (var l in e.coords)
                        "number" === typeof e.coords[l] && (o[l] = e.coords[l]);
                    this.fire("locationfound", o)
                },
                addHandler: function(e, t) {
                    if (!t)
                        return this;
                    var i = this[e] = new t(this);
                    return this._handlers.push(i),
                    this.options[e] && i.enable(),
                    this
                },
                remove: function() {
                    if (this._initEvents(!0),
                    this._containerId !== this._container._leaflet_id)
                        throw new Error("Map container is being reused by another instance");
                    try {
                        delete this._container._leaflet_id,
                        delete this._containerId
                    } catch (t) {
                        this._container._leaflet_id = void 0,
                        this._containerId = void 0
                    }
                    var e;
                    for (e in void 0 !== this._locationWatchId && this.stopLocate(),
                    this._stop(),
                    rt(this._mapPane),
                    this._clearControlPos && this._clearControlPos(),
                    this._resizeRequest && (T(this._resizeRequest),
                    this._resizeRequest = null),
                    this._clearHandlers(),
                    this._loaded && this.fire("unload"),
                    this._layers)
                        this._layers[e].remove();
                    for (e in this._panes)
                        rt(this._panes[e]);
                    return this._layers = [],
                    this._panes = [],
                    delete this._mapPane,
                    delete this._renderer,
                    this
                },
                createPane: function(e, t) {
                    var i = "leaflet-pane" + (e ? " leaflet-" + e.replace("Pane", "") + "-pane" : "")
                      , a = nt("div", i, t || this._mapPane);
                    return e && (this._panes[e] = a),
                    a
                },
                getCenter: function() {
                    return this._checkIfLoaded(),
                    this._lastCenter && !this._moved() ? this._lastCenter : this.layerPointToLatLng(this._getCenterLayerPoint())
                },
                getZoom: function() {
                    return this._zoom
                },
                getBounds: function() {
                    var e = this.getPixelBounds()
                      , t = this.unproject(e.getBottomLeft())
                      , i = this.unproject(e.getTopRight());
                    return new R(t,i)
                },
                getMinZoom: function() {
                    return void 0 === this.options.minZoom ? this._layersMinZoom || 0 : this.options.minZoom
                },
                getMaxZoom: function() {
                    return void 0 === this.options.maxZoom ? void 0 === this._layersMaxZoom ? 1 / 0 : this._layersMaxZoom : this.options.maxZoom
                },
                getBoundsZoom: function(e, t, i) {
                    e = N(e),
                    i = M(i || [0, 0]);
                    var a = this.getZoom() || 0
                      , n = this.getMinZoom()
                      , r = this.getMaxZoom()
                      , s = e.getNorthWest()
                      , o = e.getSouthEast()
                      , l = this.getSize().subtract(i)
                      , c = O(this.project(o, a), this.project(s, a)).getSize()
                      , h = ge ? this.options.zoomSnap : 1
                      , d = l.x / c.x
                      , p = l.y / c.y
                      , u = t ? Math.max(d, p) : Math.min(d, p);
                    return a = this.getScaleZoom(u, a),
                    h && (a = Math.round(a / (h / 100)) * (h / 100),
                    a = t ? Math.ceil(a / h) * h : Math.floor(a / h) * h),
                    Math.max(n, Math.min(r, a))
                },
                getSize: function() {
                    return this._size && !this._sizeChanged || (this._size = new I(this._container.clientWidth || 0,this._container.clientHeight || 0),
                    this._sizeChanged = !1),
                    this._size.clone()
                },
                getPixelBounds: function(e, t) {
                    var i = this._getTopLeftPoint(e, t);
                    return new B(i,i.add(this.getSize()))
                },
                getPixelOrigin: function() {
                    return this._checkIfLoaded(),
                    this._pixelOrigin
                },
                getPixelWorldBounds: function(e) {
                    return this.options.crs.getProjectedBounds(void 0 === e ? this.getZoom() : e)
                },
                getPane: function(e) {
                    return "string" === typeof e ? this._panes[e] : e
                },
                getPanes: function() {
                    return this._panes
                },
                getContainer: function() {
                    return this._container
                },
                getZoomScale: function(e, t) {
                    var i = this.options.crs;
                    return t = void 0 === t ? this._zoom : t,
                    i.scale(e) / i.scale(t)
                },
                getScaleZoom: function(e, t) {
                    var i = this.options.crs;
                    t = void 0 === t ? this._zoom : t;
                    var a = i.zoom(e * i.scale(t));
                    return isNaN(a) ? 1 / 0 : a
                },
                project: function(e, t) {
                    return t = void 0 === t ? this._zoom : t,
                    this.options.crs.latLngToPoint(F(e), t)
                },
                unproject: function(e, t) {
                    return t = void 0 === t ? this._zoom : t,
                    this.options.crs.pointToLatLng(M(e), t)
                },
                layerPointToLatLng: function(e) {
                    var t = M(e).add(this.getPixelOrigin());
                    return this.unproject(t)
                },
                latLngToLayerPoint: function(e) {
                    var t = this.project(F(e))._round();
                    return t._subtract(this.getPixelOrigin())
                },
                wrapLatLng: function(e) {
                    return this.options.crs.wrapLatLng(F(e))
                },
                wrapLatLngBounds: function(e) {
                    return this.options.crs.wrapLatLngBounds(N(e))
                },
                distance: function(e, t) {
                    return this.options.crs.distance(F(e), F(t))
                },
                containerPointToLayerPoint: function(e) {
                    return M(e).subtract(this._getMapPanePos())
                },
                layerPointToContainerPoint: function(e) {
                    return M(e).add(this._getMapPanePos())
                },
                containerPointToLatLng: function(e) {
                    var t = this.containerPointToLayerPoint(M(e));
                    return this.layerPointToLatLng(t)
                },
                latLngToContainerPoint: function(e) {
                    return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(e)))
                },
                mouseEventToContainerPoint: function(e) {
                    return Rt(e, this._container)
                },
                mouseEventToLayerPoint: function(e) {
                    return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))
                },
                mouseEventToLatLng: function(e) {
                    return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))
                },
                _initContainer: function(e) {
                    var t = this._container = it(e);
                    if (!t)
                        throw new Error("Map container not found.");
                    if (t._leaflet_id)
                        throw new Error("Map container is already initialized.");
                    Et(t, "scroll", this._onScroll, this),
                    this._containerId = s(t)
                },
                _initLayout: function() {
                    var e = this._container;
                    this._fadeAnimated = this.options.fadeAnimation && ge,
                    ht(e, "leaflet-container" + (be ? " leaflet-touch" : "") + (xe ? " leaflet-retina" : "") + (X ? " leaflet-oldie" : "") + (le ? " leaflet-safari" : "") + (this._fadeAnimated ? " leaflet-fade-anim" : ""));
                    var t = at(e, "position");
                    "absolute" !== t && "relative" !== t && "fixed" !== t && (e.style.position = "relative"),
                    this._initPanes(),
                    this._initControlPos && this._initControlPos()
                },
                _initPanes: function() {
                    var e = this._panes = {};
                    this._paneRenderers = {},
                    this._mapPane = this.createPane("mapPane", this._container),
                    vt(this._mapPane, new I(0,0)),
                    this.createPane("tilePane"),
                    this.createPane("shadowPane"),
                    this.createPane("overlayPane"),
                    this.createPane("markerPane"),
                    this.createPane("tooltipPane"),
                    this.createPane("popupPane"),
                    this.options.markerZoomAnimation || (ht(e.markerPane, "leaflet-zoom-hide"),
                    ht(e.shadowPane, "leaflet-zoom-hide"))
                },
                _resetView: function(e, t) {
                    vt(this._mapPane, new I(0,0));
                    var i = !this._loaded;
                    this._loaded = !0,
                    t = this._limitZoom(t),
                    this.fire("viewprereset");
                    var a = this._zoom !== t;
                    this._moveStart(a, !1)._move(e, t)._moveEnd(a),
                    this.fire("viewreset"),
                    i && this.fire("load")
                },
                _moveStart: function(e, t) {
                    return e && this.fire("zoomstart"),
                    t || this.fire("movestart"),
                    this
                },
                _move: function(e, t, i) {
                    void 0 === t && (t = this._zoom);
                    var a = this._zoom !== t;
                    return this._zoom = t,
                    this._lastCenter = e,
                    this._pixelOrigin = this._getNewPixelOrigin(e),
                    (a || i && i.pinch) && this.fire("zoom", i),
                    this.fire("move", i)
                },
                _moveEnd: function(e) {
                    return e && this.fire("zoomend"),
                    this.fire("moveend")
                },
                _stop: function() {
                    return T(this._flyToFrame),
                    this._panAnim && this._panAnim.stop(),
                    this
                },
                _rawPanBy: function(e) {
                    vt(this._mapPane, this._getMapPanePos().subtract(e))
                },
                _getZoomSpan: function() {
                    return this.getMaxZoom() - this.getMinZoom()
                },
                _panInsideMaxBounds: function() {
                    this._enforcingBounds || this.panInsideBounds(this.options.maxBounds)
                },
                _checkIfLoaded: function() {
                    if (!this._loaded)
                        throw new Error("Set map center and zoom first.")
                },
                _initEvents: function(e) {
                    this._targets = {},
                    this._targets[s(this._container)] = this;
                    var t = e ? kt : Et;
                    t(this._container, "click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup", this._handleDOMEvent, this),
                    this.options.trackResize && t(window, "resize", this._onResize, this),
                    ge && this.options.transform3DLimit && (e ? this.off : this.on).call(this, "moveend", this._onMoveEnd)
                },
                _onResize: function() {
                    T(this._resizeRequest),
                    this._resizeRequest = S(function() {
                        this.invalidateSize({
                            debounceMoveend: !0
                        })
                    }, this)
                },
                _onScroll: function() {
                    this._container.scrollTop = 0,
                    this._container.scrollLeft = 0
                },
                _onMoveEnd: function() {
                    var e = this._getMapPanePos();
                    Math.max(Math.abs(e.x), Math.abs(e.y)) >= this.options.transform3DLimit && this._resetView(this.getCenter(), this.getZoom())
                },
                _findEventTargets: function(e, t) {
                    for (var i, a = [], n = "mouseout" === t || "mouseover" === t, r = e.target || e.srcElement, o = !1; r; ) {
                        if ((i = this._targets[s(r)]) && ("click" === t || "preclick" === t) && !e._simulated && this._draggableMoved(i)) {
                            o = !0;
                            break
                        }
                        if (i && i.listens(t, !0)) {
                            if (n && !Qt(r, e))
                                break;
                            if (a.push(i),
                            n)
                                break
                        }
                        if (r === this._container)
                            break;
                        r = r.parentNode
                    }
                    return a.length || o || n || !Qt(r, e) || (a = [this]),
                    a
                },
                _handleDOMEvent: function(e) {
                    if (this._loaded && !Ut(e)) {
                        var t = e.type;
                        "mousedown" !== t && "keypress" !== t && "keyup" !== t && "keydown" !== t || Ct(e.target || e.srcElement),
                        this._fireDOMEvent(e, t)
                    }
                },
                _mouseEvents: ["click", "dblclick", "mouseover", "mouseout", "contextmenu"],
                _fireDOMEvent: function(e, t, a) {
                    if ("click" === e.type) {
                        var n = i({}, e);
                        n.type = "preclick",
                        this._fireDOMEvent(n, n.type, a)
                    }
                    if (!e._stopped && (a = (a || []).concat(this._findEventTargets(e, t))).length) {
                        var r = a[0];
                        "contextmenu" === t && r.listens(t, !0) && Bt(e);
                        var s = {
                            originalEvent: e
                        };
                        if ("keypress" !== e.type && "keydown" !== e.type && "keyup" !== e.type) {
                            var o = r.getLatLng && (!r._radius || r._radius <= 10);
                            s.containerPoint = o ? this.latLngToContainerPoint(r.getLatLng()) : this.mouseEventToContainerPoint(e),
                            s.layerPoint = this.containerPointToLayerPoint(s.containerPoint),
                            s.latlng = o ? r.getLatLng() : this.layerPointToLatLng(s.layerPoint)
                        }
                        for (var l = 0; l < a.length; l++)
                            if (a[l].fire(t, s, !0),
                            s.originalEvent._stopped || !1 === a[l].options.bubblingMouseEvents && -1 !== y(this._mouseEvents, t))
                                return
                    }
                },
                _draggableMoved: function(e) {
                    return (e = e.dragging && e.dragging.enabled() ? e : this).dragging && e.dragging.moved() || this.boxZoom && this.boxZoom.moved()
                },
                _clearHandlers: function() {
                    for (var e = 0, t = this._handlers.length; e < t; e++)
                        this._handlers[e].disable()
                },
                whenReady: function(e, t) {
                    return this._loaded ? e.call(t || this, {
                        target: this
                    }) : this.on("load", e, t),
                    this
                },
                _getMapPanePos: function() {
                    return yt(this._mapPane) || new I(0,0)
                },
                _moved: function() {
                    var e = this._getMapPanePos();
                    return e && !e.equals([0, 0])
                },
                _getTopLeftPoint: function(e, t) {
                    var i = e && void 0 !== t ? this._getNewPixelOrigin(e, t) : this.getPixelOrigin();
                    return i.subtract(this._getMapPanePos())
                },
                _getNewPixelOrigin: function(e, t) {
                    var i = this.getSize()._divideBy(2);
                    return this.project(e, t)._subtract(i)._add(this._getMapPanePos())._round()
                },
                _latLngToNewLayerPoint: function(e, t, i) {
                    var a = this._getNewPixelOrigin(i, t);
                    return this.project(e, t)._subtract(a)
                },
                _latLngBoundsToNewLayerBounds: function(e, t, i) {
                    var a = this._getNewPixelOrigin(i, t);
                    return O([this.project(e.getSouthWest(), t)._subtract(a), this.project(e.getNorthWest(), t)._subtract(a), this.project(e.getSouthEast(), t)._subtract(a), this.project(e.getNorthEast(), t)._subtract(a)])
                },
                _getCenterLayerPoint: function() {
                    return this.containerPointToLayerPoint(this.getSize()._divideBy(2))
                },
                _getCenterOffset: function(e) {
                    return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())
                },
                _limitCenter: function(e, t, i) {
                    if (!i)
                        return e;
                    var a = this.project(e, t)
                      , n = this.getSize().divideBy(2)
                      , r = new B(a.subtract(n),a.add(n))
                      , s = this._getBoundsOffset(r, i, t);
                    return s.round().equals([0, 0]) ? e : this.unproject(a.add(s), t)
                },
                _limitOffset: function(e, t) {
                    if (!t)
                        return e;
                    var i = this.getPixelBounds()
                      , a = new B(i.min.add(e),i.max.add(e));
                    return e.add(this._getBoundsOffset(a, t))
                },
                _getBoundsOffset: function(e, t, i) {
                    var a = O(this.project(t.getNorthEast(), i), this.project(t.getSouthWest(), i))
                      , n = a.min.subtract(e.min)
                      , r = a.max.subtract(e.max)
                      , s = this._rebound(n.x, -r.x)
                      , o = this._rebound(n.y, -r.y);
                    return new I(s,o)
                },
                _rebound: function(e, t) {
                    return e + t > 0 ? Math.round(e - t) / 2 : Math.max(0, Math.ceil(e)) - Math.max(0, Math.floor(t))
                },
                _limitZoom: function(e) {
                    var t = this.getMinZoom()
                      , i = this.getMaxZoom()
                      , a = ge ? this.options.zoomSnap : 1;
                    return a && (e = Math.round(e / a) * a),
                    Math.max(t, Math.min(i, e))
                },
                _onPanTransitionStep: function() {
                    this.fire("move")
                },
                _onPanTransitionEnd: function() {
                    dt(this._mapPane, "leaflet-pan-anim"),
                    this.fire("moveend")
                },
                _tryAnimatedPan: function(e, t) {
                    var i = this._getCenterOffset(e)._trunc();
                    return !(!0 !== (t && t.animate) && !this.getSize().contains(i)) && (this.panBy(i, t),
                    !0)
                },
                _createAnimProxy: function() {
                    var e = this._proxy = nt("div", "leaflet-proxy leaflet-zoom-animated");
                    this._panes.mapPane.appendChild(e),
                    this.on("zoomanim", function(e) {
                        var t = Je
                          , i = this._proxy.style[t];
                        ft(this._proxy, this.project(e.center, e.zoom), this.getZoomScale(e.zoom, 1)),
                        i === this._proxy.style[t] && this._animatingZoom && this._onZoomTransitionEnd()
                    }, this),
                    this.on("load moveend", function() {
                        var e = this.getCenter()
                          , t = this.getZoom();
                        ft(this._proxy, this.project(e, t), this.getZoomScale(t, 1))
                    }, this),
                    this._on("unload", this._destroyAnimProxy, this)
                },
                _destroyAnimProxy: function() {
                    rt(this._proxy),
                    delete this._proxy
                },
                _catchTransitionEnd: function(e) {
                    this._animatingZoom && e.propertyName.indexOf("transform") >= 0 && this._onZoomTransitionEnd()
                },
                _nothingToAnimate: function() {
                    return !this._container.getElementsByClassName("leaflet-zoom-animated").length
                },
                _tryAnimatedZoom: function(e, t, i) {
                    if (this._animatingZoom)
                        return !0;
                    if (i = i || {},
                    !this._zoomAnimated || !1 === i.animate || this._nothingToAnimate() || Math.abs(t - this._zoom) > this.options.zoomAnimationThreshold)
                        return !1;
                    var a = this.getZoomScale(t)
                      , n = this._getCenterOffset(e)._divideBy(1 - 1 / a);
                    return !(!0 !== i.animate && !this.getSize().contains(n)) && (S(function() {
                        this._moveStart(!0, !1)._animateZoom(e, t, !0)
                    }, this),
                    !0)
                },
                _animateZoom: function(e, t, i, a) {
                    this._mapPane && (i && (this._animatingZoom = !0,
                    this._animateToCenter = e,
                    this._animateToZoom = t,
                    ht(this._mapPane, "leaflet-zoom-anim")),
                    this.fire("zoomanim", {
                        center: e,
                        zoom: t,
                        noUpdate: a
                    }),
                    setTimeout(n(this._onZoomTransitionEnd, this), 250))
                },
                _onZoomTransitionEnd: function() {
                    this._animatingZoom && (this._mapPane && dt(this._mapPane, "leaflet-zoom-anim"),
                    this._animatingZoom = !1,
                    this._move(this._animateToCenter, this._animateToZoom),
                    S(function() {
                        this._moveEnd(!0)
                    }, this))
                }
            })
              , jt = k.extend({
                options: {
                    position: "topright"
                },
                initialize: function(e) {
                    u(this, e)
                },
                getPosition: function() {
                    return this.options.position
                },
                setPosition: function(e) {
                    var t = this._map;
                    return t && t.removeControl(this),
                    this.options.position = e,
                    t && t.addControl(this),
                    this
                },
                getContainer: function() {
                    return this._container
                },
                addTo: function(e) {
                    this.remove(),
                    this._map = e;
                    var t = this._container = this.onAdd(e)
                      , i = this.getPosition()
                      , a = e._controlCorners[i];
                    return ht(t, "leaflet-control"),
                    -1 !== i.indexOf("bottom") ? a.insertBefore(t, a.firstChild) : a.appendChild(t),
                    this._map.on("unload", this.remove, this),
                    this
                },
                remove: function() {
                    return this._map ? (rt(this._container),
                    this.onRemove && this.onRemove(this._map),
                    this._map.off("unload", this.remove, this),
                    this._map = null,
                    this) : this
                },
                _refocusOnMap: function(e) {
                    this._map && e && e.screenX > 0 && e.screenY > 0 && this._map.getContainer().focus()
                }
            })
              , $t = function(e) {
                return new jt(e)
            };
            Yt.include({
                addControl: function(e) {
                    return e.addTo(this),
                    this
                },
                removeControl: function(e) {
                    return e.remove(),
                    this
                },
                _initControlPos: function() {
                    var e = this._controlCorners = {}
                      , t = "leaflet-"
                      , i = this._controlContainer = nt("div", t + "control-container", this._container);
                    function a(a, n) {
                        var r = t + a + " " + t + n;
                        e[a + n] = nt("div", r, i)
                    }
                    a("top", "left"),
                    a("top", "right"),
                    a("bottom", "left"),
                    a("bottom", "right")
                },
                _clearControlPos: function() {
                    for (var e in this._controlCorners)
                        rt(this._controlCorners[e]);
                    rt(this._controlContainer),
                    delete this._controlCorners,
                    delete this._controlContainer
                }
            });
            var Zt = jt.extend({
                options: {
                    collapsed: !0,
                    position: "topright",
                    autoZIndex: !0,
                    hideSingleBase: !1,
                    sortLayers: !1,
                    sortFunction: function(e, t, i, a) {
                        return i < a ? -1 : a < i ? 1 : 0
                    }
                },
                initialize: function(e, t, i) {
                    for (var a in u(this, i),
                    this._layerControlInputs = [],
                    this._layers = [],
                    this._lastZIndex = 0,
                    this._handlingClick = !1,
                    e)
                        this._addLayer(e[a], a);
                    for (a in t)
                        this._addLayer(t[a], a, !0)
                },
                onAdd: function(e) {
                    this._initLayout(),
                    this._update(),
                    this._map = e,
                    e.on("zoomend", this._checkDisabledLayers, this);
                    for (var t = 0; t < this._layers.length; t++)
                        this._layers[t].layer.on("add remove", this._onLayerChange, this);
                    return this._container
                },
                addTo: function(e) {
                    return jt.prototype.addTo.call(this, e),
                    this._expandIfNotCollapsed()
                },
                onRemove: function() {
                    this._map.off("zoomend", this._checkDisabledLayers, this);
                    for (var e = 0; e < this._layers.length; e++)
                        this._layers[e].layer.off("add remove", this._onLayerChange, this)
                },
                addBaseLayer: function(e, t) {
                    return this._addLayer(e, t),
                    this._map ? this._update() : this
                },
                addOverlay: function(e, t) {
                    return this._addLayer(e, t, !0),
                    this._map ? this._update() : this
                },
                removeLayer: function(e) {
                    e.off("add remove", this._onLayerChange, this);
                    var t = this._getLayer(s(e));
                    return t && this._layers.splice(this._layers.indexOf(t), 1),
                    this._map ? this._update() : this
                },
                expand: function() {
                    ht(this._container, "leaflet-control-layers-expanded"),
                    this._section.style.height = null;
                    var e = this._map.getSize().y - (this._container.offsetTop + 50);
                    return e < this._section.clientHeight ? (ht(this._section, "leaflet-control-layers-scrollbar"),
                    this._section.style.height = e + "px") : dt(this._section, "leaflet-control-layers-scrollbar"),
                    this._checkDisabledLayers(),
                    this
                },
                collapse: function() {
                    return dt(this._container, "leaflet-control-layers-expanded"),
                    this
                },
                _initLayout: function() {
                    var e = "leaflet-control-layers"
                      , t = this._container = nt("div", e)
                      , i = this.options.collapsed;
                    t.setAttribute("aria-haspopup", !0),
                    Mt(t),
                    Dt(t);
                    var a = this._section = nt("section", e + "-list");
                    i && (this._map.on("click", this.collapse, this),
                    te || Et(t, {
                        mouseenter: this.expand,
                        mouseleave: this.collapse
                    }, this));
                    var n = this._layersLink = nt("a", e + "-toggle", t);
                    n.href = "#",
                    n.title = "Layers",
                    be ? (Et(n, "click", Ot),
                    Et(n, "click", this.expand, this)) : Et(n, "focus", this.expand, this),
                    i || this.expand(),
                    this._baseLayersList = nt("div", e + "-base", a),
                    this._separator = nt("div", e + "-separator", a),
                    this._overlaysList = nt("div", e + "-overlays", a),
                    t.appendChild(a)
                },
                _getLayer: function(e) {
                    for (var t = 0; t < this._layers.length; t++)
                        if (this._layers[t] && s(this._layers[t].layer) === e)
                            return this._layers[t]
                },
                _addLayer: function(e, t, i) {
                    this._map && e.on("add remove", this._onLayerChange, this),
                    this._layers.push({
                        layer: e,
                        name: t,
                        overlay: i
                    }),
                    this.options.sortLayers && this._layers.sort(n(function(e, t) {
                        return this.options.sortFunction(e.layer, t.layer, e.name, t.name)
                    }, this)),
                    this.options.autoZIndex && e.setZIndex && (this._lastZIndex++,
                    e.setZIndex(this._lastZIndex)),
                    this._expandIfNotCollapsed()
                },
                _update: function() {
                    if (!this._container)
                        return this;
                    st(this._baseLayersList),
                    st(this._overlaysList),
                    this._layerControlInputs = [];
                    var e, t, i, a, n = 0;
                    for (i = 0; i < this._layers.length; i++)
                        a = this._layers[i],
                        this._addItem(a),
                        t = t || a.overlay,
                        e = e || !a.overlay,
                        n += a.overlay ? 0 : 1;
                    return this.options.hideSingleBase && (e = e && n > 1,
                    this._baseLayersList.style.display = e ? "" : "none"),
                    this._separator.style.display = t && e ? "" : "none",
                    this
                },
                _onLayerChange: function(e) {
                    this._handlingClick || this._update();
                    var t = this._getLayer(s(e.target))
                      , i = t.overlay ? "add" === e.type ? "overlayadd" : "overlayremove" : "add" === e.type ? "baselayerchange" : null;
                    i && this._map.fire(i, t)
                },
                _createRadioElement: function(e, t) {
                    var i = '<input type="radio" class="leaflet-control-layers-selector" name="' + e + '"' + (t ? ' checked="checked"' : "") + "/>"
                      , a = document.createElement("div");
                    return a.innerHTML = i,
                    a.firstChild
                },
                _addItem: function(e) {
                    var t, i = document.createElement("label"), a = this._map.hasLayer(e.layer);
                    e.overlay ? ((t = document.createElement("input")).type = "checkbox",
                    t.className = "leaflet-control-layers-selector",
                    t.defaultChecked = a) : t = this._createRadioElement("leaflet-base-layers_" + s(this), a),
                    this._layerControlInputs.push(t),
                    t.layerId = s(e.layer),
                    Et(t, "click", this._onInputClick, this);
                    var n = document.createElement("span");
                    n.innerHTML = " " + e.name;
                    var r = document.createElement("div");
                    i.appendChild(r),
                    r.appendChild(t),
                    r.appendChild(n);
                    var o = e.overlay ? this._overlaysList : this._baseLayersList;
                    return o.appendChild(i),
                    this._checkDisabledLayers(),
                    i
                },
                _onInputClick: function() {
                    var e, t, i = this._layerControlInputs, a = [], n = [];
                    this._handlingClick = !0;
                    for (var r = i.length - 1; r >= 0; r--)
                        e = i[r],
                        t = this._getLayer(e.layerId).layer,
                        e.checked ? a.push(t) : e.checked || n.push(t);
                    for (r = 0; r < n.length; r++)
                        this._map.hasLayer(n[r]) && this._map.removeLayer(n[r]);
                    for (r = 0; r < a.length; r++)
                        this._map.hasLayer(a[r]) || this._map.addLayer(a[r]);
                    this._handlingClick = !1,
                    this._refocusOnMap()
                },
                _checkDisabledLayers: function() {
                    for (var e, t, i = this._layerControlInputs, a = this._map.getZoom(), n = i.length - 1; n >= 0; n--)
                        e = i[n],
                        t = this._getLayer(e.layerId).layer,
                        e.disabled = void 0 !== t.options.minZoom && a < t.options.minZoom || void 0 !== t.options.maxZoom && a > t.options.maxZoom
                },
                _expandIfNotCollapsed: function() {
                    return this._map && !this.options.collapsed && this.expand(),
                    this
                },
                _expand: function() {
                    return this.expand()
                },
                _collapse: function() {
                    return this.collapse()
                }
            })
              , qt = jt.extend({
                options: {
                    position: "topleft",
                    zoomInText: "+",
                    zoomInTitle: "Zoom in",
                    zoomOutText: "&#x2212;",
                    zoomOutTitle: "Zoom out"
                },
                onAdd: function(e) {
                    var t = "leaflet-control-zoom"
                      , i = nt("div", t + " leaflet-bar")
                      , a = this.options;
                    return this._zoomInButton = this._createButton(a.zoomInText, a.zoomInTitle, t + "-in", i, this._zoomIn),
                    this._zoomOutButton = this._createButton(a.zoomOutText, a.zoomOutTitle, t + "-out", i, this._zoomOut),
                    this._updateDisabled(),
                    e.on("zoomend zoomlevelschange", this._updateDisabled, this),
                    i
                },
                onRemove: function(e) {
                    e.off("zoomend zoomlevelschange", this._updateDisabled, this)
                },
                disable: function() {
                    return this._disabled = !0,
                    this._updateDisabled(),
                    this
                },
                enable: function() {
                    return this._disabled = !1,
                    this._updateDisabled(),
                    this
                },
                _zoomIn: function(e) {
                    !this._disabled && this._map._zoom < this._map.getMaxZoom() && this._map.zoomIn(this._map.options.zoomDelta * (e.shiftKey ? 3 : 1))
                },
                _zoomOut: function(e) {
                    !this._disabled && this._map._zoom > this._map.getMinZoom() && this._map.zoomOut(this._map.options.zoomDelta * (e.shiftKey ? 3 : 1))
                },
                _createButton: function(e, t, i, a, n) {
                    var r = nt("a", i, a);
                    return r.innerHTML = e,
                    r.href = "#",
                    r.title = t,
                    r.setAttribute("role", "button"),
                    r.setAttribute("aria-label", t),
                    Mt(r),
                    Et(r, "click", Ot),
                    Et(r, "click", n, this),
                    Et(r, "click", this._refocusOnMap, this),
                    r
                },
                _updateDisabled: function() {
                    var e = this._map
                      , t = "leaflet-disabled";
                    dt(this._zoomInButton, t),
                    dt(this._zoomOutButton, t),
                    (this._disabled || e._zoom === e.getMinZoom()) && ht(this._zoomOutButton, t),
                    (this._disabled || e._zoom === e.getMaxZoom()) && ht(this._zoomInButton, t)
                }
            });
            Yt.mergeOptions({
                zoomControl: !0
            }),
            Yt.addInitHook(function() {
                this.options.zoomControl && (this.zoomControl = new qt,
                this.addControl(this.zoomControl))
            });
            var Xt = jt.extend({
                options: {
                    position: "bottomleft",
                    maxWidth: 100,
                    metric: !0,
                    imperial: !0
                },
                onAdd: function(e) {
                    var t = nt("div", "leaflet-control-scale")
                      , i = this.options;
                    return this._addScales(i, "leaflet-control-scale-line", t),
                    e.on(i.updateWhenIdle ? "moveend" : "move", this._update, this),
                    e.whenReady(this._update, this),
                    t
                },
                onRemove: function(e) {
                    e.off(this.options.updateWhenIdle ? "moveend" : "move", this._update, this)
                },
                _addScales: function(e, t, i) {
                    e.metric && (this._mScale = nt("div", t, i)),
                    e.imperial && (this._iScale = nt("div", t, i))
                },
                _update: function() {
                    var e = this._map
                      , t = e.getSize().y / 2
                      , i = e.distance(e.containerPointToLatLng([0, t]), e.containerPointToLatLng([this.options.maxWidth, t]));
                    this._updateScales(i)
                },
                _updateScales: function(e) {
                    this.options.metric && e && this._updateMetric(e),
                    this.options.imperial && e && this._updateImperial(e)
                },
                _updateMetric: function(e) {
                    var t = this._getRoundNum(e)
                      , i = t < 1e3 ? t + " m" : t / 1e3 + " km";
                    this._updateScale(this._mScale, i, t / e)
                },
                _updateImperial: function(e) {
                    var t, i, a, n = 3.2808399 * e;
                    n > 5280 ? (t = n / 5280,
                    i = this._getRoundNum(t),
                    this._updateScale(this._iScale, i + " mi", i / t)) : (a = this._getRoundNum(n),
                    this._updateScale(this._iScale, a + " ft", a / n))
                },
                _updateScale: function(e, t, i) {
                    e.style.width = Math.round(this.options.maxWidth * i) + "px",
                    e.innerHTML = t
                },
                _getRoundNum: function(e) {
                    var t = Math.pow(10, (Math.floor(e) + "").length - 1)
                      , i = e / t;
                    return t * (i = i >= 10 ? 10 : i >= 5 ? 5 : i >= 3 ? 3 : i >= 2 ? 2 : 1)
                }
            })
              , Jt = jt.extend({
                options: {
                    position: "bottomright",
                    prefix: '<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'
                },
                initialize: function(e) {
                    u(this, e),
                    this._attributions = {}
                },
                onAdd: function(e) {
                    for (var t in e.attributionControl = this,
                    this._container = nt("div", "leaflet-control-attribution"),
                    Mt(this._container),
                    e._layers)
                        e._layers[t].getAttribution && this.addAttribution(e._layers[t].getAttribution());
                    return this._update(),
                    this._container
                },
                setPrefix: function(e) {
                    return this.options.prefix = e,
                    this._update(),
                    this
                },
                addAttribution: function(e) {
                    return e ? (this._attributions[e] || (this._attributions[e] = 0),
                    this._attributions[e]++,
                    this._update(),
                    this) : this
                },
                removeAttribution: function(e) {
                    return e ? (this._attributions[e] && (this._attributions[e]--,
                    this._update()),
                    this) : this
                },
                _update: function() {
                    if (this._map) {
                        var e = [];
                        for (var t in this._attributions)
                            this._attributions[t] && e.push(t);
                        var i = [];
                        this.options.prefix && i.push(this.options.prefix),
                        e.length && i.push(e.join(", ")),
                        this._container.innerHTML = i.join(" | ")
                    }
                }
            });
            Yt.mergeOptions({
                attributionControl: !0
            }),
            Yt.addInitHook(function() {
                this.options.attributionControl && (new Jt).addTo(this)
            }),
            jt.Layers = Zt,
            jt.Zoom = qt,
            jt.Scale = Xt,
            jt.Attribution = Jt,
            $t.layers = function(e, t, i) {
                return new Zt(e,t,i)
            }
            ,
            $t.zoom = function(e) {
                return new qt(e)
            }
            ,
            $t.scale = function(e) {
                return new Xt(e)
            }
            ,
            $t.attribution = function(e) {
                return new Jt(e)
            }
            ;
            var ei = k.extend({
                initialize: function(e) {
                    this._map = e
                },
                enable: function() {
                    return this._enabled ? this : (this._enabled = !0,
                    this.addHooks(),
                    this)
                },
                disable: function() {
                    return this._enabled ? (this._enabled = !1,
                    this.removeHooks(),
                    this) : this
                },
                enabled: function() {
                    return !!this._enabled
                }
            });
            ei.addTo = function(e, t) {
                return e.addHandler(t, this),
                this
            }
            ;
            var ti, ii = {
                Events: P
            }, ai = be ? "touchstart mousedown" : "mousedown", ni = {
                mousedown: "mouseup",
                touchstart: "touchend",
                pointerdown: "touchend",
                MSPointerDown: "touchend"
            }, ri = {
                mousedown: "mousemove",
                touchstart: "touchmove",
                pointerdown: "touchmove",
                MSPointerDown: "touchmove"
            }, si = z.extend({
                options: {
                    clickTolerance: 3
                },
                initialize: function(e, t, i, a) {
                    u(this, a),
                    this._element = e,
                    this._dragStartTarget = t || e,
                    this._preventOutline = i
                },
                enable: function() {
                    this._enabled || (Et(this._dragStartTarget, ai, this._onDown, this),
                    this._enabled = !0)
                },
                disable: function() {
                    this._enabled && (si._dragging === this && this.finishDrag(),
                    kt(this._dragStartTarget, ai, this._onDown, this),
                    this._enabled = !1,
                    this._moved = !1)
                },
                _onDown: function(e) {
                    if (!e._simulated && this._enabled && (this._moved = !1,
                    !ct(this._element, "leaflet-zoom-anim") && !(si._dragging || e.shiftKey || 1 !== e.which && 1 !== e.button && !e.touches) && (si._dragging = this,
                    this._preventOutline && Ct(this._element),
                    _t(),
                    je(),
                    !this._moving))) {
                        this.fire("down");
                        var t = e.touches ? e.touches[0] : e
                          , i = xt(this._element);
                        this._startPoint = new I(t.clientX,t.clientY),
                        this._parentScale = St(i),
                        Et(document, ri[e.type], this._onMove, this),
                        Et(document, ni[e.type], this._onUp, this)
                    }
                },
                _onMove: function(e) {
                    if (!e._simulated && this._enabled)
                        if (e.touches && e.touches.length > 1)
                            this._moved = !0;
                        else {
                            var t = e.touches && 1 === e.touches.length ? e.touches[0] : e
                              , i = new I(t.clientX,t.clientY)._subtract(this._startPoint);
                            (i.x || i.y) && (Math.abs(i.x) + Math.abs(i.y) < this.options.clickTolerance || (i.x /= this._parentScale.x,
                            i.y /= this._parentScale.y,
                            Bt(e),
                            this._moved || (this.fire("dragstart"),
                            this._moved = !0,
                            this._startPos = yt(this._element).subtract(i),
                            ht(document.body, "leaflet-dragging"),
                            this._lastTarget = e.target || e.srcElement,
                            window.SVGElementInstance && this._lastTarget instanceof SVGElementInstance && (this._lastTarget = this._lastTarget.correspondingUseElement),
                            ht(this._lastTarget, "leaflet-drag-target")),
                            this._newPos = this._startPos.add(i),
                            this._moving = !0,
                            T(this._animRequest),
                            this._lastEvent = e,
                            this._animRequest = S(this._updatePosition, this, !0)))
                        }
                },
                _updatePosition: function() {
                    var e = {
                        originalEvent: this._lastEvent
                    };
                    this.fire("predrag", e),
                    vt(this._element, this._newPos),
                    this.fire("drag", e)
                },
                _onUp: function(e) {
                    !e._simulated && this._enabled && this.finishDrag()
                },
                finishDrag: function() {
                    for (var e in dt(document.body, "leaflet-dragging"),
                    this._lastTarget && (dt(this._lastTarget, "leaflet-drag-target"),
                    this._lastTarget = null),
                    ri)
                        kt(document, ri[e], this._onMove, this),
                        kt(document, ni[e], this._onUp, this);
                    bt(),
                    $e(),
                    this._moved && this._moving && (T(this._animRequest),
                    this.fire("dragend", {
                        distance: this._newPos.distanceTo(this._startPos)
                    })),
                    this._moving = !1,
                    si._dragging = !1
                }
            });
            function oi(e, t) {
                if (!t || !e.length)
                    return e.slice();
                var i = t * t;
                return e = function(e, t) {
                    var i = e.length
                      , a = new (typeof Uint8Array !== void 0 + "" ? Uint8Array : Array)(i);
                    a[0] = a[i - 1] = 1,
                    function e(t, i, a, n, r) {
                        var s, o, l, c = 0;
                        for (o = n + 1; o <= r - 1; o++)
                            (l = ui(t[o], t[n], t[r], !0)) > c && (s = o,
                            c = l);
                        c > a && (i[s] = 1,
                        e(t, i, a, n, s),
                        e(t, i, a, s, r))
                    }(e, a, t, 0, i - 1);
                    var n, r = [];
                    for (n = 0; n < i; n++)
                        a[n] && r.push(e[n]);
                    return r
                }(e = function(e, t) {
                    for (var i = [e[0]], a = 1, n = 0, r = e.length; a < r; a++)
                        pi(e[a], e[n]) > t && (i.push(e[a]),
                        n = a);
                    return n < r - 1 && i.push(e[r - 1]),
                    i
                }(e, i), i)
            }
            function li(e, t, i) {
                return Math.sqrt(ui(e, t, i, !0))
            }
            function ci(e, t, i, a, n) {
                var r, s, o, l = a ? ti : di(e, i), c = di(t, i);
                for (ti = c; ; ) {
                    if (!(l | c))
                        return [e, t];
                    if (l & c)
                        return !1;
                    s = hi(e, t, r = l || c, i, n),
                    o = di(s, i),
                    r === l ? (e = s,
                    l = o) : (t = s,
                    c = o)
                }
            }
            function hi(e, t, i, a, n) {
                var r, s, o = t.x - e.x, l = t.y - e.y, c = a.min, h = a.max;
                return 8 & i ? (r = e.x + o * (h.y - e.y) / l,
                s = h.y) : 4 & i ? (r = e.x + o * (c.y - e.y) / l,
                s = c.y) : 2 & i ? (r = h.x,
                s = e.y + l * (h.x - e.x) / o) : 1 & i && (r = c.x,
                s = e.y + l * (c.x - e.x) / o),
                new I(r,s,n)
            }
            function di(e, t) {
                var i = 0;
                return e.x < t.min.x ? i |= 1 : e.x > t.max.x && (i |= 2),
                e.y < t.min.y ? i |= 4 : e.y > t.max.y && (i |= 8),
                i
            }
            function pi(e, t) {
                var i = t.x - e.x
                  , a = t.y - e.y;
                return i * i + a * a
            }
            function ui(e, t, i, a) {
                var n, r = t.x, s = t.y, o = i.x - r, l = i.y - s, c = o * o + l * l;
                return c > 0 && ((n = ((e.x - r) * o + (e.y - s) * l) / c) > 1 ? (r = i.x,
                s = i.y) : n > 0 && (r += o * n,
                s += l * n)),
                o = e.x - r,
                l = e.y - s,
                a ? o * o + l * l : new I(r,s)
            }
            function mi(e) {
                return !v(e[0]) || "object" !== typeof e[0][0] && "undefined" !== typeof e[0][0]
            }
            function gi(e) {
                return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),
                mi(e)
            }
            var fi = (Object.freeze || Object)({
                simplify: oi,
                pointToSegmentDistance: li,
                closestPointOnSegment: function(e, t, i) {
                    return ui(e, t, i)
                },
                clipSegment: ci,
                _getEdgeIntersection: hi,
                _getBitCode: di,
                _sqClosestPointOnSegment: ui,
                isFlat: mi,
                _flat: gi
            });
            function vi(e, t, i) {
                var a, n, r, s, o, l, c, h, d, p = [1, 4, 2, 8];
                for (n = 0,
                c = e.length; n < c; n++)
                    e[n]._code = di(e[n], t);
                for (s = 0; s < 4; s++) {
                    for (h = p[s],
                    a = [],
                    n = 0,
                    c = e.length,
                    r = c - 1; n < c; r = n++)
                        o = e[n],
                        l = e[r],
                        o._code & h ? l._code & h || ((d = hi(l, o, h, t, i))._code = di(d, t),
                        a.push(d)) : (l._code & h && ((d = hi(l, o, h, t, i))._code = di(d, t),
                        a.push(d)),
                        a.push(o));
                    e = a
                }
                return e
            }
            var yi = (Object.freeze || Object)({
                clipPolygon: vi
            })
              , Ai = {
                project: function(e) {
                    return new I(e.lng,e.lat)
                },
                unproject: function(e) {
                    return new V(e.y,e.x)
                },
                bounds: new B([-180, -90],[180, 90])
            }
              , _i = {
                R: 6378137,
                R_MINOR: 6356752.314245179,
                bounds: new B([-20037508.34279, -15496570.73972],[20037508.34279, 18764656.23138]),
                project: function(e) {
                    var t = Math.PI / 180
                      , i = this.R
                      , a = e.lat * t
                      , n = this.R_MINOR / i
                      , r = Math.sqrt(1 - n * n)
                      , s = r * Math.sin(a)
                      , o = Math.tan(Math.PI / 4 - a / 2) / Math.pow((1 - s) / (1 + s), r / 2);
                    return a = -i * Math.log(Math.max(o, 1e-10)),
                    new I(e.lng * t * i,a)
                },
                unproject: function(e) {
                    for (var t, i = 180 / Math.PI, a = this.R, n = this.R_MINOR / a, r = Math.sqrt(1 - n * n), s = Math.exp(-e.y / a), o = Math.PI / 2 - 2 * Math.atan(s), l = 0, c = .1; l < 15 && Math.abs(c) > 1e-7; l++)
                        t = r * Math.sin(o),
                        t = Math.pow((1 - t) / (1 + t), r / 2),
                        c = Math.PI / 2 - 2 * Math.atan(s * t) - o,
                        o += c;
                    return new V(o * i,e.x * i / a)
                }
            }
              , bi = (Object.freeze || Object)({
                LonLat: Ai,
                Mercator: _i,
                SphericalMercator: U
            })
              , Ci = i({}, H, {
                code: "EPSG:3395",
                projection: _i,
                transformation: function() {
                    var e = .5 / (Math.PI * _i.R);
                    return K(e, .5, -e, .5)
                }()
            })
              , wi = i({}, H, {
                code: "EPSG:4326",
                projection: Ai,
                transformation: K(1 / 180, 1, -1 / 180, .5)
            })
              , xi = i({}, G, {
                projection: Ai,
                transformation: K(1, 0, -1, 0),
                scale: function(e) {
                    return Math.pow(2, e)
                },
                zoom: function(e) {
                    return Math.log(e) / Math.LN2
                },
                distance: function(e, t) {
                    var i = t.lng - e.lng
                      , a = t.lat - e.lat;
                    return Math.sqrt(i * i + a * a)
                },
                infinite: !0
            });
            G.Earth = H,
            G.EPSG3395 = Ci,
            G.EPSG3857 = W,
            G.EPSG900913 = Y,
            G.EPSG4326 = wi,
            G.Simple = xi;
            var Si = z.extend({
                options: {
                    pane: "overlayPane",
                    attribution: null,
                    bubblingMouseEvents: !0
                },
                addTo: function(e) {
                    return e.addLayer(this),
                    this
                },
                remove: function() {
                    return this.removeFrom(this._map || this._mapToAdd)
                },
                removeFrom: function(e) {
                    return e && e.removeLayer(this),
                    this
                },
                getPane: function(e) {
                    return this._map.getPane(e ? this.options[e] || e : this.options.pane)
                },
                addInteractiveTarget: function(e) {
                    return this._map._targets[s(e)] = this,
                    this
                },
                removeInteractiveTarget: function(e) {
                    return delete this._map._targets[s(e)],
                    this
                },
                getAttribution: function() {
                    return this.options.attribution
                },
                _layerAdd: function(e) {
                    var t = e.target;
                    if (t.hasLayer(this)) {
                        if (this._map = t,
                        this._zoomAnimated = t._zoomAnimated,
                        this.getEvents) {
                            var i = this.getEvents();
                            t.on(i, this),
                            this.once("remove", function() {
                                t.off(i, this)
                            }, this)
                        }
                        this.onAdd(t),
                        this.getAttribution && t.attributionControl && t.attributionControl.addAttribution(this.getAttribution()),
                        this.fire("add"),
                        t.fire("layeradd", {
                            layer: this
                        })
                    }
                }
            });
            Yt.include({
                addLayer: function(e) {
                    if (!e._layerAdd)
                        throw new Error("The provided object is not a Layer.");
                    var t = s(e);
                    return this._layers[t] ? this : (this._layers[t] = e,
                    e._mapToAdd = this,
                    e.beforeAdd && e.beforeAdd(this),
                    this.whenReady(e._layerAdd, e),
                    this)
                },
                removeLayer: function(e) {
                    var t = s(e);
                    return this._layers[t] ? (this._loaded && e.onRemove(this),
                    e.getAttribution && this.attributionControl && this.attributionControl.removeAttribution(e.getAttribution()),
                    delete this._layers[t],
                    this._loaded && (this.fire("layerremove", {
                        layer: e
                    }),
                    e.fire("remove")),
                    e._map = e._mapToAdd = null,
                    this) : this
                },
                hasLayer: function(e) {
                    return !!e && s(e)in this._layers
                },
                eachLayer: function(e, t) {
                    for (var i in this._layers)
                        e.call(t, this._layers[i]);
                    return this
                },
                _addLayers: function(e) {
                    e = e ? v(e) ? e : [e] : [];
                    for (var t = 0, i = e.length; t < i; t++)
                        this.addLayer(e[t])
                },
                _addZoomLimit: function(e) {
                    !isNaN(e.options.maxZoom) && isNaN(e.options.minZoom) || (this._zoomBoundLayers[s(e)] = e,
                    this._updateZoomLevels())
                },
                _removeZoomLimit: function(e) {
                    var t = s(e);
                    this._zoomBoundLayers[t] && (delete this._zoomBoundLayers[t],
                    this._updateZoomLevels())
                },
                _updateZoomLevels: function() {
                    var e = 1 / 0
                      , t = -1 / 0
                      , i = this._getZoomSpan();
                    for (var a in this._zoomBoundLayers) {
                        var n = this._zoomBoundLayers[a].options;
                        e = void 0 === n.minZoom ? e : Math.min(e, n.minZoom),
                        t = void 0 === n.maxZoom ? t : Math.max(t, n.maxZoom)
                    }
                    this._layersMaxZoom = t === -1 / 0 ? void 0 : t,
                    this._layersMinZoom = e === 1 / 0 ? void 0 : e,
                    i !== this._getZoomSpan() && this.fire("zoomlevelschange"),
                    void 0 === this.options.maxZoom && this._layersMaxZoom && this.getZoom() > this._layersMaxZoom && this.setZoom(this._layersMaxZoom),
                    void 0 === this.options.minZoom && this._layersMinZoom && this.getZoom() < this._layersMinZoom && this.setZoom(this._layersMinZoom)
                }
            });
            var Ti = Si.extend({
                initialize: function(e, t) {
                    var i, a;
                    if (u(this, t),
                    this._layers = {},
                    e)
                        for (i = 0,
                        a = e.length; i < a; i++)
                            this.addLayer(e[i])
                },
                addLayer: function(e) {
                    var t = this.getLayerId(e);
                    return this._layers[t] = e,
                    this._map && this._map.addLayer(e),
                    this
                },
                removeLayer: function(e) {
                    var t = e in this._layers ? e : this.getLayerId(e);
                    return this._map && this._layers[t] && this._map.removeLayer(this._layers[t]),
                    delete this._layers[t],
                    this
                },
                hasLayer: function(e) {
                    return !!e && (e in this._layers || this.getLayerId(e)in this._layers)
                },
                clearLayers: function() {
                    return this.eachLayer(this.removeLayer, this)
                },
                invoke: function(e) {
                    var t, i, a = Array.prototype.slice.call(arguments, 1);
                    for (t in this._layers)
                        (i = this._layers[t])[e] && i[e].apply(i, a);
                    return this
                },
                onAdd: function(e) {
                    this.eachLayer(e.addLayer, e)
                },
                onRemove: function(e) {
                    this.eachLayer(e.removeLayer, e)
                },
                eachLayer: function(e, t) {
                    for (var i in this._layers)
                        e.call(t, this._layers[i]);
                    return this
                },
                getLayer: function(e) {
                    return this._layers[e]
                },
                getLayers: function() {
                    var e = [];
                    return this.eachLayer(e.push, e),
                    e
                },
                setZIndex: function(e) {
                    return this.invoke("setZIndex", e)
                },
                getLayerId: function(e) {
                    return s(e)
                }
            })
              , Ei = Ti.extend({
                addLayer: function(e) {
                    return this.hasLayer(e) ? this : (e.addEventParent(this),
                    Ti.prototype.addLayer.call(this, e),
                    this.fire("layeradd", {
                        layer: e
                    }))
                },
                removeLayer: function(e) {
                    return this.hasLayer(e) ? (e in this._layers && (e = this._layers[e]),
                    e.removeEventParent(this),
                    Ti.prototype.removeLayer.call(this, e),
                    this.fire("layerremove", {
                        layer: e
                    })) : this
                },
                setStyle: function(e) {
                    return this.invoke("setStyle", e)
                },
                bringToFront: function() {
                    return this.invoke("bringToFront")
                },
                bringToBack: function() {
                    return this.invoke("bringToBack")
                },
                getBounds: function() {
                    var e = new R;
                    for (var t in this._layers) {
                        var i = this._layers[t];
                        e.extend(i.getBounds ? i.getBounds() : i.getLatLng())
                    }
                    return e
                }
            })
              , Li = k.extend({
                options: {
                    popupAnchor: [0, 0],
                    tooltipAnchor: [0, 0]
                },
                initialize: function(e) {
                    u(this, e)
                },
                createIcon: function(e) {
                    return this._createIcon("icon", e)
                },
                createShadow: function(e) {
                    return this._createIcon("shadow", e)
                },
                _createIcon: function(e, t) {
                    var i = this._getIconUrl(e);
                    if (!i) {
                        if ("icon" === e)
                            throw new Error("iconUrl not set in Icon options (see the docs).");
                        return null
                    }
                    var a = this._createImg(i, t && "IMG" === t.tagName ? t : null);
                    return this._setIconStyles(a, e),
                    a
                },
                _setIconStyles: function(e, t) {
                    var i = this.options
                      , a = i[t + "Size"];
                    "number" === typeof a && (a = [a, a]);
                    var n = M(a)
                      , r = M("shadow" === t && i.shadowAnchor || i.iconAnchor || n && n.divideBy(2, !0));
                    e.className = "leaflet-marker-" + t + " " + (i.className || ""),
                    r && (e.style.marginLeft = -r.x + "px",
                    e.style.marginTop = -r.y + "px"),
                    n && (e.style.width = n.x + "px",
                    e.style.height = n.y + "px")
                },
                _createImg: function(e, t) {
                    return (t = t || document.createElement("img")).src = e,
                    t
                },
                _getIconUrl: function(e) {
                    return xe && this.options[e + "RetinaUrl"] || this.options[e + "Url"]
                }
            })
              , ki = Li.extend({
                options: {
                    iconUrl: "marker-icon.png",
                    iconRetinaUrl: "marker-icon-2x.png",
                    shadowUrl: "marker-shadow.png",
                    iconSize: [25, 41],
                    iconAnchor: [12, 41],
                    popupAnchor: [1, -34],
                    tooltipAnchor: [16, -28],
                    shadowSize: [41, 41]
                },
                _getIconUrl: function(e) {
                    return ki.imagePath || (ki.imagePath = this._detectIconPath()),
                    (this.options.imagePath || ki.imagePath) + Li.prototype._getIconUrl.call(this, e)
                },
                _detectIconPath: function() {
                    var e = nt("div", "leaflet-default-icon-path", document.body)
                      , t = at(e, "background-image") || at(e, "backgroundImage");
                    return document.body.removeChild(e),
                    t = null === t || 0 !== t.indexOf("url") ? "" : t.replace(/^url\(["']?/, "").replace(/marker-icon\.png["']?\)$/, "")
                }
            })
              , Pi = ei.extend({
                initialize: function(e) {
                    this._marker = e
                },
                addHooks: function() {
                    var e = this._marker._icon;
                    this._draggable || (this._draggable = new si(e,e,!0)),
                    this._draggable.on({
                        dragstart: this._onDragStart,
                        predrag: this._onPreDrag,
                        drag: this._onDrag,
                        dragend: this._onDragEnd
                    }, this).enable(),
                    ht(e, "leaflet-marker-draggable")
                },
                removeHooks: function() {
                    this._draggable.off({
                        dragstart: this._onDragStart,
                        predrag: this._onPreDrag,
                        drag: this._onDrag,
                        dragend: this._onDragEnd
                    }, this).disable(),
                    this._marker._icon && dt(this._marker._icon, "leaflet-marker-draggable")
                },
                moved: function() {
                    return this._draggable && this._draggable._moved
                },
                _adjustPan: function(e) {
                    var t = this._marker
                      , i = t._map
                      , a = this._marker.options.autoPanSpeed
                      , n = this._marker.options.autoPanPadding
                      , r = yt(t._icon)
                      , s = i.getPixelBounds()
                      , o = i.getPixelOrigin()
                      , l = O(s.min._subtract(o).add(n), s.max._subtract(o).subtract(n));
                    if (!l.contains(r)) {
                        var c = M((Math.max(l.max.x, r.x) - l.max.x) / (s.max.x - l.max.x) - (Math.min(l.min.x, r.x) - l.min.x) / (s.min.x - l.min.x), (Math.max(l.max.y, r.y) - l.max.y) / (s.max.y - l.max.y) - (Math.min(l.min.y, r.y) - l.min.y) / (s.min.y - l.min.y)).multiplyBy(a);
                        i.panBy(c, {
                            animate: !1
                        }),
                        this._draggable._newPos._add(c),
                        this._draggable._startPos._add(c),
                        vt(t._icon, this._draggable._newPos),
                        this._onDrag(e),
                        this._panRequest = S(this._adjustPan.bind(this, e))
                    }
                },
                _onDragStart: function() {
                    this._oldLatLng = this._marker.getLatLng(),
                    this._marker.closePopup().fire("movestart").fire("dragstart")
                },
                _onPreDrag: function(e) {
                    this._marker.options.autoPan && (T(this._panRequest),
                    this._panRequest = S(this._adjustPan.bind(this, e)))
                },
                _onDrag: function(e) {
                    var t = this._marker
                      , i = t._shadow
                      , a = yt(t._icon)
                      , n = t._map.layerPointToLatLng(a);
                    i && vt(i, a),
                    t._latlng = n,
                    e.latlng = n,
                    e.oldLatLng = this._oldLatLng,
                    t.fire("move", e).fire("drag", e)
                },
                _onDragEnd: function(e) {
                    T(this._panRequest),
                    delete this._oldLatLng,
                    this._marker.fire("moveend").fire("dragend", e)
                }
            })
              , zi = Si.extend({
                options: {
                    icon: new ki,
                    interactive: !0,
                    keyboard: !0,
                    title: "",
                    alt: "",
                    zIndexOffset: 0,
                    opacity: 1,
                    riseOnHover: !1,
                    riseOffset: 250,
                    pane: "markerPane",
                    shadowPane: "shadowPane",
                    bubblingMouseEvents: !1,
                    draggable: !1,
                    autoPan: !1,
                    autoPanPadding: [50, 50],
                    autoPanSpeed: 10
                },
                initialize: function(e, t) {
                    u(this, t),
                    this._latlng = F(e)
                },
                onAdd: function(e) {
                    this._zoomAnimated = this._zoomAnimated && e.options.markerZoomAnimation,
                    this._zoomAnimated && e.on("zoomanim", this._animateZoom, this),
                    this._initIcon(),
                    this.update()
                },
                onRemove: function(e) {
                    this.dragging && this.dragging.enabled() && (this.options.draggable = !0,
                    this.dragging.removeHooks()),
                    delete this.dragging,
                    this._zoomAnimated && e.off("zoomanim", this._animateZoom, this),
                    this._removeIcon(),
                    this._removeShadow()
                },
                getEvents: function() {
                    return {
                        zoom: this.update,
                        viewreset: this.update
                    }
                },
                getLatLng: function() {
                    return this._latlng
                },
                setLatLng: function(e) {
                    var t = this._latlng;
                    return this._latlng = F(e),
                    this.update(),
                    this.fire("move", {
                        oldLatLng: t,
                        latlng: this._latlng
                    })
                },
                setZIndexOffset: function(e) {
                    return this.options.zIndexOffset = e,
                    this.update()
                },
                getIcon: function() {
                    return this.options.icon
                },
                setIcon: function(e) {
                    return this.options.icon = e,
                    this._map && (this._initIcon(),
                    this.update()),
                    this._popup && this.bindPopup(this._popup, this._popup.options),
                    this
                },
                getElement: function() {
                    return this._icon
                },
                update: function() {
                    if (this._icon && this._map) {
                        var e = this._map.latLngToLayerPoint(this._latlng).round();
                        this._setPos(e)
                    }
                    return this
                },
                _initIcon: function() {
                    var e = this.options
                      , t = "leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide")
                      , i = e.icon.createIcon(this._icon)
                      , a = !1;
                    i !== this._icon && (this._icon && this._removeIcon(),
                    a = !0,
                    e.title && (i.title = e.title),
                    "IMG" === i.tagName && (i.alt = e.alt || "")),
                    ht(i, t),
                    e.keyboard && (i.tabIndex = "0"),
                    this._icon = i,
                    e.riseOnHover && this.on({
                        mouseover: this._bringToFront,
                        mouseout: this._resetZIndex
                    });
                    var n = e.icon.createShadow(this._shadow)
                      , r = !1;
                    n !== this._shadow && (this._removeShadow(),
                    r = !0),
                    n && (ht(n, t),
                    n.alt = ""),
                    this._shadow = n,
                    e.opacity < 1 && this._updateOpacity(),
                    a && this.getPane().appendChild(this._icon),
                    this._initInteraction(),
                    n && r && this.getPane(e.shadowPane).appendChild(this._shadow)
                },
                _removeIcon: function() {
                    this.options.riseOnHover && this.off({
                        mouseover: this._bringToFront,
                        mouseout: this._resetZIndex
                    }),
                    rt(this._icon),
                    this.removeInteractiveTarget(this._icon),
                    this._icon = null
                },
                _removeShadow: function() {
                    this._shadow && rt(this._shadow),
                    this._shadow = null
                },
                _setPos: function(e) {
                    vt(this._icon, e),
                    this._shadow && vt(this._shadow, e),
                    this._zIndex = e.y + this.options.zIndexOffset,
                    this._resetZIndex()
                },
                _updateZIndex: function(e) {
                    this._icon.style.zIndex = this._zIndex + e
                },
                _animateZoom: function(e) {
                    var t = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center).round();
                    this._setPos(t)
                },
                _initInteraction: function() {
                    if (this.options.interactive && (ht(this._icon, "leaflet-interactive"),
                    this.addInteractiveTarget(this._icon),
                    Pi)) {
                        var e = this.options.draggable;
                        this.dragging && (e = this.dragging.enabled(),
                        this.dragging.disable()),
                        this.dragging = new Pi(this),
                        e && this.dragging.enable()
                    }
                },
                setOpacity: function(e) {
                    return this.options.opacity = e,
                    this._map && this._updateOpacity(),
                    this
                },
                _updateOpacity: function() {
                    var e = this.options.opacity;
                    this._icon && mt(this._icon, e),
                    this._shadow && mt(this._shadow, e)
                },
                _bringToFront: function() {
                    this._updateZIndex(this.options.riseOffset)
                },
                _resetZIndex: function() {
                    this._updateZIndex(0)
                },
                _getPopupAnchor: function() {
                    return this.options.icon.options.popupAnchor
                },
                _getTooltipAnchor: function() {
                    return this.options.icon.options.tooltipAnchor
                }
            })
              , Ii = Si.extend({
                options: {
                    stroke: !0,
                    color: "#3388ff",
                    weight: 3,
                    opacity: 1,
                    lineCap: "round",
                    lineJoin: "round",
                    dashArray: null,
                    dashOffset: null,
                    fill: !1,
                    fillColor: null,
                    fillOpacity: .2,
                    fillRule: "evenodd",
                    interactive: !0,
                    bubblingMouseEvents: !0
                },
                beforeAdd: function(e) {
                    this._renderer = e.getRenderer(this)
                },
                onAdd: function() {
                    this._renderer._initPath(this),
                    this._reset(),
                    this._renderer._addPath(this)
                },
                onRemove: function() {
                    this._renderer._removePath(this)
                },
                redraw: function() {
                    return this._map && this._renderer._updatePath(this),
                    this
                },
                setStyle: function(e) {
                    return u(this, e),
                    this._renderer && (this._renderer._updateStyle(this),
                    this.options.stroke && e.hasOwnProperty("weight") && this._updateBounds()),
                    this
                },
                bringToFront: function() {
                    return this._renderer && this._renderer._bringToFront(this),
                    this
                },
                bringToBack: function() {
                    return this._renderer && this._renderer._bringToBack(this),
                    this
                },
                getElement: function() {
                    return this._path
                },
                _reset: function() {
                    this._project(),
                    this._update()
                },
                _clickTolerance: function() {
                    return (this.options.stroke ? this.options.weight / 2 : 0) + this._renderer.options.tolerance
                }
            })
              , Di = Ii.extend({
                options: {
                    fill: !0,
                    radius: 10
                },
                initialize: function(e, t) {
                    u(this, t),
                    this._latlng = F(e),
                    this._radius = this.options.radius
                },
                setLatLng: function(e) {
                    return this._latlng = F(e),
                    this.redraw(),
                    this.fire("move", {
                        latlng: this._latlng
                    })
                },
                getLatLng: function() {
                    return this._latlng
                },
                setRadius: function(e) {
                    return this.options.radius = this._radius = e,
                    this.redraw()
                },
                getRadius: function() {
                    return this._radius
                },
                setStyle: function(e) {
                    var t = e && e.radius || this._radius;
                    return Ii.prototype.setStyle.call(this, e),
                    this.setRadius(t),
                    this
                },
                _project: function() {
                    this._point = this._map.latLngToLayerPoint(this._latlng),
                    this._updateBounds()
                },
                _updateBounds: function() {
                    var e = this._radius
                      , t = this._radiusY || e
                      , i = this._clickTolerance()
                      , a = [e + i, t + i];
                    this._pxBounds = new B(this._point.subtract(a),this._point.add(a))
                },
                _update: function() {
                    this._map && this._updatePath()
                },
                _updatePath: function() {
                    this._renderer._updateCircle(this)
                },
                _empty: function() {
                    return this._radius && !this._renderer._bounds.intersects(this._pxBounds)
                },
                _containsPoint: function(e) {
                    return e.distanceTo(this._point) <= this._radius + this._clickTolerance()
                }
            })
              , Mi = Di.extend({
                initialize: function(e, t, a) {
                    if ("number" === typeof t && (t = i({}, a, {
                        radius: t
                    })),
                    u(this, t),
                    this._latlng = F(e),
                    isNaN(this.options.radius))
                        throw new Error("Circle radius cannot be NaN");
                    this._mRadius = this.options.radius
                },
                setRadius: function(e) {
                    return this._mRadius = e,
                    this.redraw()
                },
                getRadius: function() {
                    return this._mRadius
                },
                getBounds: function() {
                    var e = [this._radius, this._radiusY || this._radius];
                    return new R(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))
                },
                setStyle: Ii.prototype.setStyle,
                _project: function() {
                    var e = this._latlng.lng
                      , t = this._latlng.lat
                      , i = this._map
                      , a = i.options.crs;
                    if (a.distance === H.distance) {
                        var n = Math.PI / 180
                          , r = this._mRadius / H.R / n
                          , s = i.project([t + r, e])
                          , o = i.project([t - r, e])
                          , l = s.add(o).divideBy(2)
                          , c = i.unproject(l).lat
                          , h = Math.acos((Math.cos(r * n) - Math.sin(t * n) * Math.sin(c * n)) / (Math.cos(t * n) * Math.cos(c * n))) / n;
                        (isNaN(h) || 0 === h) && (h = r / Math.cos(Math.PI / 180 * t)),
                        this._point = l.subtract(i.getPixelOrigin()),
                        this._radius = isNaN(h) ? 0 : l.x - i.project([c, e - h]).x,
                        this._radiusY = l.y - s.y
                    } else {
                        var d = a.unproject(a.project(this._latlng).subtract([this._mRadius, 0]));
                        this._point = i.latLngToLayerPoint(this._latlng),
                        this._radius = this._point.x - i.latLngToLayerPoint(d).x
                    }
                    this._updateBounds()
                }
            })
              , Bi = Ii.extend({
                options: {
                    smoothFactor: 1,
                    noClip: !1
                },
                initialize: function(e, t) {
                    u(this, t),
                    this._setLatLngs(e)
                },
                getLatLngs: function() {
                    return this._latlngs
                },
                setLatLngs: function(e) {
                    return this._setLatLngs(e),
                    this.redraw()
                },
                isEmpty: function() {
                    return !this._latlngs.length
                },
                closestLayerPoint: function(e) {
                    for (var t, i, a = 1 / 0, n = null, r = ui, s = 0, o = this._parts.length; s < o; s++)
                        for (var l = this._parts[s], c = 1, h = l.length; c < h; c++) {
                            t = l[c - 1],
                            i = l[c];
                            var d = r(e, t, i, !0);
                            d < a && (a = d,
                            n = r(e, t, i))
                        }
                    return n && (n.distance = Math.sqrt(a)),
                    n
                },
                getCenter: function() {
                    if (!this._map)
                        throw new Error("Must add layer to map before using getCenter()");
                    var e, t, i, a, n, r, s, o = this._rings[0], l = o.length;
                    if (!l)
                        return null;
                    for (e = 0,
                    t = 0; e < l - 1; e++)
                        t += o[e].distanceTo(o[e + 1]) / 2;
                    if (0 === t)
                        return this._map.layerPointToLatLng(o[0]);
                    for (e = 0,
                    a = 0; e < l - 1; e++)
                        if (n = o[e],
                        r = o[e + 1],
                        i = n.distanceTo(r),
                        (a += i) > t)
                            return s = (a - t) / i,
                            this._map.layerPointToLatLng([r.x - s * (r.x - n.x), r.y - s * (r.y - n.y)])
                },
                getBounds: function() {
                    return this._bounds
                },
                addLatLng: function(e, t) {
                    return t = t || this._defaultShape(),
                    e = F(e),
                    t.push(e),
                    this._bounds.extend(e),
                    this.redraw()
                },
                _setLatLngs: function(e) {
                    this._bounds = new R,
                    this._latlngs = this._convertLatLngs(e)
                },
                _defaultShape: function() {
                    return mi(this._latlngs) ? this._latlngs : this._latlngs[0]
                },
                _convertLatLngs: function(e) {
                    for (var t = [], i = mi(e), a = 0, n = e.length; a < n; a++)
                        i ? (t[a] = F(e[a]),
                        this._bounds.extend(t[a])) : t[a] = this._convertLatLngs(e[a]);
                    return t
                },
                _project: function() {
                    var e = new B;
                    this._rings = [],
                    this._projectLatlngs(this._latlngs, this._rings, e),
                    this._bounds.isValid() && e.isValid() && (this._rawPxBounds = e,
                    this._updateBounds())
                },
                _updateBounds: function() {
                    var e = this._clickTolerance()
                      , t = new I(e,e);
                    this._pxBounds = new B([this._rawPxBounds.min.subtract(t), this._rawPxBounds.max.add(t)])
                },
                _projectLatlngs: function(e, t, i) {
                    var a, n, r = e[0]instanceof V, s = e.length;
                    if (r) {
                        for (n = [],
                        a = 0; a < s; a++)
                            n[a] = this._map.latLngToLayerPoint(e[a]),
                            i.extend(n[a]);
                        t.push(n)
                    } else
                        for (a = 0; a < s; a++)
                            this._projectLatlngs(e[a], t, i)
                },
                _clipPoints: function() {
                    var e = this._renderer._bounds;
                    if (this._parts = [],
                    this._pxBounds && this._pxBounds.intersects(e))
                        if (this.options.noClip)
                            this._parts = this._rings;
                        else {
                            var t, i, a, n, r, s, o, l = this._parts;
                            for (t = 0,
                            a = 0,
                            n = this._rings.length; t < n; t++)
                                for (o = this._rings[t],
                                i = 0,
                                r = o.length; i < r - 1; i++)
                                    (s = ci(o[i], o[i + 1], e, i, !0)) && (l[a] = l[a] || [],
                                    l[a].push(s[0]),
                                    s[1] === o[i + 1] && i !== r - 2 || (l[a].push(s[1]),
                                    a++))
                        }
                },
                _simplifyPoints: function() {
                    for (var e = this._parts, t = this.options.smoothFactor, i = 0, a = e.length; i < a; i++)
                        e[i] = oi(e[i], t)
                },
                _update: function() {
                    this._map && (this._clipPoints(),
                    this._simplifyPoints(),
                    this._updatePath())
                },
                _updatePath: function() {
                    this._renderer._updatePoly(this)
                },
                _containsPoint: function(e, t) {
                    var i, a, n, r, s, o, l = this._clickTolerance();
                    if (!this._pxBounds || !this._pxBounds.contains(e))
                        return !1;
                    for (i = 0,
                    r = this._parts.length; i < r; i++)
                        for (o = this._parts[i],
                        a = 0,
                        s = o.length,
                        n = s - 1; a < s; n = a++)
                            if ((t || 0 !== a) && li(e, o[n], o[a]) <= l)
                                return !0;
                    return !1
                }
            });
            Bi._flat = gi;
            var Oi = Bi.extend({
                options: {
                    fill: !0
                },
                isEmpty: function() {
                    return !this._latlngs.length || !this._latlngs[0].length
                },
                getCenter: function() {
                    if (!this._map)
                        throw new Error("Must add layer to map before using getCenter()");
                    var e, t, i, a, n, r, s, o, l, c = this._rings[0], h = c.length;
                    if (!h)
                        return null;
                    for (r = s = o = 0,
                    e = 0,
                    t = h - 1; e < h; t = e++)
                        i = c[e],
                        a = c[t],
                        n = i.y * a.x - a.y * i.x,
                        s += (i.x + a.x) * n,
                        o += (i.y + a.y) * n,
                        r += 3 * n;
                    return l = 0 === r ? c[0] : [s / r, o / r],
                    this._map.layerPointToLatLng(l)
                },
                _convertLatLngs: function(e) {
                    var t = Bi.prototype._convertLatLngs.call(this, e)
                      , i = t.length;
                    return i >= 2 && t[0]instanceof V && t[0].equals(t[i - 1]) && t.pop(),
                    t
                },
                _setLatLngs: function(e) {
                    Bi.prototype._setLatLngs.call(this, e),
                    mi(this._latlngs) && (this._latlngs = [this._latlngs])
                },
                _defaultShape: function() {
                    return mi(this._latlngs[0]) ? this._latlngs[0] : this._latlngs[0][0]
                },
                _clipPoints: function() {
                    var e = this._renderer._bounds
                      , t = this.options.weight
                      , i = new I(t,t);
                    if (e = new B(e.min.subtract(i),e.max.add(i)),
                    this._parts = [],
                    this._pxBounds && this._pxBounds.intersects(e))
                        if (this.options.noClip)
                            this._parts = this._rings;
                        else
                            for (var a, n = 0, r = this._rings.length; n < r; n++)
                                (a = vi(this._rings[n], e, !0)).length && this._parts.push(a)
                },
                _updatePath: function() {
                    this._renderer._updatePoly(this, !0)
                },
                _containsPoint: function(e) {
                    var t, i, a, n, r, s, o, l, c = !1;
                    if (!this._pxBounds || !this._pxBounds.contains(e))
                        return !1;
                    for (n = 0,
                    o = this._parts.length; n < o; n++)
                        for (t = this._parts[n],
                        r = 0,
                        l = t.length,
                        s = l - 1; r < l; s = r++)
                            i = t[r],
                            a = t[s],
                            i.y > e.y !== a.y > e.y && e.x < (a.x - i.x) * (e.y - i.y) / (a.y - i.y) + i.x && (c = !c);
                    return c || Bi.prototype._containsPoint.call(this, e, !0)
                }
            })
              , Ri = Ei.extend({
                initialize: function(e, t) {
                    u(this, t),
                    this._layers = {},
                    e && this.addData(e)
                },
                addData: function(e) {
                    var t, i, a, n = v(e) ? e : e.features;
                    if (n) {
                        for (t = 0,
                        i = n.length; t < i; t++)
                            ((a = n[t]).geometries || a.geometry || a.features || a.coordinates) && this.addData(a);
                        return this
                    }
                    var r = this.options;
                    if (r.filter && !r.filter(e))
                        return this;
                    var s = Ni(e, r);
                    return s ? (s.feature = Qi(e),
                    s.defaultOptions = s.options,
                    this.resetStyle(s),
                    r.onEachFeature && r.onEachFeature(e, s),
                    this.addLayer(s)) : this
                },
                resetStyle: function(e) {
                    return e.options = i({}, e.defaultOptions),
                    this._setLayerStyle(e, this.options.style),
                    this
                },
                setStyle: function(e) {
                    return this.eachLayer(function(t) {
                        this._setLayerStyle(t, e)
                    }, this)
                },
                _setLayerStyle: function(e, t) {
                    e.setStyle && ("function" === typeof t && (t = t(e.feature)),
                    e.setStyle(t))
                }
            });
            function Ni(e, t) {
                var i, a, n, r, s = "Feature" === e.type ? e.geometry : e, o = s ? s.coordinates : null, l = [], c = t && t.pointToLayer, h = t && t.coordsToLatLng || Vi;
                if (!o && !s)
                    return null;
                switch (s.type) {
                case "Point":
                    return i = h(o),
                    c ? c(e, i) : new zi(i);
                case "MultiPoint":
                    for (n = 0,
                    r = o.length; n < r; n++)
                        i = h(o[n]),
                        l.push(c ? c(e, i) : new zi(i));
                    return new Ei(l);
                case "LineString":
                case "MultiLineString":
                    return a = Fi(o, "LineString" === s.type ? 0 : 1, h),
                    new Bi(a,t);
                case "Polygon":
                case "MultiPolygon":
                    return a = Fi(o, "Polygon" === s.type ? 1 : 2, h),
                    new Oi(a,t);
                case "GeometryCollection":
                    for (n = 0,
                    r = s.geometries.length; n < r; n++) {
                        var d = Ni({
                            geometry: s.geometries[n],
                            type: "Feature",
                            properties: e.properties
                        }, t);
                        d && l.push(d)
                    }
                    return new Ei(l);
                default:
                    throw new Error("Invalid GeoJSON object.")
                }
            }
            function Vi(e) {
                return new V(e[1],e[0],e[2])
            }
            function Fi(e, t, i) {
                for (var a, n = [], r = 0, s = e.length; r < s; r++)
                    a = t ? Fi(e[r], t - 1, i) : (i || Vi)(e[r]),
                    n.push(a);
                return n
            }
            function Gi(e, t) {
                return t = "number" === typeof t ? t : 6,
                void 0 !== e.alt ? [h(e.lng, t), h(e.lat, t), h(e.alt, t)] : [h(e.lng, t), h(e.lat, t)]
            }
            function Hi(e, t, i, a) {
                for (var n = [], r = 0, s = e.length; r < s; r++)
                    n.push(t ? Hi(e[r], t - 1, i, a) : Gi(e[r], a));
                return !t && i && n.push(n[0]),
                n
            }
            function Ui(e, t) {
                return e.feature ? i({}, e.feature, {
                    geometry: t
                }) : Qi(t)
            }
            function Qi(e) {
                return "Feature" === e.type || "FeatureCollection" === e.type ? e : {
                    type: "Feature",
                    properties: {},
                    geometry: e
                }
            }
            var Ki = {
                toGeoJSON: function(e) {
                    return Ui(this, {
                        type: "Point",
                        coordinates: Gi(this.getLatLng(), e)
                    })
                }
            };
            function Wi(e, t) {
                return new Ri(e,t)
            }
            zi.include(Ki),
            Mi.include(Ki),
            Di.include(Ki),
            Bi.include({
                toGeoJSON: function(e) {
                    var t = !mi(this._latlngs)
                      , i = Hi(this._latlngs, t ? 1 : 0, !1, e);
                    return Ui(this, {
                        type: (t ? "Multi" : "") + "LineString",
                        coordinates: i
                    })
                }
            }),
            Oi.include({
                toGeoJSON: function(e) {
                    var t = !mi(this._latlngs)
                      , i = t && !mi(this._latlngs[0])
                      , a = Hi(this._latlngs, i ? 2 : t ? 1 : 0, !0, e);
                    return t || (a = [a]),
                    Ui(this, {
                        type: (i ? "Multi" : "") + "Polygon",
                        coordinates: a
                    })
                }
            }),
            Ti.include({
                toMultiPoint: function(e) {
                    var t = [];
                    return this.eachLayer(function(i) {
                        t.push(i.toGeoJSON(e).geometry.coordinates)
                    }),
                    Ui(this, {
                        type: "MultiPoint",
                        coordinates: t
                    })
                },
                toGeoJSON: function(e) {
                    var t = this.feature && this.feature.geometry && this.feature.geometry.type;
                    if ("MultiPoint" === t)
                        return this.toMultiPoint(e);
                    var i = "GeometryCollection" === t
                      , a = [];
                    return this.eachLayer(function(t) {
                        if (t.toGeoJSON) {
                            var n = t.toGeoJSON(e);
                            if (i)
                                a.push(n.geometry);
                            else {
                                var r = Qi(n);
                                "FeatureCollection" === r.type ? a.push.apply(a, r.features) : a.push(r)
                            }
                        }
                    }),
                    i ? Ui(this, {
                        geometries: a,
                        type: "GeometryCollection"
                    }) : {
                        type: "FeatureCollection",
                        features: a
                    }
                }
            });
            var Yi = Wi
              , ji = Si.extend({
                options: {
                    opacity: 1,
                    alt: "",
                    interactive: !1,
                    crossOrigin: !1,
                    errorOverlayUrl: "",
                    zIndex: 1,
                    className: ""
                },
                initialize: function(e, t, i) {
                    this._url = e,
                    this._bounds = N(t),
                    u(this, i)
                },
                onAdd: function() {
                    this._image || (this._initImage(),
                    this.options.opacity < 1 && this._updateOpacity()),
                    this.options.interactive && (ht(this._image, "leaflet-interactive"),
                    this.addInteractiveTarget(this._image)),
                    this.getPane().appendChild(this._image),
                    this._reset()
                },
                onRemove: function() {
                    rt(this._image),
                    this.options.interactive && this.removeInteractiveTarget(this._image)
                },
                setOpacity: function(e) {
                    return this.options.opacity = e,
                    this._image && this._updateOpacity(),
                    this
                },
                setStyle: function(e) {
                    return e.opacity && this.setOpacity(e.opacity),
                    this
                },
                bringToFront: function() {
                    return this._map && ot(this._image),
                    this
                },
                bringToBack: function() {
                    return this._map && lt(this._image),
                    this
                },
                setUrl: function(e) {
                    return this._url = e,
                    this._image && (this._image.src = e),
                    this
                },
                setBounds: function(e) {
                    return this._bounds = N(e),
                    this._map && this._reset(),
                    this
                },
                getEvents: function() {
                    var e = {
                        zoom: this._reset,
                        viewreset: this._reset
                    };
                    return this._zoomAnimated && (e.zoomanim = this._animateZoom),
                    e
                },
                setZIndex: function(e) {
                    return this.options.zIndex = e,
                    this._updateZIndex(),
                    this
                },
                getBounds: function() {
                    return this._bounds
                },
                getElement: function() {
                    return this._image
                },
                _initImage: function() {
                    var e = "IMG" === this._url.tagName
                      , t = this._image = e ? this._url : nt("img");
                    ht(t, "leaflet-image-layer"),
                    this._zoomAnimated && ht(t, "leaflet-zoom-animated"),
                    this.options.className && ht(t, this.options.className),
                    t.onselectstart = c,
                    t.onmousemove = c,
                    t.onload = n(this.fire, this, "load"),
                    t.onerror = n(this._overlayOnError, this, "error"),
                    (this.options.crossOrigin || "" === this.options.crossOrigin) && (t.crossOrigin = !0 === this.options.crossOrigin ? "" : this.options.crossOrigin),
                    this.options.zIndex && this._updateZIndex(),
                    e ? this._url = t.src : (t.src = this._url,
                    t.alt = this.options.alt)
                },
                _animateZoom: function(e) {
                    var t = this._map.getZoomScale(e.zoom)
                      , i = this._map._latLngBoundsToNewLayerBounds(this._bounds, e.zoom, e.center).min;
                    ft(this._image, i, t)
                },
                _reset: function() {
                    var e = this._image
                      , t = new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast()))
                      , i = t.getSize();
                    vt(e, t.min),
                    e.style.width = i.x + "px",
                    e.style.height = i.y + "px"
                },
                _updateOpacity: function() {
                    mt(this._image, this.options.opacity)
                },
                _updateZIndex: function() {
                    this._image && void 0 !== this.options.zIndex && null !== this.options.zIndex && (this._image.style.zIndex = this.options.zIndex)
                },
                _overlayOnError: function() {
                    this.fire("error");
                    var e = this.options.errorOverlayUrl;
                    e && this._url !== e && (this._url = e,
                    this._image.src = e)
                }
            })
              , $i = ji.extend({
                options: {
                    autoplay: !0,
                    loop: !0,
                    keepAspectRatio: !0
                },
                _initImage: function() {
                    var e = "VIDEO" === this._url.tagName
                      , t = this._image = e ? this._url : nt("video");
                    if (ht(t, "leaflet-image-layer"),
                    this._zoomAnimated && ht(t, "leaflet-zoom-animated"),
                    t.onselectstart = c,
                    t.onmousemove = c,
                    t.onloadeddata = n(this.fire, this, "load"),
                    e) {
                        for (var i = t.getElementsByTagName("source"), a = [], r = 0; r < i.length; r++)
                            a.push(i[r].src);
                        this._url = i.length > 0 ? a : [t.src]
                    } else {
                        v(this._url) || (this._url = [this._url]),
                        !this.options.keepAspectRatio && t.style.hasOwnProperty("objectFit") && (t.style.objectFit = "fill"),
                        t.autoplay = !!this.options.autoplay,
                        t.loop = !!this.options.loop;
                        for (var s = 0; s < this._url.length; s++) {
                            var o = nt("source");
                            o.src = this._url[s],
                            t.appendChild(o)
                        }
                    }
                }
            })
              , Zi = ji.extend({
                _initImage: function() {
                    var e = this._image = this._url;
                    ht(e, "leaflet-image-layer"),
                    this._zoomAnimated && ht(e, "leaflet-zoom-animated"),
                    e.onselectstart = c,
                    e.onmousemove = c
                }
            })
              , qi = Si.extend({
                options: {
                    offset: [0, 7],
                    className: "",
                    pane: "popupPane"
                },
                initialize: function(e, t) {
                    u(this, e),
                    this._source = t
                },
                onAdd: function(e) {
                    this._zoomAnimated = e._zoomAnimated,
                    this._container || this._initLayout(),
                    e._fadeAnimated && mt(this._container, 0),
                    clearTimeout(this._removeTimeout),
                    this.getPane().appendChild(this._container),
                    this.update(),
                    e._fadeAnimated && mt(this._container, 1),
                    this.bringToFront()
                },
                onRemove: function(e) {
                    e._fadeAnimated ? (mt(this._container, 0),
                    this._removeTimeout = setTimeout(n(rt, void 0, this._container), 200)) : rt(this._container)
                },
                getLatLng: function() {
                    return this._latlng
                },
                setLatLng: function(e) {
                    return this._latlng = F(e),
                    this._map && (this._updatePosition(),
                    this._adjustPan()),
                    this
                },
                getContent: function() {
                    return this._content
                },
                setContent: function(e) {
                    return this._content = e,
                    this.update(),
                    this
                },
                getElement: function() {
                    return this._container
                },
                update: function() {
                    this._map && (this._container.style.visibility = "hidden",
                    this._updateContent(),
                    this._updateLayout(),
                    this._updatePosition(),
                    this._container.style.visibility = "",
                    this._adjustPan())
                },
                getEvents: function() {
                    var e = {
                        zoom: this._updatePosition,
                        viewreset: this._updatePosition
                    };
                    return this._zoomAnimated && (e.zoomanim = this._animateZoom),
                    e
                },
                isOpen: function() {
                    return !!this._map && this._map.hasLayer(this)
                },
                bringToFront: function() {
                    return this._map && ot(this._container),
                    this
                },
                bringToBack: function() {
                    return this._map && lt(this._container),
                    this
                },
                _prepareOpen: function(e, t, i) {
                    if (t instanceof Si || (i = t,
                    t = e),
                    t instanceof Ei)
                        for (var a in e._layers) {
                            t = e._layers[a];
                            break
                        }
                    if (!i)
                        if (t.getCenter)
                            i = t.getCenter();
                        else {
                            if (!t.getLatLng)
                                throw new Error("Unable to get source layer LatLng.");
                            i = t.getLatLng()
                        }
                    return this._source = t,
                    this.update(),
                    i
                },
                _updateContent: function() {
                    if (this._content) {
                        var e = this._contentNode
                          , t = "function" === typeof this._content ? this._content(this._source || this) : this._content;
                        if ("string" === typeof t)
                            e.innerHTML = t;
                        else {
                            for (; e.hasChildNodes(); )
                                e.removeChild(e.firstChild);
                            e.appendChild(t)
                        }
                        this.fire("contentupdate")
                    }
                },
                _updatePosition: function() {
                    if (this._map) {
                        var e = this._map.latLngToLayerPoint(this._latlng)
                          , t = M(this.options.offset)
                          , i = this._getAnchor();
                        this._zoomAnimated ? vt(this._container, e.add(i)) : t = t.add(e).add(i);
                        var a = this._containerBottom = -t.y
                          , n = this._containerLeft = -Math.round(this._containerWidth / 2) + t.x;
                        this._container.style.bottom = a + "px",
                        this._container.style.left = n + "px"
                    }
                },
                _getAnchor: function() {
                    return [0, 0]
                }
            })
              , Xi = qi.extend({
                options: {
                    maxWidth: 300,
                    minWidth: 50,
                    maxHeight: null,
                    autoPan: !0,
                    autoPanPaddingTopLeft: null,
                    autoPanPaddingBottomRight: null,
                    autoPanPadding: [5, 5],
                    keepInView: !1,
                    closeButton: !0,
                    autoClose: !0,
                    closeOnEscapeKey: !0,
                    className: ""
                },
                openOn: function(e) {
                    return e.openPopup(this),
                    this
                },
                onAdd: function(e) {
                    qi.prototype.onAdd.call(this, e),
                    e.fire("popupopen", {
                        popup: this
                    }),
                    this._source && (this._source.fire("popupopen", {
                        popup: this
                    }, !0),
                    this._source instanceof Ii || this._source.on("preclick", It))
                },
                onRemove: function(e) {
                    qi.prototype.onRemove.call(this, e),
                    e.fire("popupclose", {
                        popup: this
                    }),
                    this._source && (this._source.fire("popupclose", {
                        popup: this
                    }, !0),
                    this._source instanceof Ii || this._source.off("preclick", It))
                },
                getEvents: function() {
                    var e = qi.prototype.getEvents.call(this);
                    return (void 0 !== this.options.closeOnClick ? this.options.closeOnClick : this._map.options.closePopupOnClick) && (e.preclick = this._close),
                    this.options.keepInView && (e.moveend = this._adjustPan),
                    e
                },
                _close: function() {
                    this._map && this._map.closePopup(this)
                },
                _initLayout: function() {
                    var e = "leaflet-popup"
                      , t = this._container = nt("div", e + " " + (this.options.className || "") + " leaflet-zoom-animated")
                      , i = this._wrapper = nt("div", e + "-content-wrapper", t);
                    if (this._contentNode = nt("div", e + "-content", i),
                    Mt(i),
                    Dt(this._contentNode),
                    Et(i, "contextmenu", It),
                    this._tipContainer = nt("div", e + "-tip-container", t),
                    this._tip = nt("div", e + "-tip", this._tipContainer),
                    this.options.closeButton) {
                        var a = this._closeButton = nt("a", e + "-close-button", t);
                        a.href = "#close",
                        a.innerHTML = "&#215;",
                        Et(a, "click", this._onCloseButtonClick, this)
                    }
                },
                _updateLayout: function() {
                    var e = this._contentNode
                      , t = e.style;
                    t.width = "",
                    t.whiteSpace = "nowrap";
                    var i = e.offsetWidth;
                    i = Math.min(i, this.options.maxWidth),
                    i = Math.max(i, this.options.minWidth),
                    t.width = i + 1 + "px",
                    t.whiteSpace = "",
                    t.height = "";
                    var a = e.offsetHeight
                      , n = this.options.maxHeight;
                    n && a > n ? (t.height = n + "px",
                    ht(e, "leaflet-popup-scrolled")) : dt(e, "leaflet-popup-scrolled"),
                    this._containerWidth = this._container.offsetWidth
                },
                _animateZoom: function(e) {
                    var t = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center)
                      , i = this._getAnchor();
                    vt(this._container, t.add(i))
                },
                _adjustPan: function() {
                    if (this.options.autoPan) {
                        this._map._panAnim && this._map._panAnim.stop();
                        var e = this._map
                          , t = parseInt(at(this._container, "marginBottom"), 10) || 0
                          , i = this._container.offsetHeight + t
                          , a = this._containerWidth
                          , n = new I(this._containerLeft,-i - this._containerBottom);
                        n._add(yt(this._container));
                        var r = e.layerPointToContainerPoint(n)
                          , s = M(this.options.autoPanPadding)
                          , o = M(this.options.autoPanPaddingTopLeft || s)
                          , l = M(this.options.autoPanPaddingBottomRight || s)
                          , c = e.getSize()
                          , h = 0
                          , d = 0;
                        r.x + a + l.x > c.x && (h = r.x + a - c.x + l.x),
                        r.x - h - o.x < 0 && (h = r.x - o.x),
                        r.y + i + l.y > c.y && (d = r.y + i - c.y + l.y),
                        r.y - d - o.y < 0 && (d = r.y - o.y),
                        (h || d) && e.fire("autopanstart").panBy([h, d])
                    }
                },
                _onCloseButtonClick: function(e) {
                    this._close(),
                    Ot(e)
                },
                _getAnchor: function() {
                    return M(this._source && this._source._getPopupAnchor ? this._source._getPopupAnchor() : [0, 0])
                }
            });
            Yt.mergeOptions({
                closePopupOnClick: !0
            }),
            Yt.include({
                openPopup: function(e, t, i) {
                    return e instanceof Xi || (e = new Xi(i).setContent(e)),
                    t && e.setLatLng(t),
                    this.hasLayer(e) ? this : (this._popup && this._popup.options.autoClose && this.closePopup(),
                    this._popup = e,
                    this.addLayer(e))
                },
                closePopup: function(e) {
                    return e && e !== this._popup || (e = this._popup,
                    this._popup = null),
                    e && this.removeLayer(e),
                    this
                }
            }),
            Si.include({
                bindPopup: function(e, t) {
                    return e instanceof Xi ? (u(e, t),
                    this._popup = e,
                    e._source = this) : (this._popup && !t || (this._popup = new Xi(t,this)),
                    this._popup.setContent(e)),
                    this._popupHandlersAdded || (this.on({
                        click: this._openPopup,
                        keypress: this._onKeyPress,
                        remove: this.closePopup,
                        move: this._movePopup
                    }),
                    this._popupHandlersAdded = !0),
                    this
                },
                unbindPopup: function() {
                    return this._popup && (this.off({
                        click: this._openPopup,
                        keypress: this._onKeyPress,
                        remove: this.closePopup,
                        move: this._movePopup
                    }),
                    this._popupHandlersAdded = !1,
                    this._popup = null),
                    this
                },
                openPopup: function(e, t) {
                    return this._popup && this._map && (t = this._popup._prepareOpen(this, e, t),
                    this._map.openPopup(this._popup, t)),
                    this
                },
                closePopup: function() {
                    return this._popup && this._popup._close(),
                    this
                },
                togglePopup: function(e) {
                    return this._popup && (this._popup._map ? this.closePopup() : this.openPopup(e)),
                    this
                },
                isPopupOpen: function() {
                    return !!this._popup && this._popup.isOpen()
                },
                setPopupContent: function(e) {
                    return this._popup && this._popup.setContent(e),
                    this
                },
                getPopup: function() {
                    return this._popup
                },
                _openPopup: function(e) {
                    var t = e.layer || e.target;
                    this._popup && this._map && (Ot(e),
                    t instanceof Ii ? this.openPopup(e.layer || e.target, e.latlng) : this._map.hasLayer(this._popup) && this._popup._source === t ? this.closePopup() : this.openPopup(t, e.latlng))
                },
                _movePopup: function(e) {
                    this._popup.setLatLng(e.latlng)
                },
                _onKeyPress: function(e) {
                    13 === e.originalEvent.keyCode && this._openPopup(e)
                }
            });
            var Ji = qi.extend({
                options: {
                    pane: "tooltipPane",
                    offset: [0, 0],
                    direction: "auto",
                    permanent: !1,
                    sticky: !1,
                    interactive: !1,
                    opacity: .9
                },
                onAdd: function(e) {
                    qi.prototype.onAdd.call(this, e),
                    this.setOpacity(this.options.opacity),
                    e.fire("tooltipopen", {
                        tooltip: this
                    }),
                    this._source && this._source.fire("tooltipopen", {
                        tooltip: this
                    }, !0)
                },
                onRemove: function(e) {
                    qi.prototype.onRemove.call(this, e),
                    e.fire("tooltipclose", {
                        tooltip: this
                    }),
                    this._source && this._source.fire("tooltipclose", {
                        tooltip: this
                    }, !0)
                },
                getEvents: function() {
                    var e = qi.prototype.getEvents.call(this);
                    return be && !this.options.permanent && (e.preclick = this._close),
                    e
                },
                _close: function() {
                    this._map && this._map.closeTooltip(this)
                },
                _initLayout: function() {
                    var e = "leaflet-tooltip " + (this.options.className || "") + " leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide");
                    this._contentNode = this._container = nt("div", e)
                },
                _updateLayout: function() {},
                _adjustPan: function() {},
                _setPosition: function(e) {
                    var t = this._map
                      , i = this._container
                      , a = t.latLngToContainerPoint(t.getCenter())
                      , n = t.layerPointToContainerPoint(e)
                      , r = this.options.direction
                      , s = i.offsetWidth
                      , o = i.offsetHeight
                      , l = M(this.options.offset)
                      , c = this._getAnchor();
                    "top" === r ? e = e.add(M(-s / 2 + l.x, -o + l.y + c.y, !0)) : "bottom" === r ? e = e.subtract(M(s / 2 - l.x, -l.y, !0)) : "center" === r ? e = e.subtract(M(s / 2 + l.x, o / 2 - c.y + l.y, !0)) : "right" === r || "auto" === r && n.x < a.x ? (r = "right",
                    e = e.add(M(l.x + c.x, c.y - o / 2 + l.y, !0))) : (r = "left",
                    e = e.subtract(M(s + c.x - l.x, o / 2 - c.y - l.y, !0))),
                    dt(i, "leaflet-tooltip-right"),
                    dt(i, "leaflet-tooltip-left"),
                    dt(i, "leaflet-tooltip-top"),
                    dt(i, "leaflet-tooltip-bottom"),
                    ht(i, "leaflet-tooltip-" + r),
                    vt(i, e)
                },
                _updatePosition: function() {
                    var e = this._map.latLngToLayerPoint(this._latlng);
                    this._setPosition(e)
                },
                setOpacity: function(e) {
                    this.options.opacity = e,
                    this._container && mt(this._container, e)
                },
                _animateZoom: function(e) {
                    var t = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center);
                    this._setPosition(t)
                },
                _getAnchor: function() {
                    return M(this._source && this._source._getTooltipAnchor && !this.options.sticky ? this._source._getTooltipAnchor() : [0, 0])
                }
            });
            Yt.include({
                openTooltip: function(e, t, i) {
                    return e instanceof Ji || (e = new Ji(i).setContent(e)),
                    t && e.setLatLng(t),
                    this.hasLayer(e) ? this : this.addLayer(e)
                },
                closeTooltip: function(e) {
                    return e && this.removeLayer(e),
                    this
                }
            }),
            Si.include({
                bindTooltip: function(e, t) {
                    return e instanceof Ji ? (u(e, t),
                    this._tooltip = e,
                    e._source = this) : (this._tooltip && !t || (this._tooltip = new Ji(t,this)),
                    this._tooltip.setContent(e)),
                    this._initTooltipInteractions(),
                    this._tooltip.options.permanent && this._map && this._map.hasLayer(this) && this.openTooltip(),
                    this
                },
                unbindTooltip: function() {
                    return this._tooltip && (this._initTooltipInteractions(!0),
                    this.closeTooltip(),
                    this._tooltip = null),
                    this
                },
                _initTooltipInteractions: function(e) {
                    if (e || !this._tooltipHandlersAdded) {
                        var t = e ? "off" : "on"
                          , i = {
                            remove: this.closeTooltip,
                            move: this._moveTooltip
                        };
                        this._tooltip.options.permanent ? i.add = this._openTooltip : (i.mouseover = this._openTooltip,
                        i.mouseout = this.closeTooltip,
                        this._tooltip.options.sticky && (i.mousemove = this._moveTooltip),
                        be && (i.click = this._openTooltip)),
                        this[t](i),
                        this._tooltipHandlersAdded = !e
                    }
                },
                openTooltip: function(e, t) {
                    return this._tooltip && this._map && (t = this._tooltip._prepareOpen(this, e, t),
                    this._map.openTooltip(this._tooltip, t),
                    this._tooltip.options.interactive && this._tooltip._container && (ht(this._tooltip._container, "leaflet-clickable"),
                    this.addInteractiveTarget(this._tooltip._container))),
                    this
                },
                closeTooltip: function() {
                    return this._tooltip && (this._tooltip._close(),
                    this._tooltip.options.interactive && this._tooltip._container && (dt(this._tooltip._container, "leaflet-clickable"),
                    this.removeInteractiveTarget(this._tooltip._container))),
                    this
                },
                toggleTooltip: function(e) {
                    return this._tooltip && (this._tooltip._map ? this.closeTooltip() : this.openTooltip(e)),
                    this
                },
                isTooltipOpen: function() {
                    return this._tooltip.isOpen()
                },
                setTooltipContent: function(e) {
                    return this._tooltip && this._tooltip.setContent(e),
                    this
                },
                getTooltip: function() {
                    return this._tooltip
                },
                _openTooltip: function(e) {
                    var t = e.layer || e.target;
                    this._tooltip && this._map && this.openTooltip(t, this._tooltip.options.sticky ? e.latlng : void 0)
                },
                _moveTooltip: function(e) {
                    var t, i, a = e.latlng;
                    this._tooltip.options.sticky && e.originalEvent && (t = this._map.mouseEventToContainerPoint(e.originalEvent),
                    i = this._map.containerPointToLayerPoint(t),
                    a = this._map.layerPointToLatLng(i)),
                    this._tooltip.setLatLng(a)
                }
            });
            var ea = Li.extend({
                options: {
                    iconSize: [12, 12],
                    html: !1,
                    bgPos: null,
                    className: "leaflet-div-icon"
                },
                createIcon: function(e) {
                    var t = e && "DIV" === e.tagName ? e : document.createElement("div")
                      , i = this.options;
                    if (i.html instanceof Element ? (st(t),
                    t.appendChild(i.html)) : t.innerHTML = !1 !== i.html ? i.html : "",
                    i.bgPos) {
                        var a = M(i.bgPos);
                        t.style.backgroundPosition = -a.x + "px " + -a.y + "px"
                    }
                    return this._setIconStyles(t, "icon"),
                    t
                },
                createShadow: function() {
                    return null
                }
            });
            Li.Default = ki;
            var ta = Si.extend({
                options: {
                    tileSize: 256,
                    opacity: 1,
                    updateWhenIdle: fe,
                    updateWhenZooming: !0,
                    updateInterval: 200,
                    zIndex: 1,
                    bounds: null,
                    minZoom: 0,
                    maxZoom: void 0,
                    maxNativeZoom: void 0,
                    minNativeZoom: void 0,
                    noWrap: !1,
                    pane: "tilePane",
                    className: "",
                    keepBuffer: 2
                },
                initialize: function(e) {
                    u(this, e)
                },
                onAdd: function() {
                    this._initContainer(),
                    this._levels = {},
                    this._tiles = {},
                    this._resetView(),
                    this._update()
                },
                beforeAdd: function(e) {
                    e._addZoomLimit(this)
                },
                onRemove: function(e) {
                    this._removeAllTiles(),
                    rt(this._container),
                    e._removeZoomLimit(this),
                    this._container = null,
                    this._tileZoom = void 0
                },
                bringToFront: function() {
                    return this._map && (ot(this._container),
                    this._setAutoZIndex(Math.max)),
                    this
                },
                bringToBack: function() {
                    return this._map && (lt(this._container),
                    this._setAutoZIndex(Math.min)),
                    this
                },
                getContainer: function() {
                    return this._container
                },
                setOpacity: function(e) {
                    return this.options.opacity = e,
                    this._updateOpacity(),
                    this
                },
                setZIndex: function(e) {
                    return this.options.zIndex = e,
                    this._updateZIndex(),
                    this
                },
                isLoading: function() {
                    return this._loading
                },
                redraw: function() {
                    return this._map && (this._removeAllTiles(),
                    this._update()),
                    this
                },
                getEvents: function() {
                    var e = {
                        viewprereset: this._invalidateAll,
                        viewreset: this._resetView,
                        zoom: this._resetView,
                        moveend: this._onMoveEnd
                    };
                    return this.options.updateWhenIdle || (this._onMove || (this._onMove = o(this._onMoveEnd, this.options.updateInterval, this)),
                    e.move = this._onMove),
                    this._zoomAnimated && (e.zoomanim = this._animateZoom),
                    e
                },
                createTile: function() {
                    return document.createElement("div")
                },
                getTileSize: function() {
                    var e = this.options.tileSize;
                    return e instanceof I ? e : new I(e,e)
                },
                _updateZIndex: function() {
                    this._container && void 0 !== this.options.zIndex && null !== this.options.zIndex && (this._container.style.zIndex = this.options.zIndex)
                },
                _setAutoZIndex: function(e) {
                    for (var t, i = this.getPane().children, a = -e(-1 / 0, 1 / 0), n = 0, r = i.length; n < r; n++)
                        t = i[n].style.zIndex,
                        i[n] !== this._container && t && (a = e(a, +t));
                    isFinite(a) && (this.options.zIndex = a + e(-1, 1),
                    this._updateZIndex())
                },
                _updateOpacity: function() {
                    if (this._map && !X) {
                        mt(this._container, this.options.opacity);
                        var e = +new Date
                          , t = !1
                          , i = !1;
                        for (var a in this._tiles) {
                            var n = this._tiles[a];
                            if (n.current && n.loaded) {
                                var r = Math.min(1, (e - n.loaded) / 200);
                                mt(n.el, r),
                                r < 1 ? t = !0 : (n.active ? i = !0 : this._onOpaqueTile(n),
                                n.active = !0)
                            }
                        }
                        i && !this._noPrune && this._pruneTiles(),
                        t && (T(this._fadeFrame),
                        this._fadeFrame = S(this._updateOpacity, this))
                    }
                },
                _onOpaqueTile: c,
                _initContainer: function() {
                    this._container || (this._container = nt("div", "leaflet-layer " + (this.options.className || "")),
                    this._updateZIndex(),
                    this.options.opacity < 1 && this._updateOpacity(),
                    this.getPane().appendChild(this._container))
                },
                _updateLevels: function() {
                    var e = this._tileZoom
                      , t = this.options.maxZoom;
                    if (void 0 !== e) {
                        for (var i in this._levels)
                            this._levels[i].el.children.length || i === e ? (this._levels[i].el.style.zIndex = t - Math.abs(e - i),
                            this._onUpdateLevel(i)) : (rt(this._levels[i].el),
                            this._removeTilesAtZoom(i),
                            this._onRemoveLevel(i),
                            delete this._levels[i]);
                        var a = this._levels[e]
                          , n = this._map;
                        return a || ((a = this._levels[e] = {}).el = nt("div", "leaflet-tile-container leaflet-zoom-animated", this._container),
                        a.el.style.zIndex = t,
                        a.origin = n.project(n.unproject(n.getPixelOrigin()), e).round(),
                        a.zoom = e,
                        this._setZoomTransform(a, n.getCenter(), n.getZoom()),
                        a.el.offsetWidth,
                        this._onCreateLevel(a)),
                        this._level = a,
                        a
                    }
                },
                _onUpdateLevel: c,
                _onRemoveLevel: c,
                _onCreateLevel: c,
                _pruneTiles: function() {
                    if (this._map) {
                        var e, t, i = this._map.getZoom();
                        if (i > this.options.maxZoom || i < this.options.minZoom)
                            this._removeAllTiles();
                        else {
                            for (e in this._tiles)
                                (t = this._tiles[e]).retain = t.current;
                            for (e in this._tiles)
                                if ((t = this._tiles[e]).current && !t.active) {
                                    var a = t.coords;
                                    this._retainParent(a.x, a.y, a.z, a.z - 5) || this._retainChildren(a.x, a.y, a.z, a.z + 2)
                                }
                            for (e in this._tiles)
                                this._tiles[e].retain || this._removeTile(e)
                        }
                    }
                },
                _removeTilesAtZoom: function(e) {
                    for (var t in this._tiles)
                        this._tiles[t].coords.z === e && this._removeTile(t)
                },
                _removeAllTiles: function() {
                    for (var e in this._tiles)
                        this._removeTile(e)
                },
                _invalidateAll: function() {
                    for (var e in this._levels)
                        rt(this._levels[e].el),
                        this._onRemoveLevel(e),
                        delete this._levels[e];
                    this._removeAllTiles(),
                    this._tileZoom = void 0
                },
                _retainParent: function(e, t, i, a) {
                    var n = Math.floor(e / 2)
                      , r = Math.floor(t / 2)
                      , s = i - 1
                      , o = new I(+n,+r);
                    o.z = +s;
                    var l = this._tileCoordsToKey(o)
                      , c = this._tiles[l];
                    return c && c.active ? (c.retain = !0,
                    !0) : (c && c.loaded && (c.retain = !0),
                    s > a && this._retainParent(n, r, s, a))
                },
                _retainChildren: function(e, t, i, a) {
                    for (var n = 2 * e; n < 2 * e + 2; n++)
                        for (var r = 2 * t; r < 2 * t + 2; r++) {
                            var s = new I(n,r);
                            s.z = i + 1;
                            var o = this._tileCoordsToKey(s)
                              , l = this._tiles[o];
                            l && l.active ? l.retain = !0 : (l && l.loaded && (l.retain = !0),
                            i + 1 < a && this._retainChildren(n, r, i + 1, a))
                        }
                },
                _resetView: function(e) {
                    var t = e && (e.pinch || e.flyTo);
                    this._setView(this._map.getCenter(), this._map.getZoom(), t, t)
                },
                _animateZoom: function(e) {
                    this._setView(e.center, e.zoom, !0, e.noUpdate)
                },
                _clampZoom: function(e) {
                    var t = this.options;
                    return void 0 !== t.minNativeZoom && e < t.minNativeZoom ? t.minNativeZoom : void 0 !== t.maxNativeZoom && t.maxNativeZoom < e ? t.maxNativeZoom : e
                },
                _setView: function(e, t, i, a) {
                    var n = this._clampZoom(Math.round(t));
                    (void 0 !== this.options.maxZoom && n > this.options.maxZoom || void 0 !== this.options.minZoom && n < this.options.minZoom) && (n = void 0);
                    var r = this.options.updateWhenZooming && n !== this._tileZoom;
                    a && !r || (this._tileZoom = n,
                    this._abortLoading && this._abortLoading(),
                    this._updateLevels(),
                    this._resetGrid(),
                    void 0 !== n && this._update(e),
                    i || this._pruneTiles(),
                    this._noPrune = !!i),
                    this._setZoomTransforms(e, t)
                },
                _setZoomTransforms: function(e, t) {
                    for (var i in this._levels)
                        this._setZoomTransform(this._levels[i], e, t)
                },
                _setZoomTransform: function(e, t, i) {
                    var a = this._map.getZoomScale(i, e.zoom)
                      , n = e.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(t, i)).round();
                    ge ? ft(e.el, n, a) : vt(e.el, n)
                },
                _resetGrid: function() {
                    var e = this._map
                      , t = e.options.crs
                      , i = this._tileSize = this.getTileSize()
                      , a = this._tileZoom
                      , n = this._map.getPixelWorldBounds(this._tileZoom);
                    n && (this._globalTileRange = this._pxBoundsToTileRange(n)),
                    this._wrapX = t.wrapLng && !this.options.noWrap && [Math.floor(e.project([0, t.wrapLng[0]], a).x / i.x), Math.ceil(e.project([0, t.wrapLng[1]], a).x / i.y)],
                    this._wrapY = t.wrapLat && !this.options.noWrap && [Math.floor(e.project([t.wrapLat[0], 0], a).y / i.x), Math.ceil(e.project([t.wrapLat[1], 0], a).y / i.y)]
                },
                _onMoveEnd: function() {
                    this._map && !this._map._animatingZoom && this._update()
                },
                _getTiledPixelBounds: function(e) {
                    var t = this._map
                      , i = t._animatingZoom ? Math.max(t._animateToZoom, t.getZoom()) : t.getZoom()
                      , a = t.getZoomScale(i, this._tileZoom)
                      , n = t.project(e, this._tileZoom).floor()
                      , r = t.getSize().divideBy(2 * a);
                    return new B(n.subtract(r),n.add(r))
                },
                _update: function(e) {
                    var t = this._map;
                    if (t) {
                        var i = this._clampZoom(t.getZoom());
                        if (void 0 === e && (e = t.getCenter()),
                        void 0 !== this._tileZoom) {
                            var a = this._getTiledPixelBounds(e)
                              , n = this._pxBoundsToTileRange(a)
                              , r = n.getCenter()
                              , s = []
                              , o = this.options.keepBuffer
                              , l = new B(n.getBottomLeft().subtract([o, -o]),n.getTopRight().add([o, -o]));
                            if (!(isFinite(n.min.x) && isFinite(n.min.y) && isFinite(n.max.x) && isFinite(n.max.y)))
                                throw new Error("Attempted to load an infinite number of tiles");
                            for (var c in this._tiles) {
                                var h = this._tiles[c].coords;
                                h.z === this._tileZoom && l.contains(new I(h.x,h.y)) || (this._tiles[c].current = !1)
                            }
                            if (Math.abs(i - this._tileZoom) > 1)
                                this._setView(e, i);
                            else {
                                for (var d = n.min.y; d <= n.max.y; d++)
                                    for (var p = n.min.x; p <= n.max.x; p++) {
                                        var u = new I(p,d);
                                        if (u.z = this._tileZoom,
                                        this._isValidTile(u)) {
                                            var m = this._tiles[this._tileCoordsToKey(u)];
                                            m ? m.current = !0 : s.push(u)
                                        }
                                    }
                                if (s.sort(function(e, t) {
                                    return e.distanceTo(r) - t.distanceTo(r)
                                }),
                                0 !== s.length) {
                                    this._loading || (this._loading = !0,
                                    this.fire("loading"));
                                    var g = document.createDocumentFragment();
                                    for (p = 0; p < s.length; p++)
                                        this._addTile(s[p], g);
                                    this._level.el.appendChild(g)
                                }
                            }
                        }
                    }
                },
                _isValidTile: function(e) {
                    var t = this._map.options.crs;
                    if (!t.infinite) {
                        var i = this._globalTileRange;
                        if (!t.wrapLng && (e.x < i.min.x || e.x > i.max.x) || !t.wrapLat && (e.y < i.min.y || e.y > i.max.y))
                            return !1
                    }
                    if (!this.options.bounds)
                        return !0;
                    var a = this._tileCoordsToBounds(e);
                    return N(this.options.bounds).overlaps(a)
                },
                _keyToBounds: function(e) {
                    return this._tileCoordsToBounds(this._keyToTileCoords(e))
                },
                _tileCoordsToNwSe: function(e) {
                    var t = this._map
                      , i = this.getTileSize()
                      , a = e.scaleBy(i)
                      , n = a.add(i)
                      , r = t.unproject(a, e.z)
                      , s = t.unproject(n, e.z);
                    return [r, s]
                },
                _tileCoordsToBounds: function(e) {
                    var t = this._tileCoordsToNwSe(e)
                      , i = new R(t[0],t[1]);
                    return this.options.noWrap || (i = this._map.wrapLatLngBounds(i)),
                    i
                },
                _tileCoordsToKey: function(e) {
                    return e.x + ":" + e.y + ":" + e.z
                },
                _keyToTileCoords: function(e) {
                    var t = e.split(":")
                      , i = new I(+t[0],+t[1]);
                    return i.z = +t[2],
                    i
                },
                _removeTile: function(e) {
                    var t = this._tiles[e];
                    t && (rt(t.el),
                    delete this._tiles[e],
                    this.fire("tileunload", {
                        tile: t.el,
                        coords: this._keyToTileCoords(e)
                    }))
                },
                _initTile: function(e) {
                    ht(e, "leaflet-tile");
                    var t = this.getTileSize();
                    e.style.width = t.x + "px",
                    e.style.height = t.y + "px",
                    e.onselectstart = c,
                    e.onmousemove = c,
                    X && this.options.opacity < 1 && mt(e, this.options.opacity),
                    te && !ie && (e.style.WebkitBackfaceVisibility = "hidden")
                },
                _addTile: function(e, t) {
                    var i = this._getTilePos(e)
                      , a = this._tileCoordsToKey(e)
                      , r = this.createTile(this._wrapCoords(e), n(this._tileReady, this, e));
                    this._initTile(r),
                    this.createTile.length < 2 && S(n(this._tileReady, this, e, null, r)),
                    vt(r, i),
                    this._tiles[a] = {
                        el: r,
                        coords: e,
                        current: !0
                    },
                    t.appendChild(r),
                    this.fire("tileloadstart", {
                        tile: r,
                        coords: e
                    })
                },
                _tileReady: function(e, t, i) {
                    t && this.fire("tileerror", {
                        error: t,
                        tile: i,
                        coords: e
                    });
                    var a = this._tileCoordsToKey(e);
                    (i = this._tiles[a]) && (i.loaded = +new Date,
                    this._map._fadeAnimated ? (mt(i.el, 0),
                    T(this._fadeFrame),
                    this._fadeFrame = S(this._updateOpacity, this)) : (i.active = !0,
                    this._pruneTiles()),
                    t || (ht(i.el, "leaflet-tile-loaded"),
                    this.fire("tileload", {
                        tile: i.el,
                        coords: e
                    })),
                    this._noTilesToLoad() && (this._loading = !1,
                    this.fire("load"),
                    X || !this._map._fadeAnimated ? S(this._pruneTiles, this) : setTimeout(n(this._pruneTiles, this), 250)))
                },
                _getTilePos: function(e) {
                    return e.scaleBy(this.getTileSize()).subtract(this._level.origin)
                },
                _wrapCoords: function(e) {
                    var t = new I(this._wrapX ? l(e.x, this._wrapX) : e.x,this._wrapY ? l(e.y, this._wrapY) : e.y);
                    return t.z = e.z,
                    t
                },
                _pxBoundsToTileRange: function(e) {
                    var t = this.getTileSize();
                    return new B(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1, 1]))
                },
                _noTilesToLoad: function() {
                    for (var e in this._tiles)
                        if (!this._tiles[e].loaded)
                            return !1;
                    return !0
                }
            })
              , ia = ta.extend({
                options: {
                    minZoom: 0,
                    maxZoom: 18,
                    subdomains: "abc",
                    errorTileUrl: "",
                    zoomOffset: 0,
                    tms: !1,
                    zoomReverse: !1,
                    detectRetina: !1,
                    crossOrigin: !1
                },
                initialize: function(e, t) {
                    this._url = e,
                    (t = u(this, t)).detectRetina && xe && t.maxZoom > 0 && (t.tileSize = Math.floor(t.tileSize / 2),
                    t.zoomReverse ? (t.zoomOffset--,
                    t.minZoom++) : (t.zoomOffset++,
                    t.maxZoom--),
                    t.minZoom = Math.max(0, t.minZoom)),
                    "string" === typeof t.subdomains && (t.subdomains = t.subdomains.split("")),
                    te || this.on("tileunload", this._onTileRemove)
                },
                setUrl: function(e, t) {
                    return this._url === e && void 0 === t && (t = !0),
                    this._url = e,
                    t || this.redraw(),
                    this
                },
                createTile: function(e, t) {
                    var i = document.createElement("img");
                    return Et(i, "load", n(this._tileOnLoad, this, t, i)),
                    Et(i, "error", n(this._tileOnError, this, t, i)),
                    (this.options.crossOrigin || "" === this.options.crossOrigin) && (i.crossOrigin = !0 === this.options.crossOrigin ? "" : this.options.crossOrigin),
                    i.alt = "",
                    i.setAttribute("role", "presentation"),
                    i.src = this.getTileUrl(e),
                    i
                },
                getTileUrl: function(e) {
                    var t = {
                        r: xe ? "@2x" : "",
                        s: this._getSubdomain(e),
                        x: e.x,
                        y: e.y,
                        z: this._getZoomForUrl()
                    };
                    if (this._map && !this._map.options.crs.infinite) {
                        var a = this._globalTileRange.max.y - e.y;
                        this.options.tms && (t.y = a),
                        t["-y"] = a
                    }
                    return f(this._url, i(t, this.options))
                },
                _tileOnLoad: function(e, t) {
                    X ? setTimeout(n(e, this, null, t), 0) : e(null, t)
                },
                _tileOnError: function(e, t, i) {
                    var a = this.options.errorTileUrl;
                    a && t.getAttribute("src") !== a && (t.src = a),
                    e(i, t)
                },
                _onTileRemove: function(e) {
                    e.tile.onload = null
                },
                _getZoomForUrl: function() {
                    var e = this._tileZoom
                      , t = this.options.maxZoom
                      , i = this.options.zoomReverse
                      , a = this.options.zoomOffset;
                    return i && (e = t - e),
                    e + a
                },
                _getSubdomain: function(e) {
                    var t = Math.abs(e.x + e.y) % this.options.subdomains.length;
                    return this.options.subdomains[t]
                },
                _abortLoading: function() {
                    var e, t;
                    for (e in this._tiles)
                        this._tiles[e].coords.z !== this._tileZoom && ((t = this._tiles[e].el).onload = c,
                        t.onerror = c,
                        t.complete || (t.src = A,
                        rt(t),
                        delete this._tiles[e]))
                },
                _removeTile: function(e) {
                    var t = this._tiles[e];
                    if (t)
                        return ne || t.el.setAttribute("src", A),
                        ta.prototype._removeTile.call(this, e)
                },
                _tileReady: function(e, t, i) {
                    if (this._map && (!i || i.getAttribute("src") !== A))
                        return ta.prototype._tileReady.call(this, e, t, i)
                }
            });
            function aa(e, t) {
                return new ia(e,t)
            }
            var na = ia.extend({
                defaultWmsParams: {
                    service: "WMS",
                    request: "GetMap",
                    layers: "",
                    styles: "",
                    format: "image/jpeg",
                    transparent: !1,
                    version: "1.1.1"
                },
                options: {
                    crs: null,
                    uppercase: !1
                },
                initialize: function(e, t) {
                    this._url = e;
                    var a = i({}, this.defaultWmsParams);
                    for (var n in t)
                        n in this.options || (a[n] = t[n]);
                    var r = (t = u(this, t)).detectRetina && xe ? 2 : 1
                      , s = this.getTileSize();
                    a.width = s.x * r,
                    a.height = s.y * r,
                    this.wmsParams = a
                },
                onAdd: function(e) {
                    this._crs = this.options.crs || e.options.crs,
                    this._wmsVersion = parseFloat(this.wmsParams.version);
                    var t = this._wmsVersion >= 1.3 ? "crs" : "srs";
                    this.wmsParams[t] = this._crs.code,
                    ia.prototype.onAdd.call(this, e)
                },
                getTileUrl: function(e) {
                    var t = this._tileCoordsToNwSe(e)
                      , i = this._crs
                      , a = O(i.project(t[0]), i.project(t[1]))
                      , n = a.min
                      , r = a.max
                      , s = (this._wmsVersion >= 1.3 && this._crs === wi ? [n.y, n.x, r.y, r.x] : [n.x, n.y, r.x, r.y]).join(",")
                      , o = ia.prototype.getTileUrl.call(this, e);
                    return o + m(this.wmsParams, o, this.options.uppercase) + (this.options.uppercase ? "&BBOX=" : "&bbox=") + s
                },
                setParams: function(e, t) {
                    return i(this.wmsParams, e),
                    t || this.redraw(),
                    this
                }
            });
            ia.WMS = na,
            aa.wms = function(e, t) {
                return new na(e,t)
            }
            ;
            var ra = Si.extend({
                options: {
                    padding: .1,
                    tolerance: 0
                },
                initialize: function(e) {
                    u(this, e),
                    s(this),
                    this._layers = this._layers || {}
                },
                onAdd: function() {
                    this._container || (this._initContainer(),
                    this._zoomAnimated && ht(this._container, "leaflet-zoom-animated")),
                    this.getPane().appendChild(this._container),
                    this._update(),
                    this.on("update", this._updatePaths, this)
                },
                onRemove: function() {
                    this.off("update", this._updatePaths, this),
                    this._destroyContainer()
                },
                getEvents: function() {
                    var e = {
                        viewreset: this._reset,
                        zoom: this._onZoom,
                        moveend: this._update,
                        zoomend: this._onZoomEnd
                    };
                    return this._zoomAnimated && (e.zoomanim = this._onAnimZoom),
                    e
                },
                _onAnimZoom: function(e) {
                    this._updateTransform(e.center, e.zoom)
                },
                _onZoom: function() {
                    this._updateTransform(this._map.getCenter(), this._map.getZoom())
                },
                _updateTransform: function(e, t) {
                    var i = this._map.getZoomScale(t, this._zoom)
                      , a = yt(this._container)
                      , n = this._map.getSize().multiplyBy(.5 + this.options.padding)
                      , r = this._map.project(this._center, t)
                      , s = this._map.project(e, t)
                      , o = s.subtract(r)
                      , l = n.multiplyBy(-i).add(a).add(n).subtract(o);
                    ge ? ft(this._container, l, i) : vt(this._container, l)
                },
                _reset: function() {
                    for (var e in this._update(),
                    this._updateTransform(this._center, this._zoom),
                    this._layers)
                        this._layers[e]._reset()
                },
                _onZoomEnd: function() {
                    for (var e in this._layers)
                        this._layers[e]._project()
                },
                _updatePaths: function() {
                    for (var e in this._layers)
                        this._layers[e]._update()
                },
                _update: function() {
                    var e = this.options.padding
                      , t = this._map.getSize()
                      , i = this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();
                    this._bounds = new B(i,i.add(t.multiplyBy(1 + 2 * e)).round()),
                    this._center = this._map.getCenter(),
                    this._zoom = this._map.getZoom()
                }
            })
              , sa = ra.extend({
                getEvents: function() {
                    var e = ra.prototype.getEvents.call(this);
                    return e.viewprereset = this._onViewPreReset,
                    e
                },
                _onViewPreReset: function() {
                    this._postponeUpdatePaths = !0
                },
                onAdd: function() {
                    ra.prototype.onAdd.call(this),
                    this._draw()
                },
                _initContainer: function() {
                    var e = this._container = document.createElement("canvas");
                    Et(e, "mousemove", o(this._onMouseMove, 32, this), this),
                    Et(e, "click dblclick mousedown mouseup contextmenu", this._onClick, this),
                    Et(e, "mouseout", this._handleMouseOut, this),
                    this._ctx = e.getContext("2d")
                },
                _destroyContainer: function() {
                    T(this._redrawRequest),
                    delete this._ctx,
                    rt(this._container),
                    kt(this._container),
                    delete this._container
                },
                _updatePaths: function() {
                    if (!this._postponeUpdatePaths) {
                        for (var e in this._redrawBounds = null,
                        this._layers)
                            this._layers[e]._update();
                        this._redraw()
                    }
                },
                _update: function() {
                    if (!this._map._animatingZoom || !this._bounds) {
                        ra.prototype._update.call(this);
                        var e = this._bounds
                          , t = this._container
                          , i = e.getSize()
                          , a = xe ? 2 : 1;
                        vt(t, e.min),
                        t.width = a * i.x,
                        t.height = a * i.y,
                        t.style.width = i.x + "px",
                        t.style.height = i.y + "px",
                        xe && this._ctx.scale(2, 2),
                        this._ctx.translate(-e.min.x, -e.min.y),
                        this.fire("update")
                    }
                },
                _reset: function() {
                    ra.prototype._reset.call(this),
                    this._postponeUpdatePaths && (this._postponeUpdatePaths = !1,
                    this._updatePaths())
                },
                _initPath: function(e) {
                    this._updateDashArray(e),
                    this._layers[s(e)] = e;
                    var t = e._order = {
                        layer: e,
                        prev: this._drawLast,
                        next: null
                    };
                    this._drawLast && (this._drawLast.next = t),
                    this._drawLast = t,
                    this._drawFirst = this._drawFirst || this._drawLast
                },
                _addPath: function(e) {
                    this._requestRedraw(e)
                },
                _removePath: function(e) {
                    var t = e._order
                      , i = t.next
                      , a = t.prev;
                    i ? i.prev = a : this._drawLast = a,
                    a ? a.next = i : this._drawFirst = i,
                    delete e._order,
                    delete this._layers[s(e)],
                    this._requestRedraw(e)
                },
                _updatePath: function(e) {
                    this._extendRedrawBounds(e),
                    e._project(),
                    e._update(),
                    this._requestRedraw(e)
                },
                _updateStyle: function(e) {
                    this._updateDashArray(e),
                    this._requestRedraw(e)
                },
                _updateDashArray: function(e) {
                    if ("string" === typeof e.options.dashArray) {
                        var t, i, a = e.options.dashArray.split(/[, ]+/), n = [];
                        for (i = 0; i < a.length; i++) {
                            if (t = Number(a[i]),
                            isNaN(t))
                                return;
                            n.push(t)
                        }
                        e.options._dashArray = n
                    } else
                        e.options._dashArray = e.options.dashArray
                },
                _requestRedraw: function(e) {
                    this._map && (this._extendRedrawBounds(e),
                    this._redrawRequest = this._redrawRequest || S(this._redraw, this))
                },
                _extendRedrawBounds: function(e) {
                    if (e._pxBounds) {
                        var t = (e.options.weight || 0) + 1;
                        this._redrawBounds = this._redrawBounds || new B,
                        this._redrawBounds.extend(e._pxBounds.min.subtract([t, t])),
                        this._redrawBounds.extend(e._pxBounds.max.add([t, t]))
                    }
                },
                _redraw: function() {
                    this._redrawRequest = null,
                    this._redrawBounds && (this._redrawBounds.min._floor(),
                    this._redrawBounds.max._ceil()),
                    this._clear(),
                    this._draw(),
                    this._redrawBounds = null
                },
                _clear: function() {
                    var e = this._redrawBounds;
                    if (e) {
                        var t = e.getSize();
                        this._ctx.clearRect(e.min.x, e.min.y, t.x, t.y)
                    } else
                        this._ctx.clearRect(0, 0, this._container.width, this._container.height)
                },
                _draw: function() {
                    var e, t = this._redrawBounds;
                    if (this._ctx.save(),
                    t) {
                        var i = t.getSize();
                        this._ctx.beginPath(),
                        this._ctx.rect(t.min.x, t.min.y, i.x, i.y),
                        this._ctx.clip()
                    }
                    this._drawing = !0;
                    for (var a = this._drawFirst; a; a = a.next)
                        e = a.layer,
                        (!t || e._pxBounds && e._pxBounds.intersects(t)) && e._updatePath();
                    this._drawing = !1,
                    this._ctx.restore()
                },
                _updatePoly: function(e, t) {
                    if (this._drawing) {
                        var i, a, n, r, s = e._parts, o = s.length, l = this._ctx;
                        if (o) {
                            for (l.beginPath(),
                            i = 0; i < o; i++) {
                                for (a = 0,
                                n = s[i].length; a < n; a++)
                                    r = s[i][a],
                                    l[a ? "lineTo" : "moveTo"](r.x, r.y);
                                t && l.closePath()
                            }
                            this._fillStroke(l, e)
                        }
                    }
                },
                _updateCircle: function(e) {
                    if (this._drawing && !e._empty()) {
                        var t = e._point
                          , i = this._ctx
                          , a = Math.max(Math.round(e._radius), 1)
                          , n = (Math.max(Math.round(e._radiusY), 1) || a) / a;
                        1 !== n && (i.save(),
                        i.scale(1, n)),
                        i.beginPath(),
                        i.arc(t.x, t.y / n, a, 0, 2 * Math.PI, !1),
                        1 !== n && i.restore(),
                        this._fillStroke(i, e)
                    }
                },
                _fillStroke: function(e, t) {
                    var i = t.options;
                    i.fill && (e.globalAlpha = i.fillOpacity,
                    e.fillStyle = i.fillColor || i.color,
                    e.fill(i.fillRule || "evenodd")),
                    i.stroke && 0 !== i.weight && (e.setLineDash && e.setLineDash(t.options && t.options._dashArray || []),
                    e.globalAlpha = i.opacity,
                    e.lineWidth = i.weight,
                    e.strokeStyle = i.color,
                    e.lineCap = i.lineCap,
                    e.lineJoin = i.lineJoin,
                    e.stroke())
                },
                _onClick: function(e) {
                    for (var t, i, a = this._map.mouseEventToLayerPoint(e), n = this._drawFirst; n; n = n.next)
                        (t = n.layer).options.interactive && t._containsPoint(a) && !this._map._draggableMoved(t) && (i = t);
                    i && (Ht(e),
                    this._fireEvent([i], e))
                },
                _onMouseMove: function(e) {
                    if (this._map && !this._map.dragging.moving() && !this._map._animatingZoom) {
                        var t = this._map.mouseEventToLayerPoint(e);
                        this._handleMouseHover(e, t)
                    }
                },
                _handleMouseOut: function(e) {
                    var t = this._hoveredLayer;
                    t && (dt(this._container, "leaflet-interactive"),
                    this._fireEvent([t], e, "mouseout"),
                    this._hoveredLayer = null)
                },
                _handleMouseHover: function(e, t) {
                    for (var i, a, n = this._drawFirst; n; n = n.next)
                        (i = n.layer).options.interactive && i._containsPoint(t) && (a = i);
                    a !== this._hoveredLayer && (this._handleMouseOut(e),
                    a && (ht(this._container, "leaflet-interactive"),
                    this._fireEvent([a], e, "mouseover"),
                    this._hoveredLayer = a)),
                    this._hoveredLayer && this._fireEvent([this._hoveredLayer], e)
                },
                _fireEvent: function(e, t, i) {
                    this._map._fireDOMEvent(t, i || t.type, e)
                },
                _bringToFront: function(e) {
                    var t = e._order;
                    if (t) {
                        var i = t.next
                          , a = t.prev;
                        i && (i.prev = a,
                        a ? a.next = i : i && (this._drawFirst = i),
                        t.prev = this._drawLast,
                        this._drawLast.next = t,
                        t.next = null,
                        this._drawLast = t,
                        this._requestRedraw(e))
                    }
                },
                _bringToBack: function(e) {
                    var t = e._order;
                    if (t) {
                        var i = t.next
                          , a = t.prev;
                        a && (a.next = i,
                        i ? i.prev = a : a && (this._drawLast = a),
                        t.prev = null,
                        t.next = this._drawFirst,
                        this._drawFirst.prev = t,
                        this._drawFirst = t,
                        this._requestRedraw(e))
                    }
                }
            });
            function oa(e) {
                return Se ? new sa(e) : null
            }
            var la = function() {
                try {
                    return document.namespaces.add("lvml", "urn:schemas-microsoft-com:vml"),
                    function(e) {
                        return document.createElement("<lvml:" + e + ' class="lvml">')
                    }
                } catch (e) {
                    return function(e) {
                        return document.createElement("<" + e + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')
                    }
                }
            }()
              , ca = {
                _initContainer: function() {
                    this._container = nt("div", "leaflet-vml-container")
                },
                _update: function() {
                    this._map._animatingZoom || (ra.prototype._update.call(this),
                    this.fire("update"))
                },
                _initPath: function(e) {
                    var t = e._container = la("shape");
                    ht(t, "leaflet-vml-shape " + (this.options.className || "")),
                    t.coordsize = "1 1",
                    e._path = la("path"),
                    t.appendChild(e._path),
                    this._updateStyle(e),
                    this._layers[s(e)] = e
                },
                _addPath: function(e) {
                    var t = e._container;
                    this._container.appendChild(t),
                    e.options.interactive && e.addInteractiveTarget(t)
                },
                _removePath: function(e) {
                    var t = e._container;
                    rt(t),
                    e.removeInteractiveTarget(t),
                    delete this._layers[s(e)]
                },
                _updateStyle: function(e) {
                    var t = e._stroke
                      , i = e._fill
                      , a = e.options
                      , n = e._container;
                    n.stroked = !!a.stroke,
                    n.filled = !!a.fill,
                    a.stroke ? (t || (t = e._stroke = la("stroke")),
                    n.appendChild(t),
                    t.weight = a.weight + "px",
                    t.color = a.color,
                    t.opacity = a.opacity,
                    a.dashArray ? t.dashStyle = v(a.dashArray) ? a.dashArray.join(" ") : a.dashArray.replace(/( *, *)/g, " ") : t.dashStyle = "",
                    t.endcap = a.lineCap.replace("butt", "flat"),
                    t.joinstyle = a.lineJoin) : t && (n.removeChild(t),
                    e._stroke = null),
                    a.fill ? (i || (i = e._fill = la("fill")),
                    n.appendChild(i),
                    i.color = a.fillColor || a.color,
                    i.opacity = a.fillOpacity) : i && (n.removeChild(i),
                    e._fill = null)
                },
                _updateCircle: function(e) {
                    var t = e._point.round()
                      , i = Math.round(e._radius)
                      , a = Math.round(e._radiusY || i);
                    this._setPath(e, e._empty() ? "M0 0" : "AL " + t.x + "," + t.y + " " + i + "," + a + " 0,23592600")
                },
                _setPath: function(e, t) {
                    e._path.v = t
                },
                _bringToFront: function(e) {
                    ot(e._container)
                },
                _bringToBack: function(e) {
                    lt(e._container)
                }
            }
              , ha = Ee ? la : j
              , da = ra.extend({
                getEvents: function() {
                    var e = ra.prototype.getEvents.call(this);
                    return e.zoomstart = this._onZoomStart,
                    e
                },
                _initContainer: function() {
                    this._container = ha("svg"),
                    this._container.setAttribute("pointer-events", "none"),
                    this._rootGroup = ha("g"),
                    this._container.appendChild(this._rootGroup)
                },
                _destroyContainer: function() {
                    rt(this._container),
                    kt(this._container),
                    delete this._container,
                    delete this._rootGroup,
                    delete this._svgSize
                },
                _onZoomStart: function() {
                    this._update()
                },
                _update: function() {
                    if (!this._map._animatingZoom || !this._bounds) {
                        ra.prototype._update.call(this);
                        var e = this._bounds
                          , t = e.getSize()
                          , i = this._container;
                        this._svgSize && this._svgSize.equals(t) || (this._svgSize = t,
                        i.setAttribute("width", t.x),
                        i.setAttribute("height", t.y)),
                        vt(i, e.min),
                        i.setAttribute("viewBox", [e.min.x, e.min.y, t.x, t.y].join(" ")),
                        this.fire("update")
                    }
                },
                _initPath: function(e) {
                    var t = e._path = ha("path");
                    e.options.className && ht(t, e.options.className),
                    e.options.interactive && ht(t, "leaflet-interactive"),
                    this._updateStyle(e),
                    this._layers[s(e)] = e
                },
                _addPath: function(e) {
                    this._rootGroup || this._initContainer(),
                    this._rootGroup.appendChild(e._path),
                    e.addInteractiveTarget(e._path)
                },
                _removePath: function(e) {
                    rt(e._path),
                    e.removeInteractiveTarget(e._path),
                    delete this._layers[s(e)]
                },
                _updatePath: function(e) {
                    e._project(),
                    e._update()
                },
                _updateStyle: function(e) {
                    var t = e._path
                      , i = e.options;
                    t && (i.stroke ? (t.setAttribute("stroke", i.color),
                    t.setAttribute("stroke-opacity", i.opacity),
                    t.setAttribute("stroke-width", i.weight),
                    t.setAttribute("stroke-linecap", i.lineCap),
                    t.setAttribute("stroke-linejoin", i.lineJoin),
                    i.dashArray ? t.setAttribute("stroke-dasharray", i.dashArray) : t.removeAttribute("stroke-dasharray"),
                    i.dashOffset ? t.setAttribute("stroke-dashoffset", i.dashOffset) : t.removeAttribute("stroke-dashoffset")) : t.setAttribute("stroke", "none"),
                    i.fill ? (t.setAttribute("fill", i.fillColor || i.color),
                    t.setAttribute("fill-opacity", i.fillOpacity),
                    t.setAttribute("fill-rule", i.fillRule || "evenodd")) : t.setAttribute("fill", "none"))
                },
                _updatePoly: function(e, t) {
                    this._setPath(e, $(e._parts, t))
                },
                _updateCircle: function(e) {
                    var t = e._point
                      , i = Math.max(Math.round(e._radius), 1)
                      , a = Math.max(Math.round(e._radiusY), 1) || i
                      , n = "a" + i + "," + a + " 0 1,0 "
                      , r = e._empty() ? "M0 0" : "M" + (t.x - i) + "," + t.y + n + 2 * i + ",0 " + n + 2 * -i + ",0 ";
                    this._setPath(e, r)
                },
                _setPath: function(e, t) {
                    e._path.setAttribute("d", t)
                },
                _bringToFront: function(e) {
                    ot(e._path)
                },
                _bringToBack: function(e) {
                    lt(e._path)
                }
            });
            function pa(e) {
                return Te || Ee ? new da(e) : null
            }
            Ee && da.include(ca),
            Yt.include({
                getRenderer: function(e) {
                    var t = e.options.renderer || this._getPaneRenderer(e.options.pane) || this.options.renderer || this._renderer;
                    return t || (t = this._renderer = this._createRenderer()),
                    this.hasLayer(t) || this.addLayer(t),
                    t
                },
                _getPaneRenderer: function(e) {
                    if ("overlayPane" === e || void 0 === e)
                        return !1;
                    var t = this._paneRenderers[e];
                    return void 0 === t && (t = this._createRenderer({
                        pane: e
                    }),
                    this._paneRenderers[e] = t),
                    t
                },
                _createRenderer: function(e) {
                    return this.options.preferCanvas && oa(e) || pa(e)
                }
            });
            var ua = Oi.extend({
                initialize: function(e, t) {
                    Oi.prototype.initialize.call(this, this._boundsToLatLngs(e), t)
                },
                setBounds: function(e) {
                    return this.setLatLngs(this._boundsToLatLngs(e))
                },
                _boundsToLatLngs: function(e) {
                    return [(e = N(e)).getSouthWest(), e.getNorthWest(), e.getNorthEast(), e.getSouthEast()]
                }
            });
            da.create = ha,
            da.pointsToPath = $,
            Ri.geometryToLayer = Ni,
            Ri.coordsToLatLng = Vi,
            Ri.coordsToLatLngs = Fi,
            Ri.latLngToCoords = Gi,
            Ri.latLngsToCoords = Hi,
            Ri.getFeature = Ui,
            Ri.asFeature = Qi,
            Yt.mergeOptions({
                boxZoom: !0
            });
            var ma = ei.extend({
                initialize: function(e) {
                    this._map = e,
                    this._container = e._container,
                    this._pane = e._panes.overlayPane,
                    this._resetStateTimeout = 0,
                    e.on("unload", this._destroy, this)
                },
                addHooks: function() {
                    Et(this._container, "mousedown", this._onMouseDown, this)
                },
                removeHooks: function() {
                    kt(this._container, "mousedown", this._onMouseDown, this)
                },
                moved: function() {
                    return this._moved
                },
                _destroy: function() {
                    rt(this._pane),
                    delete this._pane
                },
                _resetState: function() {
                    this._resetStateTimeout = 0,
                    this._moved = !1
                },
                _clearDeferredResetState: function() {
                    0 !== this._resetStateTimeout && (clearTimeout(this._resetStateTimeout),
                    this._resetStateTimeout = 0)
                },
                _onMouseDown: function(e) {
                    if (!e.shiftKey || 1 !== e.which && 1 !== e.button)
                        return !1;
                    this._clearDeferredResetState(),
                    this._resetState(),
                    je(),
                    _t(),
                    this._startPoint = this._map.mouseEventToContainerPoint(e),
                    Et(document, {
                        contextmenu: Ot,
                        mousemove: this._onMouseMove,
                        mouseup: this._onMouseUp,
                        keydown: this._onKeyDown
                    }, this)
                },
                _onMouseMove: function(e) {
                    this._moved || (this._moved = !0,
                    this._box = nt("div", "leaflet-zoom-box", this._container),
                    ht(this._container, "leaflet-crosshair"),
                    this._map.fire("boxzoomstart")),
                    this._point = this._map.mouseEventToContainerPoint(e);
                    var t = new B(this._point,this._startPoint)
                      , i = t.getSize();
                    vt(this._box, t.min),
                    this._box.style.width = i.x + "px",
                    this._box.style.height = i.y + "px"
                },
                _finish: function() {
                    this._moved && (rt(this._box),
                    dt(this._container, "leaflet-crosshair")),
                    $e(),
                    bt(),
                    kt(document, {
                        contextmenu: Ot,
                        mousemove: this._onMouseMove,
                        mouseup: this._onMouseUp,
                        keydown: this._onKeyDown
                    }, this)
                },
                _onMouseUp: function(e) {
                    if ((1 === e.which || 1 === e.button) && (this._finish(),
                    this._moved)) {
                        this._clearDeferredResetState(),
                        this._resetStateTimeout = setTimeout(n(this._resetState, this), 0);
                        var t = new R(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));
                        this._map.fitBounds(t).fire("boxzoomend", {
                            boxZoomBounds: t
                        })
                    }
                },
                _onKeyDown: function(e) {
                    27 === e.keyCode && this._finish()
                }
            });
            Yt.addInitHook("addHandler", "boxZoom", ma),
            Yt.mergeOptions({
                doubleClickZoom: !0
            });
            var ga = ei.extend({
                addHooks: function() {
                    this._map.on("dblclick", this._onDoubleClick, this)
                },
                removeHooks: function() {
                    this._map.off("dblclick", this._onDoubleClick, this)
                },
                _onDoubleClick: function(e) {
                    var t = this._map
                      , i = t.getZoom()
                      , a = t.options.zoomDelta
                      , n = e.originalEvent.shiftKey ? i - a : i + a;
                    "center" === t.options.doubleClickZoom ? t.setZoom(n) : t.setZoomAround(e.containerPoint, n)
                }
            });
            Yt.addInitHook("addHandler", "doubleClickZoom", ga),
            Yt.mergeOptions({
                dragging: !0,
                inertia: !ie,
                inertiaDeceleration: 3400,
                inertiaMaxSpeed: 1 / 0,
                easeLinearity: .2,
                worldCopyJump: !1,
                maxBoundsViscosity: 0
            });
            var fa = ei.extend({
                addHooks: function() {
                    if (!this._draggable) {
                        var e = this._map;
                        this._draggable = new si(e._mapPane,e._container),
                        this._draggable.on({
                            dragstart: this._onDragStart,
                            drag: this._onDrag,
                            dragend: this._onDragEnd
                        }, this),
                        this._draggable.on("predrag", this._onPreDragLimit, this),
                        e.options.worldCopyJump && (this._draggable.on("predrag", this._onPreDragWrap, this),
                        e.on("zoomend", this._onZoomEnd, this),
                        e.whenReady(this._onZoomEnd, this))
                    }
                    ht(this._map._container, "leaflet-grab leaflet-touch-drag"),
                    this._draggable.enable(),
                    this._positions = [],
                    this._times = []
                },
                removeHooks: function() {
                    dt(this._map._container, "leaflet-grab"),
                    dt(this._map._container, "leaflet-touch-drag"),
                    this._draggable.disable()
                },
                moved: function() {
                    return this._draggable && this._draggable._moved
                },
                moving: function() {
                    return this._draggable && this._draggable._moving
                },
                _onDragStart: function() {
                    var e = this._map;
                    if (e._stop(),
                    this._map.options.maxBounds && this._map.options.maxBoundsViscosity) {
                        var t = N(this._map.options.maxBounds);
                        this._offsetLimit = O(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1), this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),
                        this._viscosity = Math.min(1, Math.max(0, this._map.options.maxBoundsViscosity))
                    } else
                        this._offsetLimit = null;
                    e.fire("movestart").fire("dragstart"),
                    e.options.inertia && (this._positions = [],
                    this._times = [])
                },
                _onDrag: function(e) {
                    if (this._map.options.inertia) {
                        var t = this._lastTime = +new Date
                          , i = this._lastPos = this._draggable._absPos || this._draggable._newPos;
                        this._positions.push(i),
                        this._times.push(t),
                        this._prunePositions(t)
                    }
                    this._map.fire("move", e).fire("drag", e)
                },
                _prunePositions: function(e) {
                    for (; this._positions.length > 1 && e - this._times[0] > 50; )
                        this._positions.shift(),
                        this._times.shift()
                },
                _onZoomEnd: function() {
                    var e = this._map.getSize().divideBy(2)
                      , t = this._map.latLngToLayerPoint([0, 0]);
                    this._initialWorldOffset = t.subtract(e).x,
                    this._worldWidth = this._map.getPixelWorldBounds().getSize().x
                },
                _viscousLimit: function(e, t) {
                    return e - (e - t) * this._viscosity
                },
                _onPreDragLimit: function() {
                    if (this._viscosity && this._offsetLimit) {
                        var e = this._draggable._newPos.subtract(this._draggable._startPos)
                          , t = this._offsetLimit;
                        e.x < t.min.x && (e.x = this._viscousLimit(e.x, t.min.x)),
                        e.y < t.min.y && (e.y = this._viscousLimit(e.y, t.min.y)),
                        e.x > t.max.x && (e.x = this._viscousLimit(e.x, t.max.x)),
                        e.y > t.max.y && (e.y = this._viscousLimit(e.y, t.max.y)),
                        this._draggable._newPos = this._draggable._startPos.add(e)
                    }
                },
                _onPreDragWrap: function() {
                    var e = this._worldWidth
                      , t = Math.round(e / 2)
                      , i = this._initialWorldOffset
                      , a = this._draggable._newPos.x
                      , n = (a - t + i) % e + t - i
                      , r = (a + t + i) % e - t - i
                      , s = Math.abs(n + i) < Math.abs(r + i) ? n : r;
                    this._draggable._absPos = this._draggable._newPos.clone(),
                    this._draggable._newPos.x = s
                },
                _onDragEnd: function(e) {
                    var t = this._map
                      , i = t.options
                      , a = !i.inertia || this._times.length < 2;
                    if (t.fire("dragend", e),
                    a)
                        t.fire("moveend");
                    else {
                        this._prunePositions(+new Date);
                        var n = this._lastPos.subtract(this._positions[0])
                          , r = (this._lastTime - this._times[0]) / 1e3
                          , s = i.easeLinearity
                          , o = n.multiplyBy(s / r)
                          , l = o.distanceTo([0, 0])
                          , c = Math.min(i.inertiaMaxSpeed, l)
                          , h = o.multiplyBy(c / l)
                          , d = c / (i.inertiaDeceleration * s)
                          , p = h.multiplyBy(-d / 2).round();
                        p.x || p.y ? (p = t._limitOffset(p, t.options.maxBounds),
                        S(function() {
                            t.panBy(p, {
                                duration: d,
                                easeLinearity: s,
                                noMoveStart: !0,
                                animate: !0
                            })
                        })) : t.fire("moveend")
                    }
                }
            });
            Yt.addInitHook("addHandler", "dragging", fa),
            Yt.mergeOptions({
                keyboard: !0,
                keyboardPanDelta: 80
            });
            var va = ei.extend({
                keyCodes: {
                    left: [37],
                    right: [39],
                    down: [40],
                    up: [38],
                    zoomIn: [187, 107, 61, 171],
                    zoomOut: [189, 109, 54, 173]
                },
                initialize: function(e) {
                    this._map = e,
                    this._setPanDelta(e.options.keyboardPanDelta),
                    this._setZoomDelta(e.options.zoomDelta)
                },
                addHooks: function() {
                    var e = this._map._container;
                    e.tabIndex <= 0 && (e.tabIndex = "0"),
                    Et(e, {
                        focus: this._onFocus,
                        blur: this._onBlur,
                        mousedown: this._onMouseDown
                    }, this),
                    this._map.on({
                        focus: this._addHooks,
                        blur: this._removeHooks
                    }, this)
                },
                removeHooks: function() {
                    this._removeHooks(),
                    kt(this._map._container, {
                        focus: this._onFocus,
                        blur: this._onBlur,
                        mousedown: this._onMouseDown
                    }, this),
                    this._map.off({
                        focus: this._addHooks,
                        blur: this._removeHooks
                    }, this)
                },
                _onMouseDown: function() {
                    if (!this._focused) {
                        var e = document.body
                          , t = document.documentElement
                          , i = e.scrollTop || t.scrollTop
                          , a = e.scrollLeft || t.scrollLeft;
                        this._map._container.focus(),
                        window.scrollTo(a, i)
                    }
                },
                _onFocus: function() {
                    this._focused = !0,
                    this._map.fire("focus")
                },
                _onBlur: function() {
                    this._focused = !1,
                    this._map.fire("blur")
                },
                _setPanDelta: function(e) {
                    var t, i, a = this._panKeys = {}, n = this.keyCodes;
                    for (t = 0,
                    i = n.left.length; t < i; t++)
                        a[n.left[t]] = [-1 * e, 0];
                    for (t = 0,
                    i = n.right.length; t < i; t++)
                        a[n.right[t]] = [e, 0];
                    for (t = 0,
                    i = n.down.length; t < i; t++)
                        a[n.down[t]] = [0, e];
                    for (t = 0,
                    i = n.up.length; t < i; t++)
                        a[n.up[t]] = [0, -1 * e]
                },
                _setZoomDelta: function(e) {
                    var t, i, a = this._zoomKeys = {}, n = this.keyCodes;
                    for (t = 0,
                    i = n.zoomIn.length; t < i; t++)
                        a[n.zoomIn[t]] = e;
                    for (t = 0,
                    i = n.zoomOut.length; t < i; t++)
                        a[n.zoomOut[t]] = -e
                },
                _addHooks: function() {
                    Et(document, "keydown", this._onKeyDown, this)
                },
                _removeHooks: function() {
                    kt(document, "keydown", this._onKeyDown, this)
                },
                _onKeyDown: function(e) {
                    if (!(e.altKey || e.ctrlKey || e.metaKey)) {
                        var t, i = e.keyCode, a = this._map;
                        if (i in this._panKeys)
                            a._panAnim && a._panAnim._inProgress || (t = this._panKeys[i],
                            e.shiftKey && (t = M(t).multiplyBy(3)),
                            a.panBy(t),
                            a.options.maxBounds && a.panInsideBounds(a.options.maxBounds));
                        else if (i in this._zoomKeys)
                            a.setZoom(a.getZoom() + (e.shiftKey ? 3 : 1) * this._zoomKeys[i]);
                        else {
                            if (27 !== i || !a._popup || !a._popup.options.closeOnEscapeKey)
                                return;
                            a.closePopup()
                        }
                        Ot(e)
                    }
                }
            });
            Yt.addInitHook("addHandler", "keyboard", va),
            Yt.mergeOptions({
                scrollWheelZoom: !0,
                wheelDebounceTime: 40,
                wheelPxPerZoomLevel: 60
            });
            var ya = ei.extend({
                addHooks: function() {
                    Et(this._map._container, "mousewheel", this._onWheelScroll, this),
                    this._delta = 0
                },
                removeHooks: function() {
                    kt(this._map._container, "mousewheel", this._onWheelScroll, this)
                },
                _onWheelScroll: function(e) {
                    var t = Vt(e)
                      , i = this._map.options.wheelDebounceTime;
                    this._delta += t,
                    this._lastMousePos = this._map.mouseEventToContainerPoint(e),
                    this._startTime || (this._startTime = +new Date);
                    var a = Math.max(i - (+new Date - this._startTime), 0);
                    clearTimeout(this._timer),
                    this._timer = setTimeout(n(this._performZoom, this), a),
                    Ot(e)
                },
                _performZoom: function() {
                    var e = this._map
                      , t = e.getZoom()
                      , i = this._map.options.zoomSnap || 0;
                    e._stop();
                    var a = this._delta / (4 * this._map.options.wheelPxPerZoomLevel)
                      , n = 4 * Math.log(2 / (1 + Math.exp(-Math.abs(a)))) / Math.LN2
                      , r = i ? Math.ceil(n / i) * i : n
                      , s = e._limitZoom(t + (this._delta > 0 ? r : -r)) - t;
                    this._delta = 0,
                    this._startTime = null,
                    s && ("center" === e.options.scrollWheelZoom ? e.setZoom(t + s) : e.setZoomAround(this._lastMousePos, t + s))
                }
            });
            Yt.addInitHook("addHandler", "scrollWheelZoom", ya),
            Yt.mergeOptions({
                tap: !0,
                tapTolerance: 15
            });
            var Aa = ei.extend({
                addHooks: function() {
                    Et(this._map._container, "touchstart", this._onDown, this)
                },
                removeHooks: function() {
                    kt(this._map._container, "touchstart", this._onDown, this)
                },
                _onDown: function(e) {
                    if (e.touches) {
                        if (Bt(e),
                        this._fireClick = !0,
                        e.touches.length > 1)
                            return this._fireClick = !1,
                            void clearTimeout(this._holdTimeout);
                        var t = e.touches[0]
                          , i = t.target;
                        this._startPos = this._newPos = new I(t.clientX,t.clientY),
                        i.tagName && "a" === i.tagName.toLowerCase() && ht(i, "leaflet-active"),
                        this._holdTimeout = setTimeout(n(function() {
                            this._isTapValid() && (this._fireClick = !1,
                            this._onUp(),
                            this._simulateEvent("contextmenu", t))
                        }, this), 1e3),
                        this._simulateEvent("mousedown", t),
                        Et(document, {
                            touchmove: this._onMove,
                            touchend: this._onUp
                        }, this)
                    }
                },
                _onUp: function(e) {
                    if (clearTimeout(this._holdTimeout),
                    kt(document, {
                        touchmove: this._onMove,
                        touchend: this._onUp
                    }, this),
                    this._fireClick && e && e.changedTouches) {
                        var t = e.changedTouches[0]
                          , i = t.target;
                        i && i.tagName && "a" === i.tagName.toLowerCase() && dt(i, "leaflet-active"),
                        this._simulateEvent("mouseup", t),
                        this._isTapValid() && this._simulateEvent("click", t)
                    }
                },
                _isTapValid: function() {
                    return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance
                },
                _onMove: function(e) {
                    var t = e.touches[0];
                    this._newPos = new I(t.clientX,t.clientY),
                    this._simulateEvent("mousemove", t)
                },
                _simulateEvent: function(e, t) {
                    var i = document.createEvent("MouseEvents");
                    i._simulated = !0,
                    t.target._simulatedClick = !0,
                    i.initMouseEvent(e, !0, !0, window, 1, t.screenX, t.screenY, t.clientX, t.clientY, !1, !1, !1, !1, 0, null),
                    t.target.dispatchEvent(i)
                }
            });
            be && !_e && Yt.addInitHook("addHandler", "tap", Aa),
            Yt.mergeOptions({
                touchZoom: be && !ie,
                bounceAtZoomLimits: !0
            });
            var _a = ei.extend({
                addHooks: function() {
                    ht(this._map._container, "leaflet-touch-zoom"),
                    Et(this._map._container, "touchstart", this._onTouchStart, this)
                },
                removeHooks: function() {
                    dt(this._map._container, "leaflet-touch-zoom"),
                    kt(this._map._container, "touchstart", this._onTouchStart, this)
                },
                _onTouchStart: function(e) {
                    var t = this._map;
                    if (e.touches && 2 === e.touches.length && !t._animatingZoom && !this._zooming) {
                        var i = t.mouseEventToContainerPoint(e.touches[0])
                          , a = t.mouseEventToContainerPoint(e.touches[1]);
                        this._centerPoint = t.getSize()._divideBy(2),
                        this._startLatLng = t.containerPointToLatLng(this._centerPoint),
                        "center" !== t.options.touchZoom && (this._pinchStartLatLng = t.containerPointToLatLng(i.add(a)._divideBy(2))),
                        this._startDist = i.distanceTo(a),
                        this._startZoom = t.getZoom(),
                        this._moved = !1,
                        this._zooming = !0,
                        t._stop(),
                        Et(document, "touchmove", this._onTouchMove, this),
                        Et(document, "touchend", this._onTouchEnd, this),
                        Bt(e)
                    }
                },
                _onTouchMove: function(e) {
                    if (e.touches && 2 === e.touches.length && this._zooming) {
                        var t = this._map
                          , i = t.mouseEventToContainerPoint(e.touches[0])
                          , a = t.mouseEventToContainerPoint(e.touches[1])
                          , r = i.distanceTo(a) / this._startDist;
                        if (this._zoom = t.getScaleZoom(r, this._startZoom),
                        !t.options.bounceAtZoomLimits && (this._zoom < t.getMinZoom() && r < 1 || this._zoom > t.getMaxZoom() && r > 1) && (this._zoom = t._limitZoom(this._zoom)),
                        "center" === t.options.touchZoom) {
                            if (this._center = this._startLatLng,
                            1 === r)
                                return
                        } else {
                            var s = i._add(a)._divideBy(2)._subtract(this._centerPoint);
                            if (1 === r && 0 === s.x && 0 === s.y)
                                return;
                            this._center = t.unproject(t.project(this._pinchStartLatLng, this._zoom).subtract(s), this._zoom)
                        }
                        this._moved || (t._moveStart(!0, !1),
                        this._moved = !0),
                        T(this._animRequest);
                        var o = n(t._move, t, this._center, this._zoom, {
                            pinch: !0,
                            round: !1
                        });
                        this._animRequest = S(o, this, !0),
                        Bt(e)
                    }
                },
                _onTouchEnd: function() {
                    this._moved && this._zooming ? (this._zooming = !1,
                    T(this._animRequest),
                    kt(document, "touchmove", this._onTouchMove),
                    kt(document, "touchend", this._onTouchEnd),
                    this._map.options.zoomAnimation ? this._map._animateZoom(this._center, this._map._limitZoom(this._zoom), !0, this._map.options.zoomSnap) : this._map._resetView(this._center, this._map._limitZoom(this._zoom))) : this._zooming = !1
                }
            });
            Yt.addInitHook("addHandler", "touchZoom", _a),
            Yt.BoxZoom = ma,
            Yt.DoubleClickZoom = ga,
            Yt.Drag = fa,
            Yt.Keyboard = va,
            Yt.ScrollWheelZoom = ya,
            Yt.Tap = Aa,
            Yt.TouchZoom = _a,
            Object.freeze = t,
            e.version = "1.5.1+build.2e3e0ffb",
            e.Control = jt,
            e.control = $t,
            e.Browser = ke,
            e.Evented = z,
            e.Mixin = ii,
            e.Util = E,
            e.Class = k,
            e.Handler = ei,
            e.extend = i,
            e.bind = n,
            e.stamp = s,
            e.setOptions = u,
            e.DomEvent = Kt,
            e.DomUtil = Tt,
            e.PosAnimation = Wt,
            e.Draggable = si,
            e.LineUtil = fi,
            e.PolyUtil = yi,
            e.Point = I,
            e.point = M,
            e.Bounds = B,
            e.bounds = O,
            e.Transformation = Q,
            e.transformation = K,
            e.Projection = bi,
            e.LatLng = V,
            e.latLng = F,
            e.LatLngBounds = R,
            e.latLngBounds = N,
            e.CRS = G,
            e.GeoJSON = Ri,
            e.geoJSON = Wi,
            e.geoJson = Yi,
            e.Layer = Si,
            e.LayerGroup = Ti,
            e.layerGroup = function(e, t) {
                return new Ti(e,t)
            }
            ,
            e.FeatureGroup = Ei,
            e.featureGroup = function(e) {
                return new Ei(e)
            }
            ,
            e.ImageOverlay = ji,
            e.imageOverlay = function(e, t, i) {
                return new ji(e,t,i)
            }
            ,
            e.VideoOverlay = $i,
            e.videoOverlay = function(e, t, i) {
                return new $i(e,t,i)
            }
            ,
            e.SVGOverlay = Zi,
            e.svgOverlay = function(e, t, i) {
                return new Zi(e,t,i)
            }
            ,
            e.DivOverlay = qi,
            e.Popup = Xi,
            e.popup = function(e, t) {
                return new Xi(e,t)
            }
            ,
            e.Tooltip = Ji,
            e.tooltip = function(e, t) {
                return new Ji(e,t)
            }
            ,
            e.Icon = Li,
            e.icon = function(e) {
                return new Li(e)
            }
            ,
            e.DivIcon = ea,
            e.divIcon = function(e) {
                return new ea(e)
            }
            ,
            e.Marker = zi,
            e.marker = function(e, t) {
                return new zi(e,t)
            }
            ,
            e.TileLayer = ia,
            e.tileLayer = aa,
            e.GridLayer = ta,
            e.gridLayer = function(e) {
                return new ta(e)
            }
            ,
            e.SVG = da,
            e.svg = pa,
            e.Renderer = ra,
            e.Canvas = sa,
            e.canvas = oa,
            e.Path = Ii,
            e.CircleMarker = Di,
            e.circleMarker = function(e, t) {
                return new Di(e,t)
            }
            ,
            e.Circle = Mi,
            e.circle = function(e, t, i) {
                return new Mi(e,t,i)
            }
            ,
            e.Polyline = Bi,
            e.polyline = function(e, t) {
                return new Bi(e,t)
            }
            ,
            e.Polygon = Oi,
            e.polygon = function(e, t) {
                return new Oi(e,t)
            }
            ,
            e.Rectangle = ua,
            e.rectangle = function(e, t) {
                return new ua(e,t)
            }
            ,
            e.Map = Yt,
            e.map = function(e, t) {
                return new Yt(e,t)
            }
            ;
            var ba = window.L;
            e.noConflict = function() {
                return window.L = ba,
                this
            }
            ,
            window.L = e
        }(t)
    },
    1222: function(e, t, i) {
        "use strict";
        var a = i(1239)
          , n = i(45)
          , r = {
            red: "#ff0035",
            royalRed: "#f6192e",
            orange: "#ed7e00",
            mango: "#ff9e0d",
            hatorade: "#daf200",
            green: "#50b012",
            lightGreen: "#baf792",
            peakGreen: "#72ea24",
            blue: "#11a9ed",
            lightBlue: "#b0e1f7",
            skyBlue: "#73d4ff",
            royalBlue: "#4169E1",
            babyBlue: "#57c4E8",
            purple: "#cf23b8",
            gritPurple: "#632d5c",
            grey: "#888",
            baseGrey: "#e6e6e6",
            expandGrey: "#6d8595",
            performanceGrey: "#7d919f",
            diveGrey: "#C8D8E3",
            decoRed: "#D0021B",
            workoutTargetGray: "#C7C7C7",
            powerCurveGrey: "#C7C7C7",
            powerCurveDarkerGrey: "#6E8594",
            powerCurveBlue: "#B0E1F7",
            p02Green: "#33AE00",
            vo2Black: "#222",
            teBenefitPurple: "#6439E4",
            teBenefitYellow: "#F27019",
            teBenefitGreen: "#0AA476",
            loadFocusAnaerobic: "#9370F9",
            loadFocusHighAerobic: "#FEAF5A",
            loadFocusLowAerobic: "#34D6A6",
            tsDetrainingGrey: "#555",
            tsUnproductiveOrange: "#FF9735",
            tsPeakingPurple: "#815AF7"
        }
          , s = {
            mapSeriesType: function(e, t) {
                if (null == e)
                    return "";
                if (e.chartColor && "function" === typeof e.chartColor)
                    return e.chartColor();
                switch (e.name || e.prototype.name) {
                case a.a.Elevation.prototype.name:
                case a.a.Ascent.prototype.name:
                case a.a.ClimbAscent.prototype.name:
                    return r.green;
                case a.a.StrokeRate.prototype.name:
                case a.a.SwimStrokes.prototype.name:
                case a.a.OpenWaterSwimStrokes.prototype.name:
                case a.a.BikeCadence.prototype.name:
                case a.a.RunCadence.prototype.name:
                    return r.orange;
                case a.a.SwimSwolf.prototype.name:
                case a.a.PowerKg.prototype.name:
                case a.a.PowerWatts.prototype.name:
                case a.a.VerticalRatio.prototype.name:
                case a.a.VerticalOscillation.prototype.name:
                case a.a.VectorAirWindSpeed.prototype.name:
                    return r.purple;
                case a.a.Gforce.prototype.name:
                case a.a.HeartRate.prototype.name:
                case a.a.HeartRateLapSwimming.prototype.name:
                case a.a.VectorAirDragCdA.prototype.name:
                case a.a.VectorAirDragWattsPerCdA.prototype.name:
                    return r.red;
                case a.a.LeftRightPowerBalance.prototype.name:
                    return "rgba(207,35,184,.5)";
                case a.a.LeftPCO.prototype.name:
                    return t ? "rgb(191,15,36)" : "rgba(191,15,36,.5)";
                case a.a.RightPCO.prototype.name:
                    return t ? "rgb(255,158,13)" : "rgba(255,158,13,.5)";
                case a.a.LeftPPStart.prototype.name:
                case a.a.LeftPeakPPStart.prototype.name:
                    return t ? "rgb(80,176,18)" : "rgba(80,176,18,.5)";
                case a.a.RightPPStart.prototype.name:
                case a.a.RightPeakPPStart.prototype.name:
                    return t ? "rgb(17,169,237)" : "rgba(17,169,237,.5)";
                case a.a.LeftPPEnd.prototype.name:
                case a.a.LeftPeakPPEnd.prototype.name:
                    return t ? "rgb(80,176,18)" : "rgba(80,176,18,.5)";
                case a.a.RightPPEnd.prototype.name:
                case a.a.RightPeakPPEnd.prototype.name:
                    return t ? "rgb(17,169,237)" : "rgba(17,169,237,.5)";
                case a.a.GroundContactTimeBalance.prototype.name:
                case a.a.GroundContactTime.prototype.name:
                case a.a.SwimSpeed.prototype.name:
                case a.a.SwimPace.prototype.name:
                case a.a.Speed.prototype.name:
                case a.a.Pace.prototype.name:
                case a.a.LapAveragePace.prototype.name:
                case a.a.FloorClimbingPace.prototype.name:
                case a.a.OpenWaterSwimPace.prototype.name:
                case a.a.OpenWaterSwimSpeed.prototype.name:
                case a.a.Position.prototype.name:
                    return r.blue;
                case a.a.RespirationRate.prototype.name:
                    return r.lightBlue;
                case a.a.Temperature.prototype.name:
                    return r.grey;
                case a.a.DistancePerStroke.prototype.name:
                case a.a.StrideLength.prototype.name:
                    return r.royalBlue;
                case a.a.DiveDepth.prototype.name:
                    return r.diveGrey;
                case a.a.DecoCeiling.prototype.name:
                    return r.decoRed;
                case a.a.SetPointDepth.prototype.name:
                    return r.p02Green;
                case a.a.Flow.prototype.name:
                    return r.peakGreen;
                case a.a.Grit.prototype.name:
                    return r.gritPurple;
                case a.a.Stress.prototype.name:
                    return n.orange_light_1;
                case a.a.TankPressure.prototype.name:
                    return n.teal_dark_3;
                default:
                    return ""
                }
            },
            getVerticalOscillationColorRange: function(e) {
                return e ? {
                    Purple: {
                        zone: "95",
                        range: "6.4",
                        cutoffMin: 0,
                        cutoffMax: 6.4
                    },
                    Blue: {
                        zone: "70 - 95",
                        range: "6.4 - 8.6",
                        cutoffMin: 0,
                        cutoffMax: 8.6
                    },
                    Green: {
                        zone: "30 - 69",
                        range: "8.7 - 10.8",
                        cutoffMin: 0,
                        cutoffMax: 10.8
                    },
                    Orange: {
                        zone: "5 - 29",
                        range: "10.9 - 13.1",
                        cutoffMin: 0,
                        cutoffMax: 13.1
                    },
                    Red: {
                        zone: "5",
                        range: "13.1",
                        cutoffMin: 0,
                        cutoffMax: 0
                    }
                } : {
                    Purple: {
                        zone: "95",
                        range: "6.4",
                        cutoffMin: 0,
                        cutoffMax: 6.4
                    },
                    Blue: {
                        zone: "70 - 95",
                        range: "6.4 - 8.1",
                        cutoffMin: 0,
                        cutoffMax: 8.2
                    },
                    Green: {
                        zone: "30 - 69",
                        range: "8.2 - 9.7",
                        cutoffMin: 0,
                        cutoffMax: 9.8
                    },
                    Orange: {
                        zone: "5 - 29",
                        range: "9.8 - 11.5",
                        cutoffMin: 0,
                        cutoffMax: 11.6
                    },
                    Red: {
                        zone: "5",
                        range: "11.5",
                        cutoffMin: 0,
                        cutoffMax: 0
                    }
                }
            },
            getVerticalRatioColorRange: function(e) {
                return e ? {
                    Purple: {
                        zone: "95",
                        range: "6.4",
                        cutoffMin: 0,
                        cutoffMax: 6.4
                    },
                    Blue: {
                        zone: "70 - 95",
                        range: "6.4 - 8.2",
                        cutoffMin: 6.4,
                        cutoffMax: 8.2
                    },
                    Green: {
                        zone: "30 - 69",
                        range: "8.3 - 9.9",
                        cutoffMin: 8.3,
                        cutoffMax: 9.9
                    },
                    Orange: {
                        zone: "5 - 29",
                        range: "10.0 - 11.8",
                        cutoffMin: 10,
                        cutoffMax: 11.8
                    },
                    Red: {
                        zone: "5",
                        range: "11.8",
                        cutoffMin: 11.8,
                        cutoffMax: 0
                    }
                } : {
                    Purple: {
                        zone: "95",
                        range: "6.1",
                        cutoffMin: 0,
                        cutoffMax: 6.1
                    },
                    Blue: {
                        zone: "70 - 95",
                        range: "6.1 - 7.4",
                        cutoffMin: 6.1,
                        cutoffMax: 7.5
                    },
                    Green: {
                        zone: "30 - 69",
                        range: "7.5 - 8.6",
                        cutoffMin: 7.5,
                        cutoffMax: 8.7
                    },
                    Orange: {
                        zone: "5 - 29",
                        range: "8.7 - 10.1",
                        cutoffMin: 8.7,
                        cutoffMax: 10.1
                    },
                    Red: {
                        zone: "5",
                        range: "10.1",
                        cutoffMin: 10.1,
                        cutoffMax: 0
                    }
                }
            },
            getVectorAirCdAColorRange: function() {
                return {
                    roadCyclist: {
                        Purple: {
                            zone: "95",
                            range: "0.300",
                            cutoffMin: 0,
                            cutoffMax: .3
                        },
                        Blue: {
                            zone: "70 - 95",
                            range: "0.300 - 0.350",
                            cutoffMin: 0,
                            cutoffMax: .35
                        },
                        Green: {
                            zone: "30 - 69",
                            range: "0.350 - 0.425",
                            cutoffMin: 0,
                            cutoffMax: .425
                        },
                        Orange: {
                            zone: "5 - 29",
                            range: "0.426 - 0.500",
                            cutoffMin: 0,
                            cutoffMax: .5
                        },
                        Red: {
                            zone: "5",
                            range: "0.500",
                            cutoffMin: 0,
                            cutoffMax: 0
                        }
                    },
                    timeTrialist: {
                        Purple: {
                            zone: "95",
                            range: "0.220",
                            cutoffMin: 0,
                            cutoffMax: .22
                        },
                        Blue: {
                            zone: "70 - 95",
                            range: "0.221 - 0.240",
                            cutoffMin: 0,
                            cutoffMax: .24
                        },
                        Green: {
                            zone: "30 - 69",
                            range: "0.241 - 0.260",
                            cutoffMin: 0,
                            cutoffMax: .26
                        },
                        Orange: {
                            zone: "5 - 29",
                            range: "0.261 - 0.280",
                            cutoffMin: 0,
                            cutoffMax: .28
                        },
                        Red: {
                            zone: "5",
                            range: "0.280",
                            cutoffMin: 0,
                            cutoffMax: 0
                        }
                    }
                }
            },
            getVectorAirWattsPerCdAColorRange: function() {
                return this.getVectorAirCdAColorRange()
            },
            mapStroke: function(e) {
                return "FREESTYLE" == e ? r.purple : "BACKSTROKE" == e ? r.green : "BREASTSTROKE" == e ? r.red : "BUTTERFLY" == e ? r.blue : "DRILL" == e ? r.orange : r.grey
            }
        };
        s.Colors = r,
        t.a = s
    },
    1236: function(e, t, i) {
        "use strict";
        var a = i(1257)
          , n = function() {
            return this
        };
        n.PopularityRouteTypes = {
            ROAD_BIKING: "ROAD_CYCLING",
            ROAD_CYCLING: "ROAD_CYCLING",
            MOUNTAIN_BIKING: "MOUNTAIN_BIKING",
            GRAVEL_BIKING: "GRAVEL_BIKING",
            GRAVEL_CYCLING: "GRAVEL_BIKING",
            MIXED_SURFACE: "MIXED_SURFACE",
            RUNNING: "RUNNING",
            TRAIL_RUNNING: "TRAIL_RUNNING"
        },
        n.RoundTripRouteTypes = {
            ROAD_BIKING: "ROAD_CYCLING",
            ROAD_CYCLING: "ROAD_CYCLING",
            MOUNTAIN_BIKING: "MOUNTAIN_BIKING",
            GRAVEL_BIKING: "GRAVEL_BIKING",
            GRAVEL_CYCLING: "GRAVEL_BIKING",
            MIXED_SURFACE: "MIXED_SURFACE",
            RUNNING: "RUNNING",
            TRAIL_RUNNING: "TRAIL_RUNNING",
            HIKING: "TRAIL_RUNNING",
            OTHER: "MIXED_SURFACE"
        },
        n.SupportedPopularityTypes = {
            ROAD_BIKING: "ROAD_CYCLING",
            ROAD_CYCLING: "ROAD_CYCLING",
            MOUNTAIN_BIKING: "MOUNTAIN_BIKING",
            GRAVEL_BIKING: "GRAVEL_BIKING",
            GRAVEL_CYCLING: "GRAVEL_BIKING",
            RUNNING: "RUNNING",
            TRAIL_RUNNING: "TRAIL_RUNNING"
        },
        n.allowRoutingForRunning = !1,
        n.isRunningSupportedPopularityTypes = function(e) {
            return e.indexOf("RUNNING") > -1
        }
        ,
        n.isPopularityRoutingSupported = function(e) {
            return !(!e || !this.SupportedPopularityTypes[e.toUpperCase()]) && !(this.isRunningSupportedPopularityTypes(e.toUpperCase()) && !this.allowRoutingForRunning)
        }
        ,
        n.ErrorCodes = {
            GENERIC: "GENERIC",
            ROUTE_TO_LONG: "ROUTE_TO_LONG",
            ROUTE_TO_FAR_FROM_ROADS: "ROUTE_TO_FAR_FROM_ROADS",
            NO_ROUTING_DATA: "NO_ROUTING_DATA",
            PR_GENERIC: "PR_GENERIC",
            PR_NO_ROUTING_DATA: "PR_NO_ROUTING_DATA"
        },
        n.MAP_LAYER_TYPES = {
            ROAD: "ROAD",
            SATELLITE: "SATELLITE",
            TERRAIN: "TERRAIN",
            HYBRID: "HYBRID"
        },
        n.TRANSIT_MODE = {
            CYCLING: "CYCLING",
            PEDESTRIAN: "PEDESTRIAN"
        },
        n.MapProviders = {
            GOOGLE: "google",
            OSM: "osm",
            HERE: "here",
            BING: "bing",
            BAIDU: "baidu"
        },
        n.HereMapTileTypeMapping = {
            road: "normal.day",
            satellite: "satellite.day",
            terrain: "terrain.day",
            hybrid: "normal.traffic.day"
        },
        n.DirectionServices = {
            GOOGLE: "GOOGLE",
            OSM: "OSM",
            GARMIN: "GARMIN",
            BAIDU: "BAIDU"
        },
        n.HeatMapServices = {
            GARMIN: "GARMIN"
        },
        n.TaskTypes = {
            START: "START",
            END: "END",
            SPLIT: "SPLIT",
            CUSTOM: "CUSTOM"
        },
        n.ProviderToNameMapping = {
            google: "Google",
            here: "here",
            osm: "OpenStreetMap",
            baidu: "Baidu"
        },
        n.RoutingErrorMapping = {
            GENERIC: {
                key: "course_map_alert_error_retrieving_route",
                alertType: a.a.AlertType.Warning
            },
            ROUTE_TO_LONG: {
                key: "course_route_to_long",
                alertType: a.a.AlertType.Info
            },
            ROUTE_TO_FAR_FROM_ROADS: {
                key: "course_route_to_far_from_roads",
                alertType: a.a.AlertType.Info
            },
            NO_ROUTING_DATA: {
                key: "course_map_alert_error_retrieving_route",
                alertType: a.a.AlertType.Warning
            },
            PR_GENERIC: {
                key: "course_pr_service_error",
                alertType: a.a.AlertType.Warning
            },
            PR_NO_ROUTING_DATA: {
                key: "course_pr_no_routing_data",
                alertType: a.a.AlertType.Warning
            }
        },
        n.DrawingMethods = {
            SNAP_TO_ROAD: "snap",
            POPULAR_ROUTES: "popular",
            FREEHAND: "free"
        },
        n.CoordinateSystem = {
            WGS84: "WGS84",
            GCJ02: "GCJ02",
            BD09: "BD09"
        },
        n.LeafletDefaults = {
            POLYLINE: {
                COLOR: null,
                WEIGHT: 4
            }
        },
        n.extend = function(e, t) {
            for (var i in t)
                i && t.hasOwnProperty(i) && (e[i] = t[i])
        }
        ;
        t.a = n
    },
    1237: function(e, t, i) {
        "use strict";
        (function(e) {
            t.a = {
                Map: {
                    Event: {
                        SWAP_MARKER_ID: "swapmarkerid",
                        ELEVATION_CHANGE: "elevationChange",
                        RESET_ROUTE: "resetRoute"
                    },
                    Validator: {},
                    Utils: {
                        MEASURE_STATUTE: "statute",
                        RADIUS_KILOMETERS: 6371,
                        RADIUS_MILES: 3959,
                        FEET_PER_METER: 3.28083989501312,
                        MARKER: "marker-",
                        POLYLINE: "polyline-",
                        LAP_MARKER_URL: "/modern/images/feature/courses/lap-marker-",
                        SHADOW_URL: "/api/activity-search/style/explore/images/pin-shadow.png",
                        METRIC: "metric",
                        GEO_OFFSET: 7e-5,
                        GEO_BUFFER: 7e-5,
                        BUSY_DIV_ID: "loading-mask",
                        MAP_STYLE_ROAD: "road",
                        MAP_STYLE_SATELLITE: "satellite",
                        MAP_STYLE_HYBRID: "hybrid",
                        MAP_STYLE_AUTO: "auto",
                        MAP_STYLE_TERRAIN: "terrain",
                        MAP_STYLE_BICYCLE: "bicycle",
                        MAP_STYLE_OSM: "osm",
                        PROVIDER_TYPE_HERE: "here",
                        PROVIDER_TYPE_GOOGLE: "google",
                        PROVIDER_TYPE_OSM: "osm",
                        PROVIDER_TYPE_NUMAP: "numap",
                        PROVIDER_TYPE_BAIDU: "BAIDU_V_1_4",
                        PROVIDER_TYPE_MOCK: "mock",
                        MAXIMUM_ELEVATION_SAMPLES: 512,
                        MAXIMUM_ELEVATION_PATH_POINTS: 375,
                        LINE_COLOR: [255, 0, 0],
                        LINE_OPACITY: .8,
                        LINE_WIDTH: 4,
                        EVENT_MARKER_CHANGED: "changed",
                        EVENT_MOUSE_CLICK: "click",
                        EVENT_MOUSE_DBLCLICK: "doubleclick",
                        EVENT_MOUSE_DOWN: "mousedown",
                        EVENT_MOUSE_OUT: "mouseout",
                        EVENT_MOUSE_OVER: "mouseover",
                        EVENT_MOUSE_UP: "mouseup",
                        EVENT_MOUSE_WHEEL: "mousewheel",
                        EVENT_MOUSE_RIGHT_CLICK: "rightclick",
                        EVENT_MAP_VIEW_CHANGE_START: "viewchangestart",
                        EVENT_MAP_VIEW_CHANGE_END: "viewchangeend",
                        EVENT_MAP_ZOOM_CHANGED: "zoomchanged",
                        EVENT_MAP_IDLE: "idle",
                        EVENT_DRAG_START: "dragstart",
                        EVENT_DRAG_END: "dragend",
                        EVENT_DRAGGING: "dragging",
                        EVENT_TARGET_MAP: "map",
                        EVENT_TARGET_MARKER: "marker",
                        EVENT_TARGET_POLYLINE: "polyline",
                        EVENT_TOGGLE_HEATMAP_ITEMS: "toggleHeatmapItems",
                        EVENT_OSM_MAP_READY: "osmMapReady",
                        LAYER_POLYLINES: "polylineLayer",
                        LAYER_TERMINUS: "terminusLayer",
                        LAYER_MARKERS: "markerLayer",
                        LAYER_SEGMENTS: "segmentsLayer",
                        LAYER_SEGMENT: "segmentLayer",
                        LAYER_DISTANCE_CLOSE: "distanceLayerClose",
                        LAYER_DISTANCE_MEDIUM: "distanceLayerMedium",
                        LAYER_DISTANCE_FAR: "distanceLayerFar",
                        LAYER_DISTANCE_MAX: "distanceLayerMax",
                        heatmapPreferences: null,
                        heatmapFolderDataList: null,
                        heatmapRenderedTileDataList: {},
                        activityType: ""
                    }
                },
                Queue: {
                    Constants: {
                        GC_SYNC_URL: "connectagent://launch",
                        GC_SYNC_ID: "#notify-agent",
                        DEVICE_IMG_LOCATION: "//static.garmincdn.com/apps/connect/image/devices"
                    },
                    NotificationWidgetQueueIds: {
                        QUEUE_NOTIFICATION: "#notify-agent"
                    },
                    Events: {
                        SEND_TO_DEVICE_FROM_QUEUE: "SEND_TO_DEVICE_FROM_QUEUE",
                        VIEW_PENDING_ITEMS: "VIEW_PENDING_ITEMS",
                        MESSAGE_SENT: "MESSAGE_SENT",
                        RETURN_TO_TRAINING_PLAN: "return.to.trainingplanpageview"
                    },
                    MessageTypes: {
                        ACTIVITIES: {
                            id: 1,
                            type: "courses",
                            name: "activities"
                        },
                        COURSES: {
                            id: 2,
                            type: "courses",
                            name: "courses"
                        },
                        WORKOUTS: {
                            id: 3,
                            type: "workouts",
                            name: "workouts"
                        },
                        PR: {
                            id: 4,
                            type: "personal-records",
                            name: "personal-records"
                        },
                        SCHEDULES: {
                            id: 5,
                            type: "schedules",
                            name: "schedules"
                        },
                        SETTINGS: {
                            id: 6,
                            type: "settings",
                            name: "settings"
                        },
                        ZONES: {
                            id: 6,
                            type: "settings",
                            name: "zones"
                        },
                        GOALS: {
                            id: 7,
                            type: "goals",
                            name: "goals"
                        },
                        SOFTWARE_UPDATE: {
                            id: 8,
                            type: "software_update",
                            name: "software_update"
                        },
                        DEVICE_SETTINGS: {
                            id: 9,
                            type: "device-settings",
                            name: "device-settings"
                        },
                        LANGUAGE_SETTINGS: {
                            id: 10,
                            type: "language-settings",
                            name: "language-settings"
                        },
                        PROFILE: {
                            id: 11,
                            type: "user-profile",
                            name: "user-profile"
                        },
                        SPORTS: {
                            id: 12,
                            type: "sports",
                            name: "sports"
                        },
                        SEGMENT_LEADERS: {
                            id: 14,
                            type: "segment-leaders",
                            name: "segment-leaders"
                        }
                    }
                }
            }
        }
        ).call(this, i(1242))
    },
    1239: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(4)
              , s = i(13)
              , o = i(18)
              , l = i.n(o)
              , c = i(82)
              , h = i(1330)
              , d = i(1365)
              , p = i(1308)
              , u = i(1344)
              , m = i(64)
              , g = i(1331)
              , f = i(1254)
              , v = i(1222)
              , y = i(1276)
              , A = i(1380)
              , _ = i(1255)
              , b = i(1286)
              , C = (i(1368),
            new h.a)
              , w = function(e) {
                return e && e.activitySummary.get("activityTypeDTO") && e.activitySummary.get("activityTypeDTO").typeKey ? e.activitySummary.get("activityTypeDTO").typeKey : ""
            }
              , x = {
                RunCadence: {
                    name: "RunCadence",
                    seriesKey: "directDoubleCadence",
                    label: "label_run_cadence",
                    unit_key: "run_cadence_unit",
                    defaultChartType: "scatter",
                    mainChartFilter: d.a.prototype.filterNulls,
                    formattingFunction: n.a.bind(s.a.formatWholeNumber, s.a),
                    expandedMin: n.a.partial(d.a.prototype.getLowerRange, 0, !0),
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 0),
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 2, !0),
                    avgValueKey: "averageRunCadence",
                    helpKey: "directDoubleCadence",
                    colorMapper: function(e) {
                        return e < 153 ? v.a.Colors.red : e < 164 ? v.a.Colors.orange : e < 174 ? v.a.Colors.green : e < 184 ? v.a.Colors.blue : v.a.Colors.purple
                    },
                    workoutTargetTypes: ["CADENCE"]
                },
                BikeCadence: {
                    name: "BikeCadence",
                    seriesKey: "directBikeCadence",
                    label: "label_bike_cadence",
                    unit_key: "bike_cadence_unit",
                    formattingFunction: n.a.bind(s.a.formatWholeNumber, s.a),
                    defaultChartType: "line",
                    avgValueKey: "averageBikeCadence",
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 0, !0),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 0),
                    workoutTargetTypes: ["CADENCE"]
                },
                Speed: {
                    name: "Speed",
                    seriesKey: "directSpeed",
                    label: "label_speed",
                    getLabel: function() {
                        var e = this.activitySummary.get("activityTypeDTO").typeKey;
                        return s.a.isFlyingActivity(e) ? s.a.getSpeedTypeLabelKey(s.a.SpeedTypes.Flying) : d.a.prototype.getLabel.call(this)
                    },
                    unit_key: function() {
                        return s.a.getSpeedUnitKey(w(this))
                    },
                    defaultChartType: "line",
                    conversionFunction: function(e, t) {
                        return s.a.convertSpeed(e, t, w(this))
                    },
                    formatToolTipRow: function(e, t, i, a, n, r, s, o) {
                        return this.activityDetails.hasGForceData() && o && o.y ? this.formattingFunction(o.y) + " " + a : this.formattingFunction(i) + " " + a
                    },
                    formattingFunction: n.a.bind(s.a.formatSpeed, s.a),
                    avgValueKey: "averageSpeed",
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 0, !0),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 0),
                    workoutTargetTypes: ["SPEED", "SPEED_LAP"]
                },
                Pace: {
                    name: "Pace",
                    seriesKey: "directSpeed",
                    label: "label_pace",
                    unit_key: function() {
                        return s.a.getPaceUnitKey(w(this))
                    },
                    defaultChartType: "line",
                    conversionFunction: function(e, t) {
                        return "rowing" !== w(this) && "indoor_rowing" !== w(this) ? s.a.convertFractionalPace(e) : s.a.convertRowingPace(e)
                    },
                    formattingFunction: n.a.bind(s.a.formatPace, s.a),
                    avgValueKey: "averageSpeed",
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 2),
                    expandedMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 2),
                    reversed: !0,
                    threshold: 9999,
                    workoutTargetTypes: ["SPEED", "SPEED_LAP"]
                },
                LapAveragePace: {
                    name: "Lap Average Pace",
                    seriesKey: "directSpeed",
                    label: "pace_chart_lap_avg",
                    unit_key: function() {
                        return s.a.getPaceUnitKey(w(this))
                    },
                    defaultChartType: "line",
                    conversionFunction: function(e, t) {
                        return s.a.convertFractionalPace(e)
                    },
                    formattingFunction: n.a.bind(s.a.formatPace, s.a),
                    avgValueKey: "averageSpeed",
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 2),
                    expandedMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 2),
                    reversed: !0,
                    threshold: 9999,
                    shouldBeVisible: function() {
                        return !1
                    },
                    buildData: function(e, t) {
                        var i, a, n, r, o, l, h = this, d = this.activitySplits.get("lapDTOs"), p = [];
                        return d.forEach(function(e, t) {
                            if (i = c.a.parseISOUTC(e.startTimeGMT).getTime(),
                            n = b.a.findClosest(h.activityDetails.get("directTimestamp"), i),
                            l = h.conversionFunction(e.averageSpeed, h.measurementSystem()),
                            t === h.activitySplits.get("lapDTOs").length - 1 ? r = h.activityDetails.get("directTimestamp").length : (a = c.a.parseISOUTC(h.activitySplits.get("lapDTOs")[t + 1].startTimeGMT).getTime(),
                            r = b.a.findClosest(h.activityDetails.get("directTimestamp"), a)),
                            o = r - n,
                            "sumDuration" === h.xAxisType)
                                for (var d = 0; d < o; d++)
                                    p.push({
                                        x: h.activityDetails.get("sumDuration")[n + d],
                                        y: l
                                    });
                            else
                                for (var u = 0; u < o; u++) {
                                    var m = s.a.convertDistance(h.activityDetails.get("sumDistance")[n + u], h.activitySummary.getActivityTypeKey());
                                    p.push({
                                        x: m,
                                        y: l
                                    })
                                }
                        }),
                        p
                    }
                },
                OpenWaterSwimPace: {
                    name: "OpenWaterSwimPace",
                    seriesKey: "directSpeed",
                    label: "label_swim_pace",
                    unit_key: s.a.getSwimPaceUnitKey(),
                    defaultChartType: "line",
                    conversionFunction: n.a.bind(s.a.convertFractionalSwimPace, s.a),
                    formattingFunction: n.a.bind(s.a.formatPace, s.a),
                    avgValueKey: "averageSpeed",
                    reversed: !0,
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, .6),
                    expandedMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, .6),
                    threshold: 9999
                },
                OpenWaterSwimSpeed: {
                    name: "OpenWaterSwimSpeed",
                    seriesKey: "directSpeed",
                    label: "label_speed",
                    unit_key: s.a.getSwimSpeedUnitKey(),
                    defaultChartType: "line",
                    conversionFunction: n.a.bind(s.a.convertSwimSpeed, s.a),
                    formattingFunction: n.a.bind(s.a.formatSpeed, s.a),
                    avgValueKey: "averageSpeed",
                    expandedMin: 0
                },
                OpenWaterSwimStrokes: {
                    name: "OpenWaterSwimStrokes",
                    seriesKey: "directSwimCadence",
                    label: "label_strokes",
                    unit_key: "swim_cadence_unit",
                    formattingFunction: n.a.bind(s.a.formatWholeNumber, s.a),
                    defaultChartType: "line",
                    avgValueKey: "averageSwimCadence",
                    expandedMin: 0
                },
                HeartRate: {
                    name: "HeartRate",
                    seriesKey: "directHeartRate",
                    label: "label_heart_rate",
                    unit_key: s.a.getHeartRateUnitKey(),
                    defaultChartType: "line",
//                    defaultChartType: "column",                         // TX GCOverrides for HR zone overrides (not finished!)
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 0, !0),
                    expandedMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 0),
                    avgValueKey: "averageHR",
                    formatToolTipRow: function(e, t, i, a, n, r, s, o) {
                        return this.activityDetails.hasGForceData() && o && o.y ? this.formattingFunction(o.y) + " " + a : this.formattingFunction(i) + " " + a
                    },
                    formattingFunction: n.a.bind(s.a.personalizeHeartRate, s.a),
                    colorMapper: function(e) {                          // TX GCOverrides - use HR zones here !!!
                        return e < 100 ? "rgba(  0, 64,255, .4)" : 
                               e < 125 ? "rgba(  0,255,  0, .4)" : 
                               e < 145 ? "rgba(255,255,  0, .4)" : 
                               e < 165 ? "rgba(255,127, 80, .4)" : 
                                         "rgba(255,  0,  0, .4)"
                    },
                    workoutTargetTypes: ["HEART_RATE", "HEART_RATE_LAP"]
                },
                HeartRateLapSwimming: {
                    name: "HeartRateLapSwimming",
                    seriesKey: "directHeartRate",
                    label: "label_heart_rate",
                    unit_key: s.a.getHeartRateUnitKey(),
                    defaultChartType: "line",
                    mainChartFilter: function(e) {
                        var t = this.activitySummary.get("duration");
                        return n.a.reject(e, function(e) {
                            return e[0] > t
                        })
                    },
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 0, !0),
                    expandedMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 0),
                    avgValueKey: "averageHR",
                    formattingFunction: n.a.bind(s.a.personalizeHeartRate, s.a),
                    getXAxisKey: function() {
                        return this.xAxisType === y.a.SwimDuration ? "interpolatedSwimDuration" : this.xAxisType === y.a.SwimLengths ? "interpolatedSwimLengths" : this.xAxisType === y.a.SwimDistance ? "interpolatedSwimDistance" : null
                    }
                },
                Elevation: {
                    name: "Elevation",
                    seriesKey: "directElevation",
                    label: "label_elevation",
                    getLabel: function() {
                        var e = this.activitySummary.get("activityTypeDTO").typeKey;
                        return s.a.isFlyingActivity(e) ? s.a.getElevationLabelKey(s.a.SpeedTypes.Flying) : d.a.prototype.getLabel.call(this)
                    },
                    conversionFunction: n.a.bind(s.a.convertElevation, s.a),
                    formatToolTipRow: function(e, t, i, a, n, r, s, o) {
                        return this.activityDetails.hasGForceData() && o && o.y ? this.formattingFunction(o.y) + " " + a : this.formattingFunction(i) + " " + a
                    },
                    formattingFunction: n.a.bind(s.a.formatElevation, s.a),
                    unit_key: s.a.getElevationUnitKey(),
                    defaultChartType: "line",
                    primaryChartMin: function() {
                        var e = 400;
                        return s.a.measurementSystem !== s.a.MeasurementSystems.STATUTE_US && (e *= s.a.ConversionFactors.FeetToMeters),
                        this.getLowerRangeWithMinRange(e, !0)
                    },
                    primaryChartMax: function() {
                        var e = 400;
                        return s.a.measurementSystem !== s.a.MeasurementSystems.STATUTE_US && (e *= s.a.ConversionFactors.FeetToMeters),
                        this.getUpperRangeWithMinRange(e)
                    },
                    expandedMin: function() {
                        var e = 1e3;
                        return s.a.measurementSystem !== s.a.MeasurementSystems.STATUTE_US && (e *= s.a.ConversionFactors.FeetToMeters),
                        this.getLowerRangeWithMinRange(e, !0)
                    },
                    expandedMax: function() {
                        var e = 1e3;
                        return s.a.measurementSystem !== s.a.MeasurementSystems.STATUTE_US && (e *= s.a.ConversionFactors.FeetToMeters),
                        this.getUpperRangeWithMinRange(e)
                    },
                    threshold: -9999
                },
                ClimbAscent: {
                    name: "ClimbAscent",
                    seriesKey: "directElevation",
                    label: "label_ascent",
                    defaultChartType: "line",
                    conversionFunction: n.a.bind(s.a.convertElevation, s.a),
                    formatToolTipRow: function(e, t, i, a, n, o, h, d) {
                        var p = this
                          , u = e.props.indoorClimbDifficulty
                          , m = c.a.parseISOUTC(e.activitySummary.get("startTimeGMT"))
                          , g = new l.a(m).unix()
                          , v = e.activityTypedSplits.find(function(t) {
                            var i = c.a.parseISOUTC(t.get("startTimeGMT"))
                              , a = c.a.parseISOUTC(t.get("endTimeGMT"))
                              , n = new l.a(i).unix() - g
                              , r = new l.a(a).unix() - g;
                            p.xAxisType === y.a.Distance && (n = s.a.convertDistance(n, e.activitySummary.getActivityTypeKey()),
                            r = s.a.convertDistance(r, e.activitySummary.getActivityTypeKey()));
                            var o = d ? d.x : 0;
                            return n <= o && o <= r
                        })
                          , A = r.a.localize("label_rest")
                          , _ = "";
                        if (v && v.get("type") === f.b.CLIMB_ACTIVE) {
                            switch (v.get("status")) {
                            case f.a.CLIMB_COMPLETED:
                                A = v.numFalls < 1 ? r.a.localize("climb_send") : r.a.localize("climb_complete_falls");
                                break;
                            case f.a.CLIMB_ATTEMPTED:
                                A = r.a.localize("climb_attempt")
                            }
                            _ = v.get("gradeValue")
                        }
                        var b = "".concat(r.a.localize("label_ascent"), " - ").concat(this.formattingFunction(i) || 0, " ").concat(a);
                        return d && (b = "".concat(A, "</br>").concat(b)),
                        _ ? "".concat(b, "</br>Difficulty - ").concat(Object(f.c)(_.scale, _.valueKey, u.toJSON())) : b
                    },
                    hasData: function() {
                        return this.activityDetails.hasData(this.seriesKey) && this.activityTypedSplits.getSplitsOfType(f.b.CLIMB_ACTIVE).length
                    },
                    buildData: function() {
                        var e = this
                          , t = []
                          , i = c.a.parseISOUTC(this.activitySummary.get("startTimeGMT"))
                          , a = new l.a(i).unix();
                        return this.data.forEach(function(i) {
                            var n, r = i[0], o = i[1], h = e.activityTypedSplits.find(function(t, i) {
                                var n = c.a.parseISOUTC(t.get("startTimeGMT"))
                                  , s = new l.a(n).unix() - a
                                  , o = e.activityTypedSplits.at(i + 1);
                                if (o) {
                                    var h = c.a.parseISOUTC(o.get("startTimeGMT"))
                                      , d = new l.a(h).unix() - a;
                                    return s <= r && r <= d
                                }
                                return s <= r
                            });
                            n = h && h.get("type") === f.b.CLIMB_ACTIVE ? Math.max(o - h.get("startElevation"), 0) : 0;
                            var d = r;
                            e.xAxisType === y.a.Distance && (d = s.a.convertDistance(d, e.activitySummary.getActivityTypeKey())),
                            t.push({
                                x: d,
                                y: e.conversionFunction(n, e.measurementSystem())
                            })
                        }),
                        t
                    },
                    getAvgValue: function(e) {
                        var t = this.activitySplitSummaries.find({
                            splitType: f.b.CLIMB_ACTIVE
                        })
                          , i = t ? t.get("averageElevationGain") : void 0;
                        if (void 0 !== i && null !== i)
                            return this.conversionFunction(i, e || this.measurementSystem())
                    },
                    hasAvgValue: function() {
                        return !0
                    },
                    formattingFunction: n.a.bind(s.a.formatElevation, s.a),
                    unit_key: s.a.getElevationUnitKey(),
                    primaryChartMin: function() {
                        return 0
                    },
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 2, !0),
                    expandedMin: function() {
                        return 0
                    },
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 2, !0)
                },
                Gforce: {
                    name: "Gforce",
                    seriesKey: "directGforce",
                    label: "label_g_force",
                    unit_key: "g_force_unit",
                    defaultChartType: "line",
                    mainChartFilter: d.a.prototype.filterNulls,
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 0, !0),
                    expandedMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 0),
                    avgValueKey: "averageGforce",
                    formatToolTipRow: function(e, t, i, a, n, r, s, o) {
                        return o && o.y ? this.formattingFunction(o.y) + " " + a : this.formattingFunction(i) + " " + a
                    },
                    formattingFunction: function(e) {
                        return s.a.formatDecimalNumber(e, 1, "##,##0")
                    }
                },
                GroundContactTime: {
                    name: "GroundContactTime",
                    seriesKey: "directGroundContactTime",
                    label: "label_ground_contact_time",
                    formattingFunction: n.a.bind(s.a.personalizeVerticalOscillation, s.a),
                    unit_key: s.a.getGroundContactTimeUnitKey(),
                    defaultChartType: "scatter",
                    avgValueKey: "groundContactTime",
                    mainChartFilter: d.a.prototype.filterNulls,
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 2),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 2),
                    expandedMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    colorMapper: function(e) {
                        return e < 218 ? v.a.Colors.purple : e < 249 ? v.a.Colors.blue : e < 278 ? v.a.Colors.green : e < 309 ? v.a.Colors.orange : v.a.Colors.red
                    },
                    helpKey: "directGroundContactTime",
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                GroundContactTimeBalance: {
                    name: "GroundContactTimeBalance",
                    seriesKey: "directGroundContactBalanceLeft",
                    label: "label_ground_contact_time_balance",
                    unit_key: "percentage_unit",
                    defaultChartType: "scatter",
                    expandedMin: 40,
                    expandedMax: 60,
                    primaryChartMin: 40,
                    primaryChartMax: 60,
                    mainChartFilter: d.a.prototype.filterNulls,
                    avgValueKey: "groundContactBalanceLeft",
                    helpKey: "directGroundContactTimeBalance",
                    yAxisFormattingFunction: function(e, t) {
                        return e < 50 ? r.a.localize("power_balance_right_format", 100 - e) : e > 50 ? r.a.localize("power_balance_left_format", e) : "50/50"
                    },
                    conversionFunction: function(e) {
                        return e
                    },
                    formatToolTipRow: function(e, t, i, a, n, o, l) {
                        var c = s.a.getGroundContactBalance(i);
                        return r.a.localize(s.a.getPowerBalanceUnitKey(), c.left, c.right)
                    },
                    colorMapper: function(e) {
                        return e < 47.6 ? v.a.Colors.red : e >= 47.6 && e <= 49.4 ? v.a.Colors.orange : e >= 49.3 && e <= 50.7 ? v.a.Colors.green : e >= 50.6 && e <= 52.2 ? v.a.Colors.orange : e > 52.2 ? v.a.Colors.red : void 0
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                VerticalOscillation: {
                    name: "VerticalOscillation",
                    seriesKey: "directVerticalOscillation",
                    label: "label_vert_oscillation",
                    unit_key: s.a.getVerticalOscillationUnitKey(),
                    formattingFunction: n.a.bind(s.a.personalizeVerticalOscillation, s.a),
                    defaultChartType: "scatter",
                    avgValueKey: "verticalOscillation",
                    mainChartFilter: d.a.prototype.filterNulls,
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 2),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 2),
                    helpKey: "directVerticalOscillation",
                    helpKeyAdditionalData: function() {
                        var e = !!this.activitySummary && this.activitySummary.hasPodSenor();
                        return v.a.getVerticalOscillationColorRange(e)
                    },
                    colorMapper: function(t) {
                        var i = this.activitySummary && this.activitySummary.hasPodSenor() || !1
                          , a = v.a.getVerticalOscillationColorRange(i);
                        return (t = +e.formatNumber(t, {
                            format: "####0.0"
                        })) < a.Purple.cutoffMax ? v.a.Colors.purple : t <= a.Blue.cutoffMax ? v.a.Colors.blue : t <= a.Green.cutoffMax ? v.a.Colors.green : t <= a.Orange.cutoffMax ? v.a.Colors.orange : v.a.Colors.red
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                VerticalRatio: {
                    name: "VerticalRatio",
                    seriesKey: "directVerticalRatio",
                    label: "label_vert_ratio",
                    expandedMin: 0,
                    expandedMax: 20,
                    unit_key: s.a.getVerticalRatioUnitKey(),
                    formattingFunction: n.a.bind(s.a.personalizeVerticalRatio, s.a),
                    defaultChartType: "scatter",
                    avgValueKey: "verticalRatio",
                    mainChartFilter: d.a.prototype.filterNulls,
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 2),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 2),
                    helpKey: "directVerticalRatio",
                    helpKeyAdditionalData: function() {
                        var e = !!this.activitySummary && this.activitySummary.hasPodSenor();
                        return v.a.getVerticalRatioColorRange(e)
                    },
                    colorMapper: function(t) {
                        var i = this.activitySummary && this.activitySummary.hasPodSenor() || !1
                          , a = v.a.getVerticalRatioColorRange(i);
                        return (t = +e.formatNumber(t, {
                            format: "####0.0"
                        })) < a.Purple.cutoffMax ? v.a.Colors.purple : t <= a.Blue.cutoffMax ? v.a.Colors.blue : t <= a.Green.cutoffMax ? v.a.Colors.green : t <= a.Orange.cutoffMax ? v.a.Colors.orange : v.a.Colors.red
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                Temperature: {
                    name: "Temperature",
                    seriesKey: "directAirTemperature",
                    label: "label_temperature",
                    avgValueKey: "averageTemperature",
                    unit_key: s.a.getTemperatureUnitKey(),
                    conversionFunction: n.a.bind(s.a.convertTemperature, s.a),
                    formattingFunction: n.a.bind(s.a.formatTemperature, s.a),
                    defaultChartType: "line",
                    primaryChartMin: function() {
                        var e = 10;
                        return s.a.measurementSystem === s.a.MeasurementSystems.METRIC && (e *= 5 / 9),
                        this.getLowerRangeWithMinRange(e)
                    },
                    primaryChartMax: function() {
                        var e = 10;
                        return s.a.measurementSystem === s.a.MeasurementSystems.METRIC && (e *= 5 / 9),
                        this.getUpperRangeWithMinRange(e)
                    },
                    expandedMin: function() {
                        var e = 30;
                        return s.a.measurementSystem === s.a.MeasurementSystems.METRIC && (e *= 5 / 9),
                        this.getLowerRangeWithMinRange(e)
                    },
                    expandedMax: function() {
                        var e = 30;
                        return s.a.measurementSystem === s.a.MeasurementSystems.METRIC && (e *= 5 / 9),
                        this.getUpperRangeWithMinRange(e)
                    },
                    threshold: -9999
                },
                LeftRightPowerBalance: {
                    name: "LeftRightPowerBalance",
                    seriesKey: "directRightBalance",
                    label: "label_left_right_balance",
                    unit_key: "",
                    defaultChartType: "scatter",
                    expandedMin: 0,
                    expandedMax: 100,
                    mainChartFilter: d.a.prototype.filterNulls,
                    yAxisFormattingFunction: function(e, t) {
                        return e < 50 ? r.a.localize("power_balance_right_format", 100 - e) : e > 50 ? r.a.localize("power_balance_left_format", e) : "50/50"
                    },
                    conversionFunction: function(e) {
                        return 100 - e
                    },
                    formatToolTipRow: function(e, t, i, a, n, o, l) {
                        var c = i
                          , h = 100 - c;
                        return r.a.localize(s.a.getPowerBalanceUnitKey(), c, h)
                    }
                },
                PowerWatts: {
                    name: "PowerWatts",
                    seriesKey: "directPower",
                    label: ["label_full_power", "label_power_unit"],
                    avgValueKey: "averagePower",
                    unit_key: s.a.getPowerUnitKey(),
                    defaultChartType: "line",
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 0, !0),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 0),
                    formattingFunction: n.a.bind(s.a.personalizePower, s.a),
                    chartRangeSelectorType: A.a,
                    workoutTargetTypes: ["POWER", "POWER_3S", "POWER_10S", "POWER_30S", "POWER_LAP"],
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                PowerKg: {
                    name: "PowerKg",
                    seriesKey: "directPower",
                    label: ["label_full_power", "label_power_kg"],
                    avgValueKey: "averagePower",
                    unit_key: "label_power_kg",
                    defaultChartType: "line",
                    expandedMin: 0,
                    conversionFunction: function(e) {
                        return e / this.usersWeight
                    },
                    formattingFunction: n.a.bind(s.a.personalizePowerKg, s.a),
                    chartRangeSelectorType: A.a,
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                LeftPPStart: {
                    name: "LeftPPStart",
                    seriesKey: "directLeftPowerPhaseStart",
                    label: "label_cd_left_power_phase_start",
                    parentLabel: "label_cd_power_phase_start",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    reversed: !0,
                    mainChartFilter: d.a.prototype.filterNulls,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(u.a.rebaseDegrees(e, -90))
                    },
                    conversionFunction: function(e) {
                        return u.a.rebaseDegrees(e, 90)
                    },
                    formatToolTipRow: function(e, t, i, a, n, s, o, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + r.a.localize("left") + "</span>: " + this.formattingFunction(i) + a
                    },
                    tickInterval: 45,
                    tickPositions: [0, 45, 90, 135, 180],
                    expandedMin: 0,
                    expandedMax: 180,
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                RightPPStart: {
                    name: "RightPPStart",
                    seriesKey: "directRightPowerPhaseStart",
                    label: "label_cd_right_power_phase_start",
                    parentLabel: "label_cd_power_phase_start",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    reversed: !0,
                    mainChartFilter: d.a.prototype.filterNulls,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(u.a.rebaseDegrees(e, -90))
                    },
                    conversionFunction: function(e) {
                        return u.a.rebaseDegrees(e, 90)
                    },
                    tickInterval: 45,
                    tickPositions: [0, 45, 90, 135, 180],
                    expandedMin: 0,
                    expandedMax: 180,
                    formatToolTipRow: function(e, t, i, a, n, s, o, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + r.a.localize("right") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                LeftPeakPPStart: {
                    name: "LeftPeakPPStart",
                    seriesKey: "directLeftPowerPhasePeakStart",
                    label: "label_cd_left_peak_power_phase_start",
                    parentLabel: "label_cd_peak_power_phase_start",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: d.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(e)
                    },
                    tickInterval: 45,
                    tickPositions: [0, 45, 90, 135],
                    expandedMin: 0,
                    expandedMax: 135,
                    formatToolTipRow: function(e, t, i, a, n, s, o, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + r.a.localize("left") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                RightPeakPPStart: {
                    name: "RightPeakPPStart",
                    seriesKey: "directRightPowerPhasePeakStart",
                    label: "label_cd_right_peak_power_phase_start",
                    parentLabel: "label_cd_peak_power_phase_start",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: d.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(e)
                    },
                    tickInterval: 45,
                    tickPositions: [0, 45, 90, 135],
                    expandedMin: 0,
                    expandedMax: 135,
                    formatToolTipRow: function(e, t, i, a, n, s, o, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + r.a.localize("right") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                LeftPPEnd: {
                    name: "LeftPPEnd",
                    seriesKey: "directLeftPowerPhaseEnd",
                    label: "label_cd_left_power_phase_end",
                    parentLabel: "label_cd_power_phase_end",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: d.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(u.a.rebaseDegrees(e, 90))
                    },
                    conversionFunction: function(e) {
                        return u.a.rebaseDegrees(e, -90)
                    },
                    tickInterval: 45,
                    tickPositions: [45, 90, 135, 180, 225],
                    expandedMin: 45,
                    expandedMax: 225,
                    formatToolTipRow: function(e, t, i, a, n, s, o, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + r.a.localize("left") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                RightPPEnd: {
                    name: "RightPPEnd",
                    seriesKey: "directRightPowerPhaseEnd",
                    label: "label_cd_right_power_phase_end",
                    parentLabel: "label_cd_power_phase_end",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: d.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(u.a.rebaseDegrees(e, 90))
                    },
                    conversionFunction: function(e) {
                        return u.a.rebaseDegrees(e, -90)
                    },
                    tickInterval: 45,
                    tickPositions: [45, 90, 135, 180, 225],
                    expandedMin: 45,
                    expandedMax: 225,
                    formatToolTipRow: function(e, t, i, a, n, s, o, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + r.a.localize("right") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                LeftPeakPPEnd: {
                    name: "LeftPeakPPEnd",
                    seriesKey: "directLeftPowerPhasePeakEnd",
                    label: "label_cd_left_peak_power_phase_end",
                    parentLabel: "label_cd_peak_power_phase_end",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: d.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(e)
                    },
                    tickInterval: 45,
                    tickPositions: [45, 90, 135, 180],
                    expandedMin: 45,
                    expandedMax: 180,
                    formatToolTipRow: function(e, t, i, a, n, s, o, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + r.a.localize("left") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                RightPeakPPEnd: {
                    name: "RightPeakPPEnd",
                    seriesKey: "directRightPowerPhasePeakEnd",
                    label: "label_cd_right_peak_power_phase_end",
                    parentLabel: "label_cd_peak_power_phase_end",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: d.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(e) {
                        return 0 == (e = this.formattingFunction(e)) ? "TDC 0" : 180 == e ? "BDC 180" : e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePowerPhaseAngle(e)
                    },
                    tickInterval: 45,
                    tickPositions: [45, 90, 135, 180],
                    expandedMin: 45,
                    expandedMax: 180,
                    formatToolTipRow: function(e, t, i, a, n, s, o, l) {
                        return '<span style="color:' + (l || e.getColor(!0)) + '">' + r.a.localize("right") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                LeftPCO: {
                    name: "LeftPCO",
                    seriesKey: "directLeftPlatformCenterOffset",
                    label: "label_cd_left_pedal_center_offset",
                    avgValueKey: "leftPlatformCenterOffset",
                    unit_key: "platform_center_offset_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 1,
                    primaryChartMin: -30,
                    primaryChartMax: 30,
                    expandedMin: -30,
                    expandedMax: 30,
                    tickInterval: 15,
                    mainChartFilter: d.a.prototype.filterBadPCOs,
                    formattingFunction: n.a.bind(s.a.personalizePlatformCenterOffset, s.a),
                    plotLines: [{
                        color: "#888888",
                        width: 2,
                        value: 0
                    }]
                },
                RightPCO: {
                    name: "RightPCO",
                    seriesKey: "directRightPlatformCenterOffset",
                    label: "label_cd_right_pedal_center_offset",
                    avgValueKey: "rightPlatformCenterOffset",
                    unit_key: "platform_center_offset_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 1,
                    primaryChartMin: -30,
                    primaryChartMax: 30,
                    expandedMin: -30,
                    expandedMax: 30,
                    tickInterval: 15,
                    mainChartFilter: d.a.prototype.filterBadPCOs,
                    conversionFunction: function(e) {
                        return -e
                    },
                    formattingFunction: function(e) {
                        return s.a.personalizePlatformCenterOffset(-e)
                    },
                    plotLines: [{
                        color: "#888888",
                        width: 2,
                        value: 0
                    }]
                },
                SwimPace: {
                    name: "SwimPace",
                    seriesKey: "weightedMeanSpeed",
                    label: "label_swim_pace",
                    unit_key: function(e) {
                        return s.a.getSwimPaceUnitKey(e)
                    },
                    defaultChartType: "line",
                    conversionFunction: function(e, t) {
                        var i = this.activitySummary.get("unitOfPoolLength").unitKey
                          , a = s.a.poolUnitKeyToMeasurementSystem(i);
                        return s.a.convertFractionalSwimPace(e, a)
                    },
                    formattingFunction: function(e) {
                        var t = this.activitySummary.get("unitOfPoolLength").unitKey
                          , i = s.a.poolUnitKeyToMeasurementSystem(t);
                        return e >= 60 ? "--" : s.a.formatPace(e, i)
                    },
                    mainChartFilter: d.a.prototype.filterRestsIfXAxisIsDistance,
                    avgValueKey: "averageSpeed",
                    expandedMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    expandedMax: function() {
                        return d.a.prototype.calculateMax.call(this, 60) + 1
                    },
                    reversed: !0
                },
                SwimSpeed: {
                    name: "SwimSpeed",
                    seriesKey: "weightedMeanSpeed",
                    label: "label_speed",
                    unit_key: function(e) {
                        return s.a.getSwimSpeedUnitKey(e)
                    },
                    defaultChartType: "line",
                    conversionFunction: function(e, t) {
                        return s.a.convertSwimSpeed(e, t)
                    },
                    formattingFunction: function(e) {
                        var t = this.activitySummary.get("unitOfPoolLength").unitKey
                          , i = s.a.poolUnitKeyToMeasurementSystem(t);
                        return s.a.formatSpeed(e, i)
                    },
                    mainChartFilter: d.a.prototype.filterRestsIfXAxisIsDistance
                },
                SwimStrokes: {
                    name: "SwimStrokes",
                    seriesKey: "sumStrokes",
                    label: "label_strokes",
                    unit_key: s.a.getStrokesUnitKey(),
                    defaultChartType: "line",
                    expandedMin: 0,
                    mainChartFilter: d.a.prototype.filterRestsIfXAxisIsDistance
                },
                SwimSwolf: {
                    name: "SwimSwolf",
                    seriesKey: "weightedMeanSwolf",
                    label: "label_swolf",
                    unit_key: "label_swolf",
                    defaultChartType: "line",
                    expandedMin: 0,
                    mainChartFilter: d.a.prototype.filterRestsIfXAxisIsDistance
                },
                SwimLengths: {
                    name: "SwimLengths",
                    seriesKey: "sumDuration",
                    label: "label_swim_lengths",
                    unit_key: null,
                    defaultChartType: "column",
                    formattingFunction: n.a.bind(s.a.personalizeDuration, s.a)
                },
                StrideLength: {
                    name: "StrideLength",
                    seriesKey: "directStrideLength",
                    label: "label_stride_length",
                    unit_key: s.a.getAvgStrideLengthUnitKey(),
                    defaultChartType: "scatter",
                    mainChartFilter: d.a.prototype.filterNulls,
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 0, !0),
                    expandedMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 0),
                    avgValueKey: "strideLength",
                    formattingFunction: n.a.bind(s.a.formatStrideLength, s.a),
                    conversionFunction: n.a.bind(s.a.convertStrideLength, s.a)
                },
                StrokeRate: {
                    name: "StrokeRate",
                    seriesKey: "directStrokeCadence",
                    label: "label_chart_stroke_rate",
                    unit_key: "rowing_cadence_unit",
                    formattingFunction: n.a.bind(s.a.formatWholeNumber, s.a),
                    expandedMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 0),
                    defaultChartType: "line",
                    avgValueKey: "averageStrokeCadence"
                },
                DistancePerStroke: {
                    name: "DistancePerStroke",
                    seriesKey: "directStrokeDistance",
                    label: "label_stroke_distance",
                    mainChartFilter: d.a.prototype.filterNulls,
                    expandedMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 0),
                    unit_key: function() {
                        return "rowing" !== w(this) ? s.a.getDistancePerStrokeUnitKey() : "distance.meter"
                    },
                    formattingFunction: n.a.bind(s.a.formatDistancePerStroke, s.a),
                    conversionFunction: function(e, t) {
                        return "rowing" !== w(this) ? s.a.convertDistancePerStroke(e) : e
                    },
                    yAxisFormattingFunction: function(e, t) {
                        return t !== s.a.MeasurementSystems.METRIC && (e = s.a.convertDistancePerStroke(e)),
                        s.a.formatDistancePerStroke(e)
                    },
                    defaultChartType: "scatter",
                    avgValueKey: "averageStrokeDistance"
                },
                Position: {
                    name: "Position",
                    seriesKey: "directTimestamp",
                    label: "label_position",
                    unit_key: "",
                    defaultChartType: "line",
                    hasData: function() {
                        var e = p.a.EventSectionTypeKeys.RIDER_POSITION
                          , t = this.activitySplits.getEventDataBySectionTypeKey(e);
                        return t && t.length > 0
                    },
                    buildData: function(e, t) {
                        var i, a, n = 0, r = this.data.length, o = p.a.EventSectionTypeKeys.RIDER_POSITION, l = this.activitySplits.getEventDataBySectionTypeKey(o), c = [];
                        if (l)
                            for (var h = 0, d = l.length; h < d; h++)
                                for (i = l[h].riderPosition,
                                a = h === d - 1 ? this.data[r - 1][1] : l[h + 1].startTimeGMTDoubleValue,
                                n = c.length; n < r && this.data[n][1] <= a; n++)
                                    this.xAxisType === y.a.Distance && (this.data[n][0] = s.a.convertDistance(this.data[n][0], this.activitySummary.getActivityTypeKey())),
                                    c[n] = 0 === h && 1 === i ? [this.data[n][0], 0] : [this.data[n][0], i];
                        return c
                    },
                    getClosestPoint: function(e) {
                        for (var t = this.data, i = t.length, a = 0; a < i && !(t[a][0] >= e); a++)
                            ;
                        var n = Math.min(t.length - 1, a);
                        if (n > 0 && t[n][0] != e) {
                            var r = Math.abs(t[n][0] - e)
                              , s = Math.abs(t[n - 1][0] - e);
                            Math.abs(s - r) <= 1e-5 && n--
                        }
                        return this.data[n]
                    },
                    formatToolTipRow: function(e, t, i, a, n, s, o, l) {
                        return null !== i ? "<span>" + r.a.localize(0 === i ? "label_sitting" : "label_standing") + "</span>" : ""
                    }
                },
                PerformanceCondition: {
                    name: "PerformanceCondition",
                    seriesKey: "directPerformanceCondition",
                    label: "label_performance_condition",
                    defaultChartType: "area",
                    helpKey: "directPerformanceCondition",
                    primaryChartMin: d.a.prototype.getExtremeMin,
                    primaryChartMax: d.a.prototype.getExtremeMax,
                    expandedMin: d.a.prototype.getExtremeMin,
                    expandedMax: d.a.prototype.getExtremeMax,
                    formatToolTipRow: function(e, t, i, a, r, s, o) {
                        return n.a.isNumber(i) ? '<span style="min-width: 64px;">&nbsp;&nbsp;' + (i > 0 ? "+" + i : i) + "&nbsp;&nbsp;</span>" : i
                    }
                },
                Ascent: {
                    name: "Ascent",
                    seriesKey: "directElevation",
                    label: "label_ascent",
                    defaultChartType: "line",
                    conversionFunction: n.a.bind(s.a.convertElevation, s.a),
                    formatToolTipRow: function(e, t, i, a, n, r, s, o) {
                        return this.formattingFunction(i) + " " + a
                    },
                    buildData: function(e, t) {
                        for (var i, a, n, r = [], o = 0, l = this.data.length; o < l; o++)
                            this.data[o] && (n = this.data[0][1],
                            i = this.data[o][0],
                            this.xAxisType === y.a.Distance && (i = s.a.convertDistance(i, this.activitySummary.getActivityTypeKey())),
                            a = this.data[o][1] - n,
                            r[o] = {
                                x: i,
                                y: null === a ? null : this.conversionFunction(a, this.measurementSystem()),
                                color: e.call(this, a)
                            });
                        return r
                    },
                    formattingFunction: n.a.bind(s.a.formatElevation, s.a),
                    unit_key: s.a.getElevationUnitKey(),
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 2),
                    expandedMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 2)
                },
                FloorClimbingPace: {
                    name: "FloorClimbingPace",
                    seriesKey: "directVerticalSpeed",
                    label: "label_pace",
                    unit_key: function() {
                        return s.a.getPaceUnitKey(w(this))
                    },
                    defaultChartType: "line",
                    buildData: function(e, t) {
                        for (var i, a, n = [], r = this.data.length; r--; )
                            this.data[r][1] < 0 && this.data.splice(r, 1);
                        var o = 0;
                        for (r = this.data.length; o < r; o++)
                            this.data[o] && (i = this.data[o][0],
                            this.xAxisType === y.a.Distance && (i = s.a.convertDistance(i, this.activitySummary.getActivityTypeKey())),
                            a = this.data[o][1],
                            n[o] = {
                                x: i,
                                y: null === a ? null : this.conversionFunction(a, this.measurementSystem()),
                                color: e.call(this, a)
                            });
                        return n
                    },
                    conversionFunction: n.a.bind(s.a.personalizeFloorClimbingPace, s.a),
                    avgValueKey: "avgVerticalSpeed",
                    primaryChartMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 0),
                    expandedMin: n.a.partial(d.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 0)
                },
                TankPressure: {
                    name: "TankPressure",
                    seriesKey: "tankPressure",
                    label: "label_tank_pressure",
                    getLabel: function() {
                        return this.props.tankSensor.name
                    },
                    formattingFunction: n.a.bind(s.a.personalizePressure, s.a),
                    unit_key: function() {
                        var e = this.props.tankSensor;
                        return s.a.personalizePressureUnitKey({
                            unitKey: e.pressureUnit
                        })
                    },
                    defaultChartType: "line",
                    getData: function() {
                        return this.props.tankSensor.records.map(function(e, t) {
                            return [t, e[1]]
                        })
                    },
                    hasData: function() {
                        return !!this.props.tankSensor.records.length
                    },
                    getAvgValue: function(e) {
                        var t = this.props.tankSensor;
                        return t.records.reduce(function(e, t) {
                            return [0, e[1] + t[1]]
                        })[1] / t.records.length
                    },
                    hasAvgValue: function() {
                        return !0
                    },
                    getUniqueName: function() {
                        var e = this.props.tankSensor;
                        return "".concat(this.getName()).concat(e.name)
                    }
                },
                DiveDepth: {
                    name: "DiveDepth",
                    seriesKey: "directDepth",
                    label: "label_depth_profile",
                    conversionFunction: n.a.bind(s.a.convertMetersFt, s.a),
                    formattingFunction: n.a.bind(s.a.formatMetersFt, s.a),
                    unit_key: s.a.getDepthUnitKey(),
                    defaultChartType: "line",
                    reversed: !0,
                    threshold: 9999,
                    avgValueKey: "averageDepth",
                    primaryChartMin: 0,
                    primaryChartMax: function() {
                        return this.getUpperRange()
                    }
                },
                DecoCeiling: {
                    name: "DecoCeiling",
                    seriesKey: "directNextStopDepth",
                    label: "label_depth_profile",
                    conversionFunction: n.a.bind(s.a.convertMetersFt, s.a),
                    formattingFunction: n.a.bind(s.a.formatMetersFt, s.a),
                    unit_key: s.a.getDepthUnitKey(),
                    defaultChartType: "line",
                    reversed: !0,
                    threshold: 0
                },
                SetPointDepth: {
                    name: "SetPointDepth",
                    seriesKey: "directDepth",
                    label: "label_depth_profile",
                    conversionFunction: n.a.bind(s.a.convertMetersFt, s.a),
                    formattingFunction: n.a.bind(s.a.formatMetersFt, s.a),
                    unit_key: s.a.getDepthUnitKey(),
                    defaultChartType: "scatter",
                    threshold: 9999,
                    buildData: function() {
                        for (var e, t, i = [], a = this.activitySplits.getEventDataBySectionTypeKey("DIVE_ALERT"), n = g.a.chartData(this.activitySummary, this.data, a), o = 0, l = n.length; o < l; o++)
                            n[o].x && (e = n[o].x,
                            this.xAxisType === y.a.Distance && (e = s.a.convertDistance(e, this.activitySummary.getActivityTypeKey())),
                            t = n[o].y,
                            name = r.a.localize(g.a.SetPointLabels[n[o].name]),
                            i.push({
                                x: e,
                                y: null === t ? null : this.conversionFunction(t, this.measurementSystem()),
                                color: v.a.Colors.p02Green,
                                pointName: name
                            }));
                        return i
                    },
                    formatToolTipRow: function(e, t, i, a, n, r, s, o) {
                        this.activitySplits.getEventDataBySectionTypeKey("DIVE_ALERT");
                        for (var l = 0, c = this.data.length; l < c; l++)
                            if (o.x === this.data[l].x)
                                return this.data[l].pointName
                    }
                },
                VectorAirDragCdA: {
                    name: "VectorAirDragCdA",
                    seriesKey: "directCda",
                    label: "label_vector_air_drag_cda",
                    helpKey: "vectorAirDragCdA",
                    unit_key: "cda_unit",
                    shouldBeVisible: function() {
                        return !1
                    },
                    formattingFunction: n.a.bind(s.a.formatVectorAirCdA, s.a),
                    helpKeyAdditionalData: function() {
                        return v.a.getVectorAirCdAColorRange()
                    }
                },
                VectorAirDragWattsPerCdA: {
                    name: "VectorAirDragWattsPerCdA",
                    helpKey: "vectorAirDragWattsPerCdA",
                    seriesKey: "directWattsPerCda",
                    label: "label_vector_air_drag_watts_cda",
                    unit_key: "wcda_unit",
                    shouldBeVisible: function() {
                        return !1
                    },
                    formattingFunction: n.a.bind(s.a.formatWholeNumber, s.a),
                    helpKeyAdditionalData: function() {
                        return v.a.getVectorAirWattsPerCdAColorRange()
                    }
                },
                VectorAirWindSpeed: {
                    name: "VectorAirWindSpeed",
                    seriesKey: "directAirSpeed",
                    unit_key: "speed_unit_statute",
                    label: "label_vector_air_wind_speed",
                    buildSecondSeriesData: function() {
                        for (var e = [], t = 0, i = 0, a = this.activityDetails.getData("directWindYawAngle", this.getXAxisKey()), n = 0, r = a.length; n < r; n += 1)
                            a[n] && (t = a[n][1],
                            i = C.getDegreeFromRadian(t),
                            e.push({
                                x: a[n][0],
                                value: this.data[0].y,
                                direction: i
                            }));
                        return e
                    },
                    formattingFunction: n.a.bind(s.a.formatSpeed, s.a)
                },
                Grit: {
                    name: "Grit",
                    seriesKey: "directGrit",
                    label: "label_grit",
                    helpKey: "directGrit",
                    unit_key: null,
                    defaultChartType: "spline",
                    isGradient: !0,
                    gradientRangeMaxes: [{
                        max: m.a.GritColorRanges.max_1,
                        color: m.a.GritColorRanges.color_1
                    }, {
                        max: m.a.GritColorRanges.max_2,
                        color: m.a.GritColorRanges.color_2
                    }, {
                        max: m.a.GritColorRanges.max_3,
                        color: m.a.GritColorRanges.color_3
                    }],
                    formattingFunction: n.a.bind(s.a.peronalizeMTBGrit, s.a),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 0),
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 0),
                    expandedMin: 0
                },
                Flow: {
                    name: "Flow",
                    seriesKey: "directFlow",
                    label: "label_flow",
                    helpKey: "directFlow",
                    unit_key: null,
                    defaultChartType: "spline",
                    isGradient: !0,
                    gradientRangeMaxes: [{
                        max: m.a.FlowColorRanges.max_1,
                        color: m.a.FlowColorRanges.color_1
                    }, {
                        max: m.a.FlowColorRanges.max_2,
                        color: m.a.FlowColorRanges.color_2
                    }, {
                        max: m.a.FlowColorRanges.max_3,
                        color: m.a.FlowColorRanges.color_3
                    }],
                    formattingFunction: n.a.bind(s.a.peronalizeMTBFlow, s.a),
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 0),
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 0),
                    expandedMin: 0
                },
                RespirationRate: {
                    name: "RespirationRate",
                    seriesKey: "directRespirationRate",
                    label: "label_respiration_rate",
                    unit_key: "label_respiration_rate_unit",
                    helpKey: "directRespirationRate",
                    defaultChartType: "line",
                    formattingFunction: n.a.bind(s.a.formatWholeNumber, s.a),
                    avgValueKey: "avgRespirationRate",
                    primaryChartMin: 0,
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 0, !0),
                    tickInterval: 4
                },
                Stress: {
                    name: "Stress",
                    seriesKey: "directCurrentStress",
                    label: "label_stress",
                    defaultChartType: "column",
                    formattingFunction: n.a.bind(s.a.personalizeStress, s.a),
                    primaryChartMin: 0,
                    primaryChartMax: n.a.partial(d.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: n.a.partial(d.a.prototype.getUpperRange, 0, !0),
                    tickInterval: 25,
                    formatToolTipRow: function(e, t, i, a, n, r, s, o) {
                        return "".concat(i, " (").concat(Object(_.f)(i), ")")
                    }
                }
            };
            for (var S in x)
                if (x.hasOwnProperty(S)) {
                    var T = x[S];
                    x[S] = d.a.extend(T)
                }
            t.a = x
        }
        ).call(this, i(10))
    },
    1244: function(e, t, i) {
        "use strict";
        var a = i(80)
          , n = i(81)
          , r = i(99)
          , s = i(97)
          , o = i(98)
          , l = i(11)
          , c = i.n(l)
          , h = i(1227)
          , d = i.n(h)
          , p = i(1270)
          , u = i.n(p)
          , m = i(1253)
          , g = i.n(m)
          , f = i(1249)
          , v = i.n(f);
        g()(d.a),
        v()(d.a);
        var y = function(e) {
            function t() {
                return Object(a.a)(this, t),
                Object(r.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(o.a)(t, e),
            Object(n.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.config
                      , i = e.callback;
                    return c.a.createElement(u.a, {
                        options: t,
                        highcharts: d.a,
                        callback: i
                    })
                }
            }]),
            t
        }(c.a.Component);
        t.a = y
    },
    1246: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(13)
              , c = i(1276)
              , h = i(1410)
              , d = i(1409)
              , p = i(1222)
              , u = i(1332)
              , m = i(2201)
              , g = i(2202)
              , f = i.n(g)
              , v = i(1227)
              , y = i.n(v)
              , A = i(1576)
              , _ = i.n(A)
              , b = i(1737);
            y.a.Annotation || _()(y.a);
            var C = 0
              , w = {
                ON_CHART_ZOOMED: "ON_CHART_ZOOMED",
                ON_CHART_RENDERED: "ON_CHART_RENDERED",
                ON_ZOOM_RESET: "ON_ZOOM_RESET",
                ON_EXPANDED_CHART_CLICKED: "ON_EXPANDED_CHART_CLICKED",
                ON_CHART_FOCUSED: "ON_CHART_FOCUSED",
                ON_RANGE_SELECTED: "ON_RANGE_SELECTED",
                ON_CHART_SELECTOR_TOGGLE: "ON_CHART_SELECTOR_TOGGLE"
            }
              , x = s.a.View.extend({
                template: n.a.template(f.a),
                events: {
                    mousemove: "onMouseMoved",
                    mouseenter: "onMouseEnter",
                    "click .chart-zoom-toggle": "onZoomChartClicked",
                    'click .help-icon[data-toggle="modal"]': "onShowHelpClicked"
                },
                seriesType: "areaspline",
                conversionFunction: null,
                formattingFunction: null,
                fillColor: "ffffff",
                lineWidth: 0,
                fillOpacity: .85,
                reversed: !1,
                removeLowOutliers: !1,
                removeHighOutliers: !1,
                stdDeviations: 2,
                threshold: 9999,
                step: !1,
                zeroThreshold: !1,
                spacingBottom: 8,
                measurementSystem: function() {
                    return l.a.measurementSystem
                },
                chartTitle: function(e) {
                    return "Untitled"
                },
                canExpandChart: function() {
                    return !0
                },
                yLabel: function() {
                    return 0 == this.primarySeries.length ? "" : this.getPrimarySeriesLabel()
                },
                yUnit: function(e) {
                    return e.unit_key ? o.a.localize(n.a.result(e, "unit_key")) : ""
                },
                initialize: function(e) {
                    this.primarySeries = e.primarySeries || [],
                    this.backgroundSeries = e.backgroundSeries || null,
                    this.xAxisType = e.xAxisType,
                    this.plotLineId = C++,
                    this.showXAxisPlotLineLabel = e.showXAxisPlotLineLabel,
                    this.activityDetails = e.activityDetails,
                    this.activitySplits = e.activitySplits,
                    this.activitySummary = e.activitySummary,
                    this.jumps = e.jumps,
                    this.turboThreshold = e.turboThreshold ? e.turboThreshold : 4e3,
                    this.visible = !0,
                    this.redrawOnNextShow = !1,
                    this.overlayData = e.overlayData,
                    this.displayAvgLabel = "undefined" === typeof e.displayAvgLabel || e.displayAvgLabel,
                    y.a.setOptions({
                        global: {
                            useUTC: !1
                        }
                    }),
                    this.playerModel = e.playerModel,
                    n.a.each(this.primarySeries, function(e) {
                        e.chartColorMapperObject = p.a,
                        e.generateData(void 0, !0)
                    }, this),
                    this.initializeView && this.initializeView.call(this),
                    this.rendered = !1
                },
                initializeView: function() {
                    return this
                },
                shouldBeVisible: function() {
                    var e = !1;
                    return n.a.each(this.primarySeries, function(t) {
                        t.shouldBeVisible() && (e = !0)
                    }),
                    e
                },
                setXAxisType: function(e) {
                    e != this.xAxisType && (this.xAxisType = e,
                    n.a.each(this.primarySeries, function(t) {
                        t.setXAxisType(e),
                        t.generateData(void 0, !0)
                    }, this),
                    this.chartRangeSelector && (this.chartRangeSelector.xAxisType = this.xAxisType))
                },
                xAxisLabelFormatter: function(e) {
                    switch (e.xAxisType) {
                    case x.XAxisTypes.Distance:
                        return l.a.formatDistance(this.value, e.activitySummary.getActivityTypeKey());
                    case x.XAxisTypes.SwimDistance:
                        return l.a.personalizeDistance(this.value, e.activitySummary.getActivityTypeKey(), e.activitySummary.get("unitOfPoolLength"));
                    case x.XAxisTypes.SwimLengths:
                        return l.a.formatWholeNumber(this.value + 1);
                    default:
                        return l.a.personalizeDuration(this.value)
                    }
                },
                formatXAxisPlotLineLabel: function(e, dist) {                                   // TX !!! black tooltip label with the Time or Distance
                    dist = o.a.localize("chart_x_plotline_distance_label",                                                 // TX GCOverrides
                                        l.a.formatDistance(dist, this.activitySummary.getActivityTypeKey()),               // TX GCOverrides
                                        o.a.localize(l.a.getDistanceUnitKey(this.activitySummary.getActivityTypeKey())));  // TX GCOverrides
                    switch (this.xAxisType) {
                    case x.XAxisTypes.Distance:
                        return o.a.localize("chart_x_plotline_distance_label", l.a.formatDistance(e, this.activitySummary.getActivityTypeKey()), this.xAxisUnit(this));
                    case x.XAxisTypes.Duration:
                    case x.XAxisTypes.SwimDuration:
                        return l.a.personalizeDuration(e);
                    case x.XAxisTypes.SwimLengths:
                        return l.a.formatWholeNumber(e + 1);
                    case x.XAxisTypes.SwimDistance:
                        return l.a.formatDistance(e, "swimming");
                    default:
                        return e
                    }
                },
                formatAvgPlotLineLabel: function(e) {
                    var t = e.formattingFunction || n.a.identity;
                    return o.a.localize("chart_plotline_label", t.call(e, e.getAvgValue()), this.yUnit(e))
                },
                xAxisUnit: function(e) {
                    return e.xAxisType == c.a.Distance ? o.a.localize(l.a.getDistanceUnitKey(this.activitySummary.getActivityTypeKey())) : ""
                },
                yAxisLabelFormatter: function(e) {
                    return e.primarySeries[0].yAxisFormattingFunction ? '<p class="y-axis-label">' + e.primarySeries[0].yAxisFormattingFunction(this.value, e.measurementSystem()) + "</p>" : '<p class="y-axis-label">' + e.primarySeries[0].formattingFunction(this.value, e.measurementSystem()) + "</p>"
                },
                tooltipFormatter: function(e) {
                    var t = this.point || this.points[0];
                    if (t && e) {
                        if (e.hasNullValue(t))
                            return !1;
                        var i = t.x;
                        return (e.highChartObj && e.highChartObj.tooltip.shared && e.highChartObj.series.length > 1 ? e.tooltipFormatterForMultipleSeries(e, i) : e.tooltipFormatterForSingleSeries(e, i, t)).join("<br/>")
                    }
                },
                tooltipFormatterForMultipleSeries: function(e, t) {
                    var i = []
                      , a = e.primarySeries[0]
                      , n = a.getClosestPoint(t)
                      , r = e.yLabel()
                      , s = e.yUnit(a)
                      , h = n.data.y
                      , d = ""
                      , p = ""
                      , u = "";
                    function m(t) {
                        e.xAxisType === c.a.Distance ? (d = o.a.localize("distance"),
                        p = o.a.localize(l.a.getDistanceUnitKey(null, null)),
                        u = l.a.personalizeDistance(t)) : (d = o.a.localize("label_time"),
                        p = o.a.localize(l.a.getDurationUnitKey()),
                        u = l.a.personalizeDuration(t))
                    }
                    function g(e, t) {
                        r = o.a.localize(e.name),
                        h = e.userOptions.yValueKey ? t[e.userOptions.yValueKey] : t && null !== t.y && void 0 !== t.y ? t.y : t && t.value ? t.value : 0,
                        e.userOptions.valueSuffix ? s = e.userOptions.valueSuffix : e.userOptions.valueUnit && (s = "function" === typeof e.userOptions.valueUnit ? e.userOptions.valueUnit(h) : e.userOptions.valueUnit),
                        e.userOptions.valueFormatter && "function" === typeof e.userOptions.valueFormatter && (h = e.userOptions.valueFormatter(h))
                    }
                    m(n.data.x),
                    i.push(r + ": " + a.formatToolTipRow(a, r, h, s, d, u, p));
                    for (var f = 1, v = e.highChartObj.series.length; f < v; f += 1) {
                        var y, A = e.highChartObj.series[f];
                        if (A)
                            g(A, y = e.backgroundSeries && e.backgroundSeries[n.index] ? e.backgroundSeries[n.index] : A.data[n.index]),
                            m(y ? y.x : null),
                            e.primarySeries[0].hasWorkoutData && 0 === h && (h = "--"),
                            A.userOptions.formatToolTipRow && "function" === typeof A.userOptions.formatToolTipRow ? i.push(r + ": " + A.userOptions.formatToolTipRow(a, r, h, s, d, u, p)) : "--" === h ? i.push(r + ": " + h + " " + s) : i.push(r + ": " + a.formatToolTipRow(a, r, h, s, d, u, p))
                    }
                    return i
                },
                tooltipFormatterForSingleSeries: function(e, t, i) {
                    var a = [];
                    return n.a.each(e.primarySeries, function(n) {
                        var r = n.getClosestPoint(t)
                          , s = ""
                          , h = e.yLabel()
                          , d = ""
                          , p = r.data ? r.data.y : ""
                          , u = ""
                          , m = e.yUnit(n);
                        e.xAxisType === c.a.Distance ? (s = o.a.localize("distance"),
                        u = o.a.localize(l.a.getDistanceUnitKey(null, null)),
                        d = l.a.personalizeDistance(r.data.x)) : (s = o.a.localize("label_time"),
                        u = o.a.localize(l.a.getDurationUnitKey()),
                        d = l.a.personalizeDuration(r.data ? r.data.x : "")),
                        a.push(n.formatToolTipRow(n, h, p, m, s, d, u, i))
                    }, this),
                    a
                },
                hasNullValue: function(e) {
                    return !(!e || null !== e.y)
                },
                getChartTitles: function() {
                    return [{
                        chartTitle: this.chartTitle(),
                        seriesColor: this.primarySeries[0].getColor(!0)
                    }]
                },
                render: function() {
                    if (this.primarySeries.length) {
                        if (this.stopListening(),
                        this.$el.html(this.template({
                            Localizer: o.a,
                            chartTitles: this.getChartTitles(),
                            workoutSeriesColor: p.a.Colors.workoutTargetGray,
                            helpKey: this.getHelpKey(),
                            canExpandChart: this.canExpandChart()
                        })),
                        this.customHelpTemplate) {
                            var e = null;
                            "function" === typeof this.customHelpTemplate ? e = this.customHelpTemplate() : this.customHelpTemplate.length > 0 && (e = this.customHelpTemplate),
                            e && this.$(".chart-header-item").append(e)
                        }
                        this.trigger(w.ON_CHART_RENDERED);
                        var t = this.defaultChartOptions();
                        this.primarySeries[0].hasWorkoutData && (t.yAxis.min = this.calculateYAxisMin(),
                        t.yAxis.max = this.calculateYAxisMax(),
                        t.tooltip.shared = !0);
                        var i = this.getChartSelectorType();
                        i && (this.chartRangeSelector = new i({
                            el: this.$(".chart-range-selector"),
                            activityDetails: this.activityDetails,
                            activitySummary: this.activitySummary,
                            xAxisType: this.xAxisType
                        }),
                        this.listenTo(this.chartRangeSelector, u.a.Events.RangeSelected, this.onRangeSelected),
                        this.listenTo(this.chartRangeSelector, u.a.Events.RangeReset, this.onRangeReset),
                        this.chartRangeSelector.render());
                        var a = this.getChartSelector();
                        a && this.canShowChartSelector() && this.renderChartSelector(a),
                        this.highChartObj = new y.a.Chart(t),
                        this.setExtremes(this.minX, this.maxX, !1),
                        this.renderPlotLineLabels(),
                        this.visible || (this.redrawOnNextShow = !0),
                        this.listenTo(this.playerModel, "change:x", this.onPlayerTimeChanged, this),
                        this.listenTo(this.playerModel, "clear", this.onPlayerCleared, this),
                        this.rendered = !0
                    }
                },
                getChartSelectorType: function() {
                    for (var e = 0; e < this.primarySeries.length; e++) {
                        var t = this.primarySeries[e];
                        if (t.chartRangeSelectorType)
                            return t.chartRangeSelectorType
                    }
                    return null
                },
                getChartSelector: function() {
                    for (var e = 0; e < this.primarySeries.length; e++) {
                        var t = this.primarySeries[e];
                        if (t && t.chartSelector)
                            return t.chartSelector
                    }
                },
                canShowChartSelector: function() {
                    for (var e = 0; e < this.primarySeries.length; e++) {
                        var t = this.primarySeries[e];
                        if (t && "function" === typeof t.canShowChartSelector)
                            return t.canShowChartSelector()
                    }
                },
                renderChartSelector: function(e) {
                    this.chartSelector = new e({
                        el: this.$(".chart-selector"),
                        activityDetails: this.activityDetails,
                        activitySummary: this.activitySummary
                    }),
                    this.listenTo(this.chartSelector, m.a.Events.OnChartToggle, this.onChartSelectorToggle),
                    this.chartSelector.render()
                },
                setChartRangeSelector: function(e, t, i, a) {
                    this.chartRangeSelector && this.chartRangeSelector.setChartRangeSelector(e, t, i, a)
                },
                setActiveChartSelector: function(e) {
                    this.chartSelector && "function" === typeof this.chartSelector.setActiveChart && this.chartSelector.setActiveChart(e)
                },
                onRangeSelected: function(e, t, i) {
                    this.xAxisType == c.a.Duration ? this.setExtremes(e, t, !0) : this.setExtremes(l.a.convertDistance(e), l.a.convertDistance(t), !0),
                    this.trigger(w.ON_RANGE_SELECTED, i)
                },
                onRangeReset: function() {
                    this.setExtremes(null, null, !0),
                    this.trigger(w.ON_ZOOM_RESET)
                },
                onChartSelectorToggle: function(e) {
                    this.trigger(w.ON_CHART_SELECTOR_TOGGLE, e)
                },
                renderPlotLineLabels: function() {
                    n.a.each(this.primarySeries, function(e) {
                        this.renderPlotLineLabel(e)
                    }, this)
                },
                renderPlotLineLabel: function(e) {
                    if (e.hasAvgValue() && this.displayAvgLabel && (this.avgText && (this.avgText.destroy(),
                    this.avgRect.destroy(),
                    this.avgText = null,
                    this.avgRect = null),
                    0 != this.highChartObj.yAxis[0].plotLinesAndBands.length && this.highChartObj.yAxis[0].plotLinesAndBands[0].svgElem)) {
                        var t = this.formatAvgPlotLineLabel(e)
                          , i = this.highChartObj.renderer.label(t, this.highChartObj.plotLeft, this.highChartObj.plotTop).css({
                            color: "#000000",
                            zIndex: 999
                        }).add()
                          , a = i.getBBox().width
                          , n = (i.getBBox().height,
                        this.highChartObj.yAxis[0].plotLinesAndBands[0].svgElem.getBBox().y)
                          , r = this.highChartObj.plotWidth - a + 18 - 20
                          , s = this.highChartObj.plotTop + n + 9 - 15;
                        i.destroy(),
                        this.avgText = this.highChartObj.renderer.label(t, r, s).attr({
                            zIndex: 5
                        }).css({
                            color: "#000000",
                            zIndex: 999,
                            opacity: .85
                        }).add();
                        var o = this.avgText.getBBox();
                        this.avgRect = this.highChartObj.renderer.rect(r - 2, s, o.width + 4, o.height, 0).attr({
                            fill: "#FFFFEF",
                            "stroke-width": 0,
                            zIndex: 4,
                            opacity: .7
                        }).add()
                    }
                },
                renderXAxisPlotLineLabel: function() {
                    if (this.showXAxisPlotLineLabel && 0 != this.highChartObj.xAxis[0].plotLinesAndBands.length && this.highChartObj.xAxis[0].plotLinesAndBands[0].svgElem) {
                        var dist = this.currentPlotLinePoint.series.chart.userOptions.series[0].data[this.currentPlotLinePoint.index].dist;   // TX GCOverrides
                        var e = this.currentPlotLinePoint && this.currentPlotLinePoint.x ? this.currentPlotLinePoint.x : ""
                          , t = this.formatXAxisPlotLineLabel(e, dist)           // TX GCOverrides (added second argument - distance)                        
                          , i = this.highChartObj.renderer.label(t, this.highChartObj.plotLeft, this.highChartObj.plotTop).css({
                            color: "#000000",
                            zIndex: 999
                        }).add()
                          , a = i.getBBox().width
                          , n = this.highChartObj.xAxis[0].plotLinesAndBands[0].svgElem.getBBox().x
                          , r = this.highChartObj.xAxis[0].plotLinesAndBands[0].svgElem.getBBox().y
                          , s = n - .5 * a
                          , o = this.highChartObj.plotTop + r + 9 - 15;
                        i.destroy(),
                        this.currentXAxisLabelText = this.highChartObj.renderer.label(t, s, o).attr({
                            zIndex: 999
                        }).css({
                            color: "#FFFFFF",
                            zIndex: 999
                        }).add();
                        var l = this.currentXAxisLabelText.getBBox();
                        this.currentXAxisLabelBox = this.highChartObj.renderer.rect(s - 5, o - 2, l.width + 10, l.height + 4, 0).attr({
                            fill: "#0F314D",
                            "stroke-width": 0,
                            zIndex: 4
                        }).add()
                    }
                },
                highChartsRenderChartEvent: function() {
                    return this
                },
                setExtremes: function(e, t, i) {
                    this.minX = e,
                    this.maxX = t,
                    this.highChartObj && (this.extremesSetProgramatically = !0,
                    i && (this.extremesSetProgramatically = !1),
                    this.highChartObj.xAxis[0].setExtremes(e, t, !0, !1))
                },
                setExtremesY: function(e, t, i) {           // TX GCOverrides (whole block) - resetting also the Y axis
                    this.minY = e,
                    this.maxY = t,
                    this.highChartObj && (this.extremesSetProgramatically = !0,
                    i && (this.extremesSetProgramatically = !1),
                    this.highChartObj.yAxis[0].setExtremes(e, t, !0, !1))
                },
                getExtremes: function() {
                    return this.highChartObj.xAxis[0].getExtremes()
                },
                calculateYAxisMin: function() {
                    var e = this.getChartMinValue()
                      , t = this.getWorkoutDataMin();
                    return e <= t ? e : t
                },
                calculateYAxisMax: function() {
                    var e = this.getChartMaxValue()
                      , t = this.getWorkoutDataMax();
                    return e >= t ? e : t
                },
                resetZoom: function() {
                    this.setExtremes(null, null),
                    this.setExtremesY(null, null)           // TX GCOverrides - resetting also the Y axis
                },
                createAnnotations: function() {
                    return [{
                        labels: []
                    }]
                },
                getMarginBottom: function() {},
                defaultChartOptions: function() {
                    return {
                        chart: {
                            alignTicks: !1,
                            inverted: this.getInvertedChart(),
                            height: 100,
                            renderTo: this.$(".chart-placeholder").get(0),
                            marginLeft: 18,
                            spacingTop: 17,
                            spacingBottom: this.spacingBottom,
                            marginTop: 9,
                            marginBottom: this.getMarginBottom(),
                            zoomType: "xy",     // TX GCOverrides for small graphs on Activity page
                            panning: true,      // TX GCOverrides
                            panKey: 'shift',    // TX GCOverrides
                            resetZoomButton: {
                                theme: {
                                    display: "none"
                                }
                            },
                            events: {
                                redraw: n.a.bind(this.renderPlotLineLabels, this),
                                render: n.a.bind(this.highChartsRenderChartEvent, this)
                            },
                            style: {
                                cursor: "crosshair"
                            }
                        },
                        plotOptions: {
                            series: {
                                fillOpacity: this.fillOpacity,
                                lineWidth: this.lineWidth,
                                step: this.step,
                                marker: {
                                    enabled: !1,
                                    symbol: "circle",
                                    states: {
                                        hover: {
                                            fillColor: "#222222",
                                            lineWidth: 1,
                                            lineColor: "#222222",
                                            radius: 1e-4
                                        }
                                    }
                                },
                                states: {
                                    hover: !1
                                }
                            },
                            scatter: {
                                marker: {
                                    radius: this.scatterLineRadius || 3
                                },
                                dashStyle: this.dashStyle,
                                color: this.scatterLineColor
                            },
                            areaspline: {},
                            area: {
                                threshold: this.primarySeries[0].reversed ? n.a.result(this, "threshold") : null,
                                step: this.step
                            },
                            line: {
                                step: this.step
                            },
                            column: {
                                pointPadding: 0,
                                groupPadding: 0
                            }
                        },
                        title: {
                            text: "",
                            style: {
                                display: "none"
                            }
                        },
                        xAxis: this.createHighChartsXAxisObjects(this),
                        yAxis: this.createHighChartsYAxisObjects(),
                        tooltip: {
                            formatter: this.partial(this.tooltipFormatter, this),
                            positioner: this.tooltipPositioner,
                            hideDelay: 100,
                            borderWidth: 0,
                            borderRadius: 0,
                            backgroundColor: "rgba(255, 255, 255, .85)",
                            style: this.styleTooltip(),
                            enabled: this.enableTooltip(),
                            useHTML: !0,
                            shared: this.shareTooltip()
                        },
                        annotations: this.createAnnotations(),
                        legend: {
                            enabled: !1
                        },
                        series: this.createHighChartsSeriesObjects(),
                        credits: {
                            enabled: !1
                        },
                        exporting: {
                            enabled: !1
                        }
                    }
                },
                getInvertedChart: function() {
                    return !1
                },
                tooltipPositioner: function(e, t, i) {
                    var a = {
                        x: i.plotX,
                        y: i.plotY
                    };
                    return this.tooltip ? (a.x -= e / 2,
                    a.x < 0 && (a.x = i.plotX + (e + 10) / 2)) : a.y = 40,
                    a
                },
                createHighChartsYAxisObjects: function() {
                    var e = this.primarySeries[0];
                    return {
                        gridLineColor: "#e8e8e8",
                        min: this.getChartMinValue(),
                        max: this.getChartMaxValue(),
                        maxPadding: 0,
                        minPadding: 0,
                        reversed: e.reversed,
                        endOnTick: !0,
                        startOnTick: !0,
                        tickPixelInterval: e.tickInterval ? null : 50,
                        tickInterval: e.tickInterval,
                        title: {
                            text: null
                        },
                        labels: {
                            formatter: this.partial(this.yAxisLabelFormatter, this),
                            align: "left",
                            x: 2,
                            y: 2,
                            style: {
                                whiteSpace: "nowrap"
                            }
                        },
                        plotLines: this.createHighChartsPlotlineOptions(),
                        tickPositions: this.createHighChartsTickPositions()
                    }
                },
                createHighChartsXAxisObjects: function(e) {
                    return {
                        labels: {
                            formatter: this.partial(this.xAxisLabelFormatter, this),
                            y: -4,
                            align: "right"
                        },
                        gridLineWidth: 0,
                        showFirstLabel: !1,
                        tickWidth: 0,
                        endOnTick: !1,
                        startOnTick: !1,
                        maxPadding: 0,
                        minPadding: 0,
                        events: {
                            afterSetExtremes: function(t) {
                                e && (e.extremesSetProgramatically || e.trigger(w.ON_CHART_ZOOMED, e, this.userMin, this.userMax),
                                e.extremesSetProgramatically = !1)
                            }
                        }
                    }
                },
                createHighChartsPlotlineOptions: function() {
                    var e = this.primarySeries[0]
                      , t = [];
                    return e.hasAvgValue() && t.push({
                        color: "#888888",
                        width: "1",
                        value: e.getAvgValue(),
                        dashStyle: "dash",
                        zIndex: 4
                    }),
                    "undefined" !== typeof e.plotLines && n.a.each(e.plotLines, function(e) {
                        t.push(e)
                    }),
                    t
                },
                createHighChartsTickPositions: function() {
                    return this.primarySeries[0].tickPositions
                },
                createHighChartsSeriesObjects: function() {
                    var e = []
                      , t = null
                      , i = null;
                    return n.a.each(this.primarySeries, function(a) {
                        var n = a.generateData(void 0, !0);
                        this.workoutInfo = a.generateWorkoutData(),
                        this.workoutData = this.workoutInfo.workoutData,
                        !this.workoutInfo.allZeros && this.workoutData && this.workoutData.length > 0 && (t = 0,
                        i = "scatter" === a.defaultChartType ? 0 : 1),
                        e.push(this.createSeries(a, n, t, i)),
                        !this.workoutInfo.allZeros && this.workoutData && this.workoutData.length > 0 && (e.push(this.createWorkoutSeries(this.workoutData)),
                        a.hasWorkoutData = !0)
                    }, this),
                    e
                },
                createSeries: function(e, t, i, a) {
                    void 0 !== i && null !== i || (i = this.fillOpacity),
                    void 0 !== a && null !== a || (a = this.lineWidth);
                    var n = {
                        turboThreshold: this.turboThreshold,
                        type: this.getChartType(e),
                        data: t,
                        marker: {
                            enabled: "scatter" === e.defaultChartType
                        },
                        color: p.a.mapSeriesType(e),
                        fillOpacity: i,
                        lineWidth: a
                    };
                    if (e.threshold && (n.threshold = e.threshold),
                    this.shouldShowOverlay()) {
                        var r = this.overlayData.getOverlayRanges(t)
                          , s = this.overlayData.getColor(p.a.mapSeriesType(e))
                          , o = this.overlayData.getHighlightColor(p.a.mapSeriesType(e));
                        n.zoneAxis = "x",
                        n.zones = [],
                        n.zones.push({
                            value: 0,
                            color: s
                        }),
                        r.forEach(function(e) {
                            n.zones.push({
                                value: e.start,
                                color: s
                            }),
                            n.zones.push({
                                value: e.end,
                                color: o
                            })
                        }),
                        n.zones.push({
                            value: n.data[n.data.length - 1].x,
                            color: s
                        })
                    }
                    return n
                },
                shouldShowOverlay: function() {
                    return !(!this.overlayData || !(this.overlayData.type === b.a.videoClips || this.overlayData.type === b.a.typedSplits && this.typedSplitsSupported()))
                },
                typedSplitsSupported: function() {
                    return !1
                },
                createWorkoutSeries: function(e) {
                    if (e && e.length > 0) {
                        var t = {
                            turboThreshold: this.turboThreshold,
                            type: "area",
                            data: e,
                            color: p.a.Colors.workoutTargetGray,
                            fillOpacity: .45,
                            lineWidth: 1,
                            name: "target"
                        };
                        return this.$("#workout-target-label").removeClass("hidden"),
                        t
                    }
                },
                getChartType: function(e) {
                    return this.seriesType ? this.seriesType : "line" === e.defaultChartType ? "areaspline" : e.defaultChartType
                },
                getChartMinValue: function() {
                    var e = n.a.result(this, "min");
                    if ("undefined" === typeof e || null === e) {
                        var t = !1;
                        n.a.each(this.primarySeries, function(i) {
                            (i.primaryChartMin && "undefined" === typeof e || null === e) && (t || (e = 99999999,
                            t = !0),
                            e = Math.min(e, this.getSeriesMinValue(i)))
                        }, this)
                    }
                    return e
                },
                getSeriesMinValue: function(e) {
                    return "function" === typeof e.primaryChartMin ? e.primaryChartMin() : e.primaryChartMin
                },
                getWorkoutDataMin: function() {
                    var e = 99999999;
                    return n.a.each(this.workoutData, function(t) {
                        t[1] < e && (e = t[1])
                    }),
                    e
                },
                getChartMaxValue: function() {
                    var e = n.a.result(this, "max");
                    if ("undefined" === typeof e || null === e) {
                        var t = !1;
                        n.a.each(this.primarySeries, function(i) {
                            (i.primaryChartMax && "undefined" === typeof e || null === e) && (t || (e = -99999999,
                            t = !0),
                            e = Math.max(e, this.getSeriesMaxValue(i)))
                        }, this)
                    }
                    return e
                },
                getSeriesMaxValue: function(e) {
                    return "function" === typeof e.primaryChartMax ? e.primaryChartMax() : e.primaryChartMax
                },
                getWorkoutDataMax: function() {
                    var e = -99999999;
                    return n.a.each(this.workoutData, function(t) {
                        t[1] > e && (e = t[1])
                    }),
                    e
                },
                partial: function(e) {
                    var t = Array.prototype.slice.call(arguments, 1);
                    return function() {
                        return e.apply(this, t)
                    }
                },
                onMouseMoved: function(e) {
                    if (this.highChartObj && this.playerModel && this.playerModel.get("mode") != h.a.Modes.Playing) {
                        e = this.highChartObj.pointer.normalize(e);
                        var t = this.highChartObj.xAxis[0].toValue(e.chartX);
                        if ("undefined" == typeof t || null == t)
                            return;
                        this.playerModel.set("x", t)
                    }
                },
                onMouseEnter: function() {
                    this.trigger(w.ON_CHART_FOCUSED, this)
                },
                onPlayerCleared: function() {
                    this.highChartObj && (this.highChartObj.xAxis[0].removePlotLine(this.plotLineId),
                    this.highChartObj.tooltip && this.highChartObj.tooltip.hide()),
                    this.currentPlotLinePoint = null,
                    this.currentXAxisLabelText && (this.currentXAxisLabelText.destroy(),
                    this.currentXAxisLabelText = null),
                    this.currentXAxisLabelBox && (this.currentXAxisLabelBox.destroy(),
                    this.currentXAxisLabelBox = null)
                },
                clearXAxisPlotLineLabel: function() {
                    this.currentXAxisLabelText && (this.currentXAxisLabelText.destroy(),
                    this.currentXAxisLabelText = null),
                    this.currentXAxisLabelBox && (this.currentXAxisLabelBox.destroy(),
                    this.currentXAxisLabelBox = null)
                },
                onPlayerTimeChanged: function() {
                    if (this.clearXAxisPlotLineLabel(),
                    this.highChartObj && this.highChartObj.xAxis && this.highChartObj.xAxis.length) {
                        this.highChartObj.xAxis[0].removePlotLine(this.plotLineId);
                        var e = this.playerModel.get("x");
                        this.highChartObj.xAxis[0].addPlotLine({
                            color: "#222222",
                            value: e,
                            width: 1,
                            id: this.plotLineId,
                            zIndex: 3
                        });
                        for (var t = this.highChartObj.series[0].points, i = t.length, a = 0; a < i && !(t[a].x >= e); a++)
                            ;
                        var n = Math.min(t.length - 1, a);
                        if (n > 0 && t[n].x != e) {
                            var r = Math.abs(t[n].x - e);
                            Math.abs(t[n - 1].x - e) < r && n--
                        }
                        var s = t[n]
                          , o = [];
                        if (this.highChartObj.series.length > 1 && this.highChartObj.tooltip.shared) {
                            o.push(s);
                            for (var l = 1, c = this.highChartObj.series.length; l < c; l += 1)
                                if (this.highChartObj.series[l] && this.highChartObj.series[l].points && this.highChartObj.series[l].points.length > 0)
                                    for (var h = 0; h < this.highChartObj.series[l].points.length; h += 1)
                                        if (s.x === this.highChartObj.series[l].points[h].x) {
                                            o.push(this.highChartObj.series[l].points[h]);
                                            break
                                        }
                        } else
                            o = s;
                        s && (this.highChartObj && this.highChartObj.tooltip && this.highChartObj.tooltip.refresh(o),
                        this.currentPlotLinePoint = s,
                        this.renderXAxisPlotLineLabel())
                    }
                },
                getHelpKey: function() {
                    var e = "";
                    return n.a.each(this.primarySeries, function(t) {
                        t.helpKey && !e && (e = t.helpKey)
                    }),
                    e
                },
                getHelpKeyAdditionalData: function() {
                    var e = null;
                    return n.a.each(this.primarySeries, function(t) {
                        t.helpKeyAdditionalData && (e = "function" === typeof t.helpKeyAdditionalData ? t.helpKeyAdditionalData() : t.helpKeyAdditionalData)
                    }),
                    e
                },
                onShowHelpClicked: function(t) {
                    var i = e(t.currentTarget).attr("data-help-key");
                    new d.a({
                        key: i,
                        additionalData: this.getHelpKeyAdditionalData()
                    }).render()
                },
                onZoomChartClicked: function() {
                    this.trigger(w.ON_EXPANDED_CHART_CLICKED, this)
                },
                destroy: function() {
                    this.stopListening(),
                    this.highChartObj && this.highChartObj.destroy(),
                    this.$el.remove()
                },
                hide: function() {
                    this.visible = !1,
                    this.$el.hide(),
                    this.stopListening()
                },
                show: function() {
                    this.visible = !0,
                    this.$el.show(),
                    this.listenTo(this.playerModel, "change:x", this.onPlayerTimeChanged, this),
                    this.listenTo(this.playerModel, "clear", this.onPlayerCleared, this),
                    this.redrawOnNextShow && (this.redrawOnNextShow = !1,
                    this.render())
                },
                getPrimarySeriesLabel: function() {
                    var e = this.primarySeries[0].label;
                    return e instanceof Array ? o.a.localize(e[0], o.a.localize(e[1])) : o.a.localize(e)
                },
                isRendered: function() {
                    return this.rendered
                },
                enableTooltip: function() {
                    return !0
                },
                styleTooltip: function() {
                    return {
                        color: "#222",
                        padding: "3px",
                        opacity: 1,
                        zIndex: 5
                    }
                },
                shareTooltip: function() {
                    return !1
                }
            });
            x.XAxisTypes = c.a,
            x.Events = w,
            t.a = x
        }
        ).call(this, i(10))
    },
    1249: function(e, t, i) {
        var a, n;
        n = function(e) {
            !function(e) {
                var t, i = e.pInt, a = e.pick, n = e.each, r = e.isNumber;
                (0,
                e.wrap)(e.Renderer.prototype.symbols, "arc", function(e, t, i, a, n, r) {
                    return e = e(t, i, a, n, r),
                    r.rounded && (r = ["A", a = ((r.r || a) - r.innerR) / 2, a, 0, 1, 1, e[12], e[13]],
                    e.splice.apply(e, [e.length - 1, 0].concat(["A", a, a, 0, 1, 1, e[1], e[2]])),
                    e.splice.apply(e, [11, 3].concat(r))),
                    e
                }),
                t = {
                    initDataClasses: function(t) {
                        var i, a = this.chart, r = 0, s = this.options;
                        this.dataClasses = i = [],
                        n(t.dataClasses, function(n, o) {
                            n = e.merge(n),
                            i.push(n),
                            n.color || ("category" === s.dataClassColor ? (o = a.options.colors,
                            n.color = o[r++],
                            r === o.length && (r = 0)) : n.color = e.color(s.minColor).tweenTo(e.color(s.maxColor), o / (t.dataClasses.length - 1)))
                        })
                    },
                    initStops: function(t) {
                        this.stops = t.stops || [[0, this.options.minColor], [1, this.options.maxColor]],
                        n(this.stops, function(t) {
                            t.color = e.color(t[1])
                        })
                    },
                    toColor: function(e, t) {
                        var i, a, n, r, s = this.stops, o = this.dataClasses;
                        if (o) {
                            for (r = o.length; r--; )
                                if (i = (n = o[r]).from,
                                s = n.to,
                                (void 0 === i || e >= i) && (void 0 === s || e <= s)) {
                                    a = n.color,
                                    t && (t.dataClass = r);
                                    break
                                }
                        } else {
                            for (this.isLog && (e = this.val2lin(e)),
                            e = 1 - (this.max - e) / (this.max - this.min),
                            r = s.length; r-- && !(e > s[r][0]); )
                                ;
                            i = s[r] || s[r + 1],
                            e = 1 - ((s = s[r + 1] || i)[0] - e) / (s[0] - i[0] || 1),
                            a = i.color.tweenTo(s.color, e)
                        }
                        return a
                    }
                },
                e.seriesType("solidgauge", "gauge", {
                    colorByPoint: !0
                }, {
                    translate: function() {
                        var i = this.yAxis;
                        e.extend(i, t),
                        !i.dataClasses && i.options.dataClasses && i.initDataClasses(i.options),
                        i.initStops(i.options),
                        e.seriesTypes.gauge.prototype.translate.call(this)
                    },
                    drawPoints: function() {
                        var t, s = this, o = s.yAxis, l = o.center, c = s.options, h = s.chart.renderer, d = c.overshoot, p = r(d) ? d / 180 * Math.PI : 0;
                        r(c.threshold) && (t = o.startAngleRad + o.translate(c.threshold, null, null, null, !0)),
                        this.thresholdAngleRad = a(t, o.startAngleRad),
                        n(s.points, function(t) {
                            var n = t.graphic
                              , r = o.startAngleRad + o.translate(t.y, null, null, null, !0)
                              , d = i(a(t.options.radius, c.radius, 100)) * l[2] / 200
                              , u = i(a(t.options.innerRadius, c.innerRadius, 60)) * l[2] / 200
                              , m = o.toColor(t.y, t)
                              , g = Math.min(o.startAngleRad, o.endAngleRad)
                              , f = Math.max(o.startAngleRad, o.endAngleRad);
                            "none" === m && (m = t.color || s.color || "none"),
                            "none" !== m && (t.color = m),
                            r = Math.max(g - p, Math.min(f + p, r)),
                            !1 === c.wrap && (r = Math.max(g, Math.min(f, r))),
                            g = Math.min(r, s.thresholdAngleRad),
                            (r = Math.max(r, s.thresholdAngleRad)) - g > 2 * Math.PI && (r = g + 2 * Math.PI),
                            t.shapeArgs = u = {
                                x: l[0],
                                y: l[1],
                                r: d,
                                innerR: u,
                                start: g,
                                end: r,
                                rounded: c.rounded
                            },
                            t.startR = d,
                            n ? (d = u.d,
                            n.animate(e.extend({
                                fill: m
                            }, u)),
                            d && (u.d = d)) : (t.graphic = n = h.arc(u).attr({
                                fill: m,
                                "sweep-flag": 0
                            }).add(s.group),
                            "square" !== c.linecap && n.attr({
                                "stroke-linecap": "round",
                                "stroke-linejoin": "round"
                            }),
                            n.attr({
                                stroke: c.borderColor || "none",
                                "stroke-width": c.borderWidth || 0
                            })),
                            n && n.addClass(t.getClassName(), !0)
                        })
                    },
                    animate: function(t) {
                        t || (this.startAngleRad = this.thresholdAngleRad,
                        e.seriesTypes.pie.prototype.animate.call(this, t))
                    }
                })
            }(e)
        }
        ,
        "object" === typeof e && e.exports ? e.exports = n : void 0 === (a = function() {
            return n
        }
        .call(t, i, t, e)) || (e.exports = a)
    },
    1252: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(13)
          , c = i(17)
          , h = (i(60),
        i(1273))
          , d = i.n(h)
          , p = {
            CHANGE: "CHANGE",
            EDIT: "EDIT",
            PRE_CANCEL: "PRE_CANCEL",
            CANCEL: "CANCEL"
        }
          , u = 8
          , m = 46
          , g = 37
          , f = 38
          , v = 39
          , y = 40
          , A = s.a.View.extend({
            template: n.a.template(d.a),
            events: {
                "click .inline-edit-target": "onInlineEditTargetClicked",
                "click .inline-edit-trigger": "onInlineEditTriggered",
                "click .inline-edit-save": "onInlineEditSaveClicked",
                "click .inline-edit-cancel": "onInlineEditCancelled",
                "keydown .inline-edit-editable-text": "onInputKeyDown"
            },
            initialize: function(e) {
                this.tag = e.tag || "a",
                this.customClasses = e.customClasses || "",
                this.label = e.label || "",
                this.value = e.value,
                this.formatClass = e.formatClass || "",
                this.url = e.url,
                this.disableEditability = e.disableEditability,
                this.disableEditOnClickText = e.disableEditOnClickText,
                this.maxLength = e.maxLength,
                this.minLength = e.minLength,
                this.disableEditBtn = e.disableEditBtn,
                this.disableEditOnClickText || (this.disableEditOnClickText = !1),
                "undefined" == typeof this.value && (this.value = ""),
                this.AcceptableList = [u, m, g, v, f, y]
            },
            defaultFormatFunc: function(e) {
                return e
            },
            render: function() {
                this.$el.removeClass("edit"),
                this.$el.addClass(this.formatClass + " inline-edit inline-edit-text-field"),
                this.$el.html(this.template({
                    Localizer: o.a,
                    Personalizer: l.a,
                    value: this.value,
                    label: this.label,
                    url: this.url || "#",
                    tag: this.tag,
                    customClasses: this.customClasses,
                    disableEditBtn: this.disableEditBtn
                })),
                this.disableEditability && this.$(".inline-edit-trigger").hide()
            },
            onInlineEditTargetClicked: function(e) {
                this.disableEditBtn || (this.url ? c.default.anchorTagHandler(e) : this.disableEditOnClickText ? e.preventDefault() : this.onInlineEditTriggered(e))
            },
            onInlineEditTriggered: function(e) {
                e.preventDefault(),
                this.$el.addClass("edit"),
                this.$(".inline-edit-target").hide(),
                this.$(".inline-edit-editable").show(),
                this.$(".inline-edit-editable-text").focus(),
                this.setSelected(),
                this.trigger(p.EDIT)
            },
            onInlineEditCancelled: function(e) {
                this.trigger(p.PRE_CANCEL),
                e.preventDefault(),
                e.stopPropagation(),
                this.render(),
                this.trigger(p.CANCEL)
            },
            onInlineEditSaveClicked: function(e) {
                e.preventDefault(),
                e.stopPropagation(),
                this.processInput()
            },
            processInput: function() {
                var e = this.$(".inline-edit-editable-text").text().trim();
                !n.a.isUndefined(this.minLength) && e.length < this.minLength || (this.value = e,
                this.maxLength && this.value.length > this.maxLength && (this.value = this.value.substring(0, this.maxLength)),
                this.trigger(p.CHANGE, this.value))
            },
            onInputKeyDown: function(e) {
                13 === e.keyCode && (e.preventDefault(),
                this.processInput()),
                this.maxLength && e.target.textContent.length >= this.maxLength && -1 == this.AcceptableList.indexOf(e.keyCode) && e.preventDefault()
            },
            setSelected: function() {
                var e, t, i = this.$(".inline-edit-editable-text")[0];
                document.body.createTextRange ? ((e = document.body.createTextRange()).moveToElementText(i),
                e.select()) : window.getSelection && (t = window.getSelection(),
                (e = document.createRange()).selectNodeContents(i),
                t.removeAllRanges(),
                t.addRange(e))
            }
        });
        A.Events = p,
        t.a = A
    },
    1254: function(e, t, i) {
        "use strict";
        i.d(t, "b", function() {
            return n
        }),
        i.d(t, "a", function() {
            return r
        }),
        i.d(t, "d", function() {
            return s
        }),
        i.d(t, "c", function() {
            return o
        }),
        i.d(t, "e", function() {
            return l
        });
        var a = i(2)
          , n = {
            CLIMB_ACTIVE: "CLIMB_ACTIVE",
            CLIMB_REST: "CLIMB_REST"
        }
          , r = {
            CLIMB_COMPLETED: "CLIMB_COMPLETED",
            CLIMB_ATTEMPTED: "CLIMB_ATTEMPTED"
        }
          , s = function(e) {
            var t = {
                sends: 0,
                completed: 0,
                attempted: 0,
                gradeValue: {}
            }
              , i = {};
            return e.forEach(function(e) {
                if (e.type === n.CLIMB_ACTIVE) {
                    var r = i[e.gradeValue.valueKey];
                    switch (r || (r = Object(a.a)({}, t)),
                    e.status) {
                    case "CLIMB_ATTEMPTED":
                        r.attempted++;
                        break;
                    case "CLIMB_COMPLETED":
                    default:
                        e.climbSend ? r.sends++ : r.completed++
                    }
                    i[e.gradeValue.valueKey] = Object(a.a)({}, r, {
                        gradeValue: e.gradeValue
                    })
                }
            }),
            Object.values(i).sort(function(e, t) {
                return e.gradeValue.sortOrder - t.gradeValue.sortOrder
            })
        }
          , o = function(e, t, i) {
            return i && i[e] && i[e][t] ? i[e][t].value : null
        }
          , l = function(e) {
            return e.reduce(function(e, t) {
                return e[t.splitType] = t,
                e
            }, {})
        }
    },
    1257: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(4)
          , s = i(8)
          , o = i.n(s)
          , l = i(1262)
          , c = i.n(l)
          , h = {
            Small: "relative bottom",
            Long: ""
        }
          , d = {
            Success: "alert-success",
            Error: "alert-error",
            Info: "alert-info",
            Warning: "alert-warning"
        }
          , p = o.a.View.extend({
            template: n.a.template(c.a),
            className: "alert",
            events: {
                "click #alert": "onDismissLinkClicked",
                "click a[data-action]": "onLinkClicked"
            },
            initialize: function(e) {
                if (!e.message)
                    throw "a message is required for the alert.";
                return this.message = e.message,
                this.size = e.size || h.Long,
                this.alertType = e.alertType || d.Success,
                this.showAlert = e.showAlert || !1,
                this.callback = e.callback,
                this.localizeArgs = e.localizeArgs,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: r.a,
                    message: this.message,
                    args: this.localizeArgs
                })),
                this.updateSizeInUI(),
                this.updateAlertTypeInUI(),
                this.showAlert ? this.displayAlert() : this.hideAlert(),
                this
            },
            setMessage: function(e) {
                return e ? (this.message = e,
                !0) : !!this.message
            },
            setSize: function(e) {
                if (e) {
                    if ("small" === e)
                        return this.size = h.Small,
                        !0;
                    if ("long" === e)
                        return this.size = h.Long,
                        !0;
                    if (e === h.Long || e === h.Small)
                        return this.size = e,
                        !0
                }
                return !!this.size
            },
            setAlertType: function(e) {
                if (e) {
                    if ("success" === e)
                        return this.alertType = d.Success,
                        !0;
                    if ("error" === e)
                        return this.alertType = d.Error,
                        !0;
                    if ("info" === e)
                        return this.alertType = d.Info,
                        !0;
                    if ("warning" === e)
                        return this.alertType = d.Warning,
                        !0;
                    if (e === d.Success || e === d.Error || e === d.Info || d.Warning)
                        return this.alertType = e,
                        !0
                }
                return !!this.alertType
            },
            updateSizeInUI: function() {
                this.size === h.Small ? this.$el.addClass(h.Small) : this.size === h.Long && this.$el.removeClass(h.Small)
            },
            updateAlertTypeInUI: function() {
                this.alertType === d.Success ? (this.$el.addClass(d.Success),
                this.$el.removeClass(d.Error),
                this.$el.removeClass(d.Info)) : this.alertType === d.Error ? (this.$el.addClass(d.Error),
                this.$el.removeClass(d.Success),
                this.$el.removeClass(d.Info)) : this.alertType === d.Info ? (this.$el.addClass(d.Info),
                this.$el.removeClass(d.Error),
                this.$el.removeClass(d.Success)) : this.alertType === d.Warning && (this.$el.addClass(d.Warning),
                this.$el.removeClass(d.Error),
                this.$el.removeClass(d.Success),
                this.$el.removeClass(d.Info))
            },
            setAndRenderAlert: function(e, t, i, a, n) {
                var r = this.setMessage(e)
                  , s = this.setSize(t)
                  , o = this.setAlertType(i);
                this.localizeArgs = n,
                r && s && o && (this.showAlert = !0,
                this.callback = a,
                this.render())
            },
            displayAlert: function() {
                this.$el.show()
            },
            hideAlert: function() {
                this.$el.hide()
            },
            onDismissLinkClicked: function(e) {
                e.preventDefault(),
                this.hideAlert()
            },
            onLinkClicked: function(e) {
                e.preventDefault(),
                this.callback && this.callback(),
                this.hideAlert()
            }
        });
        p.Size = h,
        p.AlertType = d,
        t.a = p
    },
    1261: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(1237)
              , n = {
                openAgent: function(e) {
                    null != e && "undefined" != typeof e || ("undefined" !== typeof console && console.log && this.log("A device id wasn't passed into GCSyncUtil.openAgent()"),
                    e = ""),
                    this.log("calling " + a.a.Queue.Constants.GC_SYNC_URL + "?deviceId=" + e),
                    window.location.assign(a.a.Queue.Constants.GC_SYNC_URL + "?deviceId=" + e)
                },
                log: function(e) {
                    "undefined" !== typeof console && console.log && console.log(new Date + ": " + e)
                },
                scrollToRank: function(t) {
                    var i = {
                        scrollTop: t
                    };
                    e("body,html").animate(i)
                }
            };
            t.a = n
        }
        ).call(this, i(10))
    },
    1262: function(e, t) {
        e.exports = '<%= Localizer.localize(message, args) %>\n<a href="#" id="alert"><%- Localizer.localize(\'course_map_alert_dismiss\') %></a>'
    },
    1270: function(e, t, i) {
        var a;
        "undefined" != typeof self && self,
        e.exports = (a = i(11),
        function(e) {
            function t(a) {
                if (i[a])
                    return i[a].exports;
                var n = i[a] = {
                    i: a,
                    l: !1,
                    exports: {}
                };
                return e[a].call(n.exports, n, n.exports, t),
                n.l = !0,
                n.exports
            }
            var i = {};
            return t.m = e,
            t.c = i,
            t.d = function(e, i, a) {
                t.o(e, i) || Object.defineProperty(e, i, {
                    configurable: !1,
                    enumerable: !0,
                    get: a
                })
            }
            ,
            t.n = function(e) {
                var i = e && e.__esModule ? function() {
                    return e.default
                }
                : function() {
                    return e
                }
                ;
                return t.d(i, "a", i),
                i
            }
            ,
            t.o = function(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t)
            }
            ,
            t.p = "",
            t(t.s = 0)
        }([function(e, t, i) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var a = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var i = arguments[t];
                    for (var a in i)
                        Object.prototype.hasOwnProperty.call(i, a) && (e[a] = i[a])
                }
                return e
            }
              , n = function() {
                function e(e, t) {
                    for (var i = 0; i < t.length; i++) {
                        var a = t[i];
                        a.enumerable = a.enumerable || !1,
                        a.configurable = !0,
                        "value"in a && (a.writable = !0),
                        Object.defineProperty(e, a.key, a)
                    }
                }
                return function(t, i, a) {
                    return i && e(t.prototype, i),
                    a && e(t, a),
                    t
                }
            }()
              , r = i(1)
              , s = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(r)
              , o = function(e) {
                function t(e) {
                    !function(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    var i = function(e, t) {
                        if (!e)
                            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    return i.container = s.default.createRef(),
                    i
                }
                return function(e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, e),
                n(t, [{
                    key: "componentDidMount",
                    value: function() {
                        var e = this.props
                          , t = e.highcharts || window.Highcharts;
                        this.chart = t[e.constructorType || "chart"](this.container.current, e.options, e.callback ? e.callback : void 0)
                    }
                }, {
                    key: "componentDidUpdate",
                    value: function() {
                        var e;
                        !1 !== this.props.allowChartUpdate && (e = this.chart).update.apply(e, [this.props.options].concat(function(e) {
                            if (Array.isArray(e)) {
                                for (var t = 0, i = Array(e.length); t < e.length; t++)
                                    i[t] = e[t];
                                return i
                            }
                            return Array.from(e)
                        }(this.props.updateArgs || [!0, !0])))
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function() {
                        this.chart && (this.chart.destroy(),
                        this.chart = null)
                    }
                }, {
                    key: "render",
                    value: function() {
                        return s.default.createElement("div", a({}, this.props.containerProps, {
                            ref: this.container
                        }))
                    }
                }]),
                t
            }(s.default.PureComponent);
            t.default = o
        }
        , function(e, t) {
            e.exports = a
        }
        ]))
    },
    1271: function(e, t, i) {
        "use strict";
        t.a = {
            SportTypes: {
                Running: "running",
                Cycling: "cycling",
                Other: "other",
                Swimming: "swimming",
                Strength_Training: "strength_training",
                Cardio: "cardio_training",
                Yoga: "yoga",
                Pilates: "pilates"
            },
            StepTypes: {
                Warm_Up: "warmup",
                Interval: "interval",
                Cool_Down: "cooldown",
                Recovery: "recovery",
                Rest: "rest",
                Repeat: "repeat",
                Other: "other"
            },
            TargetTypes: {
                No_Target: "no.target",
                Cadence: "cadence",
                Heart_Rate_Zone: "heart.rate.zone",
                Pace_Zone: "pace.zone",
                Power_Zone: "power.zone",
                Speed_Zone: "speed.zone"
            },
            ConditionTypes: {
                Calories: "calories",
                Distance: "distance",
                Heart_Rate: "heart.rate",
                Lap_Button: "lap.button",
                Iterations: "iterations",
                Power: "power",
                Time: "time",
                Fixed_Rest: "fixed.rest",
                Fixed_Repetition: "fixed.repetition",
                Reps: "reps"
            },
            IntensityTypes: {
                Active: "active",
                Rest: "rest",
                Warm_Up: "warmup",
                Cool_Down: "cooldown"
            },
            DurationTypes: {
                No_Duration: "no.duration",
                Calories: "calories",
                Distance: "distance",
                Lap_Button: "lap.button",
                Time: "time",
                Heart_Zone: "heart.rate.zone",
                Power_Zone: "power.zone",
                Fixed_Rest: "fixed.rest",
                Fixed_Repetition: "fixed.repetition",
                Reps: "reps"
            },
            StrokeTypes: {
                Any: "any_stroke",
                Backstroke: "backstroke",
                Breaststroke: "breaststroke",
                Drill: "drill",
                Fly: "fly",
                Free: "free",
                IM: "individual_medley",
                Mixed: "mixed"
            },
            EquipmentTypes: {
                No_Equipment: "no.equipment",
                Fins: "fins",
                Kickboard: "kickboard",
                Paddles: "paddles",
                Pull_Buoy: "pull_buoy",
                Snorkel: "snorkel"
            }
        }
    },
    1272: function(e, t, i) {
        "use strict";
        e.exports = i(1878)
    },
    1273: function(e, t) {
        e.exports = '<<%- tag %> href="<%- url %>" class="inline-edit-target <%- customClasses %>" title="<%- value %>"><%- value %>\n<% if (label) {     %>\n<%- label %>\n<% }                %>\n</<%- tag %>>\n\n<% if(disableEditBtn) { %>\n    <span class="js-disable-edit" >\n        <button disabled>\n            <i class="icon-pencil"></i>\n        </button>\n    </span>\n<% } else { %>\n    <button class="inline-edit-trigger modal-trigger" aria-label="<%-\xa0Localizer.localize(\'edit\')\xa0%>">\n        <i class="icon-pencil"></i>\n    </button>\n\n    <div class="inline-edit-editable">\n        <div class="inline-edit-editable-text" style="min-width: 15px;" contenteditable="true"><%- value %></div>\n        <span class="inline-edit-actions">\n            <button class="inline-edit-save icon-checkmark"></button>\n            <button class="inline-edit-cancel icon-close"></button>\n        </span>\n    </div>\n<% } %>\n    \n\n'
    },
    1276: function(e, t, i) {
        "use strict";
        t.a = {
            Duration: "sumDuration",
            Distance: "sumDistance",
            SwimLengths: "directLengthIndex",
            SwimDuration: "cumulativeDuration",
            SwimDistance: "cumulativeDistance"
        }
    },
    1279: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(13)
              , c = i(1303)
              , h = i.n(c)
              , d = {
                CHANGE: "CHANGE"
            }
              , p = s.a.View.extend({
                template: n.a.template(h.a),
                events: {
                    "click li": "onInlineSelectionChanged"
                },
                initialize: function(e) {
                    if (this.formatClass = e.formatClass || "",
                    this.value = e.value,
                    this.items = e.items,
                    this.label = e.label,
                    this.includeDivider = !0,
                    this.scrollable = !0,
                    this.dropdownClass = e.dropdownClass || "",
                    "undefined" != typeof e.scrollable && (this.scrollable = e.scrollable),
                    "undefined" === typeof this.items)
                        throw "Items are required for InlineDropDownListView";
                    if ("undefined" === typeof this.value)
                        throw "Value is required for InlineDropDownListView";
                    "undefined" !== typeof e.includeDivider && (this.includeDivider = e.includeDivider),
                    this.options = e.options || {}
                },
                render: function() {
                    var e = this.findItem(this.value);
                    return this.scrollable && this.$el.addClass("inline-edit inline-edit-select"),
                    this.$el.html(this.template({
                        Localizer: o.a,
                        Personalizer: l.a,
                        formatClass: this.formatClass,
                        className: this.className,
                        items: this.items,
                        selectedItem: e,
                        label: this.label,
                        useSelect: this.useSelect,
                        options: this.options,
                        includeDivider: this.includeDivider,
                        dropdownClass: this.dropdownClass
                    })),
                    this.$("[data-value=" + this.value + "]").addClass("active"),
                    this
                },
                findItem: function(e) {
                    for (var t = 0; t < this.items.length; t++) {
                        var i = this.items[t];
                        if (i.value == e)
                            return i;
                        if ("undefined" != typeof i.children)
                            for (var a = 0; a < i.children.length; a++) {
                                var n = i.children[a];
                                if (n.value == e)
                                    return n
                            }
                    }
                    return null
                },
                onInlineSelectionChanged: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget).data("value");
                    i != this.value && (this.value = i,
                    this.trigger(d.CHANGE, this.value)),
                    this.render()
                }
            });
            p.Events = d,
            t.a = p
        }
        ).call(this, i(10))
    },
    1280: function(e, t, i) {
        var a = i(1914);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(35)(a, n);
        a.locals && (e.exports = a.locals)
    },
    1283: function(e, t, i) {
        "use strict";
        var a = i(1221)
          , n = i.n(a)
          , r = i(25)
          , s = (i(1399),
        i(1422),
        i(1423),
        i(1460))
          , o = function() {};
        o.MaxDistance = 999,
        o.Radius = {
            KILOMETERS: 6371,
            MILES: 3959
        },
        o.ZoomLevel = {
            MAX: 9,
            FAR: 10,
            MEDIUM: 12,
            CLOSE: 13
        },
        o.LowestHeatmapZoomLevel = 9,
        o.Layers = {
            LAYER_DISTANCE_CLOSE: "distanceLayerClose",
            LAYER_DISTANCE_MEDIUM: "distanceLayerMedium",
            LAYER_DISTANCE_FAR: "distanceLayerFar",
            LAYER_DISTANCE_MAX: "distanceLayerMax",
            LAYER_MARKERS: "markerLayer",
            LAYER_POSITION: "positionLayer",
            POPULAR_AREAS: "POPULAR_AREAS",
            LAYER_ELEVATION_SELECTION: "elevationLayer",
            CUSTOM_POINT_LAYER: "CUSTOM_POINT_LAYER",
            LAYER_POLYLINE_OVERLAY: "polylineOverlayLayer",
            LAYER_TOOLTIP: "layerTooltip"
        },
        o.calculateBoundingBoxAreaInKM = function(e, t, i, a) {
            return this.calculateDistanceBetweenPointsInKM(e, a, t, a) * this.calculateDistanceBetweenPointsInKM(e, a, e, i)
        }
        ,
        o.calculateDistanceBetweenPointsInKM = function(e, t, i, a) {
            var n = new s.a(e,t)
              , o = new s.a(i,a);
            return n.distanceTo(o) * r.a.MetersToKm
        }
        ,
        o.calculateDistanceBetweenPointsInMeters = function(e, t, i, a) {
            var n = new s.a(e,t)
              , r = new s.a(i,a);
            return n.distanceTo(r)
        }
        ,
        o.calculateDistanceFromCollectionOfLatLngs = function(e) {
            var t = 0;
            if (e)
                for (var i = 0, a = e.length; i < a; i += 1) {
                    var n = e[i]
                      , r = e[i + 1];
                    n && r && (t += this.calculateDistanceBetweenPointsInMeters(n.lat, n.lng, r.lat, r.lng))
                }
            return t
        }
        ,
        o.calculateDestinationPoint = function(e, t, i) {
            var a = (e = new s.a(e.lat,e.lng)).destinationPoint(t, i);
            return {
                lat: a.lat,
                lng: a.lon
            }
        }
        ,
        o.calculateBearingOfPoints = function(e, t) {
            var i = new s.a(e.lat,e.lng)
              , a = new s.a(t.lat,t.lng);
            return i.finalBearingTo(a)
        }
        ,
        o.decodeLine = function(e) {
            var t = 0
              , i = []
              , a = 0
              , n = 0;
            if (e && void 0 != e)
                for (var r = e.length; t < r; ) {
                    var s, o = 0, l = 0;
                    do {
                        l |= (31 & (s = e.charCodeAt(t++) - 63)) << o,
                        o += 5
                    } while (s >= 32);a += 1 & l ? ~(l >> 1) : l >> 1,
                    o = 0,
                    l = 0;
                    do {
                        l |= (31 & (s = e.charCodeAt(t++) - 63)) << o,
                        o += 5
                    } while (s >= 32);n += 1 & l ? ~(l >> 1) : l >> 1,
                    i.push([1e-5 * a, 1e-5 * n])
                }
            return i
        }
        ,
        o.indexOfClosestPoint = function(e, t, i, a) {
            var r, s = -1, o = this.truncateLatLng(t, i);
            if (e)
                if (2 === e.length)
                    s = 1;
                else {
                    for (r = 0; r < e.length - 1; r++) {
                        var l = this.truncateLatLng(e[r], i)
                          , c = this.truncateLatLng(e[r + 1], i);
                        if (this.isPointsEqual(l, o, i) || this.isPointsEqual(c, o, i) || n.a.polyline([l, c]).getBounds().contains(o)) {
                            s = r + 1;
                            break
                        }
                    }
                    -1 !== s || a || (s = i > 2 ? this.indexOfClosestPoint(e, t, i - 1) : e.length - 1)
                }
            return s
        }
        ,
        o.findPointOnPolyline = function(e, t, i, a, n) {
            var r, s, o, l, c, h, d, p = e[i - 1], u = e[i];
            return p.equals(t) ? s = p : u.equals(t) ? s = u : p.equals(u) ? s = p : (o = a.latLngToPoint(p, n).x,
            l = a.latLngToPoint(p, n).y,
            c = a.latLngToPoint(u, n).x,
            h = a.latLngToPoint(u, n).y,
            (d = ((a.latLngToPoint(t, n).x - o) * (c - o) + (a.latLngToPoint(t, n).y - l) * (h - l)) / (Math.pow(c - o, 2) + Math.pow(h - l, 2))) > 1 ? s = u : d < 0 ? s = p : (r = {
                x: o + d * (c - o),
                y: l + d * (h - l)
            },
            s = a.pointToLatLng(r, n))),
            s.wrap()
        }
        ,
        o.isPointsEqual = function(e, t, i) {
            return this.roundPointToSpecified(e.lat, i) === this.roundPointToSpecified(t.lat, i) && this.roundPointToSpecified(e.lng, i) === this.roundPointToSpecified(t.lng, i)
        }
        ,
        o.truncateLatLng = function(e, t) {
            return n.a.latLng(this.roundPointToSpecified(e.lat, t), this.roundPointToSpecified(e.lng, t))
        }
        ,
        o.roundPointToSpecified = function(e, t) {
            return Math.round(Math.pow(10, t) * e) / Math.pow(10, t)
        }
        ,
        t.a = o
    },
    1285: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(13)
          , c = i(1307)
          , h = i(82)
          , d = i(213)
          , p = i(1227)
          , u = i.n(p)
          , m = i(1253)
          , g = i.n(m)
          , f = i(1403)
          , v = i.n(f);
        g()(u.a),
        v()(u.a);
        t.a = s.a.View.extend({
            initialize: function(e) {
                this.report = e.report,
                this.reportType = e.reportType,
                this.activeTab = e.activeTab,
                this.metricList = e.metricList,
                this.metricPeriod = e.metricPeriod,
                this.userPreferences = e.userPreferences,
                this.daysInMonth = e.daysInMonth,
                this.chartType = e.chartType,
                this.chartFormat = e.chartFormat,
                this.currentDateOffset = e.currentDateOffset,
                this.startDateStr = e.startDateStr,
                this.untilDateStr = e.untilDateStr,
                this.initExportData(),
                this.initializeChart(e)
            },
            initExportData: function() {
                this.exportDataCount = 0,
                this.exportData = {
                    title: o.a.localize(this.report.metricName),
                    rows: []
                }
            },
            initializeChart: function(e) {},
            render: function() {
                this.calcStartingMonthDayAndYearNumbers(),
                this.getXAxisCategories(),
                this.yAxisTitle = this.determineYAxisTitle(),
                this.yAxisLabel = this.determineYAxisLabel(),
                this.initializeChartSeries(),
                this.createExportDataRowHeader(),
                this.compileStats(),
                null != this.chartSeries && (this.options = this.createOption(),
                this.setCategories(),
                this.setSeries(),
                this.customizeOptions(),
                this.chartObj = new u.a.Chart(this.el,this.options),
                this.postRender())
            },
            postRender: function() {},
            initializeChartSeries: function() {
                this.chartSeries = {}
            },
            createExportDataRowHeader: function() {},
            determineYAxisLabel: function() {
                return ""
            },
            compileStats: function() {
                this.metricList.each(this.processMetricList, this)
            },
            processMetricList: function(e) {
                var t = e.get("metricsMap")[this.report.metricName];
                if (t) {
                    this.metricAvailable = t.length;
                    for (var i = 0; i < t.length; i++)
                        this.addMetricToDataset(t[i])
                }
            },
            createZeroArray: function() {
                switch (this.metricPeriod) {
                case "daily":
                    return [0, 0, 0, 0, 0, 0, 0];
                case "weekly":
                    return [0, 0, 0, 0];
                case "monthly":
                    return [0, 0, 0, 0, 0, 0];
                case "yearly":
                    return [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                }
            },
            createNullArray: function() {
                switch (this.metricPeriod) {
                case "daily":
                    return [null, null, null, null, null, null, null];
                case "weekly":
                    return [null, null, null, null];
                case "monthly":
                    return [null, null, null, null, null, null];
                case "yearly":
                    return [null, null, null, null, null, null, null, null, null, null, null, null]
                }
            },
            getXAxisCategories: function() {
                switch (this.metricPeriod) {
                case "daily":
                    this.getDailyCategories();
                    break;
                case "weekly":
                    this.getWeeklyCategories();
                    break;
                case "monthly":
                    this.getMonthlyCategories();
                    break;
                case "yearly":
                    this.getYearlyCategories()
                }
            },
            createOption: function() {
                var e = {
                    chart: {
                        renderTo: "report-graph",
                        type: this.chartType,
                        backgroundColor: "transparent"
                    },
                    exporting: {
                        enabled: !1
                    },
                    credits: {
                        enabled: !1
                    },
                    title: {
                        text: ""
                    },
                    xAxis: {},
                    yAxis: {
                        min: 0,
                        title: {
                            text: "",
                            style: {
                                color: "#222"
                            }
                        },
                        labels: {
                            formatter: function() {
                                return l.a.formatDecimalNumber(this.value, 0) + " " + t.yAxisLabel
                            }
                        },
                        plotLines: [{
                            value: 0,
                            width: 1,
                            color: "#808080"
                        }],
                        allowDecimals: !1
                    },
                    legend: {
                        enabled: !1,
                        itemStyle: {
                            fontWeight: "normal"
                        }
                    },
                    plotOptions: {},
                    tooltip: {}
                }
                  , t = this;
                return "widget" == this.chartFormat ? (e.chart.height = 180,
                e.chart.width = 290,
                e.chart.events = {
                    click: function(e) {
                        e.preventDefault();
                        var i = "/report/" + t.report.metricId + "/" + t.reportType + "/" + t.activeTab;
                        s.a.history.navigate(i, {
                            trigger: !0
                        })
                    }
                }) : e.chart.zoomType = "xy",    // TX GCOverrides
                     e.chart.panning = true,     // TX GCOverrides
                     e.chart.panKey = 'shift',   // TX GCOverrides
                e
            },
            setCategories: function() {
                this.options.xAxis = {
                    categories: this.categories
                }
            },
            setSeries: function() {
                this.options.series = n.a.toArray(this.chartSeries)
            },
            getDailyCategories: function() {
                this.categories = [];
                for (var e = -6; e <= 0; e++) {
                    var t = new Date;
                    t.setHours(12),
                    t.setMinutes(0),
                    t.setMilliseconds(0),
                    t.setDate(t.getDate() + this.currentDateOffset),
                    t.setDate(t.getDate() + e);
                    var i, a = t.getDay().toString();
                    i = o.a.localize("day." + a + ".short"),
                    this.categories.push(i)
                }
            },
            getWeeklyCategories: function() {
                if (this.categories = [],
                this.startDateStr)
                    for (var e = h.a.parseISO(this.startDateStr), t = this.userPreferences.get("dateFormat").formatKey, i = 0; i < 4; i++) {
                        var a = c.a.formatMonthDate(d.a.addDays(e, 7 * i), t);
                        this.categories.push(a)
                    }
                else {
                    var n = "0";
                    switch (this.userPreferences.get("firstDayOfWeek").dayName) {
                    case "saturday":
                        n = "6";
                        break;
                    case "monday":
                        n = "1"
                    }
                    for (i = this.daysInMonth; i <= 0; i++) {
                        var r = new Date;
                        if (r.setHours(12),
                        r.setMinutes(0),
                        r.setMilliseconds(0),
                        r.setDate(r.getDate() + this.currentDateOffset),
                        r.setDate(r.getDate() + i),
                        r.getDay().toString() == n) {
                            var s = r.getDate().toString()
                              , l = (r.getMonth() + 1).toString()
                              , p = this.userPreferences.get("dateFormat");
                            a = "";
                            a = "mmddyyyy" == p.formatKey || "yyyymmdd" == p.formatKey ? o.a.localize("month.abbr." + (l.length > 1 ? l : "0" + l)) + " " + s : s + " " + o.a.localize("month.abbr." + (l.length > 1 ? l : "0" + l)),
                            this.categories.push(a)
                        }
                    }
                }
            },
            getMonthlyCategories: function() {
                this.categories = [];
                for (var e = this.startMonth, t = this.startYear, i = 0; i < 6; i++) {
                    var a = new Date(t,e + 1,0,0,0,0,0).getMonth() + 1;
                    this.categories.push(o.a.localize("month.abbr." + (a > 9 ? a : "0" + a))),
                    ++e > 11 && (t++,
                    e = 0)
                }
            },
            getYearlyCategories: function() {
                this.categories = [];
                for (var e = this.startMonth, t = this.startYear, i = 0; i < 12; i++) {
                    var a = new Date(t,e + 1,0,0,0,0,0).getMonth() + 1;
                    this.categories.push(o.a.localize("month.abbr." + (a > 9 ? a : "0" + a))),
                    ++e > 11 && (t++,
                    e = 0)
                }
            },
            calcStartingMonthDayAndYearNumbers: function() {
                var e = new Date;
                switch (e.setHours(12),
                e.setMinutes(0),
                e.setMilliseconds(0),
                e.setDate(e.getDate() + this.currentDateOffset),
                this.metricPeriod) {
                case "daily":
                    break;
                case "weekly":
                    new Date(e.setMonth(e.getMonth() - 1));
                    break;
                case "monthly":
                    new Date(e.setMonth(e.getMonth() - 5));
                    break;
                case "yearly":
                    new Date(e.setMonth(e.getMonth() - 11))
                }
                this.startMonth = e.getMonth(),
                this.startYear = e.getFullYear(),
                this.startDate = e.getDate()
            },
            calculateDailyDataIndex: function(e) {
                var t = c.a.formatDate(this.currentDateOffset)
                  , i = 7 - c.a.determineNumberOfDays(e, t);
                return i < 0 || i > 6 ? -1 : i
            },
            calculateWeeklyDataIndex: function(e) {
                var t = e.split("-")
                  , i = new Date(t[0],t[1] - 1,t[2],0,0,0)
                  , a = i.getMonth() + 1
                  , n = i.getDate()
                  , r = this.userPreferences.get("dateFormat")
                  , s = "";
                s = "mmddyyyy" == r.formatKey || "yyyymmdd" == r.formatKey ? o.a.localize("month.abbr." + (a > 9 ? a : "0" + a)) + " " + n : n + " " + o.a.localize("month.abbr." + (a > 9 ? a : "0" + a));
                var l = this.categories.indexOf(s);
                return l < 0 || l > 3 ? -1 : l
            },
            calculateMonthlyDataIndex: function(e) {
                var t = o.a.localize("month.abbr." + (e > 9 ? e : "0" + e))
                  , i = this.categories.indexOf(t);
                return i < 0 || i > 5 ? -1 : i
            },
            calculateYearlyDataIndex: function(e, t) {
                var i = e - this.startMonth + 12 * (t - this.startYear);
                return i < 0 || i > 11 ? -1 : i
            },
            determineDataIndex: function(e) {
                var t = "";
                switch (this.metricPeriod) {
                case "daily":
                    t = this.calculateDailyDataIndex(e.calendarDate);
                    break;
                case "weekly":
                    t = this.calculateWeeklyDataIndex(e.startDateOfWeek);
                    break;
                case "monthly":
                    var i = e.month;
                    t = this.calculateMonthlyDataIndex(i.monthId);
                    break;
                case "yearly":
                    i = e.month;
                    t = this.calculateYearlyDataIndex(i.monthId - 1, i.year, this.startMonth, this.startYear)
                }
                return t
            },
            getExportData: function() {
                return this.exportData
            }
        })
    },
    1289: function(e, t, i) {
        "use strict";
        var a, n, r = i(7), s = i.n(r), o = i(8), l = i.n(o), c = i(4), h = i(218), d = i(1363), p = i(10), u = i.n(p), m = i(1221), g = i.n(m), f = (i(1918),
        i(1500)), v = i.n(f), y = i(57), A = i(1310), _ = (i(2359),
        g.a.Marker.extend({
            initialize: function(e, t) {
                g.a.Marker.prototype.initialize.call(this, e, t),
                this.label = {
                    text: ""
                }
            },
            setLabel: function(e) {
                this.label = e
            },
            getLabel: function() {
                return this.label
            },
            setTitle: function(e) {
                this._icon.innerHTML = e
            },
            setPosition: function(e) {
                this.setLatLng(e)
            }
        })), b = i(1421), C = b.a.extend({
            getHeatMapUrl: function(e) {
                return "undefined" != typeof e && null != e ? e[0] : ""
            }
        }), w = b.a.extend({
            getHeatMapUrl: function(e) {
                if ("undefined" != typeof e && null != e && e.length > 1)
                    return e[1]
            }
        }), x = b.a.extend({
            getHeatMapUrl: function(e) {
                if ("undefined" != typeof e && null != e && e.length > 2)
                    return e[2]
            }
        }), S = g.a.TileLayer.extend({
            initialize: function(e, t) {
                g.a.Util.setOptions(this, t),
                this.url = e || "http://downloadqdc.garmin.com/GCSProxyServlet/MarineImages/{quadkey}.png"
            },
            getTileUrl: function(e) {
                var t = this._getZoomForUrl();
                return this.url.replace("{quadkey}", this.tile2quad(e.x, e.y, t))
            },
            tile2quad: function(e, t, i) {
                for (var a = "", n = i; n > 0; n--) {
                    var r = 0
                      , s = 1 << n - 1;
                    0 !== (e & s) && (r += 1),
                    0 !== (t & s) && (r += 2),
                    a += r
                }
                return a
            },
            _animateZoom: function(e) {
                this.zoomingIn = e.zoom > this._map.getZoom(),
                g.a.TileLayer.prototype._animateZoom.call(this, e)
            },
            _tileLoaded: function() {
                this._tilesToLoad--,
                this._animated && g.a.DomUtil.addClass(this._tileContainer, "leaflet-zoom-animated"),
                this._tilesToLoad || (this.fire("load"),
                this._clearBgBuffer())
            },
            _prepareBgBuffer: function() {
                var e = this._tileContainer
                  , t = this._bgBuffer
                  , i = this._getLoadedTilesPercentage(t)
                  , a = this._getLoadedTilesPercentage(e);
                if (t && i > .5 && a < .5)
                    return e.style.visibility = "hidden",
                    void this._stopLoadingImages(e);
                t.style.visibility = "hidden",
                this.zoomingIn ? (t.style.zIndex = 1,
                e.style.zIndex = 2) : (t.style.zIndex = 2,
                e.style.zIndex = 1),
                delete this.zoomingIn,
                t.style[g.a.DomUtil.TRANSFORM] = "",
                this._tileContainer = t,
                t = this._bgBuffer = e,
                this._stopLoadingImages(t),
                clearTimeout(this._clearBgBufferTimer)
            }
        }), T = i(1644), E = i(1236), L = g.a.Circle.extend({
            onAdd: function(e) {
                if (g.a.Circle.prototype.onAdd.call(this, e),
                this.options.draggable) {
                    var t, i = function(e) {
                        var i = g.a.latLng(e.latlng.lat - t.lat, e.latlng.lng - t.lng);
                        a.setLatLng(i),
                        a.fireEvent("drag")
                    }, a = this;
                    this.on("mousedown", function(a) {
                        t = {
                            lat: a.latlng.lat - this.getLatLng().lat,
                            lng: a.latlng.lng - this.getLatLng().lng
                        },
                        e.dragging.disable(),
                        e.on("mousemove", i)
                    }),
                    this.on("click", function(e) {
                        g.a.DomEvent.stopPropagation(e)
                    }),
                    e.on("mouseup", function(t) {
                        e.dragging.enable(),
                        e.off("mousemove", i),
                        a.fireEvent("dragend")
                    })
                }
            },
            getCenter: function() {
                return this.getLatLng()
            },
            setCenter: function(e) {
                this.setLatLng(e)
            }
        }), k = g.a.Rectangle.extend({
            onAdd: function(e) {
                g.a.Rectangle.prototype.onAdd.call(this, e);
                var t = this
                  , i = function() {
                    u()(t.editing._moveMarker._icon).hide()
                };
                t.on("mousedown", function(i) {
                    t.isDragging = !0,
                    t.initialBounds = t.getBounds(),
                    t.mouseDownPosition = h.a.getStandardizedPoint(i.latlng),
                    t.editing.disable(),
                    e.dragging.disable()
                }),
                e.on("mousemove", function(e) {
                    if (t.isDragging) {
                        var i = h.a.getStandardizedPoint(e.latlng)
                          , a = {
                            lat: i.lat - t.mouseDownPosition.lat,
                            lon: i.lon - t.mouseDownPosition.lon
                        }
                          , n = new g.a.LatLng(h.a.getStandardizedPoint(t.initialBounds.getSouthWest()).lat + a.lat,h.a.getStandardizedPoint(t.initialBounds.getSouthWest()).lon + a.lon)
                          , r = new g.a.LatLng(h.a.getStandardizedPoint(t.initialBounds.getNorthEast()).lat + a.lat,h.a.getStandardizedPoint(t.initialBounds.getNorthEast()).lon + a.lon)
                          , s = new g.a.latLngBounds(n,r);
                        t.setBounds(s)
                    }
                }),
                e.on("mouseup", function() {
                    delete t.isDragging,
                    t.editing.enable(),
                    i(),
                    e.dragging.enable()
                }),
                t.editing.enable(),
                setTimeout(i())
            },
            getStandardizedBounds: function() {
                var e = this.getBounds();
                return {
                    sw: h.a.getStandardizedPoint(e.getSouthWest()),
                    ne: h.a.getStandardizedPoint(e.getNorthEast())
                }
            }
        }), P = i(1242), z = i.n(P), I = i(128), D = i.n(I), M = (i(2360),
        i(1919),
        {
            ON_MAP_READY: "ON_MAP_READY",
            ON_MAP_PROVIDER_CHANGED: "ON_MAP_PROVIDER_CHANGED",
            ON_VISIBLE_TILES_LOADED: "ON_VISIBLE_TILES_LOADED"
        }), B = {
            road: "ROADMAP",
            satellite: "SATELLITE",
            terrain: "TERRAIN",
            hybrid: "HYBRID"
        }, O = "moveend", R = "dragstart", N = "drag", V = "dragend", F = T.a.TileLayer, G = {
            road: "mapbox.streets",
            satellite: "mapbox.satellite"
        }, H = {
            road: "ROAD.Map",
            satellite: "SATELLITE.Map"
        }, U = l.a.View.extend({
            providers: {
                GOOGLE: "google",
                HERE: "here",
                OSM: "osm",
                BAIDU: "BAIDU_V_1_4"
            },
            initialize: function(e) {
                e = this.addInitializationDefaults(e),
                this.initializeState(e),
                h.a.userInChina() && h.a.isBaiduEnabled() && (this.mapProvider = z.a.Map.Utils.PROVIDER_TYPE_BAIDU)
            },
            addInitializationDefaults: function(e) {
                return s.a.defaults(e, {
                    enableBikeLanes: !0,
                    disablePanning: !1,
                    disableZooming: !1,
                    showControlScale: !0,
                    zoomLimits: {
                        min: 3,
                        max: 18
                    }
                })
            },
            initializeState: function(e) {
                this.el = e.el,
                this.viewerIsAuthenticated = e.viewerIsAuthenticated,
                this.mapContainerId = e.mapContainerId,
                this.mapContainerClass = e.mapContainerClass,
                this.enableBikeLanes = e.enableBikeLanes,
                this.disablePanning = e.disablePanning,
                this.disableZooming = e.disableZooming,
                this.showControlScale = e.showControlScale,
                this.mapProvider = e.mapProvider,
                this.mapStyle = e.mapStyle,
                this.zoom = e.zoom,
                this.zoomLimits = e.zoomLimits,
                this.mapHasBeenInitialized = !1,
                this.hideAttributionControl = e.hideAttributionControl
            },
            render: function() {
                return this.$el.attr("id", this.mapContainerId),
                this.$el.addClass(this.mapContainerClass),
                this.el
            },
            loadMap: function() {
                var e = this;
                this.mapProvider === z.a.Map.Utils.PROVIDER_TYPE_BAIDU ? D()(["https://api.map.baidu.com/getscript?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD&services=", "https://sapi.map.baidu.com/api?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD&s=1&callback="], function() {
                    var t = i.e(71).then(i.t.bind(null, 4687, 7))
                      , n = i.e(245).then(i.bind(null, 2272))
                      , r = i.e(246).then(i.bind(null, 5071))
                      , s = i.e(72).then(i.t.bind(null, 4688, 7));
                    Promise.all([t, n, r, s]).then(function(t) {
                        var i = Object(d.a)(t, 3)
                          , n = (i[1],
                        i[2])
                          , r = n ? n.default : null;
                        a = r,
                        e.checkAndRenderMap()
                    })
                }) : Promise.all(this.loadMapProviders()).then(function(t) {
                    var i = Object(d.a)(t, 3)
                      , a = i[1]
                      , r = i[2]
                      , s = a ? a.default : null
                      , o = r ? r.default : null;
                    "google" === e.mapProvider ? new s(null,function() {
                        n = o,
                        e.checkAndRenderMap()
                    }
                    ) : e.checkAndRenderMap()
                })
            },
            checkAndRenderMap: function() {
                this.mapProvider && h.a.isMapProviderValid(this.mapProvider) ? this.renderMap() : this.viewerIsAuthenticated ? this.loadMapProviderPreference() : (this.mapProvider = "google",
                this.loadMap()),
                this.showDefaultZoomControls || this.$(".leaflet-control-zoom").hide()
            },
            loadMapProviders: function() {
                var e, t, a;
                switch (this.mapProvider) {
                case "google":
                    e = i.e(247).then(i.bind(null, 131)),
                    t = i.e(248).then(i.bind(null, 2569)),
                    a = i.e(249).then(i.bind(null, 5072));
                    break;
                case "here":
                    e = i.e(250).then(i.t.bind(null, 1824, 7)),
                    t = i.e(251).then(i.bind(null, 2505));
                    break;
                case "osm":
                    e = i.e(252).then(i.t.bind(null, 2504, 7)),
                    t = i.e(253).then(i.bind(null, 5078))
                }
                return [e, t, a]
            },
            loadMapProviderPreference: function() {
                this.mapProviderPreference = new y.a({
                    key: "map_provider_type"
                }),
                this.mapProviderPreference.once("sync", function() {
                    this.mapProvider = this.mapProviderPreference.get("value"),
                    null == this.mapProvider && (this.mapProvider = "google"),
                    this.loadMap()
                }, this),
                this.mapProviderPreference.fetch()
            },
            renderMap: function() {
                var e = this.getLeafletOptions();
                0 !== u()("#" + this.mapContainerId).length && (this.map = g.a.map(this.mapContainerId, e),
                this.map.attributionControl && this.map.attributionControl.setPrefix(""),
                this.configureMap(),
                this.changeMapStyle(this.mapStyle || "road"),
                this.mapHasBeenInitialized = !0,
                this.trigger(M.ON_MAP_READY),
                this.setupEvents())
            },
            getLeafletOptions: function() {
                var e = {};
                return this.zoomLimits && (e.minZoom = this.zoomLimits.min),
                this.hideAttributionControl && (e.attributionControl = !1),
                e.zoom = this.zoom,
                e.worldCopyJump = !0,
                e
            },
            configureMap: function() {
                this.disableZooming ? this.map.scrollWheelZoom.disable() : this.map.scrollWheelZoom.enable(),
                this.disablePanning ? this.map.dragging.disable() : this.map.dragging.enable(),
                this.showControlScale && g.a.control.scale({
                    position: "bottomright"
                }).addTo(this.map)
            },
            setupEvents: function() {
                this.currentLayer.on("load", function() {
                    this.trigger(M.ON_VISIBLE_TILES_LOADED),
                    this.map.invalidateSize()
                }
                .bind(this))
            },
            changeMapStyle: function(e) {
                if (e && (!this.currentLayer || e !== this.mapStyle))
                    return this.currentLayer && this.map.removeLayer(this.currentLayer),
                    this.mapStyle = e,
                    h.a.userInChina() ? (this.map.options.crs = g.a.CRS.BEPSG3857,
                    this.currentLayer = new g.a.GarminBaidu(H[e]),
                    this.map.addLayer(this.currentLayer)) : this.mapProvider === this.providers.GOOGLE ? (this.googleLayer = new g.a.GridLayer.GoogleMutant({
                        maptype: B[e],
                        maxZoom: this.zoomLimits.max
                    }),
                    this.currentLayer = this.googleLayer,
                    this.map.addLayer(this.googleLayer),
                    this.map.on("layeradd", function() {
                        this.enableBikeLanes && this.toggleBicycleLayer(!0)
                    }
                    .bind(this))) : this.mapProvider === this.providers.HERE ? (this.currentLayer = new g.a.tileLayer.here({
                        appId: A.a.HereAppId,
                        appCode: A.a.HereAppCode,
                        scheme: E.a.HereMapTileTypeMapping[e.toLowerCase()]
                    }),
                    this.map.addLayer(this.currentLayer)) : (this.currentLayer = this.getOpenStreetMapLayer(e),
                    this.map.addLayer(this.currentLayer)),
                    !0
            },
            getMapProvider: function() {
                return this
            },
            changeMapProvider: function(e) {
                this.mapProvider !== e && (this.mapProvider = e,
                this.trigger(M.ON_MAP_PROVIDER_CHANGED, e))
            },
            zoomIn: function() {
                this.map.zoomIn(),
                this._setZoom()
            },
            zoomOut: function() {
                this.map.zoomOut(),
                this._setZoom()
            },
            fitMapToPoints: function(e, t) {
                e && (s.a.isArray(e) && e.length > 0 || e instanceof g.a.LatLngBounds) && this.map.fitBounds(e),
                t && t.zoomOutDelta && this.map.zoomOut(t.zoomOutDelta),
                this._setZoom()
            },
            hasLabelSupport: function() {
                return this.mapProvider === this.providers.GOOGLE
            },
            toggleBicycleLayer: function(e) {
                this.enableBikeLanes = e,
                this.googleLayer && (this.enableBikeLanes ? this.googleLayer.addGoogleLayer("BicyclingLayer") : this.googleLayer.removeGoogleLayer("BicyclingLayer"))
            },
            getMapProviderType: function() {
                return this.mapProvider
            },
            hasTerrainSupport: function() {
                return this.mapProvider === this.providers.GOOGLE
            },
            hasTrailSupport: function() {
                return this.mapProvider === this.providers.GOOGLE
            },
            hasHeatmapSupport: function() {
                return !0
            },
            removeMarker: function(e) {
                return this.map.removeLayer(e)
            },
            removePolyline: function(e) {
                return this.map.removeLayer(e)
            },
            addPolyline: function(e, t) {
                if (e.length < 2)
                    return null;
                var i = {};
                t && (i.interactive = t.clickable,
                i.opacity = t.opacity,
                i.color = t.strokeColor,
                i.weight = t.width,
                i.stroke = t.visible),
                i = s.a.defaults(i, {
                    interactive: !1,
                    opacity: z.a.Map.Utils.LINE_OPACITY,
                    color: "#FF0000",
                    weight: z.a.Map.Utils.LINE_WIDTH,
                    stroke: !0
                });
                var a = g.a.polyline(e, i);
                return this.map.addLayer(a).on("load", function() {
                    this.trigger(M.ON_VISIBLE_TILES_LOADED)
                }
                .bind(this)),
                a
            },
            addHotlinePolyline: function(e, t) {
                var i = g.a.hotline(e, t);
                return this.map.addLayer(i),
                i
            },
            showPolyline: function(e) {
                this.map.addLayer(e)
            },
            baiduMapsDisabled: function() {
                return !0
            },
            addMarker: function(e, t, i, a, n, r) {
                var o = {
                    icon: g.a.icon({
                        iconUrl: i.iconURL,
                        iconAnchor: [i.iconAnchor.x, i.iconAnchor.y],
                        iconSize: [i.iconSize.width, i.iconSize.height]
                    }),
                    zIndexOffset: i.zIndex
                }
                  , l = g.a.marker([e, t], o);
                return l.addTo(this.map),
                a && s.a.isFunction(a) && l.on("click", a),
                n && s.a.isFunction(n) && l.on("mouseover", n),
                r && s.a.isFunction(r) && l.on("mouseout", r),
                l
            },
            bindPopupToMarker: function(e, t) {
                var i = g.a.popup(e).setContent(e.popupText);
                return t.bindPopup(i),
                i
            },
            addNumberedMarker: function(e, t, i, a) {
                var n = {
                    icon: g.a.divIcon({
                        html: '<span class="course-pt course-pt-lap">' + a + "</span>",
                        className: "map-marker",
                        iconAnchor: [Math.floor(10), Math.floor(10)],
                        iconSize: [20, 20]
                    }),
                    zIndexOffset: i.zIndex
                }
                  , r = g.a.marker([e, t], n);
                return r.addTo(this.map),
                r
            },
            removeLayer: function(e) {
                this.map.eachLayer(s.a.bind(function(t) {
                    e(t) && this.map.removeLayer(t)
                }, this))
            },
            setView: function(e, t) {
                var i = h.a.getStandardizedPoint(e);
                this.map.setView([i.lat, i.lon], t || this.zoom),
                this._setZoom()
            },
            locate: function(e) {
                this.map.locate(e),
                this._setZoom()
            },
            addLineListener: function(e, t, i) {
                i.on(e, function(e) {
                    t({
                        eventPoint: {
                            lat: e.latlng.lat,
                            lon: e.latlng.lng
                        }
                    })
                })
            },
            addMapListener: function(e, t) {
                var i = this.toProprietaryEventName(e);
                this.map.on(i, t)
            },
            enableTerrain: function(e) {
                this.hasTerrainSupport() && (e ? this.changeMapStyle("terrain") : this.changeMapStyle("road"))
            },
            enableTrails: function(e) {
                this.hasTrailSupport() && this.toggleBicycleLayer(e)
            },
            enableLabels: function(e) {
                this.hasLabelSupport() && (e ? this.changeMapStyle("hybrid") : this.changeMapStyle("satellite"))
            },
            enableHeatMaps: function(e, t) {
                this.hasHeatmapSupport() && (this.toggleHeatmapLayersOff(),
                z.a.Map.Utils.activityType = "cycling" == t ? "cycling" : "running",
                e && this.toggleHeatmapLayersOn())
            },
            toggleHeatmapLayersOn: function() {
                var e = this;
                this.getHeatMapDependencies().done(function() {
                    var t = z.a.Map.Utils.heatmapPreferences;
                    null != t && (e.map.addLayer(new C("",{
                        tileSize: 256,
                        maxZoom: t.heatmapCityZoomLevelEnd,
                        minZoom: t.heatmapGlobalZoomLevelStart,
                        opacity: t.heatmapLayerOpacity,
                        zIndex: 2
                    })),
                    e.map.addLayer(new w("",{
                        tileSize: 256,
                        maxZoom: t.heatmapCityZoomLevelEnd,
                        minZoom: t.heatmapGlobalZoomLevelStart,
                        opacity: t.heatmapLayerOpacity,
                        zIndex: 2
                    })),
                    e.map.addLayer(new x("",{
                        tileSize: 256,
                        maxZoom: t.heatmapCityZoomLevelEnd,
                        minZoom: t.heatmapGlobalZoomLevelStart,
                        opacity: t.heatmapLayerOpacity,
                        zIndex: 2
                    })))
                })
            },
            getHeatMapDependencies: function() {
                var e = u.a.Deferred();
                return z.a.Map.Utils.getHeatMapPreferences().done(function() {
                    z.a.Map.Utils.getAllHeatMapFolderData(z.a.Map.Utils.heatmapPreferences.heatmapActiveVersion).done(function() {
                        e.resolve()
                    })
                }),
                e
            },
            toggleHeatmapLayersOff: function() {
                this.removeLayer(function(e) {
                    return e instanceof b.a
                })
            },
            getOpenStreetMapLayer: function(e) {
                return F.options.id = G[e] ? G[e] : G.road,
                new g.a.GarminOSMLayer(F.url,F.options)
            },
            addTilesOverlay: function(e, t) {
                var i = new S(e,t);
                this.map.addLayer(i),
                this.map.on("layeradd", function(e) {
                    i.bringToFront()
                })
            },
            getMapCenterZoom: function() {
                return {
                    center: h.a.getStandardizedPoint(this.map.getCenter()),
                    zoom: this.map.getZoom()
                }
            },
            getTargetZoom: function() {
                return !1
            },
            zoomInMapToUsersLocation: function(e, t, i) {
                this.map.locate({
                    maxZoom: t,
                    setView: !0
                }).on("locationfound", function(e) {
                    this._setZoom(),
                    i && i(e)
                }
                .bind(this))
            },
            displayAreaSelectionTool: function() {
                var e = this.map.latLngToLayerPoint(this.map.getCenter())
                  , t = new g.a.Point(e.x - 100,e.y + 100)
                  , i = new g.a.Point(e.x + 100,e.y - 100)
                  , a = new g.a.latLngBounds(this.map.layerPointToLatLng(t),this.map.layerPointToLatLng(i));
                return this.selectionRect = new k(a,{
                    color: "#000",
                    weight: 2,
                    opacity: .4,
                    fillColor: "#000",
                    fillOpacity: .4,
                    editing: {},
                    original: {}
                }).addTo(this.map),
                this.selectionRect
            },
            removeAreaSelectionTool: function() {
                this.selectionRect && (this.map.off("mouseup"),
                this.selectionRect.off("mousedown"),
                this.map.off("mousemove"),
                this.map.removeLayer(this.selectionRect),
                delete this.selectionRect)
            },
            searchForLocation: function(e, t) {
                if (h.a.userInChina()) {
                    var i = this
                      , a = new BMap.LocalSearch(new BMap.Map("container"),{
                        onSearchComplete: function() {
                            if (a.getResults().getPoi(0)) {
                                var e, n, r = a.getResults().getPoi(0).point, s = [];
                                e = g.a.latLng(r.lat, r.lng),
                                n = g.a.latLngBounds(e, e),
                                s[0] = {
                                    bbox: n,
                                    center: e
                                },
                                i.fitMapToPoints(n),
                                t && t(s[0], s)
                            } else
                                t(a.getResults())
                        }
                    });
                    a.search(e)
                } else {
                    var n = new g.a.Control.Geocoder.Google;
                    this.mapProvider !== E.a.MapProviders.GOOGLE && (n = new g.a.Control.Geocoder.HERE({
                        geocodeUrl: A.a.HereAppGeocoderUrl,
                        app_id: A.a.HereAppId,
                        app_code: A.a.HereAppCode
                    })),
                    n.geocode(e, function(e) {
                        var i = null;
                        0 !== e.length && (i = e[0],
                        this.fitMapToPoints(i.bbox),
                        t && t(i, e))
                    }, this)
                }
            },
            searchAddressByPosition: function(e, t) {
                h.a.userInChina() ? (this.addressService = new a,
                this.addressService.fetch({
                    location: [e.lat, e.lng],
                    success: function(e) {
                        t(e)
                    }
                })) : (new n).fetch({
                    location: [e.lat, e.lng],
                    success: function(e) {
                        t(e.address)
                    },
                    error: function() {
                        t()
                    }
                }, this)
            },
            displayPrivacyZone: function(e, t, i, a) {
                var n = this.displayCircleAndMarkersToMap(t, a);
                this.panPointToMap(n.circle)
            },
            displayCircleAndMarkersToMap: function(e, t) {
                var i = new L([e.center.lat, e.center.lng],e.radius,{
                    weight: e.strokeWeight,
                    color: e.strokeColor,
                    fillColor: e.fillColor,
                    fillOpacity: e.fillOpacity,
                    draggable: e.draggable
                }).addTo(this.map)
                  , a = t.icon
                  , n = g.a.icon({
                    iconUrl: a.url,
                    iconSize: g.a.point(a.scaledSize, a.scaledSize),
                    iconAnchor: g.a.point(a.anchor, a.anchor)
                });
                return {
                    circle: i,
                    marker: new _([t.position.lat, t.position.lng],{
                        icon: n,
                        draggable: t.draggable
                    }).addTo(this.map)
                }
            },
            panPointToMap: function(e) {
                var t = e.getBounds()
                  , i = [];
                i.push([t.getSouthWest().lat, t.getSouthWest().lng]),
                i.push([t.getNorthEast().lat, t.getNorthEast().lng]),
                this.fitMapToPoints(i)
            },
            toProprietaryEventName: function(e) {
                var t = e;
                switch (e) {
                case z.a.Map.Utils.EVENT_DRAG_START:
                    t = R;
                    break;
                case z.a.Map.Utils.EVENT_DRAGGING:
                    t = N;
                    break;
                case z.a.Map.Utils.EVENT_DRAG_END:
                    t = V;
                    break;
                case z.a.Map.Utils.EVENT_MAP_VIEW_CHANGE_END:
                    t = O;
                    break;
                default:
                    t = e
                }
                return t
            },
            displayPrivacyZoneMap: function(e, t, i, a, n, r, s, o) {
                var l = !1;
                if (v.a.isOutOfChina(t.center.lat, t.center.lng) && (l = !0),
                h.a.userInChina() && !l) {
                    var c = this
                      , d = {
                        lat: t.center.lat,
                        lng: t.center.lng
                    };
                    v.a.convert(d, function(e) {
                        t.center = {
                            lat: e.lat,
                            lng: e.lon
                        },
                        a.position = {
                            lat: e.lat,
                            lng: e.lon
                        };
                        var i = c.displayCircleAndMarkersToMap(t, a);
                        o.zoneCircle = i.circle,
                        o.zoneCircle.marker = i.marker,
                        o.zoneCircle.on(r, o.onCircleDragHandler.bind(o)),
                        o.zoneCircle.marker.on(r, o.onMarkerDragHandler.bind(o)),
                        o.zoneCircle.on(s, o.updateAddressBar.bind(o)),
                        o.zoneCircle.marker.on(s, o.updateAddressBar.bind(o)),
                        c.panPointToMap(o.zoneCircle)
                    })
                } else {
                    var p = this.displayCircleAndMarkersToMap(t, a);
                    o.zoneCircle = p.circle,
                    o.zoneCircle.marker = p.marker,
                    o.zoneCircle.on(r, o.onCircleDragHandler.bind(o)),
                    o.zoneCircle.marker.on(r, o.onMarkerDragHandler.bind(o)),
                    o.zoneCircle.on(s, o.updateAddressBar.bind(o)),
                    o.zoneCircle.marker.on(s, o.updateAddressBar.bind(o)),
                    this.panPointToMap(o.zoneCircle)
                }
            },
            formatPointAsObject: function(e) {
                return e
            },
            getDraggingEventPoint: function(e) {
                return e.target.getLatLng()
            },
            getEventPoint: function(e) {
                return e.latlng
            },
            getMapPoint: function(e) {
                return e
            },
            getLocationPoint: function(e) {
                return e.center
            },
            _setZoom: function() {
                this.zoom = this.map.getZoom()
            },
            resizeMap: function() {
                this.map.invalidateSize()
            },
            changeCursorStyle: function(e) {
                this.$el.css("cursor", e)
            }
        });
        U.Events = M;
        var Q = U
          , K = {
            ON_MAP_READY: "ON_MAP_READY",
            ON_VISIBLE_TILES_LOADED: "ON_VISIBLE_TILES_LOADED",
            ON_MAP_PROVIDER_CHANGED: "ON_MAP_PROVIDER_CHANGED"
        }
          , W = "NOT_LOADED"
          , Y = {};
        Y.google = {
            key: "google",
            loadStatus: W,
            moduleName: "garmingooglemaps",
            syncModel: new l.a.Model
        },
        Y.osm = {
            key: "osm",
            loadStatus: W,
            moduleName: "garminosmmaps",
            syncModel: new l.a.Model
        },
        Y.BAIDU_V_1_4 = {
            key: "BAIDU_V_1_4",
            loadStatus: W,
            moduleName: "garminbaidumaps",
            syncModel: new l.a.Model
        };
        var j = l.a.View.extend({
            initialize: function(e) {
                if (!e.mapContainerId)
                    throw "mapContainerId required for MapView";
                if ("undefined" == typeof e.width)
                    throw "Width is required for Map View";
                if ("undefined" == typeof e.height)
                    throw "Height is required for Map View";
                this.mapProvider = e.mapProvider,
                this.args = e,
                this.onReady = e.onReady,
                this.map = new Q(s.a.defaults({
                    el: this.el,
                    mapProvider: this.mapProvider
                }, e)),
                this.bindMapEvents()
            },
            bindMapEvents: function() {
                this.listenTo(this.map, K.ON_MAP_READY, this.onMapReady.bind(this)),
                this.listenTo(this.map, K.ON_MAP_PROVIDER_CHANGED, this.onMapProviderChanged.bind(this)),
                this.listenTo(this.map, K.ON_VISIBLE_TILES_LOADED, this.onVisibleTilesLoaded.bind(this))
            },
            onMapReady: function() {
                this.configureMap(),
                this.onReady && this.onReady(),
                this.trigger(K.ON_MAP_READY)
            },
            configureMap: function() {
                this.args.cursorStyle && this.map.changeCursorStyle(this.args.cursorStyle)
            },
            onMapProviderChanged: function() {
                this.trigger(K.ON_MAP_PROVIDER_CHANGED)
            },
            onVisibleTilesLoaded: function() {
                this.trigger(K.ON_VISIBLE_TILES_LOADED)
            },
            render: function() {
                this.map.render()
            },
            loadMap: function() {
                return this.map.loadMap()
            },
            isMapProviderValid: function(e) {
                return !(!this.isBaiduEnabled() && "BAIDU_V_1_4" === e)
            },
            onAPIsLoaded: function() {
                return this.map.onAPIsLoaded()
            },
            zoomIn: function() {
                return this.map.zoomIn()
            },
            zoomOut: function() {
                return this.map.zoomOut()
            },
            addMarker: function(e, t, i, a, n, r) {
                return this.map.addMarker(e, t, i, a, n, r)
            },
            bindPopupToMarker: function(e, t) {
                return this.map.bindPopupToMarker(e, t)
            },
            addNumberedMarker: function(e, t, i, a, n, r, s) {
                return this.map.addNumberedMarker(e, t, i, a, n, r, s)
            },
            addInfoBox: function(e, t) {
                return this.map.addInfoBox(e, t)
            },
            removeInfoBox: function(e) {
                return this.map.removeInfoBox(e)
            },
            removeMarker: function(e) {
                return this.map.removeMarker(e)
            },
            removePolyline: function(e) {
                return this.map.removePolyline(e)
            },
            setBounds: function(e, t) {
                return this.map.setBounds(e, t)
            },
            closeInfoBoxes: function() {
                return this.map.closeInfoBoxes()
            },
            isInfoBoxOpen: function(e) {
                return this.map.isInfoBoxOpen(e)
            },
            addPolyline: function(e, t) {
                return this.map.addPolyline(e, t)
            },
            addEncodedPolyline: function(e, t) {
                return this.map.addEncodedPolyline(e, t)
            },
            fitMapToPoints: function(e, t) {
                return this.map.fitMapToPoints(e, t)
            },
            fitMapToPointsWithoutConvert: function(e) {
                this.map.fitMapToPointsWithoutConvert(e)
            },
            convertPoint: function(e, t) {
                this.map.convertPoint(e, t)
            },
            displayPrivacyZone: function(e, t, i, a) {
                return this.map.displayPrivacyZone(e, t, i, a)
            },
            displayPrivacyZoneMap: function(e, t, i, a, n, r, s, o) {
                return this.map.displayPrivacyZoneMap(e, t, i, a, n, r, s, o)
            },
            formatPointAsObject: function(e) {
                return this.map.formatPointAsObject(e)
            },
            changeMapProvider: function(e) {
                return this.map.changeMapProvider(e)
            },
            addClickHandler: function(e, t) {
                return this.map.addClickHandler(e, t)
            },
            changeCursorStyle: function(e) {
                return this.map.changeCursorStyle(e)
            },
            getMapProvider: function() {
                return this.map.getMapProvider()
            },
            getMapProviderType: function() {
                return this.map.getMapProviderType()
            },
            enableTerrain: function(e) {
                return this.map.enableTerrain(e)
            },
            enableTrails: function(e) {
                return this.map.enableTrails(e)
            },
            enableLabels: function(e) {
                return this.map.enableLabels(e)
            },
            enableHeatMaps: function(e, t) {
                return this.map.enableHeatMaps(e, t)
            },
            hasTerrainSupport: function() {
                return this.map.hasTerrainSupport()
            },
            hasTrailSupport: function() {
                return this.map.hasTrailSupport()
            },
            hasHeatmapSupport: function() {
                return this.map.hasHeatmapSupport()
            },
            hasLabelSupport: function() {
                return this.map.hasLabelSupport()
            },
            loadMapProvider: function(e) {
                return this.map.loadMapProvider()
            },
            isBaiduEnabled: function() {
                return this.map.isBaiduEnabled()
            },
            searchForLocation: function(e, t) {
                this.map.searchForLocation(e, t)
            },
            displayAreaSelectionTool: function(e) {
                return this.map.displayAreaSelectionTool(e)
            },
            removeAreaSelectionTool: function() {
                return this.map.removeAreaSelectionTool()
            },
            addTilesOverlay: function(e, t) {
                this.map.addTilesOverlay(e, t || {})
            },
            zoomInMapToUsersLocation: function(e, t, i) {
                return this.map.zoomInMapToUsersLocation(e, t, i)
            },
            zoomInMapToSpecificLocation: function(e) {
                return this.map.zoomInMapToSpecificLocation(e)
            },
            limitZoomOnMouseWheel: function() {
                return this.map.limitZoomOnMouseWheel()
            },
            disableDoubleClickZoom: function() {
                return this.map.disableDoubleClickZoom()
            },
            displayCustomCircle: function(e) {
                return this.map.displayCustomCircle(e)
            },
            displayCustomMarker: function(e, t) {
                return this.map.displayCustomMarker(e, t)
            },
            getEventPoint: function(e) {
                return this.map.getEventPoint(e)
            },
            getDraggingEventPoint: function(e) {
                return this.map.getDraggingEventPoint(e)
            },
            getLocationPoint: function(e) {
                return this.map.getLocationPoint(e)
            },
            getMapPoint: function(e) {
                return this.map.getMapPoint(e)
            },
            searchAddressByPosition: function(e, t) {
                this.map.searchAddressByPosition(e, t)
            },
            searchUpdateAddressByPosition: function(e, t) {
                this.map.searchUpdateAddressByPosition(e, t)
            },
            changeMapStyle: function(e) {
                return this.map.changeMapStyle(e)
            },
            remove: function() {
                if (this.map)
                    return this.map.remove()
            },
            getMapCenterZoom: function() {
                return this.map.getMapCenterZoom()
            },
            getUrlVars: function() {
                return this.map.getUrlVars()
            },
            disableBaidu: function() {
                this.map.baiduMapsDisabled()
            },
            mapHasBeenInitialized: function() {
                return !!this.map && this.map.mapHasBeenInitialized
            },
            getTrails: function() {
                this.map.hasTrailSupport()
            },
            toggleBicycleLayer: function(e) {
                this.map.toggleBicycleLayer(e)
            },
            setView: function(e, t) {
                this.map.setView(e, t)
            },
            locate: function(e) {
                this.map.locate(s.a.extend({
                    setView: !0
                }, e))
            },
            addLineListener: function(e, t, i) {
                this.map.addLineListener(e, t, i)
            },
            addMapListener: function(e, t) {
                this.map.addMapListener(e, t)
            },
            getTargetZoom: function() {
                return this.map.getTargetZoom()
            },
            resizeMap: function() {
                return this.map.resizeMap()
            },
            toProprietaryEventName: function(e) {
                return this.map.toProprietaryEventName(e)
            },
            onWindowResized: function() {
                window.matchMedia("(max-width: 767px)").matches ? (this.showScrollToggleButton(),
                "google" !== this.mapProvider && this.$el.addClass("pointer-events-none")) : (this.hideScrollToggleButton(),
                this.$el.removeClass("pointer-events-none"));
                var e = this.$el.hasClass("pointer-events-none") ? c.a.localize("enable_scrolling") : c.a.localize("disable_scrolling");
                this.setTextForEnableDisableScrollButton(e)
            },
            setTextForEnableDisableScrollButton: function(e) {
                this.$(".map-control-item.scrolling").text(e)
            },
            hideScrollToggleButton: function() {
                this.$(".map-control-item.scrolling").addClass("hide")
            },
            showScrollToggleButton: function() {
                this.$(".map-control-item.scrolling").removeClass("hide")
            },
            toggleMapInteraction: function(e) {
                e ? this.$el.removeClass("pointer-events-none") : this.$el.addClass("pointer-events-none")
            },
            addHotlinePolyline: function(e, t) {
                return this.map.addHotlinePolyline(e, t)
            },
            showPolyline: function(e) {
                this.map.showPolyline(e)
            }
        });
        j.Events = K;
        t.a = j
    },
    1291: function(e, t, i) {
        "use strict";
        function a(e, t, i, a, n, r, s) {
            try {
                var o = e[r](s)
                  , l = o.value
            } catch (c) {
                return void i(c)
            }
            o.done ? t(l) : Promise.resolve(l).then(a, n)
        }
        function n(e) {
            return function() {
                var t = this
                  , i = arguments;
                return new Promise(function(n, r) {
                    var s = e.apply(t, i);
                    function o(e) {
                        a(s, n, r, o, l, "next", e)
                    }
                    function l(e) {
                        a(s, n, r, o, l, "throw", e)
                    }
                    o(void 0)
                }
                )
            }
        }
        i.d(t, "a", function() {
            return n
        })
    },
    1292: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(218)
          , s = i(1236)
          , o = i(17)
          , l = {
            public: {
                id: 1,
                key: "public"
            },
            private: {
                id: 2,
                key: "private"
            }
        }
          , c = n.a.Model.extend({
            urlRoot: o.default.url("/proxy/course-service/course/"),
            idAttribute: "courseId",
            initialize: function(e) {
                e && e.courseId && (this.courseId = e.courseId)
            },
            sync: function(e, t, i) {
                "update" !== e && "delete" !== e || !this.courseId && this.id && (this.courseId = this.id),
                r.a.userInChina() ? this.courseId && (i.url = "delete" === e || "update" === e ? this.urlRoot + this.courseId : this.urlRoot + this.courseId + "?targetCoordinateSystem=" + s.a.CoordinateSystem.BD09) : this.courseId && (i.url = this.urlRoot + this.courseId),
                n.a.sync.call(this, e, t, i)
            },
            getPrivacyRule: function() {
                var e = this.get("rulePK");
                return e === l.public.id ? l.public.key : e === l.private.id ? l.private.key : null
            },
            getRulesDTO: function() {
                return l
            }
        });
        c.RulesDTO = l,
        t.a = c
    },
    1299: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = s.a.Model.extend({
            isReady: !1,
            isChanged: !1,
            constructor: function(e) {
                this.on("sync", function() {
                    this.isReady = !0
                }
                .bind(this)),
                s.a.Model.apply(this, arguments)
            },
            save: function(e, t) {
                if (this.isChanged)
                    return this.isChanged = !1,
                    s.a.Model.prototype.save.call(this, e, t)
            },
            set: function(e, t) {
                return !this.isReady || n.a.isEmpty(e) || t && t.xhr || (this.isChanged = !0),
                s.a.Model.prototype.set.call(this, e, t)
            },
            hasChanges: function() {
                return this.isChanged
            }
        });
        t.a = o
    },
    1300: function(e, t, i) {
        "use strict";
        i.d(t, "a", function() {
            return a
        }),
        i.d(t, "b", function() {
            return n
        }),
        i.d(t, "d", function() {
            return r
        }),
        i.d(t, "c", function() {
            return s
        });
        var a = function(e) {
            e = e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i, function(e, t, i, a) {
                return t + t + i + i + a + a
            });
            var t = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);
            return t ? [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)] : null
        }
          , n = function(e) {
            var t = a(e);
            return "rgba(".concat(t[0], ", ").concat(t[1], ", ").concat(t[2], ", 1)")
        }
          , r = function(e, t, i) {
            return "#" + ((1 << 24) + (e << 16) + (t << 8) + i).toString(16).slice(1)
        }
          , s = function(e, t, i) {
            var a = (2 * (1 - i) - 1 + 1) / 2
              , n = 1 - a;
            return [Math.round(e[0] * a + t[0] * n), Math.round(e[1] * a + t[1] * n), Math.round(e[2] * a + t[2] * n)]
        }
    },
    1301: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(8)
              , r = i.n(n)
              , s = i(188)
              , o = i(26)
              , l = i(1261)
              , c = i(213)
              , h = i(102)
              , d = i(482)
              , p = i(481)
              , u = i(53)
              , m = i(4)
              , g = i(1896)
              , f = i.n(g)
              , v = i(1897)
              , y = i.n(v)
              , A = i(218)
              , _ = i(1236)
              , b = i(1237)
              , C = {
                WORKOUT_CAPABLE: "workoutCapable",
                RUNNING_WORKOUT_CAPABLE: "runningWorkoutCapable",
                CYCLING_WORKOUT_CAPABLE: "cyclingWorkoutCapable",
                SWIM_WORKOUT_CAPABLE: "swimWorkoutCapable",
                CUSTOM_WORKOUT_CAPABLE: "customWorkoutCapable",
                STRENGTH_TRAINING_WORKOUT_CAPABLE: "strengthWorkoutCapable",
                CARDIO_TRAINING_WORKOUT_CAPABLE: "cardioWorkoutCapable",
                YOGA_WORKOUT_CAPABLE: "yogaWorkoutCapable",
                PILATES_WORKOUT_CAPABLE: "pilatesWorkoutCapable"
            }
              , w = {
                RENDERED: "RENDERED",
                ON_CLOSE: "ON_CLOSE",
                NOTIFICATIONS_SENT: "NOTIFICATIONS_SENT"
            }
              , x = r.a.View.extend({
                events: {
                    "click .btn.device-selected": "onSendToDeviceClicked",
                    "click .need-help": "onNeedHelpClicked",
                    "click .close-help ": "onHideHelpClicked"
                },
                initialize: function(t) {
                    this.contentLoaded = !1,
                    this.queueNotifications = new p.a,
                    this.userLocale = t.userLocale,
                    this.displayName = t.displayName,
                    this.template = e.template(f.a),
                    this.segmentHelpTemplate = e.template(y.a),
                    this.collection.bind("change", this.render, this),
                    this.collection.bind("error", this.defaultErrorHandler, this),
                    this.additionalWorkoutFilter = t.additionalWorkoutFilter || null,
                    this.titleView = t.titleView,
                    this.detailView = t.detailView;
                    var i = this;
                    this.queueNotifications.bind("sendAll", function(e) {
                        this.queueNotifications.reset(),
                        e.success ? (this.trigger(w.NOTIFICATIONS_SENT, e),
                        "undefined" == typeof e.extra && (e.extra.wifiSetup = !1,
                        e.extra.deviceName = "",
                        "undefined" == typeof e.extra.openExpress && (e.extra.openExpress = !0),
                        "undefined" == typeof e.extra.poll && (this.extra.poll = !0)),
                        a(b.a.Queue.NotificationWidgetQueueIds.QUEUE_NOTIFICATION).trigger(b.a.Queue.Events.SEND_TO_DEVICE_FROM_QUEUE, {
                            messageType: i.messageType,
                            wifiSetup: e.extra.wifiSetup,
                            name: e.extra.deviceName,
                            deviceId: e.extra.deviceId
                        }),
                        a(b.a.Queue.NotificationWidgetQueueIds.QUEUE_NOTIFICATION).trigger(b.a.Queue.Events.MESSAGE_SENT, {
                            messageCount: e.numberSent
                        }),
                        this.$(".btn.device-selected").attr({
                            disabled: !1
                        }),
                        1 == e.extra.openExpress && l.a.openAgent(e.extra.deviceId)) : (console.log("xHR:", e.xHR),
                        this.$(".btn.device-selected").attr({
                            disabled: !0
                        }),
                        this.$(".queue-error").show())
                    }, this),
                    this.propertiesPath = "/main/js/properties/send_to_device/",
                    this.propertiesFile = "send_to_device",
                    this.messageType = t.messageType,
                    this.id = t.id,
                    this.messageName = t.messageName,
                    t.courseOriginalCoordinateSystem && (this.courseOriginalCoordinateSystem = t.courseOriginalCoordinateSystem),
                    this.initLanguageHash(),
                    this.initUrlHash()
                },
                defaultErrorHandler: function(e, t) {
                    this.$(".btn.device-selected").attr({
                        disabled: !0
                    }),
                    this.$(".queue-error").show()
                },
                initUrlHash: function() {
                    this.urlHash = {},
                    this.urlHash[b.a.Queue.MessageTypes.COURSES.id] = "course-service/course/{0}/",
                    this.urlHash[b.a.Queue.MessageTypes.WORKOUTS.id] = "workout-service/workout/{0}/",
                    this.urlHash[b.a.Queue.MessageTypes.ACTIVITIES.id] = "course-service/course/copyFromActivity/{0}/",
                    this.urlHash[b.a.Queue.MessageTypes.PR.id] = "personalrecord-service/personalrecord/FIT/",
                    this.urlHash[b.a.Queue.MessageTypes.SCHEDULES.id] = "workout-service/schedule/export/{0}",
                    this.urlHash[b.a.Queue.MessageTypes.PROFILE.id] = "user-service-1.0/tcx/user/",
                    this.urlHash[b.a.Queue.MessageTypes.SETTINGS.id] = "user-service-1.0/fit/user/",
                    this.urlHash[b.a.Queue.MessageTypes.SPORTS.id] = ["user-service-1.0/fit/sportSettings/other", "user-service-1.0/fit/sportSettings/running", "user-service-1.0/fit/sportSettings/cycling"],
                    this.urlHash[b.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id] = ["http://garmindeveloper.com/download/rgn/ldr_{0}.rgn", "http://garmindeveloper.com/download/udr/Updates_{0}.udr"],
                    this.urlHash[b.a.Queue.MessageTypes.DEVICE_SETTINGS.id] = "",
                    this.urlHash[b.a.Queue.MessageTypes.SEGMENT_LEADERS.id] = "course-service/leaderboard/fit/"
                },
                initLanguageHash: function() {
                    this.languageHash = {},
                    this.languageHash.hr = "CROATIAN",
                    this.languageHash.cs = "CZECH",
                    this.languageHash.el = "GREEK",
                    this.languageHash.hu = "HUNGARIAN",
                    this.languageHash.pl = "POLISH",
                    this.languageHash.pt = "PORTUGUESE",
                    this.languageHash.ru = "RUSSIAN",
                    this.languageHash.sk = "SLOVAKIAN",
                    this.languageHash.sl = "SLOVENIAN"
                },
                setTrainingPlanModel: function(e) {
                    this.calendarTrainingPlans = e,
                    window.SEND_TO_DEVICE_TITLE = m.a.localize("send.to.device.workouts", this.calendarTrainingPlans.count)
                },
                render: function() {
                    var t = this.messageType
                      , i = e.filter(this.collection.models, function(e) {
                        return t.id == b.a.Queue.MessageTypes.COURSES.id || t.id == b.a.Queue.MessageTypes.ACTIVITIES.id ? A.a.userInChina() && this.courseOriginalCoordinateSystem && this.courseOriginalCoordinateSystem !== _.a.CoordinateSystem.WGS84 ? e.get("courseCapable") && e.get("gcj02CourseCapable") : e.get("courseCapable") : t.id == b.a.Queue.MessageTypes.SCHEDULES.id ? e.get("workoutCapable") : t.id == b.a.Queue.MessageTypes.WORKOUTS.id ? null == this.additionalWorkoutFilter ? e.get(C.WORKOUT_CAPABLE) : e.get(this.additionalWorkoutFilter) && e.get(C.WORKOUT_CAPABLE) : t.id == b.a.Queue.MessageTypes.PR.id ? e.get("personalRecordCapable") : t.id == b.a.Queue.MessageTypes.GOALS.id ? e.get("goalCapable") : t.id == b.a.Queue.MessageTypes.SETTINGS.id || t.id == b.a.Queue.MessageTypes.PROFILE.id ? e.get("settingCapable") || e.get("userProfileCapable") : t.id == b.a.Queue.MessageTypes.ZONES.id ? e.get("hrZoneCapable") : t.id == b.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id ? e.get("languageSettingCapable") : t.id == b.a.Queue.MessageTypes.DEVICE_SETTINGS.id ? e.get("deviceSettingCapable") : t.id == b.a.Queue.MessageTypes.SEGMENT_LEADERS.id ? e.get("segmentCapable") || e.get("runningSegmentCapable") : e
                    }, this)
                      , a = "undefined" === typeof window.SEND_TO_DEVICE_TITLE ? "" : window.SEND_TO_DEVICE_TITLE
                      , n = this.getSendToDeviceTitle(a)
                      , r = this.template({
                        devices: i,
                        hasDevices: this.hasDevices,
                        sendToDeviceTitle: n,
                        Localizer: m.a
                    });
                    this.$el.html(r),
                    t.id === b.a.Queue.MessageTypes.SEGMENT_LEADERS.id && this.$(".send-help").html(this.segmentHelpTemplate({
                        Localizer: m.a
                    })),
                    this.titleView ? this.$(".header-content-placeholder").replaceWith(this.titleView.render().el) : this.$(".header-content-placeholder").replaceWith('<h3 class="bottom-m">' + n + "</h3>"),
                    this.detailView ? this.$(".additional-content-placeholder").replaceWith(this.detailView.render().el) : this.$(".additional-content-placeholder").remove(),
                    0 == this.hasDevices ? (this.$("#download-body").show(),
                    this.$("#send-body").hide()) : (this.$("#download-body").hide(),
                    this.$("#send-body").show()),
                    u.a.formatHelpStartForExpressionEngine(this.userLocale),
                    this.fetched = !1,
                    this.$(".queue-error").hide(),
                    this.$(".btn.device-selected").attr({
                        disabled: !1
                    }),
                    this.trigger(w.RENDERED)
                },
                getSendToDeviceTitle: function(e) {
                    var t = "send.to.device.title2";
                    return this.messageType.id == b.a.Queue.MessageTypes.COURSES.id || this.messageType.id == b.a.Queue.MessageTypes.ACTIVITIES.id || this.messageType.id == b.a.Queue.MessageTypes.WORKOUTS.id || this.messageType.id == b.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id ? t = "send.to.device.title" : this.messageType.id == b.a.Queue.MessageTypes.GOALS.id ? t = "send.to.device.goals" : this.messageType.id == b.a.Queue.MessageTypes.PR.id ? t = "send.to.device.pr" : this.messageType.id == b.a.Queue.MessageTypes.SETTINGS.id ? t = this.messageType.name == b.a.Queue.MessageTypes.ZONES.name ? "send.to.device.zones" : "send.to.device.personal" : this.messageType.id == b.a.Queue.MessageTypes.ZONES.id ? t = "send.to.device.zones" : this.messageType.id == b.a.Queue.MessageTypes.SEGMENT_LEADERS.id && (t = "send.to.device.segment"),
                    m.a.localize(t, e)
                },
                getExportTypeByMessageType: function(e) {
                    var t = null;
                    return this.messageType.id == b.a.Queue.MessageTypes.SCHEDULES.id ? t = e.get("workoutFileType") : this.messageType.id == b.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id ? t = e.get("languageSettingFileType") : this.messageType.id == b.a.Queue.MessageTypes.ACTIVITIES.id ? t = e.get("courseFileType") : this.messageType.id == b.a.Queue.MessageTypes.COURSES.id ? t = e.get("courseFileType") : this.messageType.id == b.a.Queue.MessageTypes.DEVICE_SETTINGS.id ? t = e.get("deviceSettingFileType") : this.messageType.id == b.a.Queue.MessageTypes.GOALS.id ? t = "TCX" : this.messageType.id == b.a.Queue.MessageTypes.PR.id ? t = e.get("personalRecordFileType") : this.messageType.id == b.a.Queue.MessageTypes.SETTINGS.id || this.messageType.id == b.a.Queue.MessageTypes.ZONES.id ? e.get("settingCapable") ? t = "FIT" : e.get("userProfileCapable") && (t = "TCX") : this.messageType.id == b.a.Queue.MessageTypes.WORKOUTS.id ? t = e.get("workoutFileType") : this.messageType.id == b.a.Queue.MessageTypes.SEGMENT_LEADERS.id && (t = "FIT"),
                    t
                },
                onNeedHelpClicked: function(e) {
                    e.preventDefault(),
                    e.stopPropagation(),
                    this.$(".need-help-link").hide(),
                    this.$(".send-help").show(),
                    this.$(".close-help").show()
                },
                onHideHelpClicked: function(e) {
                    e.preventDefault(),
                    e.stopPropagation(),
                    this.$(".send-help").hide(),
                    this.$(".need-help-link").show(),
                    this.$(".close-help").hide()
                },
                onSendToDeviceClicked: function(e) {
                    this.$(".queue-error").hide(),
                    e.preventDefault(),
                    e.stopPropagation();
                    var t = this.$(".btn.device-selected");
                    if (0 == t.attr("disabled") || !t.attr("disabled")) {
                        this.enableSendButton(t, !1),
                        this.wifiSetup = !1,
                        this.deviceName = this.$("select.selected-device option:selected")[0].text;
                        for (var i = null, n = this.$("select.selected-device").val(), r = null, s = 0; s < this.collection.models.length; s++)
                            if (this.collection.models[s].attributes.deviceId == n) {
                                r = this.collection.models[s],
                                this.wifiSetup = r.get("wifiSetup"),
                                i = this.getExportTypeByMessageType(r);
                                break
                            }
                        if (null == i && (console.log("Could not get export file type for messageType: ", this.messageType),
                        i = "FIT"),
                        "TCX" == i && (this.messageType.id == b.a.Queue.MessageTypes.SCHEDULES.id || this.messageType.id == b.a.Queue.MessageTypes.WORKOUTS.id)) {
                            var o = m.a.localize("sendToDevice.confirmation.powerWorkout1") + "\n\n" + m.a.localize("sendToDevice.confirmation.powerWorkout2") + "\n\n" + m.a.localize("sendToDevice.confirmation.powerWorkout3") + "\n\n" + m.a.localize("sendToDevice.confirmation.powerWorkout4") + "\n\n" + m.a.localize("sendToDevice.confirmation.powerWorkout5") + "\n\n" + m.a.localize("sendToDevice.confirmation.powerWorkout6") + "\n\n";
                            if (!confirm(o))
                                return this.messageType.id == b.a.Queue.MessageTypes.SCHEDULES.id && this.trigger(b.a.Queue.Events.RETURN_TO_TRAINING_PLAN),
                                void this.enableSendButton(t, !0)
                        }
                        var l = []
                          , h = null
                          , d = {
                            wifiSetup: this.wifiSetup,
                            deviceName: this.deviceName,
                            openExpress: !0,
                            deviceId: n
                        };
                        if (this.messageType.id == b.a.Queue.MessageTypes.SCHEDULES.id) {
                            var p = this.urlHash[this.messageType.id];
                            if (p = p.replace("{0}", i.toUpperCase()),
                            p += "?startDate=" + c.a.toISODateString(new Date) + "&includeTP=" + r.get("trainingPlanCapable"),
                            l.push(p),
                            "FIT" == i)
                                return this.createMessagesFromTrainingPlanData(n, r, p),
                                this.queueNotifications.sendAll(d),
                                void this.enableSendButton(t, !1);
                            this.messageName = m.a.localize("queue.calendar.workouts.tcx", this.calendarTrainingPlans.count, this.calendarTrainingPlans.startDate, this.calendarTrainingPlans.endDate)
                        } else if (this.messageType.id == b.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id) {
                            var u = a("#languageComboSelect").val();
                            i = this.getLanguage(u),
                            this.messageName = i,
                            h = m.a.localize("send.to.device.language.title", i)
                        } else {
                            if (this.messageType.id == b.a.Queue.MessageTypes.ACTIVITIES.id)
                                return this.addActivityToDevice(this.id, this.messageName, i, n),
                                this.queueNotifications.sendAll(d),
                                void this.enableSendButton(t, !0);
                            if (this.messageType.id == b.a.Queue.MessageTypes.WORKOUTS.id)
                                ;
                            else {
                                if (this.messageType.id == b.a.Queue.MessageTypes.COURSES.id)
                                    return this.addCourseToDevice(this.id, this.messageName, i, n),
                                    this.queueNotifications.sendAll(d),
                                    void this.enableSendButton(t, !0);
                                if (this.messageType.id == b.a.Queue.MessageTypes.SETTINGS.id)
                                    return this.addPersonalInfoAndSportsToDevice(n, i, r),
                                    this.queueNotifications.sendAll(d),
                                    void this.enableSendButton(t, !0);
                                if (this.messageType.id == b.a.Queue.MessageTypes.SEGMENT_LEADERS.id)
                                    return this.addSegmentToDevice(this.id, this.messageName, i, n),
                                    this.queueNotifications.sendAll(d),
                                    void this.enableSendButton(t, !0)
                            }
                        }
                        0 == l.length && (l = l.concat(this.urlHash[this.messageType.id]));
                        var g = null;
                        for (s = 0; s < l.length; s++) {
                            var f = null;
                            f = this.messageType.id == b.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id ? l[s].replace("{0}", i) : l[s].replace("{0}", this.getFormattedExportType(i)),
                            "undefined" != this.id && null != this.id && (f += this.id),
                            this.messageType.id == b.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id && (g = f.substring(f.lastIndexOf(".") + 1)),
                            this.addMessageToQueue(n, f, this.messageType.type, this.messageName, h, s + 1, null == g ? i : g, "undefined" == this.id || null == this.id || "" == this.id ? null : this.id)
                        }
                        this.queueNotifications.sendAll(d),
                        this.messageType.id != b.a.Queue.MessageTypes.PR.id && this.messageType.id != b.a.Queue.MessageTypes.WORKOUTS.id || this.pushSendToDeviceAnalyticsEvents(this.messageType.name)
                    }
                },
                pushSendToDeviceAnalyticsEvents: function(e) {
                    h.a.push({
                        event: "track_event",
                        category: "Personal Records Page Events",
                        action: "Send " + e + " To Device"
                    })
                },
                getFormattedExportType: function(e) {
                    return this.messageType == b.a.Queue.MessageTypes.WORKOUTS ? e.toUpperCase() : e.toLowerCase()
                },
                addCourseToDevice: function(e, t, i, a) {
                    var n = (this.urlHash[this.messageType.id] + e + "/" + a + "?elevation=true").replace("{0}", i.toLowerCase());
                    this.addMessageToQueue(a, n, this.messageType.type, t, null, 0, i, e)
                },
                addActivityToDevice: function(e, t, i, a) {
                    var n = (this.urlHash[this.messageType.id] + e + "/" + a + "?elevation=true").replace("{0}", i.toLowerCase());
                    this.addMessageToQueue(a, n, this.messageType.type, t, null, 0, i, e)
                },
                addPersonalInfoAndSportsToDevice: function(e, t, i) {
                    if (this.addMessageToQueue(e, this.urlHash["FIT" == t ? b.a.Queue.MessageTypes.SETTINGS.id : b.a.Queue.MessageTypes.PROFILE.id], "FIT" == t ? b.a.Queue.MessageTypes.SETTINGS.type : b.a.Queue.MessageTypes.PROFILE.type, "FIT" == t ? m.a.localize("queue.personal.information") : m.a.localize("queue.personalInf.training.zones"), null, 1, t, null),
                    "FIT" == t && i.get("sportCapable"))
                        for (var a = 0; a < this.urlHash[b.a.Queue.MessageTypes.SPORTS.id].length; a++)
                            this.urlHash[b.a.Queue.MessageTypes.SPORTS.id][a].indexOf("cycling") > -1 && 0 == i.get("powerZonesCapable") || this.addMessageToQueue(e, this.urlHash[b.a.Queue.MessageTypes.SPORTS.id][a], b.a.Queue.MessageTypes.SPORTS.type, "SPORTS", null, a + 2, t, null)
                },
                addSegmentToDevice: function(e, t, i, a) {
                    var n = (this.urlHash[this.messageType.id] + e).replace("{0}", i.toLowerCase());
                    this.addMessageToQueue(a, n, this.messageType.type, t, "Segments", 0, i, null)
                },
                enableSendButton: function(e, t) {
                    t ? e.attr({
                        disabled: !1
                    }) : (e.attr({
                        disabled: !0
                    }),
                    this.$("#send-body").hide(),
                    this.$(".loading-mask").show(),
                    this.$(".still-waiting").show())
                },
                getLanguage: function(e) {
                    var t = this.languageHash[e];
                    if ("undefined" == typeof t)
                        throw new Error("Language not found in URL path pairs. Check that the parameter is being passed in or see SendToDevicePageView.js");
                    return t
                },
                createMessagesFromTrainingPlanData: function(e, t, i) {
                    var a = null
                      , n = this.urlHash[b.a.Queue.MessageTypes.WORKOUTS.id];
                    n = n.replace("{0}", "FIT");
                    for (var r = "", s = 0; s < this.calendarTrainingPlans.models.length; s++) {
                        t.get("scheduleCapable") && 0 == s && this.addMessageToQueue(e, i, this.messageType.type, "Schedule", "", 1, "FIT", null);
                        for (var o = 0; o < this.calendarTrainingPlans.models[s].length; o++)
                            a = 1 == this.calendarTrainingPlans.models[s][o].attributes.nameChanged ? this.calendarTrainingPlans.models[s][o].attributes.newName : this.calendarTrainingPlans.models[s][o].attributes.workout.workoutName,
                            r = this.calendarTrainingPlans.models[s][o].attributes.groupName,
                            this.addMessageToQueue(e, n + this.calendarTrainingPlans.models[s][o].attributes.workout.workoutId, "workouts", a, r, this.calendarTrainingPlans.models[s][o].attributes.priority, "FIT", this.calendarTrainingPlans.models[s][o].attributes.workout.workoutId)
                    }
                },
                addMessageToQueue: function(e, t, i, a, n, r, s, o) {
                    var l = new d.a({
                        deviceId: e,
                        messageUrl: t,
                        messageType: i,
                        messageName: a,
                        groupName: n,
                        priority: r,
                        fileType: s,
                        metaDataId: o
                    });
                    this.queueNotifications.add(l)
                },
                loadContent: function() {
                    if (this.contentLoaded)
                        this.render();
                    else {
                        this.userPreferences = new s.a({
                            displayName: this.viewerDisplayName,
                            propertiesPath: this.propertiesPath,
                            propertiesFile: this.propertiesFile
                        });
                        var e = new o.a;
                        e.addModel({
                            model: this.userPreferences,
                            required: !0
                        }),
                        e.addModel({
                            model: this.collection,
                            required: !0
                        }),
                        e.bind(o.a.Events.SYNCHRONIZED, this.onModelsFetched, this),
                        e.bind(o.a.Events.SYNCHRONIZE_FAILED, this.onModelsFailed, this),
                        e.fetchModels()
                    }
                },
                onModelsFetched: function() {
                    this.contentLoaded = !0,
                    this.hasDevices = this.collection.length > 0,
                    this.render()
                },
                onModelsFailed: function(e) {},
                close: function() {
                    this.remove(),
                    this.trigger(w.ON_CLOSE)
                }
            });
            x.Events = w,
            x.DEVICE_CAPABILITIES = C,
            t.a = x
        }
        ).call(this, i(7), i(10))
    },
    1302: function(e, t, i) {
        "use strict";
        i.d(t, "a", function() {
            return a
        });
        var a = function(e, t, i, a) {
            return e && t || i && a
        }
    },
    1303: function(e, t) {
        e.exports = '<div class="dropdown <%- dropdownClass %>">\n    <button data-toggle="dropdown" data-value="<%- selectedItem.value %>">\n        <span class="<%- formatClass %>"><%- selectedItem.name || Localizer.localize(selectedItem.nameKey) %></span>\n        <i class="icon-pointer-down"></i>\n    </button>\n    <ul class="dropdown-menu pull-left" role="menu" aria-labelledby="dropdownMenu">\n\n        <% for (var i = 0; i < items.length; i++) {         %>\n        <% var item = items[i];                             %>\n            <li data-value="<%- item.value %>"><a tabindex="-1" href="#"><%- item.name || Localizer.localize(item.nameKey) %></a></li>\n            <% if (typeof item.children != \'undefined\') {              %>\n                <% for (var j = 0; j < item.children.length; j++) { %>\n                <%  var childItem = item.children[j];               %>\n                    <li data-value="<%- childItem.value %>"><a tabindex="-1" href="#" class="dropdown-tier"><%- childItem.name || Localizer.localize(childItem.nameKey) %></a></li>\n                <% }                                                %>\n            <% }                                                %>\n\n            <% if (includeDivider) { %> \n                <li class="divider"></li>\n            <% } %>\n        <% }                                                %>\n    </ul>\n</div>\n'
    },
    1304: function(e, t, i) {
        "use strict";
        var a = i(57).a.extend({
            defaults: {
                mapType: "road",
                terrain: !1,
                trails: !1,
                labels: !0,
                HeatMapsRunning: !1,
                HeatMapsCycling: !1
            },
            parse: function(e) {
                return JSON.parse(e.value)
            },
            toJSON: function() {
                return {
                    key: this.id,
                    value: JSON.stringify(this.attributes)
                }
            },
            getMapType: function(e) {
                return this.get("mapType", e)
            },
            getTerrain: function(e) {
                return this.get("terrain", e)
            },
            getTrails: function(e) {
                return this.get("trails", e)
            },
            getLabels: function(e) {
                return this.get("labels", e)
            },
            getHeatMapsRunning: function(e) {
                return this.get("HeatMapsRunning", e)
            },
            getHeatMapsCycling: function(e) {
                return this.get("HeatMapsCycling", e)
            },
            setMapType: function(e) {
                this.set("mapType", e)
            },
            setTerrain: function(e) {
                this.set("terrain", e)
            },
            setTrails: function(e) {
                this.set("trails", e)
            },
            setLabels: function(e) {
                this.set("labels", e)
            },
            setHeatMapsRunning: function(e) {
                this.set("HeatMapsRunning", e)
            },
            setHeatMapsCycling: function(e) {
                this.set("HeatMapsCycling", e)
            },
            setCustom: function(e, t) {
                this.set(e, t)
            },
            getCustom: function(e, t) {
                return this.has(e) ? this.get(e) : t
            }
        });
        t.a = a
    },
    1308: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r).a.Model.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/splits"
            },
            initialize: function(e, t) {
                if ("undefined" === typeof t.activityId)
                    throw "ActivitySplits requires an activity ID";
                this.activityId = t.activityId
            },
            getEventDataBySectionTypeKey: function(e) {
                return n.a.filter(this.get("eventDTOs"), function(t) {
                    return t.sectionTypeDTO.sectionTypeKey === e
                })
            }
        });
        s.EventSectionTypeKeys = {
            RIDER_POSITION: "RIDER_POSITION",
            TIMER_TRIGGER: "TIMER_TRIGGER",
            OFF_COURSE: "OFF_COURSE"
        },
        t.a = s
    },
    1309: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(4)
              , r = i(8)
              , s = i.n(r);
            function o(t) {
                var i = e.has(t, "customMakeModel") ? t.customMakeModel : t instanceof s.a.Model && t.get("customMakeModel") || "";
                return i || (e.has(t, "gearMakeName") ? t.gearMakeName : t instanceof s.a.Model && t.get("gearMakeName") || "") + " " + (e.has(t, "gearModelName") ? t.gearModelName : t instanceof s.a.Model && t.get("gearModelName") || "")
            }
            var l = s.a.Model.extend({
                idAttribute: "uuid",
                urlRoot: "/proxy/gear-service/gear"
            });
            l.getFullGearDisplayNameByModel = function(t) {
                var i = ""
                  , n = e.has(t, "displayName") ? t.displayName : t.get("displayName") || ""
                  , r = o(t);
                return n && r && (i += n + " (" + a.trim(r) + ")"),
                n || (i = r),
                i
            }
            ,
            l.getFullGearDisplayName = function(e, t) {
                return e || t ? e ? t ? e + " (" + t + ")" : e : t : n.a.localize("gear_change_default_confirmation_no_name")
            }
            ,
            l.getMakeModelDisplayName = o,
            t.a = l
        }
        ).call(this, i(7), i(10))
    },
    1310: function(e, t, i) {
        "use strict";
        t.a = {
            googleUrl: "//maps.googleapis.com/maps/api/js?sensor=true",
            baiduUrl: "https://sapi.map.baidu.com/api?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD&s=1&callback=initializeBaidu",
            baiduKey: "KQMz9KcIzBwWNUgbHWUHZGSD",
            HereAppCode: "D7pWNLGdZbuU0ReUY4A85g",
            HereAppId: "hYaBOISjlUD2egn6d3AT",
            HereAppGeocoderUrl: "https://geocoder.api.here.com/6.2/geocode.json"
        }
    },
    1322: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(1335)
              , s = i.n(r)
              , o = n.a.View.extend({
                template: e.template(s.a),
                initialize: function(e) {
                    if (!e.content)
                        throw "Content is required!";
                    return this.content = e.content,
                    this.title = e.title,
                    this
                },
                render: function() {
                    return this.$el.html(this.template({
                        title: this.title,
                        content: this.content
                    })),
                    this
                }
            });
            t.a = o
        }
        ).call(this, i(7))
    },
    1325: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a).a.Model.extend({
            initialize: function(e) {},
            urlRoot: "/proxy/personalrecord-service/personalrecord/"
        });
        n.Sports = {
            Run: "RUN",
            Cycle: "CYCLE",
            Steps: "STEPS",
            Swim: "SWIM"
        },
        t.a = n
    },
    1327: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(13)
          , s = (i(25),
        i(1342),
        i(1351),
        i(1352))
          , o = i(1283)
          , l = ["north", "south", "east", "west"]
          , c = {
            getElevationGainThreshold: function() {
                return 2
            },
            getElevationLossThreshold: function() {
                return 2
            },
            convertElevationDataForElevationAnalyzer: function(e) {
                var t;
                if (e) {
                    var i = e.distance || e.x;
                    !n.a.isNaN(i) && n.a.isNumber(i) || (i = 0),
                    t = {
                        elevation: r.a.convertElevationToMeter(e.y || e.elevation),
                        lat: e.latlng ? e.latlng[0] : e.lat,
                        lng: e.latlng ? e.latlng[1] : e.lng,
                        distance: i > 0 ? r.a.revertDistance(i) : i
                    }
                }
                return t
            },
            getGeoPointsFromElevationSelection: function(e) {
                var t = [];
                if (e)
                    for (var i = 0, a = e.length; i < a; i += 1)
                        e[i] && t.push({
                            latitude: e[i].lat,
                            longitude: e[i].lng,
                            elevation: e[i].elevation
                        });
                return t
            },
            getGeoPointsFromElevationData: function(e) {
                var t = [];
                if (e)
                    for (var i = 0, a = e.length; i < a; i += 1)
                        e[i] && t.push({
                            latitude: e[i].latlng[0],
                            longitude: e[i].latlng[1],
                            elevation: r.a.convertElevationToMeter(e[i].y),
                            distance: r.a.revertDistance(e[i].x),
                            timestamp: e[i].timestamp
                        });
                return t
            },
            getRouteSegments: function(e, t, i) {
                var a = new s.a;
                return a.setGeoRoutePk(e).setSortOrder(t).setNumberOfPoints(i.numberOfPoints).setDistanceInMeters(i.distance).setBearing(0),
                a
            },
            convertForElevationService: function(e) {
                var t = [];
                return n.a.each(e, function(e) {
                    t.push({
                        lat: e.latlng[0],
                        lng: e.latlng[1]
                    })
                }),
                t
            },
            convertCourseLinesForElevationService: function(e) {
                var t, i, a = [], n = [];
                if (e)
                    for (var r = 0, s = e.length; r < s; r += 1)
                        if (e.models[r]) {
                            for (var o = 0, l = (t = (i = e.models[r]).get("points")).length; o < l; o += 1)
                                t[o] && n.push({
                                    lat: t[o].lat,
                                    lng: t[o].lon
                                });
                            a.push({
                                id: r + 1,
                                points: n,
                                distance: i.get("distanceInMeters"),
                                numberOfPoints: n.length
                            }),
                            n = []
                        }
                return a
            },
            getElevationDataFromGeoPoints: function(e) {
                for (var t, i, a = [], n = 0, s = 0, o = 0, l = e.length; o < l; o += 1)
                    e[o] && (t = e[o],
                    i && (n = null !== t.distance && void 0 !== t.distance ? t.distance : s += n = this.calculateDistanceBetweenPointsInMeters(i.latitude, i.longitude, t.latitude, t.longitude)),
                    i = t,
                    a.push({
                        latlng: [t.latitude, t.longitude],
                        timestamp: t.timestamp,
                        y: t.elevation ? r.a.convertElevation(t.elevation) : null,
                        x: r.a.convertDistance(n)
                    }));
                return a.sort(this.sortElevationDataByDistance),
                this.stripDupDistancesFromPoints(a, "x"),
                a
            },
            getElevationDataFromSegments: function(e) {
                for (var t, i, a, n = [], s = 0, o = 0, l = 0, c = e.data.length; l < c; l += 1)
                    if (e.data[l] && e.data[l].points)
                        for (var h = 0, d = (i = e.data[l].points).length; h < d; h += 1)
                            i[h] && (t = i[h],
                            a && (s = null !== t.distance && void 0 !== t.distance ? t.distance : o += s = this.calculateDistanceBetweenPointsInMeters(a.lat, a.lng, t.lat, t.lng)),
                            a = t,
                            n.push({
                                latlng: [t.lat, t.lng],
                                timestamp: t.timestamp,
                                y: t.elevation ? r.a.convertElevation(t.elevation) : null,
                                x: r.a.convertDistance(s)
                            }));
                return n.sort(this.sortElevationDataByDistance),
                this.stripDupDistancesFromPoints(n, "x"),
                n
            },
            calculateAvgGradient: function(e, t, i) {
                var a = 100 * (t - e) / i;
                return n.a.isNaN(a) || !n.a.isFinite(a) ? 0 : a
            },
            calculateBoundingBoxAreaInKM: function(e, t, i, a) {
                return o.a.calculateBoundingBoxAreaInKM(e, t, i, a)
            },
            calculateDistanceBetweenPointsInKM: function(e, t, i, a) {
                return o.a.calculateDistanceBetweenPointsInKM(e, t, i, a)
            },
            calculateDistanceBetweenPointsInMeters: function(e, t, i, a) {
                return o.a.calculateDistanceBetweenPointsInMeters(e, t, i, a)
            },
            calculateDistanceFromLeafletLatLngs: function(e) {
                return o.a.calculateDistanceFromCollectionOfLatLngs(e)
            },
            populateDistanceInGeoPoints: function(e) {
                for (var t, i = 0, a = 0, n = 0, r = e.length; n < r; n += 1)
                    e[n] && (t && (i = a += i = this.calculateDistanceBetweenPointsInMeters(t.latitude, t.longitude, e[n].latitude, e[n].longitude)),
                    t = e[n],
                    e[n].distance = i);
                return e
            },
            sortElevationDataByDistance: function(e, t) {
                return e.x < t.x ? -1 : e.x > t.x ? 1 : 0
            },
            stripDupDistancesFromPoints: function(e, t) {
                var i, a;
                !function e(n) {
                    for (var r = 0, s = n.length; r < s; r += 1)
                        if (n[r]) {
                            if (!!i && i[t] === n[r][t]) {
                                a = r;
                                break
                            }
                            i = n[r]
                        }
                    a && (n.splice(a, 1),
                    a = null,
                    e(n))
                }(e)
            },
            getGeoPointsFromEncodedSamples: function(e) {
                var t = 0
                  , i = []
                  , a = 0
                  , n = 0;
                if (e && void 0 != e)
                    for (var r = e.length; t < r; ) {
                        var s, o = 0, l = 0;
                        do {
                            l |= (31 & (s = e.charCodeAt(t++) - 63)) << o,
                            o += 5
                        } while (s >= 32);a += 1 & l ? ~(l >> 1) : l >> 1,
                        o = 0,
                        l = 0;
                        do {
                            l |= (31 & (s = e.charCodeAt(t++) - 63)) << o,
                            o += 5
                        } while (s >= 32);n += 1 & l ? ~(l >> 1) : l >> 1,
                        i.push({
                            longitude: 1e-5 * n,
                            latitude: 1e-5 * a,
                            distance: null,
                            elevation: null
                        })
                    }
                return i
            },
            getCoursePoints: function(e, t) {
                var i = [];
                return e && n.a.each(e, function(e) {
                    i.push({
                        elevation: e.getStartElevation(),
                        lat: e.getStart().lat,
                        lon: e.getStart().lng,
                        coursePk: t,
                        coursePointType: e.getCoursePointTypeId(),
                        name: e.getCoursePointTitle(),
                        distance: e.getCoursePointDistance(),
                        coursePointId: e.getCoursePointId()
                    })
                }),
                i.length > 0 ? i : null
            },
            getPolylinePointsFromGeoPoints: function(e) {
                if (e)
                    for (var t, i = [], a = 0, n = e.length; a < n; a += 1)
                        e[a] && (t = e[a],
                        i.push({
                            lat: t.latitude,
                            lng: t.longitude
                        }));
                return i
            },
            getPointsFromCoursePoints: function(e) {
                var t = [];
                return e && n.a.each(e, function(e) {
                    t.push({
                        lat: e.lat,
                        lon: e.lon,
                        coursePointId: e.coursePointId,
                        coursePointTypeId: e.coursePointType,
                        coursePointTitle: e.name,
                        coursePointDistance: e.distance,
                        startElevation: e.elevation
                    })
                }, this),
                t
            },
            resetCourse: function(e) {
                e.courseId = null,
                e.id = null,
                e.set("createDate", null),
                e.set("updateDate", null),
                e.set("virtualPartnerId", null),
                e.set("geoRoutePk", null),
                e.set("userProfilePk", null),
                e.set("displayName", null),
                e.set("userGroupPk", null),
                e.has("coursePoints") && n.a.each(e.get("coursePoints"), function(e) {
                    e.coursePk = null,
                    e.coursePointId = null
                })
            },
            getMapLayers: function() {
                return o.a.Layers
            },
            stripDistanceDupsFromSegmentRoutes: function(e) {
                var t = null
                  , i = null
                  , a = null;
                return function e(n) {
                    if (n && n.data && n.data.length > 0)
                        for (var r = 0, s = n.data.length; r < s; r += 1) {
                            var o = n.data[r];
                            if (o && o.points && o.points.length > 0)
                                for (var l = 0, c = o.points.length; l < c; l += 1)
                                    if (o.points[l]) {
                                        if (!!t && (h = t,
                                        d = o.points[l],
                                        !(!h || !d) && h.elevation === d.elevation && h.lat === d.lat && h.lng === d.lng)) {
                                            i = r,
                                            a = l;
                                            break
                                        }
                                        t = o.points[l]
                                    }
                        }
                    var h, d;
                    i && a && (n.data[i].points.splice(a, 1),
                    t = null,
                    i = null,
                    a = null,
                    !1,
                    e(n))
                }(e),
                e
            },
            convertRoundTripRoutesToSegmentRoutes: function(e) {
                for (var t = [], i = 0, a = e.length; i < a; i += 1)
                    if (e[i]) {
                        var n = [];
                        for (var r in e[i].attributes)
                            e[i].attributes.hasOwnProperty(r) && n.push({
                                lat: e[i].attributes[r][0],
                                lon: e[i].attributes[r][1]
                            });
                        t.push({
                            points: n
                        })
                    }
                return t
            },
            getRandomRoundTripDirection: function() {
                return l[Math.floor(Math.random() * l.length)]
            },
            convertRoundTripRoutesToGeoPoints: function(e) {
                for (var t = [], i = 0, a = e.length; i < a; i += 1)
                    if (e[i] && e[i].attributes)
                        for (var n = e[i].attributes.points, r = 0, s = n.length; r < s; r += 1)
                            n[r] && t.push(n[r]);
                return t
            }
        };
        t.a = c
    },
    1328: function(e, t, i) {
        "use strict";
        i.r(t);
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = {
            AccessoriesWithBatteryStatus: {
                Vector3: {
                    sku: "006-B2787",
                    name: "Vector 3",
                    imageUrl: "//static.garmincdn.com/com.garmin.connect/content/images/device-images/vector-3.png"
                }
            },
            Accessories: {
                RdPod: {
                    sku: "010-12520-00",
                    name: "Running Dynamics Pod",
                    imageUrl: "//static.garmincdn.com/com.garmin.connect/content/images/device-images/running-dynamics-pod.png"
                }
            },
            BatteryStatusTypes: {
                OK: {
                    prefix: "battery_status",
                    status: "battery_good",
                    icon: "icon-battery-status-100",
                    rank: 1
                },
                GOOD: {
                    prefix: "battery_status",
                    status: "battery_good",
                    icon: "icon-battery-status-100",
                    rank: 1
                },
                NEW: {
                    prefix: "battery_status",
                    status: "battery_good",
                    icon: "icon-battery-status-100",
                    rank: 1
                },
                CRITICAL: {
                    prefix: "battery_status",
                    status: "battery_low",
                    icon: "icon-battery-status-25 color-50",
                    rank: 0
                },
                LOW: {
                    prefix: "battery_status",
                    status: "battery_low",
                    icon: "icon-battery-status-25 color-50",
                    rank: 0
                },
                UNKNOWN: {
                    prefix: "",
                    status: "battery_unknown",
                    icon: "icon-caution",
                    rank: -1
                }
            }
        }
          , l = i(1234)
          , c = i(64)
          , h = (i(1280),
        s.a.Model.extend({
            idAttribute: "activityId",
            url: function() {
                return "/proxy/activity-service/activity/" + this.id
            },
            initialize: function() {
                this.bind("change:duration", this.validateFields, this),
                this.bind("change:distance", this.validateFields, this)
            },
            getOwnerId: function() {
                return this.get("userInfoDto").userProfilePk
            },
            getActivityTypeKey: function() {
                return this.get("activityTypeDTO").typeKey
            },
            isParent: function() {
                return this.get("isMultiSportParent")
            },
            hasParent: function() {
                var e = this.get("parentId");
                return !("undefined" == typeof e || null == e)
            },
            isLapSwimming: function() {
                var e = this.get("numberOfActiveLengths")
                  , t = this.get("activityTypeDTO").typeKey;
                return "undefined" != typeof e && null != e && 0 != e && "strength_training" !== t
            },
            isCycling: function() {
                return "cycling" == l.a.map(this.get("activityTypeDTO").typeKey)
            },
            isFloorClimbing: function() {
                return "floor_climbing" === this.getActivityTypeKey()
            },
            isDiving: function() {
                return c.a.isDivingActivity(this.get("activityTypeDTO").typeKey)
            },
            isBackcountrySki: function() {
                return c.a.isBackcountrySkiActivity(this.get("activityTypeDTO").typeKey)
            },
            isSafetyEvent: function() {
                return c.a.isSafetyEvent(this.get("activityTypeDTO").typeKey)
            },
            hasCyclingDynamicsData: function() {
                return !!(this.get("rightPowerPhaseArcCenter") || this.get("rightPowerPhaseArcLength") || this.get("rightPowerPhaseEnd") || this.get("rightPlatformCenterOffset") || this.get("seatedTime") || this.get("standingCount"))
            },
            isRunning: function() {
                return "running" == l.a.map(this.get("activityTypeDTO").typeKey)
            },
            isSwimming: function() {
                return "swimming" == l.a.map(this.get("activityTypeDTO").typeKey)
            },
            hasConnectIQMeasurements: function() {
                return this.has("connectIQMeasurements")
            },
            getIndexOfChild: function(e) {
                return this.isParent() ? n.a.indexOf(this.get("childIds"), e) : null
            },
            hasPodSenor: function() {
                if (this.has("metadataDTO") && this.get("metadataDTO").sensors) {
                    var e = n.a.find(this.get("metadataDTO").sensors, function(e) {
                        return e.bodyLocation && "WAIST_MID_BACK" === e.bodyLocation
                    });
                    if (e && !n.a.isEmpty(e))
                        return !0
                }
                return !1
            },
            hasVectorAirCdAData: function() {
                return this.get("avgCda") || this.get("maxCda") || this.get("avgWattsPerCda")
            },
            hasMTBData: function() {
                return this.get("flow") || this.get("grit") || this.has("jumpCount") && this.get("jumpCount") > 0
            },
            hasStrokeData: function() {
                return this.has("totalNumberOfStrokes") || this.has("averageStrokeCadence") || this.has("maxStrokeCadence") || this.has("averageStrokeDistance")
            },
            canDisplayAccessories: function() {
                return this.hasPodSenor()
            },
            canDisplayAccessoriesBatteryStatus: function() {
                var e = !1;
                return this.has("metadataDTO") && this.get("metadataDTO").sensors ? (e = this.getListOfAccessoriesWithBatteryStatus()) && e.length > 0 : e
            },
            getListOfAccessoriesWithBatteryStatus: function() {
                var e, t, i, a = [];
                if (this.get("metadataDTO") && this.get("metadataDTO").sensors)
                    for (var r = 0, s = this.get("metadataDTO").sensors.length; r < s; r += 1)
                        if ((e = this.get("metadataDTO").sensors[r]) && e.sku)
                            for (var l in o.AccessoriesWithBatteryStatus)
                                l && o.AccessoriesWithBatteryStatus.hasOwnProperty(l) && (t = e.sku.indexOf(o.AccessoriesWithBatteryStatus[l].sku) > -1,
                                i = n.a.find(a, function(t) {
                                    return t.sku.indexOf(e.sku) > -1
                                }),
                                t && !i && e.batteryStatus && (e.name = o.AccessoriesWithBatteryStatus[l].name,
                                e.imageUrl = o.AccessoriesWithBatteryStatus[l].imageUrl,
                                a.push(e)));
                return a
            },
            getListOfAccessories: function() {
                return o.Accessories
            },
            getAccessoryWithBatteryStatus: function(e) {
                return n.a.filter(this.get("metadataDTO").sensors, function(t) {
                    if (t.sku && e === t.sku && t.batteryStatus)
                        return t
                })
            },
            getBatteryInfo: function(e) {
                var t, i = {};
                if (t = this.getAccessoryWithBatteryStatus(e.sku))
                    if (1 === t.length)
                        i = t[0];
                    else
                        for (var a = 0, r = t.length; a < r; a += 1)
                            t[a] && t[a].batteryStatus && (!i || n.a.isEmpty(i) ? i = t[a] : o.BatteryStatusTypes[i.batteryStatus].rank > o.BatteryStatusTypes[t[a].batteryStatus].rank && (i = t[a]));
                return i.name = e.name,
                i.imageUrl = e.imageUrl,
                i
            },
            getBatteryStatusTypes: function() {
                return o.BatteryStatusTypes
            },
            isActivitySaveAsCourseCapable: function() {
                return "open_water_swimming" !== this.get("activityTypeDTO").typeKey
            },
            getConnectedGPSSensor: function() {
                var e = null;
                return this.has("metadataDTO") && this.get("metadataDTO").sensors && (e = this.get("metadataDTO").sensors.find(function(e) {
                    return "CONNECTED_GPS" === e.bleDeviceType
                })),
                e
            },
            parse: function(e) {
                if (!e)
                    return e;
                var t = {};
                for (var i in this.metaDataKeys = [],
                this.summaryKeys = [],
                this.diveKeys = [],
                e)
                    if (e.hasOwnProperty(i)) {
                        var a = e[i];
                        "metadataDTO" === i ? (n.a.extend(t, a),
                        this.metaDataKeys = n.a.keys(a)) : "summaryDTO" === i ? (n.a.extend(t, a),
                        this.summaryKeys = n.a.keys(a)) : "diveInfo" === i ? (n.a.extend(t, a),
                        this.diveKeys = n.a.keys(a)) : "activityTypeDTO" === i && (this.attributes.activityType = a),
                        t[i] = a
                    }
                return t
            },
            save: function() {
                var e = this.unsavedAttributes();
                if (e) {
                    var t = {};
                    for (var i in e)
                        if (e.hasOwnProperty(i)) {
                            var a = e[i];
                            n.a.indexOf(this.metaDataKeys, i) > 1 ? (t.metadataDTO || (t.metadataDTO = {}),
                            t.metadataDTO[i] = a) : n.a.indexOf(this.summaryKeys, i) > 1 ? (t.summaryDTO || (t.summaryDTO = {}),
                            t.summaryDTO[i] = a) : n.a.indexOf(this.diveKeys, i) > 1 ? (t.diveInfo || (t.diveInfo = this.get("diveInfo")),
                            t.diveInfo[i] = a) : t[i] = a
                        }
                    return t[this.idAttribute] = this.id,
                    s.a.Model.prototype.save.call(this, t, {
                        patch: !0
                    })
                }
            },
            toJSON: function() {
                return s.a.Model.prototype.toJSON.call(this)
            },
            isNew: function() {
                return !1
            },
            sync: function(e, t, i) {
                "patch" === e && (e = "update"),
                s.a.Model.prototype.sync.call(this, e, t, i)
            }
        }));
        t.default = h
    },
    1332: function(e, t, i) {
        "use strict";
        i(7);
        var a = i(8)
          , n = i.n(a).a.View.extend({
            initialize: function(e) {
                if (this.activitySummary = e.activitySummary,
                this.activityDetails = e.activityDetails,
                this.xAxisType = e.xAxisType,
                !this.activitySummary)
                    throw "ActivitySummary required for Range Selector";
                if (!this.activityDetails)
                    throw "ActivityDetails required for Range Selector"
            },
            render: function() {
                this.$el.addClass(this.customClasses),
                this.$el.html(this.template({})),
                this.$el.show()
            }
        });
        n.Events = {
            RangeSelected: "RangeSelected",
            RangeReset: "OnRangeReset"
        },
        t.a = n
    },
    1335: function(e, t) {
        e.exports = "<% if(title) { %>\n    <div><h5><%- title %></h5></div>\n<% } %>\n<div><%= content %></div>"
    },
    1336: function(e, t, i) {
        "use strict";
        t.a = {
            out: function(e) {
                return null == e || "undefined" == typeof e ? "" : e
            },
            selectedOutput: function(e, t) {
                return !t && -1 == e || t && e == t ? 'selected="true"' : ""
            },
            buildRangeString: function(e, t) {
                return e === t ? t : e + "\u2013" + t
            },
            titleCaseWord: function(e) {
                return e[0].toUpperCase() + e.slice(1).toLowerCase()
            }
        }
    },
    1348: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1353)
          , r = i(1325)
          , s = i(13)
          , o = {
            getPersonalizerFunction: function(e) {
                switch (e) {
                case n.a.Types.RUN_FARTHEST:
                case n.a.Types.CYCLE_FARTHEST:
                    return function(e) {
                        return s.a.personalizeDistance(e) + " " + a.a.localize(s.a.getDistanceUnitKey())
                    }
                    ;
                case n.a.Types.SWIM_LONGEST:
                    return function(e, t) {
                        var i = null;
                        return i = t ? "yard" === t.key || "yard" === t.unitKey ? "statute_us" : "metric" : s.a.inferPoolMeasurementSystemFromDistance(e),
                        s.a.personalizeSwimDistance(e, i) + " " + a.a.localize(s.a.getDistanceUnitKey("lap_swimming", e, t))
                    }
                    ;
                case n.a.Types.CYCLE_MAX_ELEV:
                    return function(e) {
                        return s.a.personalizeElevation(e) + " " + a.a.localize(s.a.getElevationUnitKey())
                    }
                    ;
                case n.a.Types.CYCLE_MAX_POWER:
                    return function(e) {
                        return s.a.personalizePower(e) + " " + a.a.localize(s.a.getPowerUnitKey())
                    }
                    ;
                case n.a.Types.RUN_1K:
                case n.a.Types.RUN_5K:
                case n.a.Types.RUN_10K:
                case n.a.Types.RUN_HALF_MARATHON:
                case n.a.Types.RUN_MARATHON:
                case n.a.Types.RUN_1Mile:
                case n.a.Types.CYCLE_40K:
                case n.a.Types.SWIM_100M:
                case n.a.Types.SWIM_400M:
                case n.a.Types.SWIM_750M:
                case n.a.Types.SWIM_1000M:
                case n.a.Types.SWIM_1500M:
                case n.a.Types.SWIM_100YD:
                case n.a.Types.SWIM_500YD:
                case n.a.Types.SWIM_1000YD:
                case n.a.Types.SWIM_1650YD:
                    return function(e) {
                        return s.a.personalizeDuration(e)
                    }
                    ;
                case n.a.Types.STEPS_BEST_DAY:
                case n.a.Types.STEPS_BEST_WEEK:
                case n.a.Types.STEPS_BEST_MONTH:
                    return function(e) {
                        return s.a.personalizeSteps(e)
                    }
                    ;
                case n.a.Types.STEPS_LONGEST_STREAK:
                    return function(e) {
                        return e ? a.a.localize("pr.label.steps.longest.streak.unit", e) : null
                    }
                    ;
                case n.a.Types.STEPS_CURRENT_STREAK:
                    return function(e) {
                        return e ? a.a.localize("pr.label.steps.current.streak.unit", e) : null
                    }
                }
            },
            getSortOrder: function(e) {
                var t = n.a.GetSortOrder(e);
                return "undefined" == typeof t && (console && console.log("Unrecognized Personal Record Type: " + e),
                t = 99),
                t
            },
            getRecordTypeFromKey: function(e) {
                var t = n.a.Types;
                switch (e) {
                case t.CYCLE_40K:
                case t.CYCLE_MAX_ELEV:
                case t.CYCLE_FARTHEST:
                case t.CYCLE_MAX_POWER:
                    return r.a.Sports.Cycle;
                case t.RUN_1K:
                case t.RUN_5K:
                case t.RUN_10K:
                case t.RUN_HALF_MARATHON:
                case t.RUN_MARATHON:
                case t.RUN_FARTHEST:
                case t.RUN_1Mile:
                    return r.a.Sports.Run;
                case t.STEPS_BEST_DAY:
                case t.STEPS_BEST_WEEK:
                case t.STEPS_BEST_MONTH:
                case t.STEPS_LONGEST_STREAK:
                case t.STEPS_CURRENT_STREAK:
                    return r.a.Sports.Steps;
                case t.SWIM_100M:
                case t.SWIM_100YD:
                case t.SWIM_400M:
                case t.SWIM_500YD:
                case t.SWIM_750M:
                case t.SWIM_1000M:
                case t.SWIM_1000YD:
                case t.SWIM_1500M:
                case t.SWIM_1650YD:
                case t.SWIM_LONGEST:
                    return r.a.Sports.Swim
                }
                return null
            }
        };
        t.a = o
    },
    1352: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            idAttribute: "geoRoutePk",
            getGeoRoutePk: function() {
                return this.get("geoRoutePk")
            },
            setGeoRoutePk: function(e) {
                return this.set("geoRoutePk", e),
                this
            },
            getSortOrder: function() {
                return this.get("sortOrder")
            },
            setSortOrder: function(e) {
                return this.set("sortOrder", e),
                this
            },
            getNumberOfPoints: function() {
                return this.get("numberOfPoints")
            },
            setNumberOfPoints: function(e) {
                return this.set("numberOfPoints", e),
                this
            },
            getDistanceInMeters: function() {
                return this.get("distanceInMeters")
            },
            setDistanceInMeters: function(e) {
                return this.set("distanceInMeters", e),
                this
            },
            getBearing: function() {
                return this.get("bearing")
            },
            setBearing: function(e) {
                return this.set("bearing", e),
                this
            },
            getPoints: function() {
                return this.get("points")
            },
            setPoints: function(e) {
                this.set("points", e)
            }
        })
    },
    1353: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = n.a.Model.extend({
            initialize: function(e) {},
            comparator: function(e) {
                return e.get("key")
            },
            urlRoot: "/proxy/personalrecord-service/personalrecordtype"
        })
          , s = {
            RUN_1K: "pr.label.1k.run",
            RUN_5K: "pr.label.5k.run",
            RUN_10K: "pr.label.10k.run",
            RUN_HALF_MARATHON: "pr.label.half.marathon",
            RUN_MARATHON: "pr.label.full.marathon",
            RUN_FARTHEST: "pr.label.farthest.run",
            RUN_1Mile: "pr.label.1mile.run",
            CYCLE_FARTHEST: "pr.label.farthest.cycle",
            CYCLE_MAX_ELEV: "pr.label.max.elev",
            CYCLE_MAX_POWER: "pr.label.max.power",
            CYCLE_40K: "pr.label.40k.cycle",
            STEPS_BEST_DAY: "pr.label.steps.best.day",
            STEPS_BEST_WEEK: "pr.label.steps.best.week",
            STEPS_BEST_MONTH: "pr.label.steps.best.month",
            STEPS_LONGEST_STREAK: "pr.label.steps.longest.streak",
            STEPS_CURRENT_STREAK: "pr.label.steps.current.streak",
            SWIM_LONGEST: "pr.label.longest.poolswim",
            SWIM_100M: "pr.label.100m.poolswim",
            SWIM_400M: "pr.label.400m.poolswim",
            SWIM_750M: "pr.label.750m.poolswim",
            SWIM_1000M: "pr.label.1000m.poolswim",
            SWIM_1500M: "pr.label.1500m.poolswim",
            SWIM_100YD: "pr.label.100yd.poolswim",
            SWIM_500YD: "pr.label.500yd.poolswim",
            SWIM_1000YD: "pr.label.1000yd.poolswim",
            SWIM_1650YD: "pr.label.1650yd.poolswim"
        }
          , o = function(e) {
            var t = 99;
            switch (e) {
            case s.RUN_1K:
                t = 0;
                break;
            case s.RUN_1Mile:
                t = 1;
                break;
            case s.RUN_5K:
                t = 2;
                break;
            case s.RUN_10K:
                t = 3;
                break;
            case s.RUN_HALF_MARATHON:
                t = 4;
                break;
            case s.RUN_MARATHON:
                t = 5;
                break;
            case s.RUN_FARTHEST:
                t = 6;
                break;
            case s.CYCLE_40K:
                t = 10;
                break;
            case s.CYCLE_MAX_ELEV:
                t = 11;
                break;
            case s.CYCLE_MAX_POWER:
                t = 12;
                break;
            case s.CYCLE_FARTHEST:
                t = 13;
                break;
            case s.STEPS_BEST_DAY:
                t = 14;
                break;
            case s.STEPS_BEST_WEEK:
                t = 15;
                break;
            case s.STEPS_BEST_MONTH:
                t = 16;
                break;
            case s.STEPS_LONGEST_STREAK:
                t = 17;
                break;
            case s.STEPS_CURRENT_STREAK:
                t = 18;
                break;
            case s.SWIM_100M:
                t = 20;
                break;
            case s.SWIM_100YD:
                t = 21;
                break;
            case s.SWIM_400M:
                t = 22;
                break;
            case s.SWIM_500YD:
                t = 23;
                break;
            case s.SWIM_750M:
                t = 24;
                break;
            case s.SWIM_1000M:
                t = 25;
                break;
            case s.SWIM_1000YD:
                t = 26;
                break;
            case s.SWIM_1500M:
                t = 27;
                break;
            case s.SWIM_1650YD:
                t = 28;
                break;
            case s.SWIM_LONGEST:
                t = 29
            }
            return t
        }
          , l = n.a.Collection.extend({
            model: r,
            url: function() {
                return "/proxy/personalrecord-service/personalrecordtype/prtypes/" + (this.displayName || "")
            },
            initialize: function(e, t) {
                this.displayName = t.displayName
            },
            comparator: function(e, t) {
                var i = o(e.get("key"))
                  , a = o(t.get("key"));
                return i < a ? -1 : i > a ? 1 : 0
            }
        });
        l.Types = s,
        l.GetSortOrder = o;
        t.a = l
    },
    1357: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(25)
          , l = (i(1280),
        s.a.Model.extend({
            url: function() {
                return this.isLapSwimming ? "/proxy/activity-service/activity/" + this.get("activityId") + "/swimDetails?maxChartSize=" + this.maxChartSize : "/proxy/activity-service/activity/" + this.get("activityId") + "/details?maxChartSize=" + this.maxChartSize + "&maxPolylineSize=" + this.maxPolylineSize
            },
            initialize: function(e) {
                this.maxChartSize = e.maxChartSize || 500,
                this.maxPolylineSize = e.maxPolylineSize || 1e3,
                this.isLapSwimming = e.isLapSwimming || !1
            },
            setIsLapSwimming: function(e) {
                this.isLapSwimming = e
            },
            isValid: function() {
                return "undefined" != typeof this.get("sumDuration")
            },
            parse: function(e) {
                var t = []
                  , i = e.metricDescriptors
                  , a = e.activityDetailMetrics;
                if (!a || 0 == a.length)
                    return null;
                for (var r = 0; r < a[0].metrics.length; r++)
                    t[r] = [];
                for (var s = 0; s < a.length; s++)
                    for (var l = a[s].metrics, c = 0; c < l.length; c++)
                        t[c][s] = l[c];
                var h = {};
                if (h.original = n.a.clone(e),
                n.a.each(i, function(e) {
                    h[e.key] = t[e.metricsIndex]
                }, this),
                this.isLapSwimming) {
                    var d, p = h.sumDuration[0];
                    h.cumulativeDuration = n.a.clone(h.sumDuration);
                    var u = h.cumulativeDuration;
                    for (u[0] = 0,
                    s = 1; s < u.length; s++) {
                        var m = u[s];
                        u[s] = p + u[s - 1],
                        p = m
                    }
                    p += u[u.length - 1],
                    u.push(p),
                    h.sumStrokes = h.sumStrokes.concat(n.a.last(h.sumStrokes)),
                    (d = n.a.last(h.weightedMeanSpeed)) && h.weightedMeanSpeed.push(d),
                    (d = n.a.last(h.weightedMeanSwolf)) && h.weightedMeanSwolf.push(d),
                    (d = n.a.last(h.directLengthIndex)) && h.directLengthIndex.push(d + 1);
                    var g, f = h.sumDistance[0];
                    for (h.cumulativeDistance = n.a.clone(h.sumDistance),
                    (u = h.cumulativeDistance)[0] = 0,
                    s = 1; s < u.length; s++) {
                        var v = u[s];
                        u[s] = f + u[s - 1],
                        f = v
                    }
                    if (f += u[u.length - 1],
                    u.push(f),
                    h.weightedMeanSpeed)
                        for (g = "hmph" === n.a.find(i, function(e) {
                            return "weightedMeanSpeed" === e.key
                        }).unit.key ? o.a.HmphToMps : o.a.HydphToMps,
                        u = h.weightedMeanSpeed,
                        s = 0; s < u.length; s++)
                            u[s] = u[s] * g;
                    if (h.weightedMeanSwolf) {
                        s = 0;
                        for (var y = h.weightedMeanSwolf.length; s < y; s += 1)
                            null === h.weightedMeanSwolf[s] && (h.weightedMeanSwolf[s] = 0)
                    }
                    if (h.sumStrokes)
                        for (s = 0,
                        y = h.sumStrokes.length; s < y; s += 1)
                            null === h.sumStrokes[s] && (h.sumStrokes[s] = 0);
                    var A = e.heartRateDTOs;
                    if (A && A.length) {
                        for (s = A.length - 1; A[s].duration > p; )
                            A.pop(),
                            s--;
                        h.directHeartRate = n.a.map(A, function(e) {
                            return e.bpm
                        }),
                        h.interpolatedSwimDuration = n.a.map(A, function(e) {
                            return e.duration
                        }),
                        h.interpolatedSwimLengths = [],
                        h.interpolatedSwimDistance = [],
                        this.calculateInterpolatedValues(h, A, this.interpolateSwimLength),
                        this.calculateInterpolatedValues(h, A, this.interpolateSwimDistance)
                    }
                }
                return e.geoPolylineDTO && e.geoPolylineDTO.polyline && (h.polyline = e.geoPolylineDTO.polyline),
                h
            },
            calculateInterpolatedValues: function(e, t, i) {
                for (var a = [], n = 0, r = e.cumulativeDuration[1], s = null, o = 0; o < t.length; )
                    (s = t[o]).duration <= r ? (a.push(s.bpm),
                    o++) : (i(n, a, e),
                    n++,
                    r = e.cumulativeDuration[n + 1],
                    a = []);
                a.length && i(n, a, e)
            },
            interpolateSwimLength: function(e, t, i) {
                for (var a = 1 / t.length, n = 1; n <= t.length; n++)
                    i.interpolatedSwimLengths.push(e + n * a)
            },
            interpolateSwimDistance: function(e, t, i) {
                for (var a = i.sumDistance[e], n = i.cumulativeDistance[e], r = a / t.length, s = 1; s <= t.length; s++)
                    i.interpolatedSwimDistance.push(n + s * r)
            },
            hasData: function(e) {
                return !!this.get(e)
            },
            getData: function(e, t, i, a) {         // TX !!! bookmark - graph data array building
                t || (t = "sumDuration");
                var r = this.get(e)
                  , s = this.get(t)                // TX GCOverrides
                  , d = this.get("sumDistance");   // TX GCOverrides
                if (!r || !s)
                    return null;
                r.length != s.length && console.log("Number of datapoints for elevation and timestamps do not match!");
                var o = Math.min(r.length, s.length);
                i || (i = n.a.identity),
                a || (a = n.a.identity);
                for (var l = [], c = 0, h = 0; h < o; h++)
                    null !== s[h] && (l[c] = [a(s[h]), i(r[h]), a(d[h])],  // TX GCOverrides
                    c++);
                return l
            },
            getElevationData: function(e, t, i) {
                return this.getData("directElevation", e, t, i)
            },
            getHRData: function(e, t, i) {
                return this.getData("directHeartRate", e, t, i)
            },
            getRespirationRateData: function(e, t, i) {
                return this.getData("directRespirationRate", e, t, i)
            },
            getSpeedData: function(e, t, i) {
                return this.getData("directSpeed", e, t, i)
            },
            getPowerData: function(e, t, i) {
                return this.getData("directPower", e, t, i)
            },
            getCadenceData: function(e, t, i) {
                return this.getData("directBikeCadence", e, t, i) || this.getData("directDoubleCadence", e, t, i) || this.getData("directSwimCadence", e, t, i)
            },
            getTemperatureData: function(e, t, i) {
                return this.getData("directAirTemperature", e, t, i)
            },
            getLeftRightBalanceData: function(e, t, i) {
                return this.getData("directRightBalance", e, t, i)
            },
            getVerticalOscillationData: function(e, t, i) {
                return this.getData("directVerticalOscillation", e, t, i)
            },
            getGroundContactTimeData: function(e, t, i) {
                return this.getData("directGroundContactTime", e, t, i)
            },
            getSwimSpeedData: function(e, t, i) {
                return this.isLapSwimming ? this.getData("weightedMeanSpeed", e, t, i) : this.getData("directSpeed", e, t, i)
            },
            getSwimStrokeData: function(e, t, i) {
                return this.getData("sumStrokes", e, t, i)
            },
            getSwimSwolfData: function(e, t, i) {
                return this.getData("weightedMeanSwolf", e, t, i)
            },
            getSwimLengthData: function(e, t, i) {
                return this.getData("sumDuration", e, t, i)
            },
            getDiveDepthData: function(e, t, i) {
                return this.getData("directDepth", e, t, i)
            },
            getDiveDecoData: function(e, t, i) {
                return this.getData("directNextStopDepth", e, t, i)
            },
            getConnectIQMeasurements: function() {
                return n.a.filter(this.get("original").metricDescriptors, function(e) {
                    return e.hasOwnProperty("appID")
                })
            },
            hasPowerData: function() {
                var e = this.get("directPower");
                return !n.a.isUndefined(e) && null != e && e.length > 0
            },
            hasElevationData: function() {
                var e = this.get("directElevation");
                return !n.a.isUndefined(e) && null != e && e.length > 0
            },
            hasLongitudeData: function() {
                var e = this.get("directLongitude");
                return !n.a.isUndefined(e) && null != e && e.length > 0
            },
            hasLatitudeData: function() {
                var e = this.get("directLatitude");
                return !n.a.isUndefined(e) && null != e && e.length > 0
            },
            hasGForceData: function() {
                var e = this.get("directGforce");
                return !n.a.isUndefined(e) && null != e && e.length > 0
            },
            getGritData: function() {
                return this.get("directGrit") || []
            },
            getFlowData: function() {
                return this.get("directFlow") || []
            }
        }));
        t.a = l
    },
    1365: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(13)
          , l = i(4)
          , c = i(18)
          , h = i.n(c)
          , d = i(1286)
          , p = i(1276)
          , u = function(e) {
            this.activitySummary = e.activitySummary,
            this.activityDetails = e.activityDetails,
            this.activitySplits = e.activitySplits,
            this.activityTypedSplits = e.activityTypedSplits,
            this.activitySplitSummaries = e.activitySplitSummaries,
            this.activityWorkouts = e.activityWorkouts,
            this.usersWeight = e.usersWeight,
            this.xAxisType = e.xAxisType,
            this.props = e.props,
            this.mean = this.getAvgValue()
        };
        n.a.extend(u.prototype, {
            yAxisMinMaxPadding: "padded",
            reset: function() {
                this.data = null
            },
            hasAvgValue: function() {
                var e = this.activitySummary.get(this.avgValueKey);
                return !n.a.isUndefined(e) && null != e
            },
            getColor: function(e) {
                return this.chartColorMapperObject.mapSeriesType(this, e)
            },
            getAvgValue: function(e) {
                var t = this.activitySummary.get(this.avgValueKey);
                if (!n.a.isUndefined(t) && null != t)
                    return this.conversionFunction(t, e || this.measurementSystem())
            },
            shouldBeVisible: function() {
                return !0
            },
            setXAxisType: function(e) {
                this.xAxisType = e,
                this.data = null
            },
            formatToolTipRow: function(e, t, i, a, n, r, s) {
                return this.formattingFunction(i) + " " + a
            },
            canShowChartSelector: function() {
                return !1
            },
            colorMapper: null,
            chartColorMapperObject: null,
            formattingFunction: n.a.identity,
            conversionFunction: n.a.identity,
            generateData: function(e, t) {
                return this.data && !t ? this.data : (e = e || this.colorMapper || function() {}
                ,
                this.data = this.getData(),
                this.mainChartFilter && (this.data = this.mainChartFilter(this.data)),
                this.data && (this.data = this.buildData(e, t)),
                this.data)
            },
            getData: function() {
                return this.activityDetails.getData(this.seriesKey, this.getXAxisKey())
            },
            hasData: function() {
                return this.activityDetails.hasData(this.seriesKey)
            },
            buildData: function(e, t) {         // TX !!! bookmark - buidling the graph data array
                for (var i, a, n = [], r = 0, s = this.data.length; r < s; r++)
                    this.data[r] && (i = this.data[r][0],
                    this.xAxisType === p.a.Distance && (i = o.a.convertDistance(i, this.activitySummary.getActivityTypeKey())),
                    a = this.data[r][1],
                    n[r] = {
                        x: i,
                        y: null === a ? null : this.conversionFunction(a, this.measurementSystem()),
                        dist: o.a.convertDistance(this.data[r][2], this.activitySummary.getActivityTypeKey()),     // TX GCOverrides - distance added (always)
                        color: e.call(this, a)
                    });
                return n
            },
            generateWorkoutData: function() {
                var e = {
                    workoutData: [],
                    allZeros: !0
                }
                  , t = [];
                if (this.workoutTargetTypes && this.activityWorkouts && this.activityWorkouts.models.length > 0) {
                    var i = this.activitySplits.get("lapDTOs");
                    n.a.each(i, function(a, r) {
                        var s = this.getWorkoutStep(a)
                          , o = !1
                          , l = !1;
                        if (s) {
                            var c = !0;
                            this.isWorkoutTargetSupported(s) && (e.allZeros = !1,
                            c = !1,
                            r > 0 && !this.isWorkoutTargetSupported(i[r - 1], !0) && (o = !0),
                            r < i.length - 1 && !this.isWorkoutTargetSupported(i[r + 1], !0) && (l = !0)),
                            t = this.buildWorkoutData(s, r, o, l, c),
                            n.a.each(t, function(t) {
                                e.workoutData.push(t)
                            })
                        }
                    }, this)
                }
                return e
            },
            buildWorkoutData: function(e, t, i, a, n) {
                var r, s, l, c, p = [], u = d.a.findClosest(this.activityDetails.get("directTimestamp"), h.a.utc(this.activitySplits.get("lapDTOs")[t].startTimeGMT).valueOf());
                if (s = (r = t === this.activitySplits.get("lapDTOs").length - 1 ? this.activityDetails.get("directTimestamp").length : d.a.findClosest(this.activityDetails.get("directTimestamp"), h.a.utc(this.activitySplits.get("lapDTOs")[t + 1].startTimeGMT).valueOf())) - u,
                null !== e.targetValueLow && null !== e.targetValueHigh) {
                    var m = (e.targetValueLow + e.targetValueHigh) / 2;
                    l = this.conversionFunction(m, this.measurementSystem())
                } else
                    l = null !== e.targetValue ? this.conversionFunction(e.targetValue, this.measurementSystem()) : this.conversionFunction(0, this.measurementSystem());
                if (n && (l = this.reversed ? null : 0),
                c = this.reversed ? l : 0,
                "sumDuration" === this.xAxisType) {
                    !0 === i && p.push([this.activityDetails.get("sumDuration")[u] - 1e-4, c]);
                    for (var g = 0; g < s; g++)
                        p.push([this.activityDetails.get("sumDuration")[u + g], l]);
                    !0 === a && p.push([this.activityDetails.get("sumDuration")[r] + 1e-4, c])
                } else {
                    var f, v;
                    !0 === i && (f = o.a.convertDistance(this.activityDetails.get("sumDistance")[u], this.activitySummary.getActivityTypeKey()),
                    p.push([f - 1e-4, c]));
                    for (var y = 0; y < s; y++) {
                        var A = o.a.convertDistance(this.activityDetails.get("sumDistance")[u + y], this.activitySummary.getActivityTypeKey());
                        p.push([A, l])
                    }
                    !0 === a && (v = o.a.convertDistance(this.activityDetails.get("sumDistance")[r], this.activitySummary.getActivityTypeKey()),
                    p.push([v + 1e-4, c]))
                }
                return p
            },
            getWorkoutStep: function(e) {
                var t = this.activityWorkouts.models
                  , i = e.wktIndex
                  , a = null
                  , r = n.a.find(t, function(e) {
                    return e.get("index") === i
                });
                if (r) {
                    var s = r.get("steps");
                    a = n.a.find(s, function(t) {
                        return t.stepIndex === e.wktStepIndex
                    })
                }
                return a
            },
            getXAxisKey: function() {
                return this.xAxisType
            },
            getClosestPoint: function(e) {
                for (var t = this.data, i = t.length, a = 0; a < i && !(t[a].x >= e); a++)
                    ;
                var n = Math.min(t.length - 1, a);
                if (n > 0 && t[n].x != e) {
                    var r = Math.abs(t[n].x - e);
                    Math.abs(t[n - 1].x - e) < r && n--
                }
                return {
                    data: this.data[n],
                    index: n
                }
            },
            measurementSystem: function() {
                return o.a.measurementSystem
            },
            getLowerRange: function(e, t, i) {
                var a = this.calculateMean(t);
                if (e) {
                    var n = this.calculateStdDeviation(t) * e;
                    return Math.max(a - n, 0)
                }
                return this.calculateMin(t, i)
            },
            getUpperRange: function(e, t) {
                var i = this.calculateMean(t);
                return e ? i + this.calculateStdDeviation(t) * e : this.calculateMax()
            },
            getLowerRangeWithMinRange: function(e, t) {
                var i = this.getLowerRange(0, !1, t)
                  , a = this.getUpperRange(0) - i;
                return a < e && (i -= (e - a) / 2),
                i
            },
            getUpperRangeWithMinRange: function(e) {
                var t = this.getLowerRange(0)
                  , i = this.getUpperRange(0)
                  , a = i - t;
                return a < e && (i += (e - a) / 2),
                i
            },
            calculateMean: function(e) {
                if ("undefined" === typeof this.mean || null === this.mean) {
                    var t, i, a = this.yValueFunc(), n = 0, r = 0;
                    if (e)
                        for (i = 0; i < this.data.length; i++)
                            (t = a(this.data[i])) && (n += t,
                            r++);
                    else
                        for (i = 0; i < this.data.length; i++)
                            n += t = a(this.data[i]),
                            r++;
                    r && (this.mean = n / r)
                }
                return this.mean
            },
            calculateStdDeviation: function(e) {
                if (null === this.stdDev || "undefined" === typeof this.stdDev) {
                    var t, i, a, r = this.calculateMean(), s = this.yValueFunc(), o = [];
                    if (e)
                        for (i = 0; i < this.data.length; i++)
                            (a = s(this.data[i])) && (t = a - r,
                            o.push(t * t));
                    else
                        for (i = 0; i < this.data.length; i++)
                            t = s(this.data[i]) - r,
                            o.push(t * t);
                    if (o.length) {
                        var l = n.a.reduce(o, function(e, t) {
                            return e + t
                        }) / o.length;
                        this.stdDev = Math.sqrt(l)
                    } else
                        this.stdDev = 0;
                    return this.stdDev
                }
                return this.stdDev
            },
            calculateMax: function(e) {
                if (!this.maxValue) {
                    var t = this.yValueFunc();
                    this.maxValue = e ? n.a.max(this.data, function(i) {
                        return t(i) >= e ? -999999 : t(i)
                    }) : n.a.max(this.data, t),
                    this.maxValue && (this.maxValue = t(this.maxValue))
                }
                return this.maxValue
            },
            yValueFunc: function(e) {
                var t = e || this.data;
                return Array.isArray(t[0]) ? function(e) {
                    return e[1]
                }
                : function(e) {
                    return e.y
                }
            },
            xValueFunc: function() {
                return Array.isArray(this.data[0]) ? function(e) {
                    return e[0]
                }
                : function(e) {
                    return e.x
                }
            },
            calculateMin: function(e, t) {
                if (!this.minValue) {
                    var i = this.yValueFunc();
                    this.minValue = e || t ? t && !e ? n.a.min(this.data, function(e) {
                        if (null !== e.y)
                            return i(e)
                    }) : n.a.min(this.data, function(e) {
                        return i(e) || 99999999
                    }, this) : n.a.min(this.data, i),
                    this.minValue && (this.minValue = i(this.minValue))
                }
                return this.minValue
            },
            filter: function(e, t) {
                if (!e || e.length < 2)
                    return e;
                for (var i, a = e[0], n = e[e.length - 1], r = this.yValueFunc(e), s = [a], o = 1; o < e.length; o++)
                    t(r(i = e[o])) || s.push(i);
                return s.length < 2 ? [a, n] : (t(r(a)) && ("undefined" != typeof a.y ? a.y = s[1].y : a[1] = s[1][1]),
                n !== s[s.length - 1] && (s.push(n),
                "undefined" != typeof n.y ? n.y = s[s.length - 1].y : n[1] = s[s.length - 2][1]),
                s)
            },
            isZero: function(e) {
                return 0 === e
            },
            isNegative: function(e) {
                return e < 0
            },
            filterZeros: function(e) {
                return this.filter(e, this.isZero)
            },
            filterNulls: function(e) {
                return this.filter(e, n.a.isNull)
            },
            filterBadPCOs: function(e) {
                return this.filter(e, this.getIsBadPCOTest())
            },
            getIsBadPCOTest: function() {
                var e = this.min
                  , t = this.max;
                return function(i) {
                    return n.a.isNull(i) || i > t || i < e
                }
            },
            filterNegatives: function(e) {
                return this.filter(e, this.isNegative)
            },
            filterValues: function(e) {
                if (!this.data || this.data.length < 2)
                    return this.data;
                var t = this.calculateMean();
                if (!t)
                    return this.data;
                for (var i, a, n = this.yValueFunc(), r = this.data[0], s = this.data[this.data.length - 1], o = this.calculateStdDeviation() * e, l = t - o, c = t + o, h = [], d = 0; d < this.data.length; d++)
                    (a = n(i = this.data[d])) >= l && a <= c && h.push(i);
                return r[1] = Math.min(c, n(r)),
                s[1] = Math.min(c, n(s)),
                r[1] = Math.max(l, n(r)),
                s[1] = Math.max(l, n(s)),
                h[0] = r,
                h.push(s),
                h
            },
            filterRestsIfXAxisIsDistance: function(e) {
                if (!e || e.length < 2 || this.xAxisType != p.a.SwimDistance)
                    return e;
                for (var t, i, a = this.xValueFunc(), n = [], r = e.length - 1, s = 0; s < r; s++)
                    t = e[s],
                    i = e[s + 1],
                    a(t) != a(i) && n.push(t);
                var o = e[e.length - 1];
                return n.push(o),
                n
            },
            getExtremeMax: function() {
                var e = Math.abs(this.calculateMin())
                  , t = Math.abs(this.calculateMax());
                return t >= e ? t : e
            },
            getExtremeMin: function() {
                return -this.getExtremeMax()
            },
            isWorkoutTargetSupported: function(e, t) {
                var i = e;
                t && (i = this.getWorkoutStep(e));
                var a = !1;
                return i && (a = n.a.indexOf(this.workoutTargetTypes, i.targetType) >= 0),
                a
            },
            getName: function() {
                return this.name
            },
            getUniqueName: function() {
                return this.getName()
            },
            getLabel: function() {
                var e = this.parentLabel || this.label;
                return e instanceof Array ? l.a.localize(e[0], l.a.localize(e[1])) : l.a.localize(e)
            }
        }),
        u.extend = s.a.Model.extend,
        t.a = u
    },
    1366: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a).a.Model.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/cyclingDynamicsForMaxAvgPowerDuration?startTimeMillis=" + this.startTime + "&durationInSeconds=" + this.duration
            },
            initialize: function(e) {
                this.activityId = e.activityId,
                this.startTime = e.startTimeMilliseconds,
                this.duration = e.duration
            },
            setData: function(e, t) {
                this.startTime = e,
                this.duration = t
            },
            getStartTime: function() {
                return this.get("maxAverageDTO").timerDurationStartMillis
            },
            getEndTime: function() {
                return this.get("maxAverageDTO").timerDurationEndMillis
            },
            getStartDistance: function() {
                return this.get("maxAverageDTO").startDistance / 100
            },
            getEndDistance: function() {
                return this.get("maxAverageDTO").endDistance / 100
            },
            getValue: function() {
                return this.get("maxAverageDTO").value
            }
        });
        t.a = n
    },
    1367: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(13)
          , r = {
            getDurationLabelValue: function(e) {
                switch (e) {
                case -1:
                    return a.a.localize("avg_power_range_none");
                case 5:
                    return a.a.localize("avg_power_range_customsec", 5);
                case 60:
                    return a.a.localize("avg_power_range_custommin", 1);
                case 300:
                    return a.a.localize("avg_power_range_custommin", 5);
                case 1200:
                    return a.a.localize("avg_power_range_custommin", 20)
                }
                return null
            },
            getCustomDurationLabelValue: function(e, t) {
                return a.a.localize("avg_power_max_avg", a.a.localize("avg_power_range_custom" + t, e))
            },
            formatLabel: function(e) {
                return a.a.localize("avg_power_max_avg", this.getDurationLabelValue(e))
            },
            formatAvgTimeValue: function(e, t, i) {
                return n.a.personalizePower(i) + " " + a.a.localize(n.a.getPowerUnitKey()) + " (" + n.a.personalizeDuration(e) + "-" + n.a.personalizeDuration(t) + ")"
            },
            formatAvgDistanceValue: function(e, t, i) {
                return n.a.personalizePower(i) + " " + a.a.localize(n.a.getPowerUnitKey()) + " (" + n.a.personalizeDistance(e) + "-" + n.a.personalizeDistance(t) + ")"
            },
            isCustomRange: function(e) {
                return -1 !== e && 5 !== e && 60 !== e && 300 !== e && 1200 !== e
            }
        };
        t.a = r
    },
    1368: function(e, t, i) {
        "use strict";
        i.d(t, "a", function() {
            return n
        });
        var a = i(80)
          , n = function e(t) {
            Object(a.a)(this, e),
            this.findByTypeId = function(e) {
                if (!this.idMap) {
                    var t = {};
                    this.activityTypes.forEach(function(e) {
                        t[e.typeId] = e
                    }),
                    this.idMap = t
                }
                return this.idMap[e]
            }
            ,
            this.findByTypeKey = function(e) {
                return this.activityTypes.find(function(t) {
                    return e == t.typeKey
                })
            }
            ,
            this.getParentType = function(e) {
                var t = this.findByTypeKey(e);
                if (t) {
                    var i = t.parentTypeId;
                    if (i) {
                        var a = this.findByTypeId(i);
                        return "all" == a.typeKey ? t : a
                    }
                    return t
                }
                return null
            }
            ,
            this.activityTypes = t,
            this.idMap = null
        }
    },
    1375: function(e, t, i) {
        "use strict";
        var a = i(2)
          , n = i(80)
          , r = i(81)
          , s = i(99)
          , o = i(97)
          , l = i(98)
          , c = i(11)
          , h = i.n(c)
          , d = i(1585)
          , p = i.n(d)
          , u = function(e) {
            function t(e) {
                var i;
                return Object(n.a)(this, t),
                (i = Object(s.a)(this, Object(o.a)(t).call(this, e))).state = {
                    options: Object(a.a)({}, e.options, {
                        animationData: e.animationData
                    })
                },
                i.animation = p.a,
                i.ref = null,
                i
            }
            return Object(l.a)(t, e),
            Object(r.a)(t, [{
                key: "componentDidMount",
                value: function() {
                    var e = this.props.animateToFrameOnLoad
                      , t = Object(a.a)({}, this.state.options, {
                        container: this.ref
                    });
                    this.animation = p.a.loadAnimation(t),
                    e && this.animation.playSegments([0, e], !0),
                    this.setState({
                        activeAnimationFrame: e
                    })
                }
            }, {
                key: "playSegments",
                value: function(e, t) {
                    this.animation.playSegments(e, t),
                    this.setState({
                        activeAnimationFrame: e[1]
                    })
                }
            }, {
                key: "render",
                value: function() {
                    var e = this
                      , t = this.props.onClick;
                    return h.a.createElement("span", {
                        ref: function(t) {
                            return e.ref = t
                        },
                        onClick: t
                    })
                }
            }]),
            t
        }(c.Component);
        u.defaultProps = {
            animateToFrameOnLoad: 0,
            options: {
                renderer: "svg",
                loop: !1,
                autoplay: !1
            }
        },
        t.a = u
    },
    1377: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(17)
          , l = s.a.Model.extend({
            defaults: {
                latitude: null,
                longitude: null,
                elevation: null,
                distance: null
            },
            getLatitude: function() {
                return this.get("latitude")
            },
            getLongitude: function() {
                return this.get("longitude")
            },
            getElevation: function() {
                return this.get("elevation")
            },
            getDistance: function() {
                return this.get("distance")
            },
            setLatitude: function(e) {
                return this.set("latitude", e),
                this
            },
            setLongitude: function(e) {
                return this.set("longitude", e),
                this
            },
            setElevation: function(e) {
                return this.set("elevation", e),
                this
            },
            setDistance: function(e) {
                return this.set("distance", e),
                this
            }
        })
          , c = i(218)
          , h = s.a.Collection.extend({
            model: l,
            url: function() {
                return c.a.userInChina() ? o.default.url("/proxy/course-service/course/elevation/from/BD09/CN") : o.default.url("/proxy/course-service/course/elevation")
            },
            fetch: function(e) {
                var t = e || {};
                return t.url = this.url(),
                t.contentType = "application/json",
                t.type = "POST",
                t.data = this.getFormatedData(),
                s.a.Collection.prototype.fetch.call(this, t)
            },
            getFormatedData: function() {
                var e = [];
                return n.a.each(this.models, function(t) {
                    e.push([t.getLatitude(), t.getLongitude(), null])
                }),
                JSON.stringify(e)
            },
            getElevationByLatLng: function(e, t) {
                var i = this.findWhere({
                    latitude: e,
                    longitude: t
                });
                return i ? i.getElevation() : null
            },
            parse: function(e) {
                if (e) {
                    var t = [];
                    return n.a.each(e, function(e) {
                        t.push(new l({
                            latitude: e[0],
                            longitude: e[1],
                            elevation: e[2]
                        }))
                    }),
                    t
                }
            }
        })
          , d = function(e) {};
        d.prototype.fetch = function(e, t) {
            var i = new h
              , a = null;
            n.a.each(e.geoPoints, function(e) {
                n.a.each(e.points, function(e) {
                    e.elevation = null,
                    a = new l({
                        latitude: e.lat,
                        longitude: e.lng
                    }),
                    i.add(a)
                })
            }),
            i.fetch({
                success: function() {
                    e.success && (n.a.each(e.geoPoints, function(e) {
                        n.a.each(e.points, function(e) {
                            e.elevation = i.getElevationByLatLng(e.lat, e.lng)
                        })
                    }),
                    e.success.call(t, e.geoPoints))
                },
                error: function(i, a, n) {
                    e.error && e.error.call(t, n, a)
                }
            })
        }
        ;
        var p = d
          , u = i(1459)
          , m = i(1236)
          , g = s.a.Collection.extend({
            model: u.a,
            urlRoot: "/proxy/course-service/course/popularRoutes",
            url: function() {
                return c.a.userInChina() ? this.urlRoot + "?sourceCoordinateSystem=" + m.a.CoordinateSystem.BD09 + "&targetCoordinateSystem=" + m.a.CoordinateSystem.BD09 + "&startLat=" + this.startLat + "&startLon=" + this.startLon + "&endLat=" + this.endLat + "&endLon=" + this.endLon + (this.courseType ? "&courseType=" + this.courseType : "") : this.urlRoot + "?startLat=" + this.startLat + "&startLon=" + this.startLon + "&endLat=" + this.endLat + "&endLon=" + this.endLon + (this.courseType ? "&courseType=" + this.courseType : "")
            },
            initialize: function(e) {
                if (!e.startLat)
                    throw "startLat is required";
                if (!e.startLon)
                    throw "startLon is required";
                if (!e.endLat)
                    throw "endLat is required";
                if (!e.endLon)
                    throw "endLon is required";
                this.courseType = e.courseType,
                this.startLat = e.startLat,
                this.startLon = e.startLon,
                this.endLat = e.endLat,
                this.endLon = e.endLon
            },
            parse: function(e) {
                if (e) {
                    var t = [];
                    return n.a.each(e, function(e) {
                        n.a.each(e, function(e) {
                            t.push({
                                latitude: e[0],
                                longitude: e[1]
                            })
                        })
                    }),
                    t
                }
            }
        })
          , f = i(1283)
          , v = function() {};
        v.prototype.fetch = function(e, t) {
            var i, a, n, r = e.courseType && m.a.PopularityRouteTypes[e.courseType.toUpperCase()] || m.a.PopularityRouteTypes.ROAD_CYCLING, s = new g({
                startLat: e.start[0],
                startLon: e.start[1],
                endLat: e.end[0],
                endLon: e.end[1],
                courseType: r
            }), o = [], l = 0;
            s.fetch({
                success: function(r, s, c) {
                    if (e.success)
                        if (200 === c.xhr.status && r) {
                            for (r.each(function(e) {
                                o.push([e.getLatitude(), e.getLongitude(), 0, 0])
                            }),
                            i = 0; i < r.models.length - 1; i++)
                                a = r.models[i],
                                n = r.models[i + 1],
                                l += f.a.calculateDistanceBetweenPointsInMeters(a.getLatitude(), a.getLongitude(), n.getLatitude(), n.getLongitude());
                            e.success.call(t, {
                                points: o,
                                meters: l
                            })
                        } else
                            204 === c.xhr.status ? e.error.call(t, c.xhr.statusText, c.xhr.status, m.a.ErrorCodes.PR_NO_ROUTING_DATA) : e.error.call(t, c.xhr.statusText, c.xhr.status, m.a.ErrorCodes.PR_GENERIC)
                },
                error: function(i, a) {
                    e.error && e.error.call(t, a.statusText, a.status, m.a.ErrorCodes.PR_GENERIC)
                }
            })
        }
        ;
        var y = v
          , A = i(1566)
          , _ = function() {
            return this.name = null,
            this.directionService = null,
            this.locationService = null,
            this.elevationService = new p,
            this.popularityRoutingService = new y,
            this.convertService = new A.a,
            this
        };
        _.prototype.getDirectionService = function() {
            return this.directionService
        }
        ,
        _.prototype.getLocationService = function() {
            return this.locationService
        }
        ,
        _.prototype.getElevationService = function() {
            return this.elevationService
        }
        ,
        _.prototype.getPopularityRoutingService = function() {
            return this.popularityRoutingService
        }
        ,
        _.prototype.getConvertService = function() {
            return this.convertService
        }
        ,
        _.prototype.updateTransitionMode = function(e) {
            this.directionService && "function" === typeof this.directionService.updateTransitionMode && this.directionService.updateTransitionMode(e)
        }
        ,
        _.prototype.getName = function() {
            return this.name
        }
        ,
        _.prototype.getSupportedMaxZoom = function() {
            return 18
        }
        ,
        _.prototype.getSupportedMinZoom = function() {
            return 3
        }
        ;
        t.a = _
    },
    1380: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(7)
              , r = i.n(n)
              , s = i(4)
              , o = i(1366)
              , l = i(82)
              , c = i(1220)
              , h = i(214)
              , d = i(1332)
              , p = i(1367)
              , u = i(1381)
              , m = i.n(u)
              , g = d.a.extend({
                events: {
                    "mouseleave .dropdown": "onLeaveDropdown",
                    "mouseover #power-go-btn": "onGoHovered",
                    "click .range-item": "onRangeItemClicked",
                    "click .range-item-custom": "onCustomRangeClicked",
                    "click .btn-form": "onGoBtnClicked",
                    "mouseleave .range-item-custom": "onLeaveCustom"
                },
                template: r.a.template(m.a),
                customClasses: "chart-max-avg-power",
                render: function() {
                    this.$el.addClass(this.customClasses),
                    this.$el.html(this.template({
                        Localizer: s.a,
                        avgValue: ""
                    })),
                    this.$el.show(),
                    this.duration = this.activitySummary.get("duration"),
                    this.disableRanges(this.duration),
                    this.numberValidator = new c.a({
                        typeFormat: "integer",
                        minValue: 1,
                        maxValue: 999,
                        element: this.$(".time-input-field"),
                        required: !0,
                        reporter: new h.a({
                            message: function(e, t) {
                                return s.a.localize("error.custom.max.avg.invalid")
                            },
                            position: "top",
                            element: this.$(".time-input-field"),
                            container: this.$el
                        })
                    })
                },
                disableRanges: function(t) {
                    var i, a = this;
                    this.$(".range-item").each(function() {
                        (i = e(this).attr("data-timerange")) > t && a.$('.range-item[data-timerange="' + i + '"]').hide()
                    })
                },
                reset: function() {
                    this.populateLabel(p.a.formatLabel(-1)),
                    this.$("#avg-power-range-selector-value").text(""),
                    this.trigger(d.a.Events.RangeReset)
                },
                onRangeItemClicked: function(e) {
                    e.preventDefault(),
                    this.$("li").removeClass("active");
                    var t = a(e.currentTarget)
                      , i = +t.attr("data-timeRange");
                    if (t.addClass("active"),
                    -1 !== i) {
                        var n = p.a.formatLabel(i);
                        this.populateLabel(n),
                        this.$(".custom-max-avg-power").hide(),
                        this.$(".custom-max-avg-power-toggle").show(),
                        this.fetchPower(i)
                    } else
                        this.reset()
                },
                populateLabel: function(e) {
                    this.$(".chart-header-item").html(e + '<i class="icon-pointer-down"></i>')
                },
                onCustomRangeClicked: function(e) {
                    e.preventDefault(),
                    e.stopPropagation(),
                    this.$("li").removeClass("active"),
                    this.$(".custom-max-avg-power").show(),
                    this.$(".custom-max-avg-power-toggle").hide()
                },
                onGoBtnClicked: function(e) {
                    if (e.preventDefault(),
                    !this.$("#power-go-btn").is("[disabled=disabled]")) {
                        this.$(".dropdown").removeClass("open");
                        var t = this.$(".time-input-field").val();
                        if (t) {
                            var i = t = +t
                              , a = this.$(".min-sec-selection").val();
                            "min" === a && (i *= 60),
                            this.fetchPower(i),
                            this.populateLabel(p.a.getCustomDurationLabelValue(t, a))
                        }
                    }
                },
                fetchPower: function(e) {
                    var t = new o.a({
                        activityId: this.activitySummary.id,
                        duration: e,
                        startTimeMilliseconds: l.a.parseISOUTC(this.activitySummary.get("startTimeGMT")).getTime()
                    });
                    t.once("sync", this.onPowerFetched, this),
                    t.once("error", this.onPowerFetchedFailed, this),
                    t.fetch()
                },
                onPowerFetched: function(e) {
                    var t = e.getEndTime() - e.getStartTime() + 1;
                    "sumDuration" === this.xAxisType ? (this.$("#avg-power-range-selector-value").text(p.a.formatAvgTimeValue(e.getStartTime(), e.getEndTime(), e.getValue())),
                    this.trigger(d.a.Events.RangeSelected, e.getStartTime(), e.getEndTime(), t)) : (this.$("#avg-power-range-selector-value").text(p.a.formatAvgDistanceValue(e.getStartDistance(), e.getEndDistance(), e.getValue())),
                    this.trigger(d.a.Events.RangeSelected, e.getStartDistance(), e.getEndDistance(), t))
                },
                onPowerFetchedFailed: function() {
                    alert(s.a.localize("error_calculating_max_avg_power")),
                    this.reset()
                },
                setChartRangeSelector: function(e, t, i, a) {
                    if (a) {
                        var n, r = "sec";
                        p.a.isCustomRange(a) && a % 60 === 0 && (a /= 60,
                        r = "min"),
                        n = p.a.isCustomRange(a) ? p.a.getCustomDurationLabelValue(a, r) : p.a.formatLabel(a),
                        this.populateLabel(n),
                        -1 === a ? this.$("#avg-power-range-selector-value").text("") : "sumDuration" === this.xAxisType ? this.$("#avg-power-range-selector-value").text(p.a.formatAvgTimeValue(e, t, i)) : this.$("#avg-power-range-selector-value").text(p.a.formatAvgDistanceValue(e, t, i))
                    }
                },
                onLeaveDropdown: function() {
                    !this.$(".dropdown").hasClass("open") && this.numberValidator && this.numberValidator.clearReport()
                },
                onGoHovered: function() {
                    var e = +this.$(".time-input-field").val()
                      , t = this.$("select.input-small.min-sec-selection").val()
                      , i = this.$("#power-go-btn")
                      , a = 1;
                    "min" === t && (a = 60),
                    (e *= a) > this.duration ? this.numberValidator.report(e, c.a.Errors.OutOfRange) : this.numberValidator.clearReport(),
                    0 !== this.$(".tooltip-error:visible").length || 0 === e ? i.addClass("disabled").attr("disabled", "disabled") : i.removeClass("disabled").removeAttr("disabled")
                },
                onLeaveCustom: function() {
                    this.numberValidator && this.numberValidator.clearReport()
                }
            });
            t.a = g
        }
        ).call(this, i(10), i(10))
    },
    1381: function(e, t) {
        e.exports = '<div class="dropdown">\n    <button class="dropdown-toggle chart-header-item" data-toggle="dropdown">\n        <%- Localizer.localize(\'avg_power_max_avg\', Localizer.localize(\'avg_power_range_none\')) %><i class="icon-pointer-down"></i>\n    </button>\n    <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu">\n        <li data-timerange="-1" class="active range-item"><a tabindex="-1" href="#"><%- Localizer.localize(\'avg_power_range_none\') %></a></li>\n        <li data-timerange="5" class="range-item"><a tabindex="-1" href="#"><%- Localizer.localize(\'avg_power_range_customsec\', 5) %></a></li>\n        <li data-timerange="60" class="range-item"><a tabindex="-1" href="#"><%- Localizer.localize(\'avg_power_range_custommin\', 1) %></a></li>\n        <li data-timerange="300" class="range-item"><a tabindex="-1" href="#"><%- Localizer.localize(\'avg_power_range_custommin\', 5) %></a></li>\n        <li data-timerange="1200" class="range-item"><a tabindex="-1" href="#"><%- Localizer.localize(\'avg_power_range_custommin\', 20) %></a></li>\n        <li class="divider"></li>\n        <li class="range-item-custom">\n            <a tabindex="-1" href="#" class="custom-max-avg-power-toggle"><%- Localizer.localize(\'avg_power_range_custom\') %></a>\n            <div class="custom-max-avg-power" style="display: none;">\n                <input type="text" class="input-mini time-input-field" maxlength="3">\n                <select class="input-small min-sec-selection">\n                    <option value="min"><%- Localizer.localize(\'avg_power_range_unit_min\') %></option>\n                    <option value="sec"><%- Localizer.localize(\'avg_power_range_unit_sec\') %></option>\n                </select>\n                <div id="power-go-btn" class="btn btn-form"><%- Localizer.localize(\'avg_power_calculate_btn\') %></div>\n            </div>\n        </li>\n    </ul>\n    <span id="avg-power-range-selector-value" class="chart-max-avg-power-detail"><%- avgValue %></span>\n</div>'
    },
    1387: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(1579)
          , s = n.a.Model.extend({
            idAttribute: "workoutId",
            url: function() {
                return "undefined" !== typeof this.get("workoutId") && null !== this.get("workoutId") ? "/proxy/workout-service/workout/" + this.get("workoutId") : "/proxy/workout-service/workout"
            },
            parse: function(e, t) {
                function i(e) {
                    var t = String(e.endConditionValue).split(".");
                    t && 2 === t.length && (t[1].length > 4 && (e.endConditionValue = parseFloat(t[0] + "." + t[1].substr(0, 4))))
                }
                function a(e) {
                    for (var t = 0, n = e.length; t < n; t += 1)
                        e[t] && i(e[t]),
                        e[t].workoutSteps && e[t].workoutSteps.length > 0 && a(e[t].workoutSteps)
                }
                if (e && e.poolLength && String(e.poolLength).indexOf(".") > -1 && e.workoutSegments && e.workoutSegments.length > 0)
                    for (var n = 0, r = e.workoutSegments.length; n < r; n += 1) {
                        var s = e.workoutSegments[n].workoutSteps;
                        s && a(s)
                    }
                return e
            },
            addExerciseNavigation: function() {
                for (var e = this.get("workoutSegments"), t = 0, i = 0; i < e[0].workoutSteps.length; i++)
                    if (e[0].workoutSteps[i].workoutSteps)
                        for (var a = 0; a < e[0].workoutSteps[i].workoutSteps.length; a++)
                            if (e[0].workoutSteps[i].workoutSteps[a].workoutSteps)
                                for (var n = 0; n < e[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].length; n++) {
                                    var s = e[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].category
                                      , o = e[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].exerciseName;
                                    r.a[s + "/" + o] && (e[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].exerciseNavigationIndex = t,
                                    e[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].exerciseSourceId = r.a[s + "/" + o],
                                    e[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].workoutProvider = "MSN",
                                    t++)
                                }
                            else {
                                var l = e[0].workoutSteps[i].workoutSteps[a].category
                                  , c = e[0].workoutSteps[i].workoutSteps[a].exerciseName;
                                r.a[l + "/" + c] && (e[0].workoutSteps[i].workoutSteps[a].exerciseNavigationIndex = t,
                                e[0].workoutSteps[i].workoutSteps[a].exerciseSourceId = r.a[l + "/" + c],
                                e[0].workoutSteps[i].workoutSteps[a].workoutProvider = "MSN",
                                t++)
                            }
                    else {
                        var h = e[0].workoutSteps[i].category
                          , d = e[0].workoutSteps[i].exerciseName;
                        r.a[h + "/" + d] && (e[0].workoutSteps[i].exerciseNavigationIndex = t,
                        e[0].workoutSteps[i].exerciseSourceId = r.a[h + "/" + d],
                        e[0].workoutSteps[i].workoutProvider = "MSN",
                        t++)
                    }
            },
            removeExerciseNavigation: function() {
                for (var e = this.get("workoutSegments"), t = 0; t < e[0].workoutSteps.length; t++)
                    if (e[0].workoutSteps[t].workoutSteps)
                        for (var i = 0; i < e[0].workoutSteps[t].workoutSteps.length; i++)
                            if (e[0].workoutSteps[t].workoutSteps[i].workoutSteps)
                                for (var a = 0; a < e[0].workoutSteps[t].workoutSteps[i].workoutSteps[a].length; a++)
                                    delete e[0].workoutSteps[t].workoutSteps[i].workoutSteps[a].exerciseNavigationIndex;
                            else
                                delete e[0].workoutSteps[t].workoutSteps[i].exerciseNavigationIndex;
                    else
                        delete e[0].workoutSteps[t].exerciseNavigationIndex
            }
        });
        t.a = s
    },
    1389: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4);
        t.a = s.a.Model.extend({
            url: "/web-data/exercises/Exercises.json",
            flattenExerciseTypes: function(e) {
                var t = [];
                return n.a.mapObject(this.get("categories"), function(e, i) {
                    var a = !1;
                    n.a.mapObject(e.exercises, function(e, n) {
                        i === n && (a = !0),
                        t.push({
                            exerciseName: o.a.localize("exercise_type_" + n),
                            isBodyWeight: e.isBodyWeight,
                            counterpart: e.counterpart,
                            exerciseKey: n,
                            exerciseCategory: i
                        })
                    }),
                    a || t.push({
                        exerciseName: o.a.localize("category_type_" + i),
                        isBodyWeight: null,
                        counterpart: null,
                        exerciseKey: null,
                        exerciseCategory: i
                    })
                }),
                t.sort(function(t, i) {
                    var a = t.exerciseName.toLowerCase()
                      , n = i.exerciseName.toLowerCase();
                    return a.localeCompare(n, e, {
                        sensitivity: "base",
                        ignorePunctuation: !0
                    })
                }),
                t
            }
        })
    },
    1398: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(1309)
          , l = i(353);
        function c(e, t) {
            if (function(e) {
                if (n.a.isEmpty(e.criteria))
                    throw "GearFilterCriteriaDTO must include a User Profile PK or Activity ID";
                if (!1 === n.a.has(e.criteria, "userProfilePk") && !1 === n.a.has(e.criteria, "activityId"))
                    throw "GearFilterCriteriaDTO must include a User Profile PK or Activity ID"
            }(t),
            t.criteria) {
                var i = new l.a;
                e.queryString = i.convertObjectToQueryString(t.criteria)
            }
        }
        var h = s.a.Collection.extend({
            model: o.a,
            initialize: function(e, t) {
                c(this, t)
            },
            url: function() {
                return "/proxy/gear-service/gear/filterGear" + this.queryString
            }
        });
        t.a = h
    },
    1400: function(e, t, i) {
        "use strict";
        var a = function() {
            return this
        };
        a.prototype.fetch = function() {}
        ,
        t.a = a
    },
    1403: function(e, t, i) {
        var a, n;
        n = function(e) {
            !function(e) {
                var t = e.defaultOptions
                  , i = e.doc
                  , a = e.Chart
                  , n = e.addEvent
                  , r = e.removeEvent
                  , s = e.fireEvent
                  , o = e.createElement
                  , l = e.discardElement
                  , c = e.css
                  , h = e.merge
                  , d = e.pick
                  , p = e.each
                  , u = e.objectEach
                  , m = e.extend
                  , g = e.isTouchDevice
                  , f = e.win
                  , v = f.navigator.userAgent
                  , y = e.Renderer.prototype.symbols;
                /Edge\/|Trident\/|MSIE /.test(v),
                /firefox/i.test(v),
                m(t.lang, {
                    printChart: "Print chart",
                    downloadPNG: "Download PNG image",
                    downloadJPEG: "Download JPEG image",
                    downloadPDF: "Download PDF document",
                    downloadSVG: "Download SVG vector image",
                    contextButtonTitle: "Chart context menu"
                }),
                t.navigation = {
                    buttonOptions: {
                        theme: {},
                        symbolSize: 14,
                        symbolX: 12.5,
                        symbolY: 10.5,
                        align: "right",
                        buttonSpacing: 3,
                        height: 22,
                        verticalAlign: "top",
                        width: 24
                    }
                },
                h(!0, t.navigation, {
                    menuStyle: {
                        border: "1px solid #999999",
                        background: "#ffffff",
                        padding: "5px 0"
                    },
                    menuItemStyle: {
                        padding: "0.5em 1em",
                        background: "none",
                        color: "#333333",
                        fontSize: g ? "14px" : "11px",
                        transition: "background 250ms, color 250ms"
                    },
                    menuItemHoverStyle: {
                        background: "#335cad",
                        color: "#ffffff"
                    },
                    buttonOptions: {
                        symbolFill: "#666666",
                        symbolStroke: "#666666",
                        symbolStrokeWidth: 3,
                        theme: {
                            fill: "#ffffff",
                            stroke: "none",
                            padding: 5
                        }
                    }
                }),
                t.exporting = {
                    type: "image/png",
                    url: "https://export.highcharts.com/",
                    printMaxWidth: 780,
                    scale: 2,
                    buttons: {
                        contextButton: {
                            className: "highcharts-contextbutton",
                            menuClassName: "highcharts-contextmenu",
                            symbol: "menu",
                            titleKey: "contextButtonTitle",
                            menuItems: "printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")
                        }
                    },
                    menuItemDefinitions: {
                        printChart: {
                            textKey: "printChart",
                            onclick: function() {
                                this.print()
                            }
                        },
                        separator: {
                            separator: !0
                        },
                        downloadPNG: {
                            textKey: "downloadPNG",
                            onclick: function() {
                                this.exportChart()
                            }
                        },
                        downloadJPEG: {
                            textKey: "downloadJPEG",
                            onclick: function() {
                                this.exportChart({
                                    type: "image/jpeg"
                                })
                            }
                        },
                        downloadPDF: {
                            textKey: "downloadPDF",
                            onclick: function() {
                                this.exportChart({
                                    type: "application/pdf"
                                })
                            }
                        },
                        downloadSVG: {
                            textKey: "downloadSVG",
                            onclick: function() {
                                this.exportChart({
                                    type: "image/svg+xml"
                                })
                            }
                        }
                    }
                },
                e.post = function(e, t, a) {
                    var n = o("form", h({
                        method: "post",
                        action: e,
                        enctype: "multipart/form-data"
                    }, a), {
                        display: "none"
                    }, i.body);
                    u(t, function(e, t) {
                        o("input", {
                            type: "hidden",
                            name: t,
                            value: e
                        }, null, n)
                    }),
                    n.submit(),
                    l(n)
                }
                ,
                m(a.prototype, {
                    sanitizeSVG: function(e, t) {
                        if (t && t.exporting && t.exporting.allowHTML) {
                            var i = e.match(/<\/svg>(.*?$)/);
                            i && i[1] && (i = '<foreignObject x="0" y="0" width="' + t.chart.width + '" height="' + t.chart.height + '"><body xmlns="http://www.w3.org/1999/xhtml">' + i[1] + "</body></foreignObject>",
                            e = e.replace("</svg>", i + "</svg>"))
                        }
                        return e = e.replace(/zIndex="[^"]+"/g, "").replace(/symbolName="[^"]+"/g, "").replace(/jQuery[0-9]+="[^"]+"/g, "").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g, "url($2)").replace(/url\([^#]+#/g, "url(#").replace(/<svg /, '<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+\:)href=/g, " xlink:href=").replace(/\n/, " ").replace(/<\/svg>.*?$/, "</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g, '$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g, "\xa0").replace(/&shy;/g, "\xad"),
                        this.ieSanitizeSVG && (e = this.ieSanitizeSVG(e)),
                        e
                    },
                    getChartHTML: function() {
                        return this.container.innerHTML
                    },
                    getSVG: function(t) {
                        var a, n, r, c, d, u = h(this.options, t);
                        return n = o("div", null, {
                            position: "absolute",
                            top: "-9999em",
                            width: this.chartWidth + "px",
                            height: this.chartHeight + "px"
                        }, i.body),
                        r = this.renderTo.style.width,
                        d = this.renderTo.style.height,
                        r = u.exporting.sourceWidth || u.chart.width || /px$/.test(r) && parseInt(r, 10) || 600,
                        d = u.exporting.sourceHeight || u.chart.height || /px$/.test(d) && parseInt(d, 10) || 400,
                        m(u.chart, {
                            animation: !1,
                            renderTo: n,
                            forExport: !0,
                            renderer: "SVGRenderer",
                            width: r,
                            height: d
                        }),
                        u.exporting.enabled = !1,
                        delete u.data,
                        u.series = [],
                        p(this.series, function(e) {
                            (c = h(e.userOptions, {
                                animation: !1,
                                enableMouseTracking: !1,
                                showCheckbox: !1,
                                visible: e.visible
                            })).isInternal || u.series.push(c)
                        }),
                        p(this.axes, function(t) {
                            t.userOptions.internalKey || (t.userOptions.internalKey = e.uniqueKey())
                        }),
                        a = new e.Chart(u,this.callback),
                        t && p(["xAxis", "yAxis", "series"], function(e) {
                            var i = {};
                            t[e] && (i[e] = t[e],
                            a.update(i))
                        }),
                        p(this.axes, function(t) {
                            var i = e.find(a.axes, function(e) {
                                return e.options.internalKey === t.userOptions.internalKey
                            })
                              , n = (r = t.getExtremes()).userMin
                              , r = r.userMax;
                            i && (void 0 !== n && n !== i.min || void 0 !== r && r !== i.max) && i.setExtremes(n, r, !0, !1)
                        }),
                        r = a.getChartHTML(),
                        s(this, "getSVG", {
                            chartCopy: a
                        }),
                        r = this.sanitizeSVG(r, u),
                        u = null,
                        a.destroy(),
                        l(n),
                        r
                    },
                    getSVGForExport: function(e, t) {
                        var i = this.options.exporting;
                        return this.getSVG(h({
                            chart: {
                                borderRadius: 0
                            }
                        }, i.chartOptions, t, {
                            exporting: {
                                sourceWidth: e && e.sourceWidth || i.sourceWidth,
                                sourceHeight: e && e.sourceHeight || i.sourceHeight
                            }
                        }))
                    },
                    exportChart: function(t, i) {
                        i = this.getSVGForExport(t, i),
                        t = h(this.options.exporting, t),
                        e.post(t.url, {
                            filename: t.filename || "chart",
                            type: t.type,
                            width: t.width || 0,
                            scale: t.scale,
                            svg: i
                        }, t.formAttributes)
                    },
                    print: function() {
                        var e, t, a = this, n = a.container, r = [], o = n.parentNode, l = i.body, c = l.childNodes, h = a.options.exporting.printMaxWidth;
                        a.isPrinting || (a.isPrinting = !0,
                        a.pointer.reset(null, 0),
                        s(a, "beforePrint"),
                        (t = h && a.chartWidth > h) && (e = [a.options.chart.width, void 0, !1],
                        a.setSize(h, void 0, !1)),
                        p(c, function(e, t) {
                            1 === e.nodeType && (r[t] = e.style.display,
                            e.style.display = "none")
                        }),
                        l.appendChild(n),
                        setTimeout(function() {
                            f.focus(),
                            f.print(),
                            setTimeout(function() {
                                o.appendChild(n),
                                p(c, function(e, t) {
                                    1 === e.nodeType && (e.style.display = r[t])
                                }),
                                a.isPrinting = !1,
                                t && a.setSize.apply(a, e),
                                s(a, "afterPrint")
                            }, 1e3)
                        }, 1))
                    },
                    contextMenu: function(t, a, r, s, l, h, d) {
                        var u, g = this, f = g.options.navigation, v = g.chartWidth, y = g.chartHeight, A = "cache-" + t, _ = g[A], b = Math.max(l, h);
                        _ || (g.exportContextMenu = g[A] = _ = o("div", {
                            className: t
                        }, {
                            position: "absolute",
                            zIndex: 1e3,
                            padding: b + "px",
                            pointerEvents: "auto"
                        }, g.fixedDiv || g.container),
                        u = o("div", {
                            className: "highcharts-menu"
                        }, null, _),
                        c(u, m({
                            MozBoxShadow: "3px 3px 10px #888",
                            WebkitBoxShadow: "3px 3px 10px #888",
                            boxShadow: "3px 3px 10px #888"
                        }, f.menuStyle)),
                        _.hideMenu = function() {
                            c(_, {
                                display: "none"
                            }),
                            d && d.setState(0),
                            g.openMenu = !1,
                            e.clearTimeout(_.hideTimer)
                        }
                        ,
                        g.exportEvents.push(n(_, "mouseleave", function() {
                            _.hideTimer = setTimeout(_.hideMenu, 500)
                        }), n(_, "mouseenter", function() {
                            e.clearTimeout(_.hideTimer)
                        }), n(i, "mouseup", function(e) {
                            g.pointer.inClass(e.target, t) || _.hideMenu()
                        }), n(_, "click", function() {
                            g.openMenu && _.hideMenu()
                        })),
                        p(a, function(t) {
                            var i;
                            ("string" === typeof t && (t = g.options.exporting.menuItemDefinitions[t]),
                            e.isObject(t, !0)) && (t.separator ? i = o("hr", null, null, u) : ((i = o("div", {
                                className: "highcharts-menu-item",
                                onclick: function(e) {
                                    e && e.stopPropagation(),
                                    _.hideMenu(),
                                    t.onclick && t.onclick.apply(g, arguments)
                                },
                                innerHTML: t.text || g.options.lang[t.textKey]
                            }, null, u)).onmouseover = function() {
                                c(this, f.menuItemHoverStyle)
                            }
                            ,
                            i.onmouseout = function() {
                                c(this, f.menuItemStyle)
                            }
                            ,
                            c(i, m({
                                cursor: "pointer"
                            }, f.menuItemStyle))),
                            g.exportDivElements.push(i))
                        }),
                        g.exportDivElements.push(u, _),
                        g.exportMenuWidth = _.offsetWidth,
                        g.exportMenuHeight = _.offsetHeight),
                        a = {
                            display: "block"
                        },
                        r + g.exportMenuWidth > v ? a.right = v - r - l - b + "px" : a.left = r - b + "px",
                        s + h + g.exportMenuHeight > y && "top" !== d.alignOptions.verticalAlign ? a.bottom = y - s - b + "px" : a.top = s + h - b + "px",
                        c(_, a),
                        g.openMenu = !0
                    },
                    addButton: function(e) {
                        var t, i, a = this, n = a.renderer, r = h(a.options.navigation.buttonOptions, e), s = r.onclick, o = r.menuItems, l = r.symbolSize || 12;
                        if (a.btnCount || (a.btnCount = 0),
                        a.exportDivElements || (a.exportDivElements = [],
                        a.exportSVGElements = []),
                        !1 !== r.enabled) {
                            var c, p = r.theme, u = (g = p.states) && g.hover, g = g && g.select;
                            delete p.states,
                            s ? c = function(e) {
                                e && e.stopPropagation(),
                                s.call(a, e)
                            }
                            : o && (c = function(e) {
                                e && e.stopPropagation(),
                                a.contextMenu(i.menuClassName, o, i.translateX, i.translateY, i.width, i.height, i),
                                i.setState(2)
                            }
                            ),
                            r.text && r.symbol ? p.paddingLeft = d(p.paddingLeft, 25) : r.text || m(p, {
                                width: r.width,
                                height: r.height,
                                padding: 0
                            }),
                            (i = n.button(r.text, 0, 0, c, p, u, g).addClass(e.className).attr({
                                "stroke-linecap": "round",
                                title: d(a.options.lang[r._titleKey || r.titleKey], "")
                            })).menuClassName = e.menuClassName || "highcharts-menu-" + a.btnCount++,
                            r.symbol && (t = n.symbol(r.symbol, r.symbolX - l / 2, r.symbolY - l / 2, l, l, {
                                width: l,
                                height: l
                            }).addClass("highcharts-button-symbol").attr({
                                zIndex: 1
                            }).add(i)).attr({
                                stroke: r.symbolStroke,
                                fill: r.symbolFill,
                                "stroke-width": r.symbolStrokeWidth || 1
                            }),
                            i.add(a.exportingGroup).align(m(r, {
                                width: i.width,
                                x: d(r.x, a.buttonOffset)
                            }), !0, "spacingBox"),
                            a.buttonOffset += (i.width + r.buttonSpacing) * ("right" === r.align ? -1 : 1),
                            a.exportSVGElements.push(i, t)
                        }
                    },
                    destroyExport: function(t) {
                        var i = t ? t.target : this;
                        t = i.exportSVGElements;
                        var a, n = i.exportDivElements, s = i.exportEvents;
                        t && (p(t, function(e, t) {
                            e && (e.onclick = e.ontouchstart = null,
                            a = "cache-" + e.menuClassName,
                            i[a] && delete i[a],
                            i.exportSVGElements[t] = e.destroy())
                        }),
                        t.length = 0),
                        i.exportingGroup && (i.exportingGroup.destroy(),
                        delete i.exportingGroup),
                        n && (p(n, function(t, a) {
                            e.clearTimeout(t.hideTimer),
                            r(t, "mouseleave"),
                            i.exportDivElements[a] = t.onmouseout = t.onmouseover = t.ontouchstart = t.onclick = null,
                            l(t)
                        }),
                        n.length = 0),
                        s && (p(s, function(e) {
                            e()
                        }),
                        s.length = 0)
                    }
                }),
                y.menu = function(e, t, i, a) {
                    return ["M", e, t + 2.5, "L", e + i, t + 2.5, "M", e, t + a / 2 + .5, "L", e + i, t + a / 2 + .5, "M", e, t + a - 1.5, "L", e + i, t + a - 1.5]
                }
                ,
                a.prototype.renderExporting = function() {
                    var e = this
                      , t = e.options.exporting
                      , i = t.buttons
                      , a = e.isDirtyExporting || !e.exportSVGElements;
                    e.buttonOffset = 0,
                    e.isDirtyExporting && e.destroyExport(),
                    a && !1 !== t.enabled && (e.exportEvents = [],
                    e.exportingGroup = e.exportingGroup || e.renderer.g("exporting-group").attr({
                        zIndex: 3
                    }).add(),
                    u(i, function(t) {
                        e.addButton(t)
                    }),
                    e.isDirtyExporting = !1),
                    n(e, "destroy", e.destroyExport)
                }
                ,
                n(a, "init", function() {
                    var e = this;
                    p(["exporting", "navigation"], function(t) {
                        e[t] = {
                            update: function(i, a) {
                                e.isDirtyExporting = !0,
                                h(!0, e.options[t], i),
                                d(a, !0) && e.redraw()
                            }
                        }
                    })
                }),
                a.prototype.callbacks.push(function(e) {
                    e.renderExporting(),
                    n(e, "redraw", e.renderExporting)
                })
            }(e)
        }
        ,
        "object" === typeof e && e.exports ? e.exports = n : void 0 === (a = function() {
            return n
        }
        .call(t, i, t, e)) || (e.exports = a)
    },
    1409: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(37)
          , c = i(64)
          , h = i(1705)
          , d = i.n(h)
          , p = i(1706)
          , u = i.n(p)
          , m = i(1707)
          , g = i.n(m)
          , f = i(1708)
          , v = i.n(f)
          , y = i(1709)
          , A = i.n(y)
          , _ = i(1710)
          , b = i.n(_)
          , C = i(1711)
          , w = i.n(C)
          , x = i(1712)
          , S = i.n(x)
          , T = i(1713)
          , E = i.n(T)
          , L = i(1714)
          , k = i.n(L)
          , P = i(1715)
          , z = i.n(P)
          , I = s.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(e.templateHtml),
                this.additionalData = e.additionalData
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: o.a,
                    additionalData: this.additionalData
                }))
            }
        })
          , D = l.a.extend({
            initialize: function(e) {
                if (!e.key)
                    throw "Key required for ModalHelpView";
                this.additionalData = e.additionalData || {},
                e.view = new I({
                    templateHtml: this.getTemplate(e.key),
                    additionalData: this.additionalData
                }),
                e.showFooter = !1,
                e.modalTitle || (e.modalTitle = this.getModalTitle(e.key)),
                null === e.modalTitle && (e.modalTitle = o.a.localize("help.running.dynamics.modal.title", this.getModalTitle(e.key))),
                l.a.prototype.initialize.call(this, e)
            },
            getTemplate: function(e) {
                switch (e) {
                case "directDoubleCadence":
                    return d.a;
                case "directGroundContactTime":
                    return g.a;
                case "directGroundContactTimeBalance":
                    return v.a;
                case "directVerticalOscillation":
                    return u.a;
                case "directVerticalRatio":
                    return A.a;
                case "directActivityClass":
                    return b.a;
                case "directPerformanceCondition":
                    return w.a;
                case "vectorAirDragWattsPerCdA":
                case "vectorAirDragCdA":
                    return S.a;
                case "directGrit":
                    return this.additionalData.ActivitiesUtil = c.a,
                    k.a;
                case "directRespirationRate":
                    return E.a;
                case "directFlow":
                    return this.additionalData.ActivitiesUtil = c.a,
                    z.a;
                default:
                    return o.a.localize(e)
                }
            },
            getModalTitle: function(e) {
                switch (e) {
                case "directDoubleCadence":
                    return o.a.localize("label_cadence");
                case "directGroundContactTime":
                    return o.a.localize("ACTIVITY_GROUND_CONTACT_TIME");
                case "directGroundContactTimeBalance":
                    return o.a.localize("help.running.dynamics.gct.balance");
                case "directVerticalOscillation":
                    return o.a.localize("ACTIVITY_VERTICAL_OSCILLATION");
                case "directVerticalRatio":
                    return o.a.localize("help.running.dynamics.vert.ratio");
                case "directPerformanceCondition":
                    return o.a.localize("help.performance.condition");
                case "vectorAirDragWattsPerCdA":
                case "vectorAirDragCdA":
                    return o.a.localize("help_vector_air_drag_cda");
                case "directGrit":
                    return o.a.localize("help.title");
                case "directFlow":
                case "directRespirationRate":
                    return o.a.localize("help.title");
                default:
                    return o.a.localize(e)
                }
            }
        });
        t.a = D
    },
    1410: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = {
            Paused: "paused",
            Playing: "playing"
        }
          , r = i.n(a).a.Model.extend({
            defaults: {
                x: 0,
                mode: n.Paused,
                xAxis: "sumDuration",
                min: 0,
                max: 9999999999
            },
            initialize: function(e) {
                this.on("change:max", this.onMaxChanged, this),
                this.on("change:min", this.onMinChanged, this),
                this.startFromBeginningOnNextStart = !1
            },
            togglePlayback: function() {
                this.get("mode") == n.Playing ? this.stopPlaying() : this.startPlaying()
            },
            startPlaying: function() {
                if (this.get("mode") != n.Playing) {
                    this.startFromBeginningOnNextStart && this.set("x", this.get("min"), {
                        silent: !0
                    }),
                    this.startFromBeginningOnNextStart = !1,
                    this.set("mode", n.Playing),
                    this.initPlayer();
                    var e = this;
                    this.timer = setInterval(function() {
                        e.run()
                    }, 0)
                }
            },
            initPlayer: function() {
                this.playbackStart = (new Date).getTime(),
                this.startValue = this.get("x"),
                this.loops = 0,
                this.skipTicks = 1e3 / 30,
                this.maxFrameSkip = 10,
                this.nextGameTick = (new Date).getTime()
            },
            stopPlaying: function() {
                clearInterval(this.timer),
                this.timer = null,
                this.set("mode", n.Paused)
            },
            onMaxChanged: function() {
                this.reset()
            },
            onMinChanged: function() {
                this.reset()
            },
            reset: function() {
                this.stopPlaying(),
                this.set("x", this.get("min"), {
                    silent: !0
                }),
                this.calculateStep()
            },
            calculateStep: function() {
                var e = this.get("max") - this.get("min");
                this.step = e > 0 ? e / 15e3 : 0
            },
            update: function() {
                var e = (new Date).getTime()
                  , t = this.startValue + (e - this.playbackStart) * this.step;
                t >= this.get("max") ? (t = this.get("max"),
                this.startFromBeginningOnNextStart = !0,
                this.stopPlaying(),
                this.set("x", t)) : this.set("x", t, {
                    silent: !0
                })
            },
            draw: function() {
                this.trigger("change:x")
            },
            run: function() {
                for (this.loops = 0; (new Date).getTime() > this.nextGameTick && this.loops < this.maxFrameSkip && this.timer; )
                    this.update(),
                    this.nextGameTick += this.skipTicks,
                    this.loops++;
                this.draw()
            }
        });
        r.Modes = n,
        t.a = r
    },
    1420: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = (i(13),
        {
            SAVE_SUCCSS: "SAVE_SUCCESS",
            SAVE_ERROR: "SAVE_ERROR"
        })
          , l = s.a.Model.extend({
            idAttribute: "activityId",
            url: function() {
                return "/modern/proxy/activity-service/activity/" + this.activityId + "/exerciseSets"
            },
            initialize: function(e) {
                if ("undefined" === typeof e.activityId)
                    throw "RepCountingActivity requires an activity ID";
                this.activityId = e.activityId
            },
            getTotalTime: function() {
                var e = this.get("exerciseSets")
                  , t = 0;
                if (e)
                    for (var i = 0, a = e.length; i < a; i++)
                        t += e[i].duration;
                return t
            },
            getAverageTimePerActiveExercise: function() {
                var e = this.get("exerciseSets")
                  , t = 0
                  , i = 0;
                if (e) {
                    for (var a = 0, n = e.length; a < n; a++)
                        "REST" !== e[a].setType && (t += e[a].duration,
                        i++);
                    return t > 0 && i > 0 ? t / i : null
                }
                return null
            },
            getWorkTime: function() {
                var e = this.get("exerciseSets")
                  , t = 0;
                if (e)
                    for (var i = 0, a = e.length; i < a; i++)
                        "REST" !== e[i].setType && (t += e[i].duration);
                return t
            },
            getRestTime: function() {
                var e = this.get("exerciseSets")
                  , t = 0;
                if (e)
                    for (var i = 0, a = e.length; i < a; i++)
                        "REST" === e[i].setType && (t += e[i].duration);
                return t
            },
            getActiveSetCount: function() {
                var e = this.get("exerciseSets")
                  , t = 0;
                if (e)
                    for (var i = 0, a = e.length; i < a; i++)
                        "REST" !== e[i].setType && t++;
                else
                    t += 1;
                return t
            },
            getTotalRepCount: function() {
                var e = this.get("exerciseSets")
                  , t = 0;
                if (e)
                    for (var i = 0, a = e.length; i < a; i++)
                        "REST" !== e[i].setType && (t += e[i].repetitionCount);
                return t
            },
            getTotalVolume: function() {
                var e, t = this.get("exerciseSets"), i = 0;
                if (t)
                    for (var a = 0, n = t.length; a < n; a++)
                        "REST" !== (e = t[a]).setType && e.weight > 0 && (i += e.weight * e.repetitionCount);
                return i
            },
            getConsolidatedJSON: function() {
                var e = this.get("exerciseSets")
                  , t = []
                  , i = this;
                return n.a.each(e, function(e) {
                    "REST" === e.setType ? t.length > 0 && (t[t.length - 1].rest || (t[t.length - 1].rest = 0),
                    t[t.length - 1].rest += e.duration) : (e.exerciseType = i.getExerciseType(e.exercises),
                    t.push(e))
                }),
                t
            },
            getExerciseType: function(e) {
                var t = "choose_an_exercise"
                  , i = 0;
                return e && e.length > 0 && n.a.each(e, function(e) {
                    e.probability > i && (i = e.probability,
                    e.name ? t = e.name : "UNKNOWN" !== e.category ? t = null : "UNKNOWN" === e.category && (i = 24.9999999999))
                }),
                t
            },
            getEmptySetJSON: function(e) {
                return {
                    startTimeGMT: "",
                    duration: e || "",
                    exerciseType: "choose_an_exercise",
                    repCount: "",
                    weight: "",
                    exercises: [],
                    rest: ""
                }
            },
            splitEditResults: function(e) {
                for (var t = [], i = null, a = 0; a < e.length; a++)
                    n.a.isUndefined(e[a].rest) || 0 === e[a].rest ? (i = null,
                    delete e[a].rest) : (i = this.createRestSet(e[a].rest),
                    delete e[a].rest),
                    t.push(e[a]),
                    i && t.push(i);
                this.set({
                    exerciseSets: t
                }),
                this.once("sync", this.saveSuccess, this),
                this.once("error", this.saveError, this),
                this.save()
            },
            createRestSet: function(e) {
                return {
                    setType: "REST",
                    duration: e,
                    exercises: [],
                    repetitionCount: null,
                    weight: -1,
                    startTime: null
                }
            },
            saveSuccess: function() {
                this.trigger(o.SAVE_SUCCSS),
                this.off("error")
            },
            saveError: function() {
                this.trigger(o.SAVE_ERROR),
                this.off("sync")
            }
        });
        l.UNKNOWN_PROBABILITY_OVERRIDE = 24.9999999999,
        l.Events = o,
        t.a = l
    },
    1421: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(1221)
              , n = i.n(a).a.TileLayer.extend({
                getTileUrl: function(t) {
                    var i = e.Map.Utils.getHeatMapUrls(t.x, t.y, t.z);
                    return this.getHeatMapUrl(i)
                },
                getHeatMapUrl: function(e) {}
            });
            t.a = n
        }
        ).call(this, i(1242))
    },
    1424: function(e, t, i) {
        "use strict";
        var a = i(1236)
          , n = function(e) {
            return this.transitMode = null,
            this.updateTransitionMode(e.transitMode || null),
            this
        };
        n.prototype.fetch = function() {}
        ,
        n.prototype.updateTransitionMode = function(e) {
            e && e.parent ? this.transitMode = "cycling" === e.parent ? a.a.TRANSIT_MODE.CYCLING : a.a.TRANSIT_MODE.PEDESTRIAN : this.transitMode = a.a.TRANSIT_MODE.PEDESTRIAN
        }
        ,
        t.a = n
    },
    1425: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            url: "/web-data/climb-difficulty/climb-difficulty-master.json"
        })
    },
    1434: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(129)
              , l = {
                LACTATE_THRESHOLD: "LACTATE_THRESHOLD",
                HR_RESERVE: "HR_RESERVE",
                HR_MAX: "HR_MAX"
            }
              , c = s.a.Model.extend({
                url: function() {
                    return "/proxy/biometric-service/heartRateZones/"
                },
                initialize: function(e) {
                    this.currentDeviceSupportedZones = ["DEFAULT"],
                    this._resetChangedSports()
                },
                changedSports: [],
                save: function(t, i) {
                    if (!this.changedSports.length)
                        return !0;
                    var a = this
                      , n = e.Deferred()
                      , r = {
                        url: this.url(),
                        contentType: "application/json; charset=UTF-8",
                        type: "PUT",
                        data: JSON.stringify(this.changedSports),
                        success: function(e, t, i) {
                            return a._resetChangedSports(),
                            n.resolve(e)
                        },
                        error: function(e, t, i) {
                            return a._resetChangedSports(),
                            n.reject(t)
                        }
                    };
                    return s.a.Model.prototype.save.call(this, t, r),
                    n.promise()
                },
                remove: function(e) {
                    var t = this.findBySport(e);
                    this._updateChangedSports(t, "DELETED");
                    var i = this.findKey(function(t) {
                        return t.sport === e
                    });
                    i && delete this.attributes[i]
                },
                replaceHRZone: function(e, t, i) {
                    var a = this.findKey(function(t) {
                        return t.sport === e.sport
                    });
                    this._updateChangedSports(e, i ? "NEW" : "CHANGED"),
                    a ? this.attributes[a] = e : t && (this.attributes[Object.keys(this.attributes).length] = e)
                },
                findKey: function(e) {
                    var t, i = this;
                    return Object.keys(this.attributes).forEach(function(a, n) {
                        i.attributes[a] && e(i.attributes[a]) && (t = a)
                    }),
                    t
                },
                findBySport: function(e) {
                    var t, i = this.findKey(function(t) {
                        return t && t.sport === e
                    });
                    return i && (t = this.attributes[i]),
                    t
                },
                add: function(e) {
                    this.replaceHRZone(e, !0, !0)
                },
                _updateChangedSports: function(e, t) {
                    var i = n.a.findIndex(this.changedSports, function(t) {
                        return t.sport === e.sport
                    });
                    -1 !== i ? "NEW" === t && "DELETED" === this.changedSports[i].changeState ? (e.changeState = "CHANGED",
                    this.changedSports[i] = e) : "DELETED" === t && "NEW" === this.changedSports[i].changeState ? this.changedSports.splice(i, 1) : ("CHANGED" === t && "NEW" === this.changedSports[i].changeState ? e.changeState = "NEW" : e.changeState = t,
                    this.changedSports[i] = e) : (e.changeState = t,
                    this.changedSports.push(e))
                },
                _resetChangedSports: function() {
                    this.changedSports = []
                },
                validate: function(e, t) {
                    var i, a, r = !0, s = this;
                    return Object.keys(this.attributes).forEach(function(e, t) {
                        s.attributes[e] && !s._isValid(s.attributes[e]) && (r = !1,
                        a = s.attributes[e].sport,
                        n.a.indexOf(s.currentDeviceSupportedZones, a) < 0 && (i = s.findBySport("DEFAULT")) && (s.attributes[e] = n.a.extend({}, i),
                        s.attributes[e].sport = a,
                        r = !0))
                    }),
                    r ? void 0 : "Not valid"
                },
                _isValid: function(e) {
                    var t = Number(e.zone1Floor)
                      , i = Number(e.zone2Floor)
                      , a = Number(e.zone3Floor)
                      , n = Number(e.zone4Floor)
                      , r = Number(e.zone5Floor)
                      , s = Number(e.maxHeartRateUsed)
                      , c = !1;
                    switch (e.trainingMethod) {
                    case l.HR_RESERVE:
                        e.lactateThresholdHeartRateUsed = null,
                        c = Number(e.restingHeartRateUsed) >= o.a.MIN_RESTING_HEART_RATE && s >= o.a.MAX_HEART_RATE_MIN && s <= o.a.MAX_HEART_RATE_MAX;
                        break;
                    case l.LACTATE_THRESHOLD:
                        e.restingHeartRateUsed = null,
                        c = Number(e.lactateThresholdHeartRateUsed) > o.a.MIN_LACTATE_THRESHOLD_HEART_RATE && s >= o.a.MAX_HEART_RATE_MIN && s <= o.a.MAX_HEART_RATE_MAX;
                        break;
                    case l.HR_MAX:
                        e.lactateThresholdHeartRateUsed = null,
                        e.restingHeartRateUsed = null,
                        c = s >= o.a.MAX_HEART_RATE_MIN && s <= o.a.MAX_HEART_RATE_MAX
                    }
                    return c = !!(c && t < i && i < a && a < n && n < r && r < s)
                },
                getData: function() {
                    var e = []
                      , t = this;
                    return Object.keys(this.attributes).forEach(function(i, a) {
                        t.attributes[i] && e.push(t.attributes[i])
                    }),
                    e
                },
                getZones: function(e) {
                    var t = []
                      , i = this.findBySport(e)
                      , a = 1;
                    return i && n.a.each(i, function(e, i) {
                        /zone/.test(i) && (t.push({
                            zoneNumber: a,
                            value: e
                        }),
                        a += 1)
                    }),
                    t
                },
                getMaxHeartRate: function(e) {
                    var t = this.findBySport(e);
                    return t ? t.maxHeartRateUsed : o.a.MAX_HEART_RATE_DEFAULT
                },
                setDeviceSupportedZones: function(e) {
                    this.currentDeviceSupportedZones = this.currentDeviceSupportedZones.concat(e)
                }
            });
            c.TrainingMethods = l,
            t.a = c
        }
        ).call(this, i(10))
    },
    1435: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = (i(4),
        i(101))
          , l = i(1518)
          , c = i.n(l);
        t.a = s.a.View.extend({
            template: n.a.template(c.a),
            initialize: function(e) {
                if (this.reactComponent = e.reactComponent,
                !this.reactComponent)
                    throw Error("reactComponent is required!");
                this.additionalClasses = e.additionalClasses || "",
                this.args = e
            },
            render: function() {
                return this.$el.html(this.template({
                    additionalClasses: this.additionalClasses
                })),
                this.r = new o.a,
                this.r.renderComponent(this.reactComponent, this.$(".react-placeholder")[0], this.args.props),
                this
            },
            destroy: function() {
                this.r && this.r.removeComponent()
            }
        })
    },
    1444: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(8)
              , r = i.n(n)
              , s = i(4)
              , o = i(280)
              , l = i(1542)
              , c = i(1598)
              , h = i(165)
              , d = i(1741)
              , p = i.n(d)
              , u = {
                ON_RENDERED: "ON_RENDERED",
                ON_NEW_COMMENT: "ON_NEW_COMMENT",
                ON_CLOSE: "ON_CLOSE"
            }
              , m = r.a.View.extend({
                events: {
                    "click .show-previous-comments": "onShowMoreButtonClicked"
                },
                initialize: function(t) {
                    if (this.$commentSet = null,
                    this.initializePageCommentsView(t),
                    "undefined" === typeof t.viewerDisplayName)
                        throw "Viewer Display Name is required.";
                    this.showLikes = !0,
                    this.showHeader = !0,
                    this.viewerDisplayName = t.viewerDisplayName,
                    "undefined" !== typeof t.showHeader && (this.showHeader = t.showHeader),
                    "undefined" !== typeof t.showLikes && (this.showLikes = t.showLikes),
                    "undefined" !== typeof t.isChallengeCommentDisabled && (this.isChallengeCommentDisabled = t.isChallengeCommentDisabled),
                    this.isChallengeCommentDisabled && (this.showLikes = !1),
                    this.template = e.template(p.a),
                    this.collection || (this.collection = new o.a([],{
                        resourceType: this.conversation.resourceType,
                        resourceId: this.conversation.resourceId,
                        userGroupPk: this.conversation.userGroupPk,
                        conversation: this.conversation,
                        startRowNum: 0,
                        limit: 10
                    }),
                    this.collection.once("sync", function() {
                        this.render()
                    }, this),
                    this.collection.fetch())
                },
                initializePageCommentsView: function(e) {
                    if ("undefined" === typeof e.conversation)
                        throw "Conversation is required.";
                    this.conversation = e.conversation
                },
                render: function() {
                    this.showLockedText = !1,
                    this.collection.length > 0 && this.isChallengeCommentDisabled && (this.showLockedText = !0);
                    var e = this.template({
                        showHeader: this.showHeader,
                        isChallengeCommentDisabled: this.isChallengeCommentDisabled,
                        showLockedText: this.showLockedText,
                        Localizer: s.a
                    });
                    this.$el.html(e),
                    this.$commentSet = this.$(".comment-item");
                    var t = this;
                    this.$commentSet.on("scroll", function(e) {
                        t.onCommentsScrolled()
                    }),
                    this.isChallengeCommentDisabled ? this.$(".add.comment").removeClass("background-3") : this.renderAddCommentView(),
                    this.collection.each(function(e) {
                        this.createCommentView(e)
                    }, this),
                    this.collection.length > 0 && this.collection.hasMoreMembers() && this.$(".show-previous-comments").show()
                },
                renderAddCommentView: function() {
                    this.addCommentView = new l.a({
                        conversation: this.conversation,
                        resourceType: this.conversation.get("resourceType"),
                        resourceId: this.conversation.get("resourceId"),
                        el: this.$(".add.comment")
                    }),
                    this.addCommentView.on(l.a.Events.COMMENT_ADDED, this.onCommentAdded, this),
                    this.addCommentView.render()
                },
                onCommentAdded: function(e) {
                    this.collection.add(e),
                    this.createCommentView(e),
                    this.scrollToBottom(),
                    this.trigger(u.ON_NEW_COMMENT, this.conversation, e)
                },
                createCommentView: function(e) {
                    e.get("authorDisplayName");
                    var t = new c.a({
                        model: e,
                        conversation: this.conversation,
                        showLikes: this.showLikes
                    });
                    t.render(),
                    this.$commentSet.append(t.el)
                },
                onShowMoreButtonClicked: function(e) {
                    e.preventDefault(),
                    this.collection.once(h.a.Events.ON_MORE_MEMBERS_FETCHED, this.onFetchMoreSuccess, this),
                    this.collection.fetchNext()
                },
                onFetchMoreSuccess: function() {
                    this.render()
                },
                scrollToBottom: function() {
                    this.$commentSet.scrollTop(this.$commentSet.prop("scrollHeight"))
                },
                onCommentsScrolled: function(e) {
                    var t = a(".comment-item").scrollTop()
                      , i = a(".comment-item").innerHeight();
                    a(".comment-item")[0].scrollHeight - t == i ? a(".comment-fade-out").toggle(!1) : a(".comment-fade-out").toggle(!0)
                }
            });
            m.Events = u,
            t.a = m
        }
        ).call(this, i(7), i(10))
    },
    1454: function(e, t, i) {
        "use strict";
        var a = {
            determineMETS: function(e, t) {
                switch (e) {
                case "running":
                case "street_running":
                case "track_running":
                case "trail_running":
                case "virtual_run":
                case "obstacle_run":
                case "treadmill_running":
                case "indoor_running":
                    return !t || t < 5.2 ? 8 : t < 5.5 ? 9 : t < 5.7 ? 9.3 : t < 6 ? 9.7 : t < 6.3 ? 10 : t < 6.7 ? 10.5 : t < 7 ? 11 : t < 7.5 ? 11.5 : t < 8 ? 12.5 : t < 8.6 ? 13.5 : t < 9 ? 14 : t < 10 ? 15 : t < 10.9 ? 16 : 18;
                case "cycling":
                case "mountain_biking":
                    return t ? t < 10 ? 4 : t < 12 ? 6 : t < 14 ? 8 : t < 16 ? 10 : 12 : 8;
                case "cyclocross":
                case "downhill_biking":
                case "indoor_cycling":
                case "recumbent_cycling":
                case "road_biking":
                case "virtual_ride":
                case "gravel_cycling":
                case "track_cycling":
                    return t ? t < 10 ? 4 : t < 12 ? 6 : t < 14 ? 8 : t < 16 ? 10 : 12 : 8.5;
                case "driving_general":
                case "flying":
                case "rc_drone":
                    return 2;
                case "motorcycling":
                case "boating":
                case "yoga":
                    return 2.5;
                case "walking":
                case "casual_walking":
                case "sailing":
                case "steps":
                case "wind_kite_surfing":
                case "surfing":
                case "pilates":
                    return 3;
                case "snowmobiling_ws":
                case "sky_diving":
                case "hang_gliding":
                case "wingsuit_flying":
                    return 3.5;
                case "horseback_riding":
                case "motocross":
                case "atv":
                case "hunting_fishing":
                    return 4;
                case "golf":
                    return 4.5;
                case "elliptical":
                case "strength_training":
                case "speed_walking":
                case "whitewater_rafting_kayaking":
                    return 5;
                case "fitness_equipment":
                case "indoor_cardio":
                case "hiking":
                case "wakeboarding":
                    return 6;
                case "floor_climbing":
                    return 6.4;
                case "indoor_rowing":
                case "backcountry_skiing_snowboarding_ws":
                case "paddling":
                case "resort_skiing_snowboarding_ws":
                case "rowing":
                case "skate_skiing_ws":
                case "skating_ws":
                case "stand_up_paddleboarding":
                case "tennis":
                    return 7;
                case "cross_country_skiing_ws":
                case "snow_shoe_ws":
                    return 8;
                case "bmx":
                    return 8.5;
                case "stair_climbing":
                    return 9;
                case "swimming":
                case "lap_swimming":
                case "open_water_swimming":
                    return 6;
                case "rock_climbing":
                    return 11;
                case "inline_skating":
                    return 12;
                case "mountaineering":
                    return 16.5
                }
                return null
            },
            autoCalcCalories: function(e, t, i, n) {
                if (t && e && i) {
                    var r = i / 3600
                      , s = Math.round(n / r * .000621371192 * 10) / 10;
                    return Math.round(a.determineMETS(e, s) * t * r)
                }
                return null
            }
        };
        t.a = a
    },
    1458: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = i(4)
              , s = i(1498)
              , o = n.a.Collection.extend({
                model: s.a,
                url: "/proxy/activity-service/activity/eventTypes",
                findByTypeId: function(e) {
                    return this.find(function(t) {
                        return e == t.get("typeId")
                    })
                },
                findByTypeKey: function(e) {
                    return this.find(function(t) {
                        return e == t.get("typeKey")
                    })
                },
                toJSON: function() {
                    var t = n.a.Collection.prototype.toJSON.apply(this, arguments);
                    return e.reject(t, function(e) {
                        return "all" == e.typeKey
                    })
                },
                comparator: function(e, t) {
                    return r.a.localize(e.get("typeKey")).toLowerCase().localeCompare(r.a.localize(t.get("typeKey")).toLowerCase())
                }
            });
            t.a = o
        }
        ).call(this, i(7))
    },
    1459: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            getLatitude: function() {
                return this.get("latitude")
            },
            getLongitude: function() {
                return this.get("longitude")
            },
            setLatitude: function(e) {
                return this.set("latitude", e),
                this
            },
            setLongitude: function(e) {
                return this.set("longitude", e),
                this
            }
        })
    },
    1461: function(e, t, i) {
        "use strict";
        (function(e, a, n) {
            var r = i(7)
              , s = i.n(r)
              , o = i(8)
              , l = i.n(o)
              , c = i(4)
              , h = i(57)
              , d = i(1289)
              , p = i(1502)
              , u = i.n(p)
              , m = {
                ON_MAP_PROVIDER_CHANGED: "ON_MAP_PROVIDER_CHANGED",
                ON_CUSTOM_LAYER_CLICKED: "ON_CUSTOM_LAYER_CLICKED",
                ON_MAP_COORDINATE_SYSTEM_SELECTED: "ON_MAP_COORDINATE_SYSTEM_SELECTED"
            }
              , g = l.a.View.extend({
                events: {
                    'click [class^="map-provider-"]': "onMapProviderSelected",
                    'click [class^="map-type-"]': "onMapTypeSelected",
                    "click .map-layer-terrain": "onMapStyleTerrainSelected",
                    "click .map-layer-trails": "onMapStyleTrailsSelected",
                    "click .map-layer-labels": "onMapStyleLabelsSelected",
                    "click .map-layer-running-heatmap": "onMapStyleRunningHeatmapSelected",
                    "click .map-layer-cycling-heatmap": "onMapStyleCyclingHeatmapSelected",
                    "click .map-coordinate-system": "onMapCoordinateSystemSelected",
                    "click .zoomIn": "onZoomInClicked",
                    "click .zoomOut": "onZoomOutClicked",
                    "click .additional-layers": "onAdditionalLayersClicked"
                },
                initialize: function(e) {
                    if (!e.mapView)
                        throw "MapView object required by MapControls";
                    this.mapType = "road",
                    this.layersEnabled = [],
                    this.userMapSetting = e.userMapSetting,
                    this.mapView = e.mapView,
                    this.hideHeatMaps = e.hideHeatMaps,
                    this.template = s.a.template(u.a),
                    this.additionalMapLayers = e.additionalMapLayers || [],
                    this.mapView.once(d.a.Events.ON_MAP_READY, this.onMapReady, this)
                },
                onMapReady: function() {
                    this.userMapSetting && (this.mapType = this.userMapSetting.getMapType(),
                    this.mapView.changeMapStyle(this.mapType),
                    1 == this.userMapSetting.getTerrain() && this.mapView.hasTerrainSupport() && (this.mapType == e.Map.Utils.MAP_STYLE_ROAD && this.mapView.changeMapStyle(e.Map.Utils.MAP_STYLE_TERRAIN),
                    this.toggleLayerEnabled("terrain")),
                    1 == this.userMapSetting.getTrails() && this.mapView.hasTrailSupport() && (this.mapView.toggleBicycleLayer(!0),
                    this.toggleLayerEnabled("trails")),
                    1 == this.userMapSetting.getLabels() && (this.mapView.hasLabelSupport() && this.mapType == e.Map.Utils.MAP_STYLE_SATELLITE && this.mapView.changeMapStyle(e.Map.Utils.MAP_STYLE_HYBRID),
                    this.toggleLayerEnabled("labels")),
                    this.hideHeatMaps || (this.userMapSetting.getHeatMapsRunning() && this.mapView.hasHeatmapSupport() && (e.Map.Utils.activityType = "running",
                    this.mapView.enableHeatMaps(!0, "running"),
                    this.toggleLayerEnabled("running-heatmap")),
                    this.userMapSetting.getHeatMapsCycling() && this.mapView.hasHeatmapSupport() && (e.Map.Utils.activityType = "cycling",
                    this.mapView.enableHeatMaps(!0, "cycling"),
                    this.toggleLayerEnabled("cycling-heatmap"))));
                    this.render()
                },
                render: function() {
                    this.$el.html(this.template({
                        Localizer: c.a,
                        hideHeatMaps: this.hideHeatMaps,
                        additionalMapLayers: this.additionalMapLayers
                    }));
                    var t = this.mapProvider ? this.mapProvider : this.mapView.getMapProviderType();
                    (this.$(".map-provider-" + t).addClass("active"),
                    t === e.Map.Utils.PROVIDER_TYPE_OSM && (this.mapType = "road",
                    this.$(".map-type-satellite").hide()),
                    this.$(".map-type-" + this.mapType).addClass("active"),
                    s.a.each(this.layersEnabled, function(e) {
                        this.$(".map-layer-" + e).addClass("active multiple")
                    }, this),
                    this.mapType == e.Map.Utils.MAP_STYLE_ROAD && this.mapView.hasTerrainSupport() || this.$(".map-layer-terrain").addClass("disabled"),
                    this.mapView.hasTrailSupport() || this.$(".map-layer-trails").addClass("disabled"),
                    this.mapType == e.Map.Utils.MAP_STYLE_SATELLITE && this.mapView.hasLabelSupport() || this.$(".map-layer-labels").addClass("disabled"),
                    this.mapView.hasHeatmapSupport() || (this.$(".map-layer-running-heatmap").addClass("disabled"),
                    this.$(".map-layer-cycling-heatmap").addClass("disabled")),
                    this.mapView.disableBaidu()) ? this.$(".map-provider-BAIDU_V_1_4").remove() : -1 != window.location.href.indexOf("garmin.cn") && (this.$(".map-provider-google").remove(),
                    this.$(".map-provider-here").remove(),
                    this.$(".map-provider-osm").remove());
                    this.mapView.getMapProviderType() == e.Map.Utils.PROVIDER_TYPE_BAIDU && this.$(".map-coordinate-system").show()
                },
                onZoomInClicked: function(e) {
                    e.preventDefault(),
                    this.mapView.zoomIn()
                },
                onZoomOutClicked: function(e) {
                    e.preventDefault(),
                    this.mapView.zoomOut()
                },
                onMapProviderSelected: function(t) {
                    if (t.preventDefault(),
                    !this.$(t.currentTarget).hasClass("active")) {
                        var i = t.currentTarget.className.substring(13);
                        if (this.userMapSetting)
                            new h.a({
                                key: "map_provider_type",
                                value: i
                            }).save();
                        i === e.Map.Utils.PROVIDER_TYPE_OSM ? this.$(".map-type-satellite").hide() : this.$(".map-type-satellite").show(),
                        this.mapProvider = i,
                        this.trigger(m.ON_MAP_PROVIDER_CHANGED, i)
                    }
                },
                onMapTypeSelected: function(e) {
                    e.preventDefault();
                    var t = e.currentTarget.className.substring(9);
                    -1 == t.indexOf("active") && (this.userMapSetting && (this.userMapSetting.setMapType(t),
                    this.userMapSetting.save()),
                    this.mapType = t,
                    this.mapView.changeMapStyle(t),
                    this.isLayerEnabled("labels") && this.$(".map-layer-labels").hasClass("disabled") && (this.userMapSetting.setLabels(!0),
                    this.userMapSetting.save(),
                    setTimeout(function() {
                        this.mapView.enableLabels(!0)
                    }
                    .bind(this), 0))),
                    this.render()
                },
                onMapStyleTerrainSelected: function(e) {
                    if (e.preventDefault(),
                    !a(e.currentTarget).hasClass("disabled")) {
                        var t = !this.isLayerEnabled("terrain");
                        this.userMapSetting && (this.userMapSetting.setTerrain(t),
                        this.userMapSetting.save()),
                        this.mapView.enableTerrain(t),
                        this.toggleLayerEnabled("terrain"),
                        this.render()
                    }
                },
                onMapStyleTrailsSelected: function(e) {
                    if (e.preventDefault(),
                    !a(e.currentTarget).hasClass("disabled")) {
                        var t = !this.isLayerEnabled("trails");
                        this.userMapSetting && (this.userMapSetting.setTrails(t),
                        this.userMapSetting.save()),
                        this.mapView.enableTrails(t),
                        this.toggleLayerEnabled("trails"),
                        this.render()
                    }
                },
                onMapStyleLabelsSelected: function(e) {
                    if (e.preventDefault(),
                    !a(e.currentTarget).hasClass("disabled")) {
                        var t = !this.isLayerEnabled("labels");
                        this.userMapSetting && (this.userMapSetting.setLabels(t),
                        this.userMapSetting.save()),
                        this.mapView.enableLabels(t),
                        this.toggleLayerEnabled("labels"),
                        this.render()
                    }
                },
                onMapStyleRunningHeatmapSelected: function(e) {
                    if (e.preventDefault(),
                    !a(e.currentTarget).hasClass("disabled")) {
                        var t = !this.isLayerEnabled("running-heatmap");
                        this.userMapSetting && (this.userMapSetting.setHeatMapsRunning(t),
                        t && this.userMapSetting.setHeatMapsCycling(!t),
                        this.userMapSetting.save()),
                        this.mapView.enableHeatMaps(t, "running"),
                        this.toggleLayerEnabled("running-heatmap"),
                        1 == t && this.isLayerEnabled("cycling-heatmap") && this.toggleLayerEnabled("cycling-heatmap"),
                        this.render()
                    }
                },
                onMapStyleCyclingHeatmapSelected: function(e) {
                    if (e.preventDefault(),
                    !a(e.currentTarget).hasClass("disabled")) {
                        var t = !this.isLayerEnabled("cycling-heatmap");
                        this.userMapSetting && (this.userMapSetting.setHeatMapsCycling(t),
                        t && this.userMapSetting.setHeatMapsRunning(!t),
                        this.userMapSetting.save()),
                        this.mapView.enableHeatMaps(t, "cycling"),
                        this.toggleLayerEnabled("cycling-heatmap"),
                        1 == t && this.isLayerEnabled("running-heatmap") && this.toggleLayerEnabled("running-heatmap"),
                        this.render()
                    }
                },
                onMapCoordinateSystemSelected: function(e) {
                    e.preventDefault(),
                    this.trigger(m.ON_MAP_COORDINATE_SYSTEM_SELECTED)
                },
                onAdditionalLayersClicked: function(e) {
                    e.preventDefault();
                    var t = n(e.currentTarget)
                      , i = !t.hasClass("active")
                      , a = t.attr("data-layer-name");
                    n(".additional-layers").each(function(e, t) {
                        n(t).removeClass("active")
                    }),
                    i && t.addClass("active"),
                    this.trigger(m.ON_CUSTOM_LAYER_CLICKED, {
                        which: a,
                        selected: i
                    }),
                    s.a.each(this.additionalMapLayers, function(e) {
                        e.func && (e.value === a ? (e.func(i),
                        e.selected = i) : i && (e.func(!i),
                        e.selected = !i))
                    })
                },
                toggleLayerEnabled: function(e) {
                    s.a.find(this.layersEnabled, function(t) {
                        return t == e
                    }) ? this.layersEnabled = s.a.reject(this.layersEnabled, function(t) {
                        return t == e
                    }) : this.layersEnabled.push(e)
                },
                isLayerEnabled: function(e) {
                    return null != s.a.find(this.layersEnabled, function(t) {
                        return t == e
                    })
                },
                setTextForEnableDisableScrollButton: function(e) {
                    this.$(".map-control-item.scrolling").text(e)
                },
                hideScrollToggleButton: function() {
                    this.$(".map-control-item.scrolling").addClass("hide")
                },
                showScrollToggleButton: function() {
                    this.$(".map-control-item.scrolling").removeClass("hide")
                }
            });
            g.Events = m,
            t.a = g
        }
        ).call(this, i(1242), i(10), i(10))
    },
    1462: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(1649)
              , c = i.n(l)
              , h = {
                CHANGE: "CHANGE"
            }
              , d = s.a.View.extend({
                events: {
                    "click li": "onPrivacyOptionSelected"
                },
                initialize: function(e) {
                    n.a.bindAll(this, "onSaveSuccess"),
                    this.template = n.a.template(c.a),
                    this.privacy = e.privacy,
                    this.onlyMeConsent = e.onlyMeConsent,
                    this.connectionsConsent = e.connectionsConsent,
                    this.groupsConsent = e.groupsConsent,
                    this.everyoneConsent = e.everyoneConsent,
                    this.customConsentClass = e.customConsentClass
                },
                render: function() {
                    var t = this.template({
                        Localizer: o.a,
                        privacy: this.privacy,
                        onlyMeConsent: this.onlyMeConsent,
                        connectionsConsent: this.connectionsConsent,
                        groupsConsent: this.groupsConsent,
                        everyoneConsent: this.everyoneConsent,
                        customConsentClass: this.customConsentClass
                    });
                    this.$el.addClass("dropdown page-dropdown privacy-select"),
                    e(this.el).html(t),
                    this.$("[data-privacy='" + this.privacy + "']").addClass("active")
                },
                onPrivacyOptionSelected: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget).attr("data-privacy");
                    i && this.trigger(h.CHANGE, i)
                },
                onSaveSuccess: function(e) {
                    this.setPrivacy(e)
                },
                setPrivacy: function(e) {
                    this.privacy = e
                },
                getPrivacy: function() {
                    return this.privacy
                }
            });
            d.Events = h,
            t.a = d
        }
        ).call(this, i(10))
    },
    1463: function(e, t, i) {
        var a = i(1505);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(35)(a, n);
        a.locals && (e.exports = a.locals)
    },
    1486: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(1459)
          , l = s.a.Collection.extend({
            model: o.a,
            url: function() {
                return "/proxy/course-service/course/routes?startLat=" + this.startLat + "&startLon=" + this.startLon + "&endLat=" + this.endLat + "&endLon=" + this.endLon + "&courseType=" + this.courseType
            },
            initialize: function(e) {
                if (!e.startLat)
                    throw "startLat is required";
                if (!e.startLon)
                    throw "startLon is required";
                if (!e.endLat)
                    throw "endLat is required";
                if (!e.endLon)
                    throw "endLon is required";
                if (!e.courseType)
                    throw "courseType is required";
                this.startLat = e.startLat,
                this.startLon = e.startLon,
                this.endLat = e.endLat,
                this.endLon = e.endLon,
                this.courseType = e.courseType
            },
            parse: function(e) {
                if (e) {
                    var t = [];
                    return n.a.each(e, function(e) {
                        n.a.each(e, function(e) {
                            t.push({
                                latitude: e[0],
                                longitude: e[1]
                            })
                        })
                    }),
                    t
                }
            }
        })
          , c = i(1236)
          , h = i(1283)
          , d = i(1424)
          , p = function(e) {
            return d.a.call(this, e),
            this
        };
        (p.prototype = Object.create(d.a.prototype)).constructor = p,
        p.prototype.updateTransitionMode = function(e) {
            e.parent ? "cycling" === e.parent && e.value ? this.transitMode = c.a.PopularityRouteTypes[e.value.toUpperCase()] || c.a.PopularityRouteTypes.ROAD_CYCLING : "running" === e.parent && e.value && (this.transitMode = c.a.PopularityRouteTypes[e.value.toUpperCase()] || c.a.PopularityRouteTypes.RUNNING) : this.transitMode = c.a.PopularityRouteTypes.RUNNING
        }
        ,
        p.prototype.fetch = function(e, t) {
            var i, a, n, r = new l({
                startLat: e.start[0],
                startLon: e.start[1],
                endLat: e.end[0],
                endLon: e.end[1],
                courseType: this.transitMode
            }), s = [], o = 0;
            return r.fetch({
                success: function(r, l, d) {
                    if (e.success)
                        if (200 === d.xhr.status && r) {
                            for (r.each(function(e) {
                                s.push([e.getLatitude(), e.getLongitude(), 0, 0])
                            }),
                            i = 0; i < r.models.length - 1; i++)
                                a = r.models[i],
                                n = r.models[i + 1],
                                o += h.a.calculateDistanceBetweenPointsInMeters(a.getLatitude(), a.getLongitude(), n.getLatitude(), n.getLongitude());
                            e.success.call(t, {
                                points: s,
                                meters: o
                            })
                        } else
                            d.xhr.status,
                            e.error.call(t, d.xhr.statusText, d.xhr.status, c.a.ErrorCodes.GENERIC)
                },
                error: function(i, a) {
                    e.error && e.error.call(t, a.statusText, a.status, c.a.ErrorCodes.GENERIC)
                }
            })
        }
        ;
        t.a = p
    },
    1498: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a).a.Model.extend({
            initialize: function() {}
        });
        t.a = n
    },
    1501: function(e, t, i) {
        "use strict";
        var a = i(1310)
          , n = i(1400)
          , r = i(128)
          , s = i.n(r)
          , o = function(e) {
            return n.a.apply(this, e),
            this
        };
        (o.prototype = Object.create(n.a.prototype)).constructor = o,
        o.prototype.fetch = function(e, t) {
            s()("//js.api.here.com/v3/3.0/mapsjs-core.js", function() {
                s()("//js.api.here.com/v3/3.0/mapsjs-service.js", function() {
                    !function() {
                        var i = new H.service.Platform({
                            app_id: a.a.HereAppId,
                            app_code: a.a.HereAppCode,
                            useHTTPS: !0
                        }).getGeocodingService()
                          , n = {
                            searchText: e.address,
                            jsonattributes: 1
                        };
                        i.geocode(n, function(i) {
                            if (i.response.view && i.response.view.length > 0) {
                                var a = i.response.view[0].result[0].location.displayPosition;
                                e.success.call(t, {
                                    address: e.address,
                                    location: [a.latitude, a.longitude]
                                })
                            } else
                                e.error.call(t, i.response, "Unexpected data returned.")
                        }, function(i) {
                            e.error.call(t, i, "Unexpected data returned.")
                        })
                    }()
                })
            })
        }
        ,
        t.a = o
    },
    1502: function(e, t) {
        e.exports = '<button class="zoomIn map-control-item" aria-label="<%-\xa0Localizer.localize(\'zoom_in\')\xa0%>" xmlns="http://www.w3.org/1999/html">\n    <i class="icon-add"></i>\n</button>\n<button class="zoomOut map-control-item" aria-label="<%-\xa0Localizer.localize(\'zoom_out\')\xa0%>">\n    <i class="icon-minus"></i>\n</button>\n\n\n<div class="dropdown map-control-item">\n    <button class="dropdown-trigger" data-toggle="dropdown" aria-label="<%-\xa0Localizer.localize(\'map.control.layers\')\xa0%>">\n        <i class="icon-layers"></i>\n    </button>\n    <ul class="dropdown-menu">\n        <li class="map-provider-google"><a href="#"><%- Localizer.localize(\'map.control.google\') %></a></li>\n        <li class="map-provider-here"><a href="#"><%- Localizer.localize(\'map.control.here\') %></a></li>\n        <li class="map-provider-osm"><a href="#"><%- Localizer.localize(\'map.control.osm\') %></a></li>\n        <li class="map-provider-BAIDU_V_1_4" style="display: none;"><a href="#"><%- Localizer.localize(\'map.control.baidu\') %></a></li>\n        <li class="divider"></li>\n        <li class="map-type-road"><a href="#"><%- Localizer.localize(\'map.control.road\') %></a></li>\n        <li class="map-type-satellite"><a href="#"><%- Localizer.localize(\'map.control.satellite\') %></a></li>\n        <li class="divider"></li>\n        <% if (additionalMapLayers.length > 0) { %>\n            <% for (var i = 0; i < additionalMapLayers.length; i++) { %>\n                <li data-layer-name="<%- additionalMapLayers[i].value %>" class="additional-layers <%- additionalMapLayers[i].selected ? \'active\' : \'\' %>"><a href="#"><%- additionalMapLayers[i].text %></a></li>\n            <% } %>\n            <li class="divider"></li>\n        <% } %>\n        <li class="map-layer-terrain">\n            <label>\n                <input type="checkbox" style="display: none"><%- Localizer.localize(\'map.control.terrain\') %></input>\n            </label>\n        </li>\n        <li class="map-layer-trails">\n            <label>\n                <input type="checkbox" style="display: none"><%- Localizer.localize(\'map.control.trails\') %></input>\n            </label>\n        </li>\n        <li class="map-layer-labels">\n            <label>\n                <input type="checkbox" style="display: none"><%- Localizer.localize(\'map.control.labels\') %></input>\n            </label>\n        </li>\n        <% if (!hideHeatMaps) { %>\n        <li class="divider"></li>\n        <li class="map-layer-running-heatmap">\n            <label>\n                <input type="checkbox" style="display: none"><%- Localizer.localize(\'map.control.heatmap.running.heatmap\') %></input>\n            </label>\n        </li>\n        <li class="map-layer-cycling-heatmap">\n            <label>\n                <input type="checkbox" style="display: none"><%- Localizer.localize(\'map.control.heatmap.cycling.heatmap\') %></input>\n            </label>\n        </li>\n        <% } %>\n        <li class="map-coordinate-system" style="display: none">\n            <a href="#"><%- Localizer.localize(\'map.control.map_match\') %></a>\n        </li>\n    </ul>\n</div>\n'
    },
    1503: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(4)
          , s = i(1220)
          , o = i(214)
          , l = (i(1263),
        i(1252))
          , c = i(1504)
          , h = i.n(c)
          , d = {
            CHANGE: "CHANGE"
        }
          , p = l.a.extend({
            template: n.a.template(h.a),
            initialize: function(e) {
                this.diveNumber = e.diveNumber,
                this.tag = e.tag || "a",
                l.a.prototype.initialize.call(this, e)
            },
            render: function() {
                this.$el.removeClass("edit"),
                this.$el.addClass(this.formatClass + " inline-edit inline-edit-text-field"),
                this.$el.html(this.template({
                    Localizer: r.a,
                    value: this.value,
                    url: this.url,
                    diveNumber: this.diveNumber,
                    tag: this.tag
                })),
                this.diveNumberValidator = new s.a({
                    element: this.$("#inlineEditDiveNumber"),
                    minValue: 1,
                    required: !0,
                    typeFormat: "integer",
                    reporter: new o.a({
                        message: r.a.localize("enter_a_number"),
                        position: "bottom",
                        element: this.$("#inlineEditDiveNumber")
                    })
                })
            },
            processInput: function() {
                var e = this.$("#inlineEditText").text().trim()
                  , t = this.$("#inlineEditDiveNumber").text().trim();
                this.diveNumberValidator.validateInputNow(),
                0 === this.$(".error-tooltip-active").length && (this.value = e,
                this.maxLength && this.value.length > this.maxLength && (this.value = this.value.substring(0, this.maxLength)),
                this.trigger(d.CHANGE, this.value, t))
            },
            onInlineEditCancelled: function(e) {
                this.diveNumberValidator.reporter.remove(),
                l.a.prototype.onInlineEditCancelled.call(this, e)
            },
            setDiveNumber: function(e) {
                this.diveNumber = e
            }
        });
        p.Events = d,
        t.a = p
    },
    1504: function(e, t) {
        e.exports = '<<%- tag %> href="<%- url %>" class="inline-edit-target" title="<%- value %>">\n    <%- Localizer.localize(\'dive_number_label\') + \' \' + diveNumber + \': \' + value %>\n</<%- tag %>>\n\n<button class="inline-edit-trigger modal-trigger">\n    <i class="icon-pencil"></i>\n</button>\n\n<div class="inline-edit-editable">\n    <div class="edit-dive-activity-dive-label"><%- Localizer.localize(\'dive_number_label\') %></div>\n    <div id="inlineEditDiveNumber"  class="inline-edit-editable-text dive-number" style="min-width: 15px;" contenteditable="true"><%- diveNumber %></div>\n    <div id="inlineEditText" class="inline-edit-editable-text dive-name" style="min-width: 15px;" contenteditable="true"><%- value %></div>\n    <span class="inline-edit-actions">\n        <button class="inline-edit-save icon-checkmark"></button>\n        <button class="inline-edit-cancel icon-close"></button>\n    </span>\n</div>\n'
    },
    1505: function(e, t, i) {
        (e.exports = i(33)(!0)).push([e.i, "/*  ======================\n      Gear Page\n      ======================  */\n    .page.gear .gear-item {\n        position: relative;\n    }\n    .page.gear .gear-item .avatar {\n        width: 163px;\n        height: 163px;\n        box-shadow: 0px 0px 0px 3px #fff, 0px 0px 0px 4px #eaeaea;\n    }\n    .page.gear .gear-item i.avatar {\n        font-size: 130px;\n        text-align: center;\n        background: #6e8594;\n        color: #2d4352;\n        line-height: 163px;\n        display: inline-block;\n    }\n    .page.gear .gear-item .gear-body {\n        width: 260px;\n        min-height: 200px;\n        margin: 0 20px 0 10px;\n        position: relative;\n    }\n    .page.gear .gear-item .gear-name {\n        margin-bottom: 11px;\n    }\n    .page.gear .gear-item .gear-name .gear-name-truncate {\n        display: inline-block;\n        max-width: calc(100% - 25px);\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        vertical-align: top;\n    }\n    .page.gear .gear-item .dropdown-trigger {\n        height: 16px;\n        vertical-align: middle;\n        line-height: 16px;\n    }\n    .page.gear .gear-item .gear-max {\n        margin-top: 11px;\n        margin-bottom: 0;\n    }\n    .page.gear .gear-item .gear-max.warning {\n        color: #ff9e0d;\n    }\n    .page.gear .gear-item.warning .gear-max {\n        color: #ed7e00;\n    }\n    .page.gear .gear-item.over .gear-max {\n        color: #bf0f24;\n    }\n    .page.gear .gear-item .gear-max-progress {\n        width: 60%;\n        background: #ddd;\n        border-radius: 5px;\n        overflow: hidden;\n        margin-top: 5px;\n    }\n    .page.gear .gear-item .gear-max-progress-value {\n        background: #11a9ed;\n        height: 8px;\n    }\n    .page.gear .gear-item.warning .gear-max-progress-value {\n        background: #ed7e00;\n    }\n    .page.gear .gear-item.over .gear-max-progress-value {\n        background: #bf0f24;\n    }\n    .page.gear #retired-gear-tab .gear-item .gear-max-progress-value {\n        background: #aaa;\n    }\n    .page.gear .photo-editor {\n        border: 1px solid #ddd;\n        border-radius: 10px;\n        width: 218px;\n        height: 218px;\n        overflow: hidden;\n    }\n    .page.gear .photo-editor [class*='icon-'] {\n        font-size: 170px;\n        width: 218px;\n        color: #ddd;\n        height: 218px;\n        line-height: 175px;\n        text-align: center;\n\n        background: #6e8594;\n        margin-top: 0;\n        vertical-align: top;\n        color: #2d4352;\n    }\n    .page.gear .photo-editor .icon-gear {\n        font-size: 130px;\n        line-height: 178px;\n    }\n    .page.gear .typeahead.dropdown-menu {\n        min-width: 218px;\n    }\n    /*  ======================\n      Gear Widget\n      ======================  */\n    .widget-gear .widget-view-title {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin-top: -11px;\n        margin-bottom: -8px;\n        line-height: 44px;\n    }\n    .widget-gear .chart-gauge-gear {\n        height: 165px;\n    }\n    .widget-gear .gear-chart-icon {\n        font-size: 90px;\n        width: 110px;\n        height: 110px;\n        line-height: 110px;\n    }\n    .widget-gear .avatar {\n        margin: 10px 10px 0 3px;\n    }\n    .widget-sheet-gear-activity-list .activity-list td:first-child a {\n        width: 80px;\n    }\n    /*  ======================\n      Activities Widget and Activity Detail page - Gear List\n      ======================  */\n    .gear-list {\n        margin: 0 0 11px;\n        padding: 0;\n        list-style: none;\n    }\n    .gear-list li {\n        border-bottom: 1px solid #ddd;\n        padding: 8px 5px 8px 0;\n        cursor: pointer;\n        width: calc(100% - 5px);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n    .gear-list li:hover {\n        background-color: #f5f5f5;\n    }\n    .gear-list li:last-child {\n        border-bottom: none;\n    }\n    .gear-list .gear-type {\n        margin-right: 10px;\n        font-size: 18px;\n        width: 18px;\n        height: 18px;\n        vertical-align: middle;\n    }\n    .gear-list .gear-status {\n        font-family: 'connect-icons';\n        speak: none;\n        font-style: normal;\n        font-weight: normal;\n        -webkit-font-feature-settings: normal;\n                font-feature-settings: normal;\n        font-variant: normal;\n        text-transform: none;\n\n        /* Better Font Rendering =========== */\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n\n        /* Custom CSS to overwrite Bootstrap */\n        background-image: none;\n        display: inline-block;\n        margin: 0 10px;\n        position: relative;\n    }\n    .gear-list .gear-status:after,\n    .gear-list .active:hover .gear-status:after {\n        width: 18px;\n        height: 18px;\n        line-height: 18px;\n        border-radius: 50%;\n        display: inline-block;\n        color: transparent;\n        text-align: center;\n        content: '\\E005'; /* plus icon */\n        background: #e6e6e6;\n        color: #fff;\n        font-size: 10px;\n        vertical-align: middle;\n        margin-top: -2px;\n    }\n    .gear-list li:hover .gear-status:after {\n        background: #50b012; /* green */\n    }\n    .gear-list .active .gear-status:after {\n        content: '\\2714'; /* checkmark icon */\n        background: #11a9ed; /* blue */\n        color: #fff;\n        font-size: 14px;\n    }\n    .gear-list .active:hover .gear-status:after {\n        content: '\\E60C'; /* minus icon */\n        background: #ff0035; /* red */\n    }\n    .gear-list .saving .gear-status:after,\n    .gear-list .saving:hover .gear-status:after {\n        background: transparent;\n        color: transparent;\n    }\n    .gear-list .spinner {\n        display: none;\n    }\n    .gear-list .saving .spinner {\n        display: inline-block;\n        position: absolute;\n        top: 5px;\n    }\n    /*  ======================\n      Activity Detail Page\n      ======================  */\n    .page.activity-detail .gear-images .avatar {\n        display: inline-block;\n        vertical-align: middle;\n    }\n    .page.activity-detail .gear-names {\n        margin: 11px 0 0 0;\n        padding: 0;\n        list-style: none;\n    }\n    .page.activity-detail .gear-indicator {\n        margin-right: 10px;\n    }\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.28/src/styles/gear.page.css"],
            names: [],
            mappings: "AACI;;gCAE2B;IAC3B;QACI,mBAAkB;KACtB;IACA;QACI,aAAY;QACZ,cAAa;QACb,0DAAyD;KAC7D;IACA;QACI,iBAAgB;QAChB,mBAAkB;QAClB,oBAAmB;QACnB,eAAc;QACd,mBAAkB;QAClB,sBAAqB;KACzB;IACA;QACI,aAAY;QACZ,kBAAiB;QACjB,sBAAqB;QACrB,mBAAkB;KACtB;IACA;QACI,oBAAmB;KACvB;IACA;QACI,sBAAqB;QACrB,6BAA4B;QAC5B,iBAAgB;QAChB,oBAAmB;QACnB,wBAAuB;QACvB,oBAAmB;KACvB;IACA;QACI,aAAY;QACZ,uBAAsB;QACtB,kBAAiB;KACrB;IACA;QACI,iBAAgB;QAChB,iBAAgB;KACpB;IACA;QACI,eAAc;KAClB;IACA;QACI,eAAc;KAClB;IACA;QACI,eAAc;KAClB;IACA;QACI,WAAU;QACV,iBAAgB;QAChB,mBAAkB;QAClB,iBAAgB;QAChB,gBAAe;KACnB;IACA;QACI,oBAAmB;QACnB,YAAW;KACf;IACA;QACI,oBAAmB;KACvB;IACA;QACI,oBAAmB;KACvB;IACA;QACI,iBAAgB;KACpB;IACA;QACI,uBAAsB;QACtB,oBAAmB;QACnB,aAAY;QACZ,cAAa;QACb,iBAAgB;KACpB;IACA;QACI,iBAAgB;QAChB,aAAY;QACZ,YAAW;QACX,cAAa;QACb,mBAAkB;QAClB,mBAAkB;;QAElB,oBAAmB;QACnB,cAAa;QACb,oBAAmB;QACnB,eAAc;KAClB;IACA;QACI,iBAAgB;QAChB,mBAAkB;KACtB;IACA;QACI,iBAAgB;KACpB;IAEA;;gCAE2B;IAC3B;QACI,oBAAmB;QACnB,iBAAgB;QAChB,wBAAuB;QACvB,kBAAiB;QACjB,oBAAmB;QACnB,kBAAiB;KACrB;IACA;QACI,cAAa;KACjB;IACA;QACI,gBAAe;QACf,aAAY;QACZ,cAAa;QACb,mBAAkB;KACtB;IACA;QACI,wBAAuB;KAC3B;IACA;QACI,YAAW;KACf;IAEA;;gCAE2B;IAE3B;QACI,iBAAgB;QAChB,WAAU;QACV,iBAAgB;KACpB;IACA;QACI,8BAA6B;QAC7B,uBAAsB;QACtB,gBAAe;QACf,wBAAuB;QACvB,iBAAgB;QAChB,wBAAuB;QACvB,oBAAmB;KACvB;IACA;QACI,0BAAyB;KAC7B;IACA;QACI,oBAAmB;KACvB;IACA;QACI,mBAAkB;QAClB,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,uBAAsB;KAC1B;IACA;QACI,6BAA4B;QAC5B,YAAW;QACX,mBAAkB;QAClB,oBAAmB;QACnB,sCAAoB;gBAApB,8BAAoB;QAApB,qBAAoB;QACpB,qBAAoB;;QAEpB,uCAAsC;QACtC,oCAAmC;QACnC,mCAAkC;;QAElC,uCAAsC;QACtC,uBAAsB;QACtB,sBAAqB;QACrB,eAAc;QACd,mBAAkB;KACtB;IACA;;QAEI,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,mBAAkB;QAClB,sBAAqB;QACrB,mBAAkB;QAClB,mBAAkB;QAClB,iBAAgB,CAAE,eAAc;QAChC,oBAAmB;QACnB,YAAW;QACX,gBAAe;QACf,uBAAsB;QACtB,iBAAgB;KACpB;IACA;QACI,oBAAmB,CAAE,WAAU;KACnC;IACA;QACI,iBAAgB,CAAE,oBAAmB;QACrC,oBAAmB,CAAE,UAAS;QAC9B,YAAW;QACX,gBAAe;KACnB;IACA;QACI,iBAAgB,CAAE,gBAAe;QACjC,oBAAmB,CAAE,SAAQ;KACjC;IACA;;QAEI,wBAAuB;QACvB,mBAAkB;KACtB;IACA;QACI,cAAa;KACjB;IACA;QACI,sBAAqB;QACrB,mBAAkB;QAClB,SAAQ;KACZ;IAEA;;gCAE2B;IAE3B;QACI,sBAAqB;QACrB,uBAAsB;KAC1B;IACA;QACI,mBAAkB;QAClB,WAAU;QACV,iBAAgB;KACpB;IACA;QACI,mBAAkB;KACtB",
            file: "gear.page.css",
            sourcesContent: [":global {\n    /*  ======================\n      Gear Page\n      ======================  */\n    .page.gear .gear-item {\n        position: relative;\n    }\n    .page.gear .gear-item .avatar {\n        width: 163px;\n        height: 163px;\n        box-shadow: 0px 0px 0px 3px #fff, 0px 0px 0px 4px #eaeaea;\n    }\n    .page.gear .gear-item i.avatar {\n        font-size: 130px;\n        text-align: center;\n        background: #6e8594;\n        color: #2d4352;\n        line-height: 163px;\n        display: inline-block;\n    }\n    .page.gear .gear-item .gear-body {\n        width: 260px;\n        min-height: 200px;\n        margin: 0 20px 0 10px;\n        position: relative;\n    }\n    .page.gear .gear-item .gear-name {\n        margin-bottom: 11px;\n    }\n    .page.gear .gear-item .gear-name .gear-name-truncate {\n        display: inline-block;\n        max-width: calc(100% - 25px);\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        vertical-align: top;\n    }\n    .page.gear .gear-item .dropdown-trigger {\n        height: 16px;\n        vertical-align: middle;\n        line-height: 16px;\n    }\n    .page.gear .gear-item .gear-max {\n        margin-top: 11px;\n        margin-bottom: 0;\n    }\n    .page.gear .gear-item .gear-max.warning {\n        color: #ff9e0d;\n    }\n    .page.gear .gear-item.warning .gear-max {\n        color: #ed7e00;\n    }\n    .page.gear .gear-item.over .gear-max {\n        color: #bf0f24;\n    }\n    .page.gear .gear-item .gear-max-progress {\n        width: 60%;\n        background: #ddd;\n        border-radius: 5px;\n        overflow: hidden;\n        margin-top: 5px;\n    }\n    .page.gear .gear-item .gear-max-progress-value {\n        background: #11a9ed;\n        height: 8px;\n    }\n    .page.gear .gear-item.warning .gear-max-progress-value {\n        background: #ed7e00;\n    }\n    .page.gear .gear-item.over .gear-max-progress-value {\n        background: #bf0f24;\n    }\n    .page.gear #retired-gear-tab .gear-item .gear-max-progress-value {\n        background: #aaa;\n    }\n    .page.gear .photo-editor {\n        border: 1px solid #ddd;\n        border-radius: 10px;\n        width: 218px;\n        height: 218px;\n        overflow: hidden;\n    }\n    .page.gear .photo-editor [class*='icon-'] {\n        font-size: 170px;\n        width: 218px;\n        color: #ddd;\n        height: 218px;\n        line-height: 175px;\n        text-align: center;\n\n        background: #6e8594;\n        margin-top: 0;\n        vertical-align: top;\n        color: #2d4352;\n    }\n    .page.gear .photo-editor .icon-gear {\n        font-size: 130px;\n        line-height: 178px;\n    }\n    .page.gear .typeahead.dropdown-menu {\n        min-width: 218px;\n    }\n\n    /*  ======================\n      Gear Widget\n      ======================  */\n    .widget-gear .widget-view-title {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin-top: -11px;\n        margin-bottom: -8px;\n        line-height: 44px;\n    }\n    .widget-gear .chart-gauge-gear {\n        height: 165px;\n    }\n    .widget-gear .gear-chart-icon {\n        font-size: 90px;\n        width: 110px;\n        height: 110px;\n        line-height: 110px;\n    }\n    .widget-gear .avatar {\n        margin: 10px 10px 0 3px;\n    }\n    .widget-sheet-gear-activity-list .activity-list td:first-child a {\n        width: 80px;\n    }\n\n    /*  ======================\n      Activities Widget and Activity Detail page - Gear List\n      ======================  */\n\n    .gear-list {\n        margin: 0 0 11px;\n        padding: 0;\n        list-style: none;\n    }\n    .gear-list li {\n        border-bottom: 1px solid #ddd;\n        padding: 8px 5px 8px 0;\n        cursor: pointer;\n        width: calc(100% - 5px);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n    .gear-list li:hover {\n        background-color: #f5f5f5;\n    }\n    .gear-list li:last-child {\n        border-bottom: none;\n    }\n    .gear-list .gear-type {\n        margin-right: 10px;\n        font-size: 18px;\n        width: 18px;\n        height: 18px;\n        vertical-align: middle;\n    }\n    .gear-list .gear-status {\n        font-family: 'connect-icons';\n        speak: none;\n        font-style: normal;\n        font-weight: normal;\n        font-variant: normal;\n        text-transform: none;\n\n        /* Better Font Rendering =========== */\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n\n        /* Custom CSS to overwrite Bootstrap */\n        background-image: none;\n        display: inline-block;\n        margin: 0 10px;\n        position: relative;\n    }\n    .gear-list .gear-status:after,\n    .gear-list .active:hover .gear-status:after {\n        width: 18px;\n        height: 18px;\n        line-height: 18px;\n        border-radius: 50%;\n        display: inline-block;\n        color: transparent;\n        text-align: center;\n        content: '\\e005'; /* plus icon */\n        background: #e6e6e6;\n        color: #fff;\n        font-size: 10px;\n        vertical-align: middle;\n        margin-top: -2px;\n    }\n    .gear-list li:hover .gear-status:after {\n        background: #50b012; /* green */\n    }\n    .gear-list .active .gear-status:after {\n        content: '\\2714'; /* checkmark icon */\n        background: #11a9ed; /* blue */\n        color: #fff;\n        font-size: 14px;\n    }\n    .gear-list .active:hover .gear-status:after {\n        content: '\\e60c'; /* minus icon */\n        background: #ff0035; /* red */\n    }\n    .gear-list .saving .gear-status:after,\n    .gear-list .saving:hover .gear-status:after {\n        background: transparent;\n        color: transparent;\n    }\n    .gear-list .spinner {\n        display: none;\n    }\n    .gear-list .saving .spinner {\n        display: inline-block;\n        position: absolute;\n        top: 5px;\n    }\n\n    /*  ======================\n      Activity Detail Page\n      ======================  */\n\n    .page.activity-detail .gear-images .avatar {\n        display: inline-block;\n        vertical-align: middle;\n    }\n    .page.activity-detail .gear-names {\n        margin: 11px 0 0 0;\n        padding: 0;\n        list-style: none;\n    }\n    .page.activity-detail .gear-indicator {\n        margin-right: 10px;\n    }\n}\n"],
            sourceRoot: ""
        }])
    },
    1518: function(e, t) {
        e.exports = '<span class="react-placeholder <%- additionalClasses %>"></span>'
    },
    1537: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(4)
          , s = i(1279)
          , o = i(1734)
          , l = i.n(o)
          , c = s.a.extend({
            template: n.a.template(l.a),
            events: {
                "click li": "onInlineSelectionChanged",
                "change select[name=activityType]": "onActivityTypeChanged"
            },
            initialize: function(e) {
                this.useSelect = e.useSelect,
                this.className = e.className || "",
                e.options && !0 === e.options.showTypeAll && e.items.unshift({
                    name: r.a.localize("any_activity_type"),
                    value: "all",
                    children: []
                }),
                s.a.prototype.initialize.call(this, e),
                this.value = e.value,
                this.$("[data-value=" + this.value + "]").addClass("active")
            },
            onActivityTypeChanged: function(e) {
                e.preventDefault(),
                this.$(".active").removeClass("active");
                var t = this.$("select[name=activityType]").val();
                this.$("[data-value=" + t + "]").addClass("active"),
                this.trigger(s.a.Events.CHANGE, t)
            },
            setActivityType: function(e) {
                this.value = e
            }
        });
        t.a = c
    },
    1540: function(e, t, i) {
        var a = i(2194);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(35)(a, n);
        a.locals && (e.exports = a.locals)
    },
    1541: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(13)
              , c = i(1227)
              , h = i.n(c)
              , d = i(2197)
              , p = i(1222)
              , u = i(1276)
              , m = i(2199)
              , g = i.n(m)
              , f = {
                AxisTypeChanged: "AxisTypeChanged"
            }
              , v = s.a.View.extend({
                step: !1,
                threshold: 9999,
                template: n.a.template(g.a),
                events: {
                    "change .x-axis-value": "onAxisSelected"
                },
                initialize: function(e) {
                    if (!e.backgroundSeries)
                        throw "BackgroundSeriesType required for ExpandedChartView";
                    this.series = e.series,
                    this.speedType = e.speedType,
                    this.primarySeries = null,
                    this.secondarySeries = null,
                    this.workoutSeries = null,
                    this.showWorkoutSeries = !1,
                    this.xAxisType = e.xAxisType || this.defaultXAxisType(),
                    this.activitySummary = e.activitySummary,
                    this.backgroundSeries = e.backgroundSeries,
                    this.turboThreshold = e.turboThreshold ? e.turboThreshold : 4e3,
                    this.zeroThreshold = e.zeroThreshold,
                    this.hideAxisTypes = e.hideAxisTypes || !1
                },
                measurementSystem: function() {
                    return l.a.measurementSystem
                },
                defaultXAxisType: function() {
                    return u.a.Duration
                },
                getXAxisTypes: function() {
                    return this.hideAxisTypes ? [] : [{
                        name: u.a.Duration,
                        label: o.a.localize("over_time")
                    }, {
                        name: u.a.Distance,
                        label: o.a.localize("over_distance")
                    }]
                },
                onPrimaryChanged: function() {
                    this.chartHeaderView.secondarySeries && !this.chartHeaderView.primarySeries && (this.chartHeaderView.primarySeries = this.chartHeaderView.secondarySeries,
                    this.chartHeaderView.secondarySeries = null),
                    this.updateSeries(),
                    this.chartHeaderView.shouldShowWorkoutTarget(this.showWorkoutSeries),
                    this.chartHeaderView.render()
                },
                onSecondaryChanged: function() {
                    this.updateSeries()
                },
                getSingleSeriesMin: function(e) {
                    var t;
                    return "undefined" != typeof e.expandedMin && (t = "function" == typeof e.expandedMin ? e.expandedMin.call(e) : e.expandedMin),
                    t
                },
                getSeriesMin: function(e) {
                    var t, i = !1;
                    return n.a.each(e, function(e) {
                        "undefined" != typeof e.expandedMin && (i || (t = 9999999,
                        i = !0),
                        t = Math.min(t, this.getSingleSeriesMin(e)))
                    }, this),
                    t
                },
                getWorkoutDataMin: function() {
                    var e = 99999999;
                    return n.a.each(this.workoutData, function(t) {
                        t[1] < e && (e = t[1])
                    }),
                    e
                },
                getSingleSeriesMax: function(e) {
                    var t;
                    return "undefined" != typeof e.expandedMax && (t = "function" == typeof e.expandedMax ? e.expandedMax.call(e) : e.expandedMax),
                    t
                },
                getSeriesMax: function(e) {
                    var t, i = !1;
                    return n.a.each(e, function(e) {
                        "undefined" != typeof e.expandedMax && (i || (t = -9999999,
                        i = !0),
                        t = Math.max(t, this.getSingleSeriesMax(e)))
                    }, this),
                    t
                },
                getWorkoutDataMax: function() {
                    var e = -99999999;
                    return n.a.each(this.workoutData, function(t) {
                        t[1] > e && (e = t[1])
                    }),
                    e
                },
                getSeriesAxisOptions: function(e, t) {
                    var i = this.getSeriesMin(e)
                      , a = this.getSeriesMax(e);
                    if (this.showWorkoutSeries) {
                        var r = this.getWorkoutDataMin()
                          , s = this.getWorkoutDataMax();
                        i = i <= r ? i : r,
                        a = a >= s ? a : s
                    }
                    var o = p.a.mapSeriesType(e[0]);
                    0 == t && this.getSeriesCount() > 1 && 1 == e.length && (o = "#6D8595");
                    var l = {
                        gridLineColor: "#dddddd",
                        title: {
                            text: null
                        },
                        labels: {
                            formatter: n.a.partial(this.yAxisLabelFormatter, this, t),
                            style: {
                                color: o,
                                fontSize: "12px"
                            },
                            step: 1
                        },
                        min: i,
                        max: a,
                        reversed: e[0].reversed,
                        plotLines: e[0].plotLines,
                        tickInterval: e[0].tickInterval,
                        opposite: t > 0
                    };
                    return t > 0 && (l.gridLineWidth = 0),
                    l
                },
                getSeriesYAxisOptions: function(e, t) {
                    return this.getSeriesAxisOptions(e, t)
                },
                getSeriesXAxisOptions: function() {
                    return {
                        labels: {
                            formatter: n.a.partial(this.xAxisLabelFormatter, this),
                            style: {
                                color: "#888888",
                                fontSize: "12px"
                            },
                            y: 20
                        },
                        tickLength: 0,
                        tickPixelInterval: 200,
                        maxPadding: 0
                    }
                },
                updateSeries: function() {
                    this.removeAllSeries(),
                    this.addAllSeries(),
                    this.highChartObj.redraw()
                },
                addBackgroundSeries: function() {
                    var e = [];
                    n.a.each(this.backgroundSeries, function(t) {
                        this.workoutSeries = this.createWorkoutChartSeries(t, 0),
                        this.chartHeaderView.primarySeries && (this.workoutSeries = null,
                        this.showWorkoutSeries = !1),
                        this.workoutSeries && (e.push(this.workoutSeries),
                        this.showWorkoutSeries = !0),
                        e.push(this.createChartSeries(t, 0))
                    }, this),
                    this.highChartObj.addAxis(this.getSeriesAxisOptions(this.backgroundSeries, 0), !1, !1, !1),
                    n.a.each(e, function(e) {
                        this.highChartObj.addSeries(e, !1)
                    }, this)
                },
                addPrimarySeries: function(e) {
                    var t = [];
                    n.a.each(e, function(e) {
                        t.push(this.createChartSeries(e, 1))
                    }, this),
                    this.highChartObj.addAxis(this.getSeriesAxisOptions(e, 1), !1, !1, !1),
                    n.a.each(t, function(e) {
                        this.highChartObj.addSeries(e, !1)
                    }, this),
                    this.primarySeries = e
                },
                addSecondarySeries: function(e) {
                    var t = [];
                    n.a.each(e, function(e) {
                        t.push(this.createChartSeries(e, 2))
                    }, this),
                    this.highChartObj.addAxis(this.getSeriesAxisOptions(e, 2), !1, !1, !1),
                    n.a.each(t, function(e) {
                        this.highChartObj.addSeries(e, !1)
                    }, this),
                    this.secondarySeries = e
                },
                onZoomReset: function() {
                    this.resetZoom()
                },
                onRangeSelected: function(e, t) {
                    this.setExtremes(e, t)
                },
                setExtremes: function(e, t) {
                    this.highChartObj.xAxis[0].setExtremes(e, t)
                },
                resetZoom: function() {
                    this.highChartObj.xAxis[0].setExtremes(null, null)
                    this.highChartObj.yAxis[0].setExtremes(null, null); // TX GCOverrides
                },
                xAxisLabelFormatter: function(e) {
                    return e.xAxisType == u.a.Distance ? this.value : l.a.personalizeDuration(this.value)
                },
                yAxisLabelFormatter: function(e, t) {
                    var i = null;
                    return 0 == t ? i = e.backgroundSeries : 1 == t && e.primarySeries ? i = e.primarySeries : e.secondarySeries && (i = e.secondarySeries),
                    null == i || 0 == i.length ? "" : (i = i[0]).yAxisFormattingFunction ? i.yAxisFormattingFunction(this.value, e.measurementSystem()) : i.formattingFunction(this.value, e.measurementSystem())
                },
                yUnit: function(e) {
                    return e.unit_key ? o.a.localize(n.a.result(e, "unit_key")) : ""
                },
                tooltipFormatter: function(e) {
                    var t = []
                      , i = this.point || this.points[0];
                    if (i) {
                        var a = i.x;
                        var dist = i.series.chart.userOptions.series[0].data[i.series.chart.hoverPoints[0].index].dist;  // TX GCOverrides                         
                        dist = l.a.formatDistance(dist, e.activitySummary.getActivityTypeKey())                          // TX GCOverrides
                           + " " + o.a.localize(l.a.getDistanceUnitKey(e.activitySummary.getActivityTypeKey()));         // TX GCOverrides
                           
                        if (e.backgroundSeries && n.a.each(e.backgroundSeries, function(i) {
                            var n = i.getClosestPoint(a).data;
                            n && null !== n.y && (t.push("<b>" + i.formatToolTipRow(i, null, n.y, e.yUnit(i), null, null, null) + "</b><br/>")) // TX GCOverrides (formatting)
                        }, this),
                        e.workoutSeries && e.showWorkoutSeries) {
                            var r = e.workoutSeries
                              , s = e.backgroundSeries[0].getClosestPoint(a)
                              , c = r.data[s.index][1];
                            if (null !== c) {
                                var h = e.yUnit(e.backgroundSeries[0]);
                                0 === c ? (c = "--",
                                t.push(c + " " + h),
                                t.push("<br/>")) : (t.push(e.backgroundSeries[0].formatToolTipRow(r, null, c, h, null, null, null)),
                                t.push("<br/>"))
                            }
                        }
                        e.primarySeries && n.a.each(e.primarySeries, function(i) {
                            var n = i.getClosestPoint(a).data;
                            n && null !== n.y && (t.push(i.formatToolTipRow(i, null, n.y, e.yUnit(i), null, null, null)),
                            t.push("<br/>"))
                        }),
                        e.secondarySeries && n.a.each(e.secondarySeries, function(i) {
                            var n = i.getClosestPoint(a).data;
                            null !== n.y && (t.push(i.formatToolTipRow(i, null, n.y, e.yUnit(i), null, null, null)),
                            t.push("<br/>"))
                        }),
                        e.xAxisType === u.a.Distance ?                  // TX !!! GCOverrides - (whole block) zoomed graph tooltip
                            t.push(dist) : 
                            e.xAxisType === u.a.Duration ? 
                                t.push(l.a.personalizeDuration(i.x) + " " + o.a.localize(l.a.getDurationUnitKey()) + "<br/>" + dist) : 
                                e.xAxisType === v.XAxisTypes.SwimLengths ? 
                                    t.push(o.a.localize("swim_length_num", Math.floor(i.x) + 1)) : 
                                    e.xAxisType === v.XAxisTypes.SwimDistance ? 
                                        t.push(l.a.personalizeDistance(i.x, e.activitySummary.getActivityTypeKey(), e.activitySummary.get("unitOfPoolLength")) + " " + o.a.localize(l.a.getDistanceUnitKey(e.activitySummary.getActivityTypeKey(), null, e.activitySummary.get("unitOfPoolLength")))) : t.push(l.a.personalizeDuration(i.x) + " " + o.a.localize(l.a.getDurationUnitKey()))
                    }
                    return t.join("")
                },
                render: function() {
                    var e = this.template({
                        Localizer: o.a,
                        Personalizer: l.a,
                        series: this.getAvailableSeries(),
                        xAxisTypes: this.getXAxisTypes()
                    });
                    this.$el.html(e),
                    this.$(".x-axis-value").val(this.xAxisType),
                    this.chartHeaderView = new d.a({
                        el: this.$("#chart-header-placeholder"),
                        backgroundSeries: this.backgroundSeries,
                        availableSeries: this.getAvailableSeries(),
                        activitySummary: this.activitySummary,
                        activityDetails: this.model,
                        xAxisType: this.xAxisType
                    }),
                    this.chartHeaderView.on(d.a.Events.PrimaryChanged, this.onPrimaryChanged, this),
                    this.chartHeaderView.on(d.a.Events.SecondaryChanged, this.onSecondaryChanged, this),
                    this.chartHeaderView.on(d.a.Events.ZoomReset, this.onZoomReset, this),
                    this.chartHeaderView.on(d.a.Events.RangeSelected, this.onRangeSelected, this);
                    var t = this.getSeries();
                    this.chartHeaderView.shouldShowWorkoutTarget(this.showWorkoutSeries),
                    this.chartHeaderView.render();
                    var i = this.getSeriesYAxisOptions(this.backgroundSeries, 0)
                      , a = this;
                    this.highChartObj = new h.a.Chart({                             // TX GCOverrides - zoomed graph tooltip
                        tooltip: {
                            backgroundColor: "rgba(255, 255, 255, 0.85)",
                            borderWidth: 1,                                         // TX GCOverrides 0  1
                            borderRadius: 0,
                            shadow: !0,                                             // TX GCOverrides !1  !0
                            crosshairs: {
                                color: "#222222"
                            },
                            style: {
                                color: "#222222",
                                fontSize: "16px",
                                padding: 10
                            },
                            formatter: n.a.partial(this.tooltipFormatter, this),
                            shared: !0,
                            useHTML: !0
                        },
                        chart: {
                            renderTo: this.$(".zoomed-chart").get(0),
                            backgroundColor: "transparent",
                            spacing: [10, 80, 30, 0],
                            marginLeft: 120,
                            marginRight: 155,
                            zoomType: "xy",     // TX GCOverrides
                            panning: true,      // TX GCOverrides
                            panKey: 'shift',    // TX GCOverrides
                            alignTicks: !1,
                            resetZoomButton: {
                                theme: {
                                    display: "none"
                                }
                            },
                            style: {
                                cursor: "crosshair"
                            },
                            events: {
                                selection: function(e) {
                                    e.xAxis && a.chartHeaderView.showZoomButton()
                                }
                            }
                        },
                        credits: {
                            enabled: !1
                        },
                        title: {
                            text: null
                        },
                        yAxis: [i],
                        xAxis: this.getSeriesXAxisOptions(),
                        plotOptions: {
                            area: {
                                fillOpacity: .25,
                                marker: {
                                    enabled: !1,
                                    symbol: "circle",
                                    states: {
                                        hover: {
                                            fillColor: "#222222",
                                            lineWidth: 1,
                                            lineColor: "#222222",
                                            radius: 4
                                        }
                                    }
                                }
                            },
                            series: {
                                states: {
                                    hover: {
                                        lineWidth: 2
                                    }
                                },
                                step: this.step,
                                animation: !1
                            },
                            line: {
                                marker: {
                                    enabled: !1,
                                    symbol: "circle",
                                    states: {
                                        hover: {
                                            fillColor: "#222222",
                                            lineWidth: 1,
                                            lineColor: "#222222",
                                            radius: 4
                                        }
                                    }
                                }
                            },
                            column: {                       // TX GCOverrides !!!
                                borderWidth: 0,             // TX GCOverrides
                                pointWidth: null,           // TX GCOverrides
                                maxPointWidth: undefined,   // TX GCOverrides
                                pointPadding: 0,            // TX GCOverrides
                                groupPadding: 0             // TX GCOverrides
                            },                              // TX GCOverrides
                            scatter: {
                                marker: {
                                    radius: 3,
                                    symbol: "circle",
                                    enabled: !0
                                },
                                color: "#ff0000",
                                lineWidth: void 0
                            }
                        },
                        legend: {
                            enabled: !1
                        },
                        series: t,
                        exporting: {
                            enabled: !0         // TX GCOverrides (originally !1)
                        }
                    })
                },
                formatToolTipRow: function(e, t) {
                    if (e.formatValue)
                        return e.formatValue(null, t) + "<br>";
                    var i = this.measurementSystem();
                    return (t = e.formattingFunction(t, i)) + " " + o.a.localize(l.a.getSwimPaceUnitKey(i)) + "<br>"
                },
                getSeries: function() {
                    var e = [];
                    return n.a.each(this.backgroundSeries, function(t) {
                        e.push(this.createChartSeries(t, 0)),
                        this.workoutSeries = this.createWorkoutChartSeries(t, 0),
                        this.showWorkoutSeries = !1,
                        this.workoutSeries && (e.push(this.workoutSeries),
                        this.showWorkoutSeries = !0)
                    }, this),
                    e
                },
                createChartSeries: function(e, t) {
                    var i, a = e.defaultChartType, n = e.colorMapper, r = "scatter" == e.defaultChartType ? null : p.a.mapSeriesType(e), s = "scatter" == e.defaultChartType ? 0 : 2;
                    if (0 == t) {
                        if (this.getSeriesCount() > 1 && this.backgroundSeries.length < 2)
                            s = 0,
                            "scatter" !== e.defaultChartType ? (a = "area",
                            r = "#6D8595",
                            i = .25) : n = function(e) {
                                return "rgba(109,133,149, .5)"
                            }
                            ;
                        else if ("scatter" == e.defaultChartType && !e.colorMapper) {
                            var o = p.a.mapSeriesType(e);
                            n = function(e) {
                                return o
                            }
                        }
                    } else if (t > 0 && "scatter" == e.defaultChartType) {
                        var l = p.a.mapSeriesType(e);
                        n = function() {
                            return l
                        }
                    }
// TX !!!  just a bookmark to the zoomed graph plotting section                  
                    var c = e.generateData(n, !0);
// TX !!! DEBUG
    var cache = [];
    console.log("DEBUG createChartSeries this: " + JSON.stringify(this, function(key, value) {
        if (typeof value === 'object' && value !== null) {
            if (cache.indexOf(value) !== -1) return;
            cache.push(value);
        }
        return value;
    }));
    cache = null; 
// TX !!! DEBUG    
                    return {
                        turboThreshold: this.turboThreshold,
                        type: a,
                        yAxis: t,
                        color: r,
                        data: c,
                        threshold: this.zeroThreshold ? 0 : e.reversed ? this.threshold : null,
                        fillOpacity: i,
                        lineWidth: s
                    }
                },
                createWorkoutChartSeries: function(e, t) {
                    var i = p.a.Colors.workoutTargetGray;
                    if (this.workoutInfo = e.generateWorkoutData(),
                    this.workoutData = this.workoutInfo.workoutData,
                    this.workoutData && this.workoutData.length > 0)
                        return {
                            turboThreshold: this.turboThreshold,
                            type: "area",
                            yAxis: t,
                            color: i,
                            data: this.workoutData,
                            threshold: this.zeroThreshold ? 0 : e.reversed ? this.threshold : null,
                            fillOpacity: .45,
                            lineWidth: 1
                        }
                },
                getAvailableSeries: function() {
                    return this.series
                },
                onAxisSelected: function(t) {
                    this.xAxisType = e(t.currentTarget).val(),
                    n.a.each(this.series, function(e) {
                        n.a.each(e, function(e) {
                            e.setXAxisType(this.xAxisType)
                        }, this)
                    }, this),
                    this.removeAllSeries(),
                    this.addAllSeries(),
                    this.highChartObj.redraw(),
                    this.resetZoom(),
                    this.trigger(f.AxisTypeChanged, this.xAxisType),
                    this.chartHeaderView.xAxisType = this.xAxisType,
                    this.chartHeaderView.render()
                },
                removeAllSeries: function() {
                    this.highChartObj.series[2] && this.highChartObj.series[2].remove(!1),
                    this.highChartObj.series[1] && this.highChartObj.series[1].remove(!1),
                    this.highChartObj.series[0] && this.highChartObj.series[0].remove(!1),
                    this.highChartObj.yAxis[2] && this.highChartObj.yAxis[2].remove(!1),
                    this.highChartObj.yAxis[1] && this.highChartObj.yAxis[1].remove(!1),
                    this.highChartObj.yAxis[0] && this.highChartObj.yAxis[0].remove(!1),
                    this.primarySeries = null,
                    this.secondarySeries = null
                },
                addAllSeries: function() {
                    this.addBackgroundSeries(),
                    this.chartHeaderView.primarySeries && this.addPrimarySeries(this.chartHeaderView.primarySeries),
                    this.chartHeaderView.secondarySeries && this.addSecondarySeries(this.chartHeaderView.secondarySeries)
                },
                getSeriesCount: function() {
                    var e = 1;
                    return this.chartHeaderView.primarySeries && e++,
                    this.chartHeaderView.secondarySeries && e++,
                    e
                },
                getScatterCount: function() {
                    var e = 0;
                    return "scatter" == this.backgroundSeries.defaultChartType && e++,
                    this.chartHeaderView.primarySeries && "scatter" == this.chartHeaderView.primarySeries.defaultChartType && e++,
                    this.chartHeaderView.secondarySeries && "scatter" == this.chartHeaderView.secondarySeries.defaultChartType && e++,
                    e
                }
            });
            v.XAxisTypes = u.a,
            v.Events = f,
            t.a = v
        }
        ).call(this, i(10))
    },
    1542: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(186)
              , c = i(438)
              , h = i(19)
              , d = i(1739)
              , p = i.n(d)
              , u = {
                COMMENT_ADDED: "COMMENT_ADDED"
            }
              , m = s.a.View.extend({
                template: n.a.template(p.a),
                events: {
                    "click .add-comment-button": "onAddCommentClicked",
                    "focus .add-comment-textarea": "onTextareaFocus",
                    "blur .add-comment-textarea": "onTextareaBlur",
                    "click a.profile": "onProfileClicked"
                },
                initialize: function(e) {
                    this.initializeAddCommentView(e)
                },
                initializeAddCommentView: function(e) {
                    this.resourceType = e.resourceType,
                    this.resourceId = e.resourceId,
                    this.conversation = e.conversation,
                    this.maxLength = 1e3
                },
                onAddCommentClicked: function() {
                    this.conversation.isNew() ? (this.conversation.once("sync", this.addComment, this),
                    this.conversation.save()) : this.addComment()
                },
                addComment: function() {
                    var t = this.$(".add-comment-textarea")
                      , i = e.trim(t.val());
                    if (0 !== i.length) {
                        var a = this.createComment(i);
                        a.once("sync", this.onCommentSaved, this),
                        a.save(),
                        t.val(""),
                        t.removeClass("active"),
                        this.$(".add-comment-button-wrapper").hide()
                    }
                },
                createComment: function(e) {
                    var t = this.conversation.get("numberOfComments");
                    return this.conversation.set("numberOfComments", ++t),
                    "VIVOKID_ADHOC_CHALLENGE" === this.resourceType || "VIVOKID_TEAM_CHALLENGE" === this.resourceType ? new c.a({
                        conversationUuid: this.conversation.get("conversationUuid"),
                        conversationCommentUuid: null,
                        body: e,
                        numberOfLikes: 0
                    }) : new l.a({
                        conversationUuid: this.conversation.get("conversationUuid"),
                        conversationCommentUuid: null,
                        body: e,
                        numberOfLikes: 0
                    })
                },
                onCommentSaved: function(e) {
                    this.trigger(u.COMMENT_ADDED, e)
                },
                render: function() {
                    var e = (new Date).getMilliseconds();
                    this.$el.html(this.template({
                        Localizer: o.a,
                        maxLength: this.maxLength,
                        socialProfile: h.a.toJSON(),
                        elementId: e
                    }))
                },
                onTextareaFocus: function(t) {
                    e(t.currentTarget).addClass("active"),
                    this.$(".add-comment-button-wrapper").show()
                },
                onTextareaBlur: function(t) {
                    var i = e(t.currentTarget);
                    i.val().length || (i.removeClass("active"),
                    this.$(".add-comment-button-wrapper").hide())
                },
                onProfileClicked: function(e) {
                    e.preventDefault(),
                    e.stopPropagation();
                    var t = "/profile/" + h.a.get("displayName");
                    s.a.history.navigate(t, {
                        trigger: !0
                    })
                }
            });
            m.Events = u,
            t.a = m
        }
        ).call(this, i(10))
    },
    1553: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = n.a.Model.extend({
            initialize: function() {}
        })
          , s = i(82);
        t.a = n.a.Collection.extend({
            model: r,
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/clips"
            },
            initialize: function(e, t) {
                if ("undefined" === typeof t.activityId)
                    throw "ActivitySplits requires an activity ID";
                this.activityId = t.activityId
            },
            getHighlightedTimeRanges: function() {
                var e = [];
                return this.forEach(function(t) {
                    e.push({
                        start: s.a.parseISOUTC(t.get("startTimeGMT")).getTime(),
                        end: s.a.parseISOUTC(t.get("endTimeGMT")).getTime()
                    })
                }),
                e
            }
        })
    },
    1566: function(e, t, i) {
        "use strict";
        var a = function() {
            return this
        };
        a.prototype.fetch = function() {}
        ,
        t.a = a
    },
    1574: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a).a.Model.extend({
            initialize: function(e) {
                this.latestDate = e ? e.latestDate : new Date
            },
            url: function() {
                if (0 === this.latestDate.length)
                    throw new Error("Date must be given.");
                return "/proxy/weight-service/weight/latest?date=" + this.latestDate + "&ignorePriority=true"
            },
            setLatestDate: function(e) {
                this.latestDate = e
            }
        });
        t.a = n
    },
    1575: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = (i(18),
            i(28),
            n.a.Model.extend({
                initialize: function(e) {},
                url: function() {
                    var e = "/proxy/weight-service/weight";
                    return "undefined" != typeof this.get("isFirst") && (e += "/first"),
                    e
                },
                destroy: function(t) {
                    var i = "/proxy/biometric-service/biometric/" + this.get("date")
                      , a = e.extend({
                        url: i
                    }, t || {});
                    return n.a.Model.prototype.destroy.call(this, a)
                },
                save: function(t, i) {
                    var a = e.extend({
                        url: "/proxy/weight-service/user-weight"
                    }, i || {});
                    return n.a.Model.prototype.save.call(this, t, a)
                }
            }));
            t.a = r
        }
        ).call(this, i(7))
    },
    1576: function(e, t, i) {
        var a, n;
        n = function(e) {
            !function(e) {
                var t = e.merge
                  , i = e.addEvent
                  , a = e.extend
                  , n = e.each
                  , r = e.isString
                  , s = e.isNumber
                  , o = e.defined
                  , l = e.isObject
                  , c = e.inArray
                  , h = e.erase
                  , d = e.find
                  , p = e.format
                  , u = e.pick
                  , m = e.objectEach
                  , g = e.uniqueKey
                  , f = e.doc
                  , v = e.splat
                  , y = e.destroyObjectProperties
                  , A = e.grep
                  , _ = e.Tooltip.prototype
                  , b = e.Series.prototype
                  , C = e.Chart.prototype
                  , w = {
                    arrow: {
                        tagName: "marker",
                        render: !1,
                        id: "arrow",
                        refY: 5,
                        refX: 5,
                        markerWidth: 10,
                        markerHeight: 10,
                        children: [{
                            tagName: "path",
                            d: "M 0 0 L 10 5 L 0 10 Z",
                            strokeWidth: 0
                        }]
                    }
                }
                  , x = {
                    markerSetter: function(e) {
                        return function(t) {
                            this.attr(e, "url(#" + t + ")")
                        }
                    }
                };
                a(x, {
                    markerEndSetter: x.markerSetter("marker-end"),
                    markerStartSetter: x.markerSetter("marker-start")
                }),
                e.SVGRenderer.prototype.definition = function(e) {
                    var t = this;
                    return function e(i, a) {
                        var r;
                        return n(v(i), function(i) {
                            var n = t.createElement(i.tagName)
                              , s = {};
                            m(i, function(e, t) {
                                "tagName" !== t && "children" !== t && "textContent" !== t && (s[t] = e)
                            }),
                            n.attr(s),
                            n.add(a || t.defs),
                            i.textContent && n.element.appendChild(f.createTextNode(i.textContent)),
                            e(i.children || [], n),
                            r = n
                        }),
                        r
                    }(e)
                }
                ,
                e.SVGRenderer.prototype.addMarker = function(i, a) {
                    var n = {
                        id: i
                    }
                      , r = {
                        stroke: a.color || "none",
                        fill: a.color || "rgba(0, 0, 0, 0.75)"
                    };
                    return n.children = e.map(a.children, function(e) {
                        return t(r, e)
                    }),
                    (a = this.definition(t({
                        markerWidth: 20,
                        markerHeight: 20,
                        refX: 0,
                        refY: 0,
                        orient: "auto"
                    }, a, n))).id = i,
                    a
                }
                ;
                var S = e.MockPoint = function(e, t) {
                    this.mock = !0,
                    this.series = {
                        visible: !0,
                        chart: e,
                        getPlotBox: b.getPlotBox
                    },
                    this.init(e, t)
                }
                  , T = e.mockPoint = function(e, t) {
                    return new S(e,t)
                }
                ;
                S.prototype = {
                    init: function(e, t) {
                        var i = t.xAxis
                          , a = (i = o(i) ? e.xAxis[i] || e.get(i) : null,
                        t.yAxis);
                        e = o(a) ? e.yAxis[a] || e.get(a) : null,
                        i ? (this.x = t.x,
                        this.series.xAxis = i) : this.plotX = t.x,
                        e ? (this.y = t.y,
                        this.series.yAxis = e) : this.plotY = t.y
                    },
                    translate: function() {
                        var e = (t = this.series).xAxis
                          , t = t.yAxis;
                        e && (this.plotX = e.toPixels(this.x, !0)),
                        t && (this.plotY = t.toPixels(this.y, !0)),
                        this.isInside = this.isInsidePane()
                    },
                    alignToBox: function(e) {
                        e && this.translate(),
                        e = this.plotX;
                        var t, i = this.plotY;
                        return this.series.chart.inverted && (t = e,
                        e = i,
                        i = t),
                        [e, i, 0, 0]
                    },
                    getLabelConfig: function() {
                        return {
                            x: this.x,
                            y: this.y,
                            point: this
                        }
                    },
                    isInsidePane: function() {
                        var e = this.plotX
                          , t = this.plotY
                          , i = this.series.xAxis
                          , a = this.series.yAxis
                          , n = !0;
                        return i && (n = o(e) && 0 <= e && e <= i.len),
                        a && (n = n && o(t) && 0 <= t && t <= a.len),
                        n
                    }
                },
                e.defaultOptions.annotations = [];
                var E = e.Annotation = function(e, i) {
                    this.chart = e,
                    this.labels = [],
                    this.shapes = [],
                    this.userOptions = i,
                    this.options = t(this.defaultOptions, i),
                    this.init(e, i)
                }
                ;
                E.prototype = {
                    shapesWithoutBackground: ["connector"],
                    attrsMap: {
                        backgroundColor: "fill",
                        borderColor: "stroke",
                        borderWidth: "stroke-width",
                        dashStyle: "dashstyle",
                        strokeWidth: "stroke-width",
                        stroke: "stroke",
                        fill: "fill",
                        zIndex: "zIndex",
                        width: "width",
                        height: "height",
                        borderRadius: "r",
                        r: "r",
                        padding: "padding"
                    },
                    defaultOptions: {
                        visible: !0,
                        labelOptions: {
                            align: "center",
                            allowOverlap: !1,
                            backgroundColor: "rgba(0, 0, 0, 0.75)",
                            borderColor: "black",
                            borderRadius: 3,
                            borderWidth: 1,
                            className: "",
                            crop: !1,
                            formatter: function() {
                                return o(this.y) ? this.y : "Annotation label"
                            },
                            overflow: "justify",
                            padding: 5,
                            shadow: !1,
                            shape: "callout",
                            style: {
                                fontSize: "11px",
                                fontWeight: "normal",
                                color: "contrast"
                            },
                            useHTML: !1,
                            verticalAlign: "bottom",
                            x: 0,
                            y: -16
                        },
                        shapeOptions: {
                            stroke: "rgba(0, 0, 0, 0.75)",
                            strokeWidth: 1,
                            fill: "rgba(0, 0, 0, 0.75)",
                            r: 0
                        },
                        zIndex: 6
                    },
                    init: function() {
                        var e = this;
                        n(this.options.labels || [], this.initLabel, this),
                        n(this.options.shapes || [], this.initShape, this),
                        this.labelCollector = function() {
                            return A(e.labels, function(e) {
                                return !e.options.allowOverlap
                            })
                        }
                        ,
                        this.chart.labelCollectors.push(this.labelCollector)
                    },
                    redraw: function() {
                        this.group || this.render(),
                        this.redrawItems(this.shapes),
                        this.redrawItems(this.labels)
                    },
                    redrawItems: function(e) {
                        for (var t = e.length; t--; )
                            this.redrawItem(e[t])
                    },
                    render: function() {
                        var e = this.chart.renderer
                          , t = this.group = e.g("annotation").attr({
                            zIndex: this.options.zIndex,
                            visibility: this.options.visible ? "visible" : "hidden"
                        }).add();
                        this.shapesGroup = e.g("annotation-shapes").add(t),
                        this.labelsGroup = e.g("annotation-labels").attr({
                            translateX: 0,
                            translateY: 0
                        }).add(t),
                        this.shapesGroup.clip(this.chart.plotBoxClip)
                    },
                    setVisible: function(e) {
                        var t = this.options;
                        e = u(e, !t.visible),
                        this.group.attr({
                            visibility: e ? "visible" : "hidden"
                        }),
                        t.visible = e
                    },
                    destroy: function() {
                        var e = this.chart
                          , t = function(e) {
                            e.destroy()
                        };
                        h(this.chart.labelCollectors, this.labelCollector),
                        n(this.labels, t),
                        n(this.shapes, t),
                        y(this, e)
                    },
                    initShape: function(e) {
                        var i = this.chart.renderer;
                        e = t(this.options.shapeOptions, e);
                        var n = this.attrsFromOptions(e)
                          , r = i[e.type] ? e.type : "rect";
                        (i = i[r](0, -9e9, 0, 0)).points = [],
                        i.type = r,
                        i.options = e,
                        i.itemType = "shape",
                        "path" === r && a(i, {
                            markerStartSetter: x.markerStartSetter,
                            markerEndSetter: x.markerEndSetter,
                            markerStart: x.markerStart,
                            markerEnd: x.markerEnd
                        }),
                        i.attr(n),
                        e.className && i.addClass(e.className),
                        this.shapes.push(i)
                    },
                    initLabel: function(e) {
                        e = t(this.options.labelOptions, e);
                        var i = this.attrsFromOptions(e)
                          , a = this.chart.renderer.label("", 0, -9e9, e.shape, null, null, e.useHTML, null, "annotation-label");
                        a.points = [],
                        a.options = e,
                        a.itemType = "label",
                        a.labelrank = e.labelrank,
                        a.annotation = this,
                        a.attr(i),
                        "contrast" === (i = e.style).color && (i.color = this.chart.renderer.getContrast(-1 < c(e.shape, this.shapesWithoutBackground) ? "#FFFFFF" : e.backgroundColor)),
                        a.css(i).shadow(e.shadow),
                        e.className && a.addClass(e.className),
                        this.labels.push(a)
                    },
                    redrawItem: function(e) {
                        var t, i = this.linkPoints(e), a = e.options, n = this.chart.time;
                        i.length ? (e.parentGroup || this.renderItem(e),
                        "label" === e.itemType && (t = a.format || a.text,
                        e.attr({
                            text: t ? p(t, i[0].getLabelConfig(), n) : a.formatter.call(i[0])
                        })),
                        "path" === e.type ? this.redrawPath(e) : this.alignItem(e, !e.placed)) : this.destroyItem(e)
                    },
                    destroyItem: function(e) {
                        h(this[e.itemType + "s"], e),
                        e.destroy()
                    },
                    pointItem: function(e, t) {
                        return t && null !== t.series || (l(e) ? t = T(this.chart, e) : r(e) && (t = this.chart.get(e) || null)),
                        t
                    },
                    linkPoints: function(t) {
                        var i, a, n = t.options.points || t.options.point && e.splat(t.options.point), r = t.points, s = n && n.length;
                        for (i = 0; i < s; i++) {
                            if (!(a = this.pointItem(n[i], r[i])))
                                return t.points = [];
                            r[i] = a
                        }
                        return r
                    },
                    alignItem: function(e, t) {
                        var i = this.itemAnchor(e, e.points[0])
                          , a = this.itemPosition(e, i);
                        a ? (e.alignAttr = a,
                        e.placed = !0,
                        a.anchorX = i.absolutePosition.x,
                        a.anchorY = i.absolutePosition.y,
                        e[t ? "attr" : "animate"](a)) : (e.placed = !1,
                        e.attr({
                            x: 0,
                            y: -9e9
                        }))
                    },
                    redrawPath: function(e, t) {
                        var i, a, n = e.points, r = e["stroke-width"] || 1, s = ["M"], o = 0, l = 0, c = n && n.length;
                        if (c)
                            do {
                                a = n[o],
                                i = this.itemAnchor(e, a).absolutePosition,
                                s[++l] = i.x,
                                s[++l] = i.y,
                                0 === (i = l % 5) && (s[i + 1] === s[i + 4] && (s[i + 1] = s[i + 4] = Math.round(s[i + 1]) - r % 2 / 2),
                                s[i + 2] === s[i + 5] && (s[i + 2] = s[i + 5] = Math.round(s[i + 2]) + r % 2 / 2)),
                                o < c - 1 && (s[++l] = "L"),
                                a = a.series.visible
                            } while (++o < c && a);a ? e[t ? "attr" : "animate"]({
                            d: s
                        }) : e.attr({
                            d: "M 0 -9000000000"
                        }),
                        e.placed = a
                    },
                    renderItem: function(e) {
                        e.add("label" === e.itemType ? this.labelsGroup : this.shapesGroup),
                        this.setItemMarkers(e)
                    },
                    setItemMarkers: function(e) {
                        var i = e.options
                          , a = this.chart
                          , r = a.options.defs
                          , s = i.fill
                          , l = o(s) && "none" !== s ? s : i.stroke;
                        n(["markerStart", "markerEnd"], function(n) {
                            var s, o, c, h = i[n];
                            if (h) {
                                for (c in r)
                                    if (h === (s = r[c]).id && "marker" === s.tagName) {
                                        o = s;
                                        break
                                    }
                                o && (h = e[n] = a.renderer.addMarker((i.id || g()) + "-" + o.id, t(o, {
                                    color: l
                                })),
                                e.attr(n, h.attr("id")))
                            }
                        })
                    },
                    itemAnchor: function(e, i) {
                        return e = i.series.getPlotBox(),
                        {
                            relativePosition: i = {
                                x: (i = i.mock ? i.alignToBox(!0) : _.getAnchor.call({
                                    chart: this.chart
                                }, i))[0],
                                y: i[1],
                                height: i[2] || 0,
                                width: i[3] || 0
                            },
                            absolutePosition: t(i, {
                                x: i.x + e.translateX,
                                y: i.y + e.translateY
                            })
                        }
                    },
                    itemPosition: function(e, t) {
                        var i, n = this.chart, r = e.points[0], s = e.options, l = t.absolutePosition, c = t.relativePosition;
                        return (t = r.series.visible && S.prototype.isInsidePane.call(r)) && (o(s.distance) || s.positioner ? i = (s.positioner || _.getPosition).call({
                            chart: n,
                            distance: u(s.distance, 16)
                        }, e.width, e.height, {
                            plotX: c.x,
                            plotY: c.y,
                            negative: r.negative,
                            ttBelow: r.ttBelow,
                            h: c.height || c.width
                        }) : (r = {
                            x: l.x,
                            y: l.y,
                            width: 0,
                            height: 0
                        },
                        i = this.alignedPosition(a(s, {
                            width: e.width,
                            height: e.height
                        }), r),
                        "justify" === e.options.overflow && (i = this.alignedPosition(this.justifiedOptions(e, s, i), r))),
                        s.crop && (s = i.x - n.plotLeft,
                        r = i.y - n.plotTop,
                        t = n.isInsidePlot(s, r) && n.isInsidePlot(s + e.width, r + e.height))),
                        t ? i : null
                    },
                    alignedPosition: function(e, t) {
                        var i, a, n = e.align, r = e.verticalAlign, s = (t.x || 0) + (e.x || 0), o = (t.y || 0) + (e.y || 0);
                        return "right" === n ? i = 1 : "center" === n && (i = 2),
                        i && (s += (t.width - (e.width || 0)) / i),
                        "bottom" === r ? a = 1 : "middle" === r && (a = 2),
                        a && (o += (t.height - (e.height || 0)) / a),
                        {
                            x: Math.round(s),
                            y: Math.round(o)
                        }
                    },
                    justifiedOptions: function(e, t, i) {
                        var a = this.chart
                          , n = t.align
                          , r = t.verticalAlign
                          , s = e.box ? 0 : e.padding || 0
                          , o = e.getBBox();
                        e = {
                            align: n,
                            verticalAlign: r,
                            x: t.x,
                            y: t.y,
                            width: e.width,
                            height: e.height
                        },
                        t = i.x - a.plotLeft;
                        var l = i.y - a.plotTop;
                        return 0 > (i = t + s) && ("right" === n ? e.align = "left" : e.x = -i),
                        (i = t + o.width - s) > a.plotWidth && ("left" === n ? e.align = "right" : e.x = a.plotWidth - i),
                        0 > (i = l + s) && ("bottom" === r ? e.verticalAlign = "top" : e.y = -i),
                        (i = l + o.height - s) > a.plotHeight && ("top" === r ? e.verticalAlign = "bottom" : e.y = a.plotHeight - i),
                        e
                    },
                    attrsFromOptions: function(e) {
                        var t, i, a = this.attrsMap, n = {};
                        for (t in e)
                            (i = a[t]) && (n[i] = e[t]);
                        return n
                    }
                },
                e.extend(C, {
                    addAnnotation: function(e, t) {
                        var i = new E(this,e);
                        return this.annotations.push(i),
                        this.options.annotations.push(e),
                        u(t, !0) && i.redraw(),
                        i
                    },
                    removeAnnotation: function(e) {
                        var t = this.annotations
                          , i = d(t, function(t) {
                            return t.options.id === e
                        });
                        i && (h(this.options.annotations, i.userOptions),
                        h(t, i),
                        i.destroy())
                    },
                    drawAnnotations: function() {
                        var e = this.plotBoxClip
                          , t = this.plotBox;
                        e ? e.attr(t) : this.plotBoxClip = this.renderer.clipRect(t),
                        n(this.annotations, function(e) {
                            e.redraw()
                        })
                    }
                }),
                C.callbacks.push(function(e) {
                    e.annotations = [],
                    n(e.options.annotations, function(t) {
                        e.annotations.push(new E(e,t))
                    }),
                    e.drawAnnotations(),
                    i(e, "redraw", e.drawAnnotations),
                    i(e, "destroy", function() {
                        var t = e.plotBoxClip;
                        t && t.destroy && t.destroy()
                    })
                }),
                i(e.Chart, "afterGetContainer", function() {
                    this.options.defs = t(w, this.options.defs || {}),
                    m(this.options.defs, function(e) {
                        "marker" === e.tagName && !1 !== e.render && this.renderer.addMarker(e.id, e)
                    }, this)
                }),
                e.SVGRenderer.prototype.symbols.connector = function(e, t, i, a, n) {
                    var r = n && n.anchorX;
                    n = n && n.anchorY;
                    var o, l, c = i / 2;
                    return s(r) && s(n) && (o = ["M", r, n],
                    0 > (l = t - n) && (l = -a - l),
                    l < i && (c = r < e + i / 2 ? l : i - l),
                    n > t + a ? o.push("L", e + c, t + a) : n < t ? o.push("L", e + c, t) : r < e ? o.push("L", e, t + a / 2) : r > e + i && o.push("L", e + i, t + a / 2)),
                    o || []
                }
            }(e)
        }
        ,
        "object" === typeof e && e.exports ? e.exports = n : void 0 === (a = function() {
            return n
        }
        .call(t, i, t, e)) || (e.exports = a)
    },
    1579: function(e, t, i) {
        "use strict";
        t.a = {
            "BENCH_PRESS/BARBELL_BENCH_PRESS": "Ex66",
            "BENCH_PRESS/BARBELL_FLOOR_PRESS": "Ex63",
            "BENCH_PRESS/CLOSE_GRIP_BARBELL_BENCH_PRESS": "Ex65",
            "BENCH_PRESS/DUMBBELL_BENCH_PRESS": "Ex174",
            "BENCH_PRESS/DUMBBELL_FLOOR_PRESS": "Ex43",
            "BENCH_PRESS/INCLINE_DUMBBELL_BENCH_PRESS": "Ex175",
            "BENCH_PRESS/KETTLEBELL_CHEST_PRESS": "Ex414",
            "BENCH_PRESS/PARTIAL_LOCKOUT": "Ex6083",
            "CARDIO/CARDIO_CORE_CRAWL": "Ex788",
            "CARDIO/JUMPING_JACKS": "Ex533",
            "CARDIO/JUMP_ROPE": "Ex783",
            "CARDIO/SQUAT_JACKS": "Ex6113",
            "CORE/ARM_AND_LEG_EXTENSION_ON_KNEES": "PL-IN-0039",
            "CORE/BARBELL_ROLLOUT": "Ex6015",
            "CORE/BICEP_CURL_WITH_LEG_EXTENSION": "PL-IN-0025",
            "CORE/BICEP_CURL_WITH_LEG_EXTENSION_WITH_WEIGHTS": "GCE_BICEP_CURL_WITH_LEG_EXTENSION_WITH_WEIGHTS",
            "CORE/BICYCLE": "PL-IN-0034",
            "CORE/CAT_COW": "PL-IN-0038",
            "CORE/CORKSCREW": "PL-IN-0016",
            "CORE/CRISS_CROSS": "PL-IN-0009",
            "CORE/DOUBLE_LEG_STRETCH": "PL-IN-0008",
            "CORE/KNEELING_AB_WHEEL": "Ex6066",
            "CORE/KNEE_FOLDS": "PL-IN-0001",
            "CORE/LOWER_LIFT": "PL-IN-0011",
            "CORE/LOWER_LIFT_WITH_WEIGHTS": "GCE_LOWER_LIFT_WITH_WEIGHTS",
            "CORE/NECK_PULL": "PL-IN-0017",
            "CORE/PELVIC_CLOCKS": "PL-IN-0015",
            "CORE/ROLLING": "PL-IN-0006",
            "CORE/ROLL_OVER": "PL-IN-0004",
            "CORE/ROLL_UP": "PL-IN-0003",
            "CORE/ROWING_1": "PL-IN-0018",
            "CORE/ROWING_1_WITH_WEIGHTS": "GCE_ROWING_1_WITH_WEIGHTS",
            "CORE/ROWING_2": "PL-IN-0019",
            "CORE/ROWING_2_WITH_WEIGHTS": "GCE_ROWING_2_WITH_WEIGHTS",
            "CORE/RUSSIAN_TWIST": "Ex726",
            "CORE/SCISSORS": "PL-IN-0010",
            "CORE/SCISSORS_WITH_WEIGHTS": "GCE_SCISSORS_WITH_WEIGHTS",
            "CORE/SINGLE_LEG_CIRCLES": "PL-IN-0005",
            "CORE/SINGLE_LEG_STRETCH": "GCE_SINGLE_LEG_STRETCH",
            "CORE/SINGLE_LEG_STRETCH_WITH_WEIGHTS": "GCE_SINGLE_LEG_STRETCH_WITH_WEIGHTS",
            "CORE/SNAKE_TWIST_1_AND_2": "PL-IN-0043",
            "CORE/SWAN": "PL-IN-0027",
            "CORE/SWIMMING": "PL-IN-0028",
            "CORE/SWISS_BALL_JACKKNIFE": "Ex803",
            "CORE/SWISS_BALL_ROLLOUT": "Ex595",
            "CORE/TEASER": "PL-IN-0050",
            "CORE/THE_HUNDRED": "PL-IN-0002",
            "CORE/WEIGHTED_CRISS_CROSS": "GCE_WEIGHTED_CRISS_CROSS",
            "CORE/WEIGHTED_DOUBLE_LEG_STRETCH": "GCE_WEIGHTED_DOUBLE_LEG_STRETCH",
            "CORE/WEIGHTED_THE_HUNDRED": "GCE_WEIGHTED_THE_HUNDRED",
            "CRUNCH/BICYCLE_CRUNCH": "Ex629",
            "CRUNCH/CABLE_CRUNCH": "Ex6024",
            "CRUNCH/CRUNCH": "Ex969",
            "CRUNCH/HANGING_KNEE_RAISE_OBLIQUE_CRUNCH": "Ex867",
            "CRUNCH/KNEELING_CABLE_CRUNCH": "Ex300",
            "CRUNCH/REVERSE_CRUNCH": "Ex719",
            "CRUNCH/REVERSE_CRUNCH_ON_A_BENCH": "Ex841",
            "CRUNCH/SKATER_CRUNCH_CROSS": "Ex624",
            "CRUNCH/STRAIGHT_LEG_CRUNCH_WITH_BALL": "PL-IN-0012",
            "CRUNCH/SWISS_BALL_CRUNCH": "Ex973",
            "CURL/ALTERNATING_DUMBBELL_BICEPS_CURL": "Ex146",
            "CURL/ALTERNATING_INCLINE_DUMBBELL_BICEPS_CURL": "Ex181",
            "CURL/BARBELL_BICEPS_CURL": "Ex137",
            "CURL/DEAD_HANG_BICEPS_CURL": "Ex6035",
            "CURL/DUMBBELL_HAMMER_CURL": "Ex6040",
            "CURL/FORWARD_BEND_BICEPS_CURL": "Ex136",
            "CURL/ONE_ARM_CONCENTRATION_CURL": "Ex48",
            "CURL/SEATED_ALTERNATING_DUMBBELL_BICEPS_CURL": "Ex180",
            "CURL/STANDING_ALTERNATING_DUMBBELL_CURLS": "Ex6116",
            "CURL/STANDING_DUMBBELL_BICEPS_CURL": "Ex147",
            "DEADLIFT/BARBELL_DEADLIFT": "Ex339",
            "DEADLIFT/BARBELL_STRAIGHT_LEG_DEADLIFT": "Ex6017",
            "DEADLIFT/DUMBBELL_DEADLIFT": "Ex37",
            "DEADLIFT/DUMBBELL_STRAIGHT_LEG_DEADLIFT": "Ex368",
            "DEADLIFT/SINGLE_LEG_DEADLIFT_WITH_BARBELL": "Ex81",
            "FLYE/ARM_ROTATIONS": "PL-IN-0023",
            "FLYE/DUMBBELL_FLYE": "Ex50",
            "FLYE/HUG_A_TREE": "PL-IN-0020",
            "HIP_RAISE/BARBELL_HIP_THRUST_ON_FLOOR": "Ex104",
            "HIP_RAISE/CLAMS": "PL-IN-0035",
            "HIP_RAISE/HIP_RAISE": "Ex422",
            "HIP_RAISE/KETTLEBELL_SWING": "Ex353",
            "HIP_RAISE/LEG_CIRCLES": "PL-IN-0033",
            "HIP_RAISE/LEG_LIFT": "PL-IN-0031",
            "HIP_RAISE/LEG_LIFT_IN_EXTERNAL_ROTATION": "PL-IN-0032",
            "HIP_RAISE/SINGLE_LEG_HIP_RAISE": "Ex417",
            "HIP_STABILITY/EXTERNAL_HIP_RAISE": "Ex730",
            "HIP_SWING/ONE_ARM_SWING": "Ex1120",
            "HIP_SWING/SINGLE_ARM_DUMBBELL_SWING": "Ex6096",
            "HYPEREXTENSION/COBRA": "PL-IN-0026",
            "HYPEREXTENSION/SWISS_BALL_HYPEREXTENSION": "Ex1092",
            "LATERAL_RAISE/ARM_CIRCLES": "Ex508",
            "LATERAL_RAISE/CABLE_FRONT_RAISE": "Ex270",
            "LATERAL_RAISE/SHAVING_THE_HEAD": "PL-IN-0021",
            "LEG_CURL/GOOD_MORNING": "Ex384",
            "LEG_RAISE/HANGING_LEG_RAISE": "Ex6057",
            "LUNGE/ALTERNATING_DUMBBELL_LUNGE": "Ex371",
            "LUNGE/ALTERNATING_DUMBBELL_LUNGE_WITH_REACH": "Ex432",
            "LUNGE/BARBELL_BULGARIAN_SPLIT_SQUAT": "Ex388",
            "LUNGE/BARBELL_SIDE_LUNGE": "Ex442",
            "LUNGE/DUMBBELL_REVERSE_LUNGE": "Ex375",
            "LUNGE/LOW_LUNGE_WITH_ISOMETRIC_ADDUCTION": "Ex438",
            "LUNGE/LUNGE": "Ex9054",
            "LUNGE/LUNGE_WITH_ARM_REACH": "Ex673",
            "LUNGE/OVERHEAD_DUMBBELL_LUNGE": "Ex1123",
            "LUNGE/OVERHEAD_DUMBBELL_SPLIT_SQUAT": "Ex1126",
            "LUNGE/REVERSE_SLIDING_LUNGE": "Ex6135",
            "LUNGE/RUNNERS_LUNGE_TO_BALANCE": "Ex446",
            "LUNGE/SHIFTING_SIDE_LUNGE": "Ex447",
            "LUNGE/SIDE_TO_SIDE_LUNGE_CHOPS": "Ex451",
            "LUNGE/WALKING_LUNGE": "Ex659",
            "MOVE/ARCH_AND_CURL": "GCE_ARCH_AND_CURL",
            "MOVE/ARM_CIRCLES_WITH_BALL_BAND_AND_WEIGHT": "GCE_ARM_CIRCLES_WITH_BALL_BAND_AND_WEIGHT",
            "MOVE/ARM_STRETCH": "GCE_ARM_STRETCH",
            "MOVE/BACK_MASSAGE": "GCE_BACK_MASSAGE",
            "MOVE/BELLY_BREATHING": "GCE_BELLY_BREATHING",
            "MOVE/BRIDGE_WITH_BALL": "GCE_BRIDGE_WITH_BALL",
            "MOVE/DIAMOND_LEG_CRUNCH": "GCE_DIAMOND_LEG_CRUNCH",
            "MOVE/DIAMOND_LEG_LIFT": "GCE_DIAMOND_LEG_LIFT",
            "MOVE/EIGHT_POINT_SHOULDER_OPENER": "YG-IN-0142",
            "MOVE/FOOTWORK": "GCE_FOOTWORK",
            "MOVE/FOOTWORK_ON_DISC": "GCE_FOOTWORK_ON_DISC",
            "MOVE/FOOT_ROLLING": "GCE_FOOT_ROLLING",
            "MOVE/FORWARD_FOLD": "GCE_FORWARD_FOLD",
            "MOVE/FROG_WITH_BAND": "GCE_FROG_WITH_BAND",
            "MOVE/HALF_ROLL_UP": "GCE_HALF_ROLL_UP",
            "MOVE/HAMSTRING_CURL": "GCE_HAMSTRING_CURL",
            "MOVE/HAMSTRING_STRETCH": "GCE_HAMSTRING_STRETCH",
            "MOVE/HIP_STRETCH": "GCE_HIP_STRETCH",
            "MOVE/HUG_A_TREE_WITH_BALL_BAND_AND_WEIGHT": "GCE_HUG_A_TREE_WITH_BALL_BAND_AND_WEIGHT",
            "MOVE/KNEE_CIRCLES": "GCE_KNEE_CIRCLES",
            "MOVE/KNEE_FOLDS_ON_DISC": "GCE_KNEE_FOLDS_ON_DISC",
            "MOVE/LATERAL_FLEXION": "GCE_LATERAL_FLEXION",
            "MOVE/LEG_STRETCH_WITH_BAND": "GCE_LEG_STRETCH_WITH_BAND",
            "MOVE/LEG_STRETCH_WITH_LEG_CIRCLES": "GCE_LEG_STRETCH_WITH_LEG_CIRCLES",
            "MOVE/LOWER_LIFT_ON_DISC": "GCE_LOWER_LIFT_ON_DISC",
            "MOVE/LUNGES_WITH_KNEE_LIFT": "GCE_LUNGES_WITH_KNEE_LIFT",
            "MOVE/LUNGE_SQUAT": "GCE_LUNGE_SQUAT",
            "MOVE/MERMAID_STRETCH": "GCE_MERMAID_STRETCH",
            "MOVE/NEUTRAL_PELVIC_POSITION": "GCE_NEUTRAL_PELVIC_POSITION",
            "MOVE/PELVIC_CLOCKS_ON_DISC": "GCE_PELVIC_CLOCKS_ON_DISC",
            "MOVE/PILATES_PLIE_SQUATS_PARALLEL_TURNED_OUT_FLAT_AND_HEELS_WITH_CHAIR": "GCE_PILATES_PLIE_SQUATS_PARALLEL_TURNED_OUT_FLAT_AND_HEELS_WITH_CHAIR",
            "MOVE/PIRIFORMIS_STRETCH": "GCE_PIRIFORMIS_STRETCH",
            "MOVE/PLANK_KNEE_CROSSES": "GCE_PLANK_KNEE_CROSSES",
            "MOVE/PLANK_KNEE_PULLS": "GCE_PLANK_KNEE_PULLS",
            "MOVE/PLANK_UP_DOWNS": "GCE_PLANK_UP_DOWNS",
            "MOVE/PRAYER_MUDRA": "YG-IN-0157",
            "MOVE/PSOAS_LUNGE_STRETCH": "GCE_PSOAS_LUNGE_STRETCH",
            "MOVE/RIBCAGE_BREATHING": "GCE_RIBCAGE_BREATHING",
            "MOVE/ROLL_DOWN": "GCE_ROLL_DOWN",
            "MOVE/ROLL_UP_WITH_WEIGHT_AND_BAND": "GCE_ROLL_UP_WITH_WEIGHT_AND_BAND",
            "MOVE/SAW": "GCE_SAW",
            "MOVE/SCAPULAR_STABILIZATION": "GCE_SCAPULAR_STABILIZATION",
            "MOVE/SCISSORS_ON_DISC": "GCE_SCISSORS_ON_DISC",
            "MOVE/SEATED_HIP_STRETCHUP": "GCE_SEATED_HIP_STRETCHUP",
            "MOVE/SEATED_TWIST": "GCE_SEATED_TWIST",
            "MOVE/SHAVING_THE_HEAD_WITH_BALL_BAND_AND_WEIGHT": "GCE_SHAVING_THE_HEAD_WITH_BALL_BAND_AND_WEIGHT",
            "MOVE/SPINAL_TWIST": "BBtOq4F",
            "MOVE/SPINAL_TWIST_STRETCH": "BBtOq4F",
            "MOVE/SPINE_STRETCH_FORWARD": "GCE_SPINE_STRETCH_FORWARD",
            "MOVE/SQUATS_STANDING": "GCE_SQUATS_STANDING",
            "MOVE/SQUATS_WITH_BALL": "GCE_SQUATS_WITH_BALL",
            "MOVE/STANDING_SIDE_STRETCH": "GCE_STANDING_SIDE_STRETCH",
            "MOVE/STANDING_SINGLE_LEG_FORWARD_BEND_WITH_IT_BAND_OPENER": "YG-IN-0055",
            "MOVE/STAND_AND_HANG": "GCE_STAND_AND_HANG",
            "MOVE/STRAIGHT_LEG_CRUNCH_WITH_LEGS_CROSSED_WITH_BALL": "GCE_STRAIGHT_LEG_CRUNCH_WITH_LEGS_CROSSED_WITH_BALL",
            "MOVE/STRAIGHT_LEG_CRUNCH_WITH_LEG_LIFT_WITH_BALL": "GCE_STRAIGHT_LEG_CRUNCH_WITH_LEG_LIFT_WITH_BALL",
            "MOVE/STRAIGHT_LEG_DIAGONAL_CRUNCH_WITH_BALL": "GCE_STRAIGHT_LEG_DIAGONAL_CRUNCH_WITH_BALL",
            "MOVE/TAILBONE_CURL": "GCE_TAILBONE_CURL",
            "MOVE/THROAT_LOCK": "YG-IN-0164",
            "MOVE/TICK_TOCK_SIDE_ROLL": "GCE_TICK_TOCK_SIDE_ROLL",
            "MOVE/TWIST": "GCE_TWIST",
            "MOVE/V_LEG_CRUNCHES": "GCE_V_LEG_CRUNCHES",
            "MOVE/V_SIT": "GCE_V_SIT",
            "PLANK/BRIDGE_ONE_LEG_BRIDGE": "PL-IN-0048",
            "PLANK/BRIDGE_WITH_GLUTE_LOWER_LIFT": "PL-IN-0049",
            "PLANK/CROSS_BODY_MOUNTAIN_CLIMBER": "Ex6033",
            "PLANK/ELEVATOR_ABS": "Ex728",
            "PLANK/MOUNTAIN_CLIMBER": "Ex684",
            "PLANK/MOUNTAIN_CLIMBER_ON_SLIDING_DISCS": "Ex833",
            "PLANK/MOUNTAIN_CLIMBER_WITH_FEET_ON_BOSU_BALL": "Ex968",
            "PLANK/PLANK": "Ex695",
            "PLANK/PLANK_WITH_ARM_RAISE": "Ex705",
            "PLANK/PLANK_WITH_ARM_VARIATIONS": "PL-IN-0040",
            "PLANK/PLANK_WITH_LEG_LIFT": "PL-IN-0041",
            "PLANK/PLANK_WITH_OBLIQUE_CRUNCH": "Ex708",
            "PLANK/REVERSE_PLANK_WITH_LEG_PULL": "PL-IN-0044",
            "PLANK/SIDE_PLANK": "PL-IN-0042",
            "PLANK/SIDE_PLANK_AND_ROW": "Ex768",
            "PLANK/SIDE_PLANK_WITH_FEET_ON_BENCH": "Ex627",
            "PLANK/WEIGHTED_PLANK": "Ex862",
            "PLANK/_45_DEGREE_PLANK": "Ex961",
            "PLYO/ALTERNATING_JUMP_LUNGE": "Ex377",
            "PLYO/BARBELL_JUMP_SQUAT": "Ex118",
            "PLYO/BODY_WEIGHT_JUMP_SQUAT": "Ex357",
            "PLYO/MEDICINE_BALL_SLAM": "Ex746",
            "PLYO/SIDE_TO_SIDE_SHUFFLE_JUMP": "Ex1110",
            "POSE/ALL_FOURS": "YG-IN-0026",
            "POSE/ANKLE_TO_KNEE": "YG-IN-0013",
            "POSE/BABY_COBRA": "YG-IN-0093",
            "POSE/BOAT": "YG-IN-0023",
            "POSE/BOUND_ANGLE": "YG-IN-0011",
            "POSE/BOUND_SEATED_SINGLE_LEG_FORWARD_BEND": "YG-IN-0030",
            "POSE/BOW": "YG-IN-0098",
            "POSE/BOWED_HALF_MOON": "YG-IN-0070",
            "POSE/BRIDGE": "YG-IN-0101",
            "POSE/CAT": "YG-IN-0027",
            "POSE/CHAIR": "YG-IN-0078",
            "POSE/CHILDS": "YG-IN-0035",
            "POSE/CORPSE": "YG-IN-0151",
            "POSE/COW": "YG-IN-0028",
            "POSE/COW_FACE": "YG-IN-0014",
            "POSE/DEVOTIONAL_WARRIOR": "YG-IN-0063",
            "POSE/DOLPHIN": "YG-IN-0118",
            "POSE/DOLPHIN_PLANK": "YG-IN-0116",
            "POSE/DOWNWARD_FACING_DOG": "YG-IN-0085",
            "POSE/DOWN_DOG_KNEE_TO_NOSE": "YG-IN-0088",
            "POSE/DOWN_DOG_SPLIT": "YG-IN-0086",
            "POSE/DOWN_DOG_SPLIT_OPEN_HIP_BENT_KNEE": "BBtOfma",
            "POSE/DOWN_DOG_SPLIT_POSE_OPEN_HIP_BENT_KNEE": "YG-IN-0087",
            "POSE/EAGLE": "YG-IN-0082",
            "POSE/EASY_SEATED": "YG-IN-0002",
            "POSE/EXTENDED_PUPPY": "YG-IN-0037",
            "POSE/EXTENDED_SIDE_ANGLE": "YG-IN-0064",
            "POSE/FISH": "YG-IN-0100",
            "POSE/FOUR_LIMBED_STAFF": "YG-IN-0110",
            "POSE/FULL_SPLIT": "YG-IN-0021",
            "POSE/GATE": "YG-IN-0052",
            "POSE/HALF_CHAIR_HALF_ANKLE_TO_KNEE": "YG-IN-0077",
            "POSE/HALF_MOON": "YG-IN-0069",
            "POSE/HEAD_TO_KNEE": "YG-IN-0033",
            "POSE/HERON": "YG-IN-0039",
            "POSE/HEROS": "YG-IN-0009",
            "POSE/HIGH_LUNGE": "YG-IN-0057",
            "POSE/KNEES_CHEST_CHIN": "YG-IN-0096",
            "POSE/LIZARD": "YG-IN-0053",
            "POSE/LOCUST": "YG-IN-0097",
            "POSE/LOW_LUNGE": "YG-IN-0049",
            "POSE/LOW_LUNGE_TWIST": "YG-IN-0050",
            "POSE/LOW_LUNGE_WITH_KNEE_DOWN": "YG-IN-0051",
            "POSE/MERMAID": "YG-IN-0017",
            "POSE/MOUNTAIN": "YG-IN-0040",
            "POSE/ONE_LEGGED_DOWNWARD_FACING_DOG_POSE_OPEN_HIP_BENT_KNEE": "YG-IN-0087",
            "POSE/ONE_LEGGED_DOWNWARD_FACING_POSE_OPEN_HIP_BENT_KNEE": "YG-IN-0087",
            "POSE/ONE_LEGGED_PIGEON": "YG-IN-0016",
            "POSE/PEACEFUL_WARRIOR": "YG-IN-0062",
            "POSE/PLOW": "YG-IN-0136",
            "POSE/RECLINED_HAND_TO_FOOT": "YG-IN-0150",
            "POSE/REVOLVED_HALF_MOON": "YG-IN-0071",
            "POSE/REVOLVED_HEAD_TO_KNEE": "YG-IN-0034",
            "POSE/REVOLVED_TRIANGLE": "YG-IN-0068",
            "POSE/RUNNERS_LUNGE": "YG-IN-0020",
            "POSE/SEATED_EASY_SIDE_BEND": "YG-IN-0003",
            "POSE/SEATED_EASY_TWIST": "YG-IN-0004",
            "POSE/SEATED_LONG_LEG_FORWARD_BEND": "YG-IN-0032",
            "POSE/SEATED_WIDE_LEG_FORWARD_BEND": "YG-IN-0031",
            "POSE/SHOULDER_STAND": "YG-IN-0140",
            "POSE/SIDE_BOAT": "YG-IN-0025",
            "POSE/SPHINX": "YG-IN-0092",
            "POSE/SQUAT_OPEN_ARM_TWIST": "YG-IN-0090",
            "POSE/SQUAT_PALM_PRESS": "YG-IN-0089",
            "POSE/STAFF": "YG-IN-0001",
            "POSE/STANDING_ARMS_UP": "YG-IN-0041",
            "POSE/STANDING_FORWARD_BEND": "YG-IN-0046",
            "POSE/STANDING_FORWARD_BEND_HALFWAY_UP": "YG-IN-0048",
            "POSE/STANDING_SIDE_OPENER": "YG-IN-0042",
            "POSE/STANDING_SINGLE_LEG_FORWARD_BEND": "YG-IN-0054",
            "POSE/STANDING_SPLIT": "YG-IN-0081",
            "POSE/STANDING_WIDE_LEG_FORWARD_BEND": "YG-IN-0043",
            "POSE/STANDING_WIDE_LEG_FORWARD_BEND_WITH_TWIST": "YG-IN-0044",
            "POSE/SUPINE_SPINAL_TWIST": "YG-IN-0149",
            "POSE/TABLE_TOP": "YG-IN-0115",
            "POSE/THREAD_THE_NEEDLE": "YG-IN-0036",
            "POSE/THUNDERBOLT": "YG-IN-0005",
            "POSE/THUNDERBOLT_POSE_BOTH_SIDES_ARM_STRETCH": "GCE_THUNDERBOLT_POSE_BOTH_SIDES_ARM_STRETCH",
            "POSE/TREE": "YG-IN-0072",
            "POSE/TRIANGLE": "YG-IN-0067",
            "POSE/UPWARD_FACING_PLANK": "YG-IN-0114",
            "POSE/UP_DOG": "YG-IN-0095",
            "POSE/WARRIOR_ONE": "YG-IN-0059",
            "POSE/WARRIOR_THREE": "YG-IN-0061",
            "POSE/WARRIOR_TWO": "YG-IN-0060",
            "POSE/WHEEL": "YG-IN-0103",
            "POSE/WIDE_SIDE_LUNGE": "YG-IN-0056",
            "PULL_UP/CHIN_UP": "Ex6030",
            "PULL_UP/LAT_PULLDOWN": "Ex313",
            "PULL_UP/PULL_UP": "Ex882",
            "PULL_UP/STANDING_CABLE_PULLOVER": "Ex305",
            "PULL_UP/WIDE_GRIP_LAT_PULLDOWN": "Ex316",
            "PUSH_UP/PILATES_PUSHUP": "PL-IN-0045",
            "PUSH_UP/PUSH_UP": "Ex419",
            "PUSH_UP/T_PUSH_UP": "Ex460",
            "ROW/ALTERNATING_DUMBBELL_ROW": "Ex6003",
            "ROW/CABLE_ROW_STANDING": "Ex260",
            "ROW/DUMBBELL_ROW": "Ex153",
            "ROW/FACE_PULL": "Ex262",
            "ROW/INVERTED_ROW": "Ex6061",
            "ROW/ONE_ARM_BENT_OVER_ROW": "Ex29",
            "ROW/RENEGADE_ROW": "Ex703",
            "ROW/REVERSE_GRIP_BARBELL_ROW": "Ex141",
            "ROW/SINGLE_ARM_NEUTRAL_GRIP_DUMBBELL_ROW_AND_ROTATION": "Ex6098",
            "RUN/JOG": "Ex9004",
            "RUN/RUN": "Ex9002",
            "SHOULDER_PRESS/ALTERNATING_DUMBBELL_SHOULDER_PRESS": "Ex1004",
            "SHOULDER_PRESS/BARBELL_FRONT_SQUAT_TO_PUSH_PRESS": "Ex492",
            "SHOULDER_PRESS/DUMBBELL_PUSH_PRESS": "Ex221",
            "SHOULDER_PRESS/DUMBBELL_SHOULDER_PRESS": "Ex211",
            "SHOULDER_PRESS/SINGLE_ARM_DUMBBELL_SHOULDER_PRESS": "Ex1006",
            "SHOULDER_PRESS/SINGLE_ARM_STEP_UP_AND_PRESS": "Ex478",
            "SHOULDER_PRESS/SMITH_MACHINE_OVERHEAD_PRESS": "Ex575",
            "SHRUG/BARBELL_UPRIGHT_ROW": "Ex144",
            "SIT_UP/GET_UP_SIT_UP": "Ex735",
            "SIT_UP/SIT_UP": "Ex6111",
            "SIT_UP/V_UP": "Ex822",
            "SQUAT/BACK_SQUAT_WITH_BODY_BAR": "Ex354",
            "SQUAT/BARBELL_BACK_SQUAT": "Ex116",
            "SQUAT/BARBELL_FRONT_SQUAT": "Ex90",
            "SQUAT/BARBELL_STEP_UP": "Ex379",
            "SQUAT/CROSSOVER_DUMBBELL_STEP_UP": "Ex1069",
            "SQUAT/DUMBBELL_FRONT_SQUAT": "Ex364",
            "SQUAT/DUMBBELL_SPLIT_SQUAT": "Ex158",
            "SQUAT/DUMBBELL_SQUAT": "Ex366",
            "SQUAT/DUMBBELL_STEP_UP": "Ex380",
            "SQUAT/GOBLET_SQUAT": "Ex160",
            "SQUAT/PILATES_PLIE_SQUATS_PARALLEL_TURNED_OUT_FLAT_AND_HEELS": "PL-IN-0046",
            "SQUAT/PRISONER_SQUAT": "Ex335",
            "SQUAT/RELEVE_STRAIGHT_LEG_AND_KNEE_BENT_WITH_ONE_LEG_VARIATION": "PL-IN-0047",
            "SQUAT/SQUAT": "Ex334",
            "SQUAT/SQUAT_AND_SIDE_KICK": "Ex1001",
            "SQUAT/SQUAT_JUMPS_IN_N_OUT": "Ex376",
            "SQUAT/WIDE_STANCE_GOBLET_SQUAT": "Ex35",
            "TOTAL_BODY/BURPEE": "Ex9056",
            "TOTAL_BODY/SQUAT_THRUSTS": "Ex511",
            "TRICEPS_EXTENSION/ALTERNATING_DUMBBELL_LYING_TRICEPS_EXTENSION": "Ex412",
            "TRICEPS_EXTENSION/CABLE_LYING_TRICEPS_EXTENSION": "Ex6025",
            "TRICEPS_EXTENSION/DUMBBELL_KICKBACK": "Ex348",
            "TRICEPS_EXTENSION/DUMBBELL_LYING_TRICEPS_EXTENSION": "Ex1075",
            "TRICEPS_EXTENSION/EZ_BAR_OVERHEAD_TRICEPS_EXTENSION": "Ex6045",
            "TRICEPS_EXTENSION/INCLINE_DIP": "Ex330",
            "TRICEPS_EXTENSION/REVERSE_GRIP_PRESSDOWN": "Ex278",
            "TRICEPS_EXTENSION/ROPE_PRESSDOWN": "Ex279",
            "TRICEPS_EXTENSION/SEATED_SINGLE_ARM_OVERHEAD_DUMBBELL_EXTENSION": "Ex1162",
            "TRICEPS_EXTENSION/SINGLE_LEG_DIP": "Ex643",
            "TRICEPS_EXTENSION/TRICEPS_EXTENSION_ON_FLOOR": "Ex60",
            "TRICEPS_EXTENSION/TRICEPS_PRESS": "PL-IN-0024",
            "TRICEPS_EXTENSION/TRICEPS_PRESSDOWN": "Ex284",
            "WARM_UP/OPPOSITE_ARM_AND_LEG_BALANCE": "Ex691"
        }
    },
    1583: function(e, t, i) {
        "use strict";
        i.d(t, "a", function() {
            return a
        });
        var a = function(e, t) {
            var i = Array.prototype.slice.call(e.querySelectorAll("thead tr"))
              , a = Array.prototype.slice.call(e.querySelectorAll("tbody tr"))
              , n = Array.prototype.slice.call(e.querySelectorAll("tfoot tr"))
              , r = String.fromCharCode(11)
              , s = String.fromCharCode(0)
              , o = '","'
              , l = '"\r\n"'
              , c = '"';
            if (i.length && (c += u(i.map(m))),
            a.length && (i.length && (c += l),
            c += u(a.map(m))),
            n.length && (c += l,
            c += u(n.map(m))),
            c += '"',
            navigator.msSaveBlob) {
                var h = new Blob([c],{
                    type: "text/csv;charset=utf-8;"
                });
                navigator.msSaveBlob(h, t)
            } else {
                var d = "data:application/csv;charset=utf-8," + encodeURIComponent(c)
                  , p = document.createElement("a");
                p.href = d,
                p.download = t,
                p.click()
            }
            function u(e) {
                return e.join(s).split(s).join(l).split(r).map(function(e) {
                    return e.trim()
                }).join(o)
            }
            function m(e) {
                var t = e.getElementsByTagName("td");
                return t.length || (t = e.getElementsByTagName("th")),
                Array.prototype.slice.call(t).map(g).join(r)
            }
            function g(e) {
                return e.innerText.replace('"', '""')
            }
        }
    },
    1585: function(module, exports, __webpack_require__) {
        var __WEBPACK_AMD_DEFINE_RESULT__, root, factory;
        "undefined" !== typeof navigator && (root = window || {},
        factory = function(window) {
            "use strict";
            var svgNS = "http://www.w3.org/2000/svg", locationHref = "", initialDefaultFrame = -999999, subframeEnabled = !0, expressionsPlugin, isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent), cachedColors = {}, bm_rounder = Math.round, bm_rnd, bm_pow = Math.pow, bm_sqrt = Math.sqrt, bm_abs = Math.abs, bm_floor = Math.floor, bm_max = Math.max, bm_min = Math.min, blitter = 10, BMMath = {};
            function ProjectInterface() {
                return {}
            }
            !function() {
                var e, t = ["abs", "acos", "acosh", "asin", "asinh", "atan", "atanh", "atan2", "ceil", "cbrt", "expm1", "clz32", "cos", "cosh", "exp", "floor", "fround", "hypot", "imul", "log", "log1p", "log2", "log10", "max", "min", "pow", "random", "round", "sign", "sin", "sinh", "sqrt", "tan", "tanh", "trunc", "E", "LN10", "LN2", "LOG10E", "LOG2E", "PI", "SQRT1_2", "SQRT2"], i = t.length;
                for (e = 0; e < i; e += 1)
                    BMMath[t[e]] = Math[t[e]]
            }(),
            BMMath.random = Math.random,
            BMMath.abs = function(e) {
                if ("object" === typeof e && e.length) {
                    var t, i = createSizedArray(e.length), a = e.length;
                    for (t = 0; t < a; t += 1)
                        i[t] = Math.abs(e[t]);
                    return i
                }
                return Math.abs(e)
            }
            ;
            var defaultCurveSegments = 150
              , degToRads = Math.PI / 180
              , roundCorner = .5519;
            function roundValues(e) {
                bm_rnd = e ? Math.round : function(e) {
                    return e
                }
            }
            function styleDiv(e) {
                e.style.position = "absolute",
                e.style.top = 0,
                e.style.left = 0,
                e.style.display = "block",
                e.style.transformOrigin = e.style.webkitTransformOrigin = "0 0",
                e.style.backfaceVisibility = e.style.webkitBackfaceVisibility = "visible",
                e.style.transformStyle = e.style.webkitTransformStyle = e.style.mozTransformStyle = "preserve-3d"
            }
            function BMEnterFrameEvent(e, t, i, a) {
                this.type = e,
                this.currentTime = t,
                this.totalTime = i,
                this.direction = a < 0 ? -1 : 1
            }
            function BMCompleteEvent(e, t) {
                this.type = e,
                this.direction = t < 0 ? -1 : 1
            }
            function BMCompleteLoopEvent(e, t, i, a) {
                this.type = e,
                this.currentLoop = i,
                this.totalLoops = t,
                this.direction = a < 0 ? -1 : 1
            }
            function BMSegmentStartEvent(e, t, i) {
                this.type = e,
                this.firstFrame = t,
                this.totalFrames = i
            }
            function BMDestroyEvent(e, t) {
                this.type = e,
                this.target = t
            }
            roundValues(!1);
            var createElementID = function() {
                var e = 0;
                return function() {
                    return "__lottie_element_" + ++e
                }
            }();
            function HSVtoRGB(e, t, i) {
                var a, n, r, s, o, l, c, h;
                switch (l = i * (1 - t),
                c = i * (1 - (o = 6 * e - (s = Math.floor(6 * e))) * t),
                h = i * (1 - (1 - o) * t),
                s % 6) {
                case 0:
                    a = i,
                    n = h,
                    r = l;
                    break;
                case 1:
                    a = c,
                    n = i,
                    r = l;
                    break;
                case 2:
                    a = l,
                    n = i,
                    r = h;
                    break;
                case 3:
                    a = l,
                    n = c,
                    r = i;
                    break;
                case 4:
                    a = h,
                    n = l,
                    r = i;
                    break;
                case 5:
                    a = i,
                    n = l,
                    r = c
                }
                return [a, n, r]
            }
            function RGBtoHSV(e, t, i) {
                var a, n = Math.max(e, t, i), r = Math.min(e, t, i), s = n - r, o = 0 === n ? 0 : s / n, l = n / 255;
                switch (n) {
                case r:
                    a = 0;
                    break;
                case e:
                    a = t - i + s * (t < i ? 6 : 0),
                    a /= 6 * s;
                    break;
                case t:
                    a = i - e + 2 * s,
                    a /= 6 * s;
                    break;
                case i:
                    a = e - t + 4 * s,
                    a /= 6 * s
                }
                return [a, o, l]
            }
            function addSaturationToRGB(e, t) {
                var i = RGBtoHSV(255 * e[0], 255 * e[1], 255 * e[2]);
                return i[1] += t,
                i[1] > 1 ? i[1] = 1 : i[1] <= 0 && (i[1] = 0),
                HSVtoRGB(i[0], i[1], i[2])
            }
            function addBrightnessToRGB(e, t) {
                var i = RGBtoHSV(255 * e[0], 255 * e[1], 255 * e[2]);
                return i[2] += t,
                i[2] > 1 ? i[2] = 1 : i[2] < 0 && (i[2] = 0),
                HSVtoRGB(i[0], i[1], i[2])
            }
            function addHueToRGB(e, t) {
                var i = RGBtoHSV(255 * e[0], 255 * e[1], 255 * e[2]);
                return i[0] += t / 360,
                i[0] > 1 ? i[0] -= 1 : i[0] < 0 && (i[0] += 1),
                HSVtoRGB(i[0], i[1], i[2])
            }
            var rgbToHex = function() {
                var e, t, i = [];
                for (e = 0; e < 256; e += 1)
                    t = e.toString(16),
                    i[e] = 1 == t.length ? "0" + t : t;
                return function(e, t, a) {
                    return e < 0 && (e = 0),
                    t < 0 && (t = 0),
                    a < 0 && (a = 0),
                    "#" + i[e] + i[t] + i[a]
                }
            }();
            function BaseEvent() {}
            BaseEvent.prototype = {
                triggerEvent: function(e, t) {
                    if (this._cbs[e])
                        for (var i = this._cbs[e].length, a = 0; a < i; a++)
                            this._cbs[e][a](t)
                },
                addEventListener: function(e, t) {
                    return this._cbs[e] || (this._cbs[e] = []),
                    this._cbs[e].push(t),
                    function() {
                        this.removeEventListener(e, t)
                    }
                    .bind(this)
                },
                removeEventListener: function(e, t) {
                    if (t) {
                        if (this._cbs[e]) {
                            for (var i = 0, a = this._cbs[e].length; i < a; )
                                this._cbs[e][i] === t && (this._cbs[e].splice(i, 1),
                                i -= 1,
                                a -= 1),
                                i += 1;
                            this._cbs[e].length || (this._cbs[e] = null)
                        }
                    } else
                        this._cbs[e] = null
                }
            };
            var createTypedArray = function() {
                return "function" === typeof Uint8ClampedArray && "function" === typeof Float32Array ? function(e, t) {
                    return "float32" === e ? new Float32Array(t) : "int16" === e ? new Int16Array(t) : "uint8c" === e ? new Uint8ClampedArray(t) : void 0
                }
                : function(e, t) {
                    var i, a = 0, n = [];
                    switch (e) {
                    case "int16":
                    case "uint8c":
                        i = 1;
                        break;
                    default:
                        i = 1.1
                    }
                    for (a = 0; a < t; a += 1)
                        n.push(i);
                    return n
                }
            }();
            function createSizedArray(e) {
                return Array.apply(null, {
                    length: e
                })
            }
            function createNS(e) {
                return document.createElementNS(svgNS, e)
            }
            function createTag(e) {
                return document.createElement(e)
            }
            function DynamicPropertyContainer() {}
            DynamicPropertyContainer.prototype = {
                addDynamicProperty: function(e) {
                    -1 === this.dynamicProperties.indexOf(e) && (this.dynamicProperties.push(e),
                    this.container.addDynamicProperty(this),
                    this._isAnimated = !0)
                },
                iterateDynamicProperties: function() {
                    this._mdf = !1;
                    var e, t = this.dynamicProperties.length;
                    for (e = 0; e < t; e += 1)
                        this.dynamicProperties[e].getValue(),
                        this.dynamicProperties[e]._mdf && (this._mdf = !0)
                },
                initDynamicPropertyContainer: function(e) {
                    this.container = e,
                    this.dynamicProperties = [],
                    this._mdf = !1,
                    this._isAnimated = !1
                }
            };
            var getBlendMode = function() {
                var e = {
                    0: "source-over",
                    1: "multiply",
                    2: "screen",
                    3: "overlay",
                    4: "darken",
                    5: "lighten",
                    6: "color-dodge",
                    7: "color-burn",
                    8: "hard-light",
                    9: "soft-light",
                    10: "difference",
                    11: "exclusion",
                    12: "hue",
                    13: "saturation",
                    14: "color",
                    15: "luminosity"
                };
                return function(t) {
                    return e[t] || ""
                }
            }()
              , Matrix = function() {
                var e = Math.cos
                  , t = Math.sin
                  , i = Math.tan
                  , a = Math.round;
                function n() {
                    return this.props[0] = 1,
                    this.props[1] = 0,
                    this.props[2] = 0,
                    this.props[3] = 0,
                    this.props[4] = 0,
                    this.props[5] = 1,
                    this.props[6] = 0,
                    this.props[7] = 0,
                    this.props[8] = 0,
                    this.props[9] = 0,
                    this.props[10] = 1,
                    this.props[11] = 0,
                    this.props[12] = 0,
                    this.props[13] = 0,
                    this.props[14] = 0,
                    this.props[15] = 1,
                    this
                }
                function r(i) {
                    if (0 === i)
                        return this;
                    var a = e(i)
                      , n = t(i);
                    return this._t(a, -n, 0, 0, n, a, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
                }
                function s(i) {
                    if (0 === i)
                        return this;
                    var a = e(i)
                      , n = t(i);
                    return this._t(1, 0, 0, 0, 0, a, -n, 0, 0, n, a, 0, 0, 0, 0, 1)
                }
                function o(i) {
                    if (0 === i)
                        return this;
                    var a = e(i)
                      , n = t(i);
                    return this._t(a, 0, n, 0, 0, 1, 0, 0, -n, 0, a, 0, 0, 0, 0, 1)
                }
                function l(i) {
                    if (0 === i)
                        return this;
                    var a = e(i)
                      , n = t(i);
                    return this._t(a, -n, 0, 0, n, a, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
                }
                function c(e, t) {
                    return this._t(1, t, e, 1, 0, 0)
                }
                function h(e, t) {
                    return this.shear(i(e), i(t))
                }
                function d(a, n) {
                    var r = e(n)
                      , s = t(n);
                    return this._t(r, s, 0, 0, -s, r, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, i(a), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(r, -s, 0, 0, s, r, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
                }
                function p(e, t, i) {
                    return i || 0 === i || (i = 1),
                    1 === e && 1 === t && 1 === i ? this : this._t(e, 0, 0, 0, 0, t, 0, 0, 0, 0, i, 0, 0, 0, 0, 1)
                }
                function u(e, t, i, a, n, r, s, o, l, c, h, d, p, u, m, g) {
                    return this.props[0] = e,
                    this.props[1] = t,
                    this.props[2] = i,
                    this.props[3] = a,
                    this.props[4] = n,
                    this.props[5] = r,
                    this.props[6] = s,
                    this.props[7] = o,
                    this.props[8] = l,
                    this.props[9] = c,
                    this.props[10] = h,
                    this.props[11] = d,
                    this.props[12] = p,
                    this.props[13] = u,
                    this.props[14] = m,
                    this.props[15] = g,
                    this
                }
                function m(e, t, i) {
                    return i = i || 0,
                    0 !== e || 0 !== t || 0 !== i ? this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, e, t, i, 1) : this
                }
                function g(e, t, i, a, n, r, s, o, l, c, h, d, p, u, m, g) {
                    var f = this.props;
                    if (1 === e && 0 === t && 0 === i && 0 === a && 0 === n && 1 === r && 0 === s && 0 === o && 0 === l && 0 === c && 1 === h && 0 === d)
                        return f[12] = f[12] * e + f[15] * p,
                        f[13] = f[13] * r + f[15] * u,
                        f[14] = f[14] * h + f[15] * m,
                        f[15] = f[15] * g,
                        this._identityCalculated = !1,
                        this;
                    var v = f[0]
                      , y = f[1]
                      , A = f[2]
                      , _ = f[3]
                      , b = f[4]
                      , C = f[5]
                      , w = f[6]
                      , x = f[7]
                      , S = f[8]
                      , T = f[9]
                      , E = f[10]
                      , L = f[11]
                      , k = f[12]
                      , P = f[13]
                      , z = f[14]
                      , I = f[15];
                    return f[0] = v * e + y * n + A * l + _ * p,
                    f[1] = v * t + y * r + A * c + _ * u,
                    f[2] = v * i + y * s + A * h + _ * m,
                    f[3] = v * a + y * o + A * d + _ * g,
                    f[4] = b * e + C * n + w * l + x * p,
                    f[5] = b * t + C * r + w * c + x * u,
                    f[6] = b * i + C * s + w * h + x * m,
                    f[7] = b * a + C * o + w * d + x * g,
                    f[8] = S * e + T * n + E * l + L * p,
                    f[9] = S * t + T * r + E * c + L * u,
                    f[10] = S * i + T * s + E * h + L * m,
                    f[11] = S * a + T * o + E * d + L * g,
                    f[12] = k * e + P * n + z * l + I * p,
                    f[13] = k * t + P * r + z * c + I * u,
                    f[14] = k * i + P * s + z * h + I * m,
                    f[15] = k * a + P * o + z * d + I * g,
                    this._identityCalculated = !1,
                    this
                }
                function f() {
                    return this._identityCalculated || (this._identity = !(1 !== this.props[0] || 0 !== this.props[1] || 0 !== this.props[2] || 0 !== this.props[3] || 0 !== this.props[4] || 1 !== this.props[5] || 0 !== this.props[6] || 0 !== this.props[7] || 0 !== this.props[8] || 0 !== this.props[9] || 1 !== this.props[10] || 0 !== this.props[11] || 0 !== this.props[12] || 0 !== this.props[13] || 0 !== this.props[14] || 1 !== this.props[15]),
                    this._identityCalculated = !0),
                    this._identity
                }
                function v(e) {
                    for (var t = 0; t < 16; ) {
                        if (e.props[t] !== this.props[t])
                            return !1;
                        t += 1
                    }
                    return !0
                }
                function y(e) {
                    var t;
                    for (t = 0; t < 16; t += 1)
                        e.props[t] = this.props[t]
                }
                function A(e) {
                    var t;
                    for (t = 0; t < 16; t += 1)
                        this.props[t] = e[t]
                }
                function _(e, t, i) {
                    return {
                        x: e * this.props[0] + t * this.props[4] + i * this.props[8] + this.props[12],
                        y: e * this.props[1] + t * this.props[5] + i * this.props[9] + this.props[13],
                        z: e * this.props[2] + t * this.props[6] + i * this.props[10] + this.props[14]
                    }
                }
                function b(e, t, i) {
                    return e * this.props[0] + t * this.props[4] + i * this.props[8] + this.props[12]
                }
                function C(e, t, i) {
                    return e * this.props[1] + t * this.props[5] + i * this.props[9] + this.props[13]
                }
                function w(e, t, i) {
                    return e * this.props[2] + t * this.props[6] + i * this.props[10] + this.props[14]
                }
                function x(e) {
                    var t = this.props[0] * this.props[5] - this.props[1] * this.props[4]
                      , i = this.props[5] / t
                      , a = -this.props[1] / t
                      , n = -this.props[4] / t
                      , r = this.props[0] / t
                      , s = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / t
                      , o = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / t;
                    return [e[0] * i + e[1] * n + s, e[0] * a + e[1] * r + o, 0]
                }
                function S(e) {
                    var t, i = e.length, a = [];
                    for (t = 0; t < i; t += 1)
                        a[t] = x(e[t]);
                    return a
                }
                function T(e, t, i) {
                    var a = createTypedArray("float32", 6);
                    if (this.isIdentity())
                        a[0] = e[0],
                        a[1] = e[1],
                        a[2] = t[0],
                        a[3] = t[1],
                        a[4] = i[0],
                        a[5] = i[1];
                    else {
                        var n = this.props[0]
                          , r = this.props[1]
                          , s = this.props[4]
                          , o = this.props[5]
                          , l = this.props[12]
                          , c = this.props[13];
                        a[0] = e[0] * n + e[1] * s + l,
                        a[1] = e[0] * r + e[1] * o + c,
                        a[2] = t[0] * n + t[1] * s + l,
                        a[3] = t[0] * r + t[1] * o + c,
                        a[4] = i[0] * n + i[1] * s + l,
                        a[5] = i[0] * r + i[1] * o + c
                    }
                    return a
                }
                function E(e, t, i) {
                    return this.isIdentity() ? [e, t, i] : [e * this.props[0] + t * this.props[4] + i * this.props[8] + this.props[12], e * this.props[1] + t * this.props[5] + i * this.props[9] + this.props[13], e * this.props[2] + t * this.props[6] + i * this.props[10] + this.props[14]]
                }
                function L(e, t) {
                    if (this.isIdentity())
                        return e + "," + t;
                    var i = this.props;
                    return Math.round(100 * (e * i[0] + t * i[4] + i[12])) / 100 + "," + Math.round(100 * (e * i[1] + t * i[5] + i[13])) / 100
                }
                function k() {
                    for (var e = 0, t = this.props, i = "matrix3d("; e < 16; )
                        i += a(1e4 * t[e]) / 1e4,
                        i += 15 === e ? ")" : ",",
                        e += 1;
                    return i
                }
                function P(e) {
                    return e < 1e-6 && e > 0 || e > -1e-6 && e < 0 ? a(1e4 * e) / 1e4 : e
                }
                function z() {
                    var e = this.props;
                    return "matrix(" + P(e[0]) + "," + P(e[1]) + "," + P(e[4]) + "," + P(e[5]) + "," + P(e[12]) + "," + P(e[13]) + ")"
                }
                return function() {
                    this.reset = n,
                    this.rotate = r,
                    this.rotateX = s,
                    this.rotateY = o,
                    this.rotateZ = l,
                    this.skew = h,
                    this.skewFromAxis = d,
                    this.shear = c,
                    this.scale = p,
                    this.setTransform = u,
                    this.translate = m,
                    this.transform = g,
                    this.applyToPoint = _,
                    this.applyToX = b,
                    this.applyToY = C,
                    this.applyToZ = w,
                    this.applyToPointArray = E,
                    this.applyToTriplePoints = T,
                    this.applyToPointStringified = L,
                    this.toCSS = k,
                    this.to2dCSS = z,
                    this.clone = y,
                    this.cloneFromProps = A,
                    this.equals = v,
                    this.inversePoints = S,
                    this.inversePoint = x,
                    this._t = this.transform,
                    this.isIdentity = f,
                    this._identity = !0,
                    this._identityCalculated = !1,
                    this.props = createTypedArray("float32", 16),
                    this.reset()
                }
            }();
            !function(e, t) {
                var i, a = this, n = 256, r = 6, s = "random", o = t.pow(n, r), l = t.pow(2, 52), c = 2 * l, h = n - 1;
                function d(e) {
                    var t, i = e.length, a = this, r = 0, s = a.i = a.j = 0, o = a.S = [];
                    for (i || (e = [i++]); r < n; )
                        o[r] = r++;
                    for (r = 0; r < n; r++)
                        o[r] = o[s = h & s + e[r % i] + (t = o[r])],
                        o[s] = t;
                    a.g = function(e) {
                        for (var t, i = 0, r = a.i, s = a.j, o = a.S; e--; )
                            t = o[r = h & r + 1],
                            i = i * n + o[h & (o[r] = o[s = h & s + t]) + (o[s] = t)];
                        return a.i = r,
                        a.j = s,
                        i
                    }
                }
                function p(e, t) {
                    return t.i = e.i,
                    t.j = e.j,
                    t.S = e.S.slice(),
                    t
                }
                function u(e, t) {
                    for (var i, a = e + "", n = 0; n < a.length; )
                        t[h & n] = h & (i ^= 19 * t[h & n]) + a.charCodeAt(n++);
                    return m(t)
                }
                function m(e) {
                    return String.fromCharCode.apply(0, e)
                }
                t["seed" + s] = function(h, g, f) {
                    var v = []
                      , y = u(function e(t, i) {
                        var a, n = [], r = typeof t;
                        if (i && "object" == r)
                            for (a in t)
                                try {
                                    n.push(e(t[a], i - 1))
                                } catch (s) {}
                        return n.length ? n : "string" == r ? t : t + "\0"
                    }((g = !0 === g ? {
                        entropy: !0
                    } : g || {}).entropy ? [h, m(e)] : null === h ? function() {
                        try {
                            if (i)
                                return m(i.randomBytes(n));
                            var t = new Uint8Array(n);
                            return (a.crypto || a.msCrypto).getRandomValues(t),
                            m(t)
                        } catch (o) {
                            var r = a.navigator
                              , s = r && r.plugins;
                            return [+new Date, a, s, a.screen, m(e)]
                        }
                    }() : h, 3), v)
                      , A = new d(v)
                      , _ = function() {
                        for (var e = A.g(r), t = o, i = 0; e < l; )
                            e = (e + i) * n,
                            t *= n,
                            i = A.g(1);
                        for (; e >= c; )
                            e /= 2,
                            t /= 2,
                            i >>>= 1;
                        return (e + i) / t
                    };
                    return _.int32 = function() {
                        return 0 | A.g(4)
                    }
                    ,
                    _.quick = function() {
                        return A.g(4) / 4294967296
                    }
                    ,
                    _.double = _,
                    u(m(A.S), e),
                    (g.pass || f || function(e, i, a, n) {
                        return n && (n.S && p(n, A),
                        e.state = function() {
                            return p(A, {})
                        }
                        ),
                        a ? (t[s] = e,
                        i) : e
                    }
                    )(_, y, "global"in g ? g.global : this == t, g.state)
                }
                ,
                u(t.random(), e)
            }([], BMMath);
            var BezierFactory = function() {
                var e = {
                    getBezierEasing: function(e, i, a, n, r) {
                        var s = r || ("bez_" + e + "_" + i + "_" + a + "_" + n).replace(/\./g, "p");
                        if (t[s])
                            return t[s];
                        var o = new u([e, i, a, n]);
                        return t[s] = o,
                        o
                    }
                }
                  , t = {};
                var i = 4
                  , a = 1e-7
                  , n = 10
                  , r = 11
                  , s = 1 / (r - 1)
                  , o = "function" === typeof Float32Array;
                function l(e, t) {
                    return 1 - 3 * t + 3 * e
                }
                function c(e, t) {
                    return 3 * t - 6 * e
                }
                function h(e) {
                    return 3 * e
                }
                function d(e, t, i) {
                    return ((l(t, i) * e + c(t, i)) * e + h(t)) * e
                }
                function p(e, t, i) {
                    return 3 * l(t, i) * e * e + 2 * c(t, i) * e + h(t)
                }
                function u(e) {
                    this._p = e,
                    this._mSampleValues = o ? new Float32Array(r) : new Array(r),
                    this._precomputed = !1,
                    this.get = this.get.bind(this)
                }
                return u.prototype = {
                    get: function(e) {
                        var t = this._p[0]
                          , i = this._p[1]
                          , a = this._p[2]
                          , n = this._p[3];
                        return this._precomputed || this._precompute(),
                        t === i && a === n ? e : 0 === e ? 0 : 1 === e ? 1 : d(this._getTForX(e), i, n)
                    },
                    _precompute: function() {
                        var e = this._p[0]
                          , t = this._p[1]
                          , i = this._p[2]
                          , a = this._p[3];
                        this._precomputed = !0,
                        e === t && i === a || this._calcSampleValues()
                    },
                    _calcSampleValues: function() {
                        for (var e = this._p[0], t = this._p[2], i = 0; i < r; ++i)
                            this._mSampleValues[i] = d(i * s, e, t)
                    },
                    _getTForX: function(e) {
                        for (var t = this._p[0], o = this._p[2], l = this._mSampleValues, c = 0, h = 1, u = r - 1; h !== u && l[h] <= e; ++h)
                            c += s;
                        var m = c + (e - l[--h]) / (l[h + 1] - l[h]) * s
                          , g = p(m, t, o);
                        return g >= .001 ? function(e, t, a, n) {
                            for (var r = 0; r < i; ++r) {
                                var s = p(t, a, n);
                                if (0 === s)
                                    return t;
                                t -= (d(t, a, n) - e) / s
                            }
                            return t
                        }(e, m, t, o) : 0 === g ? m : function(e, t, i, r, s) {
                            var o, l, c = 0;
                            do {
                                (o = d(l = t + (i - t) / 2, r, s) - e) > 0 ? i = l : t = l
                            } while (Math.abs(o) > a && ++c < n);return l
                        }(e, c, c + s, t, o)
                    }
                },
                e
            }();
            function extendPrototype(e, t) {
                var i, a, n = e.length;
                for (i = 0; i < n; i += 1)
                    for (var r in a = e[i].prototype)
                        a.hasOwnProperty(r) && (t.prototype[r] = a[r])
            }
            function getDescriptor(e, t) {
                return Object.getOwnPropertyDescriptor(e, t)
            }
            function createProxyFunction(e) {
                function t() {}
                return t.prototype = e,
                t
            }
            function bezFunction() {
                Math;
                function e(e, t, i, a, n, r) {
                    var s = e * a + t * n + i * r - n * a - r * e - i * t;
                    return s > -.001 && s < .001
                }
                var t = function(e, t, i, a) {
                    var n, r, s, o, l, c, h = defaultCurveSegments, d = 0, p = [], u = [], m = bezier_length_pool.newElement();
                    for (s = i.length,
                    n = 0; n < h; n += 1) {
                        for (l = n / (h - 1),
                        c = 0,
                        r = 0; r < s; r += 1)
                            o = bm_pow(1 - l, 3) * e[r] + 3 * bm_pow(1 - l, 2) * l * i[r] + 3 * (1 - l) * bm_pow(l, 2) * a[r] + bm_pow(l, 3) * t[r],
                            p[r] = o,
                            null !== u[r] && (c += bm_pow(p[r] - u[r], 2)),
                            u[r] = p[r];
                        c && (d += c = bm_sqrt(c)),
                        m.percents[n] = l,
                        m.lengths[n] = d
                    }
                    return m.addedLength = d,
                    m
                };
                function i(e) {
                    this.segmentLength = 0,
                    this.points = new Array(e)
                }
                function a(e, t) {
                    this.partialLength = e,
                    this.point = t
                }
                var n = function() {
                    var t = {};
                    return function(n, r, s, o) {
                        var l = (n[0] + "_" + n[1] + "_" + r[0] + "_" + r[1] + "_" + s[0] + "_" + s[1] + "_" + o[0] + "_" + o[1]).replace(/\./g, "p");
                        if (!t[l]) {
                            var c, h, d, p, u, m, g, f = defaultCurveSegments, v = 0, y = null;
                            2 === n.length && (n[0] != r[0] || n[1] != r[1]) && e(n[0], n[1], r[0], r[1], n[0] + s[0], n[1] + s[1]) && e(n[0], n[1], r[0], r[1], r[0] + o[0], r[1] + o[1]) && (f = 2);
                            var A = new i(f);
                            for (d = s.length,
                            c = 0; c < f; c += 1) {
                                for (g = createSizedArray(d),
                                u = c / (f - 1),
                                m = 0,
                                h = 0; h < d; h += 1)
                                    p = bm_pow(1 - u, 3) * n[h] + 3 * bm_pow(1 - u, 2) * u * (n[h] + s[h]) + 3 * (1 - u) * bm_pow(u, 2) * (r[h] + o[h]) + bm_pow(u, 3) * r[h],
                                    g[h] = p,
                                    null !== y && (m += bm_pow(g[h] - y[h], 2));
                                v += m = bm_sqrt(m),
                                A.points[c] = new a(m,g),
                                y = g
                            }
                            A.segmentLength = v,
                            t[l] = A
                        }
                        return t[l]
                    }
                }();
                function r(e, t) {
                    var i = t.percents
                      , a = t.lengths
                      , n = i.length
                      , r = bm_floor((n - 1) * e)
                      , s = e * t.addedLength
                      , o = 0;
                    if (r === n - 1 || 0 === r || s === a[r])
                        return i[r];
                    for (var l = a[r] > s ? -1 : 1, c = !0; c; )
                        if (a[r] <= s && a[r + 1] > s ? (o = (s - a[r]) / (a[r + 1] - a[r]),
                        c = !1) : r += l,
                        r < 0 || r >= n - 1) {
                            if (r === n - 1)
                                return i[r];
                            c = !1
                        }
                    return i[r] + (i[r + 1] - i[r]) * o
                }
                var s = createTypedArray("float32", 8);
                return {
                    getSegmentsLength: function(e) {
                        var i, a = segments_length_pool.newElement(), n = e.c, r = e.v, s = e.o, o = e.i, l = e._length, c = a.lengths, h = 0;
                        for (i = 0; i < l - 1; i += 1)
                            c[i] = t(r[i], r[i + 1], s[i], o[i + 1]),
                            h += c[i].addedLength;
                        return n && l && (c[i] = t(r[i], r[0], s[i], o[0]),
                        h += c[i].addedLength),
                        a.totalLength = h,
                        a
                    },
                    getNewSegment: function(e, t, i, a, n, o, l) {
                        var c, h = r(n = n < 0 ? 0 : n > 1 ? 1 : n, l), d = r(o = o > 1 ? 1 : o, l), p = e.length, u = 1 - h, m = 1 - d, g = u * u * u, f = h * u * u * 3, v = h * h * u * 3, y = h * h * h, A = u * u * m, _ = h * u * m + u * h * m + u * u * d, b = h * h * m + u * h * d + h * u * d, C = h * h * d, w = u * m * m, x = h * m * m + u * d * m + u * m * d, S = h * d * m + u * d * d + h * m * d, T = h * d * d, E = m * m * m, L = d * m * m + m * d * m + m * m * d, k = d * d * m + m * d * d + d * m * d, P = d * d * d;
                        for (c = 0; c < p; c += 1)
                            s[4 * c] = Math.round(1e3 * (g * e[c] + f * i[c] + v * a[c] + y * t[c])) / 1e3,
                            s[4 * c + 1] = Math.round(1e3 * (A * e[c] + _ * i[c] + b * a[c] + C * t[c])) / 1e3,
                            s[4 * c + 2] = Math.round(1e3 * (w * e[c] + x * i[c] + S * a[c] + T * t[c])) / 1e3,
                            s[4 * c + 3] = Math.round(1e3 * (E * e[c] + L * i[c] + k * a[c] + P * t[c])) / 1e3;
                        return s
                    },
                    getPointInSegment: function(e, t, i, a, n, s) {
                        var o = r(n, s)
                          , l = 1 - o;
                        return [Math.round(1e3 * (l * l * l * e[0] + (o * l * l + l * o * l + l * l * o) * i[0] + (o * o * l + l * o * o + o * l * o) * a[0] + o * o * o * t[0])) / 1e3, Math.round(1e3 * (l * l * l * e[1] + (o * l * l + l * o * l + l * l * o) * i[1] + (o * o * l + l * o * o + o * l * o) * a[1] + o * o * o * t[1])) / 1e3]
                    },
                    buildBezierData: n,
                    pointOnLine2D: e,
                    pointOnLine3D: function(t, i, a, n, r, s, o, l, c) {
                        if (0 === a && 0 === s && 0 === c)
                            return e(t, i, n, r, o, l);
                        var h, d = Math.sqrt(Math.pow(n - t, 2) + Math.pow(r - i, 2) + Math.pow(s - a, 2)), p = Math.sqrt(Math.pow(o - t, 2) + Math.pow(l - i, 2) + Math.pow(c - a, 2)), u = Math.sqrt(Math.pow(o - n, 2) + Math.pow(l - r, 2) + Math.pow(c - s, 2));
                        return (h = d > p ? d > u ? d - p - u : u - p - d : u > p ? u - p - d : p - d - u) > -1e-4 && h < 1e-4
                    }
                }
            }
            !function() {
                for (var e = 0, t = ["ms", "moz", "webkit", "o"], i = 0; i < t.length && !window.requestAnimationFrame; ++i)
                    window.requestAnimationFrame = window[t[i] + "RequestAnimationFrame"],
                    window.cancelAnimationFrame = window[t[i] + "CancelAnimationFrame"] || window[t[i] + "CancelRequestAnimationFrame"];
                window.requestAnimationFrame || (window.requestAnimationFrame = function(t, i) {
                    var a = (new Date).getTime()
                      , n = Math.max(0, 16 - (a - e))
                      , r = setTimeout(function() {
                        t(a + n)
                    }, n);
                    return e = a + n,
                    r
                }
                ),
                window.cancelAnimationFrame || (window.cancelAnimationFrame = function(e) {
                    clearTimeout(e)
                }
                )
            }();
            var bez = bezFunction();
            function dataFunctionManager() {
                function e(e, t) {
                    for (var i = 0, a = t.length; i < a; ) {
                        if (t[i].id === e)
                            return t[i].layers.__used ? JSON.parse(JSON.stringify(t[i].layers)) : (t[i].layers.__used = !0,
                            t[i].layers);
                        i += 1
                    }
                }
                function t(e) {
                    var a, n, r;
                    for (a = e.length - 1; a >= 0; a -= 1)
                        if ("sh" == e[a].ty) {
                            if (e[a].ks.k.i)
                                i(e[a].ks.k);
                            else
                                for (r = e[a].ks.k.length,
                                n = 0; n < r; n += 1)
                                    e[a].ks.k[n].s && i(e[a].ks.k[n].s[0]),
                                    e[a].ks.k[n].e && i(e[a].ks.k[n].e[0]);
                            !0
                        } else
                            "gr" == e[a].ty && t(e[a].it)
                }
                function i(e) {
                    var t, i = e.i.length;
                    for (t = 0; t < i; t += 1)
                        e.i[t][0] += e.v[t][0],
                        e.i[t][1] += e.v[t][1],
                        e.o[t][0] += e.v[t][0],
                        e.o[t][1] += e.v[t][1]
                }
                function a(e, t) {
                    var i = t ? t.split(".") : [100, 100, 100];
                    return e[0] > i[0] || !(i[0] > e[0]) && (e[1] > i[1] || !(i[1] > e[1]) && (e[2] > i[2] || !(i[2] > e[2]) && void 0))
                }
                var n = function() {
                    var e = [4, 4, 14];
                    function t(e) {
                        var t = e.t.d;
                        e.t.d = {
                            k: [{
                                s: t,
                                t: 0
                            }]
                        }
                    }
                    function i(e) {
                        var i, a = e.length;
                        for (i = 0; i < a; i += 1)
                            5 === e[i].ty && t(e[i])
                    }
                    return function(t) {
                        if (a(e, t.v) && (i(t.layers),
                        t.assets)) {
                            var n, r = t.assets.length;
                            for (n = 0; n < r; n += 1)
                                t.assets[n].layers && i(t.assets[n].layers)
                        }
                    }
                }()
                  , r = function() {
                    var e = [4, 7, 99];
                    return function(t) {
                        if (t.chars && !a(e, t.v)) {
                            var n, r, s, o, l, c = t.chars.length;
                            for (n = 0; n < c; n += 1)
                                if (t.chars[n].data && t.chars[n].data.shapes)
                                    for (s = (l = t.chars[n].data.shapes[0].it).length,
                                    r = 0; r < s; r += 1)
                                        (o = l[r].ks.k).__converted || (i(l[r].ks.k),
                                        o.__converted = !0)
                        }
                    }
                }()
                  , s = function() {
                    var e = [4, 1, 9];
                    function t(e) {
                        var i, a, n, r = e.length;
                        for (i = 0; i < r; i += 1)
                            if ("gr" === e[i].ty)
                                t(e[i].it);
                            else if ("fl" === e[i].ty || "st" === e[i].ty)
                                if (e[i].c.k && e[i].c.k[0].i)
                                    for (n = e[i].c.k.length,
                                    a = 0; a < n; a += 1)
                                        e[i].c.k[a].s && (e[i].c.k[a].s[0] /= 255,
                                        e[i].c.k[a].s[1] /= 255,
                                        e[i].c.k[a].s[2] /= 255,
                                        e[i].c.k[a].s[3] /= 255),
                                        e[i].c.k[a].e && (e[i].c.k[a].e[0] /= 255,
                                        e[i].c.k[a].e[1] /= 255,
                                        e[i].c.k[a].e[2] /= 255,
                                        e[i].c.k[a].e[3] /= 255);
                                else
                                    e[i].c.k[0] /= 255,
                                    e[i].c.k[1] /= 255,
                                    e[i].c.k[2] /= 255,
                                    e[i].c.k[3] /= 255
                    }
                    function i(e) {
                        var i, a = e.length;
                        for (i = 0; i < a; i += 1)
                            4 === e[i].ty && t(e[i].shapes)
                    }
                    return function(t) {
                        if (a(e, t.v) && (i(t.layers),
                        t.assets)) {
                            var n, r = t.assets.length;
                            for (n = 0; n < r; n += 1)
                                t.assets[n].layers && i(t.assets[n].layers)
                        }
                    }
                }()
                  , o = function() {
                    var e = [4, 4, 18];
                    function t(e) {
                        var i, a, n;
                        for (i = e.length - 1; i >= 0; i -= 1)
                            if ("sh" == e[i].ty) {
                                if (e[i].ks.k.i)
                                    e[i].ks.k.c = e[i].closed;
                                else
                                    for (n = e[i].ks.k.length,
                                    a = 0; a < n; a += 1)
                                        e[i].ks.k[a].s && (e[i].ks.k[a].s[0].c = e[i].closed),
                                        e[i].ks.k[a].e && (e[i].ks.k[a].e[0].c = e[i].closed);
                                !0
                            } else
                                "gr" == e[i].ty && t(e[i].it)
                    }
                    function i(e) {
                        var i, a, n, r, s, o, l = e.length;
                        for (a = 0; a < l; a += 1) {
                            if ((i = e[a]).hasMask) {
                                var c = i.masksProperties;
                                for (r = c.length,
                                n = 0; n < r; n += 1)
                                    if (c[n].pt.k.i)
                                        c[n].pt.k.c = c[n].cl;
                                    else
                                        for (o = c[n].pt.k.length,
                                        s = 0; s < o; s += 1)
                                            c[n].pt.k[s].s && (c[n].pt.k[s].s[0].c = c[n].cl),
                                            c[n].pt.k[s].e && (c[n].pt.k[s].e[0].c = c[n].cl)
                            }
                            4 === i.ty && t(i.shapes)
                        }
                    }
                    return function(t) {
                        if (a(e, t.v) && (i(t.layers),
                        t.assets)) {
                            var n, r = t.assets.length;
                            for (n = 0; n < r; n += 1)
                                t.assets[n].layers && i(t.assets[n].layers)
                        }
                    }
                }();
                var l = {};
                return l.completeData = function(a, l) {
                    a.__complete || (s(a),
                    n(a),
                    r(a),
                    o(a),
                    function a(n, r, s) {
                        var o, l, c, h, d, p, u, m = n.length;
                        for (l = 0; l < m; l += 1)
                            if ("ks"in (o = n[l]) && !o.completed) {
                                if (o.completed = !0,
                                o.tt && (n[l - 1].td = o.tt),
                                o.hasMask) {
                                    var g = o.masksProperties;
                                    for (h = g.length,
                                    c = 0; c < h; c += 1)
                                        if (g[c].pt.k.i)
                                            i(g[c].pt.k);
                                        else
                                            for (p = g[c].pt.k.length,
                                            d = 0; d < p; d += 1)
                                                g[c].pt.k[d].s && i(g[c].pt.k[d].s[0]),
                                                g[c].pt.k[d].e && i(g[c].pt.k[d].e[0])
                                }
                                0 === o.ty ? (o.layers = e(o.refId, r),
                                a(o.layers, r, s)) : 4 === o.ty ? t(o.shapes) : 5 == o.ty && (0 !== (u = o).t.a.length || "m"in u.t.p || (u.singleShape = !0))
                            }
                    }(a.layers, a.assets, l),
                    a.__complete = !0)
                }
                ,
                l
            }
            var dataManager = dataFunctionManager()
              , FontManager = function() {
                var e = 5e3
                  , t = {
                    w: 0,
                    size: 0,
                    shapes: []
                }
                  , i = [];
                function a(e, t) {
                    var i = createTag("span");
                    i.style.fontFamily = t;
                    var a = createTag("span");
                    a.innerHTML = "giItT1WQy@!-/#",
                    i.style.position = "absolute",
                    i.style.left = "-10000px",
                    i.style.top = "-10000px",
                    i.style.fontSize = "300px",
                    i.style.fontVariant = "normal",
                    i.style.fontStyle = "normal",
                    i.style.fontWeight = "normal",
                    i.style.letterSpacing = "0",
                    i.appendChild(a),
                    document.body.appendChild(i);
                    var n = a.offsetWidth;
                    return a.style.fontFamily = e + ", " + t,
                    {
                        node: a,
                        w: n,
                        parent: i
                    }
                }
                function n(e, t) {
                    var i = createNS("text");
                    return i.style.fontSize = "100px",
                    i.setAttribute("font-family", t.fFamily),
                    i.setAttribute("font-style", t.fStyle),
                    i.setAttribute("font-weight", t.fWeight),
                    i.textContent = "1",
                    t.fClass ? (i.style.fontFamily = "inherit",
                    i.setAttribute("class", t.fClass)) : i.style.fontFamily = t.fFamily,
                    e.appendChild(i),
                    createTag("canvas").getContext("2d").font = t.fWeight + " " + t.fStyle + " 100px " + t.fFamily,
                    i
                }
                i = i.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);
                var r = function() {
                    this.fonts = [],
                    this.chars = null,
                    this.typekitLoaded = 0,
                    this.isLoaded = !1,
                    this.initTime = Date.now()
                };
                return r.getCombinedCharacterCodes = function() {
                    return i
                }
                ,
                r.prototype.addChars = function(e) {
                    if (e) {
                        this.chars || (this.chars = []);
                        var t, i, a, n = e.length, r = this.chars.length;
                        for (t = 0; t < n; t += 1) {
                            for (i = 0,
                            a = !1; i < r; )
                                this.chars[i].style === e[t].style && this.chars[i].fFamily === e[t].fFamily && this.chars[i].ch === e[t].ch && (a = !0),
                                i += 1;
                            a || (this.chars.push(e[t]),
                            r += 1)
                        }
                    }
                }
                ,
                r.prototype.addFonts = function(e, t) {
                    if (e) {
                        if (this.chars)
                            return this.isLoaded = !0,
                            void (this.fonts = e.list);
                        var i, r = e.list, s = r.length, o = s;
                        for (i = 0; i < s; i += 1) {
                            var l, c, h = !0;
                            if (r[i].loaded = !1,
                            r[i].monoCase = a(r[i].fFamily, "monospace"),
                            r[i].sansCase = a(r[i].fFamily, "sans-serif"),
                            r[i].fPath) {
                                if ("p" === r[i].fOrigin || 3 === r[i].origin) {
                                    if ((l = document.querySelectorAll('style[f-forigin="p"][f-family="' + r[i].fFamily + '"], style[f-origin="3"][f-family="' + r[i].fFamily + '"]')).length > 0 && (h = !1),
                                    h) {
                                        var d = createTag("style");
                                        d.setAttribute("f-forigin", r[i].fOrigin),
                                        d.setAttribute("f-origin", r[i].origin),
                                        d.setAttribute("f-family", r[i].fFamily),
                                        d.type = "text/css",
                                        d.innerHTML = "@font-face {font-family: " + r[i].fFamily + "; font-style: normal; src: url('" + r[i].fPath + "');}",
                                        t.appendChild(d)
                                    }
                                } else if ("g" === r[i].fOrigin || 1 === r[i].origin) {
                                    for (l = document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),
                                    c = 0; c < l.length; c++)
                                        -1 !== l[c].href.indexOf(r[i].fPath) && (h = !1);
                                    if (h) {
                                        var p = createTag("link");
                                        p.setAttribute("f-forigin", r[i].fOrigin),
                                        p.setAttribute("f-origin", r[i].origin),
                                        p.type = "text/css",
                                        p.rel = "stylesheet",
                                        p.href = r[i].fPath,
                                        document.body.appendChild(p)
                                    }
                                } else if ("t" === r[i].fOrigin || 2 === r[i].origin) {
                                    for (l = document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),
                                    c = 0; c < l.length; c++)
                                        r[i].fPath === l[c].src && (h = !1);
                                    if (h) {
                                        var u = createTag("link");
                                        u.setAttribute("f-forigin", r[i].fOrigin),
                                        u.setAttribute("f-origin", r[i].origin),
                                        u.setAttribute("rel", "stylesheet"),
                                        u.setAttribute("href", r[i].fPath),
                                        t.appendChild(u)
                                    }
                                }
                            } else
                                r[i].loaded = !0,
                                o -= 1;
                            r[i].helper = n(t, r[i]),
                            r[i].cache = {},
                            this.fonts.push(r[i])
                        }
                        0 === o ? this.isLoaded = !0 : setTimeout(this.checkLoadedFonts.bind(this), 100)
                    } else
                        this.isLoaded = !0
                }
                ,
                r.prototype.getCharData = function(e, i, a) {
                    for (var n = 0, r = this.chars.length; n < r; ) {
                        if (this.chars[n].ch === e && this.chars[n].style === i && this.chars[n].fFamily === a)
                            return this.chars[n];
                        n += 1
                    }
                    return ("string" === typeof e && 13 !== e.charCodeAt(0) || !e) && console && console.warn && console.warn("Missing character from exported characters list: ", e, i, a),
                    t
                }
                ,
                r.prototype.getFontByName = function(e) {
                    for (var t = 0, i = this.fonts.length; t < i; ) {
                        if (this.fonts[t].fName === e)
                            return this.fonts[t];
                        t += 1
                    }
                    return this.fonts[0]
                }
                ,
                r.prototype.measureText = function(e, t, i) {
                    var a = this.getFontByName(t)
                      , n = e.charCodeAt(0);
                    if (!a.cache[n + 1]) {
                        var r = a.helper;
                        if (" " === e) {
                            r.textContent = "|" + e + "|";
                            var s = r.getComputedTextLength();
                            r.textContent = "||";
                            var o = r.getComputedTextLength();
                            a.cache[n + 1] = (s - o) / 100
                        } else
                            r.textContent = e,
                            a.cache[n + 1] = r.getComputedTextLength() / 100
                    }
                    return a.cache[n + 1] * i
                }
                ,
                r.prototype.checkLoadedFonts = function() {
                    var t, i, a, n = this.fonts.length, r = n;
                    for (t = 0; t < n; t += 1)
                        this.fonts[t].loaded ? r -= 1 : "n" === this.fonts[t].fOrigin || 0 === this.fonts[t].origin ? this.fonts[t].loaded = !0 : (i = this.fonts[t].monoCase.node,
                        a = this.fonts[t].monoCase.w,
                        i.offsetWidth !== a ? (r -= 1,
                        this.fonts[t].loaded = !0) : (i = this.fonts[t].sansCase.node,
                        a = this.fonts[t].sansCase.w,
                        i.offsetWidth !== a && (r -= 1,
                        this.fonts[t].loaded = !0)),
                        this.fonts[t].loaded && (this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),
                        this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));
                    0 !== r && Date.now() - this.initTime < e ? setTimeout(this.checkLoadedFonts.bind(this), 20) : setTimeout(function() {
                        this.isLoaded = !0
                    }
                    .bind(this), 0)
                }
                ,
                r.prototype.loaded = function() {
                    return this.isLoaded
                }
                ,
                r
            }()
              , PropertyFactory = function() {
                var e = initialDefaultFrame
                  , t = Math.abs;
                function i(e, t) {
                    var i, n = this.offsetTime;
                    "multidimensional" === this.propType && (i = createTypedArray("float32", this.pv.length));
                    for (var r, s, o, l, c, h, d, p, u = t.lastIndex, m = u, g = this.keyframes.length - 1, f = !0; f; ) {
                        if (r = this.keyframes[m],
                        s = this.keyframes[m + 1],
                        m === g - 1 && e >= s.t - n) {
                            r.h && (r = s),
                            u = 0;
                            break
                        }
                        if (s.t - n > e) {
                            u = m;
                            break
                        }
                        m < g - 1 ? m += 1 : (u = 0,
                        f = !1)
                    }
                    var v, y = s.t - n, A = r.t - n;
                    if (r.to) {
                        r.bezierData || (r.bezierData = bez.buildBezierData(r.s, s.s || r.e, r.to, r.ti));
                        var _ = r.bezierData;
                        if (e >= y || e < A) {
                            var b = e >= y ? _.points.length - 1 : 0;
                            for (l = _.points[b].point.length,
                            o = 0; o < l; o += 1)
                                i[o] = _.points[b].point[o]
                        } else {
                            r.__fnct ? p = r.__fnct : (p = BezierFactory.getBezierEasing(r.o.x, r.o.y, r.i.x, r.i.y, r.n).get,
                            r.__fnct = p),
                            c = p((e - A) / (y - A));
                            var C, w = _.segmentLength * c, x = t.lastFrame < e && t._lastKeyframeIndex === m ? t._lastAddedLength : 0;
                            for (d = t.lastFrame < e && t._lastKeyframeIndex === m ? t._lastPoint : 0,
                            f = !0,
                            h = _.points.length; f; ) {
                                if (x += _.points[d].partialLength,
                                0 === w || 0 === c || d === _.points.length - 1) {
                                    for (l = _.points[d].point.length,
                                    o = 0; o < l; o += 1)
                                        i[o] = _.points[d].point[o];
                                    break
                                }
                                if (w >= x && w < x + _.points[d + 1].partialLength) {
                                    for (C = (w - x) / _.points[d + 1].partialLength,
                                    l = _.points[d].point.length,
                                    o = 0; o < l; o += 1)
                                        i[o] = _.points[d].point[o] + (_.points[d + 1].point[o] - _.points[d].point[o]) * C;
                                    break
                                }
                                d < h - 1 ? d += 1 : f = !1
                            }
                            t._lastPoint = d,
                            t._lastAddedLength = x - _.points[d].partialLength,
                            t._lastKeyframeIndex = m
                        }
                    } else {
                        var S, T, E, L, k;
                        if (g = r.s.length,
                        v = s.s || r.e,
                        this.sh && 1 !== r.h)
                            if (e >= y)
                                i[0] = v[0],
                                i[1] = v[1],
                                i[2] = v[2];
                            else if (e <= A)
                                i[0] = r.s[0],
                                i[1] = r.s[1],
                                i[2] = r.s[2];
                            else {
                                !function(e, t) {
                                    var i = t[0]
                                      , a = t[1]
                                      , n = t[2]
                                      , r = t[3]
                                      , s = Math.atan2(2 * a * r - 2 * i * n, 1 - 2 * a * a - 2 * n * n)
                                      , o = Math.asin(2 * i * a + 2 * n * r)
                                      , l = Math.atan2(2 * i * r - 2 * a * n, 1 - 2 * i * i - 2 * n * n);
                                    e[0] = s / degToRads,
                                    e[1] = o / degToRads,
                                    e[2] = l / degToRads
                                }(i, function(e, t, i) {
                                    var a, n, r, s, o, l = [], c = e[0], h = e[1], d = e[2], p = e[3], u = t[0], m = t[1], g = t[2], f = t[3];
                                    (n = c * u + h * m + d * g + p * f) < 0 && (n = -n,
                                    u = -u,
                                    m = -m,
                                    g = -g,
                                    f = -f);
                                    1 - n > 1e-6 ? (a = Math.acos(n),
                                    r = Math.sin(a),
                                    s = Math.sin((1 - i) * a) / r,
                                    o = Math.sin(i * a) / r) : (s = 1 - i,
                                    o = i);
                                    return l[0] = s * c + o * u,
                                    l[1] = s * h + o * m,
                                    l[2] = s * d + o * g,
                                    l[3] = s * p + o * f,
                                    l
                                }(a(r.s), a(v), (e - A) / (y - A)))
                            }
                        else
                            for (m = 0; m < g; m += 1)
                                1 !== r.h && (e >= y ? c = 1 : e < A ? c = 0 : (r.o.x.constructor === Array ? (r.__fnct || (r.__fnct = []),
                                r.__fnct[m] ? p = r.__fnct[m] : (S = "undefined" === typeof r.o.x[m] ? r.o.x[0] : r.o.x[m],
                                T = "undefined" === typeof r.o.y[m] ? r.o.y[0] : r.o.y[m],
                                E = "undefined" === typeof r.i.x[m] ? r.i.x[0] : r.i.x[m],
                                L = "undefined" === typeof r.i.y[m] ? r.i.y[0] : r.i.y[m],
                                p = BezierFactory.getBezierEasing(S, T, E, L).get,
                                r.__fnct[m] = p)) : r.__fnct ? p = r.__fnct : (S = r.o.x,
                                T = r.o.y,
                                E = r.i.x,
                                L = r.i.y,
                                p = BezierFactory.getBezierEasing(S, T, E, L).get,
                                r.__fnct = p),
                                c = p((e - A) / (y - A)))),
                                v = s.s || r.e,
                                k = 1 === r.h ? r.s[m] : r.s[m] + (v[m] - r.s[m]) * c,
                                1 === g ? i = k : i[m] = k
                    }
                    return t.lastIndex = u,
                    i
                }
                function a(e) {
                    var t = e[0] * degToRads
                      , i = e[1] * degToRads
                      , a = e[2] * degToRads
                      , n = Math.cos(t / 2)
                      , r = Math.cos(i / 2)
                      , s = Math.cos(a / 2)
                      , o = Math.sin(t / 2)
                      , l = Math.sin(i / 2)
                      , c = Math.sin(a / 2);
                    return [o * l * s + n * r * c, o * r * s + n * l * c, n * l * s - o * r * c, n * r * s - o * l * c]
                }
                function n() {
                    var t = this.comp.renderedFrame - this.offsetTime
                      , i = this.keyframes[0].t - this.offsetTime
                      , a = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;
                    if (!(t === this._caching.lastFrame || this._caching.lastFrame !== e && (this._caching.lastFrame >= a && t >= a || this._caching.lastFrame < i && t < i))) {
                        this._caching.lastFrame >= t && (this._caching._lastKeyframeIndex = -1,
                        this._caching.lastIndex = 0);
                        var n = this.interpolateValue(t, this._caching);
                        this.pv = n
                    }
                    return this._caching.lastFrame = t,
                    this.pv
                }
                function r(e) {
                    var i;
                    if ("unidimensional" === this.propType)
                        i = e * this.mult,
                        t(this.v - i) > 1e-5 && (this.v = i,
                        this._mdf = !0);
                    else
                        for (var a = 0, n = this.v.length; a < n; )
                            i = e[a] * this.mult,
                            t(this.v[a] - i) > 1e-5 && (this.v[a] = i,
                            this._mdf = !0),
                            a += 1
                }
                function s() {
                    if (this.elem.globalData.frameId !== this.frameId && this.effectsSequence.length)
                        if (this.lock)
                            this.setVValue(this.pv);
                        else {
                            this.lock = !0,
                            this._mdf = this._isFirstFrame;
                            var e, t = this.effectsSequence.length, i = this.kf ? this.pv : this.data.k;
                            for (e = 0; e < t; e += 1)
                                i = this.effectsSequence[e](i);
                            this.setVValue(i),
                            this._isFirstFrame = !1,
                            this.lock = !1,
                            this.frameId = this.elem.globalData.frameId
                        }
                }
                function o(e) {
                    this.effectsSequence.push(e),
                    this.container.addDynamicProperty(this)
                }
                function l(e, t, i, a) {
                    this.propType = "unidimensional",
                    this.mult = i || 1,
                    this.data = t,
                    this.v = i ? t.k * i : t.k,
                    this.pv = t.k,
                    this._mdf = !1,
                    this.elem = e,
                    this.container = a,
                    this.comp = e.comp,
                    this.k = !1,
                    this.kf = !1,
                    this.vel = 0,
                    this.effectsSequence = [],
                    this._isFirstFrame = !0,
                    this.getValue = s,
                    this.setVValue = r,
                    this.addEffect = o
                }
                function c(e, t, i, a) {
                    this.propType = "multidimensional",
                    this.mult = i || 1,
                    this.data = t,
                    this._mdf = !1,
                    this.elem = e,
                    this.container = a,
                    this.comp = e.comp,
                    this.k = !1,
                    this.kf = !1,
                    this.frameId = -1;
                    var n, l = t.k.length;
                    this.v = createTypedArray("float32", l),
                    this.pv = createTypedArray("float32", l);
                    createTypedArray("float32", l);
                    for (this.vel = createTypedArray("float32", l),
                    n = 0; n < l; n += 1)
                        this.v[n] = t.k[n] * this.mult,
                        this.pv[n] = t.k[n];
                    this._isFirstFrame = !0,
                    this.effectsSequence = [],
                    this.getValue = s,
                    this.setVValue = r,
                    this.addEffect = o
                }
                function h(t, a, l, c) {
                    this.propType = "unidimensional",
                    this.keyframes = a.k,
                    this.offsetTime = t.data.st,
                    this.frameId = -1,
                    this._caching = {
                        lastFrame: e,
                        lastIndex: 0,
                        value: 0,
                        _lastKeyframeIndex: -1
                    },
                    this.k = !0,
                    this.kf = !0,
                    this.data = a,
                    this.mult = l || 1,
                    this.elem = t,
                    this.container = c,
                    this.comp = t.comp,
                    this.v = e,
                    this.pv = e,
                    this._isFirstFrame = !0,
                    this.getValue = s,
                    this.setVValue = r,
                    this.interpolateValue = i,
                    this.effectsSequence = [n.bind(this)],
                    this.addEffect = o
                }
                function d(t, a, l, c) {
                    this.propType = "multidimensional";
                    var h, d, p, u, m, g = a.k.length;
                    for (h = 0; h < g - 1; h += 1)
                        a.k[h].to && a.k[h].s && a.k[h].e && (d = a.k[h].s,
                        p = a.k[h].e,
                        u = a.k[h].to,
                        m = a.k[h].ti,
                        (2 === d.length && (d[0] !== p[0] || d[1] !== p[1]) && bez.pointOnLine2D(d[0], d[1], p[0], p[1], d[0] + u[0], d[1] + u[1]) && bez.pointOnLine2D(d[0], d[1], p[0], p[1], p[0] + m[0], p[1] + m[1]) || 3 === d.length && (d[0] !== p[0] || d[1] !== p[1] || d[2] !== p[2]) && bez.pointOnLine3D(d[0], d[1], d[2], p[0], p[1], p[2], d[0] + u[0], d[1] + u[1], d[2] + u[2]) && bez.pointOnLine3D(d[0], d[1], d[2], p[0], p[1], p[2], p[0] + m[0], p[1] + m[1], p[2] + m[2])) && (a.k[h].to = null,
                        a.k[h].ti = null),
                        d[0] === p[0] && d[1] === p[1] && 0 === u[0] && 0 === u[1] && 0 === m[0] && 0 === m[1] && (2 === d.length || d[2] === p[2] && 0 === u[2] && 0 === m[2]) && (a.k[h].to = null,
                        a.k[h].ti = null));
                    this.effectsSequence = [n.bind(this)],
                    this.keyframes = a.k,
                    this.offsetTime = t.data.st,
                    this.k = !0,
                    this.kf = !0,
                    this._isFirstFrame = !0,
                    this.mult = l || 1,
                    this.elem = t,
                    this.container = c,
                    this.comp = t.comp,
                    this.getValue = s,
                    this.setVValue = r,
                    this.interpolateValue = i,
                    this.frameId = -1;
                    var f = a.k[0].s.length;
                    for (this.v = createTypedArray("float32", f),
                    this.pv = createTypedArray("float32", f),
                    h = 0; h < f; h += 1)
                        this.v[h] = e,
                        this.pv[h] = e;
                    this._caching = {
                        lastFrame: e,
                        lastIndex: 0,
                        value: createTypedArray("float32", f)
                    },
                    this.addEffect = o
                }
                return {
                    getProp: function(e, t, i, a, n) {
                        var r;
                        if (t.k.length)
                            if ("number" === typeof t.k[0])
                                r = new c(e,t,a,n);
                            else
                                switch (i) {
                                case 0:
                                    r = new h(e,t,a,n);
                                    break;
                                case 1:
                                    r = new d(e,t,a,n)
                                }
                        else
                            r = new l(e,t,a,n);
                        return r.effectsSequence.length && n.addDynamicProperty(r),
                        r
                    }
                }
            }()
              , TransformPropertyFactory = function() {
                function e(e, t, i) {
                    if (this.elem = e,
                    this.frameId = -1,
                    this.propType = "transform",
                    this.data = t,
                    this.v = new Matrix,
                    this.pre = new Matrix,
                    this.appliedTransformations = 0,
                    this.initDynamicPropertyContainer(i || e),
                    t.p && t.p.s ? (this.px = PropertyFactory.getProp(e, t.p.x, 0, 0, this),
                    this.py = PropertyFactory.getProp(e, t.p.y, 0, 0, this),
                    t.p.z && (this.pz = PropertyFactory.getProp(e, t.p.z, 0, 0, this))) : this.p = PropertyFactory.getProp(e, t.p || {
                        k: [0, 0, 0]
                    }, 1, 0, this),
                    t.rx) {
                        if (this.rx = PropertyFactory.getProp(e, t.rx, 0, degToRads, this),
                        this.ry = PropertyFactory.getProp(e, t.ry, 0, degToRads, this),
                        this.rz = PropertyFactory.getProp(e, t.rz, 0, degToRads, this),
                        t.or.k[0].ti) {
                            var a, n = t.or.k.length;
                            for (a = 0; a < n; a += 1)
                                t.or.k[a].to = t.or.k[a].ti = null
                        }
                        this.or = PropertyFactory.getProp(e, t.or, 1, degToRads, this),
                        this.or.sh = !0
                    } else
                        this.r = PropertyFactory.getProp(e, t.r || {
                            k: 0
                        }, 0, degToRads, this);
                    t.sk && (this.sk = PropertyFactory.getProp(e, t.sk, 0, degToRads, this),
                    this.sa = PropertyFactory.getProp(e, t.sa, 0, degToRads, this)),
                    this.a = PropertyFactory.getProp(e, t.a || {
                        k: [0, 0, 0]
                    }, 1, 0, this),
                    this.s = PropertyFactory.getProp(e, t.s || {
                        k: [100, 100, 100]
                    }, 1, .01, this),
                    t.o ? this.o = PropertyFactory.getProp(e, t.o, 0, .01, e) : this.o = {
                        _mdf: !1,
                        v: 1
                    },
                    this._isDirty = !0,
                    this.dynamicProperties.length || this.getValue(!0)
                }
                return e.prototype = {
                    applyToMatrix: function(e) {
                        var t = this._mdf;
                        this.iterateDynamicProperties(),
                        this._mdf = this._mdf || t,
                        this.a && e.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]),
                        this.s && e.scale(this.s.v[0], this.s.v[1], this.s.v[2]),
                        this.sk && e.skewFromAxis(-this.sk.v, this.sa.v),
                        this.r ? e.rotate(-this.r.v) : e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),
                        this.data.p.s ? this.data.p.z ? e.translate(this.px.v, this.py.v, -this.pz.v) : e.translate(this.px.v, this.py.v, 0) : e.translate(this.p.v[0], this.p.v[1], -this.p.v[2])
                    },
                    getValue: function(e) {
                        if (this.elem.globalData.frameId !== this.frameId) {
                            if (this._isDirty && (this.precalculateMatrix(),
                            this._isDirty = !1),
                            this.iterateDynamicProperties(),
                            this._mdf || e) {
                                if (this.v.cloneFromProps(this.pre.props),
                                this.appliedTransformations < 1 && this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]),
                                this.appliedTransformations < 2 && this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]),
                                this.sk && this.appliedTransformations < 3 && this.v.skewFromAxis(-this.sk.v, this.sa.v),
                                this.r && this.appliedTransformations < 4 ? this.v.rotate(-this.r.v) : !this.r && this.appliedTransformations < 4 && this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),
                                this.autoOriented) {
                                    var t, i, a = this.elem.globalData.frameRate;
                                    if (this.p && this.p.keyframes && this.p.getValueAtTime)
                                        this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t ? (t = this.p.getValueAtTime((this.p.keyframes[0].t + .01) / a, 0),
                                        i = this.p.getValueAtTime(this.p.keyframes[0].t / a, 0)) : this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t ? (t = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / a, 0),
                                        i = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - .01) / a, 0)) : (t = this.p.pv,
                                        i = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - .01) / a, this.p.offsetTime));
                                    else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {
                                        t = [],
                                        i = [];
                                        var n = this.px
                                          , r = this.py;
                                        n._caching.lastFrame + n.offsetTime <= n.keyframes[0].t ? (t[0] = n.getValueAtTime((n.keyframes[0].t + .01) / a, 0),
                                        t[1] = r.getValueAtTime((r.keyframes[0].t + .01) / a, 0),
                                        i[0] = n.getValueAtTime(n.keyframes[0].t / a, 0),
                                        i[1] = r.getValueAtTime(r.keyframes[0].t / a, 0)) : n._caching.lastFrame + n.offsetTime >= n.keyframes[n.keyframes.length - 1].t ? (t[0] = n.getValueAtTime(n.keyframes[n.keyframes.length - 1].t / a, 0),
                                        t[1] = r.getValueAtTime(r.keyframes[r.keyframes.length - 1].t / a, 0),
                                        i[0] = n.getValueAtTime((n.keyframes[n.keyframes.length - 1].t - .01) / a, 0),
                                        i[1] = r.getValueAtTime((r.keyframes[r.keyframes.length - 1].t - .01) / a, 0)) : (t = [n.pv, r.pv],
                                        i[0] = n.getValueAtTime((n._caching.lastFrame + n.offsetTime - .01) / a, n.offsetTime),
                                        i[1] = r.getValueAtTime((r._caching.lastFrame + r.offsetTime - .01) / a, r.offsetTime))
                                    }
                                    this.v.rotate(-Math.atan2(t[1] - i[1], t[0] - i[0]))
                                }
                                this.data.p && this.data.p.s ? this.data.p.z ? this.v.translate(this.px.v, this.py.v, -this.pz.v) : this.v.translate(this.px.v, this.py.v, 0) : this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2])
                            }
                            this.frameId = this.elem.globalData.frameId
                        }
                    },
                    precalculateMatrix: function() {
                        if (!this.a.k && (this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]),
                        this.appliedTransformations = 1,
                        !this.s.effectsSequence.length)) {
                            if (this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]),
                            this.appliedTransformations = 2,
                            this.sk) {
                                if (this.sk.effectsSequence.length || this.sa.effectsSequence.length)
                                    return;
                                this.pre.skewFromAxis(-this.sk.v, this.sa.v),
                                this.appliedTransformations = 3
                            }
                            if (this.r) {
                                if (this.r.effectsSequence.length)
                                    return;
                                this.pre.rotate(-this.r.v),
                                this.appliedTransformations = 4
                            } else
                                this.rz.effectsSequence.length || this.ry.effectsSequence.length || this.rx.effectsSequence.length || this.or.effectsSequence.length || (this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),
                                this.appliedTransformations = 4)
                        }
                    },
                    autoOrient: function() {}
                },
                extendPrototype([DynamicPropertyContainer], e),
                e.prototype.addDynamicProperty = function(e) {
                    this._addDynamicProperty(e),
                    this.elem.addDynamicProperty(e),
                    this._isDirty = !0
                }
                ,
                e.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty,
                {
                    getTransformProperty: function(t, i, a) {
                        return new e(t,i,a)
                    }
                }
            }();
            function ShapePath() {
                this.c = !1,
                this._length = 0,
                this._maxLength = 8,
                this.v = createSizedArray(this._maxLength),
                this.o = createSizedArray(this._maxLength),
                this.i = createSizedArray(this._maxLength)
            }
            ShapePath.prototype.setPathData = function(e, t) {
                this.c = e,
                this.setLength(t);
                for (var i = 0; i < t; )
                    this.v[i] = point_pool.newElement(),
                    this.o[i] = point_pool.newElement(),
                    this.i[i] = point_pool.newElement(),
                    i += 1
            }
            ,
            ShapePath.prototype.setLength = function(e) {
                for (; this._maxLength < e; )
                    this.doubleArrayLength();
                this._length = e
            }
            ,
            ShapePath.prototype.doubleArrayLength = function() {
                this.v = this.v.concat(createSizedArray(this._maxLength)),
                this.i = this.i.concat(createSizedArray(this._maxLength)),
                this.o = this.o.concat(createSizedArray(this._maxLength)),
                this._maxLength *= 2
            }
            ,
            ShapePath.prototype.setXYAt = function(e, t, i, a, n) {
                var r;
                switch (this._length = Math.max(this._length, a + 1),
                this._length >= this._maxLength && this.doubleArrayLength(),
                i) {
                case "v":
                    r = this.v;
                    break;
                case "i":
                    r = this.i;
                    break;
                case "o":
                    r = this.o
                }
                (!r[a] || r[a] && !n) && (r[a] = point_pool.newElement()),
                r[a][0] = e,
                r[a][1] = t
            }
            ,
            ShapePath.prototype.setTripleAt = function(e, t, i, a, n, r, s, o) {
                this.setXYAt(e, t, "v", s, o),
                this.setXYAt(i, a, "o", s, o),
                this.setXYAt(n, r, "i", s, o)
            }
            ,
            ShapePath.prototype.reverse = function() {
                var e = new ShapePath;
                e.setPathData(this.c, this._length);
                var t = this.v
                  , i = this.o
                  , a = this.i
                  , n = 0;
                this.c && (e.setTripleAt(t[0][0], t[0][1], a[0][0], a[0][1], i[0][0], i[0][1], 0, !1),
                n = 1);
                var r, s = this._length - 1, o = this._length;
                for (r = n; r < o; r += 1)
                    e.setTripleAt(t[s][0], t[s][1], a[s][0], a[s][1], i[s][0], i[s][1], r, !1),
                    s -= 1;
                return e
            }
            ;
            var ShapePropertyFactory = function() {
                var e = -999999;
                function t(e, t, i) {
                    var a, n, r, s, o, l, c, h, d, p = i.lastIndex, u = this.keyframes;
                    if (e < u[0].t - this.offsetTime)
                        a = u[0].s[0],
                        r = !0,
                        p = 0;
                    else if (e >= u[u.length - 1].t - this.offsetTime)
                        a = u[u.length - 1].s ? u[u.length - 1].s[0] : u[u.length - 2].e[0],
                        r = !0;
                    else {
                        for (var m, g, f = p, v = u.length - 1, y = !0; y && (m = u[f],
                        !((g = u[f + 1]).t - this.offsetTime > e)); )
                            f < v - 1 ? f += 1 : y = !1;
                        if (p = f,
                        !(r = 1 === m.h)) {
                            if (e >= g.t - this.offsetTime)
                                h = 1;
                            else if (e < m.t - this.offsetTime)
                                h = 0;
                            else {
                                var A;
                                m.__fnct ? A = m.__fnct : (A = BezierFactory.getBezierEasing(m.o.x, m.o.y, m.i.x, m.i.y).get,
                                m.__fnct = A),
                                h = A((e - (m.t - this.offsetTime)) / (g.t - this.offsetTime - (m.t - this.offsetTime)))
                            }
                            n = g.s ? g.s[0] : m.e[0]
                        }
                        a = m.s[0]
                    }
                    for (l = t._length,
                    c = a.i[0].length,
                    i.lastIndex = p,
                    s = 0; s < l; s += 1)
                        for (o = 0; o < c; o += 1)
                            d = r ? a.i[s][o] : a.i[s][o] + (n.i[s][o] - a.i[s][o]) * h,
                            t.i[s][o] = d,
                            d = r ? a.o[s][o] : a.o[s][o] + (n.o[s][o] - a.o[s][o]) * h,
                            t.o[s][o] = d,
                            d = r ? a.v[s][o] : a.v[s][o] + (n.v[s][o] - a.v[s][o]) * h,
                            t.v[s][o] = d
                }
                function i() {
                    var t = this.comp.renderedFrame - this.offsetTime
                      , i = this.keyframes[0].t - this.offsetTime
                      , a = this.keyframes[this.keyframes.length - 1].t - this.offsetTime
                      , n = this._caching.lastFrame;
                    return n !== e && (n < i && t < i || n > a && t > a) || (this._caching.lastIndex = n < t ? this._caching.lastIndex : 0,
                    this.interpolateShape(t, this.pv, this._caching)),
                    this._caching.lastFrame = t,
                    this.pv
                }
                function a() {
                    this.paths = this.localShapeCollection
                }
                function n(e) {
                    (function(e, t) {
                        if (e._length !== t._length || e.c !== t.c)
                            return !1;
                        var i, a = e._length;
                        for (i = 0; i < a; i += 1)
                            if (e.v[i][0] !== t.v[i][0] || e.v[i][1] !== t.v[i][1] || e.o[i][0] !== t.o[i][0] || e.o[i][1] !== t.o[i][1] || e.i[i][0] !== t.i[i][0] || e.i[i][1] !== t.i[i][1])
                                return !1;
                        return !0
                    }
                    )(this.v, e) || (this.v = shape_pool.clone(e),
                    this.localShapeCollection.releaseShapes(),
                    this.localShapeCollection.addShape(this.v),
                    this._mdf = !0,
                    this.paths = this.localShapeCollection)
                }
                function r() {
                    if (this.elem.globalData.frameId !== this.frameId && this.effectsSequence.length)
                        if (this.lock)
                            this.setVValue(this.pv);
                        else {
                            this.lock = !0,
                            this._mdf = !1;
                            var e, t = this.kf ? this.pv : this.data.ks ? this.data.ks.k : this.data.pt.k, i = this.effectsSequence.length;
                            for (e = 0; e < i; e += 1)
                                t = this.effectsSequence[e](t);
                            this.setVValue(t),
                            this.lock = !1,
                            this.frameId = this.elem.globalData.frameId
                        }
                }
                function s(e, t, i) {
                    this.propType = "shape",
                    this.comp = e.comp,
                    this.container = e,
                    this.elem = e,
                    this.data = t,
                    this.k = !1,
                    this.kf = !1,
                    this._mdf = !1;
                    var n = 3 === i ? t.pt.k : t.ks.k;
                    this.v = shape_pool.clone(n),
                    this.pv = shape_pool.clone(this.v),
                    this.localShapeCollection = shapeCollection_pool.newShapeCollection(),
                    this.paths = this.localShapeCollection,
                    this.paths.addShape(this.v),
                    this.reset = a,
                    this.effectsSequence = []
                }
                function o(e) {
                    this.effectsSequence.push(e),
                    this.container.addDynamicProperty(this)
                }
                function l(t, n, r) {
                    this.propType = "shape",
                    this.comp = t.comp,
                    this.elem = t,
                    this.container = t,
                    this.offsetTime = t.data.st,
                    this.keyframes = 3 === r ? n.pt.k : n.ks.k,
                    this.k = !0,
                    this.kf = !0;
                    var s = this.keyframes[0].s[0].i.length;
                    this.keyframes[0].s[0].i[0].length;
                    this.v = shape_pool.newElement(),
                    this.v.setPathData(this.keyframes[0].s[0].c, s),
                    this.pv = shape_pool.clone(this.v),
                    this.localShapeCollection = shapeCollection_pool.newShapeCollection(),
                    this.paths = this.localShapeCollection,
                    this.paths.addShape(this.v),
                    this.lastFrame = e,
                    this.reset = a,
                    this._caching = {
                        lastFrame: e,
                        lastIndex: 0
                    },
                    this.effectsSequence = [i.bind(this)]
                }
                s.prototype.interpolateShape = t,
                s.prototype.getValue = r,
                s.prototype.setVValue = n,
                s.prototype.addEffect = o,
                l.prototype.getValue = r,
                l.prototype.interpolateShape = t,
                l.prototype.setVValue = n,
                l.prototype.addEffect = o;
                var c = function() {
                    var e = roundCorner;
                    function t(e, t) {
                        this.v = shape_pool.newElement(),
                        this.v.setPathData(!0, 4),
                        this.localShapeCollection = shapeCollection_pool.newShapeCollection(),
                        this.paths = this.localShapeCollection,
                        this.localShapeCollection.addShape(this.v),
                        this.d = t.d,
                        this.elem = e,
                        this.comp = e.comp,
                        this.frameId = -1,
                        this.initDynamicPropertyContainer(e),
                        this.p = PropertyFactory.getProp(e, t.p, 1, 0, this),
                        this.s = PropertyFactory.getProp(e, t.s, 1, 0, this),
                        this.dynamicProperties.length ? this.k = !0 : (this.k = !1,
                        this.convertEllToPath())
                    }
                    return t.prototype = {
                        reset: a,
                        getValue: function() {
                            this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId,
                            this.iterateDynamicProperties(),
                            this._mdf && this.convertEllToPath())
                        },
                        convertEllToPath: function() {
                            var t = this.p.v[0]
                              , i = this.p.v[1]
                              , a = this.s.v[0] / 2
                              , n = this.s.v[1] / 2
                              , r = 3 !== this.d
                              , s = this.v;
                            s.v[0][0] = t,
                            s.v[0][1] = i - n,
                            s.v[1][0] = r ? t + a : t - a,
                            s.v[1][1] = i,
                            s.v[2][0] = t,
                            s.v[2][1] = i + n,
                            s.v[3][0] = r ? t - a : t + a,
                            s.v[3][1] = i,
                            s.i[0][0] = r ? t - a * e : t + a * e,
                            s.i[0][1] = i - n,
                            s.i[1][0] = r ? t + a : t - a,
                            s.i[1][1] = i - n * e,
                            s.i[2][0] = r ? t + a * e : t - a * e,
                            s.i[2][1] = i + n,
                            s.i[3][0] = r ? t - a : t + a,
                            s.i[3][1] = i + n * e,
                            s.o[0][0] = r ? t + a * e : t - a * e,
                            s.o[0][1] = i - n,
                            s.o[1][0] = r ? t + a : t - a,
                            s.o[1][1] = i + n * e,
                            s.o[2][0] = r ? t - a * e : t + a * e,
                            s.o[2][1] = i + n,
                            s.o[3][0] = r ? t - a : t + a,
                            s.o[3][1] = i - n * e
                        }
                    },
                    extendPrototype([DynamicPropertyContainer], t),
                    t
                }()
                  , h = function() {
                    function e(e, t) {
                        this.v = shape_pool.newElement(),
                        this.v.setPathData(!0, 0),
                        this.elem = e,
                        this.comp = e.comp,
                        this.data = t,
                        this.frameId = -1,
                        this.d = t.d,
                        this.initDynamicPropertyContainer(e),
                        1 === t.sy ? (this.ir = PropertyFactory.getProp(e, t.ir, 0, 0, this),
                        this.is = PropertyFactory.getProp(e, t.is, 0, .01, this),
                        this.convertToPath = this.convertStarToPath) : this.convertToPath = this.convertPolygonToPath,
                        this.pt = PropertyFactory.getProp(e, t.pt, 0, 0, this),
                        this.p = PropertyFactory.getProp(e, t.p, 1, 0, this),
                        this.r = PropertyFactory.getProp(e, t.r, 0, degToRads, this),
                        this.or = PropertyFactory.getProp(e, t.or, 0, 0, this),
                        this.os = PropertyFactory.getProp(e, t.os, 0, .01, this),
                        this.localShapeCollection = shapeCollection_pool.newShapeCollection(),
                        this.localShapeCollection.addShape(this.v),
                        this.paths = this.localShapeCollection,
                        this.dynamicProperties.length ? this.k = !0 : (this.k = !1,
                        this.convertToPath())
                    }
                    return e.prototype = {
                        reset: a,
                        getValue: function() {
                            this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId,
                            this.iterateDynamicProperties(),
                            this._mdf && this.convertToPath())
                        },
                        convertStarToPath: function() {
                            var e, t, i, a, n = 2 * Math.floor(this.pt.v), r = 2 * Math.PI / n, s = !0, o = this.or.v, l = this.ir.v, c = this.os.v, h = this.is.v, d = 2 * Math.PI * o / (2 * n), p = 2 * Math.PI * l / (2 * n), u = -Math.PI / 2;
                            u += this.r.v;
                            var m = 3 === this.data.d ? -1 : 1;
                            for (this.v._length = 0,
                            e = 0; e < n; e += 1) {
                                i = s ? c : h,
                                a = s ? d : p;
                                var g = (t = s ? o : l) * Math.cos(u)
                                  , f = t * Math.sin(u)
                                  , v = 0 === g && 0 === f ? 0 : f / Math.sqrt(g * g + f * f)
                                  , y = 0 === g && 0 === f ? 0 : -g / Math.sqrt(g * g + f * f);
                                g += +this.p.v[0],
                                f += +this.p.v[1],
                                this.v.setTripleAt(g, f, g - v * a * i * m, f - y * a * i * m, g + v * a * i * m, f + y * a * i * m, e, !0),
                                s = !s,
                                u += r * m
                            }
                        },
                        convertPolygonToPath: function() {
                            var e, t = Math.floor(this.pt.v), i = 2 * Math.PI / t, a = this.or.v, n = this.os.v, r = 2 * Math.PI * a / (4 * t), s = -Math.PI / 2, o = 3 === this.data.d ? -1 : 1;
                            for (s += this.r.v,
                            this.v._length = 0,
                            e = 0; e < t; e += 1) {
                                var l = a * Math.cos(s)
                                  , c = a * Math.sin(s)
                                  , h = 0 === l && 0 === c ? 0 : c / Math.sqrt(l * l + c * c)
                                  , d = 0 === l && 0 === c ? 0 : -l / Math.sqrt(l * l + c * c);
                                l += +this.p.v[0],
                                c += +this.p.v[1],
                                this.v.setTripleAt(l, c, l - h * r * n * o, c - d * r * n * o, l + h * r * n * o, c + d * r * n * o, e, !0),
                                s += i * o
                            }
                            this.paths.length = 0,
                            this.paths[0] = this.v
                        }
                    },
                    extendPrototype([DynamicPropertyContainer], e),
                    e
                }()
                  , d = function() {
                    function e(e, t) {
                        this.v = shape_pool.newElement(),
                        this.v.c = !0,
                        this.localShapeCollection = shapeCollection_pool.newShapeCollection(),
                        this.localShapeCollection.addShape(this.v),
                        this.paths = this.localShapeCollection,
                        this.elem = e,
                        this.comp = e.comp,
                        this.frameId = -1,
                        this.d = t.d,
                        this.initDynamicPropertyContainer(e),
                        this.p = PropertyFactory.getProp(e, t.p, 1, 0, this),
                        this.s = PropertyFactory.getProp(e, t.s, 1, 0, this),
                        this.r = PropertyFactory.getProp(e, t.r, 0, 0, this),
                        this.dynamicProperties.length ? this.k = !0 : (this.k = !1,
                        this.convertRectToPath())
                    }
                    return e.prototype = {
                        convertRectToPath: function() {
                            var e = this.p.v[0]
                              , t = this.p.v[1]
                              , i = this.s.v[0] / 2
                              , a = this.s.v[1] / 2
                              , n = bm_min(i, a, this.r.v)
                              , r = n * (1 - roundCorner);
                            this.v._length = 0,
                            2 === this.d || 1 === this.d ? (this.v.setTripleAt(e + i, t - a + n, e + i, t - a + n, e + i, t - a + r, 0, !0),
                            this.v.setTripleAt(e + i, t + a - n, e + i, t + a - r, e + i, t + a - n, 1, !0),
                            0 !== n ? (this.v.setTripleAt(e + i - n, t + a, e + i - n, t + a, e + i - r, t + a, 2, !0),
                            this.v.setTripleAt(e - i + n, t + a, e - i + r, t + a, e - i + n, t + a, 3, !0),
                            this.v.setTripleAt(e - i, t + a - n, e - i, t + a - n, e - i, t + a - r, 4, !0),
                            this.v.setTripleAt(e - i, t - a + n, e - i, t - a + r, e - i, t - a + n, 5, !0),
                            this.v.setTripleAt(e - i + n, t - a, e - i + n, t - a, e - i + r, t - a, 6, !0),
                            this.v.setTripleAt(e + i - n, t - a, e + i - r, t - a, e + i - n, t - a, 7, !0)) : (this.v.setTripleAt(e - i, t + a, e - i + r, t + a, e - i, t + a, 2),
                            this.v.setTripleAt(e - i, t - a, e - i, t - a + r, e - i, t - a, 3))) : (this.v.setTripleAt(e + i, t - a + n, e + i, t - a + r, e + i, t - a + n, 0, !0),
                            0 !== n ? (this.v.setTripleAt(e + i - n, t - a, e + i - n, t - a, e + i - r, t - a, 1, !0),
                            this.v.setTripleAt(e - i + n, t - a, e - i + r, t - a, e - i + n, t - a, 2, !0),
                            this.v.setTripleAt(e - i, t - a + n, e - i, t - a + n, e - i, t - a + r, 3, !0),
                            this.v.setTripleAt(e - i, t + a - n, e - i, t + a - r, e - i, t + a - n, 4, !0),
                            this.v.setTripleAt(e - i + n, t + a, e - i + n, t + a, e - i + r, t + a, 5, !0),
                            this.v.setTripleAt(e + i - n, t + a, e + i - r, t + a, e + i - n, t + a, 6, !0),
                            this.v.setTripleAt(e + i, t + a - n, e + i, t + a - n, e + i, t + a - r, 7, !0)) : (this.v.setTripleAt(e - i, t - a, e - i + r, t - a, e - i, t - a, 1, !0),
                            this.v.setTripleAt(e - i, t + a, e - i, t + a - r, e - i, t + a, 2, !0),
                            this.v.setTripleAt(e + i, t + a, e + i - r, t + a, e + i, t + a, 3, !0)))
                        },
                        getValue: function(e) {
                            this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId,
                            this.iterateDynamicProperties(),
                            this._mdf && this.convertRectToPath())
                        },
                        reset: a
                    },
                    extendPrototype([DynamicPropertyContainer], e),
                    e
                }();
                var p = {
                    getShapeProp: function(e, t, i) {
                        var a;
                        return 3 === i || 4 === i ? a = (3 === i ? t.pt : t.ks).k.length ? new l(e,t,i) : new s(e,t,i) : 5 === i ? a = new d(e,t) : 6 === i ? a = new c(e,t) : 7 === i && (a = new h(e,t)),
                        a.k && e.addDynamicProperty(a),
                        a
                    },
                    getConstructorFunction: function() {
                        return s
                    },
                    getKeyframedConstructorFunction: function() {
                        return l
                    }
                };
                return p
            }()
              , ShapeModifiers = function() {
                var e = {}
                  , t = {};
                return e.registerModifier = function(e, i) {
                    t[e] || (t[e] = i)
                }
                ,
                e.getModifier = function(e, i, a) {
                    return new t[e](i,a)
                }
                ,
                e
            }();
            function ShapeModifier() {}
            function TrimModifier() {}
            function RoundCornersModifier() {}
            function RepeaterModifier() {}
            function ShapeCollection() {
                this._length = 0,
                this._maxLength = 4,
                this.shapes = createSizedArray(this._maxLength)
            }
            function DashProperty(e, t, i, a) {
                this.elem = e,
                this.frameId = -1,
                this.dataProps = createSizedArray(t.length),
                this.renderer = i,
                this.k = !1,
                this.dashStr = "",
                this.dashArray = createTypedArray("float32", t.length ? t.length - 1 : 0),
                this.dashoffset = createTypedArray("float32", 1),
                this.initDynamicPropertyContainer(a);
                var n, r, s = t.length || 0;
                for (n = 0; n < s; n += 1)
                    r = PropertyFactory.getProp(e, t[n].v, 0, 0, this),
                    this.k = r.k || this.k,
                    this.dataProps[n] = {
                        n: t[n].n,
                        p: r
                    };
                this.k || this.getValue(!0),
                this._isAnimated = this.k
            }
            function GradientProperty(e, t, i) {
                this.data = t,
                this.c = createTypedArray("uint8c", 4 * t.p);
                var a = t.k.k[0].s ? t.k.k[0].s.length - 4 * t.p : t.k.k.length - 4 * t.p;
                this.o = createTypedArray("float32", a),
                this._cmdf = !1,
                this._omdf = !1,
                this._collapsable = this.checkCollapsable(),
                this._hasOpacity = a,
                this.initDynamicPropertyContainer(i),
                this.prop = PropertyFactory.getProp(e, t.k, 1, null, this),
                this.k = this.prop.k,
                this.getValue(!0)
            }
            ShapeModifier.prototype.initModifierProperties = function() {}
            ,
            ShapeModifier.prototype.addShapeToModifier = function() {}
            ,
            ShapeModifier.prototype.addShape = function(e) {
                if (!this.closed) {
                    var t = {
                        shape: e.sh,
                        data: e,
                        localShapeCollection: shapeCollection_pool.newShapeCollection()
                    };
                    this.shapes.push(t),
                    this.addShapeToModifier(t),
                    this._isAnimated && e.setAsAnimated()
                }
            }
            ,
            ShapeModifier.prototype.init = function(e, t) {
                this.shapes = [],
                this.elem = e,
                this.initDynamicPropertyContainer(e),
                this.initModifierProperties(e, t),
                this.frameId = initialDefaultFrame,
                this.closed = !1,
                this.k = !1,
                this.dynamicProperties.length ? this.k = !0 : this.getValue(!0)
            }
            ,
            ShapeModifier.prototype.processKeys = function() {
                this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId,
                this.iterateDynamicProperties())
            }
            ,
            extendPrototype([DynamicPropertyContainer], ShapeModifier),
            extendPrototype([ShapeModifier], TrimModifier),
            TrimModifier.prototype.initModifierProperties = function(e, t) {
                this.s = PropertyFactory.getProp(e, t.s, 0, .01, this),
                this.e = PropertyFactory.getProp(e, t.e, 0, .01, this),
                this.o = PropertyFactory.getProp(e, t.o, 0, 0, this),
                this.sValue = 0,
                this.eValue = 0,
                this.getValue = this.processKeys,
                this.m = t.m,
                this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length
            }
            ,
            TrimModifier.prototype.addShapeToModifier = function(e) {
                e.pathsData = []
            }
            ,
            TrimModifier.prototype.calculateShapeEdges = function(e, t, i, a, n) {
                var r = [];
                t <= 1 ? r.push({
                    s: e,
                    e: t
                }) : e >= 1 ? r.push({
                    s: e - 1,
                    e: t - 1
                }) : (r.push({
                    s: e,
                    e: 1
                }),
                r.push({
                    s: 0,
                    e: t - 1
                }));
                var s, o, l = [], c = r.length;
                for (s = 0; s < c; s += 1) {
                    var h, d;
                    if ((o = r[s]).e * n < a || o.s * n > a + i)
                        ;
                    else
                        h = o.s * n <= a ? 0 : (o.s * n - a) / i,
                        d = o.e * n >= a + i ? 1 : (o.e * n - a) / i,
                        l.push([h, d])
                }
                return l.length || l.push([0, 0]),
                l
            }
            ,
            TrimModifier.prototype.releasePathsData = function(e) {
                var t, i = e.length;
                for (t = 0; t < i; t += 1)
                    segments_length_pool.release(e[t]);
                return e.length = 0,
                e
            }
            ,
            TrimModifier.prototype.processShapes = function(e) {
                var t, i, a;
                if (this._mdf || e) {
                    var n = this.o.v % 360 / 360;
                    if (n < 0 && (n += 1),
                    (t = (this.s.v > 1 ? 1 : this.s.v < 0 ? 0 : this.s.v) + n) > (i = (this.e.v > 1 ? 1 : this.e.v < 0 ? 0 : this.e.v) + n)) {
                        var r = t;
                        t = i,
                        i = r
                    }
                    t = 1e-4 * Math.round(1e4 * t),
                    i = 1e-4 * Math.round(1e4 * i),
                    this.sValue = t,
                    this.eValue = i
                } else
                    t = this.sValue,
                    i = this.eValue;
                var s, o, l, c, h, d, p = this.shapes.length, u = 0;
                if (i === t)
                    for (s = 0; s < p; s += 1)
                        this.shapes[s].localShapeCollection.releaseShapes(),
                        this.shapes[s].shape._mdf = !0,
                        this.shapes[s].shape.paths = this.shapes[s].localShapeCollection;
                else if (1 === i && 0 === t || 0 === i && 1 === t) {
                    if (this._mdf)
                        for (s = 0; s < p; s += 1)
                            this.shapes[s].pathsData.length = 0,
                            this.shapes[s].shape._mdf = !0
                } else {
                    var m, g, f = [];
                    for (s = 0; s < p; s += 1)
                        if ((m = this.shapes[s]).shape._mdf || this._mdf || e || 2 === this.m) {
                            if (l = (a = m.shape.paths)._length,
                            d = 0,
                            !m.shape._mdf && m.pathsData.length)
                                d = m.totalShapeLength;
                            else {
                                for (c = this.releasePathsData(m.pathsData),
                                o = 0; o < l; o += 1)
                                    h = bez.getSegmentsLength(a.shapes[o]),
                                    c.push(h),
                                    d += h.totalLength;
                                m.totalShapeLength = d,
                                m.pathsData = c
                            }
                            u += d,
                            m.shape._mdf = !0
                        } else
                            m.shape.paths = m.localShapeCollection;
                    var v, y = t, A = i, _ = 0;
                    for (s = p - 1; s >= 0; s -= 1)
                        if ((m = this.shapes[s]).shape._mdf) {
                            for ((g = m.localShapeCollection).releaseShapes(),
                            2 === this.m && p > 1 ? (v = this.calculateShapeEdges(t, i, m.totalShapeLength, _, u),
                            _ += m.totalShapeLength) : v = [[y, A]],
                            l = v.length,
                            o = 0; o < l; o += 1) {
                                y = v[o][0],
                                A = v[o][1],
                                f.length = 0,
                                A <= 1 ? f.push({
                                    s: m.totalShapeLength * y,
                                    e: m.totalShapeLength * A
                                }) : y >= 1 ? f.push({
                                    s: m.totalShapeLength * (y - 1),
                                    e: m.totalShapeLength * (A - 1)
                                }) : (f.push({
                                    s: m.totalShapeLength * y,
                                    e: m.totalShapeLength
                                }),
                                f.push({
                                    s: 0,
                                    e: m.totalShapeLength * (A - 1)
                                }));
                                var b = this.addShapes(m, f[0]);
                                if (f[0].s !== f[0].e) {
                                    if (f.length > 1)
                                        if (m.shape.paths.shapes[m.shape.paths._length - 1].c) {
                                            var C = b.pop();
                                            this.addPaths(b, g),
                                            b = this.addShapes(m, f[1], C)
                                        } else
                                            this.addPaths(b, g),
                                            b = this.addShapes(m, f[1]);
                                    this.addPaths(b, g)
                                }
                            }
                            m.shape.paths = g
                        }
                }
            }
            ,
            TrimModifier.prototype.addPaths = function(e, t) {
                var i, a = e.length;
                for (i = 0; i < a; i += 1)
                    t.addShape(e[i])
            }
            ,
            TrimModifier.prototype.addSegment = function(e, t, i, a, n, r, s) {
                n.setXYAt(t[0], t[1], "o", r),
                n.setXYAt(i[0], i[1], "i", r + 1),
                s && n.setXYAt(e[0], e[1], "v", r),
                n.setXYAt(a[0], a[1], "v", r + 1)
            }
            ,
            TrimModifier.prototype.addSegmentFromArray = function(e, t, i, a) {
                t.setXYAt(e[1], e[5], "o", i),
                t.setXYAt(e[2], e[6], "i", i + 1),
                a && t.setXYAt(e[0], e[4], "v", i),
                t.setXYAt(e[3], e[7], "v", i + 1)
            }
            ,
            TrimModifier.prototype.addShapes = function(e, t, i) {
                var a, n, r, s, o, l, c, h, d = e.pathsData, p = e.shape.paths.shapes, u = e.shape.paths._length, m = 0, g = [], f = !0;
                for (i ? (o = i._length,
                h = i._length) : (i = shape_pool.newElement(),
                o = 0,
                h = 0),
                g.push(i),
                a = 0; a < u; a += 1) {
                    for (l = d[a].lengths,
                    i.c = p[a].c,
                    r = p[a].c ? l.length : l.length + 1,
                    n = 1; n < r; n += 1)
                        if (m + (s = l[n - 1]).addedLength < t.s)
                            m += s.addedLength,
                            i.c = !1;
                        else {
                            if (m > t.e) {
                                i.c = !1;
                                break
                            }
                            t.s <= m && t.e >= m + s.addedLength ? (this.addSegment(p[a].v[n - 1], p[a].o[n - 1], p[a].i[n], p[a].v[n], i, o, f),
                            f = !1) : (c = bez.getNewSegment(p[a].v[n - 1], p[a].v[n], p[a].o[n - 1], p[a].i[n], (t.s - m) / s.addedLength, (t.e - m) / s.addedLength, l[n - 1]),
                            this.addSegmentFromArray(c, i, o, f),
                            f = !1,
                            i.c = !1),
                            m += s.addedLength,
                            o += 1
                        }
                    if (p[a].c && l.length) {
                        if (s = l[n - 1],
                        m <= t.e) {
                            var v = l[n - 1].addedLength;
                            t.s <= m && t.e >= m + v ? (this.addSegment(p[a].v[n - 1], p[a].o[n - 1], p[a].i[0], p[a].v[0], i, o, f),
                            f = !1) : (c = bez.getNewSegment(p[a].v[n - 1], p[a].v[0], p[a].o[n - 1], p[a].i[0], (t.s - m) / v, (t.e - m) / v, l[n - 1]),
                            this.addSegmentFromArray(c, i, o, f),
                            f = !1,
                            i.c = !1)
                        } else
                            i.c = !1;
                        m += s.addedLength,
                        o += 1
                    }
                    if (i._length && (i.setXYAt(i.v[h][0], i.v[h][1], "i", h),
                    i.setXYAt(i.v[i._length - 1][0], i.v[i._length - 1][1], "o", i._length - 1)),
                    m > t.e)
                        break;
                    a < u - 1 && (i = shape_pool.newElement(),
                    f = !0,
                    g.push(i),
                    o = 0)
                }
                return g
            }
            ,
            ShapeModifiers.registerModifier("tm", TrimModifier),
            extendPrototype([ShapeModifier], RoundCornersModifier),
            RoundCornersModifier.prototype.initModifierProperties = function(e, t) {
                this.getValue = this.processKeys,
                this.rd = PropertyFactory.getProp(e, t.r, 0, null, this),
                this._isAnimated = !!this.rd.effectsSequence.length
            }
            ,
            RoundCornersModifier.prototype.processPath = function(e, t) {
                var i = shape_pool.newElement();
                i.c = e.c;
                var a, n, r, s, o, l, c, h, d, p, u, m, g, f = e._length, v = 0;
                for (a = 0; a < f; a += 1)
                    n = e.v[a],
                    s = e.o[a],
                    r = e.i[a],
                    n[0] === s[0] && n[1] === s[1] && n[0] === r[0] && n[1] === r[1] ? 0 !== a && a !== f - 1 || e.c ? (o = 0 === a ? e.v[f - 1] : e.v[a - 1],
                    c = (l = Math.sqrt(Math.pow(n[0] - o[0], 2) + Math.pow(n[1] - o[1], 2))) ? Math.min(l / 2, t) / l : 0,
                    h = m = n[0] + (o[0] - n[0]) * c,
                    d = g = n[1] - (n[1] - o[1]) * c,
                    p = h - (h - n[0]) * roundCorner,
                    u = d - (d - n[1]) * roundCorner,
                    i.setTripleAt(h, d, p, u, m, g, v),
                    v += 1,
                    o = a === f - 1 ? e.v[0] : e.v[a + 1],
                    c = (l = Math.sqrt(Math.pow(n[0] - o[0], 2) + Math.pow(n[1] - o[1], 2))) ? Math.min(l / 2, t) / l : 0,
                    h = p = n[0] + (o[0] - n[0]) * c,
                    d = u = n[1] + (o[1] - n[1]) * c,
                    m = h - (h - n[0]) * roundCorner,
                    g = d - (d - n[1]) * roundCorner,
                    i.setTripleAt(h, d, p, u, m, g, v),
                    v += 1) : (i.setTripleAt(n[0], n[1], s[0], s[1], r[0], r[1], v),
                    v += 1) : (i.setTripleAt(e.v[a][0], e.v[a][1], e.o[a][0], e.o[a][1], e.i[a][0], e.i[a][1], v),
                    v += 1);
                return i
            }
            ,
            RoundCornersModifier.prototype.processShapes = function(e) {
                var t, i, a, n, r, s, o = this.shapes.length, l = this.rd.v;
                if (0 !== l)
                    for (i = 0; i < o; i += 1) {
                        if ((r = this.shapes[i]).shape.paths,
                        s = r.localShapeCollection,
                        r.shape._mdf || this._mdf || e)
                            for (s.releaseShapes(),
                            r.shape._mdf = !0,
                            t = r.shape.paths.shapes,
                            n = r.shape.paths._length,
                            a = 0; a < n; a += 1)
                                s.addShape(this.processPath(t[a], l));
                        r.shape.paths = r.localShapeCollection
                    }
                this.dynamicProperties.length || (this._mdf = !1)
            }
            ,
            ShapeModifiers.registerModifier("rd", RoundCornersModifier),
            extendPrototype([ShapeModifier], RepeaterModifier),
            RepeaterModifier.prototype.initModifierProperties = function(e, t) {
                this.getValue = this.processKeys,
                this.c = PropertyFactory.getProp(e, t.c, 0, null, this),
                this.o = PropertyFactory.getProp(e, t.o, 0, null, this),
                this.tr = TransformPropertyFactory.getTransformProperty(e, t.tr, this),
                this.so = PropertyFactory.getProp(e, t.tr.so, 0, .01, this),
                this.eo = PropertyFactory.getProp(e, t.tr.eo, 0, .01, this),
                this.data = t,
                this.dynamicProperties.length || this.getValue(!0),
                this._isAnimated = !!this.dynamicProperties.length,
                this.pMatrix = new Matrix,
                this.rMatrix = new Matrix,
                this.sMatrix = new Matrix,
                this.tMatrix = new Matrix,
                this.matrix = new Matrix
            }
            ,
            RepeaterModifier.prototype.applyTransforms = function(e, t, i, a, n, r) {
                var s = r ? -1 : 1
                  , o = a.s.v[0] + (1 - a.s.v[0]) * (1 - n)
                  , l = a.s.v[1] + (1 - a.s.v[1]) * (1 - n);
                e.translate(a.p.v[0] * s * n, a.p.v[1] * s * n, a.p.v[2]),
                t.translate(-a.a.v[0], -a.a.v[1], a.a.v[2]),
                t.rotate(-a.r.v * s * n),
                t.translate(a.a.v[0], a.a.v[1], a.a.v[2]),
                i.translate(-a.a.v[0], -a.a.v[1], a.a.v[2]),
                i.scale(r ? 1 / o : o, r ? 1 / l : l),
                i.translate(a.a.v[0], a.a.v[1], a.a.v[2])
            }
            ,
            RepeaterModifier.prototype.init = function(e, t, i, a) {
                this.elem = e,
                this.arr = t,
                this.pos = i,
                this.elemsData = a,
                this._currentCopies = 0,
                this._elements = [],
                this._groups = [],
                this.frameId = -1,
                this.initDynamicPropertyContainer(e),
                this.initModifierProperties(e, t[i]);
                for (; i > 0; )
                    i -= 1,
                    this._elements.unshift(t[i]),
                    1;
                this.dynamicProperties.length ? this.k = !0 : this.getValue(!0)
            }
            ,
            RepeaterModifier.prototype.resetElements = function(e) {
                var t, i = e.length;
                for (t = 0; t < i; t += 1)
                    e[t]._processed = !1,
                    "gr" === e[t].ty && this.resetElements(e[t].it)
            }
            ,
            RepeaterModifier.prototype.cloneElements = function(e) {
                e.length;
                var t = JSON.parse(JSON.stringify(e));
                return this.resetElements(t),
                t
            }
            ,
            RepeaterModifier.prototype.changeGroupRender = function(e, t) {
                var i, a = e.length;
                for (i = 0; i < a; i += 1)
                    e[i]._render = t,
                    "gr" === e[i].ty && this.changeGroupRender(e[i].it, t)
            }
            ,
            RepeaterModifier.prototype.processShapes = function(e) {
                var t, i, a, n, r;
                if (this._mdf || e) {
                    var s, o = Math.ceil(this.c.v);
                    if (this._groups.length < o) {
                        for (; this._groups.length < o; ) {
                            var l = {
                                it: this.cloneElements(this._elements),
                                ty: "gr"
                            };
                            l.it.push({
                                a: {
                                    a: 0,
                                    ix: 1,
                                    k: [0, 0]
                                },
                                nm: "Transform",
                                o: {
                                    a: 0,
                                    ix: 7,
                                    k: 100
                                },
                                p: {
                                    a: 0,
                                    ix: 2,
                                    k: [0, 0]
                                },
                                r: {
                                    a: 1,
                                    ix: 6,
                                    k: [{
                                        s: 0,
                                        e: 0,
                                        t: 0
                                    }, {
                                        s: 0,
                                        e: 0,
                                        t: 1
                                    }]
                                },
                                s: {
                                    a: 0,
                                    ix: 3,
                                    k: [100, 100]
                                },
                                sa: {
                                    a: 0,
                                    ix: 5,
                                    k: 0
                                },
                                sk: {
                                    a: 0,
                                    ix: 4,
                                    k: 0
                                },
                                ty: "tr"
                            }),
                            this.arr.splice(0, 0, l),
                            this._groups.splice(0, 0, l),
                            this._currentCopies += 1
                        }
                        this.elem.reloadShapes()
                    }
                    for (r = 0,
                    a = 0; a <= this._groups.length - 1; a += 1)
                        s = r < o,
                        this._groups[a]._render = s,
                        this.changeGroupRender(this._groups[a].it, s),
                        r += 1;
                    this._currentCopies = o;
                    var c = this.o.v
                      , h = c % 1
                      , d = c > 0 ? Math.floor(c) : Math.ceil(c)
                      , p = (this.tr.v.props,
                    this.pMatrix.props)
                      , u = this.rMatrix.props
                      , m = this.sMatrix.props;
                    this.pMatrix.reset(),
                    this.rMatrix.reset(),
                    this.sMatrix.reset(),
                    this.tMatrix.reset(),
                    this.matrix.reset();
                    var g, f, v = 0;
                    if (c > 0) {
                        for (; v < d; )
                            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, !1),
                            v += 1;
                        h && (this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, h, !1),
                        v += h)
                    } else if (c < 0) {
                        for (; v > d; )
                            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, !0),
                            v -= 1;
                        h && (this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -h, !0),
                        v -= h)
                    }
                    for (a = 1 === this.data.m ? 0 : this._currentCopies - 1,
                    n = 1 === this.data.m ? 1 : -1,
                    r = this._currentCopies; r; ) {
                        if (f = (i = (t = this.elemsData[a].it)[t.length - 1].transform.mProps.v.props).length,
                        t[t.length - 1].transform.mProps._mdf = !0,
                        t[t.length - 1].transform.op._mdf = !0,
                        t[t.length - 1].transform.op.v = this.so.v + (this.eo.v - this.so.v) * (a / (this._currentCopies - 1)),
                        0 !== v) {
                            for ((0 !== a && 1 === n || a !== this._currentCopies - 1 && -1 === n) && this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, !1),
                            this.matrix.transform(u[0], u[1], u[2], u[3], u[4], u[5], u[6], u[7], u[8], u[9], u[10], u[11], u[12], u[13], u[14], u[15]),
                            this.matrix.transform(m[0], m[1], m[2], m[3], m[4], m[5], m[6], m[7], m[8], m[9], m[10], m[11], m[12], m[13], m[14], m[15]),
                            this.matrix.transform(p[0], p[1], p[2], p[3], p[4], p[5], p[6], p[7], p[8], p[9], p[10], p[11], p[12], p[13], p[14], p[15]),
                            g = 0; g < f; g += 1)
                                i[g] = this.matrix.props[g];
                            this.matrix.reset()
                        } else
                            for (this.matrix.reset(),
                            g = 0; g < f; g += 1)
                                i[g] = this.matrix.props[g];
                        v += 1,
                        r -= 1,
                        a += n
                    }
                } else
                    for (r = this._currentCopies,
                    a = 0,
                    n = 1; r; )
                        i = (t = this.elemsData[a].it)[t.length - 1].transform.mProps.v.props,
                        t[t.length - 1].transform.mProps._mdf = !1,
                        t[t.length - 1].transform.op._mdf = !1,
                        r -= 1,
                        a += n
            }
            ,
            RepeaterModifier.prototype.addShape = function() {}
            ,
            ShapeModifiers.registerModifier("rp", RepeaterModifier),
            ShapeCollection.prototype.addShape = function(e) {
                this._length === this._maxLength && (this.shapes = this.shapes.concat(createSizedArray(this._maxLength)),
                this._maxLength *= 2),
                this.shapes[this._length] = e,
                this._length += 1
            }
            ,
            ShapeCollection.prototype.releaseShapes = function() {
                var e;
                for (e = 0; e < this._length; e += 1)
                    shape_pool.release(this.shapes[e]);
                this._length = 0
            }
            ,
            DashProperty.prototype.getValue = function(e) {
                if ((this.elem.globalData.frameId !== this.frameId || e) && (this.frameId = this.elem.globalData.frameId,
                this.iterateDynamicProperties(),
                this._mdf = this._mdf || e,
                this._mdf)) {
                    var t = 0
                      , i = this.dataProps.length;
                    for ("svg" === this.renderer && (this.dashStr = ""),
                    t = 0; t < i; t += 1)
                        "o" != this.dataProps[t].n ? "svg" === this.renderer ? this.dashStr += " " + this.dataProps[t].p.v : this.dashArray[t] = this.dataProps[t].p.v : this.dashoffset[0] = this.dataProps[t].p.v
                }
            }
            ,
            extendPrototype([DynamicPropertyContainer], DashProperty),
            GradientProperty.prototype.comparePoints = function(e, t) {
                for (var i = 0, a = this.o.length / 2; i < a; ) {
                    if (Math.abs(e[4 * i] - e[4 * t + 2 * i]) > .01)
                        return !1;
                    i += 1
                }
                return !0
            }
            ,
            GradientProperty.prototype.checkCollapsable = function() {
                if (this.o.length / 2 !== this.c.length / 4)
                    return !1;
                if (this.data.k.k[0].s)
                    for (var e = 0, t = this.data.k.k.length; e < t; ) {
                        if (!this.comparePoints(this.data.k.k[e].s, this.data.p))
                            return !1;
                        e += 1
                    }
                else if (!this.comparePoints(this.data.k.k, this.data.p))
                    return !1;
                return !0
            }
            ,
            GradientProperty.prototype.getValue = function(e) {
                if (this.prop.getValue(),
                this._mdf = !1,
                this._cmdf = !1,
                this._omdf = !1,
                this.prop._mdf || e) {
                    var t, i, a, n = 4 * this.data.p;
                    for (t = 0; t < n; t += 1)
                        i = t % 4 === 0 ? 100 : 255,
                        a = Math.round(this.prop.v[t] * i),
                        this.c[t] !== a && (this.c[t] = a,
                        this._cmdf = !e);
                    if (this.o.length)
                        for (n = this.prop.v.length,
                        t = 4 * this.data.p; t < n; t += 1)
                            i = t % 2 === 0 ? 100 : 1,
                            a = t % 2 === 0 ? Math.round(100 * this.prop.v[t]) : this.prop.v[t],
                            this.o[t - 4 * this.data.p] !== a && (this.o[t - 4 * this.data.p] = a,
                            this._omdf = !e);
                    this._mdf = !e
                }
            }
            ,
            extendPrototype([DynamicPropertyContainer], GradientProperty);
            var buildShapeString = function(e, t, i, a) {
                if (0 === t)
                    return "";
                var n, r = e.o, s = e.i, o = e.v, l = " M" + a.applyToPointStringified(o[0][0], o[0][1]);
                for (n = 1; n < t; n += 1)
                    l += " C" + a.applyToPointStringified(r[n - 1][0], r[n - 1][1]) + " " + a.applyToPointStringified(s[n][0], s[n][1]) + " " + a.applyToPointStringified(o[n][0], o[n][1]);
                return i && t && (l += " C" + a.applyToPointStringified(r[n - 1][0], r[n - 1][1]) + " " + a.applyToPointStringified(s[0][0], s[0][1]) + " " + a.applyToPointStringified(o[0][0], o[0][1]),
                l += "z"),
                l
            }
              , ImagePreloader = function() {
                var e = function() {
                    var e = createTag("canvas");
                    e.width = 1,
                    e.height = 1;
                    var t = e.getContext("2d");
                    return t.fillStyle = "#FF0000",
                    t.fillRect(0, 0, 1, 1),
                    e
                }();
                function t() {
                    this.loadedAssets += 1,
                    this.loadedAssets === this.totalImages && this.imagesLoadedCb && this.imagesLoadedCb(null)
                }
                function i(t) {
                    var i = function(e, t, i) {
                        var a = "";
                        if (e.e)
                            a = e.p;
                        else if (t) {
                            var n = e.p;
                            -1 !== n.indexOf("images/") && (n = n.split("/")[1]),
                            a = t + n
                        } else
                            a = i,
                            a += e.u ? e.u : "",
                            a += e.p;
                        return a
                    }(t, this.assetsPath, this.path)
                      , a = createTag("img");
                    a.crossOrigin = "anonymous",
                    a.addEventListener("load", this._imageLoaded.bind(this), !1),
                    a.addEventListener("error", function() {
                        n.img = e,
                        this._imageLoaded()
                    }
                    .bind(this), !1),
                    a.src = i;
                    var n = {
                        img: a,
                        assetData: t
                    };
                    return n
                }
                function a(e, t) {
                    this.imagesLoadedCb = t;
                    var i, a = e.length;
                    for (i = 0; i < a; i += 1)
                        e[i].layers || (this.totalImages += 1,
                        this.images.push(this._createImageData(e[i])))
                }
                function n(e) {
                    this.path = e || ""
                }
                function r(e) {
                    this.assetsPath = e || ""
                }
                function s(e) {
                    for (var t = 0, i = this.images.length; t < i; ) {
                        if (this.images[t].assetData === e)
                            return this.images[t].img;
                        t += 1
                    }
                }
                function o() {
                    this.imagesLoadedCb = null,
                    this.images.length = 0
                }
                function l() {
                    return this.totalImages === this.loadedAssets
                }
                return function() {
                    this.loadAssets = a,
                    this.setAssetsPath = r,
                    this.setPath = n,
                    this.loaded = l,
                    this.destroy = o,
                    this.getImage = s,
                    this._createImageData = i,
                    this._imageLoaded = t,
                    this.assetsPath = "",
                    this.path = "",
                    this.totalImages = 0,
                    this.loadedAssets = 0,
                    this.imagesLoadedCb = null,
                    this.images = []
                }
            }()
              , featureSupport = function() {
                var e = {
                    maskType: !0
                };
                return (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\/\d./i.test(navigator.userAgent)) && (e.maskType = !1),
                e
            }()
              , filtersFactory = function() {
                var e = {};
                return e.createFilter = function(e) {
                    var t = createNS("filter");
                    return t.setAttribute("id", e),
                    t.setAttribute("filterUnits", "objectBoundingBox"),
                    t.setAttribute("x", "0%"),
                    t.setAttribute("y", "0%"),
                    t.setAttribute("width", "100%"),
                    t.setAttribute("height", "100%"),
                    t
                }
                ,
                e.createAlphaToLuminanceFilter = function() {
                    var e = createNS("feColorMatrix");
                    return e.setAttribute("type", "matrix"),
                    e.setAttribute("color-interpolation-filters", "sRGB"),
                    e.setAttribute("values", "0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),
                    e
                }
                ,
                e
            }()
              , assetLoader = function() {
                function e(e) {
                    return e.response && "object" === typeof e.response ? e.response : e.response && "string" === typeof e.response ? JSON.parse(e.response) : e.responseText ? JSON.parse(e.responseText) : void 0
                }
                return {
                    load: function(t, i, a) {
                        var n, r = new XMLHttpRequest;
                        r.open("GET", t, !0);
                        try {
                            r.responseType = "json"
                        } catch (s) {}
                        r.send(),
                        r.onreadystatechange = function() {
                            if (4 == r.readyState)
                                if (200 == r.status)
                                    n = e(r),
                                    i(n);
                                else
                                    try {
                                        n = e(r),
                                        i(n)
                                    } catch (s) {
                                        a && a(s)
                                    }
                        }
                    }
                }
            }();
            function TextAnimatorProperty(e, t, i) {
                this._isFirstFrame = !0,
                this._hasMaskedPath = !1,
                this._frameId = -1,
                this._textData = e,
                this._renderType = t,
                this._elem = i,
                this._animatorsData = createSizedArray(this._textData.a.length),
                this._pathData = {},
                this._moreOptions = {
                    alignment: {}
                },
                this.renderedLetters = [],
                this.lettersChangedFlag = !1,
                this.initDynamicPropertyContainer(i)
            }
            function TextAnimatorDataProperty(e, t, i) {
                var a = {
                    propType: !1
                }
                  , n = PropertyFactory.getProp
                  , r = t.a;
                this.a = {
                    r: r.r ? n(e, r.r, 0, degToRads, i) : a,
                    rx: r.rx ? n(e, r.rx, 0, degToRads, i) : a,
                    ry: r.ry ? n(e, r.ry, 0, degToRads, i) : a,
                    sk: r.sk ? n(e, r.sk, 0, degToRads, i) : a,
                    sa: r.sa ? n(e, r.sa, 0, degToRads, i) : a,
                    s: r.s ? n(e, r.s, 1, .01, i) : a,
                    a: r.a ? n(e, r.a, 1, 0, i) : a,
                    o: r.o ? n(e, r.o, 0, .01, i) : a,
                    p: r.p ? n(e, r.p, 1, 0, i) : a,
                    sw: r.sw ? n(e, r.sw, 0, 0, i) : a,
                    sc: r.sc ? n(e, r.sc, 1, 0, i) : a,
                    fc: r.fc ? n(e, r.fc, 1, 0, i) : a,
                    fh: r.fh ? n(e, r.fh, 0, 0, i) : a,
                    fs: r.fs ? n(e, r.fs, 0, .01, i) : a,
                    fb: r.fb ? n(e, r.fb, 0, .01, i) : a,
                    t: r.t ? n(e, r.t, 0, 0, i) : a
                },
                this.s = TextSelectorProp.getTextSelectorProp(e, t.s, i),
                this.s.t = t.s.t
            }
            function LetterProps(e, t, i, a, n, r) {
                this.o = e,
                this.sw = t,
                this.sc = i,
                this.fc = a,
                this.m = n,
                this.p = r,
                this._mdf = {
                    o: !0,
                    sw: !!t,
                    sc: !!i,
                    fc: !!a,
                    m: !0,
                    p: !0
                }
            }
            function TextProperty(e, t) {
                this._frameId = initialDefaultFrame,
                this.pv = "",
                this.v = "",
                this.kf = !1,
                this._isFirstFrame = !0,
                this._mdf = !1,
                this.data = t,
                this.elem = e,
                this.comp = this.elem.comp,
                this.keysIndex = 0,
                this.canResize = !1,
                this.minimumFontSize = 1,
                this.effectsSequence = [],
                this.currentData = {
                    ascent: 0,
                    boxWidth: this.defaultBoxWidth,
                    f: "",
                    fStyle: "",
                    fWeight: "",
                    fc: "",
                    j: "",
                    justifyOffset: "",
                    l: [],
                    lh: 0,
                    lineWidths: [],
                    ls: "",
                    of: "",
                    s: "",
                    sc: "",
                    sw: 0,
                    t: 0,
                    tr: 0,
                    sz: 0,
                    ps: null,
                    fillColorAnim: !1,
                    strokeColorAnim: !1,
                    strokeWidthAnim: !1,
                    yOffset: 0,
                    finalSize: 0,
                    finalText: [],
                    finalLineHeight: 0,
                    __complete: !1
                },
                this.copyData(this.currentData, this.data.d.k[0].s),
                this.searchProperty() || this.completeTextData(this.currentData)
            }
            TextAnimatorProperty.prototype.searchProperties = function() {
                var e, t, i = this._textData.a.length, a = PropertyFactory.getProp;
                for (e = 0; e < i; e += 1)
                    t = this._textData.a[e],
                    this._animatorsData[e] = new TextAnimatorDataProperty(this._elem,t,this);
                this._textData.p && "m"in this._textData.p ? (this._pathData = {
                    f: a(this._elem, this._textData.p.f, 0, 0, this),
                    l: a(this._elem, this._textData.p.l, 0, 0, this),
                    r: this._textData.p.r,
                    m: this._elem.maskManager.getMaskProperty(this._textData.p.m)
                },
                this._hasMaskedPath = !0) : this._hasMaskedPath = !1,
                this._moreOptions.alignment = a(this._elem, this._textData.m.a, 1, 0, this)
            }
            ,
            TextAnimatorProperty.prototype.getMeasures = function(e, t) {
                if (this.lettersChangedFlag = t,
                this._mdf || this._isFirstFrame || t || this._hasMaskedPath && this._pathData.m._mdf) {
                    this._isFirstFrame = !1;
                    var i, a, n, r, s, o, l, c, h, d, p, u, m, g, f, v, y, A, _, b = this._moreOptions.alignment.v, C = this._animatorsData, w = this._textData, x = this.mHelper, S = this._renderType, T = this.renderedLetters.length, E = (this.data,
                    e.l);
                    if (this._hasMaskedPath) {
                        if (_ = this._pathData.m,
                        !this._pathData.n || this._pathData._mdf) {
                            var L, k = _.v;
                            for (this._pathData.r && (k = k.reverse()),
                            s = {
                                tLength: 0,
                                segments: []
                            },
                            r = k._length - 1,
                            v = 0,
                            n = 0; n < r; n += 1)
                                L = bez.buildBezierData(k.v[n], k.v[n + 1], [k.o[n][0] - k.v[n][0], k.o[n][1] - k.v[n][1]], [k.i[n + 1][0] - k.v[n + 1][0], k.i[n + 1][1] - k.v[n + 1][1]]),
                                s.tLength += L.segmentLength,
                                s.segments.push(L),
                                v += L.segmentLength;
                            n = r,
                            _.v.c && (L = bez.buildBezierData(k.v[n], k.v[0], [k.o[n][0] - k.v[n][0], k.o[n][1] - k.v[n][1]], [k.i[0][0] - k.v[0][0], k.i[0][1] - k.v[0][1]]),
                            s.tLength += L.segmentLength,
                            s.segments.push(L),
                            v += L.segmentLength),
                            this._pathData.pi = s
                        }
                        if (s = this._pathData.pi,
                        o = this._pathData.f.v,
                        p = 0,
                        d = 1,
                        c = 0,
                        h = !0,
                        g = s.segments,
                        o < 0 && _.v.c)
                            for (s.tLength < Math.abs(o) && (o = -Math.abs(o) % s.tLength),
                            d = (m = g[p = g.length - 1].points).length - 1; o < 0; )
                                o += m[d].partialLength,
                                (d -= 1) < 0 && (d = (m = g[p -= 1].points).length - 1);
                        u = (m = g[p].points)[d - 1],
                        f = (l = m[d]).partialLength
                    }
                    r = E.length,
                    i = 0,
                    a = 0;
                    var P, z, I, D, M = 1.2 * e.finalSize * .714, B = !0;
                    I = C.length;
                    var O, R, N, V, F, G, H, U, Q, K, W, Y, j, $ = -1, Z = o, q = p, X = d, J = -1, ee = "", te = this.defaultPropsArray;
                    if (2 === e.j || 1 === e.j) {
                        var ie = 0
                          , ae = 0
                          , ne = 2 === e.j ? -.5 : -1
                          , re = 0
                          , se = !0;
                        for (n = 0; n < r; n += 1)
                            if (E[n].n) {
                                for (ie && (ie += ae); re < n; )
                                    E[re].animatorJustifyOffset = ie,
                                    re += 1;
                                ie = 0,
                                se = !0
                            } else {
                                for (z = 0; z < I; z += 1)
                                    (P = C[z].a).t.propType && (se && 2 === e.j && (ae += P.t.v * ne),
                                    (O = C[z].s.getMult(E[n].anIndexes[z], w.a[z].s.totalChars)).length ? ie += P.t.v * O[0] * ne : ie += P.t.v * O * ne);
                                se = !1
                            }
                        for (ie && (ie += ae); re < n; )
                            E[re].animatorJustifyOffset = ie,
                            re += 1
                    }
                    for (n = 0; n < r; n += 1) {
                        if (x.reset(),
                        F = 1,
                        E[n].n)
                            i = 0,
                            a += e.yOffset,
                            a += B ? 1 : 0,
                            o = Z,
                            B = !1,
                            0,
                            this._hasMaskedPath && (d = X,
                            u = (m = g[p = q].points)[d - 1],
                            f = (l = m[d]).partialLength,
                            c = 0),
                            j = K = Y = ee = "",
                            te = this.defaultPropsArray;
                        else {
                            if (this._hasMaskedPath) {
                                if (J !== E[n].line) {
                                    switch (e.j) {
                                    case 1:
                                        o += v - e.lineWidths[E[n].line];
                                        break;
                                    case 2:
                                        o += (v - e.lineWidths[E[n].line]) / 2
                                    }
                                    J = E[n].line
                                }
                                $ !== E[n].ind && (E[$] && (o += E[$].extra),
                                o += E[n].an / 2,
                                $ = E[n].ind),
                                o += b[0] * E[n].an / 200;
                                var oe = 0;
                                for (z = 0; z < I; z += 1)
                                    (P = C[z].a).p.propType && ((O = C[z].s.getMult(E[n].anIndexes[z], w.a[z].s.totalChars)).length ? oe += P.p.v[0] * O[0] : oe += P.p.v[0] * O),
                                    P.a.propType && ((O = C[z].s.getMult(E[n].anIndexes[z], w.a[z].s.totalChars)).length ? oe += P.a.v[0] * O[0] : oe += P.a.v[0] * O);
                                for (h = !0; h; )
                                    c + f >= o + oe || !m ? (y = (o + oe - c) / l.partialLength,
                                    N = u.point[0] + (l.point[0] - u.point[0]) * y,
                                    V = u.point[1] + (l.point[1] - u.point[1]) * y,
                                    x.translate(-b[0] * E[n].an / 200, -b[1] * M / 100),
                                    h = !1) : m && (c += l.partialLength,
                                    (d += 1) >= m.length && (d = 0,
                                    g[p += 1] ? m = g[p].points : _.v.c ? (d = 0,
                                    m = g[p = 0].points) : (c -= l.partialLength,
                                    m = null)),
                                    m && (u = l,
                                    f = (l = m[d]).partialLength));
                                R = E[n].an / 2 - E[n].add,
                                x.translate(-R, 0, 0)
                            } else
                                R = E[n].an / 2 - E[n].add,
                                x.translate(-R, 0, 0),
                                x.translate(-b[0] * E[n].an / 200, -b[1] * M / 100, 0);
                            for (E[n].l / 2,
                            z = 0; z < I; z += 1)
                                (P = C[z].a).t.propType && (O = C[z].s.getMult(E[n].anIndexes[z], w.a[z].s.totalChars),
                                0 === i && 0 === e.j || (this._hasMaskedPath ? O.length ? o += P.t.v * O[0] : o += P.t.v * O : O.length ? i += P.t.v * O[0] : i += P.t.v * O));
                            for (E[n].l / 2,
                            e.strokeWidthAnim && (H = e.sw || 0),
                            e.strokeColorAnim && (G = e.sc ? [e.sc[0], e.sc[1], e.sc[2]] : [0, 0, 0]),
                            e.fillColorAnim && e.fc && (U = [e.fc[0], e.fc[1], e.fc[2]]),
                            z = 0; z < I; z += 1)
                                (P = C[z].a).a.propType && ((O = C[z].s.getMult(E[n].anIndexes[z], w.a[z].s.totalChars)).length ? x.translate(-P.a.v[0] * O[0], -P.a.v[1] * O[1], P.a.v[2] * O[2]) : x.translate(-P.a.v[0] * O, -P.a.v[1] * O, P.a.v[2] * O));
                            for (z = 0; z < I; z += 1)
                                (P = C[z].a).s.propType && ((O = C[z].s.getMult(E[n].anIndexes[z], w.a[z].s.totalChars)).length ? x.scale(1 + (P.s.v[0] - 1) * O[0], 1 + (P.s.v[1] - 1) * O[1], 1) : x.scale(1 + (P.s.v[0] - 1) * O, 1 + (P.s.v[1] - 1) * O, 1));
                            for (z = 0; z < I; z += 1) {
                                if (P = C[z].a,
                                O = C[z].s.getMult(E[n].anIndexes[z], w.a[z].s.totalChars),
                                P.sk.propType && (O.length ? x.skewFromAxis(-P.sk.v * O[0], P.sa.v * O[1]) : x.skewFromAxis(-P.sk.v * O, P.sa.v * O)),
                                P.r.propType && (O.length ? x.rotateZ(-P.r.v * O[2]) : x.rotateZ(-P.r.v * O)),
                                P.ry.propType && (O.length ? x.rotateY(P.ry.v * O[1]) : x.rotateY(P.ry.v * O)),
                                P.rx.propType && (O.length ? x.rotateX(P.rx.v * O[0]) : x.rotateX(P.rx.v * O)),
                                P.o.propType && (O.length ? F += (P.o.v * O[0] - F) * O[0] : F += (P.o.v * O - F) * O),
                                e.strokeWidthAnim && P.sw.propType && (O.length ? H += P.sw.v * O[0] : H += P.sw.v * O),
                                e.strokeColorAnim && P.sc.propType)
                                    for (Q = 0; Q < 3; Q += 1)
                                        O.length ? G[Q] = G[Q] + (P.sc.v[Q] - G[Q]) * O[0] : G[Q] = G[Q] + (P.sc.v[Q] - G[Q]) * O;
                                if (e.fillColorAnim && e.fc) {
                                    if (P.fc.propType)
                                        for (Q = 0; Q < 3; Q += 1)
                                            O.length ? U[Q] = U[Q] + (P.fc.v[Q] - U[Q]) * O[0] : U[Q] = U[Q] + (P.fc.v[Q] - U[Q]) * O;
                                    P.fh.propType && (U = O.length ? addHueToRGB(U, P.fh.v * O[0]) : addHueToRGB(U, P.fh.v * O)),
                                    P.fs.propType && (U = O.length ? addSaturationToRGB(U, P.fs.v * O[0]) : addSaturationToRGB(U, P.fs.v * O)),
                                    P.fb.propType && (U = O.length ? addBrightnessToRGB(U, P.fb.v * O[0]) : addBrightnessToRGB(U, P.fb.v * O))
                                }
                            }
                            for (z = 0; z < I; z += 1)
                                (P = C[z].a).p.propType && (O = C[z].s.getMult(E[n].anIndexes[z], w.a[z].s.totalChars),
                                this._hasMaskedPath ? O.length ? x.translate(0, P.p.v[1] * O[0], -P.p.v[2] * O[1]) : x.translate(0, P.p.v[1] * O, -P.p.v[2] * O) : O.length ? x.translate(P.p.v[0] * O[0], P.p.v[1] * O[1], -P.p.v[2] * O[2]) : x.translate(P.p.v[0] * O, P.p.v[1] * O, -P.p.v[2] * O));
                            if (e.strokeWidthAnim && (K = H < 0 ? 0 : H),
                            e.strokeColorAnim && (W = "rgb(" + Math.round(255 * G[0]) + "," + Math.round(255 * G[1]) + "," + Math.round(255 * G[2]) + ")"),
                            e.fillColorAnim && e.fc && (Y = "rgb(" + Math.round(255 * U[0]) + "," + Math.round(255 * U[1]) + "," + Math.round(255 * U[2]) + ")"),
                            this._hasMaskedPath) {
                                if (x.translate(0, -e.ls),
                                x.translate(0, b[1] * M / 100 + a, 0),
                                w.p.p) {
                                    A = (l.point[1] - u.point[1]) / (l.point[0] - u.point[0]);
                                    var le = 180 * Math.atan(A) / Math.PI;
                                    l.point[0] < u.point[0] && (le += 180),
                                    x.rotate(-le * Math.PI / 180)
                                }
                                x.translate(N, V, 0),
                                o -= b[0] * E[n].an / 200,
                                E[n + 1] && $ !== E[n + 1].ind && (o += E[n].an / 2,
                                o += e.tr / 1e3 * e.finalSize)
                            } else {
                                switch (x.translate(i, a, 0),
                                e.ps && x.translate(e.ps[0], e.ps[1] + e.ascent, 0),
                                e.j) {
                                case 1:
                                    x.translate(E[n].animatorJustifyOffset + e.justifyOffset + (e.boxWidth - e.lineWidths[E[n].line]), 0, 0);
                                    break;
                                case 2:
                                    x.translate(E[n].animatorJustifyOffset + e.justifyOffset + (e.boxWidth - e.lineWidths[E[n].line]) / 2, 0, 0)
                                }
                                x.translate(0, -e.ls),
                                x.translate(R, 0, 0),
                                x.translate(b[0] * E[n].an / 200, b[1] * M / 100, 0),
                                i += E[n].l + e.tr / 1e3 * e.finalSize
                            }
                            "html" === S ? ee = x.toCSS() : "svg" === S ? ee = x.to2dCSS() : te = [x.props[0], x.props[1], x.props[2], x.props[3], x.props[4], x.props[5], x.props[6], x.props[7], x.props[8], x.props[9], x.props[10], x.props[11], x.props[12], x.props[13], x.props[14], x.props[15]],
                            j = F
                        }
                        T <= n ? (D = new LetterProps(j,K,W,Y,ee,te),
                        this.renderedLetters.push(D),
                        T += 1,
                        this.lettersChangedFlag = !0) : (D = this.renderedLetters[n],
                        this.lettersChangedFlag = D.update(j, K, W, Y, ee, te) || this.lettersChangedFlag)
                    }
                }
            }
            ,
            TextAnimatorProperty.prototype.getValue = function() {
                this._elem.globalData.frameId !== this._frameId && (this._frameId = this._elem.globalData.frameId,
                this.iterateDynamicProperties())
            }
            ,
            TextAnimatorProperty.prototype.mHelper = new Matrix,
            TextAnimatorProperty.prototype.defaultPropsArray = [],
            extendPrototype([DynamicPropertyContainer], TextAnimatorProperty),
            LetterProps.prototype.update = function(e, t, i, a, n, r) {
                this._mdf.o = !1,
                this._mdf.sw = !1,
                this._mdf.sc = !1,
                this._mdf.fc = !1,
                this._mdf.m = !1,
                this._mdf.p = !1;
                var s = !1;
                return this.o !== e && (this.o = e,
                this._mdf.o = !0,
                s = !0),
                this.sw !== t && (this.sw = t,
                this._mdf.sw = !0,
                s = !0),
                this.sc !== i && (this.sc = i,
                this._mdf.sc = !0,
                s = !0),
                this.fc !== a && (this.fc = a,
                this._mdf.fc = !0,
                s = !0),
                this.m !== n && (this.m = n,
                this._mdf.m = !0,
                s = !0),
                !r.length || this.p[0] === r[0] && this.p[1] === r[1] && this.p[4] === r[4] && this.p[5] === r[5] && this.p[12] === r[12] && this.p[13] === r[13] || (this.p = r,
                this._mdf.p = !0,
                s = !0),
                s
            }
            ,
            TextProperty.prototype.defaultBoxWidth = [0, 0],
            TextProperty.prototype.copyData = function(e, t) {
                for (var i in t)
                    t.hasOwnProperty(i) && (e[i] = t[i]);
                return e
            }
            ,
            TextProperty.prototype.setCurrentData = function(e) {
                e.__complete || this.completeTextData(e),
                this.currentData = e,
                this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth,
                this._mdf = !0
            }
            ,
            TextProperty.prototype.searchProperty = function() {
                return this.searchKeyframes()
            }
            ,
            TextProperty.prototype.searchKeyframes = function() {
                return this.kf = this.data.d.k.length > 1,
                this.kf && this.addEffect(this.getKeyframeValue.bind(this)),
                this.kf
            }
            ,
            TextProperty.prototype.addEffect = function(e) {
                this.effectsSequence.push(e),
                this.elem.addDynamicProperty(this)
            }
            ,
            TextProperty.prototype.getValue = function(e) {
                if (this.elem.globalData.frameId !== this.frameId && this.effectsSequence.length || e) {
                    this.currentData.t = this.data.d.k[this.keysIndex].s.t;
                    var t = this.currentData
                      , i = this.keysIndex;
                    if (this.lock)
                        this.setCurrentData(this.currentData);
                    else {
                        this.lock = !0,
                        this._mdf = !1;
                        var a, n = this.effectsSequence.length, r = e || this.data.d.k[this.keysIndex].s;
                        for (a = 0; a < n; a += 1)
                            r = i !== this.keysIndex ? this.effectsSequence[a](r, r.t) : this.effectsSequence[a](this.currentData, r.t);
                        t !== r && this.setCurrentData(r),
                        this.pv = this.v = this.currentData,
                        this.lock = !1,
                        this.frameId = this.elem.globalData.frameId
                    }
                }
            }
            ,
            TextProperty.prototype.getKeyframeValue = function() {
                for (var e = this.data.d.k, t = this.elem.comp.renderedFrame, i = 0, a = e.length; i <= a - 1 && (e[i].s,
                !(i === a - 1 || e[i + 1].t > t)); )
                    i += 1;
                return this.keysIndex !== i && (this.keysIndex = i),
                this.data.d.k[this.keysIndex].s
            }
            ,
            TextProperty.prototype.buildFinalText = function(e) {
                for (var t = FontManager.getCombinedCharacterCodes(), i = [], a = 0, n = e.length; a < n; )
                    -1 !== t.indexOf(e.charCodeAt(a)) ? i[i.length - 1] += e.charAt(a) : i.push(e.charAt(a)),
                    a += 1;
                return i
            }
            ,
            TextProperty.prototype.completeTextData = function(e) {
                e.__complete = !0;
                var t, i, a, n, r, s, o, l = this.elem.globalData.fontManager, c = this.data, h = [], d = 0, p = c.m.g, u = 0, m = 0, g = 0, f = [], v = 0, y = 0, A = l.getFontByName(e.f), _ = 0, b = A.fStyle ? A.fStyle.split(" ") : [], C = "normal", w = "normal";
                for (i = b.length,
                t = 0; t < i; t += 1)
                    switch (b[t].toLowerCase()) {
                    case "italic":
                        w = "italic";
                        break;
                    case "bold":
                        C = "700";
                        break;
                    case "black":
                        C = "900";
                        break;
                    case "medium":
                        C = "500";
                        break;
                    case "regular":
                    case "normal":
                        C = "400";
                        break;
                    case "light":
                    case "thin":
                        C = "200"
                    }
                e.fWeight = A.fWeight || C,
                e.fStyle = w,
                e.finalSize = e.s,
                e.finalText = this.buildFinalText(e.t),
                i = e.finalText.length,
                e.finalLineHeight = e.lh;
                var x, S = e.tr / 1e3 * e.finalSize;
                if (e.sz)
                    for (var T, E, L = !0, k = e.sz[0], P = e.sz[1]; L; ) {
                        T = 0,
                        v = 0,
                        i = (E = this.buildFinalText(e.t)).length,
                        S = e.tr / 1e3 * e.finalSize;
                        var z = -1;
                        for (t = 0; t < i; t += 1)
                            x = E[t].charCodeAt(0),
                            a = !1,
                            " " === E[t] ? z = t : 13 !== x && 3 !== x || (v = 0,
                            a = !0,
                            T += e.finalLineHeight || 1.2 * e.finalSize),
                            l.chars ? (o = l.getCharData(E[t], A.fStyle, A.fFamily),
                            _ = a ? 0 : o.w * e.finalSize / 100) : _ = l.measureText(E[t], e.f, e.finalSize),
                            v + _ > k && " " !== E[t] ? (-1 === z ? i += 1 : t = z,
                            T += e.finalLineHeight || 1.2 * e.finalSize,
                            E.splice(t, z === t ? 1 : 0, "\r"),
                            z = -1,
                            v = 0) : (v += _,
                            v += S);
                        T += A.ascent * e.finalSize / 100,
                        this.canResize && e.finalSize > this.minimumFontSize && P < T ? (e.finalSize -= 1,
                        e.finalLineHeight = e.finalSize * e.lh / e.s) : (e.finalText = E,
                        i = e.finalText.length,
                        L = !1)
                    }
                v = -S,
                _ = 0;
                var I, D = 0;
                for (t = 0; t < i; t += 1)
                    if (a = !1,
                    x = (I = e.finalText[t]).charCodeAt(0),
                    " " === I ? n = "\xa0" : 13 === x || 3 === x ? (D = 0,
                    f.push(v),
                    y = v > y ? v : y,
                    v = -2 * S,
                    n = "",
                    a = !0,
                    g += 1) : n = e.finalText[t],
                    l.chars ? (o = l.getCharData(I, A.fStyle, l.getFontByName(e.f).fFamily),
                    _ = a ? 0 : o.w * e.finalSize / 100) : _ = l.measureText(n, e.f, e.finalSize),
                    " " === I ? D += _ + S : (v += _ + S + D,
                    D = 0),
                    h.push({
                        l: _,
                        an: _,
                        add: u,
                        n: a,
                        anIndexes: [],
                        val: n,
                        line: g,
                        animatorJustifyOffset: 0
                    }),
                    2 == p) {
                        if (u += _,
                        "" === n || "\xa0" === n || t === i - 1) {
                            for ("" !== n && "\xa0" !== n || (u -= _); m <= t; )
                                h[m].an = u,
                                h[m].ind = d,
                                h[m].extra = _,
                                m += 1;
                            d += 1,
                            u = 0
                        }
                    } else if (3 == p) {
                        if (u += _,
                        "" === n || t === i - 1) {
                            for ("" === n && (u -= _); m <= t; )
                                h[m].an = u,
                                h[m].ind = d,
                                h[m].extra = _,
                                m += 1;
                            u = 0,
                            d += 1
                        }
                    } else
                        h[d].ind = d,
                        h[d].extra = 0,
                        d += 1;
                if (e.l = h,
                y = v > y ? v : y,
                f.push(v),
                e.sz)
                    e.boxWidth = e.sz[0],
                    e.justifyOffset = 0;
                else
                    switch (e.boxWidth = y,
                    e.j) {
                    case 1:
                        e.justifyOffset = -e.boxWidth;
                        break;
                    case 2:
                        e.justifyOffset = -e.boxWidth / 2;
                        break;
                    default:
                        e.justifyOffset = 0
                    }
                e.lineWidths = f;
                var M, B, O = c.a;
                s = O.length;
                var R, N, V = [];
                for (r = 0; r < s; r += 1) {
                    for ((M = O[r]).a.sc && (e.strokeColorAnim = !0),
                    M.a.sw && (e.strokeWidthAnim = !0),
                    (M.a.fc || M.a.fh || M.a.fs || M.a.fb) && (e.fillColorAnim = !0),
                    N = 0,
                    R = M.s.b,
                    t = 0; t < i; t += 1)
                        (B = h[t]).anIndexes[r] = N,
                        (1 == R && "" !== B.val || 2 == R && "" !== B.val && "\xa0" !== B.val || 3 == R && (B.n || "\xa0" == B.val || t == i - 1) || 4 == R && (B.n || t == i - 1)) && (1 === M.s.rn && V.push(N),
                        N += 1);
                    c.a[r].s.totalChars = N;
                    var F, G = -1;
                    if (1 === M.s.rn)
                        for (t = 0; t < i; t += 1)
                            G != (B = h[t]).anIndexes[r] && (G = B.anIndexes[r],
                            F = V.splice(Math.floor(Math.random() * V.length), 1)[0]),
                            B.anIndexes[r] = F
                }
                e.yOffset = e.finalLineHeight || 1.2 * e.finalSize,
                e.ls = e.ls || 0,
                e.ascent = A.ascent * e.finalSize / 100
            }
            ,
            TextProperty.prototype.updateDocumentData = function(e, t) {
                t = void 0 === t ? this.keysIndex : t;
                var i = this.copyData({}, this.data.d.k[t].s);
                i = this.copyData(i, e),
                this.data.d.k[t].s = i,
                this.recalculate(t),
                this.elem.addDynamicProperty(this)
            }
            ,
            TextProperty.prototype.recalculate = function(e) {
                var t = this.data.d.k[e].s;
                t.__complete = !1,
                this.keysIndex = 0,
                this._isFirstFrame = !0,
                this.getValue(t)
            }
            ,
            TextProperty.prototype.canResizeFont = function(e) {
                this.canResize = e,
                this.recalculate(this.keysIndex),
                this.elem.addDynamicProperty(this)
            }
            ,
            TextProperty.prototype.setMinimumFontSize = function(e) {
                this.minimumFontSize = Math.floor(e) || 1,
                this.recalculate(this.keysIndex),
                this.elem.addDynamicProperty(this)
            }
            ;
            var TextSelectorProp = function() {
                var e = Math.max
                  , t = Math.min
                  , i = Math.floor;
                function a(e, t) {
                    this._currentTextLength = -1,
                    this.k = !1,
                    this.data = t,
                    this.elem = e,
                    this.comp = e.comp,
                    this.finalS = 0,
                    this.finalE = 0,
                    this.initDynamicPropertyContainer(e),
                    this.s = PropertyFactory.getProp(e, t.s || {
                        k: 0
                    }, 0, 0, this),
                    this.e = "e"in t ? PropertyFactory.getProp(e, t.e, 0, 0, this) : {
                        v: 100
                    },
                    this.o = PropertyFactory.getProp(e, t.o || {
                        k: 0
                    }, 0, 0, this),
                    this.xe = PropertyFactory.getProp(e, t.xe || {
                        k: 0
                    }, 0, 0, this),
                    this.ne = PropertyFactory.getProp(e, t.ne || {
                        k: 0
                    }, 0, 0, this),
                    this.a = PropertyFactory.getProp(e, t.a, 0, .01, this),
                    this.dynamicProperties.length || this.getValue()
                }
                return a.prototype = {
                    getMult: function(a) {
                        this._currentTextLength !== this.elem.textProperty.currentData.l.length && this.getValue();
                        var n = BezierFactory.getBezierEasing(this.ne.v / 100, 0, 1 - this.xe.v / 100, 1).get
                          , r = 0
                          , s = this.finalS
                          , o = this.finalE
                          , l = this.data.sh;
                        if (2 == l)
                            r = n(r = o === s ? a >= o ? 1 : 0 : e(0, t(.5 / (o - s) + (a - s) / (o - s), 1)));
                        else if (3 == l)
                            r = n(r = o === s ? a >= o ? 0 : 1 : 1 - e(0, t(.5 / (o - s) + (a - s) / (o - s), 1)));
                        else if (4 == l)
                            o === s ? r = 0 : (r = e(0, t(.5 / (o - s) + (a - s) / (o - s), 1))) < .5 ? r *= 2 : r = 1 - 2 * (r - .5),
                            r = n(r);
                        else if (5 == l) {
                            if (o === s)
                                r = 0;
                            else {
                                var c = o - s
                                  , h = -c / 2 + (a = t(e(0, a + .5 - s), o - s))
                                  , d = c / 2;
                                r = Math.sqrt(1 - h * h / (d * d))
                            }
                            r = n(r)
                        } else
                            6 == l ? (o === s ? r = 0 : (a = t(e(0, a + .5 - s), o - s),
                            r = (1 + Math.cos(Math.PI + 2 * Math.PI * a / (o - s))) / 2),
                            r = n(r)) : (a >= i(s) && (r = a - s < 0 ? 1 - (s - a) : e(0, t(o - a, 1))),
                            r = n(r));
                        return r * this.a.v
                    },
                    getValue: function(e) {
                        this.iterateDynamicProperties(),
                        this._mdf = e || this._mdf,
                        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0,
                        e && 2 === this.data.r && (this.e.v = this._currentTextLength);
                        var t = 2 === this.data.r ? 1 : 100 / this.data.totalChars
                          , i = this.o.v / t
                          , a = this.s.v / t + i
                          , n = this.e.v / t + i;
                        if (a > n) {
                            var r = a;
                            a = n,
                            n = r
                        }
                        this.finalS = a,
                        this.finalE = n
                    }
                },
                extendPrototype([DynamicPropertyContainer], a),
                {
                    getTextSelectorProp: function(e, t, i) {
                        return new a(e,t,i)
                    }
                }
            }()
              , pool_factory = function(e, t, i, a) {
                var n = 0
                  , r = e
                  , s = createSizedArray(r);
                function o() {
                    return n ? s[n -= 1] : t()
                }
                return {
                    newElement: o,
                    release: function(e) {
                        n === r && (s = pooling.double(s),
                        r *= 2),
                        i && i(e),
                        s[n] = e,
                        n += 1
                    }
                }
            }
              , pooling = function() {
                return {
                    double: function(e) {
                        return e.concat(createSizedArray(e.length))
                    }
                }
            }()
              , point_pool = function() {
                return pool_factory(8, function() {
                    return createTypedArray("float32", 2)
                })
            }()
              , shape_pool = function() {
                var e = pool_factory(4, function() {
                    return new ShapePath
                }, function(e) {
                    var t, i = e._length;
                    for (t = 0; t < i; t += 1)
                        point_pool.release(e.v[t]),
                        point_pool.release(e.i[t]),
                        point_pool.release(e.o[t]),
                        e.v[t] = null,
                        e.i[t] = null,
                        e.o[t] = null;
                    e._length = 0,
                    e.c = !1
                });
                return e.clone = function(t) {
                    var i, a = e.newElement(), n = void 0 === t._length ? t.v.length : t._length;
                    for (a.setLength(n),
                    a.c = t.c,
                    i = 0; i < n; i += 1)
                        a.setTripleAt(t.v[i][0], t.v[i][1], t.o[i][0], t.o[i][1], t.i[i][0], t.i[i][1], i);
                    return a
                }
                ,
                e
            }()
              , shapeCollection_pool = function() {
                var e = {
                    newShapeCollection: function() {
                        var e;
                        e = t ? a[t -= 1] : new ShapeCollection;
                        return e
                    },
                    release: function(e) {
                        var n, r = e._length;
                        for (n = 0; n < r; n += 1)
                            shape_pool.release(e.shapes[n]);
                        e._length = 0,
                        t === i && (a = pooling.double(a),
                        i *= 2);
                        a[t] = e,
                        t += 1
                    }
                }
                  , t = 0
                  , i = 4
                  , a = createSizedArray(i);
                return e
            }()
              , segments_length_pool = function() {
                return pool_factory(8, function() {
                    return {
                        lengths: [],
                        totalLength: 0
                    }
                }, function(e) {
                    var t, i = e.lengths.length;
                    for (t = 0; t < i; t += 1)
                        bezier_length_pool.release(e.lengths[t]);
                    e.lengths.length = 0
                })
            }()
              , bezier_length_pool = function() {
                return pool_factory(8, function() {
                    return {
                        addedLength: 0,
                        percents: createTypedArray("float32", defaultCurveSegments),
                        lengths: createTypedArray("float32", defaultCurveSegments)
                    }
                })
            }();
            function BaseRenderer() {}
            function SVGRenderer(e, t) {
                this.animationItem = e,
                this.layers = null,
                this.renderedFrame = -1,
                this.svgElement = createNS("svg");
                var i = "";
                if (t && t.title) {
                    var a = createNS("title")
                      , n = createElementID();
                    a.setAttribute("id", n),
                    a.textContent = t.title,
                    this.svgElement.appendChild(a),
                    i += n
                }
                if (t && t.description) {
                    var r = createNS("desc")
                      , s = createElementID();
                    r.setAttribute("id", s),
                    r.textContent = t.description,
                    this.svgElement.appendChild(r),
                    i += " " + s
                }
                i && this.svgElement.setAttribute("aria-labelledby", i);
                var o = createNS("defs");
                this.svgElement.appendChild(o);
                var l = createNS("g");
                this.svgElement.appendChild(l),
                this.layerElement = l,
                this.renderConfig = {
                    preserveAspectRatio: t && t.preserveAspectRatio || "xMidYMid meet",
                    imagePreserveAspectRatio: t && t.imagePreserveAspectRatio || "xMidYMid slice",
                    progressiveLoad: t && t.progressiveLoad || !1,
                    hideOnTransparent: !t || !1 !== t.hideOnTransparent,
                    viewBoxOnly: t && t.viewBoxOnly || !1,
                    viewBoxSize: t && t.viewBoxSize || !1,
                    className: t && t.className || ""
                },
                this.globalData = {
                    _mdf: !1,
                    frameNum: -1,
                    defs: o,
                    renderConfig: this.renderConfig
                },
                this.elements = [],
                this.pendingElements = [],
                this.destroyed = !1,
                this.rendererType = "svg"
            }
            function CanvasRenderer(e, t) {
                this.animationItem = e,
                this.renderConfig = {
                    clearCanvas: !t || void 0 === t.clearCanvas || t.clearCanvas,
                    context: t && t.context || null,
                    progressiveLoad: t && t.progressiveLoad || !1,
                    preserveAspectRatio: t && t.preserveAspectRatio || "xMidYMid meet",
                    imagePreserveAspectRatio: t && t.imagePreserveAspectRatio || "xMidYMid slice",
                    className: t && t.className || ""
                },
                this.renderConfig.dpr = t && t.dpr || 1,
                this.animationItem.wrapper && (this.renderConfig.dpr = t && t.dpr || window.devicePixelRatio || 1),
                this.renderedFrame = -1,
                this.globalData = {
                    frameNum: -1,
                    _mdf: !1,
                    renderConfig: this.renderConfig,
                    currentGlobalAlpha: -1
                },
                this.contextData = new CVContextData,
                this.elements = [],
                this.pendingElements = [],
                this.transformMat = new Matrix,
                this.completeLayers = !1,
                this.rendererType = "canvas"
            }
            function HybridRenderer(e, t) {
                this.animationItem = e,
                this.layers = null,
                this.renderedFrame = -1,
                this.renderConfig = {
                    className: t && t.className || "",
                    imagePreserveAspectRatio: t && t.imagePreserveAspectRatio || "xMidYMid slice",
                    hideOnTransparent: !t || !1 !== t.hideOnTransparent
                },
                this.globalData = {
                    _mdf: !1,
                    frameNum: -1,
                    renderConfig: this.renderConfig
                },
                this.pendingElements = [],
                this.elements = [],
                this.threeDElements = [],
                this.destroyed = !1,
                this.camera = null,
                this.supports3d = !0,
                this.rendererType = "html"
            }
            function MaskElement(e, t, i) {
                this.data = e,
                this.element = t,
                this.globalData = i,
                this.storedData = [],
                this.masksProperties = this.data.masksProperties || [],
                this.maskElement = null;
                var a, n = this.globalData.defs, r = this.masksProperties ? this.masksProperties.length : 0;
                this.viewData = createSizedArray(r),
                this.solidPath = "";
                var s, o, l, c, h, d, p, u = this.masksProperties, m = 0, g = [], f = createElementID(), v = "clipPath", y = "clip-path";
                for (a = 0; a < r; a++)
                    if (("a" !== u[a].mode && "n" !== u[a].mode || u[a].inv || 100 !== u[a].o.k || u[a].o.x) && (v = "mask",
                    y = "mask"),
                    "s" != u[a].mode && "i" != u[a].mode || 0 !== m ? c = null : ((c = createNS("rect")).setAttribute("fill", "#ffffff"),
                    c.setAttribute("width", this.element.comp.data.w || 0),
                    c.setAttribute("height", this.element.comp.data.h || 0),
                    g.push(c)),
                    s = createNS("path"),
                    "n" != u[a].mode) {
                        var A;
                        if (m += 1,
                        s.setAttribute("fill", "s" === u[a].mode ? "#000000" : "#ffffff"),
                        s.setAttribute("clip-rule", "nonzero"),
                        0 !== u[a].x.k ? (v = "mask",
                        y = "mask",
                        p = PropertyFactory.getProp(this.element, u[a].x, 0, null, this.element),
                        A = createElementID(),
                        (h = createNS("filter")).setAttribute("id", A),
                        (d = createNS("feMorphology")).setAttribute("operator", "erode"),
                        d.setAttribute("in", "SourceGraphic"),
                        d.setAttribute("radius", "0"),
                        h.appendChild(d),
                        n.appendChild(h),
                        s.setAttribute("stroke", "s" === u[a].mode ? "#000000" : "#ffffff")) : (d = null,
                        p = null),
                        this.storedData[a] = {
                            elem: s,
                            x: p,
                            expan: d,
                            lastPath: "",
                            lastOperator: "",
                            filterId: A,
                            lastRadius: 0
                        },
                        "i" == u[a].mode) {
                            l = g.length;
                            var _ = createNS("g");
                            for (o = 0; o < l; o += 1)
                                _.appendChild(g[o]);
                            var b = createNS("mask");
                            b.setAttribute("mask-type", "alpha"),
                            b.setAttribute("id", f + "_" + m),
                            b.appendChild(s),
                            n.appendChild(b),
                            _.setAttribute("mask", "url(" + locationHref + "#" + f + "_" + m + ")"),
                            g.length = 0,
                            g.push(_)
                        } else
                            g.push(s);
                        u[a].inv && !this.solidPath && (this.solidPath = this.createLayerSolidPath()),
                        this.viewData[a] = {
                            elem: s,
                            lastPath: "",
                            op: PropertyFactory.getProp(this.element, u[a].o, 0, .01, this.element),
                            prop: ShapePropertyFactory.getShapeProp(this.element, u[a], 3),
                            invRect: c
                        },
                        this.viewData[a].prop.k || this.drawPath(u[a], this.viewData[a].prop.v, this.viewData[a])
                    } else
                        this.viewData[a] = {
                            op: PropertyFactory.getProp(this.element, u[a].o, 0, .01, this.element),
                            prop: ShapePropertyFactory.getShapeProp(this.element, u[a], 3),
                            elem: s,
                            lastPath: ""
                        },
                        n.appendChild(s);
                for (this.maskElement = createNS(v),
                r = g.length,
                a = 0; a < r; a += 1)
                    this.maskElement.appendChild(g[a]);
                m > 0 && (this.maskElement.setAttribute("id", f),
                this.element.maskedElement.setAttribute(y, "url(" + locationHref + "#" + f + ")"),
                n.appendChild(this.maskElement)),
                this.viewData.length && this.element.addRenderableComponent(this)
            }
            function HierarchyElement() {}
            function FrameElement() {}
            function TransformElement() {}
            function RenderableElement() {}
            function RenderableDOMElement() {}
            function ProcessedElement(e, t) {
                this.elem = e,
                this.pos = t
            }
            function SVGStyleData(e, t) {
                this.data = e,
                this.type = e.ty,
                this.d = "",
                this.lvl = t,
                this._mdf = !1,
                this.closed = !0 === e.hd,
                this.pElem = createNS("path"),
                this.msElem = null
            }
            function SVGShapeData(e, t, i) {
                this.caches = [],
                this.styles = [],
                this.transformers = e,
                this.lStr = "",
                this.sh = i,
                this.lvl = t,
                this._isAnimated = !!i.k;
                for (var a = 0, n = e.length; a < n; ) {
                    if (e[a].mProps.dynamicProperties.length) {
                        this._isAnimated = !0;
                        break
                    }
                    a += 1
                }
            }
            function SVGTransformData(e, t, i) {
                this.transform = {
                    mProps: e,
                    op: t,
                    container: i
                },
                this.elements = [],
                this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length
            }
            function SVGStrokeStyleData(e, t, i) {
                this.initDynamicPropertyContainer(e),
                this.getValue = this.iterateDynamicProperties,
                this.o = PropertyFactory.getProp(e, t.o, 0, .01, this),
                this.w = PropertyFactory.getProp(e, t.w, 0, null, this),
                this.d = new DashProperty(e,t.d || {},"svg",this),
                this.c = PropertyFactory.getProp(e, t.c, 1, 255, this),
                this.style = i,
                this._isAnimated = !!this._isAnimated
            }
            function SVGFillStyleData(e, t, i) {
                this.initDynamicPropertyContainer(e),
                this.getValue = this.iterateDynamicProperties,
                this.o = PropertyFactory.getProp(e, t.o, 0, .01, this),
                this.c = PropertyFactory.getProp(e, t.c, 1, 255, this),
                this.style = i
            }
            function SVGGradientFillStyleData(e, t, i) {
                this.initDynamicPropertyContainer(e),
                this.getValue = this.iterateDynamicProperties,
                this.initGradientData(e, t, i)
            }
            function SVGGradientStrokeStyleData(e, t, i) {
                this.initDynamicPropertyContainer(e),
                this.getValue = this.iterateDynamicProperties,
                this.w = PropertyFactory.getProp(e, t.w, 0, null, this),
                this.d = new DashProperty(e,t.d || {},"svg",this),
                this.initGradientData(e, t, i),
                this._isAnimated = !!this._isAnimated
            }
            function ShapeGroupData() {
                this.it = [],
                this.prevViewData = [],
                this.gr = createNS("g")
            }
            BaseRenderer.prototype.checkLayers = function(e) {
                var t, i, a = this.layers.length;
                for (this.completeLayers = !0,
                t = a - 1; t >= 0; t--)
                    this.elements[t] || (i = this.layers[t]).ip - i.st <= e - this.layers[t].st && i.op - i.st > e - this.layers[t].st && this.buildItem(t),
                    this.completeLayers = !!this.elements[t] && this.completeLayers;
                this.checkPendingElements()
            }
            ,
            BaseRenderer.prototype.createItem = function(e) {
                switch (e.ty) {
                case 2:
                    return this.createImage(e);
                case 0:
                    return this.createComp(e);
                case 1:
                    return this.createSolid(e);
                case 3:
                    return this.createNull(e);
                case 4:
                    return this.createShape(e);
                case 5:
                    return this.createText(e);
                case 13:
                    return this.createCamera(e)
                }
                return this.createNull(e)
            }
            ,
            BaseRenderer.prototype.createCamera = function() {
                throw new Error("You're using a 3d camera. Try the html renderer.")
            }
            ,
            BaseRenderer.prototype.buildAllItems = function() {
                var e, t = this.layers.length;
                for (e = 0; e < t; e += 1)
                    this.buildItem(e);
                this.checkPendingElements()
            }
            ,
            BaseRenderer.prototype.includeLayers = function(e) {
                this.completeLayers = !1;
                var t, i, a = e.length, n = this.layers.length;
                for (t = 0; t < a; t += 1)
                    for (i = 0; i < n; ) {
                        if (this.layers[i].id == e[t].id) {
                            this.layers[i] = e[t];
                            break
                        }
                        i += 1
                    }
            }
            ,
            BaseRenderer.prototype.setProjectInterface = function(e) {
                this.globalData.projectInterface = e
            }
            ,
            BaseRenderer.prototype.initItems = function() {
                this.globalData.progressiveLoad || this.buildAllItems()
            }
            ,
            BaseRenderer.prototype.buildElementParenting = function(e, t, i) {
                for (var a = this.elements, n = this.layers, r = 0, s = n.length; r < s; )
                    n[r].ind == t && (a[r] && !0 !== a[r] ? (i.push(a[r]),
                    a[r].setAsParent(),
                    void 0 !== n[r].parent ? this.buildElementParenting(e, n[r].parent, i) : e.setHierarchy(i)) : (this.buildItem(r),
                    this.addPendingElement(e))),
                    r += 1
            }
            ,
            BaseRenderer.prototype.addPendingElement = function(e) {
                this.pendingElements.push(e)
            }
            ,
            BaseRenderer.prototype.searchExtraCompositions = function(e) {
                var t, i = e.length;
                for (t = 0; t < i; t += 1)
                    if (e[t].xt) {
                        var a = this.createComp(e[t]);
                        a.initExpressions(),
                        this.globalData.projectInterface.registerComposition(a)
                    }
            }
            ,
            BaseRenderer.prototype.setupGlobalData = function(e, t) {
                this.globalData.fontManager = new FontManager,
                this.globalData.fontManager.addChars(e.chars),
                this.globalData.fontManager.addFonts(e.fonts, t),
                this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem),
                this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem),
                this.globalData.imageLoader = this.animationItem.imagePreloader,
                this.globalData.frameId = 0,
                this.globalData.frameRate = e.fr,
                this.globalData.nm = e.nm,
                this.globalData.compSize = {
                    w: e.w,
                    h: e.h
                }
            }
            ,
            extendPrototype([BaseRenderer], SVGRenderer),
            SVGRenderer.prototype.createNull = function(e) {
                return new NullElement(e,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.createShape = function(e) {
                return new SVGShapeElement(e,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.createText = function(e) {
                return new SVGTextElement(e,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.createImage = function(e) {
                return new IImageElement(e,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.createComp = function(e) {
                return new SVGCompElement(e,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.createSolid = function(e) {
                return new ISolidElement(e,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.configAnimation = function(e) {
                this.svgElement.setAttribute("xmlns", "http://www.w3.org/2000/svg"),
                this.renderConfig.viewBoxSize ? this.svgElement.setAttribute("viewBox", this.renderConfig.viewBoxSize) : this.svgElement.setAttribute("viewBox", "0 0 " + e.w + " " + e.h),
                this.renderConfig.viewBoxOnly || (this.svgElement.setAttribute("width", e.w),
                this.svgElement.setAttribute("height", e.h),
                this.svgElement.style.width = "100%",
                this.svgElement.style.height = "100%",
                this.svgElement.style.transform = "translate3d(0,0,0)"),
                this.renderConfig.className && this.svgElement.setAttribute("class", this.renderConfig.className),
                this.svgElement.setAttribute("preserveAspectRatio", this.renderConfig.preserveAspectRatio),
                this.animationItem.wrapper.appendChild(this.svgElement);
                var t = this.globalData.defs;
                this.setupGlobalData(e, t),
                this.globalData.progressiveLoad = this.renderConfig.progressiveLoad,
                this.data = e;
                var i = createNS("clipPath")
                  , a = createNS("rect");
                a.setAttribute("width", e.w),
                a.setAttribute("height", e.h),
                a.setAttribute("x", 0),
                a.setAttribute("y", 0);
                var n = createElementID();
                i.setAttribute("id", n),
                i.appendChild(a),
                this.layerElement.setAttribute("clip-path", "url(" + locationHref + "#" + n + ")"),
                t.appendChild(i),
                this.layers = e.layers,
                this.elements = createSizedArray(e.layers.length)
            }
            ,
            SVGRenderer.prototype.destroy = function() {
                this.animationItem.wrapper.innerHTML = "",
                this.layerElement = null,
                this.globalData.defs = null;
                var e, t = this.layers ? this.layers.length : 0;
                for (e = 0; e < t; e++)
                    this.elements[e] && this.elements[e].destroy();
                this.elements.length = 0,
                this.destroyed = !0,
                this.animationItem = null
            }
            ,
            SVGRenderer.prototype.updateContainerSize = function() {}
            ,
            SVGRenderer.prototype.buildItem = function(e) {
                var t = this.elements;
                if (!t[e] && 99 != this.layers[e].ty) {
                    t[e] = !0;
                    var i = this.createItem(this.layers[e]);
                    t[e] = i,
                    expressionsPlugin && (0 === this.layers[e].ty && this.globalData.projectInterface.registerComposition(i),
                    i.initExpressions()),
                    this.appendElementInPos(i, e),
                    this.layers[e].tt && (this.elements[e - 1] && !0 !== this.elements[e - 1] ? i.setMatte(t[e - 1].layerId) : (this.buildItem(e - 1),
                    this.addPendingElement(i)))
                }
            }
            ,
            SVGRenderer.prototype.checkPendingElements = function() {
                for (; this.pendingElements.length; ) {
                    var e = this.pendingElements.pop();
                    if (e.checkParenting(),
                    e.data.tt)
                        for (var t = 0, i = this.elements.length; t < i; ) {
                            if (this.elements[t] === e) {
                                e.setMatte(this.elements[t - 1].layerId);
                                break
                            }
                            t += 1
                        }
                }
            }
            ,
            SVGRenderer.prototype.renderFrame = function(e) {
                if (this.renderedFrame !== e && !this.destroyed) {
                    null === e ? e = this.renderedFrame : this.renderedFrame = e,
                    this.globalData.frameNum = e,
                    this.globalData.frameId += 1,
                    this.globalData.projectInterface.currentFrame = e,
                    this.globalData._mdf = !1;
                    var t, i = this.layers.length;
                    for (this.completeLayers || this.checkLayers(e),
                    t = i - 1; t >= 0; t--)
                        (this.completeLayers || this.elements[t]) && this.elements[t].prepareFrame(e - this.layers[t].st);
                    if (this.globalData._mdf)
                        for (t = 0; t < i; t += 1)
                            (this.completeLayers || this.elements[t]) && this.elements[t].renderFrame()
                }
            }
            ,
            SVGRenderer.prototype.appendElementInPos = function(e, t) {
                var i = e.getBaseElement();
                if (i) {
                    for (var a, n = 0; n < t; )
                        this.elements[n] && !0 !== this.elements[n] && this.elements[n].getBaseElement() && (a = this.elements[n].getBaseElement()),
                        n += 1;
                    a ? this.layerElement.insertBefore(i, a) : this.layerElement.appendChild(i)
                }
            }
            ,
            SVGRenderer.prototype.hide = function() {
                this.layerElement.style.display = "none"
            }
            ,
            SVGRenderer.prototype.show = function() {
                this.layerElement.style.display = "block"
            }
            ,
            extendPrototype([BaseRenderer], CanvasRenderer),
            CanvasRenderer.prototype.createShape = function(e) {
                return new CVShapeElement(e,this.globalData,this)
            }
            ,
            CanvasRenderer.prototype.createText = function(e) {
                return new CVTextElement(e,this.globalData,this)
            }
            ,
            CanvasRenderer.prototype.createImage = function(e) {
                return new CVImageElement(e,this.globalData,this)
            }
            ,
            CanvasRenderer.prototype.createComp = function(e) {
                return new CVCompElement(e,this.globalData,this)
            }
            ,
            CanvasRenderer.prototype.createSolid = function(e) {
                return new CVSolidElement(e,this.globalData,this)
            }
            ,
            CanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull,
            CanvasRenderer.prototype.ctxTransform = function(e) {
                if (1 !== e[0] || 0 !== e[1] || 0 !== e[4] || 1 !== e[5] || 0 !== e[12] || 0 !== e[13])
                    if (this.renderConfig.clearCanvas) {
                        this.transformMat.cloneFromProps(e);
                        var t = this.contextData.cTr.props;
                        this.transformMat.transform(t[0], t[1], t[2], t[3], t[4], t[5], t[6], t[7], t[8], t[9], t[10], t[11], t[12], t[13], t[14], t[15]),
                        this.contextData.cTr.cloneFromProps(this.transformMat.props);
                        var i = this.contextData.cTr.props;
                        this.canvasContext.setTransform(i[0], i[1], i[4], i[5], i[12], i[13])
                    } else
                        this.canvasContext.transform(e[0], e[1], e[4], e[5], e[12], e[13])
            }
            ,
            CanvasRenderer.prototype.ctxOpacity = function(e) {
                if (!this.renderConfig.clearCanvas)
                    return this.canvasContext.globalAlpha *= e < 0 ? 0 : e,
                    void (this.globalData.currentGlobalAlpha = this.contextData.cO);
                this.contextData.cO *= e < 0 ? 0 : e,
                this.globalData.currentGlobalAlpha !== this.contextData.cO && (this.canvasContext.globalAlpha = this.contextData.cO,
                this.globalData.currentGlobalAlpha = this.contextData.cO)
            }
            ,
            CanvasRenderer.prototype.reset = function() {
                this.renderConfig.clearCanvas ? this.contextData.reset() : this.canvasContext.restore()
            }
            ,
            CanvasRenderer.prototype.save = function(e) {
                if (this.renderConfig.clearCanvas) {
                    e && this.canvasContext.save();
                    var t = this.contextData.cTr.props;
                    this.contextData._length <= this.contextData.cArrPos && this.contextData.duplicate();
                    var i, a = this.contextData.saved[this.contextData.cArrPos];
                    for (i = 0; i < 16; i += 1)
                        a[i] = t[i];
                    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO,
                    this.contextData.cArrPos += 1
                } else
                    this.canvasContext.save()
            }
            ,
            CanvasRenderer.prototype.restore = function(e) {
                if (this.renderConfig.clearCanvas) {
                    e && (this.canvasContext.restore(),
                    this.globalData.blendMode = "source-over"),
                    this.contextData.cArrPos -= 1;
                    var t, i = this.contextData.saved[this.contextData.cArrPos], a = this.contextData.cTr.props;
                    for (t = 0; t < 16; t += 1)
                        a[t] = i[t];
                    this.canvasContext.setTransform(i[0], i[1], i[4], i[5], i[12], i[13]),
                    i = this.contextData.savedOp[this.contextData.cArrPos],
                    this.contextData.cO = i,
                    this.globalData.currentGlobalAlpha !== i && (this.canvasContext.globalAlpha = i,
                    this.globalData.currentGlobalAlpha = i)
                } else
                    this.canvasContext.restore()
            }
            ,
            CanvasRenderer.prototype.configAnimation = function(e) {
                this.animationItem.wrapper ? (this.animationItem.container = createTag("canvas"),
                this.animationItem.container.style.width = "100%",
                this.animationItem.container.style.height = "100%",
                this.animationItem.container.style.transformOrigin = this.animationItem.container.style.mozTransformOrigin = this.animationItem.container.style.webkitTransformOrigin = this.animationItem.container.style["-webkit-transform"] = "0px 0px 0px",
                this.animationItem.wrapper.appendChild(this.animationItem.container),
                this.canvasContext = this.animationItem.container.getContext("2d"),
                this.renderConfig.className && this.animationItem.container.setAttribute("class", this.renderConfig.className)) : this.canvasContext = this.renderConfig.context,
                this.data = e,
                this.layers = e.layers,
                this.transformCanvas = {
                    w: e.w,
                    h: e.h,
                    sx: 0,
                    sy: 0,
                    tx: 0,
                    ty: 0
                },
                this.setupGlobalData(e, document.body),
                this.globalData.canvasContext = this.canvasContext,
                this.globalData.renderer = this,
                this.globalData.isDashed = !1,
                this.globalData.progressiveLoad = this.renderConfig.progressiveLoad,
                this.globalData.transformCanvas = this.transformCanvas,
                this.elements = createSizedArray(e.layers.length),
                this.updateContainerSize()
            }
            ,
            CanvasRenderer.prototype.updateContainerSize = function() {
                var e, t, i, a;
                if (this.reset(),
                this.animationItem.wrapper && this.animationItem.container ? (e = this.animationItem.wrapper.offsetWidth,
                t = this.animationItem.wrapper.offsetHeight,
                this.animationItem.container.setAttribute("width", e * this.renderConfig.dpr),
                this.animationItem.container.setAttribute("height", t * this.renderConfig.dpr)) : (e = this.canvasContext.canvas.width * this.renderConfig.dpr,
                t = this.canvasContext.canvas.height * this.renderConfig.dpr),
                -1 !== this.renderConfig.preserveAspectRatio.indexOf("meet") || -1 !== this.renderConfig.preserveAspectRatio.indexOf("slice")) {
                    var n = this.renderConfig.preserveAspectRatio.split(" ")
                      , r = n[1] || "meet"
                      , s = n[0] || "xMidYMid"
                      , o = s.substr(0, 4)
                      , l = s.substr(4);
                    i = e / t,
                    (a = this.transformCanvas.w / this.transformCanvas.h) > i && "meet" === r || a < i && "slice" === r ? (this.transformCanvas.sx = e / (this.transformCanvas.w / this.renderConfig.dpr),
                    this.transformCanvas.sy = e / (this.transformCanvas.w / this.renderConfig.dpr)) : (this.transformCanvas.sx = t / (this.transformCanvas.h / this.renderConfig.dpr),
                    this.transformCanvas.sy = t / (this.transformCanvas.h / this.renderConfig.dpr)),
                    this.transformCanvas.tx = "xMid" === o && (a < i && "meet" === r || a > i && "slice" === r) ? (e - this.transformCanvas.w * (t / this.transformCanvas.h)) / 2 * this.renderConfig.dpr : "xMax" === o && (a < i && "meet" === r || a > i && "slice" === r) ? (e - this.transformCanvas.w * (t / this.transformCanvas.h)) * this.renderConfig.dpr : 0,
                    this.transformCanvas.ty = "YMid" === l && (a > i && "meet" === r || a < i && "slice" === r) ? (t - this.transformCanvas.h * (e / this.transformCanvas.w)) / 2 * this.renderConfig.dpr : "YMax" === l && (a > i && "meet" === r || a < i && "slice" === r) ? (t - this.transformCanvas.h * (e / this.transformCanvas.w)) * this.renderConfig.dpr : 0
                } else
                    "none" == this.renderConfig.preserveAspectRatio ? (this.transformCanvas.sx = e / (this.transformCanvas.w / this.renderConfig.dpr),
                    this.transformCanvas.sy = t / (this.transformCanvas.h / this.renderConfig.dpr),
                    this.transformCanvas.tx = 0,
                    this.transformCanvas.ty = 0) : (this.transformCanvas.sx = this.renderConfig.dpr,
                    this.transformCanvas.sy = this.renderConfig.dpr,
                    this.transformCanvas.tx = 0,
                    this.transformCanvas.ty = 0);
                this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1],
                this.ctxTransform(this.transformCanvas.props),
                this.canvasContext.beginPath(),
                this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h),
                this.canvasContext.closePath(),
                this.canvasContext.clip(),
                this.renderFrame(this.renderedFrame, !0)
            }
            ,
            CanvasRenderer.prototype.destroy = function() {
                var e;
                for (this.renderConfig.clearCanvas && (this.animationItem.wrapper.innerHTML = ""),
                e = (this.layers ? this.layers.length : 0) - 1; e >= 0; e -= 1)
                    this.elements[e] && this.elements[e].destroy();
                this.elements.length = 0,
                this.globalData.canvasContext = null,
                this.animationItem.container = null,
                this.destroyed = !0
            }
            ,
            CanvasRenderer.prototype.renderFrame = function(e, t) {
                if ((this.renderedFrame !== e || !0 !== this.renderConfig.clearCanvas || t) && !this.destroyed && -1 !== e) {
                    this.renderedFrame = e,
                    this.globalData.frameNum = e - this.animationItem._isFirstFrame,
                    this.globalData.frameId += 1,
                    this.globalData._mdf = !this.renderConfig.clearCanvas || t,
                    this.globalData.projectInterface.currentFrame = e;
                    var i, a = this.layers.length;
                    for (this.completeLayers || this.checkLayers(e),
                    i = 0; i < a; i++)
                        (this.completeLayers || this.elements[i]) && this.elements[i].prepareFrame(e - this.layers[i].st);
                    if (this.globalData._mdf) {
                        for (!0 === this.renderConfig.clearCanvas ? this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h) : this.save(),
                        i = a - 1; i >= 0; i -= 1)
                            (this.completeLayers || this.elements[i]) && this.elements[i].renderFrame();
                        !0 !== this.renderConfig.clearCanvas && this.restore()
                    }
                }
            }
            ,
            CanvasRenderer.prototype.buildItem = function(e) {
                var t = this.elements;
                if (!t[e] && 99 != this.layers[e].ty) {
                    var i = this.createItem(this.layers[e], this, this.globalData);
                    t[e] = i,
                    i.initExpressions()
                }
            }
            ,
            CanvasRenderer.prototype.checkPendingElements = function() {
                for (; this.pendingElements.length; ) {
                    this.pendingElements.pop().checkParenting()
                }
            }
            ,
            CanvasRenderer.prototype.hide = function() {
                this.animationItem.container.style.display = "none"
            }
            ,
            CanvasRenderer.prototype.show = function() {
                this.animationItem.container.style.display = "block"
            }
            ,
            extendPrototype([BaseRenderer], HybridRenderer),
            HybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem,
            HybridRenderer.prototype.checkPendingElements = function() {
                for (; this.pendingElements.length; ) {
                    this.pendingElements.pop().checkParenting()
                }
            }
            ,
            HybridRenderer.prototype.appendElementInPos = function(e, t) {
                var i = e.getBaseElement();
                if (i) {
                    var a = this.layers[t];
                    if (a.ddd && this.supports3d)
                        this.addTo3dContainer(i, t);
                    else if (this.threeDElements)
                        this.addTo3dContainer(i, t);
                    else {
                        for (var n, r, s = 0; s < t; )
                            this.elements[s] && !0 !== this.elements[s] && this.elements[s].getBaseElement && (r = this.elements[s],
                            n = (this.layers[s].ddd ? this.getThreeDContainerByPos(s) : r.getBaseElement()) || n),
                            s += 1;
                        n ? a.ddd && this.supports3d || this.layerElement.insertBefore(i, n) : a.ddd && this.supports3d || this.layerElement.appendChild(i)
                    }
                }
            }
            ,
            HybridRenderer.prototype.createShape = function(e) {
                return this.supports3d ? new HShapeElement(e,this.globalData,this) : new SVGShapeElement(e,this.globalData,this)
            }
            ,
            HybridRenderer.prototype.createText = function(e) {
                return this.supports3d ? new HTextElement(e,this.globalData,this) : new SVGTextElement(e,this.globalData,this)
            }
            ,
            HybridRenderer.prototype.createCamera = function(e) {
                return this.camera = new HCameraElement(e,this.globalData,this),
                this.camera
            }
            ,
            HybridRenderer.prototype.createImage = function(e) {
                return this.supports3d ? new HImageElement(e,this.globalData,this) : new IImageElement(e,this.globalData,this)
            }
            ,
            HybridRenderer.prototype.createComp = function(e) {
                return this.supports3d ? new HCompElement(e,this.globalData,this) : new SVGCompElement(e,this.globalData,this)
            }
            ,
            HybridRenderer.prototype.createSolid = function(e) {
                return this.supports3d ? new HSolidElement(e,this.globalData,this) : new ISolidElement(e,this.globalData,this)
            }
            ,
            HybridRenderer.prototype.createNull = SVGRenderer.prototype.createNull,
            HybridRenderer.prototype.getThreeDContainerByPos = function(e) {
                for (var t = 0, i = this.threeDElements.length; t < i; ) {
                    if (this.threeDElements[t].startPos <= e && this.threeDElements[t].endPos >= e)
                        return this.threeDElements[t].perspectiveElem;
                    t += 1
                }
            }
            ,
            HybridRenderer.prototype.createThreeDContainer = function(e, t) {
                var i = createTag("div");
                styleDiv(i);
                var a = createTag("div");
                styleDiv(a),
                "3d" === t && (i.style.width = this.globalData.compSize.w + "px",
                i.style.height = this.globalData.compSize.h + "px",
                i.style.transformOrigin = i.style.mozTransformOrigin = i.style.webkitTransformOrigin = "50% 50%",
                a.style.transform = a.style.webkitTransform = "matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),
                i.appendChild(a);
                var n = {
                    container: a,
                    perspectiveElem: i,
                    startPos: e,
                    endPos: e,
                    type: t
                };
                return this.threeDElements.push(n),
                n
            }
            ,
            HybridRenderer.prototype.build3dContainers = function() {
                var e, t, i = this.layers.length, a = "";
                for (e = 0; e < i; e += 1)
                    this.layers[e].ddd && 3 !== this.layers[e].ty ? ("3d" !== a && (a = "3d",
                    t = this.createThreeDContainer(e, "3d")),
                    t.endPos = Math.max(t.endPos, e)) : ("2d" !== a && (a = "2d",
                    t = this.createThreeDContainer(e, "2d")),
                    t.endPos = Math.max(t.endPos, e));
                for (e = (i = this.threeDElements.length) - 1; e >= 0; e--)
                    this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)
            }
            ,
            HybridRenderer.prototype.addTo3dContainer = function(e, t) {
                for (var i = 0, a = this.threeDElements.length; i < a; ) {
                    if (t <= this.threeDElements[i].endPos) {
                        for (var n, r = this.threeDElements[i].startPos; r < t; )
                            this.elements[r] && this.elements[r].getBaseElement && (n = this.elements[r].getBaseElement()),
                            r += 1;
                        n ? this.threeDElements[i].container.insertBefore(e, n) : this.threeDElements[i].container.appendChild(e);
                        break
                    }
                    i += 1
                }
            }
            ,
            HybridRenderer.prototype.configAnimation = function(e) {
                var t = createTag("div")
                  , i = this.animationItem.wrapper;
                t.style.width = e.w + "px",
                t.style.height = e.h + "px",
                this.resizerElem = t,
                styleDiv(t),
                t.style.transformStyle = t.style.webkitTransformStyle = t.style.mozTransformStyle = "flat",
                this.renderConfig.className && t.setAttribute("class", this.renderConfig.className),
                i.appendChild(t),
                t.style.overflow = "hidden";
                var a = createNS("svg");
                a.setAttribute("width", "1"),
                a.setAttribute("height", "1"),
                styleDiv(a),
                this.resizerElem.appendChild(a);
                var n = createNS("defs");
                a.appendChild(n),
                this.data = e,
                this.setupGlobalData(e, a),
                this.globalData.defs = n,
                this.layers = e.layers,
                this.layerElement = this.resizerElem,
                this.build3dContainers(),
                this.updateContainerSize()
            }
            ,
            HybridRenderer.prototype.destroy = function() {
                this.animationItem.wrapper.innerHTML = "",
                this.animationItem.container = null,
                this.globalData.defs = null;
                var e, t = this.layers ? this.layers.length : 0;
                for (e = 0; e < t; e++)
                    this.elements[e].destroy();
                this.elements.length = 0,
                this.destroyed = !0,
                this.animationItem = null
            }
            ,
            HybridRenderer.prototype.updateContainerSize = function() {
                var e, t, i, a, n = this.animationItem.wrapper.offsetWidth, r = this.animationItem.wrapper.offsetHeight, s = n / r;
                this.globalData.compSize.w / this.globalData.compSize.h > s ? (e = n / this.globalData.compSize.w,
                t = n / this.globalData.compSize.w,
                i = 0,
                a = (r - this.globalData.compSize.h * (n / this.globalData.compSize.w)) / 2) : (e = r / this.globalData.compSize.h,
                t = r / this.globalData.compSize.h,
                i = (n - this.globalData.compSize.w * (r / this.globalData.compSize.h)) / 2,
                a = 0),
                this.resizerElem.style.transform = this.resizerElem.style.webkitTransform = "matrix3d(" + e + ",0,0,0,0," + t + ",0,0,0,0,1,0," + i + "," + a + ",0,1)"
            }
            ,
            HybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame,
            HybridRenderer.prototype.hide = function() {
                this.resizerElem.style.display = "none"
            }
            ,
            HybridRenderer.prototype.show = function() {
                this.resizerElem.style.display = "block"
            }
            ,
            HybridRenderer.prototype.initItems = function() {
                if (this.buildAllItems(),
                this.camera)
                    this.camera.setup();
                else {
                    var e, t = this.globalData.compSize.w, i = this.globalData.compSize.h, a = this.threeDElements.length;
                    for (e = 0; e < a; e += 1)
                        this.threeDElements[e].perspectiveElem.style.perspective = this.threeDElements[e].perspectiveElem.style.webkitPerspective = Math.sqrt(Math.pow(t, 2) + Math.pow(i, 2)) + "px"
                }
            }
            ,
            HybridRenderer.prototype.searchExtraCompositions = function(e) {
                var t, i = e.length, a = createTag("div");
                for (t = 0; t < i; t += 1)
                    if (e[t].xt) {
                        var n = this.createComp(e[t], a, this.globalData.comp, null);
                        n.initExpressions(),
                        this.globalData.projectInterface.registerComposition(n)
                    }
            }
            ,
            MaskElement.prototype.getMaskProperty = function(e) {
                return this.viewData[e].prop
            }
            ,
            MaskElement.prototype.renderFrame = function(e) {
                var t, i = this.element.finalTransform.mat, a = this.masksProperties.length;
                for (t = 0; t < a; t++)
                    if ((this.viewData[t].prop._mdf || e) && this.drawPath(this.masksProperties[t], this.viewData[t].prop.v, this.viewData[t]),
                    (this.viewData[t].op._mdf || e) && this.viewData[t].elem.setAttribute("fill-opacity", this.viewData[t].op.v),
                    "n" !== this.masksProperties[t].mode && (this.viewData[t].invRect && (this.element.finalTransform.mProp._mdf || e) && (this.viewData[t].invRect.setAttribute("x", -i.props[12]),
                    this.viewData[t].invRect.setAttribute("y", -i.props[13])),
                    this.storedData[t].x && (this.storedData[t].x._mdf || e))) {
                        var n = this.storedData[t].expan;
                        this.storedData[t].x.v < 0 ? ("erode" !== this.storedData[t].lastOperator && (this.storedData[t].lastOperator = "erode",
                        this.storedData[t].elem.setAttribute("filter", "url(" + locationHref + "#" + this.storedData[t].filterId + ")")),
                        n.setAttribute("radius", -this.storedData[t].x.v)) : ("dilate" !== this.storedData[t].lastOperator && (this.storedData[t].lastOperator = "dilate",
                        this.storedData[t].elem.setAttribute("filter", null)),
                        this.storedData[t].elem.setAttribute("stroke-width", 2 * this.storedData[t].x.v))
                    }
            }
            ,
            MaskElement.prototype.getMaskelement = function() {
                return this.maskElement
            }
            ,
            MaskElement.prototype.createLayerSolidPath = function() {
                var e = "M0,0 ";
                return e += " h" + this.globalData.compSize.w,
                e += " v" + this.globalData.compSize.h,
                e += " h-" + this.globalData.compSize.w,
                e += " v-" + this.globalData.compSize.h + " "
            }
            ,
            MaskElement.prototype.drawPath = function(e, t, i) {
                var a, n, r = " M" + t.v[0][0] + "," + t.v[0][1];
                for (n = t._length,
                a = 1; a < n; a += 1)
                    r += " C" + t.o[a - 1][0] + "," + t.o[a - 1][1] + " " + t.i[a][0] + "," + t.i[a][1] + " " + t.v[a][0] + "," + t.v[a][1];
                if (t.c && n > 1 && (r += " C" + t.o[a - 1][0] + "," + t.o[a - 1][1] + " " + t.i[0][0] + "," + t.i[0][1] + " " + t.v[0][0] + "," + t.v[0][1]),
                i.lastPath !== r) {
                    var s = "";
                    i.elem && (t.c && (s = e.inv ? this.solidPath + r : r),
                    i.elem.setAttribute("d", s)),
                    i.lastPath = r
                }
            }
            ,
            MaskElement.prototype.destroy = function() {
                this.element = null,
                this.globalData = null,
                this.maskElement = null,
                this.data = null,
                this.masksProperties = null
            }
            ,
            HierarchyElement.prototype = {
                initHierarchy: function() {
                    this.hierarchy = [],
                    this._isParent = !1,
                    this.checkParenting()
                },
                setHierarchy: function(e) {
                    this.hierarchy = e
                },
                setAsParent: function() {
                    this._isParent = !0
                },
                checkParenting: function() {
                    void 0 !== this.data.parent && this.comp.buildElementParenting(this, this.data.parent, [])
                }
            },
            FrameElement.prototype = {
                initFrame: function() {
                    this._isFirstFrame = !1,
                    this.dynamicProperties = [],
                    this._mdf = !1
                },
                prepareProperties: function(e, t) {
                    var i, a = this.dynamicProperties.length;
                    for (i = 0; i < a; i += 1)
                        (t || this._isParent && "transform" === this.dynamicProperties[i].propType) && (this.dynamicProperties[i].getValue(),
                        this.dynamicProperties[i]._mdf && (this.globalData._mdf = !0,
                        this._mdf = !0))
                },
                addDynamicProperty: function(e) {
                    -1 === this.dynamicProperties.indexOf(e) && this.dynamicProperties.push(e)
                }
            },
            TransformElement.prototype = {
                initTransform: function() {
                    this.finalTransform = {
                        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {
                            o: 0
                        },
                        _matMdf: !1,
                        _opMdf: !1,
                        mat: new Matrix
                    },
                    this.data.ao && (this.finalTransform.mProp.autoOriented = !0),
                    this.data.ty
                },
                renderTransform: function() {
                    if (this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame,
                    this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame,
                    this.hierarchy) {
                        var e, t = this.finalTransform.mat, i = 0, a = this.hierarchy.length;
                        if (!this.finalTransform._matMdf)
                            for (; i < a; ) {
                                if (this.hierarchy[i].finalTransform.mProp._mdf) {
                                    this.finalTransform._matMdf = !0;
                                    break
                                }
                                i += 1
                            }
                        if (this.finalTransform._matMdf)
                            for (e = this.finalTransform.mProp.v.props,
                            t.cloneFromProps(e),
                            i = 0; i < a; i += 1)
                                e = this.hierarchy[i].finalTransform.mProp.v.props,
                                t.transform(e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7], e[8], e[9], e[10], e[11], e[12], e[13], e[14], e[15])
                    }
                },
                globalToLocal: function(e) {
                    var t = [];
                    t.push(this.finalTransform);
                    for (var i = !0, a = this.comp; i; )
                        a.finalTransform ? (a.data.hasMask && t.splice(0, 0, a.finalTransform),
                        a = a.comp) : i = !1;
                    var n, r, s = t.length;
                    for (n = 0; n < s; n += 1)
                        r = t[n].mat.applyToPointArray(0, 0, 0),
                        e = [e[0] - r[0], e[1] - r[1], 0];
                    return e
                },
                mHelper: new Matrix
            },
            RenderableElement.prototype = {
                initRenderable: function() {
                    this.isInRange = !1,
                    this.hidden = !1,
                    this.isTransparent = !1,
                    this.renderableComponents = []
                },
                addRenderableComponent: function(e) {
                    -1 === this.renderableComponents.indexOf(e) && this.renderableComponents.push(e)
                },
                removeRenderableComponent: function(e) {
                    -1 !== this.renderableComponents.indexOf(e) && this.renderableComponents.splice(this.renderableComponents.indexOf(e), 1)
                },
                prepareRenderableFrame: function(e) {
                    this.checkLayerLimits(e)
                },
                checkTransparency: function() {
                    this.finalTransform.mProp.o.v <= 0 ? !this.isTransparent && this.globalData.renderConfig.hideOnTransparent && (this.isTransparent = !0,
                    this.hide()) : this.isTransparent && (this.isTransparent = !1,
                    this.show())
                },
                checkLayerLimits: function(e) {
                    this.data.ip - this.data.st <= e && this.data.op - this.data.st > e ? !0 !== this.isInRange && (this.globalData._mdf = !0,
                    this._mdf = !0,
                    this.isInRange = !0,
                    this.show()) : !1 !== this.isInRange && (this.globalData._mdf = !0,
                    this.isInRange = !1,
                    this.hide())
                },
                renderRenderable: function() {
                    var e, t = this.renderableComponents.length;
                    for (e = 0; e < t; e += 1)
                        this.renderableComponents[e].renderFrame(this._isFirstFrame)
                },
                sourceRectAtTime: function() {
                    return {
                        top: 0,
                        left: 0,
                        width: 100,
                        height: 100
                    }
                },
                getLayerSize: function() {
                    return 5 === this.data.ty ? {
                        w: this.data.textData.width,
                        h: this.data.textData.height
                    } : {
                        w: this.data.width,
                        h: this.data.height
                    }
                }
            },
            extendPrototype([RenderableElement, createProxyFunction({
                initElement: function(e, t, i) {
                    this.initFrame(),
                    this.initBaseData(e, t, i),
                    this.initTransform(e, t, i),
                    this.initHierarchy(),
                    this.initRenderable(),
                    this.initRendererElement(),
                    this.createContainerElements(),
                    this.createRenderableComponents(),
                    this.createContent(),
                    this.hide()
                },
                hide: function() {
                    this.hidden || this.isInRange && !this.isTransparent || ((this.baseElement || this.layerElement).style.display = "none",
                    this.hidden = !0)
                },
                show: function() {
                    this.isInRange && !this.isTransparent && (this.data.hd || ((this.baseElement || this.layerElement).style.display = "block"),
                    this.hidden = !1,
                    this._isFirstFrame = !0)
                },
                renderFrame: function() {
                    this.data.hd || this.hidden || (this.renderTransform(),
                    this.renderRenderable(),
                    this.renderElement(),
                    this.renderInnerContent(),
                    this._isFirstFrame && (this._isFirstFrame = !1))
                },
                renderInnerContent: function() {},
                prepareFrame: function(e) {
                    this._mdf = !1,
                    this.prepareRenderableFrame(e),
                    this.prepareProperties(e, this.isInRange),
                    this.checkTransparency()
                },
                destroy: function() {
                    this.innerElem = null,
                    this.destroyBaseElement()
                }
            })], RenderableDOMElement),
            SVGStyleData.prototype.reset = function() {
                this.d = "",
                this._mdf = !1
            }
            ,
            SVGShapeData.prototype.setAsAnimated = function() {
                this._isAnimated = !0
            }
            ,
            extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData),
            extendPrototype([DynamicPropertyContainer], SVGFillStyleData),
            SVGGradientFillStyleData.prototype.initGradientData = function(e, t, i) {
                this.o = PropertyFactory.getProp(e, t.o, 0, .01, this),
                this.s = PropertyFactory.getProp(e, t.s, 1, null, this),
                this.e = PropertyFactory.getProp(e, t.e, 1, null, this),
                this.h = PropertyFactory.getProp(e, t.h || {
                    k: 0
                }, 0, .01, this),
                this.a = PropertyFactory.getProp(e, t.a || {
                    k: 0
                }, 0, degToRads, this),
                this.g = new GradientProperty(e,t.g,this),
                this.style = i,
                this.stops = [],
                this.setGradientData(i.pElem, t),
                this.setGradientOpacity(t, i),
                this._isAnimated = !!this._isAnimated
            }
            ,
            SVGGradientFillStyleData.prototype.setGradientData = function(e, t) {
                var i = createElementID()
                  , a = createNS(1 === t.t ? "linearGradient" : "radialGradient");
                a.setAttribute("id", i),
                a.setAttribute("spreadMethod", "pad"),
                a.setAttribute("gradientUnits", "userSpaceOnUse");
                var n, r, s, o = [];
                for (s = 4 * t.g.p,
                r = 0; r < s; r += 4)
                    n = createNS("stop"),
                    a.appendChild(n),
                    o.push(n);
                e.setAttribute("gf" === t.ty ? "fill" : "stroke", "url(" + locationHref + "#" + i + ")"),
                this.gf = a,
                this.cst = o
            }
            ,
            SVGGradientFillStyleData.prototype.setGradientOpacity = function(e, t) {
                if (this.g._hasOpacity && !this.g._collapsable) {
                    var i, a, n, r = createNS("mask"), s = createNS("path");
                    r.appendChild(s);
                    var o = createElementID()
                      , l = createElementID();
                    r.setAttribute("id", l);
                    var c = createNS(1 === e.t ? "linearGradient" : "radialGradient");
                    c.setAttribute("id", o),
                    c.setAttribute("spreadMethod", "pad"),
                    c.setAttribute("gradientUnits", "userSpaceOnUse"),
                    n = e.g.k.k[0].s ? e.g.k.k[0].s.length : e.g.k.k.length;
                    var h = this.stops;
                    for (a = 4 * e.g.p; a < n; a += 2)
                        (i = createNS("stop")).setAttribute("stop-color", "rgb(255,255,255)"),
                        c.appendChild(i),
                        h.push(i);
                    s.setAttribute("gf" === e.ty ? "fill" : "stroke", "url(" + locationHref + "#" + o + ")"),
                    this.of = c,
                    this.ms = r,
                    this.ost = h,
                    this.maskId = l,
                    t.msElem = s
                }
            }
            ,
            extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData),
            extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);
            var SVGElementsRenderer = function() {
                var e = new Matrix
                  , t = new Matrix;
                function i(e, t, i) {
                    (i || t.transform.op._mdf) && t.transform.container.setAttribute("opacity", t.transform.op.v),
                    (i || t.transform.mProps._mdf) && t.transform.container.setAttribute("transform", t.transform.mProps.v.to2dCSS())
                }
                function a(i, a, n) {
                    var r, s, o, l, c, h, d, p, u, m, g, f = a.styles.length, v = a.lvl;
                    for (h = 0; h < f; h += 1) {
                        if (l = a.sh._mdf || n,
                        a.styles[h].lvl < v) {
                            for (p = t.reset(),
                            m = v - a.styles[h].lvl,
                            g = a.transformers.length - 1; !l && m > 0; )
                                l = a.transformers[g].mProps._mdf || l,
                                m--,
                                g--;
                            if (l)
                                for (m = v - a.styles[h].lvl,
                                g = a.transformers.length - 1; m > 0; )
                                    u = a.transformers[g].mProps.v.props,
                                    p.transform(u[0], u[1], u[2], u[3], u[4], u[5], u[6], u[7], u[8], u[9], u[10], u[11], u[12], u[13], u[14], u[15]),
                                    m--,
                                    g--
                        } else
                            p = e;
                        if (s = (d = a.sh.paths)._length,
                        l) {
                            for (o = "",
                            r = 0; r < s; r += 1)
                                (c = d.shapes[r]) && c._length && (o += buildShapeString(c, c._length, c.c, p));
                            a.caches[h] = o
                        } else
                            o = a.caches[h];
                        a.styles[h].d += !0 === i.hd ? "" : o,
                        a.styles[h]._mdf = l || a.styles[h]._mdf
                    }
                }
                function n(e, t, i) {
                    var a = t.style;
                    (t.c._mdf || i) && a.pElem.setAttribute("fill", "rgb(" + bm_floor(t.c.v[0]) + "," + bm_floor(t.c.v[1]) + "," + bm_floor(t.c.v[2]) + ")"),
                    (t.o._mdf || i) && a.pElem.setAttribute("fill-opacity", t.o.v)
                }
                function r(e, t, i) {
                    s(e, t, i),
                    o(e, t, i)
                }
                function s(e, t, i) {
                    var a, n, r, s, o, l = t.gf, c = t.g._hasOpacity, h = t.s.v, d = t.e.v;
                    if (t.o._mdf || i) {
                        var p = "gf" === e.ty ? "fill-opacity" : "stroke-opacity";
                        t.style.pElem.setAttribute(p, t.o.v)
                    }
                    if (t.s._mdf || i) {
                        var u = 1 === e.t ? "x1" : "cx"
                          , m = "x1" === u ? "y1" : "cy";
                        l.setAttribute(u, h[0]),
                        l.setAttribute(m, h[1]),
                        c && !t.g._collapsable && (t.of.setAttribute(u, h[0]),
                        t.of.setAttribute(m, h[1]))
                    }
                    if (t.g._cmdf || i) {
                        a = t.cst;
                        var g = t.g.c;
                        for (r = a.length,
                        n = 0; n < r; n += 1)
                            (s = a[n]).setAttribute("offset", g[4 * n] + "%"),
                            s.setAttribute("stop-color", "rgb(" + g[4 * n + 1] + "," + g[4 * n + 2] + "," + g[4 * n + 3] + ")")
                    }
                    if (c && (t.g._omdf || i)) {
                        var f = t.g.o;
                        for (r = (a = t.g._collapsable ? t.cst : t.ost).length,
                        n = 0; n < r; n += 1)
                            s = a[n],
                            t.g._collapsable || s.setAttribute("offset", f[2 * n] + "%"),
                            s.setAttribute("stop-opacity", f[2 * n + 1])
                    }
                    if (1 === e.t)
                        (t.e._mdf || i) && (l.setAttribute("x2", d[0]),
                        l.setAttribute("y2", d[1]),
                        c && !t.g._collapsable && (t.of.setAttribute("x2", d[0]),
                        t.of.setAttribute("y2", d[1])));
                    else if ((t.s._mdf || t.e._mdf || i) && (o = Math.sqrt(Math.pow(h[0] - d[0], 2) + Math.pow(h[1] - d[1], 2)),
                    l.setAttribute("r", o),
                    c && !t.g._collapsable && t.of.setAttribute("r", o)),
                    t.e._mdf || t.h._mdf || t.a._mdf || i) {
                        o || (o = Math.sqrt(Math.pow(h[0] - d[0], 2) + Math.pow(h[1] - d[1], 2)));
                        var v = Math.atan2(d[1] - h[1], d[0] - h[0])
                          , y = o * (t.h.v >= 1 ? .99 : t.h.v <= -1 ? -.99 : t.h.v)
                          , A = Math.cos(v + t.a.v) * y + h[0]
                          , _ = Math.sin(v + t.a.v) * y + h[1];
                        l.setAttribute("fx", A),
                        l.setAttribute("fy", _),
                        c && !t.g._collapsable && (t.of.setAttribute("fx", A),
                        t.of.setAttribute("fy", _))
                    }
                }
                function o(e, t, i) {
                    var a = t.style
                      , n = t.d;
                    n && (n._mdf || i) && n.dashStr && (a.pElem.setAttribute("stroke-dasharray", n.dashStr),
                    a.pElem.setAttribute("stroke-dashoffset", n.dashoffset[0])),
                    t.c && (t.c._mdf || i) && a.pElem.setAttribute("stroke", "rgb(" + bm_floor(t.c.v[0]) + "," + bm_floor(t.c.v[1]) + "," + bm_floor(t.c.v[2]) + ")"),
                    (t.o._mdf || i) && a.pElem.setAttribute("stroke-opacity", t.o.v),
                    (t.w._mdf || i) && (a.pElem.setAttribute("stroke-width", t.w.v),
                    a.msElem && a.msElem.setAttribute("stroke-width", t.w.v))
                }
                return {
                    createRenderFunction: function(e) {
                        e.ty;
                        switch (e.ty) {
                        case "fl":
                            return n;
                        case "gf":
                            return s;
                        case "gs":
                            return r;
                        case "st":
                            return o;
                        case "sh":
                        case "el":
                        case "rc":
                        case "sr":
                            return a;
                        case "tr":
                            return i
                        }
                    }
                }
            }();
            function ShapeTransformManager() {
                this.sequences = {},
                this.sequenceList = [],
                this.transform_key_count = 0
            }
            function CVShapeData(e, t, i, a) {
                this.styledShapes = [],
                this.tr = [0, 0, 0, 0, 0, 0];
                var n = 4;
                "rc" == t.ty ? n = 5 : "el" == t.ty ? n = 6 : "sr" == t.ty && (n = 7),
                this.sh = ShapePropertyFactory.getShapeProp(e, t, n, e);
                var r, s, o = i.length;
                for (r = 0; r < o; r += 1)
                    i[r].closed || (s = {
                        transforms: a.addTransformSequence(i[r].transforms),
                        trNodes: []
                    },
                    this.styledShapes.push(s),
                    i[r].elements.push(s))
            }
            function BaseElement() {}
            function NullElement(e, t, i) {
                this.initFrame(),
                this.initBaseData(e, t, i),
                this.initFrame(),
                this.initTransform(e, t, i),
                this.initHierarchy()
            }
            function SVGBaseElement() {}
            function IShapeElement() {}
            function ITextElement() {}
            function ICompElement() {}
            function IImageElement(e, t, i) {
                this.assetData = t.getAssetData(e.refId),
                this.initElement(e, t, i),
                this.sourceRect = {
                    top: 0,
                    left: 0,
                    width: this.assetData.w,
                    height: this.assetData.h
                }
            }
            function ISolidElement(e, t, i) {
                this.initElement(e, t, i)
            }
            function SVGCompElement(e, t, i) {
                this.layers = e.layers,
                this.supports3d = !0,
                this.completeLayers = !1,
                this.pendingElements = [],
                this.elements = this.layers ? createSizedArray(this.layers.length) : [],
                this.initElement(e, t, i),
                this.tm = e.tm ? PropertyFactory.getProp(this, e.tm, 0, t.frameRate, this) : {
                    _placeholder: !0
                }
            }
            function SVGTextElement(e, t, i) {
                this.textSpans = [],
                this.renderType = "svg",
                this.initElement(e, t, i)
            }
            function SVGShapeElement(e, t, i) {
                this.shapes = [],
                this.shapesData = e.shapes,
                this.stylesList = [],
                this.shapeModifiers = [],
                this.itemsData = [],
                this.processedElements = [],
                this.animatedContents = [],
                this.initElement(e, t, i),
                this.prevViewData = []
            }
            function SVGTintFilter(e, t) {
                this.filterManager = t;
                var i = createNS("feColorMatrix");
                if (i.setAttribute("type", "matrix"),
                i.setAttribute("color-interpolation-filters", "linearRGB"),
                i.setAttribute("values", "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),
                i.setAttribute("result", "f1"),
                e.appendChild(i),
                (i = createNS("feColorMatrix")).setAttribute("type", "matrix"),
                i.setAttribute("color-interpolation-filters", "sRGB"),
                i.setAttribute("values", "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),
                i.setAttribute("result", "f2"),
                e.appendChild(i),
                this.matrixFilter = i,
                100 !== t.effectElements[2].p.v || t.effectElements[2].p.k) {
                    var a, n = createNS("feMerge");
                    e.appendChild(n),
                    (a = createNS("feMergeNode")).setAttribute("in", "SourceGraphic"),
                    n.appendChild(a),
                    (a = createNS("feMergeNode")).setAttribute("in", "f2"),
                    n.appendChild(a)
                }
            }
            function SVGFillFilter(e, t) {
                this.filterManager = t;
                var i = createNS("feColorMatrix");
                i.setAttribute("type", "matrix"),
                i.setAttribute("color-interpolation-filters", "sRGB"),
                i.setAttribute("values", "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),
                e.appendChild(i),
                this.matrixFilter = i
            }
            function SVGGaussianBlurEffect(e, t) {
                e.setAttribute("x", "-100%"),
                e.setAttribute("y", "-100%"),
                e.setAttribute("width", "300%"),
                e.setAttribute("height", "300%"),
                this.filterManager = t;
                var i = createNS("feGaussianBlur");
                e.appendChild(i),
                this.feGaussianBlur = i
            }
            function SVGStrokeEffect(e, t) {
                this.initialized = !1,
                this.filterManager = t,
                this.elem = e,
                this.paths = []
            }
            function SVGTritoneFilter(e, t) {
                this.filterManager = t;
                var i = createNS("feColorMatrix");
                i.setAttribute("type", "matrix"),
                i.setAttribute("color-interpolation-filters", "linearRGB"),
                i.setAttribute("values", "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),
                i.setAttribute("result", "f1"),
                e.appendChild(i);
                var a = createNS("feComponentTransfer");
                a.setAttribute("color-interpolation-filters", "sRGB"),
                e.appendChild(a),
                this.matrixFilter = a;
                var n = createNS("feFuncR");
                n.setAttribute("type", "table"),
                a.appendChild(n),
                this.feFuncR = n;
                var r = createNS("feFuncG");
                r.setAttribute("type", "table"),
                a.appendChild(r),
                this.feFuncG = r;
                var s = createNS("feFuncB");
                s.setAttribute("type", "table"),
                a.appendChild(s),
                this.feFuncB = s
            }
            function SVGProLevelsFilter(e, t) {
                this.filterManager = t;
                var i = this.filterManager.effectElements
                  , a = createNS("feComponentTransfer");
                (i[10].p.k || 0 !== i[10].p.v || i[11].p.k || 1 !== i[11].p.v || i[12].p.k || 1 !== i[12].p.v || i[13].p.k || 0 !== i[13].p.v || i[14].p.k || 1 !== i[14].p.v) && (this.feFuncR = this.createFeFunc("feFuncR", a)),
                (i[17].p.k || 0 !== i[17].p.v || i[18].p.k || 1 !== i[18].p.v || i[19].p.k || 1 !== i[19].p.v || i[20].p.k || 0 !== i[20].p.v || i[21].p.k || 1 !== i[21].p.v) && (this.feFuncG = this.createFeFunc("feFuncG", a)),
                (i[24].p.k || 0 !== i[24].p.v || i[25].p.k || 1 !== i[25].p.v || i[26].p.k || 1 !== i[26].p.v || i[27].p.k || 0 !== i[27].p.v || i[28].p.k || 1 !== i[28].p.v) && (this.feFuncB = this.createFeFunc("feFuncB", a)),
                (i[31].p.k || 0 !== i[31].p.v || i[32].p.k || 1 !== i[32].p.v || i[33].p.k || 1 !== i[33].p.v || i[34].p.k || 0 !== i[34].p.v || i[35].p.k || 1 !== i[35].p.v) && (this.feFuncA = this.createFeFunc("feFuncA", a)),
                (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) && (a.setAttribute("color-interpolation-filters", "sRGB"),
                e.appendChild(a),
                a = createNS("feComponentTransfer")),
                (i[3].p.k || 0 !== i[3].p.v || i[4].p.k || 1 !== i[4].p.v || i[5].p.k || 1 !== i[5].p.v || i[6].p.k || 0 !== i[6].p.v || i[7].p.k || 1 !== i[7].p.v) && (a.setAttribute("color-interpolation-filters", "sRGB"),
                e.appendChild(a),
                this.feFuncRComposed = this.createFeFunc("feFuncR", a),
                this.feFuncGComposed = this.createFeFunc("feFuncG", a),
                this.feFuncBComposed = this.createFeFunc("feFuncB", a))
            }
            function SVGDropShadowEffect(e, t) {
                e.setAttribute("x", "-100%"),
                e.setAttribute("y", "-100%"),
                e.setAttribute("width", "400%"),
                e.setAttribute("height", "400%"),
                this.filterManager = t;
                var i = createNS("feGaussianBlur");
                i.setAttribute("in", "SourceAlpha"),
                i.setAttribute("result", "drop_shadow_1"),
                i.setAttribute("stdDeviation", "0"),
                this.feGaussianBlur = i,
                e.appendChild(i);
                var a = createNS("feOffset");
                a.setAttribute("dx", "25"),
                a.setAttribute("dy", "0"),
                a.setAttribute("in", "drop_shadow_1"),
                a.setAttribute("result", "drop_shadow_2"),
                this.feOffset = a,
                e.appendChild(a);
                var n = createNS("feFlood");
                n.setAttribute("flood-color", "#00ff00"),
                n.setAttribute("flood-opacity", "1"),
                n.setAttribute("result", "drop_shadow_3"),
                this.feFlood = n,
                e.appendChild(n);
                var r = createNS("feComposite");
                r.setAttribute("in", "drop_shadow_3"),
                r.setAttribute("in2", "drop_shadow_2"),
                r.setAttribute("operator", "in"),
                r.setAttribute("result", "drop_shadow_4"),
                e.appendChild(r);
                var s, o = createNS("feMerge");
                e.appendChild(o),
                s = createNS("feMergeNode"),
                o.appendChild(s),
                (s = createNS("feMergeNode")).setAttribute("in", "SourceGraphic"),
                this.feMergeNode = s,
                this.feMerge = o,
                this.originalNodeAdded = !1,
                o.appendChild(s)
            }
            ShapeTransformManager.prototype = {
                addTransformSequence: function(e) {
                    var t, i = e.length, a = "_";
                    for (t = 0; t < i; t += 1)
                        a += e[t].transform.key + "_";
                    var n = this.sequences[a];
                    return n || (n = {
                        transforms: [].concat(e),
                        finalTransform: new Matrix,
                        _mdf: !1
                    },
                    this.sequences[a] = n,
                    this.sequenceList.push(n)),
                    n
                },
                processSequence: function(e, t) {
                    for (var i, a = 0, n = e.transforms.length, r = t; a < n && !t; ) {
                        if (e.transforms[a].transform.mProps._mdf) {
                            r = !0;
                            break
                        }
                        a += 1
                    }
                    if (r)
                        for (e.finalTransform.reset(),
                        a = n - 1; a >= 0; a -= 1)
                            i = e.transforms[a].transform.mProps.v.props,
                            e.finalTransform.transform(i[0], i[1], i[2], i[3], i[4], i[5], i[6], i[7], i[8], i[9], i[10], i[11], i[12], i[13], i[14], i[15]);
                    e._mdf = r
                },
                processSequences: function(e) {
                    var t, i = this.sequenceList.length;
                    for (t = 0; t < i; t += 1)
                        this.processSequence(this.sequenceList[t], e)
                },
                getNewKey: function() {
                    return "_" + this.transform_key_count++
                }
            },
            CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated,
            BaseElement.prototype = {
                checkMasks: function() {
                    if (!this.data.hasMask)
                        return !1;
                    for (var e = 0, t = this.data.masksProperties.length; e < t; ) {
                        if ("n" !== this.data.masksProperties[e].mode && !1 !== this.data.masksProperties[e].cl)
                            return !0;
                        e += 1
                    }
                    return !1
                },
                initExpressions: function() {
                    this.layerInterface = LayerExpressionInterface(this),
                    this.data.hasMask && this.maskManager && this.layerInterface.registerMaskInterface(this.maskManager);
                    var e = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);
                    this.layerInterface.registerEffectsInterface(e),
                    0 === this.data.ty || this.data.xt ? this.compInterface = CompExpressionInterface(this) : 4 === this.data.ty ? (this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface),
                    this.layerInterface.content = this.layerInterface.shapeInterface) : 5 === this.data.ty && (this.layerInterface.textInterface = TextExpressionInterface(this),
                    this.layerInterface.text = this.layerInterface.textInterface)
                },
                setBlendMode: function() {
                    var e = getBlendMode(this.data.bm);
                    (this.baseElement || this.layerElement).style["mix-blend-mode"] = e
                },
                initBaseData: function(e, t, i) {
                    this.globalData = t,
                    this.comp = i,
                    this.data = e,
                    this.layerId = createElementID(),
                    this.data.sr || (this.data.sr = 1),
                    this.effectsManager = new EffectsManager(this.data,this,this.dynamicProperties)
                },
                getType: function() {
                    return this.type
                },
                sourceRectAtTime: function() {}
            },
            NullElement.prototype.prepareFrame = function(e) {
                this.prepareProperties(e, !0)
            }
            ,
            NullElement.prototype.renderFrame = function() {}
            ,
            NullElement.prototype.getBaseElement = function() {
                return null
            }
            ,
            NullElement.prototype.destroy = function() {}
            ,
            NullElement.prototype.sourceRectAtTime = function() {}
            ,
            NullElement.prototype.hide = function() {}
            ,
            extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement),
            SVGBaseElement.prototype = {
                initRendererElement: function() {
                    this.layerElement = createNS("g")
                },
                createContainerElements: function() {
                    this.matteElement = createNS("g"),
                    this.transformedElement = this.layerElement,
                    this.maskedElement = this.layerElement,
                    this._sizeChanged = !1;
                    var e, t, i, a = null;
                    if (this.data.td) {
                        if (3 == this.data.td || 1 == this.data.td) {
                            var n = createNS("mask");
                            n.setAttribute("id", this.layerId),
                            n.setAttribute("mask-type", 3 == this.data.td ? "luminance" : "alpha"),
                            n.appendChild(this.layerElement),
                            a = n,
                            this.globalData.defs.appendChild(n),
                            featureSupport.maskType || 1 != this.data.td || (n.setAttribute("mask-type", "luminance"),
                            e = createElementID(),
                            t = filtersFactory.createFilter(e),
                            this.globalData.defs.appendChild(t),
                            t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),
                            (i = createNS("g")).appendChild(this.layerElement),
                            a = i,
                            n.appendChild(i),
                            i.setAttribute("filter", "url(" + locationHref + "#" + e + ")"))
                        } else if (2 == this.data.td) {
                            var r = createNS("mask");
                            r.setAttribute("id", this.layerId),
                            r.setAttribute("mask-type", "alpha");
                            var s = createNS("g");
                            r.appendChild(s),
                            e = createElementID(),
                            t = filtersFactory.createFilter(e);
                            var o = createNS("feComponentTransfer");
                            o.setAttribute("in", "SourceGraphic"),
                            t.appendChild(o);
                            var l = createNS("feFuncA");
                            l.setAttribute("type", "table"),
                            l.setAttribute("tableValues", "1.0 0.0"),
                            o.appendChild(l),
                            this.globalData.defs.appendChild(t);
                            var c = createNS("rect");
                            c.setAttribute("width", this.comp.data.w),
                            c.setAttribute("height", this.comp.data.h),
                            c.setAttribute("x", "0"),
                            c.setAttribute("y", "0"),
                            c.setAttribute("fill", "#ffffff"),
                            c.setAttribute("opacity", "0"),
                            s.setAttribute("filter", "url(" + locationHref + "#" + e + ")"),
                            s.appendChild(c),
                            s.appendChild(this.layerElement),
                            a = s,
                            featureSupport.maskType || (r.setAttribute("mask-type", "luminance"),
                            t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),
                            i = createNS("g"),
                            s.appendChild(c),
                            i.appendChild(this.layerElement),
                            a = i,
                            s.appendChild(i)),
                            this.globalData.defs.appendChild(r)
                        }
                    } else
                        this.data.tt ? (this.matteElement.appendChild(this.layerElement),
                        a = this.matteElement,
                        this.baseElement = this.matteElement) : this.baseElement = this.layerElement;
                    if (this.data.ln && this.layerElement.setAttribute("id", this.data.ln),
                    this.data.cl && this.layerElement.setAttribute("class", this.data.cl),
                    0 === this.data.ty && !this.data.hd) {
                        var h = createNS("clipPath")
                          , d = createNS("path");
                        d.setAttribute("d", "M0,0 L" + this.data.w + ",0 L" + this.data.w + "," + this.data.h + " L0," + this.data.h + "z");
                        var p = createElementID();
                        if (h.setAttribute("id", p),
                        h.appendChild(d),
                        this.globalData.defs.appendChild(h),
                        this.checkMasks()) {
                            var u = createNS("g");
                            u.setAttribute("clip-path", "url(" + locationHref + "#" + p + ")"),
                            u.appendChild(this.layerElement),
                            this.transformedElement = u,
                            a ? a.appendChild(this.transformedElement) : this.baseElement = this.transformedElement
                        } else
                            this.layerElement.setAttribute("clip-path", "url(" + locationHref + "#" + p + ")")
                    }
                    0 !== this.data.bm && this.setBlendMode()
                },
                renderElement: function() {
                    this.finalTransform._matMdf && this.transformedElement.setAttribute("transform", this.finalTransform.mat.to2dCSS()),
                    this.finalTransform._opMdf && this.transformedElement.setAttribute("opacity", this.finalTransform.mProp.o.v)
                },
                destroyBaseElement: function() {
                    this.layerElement = null,
                    this.matteElement = null,
                    this.maskManager.destroy()
                },
                getBaseElement: function() {
                    return this.data.hd ? null : this.baseElement
                },
                createRenderableComponents: function() {
                    this.maskManager = new MaskElement(this.data,this,this.globalData),
                    this.renderableEffectsManager = new SVGEffects(this)
                },
                setMatte: function(e) {
                    this.matteElement && this.matteElement.setAttribute("mask", "url(" + locationHref + "#" + e + ")")
                }
            },
            IShapeElement.prototype = {
                addShapeToModifiers: function(e) {
                    var t, i = this.shapeModifiers.length;
                    for (t = 0; t < i; t += 1)
                        this.shapeModifiers[t].addShape(e)
                },
                isShapeInAnimatedModifiers: function(e) {
                    for (var t = this.shapeModifiers.length; 0 < t; )
                        if (this.shapeModifiers[0].isAnimatedWithShape(e))
                            return !0;
                    return !1
                },
                renderModifiers: function() {
                    if (this.shapeModifiers.length) {
                        var e, t = this.shapes.length;
                        for (e = 0; e < t; e += 1)
                            this.shapes[e].sh.reset();
                        for (e = (t = this.shapeModifiers.length) - 1; e >= 0; e -= 1)
                            this.shapeModifiers[e].processShapes(this._isFirstFrame)
                    }
                },
                lcEnum: {
                    1: "butt",
                    2: "round",
                    3: "square"
                },
                ljEnum: {
                    1: "miter",
                    2: "round",
                    3: "bevel"
                },
                searchProcessedElement: function(e) {
                    for (var t = this.processedElements, i = 0, a = t.length; i < a; ) {
                        if (t[i].elem === e)
                            return t[i].pos;
                        i += 1
                    }
                    return 0
                },
                addProcessedElement: function(e, t) {
                    for (var i = this.processedElements, a = i.length; a; )
                        if (i[a -= 1].elem === e)
                            return void (i[a].pos = t);
                    i.push(new ProcessedElement(e,t))
                },
                prepareFrame: function(e) {
                    this.prepareRenderableFrame(e),
                    this.prepareProperties(e, this.isInRange)
                }
            },
            ITextElement.prototype.initElement = function(e, t, i) {
                this.lettersChangedFlag = !0,
                this.initFrame(),
                this.initBaseData(e, t, i),
                this.textProperty = new TextProperty(this,e.t,this.dynamicProperties),
                this.textAnimator = new TextAnimatorProperty(e.t,this.renderType,this),
                this.initTransform(e, t, i),
                this.initHierarchy(),
                this.initRenderable(),
                this.initRendererElement(),
                this.createContainerElements(),
                this.createRenderableComponents(),
                this.createContent(),
                this.hide(),
                this.textAnimator.searchProperties(this.dynamicProperties)
            }
            ,
            ITextElement.prototype.prepareFrame = function(e) {
                this._mdf = !1,
                this.prepareRenderableFrame(e),
                this.prepareProperties(e, this.isInRange),
                (this.textProperty._mdf || this.textProperty._isFirstFrame) && (this.buildNewText(),
                this.textProperty._isFirstFrame = !1,
                this.textProperty._mdf = !1)
            }
            ,
            ITextElement.prototype.createPathShape = function(e, t) {
                var i, a, n = t.length, r = "";
                for (i = 0; i < n; i += 1)
                    a = t[i].ks.k,
                    r += buildShapeString(a, a.i.length, !0, e);
                return r
            }
            ,
            ITextElement.prototype.updateDocumentData = function(e, t) {
                this.textProperty.updateDocumentData(e, t)
            }
            ,
            ITextElement.prototype.canResizeFont = function(e) {
                this.textProperty.canResizeFont(e)
            }
            ,
            ITextElement.prototype.setMinimumFontSize = function(e) {
                this.textProperty.setMinimumFontSize(e)
            }
            ,
            ITextElement.prototype.applyTextPropertiesToMatrix = function(e, t, i, a, n) {
                switch (e.ps && t.translate(e.ps[0], e.ps[1] + e.ascent, 0),
                t.translate(0, -e.ls, 0),
                e.j) {
                case 1:
                    t.translate(e.justifyOffset + (e.boxWidth - e.lineWidths[i]), 0, 0);
                    break;
                case 2:
                    t.translate(e.justifyOffset + (e.boxWidth - e.lineWidths[i]) / 2, 0, 0)
                }
                t.translate(a, n, 0)
            }
            ,
            ITextElement.prototype.buildColor = function(e) {
                return "rgb(" + Math.round(255 * e[0]) + "," + Math.round(255 * e[1]) + "," + Math.round(255 * e[2]) + ")"
            }
            ,
            ITextElement.prototype.emptyProp = new LetterProps,
            ITextElement.prototype.destroy = function() {}
            ,
            extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement),
            ICompElement.prototype.initElement = function(e, t, i) {
                this.initFrame(),
                this.initBaseData(e, t, i),
                this.initTransform(e, t, i),
                this.initRenderable(),
                this.initHierarchy(),
                this.initRendererElement(),
                this.createContainerElements(),
                this.createRenderableComponents(),
                !this.data.xt && t.progressiveLoad || this.buildAllItems(),
                this.hide()
            }
            ,
            ICompElement.prototype.prepareFrame = function(e) {
                if (this._mdf = !1,
                this.prepareRenderableFrame(e),
                this.prepareProperties(e, this.isInRange),
                this.isInRange || this.data.xt) {
                    if (this.tm._placeholder)
                        this.renderedFrame = e / this.data.sr;
                    else {
                        var t = this.tm.v;
                        t === this.data.op && (t = this.data.op - 1),
                        this.renderedFrame = t
                    }
                    var i, a = this.elements.length;
                    for (this.completeLayers || this.checkLayers(this.renderedFrame),
                    i = a - 1; i >= 0; i -= 1)
                        (this.completeLayers || this.elements[i]) && (this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st),
                        this.elements[i]._mdf && (this._mdf = !0))
                }
            }
            ,
            ICompElement.prototype.renderInnerContent = function() {
                var e, t = this.layers.length;
                for (e = 0; e < t; e += 1)
                    (this.completeLayers || this.elements[e]) && this.elements[e].renderFrame()
            }
            ,
            ICompElement.prototype.setElements = function(e) {
                this.elements = e
            }
            ,
            ICompElement.prototype.getElements = function() {
                return this.elements
            }
            ,
            ICompElement.prototype.destroyElements = function() {
                var e, t = this.layers.length;
                for (e = 0; e < t; e += 1)
                    this.elements[e] && this.elements[e].destroy()
            }
            ,
            ICompElement.prototype.destroy = function() {
                this.destroyElements(),
                this.destroyBaseElement()
            }
            ,
            extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement),
            IImageElement.prototype.createContent = function() {
                var e = this.globalData.getAssetsPath(this.assetData);
                this.innerElem = createNS("image"),
                this.innerElem.setAttribute("width", this.assetData.w + "px"),
                this.innerElem.setAttribute("height", this.assetData.h + "px"),
                this.innerElem.setAttribute("preserveAspectRatio", this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio),
                this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink", "href", e),
                this.layerElement.appendChild(this.innerElem)
            }
            ,
            IImageElement.prototype.sourceRectAtTime = function() {
                return this.sourceRect
            }
            ,
            extendPrototype([IImageElement], ISolidElement),
            ISolidElement.prototype.createContent = function() {
                var e = createNS("rect");
                e.setAttribute("width", this.data.sw),
                e.setAttribute("height", this.data.sh),
                e.setAttribute("fill", this.data.sc),
                this.layerElement.appendChild(e)
            }
            ,
            extendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement),
            extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextElement),
            SVGTextElement.prototype.createContent = function() {
                this.data.singleShape && !this.globalData.fontManager.chars && (this.textContainer = createNS("text"))
            }
            ,
            SVGTextElement.prototype.buildTextContents = function(e) {
                for (var t = 0, i = e.length, a = [], n = ""; t < i; )
                    e[t] === String.fromCharCode(13) || e[t] === String.fromCharCode(3) ? (a.push(n),
                    n = "") : n += e[t],
                    t += 1;
                return a.push(n),
                a
            }
            ,
            SVGTextElement.prototype.buildNewText = function() {
                var e, t, i = this.textProperty.currentData;
                this.renderedLetters = createSizedArray(i ? i.l.length : 0),
                i.fc ? this.layerElement.setAttribute("fill", this.buildColor(i.fc)) : this.layerElement.setAttribute("fill", "rgba(0,0,0,0)"),
                i.sc && (this.layerElement.setAttribute("stroke", this.buildColor(i.sc)),
                this.layerElement.setAttribute("stroke-width", i.sw)),
                this.layerElement.setAttribute("font-size", i.finalSize);
                var a = this.globalData.fontManager.getFontByName(i.f);
                if (a.fClass)
                    this.layerElement.setAttribute("class", a.fClass);
                else {
                    this.layerElement.setAttribute("font-family", a.fFamily);
                    var n = i.fWeight
                      , r = i.fStyle;
                    this.layerElement.setAttribute("font-style", r),
                    this.layerElement.setAttribute("font-weight", n)
                }
                this.layerElement.setAttribute("arial-label", i.t);
                var s, o = i.l || [], l = !!this.globalData.fontManager.chars;
                t = o.length;
                var c, h = this.mHelper, d = "", p = this.data.singleShape, u = 0, m = 0, g = !0, f = i.tr / 1e3 * i.finalSize;
                if (!p || l || i.sz) {
                    var v, y, A = this.textSpans.length;
                    for (e = 0; e < t; e += 1)
                        l && p && 0 !== e || (s = A > e ? this.textSpans[e] : createNS(l ? "path" : "text"),
                        A <= e && (s.setAttribute("stroke-linecap", "butt"),
                        s.setAttribute("stroke-linejoin", "round"),
                        s.setAttribute("stroke-miterlimit", "4"),
                        this.textSpans[e] = s,
                        this.layerElement.appendChild(s)),
                        s.style.display = "inherit"),
                        h.reset(),
                        h.scale(i.finalSize / 100, i.finalSize / 100),
                        p && (o[e].n && (u = -f,
                        m += i.yOffset,
                        m += g ? 1 : 0,
                        g = !1),
                        this.applyTextPropertiesToMatrix(i, h, o[e].line, u, m),
                        u += o[e].l || 0,
                        u += f),
                        l ? (c = (v = (y = this.globalData.fontManager.getCharData(i.finalText[e], a.fStyle, this.globalData.fontManager.getFontByName(i.f).fFamily)) && y.data || {}).shapes ? v.shapes[0].it : [],
                        p ? d += this.createPathShape(h, c) : s.setAttribute("d", this.createPathShape(h, c))) : (p && s.setAttribute("transform", "translate(" + h.props[12] + "," + h.props[13] + ")"),
                        s.textContent = o[e].val,
                        s.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"));
                    p && s && s.setAttribute("d", d)
                } else {
                    var _ = this.textContainer
                      , b = "start";
                    switch (i.j) {
                    case 1:
                        b = "end";
                        break;
                    case 2:
                        b = "middle"
                    }
                    _.setAttribute("text-anchor", b),
                    _.setAttribute("letter-spacing", f);
                    var C = this.buildTextContents(i.finalText);
                    for (t = C.length,
                    m = i.ps ? i.ps[1] + i.ascent : 0,
                    e = 0; e < t; e += 1)
                        (s = this.textSpans[e] || createNS("tspan")).textContent = C[e],
                        s.setAttribute("x", 0),
                        s.setAttribute("y", m),
                        s.style.display = "inherit",
                        _.appendChild(s),
                        this.textSpans[e] = s,
                        m += i.finalLineHeight;
                    this.layerElement.appendChild(_)
                }
                for (; e < this.textSpans.length; )
                    this.textSpans[e].style.display = "none",
                    e += 1;
                this._sizeChanged = !0
            }
            ,
            SVGTextElement.prototype.sourceRectAtTime = function(e) {
                if (this.prepareFrame(this.comp.renderedFrame - this.data.st),
                this.renderInnerContent(),
                this._sizeChanged) {
                    this._sizeChanged = !1;
                    var t = this.layerElement.getBBox();
                    this.bbox = {
                        top: t.y,
                        left: t.x,
                        width: t.width,
                        height: t.height
                    }
                }
                return this.bbox
            }
            ,
            SVGTextElement.prototype.renderInnerContent = function() {
                if (!this.data.singleShape && (this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag),
                this.lettersChangedFlag || this.textAnimator.lettersChangedFlag)) {
                    var e, t;
                    this._sizeChanged = !0;
                    var i, a, n = this.textAnimator.renderedLetters, r = this.textProperty.currentData.l;
                    for (t = r.length,
                    e = 0; e < t; e += 1)
                        r[e].n || (i = n[e],
                        a = this.textSpans[e],
                        i._mdf.m && a.setAttribute("transform", i.m),
                        i._mdf.o && a.setAttribute("opacity", i.o),
                        i._mdf.sw && a.setAttribute("stroke-width", i.sw),
                        i._mdf.sc && a.setAttribute("stroke", i.sc),
                        i._mdf.fc && a.setAttribute("fill", i.fc))
                }
            }
            ,
            extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement),
            SVGShapeElement.prototype.initSecondaryElement = function() {}
            ,
            SVGShapeElement.prototype.identityMatrix = new Matrix,
            SVGShapeElement.prototype.buildExpressionInterface = function() {}
            ,
            SVGShapeElement.prototype.createContent = function() {
                this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], !0),
                this.filterUniqueShapes()
            }
            ,
            SVGShapeElement.prototype.filterUniqueShapes = function() {
                var e, t, i, a, n = this.shapes.length, r = this.stylesList.length, s = [], o = !1;
                for (i = 0; i < r; i += 1) {
                    for (a = this.stylesList[i],
                    o = !1,
                    s.length = 0,
                    e = 0; e < n; e += 1)
                        -1 !== (t = this.shapes[e]).styles.indexOf(a) && (s.push(t),
                        o = t._isAnimated || o);
                    s.length > 1 && o && this.setShapesAsAnimated(s)
                }
            }
            ,
            SVGShapeElement.prototype.setShapesAsAnimated = function(e) {
                var t, i = e.length;
                for (t = 0; t < i; t += 1)
                    e[t].setAsAnimated()
            }
            ,
            SVGShapeElement.prototype.createStyleElement = function(e, t) {
                var i, a = new SVGStyleData(e,t), n = a.pElem;
                if ("st" === e.ty)
                    i = new SVGStrokeStyleData(this,e,a);
                else if ("fl" === e.ty)
                    i = new SVGFillStyleData(this,e,a);
                else if ("gf" === e.ty || "gs" === e.ty) {
                    i = new ("gf" === e.ty ? SVGGradientFillStyleData : SVGGradientStrokeStyleData)(this,e,a),
                    this.globalData.defs.appendChild(i.gf),
                    i.maskId && (this.globalData.defs.appendChild(i.ms),
                    this.globalData.defs.appendChild(i.of),
                    n.setAttribute("mask", "url(" + locationHref + "#" + i.maskId + ")"))
                }
                return "st" !== e.ty && "gs" !== e.ty || (n.setAttribute("stroke-linecap", this.lcEnum[e.lc] || "round"),
                n.setAttribute("stroke-linejoin", this.ljEnum[e.lj] || "round"),
                n.setAttribute("fill-opacity", "0"),
                1 === e.lj && n.setAttribute("stroke-miterlimit", e.ml)),
                2 === e.r && n.setAttribute("fill-rule", "evenodd"),
                e.ln && n.setAttribute("id", e.ln),
                e.cl && n.setAttribute("class", e.cl),
                e.bm && (n.style["mix-blend-mode"] = getBlendMode(e.bm)),
                this.stylesList.push(a),
                this.addToAnimatedContents(e, i),
                i
            }
            ,
            SVGShapeElement.prototype.createGroupElement = function(e) {
                var t = new ShapeGroupData;
                return e.ln && t.gr.setAttribute("id", e.ln),
                e.cl && t.gr.setAttribute("class", e.cl),
                e.bm && (t.gr.style["mix-blend-mode"] = getBlendMode(e.bm)),
                t
            }
            ,
            SVGShapeElement.prototype.createTransformElement = function(e, t) {
                var i = TransformPropertyFactory.getTransformProperty(this, e, this)
                  , a = new SVGTransformData(i,i.o,t);
                return this.addToAnimatedContents(e, a),
                a
            }
            ,
            SVGShapeElement.prototype.createShapeElement = function(e, t, i) {
                var a = 4;
                "rc" === e.ty ? a = 5 : "el" === e.ty ? a = 6 : "sr" === e.ty && (a = 7);
                var n = new SVGShapeData(t,i,ShapePropertyFactory.getShapeProp(this, e, a, this));
                return this.shapes.push(n),
                this.addShapeToModifiers(n),
                this.addToAnimatedContents(e, n),
                n
            }
            ,
            SVGShapeElement.prototype.addToAnimatedContents = function(e, t) {
                for (var i = 0, a = this.animatedContents.length; i < a; ) {
                    if (this.animatedContents[i].element === t)
                        return;
                    i += 1
                }
                this.animatedContents.push({
                    fn: SVGElementsRenderer.createRenderFunction(e),
                    element: t,
                    data: e
                })
            }
            ,
            SVGShapeElement.prototype.setElementStyles = function(e) {
                var t, i = e.styles, a = this.stylesList.length;
                for (t = 0; t < a; t += 1)
                    this.stylesList[t].closed || i.push(this.stylesList[t])
            }
            ,
            SVGShapeElement.prototype.reloadShapes = function() {
                this._isFirstFrame = !0;
                var e, t = this.itemsData.length;
                for (e = 0; e < t; e += 1)
                    this.prevViewData[e] = this.itemsData[e];
                for (this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], !0),
                this.filterUniqueShapes(),
                t = this.dynamicProperties.length,
                e = 0; e < t; e += 1)
                    this.dynamicProperties[e].getValue();
                this.renderModifiers()
            }
            ,
            SVGShapeElement.prototype.searchShapes = function(e, t, i, a, n, r, s) {
                var o, l, c, h, d, p, u = [].concat(r), m = e.length - 1, g = [], f = [];
                for (o = m; o >= 0; o -= 1) {
                    if ((p = this.searchProcessedElement(e[o])) ? t[o] = i[p - 1] : e[o]._render = s,
                    "fl" == e[o].ty || "st" == e[o].ty || "gf" == e[o].ty || "gs" == e[o].ty)
                        p ? t[o].style.closed = !1 : t[o] = this.createStyleElement(e[o], n),
                        e[o]._render && a.appendChild(t[o].style.pElem),
                        g.push(t[o].style);
                    else if ("gr" == e[o].ty) {
                        if (p)
                            for (c = t[o].it.length,
                            l = 0; l < c; l += 1)
                                t[o].prevViewData[l] = t[o].it[l];
                        else
                            t[o] = this.createGroupElement(e[o]);
                        this.searchShapes(e[o].it, t[o].it, t[o].prevViewData, t[o].gr, n + 1, u, s),
                        e[o]._render && a.appendChild(t[o].gr)
                    } else
                        "tr" == e[o].ty ? (p || (t[o] = this.createTransformElement(e[o], a)),
                        h = t[o].transform,
                        u.push(h)) : "sh" == e[o].ty || "rc" == e[o].ty || "el" == e[o].ty || "sr" == e[o].ty ? (p || (t[o] = this.createShapeElement(e[o], u, n)),
                        this.setElementStyles(t[o])) : "tm" == e[o].ty || "rd" == e[o].ty || "ms" == e[o].ty ? (p ? (d = t[o]).closed = !1 : ((d = ShapeModifiers.getModifier(e[o].ty)).init(this, e[o]),
                        t[o] = d,
                        this.shapeModifiers.push(d)),
                        f.push(d)) : "rp" == e[o].ty && (p ? (d = t[o]).closed = !0 : (d = ShapeModifiers.getModifier(e[o].ty),
                        t[o] = d,
                        d.init(this, e, o, t),
                        this.shapeModifiers.push(d),
                        s = !1),
                        f.push(d));
                    this.addProcessedElement(e[o], o + 1)
                }
                for (m = g.length,
                o = 0; o < m; o += 1)
                    g[o].closed = !0;
                for (m = f.length,
                o = 0; o < m; o += 1)
                    f[o].closed = !0
            }
            ,
            SVGShapeElement.prototype.renderInnerContent = function() {
                this.renderModifiers();
                var e, t = this.stylesList.length;
                for (e = 0; e < t; e += 1)
                    this.stylesList[e].reset();
                for (this.renderShape(),
                e = 0; e < t; e += 1)
                    (this.stylesList[e]._mdf || this._isFirstFrame) && (this.stylesList[e].msElem && (this.stylesList[e].msElem.setAttribute("d", this.stylesList[e].d),
                    this.stylesList[e].d = "M0 0" + this.stylesList[e].d),
                    this.stylesList[e].pElem.setAttribute("d", this.stylesList[e].d || "M0 0"))
            }
            ,
            SVGShapeElement.prototype.renderShape = function() {
                var e, t, i = this.animatedContents.length;
                for (e = 0; e < i; e += 1)
                    t = this.animatedContents[e],
                    (this._isFirstFrame || t.element._isAnimated) && !0 !== t.data && t.fn(t.data, t.element, this._isFirstFrame)
            }
            ,
            SVGShapeElement.prototype.destroy = function() {
                this.destroyBaseElement(),
                this.shapesData = null,
                this.itemsData = null
            }
            ,
            SVGTintFilter.prototype.renderFrame = function(e) {
                if (e || this.filterManager._mdf) {
                    var t = this.filterManager.effectElements[0].p.v
                      , i = this.filterManager.effectElements[1].p.v
                      , a = this.filterManager.effectElements[2].p.v / 100;
                    this.matrixFilter.setAttribute("values", i[0] - t[0] + " 0 0 0 " + t[0] + " " + (i[1] - t[1]) + " 0 0 0 " + t[1] + " " + (i[2] - t[2]) + " 0 0 0 " + t[2] + " 0 0 0 " + a + " 0")
                }
            }
            ,
            SVGFillFilter.prototype.renderFrame = function(e) {
                if (e || this.filterManager._mdf) {
                    var t = this.filterManager.effectElements[2].p.v
                      , i = this.filterManager.effectElements[6].p.v;
                    this.matrixFilter.setAttribute("values", "0 0 0 0 " + t[0] + " 0 0 0 0 " + t[1] + " 0 0 0 0 " + t[2] + " 0 0 0 " + i + " 0")
                }
            }
            ,
            SVGGaussianBlurEffect.prototype.renderFrame = function(e) {
                if (e || this.filterManager._mdf) {
                    var t = .3 * this.filterManager.effectElements[0].p.v
                      , i = this.filterManager.effectElements[1].p.v
                      , a = 3 == i ? 0 : t
                      , n = 2 == i ? 0 : t;
                    this.feGaussianBlur.setAttribute("stdDeviation", a + " " + n);
                    var r = 1 == this.filterManager.effectElements[2].p.v ? "wrap" : "duplicate";
                    this.feGaussianBlur.setAttribute("edgeMode", r)
                }
            }
            ,
            SVGStrokeEffect.prototype.initialize = function() {
                var e, t, i, a, n = this.elem.layerElement.children || this.elem.layerElement.childNodes;
                for (1 === this.filterManager.effectElements[1].p.v ? (a = this.elem.maskManager.masksProperties.length,
                i = 0) : a = (i = this.filterManager.effectElements[0].p.v - 1) + 1,
                (t = createNS("g")).setAttribute("fill", "none"),
                t.setAttribute("stroke-linecap", "round"),
                t.setAttribute("stroke-dashoffset", 1); i < a; i += 1)
                    e = createNS("path"),
                    t.appendChild(e),
                    this.paths.push({
                        p: e,
                        m: i
                    });
                if (3 === this.filterManager.effectElements[10].p.v) {
                    var r = createNS("mask")
                      , s = createElementID();
                    r.setAttribute("id", s),
                    r.setAttribute("mask-type", "alpha"),
                    r.appendChild(t),
                    this.elem.globalData.defs.appendChild(r);
                    var o = createNS("g");
                    for (o.setAttribute("mask", "url(" + locationHref + "#" + s + ")"); n[0]; )
                        o.appendChild(n[0]);
                    this.elem.layerElement.appendChild(o),
                    this.masker = r,
                    t.setAttribute("stroke", "#fff")
                } else if (1 === this.filterManager.effectElements[10].p.v || 2 === this.filterManager.effectElements[10].p.v) {
                    if (2 === this.filterManager.effectElements[10].p.v)
                        for (n = this.elem.layerElement.children || this.elem.layerElement.childNodes; n.length; )
                            this.elem.layerElement.removeChild(n[0]);
                    this.elem.layerElement.appendChild(t),
                    this.elem.layerElement.removeAttribute("mask"),
                    t.setAttribute("stroke", "#fff")
                }
                this.initialized = !0,
                this.pathMasker = t
            }
            ,
            SVGStrokeEffect.prototype.renderFrame = function(e) {
                this.initialized || this.initialize();
                var t, i, a, n = this.paths.length;
                for (t = 0; t < n; t += 1)
                    if (-1 !== this.paths[t].m && (i = this.elem.maskManager.viewData[this.paths[t].m],
                    a = this.paths[t].p,
                    (e || this.filterManager._mdf || i.prop._mdf) && a.setAttribute("d", i.lastPath),
                    e || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || i.prop._mdf)) {
                        var r;
                        if (0 !== this.filterManager.effectElements[7].p.v || 100 !== this.filterManager.effectElements[8].p.v) {
                            var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) / 100
                              , o = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) / 100
                              , l = a.getTotalLength();
                            r = "0 0 0 " + l * s + " ";
                            var c, h = l * (o - s), d = 1 + 2 * this.filterManager.effectElements[4].p.v * this.filterManager.effectElements[9].p.v / 100, p = Math.floor(h / d);
                            for (c = 0; c < p; c += 1)
                                r += "1 " + 2 * this.filterManager.effectElements[4].p.v * this.filterManager.effectElements[9].p.v / 100 + " ";
                            r += "0 " + 10 * l + " 0 0"
                        } else
                            r = "1 " + 2 * this.filterManager.effectElements[4].p.v * this.filterManager.effectElements[9].p.v / 100;
                        a.setAttribute("stroke-dasharray", r)
                    }
                if ((e || this.filterManager.effectElements[4].p._mdf) && this.pathMasker.setAttribute("stroke-width", 2 * this.filterManager.effectElements[4].p.v),
                (e || this.filterManager.effectElements[6].p._mdf) && this.pathMasker.setAttribute("opacity", this.filterManager.effectElements[6].p.v),
                (1 === this.filterManager.effectElements[10].p.v || 2 === this.filterManager.effectElements[10].p.v) && (e || this.filterManager.effectElements[3].p._mdf)) {
                    var u = this.filterManager.effectElements[3].p.v;
                    this.pathMasker.setAttribute("stroke", "rgb(" + bm_floor(255 * u[0]) + "," + bm_floor(255 * u[1]) + "," + bm_floor(255 * u[2]) + ")")
                }
            }
            ,
            SVGTritoneFilter.prototype.renderFrame = function(e) {
                if (e || this.filterManager._mdf) {
                    var t = this.filterManager.effectElements[0].p.v
                      , i = this.filterManager.effectElements[1].p.v
                      , a = this.filterManager.effectElements[2].p.v
                      , n = a[0] + " " + i[0] + " " + t[0]
                      , r = a[1] + " " + i[1] + " " + t[1]
                      , s = a[2] + " " + i[2] + " " + t[2];
                    this.feFuncR.setAttribute("tableValues", n),
                    this.feFuncG.setAttribute("tableValues", r),
                    this.feFuncB.setAttribute("tableValues", s)
                }
            }
            ,
            SVGProLevelsFilter.prototype.createFeFunc = function(e, t) {
                var i = createNS(e);
                return i.setAttribute("type", "table"),
                t.appendChild(i),
                i
            }
            ,
            SVGProLevelsFilter.prototype.getTableValue = function(e, t, i, a, n) {
                for (var r, s, o = 0, l = Math.min(e, t), c = Math.max(e, t), h = Array.call(null, {
                    length: 256
                }), d = 0, p = n - a, u = t - e; o <= 256; )
                    s = (r = o / 256) <= l ? u < 0 ? n : a : r >= c ? u < 0 ? a : n : a + p * Math.pow((r - e) / u, 1 / i),
                    h[d++] = s,
                    o += 256 / 255;
                return h.join(" ")
            }
            ,
            SVGProLevelsFilter.prototype.renderFrame = function(e) {
                if (e || this.filterManager._mdf) {
                    var t, i = this.filterManager.effectElements;
                    this.feFuncRComposed && (e || i[3].p._mdf || i[4].p._mdf || i[5].p._mdf || i[6].p._mdf || i[7].p._mdf) && (t = this.getTableValue(i[3].p.v, i[4].p.v, i[5].p.v, i[6].p.v, i[7].p.v),
                    this.feFuncRComposed.setAttribute("tableValues", t),
                    this.feFuncGComposed.setAttribute("tableValues", t),
                    this.feFuncBComposed.setAttribute("tableValues", t)),
                    this.feFuncR && (e || i[10].p._mdf || i[11].p._mdf || i[12].p._mdf || i[13].p._mdf || i[14].p._mdf) && (t = this.getTableValue(i[10].p.v, i[11].p.v, i[12].p.v, i[13].p.v, i[14].p.v),
                    this.feFuncR.setAttribute("tableValues", t)),
                    this.feFuncG && (e || i[17].p._mdf || i[18].p._mdf || i[19].p._mdf || i[20].p._mdf || i[21].p._mdf) && (t = this.getTableValue(i[17].p.v, i[18].p.v, i[19].p.v, i[20].p.v, i[21].p.v),
                    this.feFuncG.setAttribute("tableValues", t)),
                    this.feFuncB && (e || i[24].p._mdf || i[25].p._mdf || i[26].p._mdf || i[27].p._mdf || i[28].p._mdf) && (t = this.getTableValue(i[24].p.v, i[25].p.v, i[26].p.v, i[27].p.v, i[28].p.v),
                    this.feFuncB.setAttribute("tableValues", t)),
                    this.feFuncA && (e || i[31].p._mdf || i[32].p._mdf || i[33].p._mdf || i[34].p._mdf || i[35].p._mdf) && (t = this.getTableValue(i[31].p.v, i[32].p.v, i[33].p.v, i[34].p.v, i[35].p.v),
                    this.feFuncA.setAttribute("tableValues", t))
                }
            }
            ,
            SVGDropShadowEffect.prototype.renderFrame = function(e) {
                if (e || this.filterManager._mdf) {
                    if ((e || this.filterManager.effectElements[4].p._mdf) && this.feGaussianBlur.setAttribute("stdDeviation", this.filterManager.effectElements[4].p.v / 4),
                    e || this.filterManager.effectElements[0].p._mdf) {
                        var t = this.filterManager.effectElements[0].p.v;
                        this.feFlood.setAttribute("flood-color", rgbToHex(Math.round(255 * t[0]), Math.round(255 * t[1]), Math.round(255 * t[2])))
                    }
                    if ((e || this.filterManager.effectElements[1].p._mdf) && this.feFlood.setAttribute("flood-opacity", this.filterManager.effectElements[1].p.v / 255),
                    e || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {
                        var i = this.filterManager.effectElements[3].p.v
                          , a = (this.filterManager.effectElements[2].p.v - 90) * degToRads
                          , n = i * Math.cos(a)
                          , r = i * Math.sin(a);
                        this.feOffset.setAttribute("dx", n),
                        this.feOffset.setAttribute("dy", r)
                    }
                }
            }
            ;
            var _svgMatteSymbols = [];
            function SVGMatte3Effect(e, t, i) {
                this.initialized = !1,
                this.filterManager = t,
                this.filterElem = e,
                this.elem = i,
                i.matteElement = createNS("g"),
                i.matteElement.appendChild(i.layerElement),
                i.matteElement.appendChild(i.transformedElement),
                i.baseElement = i.matteElement
            }
            function SVGEffects(e) {
                var t, i, a = e.data.ef ? e.data.ef.length : 0, n = createElementID(), r = filtersFactory.createFilter(n), s = 0;
                for (this.filters = [],
                t = 0; t < a; t += 1)
                    i = null,
                    20 === e.data.ef[t].ty ? (s += 1,
                    i = new SVGTintFilter(r,e.effectsManager.effectElements[t])) : 21 === e.data.ef[t].ty ? (s += 1,
                    i = new SVGFillFilter(r,e.effectsManager.effectElements[t])) : 22 === e.data.ef[t].ty ? i = new SVGStrokeEffect(e,e.effectsManager.effectElements[t]) : 23 === e.data.ef[t].ty ? (s += 1,
                    i = new SVGTritoneFilter(r,e.effectsManager.effectElements[t])) : 24 === e.data.ef[t].ty ? (s += 1,
                    i = new SVGProLevelsFilter(r,e.effectsManager.effectElements[t])) : 25 === e.data.ef[t].ty ? (s += 1,
                    i = new SVGDropShadowEffect(r,e.effectsManager.effectElements[t])) : 28 === e.data.ef[t].ty ? i = new SVGMatte3Effect(r,e.effectsManager.effectElements[t],e) : 29 === e.data.ef[t].ty && (s += 1,
                    i = new SVGGaussianBlurEffect(r,e.effectsManager.effectElements[t])),
                    i && this.filters.push(i);
                s && (e.globalData.defs.appendChild(r),
                e.layerElement.setAttribute("filter", "url(" + locationHref + "#" + n + ")")),
                this.filters.length && e.addRenderableComponent(this)
            }
            function CVContextData() {
                this.saved = [],
                this.cArrPos = 0,
                this.cTr = new Matrix,
                this.cO = 1;
                var e;
                for (this.savedOp = createTypedArray("float32", 15),
                e = 0; e < 15; e += 1)
                    this.saved[e] = createTypedArray("float32", 16);
                this._length = 15
            }
            function CVBaseElement() {}
            function CVImageElement(e, t, i) {
                this.failed = !1,
                this.assetData = t.getAssetData(e.refId),
                this.img = t.imageLoader.getImage(this.assetData),
                this.initElement(e, t, i)
            }
            function CVCompElement(e, t, i) {
                this.completeLayers = !1,
                this.layers = e.layers,
                this.pendingElements = [],
                this.elements = createSizedArray(this.layers.length),
                this.initElement(e, t, i),
                this.tm = e.tm ? PropertyFactory.getProp(this, e.tm, 0, t.frameRate, this) : {
                    _placeholder: !0
                }
            }
            function CVMaskElement(e, t) {
                this.data = e,
                this.element = t,
                this.masksProperties = this.data.masksProperties || [],
                this.viewData = createSizedArray(this.masksProperties.length);
                var i, a = this.masksProperties.length, n = !1;
                for (i = 0; i < a; i++)
                    "n" !== this.masksProperties[i].mode && (n = !0),
                    this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);
                this.hasMasks = n,
                n && this.element.addRenderableComponent(this)
            }
            function CVShapeElement(e, t, i) {
                this.shapes = [],
                this.shapesData = e.shapes,
                this.stylesList = [],
                this.itemsData = [],
                this.prevViewData = [],
                this.shapeModifiers = [],
                this.processedElements = [],
                this.transformsManager = new ShapeTransformManager,
                this.initElement(e, t, i)
            }
            function CVSolidElement(e, t, i) {
                this.initElement(e, t, i)
            }
            function CVTextElement(e, t, i) {
                this.textSpans = [],
                this.yOffset = 0,
                this.fillColorAnim = !1,
                this.strokeColorAnim = !1,
                this.strokeWidthAnim = !1,
                this.stroke = !1,
                this.fill = !1,
                this.justifyOffset = 0,
                this.currentRender = null,
                this.renderType = "canvas",
                this.values = {
                    fill: "rgba(0,0,0,0)",
                    stroke: "rgba(0,0,0,0)",
                    sWidth: 0,
                    fValue: ""
                },
                this.initElement(e, t, i)
            }
            function CVEffects() {}
            function HBaseElement(e, t, i) {}
            function HSolidElement(e, t, i) {
                this.initElement(e, t, i)
            }
            function HCompElement(e, t, i) {
                this.layers = e.layers,
                this.supports3d = !e.hasMask,
                this.completeLayers = !1,
                this.pendingElements = [],
                this.elements = this.layers ? createSizedArray(this.layers.length) : [],
                this.initElement(e, t, i),
                this.tm = e.tm ? PropertyFactory.getProp(this, e.tm, 0, t.frameRate, this) : {
                    _placeholder: !0
                }
            }
            function HShapeElement(e, t, i) {
                this.shapes = [],
                this.shapesData = e.shapes,
                this.stylesList = [],
                this.shapeModifiers = [],
                this.itemsData = [],
                this.processedElements = [],
                this.animatedContents = [],
                this.shapesContainer = createNS("g"),
                this.initElement(e, t, i),
                this.prevViewData = [],
                this.currentBBox = {
                    x: 999999,
                    y: -999999,
                    h: 0,
                    w: 0
                }
            }
            function HTextElement(e, t, i) {
                this.textSpans = [],
                this.textPaths = [],
                this.currentBBox = {
                    x: 999999,
                    y: -999999,
                    h: 0,
                    w: 0
                },
                this.renderType = "svg",
                this.isMasked = !1,
                this.initElement(e, t, i)
            }
            function HImageElement(e, t, i) {
                this.assetData = t.getAssetData(e.refId),
                this.initElement(e, t, i)
            }
            function HCameraElement(e, t, i) {
                this.initFrame(),
                this.initBaseData(e, t, i),
                this.initHierarchy();
                var a = PropertyFactory.getProp;
                if (this.pe = a(this, e.pe, 0, 0, this),
                e.ks.p.s ? (this.px = a(this, e.ks.p.x, 1, 0, this),
                this.py = a(this, e.ks.p.y, 1, 0, this),
                this.pz = a(this, e.ks.p.z, 1, 0, this)) : this.p = a(this, e.ks.p, 1, 0, this),
                e.ks.a && (this.a = a(this, e.ks.a, 1, 0, this)),
                e.ks.or.k.length && e.ks.or.k[0].to) {
                    var n, r = e.ks.or.k.length;
                    for (n = 0; n < r; n += 1)
                        e.ks.or.k[n].to = null,
                        e.ks.or.k[n].ti = null
                }
                this.or = a(this, e.ks.or, 1, degToRads, this),
                this.or.sh = !0,
                this.rx = a(this, e.ks.rx, 0, degToRads, this),
                this.ry = a(this, e.ks.ry, 0, degToRads, this),
                this.rz = a(this, e.ks.rz, 0, degToRads, this),
                this.mat = new Matrix,
                this._prevMat = new Matrix,
                this._isFirstFrame = !0,
                this.finalTransform = {
                    mProp: this
                }
            }
            function HEffects() {}
            SVGMatte3Effect.prototype.findSymbol = function(e) {
                for (var t = 0, i = _svgMatteSymbols.length; t < i; ) {
                    if (_svgMatteSymbols[t] === e)
                        return _svgMatteSymbols[t];
                    t += 1
                }
                return null
            }
            ,
            SVGMatte3Effect.prototype.replaceInParent = function(e, t) {
                var i = e.layerElement.parentNode;
                if (i) {
                    for (var a, n = i.children, r = 0, s = n.length; r < s && n[r] !== e.layerElement; )
                        r += 1;
                    r <= s - 2 && (a = n[r + 1]);
                    var o = createNS("use");
                    o.setAttribute("href", "#" + t),
                    a ? i.insertBefore(o, a) : i.appendChild(o)
                }
            }
            ,
            SVGMatte3Effect.prototype.setElementAsMask = function(e, t) {
                if (!this.findSymbol(t)) {
                    var i = createElementID()
                      , a = createNS("mask");
                    a.setAttribute("id", t.layerId),
                    a.setAttribute("mask-type", "alpha"),
                    _svgMatteSymbols.push(t);
                    var n = e.globalData.defs;
                    n.appendChild(a);
                    var r = createNS("symbol");
                    r.setAttribute("id", i),
                    this.replaceInParent(t, i),
                    r.appendChild(t.layerElement),
                    n.appendChild(r);
                    var s = createNS("use");
                    s.setAttribute("href", "#" + i),
                    a.appendChild(s),
                    t.data.hd = !1,
                    t.show()
                }
                e.setMatte(t.layerId)
            }
            ,
            SVGMatte3Effect.prototype.initialize = function() {
                for (var e = this.filterManager.effectElements[0].p.v, t = this.elem.comp.elements, i = 0, a = t.length; i < a; )
                    t[i] && t[i].data.ind === e && this.setElementAsMask(this.elem, t[i]),
                    i += 1;
                this.initialized = !0
            }
            ,
            SVGMatte3Effect.prototype.renderFrame = function() {
                this.initialized || this.initialize()
            }
            ,
            SVGEffects.prototype.renderFrame = function(e) {
                var t, i = this.filters.length;
                for (t = 0; t < i; t += 1)
                    this.filters[t].renderFrame(e)
            }
            ,
            CVContextData.prototype.duplicate = function() {
                var e = 2 * this._length
                  , t = this.savedOp;
                this.savedOp = createTypedArray("float32", e),
                this.savedOp.set(t);
                var i = 0;
                for (i = this._length; i < e; i += 1)
                    this.saved[i] = createTypedArray("float32", 16);
                this._length = e
            }
            ,
            CVContextData.prototype.reset = function() {
                this.cArrPos = 0,
                this.cTr.reset(),
                this.cO = 1
            }
            ,
            CVBaseElement.prototype = {
                createElements: function() {},
                initRendererElement: function() {},
                createContainerElements: function() {
                    this.canvasContext = this.globalData.canvasContext,
                    this.renderableEffectsManager = new CVEffects(this)
                },
                createContent: function() {},
                setBlendMode: function() {
                    var e = this.globalData;
                    if (e.blendMode !== this.data.bm) {
                        e.blendMode = this.data.bm;
                        var t = getBlendMode(this.data.bm);
                        e.canvasContext.globalCompositeOperation = t
                    }
                },
                createRenderableComponents: function() {
                    this.maskManager = new CVMaskElement(this.data,this)
                },
                hideElement: function() {
                    this.hidden || this.isInRange && !this.isTransparent || (this.hidden = !0)
                },
                showElement: function() {
                    this.isInRange && !this.isTransparent && (this.hidden = !1,
                    this._isFirstFrame = !0,
                    this.maskManager._isFirstFrame = !0)
                },
                renderFrame: function() {
                    this.hidden || this.data.hd || (this.renderTransform(),
                    this.renderRenderable(),
                    this.setBlendMode(),
                    this.globalData.renderer.save(),
                    this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),
                    this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),
                    this.renderInnerContent(),
                    this.globalData.renderer.restore(),
                    this.maskManager.hasMasks && this.globalData.renderer.restore(!0),
                    this._isFirstFrame && (this._isFirstFrame = !1))
                },
                destroy: function() {
                    this.canvasContext = null,
                    this.data = null,
                    this.globalData = null,
                    this.maskManager.destroy()
                },
                mHelper: new Matrix
            },
            CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement,
            CVBaseElement.prototype.show = CVBaseElement.prototype.showElement,
            extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement),
            CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement,
            CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame,
            CVImageElement.prototype.createContent = function() {
                if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {
                    var e = createTag("canvas");
                    e.width = this.assetData.w,
                    e.height = this.assetData.h;
                    var t, i, a = e.getContext("2d"), n = this.img.width, r = this.img.height, s = n / r, o = this.assetData.w / this.assetData.h, l = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;
                    s > o && "xMidYMid slice" === l || s < o && "xMidYMid slice" !== l ? t = (i = r) * o : i = (t = n) / o,
                    a.drawImage(this.img, (n - t) / 2, (r - i) / 2, t, i, 0, 0, this.assetData.w, this.assetData.h),
                    this.img = e
                }
            }
            ,
            CVImageElement.prototype.renderInnerContent = function(e) {
                this.failed || this.canvasContext.drawImage(this.img, 0, 0)
            }
            ,
            CVImageElement.prototype.destroy = function() {
                this.img = null
            }
            ,
            extendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement),
            CVCompElement.prototype.renderInnerContent = function() {
                var e;
                for (e = this.layers.length - 1; e >= 0; e -= 1)
                    (this.completeLayers || this.elements[e]) && this.elements[e].renderFrame()
            }
            ,
            CVCompElement.prototype.destroy = function() {
                var e;
                for (e = this.layers.length - 1; e >= 0; e -= 1)
                    this.elements[e] && this.elements[e].destroy();
                this.layers = null,
                this.elements = null
            }
            ,
            CVMaskElement.prototype.renderFrame = function() {
                if (this.hasMasks) {
                    var e, t, i, a, n = this.element.finalTransform.mat, r = this.element.canvasContext, s = this.masksProperties.length;
                    for (r.beginPath(),
                    e = 0; e < s; e++)
                        if ("n" !== this.masksProperties[e].mode) {
                            this.masksProperties[e].inv && (r.moveTo(0, 0),
                            r.lineTo(this.element.globalData.compSize.w, 0),
                            r.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h),
                            r.lineTo(0, this.element.globalData.compSize.h),
                            r.lineTo(0, 0)),
                            a = this.viewData[e].v,
                            t = n.applyToPointArray(a.v[0][0], a.v[0][1], 0),
                            r.moveTo(t[0], t[1]);
                            var o, l = a._length;
                            for (o = 1; o < l; o++)
                                i = n.applyToTriplePoints(a.o[o - 1], a.i[o], a.v[o]),
                                r.bezierCurveTo(i[0], i[1], i[2], i[3], i[4], i[5]);
                            i = n.applyToTriplePoints(a.o[o - 1], a.i[0], a.v[0]),
                            r.bezierCurveTo(i[0], i[1], i[2], i[3], i[4], i[5])
                        }
                    this.element.globalData.renderer.save(!0),
                    r.clip()
                }
            }
            ,
            CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty,
            CVMaskElement.prototype.destroy = function() {
                this.element = null
            }
            ,
            extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement),
            CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement,
            CVShapeElement.prototype.transformHelper = {
                opacity: 1,
                _opMdf: !1
            },
            CVShapeElement.prototype.dashResetter = [],
            CVShapeElement.prototype.createContent = function() {
                this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, !0, [])
            }
            ,
            CVShapeElement.prototype.createStyleElement = function(e, t) {
                var i = {
                    data: e,
                    type: e.ty,
                    preTransforms: this.transformsManager.addTransformSequence(t),
                    transforms: [],
                    elements: [],
                    closed: !0 === e.hd
                }
                  , a = {};
                if ("fl" == e.ty || "st" == e.ty ? (a.c = PropertyFactory.getProp(this, e.c, 1, 255, this),
                a.c.k || (i.co = "rgb(" + bm_floor(a.c.v[0]) + "," + bm_floor(a.c.v[1]) + "," + bm_floor(a.c.v[2]) + ")")) : "gf" !== e.ty && "gs" !== e.ty || (a.s = PropertyFactory.getProp(this, e.s, 1, null, this),
                a.e = PropertyFactory.getProp(this, e.e, 1, null, this),
                a.h = PropertyFactory.getProp(this, e.h || {
                    k: 0
                }, 0, .01, this),
                a.a = PropertyFactory.getProp(this, e.a || {
                    k: 0
                }, 0, degToRads, this),
                a.g = new GradientProperty(this,e.g,this)),
                a.o = PropertyFactory.getProp(this, e.o, 0, .01, this),
                "st" == e.ty || "gs" == e.ty) {
                    if (i.lc = this.lcEnum[e.lc] || "round",
                    i.lj = this.ljEnum[e.lj] || "round",
                    1 == e.lj && (i.ml = e.ml),
                    a.w = PropertyFactory.getProp(this, e.w, 0, null, this),
                    a.w.k || (i.wi = a.w.v),
                    e.d) {
                        var n = new DashProperty(this,e.d,"canvas",this);
                        a.d = n,
                        a.d.k || (i.da = a.d.dashArray,
                        i.do = a.d.dashoffset[0])
                    }
                } else
                    i.r = 2 === e.r ? "evenodd" : "nonzero";
                return this.stylesList.push(i),
                a.style = i,
                a
            }
            ,
            CVShapeElement.prototype.createGroupElement = function(e) {
                return {
                    it: [],
                    prevViewData: []
                }
            }
            ,
            CVShapeElement.prototype.createTransformElement = function(e) {
                return {
                    transform: {
                        opacity: 1,
                        _opMdf: !1,
                        key: this.transformsManager.getNewKey(),
                        op: PropertyFactory.getProp(this, e.o, 0, .01, this),
                        mProps: TransformPropertyFactory.getTransformProperty(this, e, this)
                    }
                }
            }
            ,
            CVShapeElement.prototype.createShapeElement = function(e) {
                var t = new CVShapeData(this,e,this.stylesList,this.transformsManager);
                return this.shapes.push(t),
                this.addShapeToModifiers(t),
                t
            }
            ,
            CVShapeElement.prototype.reloadShapes = function() {
                this._isFirstFrame = !0;
                var e, t = this.itemsData.length;
                for (e = 0; e < t; e += 1)
                    this.prevViewData[e] = this.itemsData[e];
                for (this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, !0, []),
                t = this.dynamicProperties.length,
                e = 0; e < t; e += 1)
                    this.dynamicProperties[e].getValue();
                this.renderModifiers(),
                this.transformsManager.processSequences(this._isFirstFrame)
            }
            ,
            CVShapeElement.prototype.addTransformToStyleList = function(e) {
                var t, i = this.stylesList.length;
                for (t = 0; t < i; t += 1)
                    this.stylesList[t].closed || this.stylesList[t].transforms.push(e)
            }
            ,
            CVShapeElement.prototype.removeTransformFromStyleList = function() {
                var e, t = this.stylesList.length;
                for (e = 0; e < t; e += 1)
                    this.stylesList[e].closed || this.stylesList[e].transforms.pop()
            }
            ,
            CVShapeElement.prototype.closeStyles = function(e) {
                var t, i = e.length;
                for (t = 0; t < i; t += 1)
                    e[t].closed = !0
            }
            ,
            CVShapeElement.prototype.searchShapes = function(e, t, i, a, n) {
                var r, s, o, l, c, h, d = e.length - 1, p = [], u = [], m = [].concat(n);
                for (r = d; r >= 0; r -= 1) {
                    if ((l = this.searchProcessedElement(e[r])) ? t[r] = i[l - 1] : e[r]._shouldRender = a,
                    "fl" == e[r].ty || "st" == e[r].ty || "gf" == e[r].ty || "gs" == e[r].ty)
                        l ? t[r].style.closed = !1 : t[r] = this.createStyleElement(e[r], m),
                        p.push(t[r].style);
                    else if ("gr" == e[r].ty) {
                        if (l)
                            for (o = t[r].it.length,
                            s = 0; s < o; s += 1)
                                t[r].prevViewData[s] = t[r].it[s];
                        else
                            t[r] = this.createGroupElement(e[r]);
                        this.searchShapes(e[r].it, t[r].it, t[r].prevViewData, a, m)
                    } else
                        "tr" == e[r].ty ? (l || (h = this.createTransformElement(e[r]),
                        t[r] = h),
                        m.push(t[r]),
                        this.addTransformToStyleList(t[r])) : "sh" == e[r].ty || "rc" == e[r].ty || "el" == e[r].ty || "sr" == e[r].ty ? l || (t[r] = this.createShapeElement(e[r])) : "tm" == e[r].ty || "rd" == e[r].ty ? (l ? (c = t[r]).closed = !1 : ((c = ShapeModifiers.getModifier(e[r].ty)).init(this, e[r]),
                        t[r] = c,
                        this.shapeModifiers.push(c)),
                        u.push(c)) : "rp" == e[r].ty && (l ? (c = t[r]).closed = !0 : (c = ShapeModifiers.getModifier(e[r].ty),
                        t[r] = c,
                        c.init(this, e, r, t),
                        this.shapeModifiers.push(c),
                        a = !1),
                        u.push(c));
                    this.addProcessedElement(e[r], r + 1)
                }
                for (this.removeTransformFromStyleList(),
                this.closeStyles(p),
                d = u.length,
                r = 0; r < d; r += 1)
                    u[r].closed = !0
            }
            ,
            CVShapeElement.prototype.renderInnerContent = function() {
                this.transformHelper.opacity = 1,
                this.transformHelper._opMdf = !1,
                this.renderModifiers(),
                this.transformsManager.processSequences(this._isFirstFrame),
                this.renderShape(this.transformHelper, this.shapesData, this.itemsData, !0)
            }
            ,
            CVShapeElement.prototype.renderShapeTransform = function(e, t) {
                (e._opMdf || t.op._mdf || this._isFirstFrame) && (t.opacity = e.opacity,
                t.opacity *= t.op.v,
                t._opMdf = !0)
            }
            ,
            CVShapeElement.prototype.drawLayer = function() {
                var e, t, i, a, n, r, s, o, l, c = this.stylesList.length, h = this.globalData.renderer, d = this.globalData.canvasContext;
                for (e = 0; e < c; e += 1)
                    if (("st" !== (o = (l = this.stylesList[e]).type) && "gs" !== o || 0 !== l.wi) && l.data._shouldRender && 0 !== l.coOp && 0 !== this.globalData.currentGlobalAlpha) {
                        for (h.save(),
                        r = l.elements,
                        "st" === o || "gs" === o ? (d.strokeStyle = "st" === o ? l.co : l.grd,
                        d.lineWidth = l.wi,
                        d.lineCap = l.lc,
                        d.lineJoin = l.lj,
                        d.miterLimit = l.ml || 0) : d.fillStyle = "fl" === o ? l.co : l.grd,
                        h.ctxOpacity(l.coOp),
                        "st" !== o && "gs" !== o && d.beginPath(),
                        h.ctxTransform(l.preTransforms.finalTransform.props),
                        i = r.length,
                        t = 0; t < i; t += 1) {
                            for ("st" !== o && "gs" !== o || (d.beginPath(),
                            l.da && (d.setLineDash(l.da),
                            d.lineDashOffset = l.do)),
                            n = (s = r[t].trNodes).length,
                            a = 0; a < n; a += 1)
                                "m" == s[a].t ? d.moveTo(s[a].p[0], s[a].p[1]) : "c" == s[a].t ? d.bezierCurveTo(s[a].pts[0], s[a].pts[1], s[a].pts[2], s[a].pts[3], s[a].pts[4], s[a].pts[5]) : d.closePath();
                            "st" !== o && "gs" !== o || (d.stroke(),
                            l.da && d.setLineDash(this.dashResetter))
                        }
                        "st" !== o && "gs" !== o && d.fill(l.r),
                        h.restore()
                    }
            }
            ,
            CVShapeElement.prototype.renderShape = function(e, t, i, a) {
                var n, r;
                for (r = e,
                n = t.length - 1; n >= 0; n -= 1)
                    "tr" == t[n].ty ? (r = i[n].transform,
                    this.renderShapeTransform(e, r)) : "sh" == t[n].ty || "el" == t[n].ty || "rc" == t[n].ty || "sr" == t[n].ty ? this.renderPath(t[n], i[n]) : "fl" == t[n].ty ? this.renderFill(t[n], i[n], r) : "st" == t[n].ty ? this.renderStroke(t[n], i[n], r) : "gf" == t[n].ty || "gs" == t[n].ty ? this.renderGradientFill(t[n], i[n], r) : "gr" == t[n].ty ? this.renderShape(r, t[n].it, i[n].it) : t[n].ty;
                a && this.drawLayer()
            }
            ,
            CVShapeElement.prototype.renderStyledShape = function(e, t) {
                if (this._isFirstFrame || t._mdf || e.transforms._mdf) {
                    var i, a, n, r = e.trNodes, s = t.paths, o = s._length;
                    r.length = 0;
                    var l = e.transforms.finalTransform;
                    for (n = 0; n < o; n += 1) {
                        var c = s.shapes[n];
                        if (c && c.v) {
                            for (a = c._length,
                            i = 1; i < a; i += 1)
                                1 === i && r.push({
                                    t: "m",
                                    p: l.applyToPointArray(c.v[0][0], c.v[0][1], 0)
                                }),
                                r.push({
                                    t: "c",
                                    pts: l.applyToTriplePoints(c.o[i - 1], c.i[i], c.v[i])
                                });
                            1 === a && r.push({
                                t: "m",
                                p: l.applyToPointArray(c.v[0][0], c.v[0][1], 0)
                            }),
                            c.c && a && (r.push({
                                t: "c",
                                pts: l.applyToTriplePoints(c.o[i - 1], c.i[0], c.v[0])
                            }),
                            r.push({
                                t: "z"
                            }))
                        }
                    }
                    e.trNodes = r
                }
            }
            ,
            CVShapeElement.prototype.renderPath = function(e, t) {
                if (!0 !== e.hd && e._shouldRender) {
                    var i, a = t.styledShapes.length;
                    for (i = 0; i < a; i += 1)
                        this.renderStyledShape(t.styledShapes[i], t.sh)
                }
            }
            ,
            CVShapeElement.prototype.renderFill = function(e, t, i) {
                var a = t.style;
                (t.c._mdf || this._isFirstFrame) && (a.co = "rgb(" + bm_floor(t.c.v[0]) + "," + bm_floor(t.c.v[1]) + "," + bm_floor(t.c.v[2]) + ")"),
                (t.o._mdf || i._opMdf || this._isFirstFrame) && (a.coOp = t.o.v * i.opacity)
            }
            ,
            CVShapeElement.prototype.renderGradientFill = function(e, t, i) {
                var a = t.style;
                if (!a.grd || t.g._mdf || t.s._mdf || t.e._mdf || 1 !== e.t && (t.h._mdf || t.a._mdf)) {
                    var n = this.globalData.canvasContext
                      , r = t.s.v
                      , s = t.e.v;
                    if (1 === e.t)
                        p = n.createLinearGradient(r[0], r[1], s[0], s[1]);
                    else
                        var o = Math.sqrt(Math.pow(r[0] - s[0], 2) + Math.pow(r[1] - s[1], 2))
                          , l = Math.atan2(s[1] - r[1], s[0] - r[0])
                          , c = o * (t.h.v >= 1 ? .99 : t.h.v <= -1 ? -.99 : t.h.v)
                          , h = Math.cos(l + t.a.v) * c + r[0]
                          , d = Math.sin(l + t.a.v) * c + r[1]
                          , p = n.createRadialGradient(h, d, 0, r[0], r[1], o);
                    var u, m = e.g.p, g = t.g.c, f = 1;
                    for (u = 0; u < m; u += 1)
                        t.g._hasOpacity && t.g._collapsable && (f = t.g.o[2 * u + 1]),
                        p.addColorStop(g[4 * u] / 100, "rgba(" + g[4 * u + 1] + "," + g[4 * u + 2] + "," + g[4 * u + 3] + "," + f + ")");
                    a.grd = p
                }
                a.coOp = t.o.v * i.opacity
            }
            ,
            CVShapeElement.prototype.renderStroke = function(e, t, i) {
                var a = t.style
                  , n = t.d;
                n && (n._mdf || this._isFirstFrame) && (a.da = n.dashArray,
                a.do = n.dashoffset[0]),
                (t.c._mdf || this._isFirstFrame) && (a.co = "rgb(" + bm_floor(t.c.v[0]) + "," + bm_floor(t.c.v[1]) + "," + bm_floor(t.c.v[2]) + ")"),
                (t.o._mdf || i._opMdf || this._isFirstFrame) && (a.coOp = t.o.v * i.opacity),
                (t.w._mdf || this._isFirstFrame) && (a.wi = t.w.v)
            }
            ,
            CVShapeElement.prototype.destroy = function() {
                this.shapesData = null,
                this.globalData = null,
                this.canvasContext = null,
                this.stylesList.length = 0,
                this.itemsData.length = 0
            }
            ,
            extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement),
            CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement,
            CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame,
            CVSolidElement.prototype.renderInnerContent = function() {
                var e = this.canvasContext;
                e.fillStyle = this.data.sc,
                e.fillRect(0, 0, this.data.sw, this.data.sh)
            }
            ,
            extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement),
            CVTextElement.prototype.tHelper = createTag("canvas").getContext("2d"),
            CVTextElement.prototype.buildNewText = function() {
                var e = this.textProperty.currentData;
                this.renderedLetters = createSizedArray(e.l ? e.l.length : 0);
                var t = !1;
                e.fc ? (t = !0,
                this.values.fill = this.buildColor(e.fc)) : this.values.fill = "rgba(0,0,0,0)",
                this.fill = t;
                var i = !1;
                e.sc && (i = !0,
                this.values.stroke = this.buildColor(e.sc),
                this.values.sWidth = e.sw);
                var a, n, r = this.globalData.fontManager.getFontByName(e.f), s = e.l, o = this.mHelper;
                this.stroke = i,
                this.values.fValue = e.finalSize + "px " + this.globalData.fontManager.getFontByName(e.f).fFamily,
                n = e.finalText.length;
                var l, c, h, d, p, u, m, g, f, v, y = this.data.singleShape, A = e.tr / 1e3 * e.finalSize, _ = 0, b = 0, C = !0, w = 0;
                for (a = 0; a < n; a += 1) {
                    for (c = (l = this.globalData.fontManager.getCharData(e.finalText[a], r.fStyle, this.globalData.fontManager.getFontByName(e.f).fFamily)) && l.data || {},
                    o.reset(),
                    y && s[a].n && (_ = -A,
                    b += e.yOffset,
                    b += C ? 1 : 0,
                    C = !1),
                    m = (p = c.shapes ? c.shapes[0].it : []).length,
                    o.scale(e.finalSize / 100, e.finalSize / 100),
                    y && this.applyTextPropertiesToMatrix(e, o, s[a].line, _, b),
                    f = createSizedArray(m),
                    u = 0; u < m; u += 1) {
                        for (d = p[u].ks.k.i.length,
                        g = p[u].ks.k,
                        v = [],
                        h = 1; h < d; h += 1)
                            1 == h && v.push(o.applyToX(g.v[0][0], g.v[0][1], 0), o.applyToY(g.v[0][0], g.v[0][1], 0)),
                            v.push(o.applyToX(g.o[h - 1][0], g.o[h - 1][1], 0), o.applyToY(g.o[h - 1][0], g.o[h - 1][1], 0), o.applyToX(g.i[h][0], g.i[h][1], 0), o.applyToY(g.i[h][0], g.i[h][1], 0), o.applyToX(g.v[h][0], g.v[h][1], 0), o.applyToY(g.v[h][0], g.v[h][1], 0));
                        v.push(o.applyToX(g.o[h - 1][0], g.o[h - 1][1], 0), o.applyToY(g.o[h - 1][0], g.o[h - 1][1], 0), o.applyToX(g.i[0][0], g.i[0][1], 0), o.applyToY(g.i[0][0], g.i[0][1], 0), o.applyToX(g.v[0][0], g.v[0][1], 0), o.applyToY(g.v[0][0], g.v[0][1], 0)),
                        f[u] = v
                    }
                    y && (_ += s[a].l,
                    _ += A),
                    this.textSpans[w] ? this.textSpans[w].elem = f : this.textSpans[w] = {
                        elem: f
                    },
                    w += 1
                }
            }
            ,
            CVTextElement.prototype.renderInnerContent = function() {
                var e, t, i, a, n, r, s = this.canvasContext;
                this.finalTransform.mat.props;
                s.font = this.values.fValue,
                s.lineCap = "butt",
                s.lineJoin = "miter",
                s.miterLimit = 4,
                this.data.singleShape || this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);
                var o, l = this.textAnimator.renderedLetters, c = this.textProperty.currentData.l;
                t = c.length;
                var h, d, p = null, u = null, m = null;
                for (e = 0; e < t; e += 1)
                    if (!c[e].n) {
                        if ((o = l[e]) && (this.globalData.renderer.save(),
                        this.globalData.renderer.ctxTransform(o.p),
                        this.globalData.renderer.ctxOpacity(o.o)),
                        this.fill) {
                            for (o && o.fc ? p !== o.fc && (p = o.fc,
                            s.fillStyle = o.fc) : p !== this.values.fill && (p = this.values.fill,
                            s.fillStyle = this.values.fill),
                            a = (h = this.textSpans[e].elem).length,
                            this.globalData.canvasContext.beginPath(),
                            i = 0; i < a; i += 1)
                                for (r = (d = h[i]).length,
                                this.globalData.canvasContext.moveTo(d[0], d[1]),
                                n = 2; n < r; n += 6)
                                    this.globalData.canvasContext.bezierCurveTo(d[n], d[n + 1], d[n + 2], d[n + 3], d[n + 4], d[n + 5]);
                            this.globalData.canvasContext.closePath(),
                            this.globalData.canvasContext.fill()
                        }
                        if (this.stroke) {
                            for (o && o.sw ? m !== o.sw && (m = o.sw,
                            s.lineWidth = o.sw) : m !== this.values.sWidth && (m = this.values.sWidth,
                            s.lineWidth = this.values.sWidth),
                            o && o.sc ? u !== o.sc && (u = o.sc,
                            s.strokeStyle = o.sc) : u !== this.values.stroke && (u = this.values.stroke,
                            s.strokeStyle = this.values.stroke),
                            a = (h = this.textSpans[e].elem).length,
                            this.globalData.canvasContext.beginPath(),
                            i = 0; i < a; i += 1)
                                for (r = (d = h[i]).length,
                                this.globalData.canvasContext.moveTo(d[0], d[1]),
                                n = 2; n < r; n += 6)
                                    this.globalData.canvasContext.bezierCurveTo(d[n], d[n + 1], d[n + 2], d[n + 3], d[n + 4], d[n + 5]);
                            this.globalData.canvasContext.closePath(),
                            this.globalData.canvasContext.stroke()
                        }
                        o && this.globalData.renderer.restore()
                    }
            }
            ,
            CVEffects.prototype.renderFrame = function() {}
            ,
            HBaseElement.prototype = {
                checkBlendMode: function() {},
                initRendererElement: function() {
                    this.baseElement = createTag(this.data.tg || "div"),
                    this.data.hasMask ? (this.svgElement = createNS("svg"),
                    this.layerElement = createNS("g"),
                    this.maskedElement = this.layerElement,
                    this.svgElement.appendChild(this.layerElement),
                    this.baseElement.appendChild(this.svgElement)) : this.layerElement = this.baseElement,
                    styleDiv(this.baseElement)
                },
                createContainerElements: function() {
                    this.renderableEffectsManager = new CVEffects(this),
                    this.transformedElement = this.baseElement,
                    this.maskedElement = this.layerElement,
                    this.data.ln && this.layerElement.setAttribute("id", this.data.ln),
                    this.data.cl && this.layerElement.setAttribute("class", this.data.cl),
                    0 !== this.data.bm && this.setBlendMode()
                },
                renderElement: function() {
                    this.finalTransform._matMdf && (this.transformedElement.style.transform = this.transformedElement.style.webkitTransform = this.finalTransform.mat.toCSS()),
                    this.finalTransform._opMdf && (this.transformedElement.style.opacity = this.finalTransform.mProp.o.v)
                },
                renderFrame: function() {
                    this.data.hd || this.hidden || (this.renderTransform(),
                    this.renderRenderable(),
                    this.renderElement(),
                    this.renderInnerContent(),
                    this._isFirstFrame && (this._isFirstFrame = !1))
                },
                destroy: function() {
                    this.layerElement = null,
                    this.transformedElement = null,
                    this.matteElement && (this.matteElement = null),
                    this.maskManager && (this.maskManager.destroy(),
                    this.maskManager = null)
                },
                createRenderableComponents: function() {
                    this.maskManager = new MaskElement(this.data,this,this.globalData)
                },
                addEffects: function() {},
                setMatte: function() {}
            },
            HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement,
            HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy,
            HBaseElement.prototype.buildElementParenting = HybridRenderer.prototype.buildElementParenting,
            extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement),
            HSolidElement.prototype.createContent = function() {
                var e;
                this.data.hasMask ? ((e = createNS("rect")).setAttribute("width", this.data.sw),
                e.setAttribute("height", this.data.sh),
                e.setAttribute("fill", this.data.sc),
                this.svgElement.setAttribute("width", this.data.sw),
                this.svgElement.setAttribute("height", this.data.sh)) : ((e = createTag("div")).style.width = this.data.sw + "px",
                e.style.height = this.data.sh + "px",
                e.style.backgroundColor = this.data.sc),
                this.layerElement.appendChild(e)
            }
            ,
            extendPrototype([HybridRenderer, ICompElement, HBaseElement], HCompElement),
            HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements,
            HCompElement.prototype.createContainerElements = function() {
                this._createBaseContainerElements(),
                this.data.hasMask ? (this.svgElement.setAttribute("width", this.data.w),
                this.svgElement.setAttribute("height", this.data.h),
                this.transformedElement = this.baseElement) : this.transformedElement = this.layerElement
            }
            ,
            HCompElement.prototype.addTo3dContainer = function(e, t) {
                for (var i, a = 0; a < t; )
                    this.elements[a] && this.elements[a].getBaseElement && (i = this.elements[a].getBaseElement()),
                    a += 1;
                i ? this.layerElement.insertBefore(e, i) : this.layerElement.appendChild(e)
            }
            ,
            extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement),
            HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent,
            HShapeElement.prototype.createContent = function() {
                var e;
                if (this.baseElement.style.fontSize = 0,
                this.data.hasMask)
                    this.layerElement.appendChild(this.shapesContainer),
                    e = this.svgElement;
                else {
                    e = createNS("svg");
                    var t = this.comp.data ? this.comp.data : this.globalData.compSize;
                    e.setAttribute("width", t.w),
                    e.setAttribute("height", t.h),
                    e.appendChild(this.shapesContainer),
                    this.layerElement.appendChild(e)
                }
                this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], !0),
                this.filterUniqueShapes(),
                this.shapeCont = e
            }
            ,
            HShapeElement.prototype.getTransformedPoint = function(e, t) {
                var i, a = e.length;
                for (i = 0; i < a; i += 1)
                    t = e[i].mProps.v.applyToPointArray(t[0], t[1], 0);
                return t
            }
            ,
            HShapeElement.prototype.calculateShapeBoundingBox = function(e, t) {
                var i, a, n, r, s, o = e.sh.v, l = e.transformers, c = o._length;
                if (!(c <= 1)) {
                    for (i = 0; i < c - 1; i += 1)
                        a = this.getTransformedPoint(l, o.v[i]),
                        n = this.getTransformedPoint(l, o.o[i]),
                        r = this.getTransformedPoint(l, o.i[i + 1]),
                        s = this.getTransformedPoint(l, o.v[i + 1]),
                        this.checkBounds(a, n, r, s, t);
                    o.c && (a = this.getTransformedPoint(l, o.v[i]),
                    n = this.getTransformedPoint(l, o.o[i]),
                    r = this.getTransformedPoint(l, o.i[0]),
                    s = this.getTransformedPoint(l, o.v[0]),
                    this.checkBounds(a, n, r, s, t))
                }
            }
            ,
            HShapeElement.prototype.checkBounds = function(e, t, i, a, n) {
                this.getBoundsOfCurve(e, t, i, a);
                var r = this.shapeBoundingBox;
                n.x = bm_min(r.left, n.x),
                n.xMax = bm_max(r.right, n.xMax),
                n.y = bm_min(r.top, n.y),
                n.yMax = bm_max(r.bottom, n.yMax)
            }
            ,
            HShapeElement.prototype.shapeBoundingBox = {
                left: 0,
                right: 0,
                top: 0,
                bottom: 0
            },
            HShapeElement.prototype.tempBoundingBox = {
                x: 0,
                xMax: 0,
                y: 0,
                yMax: 0,
                width: 0,
                height: 0
            },
            HShapeElement.prototype.getBoundsOfCurve = function(e, t, i, a) {
                for (var n, r, s, o, l, c, h, d = [[e[0], a[0]], [e[1], a[1]]], p = 0; p < 2; ++p)
                    if (r = 6 * e[p] - 12 * t[p] + 6 * i[p],
                    n = -3 * e[p] + 9 * t[p] - 9 * i[p] + 3 * a[p],
                    s = 3 * t[p] - 3 * e[p],
                    r |= 0,
                    s |= 0,
                    0 !== (n |= 0))
                        (l = r * r - 4 * s * n) < 0 || (0 < (c = (-r + bm_sqrt(l)) / (2 * n)) && c < 1 && d[p].push(this.calculateF(c, e, t, i, a, p)),
                        0 < (h = (-r - bm_sqrt(l)) / (2 * n)) && h < 1 && d[p].push(this.calculateF(h, e, t, i, a, p)));
                    else {
                        if (0 === r)
                            continue;
                        0 < (o = -s / r) && o < 1 && d[p].push(this.calculateF(o, e, t, i, a, p))
                    }
                this.shapeBoundingBox.left = bm_min.apply(null, d[0]),
                this.shapeBoundingBox.top = bm_min.apply(null, d[1]),
                this.shapeBoundingBox.right = bm_max.apply(null, d[0]),
                this.shapeBoundingBox.bottom = bm_max.apply(null, d[1])
            }
            ,
            HShapeElement.prototype.calculateF = function(e, t, i, a, n, r) {
                return bm_pow(1 - e, 3) * t[r] + 3 * bm_pow(1 - e, 2) * e * i[r] + 3 * (1 - e) * bm_pow(e, 2) * a[r] + bm_pow(e, 3) * n[r]
            }
            ,
            HShapeElement.prototype.calculateBoundingBox = function(e, t) {
                var i, a = e.length;
                for (i = 0; i < a; i += 1)
                    e[i] && e[i].sh ? this.calculateShapeBoundingBox(e[i], t) : e[i] && e[i].it && this.calculateBoundingBox(e[i].it, t)
            }
            ,
            HShapeElement.prototype.currentBoxContains = function(e) {
                return this.currentBBox.x <= e.x && this.currentBBox.y <= e.y && this.currentBBox.width + this.currentBBox.x >= e.x + e.width && this.currentBBox.height + this.currentBBox.y >= e.y + e.height
            }
            ,
            HShapeElement.prototype.renderInnerContent = function() {
                if (this._renderShapeFrame(),
                !this.hidden && (this._isFirstFrame || this._mdf)) {
                    var e = this.tempBoundingBox
                      , t = 999999;
                    if (e.x = t,
                    e.xMax = -t,
                    e.y = t,
                    e.yMax = -t,
                    this.calculateBoundingBox(this.itemsData, e),
                    e.width = e.xMax < e.x ? 0 : e.xMax - e.x,
                    e.height = e.yMax < e.y ? 0 : e.yMax - e.y,
                    this.currentBoxContains(e))
                        return;
                    var i = !1;
                    this.currentBBox.w !== e.width && (this.currentBBox.w = e.width,
                    this.shapeCont.setAttribute("width", e.width),
                    i = !0),
                    this.currentBBox.h !== e.height && (this.currentBBox.h = e.height,
                    this.shapeCont.setAttribute("height", e.height),
                    i = !0),
                    (i || this.currentBBox.x !== e.x || this.currentBBox.y !== e.y) && (this.currentBBox.w = e.width,
                    this.currentBBox.h = e.height,
                    this.currentBBox.x = e.x,
                    this.currentBBox.y = e.y,
                    this.shapeCont.setAttribute("viewBox", this.currentBBox.x + " " + this.currentBBox.y + " " + this.currentBBox.w + " " + this.currentBBox.h),
                    this.shapeCont.style.transform = this.shapeCont.style.webkitTransform = "translate(" + this.currentBBox.x + "px," + this.currentBBox.y + "px)")
                }
            }
            ,
            extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement),
            HTextElement.prototype.createContent = function() {
                if (this.isMasked = this.checkMasks(),
                this.isMasked) {
                    this.renderType = "svg",
                    this.compW = this.comp.data.w,
                    this.compH = this.comp.data.h,
                    this.svgElement.setAttribute("width", this.compW),
                    this.svgElement.setAttribute("height", this.compH);
                    var e = createNS("g");
                    this.maskedElement.appendChild(e),
                    this.innerElem = e
                } else
                    this.renderType = "html",
                    this.innerElem = this.layerElement;
                this.checkParenting()
            }
            ,
            HTextElement.prototype.buildNewText = function() {
                var e = this.textProperty.currentData;
                this.renderedLetters = createSizedArray(e.l ? e.l.length : 0);
                var t = this.innerElem.style;
                t.color = t.fill = e.fc ? this.buildColor(e.fc) : "rgba(0,0,0,0)",
                e.sc && (t.stroke = this.buildColor(e.sc),
                t.strokeWidth = e.sw + "px");
                var i, a, n = this.globalData.fontManager.getFontByName(e.f);
                if (!this.globalData.fontManager.chars)
                    if (t.fontSize = e.finalSize + "px",
                    t.lineHeight = e.finalSize + "px",
                    n.fClass)
                        this.innerElem.className = n.fClass;
                    else {
                        t.fontFamily = n.fFamily;
                        var r = e.fWeight
                          , s = e.fStyle;
                        t.fontStyle = s,
                        t.fontWeight = r
                    }
                var o, l, c, h = e.l;
                a = h.length;
                var d, p = this.mHelper, u = "", m = 0;
                for (i = 0; i < a; i += 1) {
                    if (this.globalData.fontManager.chars ? (this.textPaths[m] ? o = this.textPaths[m] : ((o = createNS("path")).setAttribute("stroke-linecap", "butt"),
                    o.setAttribute("stroke-linejoin", "round"),
                    o.setAttribute("stroke-miterlimit", "4")),
                    this.isMasked || (this.textSpans[m] ? c = (l = this.textSpans[m]).children[0] : ((l = createTag("div")).style.lineHeight = 0,
                    (c = createNS("svg")).appendChild(o),
                    styleDiv(l)))) : this.isMasked ? o = this.textPaths[m] ? this.textPaths[m] : createNS("text") : this.textSpans[m] ? (l = this.textSpans[m],
                    o = this.textPaths[m]) : (styleDiv(l = createTag("span")),
                    styleDiv(o = createTag("span")),
                    l.appendChild(o)),
                    this.globalData.fontManager.chars) {
                        var g, f = this.globalData.fontManager.getCharData(e.finalText[i], n.fStyle, this.globalData.fontManager.getFontByName(e.f).fFamily);
                        if (g = f ? f.data : null,
                        p.reset(),
                        g && g.shapes && (d = g.shapes[0].it,
                        p.scale(e.finalSize / 100, e.finalSize / 100),
                        u = this.createPathShape(p, d),
                        o.setAttribute("d", u)),
                        this.isMasked)
                            this.innerElem.appendChild(o);
                        else {
                            if (this.innerElem.appendChild(l),
                            g && g.shapes) {
                                document.body.appendChild(c);
                                var v = c.getBBox();
                                c.setAttribute("width", v.width + 2),
                                c.setAttribute("height", v.height + 2),
                                c.setAttribute("viewBox", v.x - 1 + " " + (v.y - 1) + " " + (v.width + 2) + " " + (v.height + 2)),
                                c.style.transform = c.style.webkitTransform = "translate(" + (v.x - 1) + "px," + (v.y - 1) + "px)",
                                h[i].yOffset = v.y - 1
                            } else
                                c.setAttribute("width", 1),
                                c.setAttribute("height", 1);
                            l.appendChild(c)
                        }
                    } else
                        o.textContent = h[i].val,
                        o.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"),
                        this.isMasked ? this.innerElem.appendChild(o) : (this.innerElem.appendChild(l),
                        o.style.transform = o.style.webkitTransform = "translate3d(0," + -e.finalSize / 1.2 + "px,0)");
                    this.isMasked ? this.textSpans[m] = o : this.textSpans[m] = l,
                    this.textSpans[m].style.display = "block",
                    this.textPaths[m] = o,
                    m += 1
                }
                for (; m < this.textSpans.length; )
                    this.textSpans[m].style.display = "none",
                    m += 1
            }
            ,
            HTextElement.prototype.renderInnerContent = function() {
                if (this.data.singleShape) {
                    if (!this._isFirstFrame && !this.lettersChangedFlag)
                        return;
                    this.isMasked && this.finalTransform._matMdf && (this.svgElement.setAttribute("viewBox", -this.finalTransform.mProp.p.v[0] + " " + -this.finalTransform.mProp.p.v[1] + " " + this.compW + " " + this.compH),
                    this.svgElement.style.transform = this.svgElement.style.webkitTransform = "translate(" + -this.finalTransform.mProp.p.v[0] + "px," + -this.finalTransform.mProp.p.v[1] + "px)")
                }
                if (this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag),
                this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {
                    var e, t, i, a, n, r = 0, s = this.textAnimator.renderedLetters, o = this.textProperty.currentData.l;
                    for (t = o.length,
                    e = 0; e < t; e += 1)
                        o[e].n ? r += 1 : (a = this.textSpans[e],
                        n = this.textPaths[e],
                        i = s[r],
                        r += 1,
                        i._mdf.m && (this.isMasked ? a.setAttribute("transform", i.m) : a.style.transform = a.style.webkitTransform = i.m),
                        a.style.opacity = i.o,
                        i.sw && i._mdf.sw && n.setAttribute("stroke-width", i.sw),
                        i.sc && i._mdf.sc && n.setAttribute("stroke", i.sc),
                        i.fc && i._mdf.fc && (n.setAttribute("fill", i.fc),
                        n.style.color = i.fc));
                    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {
                        var l = this.innerElem.getBBox();
                        this.currentBBox.w !== l.width && (this.currentBBox.w = l.width,
                        this.svgElement.setAttribute("width", l.width)),
                        this.currentBBox.h !== l.height && (this.currentBBox.h = l.height,
                        this.svgElement.setAttribute("height", l.height));
                        this.currentBBox.w === l.width + 2 && this.currentBBox.h === l.height + 2 && this.currentBBox.x === l.x - 1 && this.currentBBox.y === l.y - 1 || (this.currentBBox.w = l.width + 2,
                        this.currentBBox.h = l.height + 2,
                        this.currentBBox.x = l.x - 1,
                        this.currentBBox.y = l.y - 1,
                        this.svgElement.setAttribute("viewBox", this.currentBBox.x + " " + this.currentBBox.y + " " + this.currentBBox.w + " " + this.currentBBox.h),
                        this.svgElement.style.transform = this.svgElement.style.webkitTransform = "translate(" + this.currentBBox.x + "px," + this.currentBBox.y + "px)")
                    }
                }
            }
            ,
            extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement),
            HImageElement.prototype.createContent = function() {
                var e = this.globalData.getAssetsPath(this.assetData)
                  , t = new Image;
                this.data.hasMask ? (this.imageElem = createNS("image"),
                this.imageElem.setAttribute("width", this.assetData.w + "px"),
                this.imageElem.setAttribute("height", this.assetData.h + "px"),
                this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink", "href", e),
                this.layerElement.appendChild(this.imageElem),
                this.baseElement.setAttribute("width", this.assetData.w),
                this.baseElement.setAttribute("height", this.assetData.h)) : this.layerElement.appendChild(t),
                t.src = e,
                this.data.ln && this.baseElement.setAttribute("id", this.data.ln)
            }
            ,
            extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement),
            HCameraElement.prototype.setup = function() {
                var e, t, i = this.comp.threeDElements.length;
                for (e = 0; e < i; e += 1)
                    "3d" === (t = this.comp.threeDElements[e]).type && (t.perspectiveElem.style.perspective = t.perspectiveElem.style.webkitPerspective = this.pe.v + "px",
                    t.container.style.transformOrigin = t.container.style.mozTransformOrigin = t.container.style.webkitTransformOrigin = "0px 0px 0px",
                    t.perspectiveElem.style.transform = t.perspectiveElem.style.webkitTransform = "matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")
            }
            ,
            HCameraElement.prototype.createElements = function() {}
            ,
            HCameraElement.prototype.hide = function() {}
            ,
            HCameraElement.prototype.renderFrame = function() {
                var e, t, i = this._isFirstFrame;
                if (this.hierarchy)
                    for (t = this.hierarchy.length,
                    e = 0; e < t; e += 1)
                        i = this.hierarchy[e].finalTransform.mProp._mdf || i;
                if (i || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {
                    if (this.mat.reset(),
                    this.hierarchy)
                        for (e = t = this.hierarchy.length - 1; e >= 0; e -= 1) {
                            var a = this.hierarchy[e].finalTransform.mProp;
                            this.mat.translate(-a.p.v[0], -a.p.v[1], a.p.v[2]),
                            this.mat.rotateX(-a.or.v[0]).rotateY(-a.or.v[1]).rotateZ(a.or.v[2]),
                            this.mat.rotateX(-a.rx.v).rotateY(-a.ry.v).rotateZ(a.rz.v),
                            this.mat.scale(1 / a.s.v[0], 1 / a.s.v[1], 1 / a.s.v[2]),
                            this.mat.translate(a.a.v[0], a.a.v[1], a.a.v[2])
                        }
                    if (this.p ? this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]) : this.mat.translate(-this.px.v, -this.py.v, this.pz.v),
                    this.a) {
                        var n = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]]
                          , r = Math.sqrt(Math.pow(n[0], 2) + Math.pow(n[1], 2) + Math.pow(n[2], 2))
                          , s = [n[0] / r, n[1] / r, n[2] / r]
                          , o = Math.sqrt(s[2] * s[2] + s[0] * s[0])
                          , l = Math.atan2(s[1], o)
                          , c = Math.atan2(s[0], -s[2]);
                        this.mat.rotateY(c).rotateX(-l)
                    }
                    this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),
                    this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),
                    this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0),
                    this.mat.translate(0, 0, this.pe.v);
                    var h = !this._prevMat.equals(this.mat);
                    if ((h || this.pe._mdf) && this.comp.threeDElements) {
                        var d;
                        for (t = this.comp.threeDElements.length,
                        e = 0; e < t; e += 1)
                            "3d" === (d = this.comp.threeDElements[e]).type && (h && (d.container.style.transform = d.container.style.webkitTransform = this.mat.toCSS()),
                            this.pe._mdf && (d.perspectiveElem.style.perspective = d.perspectiveElem.style.webkitPerspective = this.pe.v + "px"));
                        this.mat.clone(this._prevMat)
                    }
                }
                this._isFirstFrame = !1
            }
            ,
            HCameraElement.prototype.prepareFrame = function(e) {
                this.prepareProperties(e, !0)
            }
            ,
            HCameraElement.prototype.destroy = function() {}
            ,
            HCameraElement.prototype.getBaseElement = function() {
                return null
            }
            ,
            HEffects.prototype.renderFrame = function() {}
            ;
            var animationManager = function() {
                var e = {}
                  , t = []
                  , i = 0
                  , a = 0
                  , n = 0
                  , r = !0
                  , s = !1;
                function o(e) {
                    for (var i = 0, n = e.target; i < a; )
                        t[i].animation === n && (t.splice(i, 1),
                        i -= 1,
                        a -= 1,
                        n.isPaused || h()),
                        i += 1
                }
                function l(e, i) {
                    if (!e)
                        return null;
                    for (var n = 0; n < a; ) {
                        if (t[n].elem == e && null !== t[n].elem)
                            return t[n].animation;
                        n += 1
                    }
                    var r = new AnimationItem;
                    return d(r, e),
                    r.setData(e, i),
                    r
                }
                function c() {
                    n += 1,
                    m()
                }
                function h() {
                    n -= 1
                }
                function d(e, i) {
                    e.addEventListener("destroy", o),
                    e.addEventListener("_active", c),
                    e.addEventListener("_idle", h),
                    t.push({
                        elem: i,
                        animation: e
                    }),
                    a += 1
                }
                function p(e) {
                    var o, l = e - i;
                    for (o = 0; o < a; o += 1)
                        t[o].animation.advanceTime(l);
                    i = e,
                    n && !s ? window.requestAnimationFrame(p) : r = !0
                }
                function u(e) {
                    i = e,
                    window.requestAnimationFrame(p)
                }
                function m() {
                    !s && n && r && (window.requestAnimationFrame(u),
                    r = !1)
                }
                return e.registerAnimation = l,
                e.loadAnimation = function(e) {
                    var t = new AnimationItem;
                    return d(t, null),
                    t.setParams(e),
                    t
                }
                ,
                e.setSpeed = function(e, i) {
                    var n;
                    for (n = 0; n < a; n += 1)
                        t[n].animation.setSpeed(e, i)
                }
                ,
                e.setDirection = function(e, i) {
                    var n;
                    for (n = 0; n < a; n += 1)
                        t[n].animation.setDirection(e, i)
                }
                ,
                e.play = function(e) {
                    var i;
                    for (i = 0; i < a; i += 1)
                        t[i].animation.play(e)
                }
                ,
                e.pause = function(e) {
                    var i;
                    for (i = 0; i < a; i += 1)
                        t[i].animation.pause(e)
                }
                ,
                e.stop = function(e) {
                    var i;
                    for (i = 0; i < a; i += 1)
                        t[i].animation.stop(e)
                }
                ,
                e.togglePause = function(e) {
                    var i;
                    for (i = 0; i < a; i += 1)
                        t[i].animation.togglePause(e)
                }
                ,
                e.searchAnimations = function(e, t, i) {
                    var a, n = [].concat([].slice.call(document.getElementsByClassName("lottie")), [].slice.call(document.getElementsByClassName("bodymovin"))), r = n.length;
                    for (a = 0; a < r; a += 1)
                        i && n[a].setAttribute("data-bm-type", i),
                        l(n[a], e);
                    if (t && 0 === r) {
                        i || (i = "svg");
                        var s = document.getElementsByTagName("body")[0];
                        s.innerHTML = "";
                        var o = createTag("div");
                        o.style.width = "100%",
                        o.style.height = "100%",
                        o.setAttribute("data-bm-type", i),
                        s.appendChild(o),
                        l(o, e)
                    }
                }
                ,
                e.resize = function() {
                    var e;
                    for (e = 0; e < a; e += 1)
                        t[e].animation.resize()
                }
                ,
                e.goToAndStop = function(e, i, n) {
                    var r;
                    for (r = 0; r < a; r += 1)
                        t[r].animation.goToAndStop(e, i, n)
                }
                ,
                e.destroy = function(e) {
                    var i;
                    for (i = a - 1; i >= 0; i -= 1)
                        t[i].animation.destroy(e)
                }
                ,
                e.freeze = function() {
                    s = !0
                }
                ,
                e.unfreeze = function() {
                    s = !1,
                    m()
                }
                ,
                e.getRegisteredAnimations = function() {
                    var e, i = t.length, a = [];
                    for (e = 0; e < i; e += 1)
                        a.push(t[e].animation);
                    return a
                }
                ,
                e
            }()
              , AnimationItem = function() {
                this._cbs = [],
                this.name = "",
                this.path = "",
                this.isLoaded = !1,
                this.currentFrame = 0,
                this.currentRawFrame = 0,
                this.totalFrames = 0,
                this.frameRate = 0,
                this.frameMult = 0,
                this.playSpeed = 1,
                this.playDirection = 1,
                this.playCount = 0,
                this.animationData = {},
                this.assets = [],
                this.isPaused = !0,
                this.autoplay = !1,
                this.loop = !0,
                this.renderer = null,
                this.animationID = createElementID(),
                this.assetsPath = "",
                this.timeCompleted = 0,
                this.segmentPos = 0,
                this.subframeEnabled = subframeEnabled,
                this.segments = [],
                this._idle = !0,
                this._completedLoop = !1,
                this.projectInterface = ProjectInterface(),
                this.imagePreloader = new ImagePreloader
            };
            extendPrototype([BaseEvent], AnimationItem),
            AnimationItem.prototype.setParams = function(e) {
                e.context && (this.context = e.context),
                (e.wrapper || e.container) && (this.wrapper = e.wrapper || e.container);
                var t = e.animType ? e.animType : e.renderer ? e.renderer : "svg";
                switch (t) {
                case "canvas":
                    this.renderer = new CanvasRenderer(this,e.rendererSettings);
                    break;
                case "svg":
                    this.renderer = new SVGRenderer(this,e.rendererSettings);
                    break;
                default:
                    this.renderer = new HybridRenderer(this,e.rendererSettings)
                }
                this.renderer.setProjectInterface(this.projectInterface),
                this.animType = t,
                "" === e.loop || null === e.loop || (!1 === e.loop ? this.loop = !1 : !0 === e.loop ? this.loop = !0 : this.loop = parseInt(e.loop)),
                this.autoplay = !("autoplay"in e) || e.autoplay,
                this.name = e.name ? e.name : "",
                this.autoloadSegments = !e.hasOwnProperty("autoloadSegments") || e.autoloadSegments,
                this.assetsPath = e.assetsPath,
                e.animationData ? this.configAnimation(e.animationData) : e.path && ("json" != e.path.substr(-4) && ("/" != e.path.substr(-1, 1) && (e.path += "/"),
                e.path += "data.json"),
                -1 != e.path.lastIndexOf("\\") ? this.path = e.path.substr(0, e.path.lastIndexOf("\\") + 1) : this.path = e.path.substr(0, e.path.lastIndexOf("/") + 1),
                this.fileName = e.path.substr(e.path.lastIndexOf("/") + 1),
                this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf(".json")),
                assetLoader.load(e.path, this.configAnimation.bind(this), function() {
                    this.trigger("data_failed")
                }
                .bind(this)))
            }
            ,
            AnimationItem.prototype.setData = function(e, t) {
                var i = {
                    wrapper: e,
                    animationData: t ? "object" === typeof t ? t : JSON.parse(t) : null
                }
                  , a = e.attributes;
                i.path = a.getNamedItem("data-animation-path") ? a.getNamedItem("data-animation-path").value : a.getNamedItem("data-bm-path") ? a.getNamedItem("data-bm-path").value : a.getNamedItem("bm-path") ? a.getNamedItem("bm-path").value : "",
                i.animType = a.getNamedItem("data-anim-type") ? a.getNamedItem("data-anim-type").value : a.getNamedItem("data-bm-type") ? a.getNamedItem("data-bm-type").value : a.getNamedItem("bm-type") ? a.getNamedItem("bm-type").value : a.getNamedItem("data-bm-renderer") ? a.getNamedItem("data-bm-renderer").value : a.getNamedItem("bm-renderer") ? a.getNamedItem("bm-renderer").value : "canvas";
                var n = a.getNamedItem("data-anim-loop") ? a.getNamedItem("data-anim-loop").value : a.getNamedItem("data-bm-loop") ? a.getNamedItem("data-bm-loop").value : a.getNamedItem("bm-loop") ? a.getNamedItem("bm-loop").value : "";
                "" === n || (i.loop = "false" !== n && ("true" === n || parseInt(n)));
                var r = a.getNamedItem("data-anim-autoplay") ? a.getNamedItem("data-anim-autoplay").value : a.getNamedItem("data-bm-autoplay") ? a.getNamedItem("data-bm-autoplay").value : !a.getNamedItem("bm-autoplay") || a.getNamedItem("bm-autoplay").value;
                i.autoplay = "false" !== r,
                i.name = a.getNamedItem("data-name") ? a.getNamedItem("data-name").value : a.getNamedItem("data-bm-name") ? a.getNamedItem("data-bm-name").value : a.getNamedItem("bm-name") ? a.getNamedItem("bm-name").value : "",
                "false" === (a.getNamedItem("data-anim-prerender") ? a.getNamedItem("data-anim-prerender").value : a.getNamedItem("data-bm-prerender") ? a.getNamedItem("data-bm-prerender").value : a.getNamedItem("bm-prerender") ? a.getNamedItem("bm-prerender").value : "") && (i.prerender = !1),
                this.setParams(i)
            }
            ,
            AnimationItem.prototype.includeLayers = function(e) {
                e.op > this.animationData.op && (this.animationData.op = e.op,
                this.totalFrames = Math.floor(e.op - this.animationData.ip));
                var t, i, a = this.animationData.layers, n = a.length, r = e.layers, s = r.length;
                for (i = 0; i < s; i += 1)
                    for (t = 0; t < n; ) {
                        if (a[t].id == r[i].id) {
                            a[t] = r[i];
                            break
                        }
                        t += 1
                    }
                if ((e.chars || e.fonts) && (this.renderer.globalData.fontManager.addChars(e.chars),
                this.renderer.globalData.fontManager.addFonts(e.fonts, this.renderer.globalData.defs)),
                e.assets)
                    for (n = e.assets.length,
                    t = 0; t < n; t += 1)
                        this.animationData.assets.push(e.assets[t]);
                this.animationData.__complete = !1,
                dataManager.completeData(this.animationData, this.renderer.globalData.fontManager),
                this.renderer.includeLayers(e.layers),
                expressionsPlugin && expressionsPlugin.initExpressions(this),
                this.loadNextSegment()
            }
            ,
            AnimationItem.prototype.loadNextSegment = function() {
                var e = this.animationData.segments;
                if (!e || 0 === e.length || !this.autoloadSegments)
                    return this.trigger("data_ready"),
                    void (this.timeCompleted = this.totalFrames);
                var t = e.shift();
                this.timeCompleted = t.time * this.frameRate;
                var i = this.path + this.fileName + "_" + this.segmentPos + ".json";
                this.segmentPos += 1,
                assetLoader.load(i, this.includeLayers.bind(this), function() {
                    this.trigger("data_failed")
                }
                .bind(this))
            }
            ,
            AnimationItem.prototype.loadSegments = function() {
                this.animationData.segments || (this.timeCompleted = this.totalFrames),
                this.loadNextSegment()
            }
            ,
            AnimationItem.prototype.imagesLoaded = function() {
                this.trigger("loaded_images"),
                this.checkLoaded()
            }
            ,
            AnimationItem.prototype.preloadImages = function() {
                this.imagePreloader.setAssetsPath(this.assetsPath),
                this.imagePreloader.setPath(this.path),
                this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this))
            }
            ,
            AnimationItem.prototype.configAnimation = function(e) {
                this.renderer && (this.animationData = e,
                this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip),
                this.renderer.configAnimation(e),
                e.assets || (e.assets = []),
                this.renderer.searchExtraCompositions(e.assets),
                this.assets = this.animationData.assets,
                this.frameRate = this.animationData.fr,
                this.firstFrame = Math.round(this.animationData.ip),
                this.frameMult = this.animationData.fr / 1e3,
                this.trigger("config_ready"),
                this.preloadImages(),
                this.loadSegments(),
                this.updaFrameModifier(),
                this.waitForFontsLoaded())
            }
            ,
            AnimationItem.prototype.waitForFontsLoaded = function() {
                this.renderer && (this.renderer.globalData.fontManager.loaded() ? this.checkLoaded() : setTimeout(this.waitForFontsLoaded.bind(this), 20))
            }
            ,
            AnimationItem.prototype.checkLoaded = function() {
                this.isLoaded || !this.renderer.globalData.fontManager.loaded() || !this.imagePreloader.loaded() && "canvas" === this.renderer.rendererType || (this.isLoaded = !0,
                dataManager.completeData(this.animationData, this.renderer.globalData.fontManager),
                expressionsPlugin && expressionsPlugin.initExpressions(this),
                this.renderer.initItems(),
                setTimeout(function() {
                    this.trigger("DOMLoaded")
                }
                .bind(this), 0),
                this.gotoFrame(),
                this.autoplay && this.play())
            }
            ,
            AnimationItem.prototype.resize = function() {
                this.renderer.updateContainerSize()
            }
            ,
            AnimationItem.prototype.setSubframe = function(e) {
                this.subframeEnabled = !!e
            }
            ,
            AnimationItem.prototype.gotoFrame = function() {
                this.currentFrame = this.subframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame,
                this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted && (this.currentFrame = this.timeCompleted),
                this.trigger("enterFrame"),
                this.renderFrame()
            }
            ,
            AnimationItem.prototype.renderFrame = function() {
                !1 !== this.isLoaded && this.renderer.renderFrame(this.currentFrame + this.firstFrame)
            }
            ,
            AnimationItem.prototype.play = function(e) {
                e && this.name != e || !0 === this.isPaused && (this.isPaused = !1,
                this._idle && (this._idle = !1,
                this.trigger("_active")))
            }
            ,
            AnimationItem.prototype.pause = function(e) {
                e && this.name != e || !1 === this.isPaused && (this.isPaused = !0,
                this._idle = !0,
                this.trigger("_idle"))
            }
            ,
            AnimationItem.prototype.togglePause = function(e) {
                e && this.name != e || (!0 === this.isPaused ? this.play() : this.pause())
            }
            ,
            AnimationItem.prototype.stop = function(e) {
                e && this.name != e || (this.pause(),
                this.playCount = 0,
                this._completedLoop = !1,
                this.setCurrentRawFrameValue(0))
            }
            ,
            AnimationItem.prototype.goToAndStop = function(e, t, i) {
                i && this.name != i || (t ? this.setCurrentRawFrameValue(e) : this.setCurrentRawFrameValue(e * this.frameModifier),
                this.pause())
            }
            ,
            AnimationItem.prototype.goToAndPlay = function(e, t, i) {
                this.goToAndStop(e, t, i),
                this.play()
            }
            ,
            AnimationItem.prototype.advanceTime = function(e) {
                if (!0 !== this.isPaused && !1 !== this.isLoaded) {
                    var t = this.currentRawFrame + e * this.frameModifier
                      , i = !1;
                    t >= this.totalFrames - 1 && this.frameModifier > 0 ? this.loop && this.playCount !== this.loop ? t >= this.totalFrames ? (this.playCount += 1,
                    this.checkSegments(t % this.totalFrames) || (this.setCurrentRawFrameValue(t % this.totalFrames),
                    this._completedLoop = !0,
                    this.trigger("loopComplete"))) : this.setCurrentRawFrameValue(t) : this.checkSegments(t > this.totalFrames ? t % this.totalFrames : 0) || (i = !0,
                    t = this.totalFrames - 1) : t < 0 ? this.checkSegments(t % this.totalFrames) || (!this.loop || this.playCount-- <= 0 && !0 !== this.loop ? (i = !0,
                    t = 0) : (this.setCurrentRawFrameValue(this.totalFrames + t % this.totalFrames),
                    this._completedLoop ? this.trigger("loopComplete") : this._completedLoop = !0)) : this.setCurrentRawFrameValue(t),
                    i && (this.setCurrentRawFrameValue(t),
                    this.pause(),
                    this.trigger("complete"))
                }
            }
            ,
            AnimationItem.prototype.adjustSegment = function(e, t) {
                this.playCount = 0,
                e[1] < e[0] ? (this.frameModifier > 0 && (this.playSpeed < 0 ? this.setSpeed(-this.playSpeed) : this.setDirection(-1)),
                this.timeCompleted = this.totalFrames = e[0] - e[1],
                this.firstFrame = e[1],
                this.setCurrentRawFrameValue(this.totalFrames - .001 - t)) : e[1] > e[0] && (this.frameModifier < 0 && (this.playSpeed < 0 ? this.setSpeed(-this.playSpeed) : this.setDirection(1)),
                this.timeCompleted = this.totalFrames = e[1] - e[0],
                this.firstFrame = e[0],
                this.setCurrentRawFrameValue(.001 + t)),
                this.trigger("segmentStart")
            }
            ,
            AnimationItem.prototype.setSegment = function(e, t) {
                var i = -1;
                this.isPaused && (this.currentRawFrame + this.firstFrame < e ? i = e : this.currentRawFrame + this.firstFrame > t && (i = t - e)),
                this.firstFrame = e,
                this.timeCompleted = this.totalFrames = t - e,
                -1 !== i && this.goToAndStop(i, !0)
            }
            ,
            AnimationItem.prototype.playSegments = function(e, t) {
                if (t && (this.segments.length = 0),
                "object" === typeof e[0]) {
                    var i, a = e.length;
                    for (i = 0; i < a; i += 1)
                        this.segments.push(e[i])
                } else
                    this.segments.push(e);
                this.segments.length && t && this.adjustSegment(this.segments.shift(), 0),
                this.isPaused && this.play()
            }
            ,
            AnimationItem.prototype.resetSegments = function(e) {
                this.segments.length = 0,
                this.segments.push([this.animationData.ip, this.animationData.op]),
                e && this.checkSegments(0)
            }
            ,
            AnimationItem.prototype.checkSegments = function(e) {
                return !!this.segments.length && (this.adjustSegment(this.segments.shift(), e),
                !0)
            }
            ,
            AnimationItem.prototype.destroy = function(e) {
                e && this.name != e || !this.renderer || (this.renderer.destroy(),
                this.imagePreloader.destroy(),
                this.trigger("destroy"),
                this._cbs = null,
                this.onEnterFrame = this.onLoopComplete = this.onComplete = this.onSegmentStart = this.onDestroy = null,
                this.renderer = null)
            }
            ,
            AnimationItem.prototype.setCurrentRawFrameValue = function(e) {
                this.currentRawFrame = e,
                this.gotoFrame()
            }
            ,
            AnimationItem.prototype.setSpeed = function(e) {
                this.playSpeed = e,
                this.updaFrameModifier()
            }
            ,
            AnimationItem.prototype.setDirection = function(e) {
                this.playDirection = e < 0 ? -1 : 1,
                this.updaFrameModifier()
            }
            ,
            AnimationItem.prototype.updaFrameModifier = function() {
                this.frameModifier = this.frameMult * this.playSpeed * this.playDirection
            }
            ,
            AnimationItem.prototype.getPath = function() {
                return this.path
            }
            ,
            AnimationItem.prototype.getAssetsPath = function(e) {
                var t = "";
                if (e.e)
                    t = e.p;
                else if (this.assetsPath) {
                    var i = e.p;
                    -1 !== i.indexOf("images/") && (i = i.split("/")[1]),
                    t = this.assetsPath + i
                } else
                    t = this.path,
                    t += e.u ? e.u : "",
                    t += e.p;
                return t
            }
            ,
            AnimationItem.prototype.getAssetData = function(e) {
                for (var t = 0, i = this.assets.length; t < i; ) {
                    if (e == this.assets[t].id)
                        return this.assets[t];
                    t += 1
                }
            }
            ,
            AnimationItem.prototype.hide = function() {
                this.renderer.hide()
            }
            ,
            AnimationItem.prototype.show = function() {
                this.renderer.show()
            }
            ,
            AnimationItem.prototype.getDuration = function(e) {
                return e ? this.totalFrames : this.totalFrames / this.frameRate
            }
            ,
            AnimationItem.prototype.trigger = function(e) {
                if (this._cbs && this._cbs[e])
                    switch (e) {
                    case "enterFrame":
                        this.triggerEvent(e, new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));
                        break;
                    case "loopComplete":
                        this.triggerEvent(e, new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));
                        break;
                    case "complete":
                        this.triggerEvent(e, new BMCompleteEvent(e,this.frameMult));
                        break;
                    case "segmentStart":
                        this.triggerEvent(e, new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));
                        break;
                    case "destroy":
                        this.triggerEvent(e, new BMDestroyEvent(e,this));
                        break;
                    default:
                        this.triggerEvent(e)
                    }
                "enterFrame" === e && this.onEnterFrame && this.onEnterFrame.call(this, new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),
                "loopComplete" === e && this.onLoopComplete && this.onLoopComplete.call(this, new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),
                "complete" === e && this.onComplete && this.onComplete.call(this, new BMCompleteEvent(e,this.frameMult)),
                "segmentStart" === e && this.onSegmentStart && this.onSegmentStart.call(this, new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),
                "destroy" === e && this.onDestroy && this.onDestroy.call(this, new BMDestroyEvent(e,this))
            }
            ;
            var Expressions = function() {
                var e = {};
                return e.initExpressions = function(e) {
                    var t = 0
                      , i = [];
                    e.renderer.compInterface = CompExpressionInterface(e.renderer),
                    e.renderer.globalData.projectInterface.registerComposition(e.renderer),
                    e.renderer.globalData.pushExpression = function() {
                        t += 1
                    }
                    ,
                    e.renderer.globalData.popExpression = function() {
                        0 === (t -= 1) && function() {
                            var e, t = i.length;
                            for (e = 0; e < t; e += 1)
                                i[e].release();
                            i.length = 0
                        }()
                    }
                    ,
                    e.renderer.globalData.registerExpressionProperty = function(e) {
                        -1 === i.indexOf(e) && i.push(e)
                    }
                }
                ,
                e
            }();
            expressionsPlugin = Expressions;
            var ExpressionManager = function() {
                var ob = {}
                  , Math = BMMath
                  , window = null
                  , document = null;
                function $bm_isInstanceOfArray(e) {
                    return e.constructor === Array || e.constructor === Float32Array
                }
                function isNumerable(e, t) {
                    return "number" === e || "boolean" === e || "string" === e || t instanceof Number
                }
                function $bm_neg(e) {
                    var t = typeof e;
                    if ("number" === t || "boolean" === t || e instanceof Number)
                        return -e;
                    if ($bm_isInstanceOfArray(e)) {
                        var i, a = e.length, n = [];
                        for (i = 0; i < a; i += 1)
                            n[i] = -e[i];
                        return n
                    }
                    return e.propType ? e.v : void 0
                }
                var easeInBez = BezierFactory.getBezierEasing(.333, 0, .833, .833, "easeIn").get
                  , easeOutBez = BezierFactory.getBezierEasing(.167, .167, .667, 1, "easeOut").get
                  , easeInOutBez = BezierFactory.getBezierEasing(.33, 0, .667, 1, "easeInOut").get;
                function sum(e, t) {
                    var i = typeof e
                      , a = typeof t;
                    if ("string" === i || "string" === a)
                        return e + t;
                    if (isNumerable(i, e) && isNumerable(a, t))
                        return e + t;
                    if ($bm_isInstanceOfArray(e) && isNumerable(a, t))
                        return (e = e.slice(0))[0] = e[0] + t,
                        e;
                    if (isNumerable(i, e) && $bm_isInstanceOfArray(t))
                        return (t = t.slice(0))[0] = e + t[0],
                        t;
                    if ($bm_isInstanceOfArray(e) && $bm_isInstanceOfArray(t)) {
                        for (var n = 0, r = e.length, s = t.length, o = []; n < r || n < s; )
                            ("number" === typeof e[n] || e[n]instanceof Number) && ("number" === typeof t[n] || t[n]instanceof Number) ? o[n] = e[n] + t[n] : o[n] = void 0 === t[n] ? e[n] : e[n] || t[n],
                            n += 1;
                        return o
                    }
                    return 0
                }
                var add = sum;
                function sub(e, t) {
                    var i = typeof e
                      , a = typeof t;
                    if (isNumerable(i, e) && isNumerable(a, t))
                        return "string" === i && (e = parseInt(e)),
                        "string" === a && (t = parseInt(t)),
                        e - t;
                    if ($bm_isInstanceOfArray(e) && isNumerable(a, t))
                        return (e = e.slice(0))[0] = e[0] - t,
                        e;
                    if (isNumerable(i, e) && $bm_isInstanceOfArray(t))
                        return (t = t.slice(0))[0] = e - t[0],
                        t;
                    if ($bm_isInstanceOfArray(e) && $bm_isInstanceOfArray(t)) {
                        for (var n = 0, r = e.length, s = t.length, o = []; n < r || n < s; )
                            ("number" === typeof e[n] || e[n]instanceof Number) && ("number" === typeof t[n] || t[n]instanceof Number) ? o[n] = e[n] - t[n] : o[n] = void 0 === t[n] ? e[n] : e[n] || t[n],
                            n += 1;
                        return o
                    }
                    return 0
                }
                function mul(e, t) {
                    var i, a, n, r = typeof e, s = typeof t;
                    if (isNumerable(r, e) && isNumerable(s, t))
                        return e * t;
                    if ($bm_isInstanceOfArray(e) && isNumerable(s, t)) {
                        for (n = e.length,
                        i = createTypedArray("float32", n),
                        a = 0; a < n; a += 1)
                            i[a] = e[a] * t;
                        return i
                    }
                    if (isNumerable(r, e) && $bm_isInstanceOfArray(t)) {
                        for (n = t.length,
                        i = createTypedArray("float32", n),
                        a = 0; a < n; a += 1)
                            i[a] = e * t[a];
                        return i
                    }
                    return 0
                }
                function div(e, t) {
                    var i, a, n, r = typeof e, s = typeof t;
                    if (isNumerable(r, e) && isNumerable(s, t))
                        return e / t;
                    if ($bm_isInstanceOfArray(e) && isNumerable(s, t)) {
                        for (n = e.length,
                        i = createTypedArray("float32", n),
                        a = 0; a < n; a += 1)
                            i[a] = e[a] / t;
                        return i
                    }
                    if (isNumerable(r, e) && $bm_isInstanceOfArray(t)) {
                        for (n = t.length,
                        i = createTypedArray("float32", n),
                        a = 0; a < n; a += 1)
                            i[a] = e / t[a];
                        return i
                    }
                    return 0
                }
                function mod(e, t) {
                    return "string" === typeof e && (e = parseInt(e)),
                    "string" === typeof t && (t = parseInt(t)),
                    e % t
                }
                var $bm_sum = sum
                  , $bm_sub = sub
                  , $bm_mul = mul
                  , $bm_div = div
                  , $bm_mod = mod;
                function clamp(e, t, i) {
                    if (t > i) {
                        var a = i;
                        i = t,
                        t = a
                    }
                    return Math.min(Math.max(e, t), i)
                }
                function radiansToDegrees(e) {
                    return e / degToRads
                }
                var radians_to_degrees = radiansToDegrees;
                function degreesToRadians(e) {
                    return e * degToRads
                }
                var degrees_to_radians = radiansToDegrees
                  , helperLengthArray = [0, 0, 0, 0, 0, 0];
                function length(e, t) {
                    if ("number" === typeof e || e instanceof Number)
                        return t = t || 0,
                        Math.abs(e - t);
                    t || (t = helperLengthArray);
                    var i, a = Math.min(e.length, t.length), n = 0;
                    for (i = 0; i < a; i += 1)
                        n += Math.pow(t[i] - e[i], 2);
                    return Math.sqrt(n)
                }
                function normalize(e) {
                    return div(e, length(e))
                }
                function rgbToHsl(e) {
                    var t, i, a = e[0], n = e[1], r = e[2], s = Math.max(a, n, r), o = Math.min(a, n, r), l = (s + o) / 2;
                    if (s == o)
                        t = i = 0;
                    else {
                        var c = s - o;
                        switch (i = l > .5 ? c / (2 - s - o) : c / (s + o),
                        s) {
                        case a:
                            t = (n - r) / c + (n < r ? 6 : 0);
                            break;
                        case n:
                            t = (r - a) / c + 2;
                            break;
                        case r:
                            t = (a - n) / c + 4
                        }
                        t /= 6
                    }
                    return [t, i, l, e[3]]
                }
                function hue2rgb(e, t, i) {
                    return i < 0 && (i += 1),
                    i > 1 && (i -= 1),
                    i < 1 / 6 ? e + 6 * (t - e) * i : i < .5 ? t : i < 2 / 3 ? e + (t - e) * (2 / 3 - i) * 6 : e
                }
                function hslToRgb(e) {
                    var t, i, a, n = e[0], r = e[1], s = e[2];
                    if (0 === r)
                        t = i = a = s;
                    else {
                        var o = s < .5 ? s * (1 + r) : s + r - s * r
                          , l = 2 * s - o;
                        t = hue2rgb(l, o, n + 1 / 3),
                        i = hue2rgb(l, o, n),
                        a = hue2rgb(l, o, n - 1 / 3)
                    }
                    return [t, i, a, e[3]]
                }
                function linear(e, t, i, a, n) {
                    if (void 0 !== a && void 0 !== n || (a = t,
                    n = i,
                    t = 0,
                    i = 1),
                    i < t) {
                        var r = i;
                        i = t,
                        t = r
                    }
                    if (e <= t)
                        return a;
                    if (e >= i)
                        return n;
                    var s = i === t ? 0 : (e - t) / (i - t);
                    if (!a.length)
                        return a + (n - a) * s;
                    var o, l = a.length, c = createTypedArray("float32", l);
                    for (o = 0; o < l; o += 1)
                        c[o] = a[o] + (n[o] - a[o]) * s;
                    return c
                }
                function random(e, t) {
                    if (void 0 === t && (void 0 === e ? (e = 0,
                    t = 1) : (t = e,
                    e = void 0)),
                    t.length) {
                        var i, a = t.length;
                        e || (e = createTypedArray("float32", a));
                        var n = createTypedArray("float32", a)
                          , r = BMMath.random();
                        for (i = 0; i < a; i += 1)
                            n[i] = e[i] + r * (t[i] - e[i]);
                        return n
                    }
                    return void 0 === e && (e = 0),
                    e + BMMath.random() * (t - e)
                }
                function createPath(e, t, i, a) {
                    var n, r = e.length, s = shape_pool.newElement();
                    s.setPathData(!!a, r);
                    var o, l, c = [0, 0];
                    for (n = 0; n < r; n += 1)
                        o = t && t[n] ? t[n] : c,
                        l = i && i[n] ? i[n] : c,
                        s.setTripleAt(e[n][0], e[n][1], l[0] + e[n][0], l[1] + e[n][1], o[0] + e[n][0], o[1] + e[n][1], n, !0);
                    return s
                }
                function initiateExpression(elem, data, property) {
                    var val = data.x, needsVelocity = /velocity(?![\w\d])/.test(val), _needsRandom = -1 !== val.indexOf("random"), elemType = elem.data.ty, transform, $bm_transform, content, effect, thisProperty = property;
                    thisProperty.valueAtTime = thisProperty.getValueAtTime,
                    Object.defineProperty(thisProperty, "value", {
                        get: function() {
                            return thisProperty.v
                        }
                    }),
                    elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate,
                    elem.comp.displayStartTime = 0;
                    var inPoint = elem.data.ip / elem.comp.globalData.frameRate, outPoint = elem.data.op / elem.comp.globalData.frameRate, width = elem.data.sw ? elem.data.sw : 0, height = elem.data.sh ? elem.data.sh : 0, name = elem.data.nm, loopIn, loop_in, loopOut, loop_out, smooth, toWorld, fromWorld, fromComp, toComp, fromCompToSurface, position, rotation, anchorPoint, scale, thisLayer, thisComp, mask, valueAtTime, velocityAtTime, __expression_functions = [], scoped_bm_rt;
                    if (data.xf) {
                        var i, len = data.xf.length;
                        for (i = 0; i < len; i += 1)
                            __expression_functions[i] = eval("(function(){ return " + data.xf[i] + "}())")
                    }
                    var expression_function = eval("[function _expression_function(){" + val + ";scoped_bm_rt=$bm_rt}]")[0]
                      , numKeys = property.kf ? data.k.length : 0
                      , active = !this.data || !0 !== this.data.hd
                      , wiggle = function(e, t) {
                        var i, a, n = this.pv.length ? this.pv.length : 1, r = createTypedArray("float32", n);
                        var s = Math.floor(5 * time);
                        for (i = 0,
                        a = 0; i < s; ) {
                            for (a = 0; a < n; a += 1)
                                r[a] += -t + 2 * t * BMMath.random();
                            i += 1
                        }
                        var o = 5 * time
                          , l = o - Math.floor(o)
                          , c = createTypedArray("float32", n);
                        if (n > 1) {
                            for (a = 0; a < n; a += 1)
                                c[a] = this.pv[a] + r[a] + (-t + 2 * t * BMMath.random()) * l;
                            return c
                        }
                        return this.pv + r[0] + (-t + 2 * t * BMMath.random()) * l
                    }
                    .bind(this);
                    function loopInDuration(e, t) {
                        return loopIn(e, t, !0)
                    }
                    function loopOutDuration(e, t) {
                        return loopOut(e, t, !0)
                    }
                    thisProperty.loopIn && (loopIn = thisProperty.loopIn.bind(thisProperty),
                    loop_in = loopIn),
                    thisProperty.loopOut && (loopOut = thisProperty.loopOut.bind(thisProperty),
                    loop_out = loopOut),
                    thisProperty.smooth && (smooth = thisProperty.smooth.bind(thisProperty)),
                    this.getValueAtTime && (valueAtTime = this.getValueAtTime.bind(this)),
                    this.getVelocityAtTime && (velocityAtTime = this.getVelocityAtTime.bind(this));
                    var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface), time, velocity, value, text, textIndex, textTotal, selectorValue;
                    function lookAt(e, t) {
                        var i = [t[0] - e[0], t[1] - e[1], t[2] - e[2]]
                          , a = Math.atan2(i[0], Math.sqrt(i[1] * i[1] + i[2] * i[2])) / degToRads;
                        return [-Math.atan2(i[1], i[2]) / degToRads, a, 0]
                    }
                    function easeOut(e, t, i, a, n) {
                        return applyEase(easeOutBez, e, t, i, a, n)
                    }
                    function easeIn(e, t, i, a, n) {
                        return applyEase(easeInBez, e, t, i, a, n)
                    }
                    function ease(e, t, i, a, n) {
                        return applyEase(easeInOutBez, e, t, i, a, n)
                    }
                    function applyEase(e, t, i, a, n, r) {
                        void 0 === n ? (n = i,
                        r = a) : t = (t - i) / (a - i);
                        var s = e(t = t > 1 ? 1 : t < 0 ? 0 : t);
                        if ($bm_isInstanceOfArray(n)) {
                            var o, l = n.length, c = createTypedArray("float32", l);
                            for (o = 0; o < l; o += 1)
                                c[o] = (r[o] - n[o]) * s + n[o];
                            return c
                        }
                        return (r - n) * s + n
                    }
                    function nearestKey(e) {
                        var t, i, a, n = data.k.length;
                        if (data.k.length && "number" !== typeof data.k[0])
                            if (i = -1,
                            (e *= elem.comp.globalData.frameRate) < data.k[0].t)
                                i = 1,
                                a = data.k[0].t;
                            else {
                                for (t = 0; t < n - 1; t += 1) {
                                    if (e === data.k[t].t) {
                                        i = t + 1,
                                        a = data.k[t].t;
                                        break
                                    }
                                    if (e > data.k[t].t && e < data.k[t + 1].t) {
                                        e - data.k[t].t > data.k[t + 1].t - e ? (i = t + 2,
                                        a = data.k[t + 1].t) : (i = t + 1,
                                        a = data.k[t].t);
                                        break
                                    }
                                }
                                -1 === i && (i = t + 1,
                                a = data.k[t].t)
                            }
                        else
                            i = 0,
                            a = 0;
                        var r = {};
                        return r.index = i,
                        r.time = a / elem.comp.globalData.frameRate,
                        r
                    }
                    function key(e) {
                        var t, i, a, n;
                        if (!data.k.length || "number" === typeof data.k[0])
                            throw new Error("The property has no keyframe at index " + e);
                        for (e -= 1,
                        t = {
                            time: data.k[e].t / elem.comp.globalData.frameRate,
                            value: []
                        },
                        a = (n = e !== data.k.length - 1 || data.k[e].h ? data.k[e].s : data.k[e].s || 0 === data.k[e].s ? data.k[e - 1].s : data.k[e].e).length,
                        i = 0; i < a; i += 1)
                            t[i] = n[i],
                            t.value[i] = n[i];
                        return t
                    }
                    function framesToTime(e, t) {
                        return t || (t = elem.comp.globalData.frameRate),
                        e / t
                    }
                    function timeToFrames(e, t) {
                        return e || 0 === e || (e = time),
                        t || (t = elem.comp.globalData.frameRate),
                        e * t
                    }
                    function seedRandom(e) {
                        BMMath.seedrandom(randSeed + e)
                    }
                    function sourceRectAtTime() {
                        return elem.sourceRectAtTime()
                    }
                    function substring(e, t) {
                        return "string" === typeof value ? void 0 === t ? value.substring(e) : value.substring(e, t) : ""
                    }
                    function substr(e, t) {
                        return "string" === typeof value ? void 0 === t ? value.substr(e) : value.substr(e, t) : ""
                    }
                    var index = elem.data.ind, hasParent = !(!elem.hierarchy || !elem.hierarchy.length), parent, randSeed = Math.floor(1e6 * Math.random()), globalData = elem.globalData;
                    function executeExpression(e) {
                        return value = e,
                        _needsRandom && seedRandom(randSeed),
                        this.frameExpressionId === elem.globalData.frameId && "textSelector" !== this.propType ? value : ("textSelector" === this.propType && (textIndex = this.textIndex,
                        textTotal = this.textTotal,
                        selectorValue = this.selectorValue),
                        thisLayer || (text = elem.layerInterface.text,
                        thisLayer = elem.layerInterface,
                        thisComp = elem.comp.compInterface,
                        toWorld = thisLayer.toWorld.bind(thisLayer),
                        fromWorld = thisLayer.fromWorld.bind(thisLayer),
                        fromComp = thisLayer.fromComp.bind(thisLayer),
                        toComp = thisLayer.toComp.bind(thisLayer),
                        mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null,
                        fromCompToSurface = fromComp),
                        transform || (transform = elem.layerInterface("ADBE Transform Group"),
                        $bm_transform = transform,
                        transform && (anchorPoint = transform.anchorPoint)),
                        4 !== elemType || content || (content = thisLayer("ADBE Root Vectors Group")),
                        effect || (effect = thisLayer(4)),
                        (hasParent = !(!elem.hierarchy || !elem.hierarchy.length)) && !parent && (parent = elem.hierarchy[0].layerInterface),
                        time = this.comp.renderedFrame / this.comp.globalData.frameRate,
                        needsVelocity && (velocity = velocityAtTime(time)),
                        expression_function(),
                        this.frameExpressionId = elem.globalData.frameId,
                        "shape" === scoped_bm_rt.propType && (scoped_bm_rt = scoped_bm_rt.v),
                        scoped_bm_rt)
                    }
                    return executeExpression
                }
                return ob.initiateExpression = initiateExpression,
                ob
            }()
              , expressionHelpers = function() {
                return {
                    searchExpressions: function(e, t, i) {
                        t.x && (i.k = !0,
                        i.x = !0,
                        i.initiateExpression = ExpressionManager.initiateExpression,
                        i.effectsSequence.push(i.initiateExpression(e, t, i).bind(i)))
                    },
                    getSpeedAtTime: function(e) {
                        var t = this.getValueAtTime(e)
                          , i = this.getValueAtTime(e + -.01)
                          , a = 0;
                        if (t.length) {
                            var n;
                            for (n = 0; n < t.length; n += 1)
                                a += Math.pow(i[n] - t[n], 2);
                            a = 100 * Math.sqrt(a)
                        } else
                            a = 0;
                        return a
                    },
                    getVelocityAtTime: function(e) {
                        if (void 0 !== this.vel)
                            return this.vel;
                        var t, i, a = this.getValueAtTime(e), n = this.getValueAtTime(e + -.001);
                        if (a.length)
                            for (t = createTypedArray("float32", a.length),
                            i = 0; i < a.length; i += 1)
                                t[i] = (n[i] - a[i]) / -.001;
                        else
                            t = (n - a) / -.001;
                        return t
                    },
                    getValueAtTime: function(e) {
                        return e *= this.elem.globalData.frameRate,
                        (e -= this.offsetTime) !== this._cachingAtTime.lastFrame && (this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < e ? this._cachingAtTime.lastIndex : 0,
                        this._cachingAtTime.value = this.interpolateValue(e, this._cachingAtTime),
                        this._cachingAtTime.lastFrame = e),
                        this._cachingAtTime.value
                    },
                    getStaticValueAtTime: function() {
                        return this.pv
                    },
                    setGroupProperty: function(e) {
                        this.propertyGroup = e
                    }
                }
            }();
            !function() {
                function e(e, t, i) {
                    if (!this.k || !this.keyframes)
                        return this.pv;
                    e = e ? e.toLowerCase() : "";
                    var a, n, r, s, o, l = this.comp.renderedFrame, c = this.keyframes, h = c[c.length - 1].t;
                    if (l <= h)
                        return this.pv;
                    if (i ? n = h - (a = t ? Math.abs(h - elem.comp.globalData.frameRate * t) : Math.max(0, h - this.elem.data.ip)) : ((!t || t > c.length - 1) && (t = c.length - 1),
                    a = h - (n = c[c.length - 1 - t].t)),
                    "pingpong" === e) {
                        if (Math.floor((l - n) / a) % 2 !== 0)
                            return this.getValueAtTime((a - (l - n) % a + n) / this.comp.globalData.frameRate, 0)
                    } else {
                        if ("offset" === e) {
                            var d = this.getValueAtTime(n / this.comp.globalData.frameRate, 0)
                              , p = this.getValueAtTime(h / this.comp.globalData.frameRate, 0)
                              , u = this.getValueAtTime(((l - n) % a + n) / this.comp.globalData.frameRate, 0)
                              , m = Math.floor((l - n) / a);
                            if (this.pv.length) {
                                for (s = (o = new Array(d.length)).length,
                                r = 0; r < s; r += 1)
                                    o[r] = (p[r] - d[r]) * m + u[r];
                                return o
                            }
                            return (p - d) * m + u
                        }
                        if ("continue" === e) {
                            var g = this.getValueAtTime(h / this.comp.globalData.frameRate, 0)
                              , f = this.getValueAtTime((h - .001) / this.comp.globalData.frameRate, 0);
                            if (this.pv.length) {
                                for (s = (o = new Array(g.length)).length,
                                r = 0; r < s; r += 1)
                                    o[r] = g[r] + (g[r] - f[r]) * ((l - h) / this.comp.globalData.frameRate) / 5e-4;
                                return o
                            }
                            return g + (l - h) / .001 * (g - f)
                        }
                    }
                    return this.getValueAtTime(((l - n) % a + n) / this.comp.globalData.frameRate, 0)
                }
                function t(e, t, i) {
                    if (!this.k)
                        return this.pv;
                    e = e ? e.toLowerCase() : "";
                    var a, n, r, s, o, l = this.comp.renderedFrame, c = this.keyframes, h = c[0].t;
                    if (l >= h)
                        return this.pv;
                    if (i ? n = h + (a = t ? Math.abs(elem.comp.globalData.frameRate * t) : Math.max(0, this.elem.data.op - h)) : ((!t || t > c.length - 1) && (t = c.length - 1),
                    a = (n = c[t].t) - h),
                    "pingpong" === e) {
                        if (Math.floor((h - l) / a) % 2 === 0)
                            return this.getValueAtTime(((h - l) % a + h) / this.comp.globalData.frameRate, 0)
                    } else {
                        if ("offset" === e) {
                            var d = this.getValueAtTime(h / this.comp.globalData.frameRate, 0)
                              , p = this.getValueAtTime(n / this.comp.globalData.frameRate, 0)
                              , u = this.getValueAtTime((a - (h - l) % a + h) / this.comp.globalData.frameRate, 0)
                              , m = Math.floor((h - l) / a) + 1;
                            if (this.pv.length) {
                                for (s = (o = new Array(d.length)).length,
                                r = 0; r < s; r += 1)
                                    o[r] = u[r] - (p[r] - d[r]) * m;
                                return o
                            }
                            return u - (p - d) * m
                        }
                        if ("continue" === e) {
                            var g = this.getValueAtTime(h / this.comp.globalData.frameRate, 0)
                              , f = this.getValueAtTime((h + .001) / this.comp.globalData.frameRate, 0);
                            if (this.pv.length) {
                                for (s = (o = new Array(g.length)).length,
                                r = 0; r < s; r += 1)
                                    o[r] = g[r] + (g[r] - f[r]) * (h - l) / .001;
                                return o
                            }
                            return g + (g - f) * (h - l) / .001
                        }
                    }
                    return this.getValueAtTime((a - (h - l) % a + h) / this.comp.globalData.frameRate, 0)
                }
                function i(e, t) {
                    if (!this.k)
                        return this.pv;
                    if (e = .5 * (e || .4),
                    (t = Math.floor(t || 5)) <= 1)
                        return this.pv;
                    var i, a, n = this.comp.renderedFrame / this.comp.globalData.frameRate, r = n - e, s = t > 1 ? (n + e - r) / (t - 1) : 1, o = 0, l = 0;
                    for (i = this.pv.length ? createTypedArray("float32", this.pv.length) : 0; o < t; ) {
                        if (a = this.getValueAtTime(r + o * s),
                        this.pv.length)
                            for (l = 0; l < this.pv.length; l += 1)
                                i[l] += a[l];
                        else
                            i += a;
                        o += 1
                    }
                    if (this.pv.length)
                        for (l = 0; l < this.pv.length; l += 1)
                            i[l] /= t;
                    else
                        i /= t;
                    return i
                }
                var a = TransformPropertyFactory.getTransformProperty;
                TransformPropertyFactory.getTransformProperty = function(e, t, i) {
                    var n = a(e, t, i);
                    return n.dynamicProperties.length ? n.getValueAtTime = function(e) {
                        console.warn("Transform at time not supported")
                    }
                    .bind(n) : n.getValueAtTime = function(e) {}
                    .bind(n),
                    n.setGroupProperty = expressionHelpers.setGroupProperty,
                    n
                }
                ;
                var n = PropertyFactory.getProp;
                PropertyFactory.getProp = function(a, r, s, o, l) {
                    var c = n(a, r, s, o, l);
                    c.kf ? c.getValueAtTime = expressionHelpers.getValueAtTime.bind(c) : c.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(c),
                    c.setGroupProperty = expressionHelpers.setGroupProperty,
                    c.loopOut = e,
                    c.loopIn = t,
                    c.smooth = i,
                    c.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(c),
                    c.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(c),
                    c.numKeys = 1 === r.a ? r.k.length : 0,
                    c.propertyIndex = r.ix;
                    var h = 0;
                    return 0 !== s && (h = createTypedArray("float32", 1 === r.a ? r.k[0].s.length : r.k.length)),
                    c._cachingAtTime = {
                        lastFrame: initialDefaultFrame,
                        lastIndex: 0,
                        value: h
                    },
                    expressionHelpers.searchExpressions(a, r, c),
                    c.k && l.addDynamicProperty(c),
                    c
                }
                ;
                var r = ShapePropertyFactory.getConstructorFunction()
                  , s = ShapePropertyFactory.getKeyframedConstructorFunction();
                function o() {}
                o.prototype = {
                    vertices: function(e, t) {
                        this.k && this.getValue();
                        var i = this.v;
                        void 0 !== t && (i = this.getValueAtTime(t, 0));
                        var a, n = i._length, r = i[e], s = i.v, o = createSizedArray(n);
                        for (a = 0; a < n; a += 1)
                            o[a] = "i" === e || "o" === e ? [r[a][0] - s[a][0], r[a][1] - s[a][1]] : [r[a][0], r[a][1]];
                        return o
                    },
                    points: function(e) {
                        return this.vertices("v", e)
                    },
                    inTangents: function(e) {
                        return this.vertices("i", e)
                    },
                    outTangents: function(e) {
                        return this.vertices("o", e)
                    },
                    isClosed: function() {
                        return this.v.c
                    },
                    pointOnPath: function(e, t) {
                        var i = this.v;
                        void 0 !== t && (i = this.getValueAtTime(t, 0)),
                        this._segmentsLength || (this._segmentsLength = bez.getSegmentsLength(i));
                        for (var a, n = this._segmentsLength, r = n.lengths, s = n.totalLength * e, o = 0, l = r.length, c = 0; o < l; ) {
                            if (c + r[o].addedLength > s) {
                                var h = o
                                  , d = i.c && o === l - 1 ? 0 : o + 1
                                  , p = (s - c) / r[o].addedLength;
                                a = bez.getPointInSegment(i.v[h], i.v[d], i.o[h], i.i[d], p, r[o]);
                                break
                            }
                            c += r[o].addedLength,
                            o += 1
                        }
                        return a || (a = i.c ? [i.v[0][0], i.v[0][1]] : [i.v[i._length - 1][0], i.v[i._length - 1][1]]),
                        a
                    },
                    vectorOnPath: function(e, t, i) {
                        e = 1 == e ? this.v.c ? 0 : .999 : e;
                        var a = this.pointOnPath(e, t)
                          , n = this.pointOnPath(e + .001, t)
                          , r = n[0] - a[0]
                          , s = n[1] - a[1]
                          , o = Math.sqrt(Math.pow(r, 2) + Math.pow(s, 2));
                        return 0 === o ? [0, 0] : "tangent" === i ? [r / o, s / o] : [-s / o, r / o]
                    },
                    tangentOnPath: function(e, t) {
                        return this.vectorOnPath(e, t, "tangent")
                    },
                    normalOnPath: function(e, t) {
                        return this.vectorOnPath(e, t, "normal")
                    },
                    setGroupProperty: expressionHelpers.setGroupProperty,
                    getValueAtTime: expressionHelpers.getStaticValueAtTime
                },
                extendPrototype([o], r),
                extendPrototype([o], s),
                s.prototype.getValueAtTime = function(e) {
                    return this._cachingAtTime || (this._cachingAtTime = {
                        shapeValue: shape_pool.clone(this.pv),
                        lastIndex: 0,
                        lastTime: initialDefaultFrame
                    }),
                    e *= this.elem.globalData.frameRate,
                    (e -= this.offsetTime) !== this._cachingAtTime.lastTime && (this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < e ? this._caching.lastIndex : 0,
                    this._cachingAtTime.lastTime = e,
                    this.interpolateShape(e, this._cachingAtTime.shapeValue, this._cachingAtTime)),
                    this._cachingAtTime.shapeValue
                }
                ,
                s.prototype.initiateExpression = ExpressionManager.initiateExpression;
                var l = ShapePropertyFactory.getShapeProp;
                ShapePropertyFactory.getShapeProp = function(e, t, i, a, n) {
                    var r = l(e, t, i, a, n);
                    return r.propertyIndex = t.ix,
                    r.lock = !1,
                    3 === i ? expressionHelpers.searchExpressions(e, t.pt, r) : 4 === i && expressionHelpers.searchExpressions(e, t.ks, r),
                    r.k && e.addDynamicProperty(r),
                    r
                }
            }(),
            function() {
                TextProperty.prototype.getExpressionValue = function(e, t) {
                    var i = this.calculateExpression(t);
                    if (e.t !== i) {
                        var a = {};
                        return this.copyData(a, e),
                        a.t = i.toString(),
                        a.__complete = !1,
                        a
                    }
                    return e
                }
                ,
                TextProperty.prototype.searchProperty = function() {
                    var e = this.searchKeyframes()
                      , t = this.searchExpressions();
                    return this.kf = e || t,
                    this.kf
                }
                ,
                TextProperty.prototype.searchExpressions = function() {
                    if (this.data.d.x)
                        return this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this),
                        this.addEffect(this.getExpressionValue.bind(this)),
                        !0
                }
            }();
            var ShapeExpressionInterface = function() {
                function e(e, d, p) {
                    var u, m = [], g = e ? e.length : 0;
                    for (u = 0; u < g; u += 1)
                        "gr" == e[u].ty ? m.push(t(e[u], d[u], p)) : "fl" == e[u].ty ? m.push(i(e[u], d[u], p)) : "st" == e[u].ty ? m.push(a(e[u], d[u], p)) : "tm" == e[u].ty ? m.push(n(e[u], d[u], p)) : "tr" == e[u].ty || ("el" == e[u].ty ? m.push(r(e[u], d[u], p)) : "sr" == e[u].ty ? m.push(s(e[u], d[u], p)) : "sh" == e[u].ty ? m.push(h(e[u], d[u], p)) : "rc" == e[u].ty ? m.push(o(e[u], d[u], p)) : "rd" == e[u].ty ? m.push(l(e[u], d[u], p)) : "rp" == e[u].ty && m.push(c(e[u], d[u], p)));
                    return m
                }
                function t(t, i, a) {
                    var n = function(e) {
                        switch (e) {
                        case "ADBE Vectors Group":
                        case "Contents":
                        case 2:
                            return n.content;
                        default:
                            return n.transform
                        }
                    };
                    n.propertyGroup = function(e) {
                        return 1 === e ? n : a(e - 1)
                    }
                    ;
                    var r = function(t, i, a) {
                        var n, r = function(e) {
                            for (var t = 0, i = n.length; t < i; ) {
                                if (n[t]._name === e || n[t].mn === e || n[t].propertyIndex === e || n[t].ix === e || n[t].ind === e)
                                    return n[t];
                                t += 1
                            }
                            if ("number" === typeof e)
                                return n[e - 1]
                        };
                        return r.propertyGroup = function(e) {
                            return 1 === e ? r : a(e - 1)
                        }
                        ,
                        n = e(t.it, i.it, r.propertyGroup),
                        r.numProperties = n.length,
                        r.propertyIndex = t.cix,
                        r._name = t.nm,
                        r
                    }(t, i, n.propertyGroup)
                      , s = function(e, t, i) {
                        function a(e) {
                            return 1 == e ? n : i(--e)
                        }
                        t.transform.mProps.o.setGroupProperty(a),
                        t.transform.mProps.p.setGroupProperty(a),
                        t.transform.mProps.a.setGroupProperty(a),
                        t.transform.mProps.s.setGroupProperty(a),
                        t.transform.mProps.r.setGroupProperty(a),
                        t.transform.mProps.sk && (t.transform.mProps.sk.setGroupProperty(a),
                        t.transform.mProps.sa.setGroupProperty(a));
                        function n(t) {
                            return e.a.ix === t || "Anchor Point" === t ? n.anchorPoint : e.o.ix === t || "Opacity" === t ? n.opacity : e.p.ix === t || "Position" === t ? n.position : e.r.ix === t || "Rotation" === t || "ADBE Vector Rotation" === t ? n.rotation : e.s.ix === t || "Scale" === t ? n.scale : e.sk && e.sk.ix === t || "Skew" === t ? n.skew : e.sa && e.sa.ix === t || "Skew Axis" === t ? n.skewAxis : void 0
                        }
                        return t.transform.op.setGroupProperty(a),
                        Object.defineProperties(n, {
                            opacity: {
                                get: ExpressionPropertyInterface(t.transform.mProps.o)
                            },
                            position: {
                                get: ExpressionPropertyInterface(t.transform.mProps.p)
                            },
                            anchorPoint: {
                                get: ExpressionPropertyInterface(t.transform.mProps.a)
                            },
                            scale: {
                                get: ExpressionPropertyInterface(t.transform.mProps.s)
                            },
                            rotation: {
                                get: ExpressionPropertyInterface(t.transform.mProps.r)
                            },
                            skew: {
                                get: ExpressionPropertyInterface(t.transform.mProps.sk)
                            },
                            skewAxis: {
                                get: ExpressionPropertyInterface(t.transform.mProps.sa)
                            },
                            _name: {
                                value: e.nm
                            }
                        }),
                        n.ty = "tr",
                        n.mn = e.mn,
                        n.propertyGroup = i,
                        n
                    }(t.it[t.it.length - 1], i.it[i.it.length - 1], n.propertyGroup);
                    return n.content = r,
                    n.transform = s,
                    Object.defineProperty(n, "_name", {
                        get: function() {
                            return t.nm
                        }
                    }),
                    n.numProperties = t.np,
                    n.propertyIndex = t.ix,
                    n.nm = t.nm,
                    n.mn = t.mn,
                    n
                }
                function i(e, t, i) {
                    function a(e) {
                        return "Color" === e || "color" === e ? a.color : "Opacity" === e || "opacity" === e ? a.opacity : void 0
                    }
                    return Object.defineProperties(a, {
                        color: {
                            get: ExpressionPropertyInterface(t.c)
                        },
                        opacity: {
                            get: ExpressionPropertyInterface(t.o)
                        },
                        _name: {
                            value: e.nm
                        },
                        mn: {
                            value: e.mn
                        }
                    }),
                    t.c.setGroupProperty(i),
                    t.o.setGroupProperty(i),
                    a
                }
                function a(e, t, i) {
                    function a(e) {
                        return 1 === e ? ob : i(e - 1)
                    }
                    function n(e) {
                        return 1 === e ? l : a(e - 1)
                    }
                    function r(i) {
                        Object.defineProperty(l, e.d[i].nm, {
                            get: ExpressionPropertyInterface(t.d.dataProps[i].p)
                        })
                    }
                    var s, o = e.d ? e.d.length : 0, l = {};
                    for (s = 0; s < o; s += 1)
                        r(s),
                        t.d.dataProps[s].p.setGroupProperty(n);
                    function c(e) {
                        return "Color" === e || "color" === e ? c.color : "Opacity" === e || "opacity" === e ? c.opacity : "Stroke Width" === e || "stroke width" === e ? c.strokeWidth : void 0
                    }
                    return Object.defineProperties(c, {
                        color: {
                            get: ExpressionPropertyInterface(t.c)
                        },
                        opacity: {
                            get: ExpressionPropertyInterface(t.o)
                        },
                        strokeWidth: {
                            get: ExpressionPropertyInterface(t.w)
                        },
                        dash: {
                            get: function() {
                                return l
                            }
                        },
                        _name: {
                            value: e.nm
                        },
                        mn: {
                            value: e.mn
                        }
                    }),
                    t.c.setGroupProperty(a),
                    t.o.setGroupProperty(a),
                    t.w.setGroupProperty(a),
                    c
                }
                function n(e, t, i) {
                    function a(e) {
                        return 1 == e ? n : i(--e)
                    }
                    function n(t) {
                        return t === e.e.ix || "End" === t || "end" === t ? n.end : t === e.s.ix ? n.start : t === e.o.ix ? n.offset : void 0
                    }
                    return n.propertyIndex = e.ix,
                    t.s.setGroupProperty(a),
                    t.e.setGroupProperty(a),
                    t.o.setGroupProperty(a),
                    n.propertyIndex = e.ix,
                    n.propertyGroup = i,
                    Object.defineProperties(n, {
                        start: {
                            get: ExpressionPropertyInterface(t.s)
                        },
                        end: {
                            get: ExpressionPropertyInterface(t.e)
                        },
                        offset: {
                            get: ExpressionPropertyInterface(t.o)
                        },
                        _name: {
                            value: e.nm
                        }
                    }),
                    n.mn = e.mn,
                    n
                }
                function r(e, t, i) {
                    function a(e) {
                        return 1 == e ? r : i(--e)
                    }
                    r.propertyIndex = e.ix;
                    var n = "tm" === t.sh.ty ? t.sh.prop : t.sh;
                    function r(t) {
                        return e.p.ix === t ? r.position : e.s.ix === t ? r.size : void 0
                    }
                    return n.s.setGroupProperty(a),
                    n.p.setGroupProperty(a),
                    Object.defineProperties(r, {
                        size: {
                            get: ExpressionPropertyInterface(n.s)
                        },
                        position: {
                            get: ExpressionPropertyInterface(n.p)
                        },
                        _name: {
                            value: e.nm
                        }
                    }),
                    r.mn = e.mn,
                    r
                }
                function s(e, t, i) {
                    function a(e) {
                        return 1 == e ? r : i(--e)
                    }
                    var n = "tm" === t.sh.ty ? t.sh.prop : t.sh;
                    function r(t) {
                        return e.p.ix === t ? r.position : e.r.ix === t ? r.rotation : e.pt.ix === t ? r.points : e.or.ix === t || "ADBE Vector Star Outer Radius" === t ? r.outerRadius : e.os.ix === t ? r.outerRoundness : !e.ir || e.ir.ix !== t && "ADBE Vector Star Inner Radius" !== t ? e.is && e.is.ix === t ? r.innerRoundness : void 0 : r.innerRadius
                    }
                    return r.propertyIndex = e.ix,
                    n.or.setGroupProperty(a),
                    n.os.setGroupProperty(a),
                    n.pt.setGroupProperty(a),
                    n.p.setGroupProperty(a),
                    n.r.setGroupProperty(a),
                    e.ir && (n.ir.setGroupProperty(a),
                    n.is.setGroupProperty(a)),
                    Object.defineProperties(r, {
                        position: {
                            get: ExpressionPropertyInterface(n.p)
                        },
                        rotation: {
                            get: ExpressionPropertyInterface(n.r)
                        },
                        points: {
                            get: ExpressionPropertyInterface(n.pt)
                        },
                        outerRadius: {
                            get: ExpressionPropertyInterface(n.or)
                        },
                        outerRoundness: {
                            get: ExpressionPropertyInterface(n.os)
                        },
                        innerRadius: {
                            get: ExpressionPropertyInterface(n.ir)
                        },
                        innerRoundness: {
                            get: ExpressionPropertyInterface(n.is)
                        },
                        _name: {
                            value: e.nm
                        }
                    }),
                    r.mn = e.mn,
                    r
                }
                function o(e, t, i) {
                    function a(e) {
                        return 1 == e ? r : i(--e)
                    }
                    var n = "tm" === t.sh.ty ? t.sh.prop : t.sh;
                    function r(t) {
                        return e.p.ix === t ? r.position : e.r.ix === t ? r.roundness : e.s.ix === t || "Size" === t || "ADBE Vector Rect Size" === t ? r.size : void 0
                    }
                    return r.propertyIndex = e.ix,
                    n.p.setGroupProperty(a),
                    n.s.setGroupProperty(a),
                    n.r.setGroupProperty(a),
                    Object.defineProperties(r, {
                        position: {
                            get: ExpressionPropertyInterface(n.p)
                        },
                        roundness: {
                            get: ExpressionPropertyInterface(n.r)
                        },
                        size: {
                            get: ExpressionPropertyInterface(n.s)
                        },
                        _name: {
                            value: e.nm
                        }
                    }),
                    r.mn = e.mn,
                    r
                }
                function l(e, t, i) {
                    var a = t;
                    function n(t) {
                        if (e.r.ix === t || "Round Corners 1" === t)
                            return n.radius
                    }
                    return n.propertyIndex = e.ix,
                    a.rd.setGroupProperty(function(e) {
                        return 1 == e ? n : i(--e)
                    }),
                    Object.defineProperties(n, {
                        radius: {
                            get: ExpressionPropertyInterface(a.rd)
                        },
                        _name: {
                            value: e.nm
                        }
                    }),
                    n.mn = e.mn,
                    n
                }
                function c(e, t, i) {
                    function a(e) {
                        return 1 == e ? r : i(--e)
                    }
                    var n = t;
                    function r(t) {
                        return e.c.ix === t || "Copies" === t ? r.copies : e.o.ix === t || "Offset" === t ? r.offset : void 0
                    }
                    return r.propertyIndex = e.ix,
                    n.c.setGroupProperty(a),
                    n.o.setGroupProperty(a),
                    Object.defineProperties(r, {
                        copies: {
                            get: ExpressionPropertyInterface(n.c)
                        },
                        offset: {
                            get: ExpressionPropertyInterface(n.o)
                        },
                        _name: {
                            value: e.nm
                        }
                    }),
                    r.mn = e.mn,
                    r
                }
                function h(e, t, i) {
                    var a = t.sh;
                    function n(e) {
                        if ("Shape" === e || "shape" === e || "Path" === e || "path" === e || "ADBE Vector Shape" === e || 2 === e)
                            return n.path
                    }
                    return a.setGroupProperty(function(e) {
                        return 1 == e ? n : i(--e)
                    }),
                    Object.defineProperties(n, {
                        path: {
                            get: function() {
                                return a.k && a.getValue(),
                                a
                            }
                        },
                        shape: {
                            get: function() {
                                return a.k && a.getValue(),
                                a
                            }
                        },
                        _name: {
                            value: e.nm
                        },
                        ix: {
                            value: e.ix
                        },
                        mn: {
                            value: e.mn
                        }
                    }),
                    n
                }
                return function(t, i, a) {
                    var n;
                    function r(e) {
                        if ("number" === typeof e)
                            return n[e - 1];
                        for (var t = 0, i = n.length; t < i; ) {
                            if (n[t]._name === e)
                                return n[t];
                            t += 1
                        }
                    }
                    return r.propertyGroup = a,
                    n = e(t, i, r),
                    r.numProperties = n.length,
                    r
                }
            }()
              , TextExpressionInterface = function(e) {
                var t;
                function i() {}
                return Object.defineProperty(i, "sourceText", {
                    get: function() {
                        e.textProperty.getValue();
                        var i = e.textProperty.currentData.t;
                        return void 0 !== i && (e.textProperty.currentData.t = void 0,
                        (t = new String(i)).value = i || new String(i)),
                        t
                    }
                }),
                i
            }
              , LayerExpressionInterface = function() {
                function e(e, t) {
                    var i = new Matrix;
                    if (i.reset(),
                    this._elem.finalTransform.mProp.applyToMatrix(i),
                    this._elem.hierarchy && this._elem.hierarchy.length) {
                        var a, n = this._elem.hierarchy.length;
                        for (a = 0; a < n; a += 1)
                            this._elem.hierarchy[a].finalTransform.mProp.applyToMatrix(i);
                        return i.applyToPointArray(e[0], e[1], e[2] || 0)
                    }
                    return i.applyToPointArray(e[0], e[1], e[2] || 0)
                }
                function t(e, t) {
                    var i = new Matrix;
                    if (i.reset(),
                    this._elem.finalTransform.mProp.applyToMatrix(i),
                    this._elem.hierarchy && this._elem.hierarchy.length) {
                        var a, n = this._elem.hierarchy.length;
                        for (a = 0; a < n; a += 1)
                            this._elem.hierarchy[a].finalTransform.mProp.applyToMatrix(i);
                        return i.inversePoint(e)
                    }
                    return i.inversePoint(e)
                }
                function i(e) {
                    var t = new Matrix;
                    if (t.reset(),
                    this._elem.finalTransform.mProp.applyToMatrix(t),
                    this._elem.hierarchy && this._elem.hierarchy.length) {
                        var i, a = this._elem.hierarchy.length;
                        for (i = 0; i < a; i += 1)
                            this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(t);
                        return t.inversePoint(e)
                    }
                    return t.inversePoint(e)
                }
                function a() {
                    return [1, 1, 1, 1]
                }
                return function(n) {
                    var r;
                    function s(e) {
                        switch (e) {
                        case "ADBE Root Vectors Group":
                        case "Contents":
                        case 2:
                            return s.shapeInterface;
                        case 1:
                        case 6:
                        case "Transform":
                        case "transform":
                        case "ADBE Transform Group":
                            return r;
                        case 4:
                        case "ADBE Effect Parade":
                        case "effects":
                        case "Effects":
                            return s.effect
                        }
                    }
                    s.toWorld = e,
                    s.fromWorld = t,
                    s.toComp = e,
                    s.fromComp = i,
                    s.sampleImage = a,
                    s.sourceRectAtTime = n.sourceRectAtTime.bind(n),
                    s._elem = n;
                    var o = getDescriptor(r = TransformExpressionInterface(n.finalTransform.mProp), "anchorPoint");
                    return Object.defineProperties(s, {
                        hasParent: {
                            get: function() {
                                return n.hierarchy.length
                            }
                        },
                        parent: {
                            get: function() {
                                return n.hierarchy[0].layerInterface
                            }
                        },
                        rotation: getDescriptor(r, "rotation"),
                        scale: getDescriptor(r, "scale"),
                        position: getDescriptor(r, "position"),
                        opacity: getDescriptor(r, "opacity"),
                        anchorPoint: o,
                        anchor_point: o,
                        transform: {
                            get: function() {
                                return r
                            }
                        },
                        active: {
                            get: function() {
                                return n.isInRange
                            }
                        }
                    }),
                    s.startTime = n.data.st,
                    s.index = n.data.ind,
                    s.source = n.data.refId,
                    s.height = 0 === n.data.ty ? n.data.h : 100,
                    s.width = 0 === n.data.ty ? n.data.w : 100,
                    s.inPoint = n.data.ip / n.comp.globalData.frameRate,
                    s.outPoint = n.data.op / n.comp.globalData.frameRate,
                    s._name = n.data.nm,
                    s.registerMaskInterface = function(e) {
                        s.mask = new MaskManagerInterface(e,n)
                    }
                    ,
                    s.registerEffectsInterface = function(e) {
                        s.effect = e
                    }
                    ,
                    s
                }
            }()
              , CompExpressionInterface = function(e) {
                function t(t) {
                    for (var i = 0, a = e.layers.length; i < a; ) {
                        if (e.layers[i].nm === t || e.layers[i].ind === t)
                            return e.elements[i].layerInterface;
                        i += 1
                    }
                    return null
                }
                return Object.defineProperty(t, "_name", {
                    value: e.data.nm
                }),
                t.layer = t,
                t.pixelAspect = 1,
                t.height = e.data.h || e.globalData.compSize.h,
                t.width = e.data.w || e.globalData.compSize.w,
                t.pixelAspect = 1,
                t.frameDuration = 1 / e.globalData.frameRate,
                t.displayStartTime = 0,
                t.numLayers = e.layers.length,
                t
            }
              , TransformExpressionInterface = function(e) {
                function t(e) {
                    switch (e) {
                    case "scale":
                    case "Scale":
                    case "ADBE Scale":
                    case 6:
                        return t.scale;
                    case "rotation":
                    case "Rotation":
                    case "ADBE Rotation":
                    case "ADBE Rotate Z":
                    case 10:
                        return t.rotation;
                    case "ADBE Rotate X":
                        return t.xRotation;
                    case "ADBE Rotate Y":
                        return t.yRotation;
                    case "position":
                    case "Position":
                    case "ADBE Position":
                    case 2:
                        return t.position;
                    case "ADBE Position_0":
                        return t.xPosition;
                    case "ADBE Position_1":
                        return t.yPosition;
                    case "ADBE Position_2":
                        return t.zPosition;
                    case "anchorPoint":
                    case "AnchorPoint":
                    case "Anchor Point":
                    case "ADBE AnchorPoint":
                    case 1:
                        return t.anchorPoint;
                    case "opacity":
                    case "Opacity":
                    case 11:
                        return t.opacity
                    }
                }
                if (Object.defineProperty(t, "rotation", {
                    get: ExpressionPropertyInterface(e.r || e.rz)
                }),
                Object.defineProperty(t, "zRotation", {
                    get: ExpressionPropertyInterface(e.rz || e.r)
                }),
                Object.defineProperty(t, "xRotation", {
                    get: ExpressionPropertyInterface(e.rx)
                }),
                Object.defineProperty(t, "yRotation", {
                    get: ExpressionPropertyInterface(e.ry)
                }),
                Object.defineProperty(t, "scale", {
                    get: ExpressionPropertyInterface(e.s)
                }),
                e.p)
                    var i = ExpressionPropertyInterface(e.p);
                return Object.defineProperty(t, "position", {
                    get: function() {
                        return e.p ? i() : [e.px.v, e.py.v, e.pz ? e.pz.v : 0]
                    }
                }),
                Object.defineProperty(t, "xPosition", {
                    get: ExpressionPropertyInterface(e.px)
                }),
                Object.defineProperty(t, "yPosition", {
                    get: ExpressionPropertyInterface(e.py)
                }),
                Object.defineProperty(t, "zPosition", {
                    get: ExpressionPropertyInterface(e.pz)
                }),
                Object.defineProperty(t, "anchorPoint", {
                    get: ExpressionPropertyInterface(e.a)
                }),
                Object.defineProperty(t, "opacity", {
                    get: ExpressionPropertyInterface(e.o)
                }),
                Object.defineProperty(t, "skew", {
                    get: ExpressionPropertyInterface(e.sk)
                }),
                Object.defineProperty(t, "skewAxis", {
                    get: ExpressionPropertyInterface(e.sa)
                }),
                Object.defineProperty(t, "orientation", {
                    get: ExpressionPropertyInterface(e.or)
                }),
                t
            }
              , ProjectInterface = function() {
                function e(e) {
                    this.compositions.push(e)
                }
                return function() {
                    function t(e) {
                        for (var t = 0, i = this.compositions.length; t < i; ) {
                            if (this.compositions[t].data && this.compositions[t].data.nm === e)
                                return this.compositions[t].prepareFrame && this.compositions[t].data.xt && this.compositions[t].prepareFrame(this.currentFrame),
                                this.compositions[t].compInterface;
                            t += 1
                        }
                    }
                    return t.compositions = [],
                    t.currentFrame = 0,
                    t.registerComposition = e,
                    t
                }
            }()
              , EffectsExpressionInterface = function() {
                function e(i, a, n, r) {
                    var s, o = [], l = i.ef.length;
                    for (s = 0; s < l; s += 1)
                        5 === i.ef[s].ty ? o.push(e(i.ef[s], a.effectElements[s], a.effectElements[s].propertyGroup, r)) : o.push(t(a.effectElements[s], i.ef[s].ty, r, c));
                    function c(e) {
                        return 1 === e ? h : n(e - 1)
                    }
                    var h = function(e) {
                        for (var t = i.ef, a = 0, n = t.length; a < n; ) {
                            if (e === t[a].nm || e === t[a].mn || e === t[a].ix)
                                return 5 === t[a].ty ? o[a] : o[a]();
                            a += 1
                        }
                        return o[0]()
                    };
                    return h.propertyGroup = c,
                    "ADBE Color Control" === i.mn && Object.defineProperty(h, "color", {
                        get: function() {
                            return o[0]()
                        }
                    }),
                    Object.defineProperty(h, "numProperties", {
                        get: function() {
                            return i.np
                        }
                    }),
                    h.active = h.enabled = 0 !== i.en,
                    h
                }
                function t(e, t, i, a) {
                    var n = ExpressionPropertyInterface(e.p);
                    return e.p.setGroupProperty && e.p.setGroupProperty(a),
                    function() {
                        return 10 === t ? i.comp.compInterface(e.p.v) : n()
                    }
                }
                return {
                    createEffectsInterface: function(t, i) {
                        if (t.effectsManager) {
                            var a, n = [], r = t.data.ef, s = t.effectsManager.effectElements.length;
                            for (a = 0; a < s; a += 1)
                                n.push(e(r[a], t.effectsManager.effectElements[a], i, t));
                            return function(e) {
                                for (var i = t.data.ef || [], a = 0, r = i.length; a < r; ) {
                                    if (e === i[a].nm || e === i[a].mn || e === i[a].ix)
                                        return n[a];
                                    a += 1
                                }
                            }
                        }
                    }
                }
            }()
              , MaskManagerInterface = function() {
                function e(e, t) {
                    this._mask = e,
                    this._data = t
                }
                Object.defineProperty(e.prototype, "maskPath", {
                    get: function() {
                        return this._mask.prop.k && this._mask.prop.getValue(),
                        this._mask.prop
                    }
                }),
                Object.defineProperty(e.prototype, "maskOpacity", {
                    get: function() {
                        return this._mask.op.k && this._mask.op.getValue(),
                        100 * this._mask.op.v
                    }
                });
                return function(t, i) {
                    var a, n = createSizedArray(t.viewData.length), r = t.viewData.length;
                    for (a = 0; a < r; a += 1)
                        n[a] = new e(t.viewData[a],t.masksProperties[a]);
                    return function(e) {
                        for (a = 0; a < r; ) {
                            if (t.masksProperties[a].nm === e)
                                return n[a];
                            a += 1
                        }
                    }
                }
            }()
              , ExpressionPropertyInterface = function() {
                var e = {
                    pv: 0,
                    v: 0,
                    mult: 1
                }
                  , t = {
                    pv: [0, 0, 0],
                    v: [0, 0, 0],
                    mult: 1
                };
                function i(e, t, i) {
                    Object.defineProperty(e, "velocity", {
                        get: function() {
                            return t.getVelocityAtTime(t.comp.currentFrame)
                        }
                    }),
                    e.numKeys = t.keyframes ? t.keyframes.length : 0,
                    e.key = function(a) {
                        if (e.numKeys) {
                            var n = "";
                            n = "s"in t.keyframes[a - 1] ? t.keyframes[a - 1].s : "e"in t.keyframes[a - 2] ? t.keyframes[a - 2].e : t.keyframes[a - 2].s;
                            var r = "unidimensional" === i ? new Number(n) : Object.assign({}, n);
                            return r.time = t.keyframes[a - 1].t / t.elem.comp.globalData.frameRate,
                            r
                        }
                        return 0
                    }
                    ,
                    e.valueAtTime = t.getValueAtTime,
                    e.speedAtTime = t.getSpeedAtTime,
                    e.velocityAtTime = t.getVelocityAtTime,
                    e.propertyGroup = t.propertyGroup
                }
                function a() {
                    return e
                }
                return function(n) {
                    return n ? "unidimensional" === n.propType ? function(t) {
                        t && "pv"in t || (t = e);
                        var a = 1 / t.mult
                          , n = t.pv * a
                          , r = new Number(n);
                        return r.value = n,
                        i(r, t, "unidimensional"),
                        function() {
                            return t.k && t.getValue(),
                            n = t.v * a,
                            r.value !== n && ((r = new Number(n)).value = n,
                            i(r, t, "unidimensional")),
                            r
                        }
                    }(n) : function(e) {
                        e && "pv"in e || (e = t);
                        var a = 1 / e.mult
                          , n = e.pv.length
                          , r = createTypedArray("float32", n)
                          , s = createTypedArray("float32", n);
                        return r.value = s,
                        i(r, e, "multidimensional"),
                        function() {
                            e.k && e.getValue();
                            for (var t = 0; t < n; t += 1)
                                r[t] = s[t] = e.v[t] * a;
                            return r
                        }
                    }(n) : a
                }
            }();
            function SliderEffect(e, t, i) {
                this.p = PropertyFactory.getProp(t, e.v, 0, 0, i)
            }
            function AngleEffect(e, t, i) {
                this.p = PropertyFactory.getProp(t, e.v, 0, 0, i)
            }
            function ColorEffect(e, t, i) {
                this.p = PropertyFactory.getProp(t, e.v, 1, 0, i)
            }
            function PointEffect(e, t, i) {
                this.p = PropertyFactory.getProp(t, e.v, 1, 0, i)
            }
            function LayerIndexEffect(e, t, i) {
                this.p = PropertyFactory.getProp(t, e.v, 0, 0, i)
            }
            function MaskIndexEffect(e, t, i) {
                this.p = PropertyFactory.getProp(t, e.v, 0, 0, i)
            }
            function CheckboxEffect(e, t, i) {
                this.p = PropertyFactory.getProp(t, e.v, 0, 0, i)
            }
            function NoValueEffect() {
                this.p = {}
            }
            function EffectsManager() {}
            function EffectsManager(e, t) {
                var i = e.ef || [];
                this.effectElements = [];
                var a, n, r = i.length;
                for (a = 0; a < r; a++)
                    n = new GroupEffect(i[a],t),
                    this.effectElements.push(n)
            }
            function GroupEffect(e, t) {
                this.init(e, t)
            }
            !function() {
                var e = function() {
                    function e(e, t) {
                        return this.textIndex = e + 1,
                        this.textTotal = t,
                        this.v = this.getValue() * this.mult,
                        this.v
                    }
                    return function(t, i) {
                        this.pv = 1,
                        this.comp = t.comp,
                        this.elem = t,
                        this.mult = .01,
                        this.propType = "textSelector",
                        this.textTotal = i.totalChars,
                        this.selectorValue = 100,
                        this.lastValue = [1, 1, 1],
                        this.k = !0,
                        this.x = !0,
                        this.getValue = ExpressionManager.initiateExpression.bind(this)(t, i, this),
                        this.getMult = e,
                        this.getVelocityAtTime = expressionHelpers.getVelocityAtTime,
                        this.kf ? this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this) : this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this),
                        this.setGroupProperty = expressionHelpers.setGroupProperty
                    }
                }()
                  , t = TextSelectorProp.getTextSelectorProp;
                TextSelectorProp.getTextSelectorProp = function(i, a, n) {
                    return 1 === a.t ? new e(i,a,n) : t(i, a, n)
                }
            }(),
            extendPrototype([DynamicPropertyContainer], GroupEffect),
            GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties,
            GroupEffect.prototype.init = function(e, t) {
                this.data = e,
                this.effectElements = [],
                this.initDynamicPropertyContainer(t);
                var i, a, n = this.data.ef.length, r = this.data.ef;
                for (i = 0; i < n; i += 1) {
                    switch (a = null,
                    r[i].ty) {
                    case 0:
                        a = new SliderEffect(r[i],t,this);
                        break;
                    case 1:
                        a = new AngleEffect(r[i],t,this);
                        break;
                    case 2:
                        a = new ColorEffect(r[i],t,this);
                        break;
                    case 3:
                        a = new PointEffect(r[i],t,this);
                        break;
                    case 4:
                    case 7:
                        a = new CheckboxEffect(r[i],t,this);
                        break;
                    case 10:
                        a = new LayerIndexEffect(r[i],t,this);
                        break;
                    case 11:
                        a = new MaskIndexEffect(r[i],t,this);
                        break;
                    case 5:
                        a = new EffectsManager(r[i],t,this);
                        break;
                    default:
                        a = new NoValueEffect(r[i],t,this)
                    }
                    a && this.effectElements.push(a)
                }
            }
            ;
            var lottiejs = {}
              , _isFrozen = !1;
            function setLocationHref(e) {
                locationHref = e
            }
            function searchAnimations() {
                !0 === standalone ? animationManager.searchAnimations(animationData, standalone, renderer) : animationManager.searchAnimations()
            }
            function setSubframeRendering(e) {
                subframeEnabled = e
            }
            function loadAnimation(e) {
                return !0 === standalone && (e.animationData = JSON.parse(animationData)),
                animationManager.loadAnimation(e)
            }
            function setQuality(e) {
                if ("string" === typeof e)
                    switch (e) {
                    case "high":
                        defaultCurveSegments = 200;
                        break;
                    case "medium":
                        defaultCurveSegments = 50;
                        break;
                    case "low":
                        defaultCurveSegments = 10
                    }
                else
                    !isNaN(e) && e > 1 && (defaultCurveSegments = e);
                roundValues(!(defaultCurveSegments >= 50))
            }
            function inBrowser() {
                return "undefined" !== typeof navigator
            }
            function installPlugin(e, t) {
                "expressions" === e && (expressionsPlugin = t)
            }
            function getFactory(e) {
                switch (e) {
                case "propertyFactory":
                    return PropertyFactory;
                case "shapePropertyFactory":
                    return ShapePropertyFactory;
                case "matrix":
                    return Matrix
                }
            }
            function checkReady() {
                "complete" === document.readyState && (clearInterval(readyStateCheckInterval),
                searchAnimations())
            }
            function getQueryVariable(e) {
                for (var t = queryString.split("&"), i = 0; i < t.length; i++) {
                    var a = t[i].split("=");
                    if (decodeURIComponent(a[0]) == e)
                        return decodeURIComponent(a[1])
                }
            }
            lottiejs.play = animationManager.play,
            lottiejs.pause = animationManager.pause,
            lottiejs.setLocationHref = setLocationHref,
            lottiejs.togglePause = animationManager.togglePause,
            lottiejs.setSpeed = animationManager.setSpeed,
            lottiejs.setDirection = animationManager.setDirection,
            lottiejs.stop = animationManager.stop,
            lottiejs.searchAnimations = searchAnimations,
            lottiejs.registerAnimation = animationManager.registerAnimation,
            lottiejs.loadAnimation = loadAnimation,
            lottiejs.setSubframeRendering = setSubframeRendering,
            lottiejs.resize = animationManager.resize,
            lottiejs.goToAndStop = animationManager.goToAndStop,
            lottiejs.destroy = animationManager.destroy,
            lottiejs.setQuality = setQuality,
            lottiejs.inBrowser = inBrowser,
            lottiejs.installPlugin = installPlugin,
            lottiejs.freeze = animationManager.freeze,
            lottiejs.unfreeze = animationManager.unfreeze,
            lottiejs.getRegisteredAnimations = animationManager.getRegisteredAnimations,
            lottiejs.__getFactory = getFactory,
            lottiejs.version = "5.5.4";
            var standalone = "__[STANDALONE]__"
              , animationData = "__[ANIMATIONDATA]__"
              , renderer = "";
            if (standalone) {
                var scripts = document.getElementsByTagName("script")
                  , index = scripts.length - 1
                  , myScript = scripts[index] || {
                    src: ""
                }
                  , queryString = myScript.src.replace(/^[^\?]+\??/, "");
                renderer = getQueryVariable("renderer")
            }
            var readyStateCheckInterval = setInterval(checkReady, 100);
            return lottiejs
        }
        ,
        void 0 === (__WEBPACK_AMD_DEFINE_RESULT__ = function() {
            return factory(root)
        }
        .call(exports, __webpack_require__, exports, module)) || (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))
    },
    1587: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(1299);
        t.a = r.a.extend({
            defaultSport: "CYCLING",
            maxPowerWatts: 2e3,
            numberOfPowerZones: 7,
            propertiesNames: {
                functionalThresholdPower: "functionalThresholdPower"
            },
            url: function() {
                return "/modern/proxy/biometric-service/powerZones"
            },
            sync: function(e, t, i) {
                return "read" === e ? i.url = "/modern/proxy/biometric-service/powerZones/sport/" + this.defaultSport : "create" === e && (e = "update"),
                n.a.sync(e, t, i)
            },
            setFunctionalThresholdPower: function(e) {
                this.set(this.propertiesNames.functionalThresholdPower, e)
            },
            getFunctionalThresholdPower: function() {
                return this.get(this.propertiesNames.functionalThresholdPower)
            },
            getZoneName: function(e) {
                return "zone" + e + "Floor"
            },
            getZoneValue: function(e) {
                return this.get(this.getZoneName(e))
            },
            setZoneValue: function(e, t) {
                e < this.numberOfPowerZones + 1 && this.set(this.getZoneName(e), t)
            },
            getZonesWithCeilingDefined: function() {
                return [{
                    ceiling: this.get(this.getZoneName(2)),
                    display: "Zone 1",
                    floor: this.get(this.getZoneName(1)),
                    number: "1"
                }, {
                    ceiling: this.get(this.getZoneName(3)),
                    display: "Zone 2",
                    floor: this.get(this.getZoneName(2)),
                    number: "2"
                }, {
                    ceiling: this.get(this.getZoneName(4)),
                    display: "Zone 3",
                    floor: this.get(this.getZoneName(3)),
                    number: "3"
                }, {
                    ceiling: this.get(this.getZoneName(5)),
                    display: "Zone 4",
                    floor: this.get(this.getZoneName(4)),
                    number: "4"
                }, {
                    ceiling: this.get(this.getZoneName(6)),
                    display: "Zone 5",
                    floor: this.get(this.getZoneName(5)),
                    number: "5"
                }, {
                    ceiling: this.get(this.getZoneName(7)),
                    display: "Zone 6",
                    floor: this.get(this.getZoneName(6)),
                    number: "6"
                }, {
                    ceiling: 2e3,
                    display: "Zone 7",
                    floor: this.get(this.getZoneName(7)),
                    number: "7"
                }]
            }
        })
    },
    1598: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = (i(26),
        i(213))
          , c = i(17)
          , h = i(225)
          , d = (i(186),
        i(19))
          , p = (i(36),
        i(126))
          , u = i(1740)
          , m = i.n(u)
          , g = s.a.View.extend({
            events: {
                "click .delete": "onDeleteCommentClicked"
            },
            initialize: function(e) {
                this.template = n.a.template(m.a),
                this.initializePageCommentView(e),
                this.showLikes = !!n.a.isUndefined(e.showLikes) || e.showLikes
            },
            initializePageCommentView: function(e) {
                if (this.conversation = e.conversation,
                !this.conversation)
                    throw "Conversation required in PageCommentView";
                this.conversationOwnerProfilePk = this.conversation.get("ownerProfilePk")
            },
            render: function() {
                var e = this.model.toJSON();
                e.nameDisplayValue = e.authorFullName || e.authorDisplayName,
                e.authorDisplayName === d.a.get("displayName") && (e.nameDisplayValue = d.a.get("fullName") || e.authorDisplayName),
                this.$el.addClass("media comment"),
                this.$el.html(this.template({
                    comment: e,
                    dayDisplay: l.a.howLongAgo(this.model.get("createDate")),
                    Localizer: o.a,
                    viewerProfilePk: d.a.get("profileId"),
                    conversationOwnerPk: this.conversationOwnerProfilePk,
                    url: c.default.url,
                    showLikes: this.showLikes
                })),
                this.showLikes && (this.likeView = new h.a({
                    el: this.$(".entry-like"),
                    uuid: this.model.get("conversationUuid"),
                    conversationUuid: this.model.get("conversationCommentUuid"),
                    liked: e.likedByUser,
                    numberOfLikes: e.numberOfLikes,
                    isComment: !0,
                    resourceType: this.conversation.get("resourceType")
                }),
                this.likeView.render())
            },
            onDeleteCommentClicked: function(e) {
                e.preventDefault();
                var t = this;
                new p.a({
                    modalTitle: o.a.localize("delete_comment"),
                    message: o.a.localize("delete_comment_confirmation"),
                    confirmationTextKey: "button_delete",
                    cancelTextKey: "button_cancel",
                    onSaveButtonClicked: function() {
                        return t.model.destroy(),
                        t.remove(),
                        !0
                    }
                }).render()
            }
        });
        g.Events = {
            COMMENT_DELETED: "COMMENT_DELETED"
        },
        t.a = g
    },
    1599: function(e, t, i) {
        "use strict";
        var a = i(13)
          , n = i(4)
          , r = {
            running: "interval_active_type_running",
            cycling: "interval_active_type_cycling",
            swimming: "interval_active_type_swimming",
            other: "interval_type_other"
        }
          , s = {
            INTERVAL_WARMUP: "interval_type_warmup",
            INTERVAL_REST: "interval_type_rest",
            INTERVAL_COOLDOWN: "interval_type_cooldown",
            INTERVAL_RECOVERY: "interval_type_recovery",
            INTERVAL_OTHER: "interval_type_other"
        }
          , o = ["running", "indoor_running", "street_running", "cycling", "bmx", "cyclocross", "indoor_cycling", "track_cycling", "gravel_cycling", "obstacle_run", "track_running", "trail_running", "recumbent_cycling", "treadmill_running", "mountain_biking", "road_biking", "downhill_biking", "virtual_ride", "virtual_run"];
        t.a = {
            getMasterColumnConfig: function(e) {
                var t = a.a.getSpeedTypeFromActivityType(e.activityTypeKey)
                  , i = t === a.a.SpeedTypes.Speed ? a.a.getAvgSpeedLabelKey() : a.a.getAvgSwimPaceLabelKey(e.isSwimmingActivity)
                  , r = t === a.a.SpeedTypes.Speed ? a.a.getAvgMovingSpeedLabelKey() : a.a.getAvgMovingPaceLabelKey()
                  , s = t === a.a.SpeedTypes.Speed ? a.a.getMaxSpeedLabelKey() : a.a.getMaxSwimPaceLabelKey(e.isSwimmingActivity)
                  , o = a.a.getElevGainLabelKey(e.activityTypeKey)
                  , l = a.a.getElevLossLabelKey(e.activityTypeKey)
                  , c = [{
                    order: 1,
                    fieldName: "intervalIndex",
                    displayLabel: "activity.interval",
                    class: "",
                    personalizer: null
                }, {
                    order: 2,
                    fieldName: "type",
                    displayLabel: "label_interval_type",
                    class: ""
                }, {
                    order: 3,
                    fieldName: "lapIndex",
                    displayLabel: "activity.interval.lap",
                    class: ""
                }, {
                    order: 4,
                    fieldName: "duration",
                    displayLabel: "label_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 5,
                    fieldName: "duration",
                    displayLabel: "label_cum_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 6,
                    fieldName: "distance",
                    displayLabel: "label_distance",
                    class: "",
                    personalizer: a.a.personalizeDistance,
                    personalizerParams: e.personalizerParams.getDistanceParams
                }, {
                    order: 99,
                    fieldName: "lapIndexes",
                    displayLabel: "lap_indexes"
                }, {
                    order: -1,
                    fieldName: "averageSpeed",
                    displayLabel: i,
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: e.personalizerParams.getSpeedParams
                }, {
                    order: -1,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "elevationGain",
                    displayLabel: o,
                    class: "",
                    personalizer: a.a.personalizeElevation
                }, {
                    order: -1,
                    fieldName: "elevationLoss",
                    displayLabel: l,
                    class: "",
                    personalizer: a.a.personalizeElevation
                }, {
                    order: -1,
                    fieldName: "averageStrokeCadence",
                    displayLabel: "label_avg_stroke_rate",
                    class: "",
                    personalizer: null
                }, {
                    order: -1,
                    fieldName: "maxStrokeCadence",
                    displayLabel: "label_max_stroke_rate",
                    class: "",
                    personalizer: null
                }, {
                    order: -1,
                    fieldName: "averageStrokeDistance",
                    displayLabel: "label_avg_distance_per_stroke",
                    class: "",
                    personalizer: function(t) {
                        return a.a.personalizeDistanceValue(a.a.isPaddleBoardingActivity(e.activityTypeKey) ? a.a.convertDistancePerStroke(t) : t)
                    }
                }];
                return c.push({
                    order: -1,
                    fieldName: "averageRunCadence",
                    displayLabel: "label_avg_run_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "averageBikeCadence",
                    displayLabel: "label_avg_bike_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "maxBikeCadence",
                    displayLabel: "label_max_bike_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "averageSwimCadence",
                    displayLabel: "label_avg_swim_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "minSwimCadence",
                    displayLabel: "label_max_swim_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "groundContactTime",
                    displayLabel: "label_avg_ground_contact_time",
                    class: "",
                    personalizer: a.a.personalizeGroundContactTime
                }),
                c.push({
                    order: -1,
                    fieldName: "groundContactBalanceLeft",
                    displayLabel: "label_avg_gct_balance",
                    class: "",
                    personalizer: function(e) {
                        var t = e
                          , i = 100 - t;
                        return n.a.localize(a.a.getPowerBalanceUnitKey(), a.a.formatDecimalNumber(t, 1), a.a.formatDecimalNumber(i, 1))
                    }
                }),
                c.push({
                    order: -1,
                    fieldName: "strideLength",
                    displayLabel: "label_avg_stride_length",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeAvgStrideLength
                }),
                c.push({
                    order: -1,
                    fieldName: "verticalOscillation",
                    displayLabel: "label_avg_vertical_oscillation",
                    class: "",
                    personalizer: a.a.personalizeVerticalOscillation
                }),
                c.push({
                    order: -1,
                    fieldName: "verticalRatio",
                    displayLabel: "label_avg_vertical_ratio",
                    class: "",
                    personalizer: a.a.personalizeVerticalRatio
                }),
                c.push({
                    order: -1,
                    fieldName: "normalizedPower",
                    displayLabel: "label_normalized_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "leftBalance",
                    displayLabel: "label_left_balance",
                    class: "",
                    personalizer: a.a.personalizeLeftRightBalance
                }),
                c.push({
                    order: -1,
                    fieldName: "rightBalance",
                    displayLabel: "label_right_balance",
                    class: "",
                    personalizer: a.a.personalizeLeftRightBalance
                }),
                c.push({
                    order: -1,
                    fieldName: "leftTorqueEffectiveness",
                    displayLabel: "label_left_torque_eff",
                    class: "",
                    personalizer: a.a.personalizeTorqueEffectiveness
                }),
                c.push({
                    order: -1,
                    fieldName: "rightTorqueEffectiveness",
                    displayLabel: "label_right_torque_eff",
                    class: "",
                    personalizer: a.a.personalizeTorqueEffectiveness
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPedalSmoothness",
                    displayLabel: "label_left_pedal_smoothness",
                    class: "",
                    personalizer: a.a.personalizePedalSmoothness
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPedalSmoothness",
                    displayLabel: "label_right_pedal_smoothness",
                    class: "",
                    personalizer: a.a.personalizePedalSmoothness
                }),
                c.push({
                    order: -1,
                    fieldName: "averagePower",
                    displayLabel: "label_avg_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "averagePower",
                    displayLabel: "label_avg_power_kg",
                    class: "",
                    personalizer: null,
                    nullCallback: e.getWeightLink
                }),
                c.push({
                    order: -1,
                    fieldName: "maxPower",
                    displayLabel: "label_max_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "maxPower",
                    displayLabel: "label_max_power_kg",
                    class: "",
                    personalizer: null,
                    nullCallback: e.getWeightLink
                }),
                c.push({
                    order: -1,
                    fieldName: "maxPowerTwentyMinutes",
                    displayLabel: "label_max_avg_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "standingTime",
                    displayLabel: "label_cd_total_standing_time",
                    class: "",
                    personalizer: a.a.personalizeStandingTime
                }),
                c.push({
                    order: -1,
                    fieldName: "averageStandingPower",
                    displayLabel: "label_cd_avg_standing_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "maxStandingPower",
                    displayLabel: "label_cd_max_standing_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "seatedTime",
                    displayLabel: "label_cd_total_seated_time",
                    class: "",
                    personalizer: a.a.personalizeStandingTime
                }),
                c.push({
                    order: -1,
                    fieldName: "averageSeatedPower",
                    displayLabel: "label_cd_avg_seated_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "maxSeatedPower",
                    displayLabel: "label_cd_max_seated_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhaseStart",
                    displayLabel: "label_cd_l_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhaseEnd",
                    displayLabel: "label_cd_l_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhaseStart",
                    displayLabel: "label_cd_r_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhaseEnd",
                    displayLabel: "label_cd_r_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhaseArcLength",
                    displayLabel: "label_cd_l_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhaseArcLength",
                    displayLabel: "label_cd_r_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhasePeakStart",
                    displayLabel: "label_cd_l_peak_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhasePeakEnd",
                    displayLabel: "label_cd_l_peak_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhasePeakStart",
                    displayLabel: "label_cd_r_peak_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhasePeakEnd",
                    displayLabel: "label_cd_r_peak_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhasePeakArcLength",
                    displayLabel: "label_cd_l_peak_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhasePeakArcLength",
                    displayLabel: "label_cd_r_peak_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPlatformCenterOffset",
                    displayLabel: "label_cd_l_pco_average",
                    class: "",
                    personalizer: a.a.personalizePlatformCenterOffset
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPlatformCenterOffset",
                    displayLabel: "label_cd_r_pco_average",
                    class: "",
                    personalizer: a.a.personalizePlatformCenterOffset
                }),
                c.push({
                    order: -1,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }),
                c.push({
                    order: -1,
                    fieldName: "averageTemperature",
                    displayLabel: "label_avg_temperature",
                    class: "",
                    personalizer: a.a.personalizeTemperature
                }),
                "open_water_swimming" !== e.activityTypeKey && c.push({
                    order: -1,
                    fieldName: "maxSpeed",
                    displayLabel: s,
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: e.personalizerParams.getSpeedParams
                }),
                c.push({
                    order: -1,
                    fieldName: "maxRunCadence",
                    displayLabel: "label_max_run_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "movingDuration",
                    displayLabel: "label_moving_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }),
                c.push({
                    order: -1,
                    fieldName: "averageMovingSpeed",
                    displayLabel: r,
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: e.personalizerParams.getSpeedParams
                }),
                e.canDisplayVectorAirInfo && (c.push({
                    order: -1,
                    fieldName: "avgCda",
                    displayLabel: "cda_unit",
                    class: "",
                    personalizer: a.a.formatVectorAirCdA
                }),
                c.push({
                    order: -1,
                    fieldName: "avgWattsPerCda",
                    displayLabel: "wcda_unit",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                })),
                c.push({
                    order: -1,
                    fieldName: "avgFlow",
                    displayLabel: "label_flow",
                    class: "",
                    personalizer: a.a.peronalizeMTBFlow
                }),
                c.push({
                    order: -1,
                    fieldName: "grit",
                    displayLabel: "label_grit",
                    class: "",
                    personalizer: a.a.peronalizeMTBGrit
                }),
                c
            },
            getIntervalType: function(e, t) {
                if (this.isActiveInterval(e)) {
                    var i = r[t];
                    return i ? n.a.localize(i) : n.a.localize(r.other)
                }
                return s[e] ? n.a.localize(s[e]) : "--"
            },
            isActiveInterval: function(e) {
                return -1 !== e.indexOf("ACTIVE")
            },
            isActivityTypeIntervalsSupported: function(e) {
                return !(!e || !e.get("activityTypeDTO")) && o.includes(e.get("activityTypeDTO").typeKey)
            }
        }
    },
    1642: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a).a.Model.extend({
            idAttribute: "userOptionalFeaturePK",
            url: function() {
                var e = "/proxy/userprofile-service/userprofile/optional-feature/segment-leaderboard/";
                return this.hasChanged("userOptionType") && (e += this.mapUserOptionType()),
                e + this.displayName
            },
            initialize: function(e) {
                if (this.displayName = e.displayName,
                !this.displayName)
                    throw "displayName required for SegmentOptionalFeature"
            },
            isOptedIn: function() {
                return "OPT_IN" === this.get("userOptionType")
            },
            mapUserOptionType: function() {
                return "OPT_IN" === this.get("userOptionType") ? "opt-in/" : "opt-out/"
            }
        });
        t.a = n
    },
    1643: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a).a.Model.extend({
            idAttribute: "segmentPk",
            urlRoot: "/proxy/course-service/segment/user/"
        });
        t.a = n
    },
    1644: function(e, t, i) {
        "use strict";
        i(7);
        var a = i(1236)
          , n = i(1377)
          , r = i(1486)
          , s = i(1501)
          , o = {
            ROAD: "mapbox.streets",
            SATELLITE: "mapbox.satellite"
        }
          , l = {
            url: "https://connectOsm16.azureedge.net/",
            options: {
                minZoom: 3,
                maxZoom: 17,
                attribution: '&copy; <a href="https://openstreetmap.org/copyright" target="_blank" rel="noopener">OpenStreetMaps</a> contributors &copy; Garmin Ltd. or its Affiliates'
            }
        }
          , c = function(e) {
            n.a.apply(this, arguments),
            e.layerType && o[e.layerType] ? l.options.id = o[e.layerType] : l.options.id = o.ROAD,
            this.directionService = new r.a({
                transitMode: e.transitMode
            }),
            this.locationService = new s.a({}),
            this.name = a.a.MapProviders.OSM
        };
        (c.prototype = Object.create(n.a.prototype)).constructor = c,
        c.prototype.getTileLayer = function(e) {
            return e && o[e] && (l.options.id = o[e]),
            l
        }
        ,
        c.prototype.getSupportedMaxZoom = function() {
            return l.options.maxZoom
        }
        ,
        c.TileLayer = l,
        t.a = c
    },
    1645: function(e, t, i) {
        "use strict";
        (function(e, a, n) {
            i(8);
            var r = i(7)
              , s = i.n(r)
              , o = i(4)
              , l = i(13)
              , c = (i(1310),
            i(17))
              , h = i(102)
              , d = i(218)
              , p = i(278)
              , u = i(37)
              , m = i(1646)
              , g = i(19)
              , f = i(1648)
              , v = i.n(f)
              , y = i(128)
              , A = i.n(y)
              , _ = (i(1242),
            i(1920),
            "//static.garmincdn.com/com.garmin.connect/content/images/garmin-connect-fb2.gif")
              , b = {
                Up: "up",
                Down: "down"
            }
              , C = {
                facebook: "facebook",
                weibo: "weibo",
                twitter: "twitter"
            }
              , w = "lap_swimming"
              , x = "open_water_swimming"
              , S = "swimming"
              , T = p.a.extend({
                events: {
                    "click #shareToFacebookFromShareStaticMapImageView": "clickShareFacebookButton",
                    "click #shareToWeiboFromShareStaticMapImageView": "clickShareSinaWeiboButton",
                    "click #shareToTwitterFromShareStaticMapImageView": "clickShareTwitterButton",
                    "click #shareToEmailFromShareStaticMapImageView": "clickShareEmailButton",
                    "click #shareToMoreFromShareStaticMapImageView": "clickShareMoreButton",
                    "click #activity-detail-embed": "clickEmbedButton"
                },
                initialize: function(e) {
                    this.privacy = e.privacy,
                    this.url = e.url,
                    this.locale = e.locale,
                    this.customClasses = e.customClasses,
                    this.mapProviderPreference = e.mapProviderPreference,
                    this.customClasses || (this.customClasses = ""),
                    this.slideDirection = e.slideDirection || b.Down,
                    this.template = s.a.template(v.a),
                    this.widgetPageUrl = window.parent.location.href,
                    this.preferredLocale = e.locale,
                    this.setActivity(e.currentActivity),
                    this.imageUrl = _,
                    this.mapImageWidth = 300,
                    this.mapImageHeight = 300,
                    this.socialPlatform = null,
                    this.fileFormat = null,
                    this.popupShareWindow = null,
                    this.hasMap = e.hasMap
                },
                setActivity: function(e) {
                    e.has("activityTypeDTO") ? (this.activityType = e.get("activityTypeDTO").typeKey,
                    this.distance = e.get("summaryDTO").distance,
                    this.duration = e.get("summaryDTO").duration,
                    this.averageSpeed = e.get("summaryDTO").averageSpeed,
                    this.elevationGain = e.get("summaryDTO").elevationGain) : (this.activityType = e.get("activityType").typeKey,
                    this.distance = e.get("distance"),
                    this.duration = e.get("duration"),
                    this.averageSpeed = e.get("averageSpeed"),
                    this.elevationGain = e.get("elevationGain")),
                    this.activity = e,
                    this.activityDetailsInfo = this.getActivityDetailsInfo(),
                    this.activityId = this.activity.id
                },
                render: function() {
                    var e = this
                      , t = this.template({
                        Localizer: o.a,
                        privacy: this.privacy,
                        url: this.url,
                        locale: this.locale,
                        customClasses: this.customClasses,
                        directionClass: this.slideDirection == b.Up ? "bottom-up" : "",
                        showIcon: this.slideDirection != b.Up,
                        userInChina: d.a.userInChina()
                    });
                    this.$el.html(t),
                    this.$el.addClass("dropdown share addthis_toolbox"),
                    this.$el.addClass(this.customClasses),
                    this.$el.attr("addthis:url", this.url);
                    var i = this.$(".dropdown-trigger");
                    i.attr("disabled", "disabled"),
                    i.addClass("disabled"),
                    A()(["//s7.addthis.com/js/250/addthis_widget.js#username=grmnconnect&async=1"], function() {
                        e.setPrivacy(e.privacy),
                        addthis && (addthis.init(),
                        addthis.toolbox(".addthis_toolbox"))
                    })
                },
                setPrivacy: function(e) {
                    this.privacy = e;
                    var t = this.$(".dropdown-trigger");
                    "public" == e ? (t.removeAttr("disabled"),
                    t.removeClass("disabled"),
                    t.attr("title", o.a.localize("share"))) : (t.attr("disabled", "disabled"),
                    t.addClass("disabled"),
                    t.attr("title", o.a.localize("share.disabled")))
                },
                setUrl: function(e) {
                    this.url = e
                },
                getActivityDetailsInfo: function() {
                    return o.a.localize("label_distance") + " " + l.a.personalizeDistance(this.distance, this.activityType) + " " + o.a.localize(l.a.getDistanceUnitKey(this.activityType, this.distance)) + " | " + o.a.localize("label_time") + " " + l.a.personalizeDuration(this.duration) + " | " + o.a.localize(l.a.getSpeedTypeLabelKey(this.activityType)) + " " + l.a.personalizeSpeed(this.averageSpeed, this.activityType, this.distance) + " " + o.a.localize(l.a.getSpeedTypeKey(this.activityType, this.distance)) + " | " + o.a.localize("label_elevation_gain") + " " + l.a.personalizeElevation(this.elevationGain) + " " + o.a.localize(l.a.getElevationUnitKey())
                },
                clickShareFacebookButton: function() {
                    this.socialPlatform = C.facebook,
                    this.OpenPopupShareWindow(),
                    this.pushSocialShareAnalyticsEvents(),
                    this.earnBadgeWhenSharing()
                },
                clickShareSinaWeiboButton: function() {
                    this.socialPlatform = C.weibo,
                    this.OpenPopupShareWindow(),
                    this.pushSocialShareAnalyticsEvents(),
                    this.earnBadgeWhenSharing()
                },
                clickShareTwitterButton: function() {
                    this.socialPlatform = C.twitter,
                    this.OpenPopupShareWindow(),
                    this.pushSocialShareAnalyticsEvents(),
                    this.earnBadgeWhenSharing()
                },
                clickShareEmailButton: function() {
                    this.earnBadgeWhenSharing()
                },
                clickShareMoreButton: function() {
                    this.earnBadgeWhenSharing()
                },
                pushSocialShareAnalyticsEvents: function() {
                    h.a.push({
                        event: "track_event",
                        category: "Activity Share",
                        action: "Share on " + this.socialPlatform
                    })
                },
                clickEmbedButton: function() {
                    var e = new m.a({
                        activityId: this.activityId,
                        noOfChildren: this.activity.has("activityTypeDTO") ? this.activity.get("childIds").length : 0,
                        activityName: this.activity.get("activityName"),
                        hasMap: this.hasMap
                    });
                    new u.a({
                        modalTitle: o.a.localize("embed"),
                        view: e.render(),
                        showFooter: !1,
                        customClasses: "activity-detail-embed"
                    }).render(),
                    this.earnBadgeWhenSharing()
                },
                earnBadgeWhenSharing: function() {
                    g.a.isUserLoggedIn() && e.ajax({
                        url: c.default.url("/proxy/badge-service/badge/earn"),
                        type: "POST",
                        contentType: "application/json",
                        data: JSON.stringify({
                            badgeId: 32,
                            badgeAssocDataId: this.activityId
                        })
                    })
                },
                OpenPopupShareWindow: function() {
                    this.popupShareWindow = window.open("", "", "width=600, height=300"),
                    this.popupShareWindow.document.write('<br /><br /><p style="text-align:center; font-size:18px;"><img src="//static.garmincdn.com/shared/global/media/images/ajax-loader.gif" alt="" /><br />Processing, please wait...</p>'),
                    this.fileFormat = "png",
                    this.getEncodedPolylineJson()
                },
                getEncodedPolylineJson: function() {
                    if (void 0 == this.cachedPolylines && (this.cachedPolylines = []),
                    void 0 == this.cachedPolylines[this.activityId] || null == this.cachedPolylines[this.activityId]) {
                        var t;
                        t = this.activityType == S || this.activityType == w || this.activityType == x ? "/proxy/activity-service/activity/" + this.activityId + "/swimDetails" : "/proxy/activity-service/activity/" + this.activityId + "/details";
                        var i = this;
                        a.ajax({
                            url: t,
                            type: "GET",
                            dataType: "json",
                            success: function(t, a, n) {
                                i.cachedPolylines[i.activityId] = t,
                                e.isEmptyObject(t) || e.isEmptyObject(t.geoPolylineDTO) ? i.redirectPopupShareWindow() : i.getPolylineJson(t)
                            },
                            error: function(e, t, a) {
                                i.redirectPopupShareWindow()
                            }
                        })
                    } else
                        this.getPolylineJson(this.cachedPolylines[this.activityId])
                },
                getPolylineJson: function(e) {
                    if (null != e.geoPolylineDTO && e.geoPolylineDTO.polyline.length > 0) {
                        for (var t = e.geoPolylineDTO.polyline, i = [], a = 0; a < t.length; a++) {
                            var r = t[a]
                              , s = new n.Map.Point(r.lat,r.lon,0);
                            i.push(s)
                        }
                        this.points = i,
                        this.getStaticMapImageFromMapProvider()
                    } else
                        this.imageUrl = _,
                        this.redirectPopupShareWindow()
                },
                getStaticMapImageFromMapProvider: function() {
                    var e = this.mapProviderPreference ? this.mapProviderPreference.get("value") : "google";
                    this.isPolylineInChina() && d.a.userInChina() && (e = n.Map.Utils.PROVIDER_TYPE_BAIDU),
                    e == n.Map.Utils.PROVIDER_TYPE_BAIDU ? this.downloadBaiduStaticMapImage() : e == n.Map.Utils.PROVIDER_TYPE_OSM ? this.setOsmStaticMapImageUrl() && this.downloadAndUploadGoogleStaticMapImage() : (e = n.Map.Utils.PROVIDER_TYPE_GOOGLE,
                    this.downloadAndUploadGoogleStaticMapImage())
                },
                isPolylineInChina: function() {
                    for (var e = [54.27, 123, 51.07, 117.8, 46.5, 115.3, 43.6, 103.9, 46.38, 93.3, 47.93, 91.4, 49.75, 87.5, 45.34, 79.5, 39.8, 73.2, 35.6, 75.4, 30.2, 79.9, 27.3, 89, 25.4, 97.3, 22.1, 98.7, 20.8, 102.2, 22.2, 105.5, 20.8, 108, 18.9, 106.8, 14.3, 109.9, 8.3, 105.9, 3.1, 103.7, .73, 108.5, 3.3, 111, 7.7, 116.3, 18.4, 119.9, 23.46, 118.23, 25.9, 121.62, 29.97, 123.71, 37.6, 123.7, 39.8, 123.8, 42.6, 131, 46.5, 134.5, 48.55, 135.1, 48.98, 130.9, 52.43, 127.4], t = [], i = 0; i < e.length; i += 2)
                        t.push({
                            lat: e[i],
                            lng: e[i + 1]
                        });
                    var a = Math.round(this.points.length / 2)
                      , n = {
                        lat: this.points[a].lat.toString().match(/-{0,1}\d+\.\d{0,5}/),
                        lng: this.points[a].lon.toString().match(/-{0,1}\d+\.\d{0,5}/)
                    };
                    return this.isPointInPoly(n, t)
                },
                isPointInPoly: function(e, t) {
                    for (var i = !1, a = -1, n = t.length, r = n - 1; ++a < n; r = a)
                        (t[a].lat <= e.lat && e.lat < t[r].lat || t[r].lat <= e.lat && e.lat < t[a].lat) && e.lng < (t[r].lng - t[a].lng) * (e.lat - t[a].lat) / (t[r].lat - t[a].lat) + t[a].lng && (i = !i);
                    return i
                },
                downloadBaiduStaticMapImage: function() {
                    var e = n.Map.Baidu.Constants.WGS84;
                    this.activity.has("gcj02") && 1 == this.activity.get("gcj02") && (e = n.Map.Baidu.Constants.GCJ02);
                    for (var t = this.points.length, i = this.getIterationGap(2048, t), a = [], r = 0; r < t - i; r += i) {
                        var s = this.points[r].lat.toString().match(/-{0,1}\d+\.\d{0,5}/)
                          , o = this.points[r].lon.toString().match(/-{0,1}\d+\.\d{0,5}/)
                          , l = new BMap.Point(o,s);
                        a.push(l)
                    }
                    var c = this;
                    n.Map.Baidu.Convertor.convertMultiple(a, function(e) {
                        for (var t = "&paths=", i = 180, a = -180, n = 90, r = -90, s = e.length, o = c.getIterationGap(2048, s), l = 0; l < s - o; l += o) {
                            var h = e[l].lat.toString().match(/-{0,1}\d+\.\d{0,5}/)
                              , d = e[l].lng.toString().match(/-{0,1}\d+\.\d{0,5}/);
                            h < n && (n = h),
                            h > r && (r = h),
                            d < i && (i = d),
                            d > a && (a = d),
                            null != h && null != d && h.length > 0 && d.length > 0 && (t += d + "," + h + ";")
                        }
                        var p = "&center=" + ((parseFloat(a) + parseFloat(i)) / 2).toString().match(/-{0,1}\d+\.\d{0,5}/) + "," + ((parseFloat(r) + parseFloat(n)) / 2).toString().match(/-{0,1}\d+\.\d{0,5}/)
                          , u = "&markers=" + (e[0].lng.toString().match(/-{0,1}\d+\.\d{0,5}/) + "," + e[0].lat.toString().match(/-{0,1}\d+\.\d{0,5}/)) + "|" + (e[s - 1].lng.toString().match(/-{0,1}\d+\.\d{0,5}/) + "," + e[s - 1].lat.toString().match(/-{0,1}\d+\.\d{0,5}/)) + "&markerStyles=l,S,green|l,E,red";
                        c.staticMapImageUrl = "https://sapi.map.baidu.com/staticimage?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD&s=1&width=" + c.mapImageWidth + "&height=" + c.mapImageHeight + p + u + t + "&pathStyles=0xff0000,2,0.8",
                        c.downloadAndUploadStaticMapImage()
                    }, e)
                },
                setOsmStaticMapImageUrl: function() {
                    return !this.isPolylineInChina()
                },
                getIterationGap: function(e, t) {
                    var i = parseInt((e - 400) / 22, 10);
                    return t < i ? 1 : parseInt(t / i, 10) + 1
                },
                downloadAndUploadStaticMapImage: function() {
                    var e = this;
                    a.ajax({
                        url: "/modern/proxy/image-service/imageservice/downloadAndUploadStaticMapImage",
                        data: {
                            urlStr: encodeURIComponent(this.staticMapImageUrl),
                            activityId: this.activityId,
                            fileFormat: this.fileFormat
                        },
                        type: "GET",
                        dataType: "JSON",
                        success: function(t, i, n) {
                            if (e.activityName = a(".js-activityNameEditPlaceholder a").text().trim(),
                            t.hasOwnProperty("status") && 1 == t.status) {
                                document.documentMode;
                                e.imageUrl = t.imageUrl
                            }
                            e.redirectPopupShareWindow()
                        },
                        error: function(t, i, n) {
                            e.activityName = a(".js-activityNameEditPlaceholder a").text().trim(),
                            e.redirectPopupShareWindow()
                        }
                    })
                },
                downloadAndUploadGoogleStaticMapImage: function() {
                    var e = this;
                    a.ajax({
                        url: "/proxy/activity-service/activity/" + this.activityId + "/share",
                        type: "GET",
                        dataType: "JSON",
                        success: function(t, i, n) {
                            var r = t;
                            e.activityName = a(".js-activityNameEditPlaceholder a").text().trim(),
                            r.hasOwnProperty("status") && 1 == r.status && (e.imageUrl = r.imageUrl),
                            e.redirectPopupShareWindow()
                        },
                        error: function(t, i, n) {
                            e.activityName = a(".js-activityNameEditPlaceholder a").text().trim(),
                            e.redirectPopupShareWindow()
                        }
                    })
                },
                redirectPopupShareWindow: function() {
                    var e = this.widgetPageUrl.split("/")
                      , t = e[0]
                      , i = e[2].split(".")
                      , a = i[0] + ".garmin.com";
                    d.a.userInChina() && (a = i[0] + ".garmin.cn"),
                    this.isGarminLogo = this.imageUrl == _ ? "1" : "0";
                    var n = t + "//" + a + "/modern/activity/" + this.activityId + "/share/" + this.isGarminLogo + "?lang=" + this.preferredLocale
                      , r = null;
                    this.socialPlatform == C.facebook ? r = "https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(n) + "&p[title]=Garmin%20Connect&display=popup" : this.socialPlatform == C.weibo ? r = "http://service.weibo.com/share/share.php?url=" + encodeURIComponent(n) + "&pic=" + encodeURIComponent(this.imageUrl) + "&title=" + encodeURIComponent(this.activity.get("activityName").trim() + ": " + this.activityDetailsInfo) : this.socialPlatform == C.twitter && (r = "http://twitter.com/share?text=" + encodeURIComponent(this.activity.get("activityName").trim()) + "&url=" + encodeURIComponent(n)),
                    this.popupShareWindow.location.replace(r)
                }
            });
            T.SlideDirection = b,
            T.SocialPlatorm = C,
            t.a = T
        }
        ).call(this, i(10), i(10), i(1242))
    },
    1646: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(17)
          , c = i(1647)
          , h = i.n(c);
        t.a = s.a.View.extend({
            template: n.a.template(h.a),
            initialize: function(e) {
                return this.activityId = e.activityId,
                this.hasMap = e.hasMap,
                this.calculateHeight(e.noOfChildren),
                this.activityName = e.activityName,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    NavUtil: l.default,
                    height: this.height,
                    activityId: this.activityId,
                    activityName: this.getActivityName()
                })),
                this
            },
            getActivityName: function() {
                var e = o.a.localize("untitled");
                return this.activityName && (e = this.activityName.replace(/"/g, "&quot;").replace(/'/g, "&#39;")),
                e
            },
            calculateHeight: function(e) {
                var t = this.hasMap || !1
                  , i = 500;
                if (0 !== e) {
                    for (var a = 0; a < e; a += 1)
                        i += 0 === a ? 26 : 18;
                    this.height = t ? i : i - 219
                } else
                    this.height = t ? i : i - 230
            }
        })
    },
    1647: function(e, t) {
        e.exports = '<input\n        type="text"\n        value="&lt;iframe src=\'<%- NavUtil.getHostUrl() + NavUtil.url(\'/activity/embed/\' + activityId) %>\' title=\'<%- activityName %>\' width=\'465\' height=\'<%- height %>\' frameborder=\'0\'&gt;&lt;/iframe&gt;"\n        class="embed-activity-input"\n        onclick="this.focus();this.select()"\n        readonly="readonly">\n\n<iframe\n        class="embed-activity-iframe"\n        width="465"\n        height="<%- height %>"\n        title="<%- activityName %>"\n        frameborder="0"\n        src="<%- NavUtil.getHostUrl() + NavUtil.url(\'/activity/embed/\' + activityId) %>">\n</iframe>'
    },
    1648: function(e, t) {
        e.exports = '<button class="dropdown-trigger" data-toggle="dropdown">\n    <i class="icon-share"/>\n</button>\n<ul class="dropdown-menu pull-right <%- directionClass %>">\n    <% if (showIcon) { %>\n    <li class="clearfix">\n        <i class="icon-share pull-right"></i>\n    </li>\n    <% } %> <% if (userInChina) { %>\n    <li>\n        <a class="addthis_button_baidu"><%- Localizer.localize(\'share_baidu\') %></a>\n    </li>\n    <li>\n        <a id="shareToWeiboFromShareStaticMapImageView" class="addthis_button_sinaweibo" title="Sina Weibo">\n            <span class="at-icon-wrapper" style="background-color: rgb(230, 22, 45); line-height: 16px; height: 16px; width: 16px;">\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"\n                     class="at-icon at-icon-sinaweibo" style="width: 16px; height: 16px;">\n                    <g>\n                    <path\n                            d="M14.24 23.808c-3.64.367-6.785-1.307-7.022-3.734-.236-2.43 2.525-4.693 6.164-5.06 3.642-.367 6.786 1.307 7.02 3.734.24 2.43-2.522 4.696-6.16 5.06m7.28-8.063c-.31-.096-.523-.157-.362-.57.352-.898.39-1.672.006-2.227-.713-1.036-2.667-.98-4.907-.028 0 0-.705.312-.523-.253.343-1.125.29-2.065-.243-2.61-1.214-1.238-4.446.045-7.216 2.86C6.205 15.023 5 17.26 5 19.192c0 3.694 4.664 5.942 9.226 5.942 5.98 0 9.96-3.53 9.96-6.333.003-1.695-1.402-2.657-2.665-3.055M25.494 8.983a5.76 5.76 0 0 0-5.542-1.823.855.855 0 0 0-.646 1.015.84.84 0 0 0 1 .657c1.398-.303 2.912.138 3.938 1.295a4.254 4.254 0 0 1 .865 4.113c-.144.45.1.93.542 1.076a.84.84 0 0 0 1.06-.55v-.002a5.973 5.973 0 0 0-1.218-5.78"></path><path d="M23.276 11.018a2.8 2.8 0 0 0-2.698-.885.74.74 0 0 0-.56.876c.086.396.472.65.86.563.467-.102.977.046 1.32.432.343.388.437.915.29 1.378a.742.742 0 0 0 .466.928.724.724 0 0 0 .913-.474c.3-.947.113-2.026-.59-2.818M14.44 19.41c-.126.223-.408.328-.627.235-.218-.09-.285-.34-.16-.555.127-.215.397-.32.612-.234.22.08.298.33.176.555m-1.16 1.512c-.353.57-1.11.82-1.676.558-.56-.26-.726-.922-.374-1.48.35-.555 1.078-.802 1.642-.56.57.25.753.905.407 1.482m1.322-4.04c-1.733-.46-3.69.42-4.443 1.97-.77 1.583-.025 3.34 1.723 3.914 1.815.595 3.95-.318 4.695-2.023.734-1.67-.182-3.39-1.976-3.86">\n                            </path></g></svg>\n            </span>\n            <%- Localizer.localize(\'share_sinaweibo\') %>\n        </a>\n    </li>\n    <li>\n        <a class="addthis_button_qzone"><%- Localizer.localize(\'share_qzone\') %></a>\n    </li>\n    <li>\n        <a class="addthis_button_email"><%- Localizer.localize(\'share_email\') %></a>\n    </li>\n    <li>\n        <a class="addthis_button_expanded"><%- Localizer.localize(\'share_more\') %></a>\n    </li>\n    <% } else { %>\n\n    <li>\n        <a id="shareToFacebookFromShareStaticMapImageView" class="at300b" title="<%- Localizer.localize(\'share.facebook\') %>" href="#">\n            <span class="at-icon-wrapper"\n                  style="line-height: 16px; height: 16px; width: 16px; background-color: rgb(59, 89, 152);">\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"\n                     class="at-icon at-icon-facebook" style="width: 16px; height: 16px;">\n                    <g>\n                    <path\n                            d="M22 5.16c-.406-.054-1.806-.16-3.43-.16-3.4 0-5.733 1.825-5.733 5.17v2.882H9v3.913h3.837V27h4.604V16.965h3.823l.587-3.913h-4.41v-2.5c0-1.123.347-1.903 2.198-1.903H22V5.16z"\n                            fill-rule="evenodd"></path></g></svg>\n            </span>\n            Facebook\n        </a>\n    </li>\n    <li>\n        <a id="shareToTwitterFromShareStaticMapImageView" class="at300b" title="<%- Localizer.localize(\'share.twitter\') %>" href="#">\n            <span class="at-icon-wrapper"\n                  style="line-height: 16px; height: 16px; width: 16px; background-color: rgb(29, 161, 242);">\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"\n                     class="at-icon at-icon-twitter" style="width: 16px; height: 16px;">\n                    <g>\n                    <path\n                            d="M27.996 10.116c-.81.36-1.68.602-2.592.71a4.526 4.526 0 0 0 1.984-2.496 9.037 9.037 0 0 1-2.866 1.095 4.513 4.513 0 0 0-7.69 4.116 12.81 12.81 0 0 1-9.3-4.715 4.49 4.49 0 0 0-.612 2.27 4.51 4.51 0 0 0 2.008 3.755 4.495 4.495 0 0 1-2.044-.564v.057a4.515 4.515 0 0 0 3.62 4.425 4.52 4.52 0 0 1-2.04.077 4.517 4.517 0 0 0 4.217 3.134 9.055 9.055 0 0 1-5.604 1.93A9.18 9.18 0 0 1 6 23.85a12.773 12.773 0 0 0 6.918 2.027c8.3 0 12.84-6.876 12.84-12.84 0-.195-.005-.39-.014-.583a9.172 9.172 0 0 0 2.252-2.336"\n                            fill-rule="evenodd"></path></g></svg>\n            </span>\n            Twitter\n        </a>\n    </li>\n    <li>\n        <a class="addthis_button_email at300b" id="shareToEmailFromShareStaticMapImageView" target="_blank" title="<%- Localizer.localize(\'share_email\') %>"\n           href="#">\n            <span class="at-icon-wrapper"\n                  style="line-height: 16px; height: 16px; width: 16px; background-color: rgb(132, 132, 132);">\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"\n                     class="at-icon at-icon-email" style="width: 16px; height: 16px;">\n                    <g>\n                    <g fill-rule="evenodd"></g>\n                    <path\n                            d="M27 22.757c0 1.24-.988 2.243-2.19 2.243H7.19C5.98 25 5 23.994 5 22.757V13.67c0-.556.39-.773.855-.496l8.78 5.238c.782.467 1.95.467 2.73 0l8.78-5.238c.472-.28.855-.063.855.495v9.087z"></path>\n                    <path\n                            d="M27 9.243C27 8.006 26.02 7 24.81 7H7.19C5.988 7 5 8.004 5 9.243v.465c0 .554.385 1.232.857 1.514l9.61 5.733c.267.16.8.16 1.067 0l9.61-5.733c.473-.283.856-.96.856-1.514v-.465z"></path></g></svg>\n            </span>\n            <%- Localizer.localize(\'share_email\') %>\n        </a>\n    </li>\n    <li>\n        <a class="addthis_button_expanded at300m" href="#" id="shareToMoreFromShareStaticMapImageView" target="_blank" title="View more services">\n            <span class="at-icon-wrapper"\n                  style="line-height: 16px; height: 16px; width: 16px; background-color: rgb(255, 101, 80);">\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"\n                     title="Expanded" alt="Expanded"\n                     class="at-icon at-icon-addthis" style="width: 16px; height: 16px;">\n                    <g>\n                    <path d="M18 14V8h-4v6H8v4h6v6h4v-6h6v-4h-6z" fill-rule="evenodd"></path></g></svg>\n            </span>\n            <%- Localizer.localize(\'share_more\') %>\n        </a>\n    </li>\n    <% } %>\n    <li class="divider"></li>\n    <li>\n        <a id="activity-detail-embed" href="#" data-toggle="modal"><%- Localizer.localize(\'embed\') %></a>\n    </li>\n</ul>\n'
    },
    1649: function(e, t) {
        e.exports = '<%\n    var privacyClasses = {\n        \'private\': \'icon-locked\',\n        \'subscribers\': \'icon-privacy-connections\',\n        \'groups\': \'icon-privacy-connections-and-groups\',\n        \'public\': \'icon-unlocked\'\n    };\n\n    var privacyIconClass = privacyClasses[privacy];\n%> \n\n\n    <button class="dropdown-trigger page-navigation-action" \n            data-toggle="dropdown"\n            aria-label="<%- Localizer.localize(\'privacy.alert.heading\') %>">\n        <i class="<%- privacyIconClass %> privacy-indicator"></i>\n    </button>\n    \n    <ul class="<%- customConsentClass %> dropdown-menu pull-right">\n        <li class="clearfix">\n            <i class="<%- privacyIconClass %> privacy-state-current pull-right"></i>\n        </li>\n        <li data-privacy="private">\n            <a href="#">\n                <i class="icon-locked"></i> <%- Localizer.localize(\'privacy.private.title\') %> <br/>\n                <% if(onlyMeConsent) { %>\n                    <span class="<%- customConsentClass %>"><%- onlyMeConsent %></span>\n                <% } %>\n            </a>\n        </li>\n        <li data-privacy="subscribers">\n            <a href="#">\n                <i class="icon-privacy-connections"></i> <%- Localizer.localize(\'privacy.connections.title\') %><br/>\n                <% if(connectionsConsent) { %>\n                    <span class="<%- customConsentClass %>"><%- connectionsConsent %></span>\n                <% } %>\n            </a>\n        </li>\n        <li data-privacy="groups">\n            <a href="#">\n                 <i class="icon-privacy-connections-and-groups"></i> <%- Localizer.localize(\'privacy.connections.and.groups.title\') %><br/>\n                <% if(groupsConsent) { %>\n                    <span class="<%- customConsentClass %>"><%- groupsConsent %></span>\n                <% } %>\n            </a>\n        </li>\n        <li data-privacy="public">\n            <a href="#">\n                <i class="icon-unlocked"></i> <%- Localizer.localize(\'privacy.public.title\') %> <br/>\n                <% if(everyoneConsent) { %>\n                    <span class="<%- customConsentClass %>"><%- everyoneConsent %></span>\n                <% } %>\n            </a>\n        </li>\n    </ul>\n'
    },
    1650: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(13)
          , l = i(4)
          , c = i(18)
          , h = i.n(c)
          , d = i(82)
          , p = i(28)
          , u = i(1651)
          , m = i.n(u)
          , g = i(1652)
          , f = i.n(g)
          , v = {
            grayLineWidth: 4,
            point1: {
                x: 0,
                y: 67
            },
            point2: {
                x: 150,
                y: 67
            },
            point3: {
                x: 200,
                y: 200
            },
            orangeLineWidth: 2,
            orangeLineY: 134
        }
          , y = {
            grayLineWidth: 3,
            point1: {
                x: 0,
                y: 50
            },
            point2: {
                x: 105,
                y: 50
            },
            point3: {
                x: 142,
                y: 150
            },
            orangeLineWidth: 2,
            orangeLineY: 100
        }
          , A = {
            grayLineWidth: 1,
            point1: {
                x: 0,
                y: 25
            },
            point2: {
                x: 70,
                y: 25
            },
            point3: {
                x: 95,
                y: 118
            },
            orangeLineWidth: 1,
            orangeLineY: 72
        };
        t.a = s.a.View.extend({
            template: n.a.template(f.a),
            initialize: function(e) {
                this.surfaceInterval = e.surfaceInterval,
                this.timeIn = e.timeIn,
                this.maxDepth = e.maxDepth,
                this.avgDepth = e.avgDepth,
                this.bottomTime = e.bottomTime,
                this.isDecoDive = e.isDecoDive,
                this.timeOut = e.timeOut
            },
            render: function() {
                var e = this.template({});
                return this.$el.html(e),
                this.renderCanvas(),
                this.renderDiveLogStats(),
                this
            },
            renderCanvas: function() {
                var e = this.$("#canvas")[0]
                  , t = e.getContext("2d");
                e.style.width = "100%",
                e.style.height = "100%",
                e.width = e.offsetWidth,
                e.height = e.offsetHeight,
                0 !== e.width && (this.drawLeftSide(e, t),
                t.save(),
                this.drawRightSide(e, t),
                t.restore())
            },
            drawLeftSide: function(e, t) {
                var i = this.getDrawOptions(e.width);
                t.strokeStyle = "#999999",
                t.lineWidth = i.grayLineWidth,
                t.beginPath(),
                t.moveTo(i.point1.x, i.point1.y),
                t.lineTo(i.point2.x, i.point2.y),
                t.lineTo(i.point3.x, i.point3.y),
                t.lineTo(e.width / 2, i.point3.y),
                t.stroke(),
                t.strokeStyle = "#ff9f10",
                t.lineWidth = i.orangeLineWidth,
                t.beginPath(),
                t.moveTo(0, i.orangeLineY),
                t.lineTo(e.width / 2, i.orangeLineY),
                t.stroke()
            },
            drawRightSide: function(e, t) {
                t.translate(e.width, 0),
                t.scale(-1, 1),
                this.drawLeftSide(e, t)
            },
            renderDiveLogStats: function() {
                var e = this.$("#canvas")[0].width
                  , t = n.a.template(m.a)
                  , i = this.$(".dive-canvas")
                  , a = t({
                    className: "surface-interval",
                    additionalClasses: "",
                    value: this.getSurfaceIntervalValue(e, this.surfaceInterval),
                    label: this.getSurfaceIntervalLabel(e)
                });
                i.append(a);
                var r = d.a.parseISO(this.timeIn)
                  , s = t({
                    className: "time-in",
                    additionalClasses: "",
                    value: p.a.formatTime(r),
                    label: l.a.localize("time_in_label")
                });
                i.append(s);
                var c = t({
                    className: "max-depth",
                    additionalClasses: "",
                    value: o.a.personalizeDepth(this.maxDepth) + " " + l.a.localize(o.a.getDepthUnitKey()),
                    label: l.a.localize("max_depth")
                });
                i.append(c);
                var u = t({
                    className: "avg-depth",
                    additionalClasses: "center",
                    value: o.a.personalizeDepth(this.avgDepth) + " " + l.a.localize(o.a.getDepthUnitKey()),
                    label: l.a.localize("avg_depth_abbr")
                });
                i.append(u);
                var g = t({
                    className: "bottom-time",
                    additionalClasses: "center",
                    value: o.a.personalizeDuration(this.bottomTime, !1),
                    label: l.a.localize("bottom_time")
                });
                if (i.append(g),
                this.isDecoDive) {
                    var f = t({
                        className: "deco-dive",
                        additionalClasses: "right decompression-dive-icon",
                        value: "D",
                        label: l.a.localize("deco_dive_label")
                    });
                    i.append(f)
                }
                var v = new h.a(r).add(this.bottomTime, "s").toDate()
                  , y = t({
                    className: "time-out",
                    additionalClasses: "right",
                    value: p.a.formatTime(v),
                    label: l.a.localize("time_out_label")
                });
                i.append(y)
            },
            getSurfaceIntervalValue: function(e, t) {
                return this.isWidget(e) ? l.a.localize("surface_interval_abbrev") + ": " + o.a.personalizeDuration(t, !1) : o.a.personalizeDuration(t, !1)
            },
            getSurfaceIntervalLabel: function(e) {
                return this.isWidget(e) ? "" : l.a.localize("surface_interval")
            },
            getDrawOptions: function(e) {
                return this.isWidget(e) ? A : e >= 300 && e <= 550 ? y : v
            },
            isWidget: function(e) {
                return e < 300
            },
            destroy: function() {
                this.remove()
            }
        })
    },
    1651: function(e, t) {
        e.exports = '<div class="dive-log-stat <%- className %>-stat font-thin <%- additionalClasses %>">\n    <div class="<%- className %>-value dive-log-value">\n        <%- value %>\n    </div>\n    <span class="<%- className %>-label dive-log-label">\n        <%- label %>\n    </span>\n</div>'
    },
    1652: function(e, t) {
        e.exports = '<div class="dive-canvas">\n    <canvas id="canvas" class="canvas"></canvas>\n    \x3c!-- diveLogStatView.html --\x3e\n\n</div>\n'
    },
    1661: function(e, t, i) {
        "use strict";
        var a = i(165)
          , n = i(19)
          , r = i(1292)
          , s = a.a.extend({
            totalCourses: 0,
            model: r.a,
            url: function() {
                return "/proxy/course-service/course/owner/" + n.a.get("displayName")
            },
            initialize: function(e, t) {
                t.verb = "GET",
                this.initializePagedCollection(t)
            },
            parse: function(e) {
                return this.totalCourses = e.length,
                e
            },
            comparator: function(e) {
                return e.get("courseName").toLowerCase()
            },
            getTotalCourseCount: function() {
                return this.totalCourses
            },
            findCourse: function(e) {
                return this.find(function(t) {
                    return t.get("courseId") === e
                })
            }
        });
        t.a = s
    },
    1700: function(e, t, i) {
        "use strict";
        var a = i(1389);
        t.a = a.a.extend({
            url: "/web-data/exercises/Pilates.json"
        })
    },
    1701: function(e, t, i) {
        "use strict";
        var a = i(1389);
        t.a = a.a.extend({
            url: "/web-data/exercises/Yoga.json"
        })
    },
    1702: function(e, t) {
        e.exports = '<span class="dropdown-toggle" data-toggle="dropdown">\n    <%- label %>: <span class="type"><%- selectedItem.name %></span>\n    <i class="icon-pointer-down"></i>\n</span>\n<ul class="dropdown-menu pull-left" role="menu" aria-labelledby="dropdownMenu">\n\n        <% for (var i = 0; i < items.length; i++) {         %>\n        <% var item = items[i];                             %>\n            <li data-value="<%- item.value %>"><a tabindex="-1" href="#"><%- item.name %></a></li>\n            <% if (typeof item.children != \'undefined\') {              %>\n                <% for (var j = 0; j < item.children.length; j++) { %>\n                <%  var childItem = item.children[j];               %>\n                    <li data-value="<%- childItem.value %>"><a tabindex="-1" href="#" class="dropdown-tier"><%- childItem.name %></a></li>\n                <% }                                                %>\n            <% }                                                %>\n\n        <% }                                                %>\n</ul>'
    },
    1705: function(e, t) {
        e.exports = "<p><%- Localizer.localize('help.running.dynamics.cadence.chart.label') %></p>\n<table class=\"table\">\n    <thead>\n    <tr>\n        <th><%- Localizer.localize('help.running.dynamics.color.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.percent.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.cadence.range') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td><span class=\"rd-color background-61\"></span><%- Localizer.localize('color_purple') %></td>\n        <td>&gt; 95</td>\n        <td>&gt; 183 spm</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-21\"></span><%- Localizer.localize('color_blue') %></td>\n        <td>70 \u2013 95</td>\n        <td>174 \u2013 183 spm</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-40\"></span><%- Localizer.localize('color_green') %></td>\n        <td>30 - 69</td>\n        <td>164 - 173 spm</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n        <td>5 - 29</td>\n        <td>153 - 163 spm</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n        <td>&lt; 5</td>\n        <td>&lt; 153 spm</td>\n    </tr>\n    </tbody>\n</table>\n<p><%- Localizer.localize('help.running.dynamics.cadence.chart.cadence.research') %></p>\n"
    },
    1706: function(e, t) {
        e.exports = "<p><%- Localizer.localize('help.running.dynamics.vert.oscillation.chart.label') %></p>\n<table class=\"table\">\n    <thead>\n    <tr>\n        <th><%- Localizer.localize('help.running.dynamics.color.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.percent.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.vo.range') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td><span class=\"rd-color background-61\"></span><%- Localizer.localize('color_purple') %></td>\n        <td>&gt; <%- additionalData.Purple.zone %></td>\n        <td>&lt; <%- additionalData.Purple.range %> <%- Localizer.localize('vert_oscillation_unit') %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-21\"></span><%- Localizer.localize('color_blue') %></td>\n        <td><%- additionalData.Blue.zone %></td>\n        <td><%- additionalData.Blue.range %> <%- Localizer.localize('vert_oscillation_unit') %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-40\"></span><%- Localizer.localize('color_green') %></td>\n        <td><%- additionalData.Green.zone %></td>\n        <td><%- additionalData.Green.range %> <%- Localizer.localize('vert_oscillation_unit') %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n        <td><%- additionalData.Orange.zone %></td>\n        <td><%- additionalData.Orange.range %> <%- Localizer.localize('vert_oscillation_unit') %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n        <td>&lt; <%- additionalData.Red.zone %></td>\n        <td>&gt; <%- additionalData.Red.range %> <%- Localizer.localize('vert_oscillation_unit') %></td>\n    </tr>\n    </tbody>\n</table>\n<p><%- Localizer.localize('help.running.dynamics.vert.oscillation.chart.research') %></p>\n"
    },
    1707: function(e, t) {
        e.exports = "<p><%- Localizer.localize('help.running.dynamics.ground.contact.chart.label') %></p>\n<table class=\"table\">\n    <thead>\n    <tr>\n        <th><%- Localizer.localize('help.running.dynamics.color.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.percent.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.gct.range') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td><span class=\"rd-color background-61\"></span><%- Localizer.localize('color_purple') %></td>\n        <td>&gt; 95</td>\n        <td>&lt; 218 ms</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-21\"></span><%- Localizer.localize('color_blue') %></td>\n        <td>70 \u2013 95</td>\n        <td>218-248 ms</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-40\"></span><%- Localizer.localize('color_green') %></td>\n        <td>30 - 69</td>\n        <td>249 - 277 ms</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n        <td>5 - 29</td>\n        <td>278 - 308 ms</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n        <td>&lt; 5</td>\n        <td>&gt; 308 ms</td>\n    </tr>\n    </tbody>\n</table>\n<p><%- Localizer.localize('help.running.dynamics.ground.contact.chart.research') %></p>\n"
    },
    1708: function(e, t) {
        e.exports = "<p><%- Localizer.localize('help.running.dynamics.gct.balance.label') %></p>\n    <table class=\"table\">\n        <thead>\n        <tr>\n            <th><%- Localizer.localize('help.running.dynamics.color.zone') %></th>\n            <th><%- Localizer.localize('help.running.dynamics.percent.zone') %></th>\n            <th><abbr title=\"<%- Localizer.localize('help.running.dynamics.gct') %>\"><%- Localizer.localize('help.running.dynamics.gct.abbr') %></abbr> <%- Localizer.localize('help.running.dynamics.balance.range') %></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr>\n            <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n            <td>&gt; 95</td>\n            <td>&gt; <%- Localizer.localize('power_balance_right_format', 52.2) %></td>\n        </tr>\n        <tr>\n            <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n            <td>70 \u2013 95</td>\n            <td><%- Localizer.localize('power_balance_right_format', 50.8) %> - <%- Localizer.localize('power_balance_right_format', 52.2) %></td>\n        </tr>\n        <tr>\n            <td><span class=\"rd-color background-40\"></span><%- Localizer.localize('color_green') %></td>\n            <td>30 - 69</td>\n            <td><%- Localizer.localize('power_balance_right_format', 50.7) %> - <%- Localizer.localize('power_balance_left_format', 50.7) %></td>\n        </tr>\n        <tr>\n            <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n            <td>5 - 29</td>\n            <td><%- Localizer.localize('power_balance_left_format', 50.8) %> - <%- Localizer.localize('power_balance_left_format', 52.2) %></td>\n        </tr>\n        <tr>\n            <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n            <td>&lt; 5</td>\n            <td>&gt; <%- Localizer.localize('power_balance_left_format', 52.2) %></td>\n        </tr>\n        </tbody>\n    </table>\n<p><%= Localizer.localize('help.running.dynamics.gct.balance.research') %></p>\n"
    },
    1709: function(e, t) {
        e.exports = "<p><%- Localizer.localize('help.running.dynamics.vert.ratio.chart.label') %></p>\n<table class=\"table\">\n    <thead>\n    <tr>\n        <th><%- Localizer.localize('help.running.dynamics.color.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.percent.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.vr.range') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td><span class=\"rd-color background-61\"></span><%- Localizer.localize('color_purple') %></td>\n        <td>&gt; <%- additionalData.Purple.zone %></td>\n        <td>&lt; <%- additionalData.Purple.range %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-21\"></span><%- Localizer.localize('color_blue') %></td>\n        <td><%- additionalData.Blue.zone %></td>\n        <td><%- additionalData.Blue.range %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-40\"></span><%- Localizer.localize('color_green') %></td>\n        <td><%- additionalData.Green.zone %></td>\n        <td><%- additionalData.Green.range %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n        <td><%- additionalData.Orange.zone %></td>\n        <td><%- additionalData.Orange.range %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n        <td>&lt; <%- additionalData.Red.zone %></td>\n        <td>&gt; <%- additionalData.Red.range %></td>\n    </tr>\n    </tbody>\n</table>\n<p><%- Localizer.localize('help.running.dynamics.vert.ratio.chart.research') %></p>\n"
    },
    1710: function(e, t) {
        e.exports = '<table class="table table-bordered table-condensed">\n    <thead>\n    <tr>\n        <th></th>\n        <th><%- Localizer.localize(\'training_desc\') %></th>\n        <th><%- Localizer.localize(\'training_freq\') %></th>\n        <th><%- Localizer.localize(\'training_duration\') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <th align="center">0</th>\n        <td><%- Localizer.localize(\'training_desc_1\') %></td>\n        <td>&nbsp;&nbsp;-</td>\n        <td>&nbsp;&nbsp;-</td>\n    </tr>\n\n    <tr>\n        <th align="center">1</th>\n        <td style="vertical-align:middle" rowspan="3"><%- Localizer.localize(\'training_desc_2\') %></td>\n        <td style="vertical-align:middle" rowspan="2"><%- Localizer.localize(\'training_freq_1\') %></td>\n        <td><%- Localizer.localize(\'training_duration_1\') %></td>\n    </tr>\n    <tr>\n        <th align="center">2</th>\n        <td><%- Localizer.localize(\'training_duration_2\') %></td>\n    </tr>\n    <tr>\n        <th align="center">3</th>\n        <td><%- Localizer.localize(\'training_freq_2\') %></td>\n        <td><%- Localizer.localize(\'training_duration_3\') %></td>\n    </tr>\n    <tr>\n        <th align="center">4</th>\n        <td style="vertical-align:middle" rowspan="4"><%- Localizer.localize(\'training_desc_3\') %></td>\n        <td style="vertical-align:middle" rowspan="3"><%- Localizer.localize(\'training_freq_3\') %></td>\n        <td><%- Localizer.localize(\'training_duration_4\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">5</th>\n        <td><%- Localizer.localize(\'training_duration_5\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">6</th>\n        <td><%- Localizer.localize(\'training_duration_6\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">7</th>\n        <td><%- Localizer.localize(\'training_freq_4\') %></td>\n        <td><%- Localizer.localize(\'training_duration_7\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">8</th>\n        <td style="vertical-align:middle" rowspan="3"><%- Localizer.localize(\'training_desc_4\') %></td>\n        <td><%- Localizer.localize(\'training_freq_5\') %></td>\n        <td><%- Localizer.localize(\'training_duration_8\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">9</th>\n        <td style="vertical-align:middle" rowspan="2"><%- Localizer.localize(\'training_freq_6\') %></td>\n        <td><%- Localizer.localize(\'training_duration_9\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">10</th>\n        <td><%- Localizer.localize(\'training_duration_10\') %></td>\n    </tr>\n\n    </tbody>\n</table>\n\n<p style="font-size:12px;"><%= Localizer.localize(\'activity_class_helper\') %></p>\n\n'
    },
    1711: function(e, t) {
        e.exports = "<p>\n    <%- Localizer.localize('help.performance.condition.description') %>\n</p>\n<table class=\"table\">\n    <thead>\n        <tr>\n            <th><%- Localizer.localize('help.performance.condition') %></th>\n            <th><%- Localizer.localize('help.performance.condition.score') %></th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td><%- Localizer.localize('help.performance.condition.rating.excellent') %></td>\n            <td><%- Localizer.localize('help.performance.condition.rating.excellent.score') %></td>\n        </tr>\n        <tr>\n            <td><%- Localizer.localize('help.performance.condition.rating.good') %></td>\n            <td><%- Localizer.localize('help.performance.condition.rating.good.score') %></td>\n        </tr>\n        <tr>\n            <td><%- Localizer.localize('help.performance.condition.rating.baseline') %></td>\n            <td><%- Localizer.localize('help.performance.condition.rating.baseline.score') %></td>\n        </tr>\n        <tr>\n            <td><%- Localizer.localize('help.performance.condition.rating.fair') %></td>\n            <td><%- Localizer.localize('help.performance.condition.rating.fair.score') %></td>\n        </tr>\n        <tr>\n            <td><%- Localizer.localize('help.performance.condition.rating.poor') %></td>\n            <td><%- Localizer.localize('help.performance.condition.rating.poor.score') %></td>\n        </tr>\n    </tbody>\n</table>"
    },
    1712: function(e, t) {
        e.exports = "<h4><%- Localizer.localize('help_vector_air_drag_cda') %></h4>\n    <div><%= Localizer.localize('help_vector_air_drag_cda_intro_paragraph') %></div>\n    <ul class=\"nav nav-tabs\">\n        <li class=\"active\"><a href=\"#drag-road\" data-toggle=\"tab\"><%- Localizer.localize('help_vector_air_drag_cda_road_cyclist_label') %></a></li>\n        <li><a href=\"#drag-tt\" data-toggle=\"tab\"><%- Localizer.localize('help_vector_air_drag_cda_time_trialist_tab_label') %></a></li>\n    </ul>\n\n    <div class=\"tab-content\">\n\n        \x3c!-- Road Cyclist tab --\x3e\n        <div class=\"tab-pane active\" id=\"drag-road\">\n            <h4 class=\"bottom-xs\"><%- Localizer.localize('help_vector_air_drag_cda_aerodynamic_zones_label') %></h4>\n\n            <table class=\"vo2-estimates-table table table-bordered\">\n                <tbody>\n                <tr>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_road_cyclist_label') %></th>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_percentile_label') %></th>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_cda_range') %></th>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-superior\"></span><%- Localizer.localize('help_vector_air_drag_cda_superior_label') %></td>\n                    <td>&gt; <%- additionalData.roadCyclist.Purple.zone %></td>\n                    <td>&lt; <%- additionalData.roadCyclist.Purple.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-excellent\"></span><%- Localizer.localize('help_vector_air_drag_cda_excellent_label') %></td>\n                    <td><%- additionalData.roadCyclist.Blue.zone %></td>\n                    <td><%- additionalData.roadCyclist.Blue.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-good\"></span><%- Localizer.localize('help_vector_air_drag_cda_good_label') %></td>\n                    <td><%- additionalData.roadCyclist.Green.zone %></td>\n                    <td><%- additionalData.roadCyclist.Green.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-fair\"></span><%- Localizer.localize('help_vector_air_drag_cda_fair_label') %></td>\n                    <td><%- additionalData.roadCyclist.Orange.zone %></td>\n                    <td><%- additionalData.roadCyclist.Orange.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-poor\"></span><%- Localizer.localize('help_vector_air_drag_cda_poor_label') %></td>\n                    <td>&lt; <%- additionalData.roadCyclist.Red.zone %></td>\n                    <td>&gt; <%- additionalData.roadCyclist.Red.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                </tbody>\n            </table>\n        </div>\n        \x3c!-- End: Road Cyclist tab --\x3e\n\n        \x3c!-- Time Trialist Cyclist tab --\x3e\n        <div class=\"tab-pane\" id=\"drag-tt\">\n            <h4 class=\"bottom-xs\"><%- Localizer.localize('help_vector_air_drag_cda_aerodynamic_zones_label') %></h4>\n\n            <table class=\"vo2-estimates-table table table-bordered\">\n                <tbody>\n                <tr>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_time_trial_cyclist') %></th>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_percentile_label') %></th>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_cda_range') %></th>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-superior\"></span><%- Localizer.localize('help_vector_air_drag_cda_superior_label') %></td>\n                    <td>&gt; <%- additionalData.timeTrialist.Purple.zone %></td>\n                    <td>&lt; <%- additionalData.timeTrialist.Purple.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-excellent\"></span><%- Localizer.localize('help_vector_air_drag_cda_excellent_label') %></td>\n                    <td><%- additionalData.timeTrialist.Blue.zone %></td>\n                    <td><%- additionalData.timeTrialist.Blue.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-good\"></span><%- Localizer.localize('help_vector_air_drag_cda_good_label') %></td>\n                    <td><%- additionalData.timeTrialist.Green.zone %></td>\n                    <td><%- additionalData.timeTrialist.Green.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-fair\"></span><%- Localizer.localize('help_vector_air_drag_cda_fair_label') %></td>\n                    <td><%- additionalData.timeTrialist.Orange.zone %></td>\n                    <td><%- additionalData.timeTrialist.Orange.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-poor\"></span><%- Localizer.localize('help_vector_air_drag_cda_poor_label') %></td>\n                    <td>&lt; <%- additionalData.timeTrialist.Red.zone %></td>\n                    <td>&gt; <%- additionalData.timeTrialist.Red.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                </tbody>\n            </table>\n        </div>\n        \x3c!-- End Balance tab --\x3e\n\n        <div><%- Localizer.localize('help_vector_air_drag_cda_footer_paragraph') %></div>\n    </div>"
    },
    1713: function(e, t) {
        e.exports = "<h4><%- Localizer.localize('label_respiration_rate') %></h4>\n\n<ul class=\"nav nav-tabs\">\n    <li class=\"active\"><a href=\"#tracking-respiration-rate\" data-toggle=\"tab\"><%- Localizer.localize('label_respiration_tracking') %></a></li>\n    <li><a href=\"#breathing-during-runs\" data-toggle=\"tab\"><%- Localizer.localize('label_breathing_during_runs') %></a></li>\n</ul>\n    \n<div class=\"tab-content\">\n    \x3c!-- Respiration Tracking tab --\x3e\n    <div class=\"tab-pane active\" id=\"tracking-respiration-rate\">\n       <h5><%- Localizer.localize('respiration_tracking_header_message1') %></h5>\n       <p><%- Localizer.localize('respiration_tracking_message1') %></p>\n       <h5><%- Localizer.localize('respiration_tracking_header_message2') %></h5>\n       <p><%- Localizer.localize('respiration_tracking_message2') %></p>\n       <h5><%- Localizer.localize('respiration_tracking_header_message3') %></h5>\n       <p><%- Localizer.localize('respiration_tracking_message3') %></p>\n    </div>\n    \x3c!-- End Respiration Tracking tab --\x3e\n\n    \x3c!-- Breathing During Runs tab --\x3e\n    <div class=\"tab-pane\" id=\"breathing-during-runs\">\n        <h5><%- Localizer.localize('breathing_header_message') %></h3>\n        <h5><%- Localizer.localize('breathing_category1') %></h5>\n        <p><%- Localizer.localize('breathing_message1') %></p>\n        <h5><%- Localizer.localize('breathing_category2') %></h5>\n        <p><%- Localizer.localize('breathing_message2') %></p>\n        <h5><%- Localizer.localize('breathing_category3') %></h5>\n        <p><%- Localizer.localize('breathing_message3') %></p>\n        <h5><%- Localizer.localize('breathing_category4') %></h5>\n        <p><%- Localizer.localize('breathing_message4') %></p>\n    </div>\n    \x3c!-- End Breathing During Runs tab --\x3e\n</div>\n    "
    },
    1714: function(e, t) {
        e.exports = "<h2><%- Localizer.localize('label_grit') %></h2>\n\n<h5><%- Localizer.localize('grit_help', additionalData.ActivitiesUtil.GritColorRanges.max_1, additionalData.ActivitiesUtil.GritColorRanges.max_3) %></h5>\n\n<table>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.ActivitiesUtil.GritColorRanges.color_1 %>\"></span></td>\n        <td><%- Localizer.localize('grit_easy', additionalData.ActivitiesUtil.GritColorRanges.max_1 + '-' + additionalData.ActivitiesUtil.GritColorRanges.max_2) %></td>\n    </tr>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.ActivitiesUtil.GritColorRanges.color_2 %>\"></span></td>\n        <td><%- Localizer.localize('grit_moderate', additionalData.ActivitiesUtil.GritColorRanges.max_2 + '-' + additionalData.ActivitiesUtil.GritColorRanges.max_3) %></td>\n    </tr>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.ActivitiesUtil.GritColorRanges.color_3 %>\"></span></td>\n        <td><%- Localizer.localize('grit_hard', additionalData.ActivitiesUtil.GritColorRanges.max_3 + '+') %></td>\n    </tr>        \n</table>\n\n<p></p>\n<p><%- Localizer.localize('grit_help_2') %></p>\n\n<h4><%- Localizer.localize('label_grit_in_connect') %></h4>\n<p><%- Localizer.localize('grit_in_connect') %></p>"
    },
    1715: function(e, t) {
        e.exports = "<h2><%- Localizer.localize('label_flow') %></h2>\n\n<h5><%- Localizer.localize('flow_help') %></h5>\n\n<table>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.ActivitiesUtil.FlowColorRanges.color_1 %>\"></span></td>\n        <td><%- Localizer.localize('flow_smooth', additionalData.ActivitiesUtil.FlowColorRanges.max_1 + '-' + additionalData.ActivitiesUtil.FlowColorRanges.max_2) %></td>\n    </tr>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.ActivitiesUtil.FlowColorRanges.color_2 %>\"></span></td>\n        <td><%- Localizer.localize('flow_moderate', additionalData.ActivitiesUtil.FlowColorRanges.max_2 + '-' + additionalData.ActivitiesUtil.FlowColorRanges.max_3) %></td>\n    </tr>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.ActivitiesUtil.FlowColorRanges.color_3 %>\"></span></td>\n        <td><%- Localizer.localize('flow_rough', additionalData.ActivitiesUtil.FlowColorRanges.max_3 + '+') %></td>\n    </tr>        \n</table>\n\n<p></p>\n<p><%- Localizer.localize('flow_help_2') %></p>\n\n<h4><%- Localizer.localize('label_flow_in_connect') %></h4>\n<p><%- Localizer.localize('flow_in_connect') %></p>"
    },
    1723: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(13)
          , c = i(1724)
          , h = i.n(c);
        t.a = s.a.View.extend({
            template: n.a.template(h.a),
            initialize: function(e) {},
            render: function() {
                var e = this.model.get("videoUrl");
                if (e) {
                    var t = e.indexOf("?v=")
                      , i = e.substring(t + 3)
                      , a = this.template({
                        Localizer: o.a,
                        Personalizer: l.a,
                        videoId: i
                    });
                    this.$el.html(a),
                    this.$el.show()
                }
            }
        })
    },
    1724: function(e, t) {
        e.exports = '<div class="video-outer">\n    <iframe width="560" height="315" src="//www.youtube-nocookie.com/embed/<%- videoId %>?rel=0&amp;autohide=1&amp;showinfo=0&amp;modestbranding=1&amp;theme=light" frameborder="0" allowfullscreen=""></iframe>\n</div>'
    },
    1725: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(7)
              , r = i.n(n)
              , s = i(8)
              , o = i.n(s)
              , l = i(4)
              , c = i(13)
              , h = i(1410)
              , d = i(36)
              , p = i(53)
              , u = (i(28),
            i(82))
              , m = i(1726)
              , g = i(1727)
              , f = i.n(g)
              , v = o.a.View.extend({
                template: r.a.template(f.a),
                initialize: function(t) {
                    this.timer = null,
                    this.player = t.player,
                    this.activityDetails = t.activityDetails,
                    this.videoClips = t.videoClips.toJSON(),
                    this.youtubePlayer = new m.a,
                    this.youtubePlayer.bind(m.a.Events.PLAYER_LOADED, function() {
                        this.log("YouTubePlayer.Events.PLAYER_LOADED fired!"),
                        e("#activityYouTubePlaceholder").show(),
                        this.$el.show()
                    }, this),
                    this.youtubePlayer.bind(m.a.Events.STATE_CHANGED, this.stateChanged, this),
                    this.youtubePlayer.bind(m.a.Events.ERROR, this.onError, this),
                    r.a.bind(this.checkClipInfo, this)
                },
                cleanUp: function() {
                    this.log("Clean up"),
                    this.stopTimer();
                    try {
                        this.youtubePlayer.stopVideo()
                    } catch (e) {
                        this.log("Exception thrown stopping video. Err: " + e.message)
                    }
                    this.youtubePlayer.destroy(),
                    this.youtubePlayer = null,
                    this.player && (this.player.stopPlaying(),
                    this.player.stopListening())
                },
                startTimer: function() {
                    var e = this;
                    null != this.timer && this.stopTimer(),
                    this.log("startTimer()"),
                    this.timer = setInterval(function() {
                        e.checkClipInfo()
                    }, 500)
                },
                stopTimer: function() {
                    null != this.timer && (this.log("stopTimer()"),
                    clearInterval(this.timer),
                    this.timer = null)
                },
                checkClipInfo: function() {
                    var e = this.youtubePlayer.getCurrentTime()
                      , t = 1e3 * e;
                    this.log("seconds: " + e + ", millisecondsIntoVideo: " + t + " into video.");
                    for (var i = null, a = 0; a < this.videoClips.length; a++)
                        if (t >= this.videoClips[a].clipStartOffset && t <= this.videoClips[a].clipEndOffset) {
                            i = this.videoClips[a];
                            break
                        }
                    if (null != i) {
                        this.log("clip: " + ++a + ", startOffset: " + i.clipStartOffset + ", endOffset: " + i.clipEndOffset);
                        var n = u.a.parseISOUTC(i.startTimeGMT).getTime()
                          , r = u.a.parseISOUTC(i.endTimeGMT).getTime()
                          , s = (t - i.clipStartOffset) / (i.clipEndOffset - i.clipStartOffset)
                          , o = n + s * (r - n);
                        this.log("startDateMilliseconds: " + n + ", endDateMilliseconds: " + r + ", percentDone: " + s + ", activityTimeMilliseconds: " + o);
                        for (var l = "sumDistance" == this.player.get("xAxisType"), h = this.activityDetails.getData("directTimestamp", l ? "sumDistance" : "sumDuration"), d = null, p = 0; p < h.length; p++)
                            if (h[p][1] >= o) {
                                d = h[p][0];
                                break
                            }
                        d && (l && (d = c.a.convertDistance(d, "running")),
                        this.log((l ? "distance: " : "duration: ") + d),
                        this.player.set("x", d))
                    }
                },
                onError: function(e) {
                    this.log("Error with video: " + e)
                },
                stateChanged: function(e) {
                    if (!this.isPlayerRunning())
                        switch (e) {
                        case m.a.States.PAUSED:
                            this.stopTimer(),
                            this.enablePlayButton(!0);
                            break;
                        case m.a.States.PLAYING:
                            this.startTimer(),
                            this.enablePlayButton(!1);
                            break;
                        case m.a.States.ENDED:
                            this.stopTimer(),
                            this.enablePlayButton(!0);
                            break;
                        case m.a.States.UN_STARTED:
                        }
                },
                enablePlayButton: function(e) {
                    e ? (a(".play").show(),
                    a(":button.chart-header-item").attr("disabled", !1)) : (a(".play").hide(),
                    a(":button.chart-header-item").attr("disabled", !0))
                },
                isPlayerRunning: function() {
                    return this.player.get("mode") === h.a.Modes.Playing
                },
                render: function() {
                    var e = this.model.get("videoUrl");
                    if (e) {
                        this.player.initPlayer();
                        var t = d.a.getLocale();
                        t = p.a.getFullLocale(t);
                        var i = e.indexOf("?v=")
                          , a = e.substring(i + 3);
                        this.youtubePlayer.loadPlayer("ytplayer", a, {
                            controls: 1,
                            modestbranding: 0,
                            rel: 0,
                            showinfo: 1,
                            autohide: 0,
                            hl: t,
                            fs: 1,
                            theme: "light"
                        });
                        var n = this.template({
                            Localizer: l.a
                        });
                        this.$(".video-outer").html(n)
                    }
                },
                log: function(e) {
                    "undefined" !== typeof console && "undefined" !== typeof console.log && console.log((new Date).toString() + " - " + e)
                }
            });
            t.a = v
        }
        ).call(this, i(10), i(10))
    },
    1726: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(10)
              , n = i.n(a)
              , r = i(8)
              , s = {
                PLAYER_LOADED: "PLAYER_LOADED",
                STATE_CHANGED: "STATE_CHANGED",
                ERROR: "ERROR"
            }
              , o = {
                UN_STARTED: -1,
                ENDED: 0,
                PLAYING: 1,
                PAUSED: 2,
                BUFFERING: 3,
                CUED: 5
            }
              , l = i.n(r).a.Model.extend({
                initialize: function() {
                    this.loaded = !1,
                    this.player = null,
                    e.bind(this.onReady, this)
                },
                loadPlayer: function(e, t, i) {
                    "undefined" != typeof YT && "undefined" != typeof YT.Player && (YT.loading = 0);
                    var a = this;
                    window.onYouTubeIframeAPIReady = function() {
                        a._loadPlayer(e, t, i)
                    }
                    ,
                    n.a.getScript("//www.youtube.com/iframe_api")
                },
                _loadPlayer: function(e, t, i) {
                    var a = this;
                    setTimeout(function() {
                        0 == a.loaded && a.onReady()
                    }, 2e3),
                    this.player = new YT.Player(e,{
                        videoId: t,
                        playerVars: i,
                        events: {
                            onReady: function(e) {
                                a.onReady()
                            },
                            onStateChange: function(e) {
                                a.trigger(s.STATE_CHANGED, e.data)
                            },
                            onError: function(e) {
                                a.trigger(s.ERROR, e.data)
                            }
                        }
                    })
                },
                onReady: function() {
                    this.loaded = !0,
                    this.trigger(s.PLAYER_LOADED)
                },
                destroy: function() {
                    this.player && (this.player.destroy(),
                    this.player = null),
                    delete window.onYouTubeIframeAPIReady
                },
                isVideoPlaying: function() {
                    return this.getPlayerState() === o.PLAYING
                },
                getDuration: function() {
                    return this.player && this.loaded ? this.player.getDuration() : -1
                },
                pauseVideo: function() {
                    this.player && this.loaded && this.player.pauseVideo()
                },
                stopVideo: function() {
                    this.player && this.loaded && this.isVideoPlaying() && this.player.stopVideo()
                },
                playVideo: function() {
                    this.player && this.loaded && this.player.playVideo()
                },
                getCurrentTime: function() {
                    return this.player && this.loaded ? this.player.getCurrentTime() : -1
                },
                seekTo: function(e, t) {
                    this.player && this.loaded && this.player.seekTo(e, t)
                },
                getPlayerState: function() {
                    return this.player && this.loaded ? this.player.getPlayerState() : o.UN_STARTED
                }
            });
            l.Events = s,
            l.States = o,
            l.ErrorCodes = {
                INVALID_PARAMETER: 2,
                INVALID_CONTENT_HTML5: 5,
                VIDEO_NOT_FOUND: 100,
                EMBEDDED_PLAYER_NOT_ALLOWED: 101,
                OTHER: 150
            },
            t.a = l
        }
        ).call(this, i(7))
    },
    1727: function(e, t) {
        e.exports = '<div class="video-outer">\n    <div width="560" height="315" id="ytplayer"></div>\n</div>'
    },
    1733: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(17)
          , s = n.a.Model.extend({
            urlRoot: r.default.url("/proxy/course-service/course/metadata"),
            idAttribute: "courseId"
        });
        t.a = s
    },
    1734: function(e, t) {
        e.exports = '<% if (useSelect) { %>\n<select name="activityType" id="activityType" class=<%- className %>>\n    <% for (var i = 0; i < items.length; i++) { %>\n    <% var item = items[i]; %>\n    <% if(options.showTypeUncategorized === false && item.value === \'uncategorized\') { continue; } %>\n\n    <% if(item.value !== this.value) { %>\n    <option value="<%- item.value %>"><%- item.name || Localizer.localize(item.nameKey) %></option>\n    <% } else { %>\n    <option value="<%- item.value %>" selected><%- item.name || Localizer.localize(item.nameKey) %></option>\n    <% } %>\n\n    <% if (typeof item.children !== \'undefined\') { %>\n        <optgroup label="">\n            <% for (var j = 0; j < item.children.length; j++) { %>\n                <% var childItem = item.children[j]; %>\n\n                <% if(childItem.value !== this.value) { %>\n                <option value="<%- childItem.value %>"><%- childItem.name || Localizer.localize(childItem.nameKey) %></option>\n                <% } else { %>\n                <option value="<%- childItem.value %>" selected><%- childItem.name || Localizer.localize(childItem.nameKey) %></option>\n                <% } %>\n            <% } %>\n        </optgroup>\n        <% if ((i+1) < items.length) { %>\n            <optgroup label="----------------------------------"></optgroup>\n        <% } %>\n    <% } %>\n\n    <% } %>\n</select>\n<% } else { %>\n<span class="dropdown">\n    <span class="dropdown-toggle" data-toggle="dropdown" data-value="<%- selectedItem.value %>">\n        <span class="type"><%- selectedItem.name || Localizer.localize(selectedItem.nameKey) %></span>\n        <i class="icon-pointer-down"></i>\n    </span>\n    <ul class="dropdown-menu pull-left" role="menu" aria-labelledby="dropdownMenu">\n\n        <% for (var i = 0; i < items.length; i++) { %>\n            <% var item = items[i]; %>\n            <% if(options.showTypeUncategorized === false && item.value === \'uncategorized\') { continue; } %>\n\n            <li data-value="<%- item.value %>"><a tabindex="-1" href="#"><%- item.name || Localizer.localize(item.nameKey) %></a></li>\n            <% if (typeof item.children !== \'undefined\') { %>\n                <% for (var j = 0; j < item.children.length; j++) { %>\n                    <% var childItem = item.children[j]; %>\n                    <li data-value="<%- childItem.value %>"><a tabindex="-1" href="#" class="dropdown-tier"><%- childItem.name || Localizer.localize(childItem.nameKey) %></a></li>\n                <% } %>\n            <% } %>\n            <% if ((i+1) < items.length) { %>\n                <li class="divider"></li>\n            <% } %>\n        <% } %>\n    </ul>\n</span>\n<% } %>\n'
    },
    1737: function(e, t, i) {
        "use strict";
        i.d(t, "a", function() {
            return h
        });
        var a = i(2)
          , n = i(8)
          , r = i.n(n)
          , s = i(82)
          , o = i(1300)
          , l = i(45)
          , c = {
            data: null,
            compareData: null,
            type: "",
            getValueByPropertyName: function(e, t, i) {
                var a = t ? e instanceof r.a.Model ? e.get(t) : e[t] : e;
                return i && "function" === typeof i && (a = i(a)),
                a
            },
            conversion: function() {},
            getColor: function(e) {
                return e
            },
            getHighlightColor: function(e) {
                return e
            }
        }
          , h = {
            videoClips: "videoClips",
            typedSplits: "typedSplits"
        }
          , d = {};
        d.types = h,
        d.videoClips = Object(a.a)({}, c, {
            type: h.videoClips,
            conversion: function(e) {
                return e ? s.a.parseISOUTC(e).getTime() : e
            },
            getReverseData2VersionOfData: function(e) {
                e = e;
                if (this.compareData)
                    for (var t = 0; t < this.compareData.length; t += 1)
                        if (this.compareData[t][1] === e || this.compareData[t][1] > e) {
                            e = this.compareData[t][0];
                            break
                        }
                return e
            },
            getOverlayRanges: function() {
                var e = this;
                return this.data.map(function(t) {
                    return {
                        start: e.getReverseData2VersionOfData(e.getValueByPropertyName(t, "startTimeGMT", e.conversion)),
                        end: e.getReverseData2VersionOfData(e.getValueByPropertyName(t, "endTimeGMT", e.conversion))
                    }
                })
            },
            getColor: function(e) {
                var t = Object(o.a)(e);
                return "rgb(".concat(t[0], ", ").concat(t[1], ", ").concat(t[2], ", .5)")
            },
            getHighlightColor: function(e) {
                var t = Object(o.a)(e);
                return "rgb(".concat(t[0], ", ").concat(t[1], ", ").concat(t[2], ", .85)")
            }
        }),
        d.typedSplits = Object(a.a)({}, c, {
            type: h.typedSplits,
            conversion: function(e) {
                return e ? s.a.parseISOUTC(e).getTime() : e
            },
            getReverseData2VersionOfData: function(e) {
                e = e;
                if (this.compareData)
                    for (var t = 0; t < this.compareData.length; t += 1)
                        if (this.compareData[t][1] === e || this.compareData[t][1] > e) {
                            e = this.compareData[t][0];
                            break
                        }
                return e
            },
            getOverlayRanges: function() {
                var e = this;
                return this.data.map(function(t) {
                    return {
                        start: e.getReverseData2VersionOfData(e.getValueByPropertyName(t, "startTimeGMT", e.conversion)),
                        end: e.getReverseData2VersionOfData(e.getValueByPropertyName(t, "endTimeGMT", e.conversion))
                    }
                })
            },
            getColor: function(e) {
                return l.red_light_3
            },
            getHighlightColor: function(e) {
                return l.color_201
            }
        }),
        t.b = d
    },
    1738: function(e, t, i) {
        "use strict";
        var a = i(1246)
          , n = i(1222)
          , r = i(1239);
        t.a = a.a.extend({
            initialize: function(e) {
                this.fillColor = n.a.mapSeriesType(e.primarySeries[0]),
                this.seriesType = e.primarySeries.defaultChartType,
                this.scatterLineRadius = e.primarySeries.scatterLineRadius,
                a.a.prototype.initialize.apply(this, arguments)
            },
            primarySeriesType: r.a.Temperature,
            fillColor: n.a.mapSeriesType(r.a.Temperature),
            chartTitle: function() {
                return this.getPrimarySeriesLabel()
            },
            yLabel: function() {
                return this.getPrimarySeriesLabel()
            }
        })
    },
    1739: function(e, t) {
        e.exports = '<%  var imageUrl = socialProfile.profileImageUrlSmall || \'//static.garmincdn.com/apps/connect/image/profile-pic-default_60.gif\' %>\n\x3c!--avatar--\x3e\n<div class="object-img pull-left">\n    <a class="profile" href="#">\n        <img \n            class="media-object avatar avatar-tiny" \n            data-src="holder.js/64x64" \n            title="" \n            role="presentation" \n            src="<%- imageUrl %>"\n        >\n    </a>\n</div>\n\n\x3c!--comment content--\x3e\n<div class="media-body">\n\n    <textarea placeholder="<%- Localizer.localize(\'enter_your_comment\') %>" class="add-comment-textarea" maxlength="<%- maxLength %>"></textarea>\n    <div class="add-comment-button-wrapper text-right bottom-xs ">\n        <button class="btn btn-small add-comment-button" type="submit"><%- Localizer.localize(\'save\') %></button>\n    </div>\n\n</div>\n\x3c!--end comment content--\x3e\n\n'
    },
    1740: function(e, t) {
        e.exports = '<%\n    var commentPicUrl = comment.authorImageUrl || \'//static.garmincdn.com/apps/connect/image/profile-pic-default_60.gif\';\n    var likeTextKey = comment.likedByUser ? \'unlike\' : \'like\';\n%>\n\n\x3c!--avatar--\x3e\n<div class="object-img pull-left">\n    <a href="<%- url(\'/profile/\' + comment.authorDisplayName) %>">\n        <img class="media-object avatar avatar-tiny" data-src="holder.js/64x64" title="<%- comment.nameDisplayValue %>" alt="<%- comment.authorDisplayName %>" src="<%- commentPicUrl %>">\n    </a>\n</div>\n\n\x3c!--comment content--\x3e\n<div class="media-body">\n\n    <p class="">\n        <% if (comment.authorPro) { %>\n            \x3c!-- per UX, PRO is not translated --\x3e\n            <span class="label-pro"><i class="icon-checkmark"></i>PRO</span>\n        <% } %>\n        <a class="colored" href="<%- url(\'/profile/\' + comment.authorDisplayName) %>"><%- comment.nameDisplayValue %></a>\n    </p>\n    <p class="comment-body-text"><%- comment.body %></p>\n\n    \x3c!-- Delete Comment --\x3e\n    <% if (comment.userProfilePk == viewerProfilePk || conversationOwnerPk == viewerProfilePk) { %>\n    <button class="delete delete-js" title="<%- Localizer.localize(\'button_delete\') %>">\n        <i class="icon-close"></i>\n    </button>\n    <% } %>            \n    \n    <div class="feed-item-footer">\n        \n        \x3c!--date stamp--\x3e\n        <span class="date-stamp pull-left"><%- dayDisplay %></span>\n        \n        \x3c!--Liking--\x3e\n        <span class="entry-like pull-right"></span>\n        \n    </div>\n    \n</div>\n\x3c!--end comment content--\x3e\n'
    },
    1741: function(e, t) {
        e.exports = '<div class="border-wrapper">\n\n    <% if (showHeader) { %>\n    <h5 class="bottom-xs"><%- Localizer.localize(\'comments\') %></h5>\n    <% } %>\n\n    <div class="show-previous-comments" style="display:none;">\n        <a href="#"><%- Localizer.localize(\'show_previous_comments\') %><a/>\n    </div>\n\n    \x3c!--comment set--\x3e\n    <div class="comment-item">\n    \n    </div>\n    \n    <div class="comment-fade-out" style="display:none;"></div>\n\n</div>\n\n\x3c!--add comment--\x3e\n<div class="media add comment background-3">\n    <% if (isChallengeCommentDisabled && showLockedText) {%>\n        <%- Localizer.localize(\'lock.comment\') %>\n    <% } %>\n</div>\n\n            \n\n'
    },
    1751: function(e, t, i) {
        "use strict";
        var a = i(80)
          , n = i(81)
          , r = i(142)
          , s = function() {
            function e() {
                Object(a.a)(this, e)
            }
            return Object(n.a)(e, null, [{
                key: "diveWaterType",
                value: function(e, t, i) {
                    switch (e) {
                    case 0:
                        return r.a.t("diving:water_type_fresh");
                    case 1:
                        return r.a.t("diving:water_type_salt");
                    case 2:
                    case 3:
                        return i.personalizeWaterDensity(t) + " " + r.a.t("units:water_density_unit");
                    case 255:
                    default:
                        return "--"
                    }
                }
            }, {
                key: "diveGas",
                value: function(e, t) {
                    return 100 === t ? r.a.t("diving:gas_type_oxygen") : 21 === t && 0 === e ? r.a.t("diving:gas_type_air") : 21 !== t && 0 !== t && 0 === e ? r.a.t("diving:gas_type_eanx") : e > 0 ? r.a.t("diving:gas_type_trimix") : "--"
                }
            }]),
            e
        }()
          , o = i(13)
          , l = i(64)
          , c = i(4)
          , h = i(1254);
        i.d(t, "a", function() {
            return d
        });
        var d = function() {
            function e(t, i) {
                Object(a.a)(this, e),
                this.speedModel = t,
                this.topFiveMetrics = i
            }
            return Object(n.a)(e, [{
                key: "getDistance",
                value: function() {
                    var e = this.topFiveMetrics.activityTypeKey;
                    return {
                        value: o.a.personalizeDistance(this.topFiveMetrics.activity.distance, e, this.topFiveMetrics.activity.unitOfPoolLength),
                        unit: r.a.t("units:".concat(o.a.getDistanceUnitKey(e, this.topFiveMetrics.activity.distance, this.topFiveMetrics.activity.unitOfPoolLength))),
                        label: r.a.t("units:label_distance"),
                        metricName: "distance"
                    }
                }
            }, {
                key: "getDuration",
                value: function() {
                    var e = this.topFiveMetrics.activityTypeKey;
                    return {
                        value: o.a.personalizeDuration(this.topFiveMetrics.activity.duration),
                        unit: "",
                        label: r.a.t("units:".concat(o.a.getDurationLabelKey(e))),
                        metricName: "duration"
                    }
                }
            }, {
                key: "getAverageSpeedOrPace",
                value: function() {
                    this.topFiveMetrics.activityTypeKey;
                    return {
                        value: this.speedModel.avgSpeedOrPace,
                        unit: this.speedModel.avgSpeedOrPaceUnit,
                        label: this.speedModel.avgSpeedOrPaceLabel,
                        metricName: "averageSpeed"
                    }
                }
            }, {
                key: "getAverageHR",
                value: function() {
                    return {
                        value: this.topFiveMetrics.activity.averageHR ? o.a.personalizeHeartRate(this.topFiveMetrics.activity.averageHR) : "--",
                        unit: r.a.t("units:heart_rate_unit"),
                        label: r.a.t("units:label_avg_heart_rate"),
                        metricName: "averageHR"
                    }
                }
            }, {
                key: "getMaxHR",
                value: function() {
                    return {
                        value: this.topFiveMetrics.activity.maxHR ? o.a.personalizeHeartRate(this.topFiveMetrics.activity.maxHR) : "--",
                        unit: r.a.t("units:heart_rate_unit"),
                        label: r.a.t("units:label_max_heart_rate"),
                        metricName: "maxHR"
                    }
                }
            }, {
                key: "getCalories",
                value: function() {
                    return {
                        value: o.a.formatWholeNumber(this.topFiveMetrics.activity.calories),
                        unit: r.a.t("units:".concat(o.a.getCalorieUnitKey())),
                        label: r.a.t("units:label_calories"),
                        metricName: "calories"
                    }
                }
            }, {
                key: "getElevationGain",
                value: function() {
                    var e = this.topFiveMetrics.activity.elevationGain
                      , t = this.topFiveMetrics.activityTypeKey;
                    return {
                        value: o.a.personalizeElevation(e),
                        unit: e ? r.a.t("units:".concat(o.a.getElevationUnitKey())) : "",
                        label: r.a.t("units:".concat(o.a.getElevGainLabelKey(t))),
                        metricName: "elevationGain"
                    }
                }
            }, {
                key: "getElevationLoss",
                value: function() {
                    var e = this.topFiveMetrics.activity.elevationLoss
                      , t = this.topFiveMetrics.activityTypeKey;
                    return {
                        value: o.a.personalizeElevation(e),
                        unit: e ? r.a.t("units:".concat(o.a.getElevationUnitKey())) : "",
                        label: r.a.t("units:".concat(o.a.getElevLossLabelKey(t))),
                        metricName: "elevationLoss"
                    }
                }
            }, {
                key: "getNumberOfRuns",
                value: function() {
                    return {
                        value: this.topFiveMetrics.activity.lapCount,
                        unit: "",
                        label: r.a.t("activity:number_of_runs"),
                        metricName: "runsLapCnt"
                    }
                }
            }, {
                key: "getMaxSpeed",
                value: function() {
                    var e = this.topFiveMetrics.activityTypeKey;
                    return {
                        value: this.speedModel.maxSpeedOrPace,
                        unit: this.speedModel.maxSpeedOrPaceUnit,
                        label: r.a.t("units:".concat(o.a.getMaxSpeedLabelKey(e))),
                        metricName: "maxSpeed"
                    }
                }
            }, {
                key: "getStrokes",
                value: function() {
                    var e = this.topFiveMetrics.activity.strokes;
                    return {
                        value: e ? o.a.personalizeStrokes(e) : "--",
                        unit: "",
                        label: r.a.t("units:label_total_swim_strokes"),
                        metricName: "strokes"
                    }
                }
            }, {
                key: "getGasType",
                value: function() {
                    var e = this.topFiveMetrics.activity.summarizedDiveInfo
                      , t = e && e.summarizedDiveGases && e.summarizedDiveGases.length > 0 ? e.summarizedDiveGases : null
                      , i = t ? t[0] : null
                      , a = i ? i.heliumContent : null
                      , n = i ? i.oxygenContent : null
                      , o = "";
                    return t && t.length > 1 && (o = " (+" + (t.length - 1) + ")"),
                    {
                        value: s.diveGas(a, n) + o,
                        unit: "",
                        label: r.a.t("diving:gas_type"),
                        metricName: "gasType"
                    }
                }
            }, {
                key: "getWaterType",
                value: function() {
                    var e = this.topFiveMetrics.activity.summarizedDiveInfo ? this.topFiveMetrics.activity.summarizedDiveInfo.waterType : null
                      , t = this.topFiveMetrics.activity.summarizedDiveInfo ? this.topFiveMetrics.activity.summarizedDiveInfo.waterDensity : null;
                    return {
                        value: s.diveWaterType(e, t, o.a),
                        unit: "",
                        label: r.a.t("diving:water_type"),
                        metricName: "summarizedDiveInfo.waterType"
                    }
                }
            }, {
                key: "getMaxDepth",
                value: function() {
                    var e = this.topFiveMetrics.activity.maxDepth / 100;
                    return {
                        value: o.a.personalizeDepth(e),
                        unit: r.a.t("units:".concat(o.a.getDepthUnitKey())),
                        label: l.a.isApneaDiving(this.topFiveMetrics.activityTypeKey) ? r.a.t("diving:deepest_dive") : r.a.t("diving:max_depth"),
                        metricName: "maxDepth"
                    }
                }
            }, {
                key: "getSessionBottomTime",
                value: function() {
                    return {
                        value: o.a.personalizeDuration(this.topFiveMetrics.activity.bottomTime, !1),
                        unit: "",
                        label: r.a.t("diving:session_bottom_time"),
                        metricName: "sessionBottomTime"
                    }
                }
            }, {
                key: "getTotalSurfaceTime",
                value: function() {
                    var e = this.topFiveMetrics.activity.summarizedDiveInfo ? this.topFiveMetrics.activity.summarizedDiveInfo.totalSurfaceTime : null;
                    return {
                        value: o.a.personalizeDuration(e, !1),
                        unit: "",
                        label: r.a.t("segment:surface_label"),
                        metricName: "summarizedDiveInfo.totalSurfaceTime"
                    }
                }
            }, {
                key: "getDiveSurfaceTime",
                value: function() {
                    return {
                        value: o.a.personalizeDuration(this.topFiveMetrics.activity.totalSurfaceTime, !1),
                        unit: "",
                        label: r.a.t("diving:total_surface_interval"),
                        metricName: "totalSurfaceTime"
                    }
                }
            }, {
                key: "getNumberOfApneaDives",
                value: function() {
                    return {
                        value: o.a.personalizerNumberOfDives(this.topFiveMetrics.activity.lapCount),
                        unit: "",
                        label: r.a.t("units:label_num_dives"),
                        metricName: "lapCount"
                    }
                }
            }, {
                key: "getDiveWaterType",
                value: function() {
                    return {
                        value: o.a.personalizeDiveWaterType(this.topFiveMetrics.activity.diveSettings.waterType, this.topFiveMetrics.activity.diveSettings.waterDensity, c.a),
                        unit: "",
                        label: r.a.t("diving:water_type"),
                        metricName: "waterDiveType"
                    }
                }
            }, {
                key: "getDeepestDive",
                value: function() {
                    return {
                        value: o.a.personalizeDepth(this.topFiveMetrics.activity.maxDepth),
                        unit: r.a.t("units:".concat(o.a.getDepthUnitKey())),
                        label: r.a.t("diving:deepest_dive"),
                        metricName: "maxDepthDive"
                    }
                }
            }, {
                key: "getActiveSets",
                value: function() {
                    return {
                        value: this.topFiveMetrics.activity.activeSets ? o.a.personalizeActiveSets(this.topFiveMetrics.activity.activeSets) : 1,
                        unit: "",
                        label: r.a.t("units:label_sets"),
                        metricName: "activeSets"
                    }
                }
            }, {
                key: "getTotalStrengthTrainingTime",
                value: function() {
                    return {
                        value: o.a.personalizeDuration(this.topFiveMetrics.activity.duration),
                        unit: "",
                        label: r.a.t("units:label_time_total")
                    }
                }
            }, {
                key: "getTotalWorkTime",
                value: function() {
                    var e = 0;
                    if (this.topFiveMetrics.activity.summarizedExerciseSets && this.topFiveMetrics.activity.summarizedExerciseSets.length > 0)
                        for (var t = 0, i = this.topFiveMetrics.activity.summarizedExerciseSets.length; t < i; t++)
                            "REST" !== this.topFiveMetrics.activity.summarizedExerciseSets[t].setType && (e += this.topFiveMetrics.activity.summarizedExerciseSets[t].duration / 1e3);
                    return {
                        value: o.a.personalizeDuration(e),
                        unit: "",
                        label: r.a.t("units:label_work_time"),
                        metricName: "summarizedExerciseSets.duration"
                    }
                }
            }, {
                key: "getStrengthTotalTime",
                value: function() {
                    return {
                        value: this.topFiveMetrics.activity.summarizedExerciseSets && this.topFiveMetrics.activity.summarizedExerciseSets.length > 0 ? o.a.personalizeDuration(this.topFiveMetrics.repCountingActivity.getTotalTime()) : o.a.personalizeDuration(this.topFiveMetrics.activity.duration),
                        unit: "",
                        label: r.a.t("units:label_time_total"),
                        metricName: "strengthTotalTime"
                    }
                }
            }, {
                key: "getWorkoutTime",
                value: function() {
                    return {
                        value: o.a.personalizeDuration(this.topFiveMetrics.repCountingActivity.getWorkTime()),
                        unit: "",
                        label: r.a.t("units:label_work_time"),
                        metricName: "workOutTime"
                    }
                }
            }, {
                key: "getSecondaryMetricsForMultiSport",
                value: function(e) {
                    return {
                        value: o.a.personalizeDuration(e.value),
                        unit: "",
                        label: r.a.t("activity_types:activity_type_".concat(e.label)) + " " + r.a.t("units:label_time")
                    }
                }
            }, {
                key: "getBestLapTime",
                value: function() {
                    return {
                        value: o.a.fromSecondsToDuration(this.topFiveMetrics.activity.minActivityLapDuration),
                        unit: "",
                        label: r.a.t("activity:marq_best_laptime"),
                        metricName: "bestLapTime"
                    }
                }
            }, {
                key: "getTotalTime",
                value: function() {
                    this.topFiveMetrics.activityTypeKey;
                    return {
                        value: o.a.fromSecondsToDuration(this.topFiveMetrics.activity.duration),
                        unit: "",
                        label: r.a.t("units:label_time_total"),
                        metricName: "totalTime"
                    }
                }
            }, {
                key: "getMaxSpeedOrPace",
                value: function() {
                    return {
                        value: this.speedModel.maxSpeedOrPace,
                        unit: this.speedModel.maxSpeedOrPaceUnit,
                        label: r.a.t("units:label_max_speed"),
                        metricName: "maxTopSpeed"
                    }
                }
            }, {
                key: "getNumberOfRaceLap",
                value: function() {
                    return {
                        value: this.topFiveMetrics.activity.lapCount,
                        unit: "",
                        label: r.a.t("activity:activity_map_laps"),
                        metricName: "raceLapCnt"
                    }
                }
            }, {
                key: "getTotalDuration",
                value: function() {
                    return {
                        value: o.a.fromSecondsToDuration(this.topFiveMetrics.activity.duration),
                        unit: "",
                        label: r.a.t("units:label_time_total"),
                        metricName: "raceTotalTime"
                    }
                }
            }, {
                key: "getTime",
                value: function() {
                    return {
                        value: o.a.personalizeDuration(this.topFiveMetrics.activity.duration),
                        unit: "",
                        label: r.a.t("units:label_time"),
                        metricName: "time"
                    }
                }
            }, {
                key: "getFloorsClimbed",
                value: function() {
                    return {
                        value: this.topFiveMetrics.activity.floorsClimbed,
                        unit: "",
                        label: r.a.t("units:label_floors_climbed_unit"),
                        metricName: "floorsClimbed"
                    }
                }
            }, {
                key: "getFloorsPerMin",
                value: function() {
                    return {
                        value: o.a.personalizeFloorClimbingPace(this.topFiveMetrics.activity.avgVerticalSpeed),
                        unit: "",
                        label: r.a.t("units:label_floors_per_minute"),
                        metricName: "floorsPerMin"
                    }
                }
            }, {
                key: "getAveragePower",
                value: function() {
                    return {
                        value: o.a.personalizePower(this.topFiveMetrics.activity.averagePower),
                        unit: r.a.t("units:".concat(o.a.getPowerUnitKey())),
                        label: r.a.t("units:label_avg_power"),
                        metricName: "averagePower"
                    }
                }
            }, {
                key: "getAvgPower",
                value: function() {
                    return {
                        value: this.topFiveMetrics.activity.avgPower ? o.a.personalizePower(this.topFiveMetrics.activity.avgPower) : "--",
                        unit: r.a.t("units:".concat(o.a.getPowerUnitKey())),
                        label: r.a.t("units:label_avg_power"),
                        metricName: "avgPower"
                    }
                }
            }, {
                key: "getTotalReps",
                value: function() {
                    return {
                        value: o.a.zeroDash(this.topFiveMetrics.repCountingActivity.getTotalRepCount()),
                        unit: "",
                        label: r.a.t("units:label_total_reps"),
                        metricName: "totalReps"
                    }
                }
            }, {
                key: "getAvgRespirationRate",
                value: function() {
                    return {
                        value: o.a.personalizeRespiration(this.topFiveMetrics.activity.avgRespirationRate),
                        unit: r.a.t("units:".concat(o.a.getRespirationUnitKey())),
                        label: r.a.t("units:label_avg_resp_abbr"),
                        metricName: "avgRespirationRate"
                    }
                }
            }, {
                key: "getStressChange",
                value: function() {
                    return {
                        value: o.a.personalizeStress(this.topFiveMetrics.activity.differenceStress),
                        label: r.a.t("units:label_stress_change"),
                        metricName: "differenceStress"
                    }
                }
            }, {
                key: "getAverageSpeedPaceWidget",
                value: function() {
                    var e = this.topFiveMetrics.activityTypeKey;
                    return {
                        value: this.speedModel.avgSpeedOrPace,
                        unit: "",
                        label: r.a.t("units:".concat(o.a.getSpeedTypeLabelKey(e, null, !0))) + " (" + r.a.t("units:".concat(o.a.getSpeedTypeKey(e, this.topFiveMetrics.activity.distance, this.topFiveMetrics.activity.unitOfPoolLength))) + ")",
                        metricName: "averageSpeedWidget"
                    }
                }
            }, {
                key: "getElevationLossWidget",
                value: function() {
                    var e = this.topFiveMetrics.activity.elevationLoss
                      , t = this.topFiveMetrics.activityTypeKey;
                    return {
                        value: o.a.personalizeElevation(e),
                        unit: r.a.t("units:".concat(o.a.getElevationUnitKey())),
                        label: r.a.t("units:".concat(o.a.getElevLossLabelKey(t))),
                        metricName: "elevationLoss"
                    }
                }
            }, {
                key: "getElevationGainWidget",
                value: function() {
                    var e = this.topFiveMetrics.activity.elevationGain
                      , t = this.topFiveMetrics.activityTypeKey;
                    return {
                        value: o.a.personalizeElevation(e),
                        unit: r.a.t("units:".concat(o.a.getElevationUnitKey())),
                        label: r.a.t("units:".concat(o.a.getElevGainLabelKey(t))),
                        metricName: "elevationGainWidget"
                    }
                }
            }, {
                key: "getCaloriesWidget",
                value: function() {
                    return {
                        value: o.a.formatWholeNumber(this.topFiveMetrics.activity.calories),
                        unit: "",
                        label: r.a.t("units:label_calories"),
                        metricName: "caloriesWidget"
                    }
                }
            }, {
                key: "getActiveSetsWidget",
                value: function() {
                    return {
                        value: this.topFiveMetrics.activity.activeSets ? o.a.personalizeActiveSets(this.topFiveMetrics.activity.activeSets) : 1,
                        unit: "",
                        label: r.a.t("units:label_total_sets"),
                        metricName: "activeSetsWidget"
                    }
                }
            }, {
                key: "getTotalTimeWidget",
                value: function() {
                    this.topFiveMetrics.activityTypeKey;
                    return {
                        value: o.a.personalizeDuration(this.topFiveMetrics.activity.duration) ? o.a.personalizeDuration(this.topFiveMetrics.activity.duration) : "--",
                        unit: "",
                        label: r.a.t("units:label_time_total"),
                        metricName: "totalTime"
                    }
                }
            }, {
                key: "getPilatesSets",
                value: function() {
                    return {
                        value: o.a.zeroDash(this.topFiveMetrics.repCountingActivity.getActiveSetCount()),
                        unit: "",
                        label: r.a.t("units:label_total_sets"),
                        metricName: "pilateSets"
                    }
                }
            }, {
                key: "getYogaPoses",
                value: function() {
                    return {
                        value: o.a.personalizeActiveSets(this.topFiveMetrics.activity.activeSets),
                        unit: "",
                        label: r.a.t("units:label_total_poses"),
                        metricName: "yogaPoses"
                    }
                }
            }, {
                key: "getDeepestDiveWidget",
                value: function() {
                    return {
                        value: o.a.personalizeDepth(this.topFiveMetrics.activity.maxDepth / 100),
                        unit: r.a.t("units:".concat(o.a.getDepthUnitKey())),
                        label: r.a.t("diving:deepest_dive"),
                        metricName: "maxDepthDive"
                    }
                }
            }, {
                key: "getTotalDistanceWidget",
                value: function() {
                    var e = this.topFiveMetrics.activityTypeKey;
                    return {
                        value: o.a.personalizeDistance(this.topFiveMetrics.activity.distance, e),
                        unit: r.a.t("units:".concat(o.a.getDistanceUnitKey(e, this.topFiveMetrics.activity.distance))),
                        label: r.a.t("units:label_distance_total"),
                        metricName: "TotalDistance"
                    }
                }
            }, {
                key: "getClimbTotalAscent",
                value: function() {
                    var e = this.topFiveMetrics.splitSummaries && this.topFiveMetrics.splitSummaries[h.b.CLIMB_ACTIVE] && this.topFiveMetrics.splitSummaries[h.b.CLIMB_ACTIVE].totalAscent
                      , t = this.topFiveMetrics.activityTypeKey;
                    return {
                        value: o.a.personalizeElevation(e),
                        unit: e ? r.a.t("units:".concat(o.a.getElevationUnitKey())) : "",
                        label: r.a.t("units:".concat(o.a.getElevGainLabelKey(t))),
                        metricName: "elevationGain"
                    }
                }
            }, {
                key: "getClimbAscent",
                value: function() {
                    var e = this.topFiveMetrics.splitSummaries && this.topFiveMetrics.splitSummaries[h.b.CLIMB_ACTIVE] && this.topFiveMetrics.splitSummaries[h.b.CLIMB_ACTIVE].elevationGain
                      , t = this.topFiveMetrics.activityTypeKey;
                    return {
                        value: o.a.personalizeElevation(e),
                        unit: e ? r.a.t("units:".concat(o.a.getElevationUnitKey())) : "",
                        label: r.a.t("units:".concat(o.a.getElevGainLabelKey(t))),
                        metricName: "elevationGain"
                    }
                }
            }, {
                key: "getTotalClimbRoutes",
                value: function() {
                    var e = this.topFiveMetrics.splitSummaries && this.topFiveMetrics.splitSummaries[h.b.CLIMB_ACTIVE] && this.topFiveMetrics.splitSummaries[h.b.CLIMB_ACTIVE].noOfSplits;
                    return {
                        value: e || "--",
                        unit: "",
                        label: r.a.t("activity:total_climb_routes"),
                        metricName: "TotalRoutes"
                    }
                }
            }, {
                key: "getNumberOfSends",
                value: function() {
                    var e = this.topFiveMetrics.splitSummaries && this.topFiveMetrics.splitSummaries[h.b.CLIMB_ACTIVE] && this.topFiveMetrics.splitSummaries[h.b.CLIMB_ACTIVE].numClimbSends;
                    return {
                        value: e || "--",
                        unit: "",
                        label: r.a.t("activity:climb_sends"),
                        metricName: "sends"
                    }
                }
            }, {
                key: "getMaxDifficulity",
                value: function() {
                    var e = this.topFiveMetrics.splitSummaries && this.topFiveMetrics.splitSummaries[h.b.CLIMB_ACTIVE] && this.topFiveMetrics.splitSummaries[h.b.CLIMB_ACTIVE].maxGradeValue
                      , t = e && e.valueKey
                      , i = e && e.scale
                      , a = Object(h.c)(i, t, this.topFiveMetrics.indoorClimbDifficulty);
                    return {
                        value: a || "--",
                        unit: "",
                        label: r.a.t("activity:label_max_difficulty"),
                        metricName: "difficulty"
                    }
                }
            }, {
                key: "getAverageCadence",
                value: function() {
                    var e = this.topFiveMetrics.activityTypeKey;
                    return {
                        value: o.a.personalizeCadence(this.topFiveMetrics.activity.averageBikeCadence, e),
                        unit: r.a.t("units:".concat(o.a.getCadenceUnitKey(e))),
                        label: r.a.t("units:".concat(o.a.getAvgCadenceTypeLabelKey(e))),
                        metricName: "avgCadence"
                    }
                }
            }]),
            e
        }()
    },
    1791: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(13)
              , c = i(36)
              , h = i(1575)
              , d = i(1220)
              , p = i(40)
              , u = i(214)
              , m = i(129)
              , g = i(216)
              , f = i(1997)
              , v = i.n(f)
              , y = {
                WEIGHT_SUCCESS: "WEIGHT_SUCCESS",
                WEIGHT_ERROR: "WEIGHT_ERROR",
                WEIGHT_LOADED: "WEIGHT_LOADED"
            }
              , A = s.a.View.extend(p.a).extend({
                template: n.a.template(v.a),
                events: {
                    "click .btn-form": "onSaveButtonClicked"
                },
                propertyFiles: ["/main/js/properties/units/units", "/main/js/properties/common/common", "/main/js/properties/reportswidget/reportswidget", "/main/js/properties/userprofile/userprofile"],
                initialize: function(e) {
                    this.displaySaveButton = !n.a.isUndefined(e.displaySaveButton) && e.displaySaveButton,
                    this.displayWeightLabel = !!n.a.isUndefined(e.displayWeightLabel) || e.displayWeightLabel,
                    this.maxView = !!n.a.isUndefined(e.maxView) || e.maxView,
                    this.prompt = e.prompt,
                    this.title = e.title || null,
                    this.weightDate = e.weightDate || null,
                    this.parser = new g.a
                },
                render: function() {
                    var e = o.a.localize("weight_unit_statute");
                    this.isMetric() && (e = o.a.localize("weight_unit_metric"));
                    var t = this.template({
                        Localizer: o.a,
                        Personalizer: l.a,
                        weightLabel: e,
                        maxLength: 5,
                        displaySaveButton: this.displaySaveButton,
                        maxView: this.maxView,
                        prompt: this.prompt,
                        title: this.title
                    });
                    this.$el.html(t),
                    this.displayWeightLabel || this.$(".weight-label").hide(),
                    this.setupWeightValidator(),
                    this.trigger(y.WEIGHT_LOADED)
                },
                destroy: function() {
                    this.$(".tooltip-error").remove()
                },
                setupWeightValidator: function() {
                    var e = this
                      , t = new u.a({
                        message: o.a.localize("invalid_weight_message_short"),
                        element: this.$("input#user-weight"),
                        container: this.$el
                    });
                    this.weightValidator = new d.a({
                        element: this.$("input#user-weight"),
                        minValue: m.a.minWeight,
                        maxValue: m.a.maxWeight,
                        required: !0,
                        reporter: t,
                        parser: {
                            parse: function(t) {
                                if ("decimal_comma" === c.a.getNumberFormat() && t.includes("."))
                                    throw "invalid number";
                                if ("decimal_period" === c.a.getNumberFormat() && t.includes(","))
                                    throw "invalid number";
                                return e.parser.parse(t)
                            }
                        }
                    })
                },
                isMetric: function() {
                    return c.a.getMeasurementSystem() === l.a.MeasurementSystems.METRIC
                },
                onSaveButtonClicked: function(t) {
                    if (t && t.preventDefault(),
                    this.weightValidator.validateInputNow())
                        return !1;
                    var i = (new g.a).parse(this.$("#user-weight").val())
                      , a = l.a.convertWeightToKg(i);
                    if (e.trim(a).length > 0) {
                        var r = n.a.isNull(this.weightDate) ? e.datepicker.formatDate("yy-mm-dd", new Date) : this.weightDate
                          , s = new h.a({
                            value: a,
                            unitKey: "kg",
                            date: r
                        })
                          , o = this;
                        return s.save(s.attributes, {
                            success: function(e, t, i) {
                                o.$(".alert-error").hide(),
                                o.trigger(y.WEIGHT_SUCCESS, e.get("value"))
                            },
                            error: function(e, t, i) {
                                o.$(".alert-error").show(),
                                o.trigger(y.WEIGHT_ERROR, {
                                    model: e,
                                    response: t,
                                    options: i
                                })
                            }
                        }),
                        !0
                    }
                    return !1
                }
            });
            A.Events = y,
            t.a = A
        }
        ).call(this, i(10))
    },
    1825: function(e, t, i) {
        "use strict";
        var a = i(80)
          , n = i(81)
          , r = i(99)
          , s = i(97)
          , o = i(98)
          , l = i(11)
          , c = i.n(l)
          , h = i(164)
          , d = i(277)
          , p = i(1540)
          , u = i.n(p)
          , m = function(e) {
            function t() {
                return Object(a.a)(this, t),
                Object(r.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(o.a)(t, e),
            Object(n.a)(t, [{
                key: "getExecutionScoreContent",
                value: function() {
                    return c.a.createElement(c.a.Fragment, null, c.a.createElement(h.DialogTitle, null, c.a.createElement(d.a, {
                        ns: "main_container",
                        content: "help.title"
                    })), c.a.createElement(h.DialogContent, null, c.a.createElement("div", null, c.a.createElement("span", {
                        className: u.a.h3
                    }, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "title_execution_score"
                    })), c.a.createElement("p", {
                        className: u.a.headerText
                    }, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "hitting_training_targets_description"
                    })), c.a.createElement("div", {
                        className: u.a.executionScoreExample
                    }, c.a.createElement("div", {
                        className: u.a.gridAlignCenter
                    }, c.a.createElement(h.DataBlock, {
                        size: "xsmall"
                    }, c.a.createElement(h.DataField, null, "30m"), c.a.createElement(h.DataLabel, null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "time_in_target_zone"
                    }))), c.a.createElement("hr", {
                        className: u.a.fractionEqual
                    }), c.a.createElement(h.DataBlock, {
                        size: "xsmall"
                    }, c.a.createElement(h.DataField, null, "60m"), c.a.createElement(h.DataLabel, null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "total_measured_time"
                    })))), c.a.createElement("div", {
                        className: u.a.result
                    }, c.a.createElement("div", {
                        className: u.a.middle
                    }, c.a.createElement(h.DataBlock, {
                        size: "xsmall"
                    }, c.a.createElement(h.DataField, null, c.a.createElement("span", {
                        className: [u.a.dot, u.a.yellow, u.a.scoreDot].join(" ")
                    }), c.a.createElement("span", {
                        className: u.a.scoreSmall
                    }, "50%")), c.a.createElement(h.DataLabel, null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "title_execution_score"
                    })))))), c.a.createElement("span", {
                        className: u.a.h4
                    }, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "using_your_score_in_workouts"
                    })), c.a.createElement("p", null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "using_your_score_in_workouts_description"
                    })), c.a.createElement("div", {
                        className: "marBottomSM"
                    }, c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.green].join(" ")
                    }), c.a.createElement("strong", null, c.a.createElement(d.a, {
                        ns: "common",
                        content: "good"
                    })), c.a.createElement("div", {
                        className: "marLeftSM"
                    }, "100% - 67%")), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.yellow].join(" ")
                    }), c.a.createElement("strong", null, c.a.createElement(d.a, {
                        ns: "common",
                        content: "average"
                    })), c.a.createElement("div", {
                        className: "marLeftSM"
                    }, "66% - 34%")), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.red].join(" ")
                    }), c.a.createElement("strong", null, c.a.createElement(d.a, {
                        ns: "weightwidget",
                        content: "low"
                    })), c.a.createElement("div", {
                        className: "marLeftSM"
                    }, "33% - 0%"))), c.a.createElement("p", null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "improve_future_training_score"
                    })), c.a.createElement("h5", {
                        className: u.a.h5
                    }, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "staying_on_target"
                    })), c.a.createElement("p", null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "staying_on_target_description"
                    })))))
                }
            }, {
                key: "getSelfEvaluationContent",
                value: function() {
                    return c.a.createElement(c.a.Fragment, null, c.a.createElement(h.DialogTitle, null, c.a.createElement(d.a, {
                        ns: "main_container",
                        content: "help.title"
                    })), c.a.createElement(h.DialogContent, null, c.a.createElement("span", {
                        className: u.a.h3
                    }, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "self_evaluation"
                    })), c.a.createElement("span", {
                        className: u.a.h5
                    }, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "self_evaluation_description"
                    })), c.a.createElement("div", {
                        className: "marBottomSM"
                    }), c.a.createElement(h.Accordion, null, c.a.createElement(h.AccordionItem, {
                        index: "feel"
                    }, c.a.createElement(h.AccordionItemSummary, null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "how_did_you_feel"
                    })), c.a.createElement(h.AccordionItemDetails, null, c.a.createElement("span", {
                        className: u.a.h3
                    }, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "rating_your_feelings"
                    })), c.a.createElement("p", null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "rating_your_feelings_description"
                    })), c.a.createElement("span", {
                        className: u.a.h5
                    }, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "perspective_on_performance"
                    })), c.a.createElement("p", null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "perspective_on_performance_description"
                    })), c.a.createElement("p", null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "perspective_on_performance_scale_description"
                    })))), c.a.createElement(h.AccordionItem, {
                        index: "effort"
                    }, c.a.createElement(h.AccordionItemSummary, null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "perceived_effort"
                    })), c.a.createElement(h.AccordionItemDetails, null, c.a.createElement("span", {
                        className: u.a.h3
                    }, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "how_hard_did_you_work"
                    })), c.a.createElement("p", null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "how_hard_did_you_work_description"
                    })), c.a.createElement("span", {
                        className: u.a.h4
                    }, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "tracking_effort"
                    })), c.a.createElement("p", null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "tracking_effort_description"
                    })), c.a.createElement("p", null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "perceived_effort_breakdown"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.blue].join(" ")
                    }), "1 -\xa0", c.a.createElement(d.a, {
                        ns: "activity",
                        content: "very_light"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.lightblue].join(" ")
                    }), "2 -\xa0", c.a.createElement(d.a, {
                        ns: "activity",
                        content: "light"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.green].join(" ")
                    }), "3 -\xa0", c.a.createElement(d.a, {
                        ns: "activity",
                        content: "moderate"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.green].join(" ")
                    }), "4 -\xa0", c.a.createElement(d.a, {
                        ns: "activity",
                        content: "somewhat_hard"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.lime].join(" ")
                    }), "5-6 -\xa0", c.a.createElement(d.a, {
                        ns: "activity",
                        content: "hard"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.yellow].join(" ")
                    }), "7-8 -\xa0", c.a.createElement(d.a, {
                        ns: "activity",
                        content: "very_hard"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.orange].join(" ")
                    }), "9 -\xa0", c.a.createElement(d.a, {
                        ns: "activity",
                        content: "extremely_hard"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.red].join(" ")
                    }), "10 -\xa0", c.a.createElement(d.a, {
                        ns: "activity",
                        content: "maximum"
                    })))))))
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.openModal
                      , i = e.onCloseModal
                      , a = e.content;
                    return c.a.createElement(h.Dialog, {
                        open: t,
                        onClose: i
                    }, "execution-score" === a ? this.getExecutionScoreContent() : this.getSelfEvaluationContent())
                }
            }]),
            t
        }(c.a.PureComponent);
        t.a = m
    },
    1826: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(4)
          , s = i(13)
          , o = i(1246)
          , l = i(1222)
          , c = i(1239)
          , h = o.a.extend({
            fillColor: l.a.mapSeriesType(c.a.Elevation),
            primarySeriesType: c.a.Elevation,
            formattingFunction: n.a.bind(s.a.formatElevation, s.a),
            chartTitle: function() {
                var e = this.activitySummary.get("activityTypeDTO").typeKey
                  , t = s.a.getSpeedTypeFromActivityType(e);
                return r.a.localize(t === s.a.SpeedTypes.Flying ? s.a.getElevationLabelKey(e) : "label_elevation")
            }
        });
        t.a = h
    },
    1827: function(e, t, i) {
        "use strict";
        var a = i(13)
          , n = i(1246);
        t.a = n.a.extend({
            measurementSystem: function() {
                var e = this.activitySummary.get("unitOfPoolLength").unitKey;
                return a.a.poolUnitKeyToMeasurementSystem(e)
            },
            step: !0,
            onPlayerTimeChanged: function() {
                this.currentXAxisLabelText && (this.currentXAxisLabelText.destroy(),
                this.currentXAxisLabelText = null),
                this.currentXAxisLabelBox && (this.currentXAxisLabelBox.destroy(),
                this.currentXAxisLabelBox = null),
                this.highChartObj.xAxis[0].removePlotLine(this.plotLineId);
                var e = this.playerModel.get("x");
                this.highChartObj.xAxis[0].addPlotLine({
                    color: "#222222",
                    value: e,
                    width: 1,
                    id: this.plotLineId,
                    zIndex: 3
                });
                for (var t = this.highChartObj.series[0].points, i = t.length, a = 0; a < i && !(t[a].x >= e); a++)
                    ;
                var n = t[Math.min(t.length - 2, a - 1)];
                n && (this.highChartObj.tooltip.refresh(n),
                this.currentPlotLinePoint = n,
                this.renderXAxisPlotLineLabel())
            }
        })
    },
    1828: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(13)
              , c = i(1398)
              , h = i(1309)
              , d = i(82)
              , p = i(28)
              , u = i(40)
              , m = i(17)
              , g = i(2212)
              , f = i.n(g);
            i(1463);
            t.a = s.a.View.extend(u.a).extend({
                template: n.a.template(f.a),
                events: {
                    "click .add-gear-link": "onAddOrManageGearClicked",
                    "click .manage-gear-link": "onAddOrManageGearClicked",
                    "click li": "onGearToggled"
                },
                initialize: function(e) {
                    this.selectedGear = e.selectedGear,
                    this.availableGear = new c.a([],{
                        criteria: {
                            availableGearDate: p.a.formatISODate(d.a.parseISO(this.model.get("startTimeGMT"))),
                            userProfilePk: this.model.getOwnerId()
                        }
                    })
                },
                provideDependencies: function(e, t) {
                    e.addModel({
                        model: this.availableGear,
                        required: !0
                    })
                },
                render: function() {
                    var e = this.availableGear.toJSON();
                    n.a.each(e, function(e) {
                        var t = this.availableGear.get(e.uuid);
                        e.fullDisplayName = h.a.getFullGearDisplayNameByModel(t)
                    }, this),
                    e = n.a.sortBy(e, function(e) {
                        return e.fullDisplayName
                    });
                    var t = n.a.filter(e, function(e) {
                        return "shoes" === e.gearTypeName.toLowerCase()
                    })
                      , i = n.a.filter(e, function(e) {
                        return "bike" === e.gearTypeName.toLowerCase()
                    })
                      , a = n.a.reject(e, function(e) {
                        return "shoes" === e.gearTypeName.toLowerCase() || "bike" === e.gearTypeName.toLowerCase()
                    })
                      , r = this.template({
                        Localizer: o.a,
                        Personalizer: l.a,
                        shoes: t,
                        bikes: i,
                        others: a,
                        gearCount: e.length
                    });
                    this.$el.html(r),
                    this.updateSelections()
                },
                linkGearToActivity: function(t) {
                    e.ajax({
                        type: "POST",
                        cache: !1,
                        beforeSend: function(e) {
                            e.setRequestHeader("X-HTTP-Method-Override", "PUT")
                        },
                        url: "/modern/proxy/gear-service/gear/link/" + t + "/activity/" + this.model.id,
                        success: n.a.bind(this.onLinkUnlinkSuccess, this, t, !0),
                        error: n.a.bind(this.onLinkUnlinkError, this, t, !0)
                    })
                },
                unlinkGearFromActivity: function(t) {
                    e.ajax({
                        type: "POST",
                        cache: !1,
                        beforeSend: function(e) {
                            e.setRequestHeader("X-HTTP-Method-Override", "PUT")
                        },
                        url: "/modern/proxy/gear-service/gear/unlink/" + t + "/activity/" + this.model.id,
                        success: n.a.bind(this.onLinkUnlinkSuccess, this, t, !1),
                        error: n.a.bind(this.onLinkUnlinkError, this, t, !1)
                    })
                },
                onLinkUnlinkSuccess: function(e, t) {
                    if (this.linkPending = !1,
                    this.getGearListItem(e).removeClass("saving"),
                    t) {
                        var i = this.availableGear.get(e);
                        this.selectedGear.add(i)
                    } else
                        this.selectedGear.remove(e);
                    this.updateSelections()
                },
                onLinkUnlinkError: function(e, t) {
                    this.linkPending = !1,
                    this.getGearListItem(e).removeClass("saving")
                },
                onGearToggled: function(t) {
                    if (!this.linkPending) {
                        this.linkPending = !0;
                        var i = e(t.currentTarget)
                          , a = i.attr("id").substr(10);
                        i.hasClass("active") ? this.unlinkGearFromActivity(a) : this.linkGearToActivity(a),
                        i.addClass("saving")
                    }
                },
                onAddOrManageGearClicked: function(e) {
                    m.default.anchorTagHandler(e) && this.trigger("ON_CLOSE")
                },
                updateSelections: function() {
                    this.$("li").removeClass("active"),
                    this.selectedGear.each(function(e) {
                        this.getGearListItem(e.id).addClass("active")
                    }, this)
                },
                getGearListItem: function(e) {
                    return this.$("#edit-gear-" + e)
                }
            })
        }
        ).call(this, i(10))
    },
    1878: function(e, t, i) {
        "use strict";
        var a = i(285)
          , n = i(11);
        function r(e) {
            for (var t = "https://reactjs.org/docs/error-decoder.html?invariant=" + e, i = 1; i < arguments.length; i++)
                t += "&args[]=" + encodeURIComponent(arguments[i]);
            return "Minified React error #" + e + "; visit " + t + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
        }
        var s = "function" === typeof Symbol && Symbol.for
          , o = s ? Symbol.for("react.portal") : 60106
          , l = s ? Symbol.for("react.fragment") : 60107
          , c = s ? Symbol.for("react.strict_mode") : 60108
          , h = s ? Symbol.for("react.profiler") : 60114
          , d = s ? Symbol.for("react.provider") : 60109
          , p = s ? Symbol.for("react.context") : 60110
          , u = s ? Symbol.for("react.concurrent_mode") : 60111
          , m = s ? Symbol.for("react.forward_ref") : 60112
          , g = s ? Symbol.for("react.suspense") : 60113
          , f = s ? Symbol.for("react.suspense_list") : 60120
          , v = s ? Symbol.for("react.memo") : 60115
          , y = s ? Symbol.for("react.lazy") : 60116
          , A = s ? Symbol.for("react.fundamental") : 60117
          , _ = s ? Symbol.for("react.scope") : 60119
          , b = n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
        function C(e) {
            if (null == e)
                return null;
            if ("function" === typeof e)
                return e.displayName || e.name || null;
            if ("string" === typeof e)
                return e;
            switch (e) {
            case l:
                return "Fragment";
            case o:
                return "Portal";
            case h:
                return "Profiler";
            case c:
                return "StrictMode";
            case g:
                return "Suspense";
            case f:
                return "SuspenseList"
            }
            if ("object" === typeof e)
                switch (e.$$typeof) {
                case p:
                    return "Context.Consumer";
                case d:
                    return "Context.Provider";
                case m:
                    var t = e.render;
                    return t = t.displayName || t.name || "",
                    e.displayName || ("" !== t ? "ForwardRef(" + t + ")" : "ForwardRef");
                case v:
                    return C(e.type);
                case y:
                    if (e = 1 === e._status ? e._result : null)
                        return C(e)
                }
            return null
        }
        b.hasOwnProperty("ReactCurrentDispatcher") || (b.ReactCurrentDispatcher = {
            current: null
        }),
        b.hasOwnProperty("ReactCurrentBatchConfig") || (b.ReactCurrentBatchConfig = {
            suspense: null
        });
        var w = {};
        function x(e, t) {
            for (var i = 0 | e._threadCount; i <= t; i++)
                e[i] = e._currentValue2,
                e._threadCount = i + 1
        }
        for (var S = new Uint16Array(16), T = 0; 15 > T; T++)
            S[T] = T + 1;
        S[15] = 0;
        var E = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/
          , L = Object.prototype.hasOwnProperty
          , k = {}
          , P = {};
        function z(e) {
            return !!L.call(P, e) || !L.call(k, e) && (E.test(e) ? P[e] = !0 : (k[e] = !0,
            !1))
        }
        function I(e, t, i, a, n, r) {
            this.acceptsBooleans = 2 === t || 3 === t || 4 === t,
            this.attributeName = a,
            this.attributeNamespace = n,
            this.mustUseProperty = i,
            this.propertyName = e,
            this.type = t,
            this.sanitizeURL = r
        }
        var D = {};
        "children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e) {
            D[e] = new I(e,0,!1,e,null,!1)
        }),
        [["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function(e) {
            var t = e[0];
            D[t] = new I(t,1,!1,e[1],null,!1)
        }),
        ["contentEditable", "draggable", "spellCheck", "value"].forEach(function(e) {
            D[e] = new I(e,2,!1,e.toLowerCase(),null,!1)
        }),
        ["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function(e) {
            D[e] = new I(e,2,!1,e,null,!1)
        }),
        "allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e) {
            D[e] = new I(e,3,!1,e.toLowerCase(),null,!1)
        }),
        ["checked", "multiple", "muted", "selected"].forEach(function(e) {
            D[e] = new I(e,3,!0,e,null,!1)
        }),
        ["capture", "download"].forEach(function(e) {
            D[e] = new I(e,4,!1,e,null,!1)
        }),
        ["cols", "rows", "size", "span"].forEach(function(e) {
            D[e] = new I(e,6,!1,e,null,!1)
        }),
        ["rowSpan", "start"].forEach(function(e) {
            D[e] = new I(e,5,!1,e.toLowerCase(),null,!1)
        });
        var M = /[\-:]([a-z])/g;
        function B(e) {
            return e[1].toUpperCase()
        }
        "accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e) {
            var t = e.replace(M, B);
            D[t] = new I(t,1,!1,e,null,!1)
        }),
        "xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e) {
            var t = e.replace(M, B);
            D[t] = new I(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)
        }),
        ["xml:base", "xml:lang", "xml:space"].forEach(function(e) {
            var t = e.replace(M, B);
            D[t] = new I(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)
        }),
        ["tabIndex", "crossOrigin"].forEach(function(e) {
            D[e] = new I(e,1,!1,e.toLowerCase(),null,!1)
        }),
        D.xlinkHref = new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),
        ["src", "href", "action", "formAction"].forEach(function(e) {
            D[e] = new I(e,1,!1,e.toLowerCase(),null,!0)
        });
        var O = /["'&<>]/;
        function R(e) {
            if ("boolean" === typeof e || "number" === typeof e)
                return "" + e;
            e = "" + e;
            var t = O.exec(e);
            if (t) {
                var i, a = "", n = 0;
                for (i = t.index; i < e.length; i++) {
                    switch (e.charCodeAt(i)) {
                    case 34:
                        t = "&quot;";
                        break;
                    case 38:
                        t = "&amp;";
                        break;
                    case 39:
                        t = "&#x27;";
                        break;
                    case 60:
                        t = "&lt;";
                        break;
                    case 62:
                        t = "&gt;";
                        break;
                    default:
                        continue
                    }
                    n !== i && (a += e.substring(n, i)),
                    n = i + 1,
                    a += t
                }
                e = n !== i ? a + e.substring(n, i) : a
            }
            return e
        }
        function N(e, t) {
            var i, a = D.hasOwnProperty(e) ? D[e] : null;
            return (i = "style" !== e) && (i = null !== a ? 0 === a.type : 2 < e.length && ("o" === e[0] || "O" === e[0]) && ("n" === e[1] || "N" === e[1])),
            i || function(e, t, i, a) {
                if (null === t || "undefined" === typeof t || function(e, t, i, a) {
                    if (null !== i && 0 === i.type)
                        return !1;
                    switch (typeof t) {
                    case "function":
                    case "symbol":
                        return !0;
                    case "boolean":
                        return !a && (null !== i ? !i.acceptsBooleans : "data-" !== (e = e.toLowerCase().slice(0, 5)) && "aria-" !== e);
                    default:
                        return !1
                    }
                }(e, t, i, a))
                    return !0;
                if (a)
                    return !1;
                if (null !== i)
                    switch (i.type) {
                    case 3:
                        return !t;
                    case 4:
                        return !1 === t;
                    case 5:
                        return isNaN(t);
                    case 6:
                        return isNaN(t) || 1 > t
                    }
                return !1
            }(e, t, a, !1) ? "" : null !== a ? (e = a.attributeName,
            3 === (i = a.type) || 4 === i && !0 === t ? e + '=""' : (a.sanitizeURL && (t = "" + t),
            e + '="' + R(t) + '"')) : z(e) ? e + '="' + R(t) + '"' : ""
        }
        var V = "function" === typeof Object.is ? Object.is : function(e, t) {
            return e === t && (0 !== e || 1 / e === 1 / t) || e !== e && t !== t
        }
          , F = null
          , G = null
          , H = null
          , U = !1
          , Q = !1
          , K = null
          , W = 0;
        function Y() {
            if (null === F)
                throw Error(r(321));
            return F
        }
        function j() {
            if (0 < W)
                throw Error(r(312));
            return {
                memoizedState: null,
                queue: null,
                next: null
            }
        }
        function $() {
            return null === H ? null === G ? (U = !1,
            G = H = j()) : (U = !0,
            H = G) : null === H.next ? (U = !1,
            H = H.next = j()) : (U = !0,
            H = H.next),
            H
        }
        function Z(e, t, i, a) {
            for (; Q; )
                Q = !1,
                W += 1,
                H = null,
                i = e(t, a);
            return G = F = null,
            W = 0,
            H = K = null,
            i
        }
        function q(e, t) {
            return "function" === typeof t ? t(e) : t
        }
        function X(e, t, i) {
            if (F = Y(),
            H = $(),
            U) {
                var a = H.queue;
                if (t = a.dispatch,
                null !== K && void 0 !== (i = K.get(a))) {
                    K.delete(a),
                    a = H.memoizedState;
                    do {
                        a = e(a, i.action),
                        i = i.next
                    } while (null !== i);return H.memoizedState = a,
                    [a, t]
                }
                return [H.memoizedState, t]
            }
            return e = e === q ? "function" === typeof t ? t() : t : void 0 !== i ? i(t) : t,
            H.memoizedState = e,
            e = (e = H.queue = {
                last: null,
                dispatch: null
            }).dispatch = function(e, t, i) {
                if (!(25 > W))
                    throw Error(r(301));
                if (e === F)
                    if (Q = !0,
                    e = {
                        action: i,
                        next: null
                    },
                    null === K && (K = new Map),
                    void 0 === (i = K.get(t)))
                        K.set(t, e);
                    else {
                        for (t = i; null !== t.next; )
                            t = t.next;
                        t.next = e
                    }
            }
            .bind(null, F, e),
            [H.memoizedState, e]
        }
        function J() {}
        var ee = 0
          , te = {
            readContext: function(e) {
                var t = ee;
                return x(e, t),
                e[t]
            },
            useContext: function(e) {
                Y();
                var t = ee;
                return x(e, t),
                e[t]
            },
            useMemo: function(e, t) {
                if (F = Y(),
                t = void 0 === t ? null : t,
                null !== (H = $())) {
                    var i = H.memoizedState;
                    if (null !== i && null !== t) {
                        e: {
                            var a = i[1];
                            if (null === a)
                                a = !1;
                            else {
                                for (var n = 0; n < a.length && n < t.length; n++)
                                    if (!V(t[n], a[n])) {
                                        a = !1;
                                        break e
                                    }
                                a = !0
                            }
                        }
                        if (a)
                            return i[0]
                    }
                }
                return e = e(),
                H.memoizedState = [e, t],
                e
            },
            useReducer: X,
            useRef: function(e) {
                F = Y();
                var t = (H = $()).memoizedState;
                return null === t ? (e = {
                    current: e
                },
                H.memoizedState = e) : t
            },
            useState: function(e) {
                return X(q, e)
            },
            useLayoutEffect: function() {},
            useCallback: function(e) {
                return e
            },
            useImperativeHandle: J,
            useEffect: J,
            useDebugValue: J,
            useResponder: function(e, t) {
                return {
                    props: t,
                    responder: e
                }
            },
            useDeferredValue: function(e) {
                return Y(),
                e
            },
            useTransition: function() {
                return Y(),
                [function(e) {
                    e()
                }
                , !1]
            }
        }
          , ie = {
            html: "http://www.w3.org/1999/xhtml",
            mathml: "http://www.w3.org/1998/Math/MathML",
            svg: "http://www.w3.org/2000/svg"
        };
        function ae(e) {
            switch (e) {
            case "svg":
                return "http://www.w3.org/2000/svg";
            case "math":
                return "http://www.w3.org/1998/Math/MathML";
            default:
                return "http://www.w3.org/1999/xhtml"
            }
        }
        var ne = {
            area: !0,
            base: !0,
            br: !0,
            col: !0,
            embed: !0,
            hr: !0,
            img: !0,
            input: !0,
            keygen: !0,
            link: !0,
            meta: !0,
            param: !0,
            source: !0,
            track: !0,
            wbr: !0
        }
          , re = a({
            menuitem: !0
        }, ne)
          , se = {
            animationIterationCount: !0,
            borderImageOutset: !0,
            borderImageSlice: !0,
            borderImageWidth: !0,
            boxFlex: !0,
            boxFlexGroup: !0,
            boxOrdinalGroup: !0,
            columnCount: !0,
            columns: !0,
            flex: !0,
            flexGrow: !0,
            flexPositive: !0,
            flexShrink: !0,
            flexNegative: !0,
            flexOrder: !0,
            gridArea: !0,
            gridRow: !0,
            gridRowEnd: !0,
            gridRowSpan: !0,
            gridRowStart: !0,
            gridColumn: !0,
            gridColumnEnd: !0,
            gridColumnSpan: !0,
            gridColumnStart: !0,
            fontWeight: !0,
            lineClamp: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            tabSize: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0,
            fillOpacity: !0,
            floodOpacity: !0,
            stopOpacity: !0,
            strokeDasharray: !0,
            strokeDashoffset: !0,
            strokeMiterlimit: !0,
            strokeOpacity: !0,
            strokeWidth: !0
        }
          , oe = ["Webkit", "ms", "Moz", "O"];
        Object.keys(se).forEach(function(e) {
            oe.forEach(function(t) {
                t = t + e.charAt(0).toUpperCase() + e.substring(1),
                se[t] = se[e]
            })
        });
        var le = /([A-Z])/g
          , ce = /^ms-/
          , he = n.Children.toArray
          , de = b.ReactCurrentDispatcher
          , pe = {
            listing: !0,
            pre: !0,
            textarea: !0
        }
          , ue = /^[a-zA-Z][a-zA-Z:_\.\-\d]*$/
          , me = {}
          , ge = {};
        var fe = Object.prototype.hasOwnProperty
          , ve = {
            children: null,
            dangerouslySetInnerHTML: null,
            suppressContentEditableWarning: null,
            suppressHydrationWarning: null
        };
        function ye(e, t) {
            if (void 0 === e)
                throw Error(r(152, C(t) || "Component"))
        }
        function Ae(e, t, i) {
            function s(n, s) {
                var o = s.prototype && s.prototype.isReactComponent
                  , l = function(e, t, i, a) {
                    if (a && "object" === typeof (a = e.contextType) && null !== a)
                        return x(a, i),
                        a[i];
                    if (e = e.contextTypes) {
                        for (var n in i = {},
                        e)
                            i[n] = t[n];
                        t = i
                    } else
                        t = w;
                    return t
                }(s, t, i, o)
                  , c = []
                  , h = !1
                  , d = {
                    isMounted: function() {
                        return !1
                    },
                    enqueueForceUpdate: function() {
                        if (null === c)
                            return null
                    },
                    enqueueReplaceState: function(e, t) {
                        h = !0,
                        c = [t]
                    },
                    enqueueSetState: function(e, t) {
                        if (null === c)
                            return null;
                        c.push(t)
                    }
                };
                if (o) {
                    if (o = new s(n.props,l,d),
                    "function" === typeof s.getDerivedStateFromProps) {
                        var p = s.getDerivedStateFromProps.call(null, n.props, o.state);
                        null != p && (o.state = a({}, o.state, p))
                    }
                } else if (F = {},
                o = s(n.props, l, d),
                null == (o = Z(s, n.props, o, l)) || null == o.render)
                    return void ye(e = o, s);
                if (o.props = n.props,
                o.context = l,
                o.updater = d,
                void 0 === (d = o.state) && (o.state = d = null),
                "function" === typeof o.UNSAFE_componentWillMount || "function" === typeof o.componentWillMount)
                    if ("function" === typeof o.componentWillMount && "function" !== typeof s.getDerivedStateFromProps && o.componentWillMount(),
                    "function" === typeof o.UNSAFE_componentWillMount && "function" !== typeof s.getDerivedStateFromProps && o.UNSAFE_componentWillMount(),
                    c.length) {
                        d = c;
                        var u = h;
                        if (c = null,
                        h = !1,
                        u && 1 === d.length)
                            o.state = d[0];
                        else {
                            p = u ? d[0] : o.state;
                            var m = !0;
                            for (u = u ? 1 : 0; u < d.length; u++) {
                                var g = d[u];
                                null != (g = "function" === typeof g ? g.call(o, p, n.props, l) : g) && (m ? (m = !1,
                                p = a({}, p, g)) : a(p, g))
                            }
                            o.state = p
                        }
                    } else
                        c = null;
                if (ye(e = o.render(), s),
                "function" === typeof o.getChildContext && "object" === typeof (n = s.childContextTypes)) {
                    var f = o.getChildContext();
                    for (var v in f)
                        if (!(v in n))
                            throw Error(r(108, C(s) || "Unknown", v))
                }
                f && (t = a({}, t, f))
            }
            for (; n.isValidElement(e); ) {
                var o = e
                  , l = o.type;
                if ("function" !== typeof l)
                    break;
                s(o, l)
            }
            return {
                child: e,
                context: t
            }
        }
        var _e = function() {
            function e(e, t) {
                n.isValidElement(e) ? e.type !== l ? e = [e] : (e = e.props.children,
                e = n.isValidElement(e) ? [e] : he(e)) : e = he(e),
                e = {
                    type: null,
                    domNamespace: ie.html,
                    children: e,
                    childIndex: 0,
                    context: w,
                    footer: ""
                };
                var i = S[0];
                if (0 === i) {
                    var a = S
                      , s = 2 * (i = a.length);
                    if (!(65536 >= s))
                        throw Error(r(304));
                    var o = new Uint16Array(s);
                    for (o.set(a),
                    (S = o)[0] = i + 1,
                    a = i; a < s - 1; a++)
                        S[a] = a + 1;
                    S[s - 1] = 0
                } else
                    S[0] = S[i];
                this.threadID = i,
                this.stack = [e],
                this.exhausted = !1,
                this.currentSelectValue = null,
                this.previousWasTextNode = !1,
                this.makeStaticMarkup = t,
                this.suspenseDepth = 0,
                this.contextIndex = -1,
                this.contextStack = [],
                this.contextValueStack = []
            }
            var t = e.prototype;
            return t.destroy = function() {
                if (!this.exhausted) {
                    this.exhausted = !0,
                    this.clearProviders();
                    var e = this.threadID;
                    S[e] = S[0],
                    S[0] = e
                }
            }
            ,
            t.pushProvider = function(e) {
                var t = ++this.contextIndex
                  , i = e.type._context
                  , a = this.threadID;
                x(i, a);
                var n = i[a];
                this.contextStack[t] = i,
                this.contextValueStack[t] = n,
                i[a] = e.props.value
            }
            ,
            t.popProvider = function() {
                var e = this.contextIndex
                  , t = this.contextStack[e]
                  , i = this.contextValueStack[e];
                this.contextStack[e] = null,
                this.contextValueStack[e] = null,
                this.contextIndex--,
                t[this.threadID] = i
            }
            ,
            t.clearProviders = function() {
                for (var e = this.contextIndex; 0 <= e; e--)
                    this.contextStack[e][this.threadID] = this.contextValueStack[e]
            }
            ,
            t.read = function(e) {
                if (this.exhausted)
                    return null;
                var t = ee;
                ee = this.threadID;
                var i = de.current;
                de.current = te;
                try {
                    for (var a = [""], n = !1; a[0].length < e; ) {
                        if (0 === this.stack.length) {
                            this.exhausted = !0;
                            var s = this.threadID;
                            S[s] = S[0],
                            S[0] = s;
                            break
                        }
                        var o = this.stack[this.stack.length - 1];
                        if (n || o.childIndex >= o.children.length) {
                            var l = o.footer;
                            if ("" !== l && (this.previousWasTextNode = !1),
                            this.stack.pop(),
                            "select" === o.type)
                                this.currentSelectValue = null;
                            else if (null != o.type && null != o.type.type && o.type.type.$$typeof === d)
                                this.popProvider(o.type);
                            else if (o.type === g) {
                                this.suspenseDepth--;
                                var c = a.pop();
                                if (n) {
                                    n = !1;
                                    var h = o.fallbackFrame;
                                    if (!h)
                                        throw Error(r(303));
                                    this.stack.push(h),
                                    a[this.suspenseDepth] += "\x3c!--$!--\x3e";
                                    continue
                                }
                                a[this.suspenseDepth] += c
                            }
                            a[this.suspenseDepth] += l
                        } else {
                            var p = o.children[o.childIndex++]
                              , u = "";
                            try {
                                u += this.render(p, o.context, o.domNamespace)
                            } catch (m) {
                                if (null != m && "function" === typeof m.then)
                                    throw Error(r(294));
                                throw m
                            }
                            a.length <= this.suspenseDepth && a.push(""),
                            a[this.suspenseDepth] += u
                        }
                    }
                    return a[0]
                } finally {
                    de.current = i,
                    ee = t
                }
            }
            ,
            t.render = function(e, t, i) {
                if ("string" === typeof e || "number" === typeof e)
                    return "" === (i = "" + e) ? "" : this.makeStaticMarkup ? R(i) : this.previousWasTextNode ? "\x3c!-- --\x3e" + R(i) : (this.previousWasTextNode = !0,
                    R(i));
                if (e = (t = Ae(e, t, this.threadID)).child,
                t = t.context,
                null === e || !1 === e)
                    return "";
                if (!n.isValidElement(e)) {
                    if (null != e && null != e.$$typeof) {
                        if ((i = e.$$typeof) === o)
                            throw Error(r(257));
                        throw Error(r(258, i.toString()))
                    }
                    return e = he(e),
                    this.stack.push({
                        type: null,
                        domNamespace: i,
                        children: e,
                        childIndex: 0,
                        context: t,
                        footer: ""
                    }),
                    ""
                }
                var s = e.type;
                if ("string" === typeof s)
                    return this.renderDOM(e, t, i);
                switch (s) {
                case c:
                case u:
                case h:
                case f:
                case l:
                    return e = he(e.props.children),
                    this.stack.push({
                        type: null,
                        domNamespace: i,
                        children: e,
                        childIndex: 0,
                        context: t,
                        footer: ""
                    }),
                    "";
                case g:
                    throw Error(r(294))
                }
                if ("object" === typeof s && null !== s)
                    switch (s.$$typeof) {
                    case m:
                        F = {};
                        var b = s.render(e.props, e.ref);
                        return b = Z(s.render, e.props, b, e.ref),
                        b = he(b),
                        this.stack.push({
                            type: null,
                            domNamespace: i,
                            children: b,
                            childIndex: 0,
                            context: t,
                            footer: ""
                        }),
                        "";
                    case v:
                        return e = [n.createElement(s.type, a({
                            ref: e.ref
                        }, e.props))],
                        this.stack.push({
                            type: null,
                            domNamespace: i,
                            children: e,
                            childIndex: 0,
                            context: t,
                            footer: ""
                        }),
                        "";
                    case d:
                        return i = {
                            type: e,
                            domNamespace: i,
                            children: s = he(e.props.children),
                            childIndex: 0,
                            context: t,
                            footer: ""
                        },
                        this.pushProvider(e),
                        this.stack.push(i),
                        "";
                    case p:
                        s = e.type,
                        b = e.props;
                        var C = this.threadID;
                        return x(s, C),
                        s = he(b.children(s[C])),
                        this.stack.push({
                            type: e,
                            domNamespace: i,
                            children: s,
                            childIndex: 0,
                            context: t,
                            footer: ""
                        }),
                        "";
                    case A:
                        throw Error(r(338));
                    case y:
                        switch (function(e) {
                            if (-1 === e._status) {
                                e._status = 0;
                                var t = e._ctor;
                                t = t(),
                                e._result = t,
                                t.then(function(t) {
                                    0 === e._status && (t = t.default,
                                    e._status = 1,
                                    e._result = t)
                                }, function(t) {
                                    0 === e._status && (e._status = 2,
                                    e._result = t)
                                })
                            }
                        }(s = e.type),
                        s._status) {
                        case 1:
                            return e = [n.createElement(s._result, a({
                                ref: e.ref
                            }, e.props))],
                            this.stack.push({
                                type: null,
                                domNamespace: i,
                                children: e,
                                childIndex: 0,
                                context: t,
                                footer: ""
                            }),
                            "";
                        case 2:
                            throw s._result;
                        default:
                            throw Error(r(295))
                        }
                    case _:
                        throw Error(r(343))
                    }
                throw Error(r(130, null == s ? s : typeof s, ""))
            }
            ,
            t.renderDOM = function(e, t, i) {
                var s = e.type.toLowerCase();
                if (i === ie.html && ae(s),
                !me.hasOwnProperty(s)) {
                    if (!ue.test(s))
                        throw Error(r(65, s));
                    me[s] = !0
                }
                var o = e.props;
                if ("input" === s)
                    o = a({
                        type: void 0
                    }, o, {
                        defaultChecked: void 0,
                        defaultValue: void 0,
                        value: null != o.value ? o.value : o.defaultValue,
                        checked: null != o.checked ? o.checked : o.defaultChecked
                    });
                else if ("textarea" === s) {
                    var l = o.value;
                    if (null == l) {
                        l = o.defaultValue;
                        var c = o.children;
                        if (null != c) {
                            if (null != l)
                                throw Error(r(92));
                            if (Array.isArray(c)) {
                                if (!(1 >= c.length))
                                    throw Error(r(93));
                                c = c[0]
                            }
                            l = "" + c
                        }
                        null == l && (l = "")
                    }
                    o = a({}, o, {
                        value: void 0,
                        children: "" + l
                    })
                } else if ("select" === s)
                    this.currentSelectValue = null != o.value ? o.value : o.defaultValue,
                    o = a({}, o, {
                        value: void 0
                    });
                else if ("option" === s) {
                    c = this.currentSelectValue;
                    var h = function(e) {
                        if (void 0 === e || null === e)
                            return e;
                        var t = "";
                        return n.Children.forEach(e, function(e) {
                            null != e && (t += e)
                        }),
                        t
                    }(o.children);
                    if (null != c) {
                        var d = null != o.value ? o.value + "" : h;
                        if (l = !1,
                        Array.isArray(c)) {
                            for (var p = 0; p < c.length; p++)
                                if ("" + c[p] === d) {
                                    l = !0;
                                    break
                                }
                        } else
                            l = "" + c === d;
                        o = a({
                            selected: void 0,
                            children: void 0
                        }, o, {
                            selected: l,
                            children: h
                        })
                    }
                }
                if (l = o) {
                    if (re[s] && (null != l.children || null != l.dangerouslySetInnerHTML))
                        throw Error(r(137, s, ""));
                    if (null != l.dangerouslySetInnerHTML) {
                        if (null != l.children)
                            throw Error(r(60));
                        if (!("object" === typeof l.dangerouslySetInnerHTML && "__html"in l.dangerouslySetInnerHTML))
                            throw Error(r(61))
                    }
                    if (null != l.style && "object" !== typeof l.style)
                        throw Error(r(62, ""))
                }
                for (_ in l = o,
                c = this.makeStaticMarkup,
                h = 1 === this.stack.length,
                d = "<" + e.type,
                l)
                    if (fe.call(l, _)) {
                        var u = l[_];
                        if (null != u) {
                            if ("style" === _) {
                                p = void 0;
                                var m = ""
                                  , g = "";
                                for (p in u)
                                    if (u.hasOwnProperty(p)) {
                                        var f = 0 === p.indexOf("--")
                                          , v = u[p];
                                        if (null != v) {
                                            if (f)
                                                var y = p;
                                            else if (y = p,
                                            ge.hasOwnProperty(y))
                                                y = ge[y];
                                            else {
                                                var A = y.replace(le, "-$1").toLowerCase().replace(ce, "-ms-");
                                                y = ge[y] = A
                                            }
                                            m += g + y + ":",
                                            g = p,
                                            m += f = null == v || "boolean" === typeof v || "" === v ? "" : f || "number" !== typeof v || 0 === v || se.hasOwnProperty(g) && se[g] ? ("" + v).trim() : v + "px",
                                            g = ";"
                                        }
                                    }
                                u = m || null
                            }
                            p = null;
                            e: if (f = s,
                            v = l,
                            -1 === f.indexOf("-"))
                                f = "string" === typeof v.is;
                            else
                                switch (f) {
                                case "annotation-xml":
                                case "color-profile":
                                case "font-face":
                                case "font-face-src":
                                case "font-face-uri":
                                case "font-face-format":
                                case "font-face-name":
                                case "missing-glyph":
                                    f = !1;
                                    break e;
                                default:
                                    f = !0
                                }
                            f ? ve.hasOwnProperty(_) || (p = z(p = _) && null != u ? p + '="' + R(u) + '"' : "") : p = N(_, u),
                            p && (d += " " + p)
                        }
                    }
                c || h && (d += ' data-reactroot=""');
                var _ = d;
                l = "",
                ne.hasOwnProperty(s) ? _ += "/>" : (_ += ">",
                l = "</" + e.type + ">");
                e: {
                    if (null != (c = o.dangerouslySetInnerHTML)) {
                        if (null != c.__html) {
                            c = c.__html;
                            break e
                        }
                    } else if ("string" === typeof (c = o.children) || "number" === typeof c) {
                        c = R(c);
                        break e
                    }
                    c = null
                }
                return null != c ? (o = [],
                pe[s] && "\n" === c.charAt(0) && (_ += "\n"),
                _ += c) : o = he(o.children),
                e = e.type,
                i = null == i || "http://www.w3.org/1999/xhtml" === i ? ae(e) : "http://www.w3.org/2000/svg" === i && "foreignObject" === e ? "http://www.w3.org/1999/xhtml" : i,
                this.stack.push({
                    domNamespace: i,
                    type: s,
                    children: o,
                    childIndex: 0,
                    context: t,
                    footer: l
                }),
                this.previousWasTextNode = !1,
                _
            }
            ,
            e
        }()
          , be = {
            renderToString: function(e) {
                e = new _e(e,!1);
                try {
                    return e.read(1 / 0)
                } finally {
                    e.destroy()
                }
            },
            renderToStaticMarkup: function(e) {
                e = new _e(e,!0);
                try {
                    return e.read(1 / 0)
                } finally {
                    e.destroy()
                }
            },
            renderToNodeStream: function() {
                throw Error(r(207))
            },
            renderToStaticNodeStream: function() {
                throw Error(r(208))
            },
            version: "16.12.0"
        }
          , Ce = {
            default: be
        }
          , we = Ce && be || Ce;
        e.exports = we.default || we
    },
    1896: function(e, t) {
        e.exports = '    <div class="loading-mask" style="display: none;">\n        <div class="open-express">\n            <h3 class="bottom-m"><%- Localizer.localize(\'agent.connecting\') %></h3>\n            <p><%- Localizer.localize(\'agent.wait\') %></p>\n        </div>\n        <div class="still-waiting text-left alert alert-info bottom-none" style="display: none;">\n            <p><%- Localizer.localize(\'send.to.device.message\') %></p>\n            <p><%= Localizer.localize(\'send.to.device.message2\') %></p>\n        </div>\n    </div>\n\n    <div class="message message-error margin-small-all queue-error" style="display: none">\n        <p><%- Localizer.localize(\'queue.error\') %></p>\n    </div>\n\n    <% if (hasDevices) { %>\n        <div id="send-body">\n            <span class="header-content-placeholder"></span>\n            <span class="additional-content-placeholder"></span>\n\n            <% if (devices && devices.length > 0) { %>\n            <select class="bottom-l select selected-device" aria-label="<%- Localizer.localize(\'select.one\') %>">\n                <% for (var i = 0; i < devices.length; i++) { %>\n                <option value="<%- devices[i].get(\'deviceId\') %>"><%- devices[i].get(\'displayName\') %></option>\n                <% }; %>\n            </select>\n            <p><a href="#" class="btn btn-large device-selected"><%- Localizer.localize(\'queue.send.now\') %></a></p>\n            <% } else { %>\n            <div><%- Localizer.localize(\'no.devices.found\') %></div>\n            <% } %>\n\n\n            <div class="need-help">\n                <a href="#" class="colored need-help-link open-help"><%- Localizer.localize(\'agent.need.help\') %></a>\n                <a href="#" class="colored close-help" style="display: none;"><%- Localizer.localize(\'agent.close.help\') %></a>\n            </div>\n            <div class="send-help text-left" style="display: none;">\n                <h4><%- Localizer.localize(\'agent.help.title\') %></h4>\n                <p><%- Localizer.localize(\'agent.help.reason\') %></p>\n                <ul>\n                    <li><%- Localizer.localize(\'device.not.supported\') %></li>\n                    <li><%- Localizer.localize(\'device.not.setup\') %></li>\n                </ul>\n                <p><%= Localizer.localize(\'agent.download.info\') %></p>\n                <hr>\n                <h4><%- Localizer.localize(\'agent.help.title2\') %></h4>\n                <p><%- Localizer.localize(\'device.send.course.title\') %></p>\n                <ul>\n                    <li><%- Localizer.localize(\'device.send.course.info\') %></li>\n                    <li><%- Localizer.localize(\'device.send.course.info2\') %></li>\n                    <li><%- Localizer.localize(\'device.send.course.info3\') %></li>\n                </ul>\n\n            </div>\n        </div>\n\n    <% } else { %>\n\n    <div id="download-body">\n        <p><%- Localizer.localize(\'agent.additional.info\') %></p>\n        <div class="text-center">\n            <p><a href="/modern/activity-sync" class="btn btn-large"><%- Localizer.localize(\'agent.download\') %></a></p>\n        </div>\n        <div class="text-center get-started-overview top-m">\n            <div class="get-started-item">\n                <div class="get-started-img download"></div>\n                <span><%- Localizer.localize(\'agent.download.install\') %></span>\n            </div>\n            <div class="get-started-item">\n                <div class="get-started-img plug-in"></div>\n                <span><%- Localizer.localize(\'agent.plugin\') %></span>\n            </div>\n            <div class="get-started-item">\n                <div class="get-started-img link-device"></div>\n                <span><%- Localizer.localize(\'agent.link.device\') %></span>\n            </div>\n            <div class="get-started-item">\n                <div class="get-started-img connect"></div>\n                <span><%- Localizer.localize(\'gc\') %></span>\n            </div>\n        </div>\n    </div>\n    <% }  %>\n\n'
    },
    1897: function(e, t) {
        e.exports = "<div class=\"send-help text-left\">\n    <h4><%-Localizer.localize('agent.help.title')%></h4>\n    <p><%-Localizer.localize('agent.help.reason')%></p>\n    <ul>\n        <li><%-Localizer.localize('device.not.supported')%></li>\n        <li><%-Localizer.localize('device.not.setup')%></li>\n    </ul>\n    <p><%=Localizer.localize('agent.download.info')%></p>\n    <h4><%-Localizer.localize('agent.help.title2')%></h4>\n    <p><%-Localizer.localize('segment_send_to_device_what_does')%></p>\n</div>"
    },
    1908: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(1909)
          , l = i.n(o)
          , c = s.a.View.extend({
            template: n.a.template(l.a),
            events: {},
            initialize: function(e) {
                return this.width = e.width,
                this.height = e.height,
                this.poster = e.poster,
                this.sources = e.sources,
                this.subtitles = e.subtitles,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    width: this.width,
                    height: this.height,
                    poster: this.poster,
                    sources: this.sources,
                    subtitles: this.subtitles
                })),
                this
            }
        });
        c.Events = {},
        t.a = c
    },
    1909: function(e, t) {
        e.exports = '<video id="video" width="<%- width %>" crossorigin="anonymous"  controls controlslist="nodownload" preload="metadata" poster="<%- poster %>" >\n    <% sources.forEach(function(source) { %>\n        <source src="<%- source.src %>" type="<%- source.type %>">\n    <% }); %>\n    <% subtitles.forEach(function(track) { %>\n        <track label="<%- track.language %>" kind="subtitles" srclang="<%- track.srcLang %>" src="<%-track.src %>" <% if (track.default) { print(\'default\');} %>>\n    <% }); %>\n</video>'
    },
    1914: function(e, t, i) {
        (t = e.exports = i(33)(!0)).i(i(276), void 0),
        t.i(i(1217), void 0),
        t.push([e.i, ".page.activity-detail .activity-type-icon {\n        width: 60px;\n        height: 60px;\n        line-height: 60px;\n        margin-top: -4px;\n        margin-right: 11px;\n        font-size: 35px;\n        box-shadow: 0 0 0 2px #ccc;\n        text-align: center;\n        border-radius: 50%;\n        color: #888;\n        background: #fafafa;\n    }\n.page.activity-detail .page-header-content {\n        width: calc(100% - 50px);\n    }\n.page.activity-edit .page-header-content {\n        width: auto;\n    }\n.page.activity-detail .page-feature {\n        position: relative;\n    }\n.page.activity-edit .page-feature {\n        min-height: 22px;\n        height: auto;\n    }\n.page.activity-detail .page-header-content .page-title .data-bit {\n        margin-top: -4px;\n    }\n.page.activity-detail .page-header-content .page-title .inline-edit-editable,\n    .page.activity-detail .page-header-content .page-title .page-title-overflow {\n        max-width: calc(100% - 110px);\n    }\n.page.activity-detail .page-header-content .page-title .page-title-overflow {\n        display: inline-block;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    }\n.page.activity-detail .page-header-content .page-title .inline-edit-editable-text.page-title-overflow {\n        text-overflow: inherit;\n        max-width: 100%;\n    }\n.page.activity-detail .page-header-content .date-block {\n        margin-top: -36px;\n        position: relative;\n        z-index: 1;\n    }\n.page.activity-detail .activity-detail-title input {\n        margin-top: -4px;\n        line-height: 15px;\n        padding: 0 4px;\n        box-shadow: inset 0 2px #eee;\n    }\n.page.activity-detail .activity-title-time {\n        cursor: pointer;\n        border-bottom: 1px dotted #999;\n    }\n.page.activity-detail .icon-personal-records {\n        color: #ff9e0d;\n        vertical-align: middle;\n    }\n.page.activity-detail .page-title .icon-personal-records {\n        font-size: 18px;\n        height: 18px;\n        width: 18px;\n        line-height: 18px;\n        margin-top: -18px;\n        margin-left: 8px;\n    }\n.page.activity-detail .multisport-nav .icon-personal-records {\n        font-size: 16px;\n        height: 16px;\n        width: 16px;\n        line-height: 16px;\n        margin-top: -5px;\n        margin-left: 3px;\n    }\n.page.activity-detail .overflow-nav-container.overflow .multisport-nav {\n        padding-left: 30px;\n    }\n.page.activity-detail .multisport-nav > li:first-child {\n        position: relative;\n        margin-right: 20px;\n        margin-left: 10px;\n    }\n.page.activity-detail .multisport-nav > li:first-child:after {\n        content: '';\n        display: block;\n        border-left: 1px solid #eee;\n        padding: 0;\n        margin: 10px;\n        height: 75px;\n        width: 0;\n        position: absolute;\n        left: 100%;\n        top: 0;\n    }\n.page.activity-detail .multisport-nav > li:first-child a {\n        padding-left: 20px;\n        padding-right: 20px;\n    }\n.page.activity-detail .multisport-nav > li:first-child .time {\n        font-weight: 600;\n    }\n.page.activity-detail .event-type,\n    .page.activity-detail .course-type {\n        margin-right: 10px;\n    }\n.page.activity-detail .event-type .dropdown-menu {\n        z-index: 2;\n    }\n.page.activity-detail .stats .data-block {\n        margin-bottom: 11px;\n    }\n.page.activity-detail .stats h3 {\n        border-bottom: 1px solid #ddd;\n        font-size: 14px;\n        margin-bottom: 11px;\n    }\n.page.activity-detail .stats .stat-block {\n        margin-bottom: 33px;\n    }\n.modal .rd-color {\n        display: inline-block;\n        height: 20px;\n        width: 20px;\n        vertical-align: middle;\n        border-radius: 20px;\n        margin-right: 10px;\n        margin-top: -2px;\n    }\n.page.activity-detail .mtbStat .data-block {\n        display: inline-block;\n        margin-left: 20px;\n        margin-bottom: 20px;\n    }\n.page.activity-detail .mtbStat .trophy-container {\n        width: 20px;\n        height: 20px;\n        position: absolute;\n        margin-left: 30px;\n    }\n.page.activity-detail .has-tooltip.jump-icon {\n        margin-top: 7px;\n    }\n.page.activity-detail .mtbStat .trophy-container > .icon-personal-records {\n        color: black;\n    }\n.page.activity-detail .leaflet-popup.jump-map-tooltip {\n        opacity: 0.9 !important;\n    }\n.jump-tooltip-container {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: column;\n                flex-direction: column;\n        font-size: 12px;\n    }\n.jump-tooltip-container .tooltip-row {\n        text-align: left;\n    }\n.page.activity-detail .leaflet-popup-content-wrapper,\n    .leaflet-popup-content {\n        border-radius: 3px !important;\n    }\n/*  ======================\n        More about Training Effect\n        ====================== */\n.modal-training-effect .te-feedback {\n        float: left;\n        clear: right;\n        width: 330px;\n    }\n.modal-training-effect .te-score {\n        float: right;\n        width: 175px;\n    }\n.modal-training-effect hr {\n        clear: both;\n    }\n/*FIX OVERLAPPING PILLS ON SMALL WINDOWS AND SIDEBAR OPEN*/\n@media (max-width: 1540px) {\n        .page.activity-detail .stats .btn-group .btn-small {\n            padding: 3px 6px;\n            font-size: 10px;\n        }\n    }\n/*  ======================\n        Primary Stats\n        ====================== */\n.page.activity-detail .nav.multisport-nav {\n        margin-bottom: 26px;\n    }\n.page.activity-detail .stats-primary .data-block {\n        display: inline-block;\n        float: left;\n        box-sizing: border-box;\n        width: 50%;\n        padding-right: 20px;\n    }\n.page.activity-detail .stats-primary .data-label {\n        display: block;\n        margin-top: 6px;\n        line-height: 16px;\n    }\n@media (min-width: 992px) {\n         {\n        /* Detect 3 .data-block elements */\n        /* Detect 4 .data-block elements */\n        /* Detect 5 .data-block elements */\n}\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(3),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(3) ~ .data-block {\n            width: 33%;\n        }\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(4),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(4) ~ .data-block {\n            width: 25%;\n        }\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) ~ .data-block {\n            width: 20%;\n        }\n    }\n@media (min-width: 992px) and (max-width: 1199px) {\n         {\n        /* Detect 5 .data-block elements */\n}\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) .data-bit,\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) ~ .data-block .data-bit {\n            font-size: 22px;\n            line-height: 24px;\n        }\n    }\n/*  ======================\n        Time in Zones\n        ====================== */\n.tab-time-in-zones .table-heart-rate-zones,\n    .tab-time-in-zones .table-power-zones {\n        width: 100%;\n    }\n.tab-time-in-zones * {\n        box-sizing: border-box;\n    }\n.tab-time-in-zones .stat-block > h3 {\n        margin-bottom: 10px;\n    }\n.tab-time-in-zones .heart-rate-zones .zone-1 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-1 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-1 .zone-time {\n        background: #6d8594;\n    }\n.tab-time-in-zones .heart-rate-zones .zone-2 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-2 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-2 .zone-time {\n        background: #39a9ec;\n    }\n.tab-time-in-zones .heart-rate-zones .zone-3 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-3 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-3 .zone-time {\n        background: #50af12;\n    }\n.tab-time-in-zones .heart-rate-zones .zone-4 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-4 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-4 .zone-time {\n        background: #f79d0c;\n    }\n.tab-time-in-zones .heart-rate-zones .zone-5 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-5 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-5 .zone-time {\n        background: #f4253c;\n    }\n.tab-time-in-zones .power-zones .zone-1 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-1 .zone-name,\n    .tab-time-in-zones .power-zones .zone-1 .zone-time {\n        background: #6d8594; /*FAD117; */\n    }\n.tab-time-in-zones .power-zones .zone-2 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-2 .zone-name,\n    .tab-time-in-zones .power-zones .zone-2 .zone-time {\n        background: #39a9ec; /*8264DB; */\n    }\n.tab-time-in-zones .power-zones .zone-3 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-3 .zone-name,\n    .tab-time-in-zones .power-zones .zone-3 .zone-time {\n        background: #50af12; /*6D8594; */\n    }\n.tab-time-in-zones .power-zones .zone-4 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-4 .zone-name,\n    .tab-time-in-zones .power-zones .zone-4 .zone-time {\n        background: #fad117; /*39A9EC; */\n    }\n.tab-time-in-zones .power-zones .zone-5 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-5 .zone-name,\n    .tab-time-in-zones .power-zones .zone-5 .zone-time {\n        background: #f79d0c; /*50AF12; */\n    }\n.tab-time-in-zones .power-zones .zone-6 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-6 .zone-name,\n    .tab-time-in-zones .power-zones .zone-6 .zone-time {\n        background: #f4253c; /*F79D0C; */\n    }\n.tab-time-in-zones .power-zones .zone-7 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-7 .zone-name,\n    .tab-time-in-zones .power-zones .zone-7 .zone-time {\n        background: #8264db; /*F4253C; */\n    }\n.tab-time-in-zones .table-heart-rate-zones tr td,\n    .tab-time-in-zones .table-power-zones tr td {\n        border-right: 1px solid #fff;\n        border-bottom: 1px solid #fff;\n        padding: 0px;\n    }\n.tab-time-in-zones .table-heart-rate-zones td > div,\n    .tab-time-in-zones .table-power-zones td > div {\n        padding: 12px 20px;\n    }\n.tab-time-in-zones td.zone-name {\n        width: 30px;\n    }\n.tab-time-in-zones td.zone-name > div {\n        background: rgba(255, 255, 255, 0.6);\n        /*opacity: 20;*/\n        border: none;\n    }\n.tab-time-in-zones td.zone-time {\n        width: 30px;\n    }\n.tab-time-in-zones td.zone-time > div {\n        background: rgba(255, 255, 255, 0.6);\n        text-align: right;\n        border: none;\n        /*opacity: 20;*/\n    }\n.tab-time-in-zones td.zone-percent {\n        position: relative;\n    }\n.tab-time-in-zones td.zone-percent > div {\n        position: absolute;\n        top: 0px;\n        bottom: 0px;\n        padding: 12px 0px;\n    }\n.tab-time-in-zones td.zone-percent > div > span {\n        /*width: 700px;*/\n        display: block;\n        position: absolute;\n        left: 100%;\n        padding-left: 10px;\n    }\n.tab-time-in-zones .heart-rate-zones {\n        margin-bottom: 20px;\n    }\n/*  ======================\n        Charts\n        ======================  */\n.page.activity-detail .chart-header-item {\n        font-size: 14px;\n    }\n.page.activity-detail .chart-list-customize:hover {\n        color: inherit;\n        text-decoration: none;\n    }\n.page.activity-detail .chart-header .chart-zoom-toggle {\n        padding: 0 3px;\n        margin-left: 20px;\n        margin-right: 5px;\n        vertical-align: middle;\n    }\n.page.activity-detail .overlay-item {\n        float: left;\n        margin-left: 30px;\n    }\n.page.activity-detail .chart-name .chart-title {\n        margin-right: 10px;\n    }\n.page.activity-detail .chart-name,\n    .page.activity-detail .chart-max-avg-power,\n    .page.activity-detail .chart-lap-avg-pace {\n        display: inline-block;\n    }\n.page.activity-detail .chart-max-avg-power,\n    .page.activity-detail .chart-lap-avg-pace {\n        margin-left: 30px;\n    }\n.page.activity-detail .chart-max-avg-power .custom-max-avg-power {\n        padding: 0 20px;\n        white-space: nowrap;\n    }\n.page.activity-detail .chart-zoom .overlay-item button {\n        font-size: 18px;\n        font-weight: 100;\n    }\n.page.activity-detail .chart-toggle-options .time-toggle {\n        margin-right: -5px;\n        background-color: " + i(276).locals.blue_primary + ";\n        color: " + i(276).locals.textLight + ";\n        border-right: 0 transparent;\n        border-radius: 4px 0 0 4px;\n    }\n.page.activity-detail .chart-toggle-options .distance-toggle {\n        border-left: 0 transparent;\n        border-radius: 0 4px 4px 0;\n    }\n.page.activity-detail .chart-toggle-options .length-rests-toggle {\n        margin-right: -5px;\n        border-right: 0 transparent;\n        border-radius: 4px 0 0 4px;\n    }\n.page.activity-detail .activity-charts-container .btn-customize-charts {\n        background: transparent;\n        color: black;\n        box-shadow: none;\n        border: 1px solid #ccc;\n        padding: 5px 10px;\n    }\n.page.activity-detail .chart-toggle-options button,\n    .page.activity-detail .customize-charts-controls .reorder-widgets-set,\n    .page.activity-detail .customize-charts-controls .reorder-widgets-cancel {\n        border-radius: 2px;\n        border: 1px solid #ccc;\n        background: transparent;\n        color: black;\n        box-shadow: none;\n    }\n.page.activity-detail .customize-charts-controls .reorder-widgets-set {\n        background-color: #11a9ed;\n        color: #fff;\n    }\n.page.activity-detail .customize-charts-list {\n        top: -6px;\n        left: -1px;\n        min-width: 200px;\n        border-radius: 10px;\n        background: white;\n        padding-left: 20px;\n        padding-right: 10px;\n        padding-top: 10px;\n    }\n.page.activity-detail .customize-charts-header {\n        margin-top: -5px;\n        margin-left: -10px;\n    }\n.page.activity-detail .dropdown-menu label {\n        margin-bottom: 10px;\n    }\n.page.activity-detail .sortable-checkboxes .chart-off {\n        display: none;\n    }\n.page.activity-detail .sortable-checkboxes.sort-mode .sortable-checkbox:not(:checked) + .chart-off {\n        display: block;\n        top: 1px;\n    }\n.widget .heart-rate .chart-color-circle,\n    .page.activity-detail .chart-color-circle {\n        background-color: #e8e8e8;\n        border-radius: 50%;\n        height: 11px;\n        width: 11px;\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: 5px;\n        margin-top: -3px;\n    }\n.page.activity-detail .no-overlay .chart-color-circle {\n        display: none;\n    }\n.page.activity-detail .chart-zoom .chart-color-circle {\n        height: 16px;\n        width: 16px;\n        margin-top: -4px;\n    }\n.page.activity-detail .stress .chart-color-circle {\n        background-color: #ff9e0d;\n    }\n.page.activity-detail .movement .chart-color-circle {\n        background-color: #b0e1f7;\n    }\n.page.activity-detail .speed .chart-color-circle {\n        background-color: #11a9ed;\n    }\n.page.activity-detail .elevation .chart-color-circle {\n        background-color: #4cb200;\n    }\n.page.activity-detail .breath-rate .chart-color-circle {\n        background-color: #5036a3;\n    }\n.widget .heart-rate .chart-color-circle,\n    .page.activity-detail .heart-rate .chart-color-circle {\n        background-color: #ff0035;\n    }\n.page.activity-detail .performance-condition .chart-color-circle {\n        background-color: #6e8594;\n    }\n.page.activity-detail .cadence .chart-color-circle,\n    .page.activity-detail .stride-length .chart-color-circle {\n        background-color: #ff9e0d;\n    }\n.page.activity-detail .power .chart-color-circle,\n    .page.activity-detail .power-balance .chart-color-circle {\n        background-color: #cf23b8;\n    }\n.page.activity-detail .power-phase-start .chart-color-circle {\n        background-color: #11a9ed;\n    }\n.page.activity-detail .power-phase-end .chart-color-circle {\n        background-color: #50b012;\n    }\n.page.activity-detail .pco-left .chart-color-circle {\n        background-color: #bf0f24;\n    }\n.page.activity-detail .pco-right .chart-color-circle {\n        background-color: #ed7e00;\n    }\n.page.activity-detail .temperature .chart-color-circle {\n        background-color: #6e8594;\n    }\n.page.activity-detail .vertical-o .chart-color-circle,\n    .page.activity-detail .vertical-r .chart-color-circle {\n        background-color: #cf25bb;\n    }\n.page.activity-detail .reset-zoom,\n    .page.activity-detail .chart-zoom .x-axis-value {\n        position: relative;\n        left: 50%;\n        -webkit-transform: translateX(-50%);\n        transform: translateX(-50%);\n    }\n/*  ======================\n        Swim Intervals\n        ======================  */\n.page.activity-detail .modal-body h2,\n    .page.activity-detail .modal-body h5 {\n        display: inline-block;\n    }\n.page.activity-detail .swim-interval .interval-title {\n        font-weight: 600;\n        margin: 22px 0 11px 0;\n    }\n.page.activity-detail .swim-interval .interval-title .distance,\n    .page.activity-detail .swim-interval .interval-title .time {\n        font-weight: 400;\n        font-size: 14px;\n        display: inline-block;\n        margin-left: 8px;\n    }\n.page.activity-detail .swim-length {\n        width: 110px;\n        height: 55px;\n        line-height: 40px;\n        float: left;\n        text-align: center;\n        background-color: #fafafa;\n        margin-right: -1px;\n        margin-bottom: 8px;\n        border: 1px solid #ddd;\n        overflow: hidden;\n    }\n.page.activity-detail .swim-length.first {\n        border-radius: 30px 0 0 30px;\n    }\n.page.activity-detail .swim-length.last {\n        border-radius: 0 30px 30px 0;\n        margin-right: 5px;\n    }\n.page.activity-detail .swim-length.first .type {\n        padding-left: 15px;\n    }\n.page.activity-detail .swim-length.last .type {\n        padding-right: 15px;\n    }\n.page.activity-detail .swim-length.first.last {\n        border-radius: 30px;\n    }\n.page.activity-detail .swim-length .type,\n    .page.activity-detail .swim-length .first.last .type {\n        height: 15px;\n        line-height: 15px;\n        font-size: 9px;\n        text-transform: uppercase;\n        color: rgba(255, 255, 255, 0.7);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        padding: 0 5px;\n    }\n.page.activity-detail .swim-length .number {\n        background: #ddd;\n        display: inline-block;\n        vertical-align: middle;\n        width: 22px;\n        height: 22px;\n        line-height: 22px;\n        font-size: 12px;\n        border-radius: 50%;\n        color: #444;\n        float: left;\n        margin-top: 10px;\n        margin-left: 15px;\n    }\n.page.activity-detail .swim-length .time {\n        font-weight: 100;\n        font-size: 18px;\n        color: #222;\n        float: right;\n        margin-right: 15px;\n    }\n.page.activity-detail .swim-length.freestyle .type {\n        background: #cf23b8;\n    }\n.page.activity-detail .swim-length.butterfly .type {\n        background: #11a9ed;\n    }\n.page.activity-detail .swim-length.backstroke .type {\n        background: #50b012;\n    }\n.page.activity-detail .swim-length.breaststroke .type {\n        background: #ff0035;\n    }\n.page.activity-detail .swim-length.drill .type {\n        background: #ed7e00;\n    }\n.page.activity-detail .swim-length.drill .number {\n        display: none;\n    }\n.page.activity-detail .swim-length.drill .time {\n        float: none;\n        margin-right: 0;\n    }\n.page.activity-detail .swim-length.mixed .type,\n    .page.activity-detail .swim-length.unknown .type {\n        background: #888;\n    }\n.page.activity-detail .swim-rest {\n        float: left;\n        margin-bottom: 8px;\n        line-height: 40px;\n        background: #ddd;\n        border-radius: 30px;\n        overflow: hidden;\n        width: 90px;\n        text-align: center;\n        border: 1px solid #ddd;\n    }\n.page.activity-detail .swim-rest .type {\n        height: 15px;\n        line-height: 15px;\n        font-size: 9px;\n        text-transform: uppercase;\n        color: #eee;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        padding: 0 5px;\n        background: #bbb;\n    }\n.page.activity-detail .swim-rest .time {\n        font-size: 18px;\n        font-weight: 100;\n    }\n/*  ======================\n        Player\n        ======================  */\n.page.activity-detail .map-controls.player {\n        margin-left: calc(50% - 16px);\n        width: 33px;\n    }\n.page.activity-detail .map-controls button.disabled {\n        display: none;\n    }\n@media (max-width: 415px) {\n        .page.activity-detail #map-controls {\n            display: -webkit-flex;\n            display: flex;\n            -webkit-flex-direction: column;\n                    flex-direction: column;\n        }\n\n        .page.activity-detail #map-controls .map-control-item {\n            margin-bottom: 5px;\n        }\n    }\n/*  ======================\n        Laps checkbox\n        ======================  */\n.page.activity-detail .map-control-item.laps {\n        width: auto;\n        white-space: nowrap;\n    }\n.page.activity-detail .map-control-item.laps label {\n        line-height: 33px;\n        padding-right: 10px;\n    }\n.page.activity-detail .map-control-item.laps label input {\n        margin-top: 11px;\n        margin-right: 5px;\n        margin-left: 10px;\n    }\n/*  ======================\n        Mobile Scroll Toggle\n        ======================  */\n.page.activity-detail .map-control-item.scrolling {\n        clear: left;\n        width: auto;\n        margin-top: 6px;\n        padding-right: 10px;\n        padding-left: 10px;\n        white-space: nowrap;\n    }\n/*  ======================\n        Weather\n        ======================  */\n.page.activity-detail .weather *,\n    .page.activity-detail .weather.large * {\n        transition: 150ms cubic-bezier(0.175, 0.885, 0.305, 1.24);\n        -webkit-transform-style: preserve-3d;\n        transform-style: preserve-3d;\n    }\n.page.activity-detail .weather {\n        right: 10px;\n        left: auto;\n        cursor: pointer;\n        margin-bottom: 5px;\n    }\n.page.activity-detail .weather .map-control-item {\n        margin-right: 0;\n        width: auto;\n        padding: 0 5px;\n        overflow: hidden;\n    }\n.page.activity-detail .weather span {\n        display: inline-block;\n        vertical-align: middle;\n        position: relative;\n        margin: 0 2px;\n    }\n.page.activity-detail .weather .trigger {\n        top: 5px;\n        left: -4px;\n    }\n.page.activity-detail .weather .trigger i {\n        color: #888;\n        font-size: 11px;\n        height: 11px;\n        width: 11px;\n        line-height: 11px;\n        margin-top: 0;\n    }\n.page.activity-detail .weather .temperature {\n        font-size: 22px;\n        font-weight: 100;\n        line-height: 33px;\n    }\n.page.activity-detail .weather .humidity-percentage {\n        font-size: 22px;\n        font-weight: 100;\n        line-height: 33px;\n    }\n.page.activity-detail .weather .weather-icon {\n        margin-right: 5px;\n    }\n.page.activity-detail .weather .weather-icon img {\n        height: 31px;\n        width: 31px;\n    }\n.page.activity-detail .weather .wind {\n        width: 21px;\n        height: 21px;\n        line-height: 21px;\n        text-align: center;\n        font-size: 12px;\n        border: 1px solid #222;\n        border-radius: 50%;\n        margin-right: 0;\n    }\n.page.activity-detail .weather .wind:before {\n        content: '';\n        display: block;\n        width: 0;\n        height: 15px;\n        border-width: 7px 3px;\n        border-style: solid;\n        border-color: #222 transparent transparent transparent;\n        position: absolute;\n        top: -4px;\n        left: 8px;\n    }\n/*\n    .page.activity-detail .wind-n:before {\n        nothing needed - north is the default\n    }\n    */\n.page.activity-detail .wind-nne:before {\n        -webkit-transform: rotate(22.5deg);\n        transform: rotate(22.5deg);\n    }\n.page.activity-detail .wind-ne:before {\n        -webkit-transform: rotate(45deg);\n        transform: rotate(45deg);\n    }\n.page.activity-detail .wind-ene:before {\n        -webkit-transform: rotate(77.5deg);\n        transform: rotate(77.5deg);\n    }\n.page.activity-detail .wind-e:before {\n        -webkit-transform: rotate(90deg);\n        transform: rotate(90deg);\n    }\n.page.activity-detail .wind-ese:before {\n        -webkit-transform: rotate(112.5deg);\n        transform: rotate(112.5deg);\n    }\n.page.activity-detail .wind-se:before {\n        -webkit-transform: rotate(135deg);\n        transform: rotate(135deg);\n    }\n.page.activity-detail .wind-sse:before {\n        -webkit-transform: rotate(157.5deg);\n        transform: rotate(157.5deg);\n    }\n.page.activity-detail .wind-s:before {\n        -webkit-transform: rotate(180deg);\n        transform: rotate(180deg);\n    }\n.page.activity-detail .wind-ssw:before {\n        -webkit-transform: rotate(202.5deg);\n        transform: rotate(202.5deg);\n    }\n.page.activity-detail .wind-sw:before {\n        -webkit-transform: rotate(225deg);\n        transform: rotate(225deg);\n    }\n.page.activity-detail .wind-wsw:before {\n        -webkit-transform: rotate(247.5deg);\n        transform: rotate(247.5deg);\n    }\n.page.activity-detail .wind-w:before {\n        -webkit-transform: rotate(270deg);\n        transform: rotate(270deg);\n    }\n.page.activity-detail .wind-wnw:before {\n        -webkit-transform: rotate(292.5deg);\n        transform: rotate(292.5deg);\n    }\n.page.activity-detail .wind-nw:before {\n        -webkit-transform: rotate(315deg);\n        transform: rotate(315deg);\n    }\n.page.activity-detail .wind-nnw:before {\n        -webkit-transform: rotate(337.5deg);\n        transform: rotate(337.5deg);\n    }\n.page.activity-detail .weather .map-control-item .details {\n        display: none;\n    }\n.page.activity-detail .weather.weather-large .map-control-item {\n        height: 70px;\n        border-radius: 35px;\n        padding-right: 10px;\n    }\n.page.activity-detail .weather.weather-large .trigger {\n        top: -4px;\n        left: -3px;\n        -webkit-transform: rotate(180deg);\n        transform: rotate(180deg);\n    }\n.page.activity-detail .weather.weather-large .temperature {\n        font-size: 32px;\n        margin-left: 8px;\n    }\n.page.activity-detail .weather.weather-large .humidity-percentage {\n        font-size: 32px;\n        margin-left: 8px;\n    }\n.page.activity-detail .weather.weather-large .weather-icon img {\n        width: 70px;\n        height: 70px;\n    }\n.page.activity-detail .weather.weather-large .wind {\n        font-size: 18px;\n        width: 35px;\n        height: 35px;\n        line-height: 35px;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n.page.activity-detail .weather.weather-large .wind:before {\n        border-width: 11px 4px;\n        height: 25px;\n        left: 13px;\n        top: -6px;\n    }\n.page.activity-detail .weather.weather-large .details {\n        display: inline-block;\n        margin: 4px 8px 8px 0;\n    }\n.page.activity-detail .weather .details ul {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n        font-size: 12px;\n    }\n.page.activity-detail .weather .details li {\n        margin: 0;\n        padding: 0;\n        line-height: 1.4;\n    }\n.page.activity-detail .weather .details .source {\n        font-size: 9px;\n        color: #888;\n    }\n@media (max-width: " + i(1217).locals.endXS + ") {\n        .page.activity-detail .weather.weather-large .map-control-item {\n            max-width: 270px;\n        }\n\n        .page.activity-detail .weather .weather-icon {\n            max-width: 40px;\n        }\n\n        .page.activity-detail .weather.weather-large .temperature {\n            font-size: 20px;\n            margin-left: 5px;\n        }\n\n        .page.activity-detail .weather.weather-large .weather-icon img {\n            width: 35px;\n            height: 35px;\n        }\n\n        .page.activity-detail .weather.weather-large .wind {\n            font-size: 16px;\n            width: 25px;\n            height: 25px;\n            line-height: 25px;\n        }\n\n        .page.activity-detail .weather.weather-large .wind:before {\n            height: 20px;\n            left: 9px;\n            top: -8px;\n        }\n\n        .page.activity-detail .weather.weather-large .details {\n            margin: 4px 4px 4px 0;\n        }\n    }\n/*  ======================\n        Splits and intervals table\n        ======================  */\n.page.activity-detail .tab-overflow {\n        overflow: scroll;\n    }\n.page.activity-detail .splits-table th,\n    .page.activity-detail .intervals-table th {\n        white-space: nowrap;\n        padding-left: 20px;\n        text-align: right;\n    }\n.page.activity-detail .splits-table th:nth-child(1),\n    .page.activity-detail .splits-table th:nth-child(2),\n    .page.activity-detail .intervals-table th:nth-child(2) {\n        text-align: center;\n    }\n.page.activity-detail .intervals-table th:nth-child(2) {\n        padding-right: 20px;\n    }\n.page.activity-detail .splits-table td,\n    .page.activity-detail .intervals-table td {\n        text-align: right;\n        white-space: nowrap;\n    }\n.page.activity-detail .splits-table td:nth-child(1),\n    .page.activity-detail .splits-table td:nth-child(2),\n    .page.activity-detail .intervals-table td:nth-child(2) {\n        text-align: center;\n    }\n.page.activity-detail .splits-table tfoot,\n    .page.activity-detail .intervals-table tfoot {\n        font-weight: bold;\n    }\n.page.activity-detail .activity-intervals-tab-content-placeholder {\n        overflow: auto;\n        min-height: 190px;\n    }\n/*  ======================\n        Gases and Tanks table\n        ======================  */\n.page.activity-detail .gases-and-tanks-table th,\n    .page.activity-detail .gases-and-tanks-table td {\n        white-space: nowrap;\n        padding-left: 10px;\n        padding-right: 10px;\n        text-align: center;\n    }\n/* Embed modal */\n.embed-activity-input[type='text'] {\n        margin-bottom: 11px;\n        width: 97%;\n        cursor: pointer;\n    }\n.embed-activity-iframe {\n        margin-left: 30px;\n    }\n.modal.activity-detail-embed .modal-body {\n        max-height: 600px;\n    }\n/* Create / Find segment button */\n.page.activity-detail .activity-segments-container {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: column;\n                flex-direction: column;\n    }\n.page.activity-detail .create-segment .icon-add {\n        font-size: 12px;\n        height: 12px;\n        width: 12px;\n        line-height: 12px;\n        margin-top: 4px;\n        margin-right: 5px;\n    }\n.page.activity-detail .segment-match-container {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: column;\n                flex-direction: column;\n    }\n.page.activity-detail .segment-match-container .segment-match-actions {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-justify-content: flex-end;\n                justify-content: flex-end;\n    }\n/* Segments table */\n.page.activity-detail .segments-table {\n        table-layout: fixed;\n    }\n.page.activity-detail .segments-table .segment-name {\n        min-width: 190px;\n    }\n.page.activity-detail .segments-table .segment-rank {\n        width: 40px;\n    }\n.page.activity-detail .segments-table .segment-link {\n        vertical-align: middle;\n        width: 100%;\n    }\n.page.activity-detail .segments-table .segment-time {\n        width: 75px;\n    }\n.page.activity-detail .segments-table .segment-pace {\n        width: 90px;\n    }\n.page.activity-detail .segments-table .segment-fav,\n    .page.activity-detail .segments-table .segment-visible {\n        width: 25px;\n    }\n.page.activity-detail .segments-table .icon-star.fav {\n        vertical-align: middle;\n    }\n.page.activity-detail .segments-table .icon-eye {\n        vertical-align: middle;\n        font-size: 18px;\n        color: #c7c7c7;\n        cursor: pointer;\n    }\n.page.activity-detail .segments-table .icon-eye.active {\n        color: #222;\n    }\n@media (max-width: " + i(1217).locals.endSM + ") {\n        .page.activity-detail .segments-table {\n            /* Creates a horizontally scrollable table that moves independently from the page when the page is too narrow */\n            display: block;\n            overflow-x: auto;\n            max-width: 90vw;\n        }\n    }\n/* Additional info */\n.page.activity-detail .additional-info > div {\n        text-align: center;\n    }\n.page.activity-detail .additional-info .device-image img {\n        width: 50%;\n    }\n.page.activity-detail .additional-info .device-name {\n        font-weight: 600;\n    }\n/* mbtester - admin */\n.page.activity-detail .additional-info .admin {\n        background: #e6ff84;\n    }\n.page.activity-detail .power-curve-excluded {\n        margin-top: 40px;\n    }\n.page.activity-detail .power-curve-excluded .heading {\n        font-size: 18px;\n    }\n.page.activity-detail .power-curve-excluded .sub-heading {\n        margin: 20px 0px 10px 0px;\n    }\n/*  ======================\n        Manual Activity Page / Edit Activity\n        ======================  */\n.page.activity-edit .time-zone-select {\n        font-size: 12px;\n        margin-left: 5px;\n        cursor: pointer;\n    }\n.page.activity-edit .time-zone-select > a {\n        display: inline-block;\n        max-width: calc(100% - 500px);\n        line-height: 11px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n.page.activity-edit .avg-pace-speed {\n        width: auto;\n    }\n.page.activity-edit .advanced-edit-actions-container {\n        display: -webkit-flex;\n        display: flex;\n        width: 210px;\n        -webkit-justify-content: space-between;\n                justify-content: space-between;\n    }\n/*  ======================\n        Multisport\n        ======================  */\n.page.activity-detail .multisport-nav > li {\n        text-align: center;\n    }\n.page.activity-detail .multisport-nav > li > a {\n        padding-bottom: 10px;\n    }\n.page.activity-detail .multisport-nav > li > a > .icon > i {\n        display: block;\n        margin: 0 auto;\n        font-size: 36px;\n        width: 36px;\n        height: 36px;\n        line-height: 36px;\n    }\n.page.activity-detail .multisport-nav > li > a > .icon > .icon-activity-transition {\n        font-size: 20px;\n    }\n.page.activity-detail .multisport-nav > li > a > .avg-stat {\n        font-size: 10px;\n        line-height: 1;\n        height: 10px;\n    }\n.page.activity-detail .multisport-nav .dropdown-menu i {\n        font-size: 16px;\n        width: 16px;\n        height: 16px;\n        line-height: 16px;\n        margin-right: 10px;\n    }\n.page.activity-detail .multisport-nav .dropdown-menu {\n        text-align: left;\n    }\n/*  ======================\n        Connect IQ Label\n        ======================  */\n.ciq-label {\n        color: #888;\n        font-size: 12px;\n        width: 12px;\n        height: 11px;\n        line-height: 11px;\n        margin-left: 5px;\n        vertical-align: middle;\n    }\n/*  ======================\n        Media queries for responsive breakpoints\n        ======================  */\n@media (max-width: 1158px) {\n        .page.activity-detail .activity.stats .row-fluid [class*='span'] {\n            width: 100%;\n            margin-left: 0;\n        }\n    }\n/*  ======================\n        Cycling Dynamics Tab\n        ======================  */\n.cycling-dynamics .custom-max-avg-power {\n        display: inline-block;\n        margin-top: -10px;\n    }\n.cycling-dynamics .max-avg-label {\n        margin-right: 5px;\n    }\n.cycling-dynamics .cycling-tab-controls {\n        min-height: 30px;\n    }\n.cycling-dynamics .cycling-tab-controls .input-small {\n        margin-bottom: 0;\n    }\n/*  ======================\n        Platform Center Offset\n        ======================  */\n.cycling-dynamics .pco-content {\n        padding: 0 21px;\n    }\n.cycling-dynamics .pco-content .chart-container {\n        margin: 0 auto;\n        height: 160px;\n    }\n.platform-center-offset > canvas {\n        width: 160px;\n        height: 160px;\n        background-position: 0 0;\n        background-repeat: no-repeat;\n    }\n.platform-center-offset-left > canvas {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/platform-center-offset-left.svg');\n    }\n.platform-center-offset-right > canvas {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/platform-center-offset-right.svg');\n    }\n/*  ======================\n        Peak Power Phase\n        ======================  */\n.power-phase {\n        width: 100%;\n        padding-bottom: 10px;\n        margin-bottom: 20px;\n        border-bottom: 1px solid #ddd;\n    }\n.power-phase-charts {\n        width: 660px;\n        height: 260px;\n        margin: 0 auto;\n    }\n.power-phase-charts > div {\n        width: 325px;\n    }\n.power-phase-charts > div:first-child {\n        float: left;\n    }\n.power-phase-charts > div:last-child {\n        float: right;\n    }\n.power-phase-charts .chart-container {\n        /* Dynamic Highchart Graphic */\n        margin-top: -273px;\n        margin-left: 17px;\n    }\n.power-phase-charts .chart-container sup {\n        font-size: 22px;\n        top: -12px;\n    }\n.power-phase-graphic {\n        /* Background Image */\n        display: inline-block;\n        width: 250px;\n        height: 250px;\n        margin: 0 0 22px 0;\n        background-position: 0 0;\n        background-repeat: no-repeat;\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/power-phase.svg');\n    }\n@media (max-width: 1310px) {\n        .cycling-dynamics .custom-max-avg-power {\n            display: block;\n            margin-top: 10px;\n        }\n        .cycling-dynamics #avg-power-range-value {\n            float: none;\n            display: inline-block;\n        }\n    }\n@media (max-width: 640px) {\n        .power-phase-charts {\n            width: 100%;\n        }\n        .power-phase-charts > div {\n            width: 195px;\n        }\n        .power-phase-charts .chart-container {\n            margin-top: -225px;\n            margin-left: -18px;\n        }\n        .power-phase-graphic {\n            width: 200px; /* chart design is small */\n            height: 200px;\n        }\n    }\n@media (max-width: 520px) {\n        .power-phase {\n            border-width: 0;\n        }\n        .power-phase-charts {\n            height: 520px;\n        }\n        .power-phase-charts > div:first-child,\n        .power-phase-charts > div:last-child {\n            float: none;\n            width: 325px;\n            margin: 0 auto 30px auto;\n        }\n        .power-phase .chart-container {\n            margin-top: -274px;\n            margin-left: 19px;\n        }\n        .power-phase-graphic {\n            width: 250px; /* chart design is medium & stacked */\n            height: 250px;\n        }\n    }\n/*  ======================\n        Seated & Standing Position\n        ======================  */\n.cycling-dynamics .seated-standing {\n        padding-left: 20px;\n        padding-right: 20px;\n        margin-bottom: 0;\n        border-left: 1px solid #ddd;\n    }\n.position-seated > span,\n    .position-standing > span {\n        margin: auto auto 0 auto;\n        max-width: 80%;\n        vertical-align: bottom;\n        display: block;\n        width: 200px;\n        height: 160px;\n        background-position: center;\n        background-repeat: no-repeat;\n        margin-left: auto;\n        margin-right: auto;\n    }\n.position-seated > span {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/seated.svg');\n    }\n.position-standing > span {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/standing.svg');\n    }\n/*  ======================\n        Media Queries provided by Joshua Johnston (front-end team)\n        ======================  */\n@media (max-width: 1175px) {\n        .pco-content .span6,\n        .seated-standing .span6 {\n            width: 100%; /* stack these graphics early */\n            margin: 0 auto;\n        }\n    }\n@media (max-width: 767px) {\n        .cycling-dynamics .seated-standing {\n            border-left: 0;\n        }\n    }\n@media (max-width: 653px) {\n        .cycling-dynamics .cycling-tab-controls {\n            max-height: 85px;\n        }\n    }\n/*  ======================\n        Activity List Table in Modal\n        ======================  */\n.modal .activity-list .activity-title {\n        width: 250px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        display: inline-block;\n        vertical-align: middle;\n        white-space: nowrap;\n        line-height: 1.3;\n    }\n/*ACTIVITY LIKING*/\n.page-navigation-action .like-link:hover {\n        background: transparent;\n    }\n/*NO PRIVILEGES PAGE*/\n.no-privileges h3 {\n        line-height: 2rem;\n    }\n.no-privileges .locked-activity {\n        font-size: 80px;\n        color: #e5e5e5;\n        display: block;\n        padding-right: 65px;\n    }\n.ciq-info {\n        max-width: 250px;\n        margin: 33px auto 0;\n    }\n.page.activity-detail .ciq-info .app-name a {\n        font-weight: 600;\n    }\n.page.activity-detail .ciq-info .aspect {\n        position: relative;\n        width: 100%;\n        max-width: 80px;\n        margin: 15px auto;\n    }\n.page.activity-detail .ciq-info .aspect-square {\n        padding-top: 100%;\n    }\n.page.activity-detail .ciq-info .aspect-element {\n        height: 100%;\n        width: 100%;\n        position: absolute;\n        top: 0;\n    }\n@media (max-width: 1156px) and (min-width: 414px) {\n        .activity.stats .row-fluid .span3 {\n            width: 48% !important;\n            margin: 0;\n            display: inline-block;\n            float: left;\n        }\n        .activity.stats .row-fluid .span3 {\n            margin-left: 2% !important;\n        }\n    }\n/*iPhone 6+ and smaller*/\n@media screen and (max-device-width: 415px) {\n         {\n\n        /* Layout */\n\n        /* Page Navigation */\n\n        /* Dropdown Menus */\n\n        /* Icons */\n\n        /* Unique Icon Styles */\n\n        /* Type */\n\n        /* Charts */\n}\n        .page.activity-detail .page-header-content .page-title .page-title-overflow {\n            max-width: calc(100% - 50px);\n        }\n        .page.activity-detail .page-title .icon-personal-records {\n            height: 25px;\n        }\n        .page.activity-detail .activity-type-icon {\n            width: 40px;\n            height: 40px;\n            line-height: 40px;\n            margin-top: 0;\n            margin-right: 6px;\n            font-size: 20px;\n            box-shadow: 0 0 0 2px #ccc;\n        }\n        .page.activity-detail .page-header-content .date-block {\n            clear: both;\n        }\n        .chart-header .span4 {\n            display: inline-block;\n        }\n        .page.activity-detail .highcharts-container {\n            /*TO PREVENT THE CARTS FROM BREAKING PAST THE CONTAINER*/\n            margin-left: -10px;\n        }\n        .chart-header .span9 {\n            width: 100%;\n            display: inline-block;\n        }\n        .chart-header .span3 {\n            display: none;\n        }\n        .chart-header .span3 button {\n            font-size: 12px;\n            vertical-align: middle;\n            line-height: 15px;\n        }\n        .row-fluid.chart-header [class*='span'] {\n            float: left;\n        }\n        .page.activity-detail .page-header-content .date-block {\n            margin-top: -24px;\n        }\n        .page.activity-detail .page-header-content {\n            width: calc(100% - 60px);\n        }\n        .page.activity-detail .page-dropdown {\n            display: inline-block;\n        }\n        .page.activity-detail .page-navigation .dropdown-menu {\n            right: -1px;\n            top: -6px;\n        }\n        .page.activity-detail .inline-edit-trigger {\n            width: 28px;\n            height: 28px;\n        }\n        .page.activity-detail .inline-edit-save[class*='icon-'],\n        .page.activity-detail .inline-edit-cancel[class*='icon-'] {\n            height: 28px;\n            width: 28px;\n        }\n        .page.activity-detail .page-title .inline-edit-actions button {\n            margin-top: 7px;\n        }\n        .page.activity-detail .page-navigation-action,\n        .page.activity-detail .page-navigation-action:last-child {\n            padding: 3px 7px;\n        }\n        .page.activity-detail .inline-edit-trigger,\n        .page.activity-detail .page-navigation-action,\n        .page.activity-detail .page-dropdown .dropdown-menu [class^='icon-'] {\n            font-size: 16px;\n        }\n        .page.activity-detail .page-dropdown .dropdown-menu [class^='icon-'] {\n            right: 7px;\n            top: 1px;\n        }\n        .page.activity-detail .page-dropdown .dropdown-menu > li > a [class^='icon-'] {\n            font-size: 14px;\n        }\n        .page.activity-detail .dropdown .icon-pointer-down {\n            font-size: 10px;\n        }\n        .page.activity-detail .page-navigation .icon-share,\n        .page.activity-detail .page-dropdown .dropdown-menu .icon-share {\n            font-size: 18px;\n        }\n        .page.activity-detail .help-icon {\n            font-size: 18px;\n            height: 20px;\n            width: 20px;\n        }\n        .page.activity-detail .page-intro .date-block,\n        .page.activity-detail .like,\n        .page.activity-detail .dropdown-menu > li {\n            font-size: 14px;\n        }\n        .page.activity-detail .dropdown-menu > li > a {\n            line-height: 22px;\n        }\n        .page.activity-detail .event-type,\n        .page.activity-detail .course-type,\n        .page.activity-detail .gear-indicator {\n            white-space: nowrap;\n        }\n        .page.activity-detail .chart-header-main .span4 {\n            display: none;\n        }\n        .page.activity-detail .chart-header-main .span4.chart-x-axis-toggle {\n            display: inline-block;\n            width: 100%;\n        }\n        .page.activity-detail .chart-header {\n            margin-top: 11px;\n        }\n    }\n/*ACTIVITY - REP COUNTING*/\n.rep-counting-table td {\n        vertical-align: middle;\n    }\n.page.activity-detail table.rep-counting-table {\n        margin-bottom: 10px;\n    }\n[data-activity-type='pilates'] .workout-name {\n        width: 70%;\n    }\n[data-activity-type='yoga'] .workout-name {\n        width: 70%;\n    }\n.table.rep-counting-table td {\n        border-top: 1px solid #e5e5e5;\n    }\n/*\n    For the play video button\n    .page.activity-detail .rep-counting-table td a [class*=\"icon-\"] {\n        width: 20px;\n        height: 20px;\n        line-height: 20px;\n        margin-right: 5.5px;\n        font-size: 12px;\n        text-align: center;\n        box-shadow: 0 0 0 1px #ccc;\n        border-radius: 50%;\n        color: #888;\n        background: #fafafa;\n    }*/\n.page.activity-detail .rep-counting-table td .input-append {\n        margin-bottom: 0;\n    }\n.page.activity-detail .rep-counting-table td .input-small {\n        width: 50px;\n    }\n.page.activity-edit .rep-counting-table th:first-child,\n    .page.activity-edit .rep-counting-table th:last-child,\n    .page.activity-edit .rep-counting-table td:first-child,\n    .page.activity-edit .rep-counting-table td:last-child {\n        width: 15px;\n        color: #888;\n    }\n.page.activity-detail .rep-counting-table th:nth-child(3),\n    .page.activity-detail .rep-counting-table th:nth-child(4),\n    .page.activity-detail .rep-counting-table th:nth-child(5),\n    .page.activity-detail .rep-counting-table th:nth-child(6),\n    .page.activity-detail .rep-counting-table td:nth-child(3),\n    .page.activity-detail .rep-counting-table td:nth-child(4),\n    .page.activity-detail .rep-counting-table td:nth-child(5),\n    .page.activity-detail .rep-counting-table td:nth-child(6) {\n        text-align: center;\n    }\n.page.activity-detail .rep-counting-table th:first-child,\n    .page.activity-detail .rep-counting-table td:first-child {\n        text-align: center;\n    }\n.page.activity-detail .rep-counting-table td:first-child p {\n        border: 1px solid #888;\n        border-radius: 50%;\n        height: 20px;\n        width: 20px;\n        line-height: 20px;\n        font-size: 10px;\n        color: #888;\n        margin: 0 auto;\n    }\n.page.activity-detail .rep-counting-table td:last-child a {\n        font-size: 12px;\n        font-family: 'Open Sans', 'HelveticaNeue-Light', 'Helvetica Neue Light', 'Helvetica Neue', Helvetica, Arial,\n            sans-serif;\n        line-height: 22px;\n    }\n.page.activity-edit .page-navigation .btn {\n        margin-top: 0;\n    }\n/*DRAG & DROP -\n    HINT FOR WHERE THE EXERCISE IS GOING TO GO*/\n.rep-placehold-row {\n        height: 60px;\n    }\n.rep-placehold:before {\n        float: left;\n        left: -12px;\n    }\n.rep-placehold:after {\n        float: right;\n        right: -13px;\n    }\n/*FOR A BORDER WHEN USER HOVERS OVER THE DRAG HANDLE*/\n.rep-counting-table tr {\n        border-left: 1px solid rgba(170, 170, 170, 0);\n        border-right: 1px solid rgba(170, 170, 170, 0);\n        border-bottom: 1px solid rgba(170, 170, 170, 0);\n    }\n.rep-counting-table .hover-rep-row {\n        border: 1px solid rgba(170, 170, 170, 0.4);\n    }\n/*FOR A THICKER BORDER WHEN USER IS DRAGGING*/\n.rep-counting-table .ui-sortable-helper {\n        box-shadow: 0px 0px 0px 2px rgba(170, 170, 170, 0.75);\n        border-top: transparent;\n        background: #ffffff;\n    }\n/*ADD RED BORDER FOR ERROR ON EXERCISE NAME*/\n.chosen-container-single .chosen-single.error {\n        color: #bf0f24;\n        border-color: #bf0f24;\n    }\n/*  ======================\n        Activity Compare Page\n        ======================  */\n.activity-compare .summary [class^='icon-'],\n    .activity-compare .summary [class*=' icon-'] {\n        text-align: center;\n        border-radius: 50%;\n        color: #888;\n        background: #fafafa;\n        width: 40px;\n        height: 40px;\n        line-height: 40px;\n        font-size: 22px;\n        box-shadow: 0 0 0 2px #ccc;\n        display: block;\n        margin: 0 auto 10px auto;\n    }\n.activity-compare .summary {\n        margin-bottom: 0;\n    }\n.activity-compare thead th,\n    .activity-compare td {\n        text-align: center;\n        border-left: 2px solid #ddd;\n    }\n.activity-compare .laps th,\n    .activity-compare .laps td {\n        border-left-color: #f0f0f0;\n    }\n.activity-compare .laps th:nth-child(3n + 2),\n    .activity-compare .laps td:nth-child(3n + 2) {\n        border-left-color: #ddd;\n    }\n.activity-compare .laps th:nth-child(1) {\n        text-align: left;\n    }\n.activity-compare .four-up .summary thead th,\n    .activity-compare .four-up .summary td {\n        vertical-align: top;\n    }\n.activity-compare .row-label {\n        text-align: left;\n    }\n.activity-compare .laps th {\n        font-weight: normal;\n        color: #888;\n    }\n.activity-compare .four-up th {\n        width: 20%;\n    }\n.activity-compare .three-up th {\n        width: 25%;\n    }\n.activity-compare .two-up th {\n        width: 33.3%;\n    }\n.activity-compare th:first-child,\n    .activity-compare td:first-child {\n        border-left: none;\n    }\n/*  ======================\n      Battery Status\n    ======================  */\n.page.activity-detail [class^='icon-battery-status-'],\n    .page.activity-detail .icon-caution {\n        margin-left: 5px;\n        font-size: 16px;\n        line-height: 18px;\n    }\n/*  ======================\n      Activity Playlist\n    ======================  */\n.page.activity-detail .playlist-card {\n        max-height: 350px;\n        overflow-y: auto;\n        overflow-x: auto;\n        border: 1px solid #e5e5e5;\n        border-radius: 4px;\n        padding: 11px;\n    }\n.page.activity-detail .list-number {\n        border: 1px solid #c7c7c7;\n        border-radius: 50%;\n        height: 24px;\n        width: 24px;\n        text-align: center;\n        padding-top: 2px;\n        background: #fff;\n    }\n.page.activity-detail .playlist-privacy {\n        float: right;\n        margin-right: 20px;\n        margin-top: -25px;\n        font-size: 12px;\n        color: #888;\n    }\n/*  ======================\n      Responsive Table Standards - applies to rep-counting table\n      ======================  */\n@media (max-width: 1125px) {\n        .minimize-main-nav .span8.exercise-table-edit {\n            width: 65.95744680851064%;\n        }\n        .span8.exercise-table-edit {\n            width: 100%;\n        }\n    }\n@media (max-width: 855px) {\n         {\n        /* Forcing table to not behave in its usual manner.*/\n\n        /* Hiding table headers (but not display: none for accessibility purposes)*/\n\n        /* Forcing td to behave like a row.*/\n\n        /*Forcing content \"before\" to behave like a table heading.*/\n\n        /* Label the data*/\n}\n        .rep-counting-table,\n        .rep-counting-table thead,\n        .rep-counting-table tbody,\n        .rep-counting-table th,\n        .rep-counting-table td,\n        .rep-counting-table tr {\n            display: block;\n        }\n        .rep-counting-table-edit {\n            margin-top: 15px;\n        }\n        .rep-counting-table thead tr {\n            position: absolute;\n            top: -9999px;\n            left: -9999px;\n        }\n\n        .page.activity-detail .rep-counting-table tr {\n            border-bottom: 4px solid #888;\n        }\n        .rep-counting-table td {\n            border: none;\n            border-bottom: 1px solid #eee;\n            position: relative;\n            padding-left: 40%;\n        }\n        .rep-counting-table td:before {\n            position: absolute;\n            font-weight: bold;\n            /* Top/left values mimic padding */\n            top: 6px;\n            left: 6px;\n            width: 45%;\n            padding-right: 10px;\n            white-space: nowrap;\n        }\n        .rep-counting-table td:before {\n            /*Handling truncation of before content.*/\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n        .page.activity-edit .rep-counting-table.rep-counting-table-edit td:first-child,\n        .page.activity-edit .rep-counting-table.rep-counting-table-edit td:last-child {\n            width: auto;\n            height: 20px;\n        }\n\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:first-child,\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(3),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(4),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(5),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(6),\n        .page.activity-detail .rep-counting-table td:first-child:before,\n        .page.activity-detail .rep-counting-table td:nth-child(3):before,\n        .page.activity-detail .rep-counting-table td:nth-child(4):before,\n        .page.activity-detail .rep-counting-table td:nth-child(5):before,\n        .page.activity-detail .rep-counting-table td:nth-child(6):before,\n        .page.activity-detail .rep-counting-table td:nth-child(3),\n        .page.activity-detail .rep-counting-table td:nth-child(4),\n        .page.activity-detail .rep-counting-table td:nth-child(5),\n        .page.activity-detail .rep-counting-table td:nth-child(6) {\n            text-align: left;\n        }\n        .page.activity-detail .rep-counting-table td:first-child:before {\n            content: attr(data-title-1);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(2):before {\n            content: attr(data-title-2);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(3):before {\n            content: attr(data-title-3);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(4):before {\n            content: attr(data-title-4);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(5):before {\n            content: attr(data-title-5);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(6):before {\n            content: attr(data-title-6);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(7):before {\n            content: attr(data-title-7);\n        }\n    }\n.page.activity-detail .chosen-single .icon-pointer-down {\n        font-size: 8px;\n    }\n.activity-compare .summary th h1 {\n        display: inline-block;\n    }\n.activity-compare .summary th .data-label {\n        display: block;\n        font-weight: 300;\n        line-height: 25px;\n    }\n.activity-compare .laps .stat {\n        border-bottom: 1px dotted inherit;\n    }\n.activity-compare .four-up .laps .stat {\n        width: 6.6%;\n    }\n.activity-compare .three-up .laps .stat {\n        width: 8.2%;\n    }\n.activity-compare .two-up .laps .stat {\n        width: 11.2%;\n    }\n.activity-compare .toggle-detail {\n        width: 100%;\n        background: #888;\n        color: #fff;\n        padding: 2px 0;\n        text-decoration: none;\n        display: block;\n        text-align: center;\n        font-size: 12px;\n    }\n@media screen and (max-device-width: 1024px) {\n         {\n\n        /*\n            td:not(:first-child) {\n                counter-increment: rowNumber;\n            }\n            td:not(:first-child):before {\n                content: counter(rowNumber);\n                text-align: left;\n                font-weight: normal;\n                top: auto;\n                width: auto;\n                color: #bbb;\n            }\n        */\n}\n        .activity-compare .laps-table-header,\n        .activity-compare .laps.table {\n            display: none;\n        }\n        .activity-compare .table-responsive thead tr {\n            position: relative;\n            top: auto;\n            left: auto;\n        }\n        .activity-compare .table-responsive th {\n            width: 100%;\n        }\n        .activity-compare .summary [class^='icon-'],\n        .activity-compare .summary [class*=' icon-'] {\n            width: 26px;\n            height: 26px;\n            line-height: 26px;\n            font-size: 15px;\n            margin-bottom: 5px;\n        }\n        .activity-compare .table-responsive th,\n        .activity-compare .table-responsive td {\n            padding-left: 0;\n            border-left: none;\n        }\n        .activity-compare .table-responsive .row-label {\n            padding-left: 10px;\n        }\n        .table-responsive,\n        .table-responsive thead,\n        .table-responsive tbody,\n        .table-responsive th,\n        .table-responsive td,\n        .table-responsive tr {\n            display: block;\n        }\n    }\n/* start from resource-js */\n.page.activity-detail .activity-map-canvas {\n        height: 400px;\n        margin-top: 5px;\n        z-index: 0;\n    }\n.page.activity-detail html {\n        height: 100%;\n    }\n.page.activity-detail body {\n        height: 100%;\n        margin: 0;\n        padding: 0;\n    }\n.page.activity-detail .is_stuck .activity-map-canvas {\n        margin-top: 58px;\n        height: 200px;\n        overflow: hidden;\n    }\n.page.activity-detail .stats .data-block {\n        margin-bottom: 11px;\n    }\n.page.activity-detail .stats h3 {\n        border-bottom: 1px solid #ddd;\n        font-size: 14px;\n        margin-bottom: 11px;\n    }\n.page.activity-detail .stats .stat-block {\n        margin-bottom: 33px;\n    }\n.page.activity-detail .kevin-temp {\n        background-color: yellow;\n        color: red;\n        font-weight: bold;\n    }\n.page.activity-detail .modal.fullscreen.expanded-chart .modal-body {\n        overflow: hidden;\n    }\n.page.activity-detail .pointer-events-none {\n        pointer-events: none;\n    }\n.full-screen-map {\n        position: fixed;\n        z-index: 1000; /* IE needs a big number */\n        left: 0;\n        top: 0;\n    }\n/* Not preferred, but this will allow us to use full-screen-map everywhere */\n.full-screen-map .leaflet-container {\n        position: fixed !important;\n        height: 100% !important;\n        width: 100% !important;\n    }\n/* end from resource-js */\n#activity-map-canvas.short {\n        height: 210px;\n    }\n/* ===============\n          Dive Log\n       =============== */\n.page.activity-detail .dive-canvas {\n        position: relative;\n        height: 230px;\n        min-width: 551px;\n    }\n.page.activity-detail .dive-canvas .canvas {\n        width: 100%;\n        height: 100%;\n    }\n.page.activity-detail .dive-log-stat {\n        position: absolute;\n        z-index: 1;\n        width: 150px;\n        height: 20px;\n        text-align: center;\n    }\n.page.activity-detail .dive-log-label {\n        color: #999999;\n    }\n.page.activity-detail .avg-depth-label {\n        color: #ff9f10;\n    }\n.page.activity-detail .deco-dive-label {\n        color: #d0021b;\n    }\n.page.activity-detail .dive-log-stat.right {\n        right: 0;\n    }\n.page.activity-detail .dive-log-stat.center {\n        margin-left: auto;\n        margin-right: auto;\n        left: 0;\n        right: 0;\n    }\n.page.activity-detail .dive-log-value {\n        font-size: 24px;\n    }\n.page.activity-detail .dive-log-label {\n        font-size: 12px;\n    }\n.page.activity-detail .surface-interval-stat {\n        top: 16px;\n    }\n.page.activity-detail .time-in-stat {\n        top: 83px;\n    }\n.page.activity-detail .max-depth-stat {\n        top: 150px;\n    }\n.page.activity-detail .avg-depth-stat {\n        top: 83px;\n    }\n.page.activity-detail .bottom-time-stat {\n        top: 150px;\n    }\n.page.activity-detail .time-out-stat {\n        top: 83px;\n    }\n.page.activity-detail .deco-dive-stat {\n        top: 150px;\n    }\n.page.activity-detail .deco-dive-value {\n        width: 20px;\n        height: 20px;\n        line-height: 20px;\n        font-size: 11px;\n        text-align: center;\n        border-radius: 50%;\n        color: #fbebed;\n        background: #d0021b;\n        font-style: normal;\n        margin: 0 auto;\n        font-weight: 600;\n    }\n.page.activity-detail .apnea-dives-table .apnea-map {\n        width: 85px;\n        height: 62px;\n    }\n/* hide attribution - could break if we update google mutant */\n.page .apnea-dives-table .apnea-map .gmnoprint,\n    .page .apnea-dives-table .apnea-map .leaflet-google-mutant.leaflet-top.leaflet-left .gm-style img,\n    .page .apnea-dives-table .apnea-map .leaflet-control-attribution {\n        display: none;\n    }\n@media (max-width: 610px) {\n        .page.activity-detail .dive-canvas {\n            height: 170px;\n            min-width: 380px;\n        }\n\n        .page.activity-detail .dive-log-value {\n            font-size: 20px;\n        }\n\n        .page.activity-detail .dive-log-label {\n            display: block;\n            margin-top: -2px;\n        }\n\n        .page.activity-detail .dive-log-value.deco-dive-value {\n            font-size: 11px;\n        }\n\n        .page.activity-detail .surface-interval-stat {\n            top: 5px;\n        }\n\n        .page.activity-detail .time-in-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .max-depth-stat {\n            top: 107px;\n        }\n\n        .page.activity-detail .avg-depth-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .bottom-time-stat {\n            top: 106px;\n        }\n\n        .page.activity-detail .time-out-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .dive-log-stat {\n            width: 105px;\n            height: 20px;\n        }\n\n        .page.activity-detail .deco-dive-stat {\n            top: 106px;\n        }\n    }\n.page.activity-detail .note-container h3 {\n        font-size: 17px;\n        margin: 0 0 8px;\n    }\n.page.activity-detail .video-container.border-wrapper,\n    .page.activity-detail .note-container.border-wrapper {\n        border-top: none;\n    }\n.page.activity-detail .wrapper-top-container {\n        border-bottom: none;\n    }\n.page.activity-detail .edit-dive-activity-dive-label {\n        display: inline;\n    }\n.page.activity-detail .diving.inline-edit-text-field {\n        top: 12px;\n    }\n.page.activity-detail #trainingEffectStatsPlaceholder .stat-block .data-block .trainingEffectLabelContainer {\n        display: -webkit-flex;\n        display: flex;\n    }\n.page.activity-detail #trainingEffectStatsPlaceholder .stat-block .data-block .trainingEffectStatChip {\n        border-radius: 50%;\n        height: 8px;\n        width: 8px;\n        margin-top: 7px;\n        margin-right: 8px;\n    }\n.modal-body .chart-color-circle {\n        background-color: #e8e8e8;\n        border-radius: 50%;\n        height: 11px;\n        width: 11px;\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: 5px;\n        margin-top: -3px;\n    }\n/* ===============\n          Advanced Activity Editing\n       =============== */\n.page.activity-advanced-edit .tab-content {\n        margin-bottom: 10px;\n    }\n.page.activity-advanced-edit .activity-edit-container {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: row;\n                flex-direction: row;\n        -webkit-flex-wrap: wrap;\n                flex-wrap: wrap;\n        -webkit-justify-content: flex-start;\n                justify-content: flex-start;\n        padding-left: 60px;\n    }\n.page.activity-advanced-edit .activity-edit-container .item {\n        margin-right: 20px;\n    }\n.page.activity-advanced-edit .button-container {\n        width: 50%;\n    }\n.page.activity-advanced-edit .flex-row {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: row;\n                flex-direction: row;\n        -webkit-flex-wrap: wrap;\n                flex-wrap: wrap;\n        width: 100%;\n    }\n.page.activity-advanced-edit .flex-column {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: column;\n                flex-direction: column;\n        -webkit-flex-basis: 100%;\n                flex-basis: 100%;\n        -webkit-flex: 1 1;\n                flex: 1 1;\n        margin: 5px 5px 5px 5px;\n    }\n.page.activity-advanced-edit .advanced-learn-more {\n        margin-top: 20px;\n    }\n.page.activity-advanced-edit .data-bit.no-wrap {\n        white-space: nowrap;\n    }\n.page.activity-advanced-edit .trim-band {\n        opacity: 0.8;\n    }\n.page.activity-advanced-edit .trim-slider {\n        margin-top: -8px;\n        margin-left: 18px;\n        margin-right: 8px;\n    }\n/*  ======================\n        Activity Intervals Edit\n        ======================  */\n.page.activity-intervals-edit .edit-intervals-title {\n        text-transform: uppercase;\n        margin-bottom: 15px;\n        margin-left: 10px;\n    }\n.page.activity-intervals-edit .edit-intervals-button-container {\n        display: -webkit-flex;\n        display: flex;\n        width: 30%;\n        -webkit-justify-content: space-between;\n                justify-content: space-between;\n    }\n.page.activity-intervals-edit .edit-intervals-learn-more span {\n        font-size: 12px;\n        font-weight: normal;\n        color: rgb(108, 108, 108);\n        line-height: 18px;\n    }\n.page.activity-intervals-edit .edit-intervals-button-container button {\n        box-shadow: none;\n        border-radius: 4px;\n        border: none;\n        font-size: 14px;\n        font-weight: 300;\n        text-align: center;\n        text-shadow: 0 1px 0 #0c7cad;\n        color: #fafafa;\n    }\n.page.activity-intervals-edit .edit-intervals-button-container button.reverse {\n        border: 1px solid rgb(228, 228, 228);\n        color: rgb(0, 0, 0);\n        font-weight: normal;\n        text-shadow: none;\n    }\n/*  ======================\n        Sticky Header\n        ======================  */\n.activity-advanced-edit .sticky-header {\n        background: #fff;\n        z-index: 5;\n    }\n.activity-advanced-edit .sticky-header.stuck,\n    .main-nav-hover .activity-advanced-edit .sticky-header.stuck {\n        position: fixed;\n        z-index: 3;\n    }\n.loading-overlay.spinner-container {\n        content: '';\n        display: block;\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(255, 255, 255, 0.9);\n        z-index: 999;\n    }\n.spinner-container .absolute-center {\n        position: fixed;\n        z-index: 999;\n        height: 2em;\n        width: 2em;\n        overflow: show;\n        margin: auto;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n    }\n.activity-detail .spinner-container .h5.text-center {\n        width: 200px;\n        margin-left: -63px;\n    }\n#advanced-activity-tab-placeholder .tooltip-error {\n        z-index: 40 !important; /* sticky header issue */\n    }\n@media print {\n        .main-nav,\n        header.header,\n        .takeover-container,\n        .system-message {\n            display: none;\n        }\n\n        body,\n        html,\n        .main-body,\n        .main-body .content {\n            overflow: visible;\n        }\n    }\n/*  ======================\n        Responsiveness Upgrades\n        ======================  */\n.page.activity-detail #activityToolbarViewPlaceholder,\n    .page.activity-detail #activityIntroViewPlaceholder {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-justify-content: space-between;\n                justify-content: space-between;\n    }\n.page.activity-detail #gearStatusViewPlaceholder {\n        white-space: nowrap;\n    }\n@media (max-width: 1049px) {\n        .page.activity-detail #activityToolbarViewPlaceholder,\n        .page.activity-detail #activityIntroViewPlaceholder {\n            margin: 0 0 10px;\n        }\n\n        .page.activity-detail #activityToolbarViewPlaceholder {\n            -webkit-justify-content: flex-start;\n                    justify-content: flex-start;\n        }\n\n        .page.activity-detail .privacy-consent,\n        .page.activity-detail #gear-menu-list {\n            float: left;\n            left: 0;\n            min-width: 240px;\n        }\n\n        .page.activity-detail .privacy-consent {\n            min-width: 280px;\n        }\n\n        .page.activity-detail .privacy-state-current,\n        .page.activity-detail #gear-menu-list .icon-gear {\n            float: left;\n            left: 5px;\n        }\n    }\n@media (max-width: 767px) {\n        .page.activity-detail #activityToolbarViewPlaceholder,\n        .page.activity-detail #activityIntroViewPlaceholder {\n            margin: 0;\n        }\n    }\n@media (max-width: 415px) {\n        .page.activity-detail .trophy-container .inline-edit-trigger {\n            margin-top: 0;\n        }\n\n        .page.activity-detail .date-block .dropdown {\n            display: block;\n        }\n\n        .page.activity-detail .event-type,\n        .page.activity-detail .course-type {\n            margin-right: 0;\n        }\n\n        .page.activity-detail .dropdown-backdrop {\n            display: inline;\n        }\n\n        .page.activity-detail #device-info ul.dropdown-menu {\n            left: -50px;\n        }\n    }\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.28/src/styles/activity.page.css"],
            names: [],
            mappings: "AAII;QACI,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,iBAAgB;QAChB,mBAAkB;QAClB,gBAAe;QACf,2BAA0B;QAC1B,mBAAkB;QAClB,mBAAkB;QAClB,YAAW;QACX,oBAAmB;KACvB;AACA;QACI,yBAAwB;KAC5B;AACA;QACI,YAAW;KACf;AACA;QACI,mBAAkB;KACtB;AACA;QACI,iBAAgB;QAChB,aAAY;KAChB;AACA;QACI,iBAAgB;KACpB;AACA;;QAEI,8BAA6B;KACjC;AACA;QACI,sBAAqB;QACrB,iBAAgB;QAChB,oBAAmB;QACnB,wBAAuB;KAC3B;AACA;QACI,uBAAsB;QACtB,gBAAe;KACnB;AACA;QACI,kBAAiB;QACjB,mBAAkB;QAClB,WAAU;KACd;AACA;QACI,iBAAgB;QAChB,kBAAiB;QACjB,eAAc;QACd,6BAA4B;KAChC;AACA;QACI,gBAAe;QACf,+BAA8B;KAClC;AACA;QACI,eAAc;QACd,uBAAsB;KAC1B;AACA;QACI,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,kBAAiB;QACjB,iBAAgB;KACpB;AACA;QACI,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,iBAAgB;QAChB,iBAAgB;KACpB;AACA;QACI,mBAAkB;KACtB;AACA;QACI,mBAAkB;QAClB,mBAAkB;QAClB,kBAAiB;KACrB;AACA;QACI,YAAW;QACX,eAAc;QACd,4BAA2B;QAC3B,WAAU;QACV,aAAY;QACZ,aAAY;QACZ,SAAQ;QACR,mBAAkB;QAClB,WAAU;QACV,OAAM;KACV;AACA;QACI,mBAAkB;QAClB,oBAAmB;KACvB;AACA;QACI,iBAAgB;KACpB;AACA;;QAEI,mBAAkB;KACtB;AACA;QACI,WAAU;KACd;AACA;QACI,oBAAmB;KACvB;AACA;QACI,8BAA6B;QAC7B,gBAAe;QACf,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,sBAAqB;QACrB,aAAY;QACZ,YAAW;QACX,uBAAsB;QACtB,oBAAmB;QACnB,mBAAkB;QAClB,iBAAgB;KACpB;AAEA;QACI,sBAAqB;QACrB,kBAAiB;QACjB,oBAAmB;KACvB;AAEA;QACI,YAAW;QACX,aAAY;QACZ,mBAAkB;QAClB,kBAAiB;KACrB;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,aAAY;KAChB;AAEA;QACI,wBAAuB;KAC3B;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,+BAAsB;gBAAtB,uBAAsB;QACtB,gBAAe;KACnB;AAEA;QACI,iBAAgB;KACpB;AAEA;;QAII,8BAA6B;KACjC;AAEA;;iCAE4B;AAC5B;QACI,YAAW;QACX,aAAY;QACZ,aAAY;KAChB;AACA;QACI,aAAY;QACZ,aAAY;KAChB;AACA;QACI,YAAW;KACf;AAEA,2DAA0D;AAC1D;QACI;YACI,iBAAgB;YAChB,gBAAe;SACnB;KACJ;AAEA;;iCAE4B;AAC5B;QACI,oBAAmB;KACvB;AACA;QACI,sBAAqB;QACrB,YAAW;QACX,uBAAsB;QACtB,WAAU;QACV,oBAAmB;KACvB;AACA;QACI,eAAc;QACd,gBAAe;QACf,kBAAiB;KACrB;AAEA;QA3NJ;QA4NQ,mCAAkC;QAKlC,mCAAkC;QAKlC,mCAAkC;CA2wE1C;QApxEQ;;YAEI,WAAU;SACd;QAEA;;YAEI,WAAU;SACd;QAEA;;YAEI,WAAU;SACd;KACJ;AAEA;QA7OJ;QA8OQ,mCAAkC;CAmwE1C;QAlwEQ;;YAEI,gBAAe;YACf,kBAAiB;SACrB;KACJ;AAEA;;iCAE4B;AAC5B;;QAEI,YAAW;KACf;AACA;QACI,uBAAsB;KAC1B;AACA;QACI,oBAAmB;KACvB;AACA;;;QAGI,oBAAmB;KACvB;AACA;;;QAGI,oBAAmB;KACvB;AACA;;;QAGI,oBAAmB;KACvB;AACA;;;QAGI,oBAAmB;KACvB;AACA;;;QAGI,oBAAmB;KACvB;AAEA;;;QAGI,oBAAmB,CAAE,YAAW;KACpC;AACA;;;QAGI,oBAAmB,CAAE,YAAW;KACpC;AACA;;;QAGI,oBAAmB,CAAE,YAAW;KACpC;AACA;;;QAGI,oBAAmB,CAAE,YAAW;KACpC;AACA;;;QAGI,oBAAmB,CAAE,YAAW;KACpC;AACA;;;QAGI,oBAAmB,CAAE,YAAW;KACpC;AACA;;;QAGI,oBAAmB,CAAE,YAAW;KACpC;AACA;;QAEI,6BAA4B;QAC5B,8BAA6B;QAC7B,aAAY;KAChB;AACA;;QAEI,mBAAkB;KACtB;AACA;QACI,YAAW;KACf;AACA;QACI,qCAAoC;QACpC,gBAAe;QACf,aAAY;KAChB;AACA;QACI,YAAW;KACf;AACA;QACI,qCAAoC;QACpC,kBAAiB;QACjB,aAAY;QACZ,gBAAe;KACnB;AACA;QACI,mBAAkB;KACtB;AACA;QACI,mBAAkB;QAClB,SAAQ;QACR,YAAW;QACX,kBAAiB;KACrB;AACA;QACI,iBAAgB;QAChB,eAAc;QACd,mBAAkB;QAClB,WAAU;QACV,mBAAkB;KACtB;AACA;QACI,oBAAmB;KACvB;AAEA;;kCAE6B;AAC7B;QACI,gBAAe;KACnB;AACA;QACI,eAAc;QACd,sBAAqB;KACzB;AACA;QACI,eAAc;QACd,kBAAiB;QACjB,kBAAiB;QACjB,uBAAsB;KAC1B;AACA;QACI,YAAW;QACX,kBAAiB;KACrB;AACA;QACI,mBAAkB;KACtB;AACA;;;QAGI,sBAAqB;KACzB;AACA;;QAEI,kBAAiB;KACrB;AACA;QACI,gBAAe;QACf,oBAAmB;KACvB;AACA;QACI,gBAAe;QACf,iBAAgB;KACpB;AACA;QACI,mBAAkB;QAClB,8CAA8B;QAC9B,mCAAgB;QAChB,4BAA2B;QAC3B,2BAA0B;KAC9B;AAEA;QACI,2BAA0B;QAC1B,2BAA0B;KAC9B;AAEA;QACI,mBAAkB;QAClB,4BAA2B;QAC3B,2BAA0B;KAC9B;AAEA;QACI,wBAAuB;QACvB,aAAY;QACZ,iBAAgB;QAChB,uBAAsB;QACtB,kBAAiB;KACrB;AAEA;;;QAGI,mBAAkB;QAClB,uBAAsB;QACtB,wBAAuB;QACvB,aAAY;QACZ,iBAAgB;KACpB;AAEA;QACI,0BAAyB;QACzB,YAAW;KACf;AAEA;QACI,UAAS;QACT,WAAU;QACV,iBAAgB;QAChB,oBAAmB;QACnB,kBAAiB;QACjB,mBAAkB;QAClB,oBAAmB;QACnB,kBAAiB;KACrB;AAEA;QACI,iBAAgB;QAChB,mBAAkB;KACtB;AAEA;QACI,oBAAmB;KACvB;AAEA;QACI,cAAa;KACjB;AAEA;QACI,eAAc;QACd,SAAQ;KACZ;AAEA;;QAEI,0BAAyB;QACzB,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,sBAAqB;QACrB,uBAAsB;QACtB,kBAAiB;QACjB,iBAAgB;KACpB;AACA;QACI,cAAa;KACjB;AACA;QACI,aAAY;QACZ,YAAW;QACX,iBAAgB;KACpB;AAEA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AAEA;;QAEI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;;QAEI,0BAAyB;KAC7B;AACA;;QAEI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;;QAEI,0BAAyB;KAC7B;AACA;;QAEI,mBAAkB;QAClB,UAAS;QACT,oCAAmC;QAEnC,4BAA2B;KAC/B;AAEA;;kCAE6B;AAC7B;;QAEI,sBAAqB;KACzB;AAEA;QACI,iBAAgB;QAChB,sBAAqB;KACzB;AACA;;QAEI,iBAAgB;QAChB,gBAAe;QACf,sBAAqB;QACrB,iBAAgB;KACpB;AACA;QACI,aAAY;QACZ,aAAY;QACZ,kBAAiB;QACjB,YAAW;QACX,mBAAkB;QAClB,0BAAyB;QACzB,mBAAkB;QAClB,mBAAkB;QAClB,uBAAsB;QACtB,iBAAgB;KACpB;AACA;QACI,6BAA4B;KAChC;AACA;QACI,6BAA4B;QAC5B,kBAAiB;KACrB;AACA;QACI,mBAAkB;KACtB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;;QAEI,aAAY;QACZ,kBAAiB;QACjB,eAAc;QACd,0BAAyB;QACzB,gCAA+B;QAC/B,iBAAgB;QAChB,wBAAuB;QACvB,oBAAmB;QACnB,eAAc;KAClB;AACA;QACI,iBAAgB;QAChB,sBAAqB;QACrB,uBAAsB;QACtB,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,gBAAe;QACf,mBAAkB;QAClB,YAAW;QACX,YAAW;QACX,iBAAgB;QAChB,kBAAiB;KACrB;AACA;QACI,iBAAgB;QAChB,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,mBAAkB;KACtB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,cAAa;KACjB;AACA;QACI,YAAW;QACX,gBAAe;KACnB;AACA;;QAEI,iBAAgB;KACpB;AACA;QACI,YAAW;QACX,mBAAkB;QAClB,kBAAiB;QACjB,iBAAgB;QAChB,oBAAmB;QACnB,iBAAgB;QAChB,YAAW;QACX,mBAAkB;QAClB,uBAAsB;KAC1B;AACA;QACI,aAAY;QACZ,kBAAiB;QACjB,eAAc;QACd,0BAAyB;QACzB,YAAW;QACX,iBAAgB;QAChB,wBAAuB;QACvB,oBAAmB;QACnB,eAAc;QACd,iBAAgB;KACpB;AACA;QACI,gBAAe;QACf,iBAAgB;KACpB;AAEA;;kCAE6B;AAC7B;QACI,8BAA6B;QAC7B,YAAW;KACf;AACA;QACI,cAAa;KACjB;AAEA;QACI;YACI,sBAAa;YAAb,cAAa;YACb,+BAAsB;oBAAtB,uBAAsB;SAC1B;;QAEA;YACI,mBAAkB;SACtB;KACJ;AAEA;;kCAE6B;AAC7B;QACI,YAAW;QACX,oBAAmB;KACvB;AACA;QACI,kBAAiB;QACjB,oBAAmB;KACvB;AACA;QACI,iBAAgB;QAChB,kBAAiB;QACjB,kBAAiB;KACrB;AAEA;;kCAE6B;AAC7B;QACI,YAAW;QACX,YAAW;QACX,gBAAe;QACf,oBAAmB;QACnB,mBAAkB;QAClB,oBAAmB;KACvB;AAEA;;kCAE6B;AAC7B;;QAGI,0DAAyD;QACzD,qCAAoC;QACpC,6BAA4B;KAChC;AACA;QACI,YAAW;QACX,WAAU;QACV,gBAAe;QACf,mBAAkB;KACtB;AACA;QACI,gBAAe;QACf,YAAW;QACX,eAAc;QACd,iBAAgB;KACpB;AACA;QACI,sBAAqB;QACrB,uBAAsB;QACtB,mBAAkB;QAClB,cAAa;KACjB;AACA;QACI,SAAQ;QACR,WAAU;KACd;AACA;QACI,YAAW;QACX,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,cAAa;KACjB;AACA;QACI,gBAAe;QACf,iBAAgB;QAChB,kBAAiB;KACrB;AACA;QACI,gBAAe;QACf,iBAAgB;QAChB,kBAAiB;KACrB;AACA;QACI,kBAAiB;KACrB;AACA;QACI,aAAY;QACZ,YAAW;KACf;AACA;QACI,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,mBAAkB;QAClB,gBAAe;QACf,uBAAsB;QACtB,mBAAkB;QAClB,gBAAe;KACnB;AACA;QACI,YAAW;QACX,eAAc;QACd,SAAQ;QACR,aAAY;QACZ,sBAAqB;QACrB,oBAAmB;QACnB,uDAAsD;QACtD,mBAAkB;QAClB,UAAS;QACT,UAAS;KACb;AACA;;;;MAIC;AACD;QACI,mCAAkC;QAElC,2BAA0B;KAC9B;AACA;QACI,iCAAgC;QAEhC,yBAAwB;KAC5B;AACA;QACI,mCAAkC;QAElC,2BAA0B;KAC9B;AACA;QACI,iCAAgC;QAEhC,yBAAwB;KAC5B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,cAAa;KACjB;AAEA;QACI,aAAY;QACZ,oBAAmB;QACnB,oBAAmB;KACvB;AACA;QACI,UAAS;QACT,WAAU;QACV,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,gBAAe;QACf,iBAAgB;KACpB;AACA;QACI,gBAAe;QACf,iBAAgB;KACpB;AACA;QACI,YAAW;QACX,aAAY;KAChB;AACA;QACI,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,iBAAgB;QAChB,kBAAiB;KACrB;AACA;QACI,uBAAsB;QACtB,aAAY;QACZ,WAAU;QACV,UAAS;KACb;AACA;QACI,sBAAqB;QACrB,sBAAqB;KACzB;AACA;QACI,UAAS;QACT,WAAU;QACV,iBAAgB;QAChB,gBAAe;KACnB;AACA;QACI,UAAS;QACT,WAAU;QACV,iBAAgB;KACpB;AACA;QACI,eAAc;QACd,YAAW;KACf;AAEA;QACI;YACI,iBAAgB;SACpB;;QAEA;YACI,gBAAe;SACnB;;QAEA;YACI,gBAAe;YACf,iBAAgB;SACpB;;QAEA;YACI,YAAW;YACX,aAAY;SAChB;;QAEA;YACI,gBAAe;YACf,YAAW;YACX,aAAY;YACZ,kBAAiB;SACrB;;QAEA;YACI,aAAY;YACZ,UAAS;YACT,UAAS;SACb;;QAEA;YACI,sBAAqB;SACzB;KACJ;AAEA;;kCAE6B;AAC7B;QACI,iBAAgB;KACpB;AACA;;QAEI,oBAAmB;QACnB,mBAAkB;QAClB,kBAAiB;KACrB;AACA;;;QAGI,mBAAkB;KACtB;AACA;QACI,oBAAmB;KACvB;AACA;;QAEI,kBAAiB;QACjB,oBAAmB;KACvB;AACA;;;QAGI,mBAAkB;KACtB;AACA;;QAEI,kBAAiB;KACrB;AACA;QACI,eAAc;QACd,kBAAiB;KACrB;AACA;;kCAE6B;AAC7B;;QAEI,oBAAmB;QACnB,mBAAkB;QAClB,oBAAmB;QACnB,mBAAkB;KACtB;AAEA,iBAAgB;AAChB;QACI,oBAAmB;QACnB,WAAU;QACV,gBAAe;KACnB;AACA;QACI,kBAAiB;KACrB;AACA;QACI,kBAAiB;KACrB;AAEA,kCAAiC;AAEjC;QACI,sBAAa;QAAb,cAAa;QACb,+BAAsB;gBAAtB,uBAAsB;KAC1B;AAEA;QACI,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,gBAAe;QACf,kBAAiB;KACrB;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,+BAAsB;gBAAtB,uBAAsB;KAC1B;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,kCAAyB;gBAAzB,0BAAyB;KAC7B;AAEA,oBAAmB;AACnB;QACI,oBAAmB;KACvB;AACA;QACI,iBAAgB;KACpB;AACA;QACI,YAAW;KACf;AACA;QACI,uBAAsB;QACtB,YAAW;KACf;AACA;QACI,YAAW;KACf;AACA;QACI,YAAW;KACf;AACA;;QAEI,YAAW;KACf;AACA;QACI,uBAAsB;KAC1B;AACA;QACI,uBAAsB;QACtB,gBAAe;QACf,eAAc;QACd,gBAAe;KACnB;AACA;QACI,YAAW;KACf;AAEA;QACI;YACI,gHAA+G;YAC/G,eAAc;YACd,iBAAgB;YAChB,gBAAe;SACnB;KACJ;AAEA,qBAAoB;AACpB;QACI,mBAAkB;KACtB;AACA;QACI,WAAU;KACd;AACA;QACI,iBAAgB;KACpB;AACA,sBAAqB;AACrB;QACI,oBAAmB;KACvB;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,0BAAyB;KAC7B;AAEA;;kCAE6B;AAC7B;QACI,gBAAe;QACf,iBAAgB;QAChB,gBAAe;KACnB;AACA;QACI,sBAAqB;QACrB,8BAA6B;QAC7B,kBAAiB;QACjB,iBAAgB;QAChB,wBAAuB;QACvB,oBAAmB;KACvB;AACA;QACI,YAAW;KACf;AACA;QACI,sBAAa;QAAb,cAAa;QACb,aAAY;QACZ,uCAA8B;gBAA9B,+BAA8B;KAClC;AAEA;;kCAE6B;AAC7B;QACI,mBAAkB;KACtB;AACA;QACI,qBAAoB;KACxB;AACA;QACI,eAAc;QACd,eAAc;QACd,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,kBAAiB;KACrB;AACA;QACI,gBAAe;KACnB;AACA;QACI,gBAAe;QACf,eAAc;QACd,aAAY;KAChB;AACA;QACI,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,mBAAkB;KACtB;AACA;QACI,iBAAgB;KACpB;AAEA;;kCAE6B;AAC7B;QACI,YAAW;QACX,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,iBAAgB;QAChB,uBAAsB;KAC1B;AAEA;;kCAE6B;AAC7B;QACI;YACI,YAAW;YACX,eAAc;SAClB;KACJ;AAEA;;kCAE6B;AAC7B;QACI,sBAAqB;QACrB,kBAAiB;KACrB;AACA;QACI,kBAAiB;KACrB;AACA;QACI,iBAAgB;KACpB;AACA;QACI,iBAAgB;KACpB;AAEA;;kCAE6B;AAC7B;QACI,gBAAe;KACnB;AACA;QACI,eAAc;QACd,cAAa;KACjB;AACA;QACI,aAAY;QACZ,cAAa;QACb,yBAAwB;QACxB,6BAA4B;KAChC;AACA;QACI,sIAAqI;KACzI;AACA;QACI,uIAAsI;KAC1I;AAEA;;kCAE6B;AAC7B;QACI,YAAW;QACX,qBAAoB;QACpB,oBAAmB;QACnB,8BAA6B;KACjC;AACA;QACI,aAAY;QACZ,cAAa;QACb,eAAc;KAClB;AACA;QACI,aAAY;KAChB;AACA;QACI,YAAW;KACf;AACA;QACI,aAAY;KAChB;AACA;QACI,+BAA8B;QAC9B,mBAAkB;QAClB,kBAAiB;KACrB;AACA;QACI,gBAAe;QACf,WAAU;KACd;AACA;QACI,sBAAqB;QACrB,sBAAqB;QACrB,aAAY;QACZ,cAAa;QACb,mBAAkB;QAClB,yBAAwB;QACxB,6BAA4B;QAC5B,sHAAqH;KACzH;AACA;QACI;YACI,eAAc;YACd,iBAAgB;SACpB;QACA;YACI,YAAW;YACX,sBAAqB;SACzB;KACJ;AACA;QACI;YACI,YAAW;SACf;QACA;YACI,aAAY;SAChB;QACA;YACI,mBAAkB;YAClB,mBAAkB;SACtB;QACA;YACI,aAAY,CAAE,2BAA0B;YACxC,cAAa;SACjB;KACJ;AACA;QACI;YACI,gBAAe;SACnB;QACA;YACI,cAAa;SACjB;QACA;;YAEI,YAAW;YACX,aAAY;YACZ,yBAAwB;SAC5B;QACA;YACI,mBAAkB;YAClB,kBAAiB;SACrB;QACA;YACI,aAAY,CAAE,sCAAqC;YACnD,cAAa;SACjB;KACJ;AAEA;;kCAE6B;AAC7B;QACI,mBAAkB;QAClB,oBAAmB;QACnB,iBAAgB;QAChB,4BAA2B;KAC/B;AACA;;QAEI,yBAAwB;QACxB,eAAc;QACd,uBAAsB;QACtB,eAAc;QACd,aAAY;QACZ,cAAa;QACb,4BAA2B;QAC3B,6BAA4B;QAC5B,kBAAiB;QACjB,mBAAkB;KACtB;AACA;QACI,iHAAgH;KACpH;AACA;QACI,mHAAkH;KACtH;AAEA;;kCAE6B;AAC7B;QACI;;YAEI,YAAW,CAAE,gCAA+B;YAC5C,eAAc;SAClB;KACJ;AACA;QACI;YACI,eAAc;SAClB;KACJ;AACA;QACI;YACI,iBAAgB;SACpB;KACJ;AAEA;;kCAE6B;AAC7B;QACI,aAAY;QACZ,wBAAuB;QACvB,iBAAgB;QAChB,sBAAqB;QACrB,uBAAsB;QACtB,oBAAmB;QACnB,iBAAgB;KACpB;AAEA,mBAAkB;AAClB;QACI,wBAAuB;KAC3B;AAEA,sBAAqB;AACrB;QACI,kBAAiB;KACrB;AACA;QACI,gBAAe;QACf,eAAc;QACd,eAAc;QACd,oBAAmB;KACvB;AACA;QACI,iBAAgB;QAChB,oBAAmB;KACvB;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI,mBAAkB;QAClB,YAAW;QACX,gBAAe;QACf,kBAAiB;KACrB;AAEA;QACI,kBAAiB;KACrB;AAEA;QACI,aAAY;QACZ,YAAW;QACX,mBAAkB;QAClB,OAAM;KACV;AAEA;QACI;YACI,sBAAqB;YACrB,UAAS;YACT,sBAAqB;YACrB,YAAW;SACf;QACA;YACI,2BAA0B;SAC9B;KACJ;AACA,yBAAwB;AACxB;QAr9CJ;;QA+/CQ,YAAW;;QAKX,qBAAoB;;QAKpB,oBAAmB;;QASnB,WAAU;;QAiCV,wBAAuB;;QAWvB,UAAS;;QAeT,YAAW;CAo6BnB;QA3hCQ;YACI,6BAA4B;SAChC;QACA;YACI,aAAY;SAChB;QACA;YACI,YAAW;YACX,aAAY;YACZ,kBAAiB;YACjB,cAAa;YACb,kBAAiB;YACjB,gBAAe;YACf,2BAA0B;SAC9B;QACA;YACI,YAAW;SACf;QACA;YACI,sBAAqB;SACzB;QACA;YACI,yDAAwD;YACxD,mBAAkB;SACtB;QACA;YACI,YAAW;YACX,sBAAqB;SACzB;QACA;YACI,cAAa;SACjB;QACA;YACI,gBAAe;YACf,uBAAsB;YACtB,kBAAiB;SACrB;QACA;YACI,YAAW;SACf;QAGA;YACI,kBAAiB;SACrB;QAGA;YACI,yBAAwB;SAC5B;QAGA;YACI,sBAAqB;SACzB;QACA;YACI,YAAW;YACX,UAAS;SACb;QAGA;YACI,YAAW;YACX,aAAY;SAChB;QACA;;YAEI,aAAY;YACZ,YAAW;SACf;QACA;YACI,gBAAe;SACnB;QACA;;YAEI,iBAAgB;SACpB;QACA;;;YAGI,gBAAe;SACnB;QACA;YACI,WAAU;YACV,SAAQ;SACZ;QACA;YACI,gBAAe;SACnB;QACA;YACI,gBAAe;SACnB;QAGA;;YAEI,gBAAe;SACnB;QACA;YACI,gBAAe;YACf,aAAY;YACZ,YAAW;SACf;QAGA;;;YAGI,gBAAe;SACnB;QACA;YACI,kBAAiB;SACrB;QACA;;;YAGI,oBAAmB;SACvB;QAGA;YACI,cAAa;SACjB;QACA;YACI,sBAAqB;YACrB,YAAW;SACf;QACA;YACI,iBAAgB;SACpB;KACJ;AAEA,2BAA0B;AAC1B;QACI,uBAAsB;KAC1B;AACA;QACI,oBAAmB;KACvB;AAEA;QACI,WAAU;KACd;AAEA;QACI,WAAU;KACd;AAEA;QACI,8BAA6B;KACjC;AACA;;;;;;;;;;;;;OAaE;AACF;QACI,iBAAgB;KACpB;AACA;QACI,YAAW;KACf;AAEA;;;;QAII,YAAW;QACX,YAAW;KACf;AACA;;;;;;;;QAQI,mBAAkB;KACtB;AACA;;QAEI,mBAAkB;KACtB;AACA;QACI,uBAAsB;QACtB,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,gBAAe;QACf,YAAW;QACX,eAAc;KAClB;AAEA;QACI,gBAAe;QACf;uBACc;QACd,kBAAiB;KACrB;AACA;QACI,cAAa;KACjB;AAEA;gDAC2C;AAC3C;QACI,aAAY;KAChB;AACA;QACI,YAAW;QACX,YAAW;KACf;AACA;QACI,aAAY;QACZ,aAAY;KAChB;AACA,sDAAqD;AACrD;QACI,8CAA6C;QAC7C,+CAA8C;QAC9C,gDAA+C;KACnD;AACA;QACI,2CAA0C;KAC9C;AACA,8CAA6C;AAC7C;QACI,sDAAqD;QACrD,wBAAuB;QACvB,oBAAmB;KACvB;AACA,6CAA4C;AAC5C;QACI,eAAc;QACd,sBAAqB;KACzB;AACA;;kCAE6B;AAC7B;;QAEI,mBAAkB;QAClB,mBAAkB;QAClB,YAAW;QACX,oBAAmB;QACnB,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,gBAAe;QACf,2BAA0B;QAC1B,eAAc;QACd,yBAAwB;KAC5B;AACA;QACI,iBAAgB;KACpB;AACA;;QAEI,mBAAkB;QAClB,4BAA2B;KAC/B;AACA;;QAEI,2BAA0B;KAC9B;AACA;;QAEI,wBAAuB;KAC3B;AACA;QACI,iBAAgB;KACpB;AACA;;QAEI,oBAAmB;KACvB;AACA;QACI,iBAAgB;KACpB;AACA;QACI,oBAAmB;QACnB,YAAW;KACf;AACA;QACI,WAAU;KACd;AACA;QACI,WAAU;KACd;AACA;QACI,aAAY;KAChB;AACA;;QAEI,kBAAiB;KACrB;AAEA;;8BAEyB;AACzB;;QAEI,iBAAgB;QAChB,gBAAe;QACf,kBAAiB;KACrB;AAEA;;8BAEyB;AACzB;QACI,kBAAiB;QACjB,iBAAgB;QAChB,iBAAgB;QAChB,0BAAyB;QACzB,mBAAkB;QAClB,cAAa;KACjB;AACA;QACI,0BAAyB;QACzB,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,mBAAkB;QAClB,iBAAgB;QAChB,iBAAgB;KACpB;AAEA;QACI,aAAY;QACZ,mBAAkB;QAClB,kBAAiB;QACjB,gBAAe;QACf,YAAW;KACf;AAEA;;gCAE2B;AAE3B;QACI;YACI,0BAAyB;SAC7B;QACA;YACI,YAAW;SACf;KACJ;AAEA;QA9zDJ;QA+zDQ,qDAAoD;;QAapD,4EAA2E;;QAW3E,qCAAoC;;QAQpC,4DAA2D;;QAwC3D,mBAAkB;CA0mB1B;QAjrBQ;;;;;;YAMI,eAAc;SAClB;QACA;YACI,iBAAgB;SACpB;QAGA;YACI,mBAAkB;YAClB,aAAY;YACZ,cAAa;SACjB;;QAEA;YACI,8BAA6B;SACjC;QAGA;YACI,aAAY;YACZ,8BAA6B;YAC7B,mBAAkB;YAClB,kBAAiB;SACrB;QAGA;YACI,mBAAkB;YAClB,kBAAiB;YACjB,mCAAkC;YAClC,SAAQ;YACR,UAAS;YACT,WAAU;YACV,oBAAmB;YACnB,oBAAmB;SACvB;QACA;YACI,0CAAyC;YACzC,iBAAgB;YAChB,wBAAuB;YACvB,oBAAmB;SACvB;QACA;;YAEI,YAAW;YACX,aAAY;SAChB;;QAEA;;;;;;;;;;;;;;YAcI,iBAAgB;SACpB;QAGA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;KACJ;AAEA;QACI,eAAc;KAClB;AACA;QACI,sBAAqB;KACzB;AACA;QACI,eAAc;QACd,iBAAgB;QAChB,kBAAiB;KACrB;AACA;QACI,kCAAiC;KACrC;AACA;QACI,YAAW;KACf;AACA;QACI,YAAW;KACf;AACA;QACI,aAAY;KAChB;AACA;QACI,YAAW;QACX,iBAAgB;QAChB,YAAW;QACX,eAAc;QACd,sBAAqB;QACrB,eAAc;QACd,mBAAkB;QAClB,gBAAe;KACnB;AAEA;QAj8DJ;;QAu+DQ;;;;;;;;;;;;UAYC;CA8fT;QA/iBQ;;YAEI,cAAa;SACjB;QACA;YACI,mBAAkB;YAClB,UAAS;YACT,WAAU;SACd;QACA;YACI,YAAW;SACf;QACA;;YAEI,YAAW;YACX,aAAY;YACZ,kBAAiB;YACjB,gBAAe;YACf,mBAAkB;SACtB;QACA;;YAEI,gBAAe;YACf,kBAAiB;SACrB;QACA;YACI,mBAAkB;SACtB;QACA;;;;;;YAMI,eAAc;SAClB;KAeJ;AAEA,4BAA2B;AAE3B;QACI,cAAa;QACb,gBAAe;QACf,WAAU;KACd;AAEA;QACI,aAAY;KAChB;AACA;QACI,aAAY;QACZ,UAAS;QACT,WAAU;KACd;AAEA;QACI,iBAAgB;QAChB,cAAa;QACb,iBAAgB;KACpB;AAEA;QACI,oBAAmB;KACvB;AACA;QACI,8BAA6B;QAC7B,gBAAe;QACf,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AAEA;QACI,yBAAwB;QACxB,WAAU;QACV,kBAAiB;KACrB;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI,qBAAoB;KACxB;AAEA;QACI,gBAAe;QACf,cAAa,CAAE,2BAA0B;QACzC,QAAO;QACP,OAAM;KACV;AAEA,6EAA4E;AAC5E;QACI,2BAA0B;QAC1B,wBAAuB;QACvB,uBAAsB;KAC1B;AAEA,0BAAyB;AAEzB;QACI,cAAa;KACjB;AAEA;;yBAEoB;AAEpB;QACI,mBAAkB;QAClB,cAAa;QACb,iBAAgB;KACpB;AAEA;QACI,YAAW;QACX,aAAY;KAChB;AAEA;QACI,mBAAkB;QAClB,WAAU;QACV,aAAY;QACZ,aAAY;QACZ,mBAAkB;KACtB;AAEA;QACI,eAAc;KAClB;AAEA;QACI,eAAc;KAClB;AAEA;QACI,eAAc;KAClB;AAEA;QACI,SAAQ;KACZ;AAEA;QACI,kBAAiB;QACjB,mBAAkB;QAClB,QAAO;QACP,SAAQ;KACZ;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,UAAS;KACb;AAEA;QACI,UAAS;KACb;AAEA;QACI,WAAU;KACd;AAEA;QACI,UAAS;KACb;AAEA;QACI,WAAU;KACd;AAEA;QACI,UAAS;KACb;AAEA;QACI,WAAU;KACd;AAEA;QACI,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,gBAAe;QACf,mBAAkB;QAClB,mBAAkB;QAClB,eAAc;QACd,oBAAmB;QACnB,mBAAkB;QAClB,eAAc;QACd,iBAAgB;KACpB;AAEA;QACI,YAAW;QACX,aAAY;KAChB;AAEA,+DAA8D;AAC9D;;;QAGI,cAAa;KACjB;AAEA;QACI;YACI,cAAa;YACb,iBAAgB;SACpB;;QAEA;YACI,gBAAe;SACnB;;QAEA;YACI,eAAc;YACd,iBAAgB;SACpB;;QAEA;YACI,gBAAe;SACnB;;QAEA;YACI,SAAQ;SACZ;;QAEA;YACI,UAAS;SACb;;QAEA;YACI,WAAU;SACd;;QAEA;YACI,UAAS;SACb;;QAEA;YACI,WAAU;SACd;;QAEA;YACI,UAAS;SACb;;QAEA;YACI,aAAY;YACZ,aAAY;SAChB;;QAEA;YACI,WAAU;SACd;KACJ;AAEA;QACI,gBAAe;QACf,gBAAe;KACnB;AAEA;;QAEI,iBAAgB;KACpB;AAEA;QACI,oBAAmB;KACvB;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,UAAS;KACb;AAEA;QACI,sBAAa;QAAb,cAAa;KACjB;AAEA;QACI,mBAAkB;QAClB,YAAW;QACX,WAAU;QACV,gBAAe;QACf,kBAAiB;KACrB;AAEA;QACI,0BAAyB;QACzB,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,sBAAqB;QACrB,uBAAsB;QACtB,kBAAiB;QACjB,iBAAgB;KACpB;AAEA;;yBAEoB;AAEpB;QACI,oBAAmB;KACvB;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,4BAAmB;gBAAnB,oBAAmB;QACnB,wBAAe;gBAAf,gBAAe;QACf,oCAA2B;gBAA3B,4BAA2B;QAC3B,mBAAkB;KACtB;AAEA;QACI,mBAAkB;KACtB;AAEA;QACI,WAAU;KACd;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,4BAAmB;gBAAnB,oBAAmB;QACnB,wBAAe;gBAAf,gBAAe;QACf,YAAW;KACf;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,+BAAsB;gBAAtB,uBAAsB;QACtB,yBAAgB;gBAAhB,iBAAgB;QAChB,kBAAO;gBAAP,UAAO;QACP,wBAAuB;KAC3B;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI,oBAAmB;KACvB;AAEA;QACI,aAAY;KAChB;AAEA;QACI,iBAAgB;QAChB,kBAAiB;QACjB,kBAAiB;KACrB;AAEA;;kCAE6B;AAE7B;QACI,0BAAyB;QACzB,oBAAmB;QACnB,kBAAiB;KACrB;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,WAAU;QACV,uCAA8B;gBAA9B,+BAA8B;KAClC;AAEA;QACI,gBAAe;QACf,oBAAmB;QACnB,0BAAyB;QACzB,kBAAiB;KACrB;AAEA;QACI,iBAAgB;QAChB,mBAAkB;QAClB,aAAY;QACZ,gBAAe;QACf,iBAAgB;QAChB,mBAAkB;QAClB,6BAA4B;QAC5B,eAAc;KAClB;AAEA;QACI,qCAAoC;QACpC,oBAAmB;QACnB,oBAAmB;QACnB,kBAAiB;KACrB;AAEA;;kCAE6B;AAC7B;QACI,iBAAgB;QAChB,WAAU;KACd;AAEA;;QAEI,gBAAe;QACf,WAAU;KACd;AAEA;QACI,YAAW;QACX,eAAc;QACd,gBAAe;QACf,OAAM;QACN,QAAO;QACP,YAAW;QACX,aAAY;QACZ,qCAAoC;QACpC,aAAY;KAChB;AAEA;QACI,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,WAAU;QACV,eAAc;QACd,aAAY;QACZ,OAAM;QACN,QAAO;QACP,UAAS;QACT,SAAQ;KACZ;AAEA;QACI,aAAY;QACZ,mBAAkB;KACtB;AAEA;QACI,uBAAsB,CAAE,yBAAwB;KACpD;AAEA;QACI;;;;YAII,cAAa;SACjB;;QAEA;;;;YAII,kBAAiB;SACrB;KACJ;AAEA;;kCAE6B;AAC7B;;QAEI,sBAAa;QAAb,cAAa;QACb,uCAA8B;gBAA9B,+BAA8B;KAClC;AAEA;QACI,oBAAmB;KACvB;AAEA;QACI;;YAEI,iBAAgB;SACpB;;QAEA;YACI,oCAA2B;oBAA3B,4BAA2B;SAC/B;;QAEA;;YAEI,YAAW;YACX,QAAO;YACP,iBAAgB;SACpB;;QAEA;YACI,iBAAgB;SACpB;;QAEA;;YAEI,YAAW;YACX,UAAS;SACb;KACJ;AAEA;QACI;;YAEI,UAAS;SACb;KACJ;AAEA;QACI;YACI,cAAa;SACjB;;QAEA;YACI,eAAc;SAClB;;QAEA;;YAEI,gBAAe;SACnB;;QAEA;YACI,gBAAe;SACnB;;QAEA;YACI,YAAW;SACf;KACJ",
            file: "activity.page.css",
            sourcesContent: ["@value ( blue_primary, textLight ) from 'ui-connect/styles/colors.module.css';\n@value ( endXS, endSM ) from 'ui-connect/styles/variables.module.css';\n\n:global {\n    .page.activity-detail .activity-type-icon {\n        width: 60px;\n        height: 60px;\n        line-height: 60px;\n        margin-top: -4px;\n        margin-right: 11px;\n        font-size: 35px;\n        box-shadow: 0 0 0 2px #ccc;\n        text-align: center;\n        border-radius: 50%;\n        color: #888;\n        background: #fafafa;\n    }\n    .page.activity-detail .page-header-content {\n        width: calc(100% - 50px);\n    }\n    .page.activity-edit .page-header-content {\n        width: auto;\n    }\n    .page.activity-detail .page-feature {\n        position: relative;\n    }\n    .page.activity-edit .page-feature {\n        min-height: 22px;\n        height: auto;\n    }\n    .page.activity-detail .page-header-content .page-title .data-bit {\n        margin-top: -4px;\n    }\n    .page.activity-detail .page-header-content .page-title .inline-edit-editable,\n    .page.activity-detail .page-header-content .page-title .page-title-overflow {\n        max-width: calc(100% - 110px);\n    }\n    .page.activity-detail .page-header-content .page-title .page-title-overflow {\n        display: inline-block;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    }\n    .page.activity-detail .page-header-content .page-title .inline-edit-editable-text.page-title-overflow {\n        text-overflow: inherit;\n        max-width: 100%;\n    }\n    .page.activity-detail .page-header-content .date-block {\n        margin-top: -36px;\n        position: relative;\n        z-index: 1;\n    }\n    .page.activity-detail .activity-detail-title input {\n        margin-top: -4px;\n        line-height: 15px;\n        padding: 0 4px;\n        box-shadow: inset 0 2px #eee;\n    }\n    .page.activity-detail .activity-title-time {\n        cursor: pointer;\n        border-bottom: 1px dotted #999;\n    }\n    .page.activity-detail .icon-personal-records {\n        color: #ff9e0d;\n        vertical-align: middle;\n    }\n    .page.activity-detail .page-title .icon-personal-records {\n        font-size: 18px;\n        height: 18px;\n        width: 18px;\n        line-height: 18px;\n        margin-top: -18px;\n        margin-left: 8px;\n    }\n    .page.activity-detail .multisport-nav .icon-personal-records {\n        font-size: 16px;\n        height: 16px;\n        width: 16px;\n        line-height: 16px;\n        margin-top: -5px;\n        margin-left: 3px;\n    }\n    .page.activity-detail .overflow-nav-container.overflow .multisport-nav {\n        padding-left: 30px;\n    }\n    .page.activity-detail .multisport-nav > li:first-child {\n        position: relative;\n        margin-right: 20px;\n        margin-left: 10px;\n    }\n    .page.activity-detail .multisport-nav > li:first-child:after {\n        content: '';\n        display: block;\n        border-left: 1px solid #eee;\n        padding: 0;\n        margin: 10px;\n        height: 75px;\n        width: 0;\n        position: absolute;\n        left: 100%;\n        top: 0;\n    }\n    .page.activity-detail .multisport-nav > li:first-child a {\n        padding-left: 20px;\n        padding-right: 20px;\n    }\n    .page.activity-detail .multisport-nav > li:first-child .time {\n        font-weight: 600;\n    }\n    .page.activity-detail .event-type,\n    .page.activity-detail .course-type {\n        margin-right: 10px;\n    }\n    .page.activity-detail .event-type .dropdown-menu {\n        z-index: 2;\n    }\n    .page.activity-detail .stats .data-block {\n        margin-bottom: 11px;\n    }\n    .page.activity-detail .stats h3 {\n        border-bottom: 1px solid #ddd;\n        font-size: 14px;\n        margin-bottom: 11px;\n    }\n    .page.activity-detail .stats .stat-block {\n        margin-bottom: 33px;\n    }\n    .modal .rd-color {\n        display: inline-block;\n        height: 20px;\n        width: 20px;\n        vertical-align: middle;\n        border-radius: 20px;\n        margin-right: 10px;\n        margin-top: -2px;\n    }\n\n    .page.activity-detail .mtbStat .data-block {\n        display: inline-block;\n        margin-left: 20px;\n        margin-bottom: 20px;\n    }\n\n    .page.activity-detail .mtbStat .trophy-container {\n        width: 20px;\n        height: 20px;\n        position: absolute;\n        margin-left: 30px;\n    }\n\n    .page.activity-detail .has-tooltip.jump-icon {\n        margin-top: 7px;\n    }\n\n    .page.activity-detail .mtbStat .trophy-container > .icon-personal-records {\n        color: black;\n    }\n\n    .page.activity-detail .leaflet-popup.jump-map-tooltip {\n        opacity: 0.9 !important;\n    }\n\n    .jump-tooltip-container {\n        display: flex;\n        flex-direction: column;\n        font-size: 12px;\n    }\n\n    .jump-tooltip-container .tooltip-row {\n        text-align: left;\n    }\n\n    .page.activity-detail .leaflet-popup-content-wrapper,\n    .leaflet-popup-content {\n        -webkit-border-radius: 3px !important;\n        -moz-border-radius: 3px !important;\n        border-radius: 3px !important;\n    }\n\n    /*  ======================\n        More about Training Effect\n        ====================== */\n    .modal-training-effect .te-feedback {\n        float: left;\n        clear: right;\n        width: 330px;\n    }\n    .modal-training-effect .te-score {\n        float: right;\n        width: 175px;\n    }\n    .modal-training-effect hr {\n        clear: both;\n    }\n\n    /*FIX OVERLAPPING PILLS ON SMALL WINDOWS AND SIDEBAR OPEN*/\n    @media (max-width: 1540px) {\n        .page.activity-detail .stats .btn-group .btn-small {\n            padding: 3px 6px;\n            font-size: 10px;\n        }\n    }\n\n    /*  ======================\n        Primary Stats\n        ====================== */\n    .page.activity-detail .nav.multisport-nav {\n        margin-bottom: 26px;\n    }\n    .page.activity-detail .stats-primary .data-block {\n        display: inline-block;\n        float: left;\n        box-sizing: border-box;\n        width: 50%;\n        padding-right: 20px;\n    }\n    .page.activity-detail .stats-primary .data-label {\n        display: block;\n        margin-top: 6px;\n        line-height: 16px;\n    }\n\n    @media (min-width: 992px) {\n        /* Detect 3 .data-block elements */\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(3),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(3) ~ .data-block {\n            width: 33%;\n        }\n        /* Detect 4 .data-block elements */\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(4),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(4) ~ .data-block {\n            width: 25%;\n        }\n        /* Detect 5 .data-block elements */\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) ~ .data-block {\n            width: 20%;\n        }\n    }\n\n    @media (min-width: 992px) and (max-width: 1199px) {\n        /* Detect 5 .data-block elements */\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) .data-bit,\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) ~ .data-block .data-bit {\n            font-size: 22px;\n            line-height: 24px;\n        }\n    }\n\n    /*  ======================\n        Time in Zones\n        ====================== */\n    .tab-time-in-zones .table-heart-rate-zones,\n    .tab-time-in-zones .table-power-zones {\n        width: 100%;\n    }\n    .tab-time-in-zones * {\n        box-sizing: border-box;\n    }\n    .tab-time-in-zones .stat-block > h3 {\n        margin-bottom: 10px;\n    }\n    .tab-time-in-zones .heart-rate-zones .zone-1 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-1 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-1 .zone-time {\n        background: #6d8594;\n    }\n    .tab-time-in-zones .heart-rate-zones .zone-2 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-2 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-2 .zone-time {\n        background: #39a9ec;\n    }\n    .tab-time-in-zones .heart-rate-zones .zone-3 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-3 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-3 .zone-time {\n        background: #50af12;\n    }\n    .tab-time-in-zones .heart-rate-zones .zone-4 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-4 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-4 .zone-time {\n        background: #f79d0c;\n    }\n    .tab-time-in-zones .heart-rate-zones .zone-5 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-5 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-5 .zone-time {\n        background: #f4253c;\n    }\n\n    .tab-time-in-zones .power-zones .zone-1 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-1 .zone-name,\n    .tab-time-in-zones .power-zones .zone-1 .zone-time {\n        background: #6d8594; /*FAD117; */\n    }\n    .tab-time-in-zones .power-zones .zone-2 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-2 .zone-name,\n    .tab-time-in-zones .power-zones .zone-2 .zone-time {\n        background: #39a9ec; /*8264DB; */\n    }\n    .tab-time-in-zones .power-zones .zone-3 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-3 .zone-name,\n    .tab-time-in-zones .power-zones .zone-3 .zone-time {\n        background: #50af12; /*6D8594; */\n    }\n    .tab-time-in-zones .power-zones .zone-4 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-4 .zone-name,\n    .tab-time-in-zones .power-zones .zone-4 .zone-time {\n        background: #fad117; /*39A9EC; */\n    }\n    .tab-time-in-zones .power-zones .zone-5 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-5 .zone-name,\n    .tab-time-in-zones .power-zones .zone-5 .zone-time {\n        background: #f79d0c; /*50AF12; */\n    }\n    .tab-time-in-zones .power-zones .zone-6 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-6 .zone-name,\n    .tab-time-in-zones .power-zones .zone-6 .zone-time {\n        background: #f4253c; /*F79D0C; */\n    }\n    .tab-time-in-zones .power-zones .zone-7 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-7 .zone-name,\n    .tab-time-in-zones .power-zones .zone-7 .zone-time {\n        background: #8264db; /*F4253C; */\n    }\n    .tab-time-in-zones .table-heart-rate-zones tr td,\n    .tab-time-in-zones .table-power-zones tr td {\n        border-right: 1px solid #fff;\n        border-bottom: 1px solid #fff;\n        padding: 0px;\n    }\n    .tab-time-in-zones .table-heart-rate-zones td > div,\n    .tab-time-in-zones .table-power-zones td > div {\n        padding: 12px 20px;\n    }\n    .tab-time-in-zones td.zone-name {\n        width: 30px;\n    }\n    .tab-time-in-zones td.zone-name > div {\n        background: rgba(255, 255, 255, 0.6);\n        /*opacity: 20;*/\n        border: none;\n    }\n    .tab-time-in-zones td.zone-time {\n        width: 30px;\n    }\n    .tab-time-in-zones td.zone-time > div {\n        background: rgba(255, 255, 255, 0.6);\n        text-align: right;\n        border: none;\n        /*opacity: 20;*/\n    }\n    .tab-time-in-zones td.zone-percent {\n        position: relative;\n    }\n    .tab-time-in-zones td.zone-percent > div {\n        position: absolute;\n        top: 0px;\n        bottom: 0px;\n        padding: 12px 0px;\n    }\n    .tab-time-in-zones td.zone-percent > div > span {\n        /*width: 700px;*/\n        display: block;\n        position: absolute;\n        left: 100%;\n        padding-left: 10px;\n    }\n    .tab-time-in-zones .heart-rate-zones {\n        margin-bottom: 20px;\n    }\n\n    /*  ======================\n        Charts\n        ======================  */\n    .page.activity-detail .chart-header-item {\n        font-size: 14px;\n    }\n    .page.activity-detail .chart-list-customize:hover {\n        color: inherit;\n        text-decoration: none;\n    }\n    .page.activity-detail .chart-header .chart-zoom-toggle {\n        padding: 0 3px;\n        margin-left: 20px;\n        margin-right: 5px;\n        vertical-align: middle;\n    }\n    .page.activity-detail .overlay-item {\n        float: left;\n        margin-left: 30px;\n    }\n    .page.activity-detail .chart-name .chart-title {\n        margin-right: 10px;\n    }\n    .page.activity-detail .chart-name,\n    .page.activity-detail .chart-max-avg-power,\n    .page.activity-detail .chart-lap-avg-pace {\n        display: inline-block;\n    }\n    .page.activity-detail .chart-max-avg-power,\n    .page.activity-detail .chart-lap-avg-pace {\n        margin-left: 30px;\n    }\n    .page.activity-detail .chart-max-avg-power .custom-max-avg-power {\n        padding: 0 20px;\n        white-space: nowrap;\n    }\n    .page.activity-detail .chart-zoom .overlay-item button {\n        font-size: 18px;\n        font-weight: 100;\n    }\n    .page.activity-detail .chart-toggle-options .time-toggle {\n        margin-right: -5px;\n        background-color: blue_primary;\n        color: textLight;\n        border-right: 0 transparent;\n        border-radius: 4px 0 0 4px;\n    }\n\n    .page.activity-detail .chart-toggle-options .distance-toggle {\n        border-left: 0 transparent;\n        border-radius: 0 4px 4px 0;\n    }\n\n    .page.activity-detail .chart-toggle-options .length-rests-toggle {\n        margin-right: -5px;\n        border-right: 0 transparent;\n        border-radius: 4px 0 0 4px;\n    }\n\n    .page.activity-detail .activity-charts-container .btn-customize-charts {\n        background: transparent;\n        color: black;\n        box-shadow: none;\n        border: 1px solid #ccc;\n        padding: 5px 10px;\n    }\n\n    .page.activity-detail .chart-toggle-options button,\n    .page.activity-detail .customize-charts-controls .reorder-widgets-set,\n    .page.activity-detail .customize-charts-controls .reorder-widgets-cancel {\n        border-radius: 2px;\n        border: 1px solid #ccc;\n        background: transparent;\n        color: black;\n        box-shadow: none;\n    }\n\n    .page.activity-detail .customize-charts-controls .reorder-widgets-set {\n        background-color: #11a9ed;\n        color: #fff;\n    }\n\n    .page.activity-detail .customize-charts-list {\n        top: -6px;\n        left: -1px;\n        min-width: 200px;\n        border-radius: 10px;\n        background: white;\n        padding-left: 20px;\n        padding-right: 10px;\n        padding-top: 10px;\n    }\n\n    .page.activity-detail .customize-charts-header {\n        margin-top: -5px;\n        margin-left: -10px;\n    }\n\n    .page.activity-detail .dropdown-menu label {\n        margin-bottom: 10px;\n    }\n\n    .page.activity-detail .sortable-checkboxes .chart-off {\n        display: none;\n    }\n\n    .page.activity-detail .sortable-checkboxes.sort-mode .sortable-checkbox:not(:checked) + .chart-off {\n        display: block;\n        top: 1px;\n    }\n\n    .widget .heart-rate .chart-color-circle,\n    .page.activity-detail .chart-color-circle {\n        background-color: #e8e8e8;\n        border-radius: 50%;\n        height: 11px;\n        width: 11px;\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: 5px;\n        margin-top: -3px;\n    }\n    .page.activity-detail .no-overlay .chart-color-circle {\n        display: none;\n    }\n    .page.activity-detail .chart-zoom .chart-color-circle {\n        height: 16px;\n        width: 16px;\n        margin-top: -4px;\n    }\n\n    .page.activity-detail .stress .chart-color-circle {\n        background-color: #ff9e0d;\n    }\n    .page.activity-detail .movement .chart-color-circle {\n        background-color: #b0e1f7;\n    }\n    .page.activity-detail .speed .chart-color-circle {\n        background-color: #11a9ed;\n    }\n    .page.activity-detail .elevation .chart-color-circle {\n        background-color: #4cb200;\n    }\n    .page.activity-detail .breath-rate .chart-color-circle {\n        background-color: #5036a3;\n    }\n\n    .widget .heart-rate .chart-color-circle,\n    .page.activity-detail .heart-rate .chart-color-circle {\n        background-color: #ff0035;\n    }\n    .page.activity-detail .performance-condition .chart-color-circle {\n        background-color: #6e8594;\n    }\n    .page.activity-detail .cadence .chart-color-circle,\n    .page.activity-detail .stride-length .chart-color-circle {\n        background-color: #ff9e0d;\n    }\n    .page.activity-detail .power .chart-color-circle,\n    .page.activity-detail .power-balance .chart-color-circle {\n        background-color: #cf23b8;\n    }\n    .page.activity-detail .power-phase-start .chart-color-circle {\n        background-color: #11a9ed;\n    }\n    .page.activity-detail .power-phase-end .chart-color-circle {\n        background-color: #50b012;\n    }\n    .page.activity-detail .pco-left .chart-color-circle {\n        background-color: #bf0f24;\n    }\n    .page.activity-detail .pco-right .chart-color-circle {\n        background-color: #ed7e00;\n    }\n    .page.activity-detail .temperature .chart-color-circle {\n        background-color: #6e8594;\n    }\n    .page.activity-detail .vertical-o .chart-color-circle,\n    .page.activity-detail .vertical-r .chart-color-circle {\n        background-color: #cf25bb;\n    }\n    .page.activity-detail .reset-zoom,\n    .page.activity-detail .chart-zoom .x-axis-value {\n        position: relative;\n        left: 50%;\n        -webkit-transform: translateX(-50%);\n        -ms-transform: translateX(-50%);\n        transform: translateX(-50%);\n    }\n\n    /*  ======================\n        Swim Intervals\n        ======================  */\n    .page.activity-detail .modal-body h2,\n    .page.activity-detail .modal-body h5 {\n        display: inline-block;\n    }\n\n    .page.activity-detail .swim-interval .interval-title {\n        font-weight: 600;\n        margin: 22px 0 11px 0;\n    }\n    .page.activity-detail .swim-interval .interval-title .distance,\n    .page.activity-detail .swim-interval .interval-title .time {\n        font-weight: 400;\n        font-size: 14px;\n        display: inline-block;\n        margin-left: 8px;\n    }\n    .page.activity-detail .swim-length {\n        width: 110px;\n        height: 55px;\n        line-height: 40px;\n        float: left;\n        text-align: center;\n        background-color: #fafafa;\n        margin-right: -1px;\n        margin-bottom: 8px;\n        border: 1px solid #ddd;\n        overflow: hidden;\n    }\n    .page.activity-detail .swim-length.first {\n        border-radius: 30px 0 0 30px;\n    }\n    .page.activity-detail .swim-length.last {\n        border-radius: 0 30px 30px 0;\n        margin-right: 5px;\n    }\n    .page.activity-detail .swim-length.first .type {\n        padding-left: 15px;\n    }\n    .page.activity-detail .swim-length.last .type {\n        padding-right: 15px;\n    }\n    .page.activity-detail .swim-length.first.last {\n        border-radius: 30px;\n    }\n    .page.activity-detail .swim-length .type,\n    .page.activity-detail .swim-length .first.last .type {\n        height: 15px;\n        line-height: 15px;\n        font-size: 9px;\n        text-transform: uppercase;\n        color: rgba(255, 255, 255, 0.7);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        padding: 0 5px;\n    }\n    .page.activity-detail .swim-length .number {\n        background: #ddd;\n        display: inline-block;\n        vertical-align: middle;\n        width: 22px;\n        height: 22px;\n        line-height: 22px;\n        font-size: 12px;\n        border-radius: 50%;\n        color: #444;\n        float: left;\n        margin-top: 10px;\n        margin-left: 15px;\n    }\n    .page.activity-detail .swim-length .time {\n        font-weight: 100;\n        font-size: 18px;\n        color: #222;\n        float: right;\n        margin-right: 15px;\n    }\n    .page.activity-detail .swim-length.freestyle .type {\n        background: #cf23b8;\n    }\n    .page.activity-detail .swim-length.butterfly .type {\n        background: #11a9ed;\n    }\n    .page.activity-detail .swim-length.backstroke .type {\n        background: #50b012;\n    }\n    .page.activity-detail .swim-length.breaststroke .type {\n        background: #ff0035;\n    }\n    .page.activity-detail .swim-length.drill .type {\n        background: #ed7e00;\n    }\n    .page.activity-detail .swim-length.drill .number {\n        display: none;\n    }\n    .page.activity-detail .swim-length.drill .time {\n        float: none;\n        margin-right: 0;\n    }\n    .page.activity-detail .swim-length.mixed .type,\n    .page.activity-detail .swim-length.unknown .type {\n        background: #888;\n    }\n    .page.activity-detail .swim-rest {\n        float: left;\n        margin-bottom: 8px;\n        line-height: 40px;\n        background: #ddd;\n        border-radius: 30px;\n        overflow: hidden;\n        width: 90px;\n        text-align: center;\n        border: 1px solid #ddd;\n    }\n    .page.activity-detail .swim-rest .type {\n        height: 15px;\n        line-height: 15px;\n        font-size: 9px;\n        text-transform: uppercase;\n        color: #eee;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        padding: 0 5px;\n        background: #bbb;\n    }\n    .page.activity-detail .swim-rest .time {\n        font-size: 18px;\n        font-weight: 100;\n    }\n\n    /*  ======================\n        Player\n        ======================  */\n    .page.activity-detail .map-controls.player {\n        margin-left: calc(50% - 16px);\n        width: 33px;\n    }\n    .page.activity-detail .map-controls button.disabled {\n        display: none;\n    }\n\n    @media (max-width: 415px) {\n        .page.activity-detail #map-controls {\n            display: flex;\n            flex-direction: column;\n        }\n\n        .page.activity-detail #map-controls .map-control-item {\n            margin-bottom: 5px;\n        }\n    }\n\n    /*  ======================\n        Laps checkbox\n        ======================  */\n    .page.activity-detail .map-control-item.laps {\n        width: auto;\n        white-space: nowrap;\n    }\n    .page.activity-detail .map-control-item.laps label {\n        line-height: 33px;\n        padding-right: 10px;\n    }\n    .page.activity-detail .map-control-item.laps label input {\n        margin-top: 11px;\n        margin-right: 5px;\n        margin-left: 10px;\n    }\n\n    /*  ======================\n        Mobile Scroll Toggle\n        ======================  */\n    .page.activity-detail .map-control-item.scrolling {\n        clear: left;\n        width: auto;\n        margin-top: 6px;\n        padding-right: 10px;\n        padding-left: 10px;\n        white-space: nowrap;\n    }\n\n    /*  ======================\n        Weather\n        ======================  */\n    .page.activity-detail .weather *,\n    .page.activity-detail .weather.large * {\n        -webkit-transition: 150ms cubic-bezier(0.175, 0.885, 0.305, 1.24);\n        transition: 150ms cubic-bezier(0.175, 0.885, 0.305, 1.24);\n        -webkit-transform-style: preserve-3d;\n        transform-style: preserve-3d;\n    }\n    .page.activity-detail .weather {\n        right: 10px;\n        left: auto;\n        cursor: pointer;\n        margin-bottom: 5px;\n    }\n    .page.activity-detail .weather .map-control-item {\n        margin-right: 0;\n        width: auto;\n        padding: 0 5px;\n        overflow: hidden;\n    }\n    .page.activity-detail .weather span {\n        display: inline-block;\n        vertical-align: middle;\n        position: relative;\n        margin: 0 2px;\n    }\n    .page.activity-detail .weather .trigger {\n        top: 5px;\n        left: -4px;\n    }\n    .page.activity-detail .weather .trigger i {\n        color: #888;\n        font-size: 11px;\n        height: 11px;\n        width: 11px;\n        line-height: 11px;\n        margin-top: 0;\n    }\n    .page.activity-detail .weather .temperature {\n        font-size: 22px;\n        font-weight: 100;\n        line-height: 33px;\n    }\n    .page.activity-detail .weather .humidity-percentage {\n        font-size: 22px;\n        font-weight: 100;\n        line-height: 33px;\n    }\n    .page.activity-detail .weather .weather-icon {\n        margin-right: 5px;\n    }\n    .page.activity-detail .weather .weather-icon img {\n        height: 31px;\n        width: 31px;\n    }\n    .page.activity-detail .weather .wind {\n        width: 21px;\n        height: 21px;\n        line-height: 21px;\n        text-align: center;\n        font-size: 12px;\n        border: 1px solid #222;\n        border-radius: 50%;\n        margin-right: 0;\n    }\n    .page.activity-detail .weather .wind:before {\n        content: '';\n        display: block;\n        width: 0;\n        height: 15px;\n        border-width: 7px 3px;\n        border-style: solid;\n        border-color: #222 transparent transparent transparent;\n        position: absolute;\n        top: -4px;\n        left: 8px;\n    }\n    /*\n    .page.activity-detail .wind-n:before {\n        nothing needed - north is the default\n    }\n    */\n    .page.activity-detail .wind-nne:before {\n        -webkit-transform: rotate(22.5deg);\n        -ms-transform: rotate(22.5deg);\n        transform: rotate(22.5deg);\n    }\n    .page.activity-detail .wind-ne:before {\n        -webkit-transform: rotate(45deg);\n        -ms-transform: rotate(45deg);\n        transform: rotate(45deg);\n    }\n    .page.activity-detail .wind-ene:before {\n        -webkit-transform: rotate(77.5deg);\n        -ms-transform: rotate(77.5deg);\n        transform: rotate(77.5deg);\n    }\n    .page.activity-detail .wind-e:before {\n        -webkit-transform: rotate(90deg);\n        -ms-transform: rotate(90deg);\n        transform: rotate(90deg);\n    }\n    .page.activity-detail .wind-ese:before {\n        -webkit-transform: rotate(112.5deg);\n        -ms-transform: rotate(112.5deg);\n        transform: rotate(112.5deg);\n    }\n    .page.activity-detail .wind-se:before {\n        -webkit-transform: rotate(135deg);\n        -ms-transform: rotate(135deg);\n        transform: rotate(135deg);\n    }\n    .page.activity-detail .wind-sse:before {\n        -webkit-transform: rotate(157.5deg);\n        -ms-transform: rotate(157.5deg);\n        transform: rotate(157.5deg);\n    }\n    .page.activity-detail .wind-s:before {\n        -webkit-transform: rotate(180deg);\n        -ms-transform: rotate(180deg);\n        transform: rotate(180deg);\n    }\n    .page.activity-detail .wind-ssw:before {\n        -webkit-transform: rotate(202.5deg);\n        -ms-transform: rotate(202.5deg);\n        transform: rotate(202.5deg);\n    }\n    .page.activity-detail .wind-sw:before {\n        -webkit-transform: rotate(225deg);\n        -ms-transform: rotate(225deg);\n        transform: rotate(225deg);\n    }\n    .page.activity-detail .wind-wsw:before {\n        -webkit-transform: rotate(247.5deg);\n        -ms-transform: rotate(247.5deg);\n        transform: rotate(247.5deg);\n    }\n    .page.activity-detail .wind-w:before {\n        -webkit-transform: rotate(270deg);\n        -ms-transform: rotate(270deg);\n        transform: rotate(270deg);\n    }\n    .page.activity-detail .wind-wnw:before {\n        -webkit-transform: rotate(292.5deg);\n        -ms-transform: rotate(292.5deg);\n        transform: rotate(292.5deg);\n    }\n    .page.activity-detail .wind-nw:before {\n        -webkit-transform: rotate(315deg);\n        -ms-transform: rotate(315deg);\n        transform: rotate(315deg);\n    }\n    .page.activity-detail .wind-nnw:before {\n        -webkit-transform: rotate(337.5deg);\n        -ms-transform: rotate(337.5deg);\n        transform: rotate(337.5deg);\n    }\n    .page.activity-detail .weather .map-control-item .details {\n        display: none;\n    }\n\n    .page.activity-detail .weather.weather-large .map-control-item {\n        height: 70px;\n        border-radius: 35px;\n        padding-right: 10px;\n    }\n    .page.activity-detail .weather.weather-large .trigger {\n        top: -4px;\n        left: -3px;\n        -webkit-transform: rotate(180deg);\n        -ms-transform: rotate(180deg);\n        transform: rotate(180deg);\n    }\n    .page.activity-detail .weather.weather-large .temperature {\n        font-size: 32px;\n        margin-left: 8px;\n    }\n    .page.activity-detail .weather.weather-large .humidity-percentage {\n        font-size: 32px;\n        margin-left: 8px;\n    }\n    .page.activity-detail .weather.weather-large .weather-icon img {\n        width: 70px;\n        height: 70px;\n    }\n    .page.activity-detail .weather.weather-large .wind {\n        font-size: 18px;\n        width: 35px;\n        height: 35px;\n        line-height: 35px;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n    .page.activity-detail .weather.weather-large .wind:before {\n        border-width: 11px 4px;\n        height: 25px;\n        left: 13px;\n        top: -6px;\n    }\n    .page.activity-detail .weather.weather-large .details {\n        display: inline-block;\n        margin: 4px 8px 8px 0;\n    }\n    .page.activity-detail .weather .details ul {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n        font-size: 12px;\n    }\n    .page.activity-detail .weather .details li {\n        margin: 0;\n        padding: 0;\n        line-height: 1.4;\n    }\n    .page.activity-detail .weather .details .source {\n        font-size: 9px;\n        color: #888;\n    }\n\n    @media (max-width: endXS) {\n        .page.activity-detail .weather.weather-large .map-control-item {\n            max-width: 270px;\n        }\n\n        .page.activity-detail .weather .weather-icon {\n            max-width: 40px;\n        }\n\n        .page.activity-detail .weather.weather-large .temperature {\n            font-size: 20px;\n            margin-left: 5px;\n        }\n\n        .page.activity-detail .weather.weather-large .weather-icon img {\n            width: 35px;\n            height: 35px;\n        }\n\n        .page.activity-detail .weather.weather-large .wind {\n            font-size: 16px;\n            width: 25px;\n            height: 25px;\n            line-height: 25px;\n        }\n\n        .page.activity-detail .weather.weather-large .wind:before {\n            height: 20px;\n            left: 9px;\n            top: -8px;\n        }\n\n        .page.activity-detail .weather.weather-large .details {\n            margin: 4px 4px 4px 0;\n        }\n    }\n\n    /*  ======================\n        Splits and intervals table\n        ======================  */\n    .page.activity-detail .tab-overflow {\n        overflow: scroll;\n    }\n    .page.activity-detail .splits-table th,\n    .page.activity-detail .intervals-table th {\n        white-space: nowrap;\n        padding-left: 20px;\n        text-align: right;\n    }\n    .page.activity-detail .splits-table th:nth-child(1),\n    .page.activity-detail .splits-table th:nth-child(2),\n    .page.activity-detail .intervals-table th:nth-child(2) {\n        text-align: center;\n    }\n    .page.activity-detail .intervals-table th:nth-child(2) {\n        padding-right: 20px;\n    }\n    .page.activity-detail .splits-table td,\n    .page.activity-detail .intervals-table td {\n        text-align: right;\n        white-space: nowrap;\n    }\n    .page.activity-detail .splits-table td:nth-child(1),\n    .page.activity-detail .splits-table td:nth-child(2),\n    .page.activity-detail .intervals-table td:nth-child(2) {\n        text-align: center;\n    }\n    .page.activity-detail .splits-table tfoot,\n    .page.activity-detail .intervals-table tfoot {\n        font-weight: bold;\n    }\n    .page.activity-detail .activity-intervals-tab-content-placeholder {\n        overflow: auto;\n        min-height: 190px;\n    }\n    /*  ======================\n        Gases and Tanks table\n        ======================  */\n    .page.activity-detail .gases-and-tanks-table th,\n    .page.activity-detail .gases-and-tanks-table td {\n        white-space: nowrap;\n        padding-left: 10px;\n        padding-right: 10px;\n        text-align: center;\n    }\n\n    /* Embed modal */\n    .embed-activity-input[type='text'] {\n        margin-bottom: 11px;\n        width: 97%;\n        cursor: pointer;\n    }\n    .embed-activity-iframe {\n        margin-left: 30px;\n    }\n    .modal.activity-detail-embed .modal-body {\n        max-height: 600px;\n    }\n\n    /* Create / Find segment button */\n\n    .page.activity-detail .activity-segments-container {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .page.activity-detail .create-segment .icon-add {\n        font-size: 12px;\n        height: 12px;\n        width: 12px;\n        line-height: 12px;\n        margin-top: 4px;\n        margin-right: 5px;\n    }\n\n    .page.activity-detail .segment-match-container {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .page.activity-detail .segment-match-container .segment-match-actions {\n        display: flex;\n        justify-content: flex-end;\n    }\n\n    /* Segments table */\n    .page.activity-detail .segments-table {\n        table-layout: fixed;\n    }\n    .page.activity-detail .segments-table .segment-name {\n        min-width: 190px;\n    }\n    .page.activity-detail .segments-table .segment-rank {\n        width: 40px;\n    }\n    .page.activity-detail .segments-table .segment-link {\n        vertical-align: middle;\n        width: 100%;\n    }\n    .page.activity-detail .segments-table .segment-time {\n        width: 75px;\n    }\n    .page.activity-detail .segments-table .segment-pace {\n        width: 90px;\n    }\n    .page.activity-detail .segments-table .segment-fav,\n    .page.activity-detail .segments-table .segment-visible {\n        width: 25px;\n    }\n    .page.activity-detail .segments-table .icon-star.fav {\n        vertical-align: middle;\n    }\n    .page.activity-detail .segments-table .icon-eye {\n        vertical-align: middle;\n        font-size: 18px;\n        color: #c7c7c7;\n        cursor: pointer;\n    }\n    .page.activity-detail .segments-table .icon-eye.active {\n        color: #222;\n    }\n\n    @media (max-width: endSM) {\n        .page.activity-detail .segments-table {\n            /* Creates a horizontally scrollable table that moves independently from the page when the page is too narrow */\n            display: block;\n            overflow-x: auto;\n            max-width: 90vw;\n        }\n    }\n\n    /* Additional info */\n    .page.activity-detail .additional-info > div {\n        text-align: center;\n    }\n    .page.activity-detail .additional-info .device-image img {\n        width: 50%;\n    }\n    .page.activity-detail .additional-info .device-name {\n        font-weight: 600;\n    }\n    /* mbtester - admin */\n    .page.activity-detail .additional-info .admin {\n        background: #e6ff84;\n    }\n\n    .page.activity-detail .power-curve-excluded {\n        margin-top: 40px;\n    }\n\n    .page.activity-detail .power-curve-excluded .heading {\n        font-size: 18px;\n    }\n\n    .page.activity-detail .power-curve-excluded .sub-heading {\n        margin: 20px 0px 10px 0px;\n    }\n\n    /*  ======================\n        Manual Activity Page / Edit Activity\n        ======================  */\n    .page.activity-edit .time-zone-select {\n        font-size: 12px;\n        margin-left: 5px;\n        cursor: pointer;\n    }\n    .page.activity-edit .time-zone-select > a {\n        display: inline-block;\n        max-width: calc(100% - 500px);\n        line-height: 11px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n    .page.activity-edit .avg-pace-speed {\n        width: auto;\n    }\n    .page.activity-edit .advanced-edit-actions-container {\n        display: flex;\n        width: 210px;\n        justify-content: space-between;\n    }\n\n    /*  ======================\n        Multisport\n        ======================  */\n    .page.activity-detail .multisport-nav > li {\n        text-align: center;\n    }\n    .page.activity-detail .multisport-nav > li > a {\n        padding-bottom: 10px;\n    }\n    .page.activity-detail .multisport-nav > li > a > .icon > i {\n        display: block;\n        margin: 0 auto;\n        font-size: 36px;\n        width: 36px;\n        height: 36px;\n        line-height: 36px;\n    }\n    .page.activity-detail .multisport-nav > li > a > .icon > .icon-activity-transition {\n        font-size: 20px;\n    }\n    .page.activity-detail .multisport-nav > li > a > .avg-stat {\n        font-size: 10px;\n        line-height: 1;\n        height: 10px;\n    }\n    .page.activity-detail .multisport-nav .dropdown-menu i {\n        font-size: 16px;\n        width: 16px;\n        height: 16px;\n        line-height: 16px;\n        margin-right: 10px;\n    }\n    .page.activity-detail .multisport-nav .dropdown-menu {\n        text-align: left;\n    }\n\n    /*  ======================\n        Connect IQ Label\n        ======================  */\n    .ciq-label {\n        color: #888;\n        font-size: 12px;\n        width: 12px;\n        height: 11px;\n        line-height: 11px;\n        margin-left: 5px;\n        vertical-align: middle;\n    }\n\n    /*  ======================\n        Media queries for responsive breakpoints\n        ======================  */\n    @media (max-width: 1158px) {\n        .page.activity-detail .activity.stats .row-fluid [class*='span'] {\n            width: 100%;\n            margin-left: 0;\n        }\n    }\n\n    /*  ======================\n        Cycling Dynamics Tab\n        ======================  */\n    .cycling-dynamics .custom-max-avg-power {\n        display: inline-block;\n        margin-top: -10px;\n    }\n    .cycling-dynamics .max-avg-label {\n        margin-right: 5px;\n    }\n    .cycling-dynamics .cycling-tab-controls {\n        min-height: 30px;\n    }\n    .cycling-dynamics .cycling-tab-controls .input-small {\n        margin-bottom: 0;\n    }\n\n    /*  ======================\n        Platform Center Offset\n        ======================  */\n    .cycling-dynamics .pco-content {\n        padding: 0 21px;\n    }\n    .cycling-dynamics .pco-content .chart-container {\n        margin: 0 auto;\n        height: 160px;\n    }\n    .platform-center-offset > canvas {\n        width: 160px;\n        height: 160px;\n        background-position: 0 0;\n        background-repeat: no-repeat;\n    }\n    .platform-center-offset-left > canvas {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/platform-center-offset-left.svg');\n    }\n    .platform-center-offset-right > canvas {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/platform-center-offset-right.svg');\n    }\n\n    /*  ======================\n        Peak Power Phase\n        ======================  */\n    .power-phase {\n        width: 100%;\n        padding-bottom: 10px;\n        margin-bottom: 20px;\n        border-bottom: 1px solid #ddd;\n    }\n    .power-phase-charts {\n        width: 660px;\n        height: 260px;\n        margin: 0 auto;\n    }\n    .power-phase-charts > div {\n        width: 325px;\n    }\n    .power-phase-charts > div:first-child {\n        float: left;\n    }\n    .power-phase-charts > div:last-child {\n        float: right;\n    }\n    .power-phase-charts .chart-container {\n        /* Dynamic Highchart Graphic */\n        margin-top: -273px;\n        margin-left: 17px;\n    }\n    .power-phase-charts .chart-container sup {\n        font-size: 22px;\n        top: -12px;\n    }\n    .power-phase-graphic {\n        /* Background Image */\n        display: inline-block;\n        width: 250px;\n        height: 250px;\n        margin: 0 0 22px 0;\n        background-position: 0 0;\n        background-repeat: no-repeat;\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/power-phase.svg');\n    }\n    @media (max-width: 1310px) {\n        .cycling-dynamics .custom-max-avg-power {\n            display: block;\n            margin-top: 10px;\n        }\n        .cycling-dynamics #avg-power-range-value {\n            float: none;\n            display: inline-block;\n        }\n    }\n    @media (max-width: 640px) {\n        .power-phase-charts {\n            width: 100%;\n        }\n        .power-phase-charts > div {\n            width: 195px;\n        }\n        .power-phase-charts .chart-container {\n            margin-top: -225px;\n            margin-left: -18px;\n        }\n        .power-phase-graphic {\n            width: 200px; /* chart design is small */\n            height: 200px;\n        }\n    }\n    @media (max-width: 520px) {\n        .power-phase {\n            border-width: 0;\n        }\n        .power-phase-charts {\n            height: 520px;\n        }\n        .power-phase-charts > div:first-child,\n        .power-phase-charts > div:last-child {\n            float: none;\n            width: 325px;\n            margin: 0 auto 30px auto;\n        }\n        .power-phase .chart-container {\n            margin-top: -274px;\n            margin-left: 19px;\n        }\n        .power-phase-graphic {\n            width: 250px; /* chart design is medium & stacked */\n            height: 250px;\n        }\n    }\n\n    /*  ======================\n        Seated & Standing Position\n        ======================  */\n    .cycling-dynamics .seated-standing {\n        padding-left: 20px;\n        padding-right: 20px;\n        margin-bottom: 0;\n        border-left: 1px solid #ddd;\n    }\n    .position-seated > span,\n    .position-standing > span {\n        margin: auto auto 0 auto;\n        max-width: 80%;\n        vertical-align: bottom;\n        display: block;\n        width: 200px;\n        height: 160px;\n        background-position: center;\n        background-repeat: no-repeat;\n        margin-left: auto;\n        margin-right: auto;\n    }\n    .position-seated > span {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/seated.svg');\n    }\n    .position-standing > span {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/standing.svg');\n    }\n\n    /*  ======================\n        Media Queries provided by Joshua Johnston (front-end team)\n        ======================  */\n    @media (max-width: 1175px) {\n        .pco-content .span6,\n        .seated-standing .span6 {\n            width: 100%; /* stack these graphics early */\n            margin: 0 auto;\n        }\n    }\n    @media (max-width: 767px) {\n        .cycling-dynamics .seated-standing {\n            border-left: 0;\n        }\n    }\n    @media (max-width: 653px) {\n        .cycling-dynamics .cycling-tab-controls {\n            max-height: 85px;\n        }\n    }\n\n    /*  ======================\n        Activity List Table in Modal\n        ======================  */\n    .modal .activity-list .activity-title {\n        width: 250px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        display: inline-block;\n        vertical-align: middle;\n        white-space: nowrap;\n        line-height: 1.3;\n    }\n\n    /*ACTIVITY LIKING*/\n    .page-navigation-action .like-link:hover {\n        background: transparent;\n    }\n\n    /*NO PRIVILEGES PAGE*/\n    .no-privileges h3 {\n        line-height: 2rem;\n    }\n    .no-privileges .locked-activity {\n        font-size: 80px;\n        color: #e5e5e5;\n        display: block;\n        padding-right: 65px;\n    }\n    .ciq-info {\n        max-width: 250px;\n        margin: 33px auto 0;\n    }\n\n    .page.activity-detail .ciq-info .app-name a {\n        font-weight: 600;\n    }\n\n    .page.activity-detail .ciq-info .aspect {\n        position: relative;\n        width: 100%;\n        max-width: 80px;\n        margin: 15px auto;\n    }\n\n    .page.activity-detail .ciq-info .aspect-square {\n        padding-top: 100%;\n    }\n\n    .page.activity-detail .ciq-info .aspect-element {\n        height: 100%;\n        width: 100%;\n        position: absolute;\n        top: 0;\n    }\n\n    @media (max-width: 1156px) and (min-width: 414px) {\n        .activity.stats .row-fluid .span3 {\n            width: 48% !important;\n            margin: 0;\n            display: inline-block;\n            float: left;\n        }\n        .activity.stats .row-fluid .span3 {\n            margin-left: 2% !important;\n        }\n    }\n    /*iPhone 6+ and smaller*/\n    @media screen and (max-device-width: 415px) {\n        .page.activity-detail .page-header-content .page-title .page-title-overflow {\n            max-width: calc(100% - 50px);\n        }\n        .page.activity-detail .page-title .icon-personal-records {\n            height: 25px;\n        }\n        .page.activity-detail .activity-type-icon {\n            width: 40px;\n            height: 40px;\n            line-height: 40px;\n            margin-top: 0;\n            margin-right: 6px;\n            font-size: 20px;\n            box-shadow: 0 0 0 2px #ccc;\n        }\n        .page.activity-detail .page-header-content .date-block {\n            clear: both;\n        }\n        .chart-header .span4 {\n            display: inline-block;\n        }\n        .page.activity-detail .highcharts-container {\n            /*TO PREVENT THE CARTS FROM BREAKING PAST THE CONTAINER*/\n            margin-left: -10px;\n        }\n        .chart-header .span9 {\n            width: 100%;\n            display: inline-block;\n        }\n        .chart-header .span3 {\n            display: none;\n        }\n        .chart-header .span3 button {\n            font-size: 12px;\n            vertical-align: middle;\n            line-height: 15px;\n        }\n        .row-fluid.chart-header [class*='span'] {\n            float: left;\n        }\n\n        /* Layout */\n        .page.activity-detail .page-header-content .date-block {\n            margin-top: -24px;\n        }\n\n        /* Page Navigation */\n        .page.activity-detail .page-header-content {\n            width: calc(100% - 60px);\n        }\n\n        /* Dropdown Menus */\n        .page.activity-detail .page-dropdown {\n            display: inline-block;\n        }\n        .page.activity-detail .page-navigation .dropdown-menu {\n            right: -1px;\n            top: -6px;\n        }\n\n        /* Icons */\n        .page.activity-detail .inline-edit-trigger {\n            width: 28px;\n            height: 28px;\n        }\n        .page.activity-detail .inline-edit-save[class*='icon-'],\n        .page.activity-detail .inline-edit-cancel[class*='icon-'] {\n            height: 28px;\n            width: 28px;\n        }\n        .page.activity-detail .page-title .inline-edit-actions button {\n            margin-top: 7px;\n        }\n        .page.activity-detail .page-navigation-action,\n        .page.activity-detail .page-navigation-action:last-child {\n            padding: 3px 7px;\n        }\n        .page.activity-detail .inline-edit-trigger,\n        .page.activity-detail .page-navigation-action,\n        .page.activity-detail .page-dropdown .dropdown-menu [class^='icon-'] {\n            font-size: 16px;\n        }\n        .page.activity-detail .page-dropdown .dropdown-menu [class^='icon-'] {\n            right: 7px;\n            top: 1px;\n        }\n        .page.activity-detail .page-dropdown .dropdown-menu > li > a [class^='icon-'] {\n            font-size: 14px;\n        }\n        .page.activity-detail .dropdown .icon-pointer-down {\n            font-size: 10px;\n        }\n\n        /* Unique Icon Styles */\n        .page.activity-detail .page-navigation .icon-share,\n        .page.activity-detail .page-dropdown .dropdown-menu .icon-share {\n            font-size: 18px;\n        }\n        .page.activity-detail .help-icon {\n            font-size: 18px;\n            height: 20px;\n            width: 20px;\n        }\n\n        /* Type */\n        .page.activity-detail .page-intro .date-block,\n        .page.activity-detail .like,\n        .page.activity-detail .dropdown-menu > li {\n            font-size: 14px;\n        }\n        .page.activity-detail .dropdown-menu > li > a {\n            line-height: 22px;\n        }\n        .page.activity-detail .event-type,\n        .page.activity-detail .course-type,\n        .page.activity-detail .gear-indicator {\n            white-space: nowrap;\n        }\n\n        /* Charts */\n        .page.activity-detail .chart-header-main .span4 {\n            display: none;\n        }\n        .page.activity-detail .chart-header-main .span4.chart-x-axis-toggle {\n            display: inline-block;\n            width: 100%;\n        }\n        .page.activity-detail .chart-header {\n            margin-top: 11px;\n        }\n    }\n\n    /*ACTIVITY - REP COUNTING*/\n    .rep-counting-table td {\n        vertical-align: middle;\n    }\n    .page.activity-detail table.rep-counting-table {\n        margin-bottom: 10px;\n    }\n\n    [data-activity-type='pilates'] .workout-name {\n        width: 70%;\n    }\n\n    [data-activity-type='yoga'] .workout-name {\n        width: 70%;\n    }\n\n    .table.rep-counting-table td {\n        border-top: 1px solid #e5e5e5;\n    }\n    /*\n    For the play video button\n    .page.activity-detail .rep-counting-table td a [class*=\"icon-\"] {\n        width: 20px;\n        height: 20px;\n        line-height: 20px;\n        margin-right: 5.5px;\n        font-size: 12px;\n        text-align: center;\n        box-shadow: 0 0 0 1px #ccc;\n        border-radius: 50%;\n        color: #888;\n        background: #fafafa;\n    }*/\n    .page.activity-detail .rep-counting-table td .input-append {\n        margin-bottom: 0;\n    }\n    .page.activity-detail .rep-counting-table td .input-small {\n        width: 50px;\n    }\n\n    .page.activity-edit .rep-counting-table th:first-child,\n    .page.activity-edit .rep-counting-table th:last-child,\n    .page.activity-edit .rep-counting-table td:first-child,\n    .page.activity-edit .rep-counting-table td:last-child {\n        width: 15px;\n        color: #888;\n    }\n    .page.activity-detail .rep-counting-table th:nth-child(3),\n    .page.activity-detail .rep-counting-table th:nth-child(4),\n    .page.activity-detail .rep-counting-table th:nth-child(5),\n    .page.activity-detail .rep-counting-table th:nth-child(6),\n    .page.activity-detail .rep-counting-table td:nth-child(3),\n    .page.activity-detail .rep-counting-table td:nth-child(4),\n    .page.activity-detail .rep-counting-table td:nth-child(5),\n    .page.activity-detail .rep-counting-table td:nth-child(6) {\n        text-align: center;\n    }\n    .page.activity-detail .rep-counting-table th:first-child,\n    .page.activity-detail .rep-counting-table td:first-child {\n        text-align: center;\n    }\n    .page.activity-detail .rep-counting-table td:first-child p {\n        border: 1px solid #888;\n        border-radius: 50%;\n        height: 20px;\n        width: 20px;\n        line-height: 20px;\n        font-size: 10px;\n        color: #888;\n        margin: 0 auto;\n    }\n\n    .page.activity-detail .rep-counting-table td:last-child a {\n        font-size: 12px;\n        font-family: 'Open Sans', 'HelveticaNeue-Light', 'Helvetica Neue Light', 'Helvetica Neue', Helvetica, Arial,\n            sans-serif;\n        line-height: 22px;\n    }\n    .page.activity-edit .page-navigation .btn {\n        margin-top: 0;\n    }\n\n    /*DRAG & DROP -\n    HINT FOR WHERE THE EXERCISE IS GOING TO GO*/\n    .rep-placehold-row {\n        height: 60px;\n    }\n    .rep-placehold:before {\n        float: left;\n        left: -12px;\n    }\n    .rep-placehold:after {\n        float: right;\n        right: -13px;\n    }\n    /*FOR A BORDER WHEN USER HOVERS OVER THE DRAG HANDLE*/\n    .rep-counting-table tr {\n        border-left: 1px solid rgba(170, 170, 170, 0);\n        border-right: 1px solid rgba(170, 170, 170, 0);\n        border-bottom: 1px solid rgba(170, 170, 170, 0);\n    }\n    .rep-counting-table .hover-rep-row {\n        border: 1px solid rgba(170, 170, 170, 0.4);\n    }\n    /*FOR A THICKER BORDER WHEN USER IS DRAGGING*/\n    .rep-counting-table .ui-sortable-helper {\n        box-shadow: 0px 0px 0px 2px rgba(170, 170, 170, 0.75);\n        border-top: transparent;\n        background: #ffffff;\n    }\n    /*ADD RED BORDER FOR ERROR ON EXERCISE NAME*/\n    .chosen-container-single .chosen-single.error {\n        color: #bf0f24;\n        border-color: #bf0f24;\n    }\n    /*  ======================\n        Activity Compare Page\n        ======================  */\n    .activity-compare .summary [class^='icon-'],\n    .activity-compare .summary [class*=' icon-'] {\n        text-align: center;\n        border-radius: 50%;\n        color: #888;\n        background: #fafafa;\n        width: 40px;\n        height: 40px;\n        line-height: 40px;\n        font-size: 22px;\n        box-shadow: 0 0 0 2px #ccc;\n        display: block;\n        margin: 0 auto 10px auto;\n    }\n    .activity-compare .summary {\n        margin-bottom: 0;\n    }\n    .activity-compare thead th,\n    .activity-compare td {\n        text-align: center;\n        border-left: 2px solid #ddd;\n    }\n    .activity-compare .laps th,\n    .activity-compare .laps td {\n        border-left-color: #f0f0f0;\n    }\n    .activity-compare .laps th:nth-child(3n + 2),\n    .activity-compare .laps td:nth-child(3n + 2) {\n        border-left-color: #ddd;\n    }\n    .activity-compare .laps th:nth-child(1) {\n        text-align: left;\n    }\n    .activity-compare .four-up .summary thead th,\n    .activity-compare .four-up .summary td {\n        vertical-align: top;\n    }\n    .activity-compare .row-label {\n        text-align: left;\n    }\n    .activity-compare .laps th {\n        font-weight: normal;\n        color: #888;\n    }\n    .activity-compare .four-up th {\n        width: 20%;\n    }\n    .activity-compare .three-up th {\n        width: 25%;\n    }\n    .activity-compare .two-up th {\n        width: 33.3%;\n    }\n    .activity-compare th:first-child,\n    .activity-compare td:first-child {\n        border-left: none;\n    }\n\n    /*  ======================\n      Battery Status\n    ======================  */\n    .page.activity-detail [class^='icon-battery-status-'],\n    .page.activity-detail .icon-caution {\n        margin-left: 5px;\n        font-size: 16px;\n        line-height: 18px;\n    }\n\n    /*  ======================\n      Activity Playlist\n    ======================  */\n    .page.activity-detail .playlist-card {\n        max-height: 350px;\n        overflow-y: auto;\n        overflow-x: auto;\n        border: 1px solid #e5e5e5;\n        border-radius: 4px;\n        padding: 11px;\n    }\n    .page.activity-detail .list-number {\n        border: 1px solid #c7c7c7;\n        border-radius: 50%;\n        height: 24px;\n        width: 24px;\n        text-align: center;\n        padding-top: 2px;\n        background: #fff;\n    }\n\n    .page.activity-detail .playlist-privacy {\n        float: right;\n        margin-right: 20px;\n        margin-top: -25px;\n        font-size: 12px;\n        color: #888;\n    }\n\n    /*  ======================\n      Responsive Table Standards - applies to rep-counting table\n      ======================  */\n\n    @media (max-width: 1125px) {\n        .minimize-main-nav .span8.exercise-table-edit {\n            width: 65.95744680851064%;\n        }\n        .span8.exercise-table-edit {\n            width: 100%;\n        }\n    }\n\n    @media (max-width: 855px) {\n        /* Forcing table to not behave in its usual manner.*/\n        .rep-counting-table,\n        .rep-counting-table thead,\n        .rep-counting-table tbody,\n        .rep-counting-table th,\n        .rep-counting-table td,\n        .rep-counting-table tr {\n            display: block;\n        }\n        .rep-counting-table-edit {\n            margin-top: 15px;\n        }\n\n        /* Hiding table headers (but not display: none for accessibility purposes)*/\n        .rep-counting-table thead tr {\n            position: absolute;\n            top: -9999px;\n            left: -9999px;\n        }\n\n        .page.activity-detail .rep-counting-table tr {\n            border-bottom: 4px solid #888;\n        }\n\n        /* Forcing td to behave like a row.*/\n        .rep-counting-table td {\n            border: none;\n            border-bottom: 1px solid #eee;\n            position: relative;\n            padding-left: 40%;\n        }\n\n        /*Forcing content \"before\" to behave like a table heading.*/\n        .rep-counting-table td:before {\n            position: absolute;\n            font-weight: bold;\n            /* Top/left values mimic padding */\n            top: 6px;\n            left: 6px;\n            width: 45%;\n            padding-right: 10px;\n            white-space: nowrap;\n        }\n        .rep-counting-table td:before {\n            /*Handling truncation of before content.*/\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n        .page.activity-edit .rep-counting-table.rep-counting-table-edit td:first-child,\n        .page.activity-edit .rep-counting-table.rep-counting-table-edit td:last-child {\n            width: auto;\n            height: 20px;\n        }\n\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:first-child,\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(3),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(4),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(5),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(6),\n        .page.activity-detail .rep-counting-table td:first-child:before,\n        .page.activity-detail .rep-counting-table td:nth-child(3):before,\n        .page.activity-detail .rep-counting-table td:nth-child(4):before,\n        .page.activity-detail .rep-counting-table td:nth-child(5):before,\n        .page.activity-detail .rep-counting-table td:nth-child(6):before,\n        .page.activity-detail .rep-counting-table td:nth-child(3),\n        .page.activity-detail .rep-counting-table td:nth-child(4),\n        .page.activity-detail .rep-counting-table td:nth-child(5),\n        .page.activity-detail .rep-counting-table td:nth-child(6) {\n            text-align: left;\n        }\n\n        /* Label the data*/\n        .page.activity-detail .rep-counting-table td:first-child:before {\n            content: attr(data-title-1);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(2):before {\n            content: attr(data-title-2);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(3):before {\n            content: attr(data-title-3);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(4):before {\n            content: attr(data-title-4);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(5):before {\n            content: attr(data-title-5);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(6):before {\n            content: attr(data-title-6);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(7):before {\n            content: attr(data-title-7);\n        }\n    }\n\n    .page.activity-detail .chosen-single .icon-pointer-down {\n        font-size: 8px;\n    }\n    .activity-compare .summary th h1 {\n        display: inline-block;\n    }\n    .activity-compare .summary th .data-label {\n        display: block;\n        font-weight: 300;\n        line-height: 25px;\n    }\n    .activity-compare .laps .stat {\n        border-bottom: 1px dotted inherit;\n    }\n    .activity-compare .four-up .laps .stat {\n        width: 6.6%;\n    }\n    .activity-compare .three-up .laps .stat {\n        width: 8.2%;\n    }\n    .activity-compare .two-up .laps .stat {\n        width: 11.2%;\n    }\n    .activity-compare .toggle-detail {\n        width: 100%;\n        background: #888;\n        color: #fff;\n        padding: 2px 0;\n        text-decoration: none;\n        display: block;\n        text-align: center;\n        font-size: 12px;\n    }\n\n    @media screen and (max-device-width: 1024px) {\n        .activity-compare .laps-table-header,\n        .activity-compare .laps.table {\n            display: none;\n        }\n        .activity-compare .table-responsive thead tr {\n            position: relative;\n            top: auto;\n            left: auto;\n        }\n        .activity-compare .table-responsive th {\n            width: 100%;\n        }\n        .activity-compare .summary [class^='icon-'],\n        .activity-compare .summary [class*=' icon-'] {\n            width: 26px;\n            height: 26px;\n            line-height: 26px;\n            font-size: 15px;\n            margin-bottom: 5px;\n        }\n        .activity-compare .table-responsive th,\n        .activity-compare .table-responsive td {\n            padding-left: 0;\n            border-left: none;\n        }\n        .activity-compare .table-responsive .row-label {\n            padding-left: 10px;\n        }\n        .table-responsive,\n        .table-responsive thead,\n        .table-responsive tbody,\n        .table-responsive th,\n        .table-responsive td,\n        .table-responsive tr {\n            display: block;\n        }\n\n        /*\n            td:not(:first-child) {\n                counter-increment: rowNumber;\n            }\n            td:not(:first-child):before {\n                content: counter(rowNumber);\n                text-align: left;\n                font-weight: normal;\n                top: auto;\n                width: auto;\n                color: #bbb;\n            }\n        */\n    }\n\n    /* start from resource-js */\n\n    .page.activity-detail .activity-map-canvas {\n        height: 400px;\n        margin-top: 5px;\n        z-index: 0;\n    }\n\n    .page.activity-detail html {\n        height: 100%;\n    }\n    .page.activity-detail body {\n        height: 100%;\n        margin: 0;\n        padding: 0;\n    }\n\n    .page.activity-detail .is_stuck .activity-map-canvas {\n        margin-top: 58px;\n        height: 200px;\n        overflow: hidden;\n    }\n\n    .page.activity-detail .stats .data-block {\n        margin-bottom: 11px;\n    }\n    .page.activity-detail .stats h3 {\n        border-bottom: 1px solid #ddd;\n        font-size: 14px;\n        margin-bottom: 11px;\n    }\n    .page.activity-detail .stats .stat-block {\n        margin-bottom: 33px;\n    }\n\n    .page.activity-detail .kevin-temp {\n        background-color: yellow;\n        color: red;\n        font-weight: bold;\n    }\n\n    .page.activity-detail .modal.fullscreen.expanded-chart .modal-body {\n        overflow: hidden;\n    }\n\n    .page.activity-detail .pointer-events-none {\n        pointer-events: none;\n    }\n\n    .full-screen-map {\n        position: fixed;\n        z-index: 1000; /* IE needs a big number */\n        left: 0;\n        top: 0;\n    }\n\n    /* Not preferred, but this will allow us to use full-screen-map everywhere */\n    .full-screen-map .leaflet-container {\n        position: fixed !important;\n        height: 100% !important;\n        width: 100% !important;\n    }\n\n    /* end from resource-js */\n\n    #activity-map-canvas.short {\n        height: 210px;\n    }\n\n    /* ===============\n          Dive Log\n       =============== */\n\n    .page.activity-detail .dive-canvas {\n        position: relative;\n        height: 230px;\n        min-width: 551px;\n    }\n\n    .page.activity-detail .dive-canvas .canvas {\n        width: 100%;\n        height: 100%;\n    }\n\n    .page.activity-detail .dive-log-stat {\n        position: absolute;\n        z-index: 1;\n        width: 150px;\n        height: 20px;\n        text-align: center;\n    }\n\n    .page.activity-detail .dive-log-label {\n        color: #999999;\n    }\n\n    .page.activity-detail .avg-depth-label {\n        color: #ff9f10;\n    }\n\n    .page.activity-detail .deco-dive-label {\n        color: #d0021b;\n    }\n\n    .page.activity-detail .dive-log-stat.right {\n        right: 0;\n    }\n\n    .page.activity-detail .dive-log-stat.center {\n        margin-left: auto;\n        margin-right: auto;\n        left: 0;\n        right: 0;\n    }\n\n    .page.activity-detail .dive-log-value {\n        font-size: 24px;\n    }\n\n    .page.activity-detail .dive-log-label {\n        font-size: 12px;\n    }\n\n    .page.activity-detail .surface-interval-stat {\n        top: 16px;\n    }\n\n    .page.activity-detail .time-in-stat {\n        top: 83px;\n    }\n\n    .page.activity-detail .max-depth-stat {\n        top: 150px;\n    }\n\n    .page.activity-detail .avg-depth-stat {\n        top: 83px;\n    }\n\n    .page.activity-detail .bottom-time-stat {\n        top: 150px;\n    }\n\n    .page.activity-detail .time-out-stat {\n        top: 83px;\n    }\n\n    .page.activity-detail .deco-dive-stat {\n        top: 150px;\n    }\n\n    .page.activity-detail .deco-dive-value {\n        width: 20px;\n        height: 20px;\n        line-height: 20px;\n        font-size: 11px;\n        text-align: center;\n        border-radius: 50%;\n        color: #fbebed;\n        background: #d0021b;\n        font-style: normal;\n        margin: 0 auto;\n        font-weight: 600;\n    }\n\n    .page.activity-detail .apnea-dives-table .apnea-map {\n        width: 85px;\n        height: 62px;\n    }\n\n    /* hide attribution - could break if we update google mutant */\n    .page .apnea-dives-table .apnea-map .gmnoprint,\n    .page .apnea-dives-table .apnea-map .leaflet-google-mutant.leaflet-top.leaflet-left .gm-style img,\n    .page .apnea-dives-table .apnea-map .leaflet-control-attribution {\n        display: none;\n    }\n\n    @media (max-width: 610px) {\n        .page.activity-detail .dive-canvas {\n            height: 170px;\n            min-width: 380px;\n        }\n\n        .page.activity-detail .dive-log-value {\n            font-size: 20px;\n        }\n\n        .page.activity-detail .dive-log-label {\n            display: block;\n            margin-top: -2px;\n        }\n\n        .page.activity-detail .dive-log-value.deco-dive-value {\n            font-size: 11px;\n        }\n\n        .page.activity-detail .surface-interval-stat {\n            top: 5px;\n        }\n\n        .page.activity-detail .time-in-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .max-depth-stat {\n            top: 107px;\n        }\n\n        .page.activity-detail .avg-depth-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .bottom-time-stat {\n            top: 106px;\n        }\n\n        .page.activity-detail .time-out-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .dive-log-stat {\n            width: 105px;\n            height: 20px;\n        }\n\n        .page.activity-detail .deco-dive-stat {\n            top: 106px;\n        }\n    }\n\n    .page.activity-detail .note-container h3 {\n        font-size: 17px;\n        margin: 0 0 8px;\n    }\n\n    .page.activity-detail .video-container.border-wrapper,\n    .page.activity-detail .note-container.border-wrapper {\n        border-top: none;\n    }\n\n    .page.activity-detail .wrapper-top-container {\n        border-bottom: none;\n    }\n\n    .page.activity-detail .edit-dive-activity-dive-label {\n        display: inline;\n    }\n\n    .page.activity-detail .diving.inline-edit-text-field {\n        top: 12px;\n    }\n\n    .page.activity-detail #trainingEffectStatsPlaceholder .stat-block .data-block .trainingEffectLabelContainer {\n        display: flex;\n    }\n\n    .page.activity-detail #trainingEffectStatsPlaceholder .stat-block .data-block .trainingEffectStatChip {\n        border-radius: 50%;\n        height: 8px;\n        width: 8px;\n        margin-top: 7px;\n        margin-right: 8px;\n    }\n\n    .modal-body .chart-color-circle {\n        background-color: #e8e8e8;\n        border-radius: 50%;\n        height: 11px;\n        width: 11px;\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: 5px;\n        margin-top: -3px;\n    }\n\n    /* ===============\n          Advanced Activity Editing\n       =============== */\n\n    .page.activity-advanced-edit .tab-content {\n        margin-bottom: 10px;\n    }\n\n    .page.activity-advanced-edit .activity-edit-container {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: flex-start;\n        padding-left: 60px;\n    }\n\n    .page.activity-advanced-edit .activity-edit-container .item {\n        margin-right: 20px;\n    }\n\n    .page.activity-advanced-edit .button-container {\n        width: 50%;\n    }\n\n    .page.activity-advanced-edit .flex-row {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        width: 100%;\n    }\n\n    .page.activity-advanced-edit .flex-column {\n        display: flex;\n        flex-direction: column;\n        flex-basis: 100%;\n        flex: 1;\n        margin: 5px 5px 5px 5px;\n    }\n\n    .page.activity-advanced-edit .advanced-learn-more {\n        margin-top: 20px;\n    }\n\n    .page.activity-advanced-edit .data-bit.no-wrap {\n        white-space: nowrap;\n    }\n\n    .page.activity-advanced-edit .trim-band {\n        opacity: 0.8;\n    }\n\n    .page.activity-advanced-edit .trim-slider {\n        margin-top: -8px;\n        margin-left: 18px;\n        margin-right: 8px;\n    }\n\n    /*  ======================\n        Activity Intervals Edit\n        ======================  */\n\n    .page.activity-intervals-edit .edit-intervals-title {\n        text-transform: uppercase;\n        margin-bottom: 15px;\n        margin-left: 10px;\n    }\n\n    .page.activity-intervals-edit .edit-intervals-button-container {\n        display: flex;\n        width: 30%;\n        justify-content: space-between;\n    }\n\n    .page.activity-intervals-edit .edit-intervals-learn-more span {\n        font-size: 12px;\n        font-weight: normal;\n        color: rgb(108, 108, 108);\n        line-height: 18px;\n    }\n\n    .page.activity-intervals-edit .edit-intervals-button-container button {\n        box-shadow: none;\n        border-radius: 4px;\n        border: none;\n        font-size: 14px;\n        font-weight: 300;\n        text-align: center;\n        text-shadow: 0 1px 0 #0c7cad;\n        color: #fafafa;\n    }\n\n    .page.activity-intervals-edit .edit-intervals-button-container button.reverse {\n        border: 1px solid rgb(228, 228, 228);\n        color: rgb(0, 0, 0);\n        font-weight: normal;\n        text-shadow: none;\n    }\n\n    /*  ======================\n        Sticky Header\n        ======================  */\n    .activity-advanced-edit .sticky-header {\n        background: #fff;\n        z-index: 5;\n    }\n\n    .activity-advanced-edit .sticky-header.stuck,\n    .main-nav-hover .activity-advanced-edit .sticky-header.stuck {\n        position: fixed;\n        z-index: 3;\n    }\n\n    .loading-overlay.spinner-container {\n        content: '';\n        display: block;\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(255, 255, 255, 0.9);\n        z-index: 999;\n    }\n\n    .spinner-container .absolute-center {\n        position: fixed;\n        z-index: 999;\n        height: 2em;\n        width: 2em;\n        overflow: show;\n        margin: auto;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n    }\n\n    .activity-detail .spinner-container .h5.text-center {\n        width: 200px;\n        margin-left: -63px;\n    }\n\n    #advanced-activity-tab-placeholder .tooltip-error {\n        z-index: 40 !important; /* sticky header issue */\n    }\n\n    @media print {\n        .main-nav,\n        header.header,\n        .takeover-container,\n        .system-message {\n            display: none;\n        }\n\n        body,\n        html,\n        .main-body,\n        .main-body .content {\n            overflow: visible;\n        }\n    }\n\n    /*  ======================\n        Responsiveness Upgrades\n        ======================  */\n    .page.activity-detail #activityToolbarViewPlaceholder,\n    .page.activity-detail #activityIntroViewPlaceholder {\n        display: flex;\n        justify-content: space-between;\n    }\n\n    .page.activity-detail #gearStatusViewPlaceholder {\n        white-space: nowrap;\n    }\n\n    @media (max-width: 1049px) {\n        .page.activity-detail #activityToolbarViewPlaceholder,\n        .page.activity-detail #activityIntroViewPlaceholder {\n            margin: 0 0 10px;\n        }\n\n        .page.activity-detail #activityToolbarViewPlaceholder {\n            justify-content: flex-start;\n        }\n\n        .page.activity-detail .privacy-consent,\n        .page.activity-detail #gear-menu-list {\n            float: left;\n            left: 0;\n            min-width: 240px;\n        }\n\n        .page.activity-detail .privacy-consent {\n            min-width: 280px;\n        }\n\n        .page.activity-detail .privacy-state-current,\n        .page.activity-detail #gear-menu-list .icon-gear {\n            float: left;\n            left: 5px;\n        }\n    }\n\n    @media (max-width: 767px) {\n        .page.activity-detail #activityToolbarViewPlaceholder,\n        .page.activity-detail #activityIntroViewPlaceholder {\n            margin: 0;\n        }\n    }\n\n    @media (max-width: 415px) {\n        .page.activity-detail .trophy-container .inline-edit-trigger {\n            margin-top: 0;\n        }\n\n        .page.activity-detail .date-block .dropdown {\n            display: block;\n        }\n\n        .page.activity-detail .event-type,\n        .page.activity-detail .course-type {\n            margin-right: 0;\n        }\n\n        .page.activity-detail .dropdown-backdrop {\n            display: inline;\n        }\n\n        .page.activity-detail #device-info ul.dropdown-menu {\n            left: -50px;\n        }\n    }\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            blue_primary: "" + i(276).locals.blue_primary,
            textLight: "" + i(276).locals.textLight,
            endXS: "" + i(1217).locals.endXS,
            endSM: "" + i(1217).locals.endSM
        }
    },
    1917: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(1643)
          , s = n.a.Collection.extend({
            model: r.a,
            url: function() {
                return "/proxy/segment-service/segment/list/" + this.activityId
            },
            initialize: function(e, t) {
                if ("undefined" === typeof t.activityId)
                    throw "SegmentResultsByActvityId requires an activity ID";
                this.activityId = t.activityId
            },
            comparator: function(e) {
                return e.get("timeEnteredSegment")
            },
            findByUuid: function(e) {
                return this.find(function(t) {
                    return t.get("segmentUuid") == e
                })
            }
        });
        t.a = s
    },
    1918: function(e, t) {
        !function(e, t, i) {
            L.drawVersion = "1.0.4",
            L.Draw = {},
            L.drawLocal = {
                draw: {
                    toolbar: {
                        actions: {
                            title: "Cancel drawing",
                            text: "Cancel"
                        },
                        finish: {
                            title: "Finish drawing",
                            text: "Finish"
                        },
                        undo: {
                            title: "Delete last point drawn",
                            text: "Delete last point"
                        },
                        buttons: {
                            polyline: "Draw a polyline",
                            polygon: "Draw a polygon",
                            rectangle: "Draw a rectangle",
                            circle: "Draw a circle",
                            marker: "Draw a marker",
                            circlemarker: "Draw a circlemarker"
                        }
                    },
                    handlers: {
                        circle: {
                            tooltip: {
                                start: "Click and drag to draw circle."
                            },
                            radius: "Radius"
                        },
                        circlemarker: {
                            tooltip: {
                                start: "Click map to place circle marker."
                            }
                        },
                        marker: {
                            tooltip: {
                                start: "Click map to place marker."
                            }
                        },
                        polygon: {
                            tooltip: {
                                start: "Click to start drawing shape.",
                                cont: "Click to continue drawing shape.",
                                end: "Click first point to close this shape."
                            }
                        },
                        polyline: {
                            error: "<strong>Error:</strong> shape edges cannot cross!",
                            tooltip: {
                                start: "Click to start drawing line.",
                                cont: "Click to continue drawing line.",
                                end: "Click last point to finish line."
                            }
                        },
                        rectangle: {
                            tooltip: {
                                start: "Click and drag to draw rectangle."
                            }
                        },
                        simpleshape: {
                            tooltip: {
                                end: "Release mouse to finish drawing."
                            }
                        }
                    }
                },
                edit: {
                    toolbar: {
                        actions: {
                            save: {
                                title: "Save changes",
                                text: "Save"
                            },
                            cancel: {
                                title: "Cancel editing, discards all changes",
                                text: "Cancel"
                            },
                            clearAll: {
                                title: "Clear all layers",
                                text: "Clear All"
                            }
                        },
                        buttons: {
                            edit: "Edit layers",
                            editDisabled: "No layers to edit",
                            remove: "Delete layers",
                            removeDisabled: "No layers to delete"
                        }
                    },
                    handlers: {
                        edit: {
                            tooltip: {
                                text: "Drag handles or markers to edit features.",
                                subtext: "Click cancel to undo changes."
                            }
                        },
                        remove: {
                            tooltip: {
                                text: "Click on a feature to remove."
                            }
                        }
                    }
                }
            },
            L.Draw.Event = {},
            L.Draw.Event.CREATED = "draw:created",
            L.Draw.Event.EDITED = "draw:edited",
            L.Draw.Event.DELETED = "draw:deleted",
            L.Draw.Event.DRAWSTART = "draw:drawstart",
            L.Draw.Event.DRAWSTOP = "draw:drawstop",
            L.Draw.Event.DRAWVERTEX = "draw:drawvertex",
            L.Draw.Event.EDITSTART = "draw:editstart",
            L.Draw.Event.EDITMOVE = "draw:editmove",
            L.Draw.Event.EDITRESIZE = "draw:editresize",
            L.Draw.Event.EDITVERTEX = "draw:editvertex",
            L.Draw.Event.EDITSTOP = "draw:editstop",
            L.Draw.Event.DELETESTART = "draw:deletestart",
            L.Draw.Event.DELETESTOP = "draw:deletestop",
            L.Draw.Event.TOOLBAROPENED = "draw:toolbaropened",
            L.Draw.Event.TOOLBARCLOSED = "draw:toolbarclosed",
            L.Draw.Event.MARKERCONTEXT = "draw:markercontext",
            L.Draw = L.Draw || {},
            L.Draw.Feature = L.Handler.extend({
                initialize: function(e, t) {
                    this._map = e,
                    this._container = e._container,
                    this._overlayPane = e._panes.overlayPane,
                    this._popupPane = e._panes.popupPane,
                    t && t.shapeOptions && (t.shapeOptions = L.Util.extend({}, this.options.shapeOptions, t.shapeOptions)),
                    L.setOptions(this, t);
                    var i = L.version.split(".");
                    1 === parseInt(i[0], 10) && parseInt(i[1], 10) >= 2 ? L.Draw.Feature.include(L.Evented.prototype) : L.Draw.Feature.include(L.Mixin.Events)
                },
                enable: function() {
                    this._enabled || (L.Handler.prototype.enable.call(this),
                    this.fire("enabled", {
                        handler: this.type
                    }),
                    this._map.fire(L.Draw.Event.DRAWSTART, {
                        layerType: this.type
                    }))
                },
                disable: function() {
                    this._enabled && (L.Handler.prototype.disable.call(this),
                    this._map.fire(L.Draw.Event.DRAWSTOP, {
                        layerType: this.type
                    }),
                    this.fire("disabled", {
                        handler: this.type
                    }))
                },
                addHooks: function() {
                    var e = this._map;
                    e && (L.DomUtil.disableTextSelection(),
                    e.getContainer().focus(),
                    this._tooltip = new L.Draw.Tooltip(this._map),
                    L.DomEvent.on(this._container, "keyup", this._cancelDrawing, this))
                },
                removeHooks: function() {
                    this._map && (L.DomUtil.enableTextSelection(),
                    this._tooltip.dispose(),
                    this._tooltip = null,
                    L.DomEvent.off(this._container, "keyup", this._cancelDrawing, this))
                },
                setOptions: function(e) {
                    L.setOptions(this, e)
                },
                _fireCreatedEvent: function(e) {
                    this._map.fire(L.Draw.Event.CREATED, {
                        layer: e,
                        layerType: this.type
                    })
                },
                _cancelDrawing: function(e) {
                    27 === e.keyCode && (this._map.fire("draw:canceled", {
                        layerType: this.type
                    }),
                    this.disable())
                }
            }),
            L.Draw.Polyline = L.Draw.Feature.extend({
                statics: {
                    TYPE: "polyline"
                },
                Poly: L.Polyline,
                options: {
                    allowIntersection: !0,
                    repeatMode: !1,
                    drawError: {
                        color: "#b00b00",
                        timeout: 2500
                    },
                    icon: new L.DivIcon({
                        iconSize: new L.Point(8,8),
                        className: "leaflet-div-icon leaflet-editing-icon"
                    }),
                    touchIcon: new L.DivIcon({
                        iconSize: new L.Point(20,20),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"
                    }),
                    guidelineDistance: 20,
                    maxGuideLineLength: 4e3,
                    shapeOptions: {
                        stroke: !0,
                        color: "#3388ff",
                        weight: 4,
                        opacity: .5,
                        fill: !1,
                        clickable: !0
                    },
                    metric: !0,
                    feet: !0,
                    nautic: !1,
                    showLength: !0,
                    zIndexOffset: 2e3,
                    factor: 1,
                    maxPoints: 0
                },
                initialize: function(e, t) {
                    L.Browser.touch && (this.options.icon = this.options.touchIcon),
                    this.options.drawError.message = L.drawLocal.draw.handlers.polyline.error,
                    t && t.drawError && (t.drawError = L.Util.extend({}, this.options.drawError, t.drawError)),
                    this.type = L.Draw.Polyline.TYPE,
                    L.Draw.Feature.prototype.initialize.call(this, e, t)
                },
                addHooks: function() {
                    L.Draw.Feature.prototype.addHooks.call(this),
                    this._map && (this._markers = [],
                    this._markerGroup = new L.LayerGroup,
                    this._map.addLayer(this._markerGroup),
                    this._poly = new L.Polyline([],this.options.shapeOptions),
                    this._tooltip.updateContent(this._getTooltipText()),
                    this._mouseMarker || (this._mouseMarker = L.marker(this._map.getCenter(), {
                        icon: L.divIcon({
                            className: "leaflet-mouse-marker",
                            iconAnchor: [20, 20],
                            iconSize: [40, 40]
                        }),
                        opacity: 0,
                        zIndexOffset: this.options.zIndexOffset
                    })),
                    this._mouseMarker.on("mouseout", this._onMouseOut, this).on("mousemove", this._onMouseMove, this).on("mousedown", this._onMouseDown, this).on("mouseup", this._onMouseUp, this).addTo(this._map),
                    this._map.on("mouseup", this._onMouseUp, this).on("mousemove", this._onMouseMove, this).on("zoomlevelschange", this._onZoomEnd, this).on("touchstart", this._onTouch, this).on("zoomend", this._onZoomEnd, this))
                },
                removeHooks: function() {
                    L.Draw.Feature.prototype.removeHooks.call(this),
                    this._clearHideErrorTimeout(),
                    this._cleanUpShape(),
                    this._map.removeLayer(this._markerGroup),
                    delete this._markerGroup,
                    delete this._markers,
                    this._map.removeLayer(this._poly),
                    delete this._poly,
                    this._mouseMarker.off("mousedown", this._onMouseDown, this).off("mouseout", this._onMouseOut, this).off("mouseup", this._onMouseUp, this).off("mousemove", this._onMouseMove, this),
                    this._map.removeLayer(this._mouseMarker),
                    delete this._mouseMarker,
                    this._clearGuides(),
                    this._map.off("mouseup", this._onMouseUp, this).off("mousemove", this._onMouseMove, this).off("zoomlevelschange", this._onZoomEnd, this).off("zoomend", this._onZoomEnd, this).off("touchstart", this._onTouch, this).off("click", this._onTouch, this)
                },
                deleteLastVertex: function() {
                    if (!(this._markers.length <= 1)) {
                        var e = this._markers.pop()
                          , t = this._poly
                          , i = t.getLatLngs()
                          , a = i.splice(-1, 1)[0];
                        this._poly.setLatLngs(i),
                        this._markerGroup.removeLayer(e),
                        t.getLatLngs().length < 2 && this._map.removeLayer(t),
                        this._vertexChanged(a, !1)
                    }
                },
                addVertex: function(e) {
                    this._markers.length >= 2 && !this.options.allowIntersection && this._poly.newLatLngIntersects(e) ? this._showErrorTooltip() : (this._errorShown && this._hideErrorTooltip(),
                    this._markers.push(this._createMarker(e)),
                    this._poly.addLatLng(e),
                    2 === this._poly.getLatLngs().length && this._map.addLayer(this._poly),
                    this._vertexChanged(e, !0))
                },
                completeShape: function() {
                    this._markers.length <= 1 || !this._shapeIsValid() || (this._fireCreatedEvent(),
                    this.disable(),
                    this.options.repeatMode && this.enable())
                },
                _finishShape: function() {
                    var e = this._poly._defaultShape ? this._poly._defaultShape() : this._poly.getLatLngs()
                      , t = this._poly.newLatLngIntersects(e[e.length - 1]);
                    !this.options.allowIntersection && t || !this._shapeIsValid() ? this._showErrorTooltip() : (this._fireCreatedEvent(),
                    this.disable(),
                    this.options.repeatMode && this.enable())
                },
                _shapeIsValid: function() {
                    return !0
                },
                _onZoomEnd: function() {
                    null !== this._markers && this._updateGuide()
                },
                _onMouseMove: function(e) {
                    var t = this._map.mouseEventToLayerPoint(e.originalEvent)
                      , i = this._map.layerPointToLatLng(t);
                    this._currentLatLng = i,
                    this._updateTooltip(i),
                    this._updateGuide(t),
                    this._mouseMarker.setLatLng(i),
                    L.DomEvent.preventDefault(e.originalEvent)
                },
                _vertexChanged: function(e, t) {
                    this._map.fire(L.Draw.Event.DRAWVERTEX, {
                        layers: this._markerGroup
                    }),
                    this._updateFinishHandler(),
                    this._updateRunningMeasure(e, t),
                    this._clearGuides(),
                    this._updateTooltip()
                },
                _onMouseDown: function(e) {
                    if (!this._clickHandled && !this._touchHandled && !this._disableMarkers) {
                        this._onMouseMove(e),
                        this._clickHandled = !0,
                        this._disableNewMarkers();
                        var t = e.originalEvent
                          , i = t.clientX
                          , a = t.clientY;
                        this._startPoint.call(this, i, a)
                    }
                },
                _startPoint: function(e, t) {
                    this._mouseDownOrigin = L.point(e, t)
                },
                _onMouseUp: function(e) {
                    var t = e.originalEvent
                      , i = t.clientX
                      , a = t.clientY;
                    this._endPoint.call(this, i, a, e),
                    this._clickHandled = null
                },
                _endPoint: function(t, i, a) {
                    if (this._mouseDownOrigin) {
                        var n = L.point(t, i).distanceTo(this._mouseDownOrigin)
                          , r = this._calculateFinishDistance(a.latlng);
                        this.options.maxPoints > 1 && this.options.maxPoints == this._markers.length + 1 ? (this.addVertex(a.latlng),
                        this._finishShape()) : r < 10 && L.Browser.touch ? this._finishShape() : Math.abs(n) < 9 * (e.devicePixelRatio || 1) && this.addVertex(a.latlng),
                        this._enableNewMarkers()
                    }
                    this._mouseDownOrigin = null
                },
                _onTouch: function(e) {
                    var t, i, a = e.originalEvent;
                    !a.touches || !a.touches[0] || this._clickHandled || this._touchHandled || this._disableMarkers || (t = a.touches[0].clientX,
                    i = a.touches[0].clientY,
                    this._disableNewMarkers(),
                    this._touchHandled = !0,
                    this._startPoint.call(this, t, i),
                    this._endPoint.call(this, t, i, e),
                    this._touchHandled = null),
                    this._clickHandled = null
                },
                _onMouseOut: function() {
                    this._tooltip && this._tooltip._onMouseOut.call(this._tooltip)
                },
                _calculateFinishDistance: function(e) {
                    var t;
                    if (this._markers.length > 0) {
                        var i;
                        if (this.type === L.Draw.Polyline.TYPE)
                            i = this._markers[this._markers.length - 1];
                        else {
                            if (this.type !== L.Draw.Polygon.TYPE)
                                return 1 / 0;
                            i = this._markers[0]
                        }
                        var a = this._map.latLngToContainerPoint(i.getLatLng())
                          , n = new L.Marker(e,{
                            icon: this.options.icon,
                            zIndexOffset: 2 * this.options.zIndexOffset
                        })
                          , r = this._map.latLngToContainerPoint(n.getLatLng());
                        t = a.distanceTo(r)
                    } else
                        t = 1 / 0;
                    return t
                },
                _updateFinishHandler: function() {
                    var e = this._markers.length;
                    e > 1 && this._markers[e - 1].on("click", this._finishShape, this),
                    e > 2 && this._markers[e - 2].off("click", this._finishShape, this)
                },
                _createMarker: function(e) {
                    var t = new L.Marker(e,{
                        icon: this.options.icon,
                        zIndexOffset: 2 * this.options.zIndexOffset
                    });
                    return this._markerGroup.addLayer(t),
                    t
                },
                _updateGuide: function(e) {
                    var t = this._markers ? this._markers.length : 0;
                    t > 0 && (e = e || this._map.latLngToLayerPoint(this._currentLatLng),
                    this._clearGuides(),
                    this._drawGuide(this._map.latLngToLayerPoint(this._markers[t - 1].getLatLng()), e))
                },
                _updateTooltip: function(e) {
                    var t = this._getTooltipText();
                    e && this._tooltip.updatePosition(e),
                    this._errorShown || this._tooltip.updateContent(t)
                },
                _drawGuide: function(e, t) {
                    var i, a, n, r = Math.floor(Math.sqrt(Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2))), s = this.options.guidelineDistance, o = this.options.maxGuideLineLength, l = r > o ? r - o : s;
                    for (this._guidesContainer || (this._guidesContainer = L.DomUtil.create("div", "leaflet-draw-guides", this._overlayPane)); l < r; l += this.options.guidelineDistance)
                        i = l / r,
                        a = {
                            x: Math.floor(e.x * (1 - i) + i * t.x),
                            y: Math.floor(e.y * (1 - i) + i * t.y)
                        },
                        (n = L.DomUtil.create("div", "leaflet-draw-guide-dash", this._guidesContainer)).style.backgroundColor = this._errorShown ? this.options.drawError.color : this.options.shapeOptions.color,
                        L.DomUtil.setPosition(n, a)
                },
                _updateGuideColor: function(e) {
                    if (this._guidesContainer)
                        for (var t = 0, i = this._guidesContainer.childNodes.length; t < i; t++)
                            this._guidesContainer.childNodes[t].style.backgroundColor = e
                },
                _clearGuides: function() {
                    if (this._guidesContainer)
                        for (; this._guidesContainer.firstChild; )
                            this._guidesContainer.removeChild(this._guidesContainer.firstChild)
                },
                _getTooltipText: function() {
                    var e, t, i = this.options.showLength;
                    return 0 === this._markers.length ? e = {
                        text: L.drawLocal.draw.handlers.polyline.tooltip.start
                    } : (t = i ? this._getMeasurementString() : "",
                    e = 1 === this._markers.length ? {
                        text: L.drawLocal.draw.handlers.polyline.tooltip.cont,
                        subtext: t
                    } : {
                        text: L.drawLocal.draw.handlers.polyline.tooltip.end,
                        subtext: t
                    }),
                    e
                },
                _updateRunningMeasure: function(e, t) {
                    var i, a, n = this._markers.length;
                    1 === this._markers.length ? this._measurementRunningTotal = 0 : (i = n - (t ? 2 : 1),
                    a = L.GeometryUtil.isVersion07x() ? e.distanceTo(this._markers[i].getLatLng()) * (this.options.factor || 1) : this._map.distance(e, this._markers[i].getLatLng()) * (this.options.factor || 1),
                    this._measurementRunningTotal += a * (t ? 1 : -1))
                },
                _getMeasurementString: function() {
                    var e, t = this._currentLatLng, i = this._markers[this._markers.length - 1].getLatLng();
                    return e = L.GeometryUtil.isVersion07x() ? i && t && t.distanceTo ? this._measurementRunningTotal + t.distanceTo(i) * (this.options.factor || 1) : this._measurementRunningTotal || 0 : i && t ? this._measurementRunningTotal + this._map.distance(t, i) * (this.options.factor || 1) : this._measurementRunningTotal || 0,
                    L.GeometryUtil.readableDistance(e, this.options.metric, this.options.feet, this.options.nautic, this.options.precision)
                },
                _showErrorTooltip: function() {
                    this._errorShown = !0,
                    this._tooltip.showAsError().updateContent({
                        text: this.options.drawError.message
                    }),
                    this._updateGuideColor(this.options.drawError.color),
                    this._poly.setStyle({
                        color: this.options.drawError.color
                    }),
                    this._clearHideErrorTimeout(),
                    this._hideErrorTimeout = setTimeout(L.Util.bind(this._hideErrorTooltip, this), this.options.drawError.timeout)
                },
                _hideErrorTooltip: function() {
                    this._errorShown = !1,
                    this._clearHideErrorTimeout(),
                    this._tooltip.removeError().updateContent(this._getTooltipText()),
                    this._updateGuideColor(this.options.shapeOptions.color),
                    this._poly.setStyle({
                        color: this.options.shapeOptions.color
                    })
                },
                _clearHideErrorTimeout: function() {
                    this._hideErrorTimeout && (clearTimeout(this._hideErrorTimeout),
                    this._hideErrorTimeout = null)
                },
                _disableNewMarkers: function() {
                    this._disableMarkers = !0
                },
                _enableNewMarkers: function() {
                    setTimeout(function() {
                        this._disableMarkers = !1
                    }
                    .bind(this), 50)
                },
                _cleanUpShape: function() {
                    this._markers.length > 1 && this._markers[this._markers.length - 1].off("click", this._finishShape, this)
                },
                _fireCreatedEvent: function() {
                    var e = new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);
                    L.Draw.Feature.prototype._fireCreatedEvent.call(this, e)
                }
            }),
            L.Draw.Polygon = L.Draw.Polyline.extend({
                statics: {
                    TYPE: "polygon"
                },
                Poly: L.Polygon,
                options: {
                    showArea: !1,
                    showLength: !1,
                    shapeOptions: {
                        stroke: !0,
                        color: "#3388ff",
                        weight: 4,
                        opacity: .5,
                        fill: !0,
                        fillColor: null,
                        fillOpacity: .2,
                        clickable: !0
                    },
                    metric: !0,
                    feet: !0,
                    nautic: !1,
                    precision: {}
                },
                initialize: function(e, t) {
                    L.Draw.Polyline.prototype.initialize.call(this, e, t),
                    this.type = L.Draw.Polygon.TYPE
                },
                _updateFinishHandler: function() {
                    var e = this._markers.length;
                    1 === e && this._markers[0].on("click", this._finishShape, this),
                    e > 2 && (this._markers[e - 1].on("dblclick", this._finishShape, this),
                    e > 3 && this._markers[e - 2].off("dblclick", this._finishShape, this))
                },
                _getTooltipText: function() {
                    var e, t;
                    return 0 === this._markers.length ? e = L.drawLocal.draw.handlers.polygon.tooltip.start : this._markers.length < 3 ? (e = L.drawLocal.draw.handlers.polygon.tooltip.cont,
                    t = this._getMeasurementString()) : (e = L.drawLocal.draw.handlers.polygon.tooltip.end,
                    t = this._getMeasurementString()),
                    {
                        text: e,
                        subtext: t
                    }
                },
                _getMeasurementString: function() {
                    var e = this._area
                      , t = "";
                    return e || this.options.showLength ? (this.options.showLength && (t = L.Draw.Polyline.prototype._getMeasurementString.call(this)),
                    e && (t += "<br>" + L.GeometryUtil.readableArea(e, this.options.metric, this.options.precision)),
                    t) : null
                },
                _shapeIsValid: function() {
                    return this._markers.length >= 3
                },
                _vertexChanged: function(e, t) {
                    var i;
                    !this.options.allowIntersection && this.options.showArea && (i = this._poly.getLatLngs(),
                    this._area = L.GeometryUtil.geodesicArea(i)),
                    L.Draw.Polyline.prototype._vertexChanged.call(this, e, t)
                },
                _cleanUpShape: function() {
                    var e = this._markers.length;
                    e > 0 && (this._markers[0].off("click", this._finishShape, this),
                    e > 2 && this._markers[e - 1].off("dblclick", this._finishShape, this))
                }
            }),
            L.SimpleShape = {},
            L.Draw.SimpleShape = L.Draw.Feature.extend({
                options: {
                    repeatMode: !1
                },
                initialize: function(e, t) {
                    this._endLabelText = L.drawLocal.draw.handlers.simpleshape.tooltip.end,
                    L.Draw.Feature.prototype.initialize.call(this, e, t)
                },
                addHooks: function() {
                    L.Draw.Feature.prototype.addHooks.call(this),
                    this._map && (this._mapDraggable = this._map.dragging.enabled(),
                    this._mapDraggable && this._map.dragging.disable(),
                    this._container.style.cursor = "crosshair",
                    this._tooltip.updateContent({
                        text: this._initialLabelText
                    }),
                    this._map.on("mousedown", this._onMouseDown, this).on("mousemove", this._onMouseMove, this).on("touchstart", this._onMouseDown, this).on("touchmove", this._onMouseMove, this),
                    t.addEventListener("touchstart", L.DomEvent.preventDefault, {
                        passive: !1
                    }))
                },
                removeHooks: function() {
                    L.Draw.Feature.prototype.removeHooks.call(this),
                    this._map && (this._mapDraggable && this._map.dragging.enable(),
                    this._container.style.cursor = "",
                    this._map.off("mousedown", this._onMouseDown, this).off("mousemove", this._onMouseMove, this).off("touchstart", this._onMouseDown, this).off("touchmove", this._onMouseMove, this),
                    L.DomEvent.off(t, "mouseup", this._onMouseUp, this),
                    L.DomEvent.off(t, "touchend", this._onMouseUp, this),
                    t.removeEventListener("touchstart", L.DomEvent.preventDefault),
                    this._shape && (this._map.removeLayer(this._shape),
                    delete this._shape)),
                    this._isDrawing = !1
                },
                _getTooltipText: function() {
                    return {
                        text: this._endLabelText
                    }
                },
                _onMouseDown: function(e) {
                    this._isDrawing = !0,
                    this._startLatLng = e.latlng,
                    L.DomEvent.on(t, "mouseup", this._onMouseUp, this).on(t, "touchend", this._onMouseUp, this).preventDefault(e.originalEvent)
                },
                _onMouseMove: function(e) {
                    var t = e.latlng;
                    this._tooltip.updatePosition(t),
                    this._isDrawing && (this._tooltip.updateContent(this._getTooltipText()),
                    this._drawShape(t))
                },
                _onMouseUp: function() {
                    this._shape && this._fireCreatedEvent(),
                    this.disable(),
                    this.options.repeatMode && this.enable()
                }
            }),
            L.Draw.Rectangle = L.Draw.SimpleShape.extend({
                statics: {
                    TYPE: "rectangle"
                },
                options: {
                    shapeOptions: {
                        stroke: !0,
                        color: "#3388ff",
                        weight: 4,
                        opacity: .5,
                        fill: !0,
                        fillColor: null,
                        fillOpacity: .2,
                        clickable: !0
                    },
                    showArea: !0,
                    metric: !0
                },
                initialize: function(e, t) {
                    this.type = L.Draw.Rectangle.TYPE,
                    this._initialLabelText = L.drawLocal.draw.handlers.rectangle.tooltip.start,
                    L.Draw.SimpleShape.prototype.initialize.call(this, e, t)
                },
                disable: function() {
                    this._enabled && (this._isCurrentlyTwoClickDrawing = !1,
                    L.Draw.SimpleShape.prototype.disable.call(this))
                },
                _onMouseUp: function(e) {
                    this._shape || this._isCurrentlyTwoClickDrawing ? this._isCurrentlyTwoClickDrawing && !function(e, t) {
                        for (; (e = e.parentElement) && !e.classList.contains(t); )
                            ;
                        return e
                    }(e.target, "leaflet-pane") || L.Draw.SimpleShape.prototype._onMouseUp.call(this) : this._isCurrentlyTwoClickDrawing = !0
                },
                _drawShape: function(e) {
                    this._shape ? this._shape.setBounds(new L.LatLngBounds(this._startLatLng,e)) : (this._shape = new L.Rectangle(new L.LatLngBounds(this._startLatLng,e),this.options.shapeOptions),
                    this._map.addLayer(this._shape))
                },
                _fireCreatedEvent: function() {
                    var e = new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);
                    L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this, e)
                },
                _getTooltipText: function() {
                    var e, t, i, a = L.Draw.SimpleShape.prototype._getTooltipText.call(this), n = this._shape, r = this.options.showArea;
                    return n && (e = this._shape._defaultShape ? this._shape._defaultShape() : this._shape.getLatLngs(),
                    t = L.GeometryUtil.geodesicArea(e),
                    i = r ? L.GeometryUtil.readableArea(t, this.options.metric) : ""),
                    {
                        text: a.text,
                        subtext: i
                    }
                }
            }),
            L.Draw.Marker = L.Draw.Feature.extend({
                statics: {
                    TYPE: "marker"
                },
                options: {
                    icon: new L.Icon.Default,
                    repeatMode: !1,
                    zIndexOffset: 2e3
                },
                initialize: function(e, t) {
                    this.type = L.Draw.Marker.TYPE,
                    this._initialLabelText = L.drawLocal.draw.handlers.marker.tooltip.start,
                    L.Draw.Feature.prototype.initialize.call(this, e, t)
                },
                addHooks: function() {
                    L.Draw.Feature.prototype.addHooks.call(this),
                    this._map && (this._tooltip.updateContent({
                        text: this._initialLabelText
                    }),
                    this._mouseMarker || (this._mouseMarker = L.marker(this._map.getCenter(), {
                        icon: L.divIcon({
                            className: "leaflet-mouse-marker",
                            iconAnchor: [20, 20],
                            iconSize: [40, 40]
                        }),
                        opacity: 0,
                        zIndexOffset: this.options.zIndexOffset
                    })),
                    this._mouseMarker.on("click", this._onClick, this).addTo(this._map),
                    this._map.on("mousemove", this._onMouseMove, this),
                    this._map.on("click", this._onTouch, this))
                },
                removeHooks: function() {
                    L.Draw.Feature.prototype.removeHooks.call(this),
                    this._map && (this._map.off("click", this._onClick, this).off("click", this._onTouch, this),
                    this._marker && (this._marker.off("click", this._onClick, this),
                    this._map.removeLayer(this._marker),
                    delete this._marker),
                    this._mouseMarker.off("click", this._onClick, this),
                    this._map.removeLayer(this._mouseMarker),
                    delete this._mouseMarker,
                    this._map.off("mousemove", this._onMouseMove, this))
                },
                _onMouseMove: function(e) {
                    var t = e.latlng;
                    this._tooltip.updatePosition(t),
                    this._mouseMarker.setLatLng(t),
                    this._marker ? (t = this._mouseMarker.getLatLng(),
                    this._marker.setLatLng(t)) : (this._marker = this._createMarker(t),
                    this._marker.on("click", this._onClick, this),
                    this._map.on("click", this._onClick, this).addLayer(this._marker))
                },
                _createMarker: function(e) {
                    return new L.Marker(e,{
                        icon: this.options.icon,
                        zIndexOffset: this.options.zIndexOffset
                    })
                },
                _onClick: function() {
                    this._fireCreatedEvent(),
                    this.disable(),
                    this.options.repeatMode && this.enable()
                },
                _onTouch: function(e) {
                    this._onMouseMove(e),
                    this._onClick()
                },
                _fireCreatedEvent: function() {
                    var e = new L.Marker.Touch(this._marker.getLatLng(),{
                        icon: this.options.icon
                    });
                    L.Draw.Feature.prototype._fireCreatedEvent.call(this, e)
                }
            }),
            L.Draw.CircleMarker = L.Draw.Marker.extend({
                statics: {
                    TYPE: "circlemarker"
                },
                options: {
                    stroke: !0,
                    color: "#3388ff",
                    weight: 4,
                    opacity: .5,
                    fill: !0,
                    fillColor: null,
                    fillOpacity: .2,
                    clickable: !0,
                    zIndexOffset: 2e3
                },
                initialize: function(e, t) {
                    this.type = L.Draw.CircleMarker.TYPE,
                    this._initialLabelText = L.drawLocal.draw.handlers.circlemarker.tooltip.start,
                    L.Draw.Feature.prototype.initialize.call(this, e, t)
                },
                _fireCreatedEvent: function() {
                    var e = new L.CircleMarker(this._marker.getLatLng(),this.options);
                    L.Draw.Feature.prototype._fireCreatedEvent.call(this, e)
                },
                _createMarker: function(e) {
                    return new L.CircleMarker(e,this.options)
                }
            }),
            L.Draw.Circle = L.Draw.SimpleShape.extend({
                statics: {
                    TYPE: "circle"
                },
                options: {
                    shapeOptions: {
                        stroke: !0,
                        color: "#3388ff",
                        weight: 4,
                        opacity: .5,
                        fill: !0,
                        fillColor: null,
                        fillOpacity: .2,
                        clickable: !0
                    },
                    showRadius: !0,
                    metric: !0,
                    feet: !0,
                    nautic: !1
                },
                initialize: function(e, t) {
                    this.type = L.Draw.Circle.TYPE,
                    this._initialLabelText = L.drawLocal.draw.handlers.circle.tooltip.start,
                    L.Draw.SimpleShape.prototype.initialize.call(this, e, t)
                },
                _drawShape: function(e) {
                    if (L.GeometryUtil.isVersion07x())
                        var t = this._startLatLng.distanceTo(e);
                    else
                        t = this._map.distance(this._startLatLng, e);
                    this._shape ? this._shape.setRadius(t) : (this._shape = new L.Circle(this._startLatLng,t,this.options.shapeOptions),
                    this._map.addLayer(this._shape))
                },
                _fireCreatedEvent: function() {
                    var e = new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);
                    L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this, e)
                },
                _onMouseMove: function(e) {
                    var t, i = e.latlng, a = this.options.showRadius, n = this.options.metric;
                    if (this._tooltip.updatePosition(i),
                    this._isDrawing) {
                        this._drawShape(i),
                        t = this._shape.getRadius().toFixed(1);
                        var r = "";
                        a && (r = L.drawLocal.draw.handlers.circle.radius + ": " + L.GeometryUtil.readableDistance(t, n, this.options.feet, this.options.nautic)),
                        this._tooltip.updateContent({
                            text: this._endLabelText,
                            subtext: r
                        })
                    }
                }
            }),
            L.Edit = L.Edit || {},
            L.Edit.Marker = L.Handler.extend({
                initialize: function(e, t) {
                    this._marker = e,
                    L.setOptions(this, t)
                },
                addHooks: function() {
                    var e = this._marker;
                    e.dragging.enable(),
                    e.on("dragend", this._onDragEnd, e),
                    this._toggleMarkerHighlight()
                },
                removeHooks: function() {
                    var e = this._marker;
                    e.dragging.disable(),
                    e.off("dragend", this._onDragEnd, e),
                    this._toggleMarkerHighlight()
                },
                _onDragEnd: function(e) {
                    var t = e.target;
                    t.edited = !0,
                    this._map.fire(L.Draw.Event.EDITMOVE, {
                        layer: t
                    })
                },
                _toggleMarkerHighlight: function() {
                    var e = this._marker._icon;
                    e && (e.style.display = "none",
                    L.DomUtil.hasClass(e, "leaflet-edit-marker-selected") ? (L.DomUtil.removeClass(e, "leaflet-edit-marker-selected"),
                    this._offsetMarker(e, -4)) : (L.DomUtil.addClass(e, "leaflet-edit-marker-selected"),
                    this._offsetMarker(e, 4)),
                    e.style.display = "")
                },
                _offsetMarker: function(e, t) {
                    var i = parseInt(e.style.marginTop, 10) - t
                      , a = parseInt(e.style.marginLeft, 10) - t;
                    e.style.marginTop = i + "px",
                    e.style.marginLeft = a + "px"
                }
            }),
            L.Marker.addInitHook(function() {
                L.Edit.Marker && (this.editing = new L.Edit.Marker(this),
                this.options.editable && this.editing.enable())
            }),
            L.Edit = L.Edit || {},
            L.Edit.Poly = L.Handler.extend({
                initialize: function(e) {
                    this.latlngs = [e._latlngs],
                    e._holes && (this.latlngs = this.latlngs.concat(e._holes)),
                    this._poly = e,
                    this._poly.on("revert-edited", this._updateLatLngs, this)
                },
                _defaultShape: function() {
                    return L.Polyline._flat ? L.Polyline._flat(this._poly._latlngs) ? this._poly._latlngs : this._poly._latlngs[0] : this._poly._latlngs
                },
                _eachVertexHandler: function(e) {
                    for (var t = 0; t < this._verticesHandlers.length; t++)
                        e(this._verticesHandlers[t])
                },
                addHooks: function() {
                    this._initHandlers(),
                    this._eachVertexHandler(function(e) {
                        e.addHooks()
                    })
                },
                removeHooks: function() {
                    this._eachVertexHandler(function(e) {
                        e.removeHooks()
                    })
                },
                updateMarkers: function() {
                    this._eachVertexHandler(function(e) {
                        e.updateMarkers()
                    })
                },
                _initHandlers: function() {
                    this._verticesHandlers = [];
                    for (var e = 0; e < this.latlngs.length; e++)
                        this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[e],this._poly.options.poly))
                },
                _updateLatLngs: function(e) {
                    this.latlngs = [e.layer._latlngs],
                    e.layer._holes && (this.latlngs = this.latlngs.concat(e.layer._holes))
                }
            }),
            L.Edit.PolyVerticesEdit = L.Handler.extend({
                options: {
                    icon: new L.DivIcon({
                        iconSize: new L.Point(8,8),
                        className: "leaflet-div-icon leaflet-editing-icon"
                    }),
                    touchIcon: new L.DivIcon({
                        iconSize: new L.Point(20,20),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"
                    }),
                    drawError: {
                        color: "#b00b00",
                        timeout: 1e3
                    }
                },
                initialize: function(e, t, i) {
                    L.Browser.touch && (this.options.icon = this.options.touchIcon),
                    this._poly = e,
                    i && i.drawError && (i.drawError = L.Util.extend({}, this.options.drawError, i.drawError)),
                    this._latlngs = t,
                    L.setOptions(this, i)
                },
                _defaultShape: function() {
                    return L.Polyline._flat ? L.Polyline._flat(this._latlngs) ? this._latlngs : this._latlngs[0] : this._latlngs
                },
                addHooks: function() {
                    var e = this._poly
                      , t = e._path;
                    e instanceof L.Polygon || (e.options.fill = !1,
                    e.options.editing && (e.options.editing.fill = !1)),
                    t && e.options.editing && e.options.editing.className && (e.options.original.className && e.options.original.className.split(" ").forEach(function(e) {
                        L.DomUtil.removeClass(t, e)
                    }),
                    e.options.editing.className.split(" ").forEach(function(e) {
                        L.DomUtil.addClass(t, e)
                    })),
                    e.setStyle(e.options.editing),
                    this._poly._map && (this._map = this._poly._map,
                    this._markerGroup || this._initMarkers(),
                    this._poly._map.addLayer(this._markerGroup))
                },
                removeHooks: function() {
                    var e = this._poly
                      , t = e._path;
                    t && e.options.editing && e.options.editing.className && (e.options.editing.className.split(" ").forEach(function(e) {
                        L.DomUtil.removeClass(t, e)
                    }),
                    e.options.original.className && e.options.original.className.split(" ").forEach(function(e) {
                        L.DomUtil.addClass(t, e)
                    })),
                    e.setStyle(e.options.original),
                    e._map && (e._map.removeLayer(this._markerGroup),
                    delete this._markerGroup,
                    delete this._markers)
                },
                updateMarkers: function() {
                    this._markerGroup.clearLayers(),
                    this._initMarkers()
                },
                _initMarkers: function() {
                    this._markerGroup || (this._markerGroup = new L.LayerGroup),
                    this._markers = [];
                    var e, t, i, a, n, r, s = this._defaultShape();
                    for (e = 0,
                    i = s.length; e < i; e++)
                        (a = this._createMarker(s[e], e)).on("click", this._onMarkerClick, this),
                        a.on("contextmenu", this._onContextMenu, this),
                        this._markers.push(a);
                    for (e = 0,
                    t = i - 1; e < i; t = e++)
                        (0 !== e || L.Polygon && this._poly instanceof L.Polygon) && (n = this._markers[t],
                        r = this._markers[e],
                        this._createMiddleMarker(n, r),
                        this._updatePrevNext(n, r))
                },
                _createMarker: function(e, t) {
                    var i = new L.Marker.Touch(e,{
                        draggable: !0,
                        icon: this.options.icon
                    });
                    return i._origLatLng = e,
                    i._index = t,
                    i.on("dragstart", this._onMarkerDragStart, this).on("drag", this._onMarkerDrag, this).on("dragend", this._fireEdit, this).on("touchmove", this._onTouchMove, this).on("touchend", this._fireEdit, this).on("MSPointerMove", this._onTouchMove, this).on("MSPointerUp", this._fireEdit, this),
                    this._markerGroup.addLayer(i),
                    i
                },
                _onMarkerDragStart: function() {
                    this._poly.fire("editstart")
                },
                _spliceLatLngs: function() {
                    var e = this._defaultShape()
                      , t = [].splice.apply(e, arguments);
                    return this._poly._convertLatLngs(e, !0),
                    this._poly.redraw(),
                    t
                },
                _removeMarker: function(e) {
                    var t = e._index;
                    this._markerGroup.removeLayer(e),
                    this._markers.splice(t, 1),
                    this._spliceLatLngs(t, 1),
                    this._updateIndexes(t, -1),
                    e.off("dragstart", this._onMarkerDragStart, this).off("drag", this._onMarkerDrag, this).off("dragend", this._fireEdit, this).off("touchmove", this._onMarkerDrag, this).off("touchend", this._fireEdit, this).off("click", this._onMarkerClick, this).off("MSPointerMove", this._onTouchMove, this).off("MSPointerUp", this._fireEdit, this)
                },
                _fireEdit: function() {
                    this._poly.edited = !0,
                    this._poly.fire("edit"),
                    this._poly._map.fire(L.Draw.Event.EDITVERTEX, {
                        layers: this._markerGroup,
                        poly: this._poly
                    })
                },
                _onMarkerDrag: function(e) {
                    var t = e.target
                      , i = this._poly
                      , a = L.LatLngUtil.cloneLatLng(t._origLatLng);
                    if (L.extend(t._origLatLng, t._latlng),
                    i.options.poly) {
                        var n = i._map._editTooltip;
                        if (!i.options.poly.allowIntersection && i.intersects()) {
                            L.extend(t._origLatLng, a),
                            t.setLatLng(a);
                            var r = i.options.color;
                            i.setStyle({
                                color: this.options.drawError.color
                            }),
                            n && n.updateContent({
                                text: L.drawLocal.draw.handlers.polyline.error
                            }),
                            setTimeout(function() {
                                i.setStyle({
                                    color: r
                                }),
                                n && n.updateContent({
                                    text: L.drawLocal.edit.handlers.edit.tooltip.text,
                                    subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext
                                })
                            }, 1e3)
                        }
                    }
                    t._middleLeft && t._middleLeft.setLatLng(this._getMiddleLatLng(t._prev, t)),
                    t._middleRight && t._middleRight.setLatLng(this._getMiddleLatLng(t, t._next)),
                    this._poly._bounds._southWest = L.latLng(1 / 0, 1 / 0),
                    this._poly._bounds._northEast = L.latLng(-1 / 0, -1 / 0);
                    var s = this._poly.getLatLngs();
                    this._poly._convertLatLngs(s, !0),
                    this._poly.redraw(),
                    this._poly.fire("editdrag")
                },
                _onMarkerClick: function(e) {
                    var t = L.Polygon && this._poly instanceof L.Polygon ? 4 : 3
                      , i = e.target;
                    this._defaultShape().length < t || (this._removeMarker(i),
                    this._updatePrevNext(i._prev, i._next),
                    i._middleLeft && this._markerGroup.removeLayer(i._middleLeft),
                    i._middleRight && this._markerGroup.removeLayer(i._middleRight),
                    i._prev && i._next ? this._createMiddleMarker(i._prev, i._next) : i._prev ? i._next || (i._prev._middleRight = null) : i._next._middleLeft = null,
                    this._fireEdit())
                },
                _onContextMenu: function(e) {
                    var t = e.target;
                    this._poly,
                    this._poly._map.fire(L.Draw.Event.MARKERCONTEXT, {
                        marker: t,
                        layers: this._markerGroup,
                        poly: this._poly
                    }),
                    L.DomEvent.stopPropagation
                },
                _onTouchMove: function(e) {
                    var t = this._map.mouseEventToLayerPoint(e.originalEvent.touches[0])
                      , i = this._map.layerPointToLatLng(t)
                      , a = e.target;
                    L.extend(a._origLatLng, i),
                    a._middleLeft && a._middleLeft.setLatLng(this._getMiddleLatLng(a._prev, a)),
                    a._middleRight && a._middleRight.setLatLng(this._getMiddleLatLng(a, a._next)),
                    this._poly.redraw(),
                    this.updateMarkers()
                },
                _updateIndexes: function(e, t) {
                    this._markerGroup.eachLayer(function(i) {
                        i._index > e && (i._index += t)
                    })
                },
                _createMiddleMarker: function(e, t) {
                    var i, a, n, r = this._getMiddleLatLng(e, t), s = this._createMarker(r);
                    s.setOpacity(.6),
                    e._middleRight = t._middleLeft = s,
                    a = function() {
                        s.off("touchmove", a, this);
                        var n = t._index;
                        s._index = n,
                        s.off("click", i, this).on("click", this._onMarkerClick, this),
                        r.lat = s.getLatLng().lat,
                        r.lng = s.getLatLng().lng,
                        this._spliceLatLngs(n, 0, r),
                        this._markers.splice(n, 0, s),
                        s.setOpacity(1),
                        this._updateIndexes(n, 1),
                        t._index++,
                        this._updatePrevNext(e, s),
                        this._updatePrevNext(s, t),
                        this._poly.fire("editstart")
                    }
                    ,
                    n = function() {
                        s.off("dragstart", a, this),
                        s.off("dragend", n, this),
                        s.off("touchmove", a, this),
                        this._createMiddleMarker(e, s),
                        this._createMiddleMarker(s, t)
                    }
                    ,
                    i = function() {
                        a.call(this),
                        n.call(this),
                        this._fireEdit()
                    }
                    ,
                    s.on("click", i, this).on("dragstart", a, this).on("dragend", n, this).on("touchmove", a, this),
                    this._markerGroup.addLayer(s)
                },
                _updatePrevNext: function(e, t) {
                    e && (e._next = t),
                    t && (t._prev = e)
                },
                _getMiddleLatLng: function(e, t) {
                    var i = this._poly._map
                      , a = i.project(e.getLatLng())
                      , n = i.project(t.getLatLng());
                    return i.unproject(a._add(n)._divideBy(2))
                }
            }),
            L.Polyline.addInitHook(function() {
                this.editing || (L.Edit.Poly && (this.editing = new L.Edit.Poly(this),
                this.options.editable && this.editing.enable()),
                this.on("add", function() {
                    this.editing && this.editing.enabled() && this.editing.addHooks()
                }),
                this.on("remove", function() {
                    this.editing && this.editing.enabled() && this.editing.removeHooks()
                }))
            }),
            L.Edit = L.Edit || {},
            L.Edit.SimpleShape = L.Handler.extend({
                options: {
                    moveIcon: new L.DivIcon({
                        iconSize: new L.Point(8,8),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-move"
                    }),
                    resizeIcon: new L.DivIcon({
                        iconSize: new L.Point(8,8),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"
                    }),
                    touchMoveIcon: new L.DivIcon({
                        iconSize: new L.Point(20,20),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"
                    }),
                    touchResizeIcon: new L.DivIcon({
                        iconSize: new L.Point(20,20),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"
                    })
                },
                initialize: function(e, t) {
                    L.Browser.touch && (this.options.moveIcon = this.options.touchMoveIcon,
                    this.options.resizeIcon = this.options.touchResizeIcon),
                    this._shape = e,
                    L.Util.setOptions(this, t)
                },
                addHooks: function() {
                    var e = this._shape;
                    this._shape._map && (this._map = this._shape._map,
                    e.setStyle(e.options.editing),
                    e._map && (this._map = e._map,
                    this._markerGroup || this._initMarkers(),
                    this._map.addLayer(this._markerGroup)))
                },
                removeHooks: function() {
                    var e = this._shape;
                    if (e.setStyle(e.options.original),
                    e._map) {
                        this._unbindMarker(this._moveMarker);
                        for (var t = 0, i = this._resizeMarkers.length; t < i; t++)
                            this._unbindMarker(this._resizeMarkers[t]);
                        this._resizeMarkers = null,
                        this._map.removeLayer(this._markerGroup),
                        delete this._markerGroup
                    }
                    this._map = null
                },
                updateMarkers: function() {
                    this._markerGroup.clearLayers(),
                    this._initMarkers()
                },
                _initMarkers: function() {
                    this._markerGroup || (this._markerGroup = new L.LayerGroup),
                    this._createMoveMarker(),
                    this._createResizeMarker()
                },
                _createMoveMarker: function() {},
                _createResizeMarker: function() {},
                _createMarker: function(e, t) {
                    var i = new L.Marker.Touch(e,{
                        draggable: !0,
                        icon: t,
                        zIndexOffset: 10
                    });
                    return this._bindMarker(i),
                    this._markerGroup.addLayer(i),
                    i
                },
                _bindMarker: function(e) {
                    e.on("dragstart", this._onMarkerDragStart, this).on("drag", this._onMarkerDrag, this).on("dragend", this._onMarkerDragEnd, this).on("touchstart", this._onTouchStart, this).on("touchmove", this._onTouchMove, this).on("MSPointerMove", this._onTouchMove, this).on("touchend", this._onTouchEnd, this).on("MSPointerUp", this._onTouchEnd, this)
                },
                _unbindMarker: function(e) {
                    e.off("dragstart", this._onMarkerDragStart, this).off("drag", this._onMarkerDrag, this).off("dragend", this._onMarkerDragEnd, this).off("touchstart", this._onTouchStart, this).off("touchmove", this._onTouchMove, this).off("MSPointerMove", this._onTouchMove, this).off("touchend", this._onTouchEnd, this).off("MSPointerUp", this._onTouchEnd, this)
                },
                _onMarkerDragStart: function(e) {
                    e.target.setOpacity(0),
                    this._shape.fire("editstart")
                },
                _fireEdit: function() {
                    this._shape.edited = !0,
                    this._shape.fire("edit")
                },
                _onMarkerDrag: function(e) {
                    var t = e.target
                      , i = t.getLatLng();
                    t === this._moveMarker ? this._move(i) : this._resize(i),
                    this._shape.redraw(),
                    this._shape.fire("editdrag")
                },
                _onMarkerDragEnd: function(e) {
                    e.target.setOpacity(1),
                    this._fireEdit()
                },
                _onTouchStart: function(e) {
                    if (L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this, e),
                    "function" == typeof this._getCorners) {
                        var t = this._getCorners()
                          , i = e.target
                          , a = i._cornerIndex;
                        i.setOpacity(0),
                        this._oppositeCorner = t[(a + 2) % 4],
                        this._toggleCornerMarkers(0, a)
                    }
                    this._shape.fire("editstart")
                },
                _onTouchMove: function(e) {
                    var t = this._map.mouseEventToLayerPoint(e.originalEvent.touches[0])
                      , i = this._map.layerPointToLatLng(t);
                    return e.target === this._moveMarker ? this._move(i) : this._resize(i),
                    this._shape.redraw(),
                    !1
                },
                _onTouchEnd: function(e) {
                    e.target.setOpacity(1),
                    this.updateMarkers(),
                    this._fireEdit()
                },
                _move: function() {},
                _resize: function() {}
            }),
            L.Edit = L.Edit || {},
            L.Edit.Rectangle = L.Edit.SimpleShape.extend({
                _createMoveMarker: function() {
                    var e = this._shape.getBounds().getCenter();
                    this._moveMarker = this._createMarker(e, this.options.moveIcon)
                },
                _createResizeMarker: function() {
                    var e = this._getCorners();
                    this._resizeMarkers = [];
                    for (var t = 0, i = e.length; t < i; t++)
                        this._resizeMarkers.push(this._createMarker(e[t], this.options.resizeIcon)),
                        this._resizeMarkers[t]._cornerIndex = t
                },
                _onMarkerDragStart: function(e) {
                    L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this, e);
                    var t = this._getCorners()
                      , i = e.target._cornerIndex;
                    this._oppositeCorner = t[(i + 2) % 4],
                    this._toggleCornerMarkers(0, i)
                },
                _onMarkerDragEnd: function(e) {
                    var t, i = e.target;
                    i === this._moveMarker && (t = this._shape.getBounds().getCenter(),
                    i.setLatLng(t)),
                    this._toggleCornerMarkers(1),
                    this._repositionCornerMarkers(),
                    L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this, e)
                },
                _move: function(e) {
                    for (var t, i = this._shape._defaultShape ? this._shape._defaultShape() : this._shape.getLatLngs(), a = this._shape.getBounds().getCenter(), n = [], r = 0, s = i.length; r < s; r++)
                        t = [i[r].lat - a.lat, i[r].lng - a.lng],
                        n.push([e.lat + t[0], e.lng + t[1]]);
                    this._shape.setLatLngs(n),
                    this._repositionCornerMarkers(),
                    this._map.fire(L.Draw.Event.EDITMOVE, {
                        layer: this._shape
                    })
                },
                _resize: function(e) {
                    var t;
                    this._shape.setBounds(L.latLngBounds(e, this._oppositeCorner)),
                    t = this._shape.getBounds(),
                    this._moveMarker.setLatLng(t.getCenter()),
                    this._map.fire(L.Draw.Event.EDITRESIZE, {
                        layer: this._shape
                    })
                },
                _getCorners: function() {
                    var e = this._shape.getBounds();
                    return [e.getNorthWest(), e.getNorthEast(), e.getSouthEast(), e.getSouthWest()]
                },
                _toggleCornerMarkers: function(e) {
                    for (var t = 0, i = this._resizeMarkers.length; t < i; t++)
                        this._resizeMarkers[t].setOpacity(e)
                },
                _repositionCornerMarkers: function() {
                    for (var e = this._getCorners(), t = 0, i = this._resizeMarkers.length; t < i; t++)
                        this._resizeMarkers[t].setLatLng(e[t])
                }
            }),
            L.Rectangle.addInitHook(function() {
                L.Edit.Rectangle && (this.editing = new L.Edit.Rectangle(this),
                this.options.editable && this.editing.enable())
            }),
            L.Edit = L.Edit || {},
            L.Edit.CircleMarker = L.Edit.SimpleShape.extend({
                _createMoveMarker: function() {
                    var e = this._shape.getLatLng();
                    this._moveMarker = this._createMarker(e, this.options.moveIcon)
                },
                _createResizeMarker: function() {
                    this._resizeMarkers = []
                },
                _move: function(e) {
                    if (this._resizeMarkers.length) {
                        var t = this._getResizeMarkerPoint(e);
                        this._resizeMarkers[0].setLatLng(t)
                    }
                    this._shape.setLatLng(e),
                    this._map.fire(L.Draw.Event.EDITMOVE, {
                        layer: this._shape
                    })
                }
            }),
            L.CircleMarker.addInitHook(function() {
                L.Edit.CircleMarker && (this.editing = new L.Edit.CircleMarker(this),
                this.options.editable && this.editing.enable()),
                this.on("add", function() {
                    this.editing && this.editing.enabled() && this.editing.addHooks()
                }),
                this.on("remove", function() {
                    this.editing && this.editing.enabled() && this.editing.removeHooks()
                })
            }),
            L.Edit = L.Edit || {},
            L.Edit.Circle = L.Edit.CircleMarker.extend({
                _createResizeMarker: function() {
                    var e = this._shape.getLatLng()
                      , t = this._getResizeMarkerPoint(e);
                    this._resizeMarkers = [],
                    this._resizeMarkers.push(this._createMarker(t, this.options.resizeIcon))
                },
                _getResizeMarkerPoint: function(e) {
                    var t = this._shape._radius * Math.cos(Math.PI / 4)
                      , i = this._map.project(e);
                    return this._map.unproject([i.x + t, i.y - t])
                },
                _resize: function(e) {
                    var t = this._moveMarker.getLatLng();
                    L.GeometryUtil.isVersion07x() ? radius = t.distanceTo(e) : radius = this._map.distance(t, e),
                    this._shape.setRadius(radius),
                    this._map.editTooltip && this._map._editTooltip.updateContent({
                        text: L.drawLocal.edit.handlers.edit.tooltip.subtext + "<br />" + L.drawLocal.edit.handlers.edit.tooltip.text,
                        subtext: L.drawLocal.draw.handlers.circle.radius + ": " + L.GeometryUtil.readableDistance(radius, !0, this.options.feet, this.options.nautic)
                    }),
                    this._shape.setRadius(radius),
                    this._map.fire(L.Draw.Event.EDITRESIZE, {
                        layer: this._shape
                    })
                }
            }),
            L.Circle.addInitHook(function() {
                L.Edit.Circle && (this.editing = new L.Edit.Circle(this),
                this.options.editable && this.editing.enable())
            }),
            L.Map.mergeOptions({
                touchExtend: !0
            }),
            L.Map.TouchExtend = L.Handler.extend({
                initialize: function(e) {
                    this._map = e,
                    this._container = e._container,
                    this._pane = e._panes.overlayPane
                },
                addHooks: function() {
                    L.DomEvent.on(this._container, "touchstart", this._onTouchStart, this),
                    L.DomEvent.on(this._container, "touchend", this._onTouchEnd, this),
                    L.DomEvent.on(this._container, "touchmove", this._onTouchMove, this),
                    this._detectIE() ? (L.DomEvent.on(this._container, "MSPointerDown", this._onTouchStart, this),
                    L.DomEvent.on(this._container, "MSPointerUp", this._onTouchEnd, this),
                    L.DomEvent.on(this._container, "MSPointerMove", this._onTouchMove, this),
                    L.DomEvent.on(this._container, "MSPointerCancel", this._onTouchCancel, this)) : (L.DomEvent.on(this._container, "touchcancel", this._onTouchCancel, this),
                    L.DomEvent.on(this._container, "touchleave", this._onTouchLeave, this))
                },
                removeHooks: function() {
                    L.DomEvent.off(this._container, "touchstart", this._onTouchStart, this),
                    L.DomEvent.off(this._container, "touchend", this._onTouchEnd, this),
                    L.DomEvent.off(this._container, "touchmove", this._onTouchMove, this),
                    this._detectIE() ? (L.DomEvent.off(this._container, "MSPointerDown", this._onTouchStart, this),
                    L.DomEvent.off(this._container, "MSPointerUp", this._onTouchEnd, this),
                    L.DomEvent.off(this._container, "MSPointerMove", this._onTouchMove, this),
                    L.DomEvent.off(this._container, "MSPointerCancel", this._onTouchCancel, this)) : (L.DomEvent.off(this._container, "touchcancel", this._onTouchCancel, this),
                    L.DomEvent.off(this._container, "touchleave", this._onTouchLeave, this))
                },
                _touchEvent: function(e, t) {
                    var i = {};
                    if (void 0 !== e.touches) {
                        if (!e.touches.length)
                            return;
                        i = e.touches[0]
                    } else {
                        if ("touch" !== e.pointerType)
                            return;
                        if (i = e,
                        !this._filterClick(e))
                            return
                    }
                    var a = this._map.mouseEventToContainerPoint(i)
                      , n = this._map.mouseEventToLayerPoint(i)
                      , r = this._map.layerPointToLatLng(n);
                    this._map.fire(t, {
                        latlng: r,
                        layerPoint: n,
                        containerPoint: a,
                        pageX: i.pageX,
                        pageY: i.pageY,
                        originalEvent: e
                    })
                },
                _filterClick: function(e) {
                    var t = e.timeStamp || e.originalEvent.timeStamp
                      , i = L.DomEvent._lastClick && t - L.DomEvent._lastClick;
                    return i && i > 100 && i < 500 || e.target._simulatedClick && !e._simulated ? (L.DomEvent.stop(e),
                    !1) : (L.DomEvent._lastClick = t,
                    !0)
                },
                _onTouchStart: function(e) {
                    this._map._loaded && this._touchEvent(e, "touchstart")
                },
                _onTouchEnd: function(e) {
                    this._map._loaded && this._touchEvent(e, "touchend")
                },
                _onTouchCancel: function(e) {
                    if (this._map._loaded) {
                        var t = "touchcancel";
                        this._detectIE() && (t = "pointercancel"),
                        this._touchEvent(e, t)
                    }
                },
                _onTouchLeave: function(e) {
                    this._map._loaded && this._touchEvent(e, "touchleave")
                },
                _onTouchMove: function(e) {
                    this._map._loaded && this._touchEvent(e, "touchmove")
                },
                _detectIE: function() {
                    var t = e.navigator.userAgent
                      , i = t.indexOf("MSIE ");
                    if (i > 0)
                        return parseInt(t.substring(i + 5, t.indexOf(".", i)), 10);
                    if (t.indexOf("Trident/") > 0) {
                        var a = t.indexOf("rv:");
                        return parseInt(t.substring(a + 3, t.indexOf(".", a)), 10)
                    }
                    var n = t.indexOf("Edge/");
                    return n > 0 && parseInt(t.substring(n + 5, t.indexOf(".", n)), 10)
                }
            }),
            L.Map.addInitHook("addHandler", "touchExtend", L.Map.TouchExtend),
            L.Marker.Touch = L.Marker.extend({
                _initInteraction: function() {
                    return this.addInteractiveTarget ? L.Marker.prototype._initInteraction.apply(this) : this._initInteractionLegacy()
                },
                _initInteractionLegacy: function() {
                    if (this.options.clickable) {
                        var e = this._icon
                          , t = ["dblclick", "mousedown", "mouseover", "mouseout", "contextmenu", "touchstart", "touchend", "touchmove"];
                        this._detectIE ? t.concat(["MSPointerDown", "MSPointerUp", "MSPointerMove", "MSPointerCancel"]) : t.concat(["touchcancel"]),
                        L.DomUtil.addClass(e, "leaflet-clickable"),
                        L.DomEvent.on(e, "click", this._onMouseClick, this),
                        L.DomEvent.on(e, "keypress", this._onKeyPress, this);
                        for (var i = 0; i < t.length; i++)
                            L.DomEvent.on(e, t[i], this._fireMouseEvent, this);
                        L.Handler.MarkerDrag && (this.dragging = new L.Handler.MarkerDrag(this),
                        this.options.draggable && this.dragging.enable())
                    }
                },
                _detectIE: function() {
                    var t = e.navigator.userAgent
                      , i = t.indexOf("MSIE ");
                    if (i > 0)
                        return parseInt(t.substring(i + 5, t.indexOf(".", i)), 10);
                    if (t.indexOf("Trident/") > 0) {
                        var a = t.indexOf("rv:");
                        return parseInt(t.substring(a + 3, t.indexOf(".", a)), 10)
                    }
                    var n = t.indexOf("Edge/");
                    return n > 0 && parseInt(t.substring(n + 5, t.indexOf(".", n)), 10)
                }
            }),
            L.LatLngUtil = {
                cloneLatLngs: function(e) {
                    for (var t = [], i = 0, a = e.length; i < a; i++)
                        Array.isArray(e[i]) ? t.push(L.LatLngUtil.cloneLatLngs(e[i])) : t.push(this.cloneLatLng(e[i]));
                    return t
                },
                cloneLatLng: function(e) {
                    return L.latLng(e.lat, e.lng)
                }
            },
            function() {
                var e = {
                    km: 2,
                    ha: 2,
                    m: 0,
                    mi: 2,
                    ac: 2,
                    yd: 0,
                    ft: 0,
                    nm: 2
                };
                L.GeometryUtil = L.extend(L.GeometryUtil || {}, {
                    geodesicArea: function(e) {
                        var t, i, a = e.length, n = 0, r = Math.PI / 180;
                        if (a > 2) {
                            for (var s = 0; s < a; s++)
                                t = e[s],
                                n += ((i = e[(s + 1) % a]).lng - t.lng) * r * (2 + Math.sin(t.lat * r) + Math.sin(i.lat * r));
                            n = 6378137 * n * 6378137 / 2
                        }
                        return Math.abs(n)
                    },
                    formattedNumber: function(e, t) {
                        var i = parseFloat(e).toFixed(t)
                          , a = L.drawLocal.format && L.drawLocal.format.numeric
                          , n = a && a.delimiters
                          , r = n && n.thousands
                          , s = n && n.decimal;
                        if (r || s) {
                            var o = i.split(".");
                            i = r ? o[0].replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1" + r) : o[0],
                            s = s || ".",
                            o.length > 1 && (i = i + s + o[1])
                        }
                        return i
                    },
                    readableArea: function(t, i, a) {
                        var n, r;
                        a = L.Util.extend({}, e, a);
                        return i ? (r = ["ha", "m"],
                        type = typeof i,
                        "string" === type ? r = [i] : "boolean" !== type && (r = i),
                        n = t >= 1e6 && -1 !== r.indexOf("km") ? L.GeometryUtil.formattedNumber(1e-6 * t, a.km) + " km\xb2" : t >= 1e4 && -1 !== r.indexOf("ha") ? L.GeometryUtil.formattedNumber(1e-4 * t, a.ha) + " ha" : L.GeometryUtil.formattedNumber(t, a.m) + " m\xb2") : n = (t /= .836127) >= 3097600 ? L.GeometryUtil.formattedNumber(t / 3097600, a.mi) + " mi\xb2" : t >= 4840 ? L.GeometryUtil.formattedNumber(t / 4840, a.ac) + " acres" : L.GeometryUtil.formattedNumber(t, a.yd) + " yd\xb2",
                        n
                    },
                    readableDistance: function(t, i, a, n, r) {
                        var s;
                        r = L.Util.extend({}, e, r);
                        switch (i ? "string" == typeof i ? i : "metric" : a ? "feet" : n ? "nauticalMile" : "yards") {
                        case "metric":
                            s = t > 1e3 ? L.GeometryUtil.formattedNumber(t / 1e3, r.km) + " km" : L.GeometryUtil.formattedNumber(t, r.m) + " m";
                            break;
                        case "feet":
                            t *= 3.28083,
                            s = L.GeometryUtil.formattedNumber(t, r.ft) + " ft";
                            break;
                        case "nauticalMile":
                            t *= .53996,
                            s = L.GeometryUtil.formattedNumber(t / 1e3, r.nm) + " nm";
                            break;
                        case "yards":
                        default:
                            s = (t *= 1.09361) > 1760 ? L.GeometryUtil.formattedNumber(t / 1760, r.mi) + " miles" : L.GeometryUtil.formattedNumber(t, r.yd) + " yd"
                        }
                        return s
                    },
                    isVersion07x: function() {
                        var e = L.version.split(".");
                        return 0 === parseInt(e[0], 10) && 7 === parseInt(e[1], 10)
                    }
                })
            }(),
            L.Util.extend(L.LineUtil, {
                segmentsIntersect: function(e, t, i, a) {
                    return this._checkCounterclockwise(e, i, a) !== this._checkCounterclockwise(t, i, a) && this._checkCounterclockwise(e, t, i) !== this._checkCounterclockwise(e, t, a)
                },
                _checkCounterclockwise: function(e, t, i) {
                    return (i.y - e.y) * (t.x - e.x) > (t.y - e.y) * (i.x - e.x)
                }
            }),
            L.Polyline.include({
                intersects: function() {
                    var e, t, i, a = this._getProjectedPoints(), n = a ? a.length : 0;
                    if (this._tooFewPointsForIntersection())
                        return !1;
                    for (e = n - 1; e >= 3; e--)
                        if (t = a[e - 1],
                        i = a[e],
                        this._lineSegmentsIntersectsRange(t, i, e - 2))
                            return !0;
                    return !1
                },
                newLatLngIntersects: function(e, t) {
                    return !!this._map && this.newPointIntersects(this._map.latLngToLayerPoint(e), t)
                },
                newPointIntersects: function(e, t) {
                    var i = this._getProjectedPoints()
                      , a = i ? i.length : 0
                      , n = i ? i[a - 1] : null
                      , r = a - 2;
                    return !this._tooFewPointsForIntersection(1) && this._lineSegmentsIntersectsRange(n, e, r, t ? 1 : 0)
                },
                _tooFewPointsForIntersection: function(e) {
                    var t = this._getProjectedPoints()
                      , i = t ? t.length : 0;
                    return !t || (i += e || 0) <= 3
                },
                _lineSegmentsIntersectsRange: function(e, t, i, a) {
                    var n, r, s = this._getProjectedPoints();
                    a = a || 0;
                    for (var o = i; o > a; o--)
                        if (n = s[o - 1],
                        r = s[o],
                        L.LineUtil.segmentsIntersect(e, t, n, r))
                            return !0;
                    return !1
                },
                _getProjectedPoints: function() {
                    if (!this._defaultShape)
                        return this._originalPoints;
                    for (var e = [], t = this._defaultShape(), i = 0; i < t.length; i++)
                        e.push(this._map.latLngToLayerPoint(t[i]));
                    return e
                }
            }),
            L.Polygon.include({
                intersects: function() {
                    var e, t, i, a, n = this._getProjectedPoints();
                    return !this._tooFewPointsForIntersection() && (!!L.Polyline.prototype.intersects.call(this) || (e = n.length,
                    t = n[0],
                    i = n[e - 1],
                    a = e - 2,
                    this._lineSegmentsIntersectsRange(i, t, a, 1)))
                }
            }),
            L.Control.Draw = L.Control.extend({
                options: {
                    position: "topleft",
                    draw: {},
                    edit: !1
                },
                initialize: function(e) {
                    if (L.version < "0.7")
                        throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");
                    var t;
                    L.Control.prototype.initialize.call(this, e),
                    this._toolbars = {},
                    L.DrawToolbar && this.options.draw && (t = new L.DrawToolbar(this.options.draw),
                    this._toolbars[L.DrawToolbar.TYPE] = t,
                    this._toolbars[L.DrawToolbar.TYPE].on("enable", this._toolbarEnabled, this)),
                    L.EditToolbar && this.options.edit && (t = new L.EditToolbar(this.options.edit),
                    this._toolbars[L.EditToolbar.TYPE] = t,
                    this._toolbars[L.EditToolbar.TYPE].on("enable", this._toolbarEnabled, this)),
                    L.toolbar = this
                },
                onAdd: function(e) {
                    var t, i = L.DomUtil.create("div", "leaflet-draw"), a = !1;
                    for (var n in this._toolbars)
                        this._toolbars.hasOwnProperty(n) && (t = this._toolbars[n].addToolbar(e)) && (a || (L.DomUtil.hasClass(t, "leaflet-draw-toolbar-top") || L.DomUtil.addClass(t.childNodes[0], "leaflet-draw-toolbar-top"),
                        a = !0),
                        i.appendChild(t));
                    return i
                },
                onRemove: function() {
                    for (var e in this._toolbars)
                        this._toolbars.hasOwnProperty(e) && this._toolbars[e].removeToolbar()
                },
                setDrawingOptions: function(e) {
                    for (var t in this._toolbars)
                        this._toolbars[t]instanceof L.DrawToolbar && this._toolbars[t].setOptions(e)
                },
                _toolbarEnabled: function(e) {
                    var t = e.target;
                    for (var i in this._toolbars)
                        this._toolbars[i] !== t && this._toolbars[i].disable()
                }
            }),
            L.Map.mergeOptions({
                drawControlTooltips: !0,
                drawControl: !1
            }),
            L.Map.addInitHook(function() {
                this.options.drawControl && (this.drawControl = new L.Control.Draw,
                this.addControl(this.drawControl))
            }),
            L.Toolbar = L.Class.extend({
                initialize: function(e) {
                    L.setOptions(this, e),
                    this._modes = {},
                    this._actionButtons = [],
                    this._activeMode = null;
                    var t = L.version.split(".");
                    1 === parseInt(t[0], 10) && parseInt(t[1], 10) >= 2 ? L.Toolbar.include(L.Evented.prototype) : L.Toolbar.include(L.Mixin.Events)
                },
                enabled: function() {
                    return null !== this._activeMode
                },
                disable: function() {
                    this.enabled() && this._activeMode.handler.disable()
                },
                addToolbar: function(e) {
                    var t, i = L.DomUtil.create("div", "leaflet-draw-section"), a = 0, n = this._toolbarClass || "", r = this.getModeHandlers(e);
                    for (this._toolbarContainer = L.DomUtil.create("div", "leaflet-draw-toolbar leaflet-bar"),
                    this._map = e,
                    t = 0; t < r.length; t++)
                        r[t].enabled && this._initModeHandler(r[t].handler, this._toolbarContainer, a++, n, r[t].title);
                    if (a)
                        return this._lastButtonIndex = --a,
                        this._actionsContainer = L.DomUtil.create("ul", "leaflet-draw-actions"),
                        i.appendChild(this._toolbarContainer),
                        i.appendChild(this._actionsContainer),
                        i
                },
                removeToolbar: function() {
                    for (var e in this._modes)
                        this._modes.hasOwnProperty(e) && (this._disposeButton(this._modes[e].button, this._modes[e].handler.enable, this._modes[e].handler),
                        this._modes[e].handler.disable(),
                        this._modes[e].handler.off("enabled", this._handlerActivated, this).off("disabled", this._handlerDeactivated, this));
                    this._modes = {};
                    for (var t = 0, i = this._actionButtons.length; t < i; t++)
                        this._disposeButton(this._actionButtons[t].button, this._actionButtons[t].callback, this);
                    this._actionButtons = [],
                    this._actionsContainer = null
                },
                _initModeHandler: function(e, t, i, a, n) {
                    var r = e.type;
                    this._modes[r] = {},
                    this._modes[r].handler = e,
                    this._modes[r].button = this._createButton({
                        type: r,
                        title: n,
                        className: a + "-" + r,
                        container: t,
                        callback: this._modes[r].handler.enable,
                        context: this._modes[r].handler
                    }),
                    this._modes[r].buttonIndex = i,
                    this._modes[r].handler.on("enabled", this._handlerActivated, this).on("disabled", this._handlerDeactivated, this)
                },
                _detectIOS: function() {
                    return /iPad|iPhone|iPod/.test(navigator.userAgent) && !e.MSStream
                },
                _createButton: function(e) {
                    var t = L.DomUtil.create("a", e.className || "", e.container)
                      , i = L.DomUtil.create("span", "sr-only", e.container);
                    t.href = "#",
                    t.appendChild(i),
                    e.title && (t.title = e.title,
                    i.innerHTML = e.title),
                    e.text && (t.innerHTML = e.text,
                    i.innerHTML = e.text);
                    var a = this._detectIOS() ? "touchstart" : "click";
                    return L.DomEvent.on(t, "click", L.DomEvent.stopPropagation).on(t, "mousedown", L.DomEvent.stopPropagation).on(t, "dblclick", L.DomEvent.stopPropagation).on(t, "touchstart", L.DomEvent.stopPropagation).on(t, "click", L.DomEvent.preventDefault).on(t, a, e.callback, e.context),
                    t
                },
                _disposeButton: function(e, t) {
                    var i = this._detectIOS() ? "touchstart" : "click";
                    L.DomEvent.off(e, "click", L.DomEvent.stopPropagation).off(e, "mousedown", L.DomEvent.stopPropagation).off(e, "dblclick", L.DomEvent.stopPropagation).off(e, "touchstart", L.DomEvent.stopPropagation).off(e, "click", L.DomEvent.preventDefault).off(e, i, t)
                },
                _handlerActivated: function(e) {
                    this.disable(),
                    this._activeMode = this._modes[e.handler],
                    L.DomUtil.addClass(this._activeMode.button, "leaflet-draw-toolbar-button-enabled"),
                    this._showActionsToolbar(),
                    this.fire("enable")
                },
                _handlerDeactivated: function() {
                    this._hideActionsToolbar(),
                    L.DomUtil.removeClass(this._activeMode.button, "leaflet-draw-toolbar-button-enabled"),
                    this._activeMode = null,
                    this.fire("disable")
                },
                _createActions: function(e) {
                    var t, i, a, n, r = this._actionsContainer, s = this.getActions(e), o = s.length;
                    for (i = 0,
                    a = this._actionButtons.length; i < a; i++)
                        this._disposeButton(this._actionButtons[i].button, this._actionButtons[i].callback);
                    for (this._actionButtons = []; r.firstChild; )
                        r.removeChild(r.firstChild);
                    for (var l = 0; l < o; l++)
                        "enabled"in s[l] && !s[l].enabled || (t = L.DomUtil.create("li", "", r),
                        n = this._createButton({
                            title: s[l].title,
                            text: s[l].text,
                            container: t,
                            callback: s[l].callback,
                            context: s[l].context
                        }),
                        this._actionButtons.push({
                            button: n,
                            callback: s[l].callback
                        }))
                },
                _showActionsToolbar: function() {
                    var e = this._activeMode.buttonIndex
                      , t = this._lastButtonIndex
                      , i = this._activeMode.button.offsetTop - 1;
                    this._createActions(this._activeMode.handler),
                    this._actionsContainer.style.top = i + "px",
                    0 === e && (L.DomUtil.addClass(this._toolbarContainer, "leaflet-draw-toolbar-notop"),
                    L.DomUtil.addClass(this._actionsContainer, "leaflet-draw-actions-top")),
                    e === t && (L.DomUtil.addClass(this._toolbarContainer, "leaflet-draw-toolbar-nobottom"),
                    L.DomUtil.addClass(this._actionsContainer, "leaflet-draw-actions-bottom")),
                    this._actionsContainer.style.display = "block",
                    this._map.fire(L.Draw.Event.TOOLBAROPENED)
                },
                _hideActionsToolbar: function() {
                    this._actionsContainer.style.display = "none",
                    L.DomUtil.removeClass(this._toolbarContainer, "leaflet-draw-toolbar-notop"),
                    L.DomUtil.removeClass(this._toolbarContainer, "leaflet-draw-toolbar-nobottom"),
                    L.DomUtil.removeClass(this._actionsContainer, "leaflet-draw-actions-top"),
                    L.DomUtil.removeClass(this._actionsContainer, "leaflet-draw-actions-bottom"),
                    this._map.fire(L.Draw.Event.TOOLBARCLOSED)
                }
            }),
            L.Draw = L.Draw || {},
            L.Draw.Tooltip = L.Class.extend({
                initialize: function(e) {
                    this._map = e,
                    this._popupPane = e._panes.popupPane,
                    this._visible = !1,
                    this._container = e.options.drawControlTooltips ? L.DomUtil.create("div", "leaflet-draw-tooltip", this._popupPane) : null,
                    this._singleLineLabel = !1,
                    this._map.on("mouseout", this._onMouseOut, this)
                },
                dispose: function() {
                    this._map.off("mouseout", this._onMouseOut, this),
                    this._container && (this._popupPane.removeChild(this._container),
                    this._container = null)
                },
                updateContent: function(e) {
                    return this._container ? (e.subtext = e.subtext || "",
                    0 !== e.subtext.length || this._singleLineLabel ? e.subtext.length > 0 && this._singleLineLabel && (L.DomUtil.removeClass(this._container, "leaflet-draw-tooltip-single"),
                    this._singleLineLabel = !1) : (L.DomUtil.addClass(this._container, "leaflet-draw-tooltip-single"),
                    this._singleLineLabel = !0),
                    this._container.innerHTML = (e.subtext.length > 0 ? '<span class="leaflet-draw-tooltip-subtext">' + e.subtext + "</span><br />" : "") + "<span>" + e.text + "</span>",
                    e.text || e.subtext ? (this._visible = !0,
                    this._container.style.visibility = "inherit") : (this._visible = !1,
                    this._container.style.visibility = "hidden"),
                    this) : this
                },
                updatePosition: function(e) {
                    var t = this._map.latLngToLayerPoint(e)
                      , i = this._container;
                    return this._container && (this._visible && (i.style.visibility = "inherit"),
                    L.DomUtil.setPosition(i, t)),
                    this
                },
                showAsError: function() {
                    return this._container && L.DomUtil.addClass(this._container, "leaflet-error-draw-tooltip"),
                    this
                },
                removeError: function() {
                    return this._container && L.DomUtil.removeClass(this._container, "leaflet-error-draw-tooltip"),
                    this
                },
                _onMouseOut: function() {
                    this._container && (this._container.style.visibility = "hidden")
                }
            }),
            L.DrawToolbar = L.Toolbar.extend({
                statics: {
                    TYPE: "draw"
                },
                options: {
                    polyline: {},
                    polygon: {},
                    rectangle: {},
                    circle: {},
                    marker: {},
                    circlemarker: {}
                },
                initialize: function(e) {
                    for (var t in this.options)
                        this.options.hasOwnProperty(t) && e[t] && (e[t] = L.extend({}, this.options[t], e[t]));
                    this._toolbarClass = "leaflet-draw-draw",
                    L.Toolbar.prototype.initialize.call(this, e)
                },
                getModeHandlers: function(e) {
                    return [{
                        enabled: this.options.polyline,
                        handler: new L.Draw.Polyline(e,this.options.polyline),
                        title: L.drawLocal.draw.toolbar.buttons.polyline
                    }, {
                        enabled: this.options.polygon,
                        handler: new L.Draw.Polygon(e,this.options.polygon),
                        title: L.drawLocal.draw.toolbar.buttons.polygon
                    }, {
                        enabled: this.options.rectangle,
                        handler: new L.Draw.Rectangle(e,this.options.rectangle),
                        title: L.drawLocal.draw.toolbar.buttons.rectangle
                    }, {
                        enabled: this.options.circle,
                        handler: new L.Draw.Circle(e,this.options.circle),
                        title: L.drawLocal.draw.toolbar.buttons.circle
                    }, {
                        enabled: this.options.marker,
                        handler: new L.Draw.Marker(e,this.options.marker),
                        title: L.drawLocal.draw.toolbar.buttons.marker
                    }, {
                        enabled: this.options.circlemarker,
                        handler: new L.Draw.CircleMarker(e,this.options.circlemarker),
                        title: L.drawLocal.draw.toolbar.buttons.circlemarker
                    }]
                },
                getActions: function(e) {
                    return [{
                        enabled: e.completeShape,
                        title: L.drawLocal.draw.toolbar.finish.title,
                        text: L.drawLocal.draw.toolbar.finish.text,
                        callback: e.completeShape,
                        context: e
                    }, {
                        enabled: e.deleteLastVertex,
                        title: L.drawLocal.draw.toolbar.undo.title,
                        text: L.drawLocal.draw.toolbar.undo.text,
                        callback: e.deleteLastVertex,
                        context: e
                    }, {
                        title: L.drawLocal.draw.toolbar.actions.title,
                        text: L.drawLocal.draw.toolbar.actions.text,
                        callback: this.disable,
                        context: this
                    }]
                },
                setOptions: function(e) {
                    for (var t in L.setOptions(this, e),
                    this._modes)
                        this._modes.hasOwnProperty(t) && e.hasOwnProperty(t) && this._modes[t].handler.setOptions(e[t])
                }
            }),
            L.EditToolbar = L.Toolbar.extend({
                statics: {
                    TYPE: "edit"
                },
                options: {
                    edit: {
                        selectedPathOptions: {
                            dashArray: "10, 10",
                            fill: !0,
                            fillColor: "#fe57a1",
                            fillOpacity: .1,
                            maintainColor: !1
                        }
                    },
                    remove: {},
                    poly: null,
                    featureGroup: null
                },
                initialize: function(e) {
                    e.edit && (void 0 === e.edit.selectedPathOptions && (e.edit.selectedPathOptions = this.options.edit.selectedPathOptions),
                    e.edit.selectedPathOptions = L.extend({}, this.options.edit.selectedPathOptions, e.edit.selectedPathOptions)),
                    e.remove && (e.remove = L.extend({}, this.options.remove, e.remove)),
                    e.poly && (e.poly = L.extend({}, this.options.poly, e.poly)),
                    this._toolbarClass = "leaflet-draw-edit",
                    L.Toolbar.prototype.initialize.call(this, e),
                    this._selectedFeatureCount = 0
                },
                getModeHandlers: function(e) {
                    var t = this.options.featureGroup;
                    return [{
                        enabled: this.options.edit,
                        handler: new L.EditToolbar.Edit(e,{
                            featureGroup: t,
                            selectedPathOptions: this.options.edit.selectedPathOptions,
                            poly: this.options.poly
                        }),
                        title: L.drawLocal.edit.toolbar.buttons.edit
                    }, {
                        enabled: this.options.remove,
                        handler: new L.EditToolbar.Delete(e,{
                            featureGroup: t
                        }),
                        title: L.drawLocal.edit.toolbar.buttons.remove
                    }]
                },
                getActions: function(e) {
                    var t = [{
                        title: L.drawLocal.edit.toolbar.actions.save.title,
                        text: L.drawLocal.edit.toolbar.actions.save.text,
                        callback: this._save,
                        context: this
                    }, {
                        title: L.drawLocal.edit.toolbar.actions.cancel.title,
                        text: L.drawLocal.edit.toolbar.actions.cancel.text,
                        callback: this.disable,
                        context: this
                    }];
                    return e.removeAllLayers && t.push({
                        title: L.drawLocal.edit.toolbar.actions.clearAll.title,
                        text: L.drawLocal.edit.toolbar.actions.clearAll.text,
                        callback: this._clearAllLayers,
                        context: this
                    }),
                    t
                },
                addToolbar: function(e) {
                    var t = L.Toolbar.prototype.addToolbar.call(this, e);
                    return this._checkDisabled(),
                    this.options.featureGroup.on("layeradd layerremove", this._checkDisabled, this),
                    t
                },
                removeToolbar: function() {
                    this.options.featureGroup.off("layeradd layerremove", this._checkDisabled, this),
                    L.Toolbar.prototype.removeToolbar.call(this)
                },
                disable: function() {
                    this.enabled() && (this._activeMode.handler.revertLayers(),
                    L.Toolbar.prototype.disable.call(this))
                },
                _save: function() {
                    this._activeMode.handler.save(),
                    this._activeMode && this._activeMode.handler.disable()
                },
                _clearAllLayers: function() {
                    this._activeMode.handler.removeAllLayers(),
                    this._activeMode && this._activeMode.handler.disable()
                },
                _checkDisabled: function() {
                    var e, t = 0 !== this.options.featureGroup.getLayers().length;
                    this.options.edit && (e = this._modes[L.EditToolbar.Edit.TYPE].button,
                    t ? L.DomUtil.removeClass(e, "leaflet-disabled") : L.DomUtil.addClass(e, "leaflet-disabled"),
                    e.setAttribute("title", t ? L.drawLocal.edit.toolbar.buttons.edit : L.drawLocal.edit.toolbar.buttons.editDisabled)),
                    this.options.remove && (e = this._modes[L.EditToolbar.Delete.TYPE].button,
                    t ? L.DomUtil.removeClass(e, "leaflet-disabled") : L.DomUtil.addClass(e, "leaflet-disabled"),
                    e.setAttribute("title", t ? L.drawLocal.edit.toolbar.buttons.remove : L.drawLocal.edit.toolbar.buttons.removeDisabled))
                }
            }),
            L.EditToolbar.Edit = L.Handler.extend({
                statics: {
                    TYPE: "edit"
                },
                initialize: function(e, t) {
                    if (L.Handler.prototype.initialize.call(this, e),
                    L.setOptions(this, t),
                    this._featureGroup = t.featureGroup,
                    !(this._featureGroup instanceof L.FeatureGroup))
                        throw new Error("options.featureGroup must be a L.FeatureGroup");
                    this._uneditedLayerProps = {},
                    this.type = L.EditToolbar.Edit.TYPE;
                    var i = L.version.split(".");
                    1 === parseInt(i[0], 10) && parseInt(i[1], 10) >= 2 ? L.EditToolbar.Edit.include(L.Evented.prototype) : L.EditToolbar.Edit.include(L.Mixin.Events)
                },
                enable: function() {
                    !this._enabled && this._hasAvailableLayers() && (this.fire("enabled", {
                        handler: this.type
                    }),
                    this._map.fire(L.Draw.Event.EDITSTART, {
                        handler: this.type
                    }),
                    L.Handler.prototype.enable.call(this),
                    this._featureGroup.on("layeradd", this._enableLayerEdit, this).on("layerremove", this._disableLayerEdit, this))
                },
                disable: function() {
                    this._enabled && (this._featureGroup.off("layeradd", this._enableLayerEdit, this).off("layerremove", this._disableLayerEdit, this),
                    L.Handler.prototype.disable.call(this),
                    this._map.fire(L.Draw.Event.EDITSTOP, {
                        handler: this.type
                    }),
                    this.fire("disabled", {
                        handler: this.type
                    }))
                },
                addHooks: function() {
                    var e = this._map;
                    e && (e.getContainer().focus(),
                    this._featureGroup.eachLayer(this._enableLayerEdit, this),
                    this._tooltip = new L.Draw.Tooltip(this._map),
                    this._tooltip.updateContent({
                        text: L.drawLocal.edit.handlers.edit.tooltip.text,
                        subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext
                    }),
                    e._editTooltip = this._tooltip,
                    this._updateTooltip(),
                    this._map.on("mousemove", this._onMouseMove, this).on("touchmove", this._onMouseMove, this).on("MSPointerMove", this._onMouseMove, this).on(L.Draw.Event.EDITVERTEX, this._updateTooltip, this))
                },
                removeHooks: function() {
                    this._map && (this._featureGroup.eachLayer(this._disableLayerEdit, this),
                    this._uneditedLayerProps = {},
                    this._tooltip.dispose(),
                    this._tooltip = null,
                    this._map.off("mousemove", this._onMouseMove, this).off("touchmove", this._onMouseMove, this).off("MSPointerMove", this._onMouseMove, this).off(L.Draw.Event.EDITVERTEX, this._updateTooltip, this))
                },
                revertLayers: function() {
                    this._featureGroup.eachLayer(function(e) {
                        this._revertLayer(e)
                    }, this)
                },
                save: function() {
                    var e = new L.LayerGroup;
                    this._featureGroup.eachLayer(function(t) {
                        t.edited && (e.addLayer(t),
                        t.edited = !1)
                    }),
                    this._map.fire(L.Draw.Event.EDITED, {
                        layers: e
                    })
                },
                _backupLayer: function(e) {
                    var t = L.Util.stamp(e);
                    this._uneditedLayerProps[t] || (e instanceof L.Polyline || e instanceof L.Polygon || e instanceof L.Rectangle ? this._uneditedLayerProps[t] = {
                        latlngs: L.LatLngUtil.cloneLatLngs(e.getLatLngs())
                    } : e instanceof L.Circle ? this._uneditedLayerProps[t] = {
                        latlng: L.LatLngUtil.cloneLatLng(e.getLatLng()),
                        radius: e.getRadius()
                    } : (e instanceof L.Marker || e instanceof L.CircleMarker) && (this._uneditedLayerProps[t] = {
                        latlng: L.LatLngUtil.cloneLatLng(e.getLatLng())
                    }))
                },
                _getTooltipText: function() {
                    return {
                        text: L.drawLocal.edit.handlers.edit.tooltip.text,
                        subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext
                    }
                },
                _updateTooltip: function() {
                    this._tooltip.updateContent(this._getTooltipText())
                },
                _revertLayer: function(e) {
                    var t = L.Util.stamp(e);
                    e.edited = !1,
                    this._uneditedLayerProps.hasOwnProperty(t) && (e instanceof L.Polyline || e instanceof L.Polygon || e instanceof L.Rectangle ? e.setLatLngs(this._uneditedLayerProps[t].latlngs) : e instanceof L.Circle ? (e.setLatLng(this._uneditedLayerProps[t].latlng),
                    e.setRadius(this._uneditedLayerProps[t].radius)) : (e instanceof L.Marker || e instanceof L.CircleMarker) && e.setLatLng(this._uneditedLayerProps[t].latlng),
                    e.fire("revert-edited", {
                        layer: e
                    }))
                },
                _enableLayerEdit: function(e) {
                    var t, i, a = e.layer || e.target || e;
                    this._backupLayer(a),
                    this.options.poly && (i = L.Util.extend({}, this.options.poly),
                    a.options.poly = i),
                    this.options.selectedPathOptions && ((t = L.Util.extend({}, this.options.selectedPathOptions)).maintainColor && (t.color = a.options.color,
                    t.fillColor = a.options.fillColor),
                    a.options.original = L.extend({}, a.options),
                    a.options.editing = t),
                    a instanceof L.Marker ? (a.editing && a.editing.enable(),
                    a.dragging.enable(),
                    a.on("dragend", this._onMarkerDragEnd).on("touchmove", this._onTouchMove, this).on("MSPointerMove", this._onTouchMove, this).on("touchend", this._onMarkerDragEnd, this).on("MSPointerUp", this._onMarkerDragEnd, this)) : a.editing.enable()
                },
                _disableLayerEdit: function(e) {
                    var t = e.layer || e.target || e;
                    t.edited = !1,
                    t.editing && t.editing.disable(),
                    delete t.options.editing,
                    delete t.options.original,
                    this._selectedPathOptions && (t instanceof L.Marker ? this._toggleMarkerHighlight(t) : (t.setStyle(t.options.previousOptions),
                    delete t.options.previousOptions)),
                    t instanceof L.Marker ? (t.dragging.disable(),
                    t.off("dragend", this._onMarkerDragEnd, this).off("touchmove", this._onTouchMove, this).off("MSPointerMove", this._onTouchMove, this).off("touchend", this._onMarkerDragEnd, this).off("MSPointerUp", this._onMarkerDragEnd, this)) : t.editing.disable()
                },
                _onMouseMove: function(e) {
                    this._tooltip.updatePosition(e.latlng)
                },
                _onMarkerDragEnd: function(e) {
                    var t = e.target;
                    t.edited = !0,
                    this._map.fire(L.Draw.Event.EDITMOVE, {
                        layer: t
                    })
                },
                _onTouchMove: function(e) {
                    var t = e.originalEvent.changedTouches[0]
                      , i = this._map.mouseEventToLayerPoint(t)
                      , a = this._map.layerPointToLatLng(i);
                    e.target.setLatLng(a)
                },
                _hasAvailableLayers: function() {
                    return 0 !== this._featureGroup.getLayers().length
                }
            }),
            L.EditToolbar.Delete = L.Handler.extend({
                statics: {
                    TYPE: "remove"
                },
                initialize: function(e, t) {
                    if (L.Handler.prototype.initialize.call(this, e),
                    L.Util.setOptions(this, t),
                    this._deletableLayers = this.options.featureGroup,
                    !(this._deletableLayers instanceof L.FeatureGroup))
                        throw new Error("options.featureGroup must be a L.FeatureGroup");
                    this.type = L.EditToolbar.Delete.TYPE;
                    var i = L.version.split(".");
                    1 === parseInt(i[0], 10) && parseInt(i[1], 10) >= 2 ? L.EditToolbar.Delete.include(L.Evented.prototype) : L.EditToolbar.Delete.include(L.Mixin.Events)
                },
                enable: function() {
                    !this._enabled && this._hasAvailableLayers() && (this.fire("enabled", {
                        handler: this.type
                    }),
                    this._map.fire(L.Draw.Event.DELETESTART, {
                        handler: this.type
                    }),
                    L.Handler.prototype.enable.call(this),
                    this._deletableLayers.on("layeradd", this._enableLayerDelete, this).on("layerremove", this._disableLayerDelete, this))
                },
                disable: function() {
                    this._enabled && (this._deletableLayers.off("layeradd", this._enableLayerDelete, this).off("layerremove", this._disableLayerDelete, this),
                    L.Handler.prototype.disable.call(this),
                    this._map.fire(L.Draw.Event.DELETESTOP, {
                        handler: this.type
                    }),
                    this.fire("disabled", {
                        handler: this.type
                    }))
                },
                addHooks: function() {
                    var e = this._map;
                    e && (e.getContainer().focus(),
                    this._deletableLayers.eachLayer(this._enableLayerDelete, this),
                    this._deletedLayers = new L.LayerGroup,
                    this._tooltip = new L.Draw.Tooltip(this._map),
                    this._tooltip.updateContent({
                        text: L.drawLocal.edit.handlers.remove.tooltip.text
                    }),
                    this._map.on("mousemove", this._onMouseMove, this))
                },
                removeHooks: function() {
                    this._map && (this._deletableLayers.eachLayer(this._disableLayerDelete, this),
                    this._deletedLayers = null,
                    this._tooltip.dispose(),
                    this._tooltip = null,
                    this._map.off("mousemove", this._onMouseMove, this))
                },
                revertLayers: function() {
                    this._deletedLayers.eachLayer(function(e) {
                        this._deletableLayers.addLayer(e),
                        e.fire("revert-deleted", {
                            layer: e
                        })
                    }, this)
                },
                save: function() {
                    this._map.fire(L.Draw.Event.DELETED, {
                        layers: this._deletedLayers
                    })
                },
                removeAllLayers: function() {
                    this._deletableLayers.eachLayer(function(e) {
                        this._removeLayer({
                            layer: e
                        })
                    }, this),
                    this.save()
                },
                _enableLayerDelete: function(e) {
                    (e.layer || e.target || e).on("click", this._removeLayer, this)
                },
                _disableLayerDelete: function(e) {
                    var t = e.layer || e.target || e;
                    t.off("click", this._removeLayer, this),
                    this._deletedLayers.removeLayer(t)
                },
                _removeLayer: function(e) {
                    var t = e.layer || e.target || e;
                    this._deletableLayers.removeLayer(t),
                    this._deletedLayers.addLayer(t),
                    t.fire("deleted")
                },
                _onMouseMove: function(e) {
                    this._tooltip.updatePosition(e.latlng)
                },
                _hasAvailableLayers: function() {
                    return 0 !== this._deletableLayers.getLayers().length
                }
            })
        }(window, document)
    },
    1919: function(e, t, i) {
        var a, n, r;
        n = [i(1221)],
        void 0 === (r = "function" === typeof (a = function(e) {
            if (e.Hotline)
                return e;
            var t = function e(t) {
                if (!(this instanceof e))
                    return new e(t);
                this._canvas = t = "string" === typeof t ? document.getElementById(t) : t,
                this._ctx = t.getContext("2d"),
                this._width = t.width,
                this._height = t.height,
                this._weight = 5,
                this._outlineWidth = 1,
                this._outlineColor = "black",
                this._min = 0,
                this._max = 1,
                this._data = [],
                this.useEntireMapLatLngs = !1,
                this.palette({
                    0: "green",
                    .5: "yellow",
                    1: "red"
                })
            };
            t.prototype = {
                width: function(e) {
                    return this._width = e,
                    this
                },
                height: function(e) {
                    return this._height = e,
                    this
                },
                weight: function(e) {
                    return this._weight = e,
                    this
                },
                outlineWidth: function(e) {
                    return this._outlineWidth = e,
                    this
                },
                outlineColor: function(e) {
                    return this._outlineColor = e,
                    this
                },
                palette: function(e) {
                    var t = document.createElement("canvas")
                      , i = t.getContext("2d")
                      , a = i.createLinearGradient(0, 0, 0, 256);
                    for (var n in t.width = 1,
                    t.height = 256,
                    e)
                        a.addColorStop(n, e[n]);
                    return i.fillStyle = a,
                    i.fillRect(0, 0, 1, 256),
                    this._palette = i.getImageData(0, 0, 1, 256).data,
                    this
                },
                min: function(e) {
                    return this._min = e,
                    this
                },
                max: function(e) {
                    return this._max = e,
                    this
                },
                data: function(e) {
                    return this._data = this.useEntireMapLatLngs ? this._data : e,
                    this
                },
                add: function(e) {
                    return this._data.push(e),
                    this
                },
                draw: function() {
                    var e = this._ctx;
                    return e.globalCompositeOperation = "source-over",
                    e.lineCap = "round",
                    this._drawOutline(e),
                    this._drawHotline(e),
                    this
                },
                getRGBForValue: function(e) {
                    var t = Math.min(Math.max((e - this._min) / (this._max - this._min), 0), .999)
                      , i = 4 * Math.floor(256 * t);
                    return [this._palette[i], this._palette[i + 1], this._palette[i + 2]]
                },
                _drawOutline: function(e) {
                    var t, i, a, n, r, s, o;
                    if (this._outlineWidth)
                        for (t = 0,
                        a = this._data.length; t < a; t++)
                            for (n = this._data[t],
                            e.lineWidth = this._weight + 2 * this._outlineWidth,
                            i = 1,
                            r = n.length; i < r; i++)
                                s = n[i - 1],
                                o = n[i],
                                e.strokeStyle = this._outlineColor,
                                e.beginPath(),
                                e.moveTo(s.x, s.y),
                                e.lineTo(o.x, o.y),
                                e.stroke()
                },
                _drawHotline: function(e) {
                    var t, i, a, n, r, s, o, l, c, h;
                    for (e.lineWidth = this._weight,
                    t = 0,
                    a = this._data.length; t < a; t++)
                        for (n = this._data[t],
                        i = 1,
                        r = n.length; i < r; i++)
                            s = n[i - 1],
                            o = n[i],
                            l = e.createLinearGradient(s.x, s.y, o.x, o.y),
                            c = this.getRGBForValue(s.z),
                            h = this.getRGBForValue(o.z),
                            l.addColorStop(0, "rgb(" + c.join(",") + ")"),
                            l.addColorStop(1, "rgb(" + h.join(",") + ")"),
                            e.strokeStyle = l,
                            e.beginPath(),
                            e.moveTo(s.x, s.y),
                            e.lineTo(o.x, o.y),
                            e.stroke()
                }
            };
            var i = e.Canvas.extend({
                _initContainer: function() {
                    e.Canvas.prototype._initContainer.call(this),
                    this._hotline = new t(this._container)
                },
                _update: function() {
                    e.Canvas.prototype._update.call(this),
                    this._hotline.width(this._container.width),
                    this._hotline.height(this._container.height)
                },
                _updatePoly: function(e) {
                    if (this._drawing) {
                        var t = e._parts;
                        t.length && (this._updateOptions(e),
                        this._hotline.data(t).draw())
                    }
                },
                _updateOptions: function(e) {
                    null != e.options.min && this._hotline.min(e.options.min),
                    null != e.options.max && this._hotline.max(e.options.max),
                    null != e.options.weight && this._hotline.weight(e.options.weight),
                    null != e.options.outlineWidth && this._hotline.outlineWidth(e.options.outlineWidth),
                    null != e.options.outlineColor && this._hotline.outlineColor(e.options.outlineColor),
                    e.options.palette && this._hotline.palette(e.options.palette)
                }
            })
              , a = function(t) {
                return e.Browser.canvas ? new i(t) : null
            }
              , n = {
                clipSegment: function(t, i, a, n, r) {
                    var s, o, l, c = n ? this._lastCode : e.LineUtil._getBitCode(t, a), h = e.LineUtil._getBitCode(i, a);
                    for (this._lastCode = h; ; ) {
                        if (!(c | h))
                            return [t, i];
                        if (c & h)
                            return !1;
                        s = c || h,
                        o = e.LineUtil._getEdgeIntersection(t, i, s, a, r),
                        l = e.LineUtil._getBitCode(o, a),
                        s === c ? (o.z = t.z,
                        t = o,
                        c = l) : (o.z = i.z,
                        i = o,
                        h = l)
                    }
                }
            };
            return e.Hotline = e.Polyline.extend({
                statics: {
                    Renderer: i,
                    renderer: a
                },
                options: {
                    renderer: a(),
                    min: 0,
                    max: 1,
                    palette: {
                        0: "green",
                        .5: "yellow",
                        1: "red"
                    },
                    weight: 5,
                    outlineColor: "black",
                    outlineWidth: 1,
                    useEntireMapLatLngs: !1
                },
                getRGBForValue: function(e) {
                    return this._renderer._hotline.getRGBForValue(e)
                },
                _projectLatlngs: function(t, i, a) {
                    var n, r, s = t[0]instanceof e.LatLng, o = t.length;
                    if (s) {
                        for (r = [],
                        n = 0; n < o; n++)
                            r[n] = this._map.latLngToLayerPoint(t[n]),
                            r[n].z = t[n].alt,
                            a.extend(r[n]);
                        i.push(r)
                    } else
                        for (n = 0; n < o; n++)
                            this._projectLatlngs(t[n], i, a);
                    this._renderer._hotline._data = i.slice(0),
                    this._renderer._hotline.useEntireMapLatLngs = this.options.useEntireMapLatLngs
                },
                _clipPoints: function() {
                    if (this.options.noClip)
                        this._parts = this._rings;
                    else {
                        this._parts = [];
                        var e, t, i, a, r, s, o, l = this._parts, c = this._renderer._bounds;
                        for (e = 0,
                        i = 0,
                        a = this._rings.length; e < a; e++)
                            for (t = 0,
                            r = (o = this._rings[e]).length; t < r - 1; t++)
                                (s = n.clipSegment(o[t], o[t + 1], c, t, !0)) && (l[i] = l[i] || [],
                                l[i].push(s[0]),
                                s[1] === o[t + 1] && t !== r - 2 || (l[i].push(s[1]),
                                i++))
                    }
                },
                _clickTolerance: function() {
                    return this.options.weight / 2 + this.options.outlineWidth + (e.Browser.touch ? 10 : 0)
                }
            }),
            e.hotline = function(t, i) {
                return new e.Hotline(t,i)
            }
            ,
            e
        }
        ) ? a.apply(t, n) : a) || (e.exports = r)
    },
    1924: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a).a.Model.extend({
            url: function() {
                return "/proxy/segment-service/leaderboard/activity/" + this.activityId + "/segment/" + this.segmentUuid + "/rank/" + this.displayName
            },
            initialize: function(e) {
                if (this.activityId = e.activityId,
                this.segmentUuid = e.segmentUuid,
                this.displayName = e.displayName,
                "undefined" == typeof this.activityId || null == this.activityId)
                    throw "Activity ID required in SegmentUserLeaderboard.";
                if (!this.segmentUuid)
                    throw "segmentUuid required in SegmentUserLeaderboard.";
                if (!this.displayName)
                    throw "displayName required in SegmentUserLeaderboard."
            }
        });
        t.a = n
    },
    1995: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(28)
          , l = s.a.Collection.extend({
            model: s.a.Model,
            initialize: function(e) {
                n.a.isUndefined(e) || n.a.isUndefined(e.dates) ? this.searchDatesArray = [] : n.a.isArray(e.dates) ? this.searchDatesArray = e.dates : this.searchDatesArray = [e.dates]
            },
            url: function() {
                if (0 == this.searchDatesArray.length)
                    throw new Error("Dates must be given.");
                return "/proxy/biometric-service/biometric/weightByDate?" + this.buildParameterList()
            },
            setSearchDates: function(e) {
                this.searchDatesArray = e
            },
            addSearchDate: function(e) {
                this.searchDatesArray.push(e)
            },
            buildParameterList: function() {
                for (var e = "", t = 0; t < this.searchDatesArray.length; t++) {
                    var i = this.searchDatesArray[t];
                    n.a.isDate(i) && (i = o.a.formatISODate(i)),
                    e += "date=" + i,
                    t + 1 < this.searchDatesArray.length && (e += "&")
                }
                return e
            }
        });
        t.a = l
    },
    1997: function(e, t) {
        e.exports = '<div class="<%- maxView ? \'\' : \'text-center\' %>">\n    <div class="alert alert-error" style="display: none;"><%- Localizer.localize(\'ftp.weight.error\') %></div>\n    <% if (title) {  %>\n        <h6 class="font-thin top-m"><%- title %></h6>\n        <% if (prompt) { %>\n            <p class="font-thin top-s"><%- prompt %></p>\n        <% }             %>\n    <% } else if (prompt) { %>\n        <div class="bottom-m"><%- prompt %></div>\n    <% }        %>\n    <form action="" class="form-horizontal">\n        <div class="row-fluid">\n            <div class="control-group">\n                <label class="control-label weight-label" for="user-weight"><%- Localizer.localize(\'ftp.weight\') %></label>\n                <div class="<%- maxView ? \'controls controls-row\' : \'\' %>">\n                    <span class="input-append">\n                        <input type="text" id="user-weight" placeholder="" class="input-mini" maxlength="<%- maxLength %>" autofocus>\n                        <span class="add-on"><%- weightLabel %></span>\n                    </span>\n                    <% if (displaySaveButton) { %>\n                        <button class="btn btn-form"><%- Localizer.localize(\'save\') %></button>\n                    <% } %>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n'
    },
    2002: function(e, t, i) {
        "use strict";
        i(7);
        var a, n = i(18), r = i.n(n), s = i(4), o = i(13), l = i(1285), c = i(1675), h = (i(28),
        i(1222)), d = i(1227), p = i.n(d), u = i(1253), m = i.n(u), g = i(1403), f = i.n(g);
        m()(p.a),
        f()(p.a),
        (a = p.a).wrap(a.Legend.prototype, "colorizeItem", function(e, t, i) {
            t.options.legendColor && (t.color = t.options.legendColor),
            e.apply(this, Array.prototype.slice.call(arguments, 1))
        });
        var v = h.a.Colors.powerCurveGrey
          , y = {
            DisplayMessage: "DisplayMessage",
            HideFilter: "HideFilter",
            DisplayEmptyChart: "DisplayEmptyChart",
            POWER_TOGGLE: "POWER_TOGGLE"
        }
          , A = l.a.extend({
            initialize: function(e) {
                l.a.prototype.initialize.call(this, e),
                this.wattsToggle = e.wattsToggle,
                this.viewerUserBiometrics = e.viewerUserBiometrics,
                this.lifeTimePowerCurveTotals = e.lifeTimePowerCurveTotals,
                this.powerCurveStartDate = r()(e.startDate),
                this.histroicalData = [],
                this.currentData = [],
                this.displayEmptyChartView = !1,
                this.displayEmptyData = !1
            },
            createExportDataRowHeader: function() {},
            determineYAxisTitle: function() {
                return ""
            },
            postRender: function() {
                this.displayEmptyChartView ? (this.chartObj && this.chartObj.destroy(),
                this.trigger(y.DisplayEmptyChart, this.displayEmptyData),
                this.displayEmptyData && this.trigger(y.DisplayMessage, {
                    msg: "",
                    emptyState: !1
                }),
                this.trigger(y.HideFilter, !0)) : this.$el.find(".highcharts-container").css("top", "-25px")
            },
            customizeOptions: function() {
                var e = this;
                this.options.xAxis = {
                    labels: {
                        useHTML: !0,
                        formatter: function() {
                            return '<span style="text-align: center; vertical-align: middle;"><span style="margin-right: auto; float: right; color: #6E8594; width: 100%;">\u25cf</span><br />' + this.value + "</span>"
                        },
                        y: 10
                    },
                    min: .5,
                    max: this.categories.length - 1.5,
                    tickLength: 0,
                    categories: this.categories,
                    crosshair: {
                        width: 1,
                        color: h.a.Colors.powerCurveCrosshairGrey,
                        zIndex: 0
                    },
                    tickInterval: 1,
                    minPadding: 0,
                    maxPadding: 0,
                    startOnTick: !1,
                    endOnTick: !1
                },
                this.options.yAxis = {
                    title: {
                        text: ""
                    },
                    labels: {
                        formatter: function() {
                            return e.convertToWattsPerKg(this.value) + " " + ("watts-kg-trend" == e.wattsToggle ? s.a.localize("label_power_kg") : s.a.localize("max_avg_power_unit"))
                        },
                        x: -5
                    }
                },
                this.options.tooltip = {
                    crosshairs: !0,
                    animation: !1,
                    shared: !0,
                    useHTML: !0,
                    positioner: function(t, i, a) {
                        var n = {
                            x: a.plotX,
                            y: e.chartObj.margin[0] - i
                        }
                          , r = t / 2;
                        return a.plotX + t > e.chartObj.plotWidth ? n.x = a.plotX + e.chartObj.plotLeft - t : a.plotX - r <= 0 ? n.x = a.plotX + e.chartObj.plotLeft : n.x = a.plotX + e.chartObj.plotLeft - r,
                        n
                    },
                    formatter: function() {
                        var t = '<span style="color: #6E8594">\u25cf</span> <b>' + s.a.localize("interval_time") + ":</b> " + this.x;
                        return this.points.sort(function(e, t) {
                            return e.y == t.y ? 0 : e.y < t.y ? 1 : -1
                        }).forEach(function(i, a) {
                            var n = "";
                            if (i.series.symbol)
                                switch (i.series.symbol) {
                                case "circle":
                                    n = "\u25cf";
                                    break;
                                case "diamond":
                                    n = "\u2666";
                                    break;
                                case "square":
                                    n = "\u25a0";
                                    break;
                                case "triangle":
                                    n = "\u25b2";
                                    break;
                                case "triangle-down":
                                    n = "\u25bc"
                                }
                            t += '<br /><span style="color: ' + i.series.color + '">' + n + "</span> <b>" + i.series.name + ":</b> " + e.convertToWattsPerKg(i.y) + " " + ("watts-kg-trend" == e.wattsToggle ? s.a.localize("label_power_kg") : s.a.localize("max_avg_power_unit"))
                        }),
                        t
                    }
                },
                this.options.plotOptions = {
                    series: {
                        lineWidth: 1,
                        marker: {
                            enabled: !1,
                            symbol: "circle",
                            lineColor: "white",
                            lineWidth: 1,
                            radius: 2
                        },
                        animation: !1
                    }
                },
                this.options.legend = {
                    enabled: !0,
                    symbolHeight: 12,
                    symbolWidth: 12,
                    itemStyle: {
                        fontSize: "12px",
                        fontWeight: "normal"
                    }
                },
                this.options.chart.marginTop = 70
            },
            compileStats: function() {},
            setCategories: function() {},
            convertToWattsPerKg: function(e) {
                var t = this.viewerUserBiometrics.biometricProfile.weight;
                return "watts-kg-trend" === this.wattsToggle ? o.a.convertToWattsPerKg(e, t) : e
            },
            initializeChartSeries: function() {
                this.chartSeries = {},
                this.histroicalData = [],
                this.currentData = [];
                var e, t = [];
                if (this.lifeTimePowerCurveTotals.get("entries"))
                    for (var i = 0; i < this.lifeTimePowerCurveTotals.get("entries").length; i++)
                        null !== this.lifeTimePowerCurveTotals.get("entries")[i].activityDate && (t.push(o.a.personalizeSeconds(this.lifeTimePowerCurveTotals.get("entries")[i].duration, s.a)),
                        this.histroicalData.push({
                            y: this.lifeTimePowerCurveTotals.get("entries")[i].power
                        }));
                if (this.histroicalData.length > 0 && (this.chartSeries[0] = {
                    name: s.a.localize("record_label"),
                    color: v,
                    data: this.histroicalData,
                    fillOpacity: .5,
                    lineColor: h.a.Colors.powerCurveDarkerGrey,
                    marker: {
                        fillColor: h.a.Colors.powerCurveDarkerGrey
                    },
                    legendColor: h.a.Colors.powerCurveDarkerGrey,
                    drawCustomLegend: !0
                }),
                e = 0 === this.histroicalData.length,
                this.metricList.get("entries"))
                    for (i = 0; i < this.metricList.get("entries").length; i++)
                        null !== this.metricList.get("entries")[i].activityDate && (e && t.push(o.a.personalizeSeconds(this.metricList.get("entries")[i].duration, s.a)),
                        this.currentData.push({
                            y: this.metricList.get("entries")[i].power
                        }));
                this.categories = t,
                this.chartSeries[1] = {
                    name: this.getMetricPeriodName(),
                    color: h.a.Colors.powerCurveBlue,
                    data: this.currentData,
                    fillOpacity: .3,
                    lineColor: h.a.Colors.blue,
                    marker: {
                        fillColor: h.a.Colors.blue
                    },
                    legendColor: h.a.Colors.blue,
                    drawCustomLegend: !0
                },
                0 === this.histroicalData.length ? this.displayEmptyChartView = !0 : 0 === this.currentData.length ? 0 === this.histroicalData.length ? (this.displayEmptyChartView = !0,
                this.displayEmptyData = !0) : this.trigger(y.DisplayMessage, {
                    msg: s.a.localize("no_power_data_for_period", this.getMetricPeriodName().toLowerCase()),
                    emptyState: !1
                }) : this.trigger(y.DisplayMessage, {
                    msg: "",
                    emptyState: !1
                })
            },
            getMetricPeriodName: function() {
                var e = null;
                switch (this.metricPeriod) {
                case c.a.weekly:
                    e = s.a.localize("four_weeks");
                    break;
                case c.a.monthly:
                    e = s.a.localize("three_months");
                    break;
                case c.a.yearly:
                    e = s.a.localize("twelve_months");
                    break;
                default:
                    e = this.metricPeriod
                }
                return e
            },
            toggle: function(e) {
                this.wattsToggle = e,
                l.a.prototype.initExportData.call(this),
                l.a.prototype.render.call(this),
                this.trigger(y.POWER_TOGGLE)
            },
            showWeightPrompt: function(e) {
                return {
                    displayWeightPrompt: null === this.viewerUserBiometrics.biometricProfile.weight && "watts-kg-trend" === e,
                    weightDate: r()().format("YYYY-MM-DD")
                }
            }
        });
        A.Events = y,
        t.a = A
    },
    2003: function(e, t) {
        e.exports = '<h6 id="te-feedback-header"><%- feedbackTitle %></h6>\n<p id="te-feedback-content"><%- feedbackContent %></p>'
    },
    2004: function(e, t) {
        e.exports = '<% if (aerobicTrainingEffect !== null) {      %>\n    <div id="te-aerobic-feedback" class="te-feedback"></div>\n    <div class="rounded-gauge te-score" id="te-aerobic-score"></div>\n<% } %>\n\n<% if (aerobicTrainingEffect !== null && anaerobicTrainingEffect !== null ) {      %>\n    <hr class="top-s bottom-s">\n<% } %>\n\n<% if (anaerobicTrainingEffect !== null) {      %>\n    <div id="te-anaerobic-feedback" class="te-feedback"></div>\n    <div class="rounded-gauge te-score" id="te-anaerobic-score"></div>\n<% } %>\n'
    },
    2005: function(e, t) {
        e.exports = "<p><strong><%- Localizer.localize('AEROBIC_TRAINING_EFFECT') %></strong> <%- Localizer.localize('AEROBIC_TE_DESCRIPTION') %></p>\n<% if (anaerobicTrainingEffect !== null) {      %>\n    <p><strong><%- Localizer.localize('ANAEROBIC_TRAINING_EFFECT') %></strong> <%- Localizer.localize('ANAEROBIC_TE_DESCRIPTION') %></p>\n<% } %>\n\n<div class=\"fine-print\">\n    <%= Localizer.localize('TRAINING_EFFECT_REPORT_FOOTER') %>\n</div>"
    },
    2006: function(e, t) {
        e.exports = "<table class=\"table table-bordered table-training-effect\">\n    <thead>\n    <tr>\n        <th><%- Localizer.localize('trainingEffect.help.status') %></th>\n        <th><%- Localizer.localize('trainingEffect.help.score') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score5') %></td>\n        <td>5</td>\n    </tr>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score4') %></td>\n        <td>4</td>\n    </tr>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score3') %></td>\n        <td>3</td>\n    </tr>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score2') %></td>\n        <td>2</td>\n    </tr>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score1') %></td>\n        <td>1</td>\n    </tr>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score0') %></td>\n        <td>0</td>\n    </tr>\n    </tbody>\n</table>"
    },
    2007: function(e, t) {
        e.exports = '\n\x3c!-- Temporary file until FR 945 is announced, delete this file\nand its references once the features for FR 945 goes LIVE\nCA-51051 --\x3e\n\n\n<% if (isWidget === false) { %>\n    <ul class="nav nav-tabs">\n        <li class="active"><a href="#te-this-activity-placeholder" data-toggle="tab"><%- Localizer.localize(\'label.this.activity\') %></a></li>\n        <li><a href="#te-learn-placeholder" data-toggle="tab"><%- Localizer.localize(\'agent.learn.more\') %></a></li>\n        <li><a href="#te-scores-placeholder" data-toggle="tab"><%- Localizer.localize(\'label.scoring.scale\') %></a></li>\n    </ul>\n\n    <div class="tab-content">\n        <div class="tab-pane active" id="te-this-activity-placeholder"></div>\n\n        <div class="tab-pane" id="te-learn-placeholder"></div>\n        \n        <div class="tab-pane" id="te-scores-placeholder"></div>\n    </div>\n<% } else { %>\n    <ul class="nav nav-tabs">\n        <li class="active"><a href="#te-learn-placeholder" data-toggle="tab"><%- Localizer.localize(\'agent.learn.more\') %></a></li>\n        <li><a href="#te-scores-placeholder" data-toggle="tab"><%- Localizer.localize(\'label.scoring.scale\') %></a></li>\n    </ul>\n\n    <div class="tab-content">\n        <div class="tab-pane active" id="te-learn-placeholder"></div>\n\n        <div class="tab-pane" id="te-scores-placeholder"></div>\n    </div>\n\n<% } %>'
    },
    2008: function(e, t, i) {
        "use strict";
        i(7);
        var a = i(8)
          , n = i.n(a)
          , r = i(4)
          , s = i(1435)
          , o = i(37)
          , l = i(1329)
          , c = n.a.View.extend({
            initialize: function(e) {
                this.aerobicScore = e.aerobicScore,
                this.aerobicScoreMessage = e.aerobicScoreMessage,
                this.anaerobicScore = e.anaerobicScore,
                this.anaerobicScoreMessage = e.anaerobicScoreMessage,
                this.primaryBenefit = e.primaryBenefit,
                this.isWidget = e.isWidget
            },
            render: function() {
                this.teHelpModalView && this.teHelpModalView.destroy(),
                this.teHelpModalView = new s.a({
                    reactComponent: window.TrainingEffectModal,
                    props: {
                        aerobicTEStats: {
                            score: this.aerobicScore,
                            feedBackTitle: r.a.localize(l.a.Types.Aerobic + "_TRAINING_EFFECT"),
                            feedBackContent: l.a.getFeedback(l.a.Types.Aerobic, this.aerobicScore, this.aerobicScoreMessage),
                            label: r.a.localize("label.aerobic.te")
                        },
                        anaerobicTEStats: {
                            score: this.anaerobicScore,
                            feedBackTitle: r.a.localize(l.a.Types.Anaerobic + "_TRAINING_EFFECT"),
                            feedBackContent: l.a.getFeedback(l.a.Types.Anaerobic, this.anaerobicScore, this.anaerobicScoreMessage),
                            label: r.a.localize("label.anaerobic.te")
                        },
                        primaryBenefit: this.primaryBenefit,
                        isWidget: this.isWidget
                    }
                }),
                new o.a({
                    view: this.teHelpModalView,
                    showFooter: !1,
                    customClasses: "",
                    modalTitle: r.a.localize("help.title")
                }).render()
            }
        });
        t.a = c
    },
    2009: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a).a.Model.extend({
            url: function() {
                return "/proxy/fitnessstats-service/" + this.dataType + "/" + (this.startDate ? "?startDate=" + this.startDate : "") + (this.endDate ? "&endDate=" + this.endDate : "")
            },
            initialize: function(e) {
                this.dataType = e.dataType,
                this.startDate = e.startDate,
                this.endDate = e.endDate
            }
        });
        t.a = n
    },
    2010: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(353)
          , s = i(8)
          , o = i.n(s).a.Model.extend({
            url: function() {
                return "/proxy/fitnessstats-service/activity" + r.a.toQueryString({
                    aggregation: this.aggregation,
                    userFirstDay: this.firstDayOfWeek ? this.firstDayOfWeek.dayName : void 0,
                    startDate: this.startDate,
                    endDate: this.endDate,
                    groupByActivityType: this.groupByActivityType,
                    metric: this.metric,
                    excludedActivitySubType: this.excludedActivitySubType,
                    activityType: this.activityType
                })
            },
            initialize: function(e) {
                if (!this.notNullAndNotUndefined(e))
                    throw "aggregation required for AggregatedActivityMetricStats";
                this.aggregation = e.aggregation,
                this.startDate = e.startDate,
                this.endDate = e.endDate,
                this.metric = e.metric,
                this.activityType = e.activityType,
                this.groupByActivityType = e.groupByActivityType,
                this.excludedActivitySubType = e.excludedActivitySubType,
                this.firstDayOfWeek = e.firstDayOfWeek
            },
            notNullAndNotUndefined: function(e) {
                return !n.a.isNull(e) && !n.a.isUndefined(e)
            },
            parse: function(e) {
                this.aggregateStats = e
            },
            setDisplayName: function(e) {
                this.displayName = e
            },
            getTotalStatSum: function(e, t) {
                for (var i = 0, a = 0; a < this.aggregateStats.length; a++)
                    i += this.aggregateStats[a].stats[e][t].sum;
                return i
            },
            getTotalBottomTimeInSeconds: function() {
                return this.getTotalStatSum("diving", "bottomTime") / 1e3
            }
        });
        t.a = o
    },
    2025: function(e, t) {
        e.exports = '<div id="open-express">\n    <h3 id="wireless-message-header" class="bottom-m wireless-message" style="display: none;"></h3>\n    <h3 class="bottom-m non-wireless-message" style="display: none;"><%- Localizer.localize(\'agent.connecting\') %></h3>\n    <p><%- Localizer.localize(\'agent.wait\') %></p>\n</div>\n<div id="sync-message" class="still-waiting text-left alert alert-info bottom-none" style="display: none;">\n</div>\n'
    },
    2110: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = (i(8),
        i(4),
        i(13),
        i(1279))
          , s = i(1702)
          , o = i.n(s)
          , l = r.a.extend({
            template: n.a.template(o.a)
        });
        t.a = l
    },
    2192: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            url: function() {
                return "/proxy/device-service/deviceservice/app-info/" + this.applicationInstallId
            },
            initialize: function(e, t) {
                t.applicationInstallId && (this.applicationInstallId = t.applicationInstallId)
            },
            setAfterLoad: function(e) {
                this.applicationInstallId = e
            }
        })
    },
    2193: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(82)
          , s = i(1254)
          , o = ["DESCENT_SPLIT"]
          , l = n.a.Collection.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/typedsplits"
            },
            initialize: function(e, t) {
                if ("undefined" === typeof t.activityId)
                    throw "ActivityTypedSplits requires an activity ID";
                this.activityId = t.activityId
            },
            parse: function(e) {
                return e ? e.splits : []
            },
            getHighlightedTimeRanges: function() {
                return this.getHighlightedSplits().map(function(e) {
                    return {
                        start: r.a.parseISOUTC(e.get("startTimeGMT")).getTime(),
                        end: r.a.parseISOUTC(e.get("endTimeGMT")).getTime()
                    }
                })
            },
            getHighlightedSplits: function() {
                return this.filter(function(e) {
                    return o.includes(e.get("type"))
                })
            },
            comparator: function(e) {
                return r.a.parseISOUTC(e.get("startTimeGMT"))
            },
            getRoutes: function() {
                return this.getSplitsOfType(s.b.CLIMB_ACTIVE)
            },
            getSplitsOfType: function(e) {
                return this.where({
                    type: e
                })
            }
        });
        t.a = l
    },
    2194: function(e, t, i) {
        (t = e.exports = i(33)(!0)).i(i(276), void 0),
        t.push([e.i, ".WorkoutExecutionMetrics_executionScore__12meQ {\n    margin-bottom: 10px;\n}\n.WorkoutExecutionMetrics_wrapper__1Ibe1 {\n    position: relative;\n    background-color: " + i(276).locals.lightui_surface_1 + ";\n    border-radius: 4px;\n    padding: 22px 10px;\n}\n.WorkoutExecutionMetrics_statsSectionExecutionScore__1YDAl {\n    margin-bottom: 0;\n}\n.WorkoutExecutionMetrics_statsSectionExecutionScore__1YDAl .WorkoutExecutionMetrics_wrapper__1Ibe1 {\n    background: none;\n    padding: 0;\n}\n.WorkoutExecutionMetrics_dot__OLO1n {\n    display: inline-block;\n    position: relative;\n    top: 2px;\n    width: 14px;\n    height: 14px;\n    margin-right: 8px;\n    border-radius: 50%;\n}\n.WorkoutExecutionMetrics_upperDot__3ZVO- {\n    top: -2px;\n}\n.WorkoutExecutionMetrics_middleDot__P6Rgg {\n    position: static;\n}\n.WorkoutExecutionMetrics_scoreDot__1MG-I {\n    margin-right: 3px;\n    top: 1px;\n}\n.WorkoutExecutionMetrics_dot__OLO1n.WorkoutExecutionMetrics_red__1BH-1 {\n    background-color: " + i(276).locals.red_primary + ";\n}\n.WorkoutExecutionMetrics_dot__OLO1n.WorkoutExecutionMetrics_orange__1MDNC {\n    background-color: " + i(276).locals.color_614 + ";\n}\n.WorkoutExecutionMetrics_dot__OLO1n.WorkoutExecutionMetrics_yellow__1Bxm7 {\n    background-color: " + i(276).locals.yellow_primary + ";\n}\n.WorkoutExecutionMetrics_dot__OLO1n.WorkoutExecutionMetrics_green__2BglC {\n    background-color: " + i(276).locals.green_primary + ";\n}\n.WorkoutExecutionMetrics_dot__OLO1n.WorkoutExecutionMetrics_blue__1TZfk {\n    background-color: " + i(276).locals.color_201 + ";\n}\n.WorkoutExecutionMetrics_dot__OLO1n.WorkoutExecutionMetrics_lightblue__3jpOB {\n    background-color: " + i(276).locals.teal_light_1 + ";\n}\n.WorkoutExecutionMetrics_dot__OLO1n.WorkoutExecutionMetrics_lime__QHRkU {\n    background-color: " + i(276).locals.lime_primary + ";\n}\n.WorkoutExecutionMetrics_score__Iq4V0 {\n    margin-right: 4px;\n    font-size: 26px;\n    font-weight: 300;\n    line-height: 26px;\n    color: #222222;\n}\n.WorkoutExecutionMetrics_scoreSmall__31gUP {\n    font-size: 16px;\n    color: #222222;\n    line-height: 26px;\n}\n.WorkoutExecutionMetrics_label__2_2yo {\n    color: #888888;\n    font-size: 12px;\n    line-height: 22px;\n}\n.WorkoutExecutionMetrics_helpIcon__1AXmO {\n    margin-left: 4px;\n}\n.WorkoutExecutionMetrics_executionScore__12meQ .WorkoutExecutionMetrics_modalContainer__14A0X h3 {\n    border: none !important;\n    margin-bottom: 0 !important;\n}\n.WorkoutExecutionMetrics_executionScoreExample__3QLiD {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    text-align: center;\n    max-width: 270px;\n    margin: 0 auto 20px auto;\n}\n.WorkoutExecutionMetrics_fractionEqual__3doEW {\n    position: relative;\n    display: inline-block;\n    overflow: visible;\n    width: 100%;\n    margin: 4px 0;\n    border-top: 1px solid #000;\n}\n.WorkoutExecutionMetrics_fractionEqual__3doEW:after {\n    content: '=';\n    display: inline-block;\n    position: absolute;\n    top: -12px;\n    right: -16px;\n}\n.WorkoutExecutionMetrics_result__1x8Y4 {\n    display: table;\n    height: 100%;\n    padding-left: 24px;\n    text-align: left;\n}\n.WorkoutExecutionMetrics_result__1x8Y4 .WorkoutExecutionMetrics_middle__1zxO_ {\n    display: table-cell;\n    vertical-align: middle;\n}\n.WorkoutExecutionMetrics_headerText__1lNpk {\n    font-size: 18px;\n    font-weight: 300;\n}\n.WorkoutExecutionMetrics_h3__2JSf-,\n.WorkoutExecutionMetrics_h4__2RJDv,\n.WorkoutExecutionMetrics_h5__1njg2 {\n    display: block;\n    margin-bottom: 8px;\n}\n.WorkoutExecutionMetrics_h3__2JSf- {\n    font-size: 22px;\n    font-weight: 300;\n    line-height: 33px;\n}\n.WorkoutExecutionMetrics_h4__2RJDv {\n    font-size: 18px;\n    font-weight: 300;\n    line-height: 27px;\n}\n.WorkoutExecutionMetrics_h5__1njg2 {\n    font-size: 16px;\n    font-weight: 300;\n    line-height: 24px;\n}\n/*edit*/\n.WorkoutExecutionMetrics_slider-handle__33H8v {\n    border: 2px solid rgb(25, 118, 210);\n    background-image: none !important;\n    background-color: " + i(276).locals.yellow_primary + ";\n}\n.WorkoutExecutionMetrics_htitle__2uAzs {\n    font-size: 14px;\n    font-weight: 600;\n    margin-bottom: 5px;\n}\n.WorkoutExecutionMetrics_currentValue__OWEpJ {\n    font-size: 12px;\n    text-align: center;\n    margin-bottom: 10px;\n}\n.WorkoutExecutionMetrics_sliderLabelNone__2xkGR,\n.WorkoutExecutionMetrics_sliderLabelMaximum__3iXoF {\n    font-size: 12px;\n    color: rgb(108, 108, 108);\n}\n.WorkoutExecutionMetrics_sliderLabelMaximum__3iXoF {\n    float: right;\n}\n.WorkoutExecutionMetrics_face__2I_1U {\n    display: inline-block;\n    position: relative;\n    float: left;\n    width: 20px;\n    height: 20px;\n    background-repeat: no-repeat;\n    background-position: center center;\n    background-size: 100% 100%;\n    margin-right: 4px;\n}\n.WorkoutExecutionMetrics_face__2I_1U.WorkoutExecutionMetrics_very_weak__1_dtC {\n    background-image: url('/web-images/activity/very_weak.svg');\n}\n.WorkoutExecutionMetrics_face__2I_1U.WorkoutExecutionMetrics_weak__2kd4l {\n    background-image: url('/web-images/activity/weak.svg');\n}\n.WorkoutExecutionMetrics_face__2I_1U.WorkoutExecutionMetrics_normal__2E8kR {\n    background-image: url('/web-images/activity/normal.svg');\n}\n.WorkoutExecutionMetrics_face__2I_1U.WorkoutExecutionMetrics_strong__379e- {\n    background-image: url('/web-images/activity/strong.svg');\n}\n.WorkoutExecutionMetrics_face__2I_1U.WorkoutExecutionMetrics_very_strong___sh0I {\n    background-image: url('/web-images/activity/very_strong.svg');\n}\n.WorkoutExecutionMetrics_clear__3Sc4y {\n    clear: both;\n}\n.WorkoutExecutionMetrics_checkbox__jnX-K {\n    position: relative;\n}\n.WorkoutExecutionMetrics_feelIconContainer__ZZXO5 {\n    max-width: 40px;\n    max-height: 40px;\n    display: inline-block;\n    margin: 0 5px;\n}\n.WorkoutExecutionMetrics_feelStaticIconContainer__K8CtQ {\n    margin: 0 5px 0 0;\n}\n.WorkoutExecutionMetrics_feelCheckboxLabel__iDKCy {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-align-items: center;\n            align-items: center;\n}\n.WorkoutExecutionMetrics_checkbox__jnX-K .WorkoutExecutionMetrics_face__2I_1U {\n    top: 1px;\n}\n.WorkoutExecutionMetrics_customCheckbox__1xIX5 {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    z-index: 1;\n    width: 16px;\n    height: 16px;\n}\n.WorkoutExecutionMetrics_customCheckbox__1xIX5 ~ .WorkoutExecutionMetrics_feelCheckboxLabel__iDKCy .WorkoutExecutionMetrics_customCheckboxSpan__3yYqX {\n    float: left;\n    position: relative;\n    display: inline-block;\n    border: 1px solid " + i(276).locals.darkui_accent_2 + ";\n    border-radius: 50%;\n    width: 16px;\n    height: 16px;\n    margin-right: 5px;\n    vertical-align: middle;\n    cursor: pointer;\n}\n.WorkoutExecutionMetrics_customCheckbox__1xIX5:checked ~ .WorkoutExecutionMetrics_feelCheckboxLabel__iDKCy .WorkoutExecutionMetrics_customCheckboxSpan__3yYqX:after {\n    position: relative;\n    left: -1px;\n    top: -2px;\n    content: ' ';\n    display: inline-block;\n    border: 4px solid " + i(276).locals.color_201 + ";\n    border-radius: 50%;\n    width: 11px;\n    height: 11px;\n    color: " + i(276).locals.color_131 + ";\n}\n.WorkoutExecutionMetrics_gridAlignCenter__jeoJw {\n    display: grid;\n    -webkit-align-items: center;\n            align-items: center;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.28/src/Activity/WorkoutExecutionMetrics/WorkoutExecutionMetrics.css"],
            names: [],
            mappings: "AAEA;IACI,oBAAmB;CACvB;AAEA;IACI,mBAAkB;IAClB,8CAAmC;IACnC,mBAAkB;IAClB,mBAAkB;CACtB;AAEA;IACI,iBAAgB;CACpB;AAEA;IACI,iBAAgB;IAChB,WAAU;CACd;AAEA;IACI,sBAAqB;IACrB,mBAAkB;IAClB,SAAQ;IACR,YAAW;IACX,aAAY;IACZ,kBAAiB;IACjB,mBAAkB;CACtB;AAEA;IACI,UAAS;CACb;AAEA;IACI,iBAAgB;CACpB;AAEA;IACI,kBAAiB;IACjB,SAAQ;CACZ;AAEA;IACI,8CAA6B;CACjC;AAEA;IACI,8CAA2B;CAC/B;AAEA;IACI,8CAAgC;CACpC;AACA;IACI,8CAA+B;CACnC;AAEA;IACI,8CAA2B;CAC/B;AAEA;IACI,+CAA8B;CAClC;AAEA;IACI,8CAA8B;CAClC;AAEA;IACI,kBAAiB;IACjB,gBAAe;IACf,iBAAgB;IAChB,kBAAiB;IACjB,eAAc;CAClB;AAEA;IACI,gBAAe;IACf,eAAc;IACd,kBAAiB;CACrB;AAEA;IACI,eAAc;IACd,gBAAe;IACf,kBAAiB;CACrB;AAEA;IACI,iBAAgB;CACpB;AACA;IACI,wBAAuB;IACvB,4BAA2B;CAC/B;AACA;IACI,cAAa;IACb,sCAAqC;IACrC,mBAAkB;IAClB,iBAAgB;IAChB,yBAAwB;CAC5B;AAEA;IACI,mBAAkB;IAClB,sBAAqB;IACrB,kBAAiB;IACjB,YAAW;IACX,cAAa;IACb,2BAA0B;CAC9B;AAEA;IACI,aAAY;IACZ,sBAAqB;IACrB,mBAAkB;IAClB,WAAU;IACV,aAAY;CAChB;AAEA;IACI,eAAc;IACd,aAAY;IACZ,mBAAkB;IAClB,iBAAgB;CACpB;AAEA;IACI,oBAAmB;IACnB,uBAAsB;CAC1B;AAEA;IACI,gBAAe;IACf,iBAAgB;CACpB;AAEA;;;IAGI,eAAc;IACd,mBAAkB;CACtB;AAEA;IACI,gBAAe;IACf,iBAAgB;IAChB,kBAAiB;CACrB;AAEA;IACI,gBAAe;IACf,iBAAgB;IAChB,kBAAiB;CACrB;AAEA;IACI,gBAAe;IACf,iBAAgB;IAChB,kBAAiB;CACrB;AAEA,QAAO;AAEP;IACI,oCAAmC;IACnC,kCAAiC;IACjC,8CAAgC;CACpC;AAEA;IACI,gBAAe;IACf,iBAAgB;IAChB,mBAAkB;CACtB;AAEA;IACI,gBAAe;IACf,mBAAkB;IAClB,oBAAmB;CACvB;AAEA;;IAEI,gBAAe;IACf,0BAAyB;CAC7B;AAEA;IACI,aAAY;CAChB;AAEA;IACI,sBAAqB;IACrB,mBAAkB;IAClB,YAAW;IACX,YAAW;IACX,aAAY;IACZ,6BAA4B;IAC5B,mCAAkC;IAClC,2BAA0B;IAC1B,kBAAiB;CACrB;AAEA;IACI,4DAA2D;CAC/D;AAEA;IACI,uDAAsD;CAC1D;AAEA;IACI,yDAAwD;CAC5D;AAEA;IACI,yDAAwD;CAC5D;AAEA;IACI,8DAA6D;CACjE;AAEA;IACI,YAAW;CACf;AAEA;IACI,mBAAkB;CACtB;AACA;IACI,gBAAe;IACf,iBAAgB;IAChB,sBAAqB;IACrB,cAAa;CACjB;AACA;IACI,kBAAiB;CACrB;AACA;IACI,sBAAa;IAAb,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;CACvB;AAEA;IACI,SAAQ;CACZ;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,gBAAe;IACf,WAAU;IACV,YAAW;IACX,aAAY;CAChB;AAEA;IACI,YAAW;IACX,mBAAkB;IAClB,sBAAqB;IACrB,8CAAiC;IACjC,mBAAkB;IAClB,YAAW;IACX,aAAY;IACZ,kBAAiB;IACjB,uBAAsB;IACtB,gBAAe;CACnB;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,UAAS;IACT,aAAY;IACZ,sBAAqB;IACrB,8CAA2B;IAC3B,mBAAkB;IAClB,YAAW;IACX,aAAY;IACZ,mCAAgB;CACpB;AAEA;IACI,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;CACvB",
            file: "WorkoutExecutionMetrics.css",
            sourcesContent: ["@value (color_131, darkui_accent_2, lightui_surface_1, red_primary, color_614, color_201, lightui_surface_4, yellow_primary, lime_primary, green_primary, color_106, teal_light_1) from 'ui-connect/styles/colors.module.css';\n\n.executionScore {\n    margin-bottom: 10px;\n}\n\n.wrapper {\n    position: relative;\n    background-color: lightui_surface_1;\n    border-radius: 4px;\n    padding: 22px 10px;\n}\n\n.statsSectionExecutionScore {\n    margin-bottom: 0;\n}\n\n.statsSectionExecutionScore .wrapper {\n    background: none;\n    padding: 0;\n}\n\n.dot {\n    display: inline-block;\n    position: relative;\n    top: 2px;\n    width: 14px;\n    height: 14px;\n    margin-right: 8px;\n    border-radius: 50%;\n}\n\n.upperDot {\n    top: -2px;\n}\n\n.middleDot {\n    position: static;\n}\n\n.scoreDot {\n    margin-right: 3px;\n    top: 1px;\n}\n\n.dot.red {\n    background-color: red_primary;\n}\n\n.dot.orange {\n    background-color: color_614;\n}\n\n.dot.yellow {\n    background-color: yellow_primary;\n}\n.dot.green {\n    background-color: green_primary;\n}\n\n.dot.blue {\n    background-color: color_201;\n}\n\n.dot.lightblue {\n    background-color: teal_light_1;\n}\n\n.dot.lime {\n    background-color: lime_primary;\n}\n\n.score {\n    margin-right: 4px;\n    font-size: 26px;\n    font-weight: 300;\n    line-height: 26px;\n    color: #222222;\n}\n\n.scoreSmall {\n    font-size: 16px;\n    color: #222222;\n    line-height: 26px;\n}\n\n.label {\n    color: #888888;\n    font-size: 12px;\n    line-height: 22px;\n}\n\n.helpIcon {\n    margin-left: 4px;\n}\n.executionScore .modalContainer h3 {\n    border: none !important;\n    margin-bottom: 0 !important;\n}\n.executionScoreExample {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    text-align: center;\n    max-width: 270px;\n    margin: 0 auto 20px auto;\n}\n\n.fractionEqual {\n    position: relative;\n    display: inline-block;\n    overflow: visible;\n    width: 100%;\n    margin: 4px 0;\n    border-top: 1px solid #000;\n}\n\n.fractionEqual:after {\n    content: '=';\n    display: inline-block;\n    position: absolute;\n    top: -12px;\n    right: -16px;\n}\n\n.result {\n    display: table;\n    height: 100%;\n    padding-left: 24px;\n    text-align: left;\n}\n\n.result .middle {\n    display: table-cell;\n    vertical-align: middle;\n}\n\n.headerText {\n    font-size: 18px;\n    font-weight: 300;\n}\n\n.h3,\n.h4,\n.h5 {\n    display: block;\n    margin-bottom: 8px;\n}\n\n.h3 {\n    font-size: 22px;\n    font-weight: 300;\n    line-height: 33px;\n}\n\n.h4 {\n    font-size: 18px;\n    font-weight: 300;\n    line-height: 27px;\n}\n\n.h5 {\n    font-size: 16px;\n    font-weight: 300;\n    line-height: 24px;\n}\n\n/*edit*/\n\n.slider-handle {\n    border: 2px solid rgb(25, 118, 210);\n    background-image: none !important;\n    background-color: yellow_primary;\n}\n\n.htitle {\n    font-size: 14px;\n    font-weight: 600;\n    margin-bottom: 5px;\n}\n\n.currentValue {\n    font-size: 12px;\n    text-align: center;\n    margin-bottom: 10px;\n}\n\n.sliderLabelNone,\n.sliderLabelMaximum {\n    font-size: 12px;\n    color: rgb(108, 108, 108);\n}\n\n.sliderLabelMaximum {\n    float: right;\n}\n\n.face {\n    display: inline-block;\n    position: relative;\n    float: left;\n    width: 20px;\n    height: 20px;\n    background-repeat: no-repeat;\n    background-position: center center;\n    background-size: 100% 100%;\n    margin-right: 4px;\n}\n\n.face.very_weak {\n    background-image: url('/web-images/activity/very_weak.svg');\n}\n\n.face.weak {\n    background-image: url('/web-images/activity/weak.svg');\n}\n\n.face.normal {\n    background-image: url('/web-images/activity/normal.svg');\n}\n\n.face.strong {\n    background-image: url('/web-images/activity/strong.svg');\n}\n\n.face.very_strong {\n    background-image: url('/web-images/activity/very_strong.svg');\n}\n\n.clear {\n    clear: both;\n}\n\n.checkbox {\n    position: relative;\n}\n.feelIconContainer {\n    max-width: 40px;\n    max-height: 40px;\n    display: inline-block;\n    margin: 0 5px;\n}\n.feelStaticIconContainer {\n    margin: 0 5px 0 0;\n}\n.feelCheckboxLabel {\n    display: flex;\n    align-items: center;\n}\n\n.checkbox .face {\n    top: 1px;\n}\n\n.customCheckbox {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    z-index: 1;\n    width: 16px;\n    height: 16px;\n}\n\n.customCheckbox ~ .feelCheckboxLabel .customCheckboxSpan {\n    float: left;\n    position: relative;\n    display: inline-block;\n    border: 1px solid darkui_accent_2;\n    border-radius: 50%;\n    width: 16px;\n    height: 16px;\n    margin-right: 5px;\n    vertical-align: middle;\n    cursor: pointer;\n}\n\n.customCheckbox:checked ~ .feelCheckboxLabel .customCheckboxSpan:after {\n    position: relative;\n    left: -1px;\n    top: -2px;\n    content: ' ';\n    display: inline-block;\n    border: 4px solid color_201;\n    border-radius: 50%;\n    width: 11px;\n    height: 11px;\n    color: color_131;\n}\n\n.gridAlignCenter {\n    display: grid;\n    align-items: center;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            color_131: "" + i(276).locals.color_131,
            darkui_accent_2: "" + i(276).locals.darkui_accent_2,
            lightui_surface_1: "" + i(276).locals.lightui_surface_1,
            red_primary: "" + i(276).locals.red_primary,
            color_614: "" + i(276).locals.color_614,
            color_201: "" + i(276).locals.color_201,
            lightui_surface_4: "" + i(276).locals.lightui_surface_4,
            yellow_primary: "" + i(276).locals.yellow_primary,
            lime_primary: "" + i(276).locals.lime_primary,
            green_primary: "" + i(276).locals.green_primary,
            color_106: "" + i(276).locals.color_106,
            teal_light_1: "" + i(276).locals.teal_light_1,
            executionScore: "WorkoutExecutionMetrics_executionScore__12meQ",
            wrapper: "WorkoutExecutionMetrics_wrapper__1Ibe1",
            statsSectionExecutionScore: "WorkoutExecutionMetrics_statsSectionExecutionScore__1YDAl",
            dot: "WorkoutExecutionMetrics_dot__OLO1n",
            upperDot: "WorkoutExecutionMetrics_upperDot__3ZVO-",
            middleDot: "WorkoutExecutionMetrics_middleDot__P6Rgg",
            scoreDot: "WorkoutExecutionMetrics_scoreDot__1MG-I",
            red: "WorkoutExecutionMetrics_red__1BH-1",
            orange: "WorkoutExecutionMetrics_orange__1MDNC",
            yellow: "WorkoutExecutionMetrics_yellow__1Bxm7",
            green: "WorkoutExecutionMetrics_green__2BglC",
            blue: "WorkoutExecutionMetrics_blue__1TZfk",
            lightblue: "WorkoutExecutionMetrics_lightblue__3jpOB",
            lime: "WorkoutExecutionMetrics_lime__QHRkU",
            score: "WorkoutExecutionMetrics_score__Iq4V0",
            scoreSmall: "WorkoutExecutionMetrics_scoreSmall__31gUP",
            label: "WorkoutExecutionMetrics_label__2_2yo",
            helpIcon: "WorkoutExecutionMetrics_helpIcon__1AXmO",
            modalContainer: "WorkoutExecutionMetrics_modalContainer__14A0X",
            executionScoreExample: "WorkoutExecutionMetrics_executionScoreExample__3QLiD",
            fractionEqual: "WorkoutExecutionMetrics_fractionEqual__3doEW",
            result: "WorkoutExecutionMetrics_result__1x8Y4",
            middle: "WorkoutExecutionMetrics_middle__1zxO_",
            headerText: "WorkoutExecutionMetrics_headerText__1lNpk",
            h3: "WorkoutExecutionMetrics_h3__2JSf-",
            h4: "WorkoutExecutionMetrics_h4__2RJDv",
            h5: "WorkoutExecutionMetrics_h5__1njg2",
            "slider-handle": "WorkoutExecutionMetrics_slider-handle__33H8v",
            htitle: "WorkoutExecutionMetrics_htitle__2uAzs",
            currentValue: "WorkoutExecutionMetrics_currentValue__OWEpJ",
            sliderLabelNone: "WorkoutExecutionMetrics_sliderLabelNone__2xkGR",
            sliderLabelMaximum: "WorkoutExecutionMetrics_sliderLabelMaximum__3iXoF",
            face: "WorkoutExecutionMetrics_face__2I_1U",
            very_weak: "WorkoutExecutionMetrics_very_weak__1_dtC",
            weak: "WorkoutExecutionMetrics_weak__2kd4l",
            normal: "WorkoutExecutionMetrics_normal__2E8kR",
            strong: "WorkoutExecutionMetrics_strong__379e-",
            very_strong: "WorkoutExecutionMetrics_very_strong___sh0I",
            clear: "WorkoutExecutionMetrics_clear__3Sc4y",
            checkbox: "WorkoutExecutionMetrics_checkbox__jnX-K",
            feelIconContainer: "WorkoutExecutionMetrics_feelIconContainer__ZZXO5",
            feelStaticIconContainer: "WorkoutExecutionMetrics_feelStaticIconContainer__K8CtQ",
            feelCheckboxLabel: "WorkoutExecutionMetrics_feelCheckboxLabel__iDKCy",
            customCheckbox: "WorkoutExecutionMetrics_customCheckbox__1xIX5",
            customCheckboxSpan: "WorkoutExecutionMetrics_customCheckboxSpan__3yYqX",
            gridAlignCenter: "WorkoutExecutionMetrics_gridAlignCenter__jeoJw"
        }
    },
    2195: function(e, t, i) {
        "use strict";
        var a = i(1241)
          , n = {
            LatLng: /^((-|)([0-9]|[1-8][0-9])((\.|,)\d{0,6})?), *((-|)([0-9]|[1-9][0-9]|1[0-7][0-9])((\.|,)\d{0,6})?)$/i
        }
          , r = a.a.extend({
            initialize: function(e) {
                e.regularExpression = n.LatLng,
                this.initializeRegularExpressionValidator(e)
            }
        });
        r.RegularExpressions = n,
        t.a = r
    },
    2196: function(e, t, i) {
        "use strict";
        var a = {
            lat: null,
            lng: null
        };
        function n() {}
        n.parseLatLngString = function(e) {
            if (!e || e.length < 3)
                return a;
            var t = e.split(",");
            if (t.length < 2)
                return a;
            t.map(function(e) {
                return e.trim()
            });
            var i = parseFloat(t[0]).toFixed(6)
              , n = parseFloat(t[1]).toFixed(6);
            return isNaN(i) || isNaN(n) ? a : {
                lat: i,
                lng: n
            }
        }
        ,
        t.a = n
    },
    2197: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(13)
              , c = i(1222)
              , h = i(1276)
              , d = i(1332)
              , p = i(2198)
              , u = i.n(p)
              , m = {
                PrimaryChanged: "PrimaryChanged",
                SecondaryChanged: "SecondaryChanged",
                ZoomReset: "ZoomReset",
                RangeSelected: "RangeSelected"
            }
              , g = s.a.View.extend({
                template: n.a.template(u.a),
                events: {
                    "click #primary-dropdown li": "onPrimaryDropdownClicked",
                    "click #secondary-dropdown li": "onSecondaryDropdownClicked",
                    "click .reset-zoom": "onResetZoomClicked"
                },
                initialize: function(e) {
                    if (this.activitySummary = e.activitySummary,
                    this.activityDetails = e.activityDetails,
                    this.backgroundSeries = e.backgroundSeries,
                    this.availableSeries = e.availableSeries,
                    this.xAxisType = e.xAxisType,
                    this.showWorkoutSeries = !1,
                    this.primarySeries = this.determinePrimarySeries(),
                    this.secondarySeries = this.determineSecondarySeries(),
                    this.zoomButtonDisplayed = !1,
                    !this.backgroundSeries)
                        throw "BackgroundSeriesType required for ExpandedChartHeaderView"
                },
                render: function() {
                    this.chartRangeSelector && (this.stopListening(this.chartRangeSelector),
                    this.chartRangeSelector = null);
                    var e = n.a.reject(this.availableSeries, this.isBackground, this)
                      , t = this.template({
                        Localizer: o.a,
                        Personalizer: l.a,
                        series: e,
                        backgroundSeries: this.backgroundSeries,
                        primarySeries: this.primarySeries,
                        secondarySeries: this.secondarySeries,
                        backgroundColor: this.determineBackgroundSeriesColor(),
                        backgroundSeriesLabel: this.determineBackgroundSeriesLabel(),
                        primaryColor: this.determinePrimarySeriesColor(),
                        primarySeriesLabel: this.determinePrimarySeriesLabel(),
                        secondaryColor: this.determineSecondarySeriesColor(),
                        secondarySeriesLabel: this.determineSecondarySeriesLabel(),
                        workoutSeriesColor: c.a.Colors.workoutTargetGray,
                        showWorkoutSeries: this.showWorkoutSeries,
                        cm: c.a
                    });
                    this.$el.html(t);
                    var i = n.a.find(this.availableSeries, function(e) {
                        return !!e[0].chartRangeSelectorType
                    });
                    i && this.addRangeSelector(i),
                    this.zoomButtonDisplayed && this.showZoomButton()
                },
                determineBackgroundSeriesColor: function() {
                    return (this.primarySeries || this.secondarySeries) && 1 === this.backgroundSeries.length ? "#6D8595" : c.a.mapSeriesType(this.backgroundSeries[0], !0)
                },
                determineBackgroundSeriesLabel: function() {
                    return this.backgroundSeries[0].getLabel()
                },
                determinePrimarySeriesColor: function() {
                    return this.primarySeries ? c.a.mapSeriesType(this.primarySeries[0], !0) : ""
                },
                determinePrimarySeriesLabel: function() {
                    return this.primarySeries ? this.primarySeries[0].getLabel() : o.a.localize("chart_no_overlay")
                },
                determineSecondarySeriesColor: function() {
                    return this.secondarySeries ? c.a.mapSeriesType(this.secondarySeries[0], !0) : ""
                },
                determineSecondarySeriesLabel: function() {
                    return this.secondarySeries ? this.secondarySeries[0].getLabel() : o.a.localize("chart_no_overlay")
                },
                findSeries: function(e) {
                    return n.a.find(this.availableSeries, function(t) {
                        return t[0].getUniqueName() == e
                    }, this)
                },
                isEqual: function(e, t) {
                    if (e.length !== t.length)
                        return !1;
                    for (var i = 0; i < e.length; i++)
                        if (e[i].getUniqueName() !== t[i].getUniqueName())
                            return !1;
                    return !0
                },
                isBackground: function(e) {
                    return this.isEqual(e, this.backgroundSeries)
                },
                isPrimary: function(e) {
                    return this.isEqual(e, this.primarySeries)
                },
                determineBackgroundSeries: function() {
                    return this.backgroundSeries
                },
                determinePrimarySeries: function() {
                    return null
                },
                determineSecondarySeries: function() {
                    return null
                },
                onPrimaryDropdownClicked: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget).attr("data-value");
                    this.primarySeries = this.findSeries(i),
                    this.render(),
                    this.trigger(m.PrimaryChanged, this.primarySeries)
                },
                onSecondaryDropdownClicked: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget).attr("data-value");
                    this.secondarySeries = this.findSeries(i),
                    this.render(),
                    this.trigger(m.SecondaryChanged, this.secondarySeries)
                },
                onResetZoomClicked: function() {
                    this.hideZoomButton(),
                    this.trigger(m.ZoomReset)
                },
                addRangeSelector: function(e) {
                    e = e[0],
                    this.chartRangeSelector || e.chartRangeSelectorType && (this.chartRangeSelector = new e.chartRangeSelectorType({
                        el: this.$(".chart-range-selector"),
                        activityDetails: this.activityDetails,
                        activitySummary: this.activitySummary,
                        xAxisType: this.xAxisType
                    }),
                    this.listenTo(this.chartRangeSelector, d.a.Events.RangeSelected, this.onRangeSelected),
                    this.listenTo(this.chartRangeSelector, d.a.Events.RangeReset, this.onRangeReset),
                    this.chartRangeSelector.render())
                },
                onRangeSelected: function(e, t) {
                    var i = 0
                      , a = 0;
                    this.xAxisType == h.a.Duration ? (i = e,
                    a = t) : (i = l.a.convertDistance(e),
                    a = l.a.convertDistance(t)),
                    this.trigger(m.RangeSelected, i, a),
                    this.showZoomButton()
                },
                onRangeReset: function() {
                    this.hideZoomButton(),
                    this.trigger(m.ZoomReset)
                },
                showZoomButton: function() {
                    this.$(".reset-zoom").css("visibility", "visible"),
                    this.zoomButtonDisplayed = !0
                },
                hideZoomButton: function() {
                    this.$(".reset-zoom").css("visibility", "hidden"),
                    this.zoomButtonDisplayed = !1
                },
                shouldShowWorkoutTarget: function(e) {
                    this.showWorkoutSeries = e
                }
            });
            g.Events = m,
            t.a = g
        }
        ).call(this, i(10))
    },
    2198: function(e, t) {
        e.exports = '<div class="span4 clearfix">\n    <h5><span class="chart-color-circle" style="background-color:<%- backgroundColor %>"></span><%- backgroundSeriesLabel %></h5>\n    <div class="chart-range-selector chart-header-item" style="display: none">\n    </div>\n</div>\n<div class="span2 clearfix">\n    <button class="reset-zoom btn btn-small" style="visibility: hidden;"><%- Localizer.localize(\'chart_reset_zoom\') %></button>\n</div>\n<div class="span6 clearfix">\n    <div class="pull-right overlay-options">\n        <% if (series.length > 0) {     %>\n        <div class="overlay-item dropdown">\n            <button class="dropdown-toggle" data-toggle="dropdown">\n                <span class="<%- primarySeries ? \'chart-color-circle\' : \'\' %>" style="background-color:<%- primaryColor %>"></span><%- primarySeriesLabel %><i class="icon-pointer-down"></i>\n            </button>\n            <ul id="primary-dropdown" class="dropdown-menu pull-right" role="menu" aria-labelledby="dropdownMenu">\n                <li class="<%- primarySeries == null ? \'active\' : \'\' %>"><a tabindex="-1" href="#"><%- Localizer.localize(\'chart_no_overlay\') %></a></li>\n                <% for (var i = 0; i < series.length; i++) {            %>\n                <%      var seriesRow = series[i][0];                   %>\n                    <% if (primarySeries && seriesRow.getUniqueName() == primarySeries[0].getUniqueName()) {      %>\n                        <li class="active" data-value="<%- seriesRow.getUniqueName() %>" ><a tabindex="-1" href="#"><%- seriesRow.getLabel() %></a></li>\n                    <% } else {                                             %>\n                        <li data-value="<%- seriesRow.getUniqueName() %>" ><a tabindex="-1" href="#"><%- seriesRow.getLabel() %></a></li>\n                    <% }                                                    %>\n                <% }                                                    %>\n            </ul>\n        </div>\n        <% }                            %>\n        <% if (series.length > 1 && primarySeries) {     %>\n        <div class="overlay-item dropdown">\n            <button class="dropdown-toggle" data-toggle="dropdown">\n                <span class="<%- secondarySeries ? \'chart-color-circle\' : \'\' %>" style="background-color:<%- secondaryColor %>"></span><%- secondarySeriesLabel %><i class="icon-pointer-down"></i>\n            </button>\n            <ul id="secondary-dropdown" class="dropdown-menu pull-right" role="menu" aria-labelledby="dropdownMenu">\n                <li class="<%- secondarySeries == null ? \'active\' : \'\' %>"><a tabindex="-1" href="#"><%- Localizer.localize(\'chart_no_overlay\') %></a></li>\n                <% for (var i = 0; i < series.length; i++) {            %>\n                <%      var seriesRow = series[i][0];                   %>\n                    <% if (secondarySeries && seriesRow.getUniqueName() == secondarySeries[0].getUniqueName()) {      %>\n                    <li class="active" data-value="<%- seriesRow.getUniqueName() %>" ><a tabindex="-1" href="#"><%- seriesRow.getLabel() %></a></li>\n                    <% } else {                                             %>\n                    <li data-value="<%- seriesRow.getUniqueName() %>" ><a tabindex="-1" href="#"><%- seriesRow.getLabel() %></a></li>\n                    <% }                                                    %>\n                <% }                                                    %>\n            </ul>\n        </div>\n        <% }                            %>\n    </div>\n    <% if (showWorkoutSeries) { %>\n        <div class="pull-right">\n            <h5><span class="chart-color-circle" style="background-color:<%- workoutSeriesColor %>"></span><%- Localizer.localize(\'workout_target\') %></h5>  \n        </div>\n    <% } %>\n</div>\n\n'
    },
    2199: function(e, t) {
        e.exports = '<div id=\'chart-header-placeholder\' class="row-fluid"></div>\n<div class="no-padding">\n    <div class="zoomed-chart" style="width:100%; height:calc(100% - 320px);"></div>\n</div>\n\n<% if (xAxisTypes.length) { %>\n\n<select class="input-medium x-axis-value">\n    <% for (var i = 0; i < xAxisTypes.length; i++) {    %>\n    <%  var xAxisType = xAxisTypes[i];                  %>\n    <option value="<%- xAxisType.name %>"><%- xAxisType.label %></option>\n    <% }                                                %>\n\n</select>\n\n<% } %>\n'
    },
    2200: function(e, t, i) {
        "use strict";
        var a = {
            green: "#00B050",
            yellow: "#daf200",
            orange: "#E9AE00",
            red: "#F02751"
        }
          , n = [{
            max: 0,
            color: a.green
        }, {
            max: 1,
            color: a.yellow
        }, {
            max: 4,
            color: a.orange
        }, {
            max: 8,
            color: a.red
        }];
        t.a = {
            buildStops: function(e, t) {
                t = t || n;
                for (var i = [], a = 0; a < t.length; a++) {
                    var r = t[a].max / e;
                    r <= 1 && i.push([r, t[a].color])
                }
                return i
            },
            Colors: a,
            GradientRangeMaxes: n
        }
    },
    2201: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(4)
          , s = n.a.View.extend({
            initialize: function(e) {},
            render: function() {
                this.$el.addClass(this.customClasses),
                this.$el.html(this.template({
                    Localizer: r.a
                })),
                this.$el.show()
            }
        });
        s.Events = {
            OnChartToggle: "OnChartToggle"
        },
        t.a = s
    },
    2202: function(e, t) {
        e.exports = '<% if (chartTitles.length) { %>\n<div class="row-fluid chart-header">\n    <div class="span9">\n        <div class="chart-name chart-header-item">\n            <% var i, chartTitle, seriesColor; %>\n            <% for (i = 0; i < chartTitles.length; i++) { %>\n                <% chartTitle = chartTitles[i].chartTitle; %>\n                <% seriesColor = chartTitles[i].seriesColor; %>\n                <span class="chart-color-circle" style="background-color:<%- seriesColor %>"></span><span class="chart-title"><%- chartTitle %></span>\n            <% } %>\n            <% if (helpKey) { %>\n                <a href="#" class="help-icon" data-toggle="modal" data-help-key="<%- helpKey %>" role="button">\n                    <i class="icon-help"></i>\n                </a>\n            <% } %>\n        </div>\n        <div class="chart-range-selector chart-header-item" style="display: none">\n\n        </div>\n        <div class="chart-selector chart-header-item" style="display:none"></div>\n    </div>\n    <div class="span3">\n        <% if (canExpandChart) { %>\n        <div class="pull-right">\n            <button class="chart-zoom-toggle"><i class="icon-full-screen"></i>\n            </button>\n        </div>\n        <% } %>\n        <div id="workout-target-label" class="pull-right hidden">\n            <span class="chart-color-circle" style="background-color:<%- workoutSeriesColor %>"></span><%- Localizer.localize(\'workout_target\') %>\n        </div>\n    </div>\n</div>\n<% } %>\n<div class="chart-placeholder bottom-s"></div>\n'
    },
    2203: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1246)
          , r = i(1222)
          , s = i(1239);
        t.a = n.a.extend({
            primarySeriesType: s.a.HeartRate,
            fillColor: r.a.mapSeriesType(s.a.HeartRate),
            chartTitle: function() {
                return a.a.localize("label_heart_rate")
            }
        })
    },
    2204: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(13)
          , r = i(1246)
          , s = i(1222)
          , o = i(1239);
        t.a = r.a.extend({
            primarySeriesType: o.a.Speed,
            fillColor: s.a.mapSeriesType(o.a.Speed),
            chartTitle: function() {
                var e = this.activitySummary.get("activityTypeDTO").typeKey
                  , t = n.a.getSpeedTypeFromActivityType(e);
                return a.a.localize(t === n.a.SpeedTypes.Flying ? n.a.getSpeedTypeLabelKey(e) : "label_speed")
            }
        })
    },
    2205: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(4)
          , s = i(13)
          , o = i(1246)
          , l = i(1222)
          , c = i(1239);
        t.a = o.a.extend({
            chartSelector: c.a.Pace.chartSelector,
            primarySeriesType: c.a.Pace,
            fillColor: l.a.mapSeriesType(c.a.Pace),
            formattingFunction: n.a.bind(s.a.formatPace, s.a),
            chartTitle: function() {
                return r.a.localize("label_pace")
            },
            getActivityTypeKey: function(e) {
                var t = e || this;
                return t && t.activitySummary.get("activityTypeDTO") && t.activitySummary.get("activityTypeDTO").typeKey ? t.activitySummary.get("activityTypeDTO").typeKey : ""
            }
        })
    },
    2206: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1246)
          , r = i(1222)
          , s = i(1239);
        t.a = n.a.extend({
            chartRangeSelectorType: s.a.PowerWatts.chartRangeSelectorType,
            primarySeriesType: s.a.PowerWatts,
            fillColor: r.a.mapSeriesType(s.a.PowerWatts),
            chartTitle: function() {
                return a.a.localize("label_full_power", a.a.localize("label_power_unit"))
            },
            yLabel: function() {
                return a.a.localize("label_power")
            }
        })
    },
    2207: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(13)
          , r = i(1246)
          , s = i(1222)
          , o = i(1239);
        t.a = r.a.extend({
            primarySeriesType: o.a.OpenWaterSwimSpeed,
            fillColor: s.a.mapSeriesType(o.a.OpenWaterSwimSpeed),
            chartTitle: function() {
                var e = this.activitySummary.get("activityTypeDTO").typeKey
                  , t = n.a.getSpeedTypeFromActivityType(e);
                return a.a.localize(t === n.a.SpeedTypes.Flying ? n.a.getSpeedTypeLabelKey(e) : "label_speed")
            }
        })
    },
    2208: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1246)
          , r = i(1222)
          , s = i(1239);
        t.a = n.a.extend({
            primarySeriesType: s.a.OpenWaterSwimPace,
            fillColor: r.a.mapSeriesType(s.a.OpenWaterSwimPace),
            reversed: !0,
            chartTitle: function() {
                return a.a.localize("label_swim_pace")
            }
        })
    },
    2209: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(1252)
          , s = i(2210)
          , o = i.n(s);
        t.a = r.a.extend({
            template: n.a.template(o.a)
        })
    },
    2210: function(e, t) {
        e.exports = '<span href="<%- url %>" class="inline-edit-target page-title-overflow"><%- value %>\n<% if (label) {     %>\n<%- label %>\n<% }                %>\n</span>\n\n<button class="inline-edit-trigger modal-trigger" title="<%- Localizer.localize(\'edit\') %>">\n    <i class="icon-pencil"></i>\n</button>\n\n<div class="inline-edit-editable">\n    <div class="inline-edit-editable-text page-title-overflow" contenteditable="true"><%- value %></div>\n    <span class="inline-edit-actions">\n        <button class="inline-edit-save icon-checkmark"></button>\n        <button class="inline-edit-cancel icon-close"></button>\n    </span>\n</div>\n    '
    },
    2211: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(13)
              , c = i(102)
              , h = i(37)
              , d = i(1828)
              , p = i(2213)
              , u = i.n(p);
            t.a = s.a.View.extend({
                template: n.a.template(u.a),
                events: {
                    "click .toggle-add-gear": "onAddGearBtnClicked"
                },
                initialize: function(e) {
                    this.selectedGear = e.selectedGear,
                    this.readOnly = e.readOnly,
                    this.isEditPage = e.isEditPage,
                    this.listenTo(this.selectedGear, "add", this.render),
                    this.listenTo(this.selectedGear, "remove", this.render)
                },
                render: function() {
                    var e = this.template({
                        Localizer: o.a,
                        Personalizer: l.a,
                        gearCount: this.selectedGear.length,
                        readOnly: this.readOnly,
                        isEditPage: this.isEditPage
                    });
                    this.$el.html(e)
                },
                onAddGearBtnClicked: function(t) {
                    if (t.preventDefault(),
                    this.pushClickAddGearAnalyticsEvents(),
                    this.readOnly) {
                        var i = this.$("a").attr("href")
                          , a = e(i).offset().top - 50;
                        e("html, body").stop().animate({
                            scrollTop: a
                        }, 500)
                    } else {
                        var n = new d.a({
                            model: this.model,
                            selectedGear: this.selectedGear
                        })
                          , r = new h.a({
                            modalTitle: o.a.localize("label_edit_gear"),
                            view: n,
                            showFooter: !1
                        });
                        n.on("ON_DEPENDENCIES_LOADED", function() {
                            n.render(),
                            r.render()
                        }, this),
                        n.load()
                    }
                },
                pushClickAddGearAnalyticsEvents: function() {
                    c.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Click Add Gear From Header"
                    })
                }
            })
        }
        ).call(this, i(10))
    },
    2212: function(e, t) {
        e.exports = '<% if (gearCount == 0) { %>\n    <h5 class="font-thin text-center"><%- Localizer.localize(\'label_no_gear_available\') %></h5>\n<% } %>\n\n<% if (shoes && shoes.length > 0) { %>\n<h6 class="bottom-none"><%- Localizer.localize(\'gear_type_shoes\') %></h6>\n<ul class="gear-list">\n\n    <% for (var i = 0; i < shoes.length; i++) { %>\n    <%  var shoe = shoes[i];                        %>\n    <li class="active" title="<%- shoe.displayName %>" id="<%- \'edit-gear-\' + shoe.uuid %>">\n        <span class="gear-status">\n            <div class="small spinner blue" title="Loading..."></div>\n        </span>\n        <i class="icon-steps gear-type"></i>\n\n        <% if (shoe.gearStatusName === \'retired\') { %>\n            <span class="label"><%- Localizer.localize(\'label_status_retired\') %>\n        <% } %>\n        </span> <%- shoe.fullDisplayName %>\n    </li>\n    <% }                                            %>\n</ul>\n<% } %>\n\n<% if (bikes && bikes.length > 0) { %>\n<h6 class="bottom-none"><%- Localizer.localize(\'gear_type_bikes\') %></h6>\n<ul class="gear-list">\n    <% for (var i = 0; i < bikes.length; i++) { %>\n    <%  var bike = bikes[i];                        %>\n    <li class="active" title="<%- bike.fullDisplayName %>" id="<%- \'edit-gear-\' + bike.uuid %>">\n        <span class="gear-status"><div class="small spinner blue" title="Loading..."></div></span>\n        <i class="icon-activity-cycling gear-type"></i>\n\n        <% if (bike.gearStatusName === \'retired\') { %>\n            <span class="label"><%- Localizer.localize(\'label_status_retired\') %>\n        <% } %>\n        </span> <%- bike.fullDisplayName %>\n    </li>\n    <% }                                            %>\n</ul>\n<% } %>\n\n<% if (others && others.length > 0) { %>\n<h6 class="bottom-none"><%- Localizer.localize(\'gear_type_other\') %></h6>\n<ul class="gear-list">\n    <% for (var i = 0; i < others.length; i++) { %>\n    <%  var other = others[i];                        %>\n    <li class="active" title="<%- other.fullDisplayName %>" id="<%- \'edit-gear-\' + other.uuid %>">\n        <span class="gear-status"><div class="small spinner blue" title="Loading..."></div></span>\n        <i class="icon-gear gear-type"></i>\n\n        <% if (other.gearStatusName === \'retired\') { %>\n            <span class="label"><%- Localizer.localize(\'label_status_retired\') %>\n        <% } %>\n        </span> <%- other.fullDisplayName %>\n    </li>\n    <% }                                            %>\n</ul>\n<% } %>\n\n<div class="text-center top-xs">\n\n    <% if (gearCount > 0) { %>\n    <a href="/modern/gear" class="manage-gear-link colored"><%- Localizer.localize(\'label_manage_gear\') %></a>\n    <% } else { %>\n    <a href="/modern/gear/add" class="add-gear-link colored"><%- Localizer.localize(\'label_add_gear\') %></a>\n    <% }        %>\n\n</div>\n\n'
    },
    2213: function(e, t) {
        e.exports = '<% if (gearCount) { %>\n    <%- Localizer.localize(\'label_gear\') %>:\n    <a class="toggle-add-gear" href="#attached-gear" <% if(!isEditPage) { print(\'data-scroll="smooth"\'); } %> ><span class="new-items-alert"><%- gearCount %></span></a>\n<% } else if (!readOnly) { %>\n    <%- Localizer.localize(\'label_gear\') %>:\n    <a class="toggle-add-gear colored" href="#"><%- Localizer.localize(\'add\') %></a>\n<% }  %>\n'
    },
    2214: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(13)
          , c = i(2215)
          , h = i.n(c)
          , d = s.a.View.extend({
            template: n.a.template(h.a),
            initialize: function(e) {
                this.repCountingActivity = e.repCountingActivity,
                this.times = {
                    total: null,
                    rest: null,
                    duration: null
                },
                this.isPilatesActivity = e.isPilatesActivity
            },
            render: function() {
                var e = this.model
                  , t = this.repCountingActivity.get("exerciseSets") && this.repCountingActivity.get("exerciseSets").length > 0 ? this.repCountingActivity.getTotalTime() : e.duration
                  , i = e.duration;
                t < i && (t = i),
                this.times.duration = this.repCountingActivity.getWorkTime(),
                this.times.total = t,
                this.isPilatesActivity || (this.times.rest = this.repCountingActivity.getRestTime()),
                this.$el.html(this.template({
                    Localizer: o.a,
                    Personalizer: l.a,
                    totalTime: this.times.total,
                    workTime: this.times.duration,
                    restTime: this.times.rest,
                    isPilatesActivity: this.isPilatesActivity
                }))
            },
            updateTime: function(e) {
                var t = this.$("." + e.durationOrRest + "-time-value");
                this.times[e.durationOrRest] += e.delta,
                t.html(l.a.personalizeDuration(this.times[e.durationOrRest])),
                t = this.$(".total-time-value"),
                this.times.total = e.total,
                t.html(l.a.personalizeDuration(this.times.total))
            },
            updateAllTimes: function(e) {
                var t = this.$(".rest-time-value")
                  , i = this.$(".duration-time-value");
                this.times.rest += e.restDelta,
                this.times.duration += e.durationDelta,
                t.html(l.a.personalizeDuration(this.times.rest)),
                i.html(l.a.personalizeDuration(this.times.duration));
                var a = this.$(".total-time-value");
                this.times.total = e.total,
                a.html(l.a.personalizeDuration(this.times.total))
            }
        });
        t.a = d
    },
    2215: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit total-time-value"><%- Personalizer.personalizeDuration(totalTime) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_time_total\') %></span>\n    </div>\n\n    <% if(!isPilatesActivity) { %>\n    <div class="data-block small">\n        <div class="data-bit duration-time-value"><%- Personalizer.personalizeDuration(workTime) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_work_time\') %></span>\n    </div>\n\n    <div class="data-block small">\n        <div class="data-bit rest-time-value"><%- Personalizer.personalizeDuration(restTime) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_rest_time\') %></span>\n    </div>\n    <% } %>\n</div>'
    },
    2216: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(13)
          , c = i(60)
          , h = i(2217)
          , d = i.n(h)
          , p = s.a.View.extend({
            template: n.a.template(d.a),
            initialize: function(e) {
                this.repCountingActivity = e.repCountingActivity,
                this.volume = 0,
                this.reps = null,
                this.sets = null,
                this.isPilatesActivity = e.isPilatesActivity,
                this.isYogaActivity = e.isYogaActivity
            },
            render: function() {
                this.isPilatesActivity || (this.volume = this.repCountingActivity.getTotalVolume()),
                this.reps = this.repCountingActivity.getTotalRepCount(),
                this.sets = this.repCountingActivity.getActiveSetCount() || 1,
                this.avgTimePerPose = this.repCountingActivity.getAverageTimePerActiveExercise(),
                this.$el.html(this.template({
                    Localizer: o.a,
                    Personalizer: l.a,
                    isMetric: l.a.measurementSystem === l.a.MeasurementSystems.METRIC,
                    totalReps: this.reps,
                    activeSets: this.sets,
                    totalVolume: this.formatTotalVolume(),
                    isPilatesActivity: this.isPilatesActivity,
                    isYogaActivity: this.isYogaActivity,
                    label: this.getLabel(),
                    avgTimePerPose: this.avgTimePerPose
                })),
                this.renderTooltip()
            },
            renderTooltip: function() {
                new c.a({
                    el: this.$(".icon-help-volume"),
                    content: o.a.localize("tooltip_volume"),
                    placement: "right"
                }),
                this.isPilatesActivity && (new c.a({
                    el: this.$(".icon-help-reps"),
                    content: o.a.localize("reps_help_label"),
                    placement: "right"
                }),
                new c.a({
                    el: this.$(".icon-help-moves"),
                    content: o.a.localize("moves_help_label"),
                    placement: "right"
                }))
            },
            formatTotalVolume: function() {
                return this.volume > 0 ? l.a.convertWeight(this.volume) : l.a.zeroDash(0)
            },
            updateVolume: function(e) {
                this.volume += e.volumeDelta,
                this.$(".total-volume").html(this.formatTotalVolume())
            },
            updateReps: function(e) {
                this.reps += e.repDelta,
                this.$(".total-reps").html(this.reps)
            },
            updateSets: function(e) {
                this.sets += e.setDelta,
                this.$(".total-sets").html(this.sets)
            },
            getLabel: function() {
                return this.isPilatesActivity ? o.a.localize("label_total_moves") : this.isYogaActivity ? o.a.localize("label_total_poses") : o.a.localize("label_total_sets")
            }
        });
        t.a = p
    },
    2217: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'workout_details\') %></h3>\n    <% if(!isYogaActivity) { %>\n    <div class="data-block small">\n        <div class="data-bit total-reps"><%- Personalizer.zeroDash(totalReps) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_total_reps\') %></span>\n        <% if(isPilatesActivity) { %>\n            <span class="help-icon">\n                <span class="icon-help icon-help-reps"></span>\n            </span>\n        <% } %>\n    </div>\n    <% } %>\n\n    <div class="data-block small">\n        <div class="data-bit total-sets"><%- Personalizer.personalizeActiveSets(activeSets) %></div>\n        <span class="data-label"><%- label %></span>\n        <% if(isPilatesActivity) { %>\n            <span class="help-icon">\n                <span class="icon-help icon-help-moves"></span>\n            </span>\n        <% } %>\n    </div>\n\n    <% if(!isPilatesActivity && !isYogaActivity) { %>\n    <div class="data-block small">\n        <div class="data-bit">\n            <span class="total-volume"><%- totalVolume %></span>\n            <% if(isMetric) { %>\n                <%- Localizer.localize(\'weight_unit_metric\') %>\n            <% } else { %>\n                <%- Localizer.localize(\'weight_unit_statute\') %>\n            <% } %>\n        </div>\n        <span class="data-label"><%- Localizer.localize(\'label_volume\') %></span>\n\n        <span class="help-icon">\n            <span class="icon-help icon-help-volume"></span>\n        </span>\n    </div>\n    <% } %>\n\n    <% if(isYogaActivity) { %>\n        <div class="data-block small">\n            <div class="data-bit total-reps"><%- Personalizer.personalizeStandingTime(avgTimePerPose) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_avg_time_per_pose\') %></span>\n        </div>\n    <% } %>\n</div>'
    },
    2218: function(e, t, i) {
        "use strict";
        i.d(t, "a", function() {
            return n
        });
        var a = i(0);
        function n(e) {
            return {
                type: a.Ee,
                meta: {
                    cacheTime: e ? null : 12e4
                }
            }
        }
    },
    2219: function(e, t, i) {
        "use strict";
        i.d(t, "c", function() {
            return s
        }),
        i.d(t, "b", function() {
            return o
        }),
        i.d(t, "a", function() {
            return l
        });
        var a = {
            WARMUP: "interval_type_warmup",
            ACTIVE: "",
            REST: "interval_type_rest",
            COOLDOWN: "interval_type_cooldown",
            RECOVERY: "interval_type_recovery",
            OTHER: "interval_type_other"
        }
          , n = {
            ALL: "interval_type_all",
            WARMUP: "interval_type_warmup",
            ACTIVE: "",
            RECOVERY: "interval_type_recovery",
            COOLDOWN: "interval_type_cooldown",
            REST: "interval_type_rest"
        }
          , r = {
            running: "interval_active_type_running",
            cycling: "interval_active_type_cycling",
            swimming: "interval_active_type_swimming"
        }
          , s = function(e) {
            return e && (a.ACTIVE = r[e] || "Other"),
            a
        }
          , o = function(e) {
            return e && -1 === e.indexOf("ACTIVE") ? e : "ACTIVE"
        }
          , l = function(e) {
            return n.ACTIVE = r[e] || "Other",
            n
        }
    },
    2220: function(e, t, i) {
        var a = i(4328);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(35)(a, n);
        a.locals && (e.exports = a.locals)
    },
    2221: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(9)
              , n = i.n(a)
              , r = i(1291)
              , s = i(80)
              , o = i(81)
              , l = i(6)
              , c = i.n(l)
              , h = i(8)
              , d = i.n(h)
              , p = function() {
                function t(i, a) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 5e3;
                    Object(s.a)(this, t),
                    this.location = this.updatePollURL(i),
                    this.delay = a,
                    this.channel = e.extend({}, d.a.Events),
                    this.timeout = (new Date).getTime() + n
                }
                return Object(o.a)(t, [{
                    key: "updatePollURL",
                    value: function(e) {
                        return e.substring(e.indexOf("/", 10))
                    }
                }, {
                    key: "poll",
                    value: function() {
                        arguments.length > 0 && void 0 !== arguments[0] && arguments[0] ? this.pollForStatusTimeout(this.location, this.delay) : this.pollForStatus(this.location, this.delay)
                    }
                }, {
                    key: "pollForStatusTimeout",
                    value: function(e, i) {
                        var a = this;
                        (new Date).getTime() > this.timeout ? this.channel.trigger(t.Events.Timeout) : setTimeout(Object(r.a)(n.a.mark(function t() {
                            return n.a.wrap(function(t) {
                                for (; ; )
                                    switch (t.prev = t.next) {
                                    case 0:
                                        a.pollForStatusTimeout(e, i);
                                    case 1:
                                    case "end":
                                        return t.stop()
                                    }
                            }, t)
                        })), i)
                    }
                }, {
                    key: "pollForStatus",
                    value: function(e, i) {
                        var a = this;
                        (new Date).getTime() > this.timeout ? this.channel.trigger(t.Events.Timeout) : setTimeout(Object(r.a)(n.a.mark(function r() {
                            var s, o, l, h;
                            return n.a.wrap(function(n) {
                                for (; ; )
                                    switch (n.prev = n.next) {
                                    case 0:
                                        return n.prev = 0,
                                        n.next = 3,
                                        c.a.get(e);
                                    case 3:
                                        s = n.sent,
                                        o = !1,
                                        n.t0 = s.status,
                                        n.next = 201 === n.t0 ? 8 : 202 === n.t0 ? 11 : 400 === n.t0 ? 13 : 408 === n.t0 ? 16 : 19;
                                        break;
                                    case 8:
                                        return o = !1,
                                        a.channel.trigger(t.Events.Success),
                                        n.abrupt("break", 22);
                                    case 11:
                                        return o = !0,
                                        n.abrupt("break", 22);
                                    case 13:
                                        return o = !1,
                                        a.channel.trigger(t.Events.Error),
                                        n.abrupt("break", 22);
                                    case 16:
                                        return o = !1,
                                        a.channel.trigger(t.Events.Timeout),
                                        n.abrupt("break", 22);
                                    case 19:
                                        return o = !1,
                                        a.channel.trigger(t.Events.Error),
                                        n.abrupt("break", 22);
                                    case 22:
                                        o && (l = s.headers.location,
                                        h = s.headers["location-in-milliseconds"],
                                        l && h ? a.pollForStatus(l, h) : a.pollForStatus(e, i)),
                                        n.next = 28;
                                        break;
                                    case 25:
                                        n.prev = 25,
                                        n.t1 = n.catch(0),
                                        a.channel.trigger(t.Events.Error);
                                    case 28:
                                    case "end":
                                        return n.stop()
                                    }
                            }, r, null, [[0, 25]])
                        })), +i)
                    }
                }]),
                t
            }();
            p.Events = {
                Success: "Success",
                Timeout: "Timeout",
                Error: "Error"
            },
            t.a = p
        }
        ).call(this, i(7))
    },
    2267: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(13)
          , c = i(1227)
          , h = i.n(c)
          , d = i(1249)
          , p = i.n(d)
          , u = i(1222)
          , m = i(1329);
        p()(h.a);
        var g = s.a.View.extend({
            className: "te-gauge-chart",
            maxVal: 5,
            wChart: 175,
            hChart: 160,
            initialize: function(e) {
                return this.teType = e.teType ? e.teType : m.a.Types.Aerobic,
                this.data = e.data ? e.data : 0,
                this.teType === m.a.Types.Aerobic ? this.teTitle = o.a.localize("label.aerobic.te") : this.teTitle = o.a.localize("label.anaerobic.te"),
                e.options ? this.options = n.a.extend({}, this.getDefaultOptions(), e.options) : this.options = n.a.extend({}, this.getDefaultOptions()),
                this
            },
            render: function() {
                var e = "te-" + this.teType.toLowerCase() + "-gauge-chart";
                return this.$el.attr("id", e),
                this.$el.highcharts(this.options),
                this.formatGauge(),
                this
            },
            getDefaultOptions: function() {
                return {
                    chart: {
                        type: "solidgauge",
                        width: this.wChart,
                        height: this.hChart,
                        margin: [0, 0, 0, 0],
                        style: {
                            fontFamily: "'Open Sans', sans-serif"
                        }
                    },
                    title: null,
                    tooltip: {
                        enabled: !1
                    },
                    pane: {
                        size: "100%",
                        center: ["50%", "60%"],
                        startAngle: -130,
                        endAngle: 130,
                        background: {
                            borderWidth: 20,
                            backgroundColor: "transparent",
                            shape: "arc",
                            borderColor: u.a.Colors.baseGrey,
                            outerRadius: "90%",
                            innerRadius: "90%"
                        }
                    },
                    yAxis: {
                        min: 0,
                        max: this.maxVal,
                        lineWidth: 0,
                        tickPositions: []
                    },
                    plotOptions: {
                        solidgauge: {
                            animation: !1,
                            dataLabels: {
                                borderWidth: 0,
                                useHTML: !0,
                                format: "<div class='training-effect-score'><span class='data-bit'>" + l.a.personalizeTrainingEffect(this.data) + "</span><span class='data-label'>" + this.teTitle + "</span></div>",
                                y: -68
                            }
                        }
                    },
                    series: [{
                        data: [{
                            y: this.data,
                            radius: "90%",
                            innerRadius: "90%"
                        }]
                    }],
                    credits: {
                        enabled: !1
                    },
                    exporting: {
                        enabled: !1
                    }
                }
            },
            formatGauge: function() {
                var e = this.$el.find(".highcharts-container").find("svg");
                if (e.length > 0) {
                    var t = e[0].getElementsByTagName("path");
                    t.length >= 3 && (t[0].setAttributeNS(null, "stroke-linejoin", "round"),
                    t[2].setAttributeNS(null, "stroke-linejoin", "round"),
                    t[2].setAttributeNS(null, "stroke", m.a.getTrainingEffectColor(this.data)),
                    t[2].setAttributeNS(null, "stroke-width", "20"))
                }
            }
        })
          , f = i(2003)
          , v = i.n(f)
          , y = s.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(v.a),
                this.teType = e.teType,
                this.teValue = e.teValue,
                this.teMessage = e.teMessage
            },
            render: function() {
                var e = o.a.localize(this.teType + "_TRAINING_EFFECT");
                return e = m.a.getFeedback(this.teType, this.teValue, this.teMessage),
                this.$el.html(this.template({
                    feedbackTitle: e.feedbackTitle,
                    feedbackContent: e.feedbackContent
                })),
                this
            }
        })
          , A = i(2004)
          , _ = i.n(A)
          , b = s.a.View.extend({
            template: n.a.template(_.a),
            initialize: function(e) {
                return this.aerobicTrainingEffect = e.aerobicTrainingEffect,
                this.aerobicTrainingEffectMessage = e.aerobicTrainingEffectMessage,
                this.anaerobicTrainingEffect = e.anaerobicTrainingEffect,
                this.anaerobicTrainingEffectMessage = e.anaerobicTrainingEffectMessage,
                this
            },
            render: function() {
                if (this.$el.html(this.template({
                    Localizer: o.a,
                    aerobicTrainingEffect: this.aerobicTrainingEffect,
                    anaerobicTrainingEffect: this.anaerobicTrainingEffect
                })),
                null !== this.anaerobicTrainingEffect) {
                    var e = new y({
                        teType: m.a.Types.Anaerobic,
                        teValue: this.anaerobicTrainingEffect,
                        teMessage: this.anaerobicTrainingEffectMessage
                    })
                      , t = new g({
                        teType: m.a.Types.Anaerobic,
                        data: this.anaerobicTrainingEffect
                    });
                    this.$("#te-anaerobic-feedback").html(e.render().el),
                    this.$("#te-anaerobic-score").html(t.render().el)
                }
                if (null !== this.aerobicTrainingEffect) {
                    var i = new y({
                        teType: m.a.Types.Aerobic,
                        teValue: this.aerobicTrainingEffect,
                        teMessage: this.aerobicTrainingEffectMessage
                    })
                      , a = new g({
                        teType: m.a.Types.Aerobic,
                        data: this.aerobicTrainingEffect
                    });
                    this.$("#te-aerobic-feedback").html(i.render().el),
                    this.$("#te-aerobic-score").html(a.render().el)
                }
                return this
            }
        })
          , C = i(2005)
          , w = i.n(C)
          , x = s.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(w.a),
                this.aerobicTrainingEffect = e.aerobicTrainingEffect,
                this.anaerobicTrainingEffect = e.anaerobicTrainingEffect
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: o.a,
                    aerobicTrainingEffect: this.aerobicTrainingEffect,
                    anaerobicTrainingEffect: this.anaerobicTrainingEffect
                })),
                this
            }
        })
          , S = i(2006)
          , T = i.n(S)
          , E = s.a.View.extend({
            initialize: function() {
                this.template = n.a.template(T.a)
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: o.a
                })),
                this
            }
        })
          , L = i(2007)
          , k = i.n(L)
          , P = s.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(k.a),
                this.aerobicTrainingEffect = e.aerobicTrainingEffect,
                this.aerobicTrainingEffectMessage = e.aerobicTrainingEffectMessage,
                this.anaerobicTrainingEffect = e.anaerobicTrainingEffect,
                this.anaerobicTrainingEffectMessage = e.anaerobicTrainingEffectMessage,
                this.isWidget = e.isWidget
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: o.a,
                    isWidget: this.isWidget
                })),
                !1 === this.isWidget && (this.thisActivityView = new b({
                    aerobicTrainingEffect: this.aerobicTrainingEffect,
                    aerobicTrainingEffectMessage: this.aerobicTrainingEffectMessage,
                    anaerobicTrainingEffect: this.anaerobicTrainingEffect,
                    anaerobicTrainingEffectMessage: this.anaerobicTrainingEffectMessage
                }),
                this.$("#te-this-activity-placeholder").html(this.thisActivityView.render().el)),
                this.learnMoreView = new x({
                    aerobicTrainingEffect: this.aerobicTrainingEffect,
                    anaerobicTrainingEffect: this.anaerobicTrainingEffect
                }),
                this.scoringScaleView = new E({}),
                this.$("#te-learn-placeholder").html(this.learnMoreView.render().el),
                this.$("#te-scores-placeholder").html(this.scoringScaleView.render().el)
            }
        });
        t.a = P
    },
    2282: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = n.a.Model.extend({});
        t.a = n.a.Collection.extend({
            model: r,
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/workouts"
            },
            initialize: function(e) {
                this.activityId = e.activityId
            }
        })
    },
    2506: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(1328);
        t.a = n.a.Collection.extend({
            model: r.default
        })
    },
    2507: function(e, t, i) {
        "use strict";
        var a = i(80)
          , n = i(81)
          , r = i(99)
          , s = i(97)
          , o = i(98)
          , l = i(11)
          , c = i.n(l)
          , h = i(1825)
          , d = i(164)
          , p = i(277)
          , u = i(1540)
          , m = i.n(u)
          , g = 67
          , f = 33
          , v = function(e) {
            function t(e) {
                var i;
                return Object(a.a)(this, t),
                (i = Object(r.a)(this, Object(s.a)(t).call(this, e))).onHelpClicked = function() {
                    i.setState({
                        showHelpModal: !0
                    })
                }
                ,
                i.closeModal = function() {
                    i.setState({
                        showHelpModal: !1
                    })
                }
                ,
                i.state = {
                    showHelpModal: !1
                },
                i
            }
            return Object(o.a)(t, e),
            Object(n.a)(t, [{
                key: "getDotColor",
                value: function() {
                    var e, t = this.props.score;
                    switch (!0) {
                    case t > g:
                        e = "green";
                        break;
                    case t < f:
                        e = "red";
                        break;
                    default:
                        e = "yellow"
                    }
                    return e
                }
            }, {
                key: "getScoreLabel",
                value: function() {
                    var e = this.props.score;
                    return e > g ? c.a.createElement(p.a, {
                        ns: "common",
                        content: "good"
                    }) : e < f ? c.a.createElement(p.a, {
                        ns: "reportswidget",
                        content: "TRAINING_LOAD_LOW"
                    }) : c.a.createElement(p.a, {
                        ns: "common",
                        content: "average"
                    })
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.getDotColor()
                      , t = this.props.isInStatsSection;
                    return c.a.createElement("div", {
                        className: "".concat(m.a.executionScore, " ").concat(t ? m.a.statsSectionExecutionScore : "")
                    }, c.a.createElement("div", {
                        className: m.a.wrapper
                    }, t ? c.a.createElement("div", null, c.a.createElement("h3", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "title_execution_score"
                    }), c.a.createElement("span", {
                        className: m.a.helpIcon
                    }, c.a.createElement(d.HelpIcon, {
                        onClick: this.onHelpClicked
                    }))), c.a.createElement("span", {
                        className: [m.a.dot, m.a[e], m.a.upperDot].join(" ")
                    }), c.a.createElement("span", {
                        className: m.a.score
                    }, this.props.score, "%"), c.a.createElement(d.DataLabel, null, this.getScoreLabel())) : c.a.createElement(c.a.Fragment, null, c.a.createElement("span", {
                        className: [m.a.dot, m.a[e], m.a.upperDot].join(" ")
                    }), c.a.createElement("span", {
                        className: m.a.score
                    }, this.props.score, "%"), c.a.createElement("span", {
                        className: m.a.label
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "title_execution_score"
                    })), c.a.createElement("span", {
                        className: m.a.helpIcon
                    }, c.a.createElement(d.HelpIcon, {
                        onClick: this.onHelpClicked
                    })))), c.a.createElement("div", {
                        className: m.a.modalContainer
                    }, c.a.createElement(h.a, {
                        openModal: this.state.showHelpModal,
                        onCloseModal: this.closeModal,
                        content: "execution-score"
                    })))
                }
            }]),
            t
        }(c.a.Component);
        t.a = v
    },
    2508: function(e, t, i) {
        "use strict";
        var a = {
            getData: function(e, t) {
                for (var i, a = [], n = e.generateData(void 0, !0), r = 0, s = n.length; r < s; r++) {
                    var o = n[r][1];
                    o === t ? (a.push([n[r][0], o]),
                    this.isSinglePoint(r, s, n, t) && (r === s - 1 ? (i = (n[r][0] + (n[r][0] + (n[r][0] - n[r - 1][0]))) / 2,
                    a.push([i, o])) : a.push([(n[r + 1][0] + n[r][0]) / 2, o]))) : a.push([n[r][0], null])
                }
                return a
            },
            isSinglePoint: function(e, t, i, a) {
                if (0 === e) {
                    if (i[e + 1][1] !== a)
                        return !0
                } else {
                    if (e !== t - 1)
                        return i[e + 1][1] !== a && i[e - 1][1] !== a;
                    if (i[e - 1][1] !== a)
                        return !0
                }
            }
        };
        t.a = a
    },
    2509: function(e, t) {
        e.exports = '<div class="jump-tooltip-container">\n    <div class="tooltip-row"><%- label %></div>\n    <% if (jump.distance !== null) { %>\n        <div class="tooltip-row"><%- Localizer.localize(\'label_jumps_distance\') %>: <%- Personalizer.personalizeMTBHeight(jump.distance, Localizer) %></div>\n    <% } %>    \n    <% if (jump.hangTime !== null) { %>\n        <div class="tooltip-row"><%- Localizer.localize(\'label_jumps_hangtime\') %>: <%- Personalizer.personalizeMTBSeconds(jump.hangTime, Localizer) %></div>\n    <% } %>\n    <% if (jump.speed !== null) { %>\n        <div class="tooltip-row"><%- Localizer.localize(\'label_jumps_speed\') %>: <%- Personalizer.personalizeMTBSpeed(jump.speed, activityTypeKey, Localizer) %></div>\n    <% } %>\n</div>'
    },
    2510: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a)
              , r = (i(28),
            n.a.Model.extend({
                url: function() {
                    return "/proxy/activity-service/activity/" + this.activityId + "/relative"
                },
                initialize: function(t) {
                    if (this.activityId = t.activityId,
                    e.isUndefined(this.activityId))
                        throw "activityId required for ActivityRelative"
                }
            }));
            t.a = r
        }
        ).call(this, i(7))
    },
    2511: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a).a.Model.extend({
            idAttribute: "imageId",
            initialize: function(e) {
                this.activityId = e.activityId,
                this.imageId = e.imageId
            },
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/image/" + this.imageId
            }
        });
        t.a = n
    },
    2512: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(4223)
              , c = i.n(l)
              , h = {
                SAVE_EDIT_PHOTOS: "SAVE_EDIT_PHOTOS",
                CANCEL_EDIT_PHOTOS: "CANCEL_EDIT_PHOTOS"
            }
              , d = s.a.View.extend({
                events: {
                    "click .delete-photo-icon": "onDeleteClicked",
                    "click .save-edit-carousel": "onSaveClicked",
                    "click .cancel-edit-carousel": "onCancelClicked"
                },
                initialize: function(e) {
                    this.template = n.a.template(c.a),
                    this.images = e.images,
                    this.deleteQueue = []
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: o.a,
                        images: this.images
                    })),
                    this.initPhotoEdit(),
                    this
                },
                onDeleteClicked: function(e) {
                    e.preventDefault(),
                    e.stopPropagation();
                    var t = e.target.getAttribute("data-photo-id");
                    if (this.deleteQueue.push(t),
                    this.orderQueue && this.orderQueue.length > 0) {
                        var i = this
                          , a = [];
                        this.images.forEach(function(e) {
                            a[i.orderQueue.indexOf(e.imageId)] = e
                        }),
                        this.images = a;
                        for (var n = this.orderQueue.length - 1; n >= 0; n--)
                            this.orderQueue[n] === t && this.orderQueue.splice(n, 1)
                    }
                    this.images = this.images.filter(function(e) {
                        return e.imageId !== t
                    }),
                    this.render(),
                    this.enableDisableSaveBtn()
                },
                onSaveClicked: function() {
                    this.trigger(h.SAVE_EDIT_PHOTOS, this.orderQueue, this.deleteQueue)
                },
                onCancelClicked: function() {
                    this.trigger(h.CANCEL_EDIT_PHOTOS)
                },
                initPhotoEdit: function() {
                    var t = this;
                    this.$(".js-edit-images").sortable({
                        items: "div.edit-image-div",
                        placeholder: "drag-drop-placeholder",
                        revert: 200,
                        scroll: !1,
                        tolerance: "pointer",
                        cursorAt: {
                            left: 50,
                            top: 50
                        },
                        update: function() {
                            this.orderQueue = [],
                            this.$(".js-edit-images div").each(function() {
                                var i = e(this);
                                t.orderQueue.push(i.data("photo-id"))
                            }),
                            this.enableDisableSaveBtn()
                        }
                        .bind(this)
                    })
                },
                enableDisableSaveBtn: function() {
                    this.$(".btn-save-carousel").addClass("save-edit-carousel"),
                    this.$(".btn-save-carousel").removeAttr("disabled")
                },
                destroy: function() {
                    this.off(),
                    this.remove()
                }
            });
            d.Events = h,
            t.a = d
        }
        ).call(this, i(10))
    },
    2513: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(4258)
          , c = i.n(l);
        t.a = s.a.View.extend({
            template: n.a.template(c.a),
            tagName: "tr",
            initialize: function(e) {
                this.isLapSwimming = e.isLapSwimming,
                this.settings = e.settings,
                this.setAttributes()
            },
            setAttributes: function() {
                this.isLapSwimming || this.$el.addClass(this.settings.headerClass)
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: o.a,
                    model: this.model,
                    isLapSwimming: this.isLapSwimming
                })),
                this
            }
        })
    },
    2514: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(2576)
              , c = i(4259)
              , h = i.n(c)
              , d = {
                DisplayWeightEntryPopup: "DisplayWeightEntryPopup",
                WeightChangedFromSplitsRow: "WeightChangedFromSplitsRow"
            }
              , p = ["distance", "calories", "averageHR", "maxHR"]
              , u = s.a.View.extend({
                template: n.a.template(h.a),
                tagName: "tr",
                events: {
                    'click a[href="#weight-popup"]': "onNoWeightLinkClicked"
                },
                initialize: function(e) {
                    return this.isLapSwimming = e.isLapSwimming,
                    this.settings = e.settings,
                    this.childIndex = e.childIndex,
                    this.cellClass = e.cellClass || {},
                    this.setAttributes(),
                    this
                },
                setAttributes: function() {
                    var e = this.settings || []
                      , t = this.isLapSwimming || !1;
                    if (t) {
                        var i = "";
                        e.isParent ? e.isRest ? i += e.restClass + e.restIndex : (i += e.parentClass + e.lapIndex + " ",
                        e.isParentExpanded && (i += "active")) : i += e.childClass + e.parentIndex + (e.childIndex === e.childCount ? " last" : ""),
                        this.$el.addClass(i)
                    }
                    if (t && !e.isParent) {
                        var a = "";
                        e.isParentExpanded ? a += "display: table-row;" : a += "display: none;",
                        this.$el.attr("style", a)
                    }
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: o.a,
                        model: this.model,
                        isLapSwimming: this.isLapSwimming,
                        sm: l.a,
                        settings: this.settings,
                        columnHiddenForRest: this.columnHiddenForRest,
                        cellClass: this.cellClass
                    })),
                    this
                },
                setActive: function(e) {
                    e ? this.$el.addClass("active") : this.$el.removeClass("active")
                },
                columnHiddenForRest: function(t) {
                    return e.inArray(t, p) > -1
                },
                onNoWeightLinkClicked: function(e) {
                    e.preventDefault(),
                    e.stopPropagation(),
                    this.trigger(d.DisplayWeightEntryPopup, {
                        context: this,
                        successCallback: this.noWeightCallback
                    }, this)
                },
                noWeightCallback: function(e) {
                    this.trigger(d.WeightChangedFromSplitsRow, e)
                }
            });
            u.Events = d,
            t.a = u
        }
        ).call(this, i(10))
    },
    2515: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(4)
          , s = i(8)
          , o = i.n(s)
          , l = i(4260)
          , c = i.n(l);
        t.a = o.a.View.extend({
            template: n.a.template(c.a),
            tagName: "tfoot",
            initialize: function(e) {
                this.isLapSwimming = e.isLapSwimming,
                this.isAutoRacingActivity = e.isAutoRacingActivity,
                this.isResortSkiActivity = e.isResortSkiActivity,
                this.isCrosscountrySkiActivity = e.isCrosscountrySkiActivity,
                this.cellClass = e.cellClass || {}
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: r.a,
                    model: this.model,
                    isLapSwimming: this.isLapSwimming,
                    isAutoRacingActivity: this.isAutoRacingActivity,
                    isResortSkiActivity: this.isResortSkiActivity,
                    isCrosscountrySkiActivity: this.isCrosscountrySkiActivity,
                    cellClass: this.cellClass
                })),
                this
            }
        })
    },
    2516: function(e, t, i) {
        var a = i(4297);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(35)(a, n);
        a.locals && (e.exports = a.locals)
    },
    2517: function(e, t, i) {
        var a = i(4304);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(35)(a, n);
        a.locals && (e.exports = a.locals)
    },
    2518: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(4)
              , s = i(13)
              , o = i(53)
              , l = i(36);
            function c(e, t) {
                var i = t || 0;
                if (e)
                    for (var a = t, n = e.length; a < n; a += 1)
                        if (void 0 === e[t]) {
                            i = a;
                            break
                        }
                return i
            }
            function h(e, t, i, a, r) {
                var s, o, l, h;
                if (e && (t && (h = n.a.find(t, function(t) {
                    return t.getAppId() === e.appID
                })),
                h)) {
                    o = h.getAppId();
                    var d = n.a.find(h.fitContributionsJSON.datafields, function(t) {
                        return t.id === e.developerFieldNumber
                    });
                    d && d[i] && (s = a[o],
                    r ? function(e, t, i, a, r) {
                        var s;
                        if (e) {
                            var o = n.a.find(e.data, function(e) {
                                return !(!e || !e.developerFieldNumber) && e.developerFieldNumber === r.developerFieldNumber
                            });
                            if (o)
                                o.values.push(r.value);
                            else {
                                var l = i["sort-order"];
                                void 0 !== e.data[l] && (l = c(e.data, l + 1)),
                                s = r.value,
                                r.hasOwnProperty("values") || (r.values = [],
                                delete r.value),
                                r.values.push(s),
                                e.data[l] = r
                            }
                        } else
                            s = r.value,
                            r.hasOwnProperty("values") || (r.values = [],
                            delete r.value),
                            r.values.push(s),
                            a.data = [],
                            a.data[i["sort-order"]] = r,
                            t[a.getAppId()] = a
                    }(s, a, d, h, e) : s ? (l = d["sort-order"],
                    void 0 !== s.data[l] && (l = c(s.data, l + 1)),
                    void 0 !== s.data[l] ? s.data.push(e) : s.data[l] = e) : (h.data = [],
                    h.data[d["sort-order"]] = e,
                    a[o] = h))
                }
                return a
            }
            var d = function(e) {
                if (!e)
                    throw "data is required";
                e.models ? this.data = function(e) {
                    var t, i = [];
                    if (e)
                        for (var a = 0, n = e.models.length; a < n; a += 1)
                            e.models[a] && ((t = e.models[a].toJSON()).getAppId = function() {
                                if (this.hasOwnProperty("appID"))
                                    return this.appID;
                                if (this.hasOwnProperty("appId"))
                                    return this.appId;
                                if (this.model) {
                                    if (this.model.hasOwnProperty("appId"))
                                        return this.model.appId;
                                    if (this.model.hasOwnProperty("appID"))
                                        return this.model.appID
                                }
                                return ""
                            }
                            ,
                            t.getLocalizerString = function(e) {
                                return this.getAppId() + e
                            }
                            ,
                            i.push(t));
                    return i
                }(e) : this.data = e
            };
            d.prototype.personalizeValue = function(e, t) {
                return 0 === e ? e : e ? isNaN(parseFloat(e)) ? e : s.a.formatValueByPrecision(e, t, !1) : "--"
            }
            ,
            d.prototype.loadCIQLocalizedData = function() {
                if (this.data)
                    for (var e, t, i, a, s = o.a.getFullLocale(l.a.get("locale")), c = {}, h = 0, d = this.data.length; h < d; h += 1) {
                        var p = this.data[h]
                          , u = p.fitContributionsJSON;
                        u && u.strings && (e = u.strings) && ((a = e[s]) || (a = e.default),
                        a && (t = p.getAppId(),
                        n.a.each(n.a.keys(a), function(e) {
                            i = a[e],
                            n.a.isNull(i) || n.a.isUndefined(i) || (0 === ("" + i).trim().length && (i = " "),
                            c[t + e] = i)
                        }),
                        r.a.loadAdditionalData(c)))
                    }
            }
            ,
            d.prototype.getVisibleAndSortedCollection = function(t, i) {
                var a, r = {}, s = i === this.VisibilityArea.lap;
                if (t)
                    for (var o = 0, l = t.length; o < l; o += 1)
                        if (a = e.extend(!0, {}, t[o]))
                            if (s) {
                                var c = a.connectIQMeasurement;
                                if (c && !n.a.isEmpty(c))
                                    for (var d = 0, p = c.length; d < p; d += 1)
                                        c[d] && h(c[d], this.data, i, r, s)
                            } else
                                h(a, this.data, i, r);
                return r
            }
            ,
            d.prototype.VisibilityArea = {
                stats: "activity-visible",
                lap: "lap-visible",
                charts: "chart-visible"
            },
            d.prototype.getHelpTooltipTemplate = function(e) {
                var t = r.a.localize("label_connect_iq") + "&#8482;"
                  , i = e.name || ""
                  , a = e.developerDisplayName || ""
                  , n = t;
                return i && (n += " " + i),
                a && (n += "<br/><small>" + a + "</small>"),
                '<a href="javascript:void(0);" class="ciq-label has-tooltip" data-html="true" title="' + n + '"><i class="icon-connect-iq"></i></a>'
            }
            ,
            t.a = d
        }
        ).call(this, i(10))
    },
    2519: function(e, t) {
        e.exports = '<div class="device-image bottom-xs">\n    <img src="<%- accessory.imageUrl || \'//static.garmincdn.com/com.garmin.connect/content/images/device-images/default-device.png\' %>">\n</div>\n<div class="device-name"><%- accessory.name %></div>'
    },
    2576: function(e, t, i) {
        "use strict";
        var a = {
            FREESTYLE: "freestyle",
            BACKSTROKE: "backstroke",
            BREASTSTROKE: "breaststroke",
            BUTTERFLY: "butterfly",
            DRILL: "drill",
            MIXED: "mixed",
            IM: "unknown",
            INVALID: "unknown"
        }
          , n = {
            FREESTYLE: "swim.stroke.freestyle",
            BACKSTROKE: "swim.stroke.backstroke",
            BREASTSTROKE: "swim.stroke.breaststroke",
            BUTTERFLY: "swim.stroke.butterfly",
            DRILL: "swim.stroke.drill",
            MIXED: "swim.stroke.mixed",
            IM: "swim.stroke.unknown",
            INVALID: "swim.stroke.unknown",
            REST: "swim.rest"
        };
        t.a = {
            mapClass: function(e) {
                var t = a[e];
                return "undefined" == typeof t ? a.INVALID : t
            },
            mapKey: function(e) {
                var t = n[e];
                return "undefined" == typeof t ? n.INVALID : t
            }
        }
    },
    2578: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(8)
          , r = i.n(n).a.Collection.extend({
            url: function() {
                return "/proxy/personalrecord-service/personalrecord/prByActivityId/" + this.activityId
            },
            initialize: function(e, t) {
                this.activityId = t.activityId
            }
        })
          , s = i(26)
          , o = i(60)
          , l = (i(19),
        o.a.extend({
            initialize: function(e) {
                this.prsFetched = !1,
                this.prsFetching = !1,
                o.a.prototype.initialize.apply(this, arguments),
                this.collection = new r([],{
                    activityId: e.activityId
                }),
                this.modelSynchronizer = new s.a,
                this.modelSynchronizer.addModel({
                    model: this.collection,
                    required: !0
                }),
                this.modelSynchronizer.on(s.a.Events.SYNCHRONIZED, this.onPrsFetched, this)
            },
            show: function() {
                this.prsFetching || (this.prsFetched ? o.a.prototype.show.apply(this, arguments) : (this.prsFetching = !0,
                this.modelSynchronizer.fetchModels()))
            },
            onPrsFetched: function() {
                this.content = this.formatPrs(),
                this.render(),
                this.prsFetching = !1,
                this.prsFetched = !0,
                this.show()
            },
            formatPrs: function() {
                if (0 == this.collection.length)
                    return "";
                var e = "";
                return this.collection.each(function(t) {
                    e += a.a.localize(t.get("prTypeLabelKey")) + "<br/>"
                }, this),
                e
            }
        }));
        t.a = l
    },
    2580: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(4)
          , s = i(8)
          , o = i.n(s)
          , l = i(13)
          , c = i(4257)
          , h = i(37)
          , d = i(4262)
          , p = i.n(d)
          , u = o.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(p.a)
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: r.a
                }))
            }
        })
          , m = i(4263)
          , g = i.n(m);
        t.a = o.a.View.extend({
            template: n.a.template(g.a),
            className: "mtbStat",
            events: {
                "click .jumps-help": "onJumpsHelpClicked"
            },
            initialize: function(e) {
                return this.summaryDTO = e.summaryDTO,
                this.jumps = e.jumps,
                this.gridView = new c.a({
                    jumps: this.jumps,
                    activity: e.activity
                }),
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: r.a,
                    summaryDTO: this.summaryDTO,
                    jumps: this.jumps,
                    Personalizer: l.a
                })),
                this.$(".mtb-jumps-grid").html(this.gridView.render().el),
                this
            },
            renderModal: function() {
                var e = new u({});
                new h.a({
                    view: e,
                    showFooter: !1,
                    customClasses: "modal-jumps-help",
                    modalTitle: r.a.localize("help.title")
                }).render()
            },
            onJumpsHelpClicked: function() {
                this.renderModal()
            }
        })
    },
    4139: function(e, t, i) {
        "use strict";
        i.r(t),
        function(e, a) {
            var n = i(9)
              , r = i.n(n)
              , s = i(1291)
              , o = i(7)
              , l = i.n(o)
              , c = i(6)
              , h = i.n(c)
              , d = i(8)
              , p = i.n(d)
              , u = i(4)
              , m = i(18)
              , g = i.n(m)
              , f = i(13)
              , v = i(1410)
              , y = i(2506)
              , A = i(354)
              , _ = i(1458)
              , b = i(168)
              , C = i(1661)
              , w = i(4140)
              , x = i(389)
              , S = i(1553)
              , T = i(1995)
              , E = i(4141)
              , L = i(1574)
              , k = i(4142)
              , P = i(1733)
              , z = i(19)
              , I = i(1328)
              , D = i(187)
              , M = i(1389)
              , B = i(1700)
              , O = i(1701)
              , R = i(57)
              , N = i(1304)
              , V = i(1434)
              , F = i(1587)
              , G = i(1357)
              , H = i(1420)
              , U = i(2192)
              , Q = i(4143)
              , K = i(1642)
              , W = i(364)
              , Y = i(284)
              , j = i(228)
              , $ = i(2010)
              , Z = i(4144)
              , q = i(1387)
              , X = i(4145)
              , J = i(1917)
              , ee = i(1308)
              , te = i(2193)
              , ie = i(2282)
              , ae = i(1398)
              , ne = i(4146)
              , re = i(100)
              , se = i(4147)
              , oe = i(4149)
              , le = i(37)
              , ce = i(126)
              , he = i(1791)
              , de = i(101)
              , pe = i(4151)
              , ue = i(4201)
              , me = i(4203)
              , ge = i(4207)
              , fe = i(4213)
              , ve = i(1723)
              , ye = i(4980)
              , Ae = i(1725)
              , _e = i(5038)
              , be = i(4948)
              , Ce = i(4265)
              , we = i(4267)
              , xe = i(5019)
              , Se = i(4271)
              , Te = i(4938)
              , Ee = i(4300)
              , Le = i(4310)
              , ke = i(2580)
              , Pe = i(4316)
              , ze = i(5008)
              , Ie = i(1737)
              , De = i(4320)
              , Me = i(4975)
              , Be = i(26)
              , Oe = i(28)
              , Re = i(2518)
              , Ne = i(102)
              , Ve = i(66)
              , Fe = i(64)
              , Ge = i(52)
              , He = i(17)
              , Ue = i(1485)
              , Qe = i(4324)
              , Ke = i(90)
              , We = i(5040)
              , Ye = i(5024)
              , je = i(218)
              , $e = i(4325)
              , Ze = i(4326)
              , qe = i(4973)
              , Xe = i(4329)
              , Je = i(4330)
              , et = i(4331)
              , tt = i(4987)
              , it = i(2221)
              , at = i(1302)
              , nt = i(4335)
              , rt = i(1425)
              , st = i(4336)
              , ot = i.n(st)
              , lt = (i(1280),
            i(167))
              , ct = {
                PageRendered: "PageRendered"
            }
              , ht = function(e) {
                this.activityId = e,
                this.isParent = !1,
                this.isLoaded = !1,
                this.activity = new I.default({
                    activityId: e
                }),
                this.segments = new J.a([],{
                    activityId: e
                }),
                this.activitySplits = new ee.a([],{
                    activityId: e
                }),
                this.splitSummaries = new ne.a([],{
                    activityId: e
                }),
                this.activityTypedSplits = new te.a([],{
                    activityId: e
                }),
                this.activityDetails = new G.a({
                    activityId: e,
                    maxPolylineSize: 4e3,
                    maxChartSize: 2e3
                }),
                this.repCountingActivity = new H.a({
                    activityId: e
                }),
                this.weather = new Q.a({
                    activityId: e
                }),
                this.course = null,
                this.childModels = [],
                this.childActivities = new y.a
            }
              , dt = function() {};
            l.a.extend(dt.prototype, {
                currentActivityModel: null,
                powerZones: null,
                viewerConnections: null,
                biometrics: null,
                userBiometricWeights: null,
                courses: null,
                conversation: null,
                mapProviderPreference: null,
                userMapSetting: null,
                activityTypes: null,
                eventTypes: null,
                usersPersonalRecords: null
            }),
            dt.prototype.setCurrentActivityModel = function(e) {
                e == this.activityModel.activityId ? this.currentActivityModel = this.activityModel : this.currentActivityModel = l.a.find(this.activityModel.childModels, function(t) {
                    return t.activityId == e
                })
            }
            ,
            t.default = re.a.extend({
                events: {
                    'click .ga-label[data-toggle="tab"]': "onTabToggleClicked",
                    "click .restore-to-original": "onRestoreClicked"
                },
                propertyFiles: ["/main/js/properties/device/device", "/main/js/properties/segment/segment", "/main/js/properties/legal/legal", "/main/js/properties/common/common", "/main/js/properties/activity_types/activity_types", "/main/js/properties/activity-api/activity-api", "/main/js/properties/event_types/event_types", "/main/js/properties/activity/activity", "/main/js/properties/units/units", "/main/js/properties/map/map", "/main/js/properties/personal-record-api/personal-record-api", "/main/js/properties/help/help", "/main/js/properties/send_to_device/send_to_device", "/main/js/properties/gear_tracking/gear_tracking", "/main/js/properties/reportswidget/reportswidget", "/main/js/properties/power_zone/power_zone", "/main/js/properties/heart_rate/heart_rate", "/main/js/properties/userprofile/userprofile", "/main/js/properties/connectiq/connectiq", "/main/js/properties/sensors/sensors", "/main/js/properties/exercise_types/exercise_types", "/main/js/properties/yoga-pilates/yoga-pilates", "/main/js/properties/msn_workouts/msn_workouts", "/main/js/properties/photos/photos", "/main/js/properties/privacy_alert/privacy_alert", "/main/js/properties/training_plans/training_plans", "/main/js/properties/workout/workout", "/main/js/properties/metrics/metrics", "/main/js/properties/stress/stress", "/main/js/properties/diving/diving"],
                template: l.a.template(ot.a),
                pageClassName: "activity-detail",
                enableGridCss: !1,
                fluid: !0,
                initializePage: function(e) {
                    var t = +e.activityId;
                    this.dataModel = new dt,
                    this.dataModel.activityModel = new ht(t),
                    this.dataModel.currentActivityModel = this.dataModel.activityModel,
                    this.dataModel.initialChildIndex = e.childId,
                    l.a.isUndefined(this.dataModel.initialChildIndex) || (this.dataModel.initialChildIndex = +this.dataModel.initialChildIndex),
                    this.dataModel.activityTypes = new A.a([]),
                    this.dataModel.videoClips = new S.a([],{
                        activityId: t
                    }),
                    this.dataModel.connectIQPresentationData = new E.a([],{
                        activityId: t
                    }),
                    this.dataModel.jumps = new We.a([],{
                        activityId: t
                    }),
                    this.dataModel.playlist = new Ye.a([],{
                        activityId: t
                    }),
                    this.dataModel.activityWorkouts = new ie.a({
                        activityId: t
                    }),
                    this.dataModel.activityChartsOrder = new X.a({}),
                    this.dataModel.indoorClimbDifficulty = new rt.a({}),
                    this.dataModel.activityHiddenCharts = new Z.a,
                    this.dataModel.userMapSetting = new N.a({
                        key: "Map.Setting.Activities"
                    }),
                    this.dataModel.tankSensor = new Xe.a({
                        activityId: t
                    }),
                    this.viewerConnections = null,
                    this.viewerIsAuthenticated() && (this.dataModel.viewerConnections = b.a,
                    this.dataModel.biometrics = W.a,
                    this.dataModel.userBiometricWeights = !0,
                    this.dataModel.courses = new C.a([],{
                        limit: 999
                    }),
                    this.dataModel.conversation = new D.a({
                        resourceType: "ACTIVITY",
                        resourceId: t
                    }),
                    this.dataModel.mapProviderPreference = new R.a({
                        key: "map_provider_type"
                    }),
                    this.dataModel.groundContactLastSelectedChart = new R.a({
                        key: "activity_details_ground_contact_chart_selection"
                    }),
                    this.dataModel.verticalOscRatioLastSelectedChart = new R.a({
                        key: "activity_details_vertical_ratio_oscillation_chart_selection"
                    }),
                    this.dataModel.powerChartLastSelectedChart = new R.a({
                        key: "activity_details_power_chart_selection"
                    }),
                    this.dataModel.chartsOrderUserPref = new R.a({
                        key: "Activity.Charts.order"
                    }),
                    this.dataModel.eventTypes = new _.a([]),
                    this.dataModel.usersPersonalRecords = new w.a([],{
                        displayName: z.a.get("displayName")
                    }),
                    this.dataModel.getLatestWeight = new L.a),
                    this.dataModel.player = new v.a({}),
                    this.dataModel.thirdPartyUploads = new k.a({}),
                    this.dependenciesLoaded = !1,
                    this.connectIQPresentationDataLoaded = !1,
                    this.enableVectorAirFeatureFlag = new Qe.a({}),
                    this.activityNotes = null,
                    this.playlistPreference = new Ke.a({
                        key: "playlist-role"
                    }),
                    this.respirationRatePref = new Ke.a({
                        key: "respiration-rate-epoc-role"
                    }),
                    this.advancedActivityEditPreference = new Ke.a({
                        key: "87427305-c36b-4647-b276-7d28b747d7ab-role"
                    }),
                    this.activityIntervalsPreference = new Ke.a({
                        key: "4403676f-2fa8-47b8-bfc8-a5e796bdfe44"
                    }),
                    this.workoutMetrics = new Ke.a({
                        key: lt.g
                    })
                },
                pushPageViewAnalyticsEvents: function() {
                    var e = this.viewerIsOwner() ? "View Own Activity" : "View Someone Else's Activity";
                    Ne.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: e,
                        label: "Activity Type: ".concat(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey)
                    })
                },
                viewerIsOwner: function() {
                    return e.trim(z.a.get("displayName")) === e.trim(this.dataModel.activityModel.activity.get("userInfoDto").displayname)
                },
                activityOwnerName: function() {
                    return e.trim(this.dataModel.activityModel.activity.get("userInfoDto").displayname)
                },
                isReadOnly: function() {
                    return !this.viewerIsOwner()
                },
                isViewerConnected: function() {
                    if (!this.dataModel.viewerConnections)
                        return !1;
                    var e = this.dataModel.viewerConnections.findConnection(this.activityOwnerName());
                    return "undefined" != typeof e && null != e
                },
                provideDependencies: function(e, t) {
                    1 === t ? (!z.a.hasMBTesterRole() && this.dataModel.activityModel.activity.hasVectorAirCdAData() && e.addModel({
                        model: this.enableVectorAirFeatureFlag,
                        required: !0
                    }),
                    this.hasVideo() && e.addModel({
                        model: this.dataModel.videoClips,
                        required: !0
                    }),
                    this.dataModel.userBiometricWeights && this.dataModel.activityModel.activity.get("startTimeGMT") && (this.dataModel.userBiometricWeights = new T.a({
                        dates: new Date(this.dataModel.activityModel.activity.get("startTimeGMT"))
                    }),
                    e.addModel({
                        model: this.dataModel.userBiometricWeights,
                        required: !0
                    })),
                    this.dataModel.getLatestWeight && this.dataModel.activityModel.activity.get("startTimeGMT") && (this.dataModel.getLatestWeight = new L.a({
                        latestDate: this.dataModel.activityModel.activity.get("startTimeGMT")
                    }),
                    e.addModel({
                        model: this.dataModel.getLatestWeight,
                        required: !0
                    })),
                    this.showExerciseView(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && (e.addModel({
                        model: this.dataModel.activityModel.repCountingActivity,
                        required: !0
                    }),
                    this.isPilatesActivity() ? this.exerciseTypes = new B.a({}) : this.isYogaActivity() ? this.exerciseTypes = new O.a({}) : this.exerciseTypes = new M.a({}),
                    e.addModel({
                        model: this.exerciseTypes,
                        required: !0
                    })),
                    (Fe.a.isIndoorClimbingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) || Fe.a.isBoulderingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey)) && this.dataModel.indoorClimbDifficulty && e.addModel({
                        model: this.dataModel.indoorClimbDifficulty,
                        required: !0
                    }),
                    Fe.a.isDivingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && e.addModel({
                        model: this.dataModel.tankSensor,
                        required: !0,
                        countError: !0
                    }),
                    Fe.a.isDivingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.viewerIsOwner() && (this.userSettings = new j.a,
                    e.addModel({
                        model: this.userSettings,
                        required: !0
                    }),
                    this.aggregateActivityMetricStats = new $.a({
                        aggregation: "yearly",
                        startDate: "0001-1-1",
                        endDate: Oe.a.formatISODate(g()().add(1, "days").toDate()),
                        activityType: "diving",
                        groupByActivityType: "true",
                        metric: ["bottomTime"],
                        excludedActivitySubType: ["apnea_diving", "apnea_hunting"]
                    }),
                    e.addModel({
                        model: this.aggregateActivityMetricStats,
                        require: !0
                    })),
                    this.viewerIsOwner() && this.dataModel.activityModel.activity.get("metadataDTO").isAtpActivity && null !== this.dataModel.activityModel.activity.get("metadataDTO").associatedWorkoutId && (this.workout = new q.a({
                        workoutId: this.dataModel.activityModel.activity.get("metadataDTO").associatedWorkoutId,
                        displayName: this.activityOwnerName()
                    }),
                    e.addModel({
                        model: this.workout,
                        required: !0
                    })),
                    this.dataModel.activityModel.activity.get("summaryDTO").jumpCount && this.dataModel.activityModel.activity.get("summaryDTO").jumpCount > 0 && e.addModel({
                        model: this.dataModel.jumps,
                        required: !0
                    }),
                    e.addModel({
                        model: this.dataModel.activityWorkouts,
                        required: !0
                    }),
                    this.hasPowerData() && (this.dataModel.powerCurve = new $e.a({
                        activityId: this.dataModel.activityModel.activity.get("activityId")
                    }),
                    e.addModel({
                        model: this.dataModel.powerCurve,
                        required: !0
                    })),
                    this.viewerIsOwner() && this.playlistPreference.featureEnabled() && e.addModel({
                        model: this.dataModel.playlist,
                        required: !0,
                        countError: !0
                    })) : 0 === t && (e.addModel({
                        model: this.respirationRatePref,
                        required: !0
                    }),
                    e.addModel({
                        model: this.playlistPreference,
                        required: !0
                    }),
                    e.addModel({
                        model: this.dataModel.activityModel.activity,
                        required: !0
                    }),
                    e.addModel({
                        model: this.advancedActivityEditPreference,
                        required: !0
                    }),
                    e.addModel({
                        model: this.activityIntervalsPreference,
                        required: !0
                    }),
                    e.addModel({
                        model: this.dataModel.activityModel.activityTypedSplits,
                        required: !0,
                        countError: !0
                    }),
                    this.dataModel.mapProviderPreference && e.addModel({
                        model: this.dataModel.mapProviderPreference,
                        required: !0
                    }),
                    this.dataModel.groundContactLastSelectedChart && e.addModel({
                        model: this.dataModel.groundContactLastSelectedChart,
                        required: !0
                    }),
                    this.dataModel.verticalOscRatioLastSelectedChart && e.addModel({
                        model: this.dataModel.verticalOscRatioLastSelectedChart,
                        required: !0
                    }),
                    this.dataModel.powerChartLastSelectedChart && e.addModel({
                        model: this.dataModel.powerChartLastSelectedChart,
                        required: !0
                    }),
                    this.dataModel.chartsOrderUserPref && e.addModel({
                        model: this.dataModel.chartsOrderUserPref,
                        required: !0
                    }),
                    this.dataModel.activityChartsOrder && e.addModel({
                        model: this.dataModel.activityChartsOrder,
                        required: !0
                    }),
                    this.dataModel.conversation && e.addModel({
                        model: this.dataModel.conversation,
                        required: !0,
                        countError: !0
                    }),
                    this.dataModel.biometrics && e.addModel({
                        model: this.dataModel.biometrics,
                        required: !0
                    }),
                    this.dataModel.courses && e.addModel({
                        model: this.dataModel.courses,
                        required: !0,
                        countError: !0
                    }),
                    this.dataModel.activityTypes && e.addModel({
                        model: this.dataModel.activityTypes,
                        required: !0
                    }),
                    this.dataModel.eventTypes && e.addModel({
                        model: this.dataModel.eventTypes,
                        required: !0
                    }),
                    this.dataModel.userMapSetting && e.addModel({
                        model: this.dataModel.userMapSetting,
                        required: !0
                    }),
                    this.dataModel.usersPersonalRecords && e.addModel({
                        model: this.dataModel.usersPersonalRecords,
                        required: !0
                    }),
                    this.dataModel.connectIQPresentationData && (e.addModel({
                        model: this.dataModel.connectIQPresentationData,
                        required: !1
                    }),
                    this.dataModel.connectIQPresentationData.once("sync", function() {
                        this.dataModel.currentActivityModel.isLoaded && (this.loadConnectIQ(),
                        this.connectIQPresentationDataLoaded = !0)
                    }, this)),
                    this.dataModel.thirdPartyUploads && e.addModel({
                        model: this.dataModel.thirdPartyUploads,
                        required: !1
                    }),
                    this.dataModel.activityHiddenCharts && e.addModel({
                        model: this.dataModel.activityHiddenCharts,
                        required: !1
                    })),
                    e.addModel({
                        model: this.workoutMetrics,
                        required: !0
                    })
                },
                onDependenciesLoaded: function(e) {
                    if (this.dependenciesLoaded = !0,
                    0 === e)
                        this.dependenciesLoaded = !1;
                    else {
                        var t, i = this.dataModel.activityModel.activity.get("parentId");
                        if (i)
                            return void p.a.history.navigate("/activity/" + i + "/child/" + this.dataModel.activityModel.activityId, {
                                trigger: !0,
                                replace: !0
                            });
                        this.activityTypeKey = this.dataModel.activityModel.activity.getActivityTypeKey(),
                        this.dataModel.activityModel.activity.startTracking(),
                        this.dataModel.activityModel.isParent = this.dataModel.activityModel.activity.isParent(),
                        this.loadChildActivities(),
                        (l.a.isUndefined(this.dataModel.initialChildIndex) || l.a.isNaN(this.dataModel.initialChildIndex) || this.isBackFromSocialPlatform()) && (t = l.a.bind(this.displayActivityModel, this, this.dataModel.activityModel)),
                        this.loadActivityModel(this.dataModel.currentActivityModel, t),
                        this.workout && this.workout.has("atpPlanId") && (this.dataModel.activityModel.activity.get("summaryDTO").atpPlanId = this.workout.get("atpPlanId"))
                    }
                    return this.dependenciesLoaded
                },
                loadConnectIQ: function() {
                    this.connectIQPresentationUtil = new Re.a(this.dataModel.connectIQPresentationData),
                    this.connectIQPresentationUtil.loadCIQLocalizedData(),
                    this.displayConnectIQViews()
                },
                destroy: function() {
                    this.activityTabsView && "function" === typeof this.activityTabsView.destroy && this.activityTabsView.destroy(),
                    this.autoRacingChartReactComponent && this.autoRacingChartReactComponent.removeComponent(),
                    this.off(),
                    this.remove()
                },
                render: function() {
                    var t = this;
                    if (this.$el.html(this.template({
                        Localizer: u.a,
                        Personalizer: f.a,
                        activity: this.dataModel.activityModel.activity.toJSON()
                    })),
                    this.dataModel.activityModel.isParent && (this.multisportNavView = new Ce.a({
                        el: this.$("#multisportNavPlaceholder"),
                        parentActivity: this.dataModel.activityModel.activity,
                        childActivities: this.dataModel.activityModel.childActivities
                    }),
                    this.listenTo(this.multisportNavView, Ce.a.Events.ActivityChanged, this.navigateToActivity, this),
                    this.multisportNavView.render()),
                    this.dataModel.activityModel.activity.get("hasPolyline") || this.hasStartOrEndPoints()) {
                        var i = this.dataModel.mapProviderPreference ? this.dataModel.mapProviderPreference.get("value") : null;
                        this.activityMapView = new ge.a({
                            el: this.$("#activityMapViewPlaceholder"),
                            model: this.dataModel.currentActivityModel.activity,
                            activityDetails: this.dataModel.currentActivityModel.activityDetails,
                            activitySplits: this.dataModel.currentActivityModel.activitySplits,
                            activityTypedSplits: this.dataModel.currentActivityModel.activityTypedSplits,
                            userMapSetting: this.dataModel.userMapSetting,
                            childActivities: this.dataModel.activityModel.childActivities,
                            activityTypes: this.dataModel.activityTypes,
                            mapProvider: i,
                            player: this.dataModel.player,
                            videoClips: this.dataModel.videoClips,
                            jumps: this.dataModel.jumps,
                            additionalMapLayers: this.getMTBMapLayers(),
                            isFullScreen: "true" === He.default.getQueryParameterByName("fullscreen")
                        }),
                        this.listenTo(this.activityMapView, ge.a.Events.OnContentsRendered, function() {
                            this.setMTBMapLayers()
                        }, this),
                        this.listenTo(this.activityMapView, ge.a.Events.onMapCoordinateSystemClicked, this.onMapCoordinateSystemClicked, this),
                        this.activityMapView.render()
                    }
                    this.showExerciseView(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && (this.repCountingActivityView = new xe.a({
                        el: this.$("#repCountingActivityViewPlaceholder"),
                        activity: this.dataModel.activityModel,
                        exerciseTypes: this.exerciseTypes.toJSON(),
                        isReadOnly: this.isReadOnly(),
                        isPilatesActivity: this.isPilatesActivity(),
                        isYogaActivity: this.isYogaActivity()
                    }),
                    this.$("#repCountingActivityViewPlaceholder").css({
                        display: "block"
                    }),
                    this.repCountingActivityView.render()),
                    Fe.a.isDivingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && !Fe.a.isApneaDiving(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && (this.activityDiveLogView = new Se.a({
                        el: this.$("#divingLogViewPlaceholder"),
                        model: this.dataModel.activityModel
                    }),
                    this.$("#divingLogViewPlaceholder").css({
                        display: "block"
                    }),
                    this.activityDiveLogView.render()),
                    this.dataModel.activityModel.activity.get("hasChartData") && (this.activityChartsView = new pe.a({
                        el: this.$("#activityChartsViewPlaceholder"),
                        player: this.dataModel.player,
                        overlayData: this.getOverlayData(),
                        groundContactLastSelectedChart: this.dataModel.groundContactLastSelectedChart,
                        verticalOscRatioLastSelectedChart: this.dataModel.verticalOscRatioLastSelectedChart,
                        powerChartLastSelectedChart: this.dataModel.powerChartLastSelectedChart,
                        isOwner: this.viewerIsOwner(),
                        hasPowerData: this.dataModel.activityModel.activityDetails.hasPowerData(),
                        activityHiddenChartsModel: this.dataModel.activityHiddenCharts,
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo(),
                        jumps: this.dataModel.jumps,
                        activityWorkouts: this.dataModel.activityWorkouts,
                        activityChartsOrder: this.dataModel.activityChartsOrder,
                        chartsOrderUserPref: this.dataModel.chartsOrderUserPref,
                        activityTypes: this.dataModel.activityTypes,
                        viewerIsAuthenticated: this.viewerIsAuthenticated(),
                        tankSensor: this.dataModel.tankSensor,
                        indoorClimbDifficulty: this.dataModel.indoorClimbDifficulty
                    }),
                    this.listenTo(this.activityChartsView, pe.a.Events.DisplayWeightEntryPopup, this.onDisplayWeightEntryPopup, this),
                    this.listenTo(this.activityChartsView, pe.a.Events.WeightChangedFromChart, this.onWeightChanged, this),
                    this.listenTo(this.activityChartsView, pe.a.Events.AxisTypeChanged, this.onAxisTypeChanged, this),
                    this.listenTo(this.activityChartsView, pe.a.Events.PowerRangeChanged, this.onPowerRangeChanged, this),
                    this.listenTo(this.activityChartsView, pe.a.Events.ResetZoom, this.onRangeReset, this));
                    var a = this.dataModel.activityModel.activity.get("timeZoneUnitDTO").unitKey
                      , n = x.a.getByKey(a);
                    if (n)
                        var r = u.a.localize(n.get("unitKey"));
                    this.activityIntroView = new me.a({
                        el: this.$("#activityIntroViewPlaceholder"),
                        readOnly: this.isReadOnly(),
                        model: this.dataModel.activityModel.activity,
                        activityTypes: this.dataModel.activityTypes,
                        eventTypes: this.dataModel.eventTypes,
                        userCourses: this.dataModel.courses,
                        userBiometrics: this.dataModel.biometrics,
                        activityTimeZone: r,
                        activityTypeReadOnly: this.dataModel.activityModel.activity.isParent() || this.isReadOnly(),
                        isRepCounting: Fe.a.isRepCounting(this.activityTypeKey)
                    }),
                    this.activityIntroView.render(),
                    this.listenTo(this.activityIntroView, me.a.Events.ActivityNameChanged, function() {
                        t.pushAnalyticsEvent("Activity Name Changed")
                    }),
                    this.listenTo(this.activityIntroView, me.a.Events.EventTypeChanged, function() {
                        t.pushAnalyticsEvent("Activity Event Type Changed")
                    }),
                    this.listenTo(this.activityIntroView, me.a.Events.ActivityTypeChanged, this.onActivityTypeChanged),
                    this.listenTo(this.activityIntroView, me.a.Events.PrepareToNavigate, function() {
                        this.activityMapView && this.activityMapView.destroy()
                    }
                    .bind(this)),
                    this.viewerIsAuthenticated() && (this.activityCommentsView = new ue.a({
                        el: this.$("#activityCommentsViewPlaceholder"),
                        model: this.dataModel.activityModel.activity,
                        conversation: this.dataModel.conversation
                    }),
                    this.activityCommentsView.render()),
                    this.activityToolbarView = new fe.a({
                        el: this.$("#activityToolbarViewPlaceholder"),
                        conversation: this.dataModel.conversation,
                        model: this.dataModel.activityModel.activity,
                        usersPersonalRecords: this.dataModel.usersPersonalRecords,
                        userUnit: this.userPreferences.get("measurementSystem"),
                        viewerIsAuthenticated: this.viewerIsAuthenticated(),
                        viewerIsConnected: this.isViewerConnected(),
                        mapProviderPreference: this.dataModel.mapProviderPreference,
                        activityTypes: this.dataModel.activityTypes,
                        canShowAdvancedActivityEdit: this.canShowAdvancedActivityEdit(),
                        canShowActivityRestore: this.canShowActivityRestore()
                    }),
                    this.activityToolbarView.on(fe.a.Events.PersonalRecordsChanged, this.onPersonalRecordsChanged, this),
                    this.activityToolbarView.on(fe.a.Events.PrivacyChanged, this.onPrivacyChanged, this),
                    this.listenTo(this.activityToolbarView, fe.a.Events.RestoreActivity, function() {
                        this.restoreToOriginal()
                    }, this),
                    this.listenTo(this.activityToolbarView, fe.a.Events.ExportSplitsCSV, this.exportSplitsToCSV),
                    Fe.a.isDivingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.dataModel.activityModel.activity.has("diveInfo") && (this.$("#activityLocationViewPlaceholder").append(new se.a({
                        isNoteDisabled: this.isDiveLocationDisabled(),
                        canEditNote: this.viewerIsOwner(),
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        modelAttribute: "locationName",
                        hasHeader: !0,
                        headerText: "dive_location"
                    }).render().el),
                    this.$("#entryLocationViewPlaceholder").append(new oe.a({
                        isNoteDisabled: !0,
                        canEditNote: !0,
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        Latitude: "startLatitude",
                        Longitude: "startLongitude",
                        headerText: "entry_location"
                    }).render().el),
                    this.$("#exitLocationViewPlaceholder").append(new oe.a({
                        isNoteDisabled: !0,
                        canEditNote: !0,
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        Latitude: "endLatitude",
                        Longitude: "endLongitude",
                        headerText: "exit_location"
                    }).render().el),
                    this.$("#activityBuddyViewPlaceholder").append(new se.a({
                        isNoteDisabled: this.isDiveBuddyDisabled(),
                        canEditNote: this.viewerIsOwner(),
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        modelAttribute: "buddy",
                        hasHeader: !0,
                        headerText: "dive_buddy"
                    }).render().el),
                    this.$("#activityEquipmentViewPlaceholder").append(new se.a({
                        isNoteDisabled: this.isDiveEquipmentDisabled(),
                        canEditNote: this.viewerIsOwner(),
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        modelAttribute: "equipments",
                        hasHeader: !0,
                        headerText: "diving_equipment"
                    }).render().el)),
                    this.playlistPreference.featureEnabled() && this.dataModel.playlist && this.dataModel.playlist.length > 0 && (this.songs = l.a.filter(this.dataModel.playlist.models, this.showSong),
                    this.songs.length > 0 && (this.activityPlaylistView = new ze.a({
                        songs: this.songs
                    }),
                    this.$("#activityPlaylistPlaceholder").html(this.activityPlaylistView.render().el))),
                    this.viewerIsOwner() || this.dataModel.activityModel.activity.has("description") ? (this.activityNotes = new se.a({
                        isNoteDisabled: this.isNoteDisabled(),
                        canEditNote: this.viewerIsOwner(),
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        hasHeader: !0,
                        headerText: "activity_notes_placeholder",
                        charMaxLength: 2e3,
                        placeholderText: Fe.a.getNotePlaceholderCopy(this.dataModel.currentActivityModel.activity.get("activityTypeDTO"), this.dataModel.activityTypes),
                        hasWorkoutExecutionScore: !!this.workoutMetrics.featureEnabled() && this.dataModel.activityModel.activity.get("directWorkoutComplianceScore")
                    }),
                    this.$("#activityNoteViewPlaceholder").append(this.activityNotes.render().el)) : this.viewerIsAuthenticated() || this.$(".wrapper-top-container").hide(),
                    je.a.userInChina() || (this.hasVirbVideo() ? this.activityYouTubeView = new Ae.a({
                        el: this.$("#activityYouTubePlaceholder"),
                        model: this.dataModel.activityModel.activity,
                        activityDetails: this.dataModel.activityModel.activityDetails,
                        player: this.dataModel.player,
                        videoClips: this.dataModel.videoClips
                    }) : this.activityYouTubeView = new ve.a({
                        el: this.$("#activityYouTubePlaceholder"),
                        model: this.dataModel.activityModel.activity
                    }),
                    this.activityYouTubeView.render()),
                    this.renderActivityBadges(),
                    this.activityPhotosView = new ye.a({
                        el: this.$("#activityPhotosPlaceholder"),
                        canManagePhotos: this.viewerIsOwner(),
                        activityId: this.dataModel.activityModel.activityId,
                        images: this.dataModel.activityModel.activity.get("metadataDTO").activityImages
                    }),
                    this.activityPhotosView.render(),
                    this.renderActivityDetailSmallStats(),
                    this.activityAdditionalInfoView = new _e.a({
                        el: this.$("#device-info"),
                        agent: this.dataModel.agentInfo,
                        device: this.dataModel.deviceInfo,
                        displayAgentInfo: this.shouldActivityModelShowAgent(z.a),
                        activity: this.dataModel.activityModel.activity,
                        thirdPartyPartners: this.dataModel.thirdPartyUploads
                    }),
                    this.activityAdditionalInfoView.on(_e.a.Events.ELEV_CORRECTION_CHANGED, function(e) {
                        location.reload()
                    }),
                    this.activityGearListView = new we.a({
                        el: this.$("#attached-gear"),
                        readOnly: this.isReadOnly()
                    }),
                    this.activityTabsView = new be.a({
                        el: this.$("#activityTabsViewPlaceholder"),
                        isLapSwimming: this.dataModel.activityModel.activity.get("summaryDTO").poolLength,
                        segmentCount: this.dataModel.activityModel.segments.length,
                        timeInZones: this.getTimeInZonesInfo(),
                        activityId: this.dataModel.activityModel.activityId,
                        activityDuration: this.dataModel.activityModel.activity.get("duration"),
                        summaryDTO: this.dataModel.activityModel.activity.get("summaryDTO"),
                        diveInfo: this.dataModel.activityModel.activity.get("diveInfo"),
                        apneaDives: this.dataModel.activityModel.activitySplits.get("lapDTOs"),
                        containsCyclingDynamicsData: this.dataModel.activityModel.activity.hasCyclingDynamicsData(),
                        hasMTBData: this.dataModel.activityModel.activity.hasMTBData(),
                        showPowerCurve: this.viewerIsOwner() && this.dataModel.powerCurve,
                        activityTypeKey: this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey,
                        hasIntensityIntervals: this.hasIntensityIntervals(),
                        hasTypedSplits: this.hasTypedSplits()
                    }),
                    this.listenTo(this.activityTabsView, be.a.Events.SEGMENT_TAB_CLICK, this.onFirstClickSegmentsTab, this),
                    this.listenTo(this.activityTabsView, be.a.Events.MtbTabClicked, this.onMtbMetricsTabClicked, this),
                    this.listenTo(this.activityTabsView, be.a.Events.PowerCurveTabClicked, this.onPowerCurveTabClicked, this),
                    this.listenTo(this.activityTabsView, be.a.Events.ChartRangeChanged, this.onChartRangeChanged, this),
                    this.listenTo(this.activityTabsView, be.a.Events.ModelSyncFail, function() {
                        this.showFailureMessage(u.a.localize("error_calculating_max_avg_power"))
                    }, this),
                    this.listenTo(this.activityTabsView, be.a.Events.ModelSyncSuccess, function() {
                        this.hideFailureMessage()
                    }, this),
                    this.listenTo(this.activityTabsView, be.a.Events.Error, function(e) {
                        this.$(".alert").html(e).show()
                    }, this),
                    this.activityStatsView = new Te.a({
                        el: this.$("#tab-stats"),
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo(),
                        workoutMetricsEnabled: this.workoutMetrics.featureEnabled(),
                        hasWorkoutExecutionScore: !!this.workoutMetrics.featureEnabled() && this.dataModel.activityModel.activity.get("directWorkoutComplianceScore")
                    }),
                    this.listenTo(this.activityStatsView, Te.a.Events.SpeedPaceToggled, this.onSpeedPaceToggled, this),
                    this.listenTo(this.activityStatsView, Te.a.Events.DisplayWeightEntryPopup, this.onDisplayWeightEntryPopup, this),
                    this.listenTo(this.activityStatsView, Te.a.Events.WeightChangedFromPowerStats, this.onWeightChanged, this);
                    var s = this.getParentType();
                    this.activitySplitsView = new Ee.a({
                        el: this.$("#tab-splits"),
                        usersWeight: this.getUsersWeight(),
                        isOwner: this.viewerIsOwner(),
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo(),
                        parentType: s ? s.get("typeKey") : null,
                        hasIntensityIntervals: this.hasIntensityIntervals(),
                        canViewIntervals: this.activityIntervalsPreference.featureEnabled(),
                        hasTypedSplits: this.hasTypedSplits(),
                        indoorClimbDifficulty: this.dataModel.indoorClimbDifficulty
                    }),
                    this.listenTo(this.activitySplitsView, Ee.a.Events.DisplayWeightEntryPopup, this.onDisplayWeightEntryPopup, this),
                    this.listenTo(this.activitySplitsView, Ee.a.Events.WeightChangedFromSplits, this.onWeightChanged, this),
                    this.activitySegmentsView = new Le.a({
                        el: this.$("#tab-segments"),
                        isOwner: this.viewerIsOwner()
                    }),
                    this.listenTo(this.activitySegmentsView, Le.a.Events.ViewSegmentToggled, this.onViewSegmentToggled),
                    this.ciqInfoView = new De.a({
                        el: this.$("div.ciq-info")
                    }),
                    this.rendered = !0,
                    this.trigger(ct.PageRendered),
                    Ge.a.removeExpandCollapseHandlers(),
                    Ge.a.setExpandCollapseHandler(function() {
                        this.activityChartsView && "function" === typeof this.activityChartsView.reflowCharts && this.activityChartsView.reflowCharts(),
                        this.autoRacingChartReactComponent && this.autoRacingChartReactComponent.renderComponent(qe.a, this.$("#autoRacingLapChartPlaceholder")[0], {
                            lapDTOs: this.dataModel.activityModel.activitySplits.get("lapDTOs"),
                            directSpeed: this.dataModel.activityModel.activityDetails.getData("directSpeed")
                        })
                    }
                    .bind(this), 100),
                    this.pushPageViewAnalyticsEvents(),
                    "true" === He.default.getQueryParameterByName("trimmed") && this.displayNotification("advanced_edit_restore_info", !1),
                    e(".page.activity-detail").on("dragenter", this.onDragFileIn.bind(this)),
                    e(".page.activity-detail").on("dragleave", this.onDragFileOut.bind(this)),
                    this.$el.attr("data-activity-type", this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey)
                },
                onFirstClickSegmentsTab: function() {
                    this.activitySegmentsView.setData(this.dataModel.currentActivityModel.activity, this.dataModel.currentActivityModel.segments),
                    this.activitySegmentsView.render()
                },
                onMtbMetricsTabClicked: function(e) {
                    0 === e && this.$("#tab-mtb").html(new ke.a({
                        summaryDTO: this.dataModel.currentActivityModel.activity.get("summaryDTO"),
                        activity: this.dataModel.currentActivityModel.activity,
                        jumps: this.dataModel.jumps
                    }).render().el)
                },
                onPowerCurveTabClicked: function(e) {
                    if (0 === e)
                        if (this.dataModel.powerCurve.get("excludeFromPowerCurveReports"))
                            this.powerCurveExcludedView = new Ze.a({}),
                            this.listenTo(this.powerCurveExcludedView, Ze.a.Events.INCLUDE_ACTIVITY, function() {
                                this.includeActivityIntoPowerCurve(this.dataModel.activityModel.activity.get("activityId"))
                            }),
                            this.$("#tab-power-curve").html(this.powerCurveExcludedView.render().el);
                        else {
                            var t = new Pe.a({
                                activityPowerCurve: this.dataModel.powerCurve
                            });
                            this.listenTo(t, Pe.a.Events.Error, function(e) {
                                this.$(".alert").html(e).show()
                            }),
                            this.$("#tab-power-curve").html(t.render().el)
                        }
                },
                getOverlayData: function() {
                    var e = null;
                    return this.hasVirbVideo() && (Ie.b.videoClips.data = this.dataModel.videoClips.models.length > 0 ? this.dataModel.videoClips.models : null,
                    e = Ie.b.videoClips),
                    this.hasTypedSplits() && (Ie.b.typedSplits.data = this.dataModel.currentActivityModel.activityTypedSplits.getHighlightedSplits(),
                    e = Ie.b.typedSplits),
                    e
                },
                setOverlayCompareData: function(e) {
                    this.hasVirbVideo() && (Ie.b.videoClips.compareData = e),
                    this.hasTypedSplits() && (Ie.b.typedSplits.compareData = e)
                },
                loadChildActivities: function() {
                    var e = this.dataModel.activityModel.activity.get("childIds");
                    if (e && e.length > 0) {
                        var t = new Be.a
                          , i = 1;
                        l.a.each(e, function(e) {
                            var a = new ht(e);
                            a.index = i++,
                            this.dataModel.activityModel.childModels.push(a),
                            t.addModel({
                                model: a.activity,
                                required: !0
                            })
                        }, this),
                        t.on(Be.a.Events.SYNCHRONIZED, function() {
                            l.a.each(this.dataModel.activityModel.childModels, function(e) {
                                this.dataModel.activityModel.childActivities.add(e.activity)
                            }, this),
                            this.multisportNavView && (this.multisportNavView.childActivities = this.dataModel.activityModel.childActivities,
                            this.multisportNavView.render()),
                            "undefined" != typeof this.dataModel.initialChildIndex && this.dataModel.initialChildIndex < this.dataModel.activityModel.childModels.length + 1 && this.navigateToChild(this.dataModel.initialChildIndex)
                        }, this),
                        t.fetchModels()
                    }
                },
                navigateToActivity: function(e) {
                    if (this.dataModel.setCurrentActivityModel(e),
                    e == this.dataModel.activityModel.activityId)
                        p.a.history.navigate("/activity/" + this.dataModel.activityModel.activityId, {
                            replace: !0
                        }),
                        this.multisportNavView && this.multisportNavView.selectTab(0);
                    else {
                        var t = this.dataModel.currentActivityModel.index;
                        t > 0 && (p.a.history.navigate("/activity/" + this.dataModel.activityModel.activityId + "/" + t, {
                            replace: !0
                        }),
                        this.multisportNavView && this.multisportNavView.selectTab(t))
                    }
                    this.loadAndDisplayActivityModel(this.dataModel.currentActivityModel)
                },
                navigateToChild: function(e) {
                    this.dataModel.currentActivityModel = this.dataModel.activityModel.childModels[e - 1],
                    this.loadAndDisplayActivityModel(this.dataModel.currentActivityModel),
                    this.multisportNavView.selectTab(e)
                },
                loadAndDisplayActivityModel: function(e) {
                    this.loadActivityModel(e, l.a.bind(this.displayActivityModel, this, e))
                },
                handleDisplayActivityMapView: function(e) {
                    this.activityMapView && (this.hasPolyline(e.activityDetails) || this.hasStartOrEndPoints()) ? (this.activityMapView.show(),
                    this.activityMapView.setActivity(e.activity, e.activityDetails, e.activitySplits, e.activityTypedSplits, e.weather),
                    this.activityMapView.updatePolyline()) : this.activityMapView && this.activityMapView.hide()
                },
                hasPolyline: function(e) {
                    return e.get("polyline") && e.get("polyline").length > 0
                },
                displayActivityModel: function(t) {
                    if (this.$el.attr("data-activity-type", t.activity.get("activityTypeDTO").typeKey),
                    this.handleDisplayActivityMapView(t),
                    t.activity.get("hasChartData") && t.activityDetails.isValid() && (this.activityChartsView.setActivity(t.activity, t.activityDetails, t.activitySplits, t.activityTypedSplits, t.splitSummaries, this.getUsersWeight()),
                    this.setOverlayCompareData(t.activityDetails.getData("directTimestamp", "sumDuration")),
                    this.activityChartsView.render()),
                    this.activityAdditionalInfoView && (this.activityAdditionalInfoView.setData({
                        displayElevCorrectionInfo: this.canDisplayElevCorrectionInfo(),
                        displayPowerAvgCalInfo: this.dataModel.activityModel.activityDetails.hasPowerData()
                    }),
                    this.activityAdditionalInfoView.render()),
                    this.activityAccessoryInfoView ? this.activityAccessoryInfoView && this.activityAccessoryInfoView.updateAccessories(this.getAllAccessories()) : this.activityAccessoryInfoView = new Me.a({
                        el: this.$("#accessory-info"),
                        accessories: this.getAllAccessories()
                    }),
                    this.activityAccessoryInfoView.render(),
                    this.activityToolbarView && (this.activityToolbarView.setData({
                        hasMap: !!this.activityMapView
                    }),
                    this.activityToolbarView.canShowAdvancedActivityEdit(this.canShowAdvancedActivityEdit()),
                    this.activityToolbarView.canShowActivityRestore(this.canShowActivityRestore()),
                    this.activityToolbarView.render()),
                    this.activityTabsView.$("#tabStatsId").click(),
                    this.activityTabsView.setData(t.segments.length, t.activity.isLapSwimming(), this.containsGasesAndTanks(t), this.hasApneaDives(t), t.activitySplits.get("lapDTOs"), this.getTimeInZonesInfo(t.activity.get("metadataDTO")), t.activity.hasCyclingDynamicsData(), t.activity.get("activityId"), t.activity.get("duration"), t.activity.get("summaryDTO")),
                    this.activityTabsView.showSegmentTab = this.shouldActivityModelShowSegments(t),
                    this.activityTabsView.showSplitsTab = this.shouldActivityModelShowSplits(t),
                    this.activityTabsView.hasIntensityIntervals = this.hasIntensityIntervals(),
                    this.activityTabsView.canViewIntervals = this.activityIntervalsPreference.featureEnabled(),
                    this.activityTabsView.showStatsTab = this.shouldActivityModelShowStats(t),
                    this.activityTabsView.render(),
                    this.activityTabsView.$el.show(),
                    t.isParent ? (this.activityStatsView.setData(null),
                    this.activityStatsView.$el.empty(),
                    this.activityStatsView.stopListening()) : (this.activityStatsView.setData(t.activity, t.splitSummaries, this.hasPowerData(), this.getUsersWeight(), this.getRepCounting(), this.splits, this.dataModel.indoorClimbDifficulty.toJSON()),
                    this.activityStatsView.powerZones = this.dataModel.powerZones,
                    this.activityStatsView.heartRateZones = this.dataModel.heartRateZones,
                    this.activityStatsView.activityTypes = this.dataModel.activityTypes,
                    Fe.a.isDivingActivity(t.activity.get("activityTypeDTO").typeKey) && this.viewerIsOwner() && (this.activityStatsView.aggregateActivityMetricStats = this.aggregateActivityMetricStats,
                    this.activityStatsView.userSettings = this.userSettings),
                    this.activityStatsView.render()),
                    this.shouldActivityModelShowSplits(t)) {
                        var i = this.getParentType();
                        this.activitySplitsView.setData({
                            model: t.activitySplits,
                            activityTypeKey: t.activity.get("activityTypeDTO").typeKey,
                            activitySummary: t.activity,
                            usersWeight: this.getUsersWeight(),
                            parentType: i ? i.get("typeKey") : null,
                            activityWorkouts: this.dataModel.activityWorkouts ? this.dataModel.activityWorkouts.toJSON() : null,
                            activityTypedSplits: t.activityTypedSplits,
                            splitSummaries: t.splitSummaries
                        }),
                        this.activitySplitsView.render()
                    } else
                        this.activitySplitsView.$el.empty(),
                        this.activitySplitsView.stopListening();
                    this.shouldActivityModelShowSegments(t) ? this.activitySegmentsView.render() : (this.activitySegmentsView.$el.empty(),
                    this.activitySegmentsView.stopListening()),
                    this.activityToolbarView.setActivity(t.activity),
                    this.activityToolbarView.render(),
                    this.renderActivityDetailSmallStats(),
                    this.activityTabsView.activityTypeKey = t.activity.get("activityTypeDTO").typeKey,
                    this.activityTabsView.render(),
                    this.activityIntroView.updateModels(t.activity, t.selectedGear, t.course),
                    this.activityIntroView.render(),
                    this.activityGearListView && (this.activityGearListView.updateModels(t.activity, t.selectedGear),
                    this.activityGearListView.render());
                    var a = this.dataModel.activityModel.activityDetails.hasPowerData();
                    if (e(".legal", this.$el).css({
                        display: a ? "block" : "none"
                    }),
                    this.showExerciseView(t.activity.get("activityTypeDTO").typeKey)) {
                        if (!this.exerciseTypes) {
                            (r = new Be.a).addModel({
                                model: this.dataModel.currentActivityModel.repCountingActivity,
                                required: !0
                            }),
                            this.isPilatesActivity(t) ? this.exerciseTypes = new B.a({}) : this.exerciseTypes = new M.a({}),
                            r.addModel({
                                model: this.exerciseTypes,
                                required: !0
                            });
                            var n = this;
                            return this.listenTo(r, Be.a.Events.SYNCHRONIZED, function() {
                                n.displayActivityModel(n.dataModel.currentActivityModel),
                                n.stopListening(r)
                            }),
                            void r.fetchModels()
                        }
                        if (this.dataModel.activityModel.isParent) {
                            var r;
                            (r = new Be.a).addModel({
                                model: this.dataModel.currentActivityModel.repCountingActivity,
                                required: !0
                            });
                            n = this;
                            this.listenTo(r, Be.a.Events.SYNCHRONIZED, function() {
                                n.displayActivityModel(n.dataModel.currentActivityModel),
                                n.stopListening(r)
                            }),
                            r.fetchModels()
                        }
                        this.repCountingActivityView = new xe.a({
                            el: this.$("#repCountingActivityViewPlaceholder"),
                            activity: t,
                            exerciseTypes: this.exerciseTypes.toJSON(),
                            isReadOnly: this.isReadOnly(),
                            isPilatesActivity: this.isPilatesActivity(t),
                            isYogaActivity: this.isYogaActivity(t)
                        }),
                        this.$("#repCountingActivityViewPlaceholder").css({
                            display: "block"
                        }),
                        this.repCountingActivityView.render()
                    } else
                        this.repCountingActivityView && (this.repCountingActivityView.off(),
                        this.repCountingActivityView = null,
                        this.$("#repCountingActivityViewPlaceholder").html(""));
                    Fe.a.isDivingActivity(t.activity.get("activityTypeDTO").typeKey) && !Fe.a.isApneaDiving(t.activity.get("activityTypeDTO").typeKey) ? (this.activityDiveLogView = new Se.a({
                        el: this.$("#divingLogViewPlaceholder"),
                        model: t
                    }),
                    this.$("#divingLogViewPlaceholder").css({
                        display: "block"
                    }),
                    this.activityDiveLogView.render()) : this.activityDiveLogView && (this.activityDiveLogView.off(),
                    this.activityDiveLogView = null,
                    this.$("#divingLogViewPlaceholder").html("")),
                    this.activityNotes && "function" === typeof this.activityNotes.updatePlaceholderText && this.activityNotes.updatePlaceholderText(Fe.a.getNotePlaceholderCopy(this.dataModel.currentActivityModel.activity.get("activityTypeDTO"), this.dataModel.activityTypes)),
                    (Fe.a.isIndoorClimbingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) || Fe.a.isBoulderingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey)) && this.dataModel.activityModel.activityTypedSplits && this.dataModel.activityModel.activityTypedSplits.length && (this.climbingDifficultyChart = new de.a,
                    this.climbingDifficultyChart.renderComponent(Je.a, this.$("#climbingDifficultyChartPlaceholder")[0], {
                        typedSplits: this.dataModel.activityModel.activityTypedSplits.toJSON(),
                        indoorClimbDifficulty: this.dataModel.indoorClimbDifficulty.toJSON()
                    }),
                    this.$("#climbingDifficultyChartPlaceholder").css({
                        display: "block"
                    })),
                    Fe.a.isBoulderingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.dataModel.activityModel.activityTypedSplits && this.dataModel.activityModel.activityTypedSplits.length && (this.boulderingDifficultyChart = new de.a,
                    this.boulderingDifficultyChart.renderComponent(et.a, this.$("#climbingDifficultyChartPlaceholder")[0], {
                        typedSplits: this.dataModel.activityModel.activityTypedSplits.toJSON(),
                        indoorClimbDifficulty: this.dataModel.indoorClimbDifficulty.toJSON()
                    }),
                    this.$("#climbingDifficultyChartPlaceholder").css({
                        display: "block"
                    })),
                    Fe.a.isAutoRacingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.dataModel.activityModel.activitySplits.get("lapDTOs").length && (this.autoRacingChartReactComponent = new de.a,
                    this.autoRacingChartReactComponent.renderComponent(qe.a, this.$("#autoRacingLapChartPlaceholder")[0], {
                        lapDTOs: this.dataModel.activityModel.activitySplits.get("lapDTOs"),
                        directSpeed: this.dataModel.activityModel.activityDetails.getData("directSpeed")
                    }),
                    this.$("#autoRacingLapChartPlaceholder").css({
                        display: "block"
                    }))
                },
                containsGasesAndTanks: function(e) {
                    var t = e.activity.get("activityTypeDTO").typeKey;
                    if (Fe.a.isDivingActivity(t) && !Fe.a.isApneaDiving(t) && e.activity.get("diveInfo") && e.activity.get("diveInfo").diveGases && e.activity.get("diveInfo").diveGases.length > 0)
                        return !0
                },
                hasApneaDives: function(e) {
                    var t = e.activity.get("activityTypeDTO").typeKey
                      , i = e.activity.get("manualActivity");
                    if (Fe.a.isApneaDiving(t) && e.activitySplits.get("lapDTOs").length > 0 && !i)
                        return !0
                },
                displayConnectIQViews: function() {
                    if (this.presentationDataWasReturnedForConnectIQ()) {
                        var e = this.dataModel.activityModel;
                        this.ciqInfoView.renderWithPrecentationData(this.connectIQPresentationUtil),
                        e.activity && this.activityStatsView.renderConnectIQView(this.connectIQPresentationUtil),
                        this.shouldActivityModelShowSplits(e) && this.activitySplitsView.renderConnectIQView(this.connectIQPresentationUtil),
                        e.activityDetails && this.activityChartsView.renderConnectIQView(this.connectIQPresentationUtil)
                    }
                },
                loadActivityModel: function(e, t) {
                    var i = new Be.a({});
                    this.rendered || i.addEvent({
                        model: this,
                        event: ct.PageRendered,
                        required: !0
                    }),
                    this.viewerIsOwner() && !this.dataModel.powerZones && (this.dataModel.powerZones = new F.a,
                    i.addModel({
                        model: this.dataModel.powerZones,
                        required: !0
                    })),
                    this.viewerIsOwner() && !this.dataModel.heartRateZones && (this.dataModel.heartRateZones = new V.a,
                    i.addModel({
                        model: this.dataModel.heartRateZones,
                        required: !0
                    })),
                    this.canActivityModelSupportSegments(e) && (this.dataModel.segmentOptionalFeature || (this.dataModel.segmentOptionalFeature = new K.a({
                        displayName: this.activityOwnerName()
                    }),
                    i.addModel({
                        model: this.dataModel.segmentOptionalFeature,
                        required: !0
                    })),
                    this.dataModel.stravaOptionalFeature || (this.dataModel.stravaOptionalFeature = new Y.a({}),
                    i.addModel({
                        model: this.dataModel.stravaOptionalFeature,
                        required: !0
                    })));
                    var a = this.dataModel.activityModel.activity.get("metadataDTO").deviceApplicationInstallationId
                      , n = this.dataModel.activityModel.activity.get("metadataDTO").agentApplicationInstallationId;
                    if (!this.dataModel.deviceInfo && a && (this.dataModel.deviceInfo = new U.a([],{}),
                    this.dataModel.deviceInfo.setAfterLoad(a),
                    i.addModel({
                        model: this.dataModel.deviceInfo,
                        required: !0,
                        countError: !0
                    })),
                    !this.dataModel.agentInfo && this.shouldActivityModelShowAgent() && (this.dataModel.agentInfo = new U.a([],{}),
                    this.dataModel.agentInfo.setAfterLoad(n),
                    i.addModel({
                        model: this.dataModel.agentInfo,
                        required: !0,
                        countError: !0
                    })),
                    e.isLoaded)
                        t && t();
                    else {
                        e.activitySplits && i.addModel({
                            model: e.activitySplits,
                            required: !0,
                            countError: !0
                        }),
                        (this.hasTypedSplits() || this.hasIntensityIntervals() && e.activityTypedSplits) && i.addModel({
                            model: this.dataModel.activityModel.activityTypedSplits,
                            required: !0,
                            countError: !0
                        }),
                        (e.activity.get("hasChartData") || e.activity.get("hasPolyline")) && (e.activityDetails.setIsLapSwimming(e.activity.isLapSwimming()),
                        i.addModel({
                            model: e.activityDetails,
                            required: !0,
                            countError: !0
                        }),
                        i.addModel({
                            model: e.splitSummaries,
                            required: !0,
                            countError: !0
                        })),
                        this.canActivityModelSupportSegments(e) && (i.addModel({
                            model: e.segments,
                            required: !1,
                            countError: !0
                        }),
                        e.segments.once("sync", function(t, i, a) {
                            this.shouldActivityModelShowSegments(e) && this.activityTabsView.updateSegmentCount(e.segments.length)
                        }, this));
                        var r = e.activity.get("associatedCourseId");
                        r && (e.course = new P.a({
                            courseId: r
                        }),
                        i.addModel({
                            model: e.course,
                            required: !0,
                            countError: !0
                        })),
                        e.isParent && e.activity.get("childIds") && e.weather.set({
                            activityId: e.activity.get("childIds")[0]
                        }),
                        i.addModel({
                            model: e.weather,
                            required: !0,
                            countError: !0
                        }),
                        e.isParent || (e.selectedGear = new ae.a([],{
                            criteria: {
                                activityId: e.activity.id
                            }
                        }),
                        i.addModel({
                            model: e.selectedGear,
                            required: !0,
                            countError: !0
                        })),
                        i.on(Be.a.Events.SYNCHRONIZED, t),
                        i.on(Be.a.Events.SYNCHRONIZED, function() {
                            e.isLoaded = !0,
                            this.dataModel.connectIQPresentationData && this.dataModel.connectIQPresentationData.length > 0 && !this.connectIQPresentationDataLoaded && this.loadConnectIQ()
                        }, this),
                        i.fetchModels()
                    }
                },
                isNoteDisabled: function() {
                    return !this.viewerIsOwner() || this.dataModel.activityModel.activity.get("description")
                },
                isDiveBuddyDisabled: function() {
                    return !this.viewerIsOwner() || this.dataModel.activityModel.activity.get("diveInfo").buddy
                },
                isDiveLocationDisabled: function() {
                    return !this.viewerIsOwner() || this.dataModel.activityModel.activity.get("locationName")
                },
                isDiveEquipmentDisabled: function() {
                    return !this.viewerIsOwner() || this.dataModel.activityModel.activity.get("diveInfo").equipments
                },
                canActivityModelSupportSegments: function(e) {
                    return (e.activity.isCycling() || e.activity.isRunning()) && e.activity.get("hasPolyline") && !e.isParent && this.viewerIsAuthenticated()
                },
                isUserOptedIntoStravaSegments: function() {
                    return this.dataModel.stravaOptionalFeature && this.dataModel.stravaOptionalFeature.get("userOptionType") === Y.a.USER_OPTION_TYPES.OPT_IN
                },
                shouldActivityModelShowSegments: function(e) {
                    return 0 == this.isUserOptedIntoStravaSegments() && this.dataModel.segmentOptionalFeature && this.dataModel.segmentOptionalFeature.isOptedIn() && this.canActivityModelSupportSegments(e)
                },
                shouldActivityModelShowStats: function(e) {
                    return !e.isParent
                },
                shouldActivityModelShowAgent: function() {
                    return z.a.isAdminUser() || z.a.isCustomerService() || !1
                },
                shouldActivityModelShowSplits: function(e) {
                    var t = !1;
                    if (e.activitySplits && e.activitySplits.get("lapDTOs")) {
                        var i = e.activitySplits && e.activitySplits.get("lapDTOs");
                        l.a.each(i, function(e) {
                            e.duration && e.duration > 0 && (t = !0)
                        }, this)
                    }
                    var a = this.getRepCounting();
                    return a && a.get("exerciseSets") && a.get("exerciseSets").length > 0 && (t = !1),
                    e.activity.get("activityTypeDTO").typeKey === Ve.a.Yoga && (t = !1),
                    Fe.a.isDivingActivity(e.activity.get("activityTypeDTO").typeKey) && (t = !1),
                    Fe.a.isBreathworkActivity(e.activity.get("activityTypeDTO").typeKey) && (t = !1),
                    !e.isParent && t
                },
                canDisplayAccessories: function() {
                    return this.dataModel.currentActivityModel.activity.canDisplayAccessories()
                },
                canDisplayAccessoriesBatteryStatus: function() {
                    return this.dataModel.currentActivityModel.activity.canDisplayAccessoriesBatteryStatus()
                },
                setChartSpeedType: function(e, t) {
                    this.activityChartsView && this.activityChartsView.setSpeedType(e, t)
                },
                onDragFileIn: function(e) {
                    this.activityPhotosView.onDragPhotosIn(e)
                },
                onDragFileOut: function() {
                    this.activityPhotosView.onDragPhotosOut()
                },
                onAxisTypeChanged: function(e) {
                    this.activityTabsView.changeAxisType(e)
                },
                onPowerRangeChanged: function(e, t) {
                    this.activityTabsView.changePowerRange(e, t)
                },
                onChartRangeChanged: function(e, t, i, a) {
                    this.activityChartsView.onChartRangeChanged(e, t, i, a)
                },
                onRangeReset: function(e) {
                    this.activityTabsView.resetRange(e)
                },
                onSpeedPaceToggled: function(e, t) {
                    this.setChartSpeedType(e, t)
                },
                onActivityTypeChanged: function(e) {
                    this.displayActivityModel(this.dataModel.currentActivityModel),
                    this.pushAnalyticsEvent("Activity Type Changed")
                },
                onViewSegmentToggled: function(e, t) {
                    t ? this.activityMapView.showSegment(e) : this.activityMapView.hideSegment(e)
                },
                onPersonalRecordsChanged: function(e) {
                    this.multisportNavView ? this.multisportNavView.render() : this.dataModel.currentActivityModel.activity.isParent() || this.activityIntroView.renderPrTrophy()
                },
                onPrivacyChanged: function() {
                    this.activitySegmentsView && this.shouldActivityModelShowSegments(this.dataModel.currentActivityModel) && (this.activitySegmentsView.setData(this.dataModel.activityModel.activity, this.dataModel.activityModel.segments),
                    this.activitySegmentsView.render())
                },
                onPageUnloaded: function() {
                    this.reactActivityBadges && this.reactActivityBadges.removeComponent(),
                    re.a.prototype.onPageUnloaded.call(this),
                    this.activityMapView && this.activityMapView.unloadMap(),
                    this.hasVirbVideo() && this.activityYouTubeView.cleanUp()
                },
                isBackFromSocialPlatform: function() {
                    var e = p.a.history.location.href;
                    return !!/activity\/\d+\/share\/(0|1)\?lang=/.test(e)
                },
                hasVideo: function() {
                    return !(!this.dataModel || !this.dataModel.activityModel) && this.dataModel.activityModel.activity.get("videoUrl")
                },
                hasVirbVideo: function() {
                    return !(!this.dataModel || !this.dataModel.videoClips) && this.dataModel.videoClips.length > 0
                },
                hasTypedSplits: function() {
                    return this.dataModel.activityModel.activity.get("metadataDTO").hasSplits
                },
                hasIntensityIntervals: function() {
                    return this.dataModel.activityModel.activity.get("metadataDTO").hasIntensityIntervals
                },
                hasPowerData: function(e) {
                    return !!((e = e || this.dataModel.currentActivityModel.activity).get("averagePower") || e.get("maxPowerTwentyMinutes") || e.get("leftBalance") || e.get("leftTorqueEffectiveness") || e.get("leftPedalSmoothness") || e.get("normalizedPower") || e.get("intensityFactor") || e.get("functionalThresholdPower") || e.get("totalWork"))
                },
                canDisplayElevCorrectionInfo: function() {
                    return !this.hasVirbVideo() && this.dataModel.activityModel.activityDetails.hasElevationData()
                },
                canDisplayVectorAirInfo: function() {
                    return z.a.hasMBTesterRole() || this.enableVectorAirFeatureFlag && !l.a.isEmpty(this.enableVectorAirFeatureFlag.get("value")) && !1 !== JSON.parse(this.enableVectorAirFeatureFlag.get("value"))
                },
                getUsersWeight: function() {
                    return this.dataModel.getLatestWeight && this.dataModel.getLatestWeight.get("weight") ? f.a.convertWeightGramsToKg(this.dataModel.getLatestWeight.get("weight")) : null
                },
                getRepCounting: function() {
                    return this.showExerciseView(this.dataModel.currentActivityModel.activity.get("activityTypeDTO").typeKey) ? this.dataModel.currentActivityModel.repCountingActivity : null
                },
                onDisplayWeightEntryPopup: function(e) {
                    var t = new he.a({
                        prompt: u.a.localize("ftp.weight.modal.prompt"),
                        weightDate: Oe.a.formatISODate(new Date(this.dataModel.activityModel.activity.get("startTimeGMT")))
                    });
                    this.listenTo(t, he.a.Events.WEIGHT_SUCCESS, function(t) {
                        e.successCallback && "function" === typeof e.successCallback && e.successCallback.call(e.context || this, t),
                        i && "function" === typeof i.close && i.close()
                    }, this);
                    var i = new le.a({
                        view: t,
                        showFooter: !0,
                        showCancelButton: !1,
                        modalTitle: u.a.localize("ftp.modal.title")
                    });
                    i.render()
                },
                onWeightChanged: function(e) {
                    this.activityChartsView.setAndApplyWeight(e),
                    this.activityStatsView.setAndApplyWeight(e),
                    this.activitySplitsView.setAndApplyWeight(e),
                    this.dataModel.userBiometricWeights && this.dataModel.userBiometricWeights.length > 0 && this.dataModel.userBiometricWeights.at(0).set("weight", f.a.convertWeightToGrams(e))
                },
                getTimeInZonesInfo: function(e) {
                    var t = e || this.dataModel.activityModel.activity.get("metadataDTO");
                    return t ? {
                        hasPowerTimeInZones: t.hasPowerTimeInZones,
                        hasHrTimeInZones: t.hasHrTimeInZones
                    } : {
                        hasPowerTimeInZones: !1,
                        hasHrTimeInZones: !1
                    }
                },
                presentationDataWasReturnedForConnectIQ: function() {
                    return this.dataModel.connectIQPresentationData && this.dataModel.connectIQPresentationData.models.length > 0
                },
                onTabToggleClicked: function() {
                    this.pushToggleIntervalsTabsAnalyticsEvents()
                },
                pushToggleIntervalsTabsAnalyticsEvents: function() {
                    Ne.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Toggle Intervals Tabs"
                    })
                },
                getAllAccessories: function() {
                    var e, t = [];
                    if (this.canDisplayAccessories() && (e = this.dataModel.currentActivityModel.activity.getListOfAccessories()))
                        for (var i in e)
                            i && e.hasOwnProperty(i) && t.push({
                                name: e[i].name,
                                imageUrl: e[i].imageUrl
                            });
                    if (this.canDisplayAccessoriesBatteryStatus() && (e = this.dataModel.currentActivityModel.activity.getListOfAccessoriesWithBatteryStatus()) && e.length > 0)
                        for (var a = 0, n = e.length; a < n; a += 1)
                            if (e[a]) {
                                var r = this.dataModel.currentActivityModel.activity.getBatteryInfo(e[a]);
                                t.push({
                                    name: r.name,
                                    batteryInfo: r,
                                    batteryStatusTypes: this.dataModel.currentActivityModel.activity.getBatteryStatusTypes()
                                })
                            }
                    return t
                },
                showExerciseView: function(e) {
                    return -1 !== [Ve.a.StrengthTraining, Ve.a.Cardio, Ve.a.Pilates, Ve.a.Yoga].indexOf(e)
                },
                hasStartOrEndPoints: function() {
                    return Object(at.a)(this.dataModel.currentActivityModel.activity.has("startLongitude"), this.dataModel.currentActivityModel.activity.has("startLatitude"), this.dataModel.currentActivityModel.activity.has("endLongitude"), this.dataModel.currentActivityModel.activity.has("endLatitude"))
                },
                renderActivityBadges: function() {
                    this.reactActivityBadges = new de.a,
                    this.reactActivityBadges.renderComponent(window.ActivityBadges, this.$(".react-activity-badges")[0], {
                        activityId: this.dataModel.activityModel.activityId,
                        viewerSocialProfile: z.a.toJSON(),
                        displayName: this.dataModel.activityModel.activity.get("userInfoDto").displayname
                    })
                },
                getMTBMapLayers: function() {
                    var e = []
                      , t = !1
                      , i = this.isMountainBikeActivity();
                    return this.dataModel.activityModel.activity.get("summaryDTO").avgFlow && (t = this.dataModel.userMapSetting.getCustom("FLOW" + (i ? "-MB" : ""), i),
                    e.push({
                        value: "FLOW",
                        text: u.a.localize("label_flow"),
                        selected: t,
                        func: function(e) {
                            e ? this.activityMapView.addFlowLayer() : this.activityMapView.removeFlowLayer()
                        }
                        .bind(this)
                    })),
                    this.dataModel.activityModel.activity.get("summaryDTO").grit && e.push({
                        value: "GRIT",
                        text: u.a.localize("label_grit"),
                        selected: this.dataModel.userMapSetting.getCustom("GRIT" + (i ? "-MB" : ""), !!i && !t),
                        func: function(e) {
                            e ? this.activityMapView.addGritLayer() : this.activityMapView.removeGritLayer()
                        }
                        .bind(this)
                    }),
                    e
                },
                setMTBMapLayers: function() {
                    var e = !1
                      , t = this.isMountainBikeActivity();
                    this.dataModel.activityModel.activity.get("summaryDTO").avgFlow && this.dataModel.userMapSetting.getCustom("FLOW" + (t ? "-MB" : ""), t) && (e = !0,
                    this.activityMapView.addFlowLayer()),
                    this.dataModel.activityModel.activity.get("summaryDTO").grit && this.dataModel.userMapSetting.getCustom("GRIT" + (t ? "-MB" : ""), !!t && !e) && (!0,
                    this.activityMapView.addGritLayer())
                },
                renderActivityDetailSmallStats: function() {
                    this.activityDetailSmallStats = new tt.a({
                        el: this.$("#react-activitySmallStats"),
                        activity: this.dataModel.activityModel.activity.toJSON(),
                        repCountingActivity: this.dataModel.activityModel.repCountingActivity,
                        indoorClimbDifficulty: this.dataModel.indoorClimbDifficulty.toJSON()
                    }),
                    this.activityDetailSmallStats.render()
                },
                isPilatesActivity: function(e) {
                    var t = e || this.dataModel.activityModel;
                    return Fe.a.isPilatesActivity(t.activity.get("activityTypeDTO").typeKey)
                },
                isYogaActivity: function(e) {
                    var t = e || this.dataModel.activityModel;
                    return Fe.a.isYogaActivity(t.activity.get("activityTypeDTO").typeKey)
                },
                isMountainBikeActivity: function() {
                    var e = this.dataModel.activityModel;
                    return Fe.a.isMountainBikeActivity(e.activity.get("activityTypeDTO").typeKey)
                },
                includeActivityIntoPowerCurve: function(e) {
                    a.ajax({
                        method: "POST",
                        url: He.default.url("/proxy/activity-service/activity/" + e + "/powerCurve"),
                        contentType: "application/json",
                        data: JSON.stringify({
                            excludeFromPowerCurveReports: !1
                        }),
                        beforeSend: function(e) {
                            e.setRequestHeader("X-HTTP-Method-Override", "PATCH")
                        },
                        success: function() {
                            this.dataModel.powerCurve = new $e.a({
                                activityId: e
                            });
                            var t = new Be.a;
                            t.addModel({
                                model: this.dataModel.powerCurve,
                                required: !0
                            }),
                            this.listenTo(t, Be.a.Events.SYNCHRONIZED, function() {
                                this.onPowerCurveTabClicked(0)
                            }),
                            t.bind(Be.a.Events.SYNCHRONIZE_FAILED, function() {
                                this.trigger(ct.Error, u.a.localize("please_try_again_later"))
                            }, this),
                            t.fetchModels()
                        }
                        .bind(this),
                        error: function(e, t, i) {}
                    })
                },
                getParentType: function() {
                    return this.dataModel.activityTypes.getParentType(this.dataModel.currentActivityModel.activity.get("activityTypeDTO").typeKey)
                },
                canShowAdvancedActivityEdit: function() {
                    var e = this.dataModel.activityModel.activity
                      , t = this.dataModel.activityModel.activityDetails;
                    return this.advancedActivityEditPreference.featureEnabled() && this.viewerIsOwner() && !e.get("metadataDTO").manualActivity && e.get("metadataDTO").fileFormat && "fit" === e.get("metadataDTO").fileFormat.formatKey && Ue.b.isActivityTypeAdvancedActivitySupported(e) && Ue.b.hasAdvancedEditChartData(e, t)
                },
                canShowActivityRestore: function() {
                    var e = this.dataModel.activityModel.activity;
                    return this.advancedActivityEditPreference.featureEnabled() && e.get("metadataDTO").trimmed
                },
                showSong: function(e) {
                    return e.has("artist") || e.has("album") || e.has("title") && "OTHER" !== e.get("title").toUpperCase() && "ALL" !== e.get("title").toUpperCase()
                },
                restoreToOriginal: function() {
                    var e = this;
                    new ce.a({
                        modalTitle: u.a.localize("activity_restore_question"),
                        message: u.a.localize("activity_restore_text"),
                        confirmationTextKey: "activity_restore_label",
                        cancelTextKey: "button_cancel",
                        onSaveButtonClicked: function() {
                            return e.restore(),
                            !0
                        }
                    }).render()
                },
                restore: function() {
                    var e = Object(s.a)(r.a.mark(function e() {
                        var t, i, a, n = this;
                        return r.a.wrap(function(e) {
                            for (; ; )
                                switch (e.prev = e.next) {
                                case 0:
                                    return t = this.dataModel.activityModel.activity,
                                    this.hideFailureMessage(),
                                    this.showSpinner(!0, u.a.localize("activity_wait_message")),
                                    Ue.b.pushAnalyticsEvent("TrimActivityRestore"),
                                    e.prev = 4,
                                    e.next = 7,
                                    h.a.put("/activity-service/activity/".concat(t.get("activityId"), "/reconstruct"), {});
                                case 7:
                                    202 === (i = e.sent).status ? (a = new it.a(i.headers.location,i.headers["location-in-milliseconds"]),
                                    this.listenTo(a.channel, it.a.Events.Success, function() {
                                        var e = document.URL;
                                        e = e.substring(0, e.indexOf("?")),
                                        location.replace(e)
                                    }, this),
                                    this.listenTo(a.channel, it.a.Events.Timeout, function() {
                                        var e = new ce.a({
                                            modalTitle: u.a.localize("advanced_activity_restore_inprogress_modal_title"),
                                            message: u.a.localize("advanced_activity_restore_inprogress_exceeded"),
                                            confirmationTextKey: "ok",
                                            showCancelButton: !1,
                                            closable: !1,
                                            onSaveButtonClicked: function() {
                                                return He.default.navigate("/activities", null, {
                                                    trigger: !0
                                                }),
                                                !0
                                            }
                                        });
                                        n.showSpinner(!1),
                                        e.render()
                                    }),
                                    this.listenTo(a.channel, it.a.Events.Error, function() {
                                        n.showSpinner(!1),
                                        n.showFailureMessage(u.a.localize("advanced_activity_restore_error"))
                                    }),
                                    a.poll()) : (this.showSpinner(!1),
                                    this.showFailureMessage(u.a.localize("advanced_activity_save_error"))),
                                    e.next = 15;
                                    break;
                                case 11:
                                    e.prev = 11,
                                    e.t0 = e.catch(4),
                                    this.showSpinner(!1),
                                    this.showFailureMessage(u.a.localize("advanced_activity_restore_error"));
                                case 15:
                                case "end":
                                    return e.stop()
                                }
                        }, e, this, [[4, 11]])
                    }));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }(),
                showSpinner: function(e, t) {
                    e ? (this.$(".spinner-container .h5").text(t),
                    this.$(".spinner-container").show()) : this.$(".spinner-container").hide()
                },
                displayNotification: function(e, t) {
                    this.restoreURL(),
                    (new de.a).renderComponent(nt.a, this.$("#notification-placeholder")[0], {
                        messageKey: e,
                        autoClose: t,
                        renderTimeoutVal: 2e3,
                        onClose: this.onCloseNotification.bind(this)
                    })
                },
                restoreURL: function() {
                    var e = location.href.substring(0, location.href.indexOf("?"));
                    He.default.replaceNavigationURL(e)
                },
                onRestoreClicked: function(e) {
                    e.preventDefault(),
                    this.onCloseNotification(),
                    this.restore()
                },
                onCloseNotification: function() {
                    this.$("#notification-placeholder").remove()
                },
                pushAnalyticsEvent: function(e) {
                    Ne.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: e
                    })
                },
                exportSplitsToCSV: function() {
                    this.activitySplitsView.exportToCSV()
                }
            })
        }
        .call(this, i(10), i(10))
    },
    4140: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a).a.Collection.extend({
            url: function() {
                return "/proxy/personalrecord-service/personalrecord/prs/" + this.displayName
            },
            initialize: function(e, t) {
                this.displayName = t.displayName
            }
        });
        t.a = n
    },
    4141: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a);
        t.a = n.a.Collection.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/connectIQDisplayInfo"
            },
            initialize: function(e, t) {
                if ("undefined" === typeof t.activityId)
                    throw "ConnectIQPresentationData requires an activity ID";
                this.activityId = t.activityId
            }
        })
    },
    4142: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            url: "/web-data/thirdPartyUploads/ThirdPartyUploads.json"
        })
    },
    4143: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a).a.Model.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.get("activityId") + "/weather"
            },
            parse: function(e) {
                return e.temp = this.convertToCelsius(e.temp),
                e.apparentTemp = this.convertToCelsius(e.apparentTemp),
                e
            },
            convertToCelsius: function(e) {
                return null != e ? 5 * (e - 32) / 9 : null
            }
        });
        t.a = n
    },
    4144: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a);
            t.a = n.a.Model.extend({
                urlRoot: function() {
                    return "/proxy/userpreference-service/"
                },
                idAttribute: "key",
                initialize: function(e) {
                    this.set({
                        key: "ActivityDetails.charts.hidden"
                    }, {})
                },
                getHiddenCharts: function() {
                    var t = [];
                    if (this.get("value")) {
                        var i = this.get("value").split("|");
                        e.each(i, function(e) {
                            e && "EMPTY" !== e && t.push(e)
                        })
                    } else
                        this.set("value", "EMPTY");
                    return t
                },
                hideChart: function(e) {
                    if (e && !this.isChartFound(e)) {
                        var t = this.get("value");
                        "EMPTY" === t && (t = ""),
                        this.set("value", t + e + "|")
                    }
                },
                showChart: function(e) {
                    if (e && this.isChartFound(e)) {
                        var t = this.getHiddenCharts()
                          , i = null
                          , a = t.indexOf(e);
                        t.splice(a, 1),
                        "|" !== (i = t.join("|")).slice(-1) && "" !== i.trim() && (i += "|"),
                        this.set("value", 0 === i.trim().length ? "EMPTY" : i.trim())
                    }
                },
                shouldChartBeHidden: function(e) {
                    return this.isChartFound(e)
                },
                isChartFound: function(e) {
                    return this.getHiddenCharts().indexOf(e) > -1
                }
            })
        }
        ).call(this, i(7))
    },
    4145: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            url: "/web-data/activity-charts-order/activity-charts-order-master.json"
        })
    },
    4146: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = "INTERVAL_ACTIVE"
          , r = i.n(a).a.Collection.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/split_summaries"
            },
            initialize: function(e, t) {
                if ("undefined" === typeof t.activityId)
                    throw "SplitSummaries requires an activity ID";
                this.activityId = t.activityId
            },
            parse: function(e) {
                return e ? e.splitSummaries : []
            },
            getActiveIntervalSummary: function() {
                return this.models.find(function(e) {
                    return e.get("splitType") === n
                })
            }
        });
        t.a = r
    },
    4147: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(101)
              , c = i(2507)
              , h = i(4148)
              , d = i.n(h)
              , p = {
                NOTE_SAVED: "NOTE_SAVED"
            }
              , u = s.a.View.extend({
                template: n.a.template(d.a),
                attributes: {
                    class: "border-wrapper note-container clearfix"
                },
                events: {
                    "click .add-note-button": "onSaveClicked",
                    "click .edit-note-button": "onEditClicked",
                    "focus textarea": "onTextareaFocus",
                    "blur textarea": "onTextareaBlur",
                    "keyup textarea": "onTextareaKeyup",
                    "click .cancel-note-button": "onCancelClicked",
                    "click .delete-note-button": "onDeleteClicked"
                },
                initialize: function(e) {
                    if (!e.model)
                        throw "A model is required!";
                    return this.containerClass = e.containerClass || "",
                    this.positionOfControls = e.positionOfControls || "bottom",
                    this.hasDeleteTextControl = e.hasDeleteTextControl || !1,
                    this.hasCancelButton = e.hasCancelButton || !1,
                    this.hasHeader = e.hasHeader || !1,
                    this.headerText = e.headerText || "notes",
                    this.placeholderText = e.placeholderText || "",
                    this.charMaxLength = e.charMaxLength || "4000",
                    this.isNoteDisabled = e.isNoteDisabled,
                    this.canEditNote = e.canEditNote,
                    this.showEditLink = this.isNoteDisabled && this.canEditNote,
                    this.autoExtendHeight = e.autoExtendHeight || !0,
                    this.maxHeight = e.maxHeight || 250,
                    this.modelAttribute = e.modelAttribute || "description",
                    this.description = e.model.get(this.modelAttribute) || "",
                    this.hasWorkoutExecutionScore = e.hasWorkoutExecutionScore,
                    this.setAttributes(),
                    this
                },
                setAttributes: function() {
                    this.containerClass && this.$el.addClass(this.containerClass)
                },
                render: function() {
                    return this.$el.empty(),
                    this.$el.html(this.template({
                        Localizer: o.a,
                        placeholderText: this.placeholderText,
                        charMaxLength: this.charMaxLength,
                        isNoteDisabled: this.isNoteDisabled,
                        canEditNote: this.canEditNote,
                        description: this.description,
                        showEditLink: this.showEditLink,
                        positionOfControls: this.positionOfControls,
                        hasDeleteTextControl: this.hasDeleteTextControl,
                        hasCancelButton: this.hasCancelButton,
                        hasHeader: this.hasHeader,
                        headerText: this.headerText
                    })),
                    this.maxHeight && this.resizeTextarea(),
                    this.hasWorkoutExecutionScore && this.hasWorkoutExecutionScore > 0 && this.displayExecutionScore(),
                    this
                },
                destroy: function() {
                    this.off()
                },
                onSaveClicked: function(e) {
                    e.preventDefault();
                    var t = this.$("textarea")
                      , i = t.val();
                    if (this.hasDescriptionChanged(t) && this.model) {
                        this.description = i,
                        this.model.set(this.modelAttribute, i),
                        this.model.save();
                        var a = i.length > 0;
                        this.showEditLink = a,
                        this.isNoteDisabled = a,
                        this.trigger(p.NOTE_SAVED)
                    }
                    this.render()
                },
                onCancelClicked: function(e) {
                    e.preventDefault(),
                    this.isNoteDisabled = !0,
                    this.showEditLink = !0,
                    this.toggleTextareaDisplayState("cancel"),
                    this.toggleActionButtons("edit"),
                    this.render()
                },
                onDeleteClicked: function(e) {
                    e.preventDefault();
                    var t = this.$("textarea");
                    this.description = "",
                    this.hasDescriptionChanged(t) && this.model && (this.model.set(this.modelAttribute, this.description),
                    this.model.save(),
                    this.isNoteDisabled = !0,
                    this.showEditLink = !0,
                    this.trigger(p.NOTE_SAVED)),
                    this.render()
                },
                onEditClicked: function(e) {
                    e.preventDefault();
                    var t = this.$("textarea");
                    t && t.length > 0 && this.toggleTextareaDisplayState("default"),
                    this.toggleActionButtons("save"),
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                onTextareaFocus: function(t) {
                    t.stopPropagation();
                    var i = e(t.currentTarget);
                    this.canSaveDescription(i) && this.canEditNote && (this.toggleActionButtons("save"),
                    this.toggleTextareaDisplayState("default")),
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                onTextareaBlur: function(t) {
                    t.stopPropagation(),
                    this.isDescriptionOriginallyEmpty(e(t.currentTarget)) && this.toggleActionButtons("default")
                },
                onTextareaKeyup: function() {
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                toggleActionButtons: function(e) {
                    var t, i = "none", a = "none";
                    switch (e) {
                    case "save":
                        i = "inline-block",
                        t = "block";
                        break;
                    case "edit":
                        a = "inline-block"
                    }
                    this.$(".delete-note-button").css({
                        display: a
                    }),
                    this.$(".edit-note-button").css({
                        display: a
                    }),
                    this.$(".add-note-button-wrapper").css({
                        display: t
                    }),
                    this.$(".add-note-button").css({
                        display: i
                    }),
                    this.$(".cancel-note-button").css({
                        display: i
                    })
                },
                toggleTextareaDisplayState: function(e) {
                    var t = this.$("textarea");
                    if (t)
                        switch (e) {
                        case "cancel":
                        case "save":
                            t.attr({
                                readonly: "readonly",
                                disabled: "disabled"
                            }),
                            t.addClass("read-only");
                            break;
                        default:
                            t.removeAttr("readonly"),
                            t.removeAttr("disabled"),
                            t.removeClass("read-only")
                        }
                    this.maxHeight && this.resizeTextarea()
                },
                hasDescriptionChanged: function(e) {
                    return !!(e = e || this.$("textarea")) && e.val() !== this.description
                },
                isDescriptionOriginallyEmpty: function(e) {
                    return !!(e = e || this.$("textarea")) && (0 === e.val().length && 0 === this.description.length)
                },
                isTextareaDisabled: function(e) {
                    return !(e = e || this.$("textarea")) || !this.$("textarea").attr("disabled")
                },
                canSaveDescription: function(e) {
                    return !(!(e = e || this.$("textarea")) || !this.isTextareaDisabled(e) || !this.hasDescriptionChanged(e) && !this.isDescriptionOriginallyEmpty(e))
                },
                canResizeTextarea: function() {
                    var e = this.$("textarea");
                    return !(!this.autoExtendHeight || "250px" === e.css("height"))
                },
                resizeTextarea: function() {
                    var e = this.$("textarea");
                    return e && e.prop("scrollHeight") > 70 && e.css({
                        height: this.maxHeight + "px"
                    }),
                    !0
                },
                updatePlaceholderText: function(e) {
                    e && this.$("#noteTextarea").attr("placeholder", o.a.localize(e))
                },
                displayExecutionScore: function() {
                    (new l.a).renderComponent(c.a, this.$("#executionScore")[0], {
                        score: this.hasWorkoutExecutionScore
                    })
                }
            });
            u.Events = p,
            t.a = u
        }
        ).call(this, i(10))
    },
    4148: function(e, t) {
        e.exports = '<% if (positionOfControls === \'top\' && canEditNote) { %>\n<div class="pull-right">\n    <a href="#" class="edit-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'edit\') %></a>\n    <% if (hasDeleteTextControl) { %>\n        &nbsp;&nbsp;&nbsp;&nbsp;\n        <a href="#" class="delete-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'button_delete\') %></a>\n    <% } %>\n</div>\n<% } %>\n\n<div id="executionScore"></div>\n\n<% if (hasHeader) { %>\n    <h3><%- Localizer.localize(headerText) %></h3>\n<% } %>\n<textarea id="noteTextarea" <% if (isNoteDisabled) { print(\'disabled="disabled"\'); print(\'readonly="readonly"\'); print(\'class="read-only"\');} %>\n    rows="3" tabindex="1" spellcheck="false" <% if (charMaxLength) { print(\'maxlength="\' + charMaxLength + \'"\'); } %>\n    placeholder="<%- placeholderText ? Localizer.localize(placeholderText) : \'\' %>"><%- description ? description : \'\' %></textarea>\n\n<% if (canEditNote) { %>\n    <% if (positionOfControls === \'bottom\') { %>\n        <div class="pull-right">\n        <a href="#" class="edit-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>" tabindex="2"><%- Localizer.localize(\'edit\') %></a>\n        <% if (hasDeleteTextControl) { %>\n            &nbsp;&nbsp;&nbsp;&nbsp;\n            <a href="#" class="delete-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'button_delete\') %></a>\n        <% } %>\n        </div>\n    <% } %>\n    <div class="add-note-button-wrapper pull-right" style="display: <%- showEditLink ? \'none\' : \'block\' %>">\n        <% if (hasCancelButton) { %>\n        <button tabindex="0" class="btn btn-small btn-secondary cancel-note-button colored"><%- Localizer.localize(\'button_cancel\') %></button>\n        &nbsp;\n        <% } %>\n        <button class="btn btn-small add-note-button" type="submit" tabindex="2"><%- Localizer.localize(\'save\') %></button>\n    </div>\n<% } %>\n'
    },
    4149: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(13)
              , c = i(2195)
              , h = i(2196)
              , d = i(4150)
              , p = i.n(d)
              , u = {
                NOTE_SAVED: "NOTE_SAVED"
            }
              , m = s.a.View.extend({
                template: n.a.template(p.a),
                attributes: {
                    class: "border-wrapper note-container clearfix"
                },
                events: {
                    "click .add-note-button": "onSaveClicked",
                    "click .edit-note-button": "onEditClicked",
                    "focus textarea": "onTextareaFocus",
                    "blur textarea": "onTextareaBlur",
                    "keyup textarea": "onTextareaKeyup",
                    "click .cancel-note-button": "onCancelClicked",
                    "click .delete-note-button": "onDeleteClicked"
                },
                initialize: function(e) {
                    if (!e.model)
                        throw "A model is required!";
                    return this.Latitude = e.Latitude,
                    this.Lat = this.setLatLonFormat(e.model.get(this.Latitude)),
                    this.Longitude = e.Longitude,
                    this.Lon = this.setLatLonFormat(e.model.get(this.Longitude)),
                    this.hasLatLong = !(!this.Lat || !this.Lon),
                    this.containerClass = e.containerClass || "",
                    this.positionOfControls = e.positionOfControls || "bottom",
                    this.hasDeleteTextControl = e.hasDeleteTextControl || !1,
                    this.hasCancelButton = e.hasCancelButton || !1,
                    this.headerText = e.headerText,
                    this.isNoteDisabled = e.isNoteDisabled,
                    this.canEditNote = e.canEditNote,
                    this.placeholderText = e.placeholderText || "",
                    this.charMaxLength = e.charMaxLength || "4000",
                    this.showEditLink = this.isNoteDisabled && this.canEditNote,
                    this.autoExtendHeight = e.autoExtendHeight || !0,
                    this.maxHeight = e.maxHeight || 250,
                    this.elementId = "diveEntryExit_" + Math.floor(1e3 * Math.random()),
                    this.setAttributes(),
                    this
                },
                setLatLonFormat: function(e) {
                    return e ? e.toFixed(6) : e
                },
                setAttributes: function() {
                    this.containerClass && this.$el.addClass(this.containerClass)
                },
                render: function() {
                    return this.$el.empty(),
                    this.$el.html(this.template({
                        Localizer: o.a,
                        Personalizer: l.a,
                        placeholderText: this.placeholderText,
                        charMaxLength: this.charMaxLength,
                        isNoteDisabled: this.isNoteDisabled,
                        canEditNote: this.canEditNote,
                        showEditLink: this.showEditLink,
                        positionOfControls: this.positionOfControls,
                        hasDeleteTextControl: this.hasDeleteTextControl,
                        hasCancelButton: this.hasCancelButton,
                        headerText: this.headerText,
                        hasLatLong: this.hasLatLong,
                        Latitude: this.Lat,
                        Longitude: this.Lon,
                        elementId: this.elementId
                    })),
                    this.maxHeight && this.resizeTextarea(),
                    this.validator = new c.a({
                        element: this.$("textarea")
                    }),
                    this
                },
                destroy: function() {
                    this.off()
                },
                onSaveClicked: function(e) {
                    e.preventDefault();
                    var t = this.$("textarea").val().replace(/\s/g, "")
                      , i = h.a.parseLatLngString(t);
                    if (!this.validator.validateInputNow()) {
                        this.Lat = i.lat || 0 === i.lat ? i.lat.toString() : null,
                        this.Lon = i.lng || 0 === i.lng ? i.lng.toString() : null,
                        this.model.set(this.Latitude, this.Lat),
                        this.model.set(this.Longitude, this.Lon),
                        this.model.save();
                        var a = t.length > 0;
                        this.showEditLink = a,
                        this.isNoteDisabled = a,
                        this.trigger(u.NOTE_SAVED)
                    }
                    this.render()
                },
                onCancelClicked: function(e) {
                    e.preventDefault(),
                    this.isNoteDisabled = !0,
                    this.showEditLink = !0,
                    this.toggleTextareaDisplayState("cancel"),
                    this.toggleActionButtons("edit"),
                    this.render()
                },
                onDeleteClicked: function(e) {
                    e.preventDefault(),
                    this.Lat = null,
                    this.Lon = null,
                    this.model.set(this.Latitude, this.Lat),
                    this.model.set(this.Longitude, this.Lon),
                    this.model.save(),
                    this.isNoteDisabled = !0,
                    this.showEditLink = !0,
                    this.trigger(u.NOTE_SAVED),
                    this.render()
                },
                onEditClicked: function(e) {
                    e.preventDefault();
                    var t = this.$("textarea");
                    t && t.length > 0 && this.toggleTextareaDisplayState("default"),
                    this.toggleActionButtons("save"),
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                onTextareaFocus: function(t) {
                    t.stopPropagation();
                    var i = e(t.currentTarget);
                    this.canSaveDescription(i) && this.canEditNote && (this.toggleActionButtons("save"),
                    this.toggleTextareaDisplayState("default")),
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                onTextareaKeyup: function() {
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                toggleActionButtons: function(e) {
                    var t = "none"
                      , i = "none"
                      , a = "none";
                    switch (e) {
                    case "save":
                        t = "inline-block",
                        a = "block";
                        break;
                    case "edit":
                        i = "inline-block"
                    }
                    this.$(".delete-note-button").css({
                        display: i
                    }),
                    this.$(".edit-note-button").css({
                        display: i
                    }),
                    this.$(".add-note-button-wrapper").css({
                        display: a
                    }),
                    this.$(".add-note-button").css({
                        display: t
                    }),
                    this.$(".cancel-note-button").css({
                        display: t
                    })
                },
                toggleTextareaDisplayState: function(e) {
                    var t = this.$("textarea");
                    if (t)
                        switch (e) {
                        case "cancel":
                        case "save":
                            t.attr({
                                readonly: "readonly",
                                disabled: "disabled"
                            }),
                            t.addClass("read-only");
                            break;
                        default:
                            t.removeAttr("readonly"),
                            t.removeAttr("disabled"),
                            t.removeClass("read-only")
                        }
                    this.maxHeight && this.resizeTextarea()
                },
                isTextareaDisabled: function(e) {
                    return !(e = e || this.$("textarea")) || !this.$("textarea").attr("disabled")
                },
                canSaveDescription: function(e) {
                    return !(!(e = e || this.$("textarea")) || !this.isTextareaDisabled(e))
                },
                canResizeTextarea: function() {
                    var e = this.$("textarea");
                    return !(!this.autoExtendHeight || "250px" === e.css("height"))
                },
                resizeTextarea: function() {
                    var e = this.$("textarea");
                    return e && e.prop("scrollHeight") > 70 && e.css({
                        height: this.maxHeight + "px"
                    }),
                    !0
                },
                updatePlaceholderText: function(e) {
                    e && this.$("#noteTextarea").attr("placeholder", o.a.localize(e))
                }
            });
            m.Events = u,
            t.a = m
        }
        ).call(this, i(10))
    },
    4150: function(e, t) {
        e.exports = '<% if (positionOfControls === \'top\' && canEditNote) { %>\n<div class="pull-right">\n    <a href="#" class="edit-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'edit\') %></a>\n    <% if (hasDeleteTextControl) { %>\n        &nbsp;&nbsp;&nbsp;&nbsp;\n        <a href="#" class="delete-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'button_delete\') %></a>\n    <% } %>\n</div>\n<% } %>\n\n\x3c!-- Display Lat / Long if it is provided --\x3e\n<% if (hasLatLong) { %>\n<h3><%- Localizer.localize(headerText) %></h3>\n<textarea id="<%- elementId %>" <% if (isNoteDisabled) { print(\'disabled="disabled"\'); print(\'readonly="readonly"\'); print(\'class="read-only"\');} %>\n    rows="3" tabindex="1" spellcheck="false" <% if (charMaxLength) { print(\'maxlength="\' + charMaxLength + \'"\'); } %>\n    placeholder="<%- placeholderText ? Localizer.localize(placeholderText) : \'\' %>"><%- Personalizer.personalizeLatLon(Latitude, Longitude) %></textarea>\n\n\x3c!-- Only Display the canEditNote if Lat / Long are provided --\x3e\n    <% if (canEditNote) { %>\n        <% if (positionOfControls === \'bottom\') { %>\n            <div class="pull-right">\n            <a href="#" class="edit-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>" tabindex="2"><%- Localizer.localize(\'edit\') %></a>\n            <% if (hasDeleteTextControl) { %>\n                &nbsp;&nbsp;&nbsp;&nbsp;\n                <a href="#" class="delete-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'button_delete\') %></a>\n            <% } %>\n            </div>\n        <% } %>\n        <div class="add-note-button-wrapper pull-right" style="display: <%- showEditLink ? \'none\' : \'block\' %>">\n            <% if (hasCancelButton) { %>\n            <button tabindex="0" class="btn btn-small btn-secondary cancel-note-button colored"><%- Localizer.localize(\'button_cancel\') %></button>\n            &nbsp;\n            <% } %>\n            <button class="btn btn-small add-note-button" type="submit" tabindex="2"><%- Localizer.localize(\'save\') %></button>\n        </div>\n    <% } %>\n<% } %>'
    },
    4151: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(2)
              , n = i(14)
              , r = i(7)
              , s = i.n(r)
              , o = i(8)
              , l = i.n(o)
              , c = i(4)
              , h = i(13)
              , d = i(64)
              , p = i(37)
              , u = i(1239)
              , m = i(1365)
              , g = i(1541)
              , f = i(4152)
              , v = i(4153)
              , y = i(4154)
              , A = i(4155)
              , _ = (i(4156),
            i(1246))
              , b = i(1826)
              , C = i(4158)
              , w = i(4159)
              , x = i(4160)
              , S = i(4161)
              , T = i(2203)
              , E = i(2204)
              , L = i(2205)
              , k = i(4162)
              , P = i(4163)
              , z = i(4164)
              , I = i(4165)
              , D = i(2206)
              , M = i(4166)
              , B = i(4167)
              , O = i(4168)
              , R = i(4169)
              , N = i(4170)
              , V = i(4171)
              , F = i(4172)
              , G = i(2207)
              , H = i(2208)
              , U = i(4173)
              , Q = i(4174)
              , K = i(4175)
              , W = i(4176)
              , Y = i(4177)
              , j = i(4178)
              , $ = i(1738)
              , Z = i(4179)
              , q = i(4180)
              , X = i(4181)
              , J = i(4182)
              , ee = i(4183)
              , te = i(4184)
              , ie = i(4185)
              , ae = i(4186)
              , ne = i(4187)
              , re = i(4188)
              , se = i(4189)
              , oe = i(4190)
              , le = i(4191)
              , ce = i(4192)
              , he = i(4193)
              , de = i(4194)
              , pe = i(4195)
              , ue = i(4196)
              , me = i(4198)
              , ge = i.n(me)
              , fe = i(4199)
              , ve = i.n(fe)
              , ye = i(102)
              , Ae = i(220)
              , _e = i(1286)
              , be = (i(1323),
            i(1227))
              , Ce = i.n(be)
              , we = i(4200)
              , xe = i.n(we)
              , Se = i(45);
            xe()(Ce.a);
            var Te = {
                DisplayWeightEntryPopup: "DisplayWeightEntryPopup",
                WeightChangedFromChart: "WeightChangedFromChart",
                AxisTypeChanged: "AxisTypeChanged",
                PowerRangeChanged: "PowerRangeChanged",
                ResetZoom: "ResetZoom"
            }
              , Ee = 17
              , Le = l.a.View.extend({
                template: s.a.template(ge.a),
                customizeMenuItemTemplate: s.a.template(ve.a),
                events: {
                    "click #btnResetZoom": "onResetZoomClicked",
                    "click .chart-toggle-options .time-toggle": "onTimeToggle",
                    "click .chart-toggle-options .distance-toggle": "onDistanceToggle",
                    "click .chart-toggle-options .length-rests-toggle": "onLengthRestsToggle",
                    "click .btn-customize-charts": "onCustomizeCharts",
                    "click .reorder-widgets": "onReorderWidgetsClicked",
                    "click .reorder-widgets-cancel": "onCancelReorderClicked",
                    "change .reOrderCheckbox input[type=checkbox]": "onToggleCheckbox",
                    "click .reorder-widgets-set": "onSetOrderClicked"
                },
                initialize: function(t) {
                    this.player = t.player,
                    this.charts = [],
                    this.overlayData = t.overlayData,
                    this.groundContactLastSelectedChart = t.groundContactLastSelectedChart,
                    this.verticalOscRatioLastSelectedChart = t.verticalOscRatioLastSelectedChart,
                    this.powerChartLastSelectedChart = t.powerChartLastSelectedChart,
                    this.isOwner = t.isOwner,
                    this.hasPowerData = t.hasPowerData,
                    this.activityHiddenChartsModel = t.activityHiddenChartsModel,
                    this.canDisplayVectorAirInfo = t.canDisplayVectorAirInfo,
                    this.jumps = t.jumps,
                    this.activityWorkouts = t.activityWorkouts,
                    this.activityChartsOrder = t.activityChartsOrder,
                    this.chartsOrderUserPref = t.chartsOrderUserPref,
                    this.activityTypes = t.activityTypes,
                    this.viewerIsAuthenticated = t.viewerIsAuthenticated,
                    this.tankSensor = t.tankSensor,
                    this.indoorClimbDifficulty = t.indoorClimbDifficulty,
                    e(document).on("click", function(e) {
                        this.$(".dropdown.page-dropdown").is(e.target) || 0 !== this.$(".dropdown.page-dropdown").has(e.target).length || 0 !== this.$(".open").has(e.target).length || this.$(".activity-charts-container .customize-charts-wrapper .dropdown").removeClass("open")
                    }
                    .bind(this))
                },
                setActivity: function(e, t, i, a, n, r) {
                    this.activityDetails = t,
                    this.activitySplits = i,
                    this.activityTypedSplits = a,
                    this.activitySplitSummaries = n,
                    this.model = e,
                    this.usersWeight = r,
                    s.a.each(this.charts, function(e) {
                        e && "function" === typeof e.destroy && e.destroy()
                    }),
                    this.charts = [],
                    this.chartSwitchers = [],
                    this.rendered = !1,
                    this.xAxisType = this.isLapSwimming() ? _.a.XAxisTypes.SwimDuration : _.a.XAxisTypes.Duration,
                    this.speedType = h.a.getSpeedTypeFromActivityType(this.model.get("activityTypeDTO").typeKey),
                    this.updatePlayerMinMax()
                },
                updatePlayerMinMax: function() {
                    var e, t, i;
                    this.xAxisType == _.a.XAxisTypes.Duration ? (i = (e = this.activityDetails.get("sumDuration"))[0],
                    t = e[e.length - 1]) : (e = this.activityDetails.get("sumDistance")) && (i = h.a.convertDistance(e[0], this.model.getActivityTypeKey()),
                    t = h.a.convertDistance(e[e.length - 1], this.model.getActivityTypeKey())),
                    this.player.set("xAxisType", this.xAxisType),
                    this.player.set("max", t || 0),
                    this.player.set("min", i || 0)
                },
                render: function() {
                    !this.rendered && this.activityDetails.get("sumDuration") && (this.customizeMenuSetup = !1,
                    this.updatePlayerMinMax(),
                    this.setDefaultChartsOrder(),
                    this.setOverlayCompareData(),
                    this.renderCharts(),
                    this.rendered = !0)
                },
                renderConnectIQView: function(e) {
                    this.setupConnectIQCharts(e)
                },
                setDefaultChartsOrder: function() {
                    var e = this.model.get("activityTypeDTO").parentTypeId;
                    this.parentActivityType = e === Ee ? this.model.getActivityTypeKey() : this.getActivityTypeByParentTypeId(e).typeKey,
                    this.defaultChartsOrder = this.activityChartsOrder.get(this.parentActivityType),
                    this.chartsOrderUserPrefJSON = this.chartsOrderUserPref ? JSON.parse(this.chartsOrderUserPref.getValue()) : null,
                    this.chartsOrderUserPrefJSON && this.chartsOrderUserPrefJSON[this.parentActivityType] && (this.defaultChartsOrder = this.chartsOrderUserPrefJSON[this.parentActivityType])
                },
                getAdditionalUserCharts: function() {
                    var e = this;
                    return this.charts.filter(function(t) {
                        return !e.defaultChartsOrder.some(function(e) {
                            return t.primarySeries[0].seriesKey === e.key
                        })
                    })
                },
                getActivityTypeByParentTypeId: function(e) {
                    return this.activityTypes.toJSON().find(function(t) {
                        return t.typeId === e
                    })
                },
                setOverlayCompareData: function() {
                    var e = this;
                    if (this.overlayData) {
                        this.overlayData.compareData = this.activityDetails.getData("directTimestamp", this.xAxisType, void 0, function(t) {
                            return "sumDistance" === e.xAxisType ? h.a.convertDistance(t) : t
                        })
                    }
                },
                findChartSwitcher: function(e) {
                    for (var t = 0; t < this.chartSwitchers.length; t++) {
                        var i = this.chartSwitchers[t];
                        if (s.a.find(i.chartViews, function(t) {
                            return t === e
                        }))
                            return i
                    }
                    return null
                },
                isInChartSwitcher: function(e) {
                    return !!this.findChartSwitcher(e)
                },
                isDuplicateChart: function(e, t) {
                    return t.find(function(t) {
                        return t.chart.primarySeries[0].seriesKey === e
                    })
                },
                toggleCharts: function(e, t) {
                    if (e) {
                        var i = s.a.find(this.charts, function(t) {
                            return t.primarySeries[0].seriesKey === e
                        })
                          , a = this.findChartSwitcher(i);
                        if (this.activityHiddenChartsModel) {
                            if (a) {
                                var n = a.getChartViews().map(function(e) {
                                    return e.primarySeries[0].seriesKey
                                });
                                t ? s.a.each(n, function(e) {
                                    this.activityHiddenChartsModel.showChart(e)
                                }, this) : s.a.each(n, function(e) {
                                    this.activityHiddenChartsModel.hideChart(e)
                                }, this)
                            } else
                                t ? this.activityHiddenChartsModel.showChart(e) : this.activityHiddenChartsModel.hideChart(e);
                            this.activityHiddenChartsModel.save()
                        }
                        a ? t ? a.show() : a.hide() : i && (t ? (i.isRendered() || i.render(),
                        i.show()) : i.hide())
                    }
                    this.pushCustomizeVisibleChartsAnalyticsEvents()
                },
                pushCustomizeVisibleChartsAnalyticsEvents: function() {
                    ye.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: "Customize List Of Visible Charts"
                    })
                },
                pushChartReorderToAnalytics: function() {
                    ye.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: "Reorder charts on an activity"
                    })
                },
                paceChartToggleToAnalytics: function() {
                    ye.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: "Toggle Lap Avaerage Pace view"
                    })
                },
                isLapSwimming: function() {
                    return this.model.isLapSwimming()
                },
                isFloorClimbing: function() {
                    return this.model.isFloorClimbing()
                },
                isDiving: function() {
                    return this.model.isDiving()
                },
                isBackcountrySki: function() {
                    return this.model.isBackcountrySki()
                },
                getAvailableSeries: function() {
                    var e = [];
                    return s.a.each(this.charts, function(t) {
                        e.push(t.primarySeries)
                    }),
                    e
                },
                initSortableWidgets: function() {
                    var e = this;
                    this.$(".sortable-checkboxes").sortable({
                        forcePlaceholderSize: !0,
                        handle: ".drag-handle",
                        tolerance: "pointer",
                        stop: function(t, i) {
                            var a = e.$(".sortable-checkboxes").sortable("refreshPositions").children();
                            e.newSortOrder = [],
                            s.a.each(a, function(t) {
                                var i = t.dataset.which;
                                i && e.newSortOrder.push(i),
                                e.$(".customize-charts-controls .reorder-widgets-set").prop("disabled", !1)
                            })
                        }
                    })
                },
                renderCharts: function() {
                    this.isLapSwimming() ? this.setupLapSwimmingCharts() : this.model.isParent() ? this.setupMultisportCharts() : this.setupCharts(),
                    this.renderChartActions(),
                    this.setXAxisSelectors(),
                    this.drawCharts()
                },
                setupLapSwimmingCharts: function() {
                    this.speedType == h.a.SpeedTypes.Speed ? this.speedChartView = this.addSeries(u.a.SwimSpeed, Q.a) : this.paceChartView = this.addSeries(u.a.SwimPace, K.a),
                    this.addSeries(u.a.SwimStrokes, W.a),
                    this.addSeries(u.a.SwimSwolf, Y.a),
                    this.addSeries(u.a.HeartRateLapSwimming, T.a),
                    this.addSeries(u.a.PerformanceCondition, ae.a)
                },
                setupMultisportCharts: function() {
                    this.addSeries(u.a.Elevation, b.a),
                    this.addSeries(u.a.HeartRate, T.a),
                    this.addSeries(u.a.PerformanceCondition, ae.a),
                    this.addSeries(u.a.Temperature, I.a)
                },
                addSeries: function(e, t, i) {
                    var a = []
                      , n = !1
                      , r = []
                      , o = null;
                    if (s.a.isArray(e) ? a = e : a.push(e),
                    s.a.each(a, function(e) {
                        (o = new e({
                            activitySummary: this.model,
                            activityDetails: this.activityDetails,
                            xAxisType: this.xAxisType,
                            usersWeight: this.usersWeight,
                            activitySplits: this.activitySplits,
                            activityTypedSplits: this.activityTypedSplits,
                            activitySplitSummaries: this.activitySplitSummaries,
                            activityWorkouts: this.activityWorkouts,
                            tankSensor: this.tankSensor,
                            props: i
                        })).hasData() && (n = !0,
                        r.push(o))
                    }, this),
                    n) {
                        var l = new t({
                            primarySeries: r,
                            playerModel: this.player,
                            showXAxisPlotLineLabel: !1,
                            xAxisType: this.xAxisType,
                            activityDetails: this.activityDetails,
                            activitySplits: this.activitySplits,
                            activitySummary: this.model,
                            overlayData: this.overlayData,
                            jumps: this.formatJumpData(this.jumps)
                        });
                        return l.on(_.a.Events.ON_CHART_ZOOMED, this.onChartZoomed, this),
                        l.on(_.a.Events.ON_ZOOM_RESET, this.resetZoom, this),
                        l.on(_.a.Events.ON_EXPANDED_CHART_CLICKED, this.onExpandedChartClicked, this),
                        l.on(_.a.Events.ON_CHART_FOCUSED, this.onChartGainedFocus, this),
                        l.on(_.a.Events.ON_RANGE_SELECTED, this.onPowerRangeSelected, this),
                        l.on(_.a.Events.ON_CHART_SELECTOR_TOGGLE, this.onChartSelectorToggle, this),
                        this.charts.push(l),
                        l
                    }
                },
                renderChartActions: function() {
                    var e = this.template({
                        Localizer: c.a,
                        availableCharts: this.getAvailableChartTitles(),
                        isLapSwimming: this.isLapSwimming(),
                        canDisplayDistanceTimeToggleView: this.canDisplayDistanceTimeToggleView(),
                        viewerIsAuthenticated: this.viewerIsAuthenticated
                    });
                    this.$el.html(e),
                    this.initSortableWidgets()
                },
                setXAxisSelectors: function() {
                    this.$timeToggleEl = this.$(".chart-toggle-options .time-toggle"),
                    this.$distanceToggleEl = this.$(".chart-toggle-options .distance-toggle"),
                    this.$lengthRestsToggleEl = this.$(".chart-toggle-options .length-rests-toggle"),
                    this.isLapSwimming() && (this.$timeToggleEl.css("border-radius", "0"),
                    this.$timeToggleEl.css("border-right", "1px solid #CCC"))
                },
                getAvailableChartTitles: function() {
                    var e = []
                      , t = this.getHiddenCharts();
                    return this.getAvailableCharts().forEach(function(i) {
                        var a = i.chart.chartTitle()
                          , n = i.chart.primarySeries[0].seriesKey
                          , r = {
                            title: a,
                            seriesKey: n,
                            hide: !1
                        };
                        t.find(function(e) {
                            return e === n
                        }) && (r.hide = !0),
                        e.push(r)
                    }),
                    e
                },
                getHiddenCharts: function() {
                    var e = [];
                    return this.activityHiddenChartsModel.get("value") && (e = this.activityHiddenChartsModel.get("value").split("|")),
                    e
                },
                getAvailableCharts: function() {
                    var e = []
                      , t = this;
                    if (this.additionalUserCharts = this.getAdditionalUserCharts(),
                    this.defaultChartsOrder.forEach(function(i) {
                        t.charts.forEach(function(a) {
                            var n = a.primarySeries[0].seriesKey;
                            n !== i.key || t.isInChartSwitcher(a) || t.isDuplicateChart(n, e) || e.push({
                                index: i.index,
                                chart: a
                            })
                        })
                    }),
                    this.chartSwitchers.forEach(function(i) {
                        var a = i.chartViews[0].primarySeries[0].seriesKey
                          , n = t.defaultChartsOrder.find(function(e) {
                            return a === e.key
                        });
                        n && e.push({
                            index: n.index,
                            chart: i.chartViews[0]
                        })
                    }),
                    this.additionalUserCharts && this.additionalUserCharts.length > 0) {
                        var i = this.defaultChartsOrder.length
                          , a = this.defaultChartsOrder[i - 1].index;
                        this.additionalUserCharts.forEach(function(t) {
                            e.push({
                                index: a,
                                chart: t
                            }),
                            a += 1
                        })
                    }
                    return s.a.sortBy(e, "index")
                },
                drawCharts: function(e) {
                    var t = []
                      , i = this;
                    e ? this.charts = e : (this.defaultChartsOrder.forEach(function(e) {
                        i.charts.forEach(function(i) {
                            i.primarySeries[0].seriesKey === e.key && t.push(i)
                        })
                    }),
                    this.charts = this.additionalUserCharts && this.additionalUserCharts.length > 0 ? [].concat(t, Object(n.a)(this.additionalUserCharts)) : t),
                    this.charts.forEach(function(e) {
                        e && (i.$("#charts-container").append(e.el),
                        e.shouldBeVisible() && i.shouldChartRender(e) && e.render())
                    }),
                    this.drawSwitcherCharts()
                },
                drawSwitcherCharts: function() {
                    this.renderPowerCharts(),
                    this.renderPPStartCharts(),
                    this.renderPPEndCharts(),
                    this.renderVerticalCharts(),
                    this.renderGroundContactCharts(),
                    this.canDisplayVectorAirInfo && this.renderVectorAirDragCdACharts(),
                    this.renderTankPressureCharts()
                },
                renderPowerCharts: function() {
                    var e = this.getSelectedPowerChart();
                    this.powerChartView && this.powerChartKgView && this.isOwner ? this.shouldChartRender(e) && e.isRendered() && e.render() : this.powerChartView && (this.shouldChartRender(this.powerChartView) && this.powerChartView.render(),
                    this.powerChartView.shouldBeVisible = function() {
                        return !0
                    }
                    )
                },
                renderPPStartCharts: function() {
                    this.ppStartChartView && this.peakPPStartChartView && this.shouldChartRender(this.ppStartChartView) && this.ppStartChartView.render()
                },
                renderPPEndCharts: function() {
                    this.ppEndChartView && this.peakPPEndChartView && this.shouldChartRender(this.ppEndChartView) && this.ppEndChartView.render()
                },
                renderVerticalCharts: function() {
                    if (this.verticalOscillationChartView && this.verticalRatioChartView) {
                        var e = this.getSelectedVerticalChart();
                        this.shouldChartRender(e) && e.isRendered() && e.render()
                    } else
                        this.verticalOscillationChartView && (this.shouldChartRender(this.verticalOscillationChartView) && this.verticalOscillationChartView.render(),
                        this.verticalOscillationChartView.shouldBeVisible = function() {
                            return !0
                        }
                        ),
                        this.verticalRatioChartView && this.shouldChartRender(this.verticalRatioChartView) && this.verticalRatioChartView.render()
                },
                renderGroundContactCharts: function() {
                    if (this.groundContactTimeChartView && this.groundContactTimeBalanceChartView) {
                        var e = this.getSelectedGroundContactChart();
                        this.shouldChartRender(e) && e.render()
                    } else
                        this.groundContactTimeChartView && this.shouldChartRender(this.groundContactTimeChartView) && (this.groundContactTimeChartView.render(),
                        this.groundContactTimeChartView.shouldBeVisible = function() {
                            return !0
                        }
                        ),
                        this.groundContactTimeBalanceChartView && this.shouldChartRender(this.groundContactTimeBalanceChartView) && this.groundContactTimeBalanceChartView.render()
                },
                renderVectorAirDragCdACharts: function() {
                    this.vectorAirDragCdaView && this.vectorAirDragWattsCdaView ? this.shouldChartRender(this.vectorAirDragCdaView) && this.vectorAirDragCdaView.render() : (this.vectorAirDragCdaView && (this.shouldChartRender(this.vectorAirDragCdaView) && this.vectorAirDragCdaView.render(),
                    this.vectorAirDragCdaView.shouldBeVisible = function() {
                        return !0
                    }
                    ),
                    this.vectorAirDragWattsCdaView && (this.shouldChartRender(this.vectorAirDragWattsCdaView) && this.vectorAirDragWattsCdaView.render(),
                    this.vectorAirDragWattsCdaView.shouldBeVisible = function() {
                        return !0
                    }
                    ))
                },
                renderTankPressureCharts: function() {
                    this.tankPressureChartViews && this.tankPressureChartViews.length && this.shouldChartRender(this.tankPressureChartViews[0]) && (this.tankPressureChartViews[0].render(),
                    this.tankPressureChartViews[0].shouldBeVisible = function() {
                        return !0
                    }
                    )
                },
                shouldChartRender: function(e) {
                    return !this.activityHiddenChartsModel || !this.activityHiddenChartsModel.shouldChartBeHidden(e.primarySeries[0].seriesKey)
                },
                setupCharts: function() {
                    var e = (new Date).getTime();
                    this.canShowClimbAscentChart() && this.addSeries(u.a.ClimbAscent, C.a, {
                        indoorClimbDifficulty: this.indoorClimbDifficulty
                    }),
                    this.addSeries([u.a.DiveDepth, u.a.DecoCeiling, u.a.SetPointDepth], x.a),
                    this.canDisplayElevationChart() && this.addSeries(u.a.Elevation, b.a),
                    this.canDisplayAscentDescentChart() && this.addSeries(u.a.Elevation, w.a),
                    this.setupSpeedPaceChartView(),
                    this.isBreathworkActivity() || this.addSeries(u.a.HeartRate, T.a),
                    this.addSeries(u.a.PerformanceCondition, ae.a),
                    this.canDisplayAscentChart() && this.addSeries(u.a.Ascent, ne.a),
                    this.addSeries(u.a.StrideLength, j.a),
                    this.setupCadenceChartView(),
                    this.addSeries(u.a.Position, Z.a),
                    this.setupPowerCharts(),
                    this.addSeries(u.a.LeftRightPowerBalance, B.a),
                    this.addSeries(u.a.LeftPCO, $.a),
                    this.addSeries(u.a.RightPCO, $.a),
                    this.setupPPStartCharts(),
                    this.setupPPEndCharts(),
                    this.setupVerticalCharts(),
                    this.setupGroundContactCharts(),
                    this.addSeries(u.a.RespirationRate, he.a),
                    this.isBreathworkActivity() && (this.addSeries(u.a.Stress, de.a),
                    this.addSeries(u.a.HeartRate, T.a)),
                    this.isYogaActivity() && this.addSeries(u.a.Stress, de.a),
                    this.addSeries(u.a.StrokeRate, ie.a),
                    this.addSeries(u.a.DistancePerStroke, te.a),
                    this.canDisplayVectorAirInfo && (this.setupVectorAirDragCdACharts(),
                    this.setupVectorAirWindSpeed()),
                    this.addSeries(u.a.Temperature, I.a),
                    this.setupTankCharts(),
                    this.addSeries(u.a.Gforce, N.a),
                    this.addSeries(u.a.Flow, ce.a),
                    this.addSeries(u.a.Grit, le.a);
                    var t = (new Date).getTime();
                    console && console.log("Chart load time: " + (t - e).toString() + "ms")
                },
                setupTankCharts: function() {
                    var e = this;
                    this.tankSensor && this.tankSensor.get("tankSensors") && this.tankSensor.get("tankSensors").length && (this.tankPressureChartViews = [],
                    this.tankSensor.get("tankSensors").forEach(function(t, i) {
                        e.tankPressureChartViews.push(e.addSeries(u.a.TankPressure, S.a, {
                            tankSensor: t
                        }))
                    }),
                    this.tankPressureChartViews.length > 1 && this.chartSwitchers.push(new ue.a({
                        titleKey: "label_tank_pressure",
                        chartViews: this.tankPressureChartViews,
                        activeChart: this.tankPressureChartViews[0],
                        shouldChartRender: this.shouldChartRender.bind(this)
                    })))
                },
                setupVectorAirDragCdACharts: function() {
                    this.vectorAirDragCdaView = this.addSeries(u.a.VectorAirDragCdA, re.a),
                    this.vectorAirDragWattsCdaView = this.addSeries(u.a.VectorAirDragWattsPerCdA, se.a),
                    this.vectorAirDragCdaView && this.vectorAirDragWattsCdaView && this.chartSwitchers.push(new ue.a({
                        chartViews: [this.vectorAirDragCdaView, this.vectorAirDragWattsCdaView],
                        activeChart: this.vectorAirDragCdaView
                    }))
                },
                setupVectorAirWindSpeed: function() {
                    this.addSeries(u.a.VectorAirWindSpeed, oe.a)
                },
                setupSpeedPaceChartView: function() {
                    switch (this.speedType) {
                    case h.a.SpeedTypes.Flying:
                    case h.a.SpeedTypes.Speed:
                    case h.a.SpeedTypes.RowingSpeed:
                        this.speedChartView = this.addSeries(u.a.Speed, E.a);
                        break;
                    case h.a.SpeedTypes.Pace:
                    case h.a.SpeedTypes.RowingPace:
                        this.setupPaceChartView();
                        break;
                    case h.a.SpeedTypes.SwimSpeed:
                        this.speedChartView = this.addSeries(u.a.OpenWaterSwimSpeed, G.a);
                        break;
                    case h.a.SpeedTypes.SwimPace:
                        this.paceChartView = this.addSeries(u.a.OpenWaterSwimPace, H.a);
                        break;
                    case h.a.SpeedTypes.FloorClimbingPace:
                        this.paceChartView = this.addSeries(u.a.FloorClimbingPace, k.a)
                    }
                },
                setupPaceChartView: function() {
                    this.paceChartView = this.addSeries(u.a.Pace, L.a),
                    this.lapAveragePaceChartView = this.addSeries(u.a.LapAveragePace, pe.a);
                    var e = this;
                    this.shouldRenderPaceChartSwitcher() ? this.paceChartView && this.lapAveragePaceChartView && this.chartSwitchers.push(new ue.a({
                        shouldChartRender: this.shouldChartRender.bind(this),
                        chartViews: [this.paceChartView, this.lapAveragePaceChartView],
                        activeChart: this.paceChartView,
                        preChartSelectionHandler: function(t) {
                            return t === e.lapAveragePaceChartView && e.paceChartToggleToAnalytics(),
                            !0
                        }
                    })) : this.addSeries(u.a.Pace, L.a)
                },
                setupCadenceChartView: function() {
                    this.speedType == h.a.SpeedTypes.Speed ? this.addSeries(u.a.BikeCadence, P.a) : this.speedType == h.a.SpeedTypes.Pace ? this.addSeries(u.a.RunCadence, z.a) : this.speedType == h.a.SpeedTypes.SwimPace && this.addSeries(u.a.OpenWaterSwimStrokes, U.a)
                },
                setupPowerCharts: function() {
                    this.powerChartView = this.addSeries(u.a.PowerWatts, D.a),
                    this.powerChartKgView = this.addSeries(u.a.PowerKg, M.a);
                    var e = this.getSelectedPowerChart()
                      , t = this;
                    this.powerChartView && this.powerChartKgView && this.isOwner ? (this.powerChartSwitcher = new ue.a({
                        shouldChartRender: this.shouldChartRender.bind(this),
                        chartViews: [this.powerChartView, this.powerChartKgView],
                        activeChart: e,
                        persistSelectedModel: this.powerChartLastSelectedChart,
                        preChartSelectionHandler: function(e) {
                            return !(!t.usersWeight && e === t.powerChartKgView) || (t.triggerWeightEntryPopup(this, e),
                            !1)
                        }
                    }),
                    this.chartSwitchers.push(this.powerChartSwitcher)) : this.charts = s.a.reject(this.charts, function(e) {
                        return e === this.powerChartKgView
                    }, this),
                    this.setProperPowerChartIfNoWeight(e)
                },
                setupPPStartCharts: function() {
                    this.ppStartChartView = this.addSeries([u.a.LeftPPStart, u.a.RightPPStart], q.a),
                    this.peakPPStartChartView = this.addSeries([u.a.LeftPeakPPStart, u.a.RightPeakPPStart], J.a),
                    this.ppStartChartView && this.peakPPStartChartView && this.chartSwitchers.push(new ue.a({
                        shouldChartRender: this.shouldChartRender.bind(this),
                        chartViews: [this.ppStartChartView, this.peakPPStartChartView],
                        activeChart: this.ppStartChartView
                    }))
                },
                setupPPEndCharts: function() {
                    this.ppEndChartView = this.addSeries([u.a.LeftPPEnd, u.a.RightPPEnd], X.a),
                    this.peakPPEndChartView = this.addSeries([u.a.LeftPeakPPEnd, u.a.RightPeakPPEnd], ee.a),
                    this.ppEndChartView && this.peakPPEndChartView && this.chartSwitchers.push(new ue.a({
                        shouldChartRender: this.shouldChartRender.bind(this),
                        chartViews: [this.ppEndChartView, this.peakPPEndChartView],
                        activeChart: this.ppEndChartView
                    }))
                },
                setupVerticalCharts: function() {
                    if (this.verticalOscillationChartView = this.addSeries(u.a.VerticalOscillation, O.a),
                    this.verticalRatioChartView = this.addSeries(u.a.VerticalRatio, R.a),
                    this.verticalOscillationChartView && this.verticalRatioChartView) {
                        var e = this.getSelectedVerticalChart();
                        this.chartSwitchers.push(new ue.a({
                            shouldChartRender: this.shouldChartRender.bind(this),
                            chartViews: [this.verticalOscillationChartView, this.verticalRatioChartView],
                            activeChart: e,
                            persistSelectedModel: this.verticalOscRatioLastSelectedChart
                        }))
                    }
                },
                setupGroundContactCharts: function() {
                    if (this.groundContactTimeChartView = this.addSeries(u.a.GroundContactTime, V.a),
                    this.groundContactTimeBalanceChartView = this.addSeries(u.a.GroundContactTimeBalance, F.a),
                    this.groundContactTimeChartView && this.groundContactTimeBalanceChartView) {
                        var e = this.getSelectedGroundContactChart();
                        this.chartSwitchers.push(new ue.a({
                            shouldChartRender: this.shouldChartRender.bind(this),
                            chartViews: [this.groundContactTimeChartView, this.groundContactTimeBalanceChartView],
                            activeChart: e,
                            persistSelectedModel: this.groundContactLastSelectedChart
                        }))
                    }
                },
                setupConnectIQCharts: function(e) {
                    var t, i, a, n, r = this.activityDetails.getConnectIQMeasurements();
                    if (r && (t = e.getVisibleAndSortedCollection(r, e.VisibilityArea.charts)),
                    t)
                        for (var o in t)
                            if (t[o]) {
                                n = t[o];
                                for (var l = 0, h = n.data.length; l < h; l += 1)
                                    if (n.data[l] && (i = s.a.find(n.fitContributionsJSON.datafields, function(e) {
                                        return e.id === n.data[l].developerFieldNumber
                                    }))) {
                                        a = this.getConnectIQSerie(n, i, l);
                                        var d = this.addSeries(a, _.a.extend({
                                            model: n,
                                            presentationData: i,
                                            primarySeriesType: a,
                                            fillColor: i["fill-color"],
                                            customHelpTemplate: e.getHelpTooltipTemplate(n),
                                            chartTitle: function() {
                                                return c.a.localize(this.model.getLocalizerString(this.presentationData["chart-title-key"]))
                                            }
                                        }));
                                        d && (this.$("#charts-container").append(d.el),
                                        d.render(),
                                        Ae.a.renderTooltips.call(d))
                                    }
                            }
                },
                getConnectIQSerie: function(e, t, i) {
                    var a = e.data[i].key
                      , n = m.a.extend({
                        name: a,
                        mainChartFilter: m.a.prototype.filterNulls,
                        defaultChartType: "line",
                        model: e,
                        presentationData: t,
                        seriesKey: a,
                        label: e.getLocalizerString(t["chart-title-key"]),
                        unit_key: e.getLocalizerString(t["unit-label-key"]),
                        formattingFunction: function(e) {
                            return this.presentationData && "number" === typeof this.presentationData.precision ? h.a.formatValueByPrecision(e, this.presentationData.precision) : e
                        },
                        chartColor: function() {
                            return this.presentationData["fill-color"]
                        }
                    });
                    return u.a[a] = n,
                    n
                },
                onAxisTypeChanged: function(e) {
                    this.xAxisType = e,
                    this.setOverlayCompareData(),
                    this.updatePlayerMinMax(),
                    s.a.each(this.charts, function(t) {
                        t.minX = null,
                        t.maxX = null,
                        t.setXAxisType(e),
                        t.shouldBeVisible() ? t.visible ? this.isInChartSwitcher(t) || this.shouldChartRender(t) && t.render() : this.shouldChartRender(t) && (t.render(),
                        t.show()) : t.hide()
                    }, this),
                    s.a.each(this.chartSwitchers, function(e) {
                        e.visible && e.show()
                    }),
                    e === _.a.XAxisTypes.SwimDistance && this.pushChangeXAxisToOverDistanceAnalyticsEvents(),
                    this.hideResetZoom(),
                    this.trigger(Te.AxisTypeChanged, this.xAxisType)
                },
                pushChangeXAxisToOverDistanceAnalyticsEvents: function() {
                    ye.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: "Change X-Axis To Over Distance"
                    })
                },
                onChartZoomed: function(e, t, i) {
                    s.a.each(this.charts, function(a) {
                        a != e && a.setExtremes(t, i)
                    }, this),
                    this.showResetZoom()
                },
                onChartGainedFocus: function(e) {
                    s.a.each(this.charts, function(t) {
                        t.clearXAxisPlotLineLabel(),
                        e === t ? (t.showXAxisPlotLineLabel = !0,
                        e.renderXAxisPlotLineLabel()) : t.showXAxisPlotLineLabel = !1
                    }, this)
                },
                onResetZoomClicked: function(e) {
                    e.preventDefault(),
                    s.a.each(this.charts, function(e) {
                        e.setChartRangeSelector(null, null, null, -1)
                    }, this),
                    this.resetZoom()
                },
                isTemperatureSeriesInGritOrFlow: function(e, t) {
                    return (e.primarySeries[0].name === u.a.Grit.prototype.name || e.primarySeries[0].name === u.a.Flow.prototype.name) && t.name === u.a.Temperature.prototype.name
                },
                onExpandedChartClicked: function(e) {
                    var t = this.getExpandedChartView(e)
                      , i = []
                      , a = this.getAvailableSeries();
                    s.a.each(a, function(t) {
                        var a = [];
                        (this.usersWeight || t[0].name !== u.a.PowerKg.prototype.name) && (s.a.each(t, function(t) {
                            this.isTemperatureSeriesInGritOrFlow(e, t) || a.push(t)
                        }, this),
                        a.length && i.push(a))
                    }, this);
                    var n = s.a.find(i, function(t) {
                        if (t.length !== e.primarySeries.length)
                            return !1;
                        for (var i = 0; i < t.length; i++)
                            if (t[i].name !== e.primarySeries[i].name)
                                return !1;
                        return !0
                    })
                      , r = new t({
                        model: this.activityDetails,
                        activitySummary: this.model,
                        backgroundSeries: n,
                        xAxisType: e.xAxisType,
                        speedType: this.speedType,
                        series: i,
                        zeroThreshold: e.zeroThreshold,
                        hideAxisTypes: this.isDiving()
                    })
                      , o = new p.a({
                        view: r,
                        customClasses: "chart-zoom fullscreen expanded-chart",
                        showFooter: !1,
                        modalTitle: c.a.localize("chart_expanded_chart_title")
                    });
                    o.render(),
                    o.$el.appendTo(this.$el)
                },
                getExpandedChartView: function(e) {
                    return this.model.isLapSwimming() ? f.a : "Position" === e.primarySeries[0].name ? v.a : e.primarySeries[0].isGradient ? y.a : this.isBreathworkActivity() || this.isYogaActivity() ? A.a : g.a
                },
                onPowerRangeSelected: function(e) {
                    this.trigger(Te.PowerRangeChanged, e, !1)
                },
                onChartSelectorToggle: function(e) {
                    e === d.a.PACE_CHART_SELECTOR_TYPES.LAP_AVG ? (this.paceChartView.hide(),
                    this.lapAveragePaceChartView.render(),
                    this.lapAveragePaceChartView.show()) : (this.paceChartView.render(),
                    this.paceChartView.show(),
                    this.lapAveragePaceChartView.hide()),
                    this.charts.forEach(function(t) {
                        t && "function" === typeof t.setActiveChartSelector && t.setActiveChartSelector(e)
                    })
                },
                onChartRangeChanged: function(e, t, i, a) {
                    var n = null
                      , r = null;
                    "sumDistance" === this.xAxisType && (n = h.a.convertDistance(e),
                    r = h.a.convertDistance(t)),
                    s.a.each(this.charts, function(s) {
                        s.setChartRangeSelector(e, t, i, a),
                        -1 === a ? (s.resetZoom(),
                        this.hideResetZoom()) : n && r ? s.setExtremes(n, r, !0) : s.setExtremes(e, t, !0)
                    }, this)
                },
                resetZoom: function() {
                    s.a.each(this.charts, function(e) {
                        e.resetZoom()
                    });
                    this.trigger(Te.ResetZoom, -1),
                    this.hideResetZoom()
                },
                hideResetZoom: function() {
                    this.$("#btnResetZoom").css("visibility", "hidden")
                },
                showResetZoom: function() {
                    this.$("#btnResetZoom").css("visibility", "visible")
                },
                setSpeedType: function(e, t) {
                    var i = e;
                    if (this.speedType = e,
                    this.speedChartView || this.paceChartView)
                        switch ("Speed" === t && e === h.a.SpeedTypes.Flying && (i = h.a.SpeedTypes.Speed),
                        i) {
                        case h.a.SpeedTypes.RowingSpeed:
                        case h.a.SpeedTypes.Speed:
                            this.speedChartView = this.addSeries(u.a.Speed, E.a),
                            this.replaceChart(this.paceChartView, this.speedChartView);
                            break;
                        case h.a.SpeedTypes.RowingPace:
                        case h.a.SpeedTypes.Pace:
                            this.paceChartView = this.addSeries(u.a.Pace, L.a),
                            this.replaceChart(this.speedChartView, this.paceChartView);
                            break;
                        case h.a.SpeedTypes.SwimSpeed:
                            this.isLapSwimming() ? this.speedChartView = this.addSeries(u.a.SwimSpeed, Q.a) : this.speedChartView = this.addSeries(u.a.OpenWaterSwimSpeed, G.a),
                            this.replaceChart(this.paceChartView, this.speedChartView);
                            break;
                        case h.a.SpeedTypes.SwimPace:
                            this.isLapSwimming() ? this.paceChartView = this.addSeries(u.a.SwimPace, K.a) : this.paceChartView = this.addSeries(u.a.OpenWaterSwimPace, H.a),
                            this.replaceChart(this.speedChartView, this.paceChartView)
                        }
                },
                replaceChart: function(e, t) {
                    e.visible || t.hide(),
                    t.$el.insertAfter(e.el),
                    t.render(),
                    this.charts = s.a.reject(this.charts, function(t) {
                        return t === e
                    }),
                    e.off(),
                    e.stopListening(),
                    e.remove(),
                    e = null
                },
                getSelectedGroundContactChart: function() {
                    var e = this.groundContactTimeBalanceChartView;
                    if (!this.groundContactLastSelectedChart)
                        return e;
                    switch (this.groundContactLastSelectedChart.get("value")) {
                    case u.a.GroundContactTime.prototype.name:
                        return this.groundContactTimeChartView;
                    default:
                        return e
                    }
                },
                getSelectedVerticalChart: function() {
                    var e = this.verticalRatioChartView;
                    if (!this.verticalOscRatioLastSelectedChart)
                        return e;
                    switch (this.verticalOscRatioLastSelectedChart.get("value")) {
                    case u.a.VerticalOscillation.prototype.name:
                        return this.verticalOscillationChartView;
                    default:
                        return e
                    }
                },
                getSelectedPowerChart: function() {
                    var e = this.powerChartView;
                    if (!this.powerChartLastSelectedChart || !this.usersWeight)
                        return e;
                    switch (this.powerChartLastSelectedChart.get("value")) {
                    case u.a.PowerKg.prototype.name:
                        return this.powerChartKgView;
                    default:
                        return e
                    }
                },
                setProperPowerChartIfNoWeight: function(e) {
                    !this.usersWeight && this.isOwner && this.hasPowerData && (e || this.getSelectedPowerChart()) === this.powerChartKgView && (this.powerChartLastSelectedChart && this.powerChartLastSelectedChart instanceof l.a.Model && (this.powerChartLastSelectedChart.set({
                        value: u.a.PowerWatts.prototype.name
                    }),
                    this.powerChartLastSelectedChart.save(),
                    this.powerChartSwitcher.setActiveChart(this.powerChartView)),
                    e && this.triggerWeightEntryPopup(this.powerChartSwitcher, this.powerChartKgView))
                },
                setAndApplyWeight: function(e, t, i) {
                    this.usersWeight && this.usersWeight === e || (this.usersWeight = e,
                    t = t || this.powerChartKgView,
                    s.a.each(t.primarySeries, function(t) {
                        s.a.has(t, "usersWeight") && t.usersWeight !== e && (t.usersWeight = e)
                    }),
                    i && (i.setActiveChart(t),
                    i.persistSelectedChart(t)))
                },
                triggerWeightEntryPopup: function(e, t) {
                    var i = this;
                    this.trigger(Te.DisplayWeightEntryPopup, {
                        context: this,
                        successCallback: function(a) {
                            i.setAndApplyWeight(a, t, e),
                            i.trigger(Te.WeightChangedFromChart, a)
                        }
                    }, this)
                },
                reflowCharts: function() {
                    for (var e, t = 0, i = this.charts.length; t < i; t += 1)
                        (e = this.charts[t]) && e.shouldBeVisible() && e.highChartObj && e.highChartObj.reflow()
                },
                canDisplayElevationChart: function() {
                    return !this.isFloorClimbing() && !this.isDiving() && !this.isBackcountrySki() && !this.isBreathworkActivity() && !this.isIndoorClimbingActivity()
                },
                canDisplayAscentDescentChart: function() {
                    return this.isBackcountrySki()
                },
                canDisplayAscentChart: function() {
                    return this.isFloorClimbing()
                },
                canShowClimbAscentChart: function() {
                    return this.isIndoorClimbingActivity()
                },
                canDisplayDistanceTimeToggleView: function() {
                    return !this.isDiving()
                },
                shouldRenderPaceChartSwitcher: function() {
                    var e = this.activityTypes.getParentType(this.model.getActivityTypeKey());
                    return !!e && "running" === e.get("typeKey")
                },
                formatJumpData: function(e) {
                    var t = this;
                    return e.each(function(e) {
                        var i = _e.a.findClosest(t.activityDetails.get("directTimestamp"), e.get("timestamp"));
                        e.set("durationIntoActivity", t.activityDetails.get("sumDuration")[i]),
                        e.set("distanceIntoActivity", h.a.convertDistance(t.activityDetails.get("sumDistance")[i], t.model.getActivityTypeKey())),
                        t.activityDetails.get("directGrit") && e.set("directGrit", t.activityDetails.get("directGrit")[i]),
                        t.activityDetails.get("directFlow") && e.set("directFlow", t.activityDetails.get("directFlow")[i])
                    }),
                    e
                },
                isBreathworkActivity: function() {
                    return d.a.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey)
                },
                isYogaActivity: function() {
                    return d.a.isYogaActivity(this.model.get("activityTypeDTO").typeKey)
                },
                isIndoorClimbingActivity: function() {
                    return d.a.isIndoorClimbingActivity(this.model.get("activityTypeDTO").typeKey)
                },
                onTimeToggle: function() {
                    this.$timeToggleEl.css("background-color", Se.blue_primary),
                    this.$timeToggleEl.css("color", Se.textLight),
                    this.$distanceToggleEl.css("background-color", "transparent"),
                    this.$distanceToggleEl.css("color", Se.color_100),
                    this.$lengthRestsToggleEl.css("background-color", Se.textLight),
                    this.$lengthRestsToggleEl.css("color", Se.color_100),
                    this.isLapSwimming() ? this.onAxisTypeChanged(_.a.XAxisTypes.SwimDuration) : this.onAxisTypeChanged(_.a.XAxisTypes.Duration)
                },
                onDistanceToggle: function() {
                    this.$timeToggleEl.css("background-color", Se.textLight),
                    this.$timeToggleEl.css("color", Se.color_100),
                    this.$distanceToggleEl.css("background-color", Se.blue_primary),
                    this.$distanceToggleEl.css("color", Se.textLight),
                    this.$lengthRestsToggleEl.css("background-color", Se.textLight),
                    this.$lengthRestsToggleEl.css("color", Se.color_100),
                    this.isLapSwimming() ? this.onAxisTypeChanged(_.a.XAxisTypes.SwimDistance) : this.onAxisTypeChanged(_.a.XAxisTypes.Distance)
                },
                onLengthRestsToggle: function() {
                    this.$lengthRestsToggleEl.css("background-color", Se.blue_primary),
                    this.$lengthRestsToggleEl.css("color", Se.textLight),
                    this.$timeToggleEl.css("background-color", Se.textLight),
                    this.$timeToggleEl.css("color", Se.color_100),
                    this.$distanceToggleEl.css("background-color", Se.textLight),
                    this.$distanceToggleEl.css("color", Se.color_100),
                    this.$distanceToggleEl.css("border-left", "1px solid #CCC"),
                    this.onAxisTypeChanged(_.a.XAxisTypes.SwimLengths)
                },
                onReorderWidgetsClicked: function(e) {
                    e.preventDefault(),
                    this.toggleReorderButtons()
                },
                onCustomizeCharts: function(e) {
                    e.preventDefault(),
                    this.$(".activity-charts-container .customize-charts-wrapper .dropdown").toggleClass("open")
                },
                onToggleCheckbox: function(e) {
                    e.preventDefault();
                    var t = this.$(e.currentTarget).val()
                      , i = this.$(e.currentTarget)[0].checked;
                    this.toggleCharts(t, i)
                },
                onSetOrderClicked: function(e) {
                    e.preventDefault();
                    var t = []
                      , i = this;
                    this.newSortOrder.forEach(function(e) {
                        i.charts.forEach(function(i) {
                            i.primarySeries[0].seriesKey === e && t.push(i)
                        }),
                        "directLeftPowerPhaseStart" === e ? t.push(i.findChartSeries("directLeftPowerPhasePeakStart")) : "directLeftPowerPhaseEnd" === e ? t.push(i.findChartSeries("directLeftPowerPhasePeakEnd")) : "directVerticalOscillation" === e ? t.push(i.findChartSeries("directVerticalRatio")) : "directGroundContactTime" === e && t.push(i.findChartSeries("directGroundContactBalanceLeft"))
                    }),
                    this.pushChartReorderToAnalytics(),
                    this.toggleReorderButtons(),
                    this.redrawCharts(t),
                    this.saveChartOrder()
                },
                findChartSeries: function(e) {
                    return this.charts.find(function(t) {
                        return t.primarySeries[0].seriesKey === e
                    })
                },
                toggleReorderButtons: function() {
                    var e = this.$(".sortable-checkbox");
                    this.$(".sortable-checkboxes").toggleClass("sort-mode"),
                    e.prop("disabled") ? e.prop("disabled", !1).show() : e.prop("disabled", !0).hide(),
                    this.$(".reorder-widgets").toggle(),
                    this.$(".reOrderCheckbox .drag-handle").toggle(),
                    this.$(".customize-charts-controls .reorder-widgets-set").toggle(),
                    this.$(".customize-charts-controls .reorder-widgets-set").prop("disabled", !0),
                    this.$(".reorder-widgets-cancel").toggle()
                },
                redrawCharts: function(e) {
                    this.$("#charts-container").children().detach(),
                    this.drawCharts(e)
                },
                saveChartOrder: function() {
                    var e = this
                      , t = this.activityChartsOrder.toJSON();
                    this.chartsOrderUserPrefJSON && this.chartsOrderUserPrefJSON[this.parentActivityType] && (t = this.chartsOrderUserPrefJSON);
                    var i, n = Object(a.a)({}, t), r = [], o = this, l = Object(a.a)({}, this.newSortOrder);
                    t[this.parentActivityType].forEach(function(e) {
                        var t, i = !1;
                        for (var a in l)
                            if (e.key === l[a]) {
                                r.push({
                                    index: +a,
                                    key: l[a]
                                }),
                                i = !0;
                                break
                            }
                        i || (t = "directLeftPowerPhasePeakStart" === e.key ? o.findSwitcherChart(r, "directLeftPowerPhaseStart").index : "directLeftPowerPhasePeakEnd" === e.key ? o.findSwitcherChart(r, "directLeftPowerPhaseEnd").index : "directVerticalRatio" === e.key ? o.findSwitcherChart(r, "directVerticalOscillation").index : "directGroundContactBalanceLeft" === e.key ? o.findSwitcherChart(r, "directGroundContactTime").index : e.index,
                        r.push({
                            index: t,
                            key: e.key
                        }))
                    });
                    var c = function(i) {
                        t[e.parentActivityType].some(function(e) {
                            return l[i] === e.key
                        }) || r.push({
                            index: +i,
                            key: l[i]
                        })
                    };
                    for (var h in l)
                        c(h);
                    n[this.parentActivityType] = s.a.sortBy(r, "index"),
                    i = Object(a.a)({}, t, n),
                    this.chartsOrderUserPref.save({
                        value: JSON.stringify(i)
                    })
                },
                findSwitcherChart: function(e, t) {
                    return e.find(function(e) {
                        return e.key === t
                    })
                },
                onCancelReorderClicked: function() {
                    this.toggleReorderButtons()
                }
            });
            Le.Events = Te,
            t.a = Le
        }
        ).call(this, i(10))
    },
    4152: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(13)
          , r = i(1541);
        t.a = r.a.extend({
            step: !0,
            measurementSystem: function() {
                var e = this.activitySummary.get("unitOfPoolLength").unitKey;
                return n.a.poolUnitKeyToMeasurementSystem(e)
            },
            defaultXAxisType: function() {
                return r.a.XAxisTypes.SwimDuration
            },
            xAxisLabelFormatter: function(e) {
                return e.xAxisType === r.a.XAxisTypes.SwimLengths ? this.value : e.xAxisType === r.a.XAxisTypes.SwimDistance ? n.a.personalizeDistance(this.value, e.activitySummary.getActivityTypeKey(), e.activitySummary.get("unitOfPoolLength")) : n.a.personalizeDuration(this.value)
            },
            getXAxisTypes: function() {
                return [{
                    name: r.a.XAxisTypes.SwimDuration,
                    label: a.a.localize("over_time")
                }, {
                    name: r.a.XAxisTypes.SwimLengths,
                    label: a.a.localize("over_lengths")
                }, {
                    name: r.a.XAxisTypes.SwimDistance,
                    label: a.a.localize("over_distance")
                }]
            }
        })
    },
    4153: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = (i(8),
        i(4))
          , s = i(13)
          , o = i(1541)
          , l = i(1276)
          , c = i(1222)
          , h = i(2508);
        t.a = o.a.extend({
            getSeriesYAxisOptions: function(e, t) {
                return {
                    categories: [r.a.localize("label_sitting"), r.a.localize("label_standing")],
                    title: {
                        text: null
                    }
                }
            },
            addBackgroundSeries: function() {
                this.highChartObj.addAxis(this.getSeriesYAxisOptions(this.backgroundSeries, 0), !1, !1, !1);
                for (var e = this.getSeries(), t = 0, i = e.length; t < i; t += 1)
                    e[t] && this.highChartObj.addSeries(e[t], !1)
            },
            getSeries: function() {
                var e = this.backgroundSeries[0];
                return [{
                    name: "Standing",
                    type: "line",
                    data: h.a.getData(e, 1),
                    color: this.getSeriesColor() || c.a.Colors.hatorade,
                    linecap: "square",
                    lineWidth: 15,
                    states: {
                        hover: !1
                    },
                    turboThreshold: 4e3,
                    threshold: 9999
                }, {
                    name: "Seated",
                    type: "line",
                    data: h.a.getData(e, 0),
                    color: this.getSeriesColor() || c.a.Colors.blue,
                    linecap: "square",
                    lineWidth: 15,
                    states: {
                        hover: !1
                    },
                    turboThreshold: 4e3,
                    threshold: 9999
                }]
            },
            getSeriesColor: function() {
                return this.getSeriesCount() > 1 ? c.a.Colors.expandGrey : null
            },
            tooltipFormatter: function(e) {
                var t = []
                  , i = this.point || this.points[0];
                if (i) {
                    var a = i.x;
                    e.backgroundSeries && n.a.each(e.backgroundSeries, function(n) {
                        var r = n.getClosestPoint(a);
                        null !== r[0] && (t.push(n.formatToolTipRow(n, null, r[1], e.yUnit(n), null, null, null, i)),
                        t.push("<br/>"))
                    }, this),
                    e.primarySeries && n.a.each(e.primarySeries, function(i) {
                        var n = i.getClosestPoint(a);
                        null !== n.x && (t.push(i.formatToolTipRow(i, null, n.y, e.yUnit(i))),
                        t.push("<br/>"))
                    }),
                    e.secondarySeries && n.a.each(e.secondarySeries, function(i) {
                        var n = i.getClosestPoint(a);
                        null !== n.x && (t.push(i.formatToolTipRow(i, null, n.y, e.yUnit(i))),
                        t.push("<br/>"))
                    }),
                    e.xAxisType === l.a.Distance ? t.push(s.a.formatDistance(i.x, e.activitySummary.getActivityTypeKey()) + " " + r.a.localize(s.a.getDistanceUnitKey(e.activitySummary.getActivityTypeKey()))) : e.xAxisType === l.a.Duration ? t.push(s.a.personalizeDuration(i.x) + " " + r.a.localize(s.a.getDurationUnitKey())) : e.xAxisType === o.a.XAxisTypes.SwimLengths ? t.push(r.a.localize("swim_length_num", Math.floor(i.x) + 1)) : e.xAxisType === o.a.XAxisTypes.SwimDistance ? t.push(s.a.personalizeDistance(i.x, e.activitySummary.getActivityTypeKey(), e.activitySummary.get("unitOfPoolLength")) + " " + r.a.localize(s.a.getDistanceUnitKey(e.activitySummary.getActivityTypeKey(), null, e.activitySummary.get("unitOfPoolLength")))) : t.push(s.a.personalizeDuration(i.x) + " " + r.a.localize(s.a.getDurationUnitKey()))
                }
                return t.join("")
            }
        })
    },
    4154: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(1541)
              , n = i(2200);
            t.a = a.a.extend({
                createChartSeries: function(t, i) {
                    var r = a.a.prototype.createChartSeries.call(this, t, i);
                    return r && 0 === i ? e.extend({}, r, {
                        cropThreshold: 4e3,
                        marker: {
                            enabled: !1,
                            states: {
                                hover: {
                                    enabled: !1
                                }
                            }
                        },
                        color: {
                            linearGradient: {
                                x1: 0,
                                y1: 1,
                                x2: 0,
                                y2: 0
                            },
                            stops: n.a.buildStops(this.getSingleSeriesMax(t), t.gradientRangeMaxes),
                            fillOpacity: r.fillOpacity
                        }
                    }) : r
                }
            })
        }
        ).call(this, i(10))
    },
    4155: function(e, t, i) {
        "use strict";
        var a = i(1541)
          , n = i(13)
          , r = i(1255)
          , s = i(45);
        t.a = a.a.extend({
            createChartSeries: function() {
                var e = a.a.prototype.createChartSeries.apply(this, arguments);
                return e.data.forEach(function(e) {
                    +n.a.personalizeStress(e.y) <= r.b && (e.color = s.color_218)
                }),
                e
            }
        })
    },
    4156: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(1279)
          , s = i(4157)
          , o = i.n(s);
        r.a.extend({
            scrollable: !1,
            template: n.a.template(o.a),
            initialize: function(e) {
                e.scrollable = !1,
                r.a.prototype.initialize.call(this, e)
            }
        })
    },
    4157: function(e, t) {
        e.exports = '<div class="dropdown">\n    <button class="dropdown-toggle chart-header-item" data-toggle="dropdown">\n        <%- selectedItem.name %>\n        <i class="icon-pointer-down"></i>\n    </button>\n    <ul class="dropdown-menu pull-left" role="menu" aria-labelledby="dropdownMenu">\n        <% for (var i = 0; i < items.length; i++) {         %>\n        <% var item = items[i];                             %>\n        <li data-value="<%- item.value %>"><a tabindex="-1" href="#"><%- item.name %></a></li>\n        <% }                                                %>\n    </ul>\n</div>'
    },
    4158: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(4)
          , s = i(13)
          , o = i(1246)
          , l = i(1222)
          , c = i(1239)
          , h = o.a.extend({
            fillColor: l.a.mapSeriesType(c.a.ClimbAscent),
            primarySeriesType: c.a.ClimbAscent,
            formattingFunction: n.a.bind(s.a.formatElevation, s.a),
            chartTitle: function() {
                return r.a.localize("label_ascent")
            }
        });
        t.a = h
    },
    4159: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(13)
          , r = i(1826)
          , s = i(1737)
          , o = r.a.extend({
            getChartTitles: function() {
                if (this.overlayData && this.overlayData.type === s.a.typedSplits) {
                    var e = this.activitySummary.get("activityTypeDTO").typeKey;
                    return [{
                        chartTitle: a.a.localize(n.a.getElevGainLabelKey(e)),
                        seriesColor: this.overlayData.getColor()
                    }, {
                        chartTitle: a.a.localize(n.a.getElevLossLabelKey(e)),
                        seriesColor: this.overlayData.getHighlightColor()
                    }]
                }
                return r.a.prototype.getChartTitles.apply(this)
            },
            typedSplitsSupported: function() {
                return !0
            }
        });
        t.a = o
    },
    4160: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(4)
          , s = i(13)
          , o = i(1246)
          , l = i(1222)
          , c = i(1239)
          , h = o.a.extend({
            fillColor: l.a.mapSeriesType(c.a.DiveDepth),
            primarySeriesType: c.a.DiveDepth,
            formattingFunction: n.a.bind(s.a.formatMetersFt, s.a),
            chartTitle: function() {
                return r.a.localize("label_depth_profile")
            },
            createHighChartsSeriesObjects: function() {
                var e = [];
                return n.a.each(this.primarySeries, function(t) {
                    var i = t.generateData(void 0, !0, this.overlayData);
                    e.push(this.createSeries(t, i)),
                    e.length > 2 && (e[2].type = "scatter")
                }, this),
                e
            },
            fillOpacity: .5,
            styleTooltip: function() {
                return {
                    color: "#222",
                    padding: "3px",
                    opacity: 1,
                    zIndex: 5,
                    textAlign: "center",
                    lineHeight: "14px"
                }
            }
        });
        t.a = h
    },
    4161: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1246)
          , r = i(1222)
          , s = i(1239)
          , o = n.a.extend({
            fillColor: r.a.mapSeriesType(s.a.TankPressure),
            primarySeriesType: s.a.TankPressure,
            seriesType: "line",
            lineWidth: 2,
            chartTitle: function(e) {
                return e ? this.primarySeries[0].props.tankSensor.name : a.a.localize("label_tank_pressure")
            },
            shouldBeVisible: function() {
                return !1
            }
        });
        t.a = o
    },
    4162: function(e, t, i) {
        "use strict";
        i(7);
        var a = i(4)
          , n = (i(13),
        i(1239))
          , r = i(1222)
          , s = i(1246);
        t.a = s.a.extend({
            fillColor: r.a.mapSeriesType(n.a.FloorClimbingPace),
            primarySeriesType: n.a.FloorClimbingPace,
            chartTitle: function() {
                return a.a.localize("label_pace")
            }
        })
    },
    4163: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1246)
          , r = i(1222)
          , s = i(1239);
        t.a = n.a.extend({
            primarySeriesType: s.a.BikeCadence,
            fillColor: r.a.mapSeriesType(s.a.BikeCadence),
            chartTitle: function() {
                return a.a.localize("label_bike_cadence")
            }
        })
    },
    4164: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1246)
          , r = i(1222)
          , s = i(1239);
        t.a = n.a.extend({
            primarySeriesType: s.a.RunCadence,
            fillColor: r.a.mapSeriesType(s.a.RunCadence),
            seriesType: "scatter",
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_run_cadence")
            }
        })
    },
    4165: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1246)
          , r = i(1222)
          , s = i(1239);
        t.a = n.a.extend({
            primarySeriesType: s.a.Temperature,
            fillColor: r.a.mapSeriesType(s.a.Temperature),
            chartTitle: function() {
                return a.a.localize("label_temperature")
            },
            yLabel: function() {
                return a.a.localize("label_temperature")
            }
        })
    },
    4166: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1246)
          , r = i(1222)
          , s = i(1239);
        t.a = n.a.extend({
            chartRangeSelectorType: s.a.PowerKg.chartRangeSelectorType,
            primarySeriesType: s.a.PowerKg,
            fillColor: r.a.mapSeriesType(s.a.PowerKg),
            chartTitle: function() {
                return a.a.localize("label_full_power", a.a.localize("label_power_kg"))
            },
            yLabel: function() {
                return a.a.localize("label_power_kg")
            }
        })
    },
    4167: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(13)
          , r = i(1246)
          , s = i(1222)
          , o = i(1239);
        t.a = r.a.extend({
            primarySeriesType: o.a.LeftRightPowerBalance,
            seriesType: "scatter",
            fillColor: s.a.mapSeriesType(o.a.LeftRightPowerBalance),
            lineWidth: void 0,
            min: 0,
            max: 100,
            conversionFunction: function(e) {
                return 100 - e
            },
            chartTitle: function() {
                return a.a.localize("label_left_right_balance")
            },
            yUnit: function() {
                return ""
            },
            yLabel: function() {
                return ""
            },
            formatAvgPlotLineLabel: function() {
                var e = n.a.formatDecimalNumber(this.avgValue, 1);
                return this.primarySeries[0].yAxisFormattingFunction(e)
            }
        })
    },
    4168: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1222)
          , r = i(1246)
          , s = i(1239);
        t.a = r.a.extend({
            primarySeriesType: s.a.VerticalOscillation,
            seriesType: "scatter",
            fillColor: n.a.mapSeriesType(s.a.VerticalOscillation),
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_vert_oscillation")
            }
        })
    },
    4169: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1222)
          , r = i(1246)
          , s = i(1239);
        t.a = r.a.extend({
            primarySeriesType: s.a.VerticalRatio,
            seriesType: "scatter",
            fillColor: n.a.mapSeriesType(s.a.VerticalRatio),
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_vert_ratio")
            }
        })
    },
    4170: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1246)
          , r = i(1222)
          , s = i(1239);
        t.a = n.a.extend({
            primarySeriesType: s.a.Gforce,
            fillColor: r.a.mapSeriesType(s.a.Gforce),
            chartTitle: function() {
                return a.a.localize("label_g_force")
            },
            yLabel: function() {
                return a.a.localize("label_g_force")
            }
        })
    },
    4171: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1222)
          , r = i(1246)
          , s = i(1239);
        t.a = r.a.extend({
            primarySeriesType: s.a.GroundContactTime,
            seriesType: "scatter",
            fillColor: n.a.mapSeriesType(s.a.GroundContactTime),
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_ground_contact_time")
            }
        })
    },
    4172: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(13)
          , r = i(1246)
          , s = i(1222)
          , o = i(1239);
        t.a = r.a.extend({
            primarySeriesType: o.a.GroundContactTimeBalance,
            seriesType: "scatter",
            fillColor: s.a.mapSeriesType(o.a.GroundContactTimeBalance),
            lineWidth: void 0,
            conversionFunction: function(e) {
                return e
            },
            chartTitle: function() {
                return a.a.localize("label_ground_contact_time_balance")
            },
            yUnit: function() {
                return ""
            },
            yLabel: function() {
                return ""
            },
            formatAvgPlotLineLabel: function(e) {
                var t = n.a.getGroundContactBalance(e.getAvgValue());
                return a.a.localize("chart_plotline_label", a.a.localize(n.a.getPowerBalanceUnitKey(), t.left, t.right), "")
            }
        })
    },
    4173: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1246)
          , r = i(1222)
          , s = i(1239);
        t.a = n.a.extend({
            primarySeriesType: s.a.OpenWaterSwimStrokes,
            fillColor: r.a.mapSeriesType(s.a.OpenWaterSwimStrokes),
            chartTitle: function() {
                return a.a.localize("label_strokes")
            }
        })
    },
    4174: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(13)
          , r = i(1827)
          , s = i(1222)
          , o = i(1239);
        t.a = r.a.extend({
            seriesType: "area",
            primarySeriesType: o.a.SwimSpeed,
            fillColor: s.a.mapSeriesType(o.a.SwimSpeed),
            lineWidth: 1,
            yUnit: function() {
                return a.a.localize(n.a.getSwimSpeedUnitKey(this.measurementSystem()))
            },
            chartTitle: function() {
                var e = this.activitySummary.get("activityTypeDTO").typeKey
                  , t = n.a.getSpeedTypeFromActivityType(e);
                return a.a.localize(t === n.a.SpeedTypes.Flying ? n.a.getSpeedTypeLabelKey(e) : "label_speed")
            }
        })
    },
    4175: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(13)
          , r = i(1827)
          , s = i(1222)
          , o = i(1239);
        t.a = r.a.extend({
            seriesType: "area",
            primarySeriesType: o.a.SwimPace,
            fillColor: s.a.mapSeriesType(o.a.SwimPace),
            reversed: !0,
            lineWidth: 1,
            yUnit: function() {
                return a.a.localize(n.a.getSwimPaceUnitKey(this.measurementSystem()))
            },
            formatAvgPlotLineLabel: function(e) {
                var t = e.activitySummary.get("unitOfPoolLength").unitKey
                  , i = n.a.poolUnitKeyToMeasurementSystem(t)
                  , r = e.getAvgValue(i);
                return a.a.localize("chart_plotline_label", n.a.formatPace(r), this.yUnit(e))
            },
            min: function() {
                return this.primarySeries[0].calculateMin(!0)
            },
            max: function() {
                return this.primarySeries[0].calculateMax(60) + 1
            },
            chartTitle: function() {
                return a.a.localize("label_swim_pace")
            }
        })
    },
    4176: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(4)
              , n = i(13)
              , r = i(1827)
              , s = i(1222)
              , o = i(1239);
            t.a = r.a.extend({
                seriesType: "area",
                primarySeriesType: o.a.SwimStrokes,
                fillColor: s.a.mapSeriesType(o.a.SwimStrokes),
                formattingFunction: e.bind(n.a.personalizeCadence, n.a),
                chartTitle: function() {
                    return a.a.localize("label_strokes")
                },
                min: function() {
                    return this.primarySeries[0].calculateMin(!0) - 1
                },
                max: function() {
                    return this.primarySeries[0].calculateMax() + 1
                }
            })
        }
        ).call(this, i(7))
    },
    4177: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(4)
              , n = i(13)
              , r = i(1827)
              , s = i(1222)
              , o = i(1239);
            t.a = r.a.extend({
                seriesType: "area",
                primarySeriesType: o.a.SwimSwolf,
                fillColor: s.a.mapSeriesType(o.a.SwimSwolf),
                formattingFunction: e.bind(n.a.personalizeCadence, n.a),
                chartTitle: function() {
                    return a.a.localize("label_swolf")
                },
                min: function() {
                    return this.primarySeries[0].calculateMin(!0) + 1
                },
                max: function() {
                    return this.primarySeries[0].calculateMax() + 1
                }
            })
        }
        ).call(this, i(7))
    },
    4178: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1246)
          , r = i(1222)
          , s = i(1239);
        t.a = n.a.extend({
            primarySeriesType: s.a.StrideLength,
            fillColor: r.a.mapSeriesType(s.a.StrideLength),
            seriesType: "scatter",
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_stride_length")
            }
        })
    },
    4179: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(4)
          , s = i(13)
          , o = i(1239)
          , l = i(1222)
          , c = i(2508)
          , h = i(1276)
          , d = i(1246);
        t.a = d.a.extend({
            primarySeriesType: o.a.Position,
            seriesType: "line",
            fillColor: l.a.mapSeriesType(o.a.Position),
            chartTitle: function() {
                return r.a.localize("label_position")
            },
            createHighChartsYAxisObjects: function() {
                return {
                    categories: [r.a.localize("label_sitting"), r.a.localize("label_standing")],
                    labels: {
                        y: 5,
                        x: 2,
                        align: "left",
                        formatter: function() {
                            return '<span class="y-axis-label">' + this.value + "</span>"
                        },
                        style: {
                            whiteSpace: "nowrap"
                        }
                    },
                    title: {
                        text: null
                    },
                    gridLineWidth: 0
                }
            },
            createHighChartsSeriesObjects: function() {
                var e = this.primarySeries[0];
                return [{
                    name: "Standing",
                    type: this.getChartType(),
                    data: c.a.getData(e, 1),
                    color: l.a.Colors.hatorade,
                    linecap: "square",
                    lineWidth: 15
                }, {
                    name: "Seated",
                    type: this.getChartType(),
                    data: c.a.getData(e, 0),
                    color: l.a.Colors.blue,
                    linecap: "square",
                    lineWidth: 15
                }]
            },
            tooltipFormatter: function(e) {
                var t = this.point || this.points[0];
                if (t) {
                    if (null === t.x)
                        return !1;
                    var i = t.x
                      , a = [];
                    return n.a.each(e.primarySeries, function(n) {
                        var o = n.getClosestPoint(i)
                          , l = ""
                          , c = e.yLabel()
                          , d = ""
                          , p = o[1]
                          , u = ""
                          , m = e.yUnit(n);
                        e.xAxisType === h.a.Distance ? (l = r.a.localize("distance"),
                        u = r.a.localize(s.a.getDistanceUnitKey(null, null)),
                        d = s.a.personalizeDistance(o[0])) : (l = r.a.localize("label_time"),
                        u = r.a.localize(s.a.getDurationUnitKey()),
                        d = s.a.personalizeDuration(o[0])),
                        a.push(n.formatToolTipRow(n, c, p, m, l, d, u, t))
                    }, this),
                    a.join("<br/>")
                }
            }
        })
    },
    4180: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1738);
        t.a = n.a.extend({
            chartTitle: function() {
                return a.a.localize("label_cd_power_phase_start")
            }
        })
    },
    4181: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1738);
        t.a = n.a.extend({
            chartTitle: function() {
                return a.a.localize("label_cd_power_phase_end")
            }
        })
    },
    4182: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1738);
        t.a = n.a.extend({
            chartTitle: function() {
                return a.a.localize("label_cd_peak_power_phase_start")
            }
        })
    },
    4183: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1738);
        t.a = n.a.extend({
            chartTitle: function() {
                return a.a.localize("label_cd_peak_power_phase_end")
            }
        })
    },
    4184: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(13)
          , r = i(1246)
          , s = i(1222)
          , o = i(1239);
        t.a = r.a.extend({
            primarySeriesType: o.a.DistancePerStroke,
            fillColor: s.a.mapSeriesType(o.a.DistancePerStroke),
            seriesType: "scatter",
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_stroke_distance")
            },
            formatAvgPlotLineLabel: function(e) {
                var t = e.getAvgValue()
                  , i = "distance.meter";
                return "rowing" !== this.getActivityTypeKey(e) && n.a.measurementSystem !== n.a.MeasurementSystems.METRIC && (t = n.a.convertDistancePerStroke(t),
                i = "height_unit_ft"),
                a.a.localize("chart_plotline_label", n.a.formatDistancePerStroke(t), a.a.localize(i))
            },
            yAxisLabelFormatter: function(e) {
                return "rowing" !== e.getActivityTypeKey(e) && e.primarySeries[0].yAxisFormattingFunction ? e.primarySeries[0].yAxisFormattingFunction(this.value, e.measurementSystem()) : e.primarySeries[0].formattingFunction(this.value, e.measurementSystem())
            },
            getActivityTypeKey: function(e) {
                var t = e || this;
                return t && t.activitySummary.get("activityTypeDTO") && t.activitySummary.get("activityTypeDTO").typeKey ? t.activitySummary.get("activityTypeDTO").typeKey : ""
            }
        })
    },
    4185: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1246)
          , r = i(1222)
          , s = i(1239);
        t.a = n.a.extend({
            primarySeriesType: s.a.StrokeRate,
            fillColor: r.a.mapSeriesType(s.a.StrokeRate),
            chartTitle: function() {
                return a.a.localize("label_chart_stroke_rate")
            }
        })
    },
    4186: function(e, t, i) {
        "use strict";
        i(8);
        var a = i(4)
          , n = (i(13),
        i(1246))
          , r = i(1222)
          , s = i(1239)
          , o = n.a.extend({
            primarySeriesType: s.a.PerformanceCondition,
            lineWidth: 2,
            zeroThreshold: !0,
            fillColor: r.a.mapSeriesType(s.a.PerformanceCondition),
            chartTitle: function() {
                return a.a.localize("label_performance_condition")
            }
        });
        t.a = o
    },
    4187: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(4)
          , s = i(13)
          , o = i(1239)
          , l = i(1222)
          , c = i(1246);
        t.a = c.a.extend({
            fillColor: l.a.mapSeriesType(o.a.Ascent),
            primarySeriesType: o.a.Ascent,
            formattingFunction: n.a.bind(s.a.formatElevation, s.a),
            chartTitle: function() {
                return r.a.localize("label_ascent")
            }
        })
    },
    4188: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1222)
          , r = i(1246)
          , s = i(1239);
        t.a = r.a.extend({
            primarySeriesTypes: s.a.VectorAirDragCdA,
            fillColor: n.a.mapSeriesType(s.a.VectorAirDragCdA),
            chartTitle: function() {
                return a.a.localize("label_vector_air_drag_cda")
            }
        })
    },
    4189: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1222)
          , r = i(1246)
          , s = i(1239);
        t.a = r.a.extend({
            primarySeriesTypes: s.a.VectorAirDragCdA,
            fillColor: n.a.mapSeriesType(s.a.VectorAirDragCdA),
            chartTitle: function() {
                return a.a.localize("label_vector_air_drag_watts_cda")
            }
        })
    },
    4190: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(13)
          , s = i(4)
          , o = i(1222)
          , l = i(1246)
          , c = i(1239)
          , h = i(1330);
        t.a = l.a.extend({
            primarySeriesType: c.a.VectorAirWindSpeed,
            lineWidth: 2,
            spacingBottom: 40,
            fillColor: o.a.mapSeriesType(c.a.VectorAirWindSpeed),
            initializeView: function() {
                this.windDirectionDegreeUtil = new h.a
            },
            chartTitle: function() {
                return s.a.localize("label_vector_air_wind_speed")
            },
            createHighChartsSeriesObjects: function() {
                var e = this.primarySeries[0];
                return this.createSeries(e, e.generateData(void 0, !0, this.overlayData))
            },
            createSeries: function(e, t, i) {
                var a = this;
                this.backgroundSeries = e.buildSecondSeriesData();
                for (var o = this.backgroundSeries.length, c = this.$el.width(), h = l.a.prototype.createSeries(e, t, i), d = [], p = Math.round(c / 28), u = Math.round(o / p), m = 0; m < o; m += u)
                    this.backgroundSeries[m] && d.push(this.backgroundSeries[m]);
                return [h, {
                    turboThreshold: 4e3,
                    name: "label_vector_air_wind_direction",
                    valueUnit: function(e) {
                        var t = a.windDirectionDegreeUtil.getWindDirectionFromDegree(e);
                        return t && t.directionType ? "&deg;&nbsp;" + s.a.localize(t.directionType) : "&deg;&nbsp;"
                    },
                    valueFormatter: n.a.bind(r.a.formatWholeNumber, r.a),
                    yValueKey: "direction",
                    type: "windbarb",
                    data: d,
                    linkedTo: ":previous",
                    yOffset: 20,
                    getExtremesFromAll: !0,
                    color: "#999999"
                }]
            },
            shareTooltip: function() {
                return !0
            },
            highChartsRenderChartEvent: function() {
                for (var e = this.series[1].data, t = 0, i = e.length; t < i; t += 1)
                    e[t] && e[t].graphic.attr({
                        d: "M4.6,0L2.3,5.3L0,0l2.3,1.3L4.6,0z",
                        fill: e[t].color
                    })
            }
        })
    },
    4191: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(4)
              , r = i(13)
              , s = i(1246)
              , o = i(1239)
              , l = i(1222)
              , c = i(2200)
              , h = i(17)
              , d = i(2509)
              , p = i.n(d);
            t.a = s.a.extend({
                className: "grit-chart",
                lineWidth: 2,
                primarySeriesType: o.a.Grit,
                fillColor: l.a.mapSeriesType(o.a.Grit),
                chartTitle: function() {
                    return n.a.localize("label_grit")
                },
                createHighChartsSeriesObjects: function() {
                    var e = this.primarySeries[0];
                    return this.createSeries(e, e.generateData(void 0, !0, this.overlayData), this.fillOpacity)
                },
                createSeries: function(e, t, i) {
                    return [{
                        type: "spline",
                        turboThreshold: 4e3,
                        cropThreshold: 4e3,
                        data: t,
                        marker: {
                            enabled: !1,
                            states: {
                                hover: {
                                    enabled: !1
                                }
                            }
                        },
                        color: {
                            linearGradient: {
                                x1: 0,
                                y1: 1,
                                x2: 0,
                                y2: 0
                            },
                            stops: c.a.buildStops(this.getChartMaxValue(), e.gradientRangeMaxes),
                            fillOpacity: i
                        }
                    }]
                },
                createAnnotations: function() {
                    var t = this
                      , i = h.default.url("/images/feature/mtb/jump.svg")
                      , a = [{
                        labels: []
                    }]
                      , s = this.xAxisType
                      , o = null;
                    return this.jumps && this.jumps.length > 0 && this.jumps.each(function(l, c) {
                        o = e.template(p.a)({
                            Localizer: n.a,
                            Personalizer: r.a,
                            jump: l.toJSON(),
                            label: n.a.localize("label_grit") + ": " + r.a.peronalizeMTBGrit(l.get("directGrit")),
                            activityTypeKey: t.activitySummary.get("activityTypeDTO").typeKey
                        }),
                        l.set("grit-html", o),
                        a[0].labels.push({
                            point: {
                                xAxis: 0,
                                yAxis: 1,
                                x: "sumDuration" === s ? l.get("durationIntoActivity") : l.get("distanceIntoActivity"),
                                y: 260
                            },
                            text: '<span><img class="has-tooltip jump-icon" data-container="body" data-toggle="tooltip" data-placement="top" data-html="true" data-index="' + c + '" title="" src=' + i + ">&nbsp;&nbsp;&nbsp;</img></span>",
                            useHTML: !0,
                            shape: "connector"
                        })
                    }),
                    a
                },
                getMarginBottom: function() {
                    return 16
                },
                highChartsRenderChartEvent: function() {
                    var e = 0
                      , t = this;
                    return this.$(".has-tooltip.jump-icon").each(function() {
                        e = +a(this).attr("data-index"),
                        a(this).tooltip({
                            html: !0,
                            title: t.jumps.at(e).get("grit-html")
                        })
                    }),
                    this
                }
            })
        }
        ).call(this, i(7), i(10))
    },
    4192: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(4)
              , r = i(17)
              , s = i(13)
              , o = i(1246)
              , l = i(1239)
              , c = i(1222)
              , h = i(2200)
              , d = i(2509)
              , p = i.n(d);
            t.a = o.a.extend({
                lineWidth: 2,
                primarySeriesType: l.a.Flow,
                fillColor: c.a.mapSeriesType(l.a.Flow),
                chartTitle: function() {
                    return n.a.localize("label_flow")
                },
                createHighChartsSeriesObjects: function() {
                    var e = this.primarySeries[0];
                    return this.createSeries(e, e.generateData(void 0, !0, this.overlayData), this.fillOpacity)
                },
                createSeries: function(e, t, i) {
                    return [{
                        type: "spline",
                        turboThreshold: 4e3,
                        cropThreshold: 4e3,
                        data: t,
                        marker: {
                            enabled: !1,
                            states: {
                                hover: {
                                    enabled: !1
                                }
                            }
                        },
                        color: {
                            linearGradient: {
                                x1: 0,
                                y1: 1,
                                x2: 0,
                                y2: 0
                            },
                            stops: h.a.buildStops(this.getChartMaxValue(), e.gradientRangeMaxes),
                            fillOpacity: i
                        }
                    }]
                },
                createAnnotations: function() {
                    var t = this
                      , i = r.default.url("/images/feature/mtb/jump.svg")
                      , a = [{
                        labels: []
                    }]
                      , o = this.xAxisType
                      , l = null;
                    return this.jumps && this.jumps.length > 0 && this.jumps.each(function(r, c) {
                        l = e.template(p.a)({
                            Localizer: n.a,
                            Personalizer: s.a,
                            jump: r.toJSON(),
                            label: n.a.localize("label_flow") + ": " + s.a.peronalizeMTBFlow(r.get("directFlow")),
                            activityTypeKey: t.activitySummary.get("activityTypeDTO").typeKey
                        }),
                        r.set("flow-html", l),
                        a[0].labels.push({
                            point: {
                                xAxis: 0,
                                yAxis: 1,
                                x: "sumDuration" === o ? r.get("durationIntoActivity") : r.get("distanceIntoActivity"),
                                y: 260
                            },
                            text: '<span><img class="has-tooltip jump-icon" data-container="body" data-toggle="tooltip" data-placement="top" data-html="true" data-index="' + c + '" title="" src=' + i + ">&nbsp;&nbsp;&nbsp;</img></span>",
                            useHTML: !0,
                            shape: "connector"
                        })
                    }),
                    a
                },
                getMarginBottom: function() {
                    return 16
                },
                highChartsRenderChartEvent: function() {
                    var e = 0
                      , t = this;
                    return this.$(".has-tooltip.jump-icon").each(function() {
                        e = +a(this).attr("data-index"),
                        a(this).tooltip({
                            html: !0,
                            title: t.jumps.at(e).get("flow-html")
                        })
                    }),
                    this
                }
            })
        }
        ).call(this, i(7), i(10))
    },
    4193: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1239)
          , r = i(1222)
          , s = i(1246);
        t.a = s.a.extend({
            fillColor: r.a.mapSeriesType(n.a.RespirationRate),
            primarySeriesType: n.a.RespirationRate,
            chartTitle: function() {
                return a.a.localize("label_respiration_rate")
            }
        })
    },
    4194: function(e, t, i) {
        "use strict";
        var a = i(4)
          , n = i(1239)
          , r = i(1222)
          , s = i(1246)
          , o = i(13)
          , l = i(1255)
          , c = i(45);
        t.a = s.a.extend({
            seriesType: "column",
            fillColor: r.a.mapSeriesType(n.a.Stress),
            primarySeriesType: n.a.Stress,
            chartTitle: function() {
                return a.a.localize("label_stress")
            },
            createSeries: function() {
                var e = s.a.prototype.createSeries.apply(this, arguments);
                return e.data.forEach(function(e) {
                    +o.a.personalizeStress(e.y) <= l.b && (e.color = c.blue_light_1)
                }),
                e
            }
        })
    },
    4195: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(4)
          , s = i(13)
          , o = i(1246)
          , l = i(1222)
          , c = i(1239);
        t.a = o.a.extend({
            chartSelector: c.a.LapAveragePace.chartSelector,
            primarySeriesType: c.a.LapAveragePace,
            fillColor: l.a.mapSeriesType(c.a.Pace),
            formattingFunction: n.a.bind(s.a.formatPace, s.a),
            chartTitle: function() {
                return r.a.localize("pace_chart_lap_avg")
            },
            getActivityTypeKey: function(e) {
                var t = e || this;
                return t && t.activitySummary.get("activityTypeDTO") && t.activitySummary.get("activityTypeDTO").typeKey ? t.activitySummary.get("activityTypeDTO").typeKey : ""
            }
        })
    },
    4196: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(1409)
              , c = i(1246)
              , h = i(4197)
              , d = i.n(h)
              , p = s.a.View.extend({
                events: {
                    "click .chart-toggle-menu-item": "onChartSelected",
                    "click .dropdown .help-icon": ""
                },
                template: n.a.template(d.a),
                initialize: function(e) {
                    this.titleKey = e.titleKey,
                    this.chartViews = e.chartViews,
                    this.visible = !0,
                    this.persistSelectedModel = e.persistSelectedModel,
                    this.preChartSelectionHandler = e.preChartSelectionHandler,
                    this.shouldChartRender = e.shouldChartRender || function(e) {
                        return !0
                    }
                    ,
                    this.setActiveChart(e.activeChart)
                },
                setActiveChart: function(e) {
                    this.activeChart && (n.a.each(this.chartViews, function(e) {
                        e.hide()
                    }),
                    this.stopListening()),
                    this.activeChart = e,
                    this.listenTo(this.activeChart, c.a.Events.ON_CHART_RENDERED, this.onChartRendered, this),
                    this.activeChart.show(),
                    this.shouldChartRender(this.activeChart) && this.activeChart.render()
                },
                show: function() {
                    this.visible = !0,
                    this.setActiveChart(this.activeChart)
                },
                hide: function() {
                    this.visible = !1,
                    this.activeChart.hide(),
                    this.stopListening()
                },
                render: function() {
                    this.$el.html(this.template({
                        chartViews: this.chartViews,
                        activeChart: this.activeChart,
                        seriesColor: this.activeChart.primarySeries[0].getColor(!0),
                        helpTooltip: this.activeChart.primarySeries[0].helpTooltip,
                        helpKey: this.activeChart.primarySeries[0].helpKey,
                        Localizer: o.a,
                        title: this.titleKey ? o.a.localize(this.titleKey) : ""
                    })),
                    this.$el.show()
                },
                onChartSelected: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget).attr("data-chartid")
                      , a = this.findChart(i);
                    if (a && a !== this.activeChart) {
                        var n = !0;
                        this.preChartSelectionHandler && "function" === typeof this.preChartSelectionHandler && (n = this.preChartSelectionHandler.call(this, a)),
                        n && (this.setActiveChart(a),
                        this.persistSelectedChart(a))
                    }
                },
                findChart: function(e) {
                    return n.a.find(this.chartViews, function(t) {
                        return e === t.cid
                    })
                },
                onChartRendered: function() {
                    this.setElement(this.activeChart.$(".chart-name")),
                    this.render()
                },
                onShowHelpClicked: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget).attr("data-help-key")
                      , a = null;
                    this.activeChart.primarySeries[0].helpKeyAdditionalData && (a = "function" === typeof this.activeChart.primarySeries[0].helpKeyAdditionalData ? this.activeChart.primarySeries[0].helpKeyAdditionalData() : this.activeChart.primarySeries[0].helpKeyAdditionalData),
                    new l.a({
                        key: i,
                        additionalData: a
                    }).render()
                },
                persistSelectedChart: function(e) {
                    this.persistSelectedModel && this.persistSelectedModel instanceof s.a.Model && (this.persistSelectedModel.set({
                        value: e.primarySeries[0].name || e.primarySeries[0].prototype.name
                    }),
                    this.persistSelectedModel.save())
                },
                getChartViews: function() {
                    return this.chartViews
                }
            });
            t.a = p
        }
        ).call(this, i(10))
    },
    4197: function(e, t) {
        e.exports = '<div class="dropdown">\n    <span class="chart-color-circle" style="background-color:<%- seriesColor %>"></span>\n    <% if (title) { %>\n        <%- title %>&nbsp;&nbsp;\n    <% } %>\n    <button class="dropdown-toggle chart-header-item" data-toggle="dropdown">\n        <%- activeChart.chartTitle(true) %>\n        <i class="icon-pointer-down"></i>\n    </button>\n    <% if (helpTooltip) { %>\n    <a href="javascript:void(0);" class="help-icon has-tooltip" data-html="true"\n       title="<%- Localizer.localize(helpTooltip) %>"><i class="icon-help"></i></a>\n    <% } else if (helpKey) { %>\n    <a href="#" class="help-icon" data-toggle="modal" data-help-key="<%- helpKey %>" role="button"><i\n            class="icon-help"></i></a>\n    <% } %>\n\n    <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu">\n        <% for (var i = 0; i < chartViews.length; i++) { %>\n        <%  var chartView = chartViews[i]; %>\n        <li class="<%- activeChart === chartView ? \'active\' : \'\' %> chart-toggle-menu-item" data-chartid="<%- chartView.cid %>"><a tabindex="-1" href="#"><%- chartView.chartTitle(true) %></a></li>\n        <% } %>\n    </ul>\n</div>\n'
    },
    4198: function(e, t) {
        e.exports = '<div class="span12 activity-charts-container">\n    <div class="row-fluid chart-header chart-header-main bottom-s">\n        <% if (viewerIsAuthenticated) { %>\n        <div class="span3 customize-charts-wrapper">\n            <div class="dropdown page-dropdown">\n                <button class="btn btn-small dropdown-trigger btn-customize-charts"><%- Localizer.localize(\'customize_charts\') %><i class="icon-pointer-down"></i></button>\n                <div class="customize-charts-list dropdown-menu pull-right">\n                    <label class="customize-charts-header"><%- Localizer.localize(\'customize_charts\') %></label>\n                    <div class="sortable-checkboxes ui-sortable">\n                        <% for (let index = 0; index < availableCharts.length; index++) { %>\n                            <label class="reOrderCheckbox" data-which="<%= availableCharts[index].seriesKey %>">\n                                <span class="drag-handle pull-left ui-sortable-handle" style="display:none;"><i class="icon-drag-handle"></i></span>\n                                <input type="checkbox" class="default-widget sortable-checkbox" name="settings-checkbox" value="<%- availableCharts[index].seriesKey %>" <%- !availableCharts[index].hide ? \'checked\' : \'\'%>/>\n                                <span class="chart-off pull-right label"><%- Localizer.localize(\'off\') %></span>\n                                <%- availableCharts[index].title %>\n                            </label>\n                        <% } %>\n                    </div>\n                    <div class="controls controls-row customize-charts-controls top-xs bottom-xs">\n                        <a href="#" class="colored reorder-widgets" style="display: inline;"><%- Localizer.localize(\'reorder_charts\') %></a>\n                        <button class="btn btn-small reorder-widgets-set" style="display: none;"><%- Localizer.localize(\'set_charts_order\') %></button>\n                        <button class="btn btn-small btn-secondary reorder-widgets-cancel" style="display: none;"><%- Localizer.localize(\'cancel_btn\') %></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <% } %>\n        <div class="span4">\n            <button id="btnResetZoom" class="reset-zoom btn btn-small" style="visibility: hidden"><%- Localizer.localize(\'chart_reset_zoom\') %></button>\n        </div>\n        <% if (canDisplayDistanceTimeToggleView) { %>\n            <div class="<%- viewerIsAuthenticated ? \'span5\' : \'span8\' %>">\n                <div class="pull-right chart-toggle-options">\n                    <% if (isLapSwimming) { %>\n                        <button class="btn btn-small length-rests-toggle"><%- Localizer.localize(\'over_lengths\') %></button>\n                    <% } %>\n                    <button class="btn btn-small time-toggle"><%- Localizer.localize(\'label_time\') %></button>\n                    <button class="btn btn-small distance-toggle"><%- Localizer.localize(\'label_distance\') %></button>\n                </div>\n            </div>\n        <% } %>\n    </div>\n\n    <div id="charts-container"></div>\n</div>'
    },
    4199: function(e, t) {
        e.exports = '<li class="multiple ">\n    <label data-seriestype="<%- seriesType %>">\n        <input type="checkbox" class="checkbox"><%- chartName %>\n    </label>\n</li>'
    },
    4200: function(e, t, i) {
        var a, n;
        n = function(e) {
            var t = function(e) {
                var t = e.each
                  , i = e.defined
                  , a = e.seriesTypes
                  , n = e.stableSort;
                return {
                    getPlotBox: function() {
                        return e.Series.prototype.getPlotBox.call(this.options.onSeries && this.chart.get(this.options.onSeries) || this)
                    },
                    translate: function() {
                        a.column.prototype.translate.apply(this);
                        var e, r, s, o, l, c, h = this.options, d = this.chart, p = this.points, u = p.length - 1, m = (m = h.onSeries) && d.get(m), g = (h = h.onKey || "y",
                        m && m.options.step), f = m && m.points, v = f && f.length, y = d.inverted, A = this.xAxis, _ = this.yAxis, b = 0;
                        if (m && m.visible && v)
                            for (b = (m.pointXOffset || 0) + (m.barW || 0) / 2,
                            e = m.currentDataGrouping,
                            o = f[v - 1].x + (e ? e.totalRange : 0),
                            n(p, function(e, t) {
                                return e.x - t.x
                            }),
                            h = "plot" + h[0].toUpperCase() + h.substr(1); v-- && p[u] && (s = f[v],
                            (e = p[u]).y = s.y,
                            !(s.x <= e.x && void 0 !== s[h] && (e.x <= o && (e.plotY = s[h],
                            s.x < e.x && !g && (l = f[v + 1]) && void 0 !== l[h] && (c = (e.x - s.x) / (l.x - s.x),
                            e.plotY += c * (l[h] - s[h]),
                            e.y += c * (l.y - s.y))),
                            u--,
                            v++,
                            0 > u))); )
                                ;
                        t(p, function(e, t) {
                            var a;
                            e.plotX += b,
                            (void 0 === e.plotY || y) && (0 <= e.plotX && e.plotX <= A.len ? y ? (e.plotY = A.translate(e.x, 0, 1, 0, 1),
                            e.plotX = i(e.y) ? _.translate(e.y, 0, 0, 0, 1) : 0) : e.plotY = d.chartHeight - A.bottom - (A.opposite ? A.height : 0) + A.offset - _.top : e.shapeArgs = {}),
                            (r = p[t - 1]) && r.plotX === e.plotX && (void 0 === r.stackIndex && (r.stackIndex = 0),
                            a = r.stackIndex + 1),
                            e.stackIndex = a
                        }),
                        this.onSeries = m
                    }
                }
            }(e);
            !function(e, t) {
                var i = e.each;
                (0,
                e.seriesType)("windbarb", "column", {
                    lineWidth: 2,
                    onSeries: null,
                    states: {
                        hover: {
                            lineWidthPlus: 0
                        }
                    },
                    tooltip: {
                        pointFormat: '<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.value}</b> ({point.beaufort})<br/>'
                    },
                    vectorLength: 20,
                    yOffset: -20,
                    xOffset: 0
                }, {
                    pointArrayMap: ["value", "direction"],
                    parallelArrays: ["x", "value", "direction"],
                    beaufortName: "Calm;Light air;Light breeze;Gentle breeze;Moderate breeze;Fresh breeze;Strong breeze;Near gale;Gale;Strong gale;Storm;Violent storm;Hurricane".split(";"),
                    beaufortFloor: [0, .3, 1.6, 3.4, 5.5, 8, 10.8, 13.9, 17.2, 20.8, 24.5, 28.5, 32.7],
                    trackerGroups: ["markerGroup"],
                    pointAttribs: function(e, t) {
                        var i = this.options;
                        e = e.color || this.color;
                        var a = this.options.lineWidth;
                        return t && (e = i.states[t].color || e,
                        a = (i.states[t].lineWidth || a) + (i.states[t].lineWidthPlus || 0)),
                        {
                            stroke: e,
                            "stroke-width": a
                        }
                    },
                    markerAttribs: function() {},
                    getPlotBox: t.getPlotBox,
                    windArrow: function(e) {
                        var t, i = 1.943844 * e.value, a = this.options.vectorLength / 20, n = -10;
                        if (e.isNull)
                            return [];
                        if (0 === e.beaufortLevel)
                            return this.chart.renderer.symbols.circle(-10 * a, -10 * a, 20 * a, 20 * a);
                        if (e = ["M", 0, 7 * a, "L", -1.5 * a, 7 * a, 0, 10 * a, 1.5 * a, 7 * a, 0, 7 * a, 0, -10 * a],
                        0 < (t = (i - i % 50) / 50))
                            for (; t--; )
                                e.push(-10 === n ? "L" : "M", 0, n * a, "L", 5 * a, n * a + 2, "L", 0, n * a + 4),
                                i -= 50,
                                n += 7;
                        if (0 < (t = (i - i % 10) / 10))
                            for (; t--; )
                                e.push(-10 === n ? "L" : "M", 0, n * a, "L", 7 * a, n * a),
                                i -= 10,
                                n += 3;
                        if (0 < (t = (i - i % 5) / 5))
                            for (; t--; )
                                e.push(-10 === n ? "L" : "M", 0, n * a, "L", 4 * a, n * a),
                                i -= 5,
                                n += 3;
                        return e
                    },
                    translate: function() {
                        var e = this.beaufortFloor
                          , a = this.beaufortName;
                        t.translate.call(this),
                        i(this.points, function(t) {
                            for (var i = 0; i < e.length && !(e[i] > t.value); i++)
                                ;
                            t.beaufortLevel = i - 1,
                            t.beaufort = a[i - 1]
                        })
                    },
                    drawPoints: function() {
                        var e = this.chart
                          , t = this.yAxis
                          , a = e.inverted
                          , n = this.options.vectorLength / 2;
                        i(this.points, function(i) {
                            var r = i.plotX
                              , s = i.plotY;
                            e.isInsidePlot(r, 0, !1) ? (i.graphic || (i.graphic = this.chart.renderer.path().add(this.markerGroup)),
                            i.graphic.attr({
                                d: this.windArrow(i),
                                translateX: r + this.options.xOffset,
                                translateY: s + this.options.yOffset,
                                rotation: i.direction
                            }).attr(this.pointAttribs(i))) : i.graphic && (i.graphic = i.graphic.destroy()),
                            i.tooltipPos = [r + this.options.xOffset + (a && !this.onSeries ? n : 0), s + this.options.yOffset - (a ? 0 : n + t.pos - e.plotTop)]
                        }, this)
                    },
                    animate: function(t) {
                        t ? this.markerGroup.attr({
                            opacity: .01
                        }) : (this.markerGroup.animate({
                            opacity: 1
                        }, e.animObject(this.options.animation)),
                        this.animate = null)
                    },
                    invertGroups: e.noop
                }, {
                    isValid: function() {
                        return e.isNumber(this.value) && 0 <= this.value
                    }
                })
            }(e, t)
        }
        ,
        "object" === typeof e && e.exports ? e.exports = n : void 0 === (a = function() {
            return n
        }
        .call(t, i, t, e)) || (e.exports = a)
    },
    4201: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(13)
          , c = i(19)
          , h = i(1444)
          , d = i(4202)
          , p = i.n(d);
        t.a = s.a.View.extend({
            template: n.a.template(p.a),
            initialize: function(e) {
                if (this.conversation = e.conversation,
                !this.conversation)
                    throw "conversation required for ActivityCommentsView"
            },
            render: function() {
                var e = this.template({
                    Localizer: o.a,
                    Personalizer: l.a,
                    model: this.model.toJSON()
                });
                this.$el.html(e),
                this.pageCommentsView = new h.a({
                    showHeader: !1,
                    conversation: this.conversation,
                    viewerDisplayName: c.a.get("displayName"),
                    el: this.el
                })
            }
        })
    },
    4202: function(e, t) {
        e.exports = '<div class="border-wrapper">\n\n</div>\n\n\n'
    },
    4203: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(13)
              , c = i(36)
              , h = i(2510)
              , d = i(534)
              , p = i(1252)
              , u = i(2209)
              , m = i(1503)
              , g = i(2578)
              , f = i(1537)
              , v = i(4204)
              , y = i(2211)
              , A = i(2110)
              , _ = i(1454)
              , b = i(82)
              , C = i(28)
              , w = i(17)
              , x = i(1234)
              , S = i(64)
              , T = i(102)
              , E = i(220)
              , L = i(4206)
              , k = i.n(L)
              , P = {
                ActivityTypeChanged: "ActivityTypeChanged",
                PrepareToNavigate: "PrepareToNavigate",
                ActivityNameChanged: "ActivityNameChanged",
                EventTypeChanged: "EventTypeChanged"
            }
              , z = s.a.View.extend({
                template: n.a.template(k.a),
                events: {
                    "click .page-previous": "onPreviousButtonClicked",
                    "click .page-next": "onNextButtonClicked",
                    "click .course-name": "onCourseNameClicked"
                },
                initialize: function(e) {
                    if (this.previousId = null,
                    this.nextId = null,
                    this.readOnly = e.readOnly,
                    this.activityTypes = e.activityTypes,
                    this.eventTypes = e.eventTypes,
                    this.userBiometrics = e.userBiometrics,
                    this.userCourses = e.userCourses,
                    this.course = e.course,
                    this.selectedGear = e.selectedGear,
                    this.selectedActivity = this.model,
                    this.activityTimeZone = e.activityTimeZone,
                    this.isRepCounting = e.isRepCounting,
                    "undefined" != typeof e.activityTypeReadOnly ? this.activityTypeReadOnly = e.activityTypeReadOnly : this.activityTypeReadOnly = !0,
                    c.a.viewerIsAuthenticated) {
                        if (!this.activityTypes)
                            throw "Activity Types required for ActivityIntroView";
                        if (!this.eventTypes)
                            throw "Event Types required for ActivityIntroView";
                        if (!this.userBiometrics)
                            throw "UserBiometrics required for ActivityIntroView"
                    }
                    this.model.on("error", this.onActivitySaveFailure, this),
                    this.model.on("sync", this.onActivitySaveSuccess, this),
                    this.setupPreviousAndNext()
                },
                updateModels: function(e, t, i) {
                    this.selectedActivity = e,
                    this.selectedGear = t,
                    this.course = i
                },
                render: function() {
                    var e = this.model.toJSON();
                    e.activityName = e.activityName || o.a.localize("untitled");
                    var t = C.a.formatFriendlyDateAndTime(b.a.parseISO(e.startTimeLocal));
                    e.activityTimeDisplayValue = t.substring(t.indexOf("@") + 1, t.length),
                    e.activityDateDisplayValue = t.substring(0, t.indexOf("@") + 1),
                    e.timeZoneDisplayValue = this.activityTimeZone,
                    e.ownerNameDisplayValue = this.model.get("metadataDTO").userInfoDto.fullname || this.model.get("metadataDTO").userInfoDto.displayname;
                    var i = null;
                    this.course && (i = this.course.toJSON());
                    var a = this.template({
                        Localizer: o.a,
                        Personalizer: l.a,
                        activity: e,
                        url: w.default.url,
                        activityTypeClassMapper: x.a,
                        activityTypeReadOnly: this.activityTypeReadOnly,
                        readOnly: this.readOnly,
                        course: i,
                        isRepCounting: this.isRepCounting
                    });
                    if (this.$el.html(a),
                    !this.readOnly) {
                        var n = {
                            el: this.$("#activity-name-edit"),
                            value: this.model.get("activityName") || o.a.localize("untitled"),
                            disableEditOnClickText: !0,
                            maxLength: 75
                        };
                        if (S.a.isDivingActivity(this.model.get("activityTypeDTO").typeKey) && (this.$(".date-block").hide(),
                        n.formatClass = "diving",
                        n.tag = "span"),
                        S.a.isAutoRacingActivity(this.model.get("activityTypeDTO").typeKey) && (this.$(".date-block").hide(),
                        n.formatClass = "auto_racing",
                        n.tag = "span"),
                        S.a.isResortSkiActivity(this.model.get("activityTypeDTO").typeKey) && (this.$(".date-block").hide(),
                        n.formatClass = "resort_skiing_snowboarding",
                        n.tag = "span"),
                        S.a.isDivingActivity(this.model.get("activityTypeDTO").typeKey) && !S.a.isApneaDiving(this.model.get("activityTypeDTO").typeKey) ? (n.diveNumber = this.model.get("diveNumber"),
                        this.inlineEditView = new m.a(n),
                        this.inlineEditView.bind(p.a.Events.CHANGE, this.onDivingActivityNameAndNumberConfirmed, this)) : (this.inlineEditView = new u.a(n),
                        this.inlineEditView.bind(p.a.Events.CHANGE, this.onActivityNameConfirmed, this)),
                        this.inlineEditView.bind(p.a.Events.CANCEL, this.onActivityNameCancelled, this),
                        this.inlineEditView.bind(p.a.Events.EDIT, this.onEnterEditActivityName, this),
                        this.inlineEditView.render(),
                        !this.activityTypeReadOnly) {
                            var r = this.model.get("activityTypeDTO").typeId
                              , s = S.a.formatActivityTypesForDropdownList(this.activityTypes, !0);
                            S.a.isActivityTypeFound("value", r, this.activityTypes, !0) || (r = this.activityTypes.findByTypeKey(S.a.unknownActivityTypeDefault).get("typeId")),
                            e.metadataDTO.isAtpActivity && (s = S.a.filterActivityTypesByParent(s, ["running", "walking"])),
                            this.inlineActivityTypeDropDownListView = new f.a({
                                el: this.$("#activityTypeDropdownPlaceholder"),
                                items: s,
                                value: r,
                                className: "input-large",
                                formatClass: ""
                            }),
                            this.inlineActivityTypeDropDownListView.bind(f.a.Events.CHANGE, this.onActivityTypeChanged, this),
                            this.inlineActivityTypeDropDownListView.render()
                        }
                        S.a.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey) || (this.inlineEventTypeDropDownListView = new A.a({
                            el: this.$("#event-type-dropdown"),
                            items: this.getEventTypesForDropDownList(),
                            value: this.model.get("eventTypeDTO").typeId,
                            label: o.a.localize("event_type"),
                            formatClass: "",
                            scrollable: !1
                        }),
                        this.inlineEventTypeDropDownListView.bind(A.a.Events.CHANGE, this.onEventTypeChanged, this),
                        this.inlineEventTypeDropDownListView.render());
                        var c = e.associatedCourseId || -1;
                        S.a.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey) || this.userCourses.models.length > 0 && (this.inlineCourseDropDownListView = new v.a({
                            el: this.$("#course-dropdown"),
                            items: this.getCourseForDropDownList(),
                            value: c,
                            label: o.a.localize("course_label"),
                            formatClass: "",
                            scrollable: !1
                        }),
                        this.inlineCourseDropDownListView.bind(A.a.Events.CHANGE, this.onCourseChanged, this),
                        this.inlineCourseDropDownListView.render())
                    }
                    this.selectedGear && (this.activityGearView && this.activityGearView.stopListening(),
                    S.a.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey) || (this.activityGearView = new y.a({
                        el: this.$("#gearStatusViewPlaceholder"),
                        selectedGear: this.selectedGear,
                        model: this.selectedActivity,
                        readOnly: this.readOnly
                    }),
                    this.activityGearView.render())),
                    E.a.renderTooltips.call(this),
                    this.renderPrTrophy(),
                    this.updateNextAndPreviousButtons()
                },
                renderPrTrophy: function() {
                    this.model.get("personalRecord") && !this.readOnly && (e('<i class="icon-personal-records has-tooltip" data-placement="bottom" data-html="true" title=""></i>').appendTo(".trophy-container"),
                    this.prsTooltipView && (this.prsTooltipView.off(),
                    this.prsTooltipView.stopListening(),
                    this.prsTooltipView.remove()),
                    this.prsTooltipView = new g.a({
                        el: this.$(".icon-personal-records"),
                        activityId: this.model.id
                    }))
                },
                hidePrTrophy: function() {
                    this.$(".icon-personal-records").remove(),
                    this.prsTooltipView && (this.prsTooltipView.remove(),
                    this.prsTooltipView = null)
                },
                disableNextButton: function() {
                    this.$(".page-next").addClass("disabled")
                },
                enableNextButton: function() {
                    this.$(".page-next").removeClass("disabled")
                },
                disablePreviousButton: function() {
                    this.$(".page-previous").addClass("disabled")
                },
                enablePreviousButton: function() {
                    this.$(".page-previous").removeClass("disabled")
                },
                setupPreviousAndNext: function() {
                    this.activityRelative = new h.a({
                        activityId: this.model.id
                    });
                    var e = this;
                    this.activityRelative.fetch({
                        success: function() {
                            e.previousId = e.activityRelative.get("previousActivityId"),
                            e.nextId = e.activityRelative.get("nextActivityId"),
                            e.updateNextAndPreviousButtons()
                        }
                    })
                },
                updateNextAndPreviousButtons: function() {
                    this.previousId ? this.enablePreviousButton() : this.disablePreviousButton(),
                    this.nextId ? this.enableNextButton() : this.disableNextButton()
                },
                onNextButtonClicked: function() {
                    this.nextId && (this.trigger(P.PrepareToNavigate),
                    w.default.navigate("/activity/" + this.nextId),
                    this.pushActivityNavigationToAnalytics())
                },
                onPreviousButtonClicked: function() {
                    this.previousId && (this.trigger(P.PrepareToNavigate),
                    w.default.navigate("/activity/" + this.previousId),
                    this.pushActivityNavigationToAnalytics())
                },
                pushActivityNavigationToAnalytics: function() {
                    T.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: "Activity Navigation"
                    })
                },
                onActivityNameConfirmed: function(t) {
                    (t = e.trim(t)) != o.a.localize("untitled") && (this.model.set("activityName", t),
                    this.model.save()),
                    this.inlineEditView.render(),
                    this.renderPrTrophy(),
                    this.trigger(P.ActivityNameChanged, t)
                },
                onDivingActivityNameAndNumberConfirmed: function(e, t) {
                    this.model.set("activityName", e),
                    this.model.set("diveNumber", t),
                    this.model.save(),
                    this.inlineEditView.setDiveNumber(t),
                    this.inlineEditView.render(),
                    this.renderPrTrophy(),
                    this.trigger(P.ActivityNameChanged, e, t)
                },
                onActivityNameCancelled: function() {
                    this.renderPrTrophy()
                },
                onEnterEditActivityName: function() {
                    this.hidePrTrophy()
                },
                onActivityTypeChanged: function(e) {
                    var t = this.activityTypes.findByTypeId(e)
                      , i = !this.activityTypes.isSameParentActivityType(t, new d.a(this.model.get("activityTypeDTO")));
                    this.model.set("activityTypeDTO", t.toJSON());
                    var a = this.userBiometrics.getWeightInKg();
                    if (t && this.model.get("autoCalcCalories")) {
                        var n = _.a.autoCalcCalories(t.get("typeKey"), a, this.model.get("duration"), this.model.get("distance"));
                        n && this.model.set("calories", n)
                    }
                    this.model.save(),
                    this.setActivityTypeIcon(t),
                    this.trigger(P.ActivityTypeChanged, t.get("typeKey"), i)
                },
                onEventTypeChanged: function(e) {
                    var t = this.eventTypes.findByTypeId(e);
                    this.model.set("eventTypeDTO", t.toJSON()),
                    this.model.save(),
                    this.trigger(P.EventTypeChanged, e)
                },
                onCourseChanged: function(e) {
                    e && -1 != e ? this.model.set("associatedCourseId", e) : this.model.set("associatedCourseId", null),
                    this.model.save()
                },
                getEventTypesForDropDownList: function() {
                    var e = [];
                    return this.eventTypes.each(function(t) {
                        var i = t.get("typeKey");
                        "all" != i && e.push({
                            name: o.a.localize(i),
                            value: t.get("typeId")
                        })
                    }, this),
                    e = n.a.sortBy(e, function(e) {
                        return e.name
                    })
                },
                getCourseForDropDownList: function() {
                    var e = [];
                    return e.push({
                        name: "--",
                        value: -1
                    }),
                    this.userCourses.each(function(t) {
                        e.push({
                            name: t.get("courseName"),
                            value: t.id
                        })
                    }, this),
                    e
                },
                setActivityTypeIcon: function(e) {
                    var t = this.$(".activity-type-icon")
                      , i = t.attr("class").split(" ");
                    n.a.each(i, function(e) {
                        "icon-activity-" == e.substr(0, 14) && t.removeClass(e)
                    }),
                    t.addClass("icon-activity-" + x.a.map(e.get("typeKey")))
                },
                onActivitySaveSuccess: function() {
                    this.model.startTracking()
                },
                onActivitySaveFailure: function() {
                    alert(o.a.localize("error_saving_activity"))
                },
                onCourseNameClicked: function(e) {
                    w.default.anchorTagHandler(e),
                    e.stopPropagation()
                }
            });
            z.Events = P,
            t.a = z
        }
        ).call(this, i(10))
    },
    4204: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(1279)
          , s = i(4205)
          , o = i.n(s)
          , l = r.a.extend({
            scrollable: !1,
            template: n.a.template(o.a),
            initialize: function(e) {
                e.scrollable = !1,
                r.a.prototype.initialize.call(this, e)
            }
        });
        t.a = l
    },
    4205: function(e, t) {
        e.exports = '<%\nif (selectedItem && selectedItem.value != -1) {\n    var escapedCourseName = jQuery(\'<div/>\').text(selectedItem.name).html();\n    courseLinkHtml = \'<a href="/modern/course/\' + selectedItem.value + \'" class="course-name colored">\' + escapedCourseName + \'</a>\';\n} else {\n    var courseLinkHtml = \'--\';\n}\n%>\n<div class="dropdown">\n    <span class="dropdown-toggle" data-toggle="dropdown">\n        <%- label %>: <%= courseLinkHtml %>\n        <i class="icon-pointer-down"></i>\n    </span>\n    <ul class="dropdown-menu pull-left" role="menu" aria-labelledby="dropdownMenu">\n        <% for (var i = 0; i < items.length; i++) {         %>\n        <% var item = items[i];                             %>\n        <li data-value="<%- item.value %>"><a tabindex="-1" href="#"><%- item.name %></a></li>\n        <% }                                                %>\n    </ul>\n</div>'
    },
    4206: function(e, t) {
        e.exports = '\x3c!--Page Feature--\x3e\n<div class="page-header-content">\n    <h1 class="page-feature clearfix">\n        <%\n            // Html encode this to prevent XSS\n            var linkHtml = \'<a href="\' + url(\'/profile/\' + activity.metadataDTO.userInfoDto.displayname) + \'" class="colored">\' + _.escape(activity.ownerNameDisplayValue) + \'</a>\';\n\n            if (course) {\n                courseLinkHtml = \'<a href="/modern/course/\' + course.courseId + \'" class="course-name colored">\' + _.escape(course.name) + \'</a>\';\n            } else {\n                var courseLinkHtml = \'--\';\n            }\n\n            var dateHtml = \'\';\n            if (activity.timeZoneDisplayValue) {\n                dateHtml = activity.activityDateDisplayValue + \'<span title="\' + activity.timeZoneDisplayValue +\'" class="activity-title-time has-tooltip" data-placement="bottom">\' + activity.activityTimeDisplayValue +\'</span>\';\n            } else {\n                dateHtml = activity.activityDateDisplayValue + \'<span class="activity-title-time has-tooltip" title="">\' + activity.activityTimeDisplayValue +\'</span>\';\n            }\n\n        %>\n\n\n        <div class="pull-left activity-detail-title">\n            <% if (!activityTypeReadOnly && !readOnly) { %>\n                <span id="activityTypeDropdownPlaceholder" class="dropdown"></span>\n            <% } else { %>\n                <%- Localizer.localize(\'activity_type_\' + activity.activityTypeDTO.typeKey) %>\n            <% } %>\n            <%= Localizer.localize(\'activity_type_by\', linkHtml, dateHtml) %>\n        </div>\n    </h1>\n    <i class="activity-type-icon pull-left icon-activity-<%- activityTypeClassMapper.map(activity.activityTypeDTO.typeKey) %>"></i>\n    \x3c!--Page Title--\x3e\n    <h3 class="page-title">\n        <div class="data-bit">\n            <% if (!readOnly) { %>\n                <div class="trophy-container" id="activity-name-edit"></div>\n            <% } else { %>\n                <span class="trophy-container page-title-overflow"><%- activity.activityName %></span>\n            <% } %>\n        </div>\n    </h3>\n\n    <div class="date-block">\n        <span class="event-type">\n            <% if (!readOnly) { %>\n            <span id="event-type-dropdown" class="dropdown"></span>\n            <% } else { %>\n            <%- Localizer.localize(\'event_type_label\', Localizer.localize(activity.eventTypeDTO.typeKey)) %>\n            <% } %>\n        </span>\n        <% if(!isRepCounting) { %>\n            <span class="course-type">\n                <% if (!readOnly) { %>\n                    <span id="course-dropdown" class="dropdown"></span>\n                <% } else { %>\n                    <%= Localizer.localize(\'activity_course_link\', courseLinkHtml) %>\n                <% } %>\n            </span>\n        <% } %>\n        <span id="gearStatusViewPlaceholder" class="gear-indicator"></span>\n    </div>\n</div>\n\n<div class="page-navigation">\n    <button class="page-previous page-navigation-action" title="<%- Localizer.localize(\'previous\') %>"><i class="icon-arrow-left"></i></button>\n    <button class="page-next page-navigation-action" title="<%- Localizer.localize(\'next\') %>"><i class="icon-arrow-right"></i></button>\n</div>\n'
    },
    4207: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n, r = i(7), s = i.n(r), o = i(8), l = i.n(o), c = i(4), h = i(13), d = i(1500), p = i.n(d), u = i(36), m = i(1410), g = i(4208), f = i(82), v = i(1234), y = i(1289), A = i(218), _ = i(102), b = i(64), C = i(1581), w = i(4209), x = i(4210), S = i(259), T = i(4212), E = i.n(T), L = i(45), k = {
                OnContentsRendered: "OnContentsRendered",
                onMapCoordinateSystemClicked: "onMapCoordinateSystemClicked"
            }, P = {
                cycling: "#ff0000",
                running: "#003300",
                swimming: "#0000ff",
                transition: "#CCCC00",
                other: null
            }, z = {
                color: "#ff0035",
                videoColor: "#11a9ed",
                width: 5
            }, I = 0, D = 2, M = l.a.View.extend({
                template: s.a.template(E.a),
                events: {
                    "click .play": "onPlayerButtonClicked",
                    "click .pause": "onPlayerButtonClicked",
                    "click #fullScreenBtn": "onFullScreenBtnClicked"
                },
                initialize: function(e) {
                    if (this.mapProvider = e.mapProvider,
                    this.activityDetails = e.activityDetails,
                    this.activitySplits = e.activitySplits,
                    this.userMapSetting = e.userMapSetting,
                    this.activityTypes = e.activityTypes,
                    this.player = e.player,
                    this.weather = e.weather,
                    this.segmentEntities = [],
                    this.markers = [],
                    this.polylines = [],
                    this.childActivities = e.childActivities,
                    this.videoClips = e.videoClips,
                    this.mapPolyline = [],
                    this.markerPoints = [],
                    this.customLayers = [],
                    this.coordinateSystem = I,
                    !this.activityDetails)
                        throw "activityDetails required for ActivityMapView";
                    this.jumps = e.jumps,
                    this.isFullScreen = e.isFullScreen || !1,
                    this.additionalMapLayers = e.additionalMapLayers,
                    this.listenTo(this.activityDetails, "sync", this.renderContent)
                },
                setActivity: function(e, t, i, a, n) {
                    this.player.clear().set(this.player.defaults),
                    this.model = e,
                    this.activityDetails = t,
                    this.activitySplits = i,
                    this.activityTypedSplits = a,
                    this.weather = n,
                    this.destroy(),
                    this.markers = [],
                    this.polylines = [],
                    this.customLayers = [],
                    this.weatherView && (this.weatherView.stopListening(),
                    this.weatherView.$el.empty(),
                    this.weatherView = null),
                    this.markerPoints = [],
                    this.hideLaps(),
                    this.mapControlsView.showLapsToggle = this.showLapsToggle(),
                    this.rendered = !1
                },
                hasLaps: function() {
                    return this.activitySplits && this.activitySplits.get("lapDTOs") && this.activitySplits.get("lapDTOs").length > 1
                },
                showLapsToggle: function() {
                    return this.hasLaps() && !this.model.isParent()
                },
                render: function() {
                    var t = this.template({
                        Localizer: c.a,
                        Personalizer: h.a,
                        model: this.model.toJSON(),
                        hasPlayButton: !this.isDivingActivity(),
                        isFullScreen: this.isFullScreen
                    });
                    this.$el.html(t),
                    this.mapView = new y.a({
                        mapContainerId: "activity-map-canvas",
                        mapContainerClass: this.isDivingActivity() && !this.isApneaDiving() ? "short" : "",
                        width: "100%",
                        height: 400,
                        viewerIsAuthenticated: u.a.viewerIsAuthenticated,
                        disablePanning: !1,
                        disableZooming: !1,
                        enableBikeLanes: !1,
                        el: this.$("#activity-map-canvas"),
                        mapProvider: this.mapProvider
                    }),
                    this.mapControlsView = new w.a({
                        mapView: this.mapView,
                        userMapSetting: this.userMapSetting,
                        el: this.$("#map-controls"),
                        showLapsToggle: this.showLapsToggle(),
                        hideHeatMaps: !0,
                        lapToggleText: this.isDivingActivity() ? c.a.localize("activity_map_dives") : c.a.localize("activity_map_laps"),
                        additionalMapLayers: this.additionalMapLayers
                    }),
                    this.mapControlsView.on(w.a.Events.ON_MAP_PROVIDER_CHANGED, this.onMapViewProviderChanged, this),
                    this.mapControlsView.on(w.a.Events.LapsToggled, this.onLapsToggled, this),
                    this.mapControlsView.on(w.a.Events.ENABLE_DISABLE_MAP_SCROLL, this.enableDisableMapScrolling, this),
                    this.mapControlsView.on(w.a.Events.ON_MAP_COORDINATE_SYSTEM_SELECTED, this.onMapCoordinateSystemSelected, this),
                    this.mapView.render(),
                    this.mapView.bind(y.a.Events.ON_MAP_READY, this.onMapReady, this),
                    this.mapView.loadMap(),
                    this.renderContent();
                    var i = this;
                    e(window).on("resize.activityMapView", function() {
                        i.mapView.onWindowResized()
                    }),
                    this.isFullScreen && this.displayFullscreen(this.isFullScreen)
                },
                renderContent: function() {
                    if (this.mapView && this.mapView.mapHasBeenInitialized() && !this.rendered && (this.polyline = this.mapPolyline,
                    this.polyline && !(this.polyline.length < 1))) {
                        if (this.polylinePoints = [],
                        this.model.isParent())
                            if (A.a.userInChina()) {
                                for (var e = this, t = 0; t < this.polyline.length; t++)
                                    if (p.a.isOutOfChina(this.polyline[t].lat, this.polyline[t].lon)) {
                                        this.disableConvert = !0;
                                        break
                                    }
                                p.a.convertMultiplePointsHasType(this.polyline, function(t) {
                                    e.renderParentPolylines(t)
                                }, e.coordinateSystem, e.disableConvert)
                            } else
                                this.renderParentPolylines(this.polyline);
                        else if ((this.model.hasParent() || this.isSafetyEvent()) && (this.parentActivityType = this.activityTypes.getParentType(this.model.getActivityTypeKey()),
                        this.parentTypeKey = this.parentActivityType ? this.parentActivityType.get("typeKey") : null),
                        A.a.userInChina()) {
                            for (e = this,
                            t = 0; t < this.polyline.length; t++)
                                if (p.a.isOutOfChina(this.polyline[t].lat, this.polyline[t].lon)) {
                                    this.disableConvert = !0;
                                    break
                                }
                            p.a.convertMultiplePointsHasType(this.polyline, function(t) {
                                e.renderPolyline(t, {
                                    parentActivityTypeKey: e.parentTypeKey,
                                    zoomToBounds: !0,
                                    markersOnly: e.isDivingActivity()
                                })
                            }, e.coordinateSystem, e.disableConvert)
                        } else
                            this.renderPolyline(this.polyline, {
                                parentActivityTypeKey: this.parentTypeKey,
                                zoomToBounds: !0,
                                markersOnly: this.isDivingActivity()
                            });
                        if (this.weather && this.weather.has("temp") && (this.weatherView = new x.a({
                            el: this.$("#weather-controls"),
                            weather: this.weather,
                            activityType: this.model.get("activityTypeDTO").typeKey
                        }),
                        this.weatherView.render()),
                        this.player) {
                            var i = s.a.throttle(this.onPlayerXChanged, 100);
                            this.listenTo(this.player, "change:x", i, this),
                            this.listenTo(this.player, "change:mode", this.onPlayerPlaybackChanged)
                        }
                        this.jumps && this.jumps.length > 0 && this.addJumpMarkers(),
                        this.mapControlsView && this.mapControlsView.render(),
                        this.rendered = !0,
                        this.mapCanvas = this.$("#activity-map-canvas"),
                        window.matchMedia("(max-width: 767px)").matches ? "google" !== this.mapProvider && this.mapCanvas.addClass("pointer-events-none") : this.mapControlsView.hideScrollToggleButton(),
                        this.trigger(k.OnContentsRendered)
                    }
                },
                renderParentPolylines: function(e) {
                    var t = this.activitySplits.get("lapDTOs");
                    if (!t || t.length < 2)
                        return this.renderPolyline(e, {
                            zoomToBounds: !0
                        });
                    for (var i = [], a = 0, n = [], r = 1; r < t.length; r++) {
                        n = [];
                        for (var s = t[r], o = f.a.parseISOUTC(s.startTimeGMT).getTime(); a < e.length; a++) {
                            var l = e[a];
                            if (l.time >= o)
                                break;
                            n.push(l)
                        }
                        i.push(n)
                    }
                    for (n = []; a < e.length; a++)
                        l = e[a],
                        n.push(l);
                    for (i.push(n),
                    r = 0; r < i.length; r++) {
                        var c = i[r]
                          , h = this.childActivities.at(r);
                        if (h) {
                            var d = v.a.map(h.get("activityTypeDTO").typeKey);
                            P[d]
                        }
                        var p = this.activityTypes.getParentType(h.getActivityTypeKey())
                          , u = p ? p.get("typeKey") : null;
                        this.renderPolyline(c, {
                            displayEnd: r == i.length - 1,
                            parentActivityTypeKey: u,
                            zoomToBounds: !1
                        })
                    }
                    this.isFullScreen ? this.fitMapToActivity() : this.zoomToMarkerBounds()
                },
                isWithinTimeFrame: function(e, t, i) {
                    var a = !1;
                    return e.time >= t && e.time <= i && (a = !0),
                    a
                },
                isWithinTimeFrames: function(e, t) {
                    var i = this;
                    return t.some(function(t) {
                        return i.isWithinTimeFrame(e, t.start, t.end)
                    })
                },
                coloredPolylines: function(e, t) {
                    var i = this
                      , n = []
                      , r = []
                      , s = []
                      , o = !1;
                    if (e.forEach(function(e) {
                        var l = new a.Map.Point(e.lat,e.lon);
                        if (n.push(l),
                        i.isWithinTimeFrames(e, t)) {
                            if (r.length > 0) {
                                r.push(l);
                                var c = i.mapView.addPolyline(r, {
                                    width: z.width,
                                    strokeColor: z.color,
                                    clickable: !0
                                });
                                c && i.polylines.push(c),
                                r = []
                            }
                            0 == o && (o = !0),
                            s.push(l)
                        } else if (r.push(l),
                        o) {
                            o = !1,
                            s.push(l);
                            var h = i.mapView.addPolyline(s, {
                                width: z.width,
                                strokeColor: z.videoColor,
                                clickable: !0
                            });
                            h && i.polylines.push(h),
                            s = []
                        }
                    }),
                    s.length > 1) {
                        var l = this.mapView.addPolyline(s, {
                            width: z.width,
                            strokeColor: z.videoColor,
                            clickable: !0
                        });
                        l && this.polylines.push(l)
                    }
                    if (r.length > 1) {
                        var c = this.mapView.addPolyline(r, {
                            width: z.width,
                            strokeColor: z.color,
                            clickable: !0
                        });
                        c && this.polylines.push(c)
                    }
                    this.polylinePoints = this.polylinePoints.concat(n)
                },
                renderPolyline: function(e, t) {
                    t = t || {};
                    var i = !!s.a.isUndefined(t.displayEnd) || t.displayEnd
                      , n = t.parentActivityTypeKey
                      , r = t.zoomToBounds
                      , o = !s.a.isUndefined(t.markersOnly) && t.markersOnly;
                    if (!(e.length < 1)) {
                        if (!o) {
                            var l = [];
                            this.activityTypedSplits && this.activityTypedSplits.length > 0 ? (l = this.activityTypedSplits.getHighlightedTimeRanges(),
                            z.color = L.red_light_3) : this.videoClips && this.videoClips.length > 0 && (l = this.videoClips.getHighlightedTimeRanges());
                            var c = [];
                            if (l.length > 0)
                                this.coloredPolylines(e, l);
                            else {
                                var h = z.color;
                                n && (h = S.a.mapPolylineColor(n));
                                for (var d = 0; d < e.length; d++) {
                                    var u = e[d];
                                    c.push(new a.Map.Point(u.lat,u.lon))
                                }
                                var m = this.mapView.addPolyline(c, {
                                    width: z.width,
                                    strokeColor: h,
                                    clickable: !0
                                });
                                m && this.polylines.push(m)
                            }
                            this.polylinePoints = this.polylinePoints.concat(c),
                            r && this.fitMapToActivity()
                        }
                        var g = e[0]
                          , f = e[e.length - 1];
                        this.markerPoints.push(g),
                        this.markerPoints.push(f),
                        this.setDisplayEnd(i),
                        this.setParentActivityTypeKey(n),
                        this.markerPoints.push(g),
                        this.markerPoints.push(f),
                        this.markers.push(this.mapView.addMarker(g.lat, g.lon, A.a.getStartMarkerOptions(n))),
                        i && this.markers.push(this.mapView.addMarker(f.lat, f.lon, A.a.getEndMarkerOptions())),
                        o && r && this.zoomToMarkerBounds(),
                        s.a.each(this.polylines, function(e) {
                            try {
                                this.mapView.addLineListener(a.Map.Utils.EVENT_MOUSE_OVER, s.a.bind(function(e) {
                                    if ("undefined" != typeof e.eventPoint) {
                                        var t = e.eventPoint.lat
                                          , i = e.eventPoint.lon;
                                        if (A.a.userInChina()) {
                                            for (var a = this.activityDetails.get("directLatitude"), n = this.activityDetails.get("directLongitude"), r = [], s = this, o = 0; o < a.length; o++)
                                                a[o] && n[o] && r.push({
                                                    lat: a[o],
                                                    lon: n[o]
                                                });
                                            this.disableConvert = !1;
                                            for (o = 0; o < r.length; o++)
                                                if (p.a.isOutOfChina(r[o].lat, r[o].lon)) {
                                                    this.disableConvert = !0;
                                                    break
                                                }
                                            p.a.convertMultiplePointsHasType(r, function(e) {
                                                for (var a = [], n = [], r = 0; r < e.length; r++)
                                                    a.push(e[r].lat),
                                                    n.push(e[r].lon);
                                                var o = s.findClosestPointForBaidu(t, i, a, n);
                                                s.closestPointIndex = o,
                                                s.player.set("x", s.activityDetails.get("sumDuration")[o])
                                            }, s.coordinateSystem, s.disableConvert)
                                        } else {
                                            var l = this.findClosestPoint(t, i);
                                            this.player.set("x", this.activityDetails.get("sumDuration")[l])
                                        }
                                    }
                                }, this), e)
                            } catch (t) {}
                        }, this)
                    }
                },
                zoomToMarkerBounds: function() {
                    this.mapView.fitMapToPoints(this.markerPoints)
                },
                displayLaps: function() {
                    if (!this.lapsAreDisplayed) {
                        var e = this.activitySplits.get("lapDTOs");
                        e && (this.lapMarkerIds = [],
                        this.lapsAreDisplayed = !0,
                        s.a.each(e, function(e) {
                            var t = this;
                            if (A.a.userInChina()) {
                                if (p.a.isOutOfChina(e.startLatitude, e.startLongitude) && (this.disableConvert = !0),
                                !this.disableConvert) {
                                    var i = {
                                        lat: e.startLatitude,
                                        lng: e.startLongitude
                                    };
                                    p.a.convertHasType(i, function(i) {
                                        i && i.lat && i.lon && e.lapIndex > 1 && t.lapMarkerIds.push(t.mapView.addNumberedMarker(i.lat, i.lon, A.a.getLapMarkerOptions(), e.lapIndex - 1))
                                    }, t.coordinateSystem)
                                }
                            } else
                                e.startLatitude && e.startLongitude && e.lapIndex > 1 && this.lapMarkerIds.push(this.mapView.addNumberedMarker(e.startLatitude, e.startLongitude, A.a.getLapMarkerOptions(), e.lapIndex - 1))
                        }, this))
                    }
                },
                displayDives: function() {
                    if (!this.lapsAreDisplayed) {
                        var e = this.activitySplits.get("lapDTOs");
                        e && (this.lapMarkerIds = [],
                        this.lapsAreDisplayed = !0,
                        s.a.each(e, function(e) {
                            this.lapMarkerIds.push(this.mapView.addNumberedMarker(e.startLatitude, e.startLongitude, A.a.getLapMarkerOptions(), e.lapIndex))
                        }, this))
                    }
                },
                addJumpMarkers: function() {
                    s.a.each(this.jumps.toJSON(), function(e) {
                        if (C.a.isValidLatitude(e.latitude) && C.a.isValidLongitude(e.longitude)) {
                            var t = this.mapView.addMarker(e.latitude, e.longitude, A.a.getJumpMarkerOptions(), null, null, null);
                            this.mapView.bindPopupToMarker({
                                closeButton: !1,
                                autoClose: !1,
                                className: "jump-map-tooltip",
                                popupText: "<b>" + c.a.localize("label_jump") + "</b><br/>" + this.getJumpText(e)
                            }, t)
                        }
                    }, this)
                },
                getJumpText: function(e) {
                    var t = "";
                    return null !== e.distance && (t += c.a.localize("label_jumps_distance") + ": " + h.a.personalizeMTBHeight(e.distance, c.a) + "<br/>"),
                    null !== e.hangTime && (t += c.a.localize("label_jumps_hangtime") + ": " + h.a.personalizeMTBSeconds(e.hangTime, c.a) + "<br/>"),
                    null !== e.speed && (t += c.a.localize("label_jumps_speed") + ": " + h.a.personalizeMTBSpeed(e.speed, this.model.get("activityTypeDTO").typeKey, c.a) + "<br/>"),
                    t
                },
                calculateLapInterval: function(e) {
                    return e <= 10 ? 1 : e <= 20 ? 2 : e <= 50 ? 5 : e <= 100 ? 10 : e <= 250 ? 25 : e <= 500 ? 50 : 100
                },
                showSegment: function(e) {
                    var t = new g.a({
                        uuid: e
                    });
                    t.once("sync", this.renderSegment, this),
                    t.fetch()
                },
                renderSegment: function(e) {
                    var t = e.get("geoPoints");
                    if (t && !(t.length < 1)) {
                        this.segmentEntity = {},
                        this.segmentEntity.segment = e;
                        for (var i = [], n = 0; n < t.length; n++) {
                            var r = t[n];
                            i.push(new a.Map.Point(r.latitude,r.longitude))
                        }
                        if (A.a.userInChina()) {
                            var s = this;
                            this.disableConvert = !1;
                            for (n = 0; n < i.length; n++)
                                if (p.a.isOutOfChina(i[n].lat, i[n].lon)) {
                                    this.disableConvert = !0;
                                    break
                                }
                            p.a.convertMultiplePoints(i, function(e) {
                                s.segmentEntity.polyline = s.mapView.addPolyline(e, {
                                    width: 2,
                                    strokeColor: "#0000ff"
                                }),
                                s.segmentEntity.startMarkerId = s.mapView.addMarker(e[0].lat, e[0].lon, A.a.getSegmentStartMarkerOptions()),
                                s.segmentEntity.endMarkerId = s.mapView.addMarker(e[e.length - 1].lat, e[e.length - 1].lon, A.a.getSegmentEndMarkerOptions()),
                                s.segmentEntities.push(s.segmentEntity)
                            }, s.disableConvert)
                        } else {
                            var o = t[0]
                              , l = t[t.length - 1];
                            this.segmentEntity.polyline = this.mapView.addPolyline(i, {
                                width: 2,
                                strokeColor: "#0000ff"
                            }),
                            this.segmentEntity.startMarkerId = this.mapView.addMarker(o.latitude, o.longitude, A.a.getSegmentStartMarkerOptions()),
                            this.segmentEntity.endMarkerId = this.mapView.addMarker(l.latitude, l.longitude, A.a.getSegmentEndMarkerOptions()),
                            this.segmentEntities.push(this.segmentEntity)
                        }
                    }
                },
                hideSegment: function(e) {
                    var t = s.a.find(this.segmentEntities, function(t) {
                        return t.segment.get("uuid") == e
                    });
                    t && this.removeSegmentEntity(t)
                },
                removeSegmentEntity: function(e) {
                    this.mapView.removeMarker(e.startMarkerId),
                    this.mapView.removeMarker(e.endMarkerId),
                    this.mapView.removePolyline(e.polyline),
                    this.segmentEntities = s.a.reject(this.segmentEntities, function(t) {
                        return e.segment.get("uuid") == t.segment.get("uuid")
                    })
                },
                removeSegmentEntities: function() {
                    var e = s.a.clone(this.segmentEntities);
                    s.a.each(e, function(e) {
                        this.removeSegmentEntity(e)
                    }, this)
                },
                hideLaps: function() {
                    this.lapsAreDisplayed && (s.a.each(this.lapMarkerIds, function(e) {
                        this.mapView.removeMarker(e)
                    }, this),
                    this.lapsAreDisplayed = !1)
                },
                findClosestPoint: function(e, t) {
                    for (var i = this.activityDetails.get("directLatitude"), a = this.activityDetails.get("directLongitude"), n = null, r = 99999999, s = 0; s < i.length; s++) {
                        var o = this.getDistanceFromLatLonInKm(e, t, i[s], a[s]);
                        o < r && (r = o,
                        n = s)
                    }
                    return n
                },
                findClosestPointForBaidu: function(e, t, i, a) {
                    for (var n = null, r = 99999999, s = 0; s < i.length; s++) {
                        var o = this.getDistanceFromLatLonInKm(e, t, i[s], a[s]);
                        o < r && (r = o,
                        n = s)
                    }
                    return n
                },
                getDistanceFromLatLonInKm: function(e, t, i, a) {
                    var n = this.deg2rad(i - e)
                      , r = this.deg2rad(a - t)
                      , s = Math.sin(n / 2) * Math.sin(n / 2) + Math.cos(this.deg2rad(e)) * Math.cos(this.deg2rad(i)) * Math.sin(r / 2) * Math.sin(r / 2);
                    return 6371 * (2 * Math.atan2(Math.sqrt(s), Math.sqrt(1 - s)))
                },
                deg2rad: function(e) {
                    return e * (Math.PI / 180)
                },
                onMapReady: function() {
                    this.renderContent()
                },
                onMapViewProviderChanged: function(e) {
                    this.isFullScreen && (n = !0),
                    this.mapProvider = e,
                    this.unloadMap(),
                    this.render()
                },
                onMapCoordinateSystemSelected: function() {
                    this.coordinateSystem === I ? (this.changedCoordinateSystem(D),
                    this.coordinateSystem = D) : (this.changedCoordinateSystem(I),
                    this.coordinateSystem = I)
                },
                changedCoordinateSystem: function(e) {
                    this.coordinateSystem = e,
                    this.rendered = !1,
                    this.destroy(),
                    this.updatePolyline();
                    var t = this.activityDetails.get("directLatitude")[this.currentDurationIndex]
                      , i = this.activityDetails.get("directLongitude")[this.currentDurationIndex]
                      , a = this;
                    if (p.a.isOutOfChina(t, i)) {
                        var n = this.mapView.addMarker(t, i, this.options);
                        this.currentPositionMarker && this.mapView.removeMarker(this.currentPositionMarker),
                        this.currentPositionMarker = n
                    } else
                        p.a.convertPointHasType([i, t], function(e) {
                            var t = a.mapView.addMarker(e.lat, e.lon, a.options);
                            a.currentPositionMarker && a.mapView.removeMarker(a.currentPositionMarker),
                            a.currentPositionMarker = t
                        }, a.coordinateSystem);
                    this.hideLaps()
                },
                onPlayerButtonClicked: function(e) {
                    e.preventDefault(),
                    this.player.togglePlayback()
                },
                onPlayerPlaybackChanged: function() {
                    this.player.get("mode") == m.a.Modes.Playing ? (this.$(".play").hide(),
                    this.$(".pause").show(),
                    this.pushPlayActivityAnalyticsEvents()) : (this.$(".pause").hide(),
                    this.$(".play").show())
                },
                pushPlayActivityAnalyticsEvents: function() {
                    _.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Play Activity"
                    })
                },
                onPlayerXChanged: function() {
                    if (this.activityDetails.has("polyline")) {
                        var e = this.player.get("x");
                        if (!(this.activityDetails.get("polyline").length < 1)) {
                            var t = this.activityDetails.get(this.player.get("xAxisType"));
                            if (t) {
                                "sumDistance" == this.player.get("xAxisType") && (e = h.a.revertDistance(e, this.model.getActivityTypeKey()));
                                for (var i, a, n = 0, r = 0; r < t.length; r++) {
                                    if (t[r] > e) {
                                        n = r - 1;
                                        break
                                    }
                                }
                                if (this.options = A.a.getPlayerPositionMarkerOptions(),
                                i = this.activityDetails.get("directLatitude")[n],
                                a = this.activityDetails.get("directLongitude")[n],
                                i && a)
                                    if (A.a.userInChina()) {
                                        this.currentDurationIndex = n;
                                        var s = this;
                                        if (p.a.isOutOfChina(i, a)) {
                                            var o = this.mapView.addMarker(i, a, this.options);
                                            this.currentPositionMarker && this.mapView.removeMarker(this.currentPositionMarker),
                                            this.currentPositionMarker = o
                                        } else
                                            p.a.convertPointHasType([a, i], function(e) {
                                                var t = s.mapView.addMarker(e.lat, e.lon, s.options);
                                                s.currentPositionMarker && s.mapView.removeMarker(s.currentPositionMarker),
                                                s.currentPositionMarker = t
                                            }, s.coordinateSystem)
                                    } else {
                                        o = this.mapView.addMarker(i, a, this.options);
                                        this.currentPositionMarker && this.mapView.removeMarker(this.currentPositionMarker),
                                        this.currentPositionMarker = o
                                    }
                            }
                        }
                    }
                },
                onLapsToggled: function(e) {
                    e ? this.isApneaDiving() ? this.displayDives() : this.displayLaps() : this.hideLaps()
                },
                unloadMap: function() {
                    this.removeSegmentEntities(),
                    this.removeCustomLayers(),
                    this.mapView && (this.mapView.off(),
                    this.mapView.$el.empty(),
                    this.mapView = null),
                    this.mapControlsView && (this.mapControlsView.off(),
                    this.mapControlsView.$el.empty(),
                    this.mapControlsView = null),
                    this.lapsAreDisplayed = !1,
                    this.rendered = !1,
                    e(window).off("resize.activityMapView")
                },
                hide: function() {
                    this.$el.hide()
                },
                show: function() {
                    this.$el.show()
                },
                enableDisableMapScrolling: function(e) {
                    s.a.isObject(e) && this.mapCanvas.toggleClass("pointer-events-none");
                    var t = this.mapCanvas.hasClass("pointer-events-none") ? c.a.localize("enable_scrolling") : c.a.localize("disable_scrolling");
                    this.mapControlsView.setTextForEnableDisableScrollButton(t)
                },
                updatePolyline: function() {
                    this.activityDetails.has("polyline") && !this.isDivingActivity() || !this.hasStartOrEndPoints() ? this.mapPolyline = this.activityDetails.get("polyline") : (this.hasStartPoint() && this.mapPolyline.push({
                        lat: this.model.get("startLatitude"),
                        lon: this.model.get("startLongitude")
                    }),
                    this.hasEndPoint() && this.mapPolyline.push({
                        lat: this.model.get("endLatitude"),
                        lon: this.model.get("endLongitude")
                    })),
                    this.renderContent()
                },
                hasStartPoint: function() {
                    return this.model.has("startLongitude") && this.model.has("startLatitude")
                },
                hasEndPoint: function() {
                    return this.model.has("endLongitude") && this.model.has("endLatitude")
                },
                hasStartOrEndPoints: function() {
                    return this.hasStartPoint() || this.hasEndPoint()
                },
                isDivingActivity: function() {
                    return b.a.isDivingActivity(this.model.get("activityTypeDTO").typeKey)
                },
                isApneaDiving: function() {
                    return b.a.isApneaDiving(this.model.get("activityTypeDTO").typeKey)
                },
                isSafetyEvent: function() {
                    return b.a.isSafetyEvent(this.model.get("activityTypeDTO").typeKey)
                },
                setDisplayEnd: function(e) {
                    this.displayEnd = e
                },
                getDisplayEnd: function() {
                    return this.displayEnd
                },
                setParentActivityTypeKey: function(e) {
                    this.parentActivityTypeKey = e
                },
                getParentActivityTypeKey: function() {
                    return this.parentActivityTypeKey
                },
                onFullScreenBtnClicked: function(e) {
                    this.isBackClicked && this.isBackInCode ? this.isBackInCode = !1 : (this.isFullScreen = !this.isFullScreen,
                    this.displayFullscreen(this.isFullScreen))
                },
                displayFullscreen: function(e) {
                    this.mapControlsView.setFullScreen(e),
                    this.toggleFullScreenMap(e),
                    this.handlingKeyboardEvent(e),
                    this.handleBackButton(e),
                    n && !e ? (n = !1,
                    this.unloadMap(),
                    this.render()) : (this.toggleFullScreenButton(),
                    this.mapView.resizeMap(),
                    this.zoomToActivity(e))
                },
                handleBackButton: function(e) {
                    if (!n || !e)
                        if (!this.isBackClicked && this.isHistoryPushed && (this.isHistoryPushed = !1,
                        this.isBackInCode = !0,
                        history.go(-1)),
                        e && !this.isHistoryPushed) {
                            this.isHistoryPushed = !0;
                            var t = -1 === location.href.indexOf("fullscreen=true") ? location.href + "?fullscreen=true" : location.href;
                            history.pushState(null, null, t);
                            var i = this;
                            window.onpopstate = function() {
                                i.isBackClicked = !0,
                                i.onFullScreenBtnClicked()
                            }
                        } else
                            this.isHistoryPushed = !1,
                            this.isBackClicked = !1,
                            window.onpopstate = null
                },
                fitMapToActivity: function() {
                    this.mapView.fitMapToPoints(this.polylinePoints)
                },
                zoomToActivity: function(e) {
                    this.model.isParent() && !e ? this.zoomToMarkerBounds() : this.fitMapToActivity()
                },
                toggleFullScreenMap: function(e) {
                    e ? (this.mapView.toggleMapInteraction(!0),
                    this.$el.addClass("full-screen-map")) : this.$el.removeClass("full-screen-map")
                },
                toggleFullScreenButton: function() {
                    this.$("#fullScreenBtn i").removeClass("hidden"),
                    this.isFullScreen ? this.$("#fullScreenBtn i.icon-full-screen").addClass("hidden") : this.$("#fullScreenBtn i.icon-close").addClass("hidden")
                },
                handlingKeyboardEvent: function(e) {
                    e ? (this.initialKeyUp = document.onkeyup,
                    document.onkeyup = this.handlingEscape.bind(this)) : document.onkeyup = this.initialKeyUp
                },
                handlingEscape: function(e) {
                    27 === e.keyCode && this.onFullScreenBtnClicked()
                },
                addGritLayer: function() {
                    var e = this;
                    if (s.a.each(this.polylines, function(e) {
                        this.mapView.removePolyline(e)
                    }, this),
                    this.customLayers.GRIT)
                        this.mapView.showPolyline(this.customLayers.GRIT.polyline),
                        this.customLayers.GRIT.visible = !0;
                    else {
                        var t = this.getHotlinePolyData(this.activityDetails.getGritData());
                        if (A.a.userInChina()) {
                            for (var i = 0; i < t.length; i++)
                                if (p.a.isOutOfChina(t[i].lat, t[i].lon)) {
                                    this.disableConvert = !0;
                                    break
                                }
                            if (this.disableConvert)
                                this.updateCustomLayerPoints("GRIT", t);
                            else {
                                var a = this;
                                this.gritPoints = t;
                                new Promise(function(e) {
                                    p.a.convertMultiplePointsHasType(t, function(t) {
                                        for (var i = 0; i < t.length; i++)
                                            a.gritPoints[i].lat = t[i].lat,
                                            a.gritPoints[i].lon = t[i].lon;
                                        e()
                                    }, a.coordinateSystem, a.disableConvert)
                                }
                                ).then(function(t) {
                                    e.updateCustomLayerPoints("GRIT", e.gritPoints),
                                    s.a.each(e.polylines, function(e) {
                                        this.mapView.removePolyline(e)
                                    }, e)
                                })
                            }
                        } else
                            this.updateCustomLayerPoints("GRIT", t)
                    }
                    this.userMapSetting.setCustom("GRIT" + (this.isMountainBikeActivity() ? "-MB" : ""), !0),
                    this.userMapSetting.save()
                },
                getHotlinePolyData: function(e) {
                    for (var t = [], i = this.activityDetails.get("directLongitude"), n = this.activityDetails.get("directLatitude"), r = 0; r < e.length; r++) {
                        var s = e[r]
                          , o = n[r]
                          , l = i[r];
                        null !== o && null !== l && t.push(new a.Map.Point(o,l,void 0,s))
                    }
                    return t
                },
                removeGritLayer: function() {
                    this.customLayers.GRIT && (this.mapView.removePolyline(this.customLayers.GRIT.polyline),
                    this.customLayers.GRIT.visible = !1,
                    this.userMapSetting.setCustom("GRIT" + (this.isMountainBikeActivity() ? "-MB" : ""), !1),
                    this.userMapSetting.save()),
                    this.customLayers.FLOW && this.customLayers.FLOW.visible || s.a.each(this.polylines, function(e) {
                        this.mapView.showPolyline(e)
                    }, this)
                },
                addFlowLayer: function() {
                    var e = this;
                    if (s.a.each(this.polylines, function(e) {
                        this.mapView.removePolyline(e)
                    }, this),
                    this.customLayers.FLOW)
                        this.mapView.showPolyline(this.customLayers.FLOW.polyline),
                        this.customLayers.FLOW.visible = !0;
                    else {
                        var t = this.getHotlinePolyData(this.activityDetails.getFlowData());
                        if (A.a.userInChina()) {
                            for (var i = 0; i < t.length; i++)
                                if (p.a.isOutOfChina(t[i].lat, t[i].lon)) {
                                    this.disableConvert = !0;
                                    break
                                }
                            if (this.disableConvert)
                                this.updateCustomLayerPoints("FLOW", t);
                            else {
                                var a = this;
                                this.flowPoints = t;
                                new Promise(function(e) {
                                    p.a.convertMultiplePointsHasType(t, function(t) {
                                        for (var i = 0; i < t.length; i++)
                                            a.flowPoints[i].lat = t[i].lat,
                                            a.flowPoints[i].lon = t[i].lon;
                                        e()
                                    }, a.coordinateSystem, a.disableConvert)
                                }
                                ).then(function(t) {
                                    e.updateCustomLayerPoints("FLOW", e.flowPoints),
                                    s.a.each(e.polylines, function(e) {
                                        this.mapView.removePolyline(e)
                                    }, e)
                                })
                            }
                        } else
                            this.updateCustomLayerPoints("FLOW", t)
                    }
                    this.userMapSetting.setCustom("FLOW" + (this.isMountainBikeActivity() ? "-MB" : ""), !0),
                    this.userMapSetting.save()
                },
                removeFlowLayer: function() {
                    this.customLayers.FLOW && (this.mapView.removePolyline(this.customLayers.FLOW.polyline),
                    this.customLayers.FLOW.visible = !1,
                    this.userMapSetting.setCustom("FLOW" + (this.isMountainBikeActivity() ? "-MB" : ""), !1),
                    this.userMapSetting.save()),
                    this.customLayers.GRIT && this.customLayers.GRIT.visible || s.a.each(this.polylines, function(e) {
                        this.mapView.showPolyline(e)
                    }, this)
                },
                destroy: function() {
                    this.stopListening(),
                    this.markers && s.a.each(this.markers, function(e) {
                        e && this.mapView.removeMarker(e)
                    }, this),
                    this.polylines && s.a.each(this.polylines, function(e) {
                        e && this.mapView.removePolyline(e)
                    }, this),
                    this.removeCustomLayers()
                },
                removeCustomLayers: function() {
                    s.a.each(s.a.keys(this.customLayers), function(e) {
                        this.customLayers[e] && this.customLayers[e].polyline && this.mapView.removePolyline(this.customLayers[e].polyline)
                    }, this)
                },
                updateCustomLayerPoints: function(e, t) {
                    var i, a, n;
                    switch (e) {
                    case "GRIT":
                        i = {
                            0: b.a.GritColorRanges.color_1,
                            .5: b.a.GritColorRanges.color_2,
                            1: b.a.GritColorRanges.color_3
                        },
                        a = b.a.GritColorRanges.max_1,
                        n = b.a.GritColorRanges.max_3;
                        break;
                    case "FLOW":
                    default:
                        i = {
                            0: b.a.FlowColorRanges.color_1,
                            .5: b.a.FlowColorRanges.color_2,
                            1: b.a.FlowColorRanges.color_3
                        },
                        a = b.a.FlowColorRanges.max_1,
                        n = b.a.FlowColorRanges.max_3
                    }
                    this.customLayers[e] = {
                        polyline: this.mapView.addHotlinePolyline(t, {
                            min: a,
                            max: n,
                            palette: i,
                            weight: 4,
                            outlineColor: "#000000",
                            outlineWidth: 1,
                            useEntireMapLatLngs: !0
                        }),
                        visible: !0
                    }
                },
                isMountainBikeActivity: function() {
                    return b.a.isMountainBikeActivity(this.model.get("activityTypeDTO").typeKey)
                }
            });
            M.Events = k,
            t.a = M
        }
        ).call(this, i(10), i(1242))
    },
    4208: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a).a.Model.extend({
            idAttribute: "uuid",
            urlRoot: "/proxy/course-service/segment/"
        });
        t.a = n
    },
    4209: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = (i(8),
        i(4))
          , s = i(1461)
          , o = s.a.extend({
            lapTemplateHtml: '<div class="map-control-item laps"><label for="laps-checkbox"><input type="checkbox" id="laps-checkbox"><%= lapToggleText %></label></div>',
            initialize: function(e) {
                s.a.prototype.initialize.call(this, e),
                this.showLapsToggle = e.showLapsToggle,
                this.isMobileViewScrollingEnabled = !1,
                this.lapToggleText = e.lapToggleText,
                this.isFullScreen = e.isFullScreen
            },
            render: function() {
                if (s.a.prototype.render.call(this),
                this.lapTemplate || (this.lapTemplate = n.a.template(this.lapTemplateHtml)),
                this.showLapsToggle && this.$el.append(this.lapTemplate({
                    Localizer: r.a,
                    lapToggleText: this.lapToggleText
                })),
                !this.isFullScreen) {
                    var e = this.isMobileViewScrollingEnabled ? r.a.localize("disable_scrolling") : r.a.localize("enable_scrolling")
                      , t = n.a.template('<button class="map-control-item scrolling visible-phone">' + e + "</button>");
                    "google" !== this.mapView.mapProvider && this.$el.append(t())
                }
            },
            setFullScreen: function(e) {
                this.isFullScreen = e,
                this.render()
            },
            onLapsToggled: function(e) {
                this.trigger(o.Events.LapsToggled, this.$("#laps-checkbox").is(":checked"))
            },
            onEnableDisableScrollingClicked: function(e) {
                this.isMobileViewScrollingEnabled = !this.isMobileViewScrollingEnabled,
                this.trigger(o.Events.ENABLE_DISABLE_MAP_SCROLL, e)
            }
        });
        o.prototype.events = n.a.clone(s.a.prototype.events),
        o.prototype.events["change #laps-checkbox"] = "onLapsToggled",
        o.prototype.events["click .scrolling"] = "onEnableDisableScrollingClicked",
        o.Events.LapsToggled = "LapsToggled",
        o.Events.ENABLE_DISABLE_MAP_SCROLL = "ENABLE_DISABLE_MAP_SCROLL",
        t.a = o
    },
    4210: function(e, t, i) {
        "use strict";
        var a, n = i(1), r = i(7), s = i.n(r), o = i(8), l = i.n(o), c = i(4), h = i(13), d = i(4211), p = i.n(d);
        t.a = l.a.View.extend({
            template: s.a.template(p.a),
            events: {
                click: "onWeatherViewClicked"
            },
            initialize: function(e) {
                if (this.weather = e.weather,
                this.activityType = e.activityType,
                !this.weather)
                    throw "weather required for ActivityMapWeatherView"
            },
            render: function() {
                this.$el.html(this.template({
                    Personalizer: h.a,
                    Localizer: c.a,
                    weather: this.weather.toJSON(),
                    activityType: this.activityType,
                    imageUrl: this.imageUrl()
                }))
            },
            onWeatherViewClicked: function() {
                this.toggleView()
            },
            toggleView: function() {
                this.$el.toggleClass("weather-large")
            },
            imageUrl: function() {
                var e = this.weather.get("weatherTypeDTO");
                return e ? this.mapWeatherDescriptionToImage(e.desc) : null
            },
            mapWeatherDescriptionToImage: function(e) {
                var t = this.weatherDescriptionToImage[e];
                return t ? "/web-images/weather/icon_weather_".concat(t) : null
            },
            weatherDescriptionToImage: (a = {},
            Object(n.a)(a, "Clear", "clear.svg"),
            Object(n.a)(a, "Mostly Clear", "clear.svg"),
            Object(n.a)(a, "Fair", "clear.svg"),
            Object(n.a)(a, "Cloudy", "cloudy.svg"),
            Object(n.a)(a, "Mostly Cloudy", "cloudy.svg"),
            Object(n.a)(a, "Fog", "fog.svg"),
            Object(n.a)(a, "Drizzle", "fog.svg"),
            Object(n.a)(a, "Mist", "fog.svg"),
            Object(n.a)(a, "Smoke", "fog.svg"),
            Object(n.a)(a, "Haze", "fog.svg"),
            Object(n.a)(a, "Dust", "fog.svg"),
            Object(n.a)(a, "Sand", "fog.svg"),
            Object(n.a)(a, "Volcanic Ash", "fog.svg"),
            Object(n.a)(a, "Hail", "hail.svg"),
            Object(n.a)(a, "Partly Cloudy", "partlycloudy.svg"),
            Object(n.a)(a, "Precip", "rain.svg"),
            Object(n.a)(a, "Rain", "rain.svg"),
            Object(n.a)(a, "Heavy Rain", "rain.svg"),
            Object(n.a)(a, "Light Rain", "rain.svg"),
            Object(n.a)(a, "Showers", "rain.svg"),
            Object(n.a)(a, "Light Showers", "rain.svg"),
            Object(n.a)(a, "Heavy Showers", "rain.svg"),
            Object(n.a)(a, "Heavy Snow", "snow.svg"),
            Object(n.a)(a, "Light Snow", "snow.svg"),
            Object(n.a)(a, "Snow", "snow.svg"),
            Object(n.a)(a, "Thunderstorm", "tstorm.svg"),
            Object(n.a)(a, "Tornado", "tornado.svg"),
            Object(n.a)(a, "Sqall", "wind.svg"),
            Object(n.a)(a, "Ice", "wintermix.svg"),
            a)
        })
    },
    4211: function(e, t) {
        e.exports = '<% var windSpeedVal = Personalizer.personalizeWindSpeed(weather.windSpeed); %>\n<% var unit = Localizer.localize(Personalizer.getWindSpeedUnitKey()); %>\n<% var windDir = (weather.windDirectionCompassPoint != \'N/A\' && weather.windDirectionCompassPoint !== null ) ? Localizer.localize(\'weather.wind.direction.\' + weather.windDirectionCompassPoint) : \'\' %>\n<div class="map-control-item">\n    <span class="trigger"><i class="icon-arrow-left"></i></span>\n    <% if (weather.temp != null) {  %>\n        <span class="temperature" title="<%- Personalizer.personalizeTemperature(weather.temp) %>\xb0 <%- Localizer.localize(Personalizer.getTemperatureUnitKey()) %>"><%- Personalizer.personalizeTemperature(weather.temp) %>\xb0</span>\n    <% } %>\n\n    <% if (weather.weatherTypeDTO && imageUrl) { %>\n        <span class="weather-icon" title="<%- weather.weatherTypeDTO.desc %>"><img src="<%- imageUrl %>" alt="<%- weather.weatherTypeDTO.desc %>"></span>\n    <% } %>\n\n    <% if (weather.windSpeed != null) { %>\n        <span class="wind wind-<%- weather.windDirectionCompassPoint %>" title="<%- Localizer.localize(\'wind_speed_and_direction\', windSpeedVal, unit, windDir) %>"><%- windSpeedVal %></span>\n    <% } %>\n\n    <% if (weather.relativeHumidity !== null && activityType === "auto_racing") { %>\n    <span class="humidity-percentage"><%- Localizer.localize(\'weather_humidity_percentage\', weather.relativeHumidity) %></span>\n    <% } %>\n    <span class="details">\n        <ul>\n            <% if (weather.apparentTemp != null) { %>\n            <li class="relativity"><%- Localizer.localize(\'weather_feels_like\', Personalizer.personalizeTemperature(weather.apparentTemp))  %></li>\n            <% } %>\n\n            <% if (weather.windSpeed != null) { %>\n            <li class="wind-details"><%- Localizer.localize(\'wind_speed_and_direction\', windSpeedVal, unit, windDir) %></li>\n            <% } %>\n\n            <% if (weather.relativeHumidity != null) { %>\n            <li class="humidity"><%- Localizer.localize(\'weather_percent_humidity\', weather.relativeHumidity) %></li>\n            <% } %>\n\n            <% if (weather.weatherStationDTO != null) { %>\n            <li class="source"><%- Localizer.localize(\'weather_source\', weather.weatherStationDTO.id) %></li>\n            <% } %>\n        </ul>\n    </span>\n</div>\n'
    },
    4212: function(e, t) {
        e.exports = '<div class="span12">\n    <div id="activity-map-canvas" class="activity-map-canvas" style="min-width: 300px;"></div>\n\n    <div id="map-controls" class="map-controls"></div>\n\n    <% if (hasPlayButton) { %>\n    <div class="map-controls player" title="<%- Localizer.localize(\'activity_player_tooltip\') %>">\n        <button class="map-control-item play" style="display: block;" aria-label="<%-\xa0Localizer.localize(\'icon_play\')\xa0%>"><i class="icon-pointer-right"></i></button>\n        <button class="map-control-item pause" style="display: none;" aria-label="<%-\xa0Localizer.localize(\'icon_pause\')\xa0%>"><span></span><span></span></button>\n    </div>\n    <% } %>\n\n    <div class="map-controls flex-wrap pull-right">\n        <span id="weather-controls" class="weather"></span>\n        <button id="fullScreenBtn" class="map-control-item full-screen-btn">\n            <% if (isFullScreen) { %>\n                <i class="icon-full-screen hidden"></i>\n                <i class="icon-close" \n                    aria-label="<%-\xa0Localizer.localize(\'close\')\xa0%>"></i>\n            <% } else { %>\n                <i class="icon-full-screen" \n                    aria-label="<%-\xa0Localizer.localize(\'full_screen\')\xa0%>"></i>\n                <i class="icon-close hidden"></i>\n            <% } %>\n        </button>\n    </div>\n</div>'
    },
    4213: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(13)
              , c = i(356)
              , h = i(36)
              , d = i(37)
              , p = i(4214)
              , u = i(19)
              , m = i(2510)
              , g = i(1353)
              , f = i(225)
              , v = i(1462)
              , y = i(1645)
              , A = i(126)
              , _ = i(4216)
              , b = i(1234)
              , C = i(66)
              , w = i(17)
              , x = i(64)
              , S = i(1485)
              , T = i(4218)
              , E = i.n(T)
              , L = i(1237)
              , k = {
                PersonalRecordsChanged: "PersonalRecordsChanged",
                PrivacyChanged: "PrivacyChanged",
                RestoreActivity: "RestoreActivity",
                ExportSplitsCSV: "ExportSplitsCSV"
            }
              , P = s.a.View.extend({
                template: n.a.template(E.a),
                events: {
                    "click #btn-favorite": "onFavoriteClicked",
                    "click .btn-edit": "onEditClicked",
                    "click #btn-compare": "onBtnCompare",
                    "click #btn-set-as-pr:not(.disabled)": "onBtnSetAsPr",
                    "click #btn-save-as-course": "onBtnSaveAsCourse",
                    "click #btn-send-to-device": "onBtnSendToDevice",
                    "click #btn-delete": "onBtnDeleteActivity",
                    "click #btn-export-original": "onExportOriginal",
                    "click #btn-export-tcx": "onExportTcx",
                    "click #btn-export-gpx": "onExportGPx",
                    "click #btn-export-google-earth": "onExportKml",
                    "click #btn-export-csv": "onExportCsv",
                    "click #btn-activity-trim": "onAdvancedEditClicked",
                    "click #btn-activity-restore": "onActivityRestoreClicked"
                },
                initialize: function(e) {
                    if (this.conversation = e.conversation,
                    this.usersPersonalRecords = e.usersPersonalRecords,
                    this.userUnit = e.userUnit,
                    this.viewerIsAuthenticated = e.viewerIsAuthenticated,
                    this.viewerIsConnected = e.viewerIsConnected,
                    this.mapProviderPreference = e.mapProviderPreference,
                    this.userConnections = e.userConnections,
                    this.activityTypes = e.activityTypes,
                    this.canShowAdvancedActivityEdit(e.canShowAdvancedActivityEdit),
                    this.canShowActivityRestore(e.canShowActivityRestore),
                    this.previousId = null,
                    this.setUpPreviousId(),
                    !this.userUnit)
                        throw "userUnit required for ActivityToolbarView";
                    this.updateButtonStates()
                },
                updateButtonStates: function() {
                    this.viewAsOwner = u.a.getDisplayName() === this.model.get("userInfoDto").displayname,
                    this.buttonSettings = this.buttonSettings || {},
                    this.buttonSettings.edit = !1,
                    this.buttonSettings.favorite = !1,
                    this.buttonSettings.privacy = !1,
                    this.buttonSettings.setpr = !1,
                    this.buttonSettings.savecourse = !0,
                    this.buttonSettings.sendtodevice = !1,
                    this.buttonSettings.exportorig = !1,
                    this.buttonSettings.exporttcx = !1,
                    this.buttonSettings.exportgpx = !1,
                    this.buttonSettings.exportgoogle = !1,
                    this.buttonSettings.exportcsv = !1,
                    this.buttonSettings.delete = !1;
                    var e = this.model.isParent()
                      , t = !x.a.isDivingActivity(this.model.get("activityTypeDTO").typeKey);
                    this.viewAsOwner ? (this.buttonSettings.edit = !0,
                    this.buttonSettings.favorite = !this.model.hasParent(),
                    this.buttonSettings.privacy = !this.model.hasParent(),
                    this.buttonSettings.setpr = this.canSetPR(this.model.get("activityTypeDTO").typeKey),
                    this.buttonSettings.savecourse = !e && this.model.get("hasPolyline") && this.model.isActivitySaveAsCourseCapable(),
                    this.buttonSettings.sendtodevice = !e && this.model.get("hasPolyline"),
                    this.buttonSettings.delete = !this.model.hasParent(),
                    this.buttonSettings.compare = !e,
                    this.buttonSettings.exportorig = !0,
                    this.buttonSettings.exporttcx = !e && t,
                    this.buttonSettings.exportgpx = !e && this.model.get("hasChartData") && t,
                    this.buttonSettings.exportkml = !e && this.model.get("hasPolyline"),
                    this.buttonSettings.exportcsv = this.canExportCSV()) : this.viewerIsAuthenticated && (this.buttonSettings.savecourse = !e && this.model.get("hasPolyline") && this.model.isActivitySaveAsCourseCapable(),
                    this.buttonSettings.sendtodevice = !e && this.model.get("hasPolyline"),
                    this.buttonSettings.exportorig = !1,
                    this.buttonSettings.exporttcx = !e && t,
                    this.buttonSettings.exportgpx = !e && this.model.get("hasChartData") && t,
                    this.buttonSettings.exportkml = !e && this.model.get("hasPolyline"),
                    this.buttonSettings.exportcsv = !e)
                },
                canSetPR: function(e) {
                    var t = b.a.map(e);
                    return "cycling" === t || "running" === t || "lap_swimming" === e
                },
                canShowAdvancedActivityEdit: function(e) {
                    this.showAdvancedActivityEdit = e
                },
                canShowActivityRestore: function(e) {
                    this.showActivityRestore = e
                },
                setActivity: function(e) {
                    this.model = e,
                    this.updateButtonStates()
                },
                exportOriginalUrl: function() {
                    return this.buttonSettings.exportorig ? w.default.url("/proxy/download-service/files/activity/" + this.model.id) : "#"
                },
                exportTcxUrl: function() {
                    return this.buttonSettings.exporttcx ? w.default.url("/proxy/download-service/export/tcx/activity/" + this.model.id) : "#"
                },
                exportGpxUrl: function() {
                    return this.buttonSettings.exportgpx ? w.default.url("/proxy/download-service/export/gpx/activity/" + this.model.id) : "#"
                },
                exportKmlUrl: function() {
                    return this.buttonSettings.exportkml ? w.default.url("/proxy/download-service/export/kml/activity/" + this.model.id) : "#"
                },
                exportSplitsCsvUrl: function() {
                    return this.buttonSettings.exportcsv ? w.default.url("/proxy/download-service/export/csv/activity/" + this.model.id) : "#"
                },
                render: function() {
                    var e = this.template({
                        Localizer: o.a,
                        Personalizer: l.a,
                        model: this.model.toJSON(),
                        exportOriginalUrl: this.exportOriginalUrl(),
                        exportTcxUrl: this.exportTcxUrl(),
                        exportGpxUrl: this.exportGpxUrl(),
                        exportKmlUrl: this.exportKmlUrl(),
                        bs: this.buttonSettings,
                        viewAsOwner: this.viewAsOwner,
                        viewerIsAuthenticated: this.viewerIsAuthenticated,
                        showAdvancedActivityEdit: this.showAdvancedActivityEdit,
                        showActivityRestore: this.showActivityRestore
                    });
                    this.$el.html(e),
                    this.$("li").length < 2 && (this.$("#gear-menu-list").css("visibility", "hidden"),
                    this.$(".icon-gear").css("visibility", "hidden")),
                    this.updateFavoriteIcon(),
                    (this.viewerIsConnected || this.viewAsOwner) && (this.likeView = new f.a({
                        el: this.$(".entry-like"),
                        conversationUuid: this.conversation.get("conversationUuid"),
                        liked: this.conversation.get("likedByUser"),
                        numberOfLikes: this.conversation.get("numberOfLikes"),
                        connections: this.connections,
                        resourceType: this.conversation.get("resourceType"),
                        resourceId: this.conversation.get("resourceId"),
                        isComment: !1,
                        tooltipPlacement: "bottom"
                    }),
                    this.likeView.render()),
                    this.privacyView = new v.a({
                        privacy: this.model.get("accessControlRuleDTO").typeKey,
                        el: this.$("#privacy-view-placeholder"),
                        onlyMeConsent: o.a.localize("activity_privacy_only_me_1"),
                        connectionsConsent: o.a.localize("activity_privacy_connections_1"),
                        groupsConsent: o.a.localize("activity_privacy_groups_1"),
                        everyoneConsent: o.a.localize("activity_privacy_everyone_1"),
                        customConsentClass: "privacy-consent"
                    }),
                    this.privacyView.on(v.a.Events.CHANGE, this.onPrivacyChanged, this),
                    this.privacyView.render(),
                    this.sharingView = new y.a({
                        el: this.$(".activity-share"),
                        mapProviderPreference: this.mapProviderPreference,
                        privacy: this.model.get("accessControlRuleDTO").typeKey,
                        url: this.getShareUrl(),
                        locale: h.a.get("preferredLocale"),
                        customClasses: "",
                        currentActivity: this.model,
                        hasMap: this.hasMap
                    }),
                    this.sharingView.render()
                },
                setData: function(e) {
                    for (var t in e)
                        t && (this[t] = e[t])
                },
                getShareUrl: function() {
                    return window.location.protocol + "//" + window.location.host + "/modern/" + s.a.history.fragment
                },
                onFavoriteClicked: function(e) {
                    e.preventDefault(),
                    this.buttonSettings.favorite && (this.model.get("favorite") ? this.model.set("favorite", !1) : this.model.set("favorite", !0),
                    this.updateFavoriteIcon(),
                    this.model.save())
                },
                onEditClicked: function(e) {
                    e.preventDefault(),
                    this.buttonSettings.edit && s.a.history.navigate("activity/manual/" + this.model.id + "/edit", {
                        trigger: !0
                    })
                },
                onAdvancedEditClicked: function(e) {
                    e.preventDefault(),
                    S.b.pushAnalyticsEvent("ClickTrimActivityMenu"),
                    S.b.navigateToAdvancedEdit(this.model.id)
                },
                onActivityRestoreClicked: function(e) {
                    e.preventDefault(),
                    this.trigger(k.RestoreActivity)
                },
                onPrivacyChanged: function(e) {
                    this.buttonSettings.privacy && e && (this.model.set("accessControlRuleDTO", {
                        typeKey: e
                    }),
                    this.model.save(),
                    this.privacyView.setPrivacy(e),
                    this.privacyView.render(),
                    this.sharingView.setPrivacy(e),
                    this.trigger(k.PrivacyChanged))
                },
                updateFavoriteIcon: function() {
                    this.model.get("favorite") ? this.$("#favorite-icon").addClass("active") : this.$("#favorite-icon").removeClass("active")
                },
                onBtnSaveAsCourse: function(e) {
                    e.preventDefault(),
                    this.buttonSettings.savecourse && s.a.history.navigate("/course/create-from-activity/" + this.model.id, {
                        trigger: !0
                    })
                },
                onBtnCompare: function(e) {
                    if (e.preventDefault(),
                    this.buttonSettings.compare) {
                        var t = this.model.get("activityTypeDTO").typeKey
                          , i = this.activityTypes.getParentType(t)
                          , a = Math.ceil(this.model.get("summaryDTO").distance)
                          , n = "activities?" + ((i = i ? i.get("typeKey") : null) === t ? "activityType=" + t : "activityType=" + i + "&activitySubType=" + t) + "&maxDistance=" + a + "&selectedId=" + this.model.get("activityId");
                        w.default.navigate(n)
                    }
                },
                onBtnSetAsPr: function(t) {
                    if (t.preventDefault(),
                    this.buttonSettings.setpr) {
                        var i = this
                          , a = this.model.get("activityTypeDTO").typeKey
                          , n = b.a.map(a).toUpperCase()
                          , r = new g.a([],{
                            displayName: this.model.get("userInfoDto").displayname
                        })
                          , s = function(e) {
                            for (var t = [], i = 0; i < e.length; i += 1)
                                e[i].sport === n && t.push(e[i]);
                            return t
                        };
                        r.on("sync", function(t, n, l) {
                            var c = new _.a({
                                title: "pr.action.modal.label",
                                collection: s(t.toJSON()),
                                activityPrs: i.usersPersonalRecords,
                                availablePrTypes: r
                            });
                            c.on(_.a.Events.PR_CREATE_COMPLETED, function(e) {
                                i.usersPersonalRecords.fetch(),
                                i.model.set("personalRecord", !0),
                                i.trigger(k.PersonalRecordsChanged, e),
                                p.close()
                            }),
                            c.on(_.a.Events.PR_CREATE_FAILED, function(e) {
                                alert("An error was encountered when attempting to create/save the Personal Record. Please try again.")
                            }),
                            c.on(_.a.Events.PR_CONFIRM_REPLACE, function() {
                                e(".modal-footer", p.el).css({
                                    display: "none"
                                })
                            });
                            var h = i.model.get("summaryDTO").unitOfPoolLength
                              , p = new d.a({
                                modalTitle: o.a.localize("activity_set_as_pr"),
                                view: c.render(),
                                confirmationTextKey: "pr.action.assign.label",
                                cancelTextKey: "pr.action.cancel.label",
                                showFooter: !0,
                                onSaveButtonClicked: function() {
                                    var t = e("select option:selected", this.el);
                                    if (t && t.length > 0) {
                                        var n = t.attr("data");
                                        c.createPR(i.model, n, t.text(), a, h)
                                    }
                                }
                            });
                            p.render()
                        }),
                        r.fetch()
                    }
                },
                onBtnSendToDevice: function(e) {
                    if (e.preventDefault(),
                    this.buttonSettings.sendtodevice) {
                        var t = new c.a;
                        this.sendToDevicePageView && this.sendToDevicePageView.remove(),
                        window.SEND_TO_DEVICE_TITLE = this.model.get("activityName") || o.a.localize("untitled"),
                        this.sendToDevicePageView = new p.a({
                            collection: t,
                            model: t,
                            messageName: this.model.get("activityName") || o.a.localize("untitled"),
                            messageType: L.a.Queue.MessageTypes.ACTIVITIES,
                            id: this.model.id,
                            displayName: h.a.get("displayName"),
                            userLocale: h.a.get("preferredLocale"),
                            useConnectingPageView: !0
                        }),
                        this.sendToDevicePageView.loadContent();
                        var i = new d.a({
                            view: this.sendToDevicePageView,
                            customBodyClasses: "text-center",
                            showFooter: !1,
                            modalTitle: o.a.localize("queue.send.to.device")
                        });
                        i.render(),
                        i.$el.appendTo(this.$el)
                    }
                },
                onBtnDeleteActivity: function(e) {
                    if (e.preventDefault(),
                    this.buttonSettings.delete) {
                        var t = this.model.isParent() ? "delete_parent_activity_confirmation" : "delete_activity_confirmation"
                          , i = this;
                        new A.a({
                            modalTitle: o.a.localize("delete_activity"),
                            message: o.a.localize(t),
                            confirmationTextKey: "button_delete",
                            cancelTextKey: "button_cancel",
                            onSaveButtonClicked: function() {
                                return i.model.destroy(),
                                i.goToPrevActivityOrModernPage(),
                                !0
                            }
                        }).render()
                    }
                },
                goToPrevActivityOrModernPage: function() {
                    this.previousId ? w.default.navigate("/activity/" + this.previousId) : w.default.navigate("/")
                },
                setUpPreviousId: function() {
                    this.activityRelative = new m.a({
                        activityId: this.model.id
                    });
                    var e = this;
                    this.activityRelative.fetch({
                        success: function() {
                            e.previousId = e.activityRelative.get("previousActivityId")
                        }
                    })
                },
                canExportCSV: function() {
                    var e = this.model.isParent();
                    return this.model.get("activityTypeDTO").typeKey !== C.a.StrengthTraining && this.model.get("activityTypeDTO").typeKey !== C.a.Yoga && !x.a.isDivingActivity(this.model.get("activityTypeDTO").typeKey) && !e
                },
                onExportOriginal: function(e) {
                    e.preventDefault();
                    var t = this.exportOriginalUrl();
                    location.assign(t)
                },
                onExportTcx: function(e) {
                    e.preventDefault();
                    var t = this.exportTcxUrl();
                    location.assign(t)
                },
                onExportGPx: function(e) {
                    e.preventDefault();
                    var t = this.exportGpxUrl();
                    location.assign(t)
                },
                onExportKml: function(e) {
                    e.preventDefault();
                    var t = this.exportKmlUrl();
                    location.assign(t)
                },
                onExportCsv: function(e) {
                    e.preventDefault(),
                    this.trigger(k.ExportSplitsCSV)
                }
            });
            P.Events = k,
            t.a = P
        }
        ).call(this, i(10))
    },
    4214: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(4)
              , r = i(53)
              , s = i(102)
              , o = i(36)
              , l = i(1301)
              , c = i(2025)
              , h = i.n(c)
              , d = i(4215)
              , p = i.n(d)
              , u = l.a.extend({
                events: {
                    "click .send-to-queue": "onSendToDeviceClicked",
                    "click .need-help": "onNeedHelpClicked",
                    "click .close-help ": "onHideHelpClicked",
                    "click .open-help ": "onOpenHelpClicked",
                    "click .device-selected": "onSendToDeviceButtonClicked"
                },
                initialize: function(t) {
                    l.a.prototype.initialize.call(this, t),
                    this.template = e.template(p.a),
                    this.waitTemplate = e.template(h.a),
                    this.on(l.a.Events.NOTIFICATIONS_SENT, this.displayConnectingToAgent, this)
                },
                render: function() {
                    "undefined" != typeof this.hasDevices && l.a.prototype.render.call(this, []),
                    this.$("a").each(function() {
                        a(this).attr("href").indexOf("/start") > -1 && a(this).addClass("colored")
                    })
                },
                displayConnectingToAgent: function(e) {
                    var t = this.waitTemplate({
                        Localizer: n.a
                    });
                    this.$el.html(t);
                    var i = (e.extra.wifiSetup ? n.a.localize("send.to.device.wifi.message") : n.a.localize("send.to.device.message")) + " " + n.a.localize("send.to.device.message2");
                    this.$("#sync-message").hide().html(i),
                    e.extra.wifiSetup ? (this.$("#wireless-message-header").html(n.a.localize("wireless.message", e.extra.deviceName)),
                    this.$(".wireless-message").show(),
                    this.$("#sync-message").show()) : (this.$(".non-wireless-message").show(),
                    this.startTimer()),
                    r.a.formatHelpStartForExpressionEngine(o.a.get("locale")),
                    this.notifyAgent(e.extra.deviceId),
                    a("#sync-message a.colored").each(function() {
                        a(this).attr("target", "_blank")
                    })
                },
                startTimer: function() {
                    var e = this;
                    setTimeout(function() {
                        e.$("#sync-message").show()
                    }, 1e4)
                },
                notifyAgent: function(e) {},
                onOpenHelpClicked: function(e) {
                    e.preventDefault(),
                    this.$(".open-help").hide(),
                    this.$(".close-help").show()
                },
                onHideHelpClicked: function(e) {
                    l.a.prototype.onHideHelpClicked.call(this, e),
                    this.$(".close-help").hide()
                },
                onSendToDeviceButtonClicked: function(e) {
                    this.pushSendToDeviceAnalyticsEvents(),
                    a(e.target).hasClass(".send-to-queue") && l.a.prototype.onSendToDeviceClicked.call(this, e)
                },
                pushSendToDeviceAnalyticsEvents: function() {
                    s.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Send To Device"
                    })
                }
            });
            t.a = u
        }
        ).call(this, i(7), i(10))
    },
    4215: function(e, t) {
        e.exports = '<div class="alert alert-error queue-error" style="display: none">\n    <p><%- Localizer.localize(\'queue.error\') %></p>\n</div>\n\n<% if (hasDevices) { %>\n    <h3 class="bottom-l"><%- sendToDeviceTitle %></h3>\n    <p class="bottom-xs"><%- Localizer.localize(\'agent.select.device\') %></p>\n\n    <% if (devices && devices.length > 0) { %>\n    <select class="bottom-s selected-device">\n        <% for (var i = 0; i < devices.length; i++) { %>\n        <option value="<%- devices[i].get(\'deviceId\') %>"><%- devices[i].get(\'displayName\') %></option>\n        <% }; %>\n    </select>\n    <div class="bottom-m device-selected"><a href="#" class="btn btn-large send-to-queue"><%- Localizer.localize(\'queue.send.now\') %></a></div>\n    <% } else { %>\n    <div><%- Localizer.localize(\'no.devices.found\') %></div>\n    <% } %>\n\n    <div class="need-help bottom-xs">\n        <a href="#" class="colored open-help need-help-link"><%- Localizer.localize(\'agent.need.help\') %></a>\n        <a href="#" class="colored close-help" style="display: none;"><%- Localizer.localize(\'agent.close.help\') %></a>\n    </div>\n    <div class="send-help text-left" style="display: none;">\n        <h4><%- Localizer.localize(\'agent.help.title\') %></h4>\n        <p><%- Localizer.localize(\'agent.help.reason\') %></p>\n        <ul>\n            <li><%- Localizer.localize(\'device.not.supported\') %></li>\n            <li><%- Localizer.localize(\'device.not.setup\') %></li>\n        </ul>\n        <p><%= Localizer.localize(\'agent.download.info\') %></p>\n        <hr>\n        <h4><%- Localizer.localize(\'agent.help.title2\') %></h4>\n        <p><%- Localizer.localize(\'device.send.course.title\') %></p>\n        <ul>\n            <li><%- Localizer.localize(\'device.send.course.info\') %></li>\n            <li><%- Localizer.localize(\'device.send.course.info2\') %></li>\n            <li><%- Localizer.localize(\'device.send.course.info3\') %></li>\n        </ul>\n    </div>\n\n<% } else { %>\n    <p><%- Localizer.localize(\'agent.additional.info\') %></p>\n    <div class="text-center">\n        <p><a href="/<%- Localizer.localize(\'agent.download.locale\') %>/start" class="btn btn-large queue-download"><%- Localizer.localize(\'agent.download\') %></a></p>\n    </div>\n    <div class="text-center get-started-overview top-l">\n        <div class="get-started-item">\n            <div class="get-started-img download"></div>\n            <span><%- Localizer.localize(\'agent.download.install\') %></span>\n        </div>\n        <div class="get-started-item">\n            <div class="get-started-img plug-in"></div>\n            <span><%- Localizer.localize(\'agent.plugin\') %></span>\n        </div>\n        <div class="get-started-item">\n            <div class="get-started-img link-device"></div>\n            <span><%- Localizer.localize(\'agent.link.device\') %></span>\n        </div>\n        <div class="get-started-item">\n            <div class="get-started-img connect"></div>\n            <span><%- Localizer.localize(\'gc\') %></span>\n        </div>\n    </div>\n<% }  %>\n\n\n'
    },
    4216: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(4217)
          , s = i.n(r)
          , o = i(1348)
          , l = i(28)
          , c = i(1325)
          , h = (i(13),
        i(4))
          , d = i(8)
          , p = {
            PR_CREATE_COMPLETED: "PR_CREATE_COMPLETED",
            PR_CREATE_FAILED: "PR_CREATE_FAILED",
            PR_CONFIRM_REPLACE: "PR_CONFIRM_REPLACE"
        }
          , u = i.n(d).a.View.extend({
            template: n.a.template(s.a),
            events: {
                "click button.cancel": "onReplaceCancel",
                "click button.confirm": "onReplaceConfirm"
            },
            initialize: function(e) {
                return this.title = e.title,
                this.activityPrs = e.activityPrs,
                this.showExistingPrNotification = !1,
                this.replacingPr = {},
                this.currentPr = {},
                this.prTypeId = null,
                this.model = null,
                this.availablePrTypes = e.availablePrTypes,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: h.a,
                    title: this.title,
                    collection: this.collection,
                    showExistingPrNotification: this.showExistingPrNotification,
                    currentPr: this.currentPr,
                    replacingPr: this.replacingPr
                })),
                this
            },
            alreadyExist: function(e) {
                if (this.activityPrs && this.activityPrs.length > 0)
                    for (var t = this.activityPrs.toJSON(), i = 0; i < t.length; i += 1)
                        if (t[i] && t[i].typeId === parseInt(e))
                            return t[i];
                return []
            },
            getPrValue: function(e, t) {
                switch (parseInt(t)) {
                case 7:
                case 8:
                    return e ? e.get("distance") : "distance";
                case 9:
                    return e ? e.get("elevationGain") : "elevationGain";
                case 10:
                    return e ? e.get("maxPowerTwentyMinutes") : "maxPowerTwentyMinutes";
                case 17:
                    return e ? e.get("distance") : "swim-distance";
                default:
                    return e ? e.get("duration") : "duration"
                }
            },
            personalizeValue: function(e, t, i) {
                var a = this.availablePrTypes.get(t);
                return o.a.getPersonalizerFunction(a.get("key"))(e, i)
            },
            createPR: function(e, t, i, a, r) {
                this.prTypeId = t,
                this.model = e;
                var s = this.alreadyExist(t);
                n.a.isEmpty(s) ? this.savePR() : (this.currentPr = {
                    name: s.activityName,
                    time: l.a.formatMonthDayYear(new Date(s.activityStartDateTimeLocal)),
                    value: this.personalizeValue(s.value, t, s.poolLengthUnit)
                },
                this.replacingPr = {
                    name: e.get("activityName"),
                    time: l.a.formatMonthDayYear(new Date(e.get("startTimeLocal"))),
                    value: this.personalizeValue(this.getPrValue(e, t), t, r)
                },
                this.title = i,
                this.activityTypeKey = a,
                this.showExistingPrNotification = !0,
                this.render(),
                this.trigger(p.PR_CONFIRM_REPLACE))
            },
            onSuccessSave: function(e, t, i) {
                this.trigger(p.PR_CREATE_COMPLETED, e.toJSON())
            },
            onErrorSave: function(e, t, i) {
                this.trigger(p.PR_CREATE_FAILED, t.statusText)
            },
            onReplaceCancel: function(e) {
                return e.preventDefault(),
                !0
            },
            onReplaceConfirm: function(e) {
                e.preventDefault(),
                this.savePR()
            },
            savePR: function() {
                var e = null;
                this.model.get("summaryDTO").unitOfPoolLength && this.model.get("summaryDTO").unitOfPoolLength.unitKey && (e = {
                    id: null,
                    key: this.model.get("summaryDTO").unitOfPoolLength.unitKey,
                    factor: null
                });
                var t = new c.a({
                    typeId: this.prTypeId,
                    activityId: this.model.id,
                    value: this.getPrValue(this.model, this.prTypeId),
                    poolLengthUnit: e
                });
                try {
                    t.save({}, {
                        success: n.a.bind(this.onSuccessSave, this),
                        error: n.a.bind(this.onErrorSave, this),
                        type: "post",
                        beforeSend: function(e) {
                            e.setRequestHeader("X-HTTP-Method-Override", "PUT")
                        }
                    })
                } catch (i) {
                    this.trigger(p.PR_CREATE_FAILED, i)
                }
            }
        });
        u.Events = p,
        t.a = u
    },
    4217: function(e, t) {
        e.exports = '<div style="display: <%- showExistingPrNotification ? \'none\' : \'block\' %>;">\n<h4><%- Localizer.localize(title) %></h4>\n<select>\n    <% for (var i = 0; i < collection.length; i += 1) { %>\n         <option data="<%- collection[i].id %>"><%- Localizer.localize(collection[i].key) %></option>\n    <% } %>\n</select>\n</div>\n<div class="replace-pr-confirmation" style="display: <%- showExistingPrNotification ? \'block\' : \'none\' %>;">\n    <h4 class="bottom-m"><%- Localizer.localize(\'pr.conflict.replace_existing_record\', title) %></h4>\n    <div class="row-fluid text-center">\n        <div class="span6 old-pr" title="<%- currentPr.name %>">\n            <h5><%- Localizer.localize(\'pr.conflict.current\') %></h5>\n            <div class="pr-time font-thin bottom-xs"><%- currentPr.value %></div>\n            <div class="pr-activity-name"><%- currentPr.name %></div>\n            <div class="pr-date bottom-s"><%- currentPr.time %></div>\n            <button class="btn btn-secondary cancel bottom-s" data-dismiss="modal" aria-hidden="true"><%- Localizer.localize(\'pr.action.keep.label\') %></button>\n        </div>\n        <div class="span6 new-pr" title="<%- replacingPr.activityName %>">\n            <h5><%- Localizer.localize(\'pr.conflict.new\') %></h5>\n            <div class="pr-time font-thin bottom-xs"><%- replacingPr.value %></div>\n            <div class="pr-activity-name"><%- replacingPr.name %></div>\n            <div class="pr-date bottom-s"><%- replacingPr.time %></div>\n            <button class="btn confirm bottom-s"><%- Localizer.localize(\'pr.conflict.replace\') %></button>\n        </div>\n    </div>\n</div>'
    },
    4218: function(e, t) {
        e.exports = '<div>\n    \x3c!--Liking--\x3e\n    <span class="entry-like">\n    </span>\n</div>\n\n<div>\n    <% if (bs.edit) { %>\n    <button id="btn-edit" class="btn-edit favorite page-navigation-action" title="<%- Localizer.localize(\'edit\') %>">\n        <i class="icon-pencil"></i>\n    </button>\n    <% } %>\n\n    <% if (bs.favorite) { %>\n    <button id="btn-favorite" class="favorite page-navigation-action" title="<%- Localizer.localize(\'tooltip.favorite\') %>">\n        <i id="favorite-icon" class="icon-star fav"></i>\n    </button>\n    <% } %>\n\n    \x3c!-- Share --\x3e\n    <div class="dropdown page-dropdown activity-share hidden-phone" style="display:inline-block;" title="<%- Localizer.localize(\'share\') %>">\n\n    </div>\n\n    \x3c!-- Privacy Lock --\x3e\n    <% if (bs.privacy) { %>\n    <div id="privacy-view-placeholder" title="<%- Localizer.localize(\'privacy\') %>">\n    </div>\n    <% } %>\n\n    <div class="dropdown page-dropdown">\n        <button class="dropdown-trigger page-navigation-action" data-toggle="dropdown" title="<%- Localizer.localize(\'tooltip_activity_gear\') %>"><i class="icon-gear"></i></button>\n        <ul id="gear-menu-list" class="dropdown-menu pull-right">\n            <li class="clearfix"><i class="icon-gear pull-right"></i></li>\n\n            <% if (viewAsOwner) { %>\n            <li class="<%- bs.compare ? \'\' : \'disabled\' %>" id="btn-compare"><a href="#"><%- Localizer.localize(\'activity_compare\') %></a></li>\n            <% } %>\n\n            <% if (viewerIsAuthenticated) { %>\n            <li class="<%- bs.sendtodevice ? \'\' : \'disabled\' %>" id="btn-send-to-device" class="kevin-temp"><a href="#"><%- Localizer.localize(\'queue.send.to.device\') %></a></li>\n            <% } %>\n\n            <% if (viewerIsAuthenticated) { %>\n            <li class="<%- bs.savecourse ? \'\' : \'disabled\' %>" id="btn-save-as-course"><a href="#"><%- Localizer.localize(\'saveAs.course.title\') %></a></li>\n            <% } %>\n\n            <% if (viewAsOwner) { %>\n            <li class="<%- bs.setpr ? \'\' : \'disabled\' %>" id="btn-set-as-pr"><a href="#"><%- Localizer.localize(\'activity_set_as_pr\') %></a></li>\n            <% } %>\n\n            <% if (viewerIsAuthenticated && viewAsOwner) { %>\n            <li class="divider"></li>\n            <li class="<%- bs.exportorig ? \'\' : \'disabled\' %>" id="btn-export-original"><a href="#"><%- Localizer.localize(\'activity_export_original\') %></a></li>\n            <li class="<%- bs.exporttcx ? \'\' : \'disabled\' %>" id="btn-export-tcx"><a href="#"><%- Localizer.localize(\'activity_export_tcx\') %></a></li>\n            <li class="<%- bs.exportgpx ? \'\' : \'disabled\' %>" id="btn-export-gpx"><a href="#"><%- Localizer.localize(\'activity_export_gpx\') %></a></li>           \n            <li class="<%- bs.exportkml ? \'\' : \'disabled\' %>" id="btn-export-google-earth"><a href="#"><%- Localizer.localize(\'activity_export_google_earth\') %></a></li>\n            <li class="<%- bs.exportcsv ? \'\' : \'disabled\' %>" id="btn-export-csv"><a href="#"><%- Localizer.localize(\'activity_export_splits_csv\') %></a></li>\n            <% } %>\n\n            <% if (viewAsOwner) { %>\n            <li class="divider"></li>\n            <li class="btn-edit <%- bs.edit ? \'\' : \'disabled\' %>" id="btn-menu-edit"><a href="#"><%- Localizer.localize(\'edit\') %></a></li>\n            <% if (showAdvancedActivityEdit) { %>\n                <li class="btn-activity-trim" id="btn-activity-trim"><a href="#"><%- Localizer.localize(\'activity_trim\') %></a></li>\n            <% } %>\n            <% if (showActivityRestore) { %>\n                <li class="btn-activity-restore" id="btn-activity-restore"><a href="#"><%- Localizer.localize(\'activity_restore\') %></a></li>\n            <% } %>            \n            <li class="<%- bs.delete ? \'\' : \'disabled\' %>" id="btn-delete"><a href="#confirm-delete-activity" role="button" data-toggle="modal"><%- Localizer.localize(\'delete.delete\') %></a></li>\n            <% } %>\n        </ul>\n    </div>\n\n</div>\n'
    },
    4219: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(8)
              , n = i.n(a).a.Model.extend({
                idAttribute: "activityId",
                initialize: function(e) {
                    this.activityId = e.activityId,
                    this.ids = e.ids
                },
                url: function() {
                    return "/modern/proxy/activity-service/activity/" + this.activityId + "/images/order"
                },
                update: function(t) {
                    var i = t || {};
                    i.url = this.url(),
                    i.type = "POST",
                    i.data = JSON.stringify(this.ids),
                    i.contentType = "application/json; charset=utf-8",
                    i.beforeSend = function(e) {
                        e.setRequestHeader("X-HTTP-Method-Override", "PUT")
                    }
                    ,
                    e.ajax(i)
                }
            });
            t.a = n
        }
        ).call(this, i(10))
    },
    4220: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(4221)
              , c = i(2511)
              , h = (i(37),
            i(222),
            i(2512),
            i(4224))
              , d = i.n(h)
              , p = {
                ENLARGE_PHOTO: "ENLARGE_PHOTO",
                MODAL_SCROLL: "MODAL_SCROLL",
                REMOVED_PHOTO: "REMOVED_PHOTO",
                REMOVED_MODAL_PHOTO: "REMOVED_MODAL_PHOTO",
                ADD_PHOTOS: "ADD_PHOTOS",
                RENDER_EDIT_VIEW: "RENDER_EDIT_VIEW"
            }
              , u = s.a.View.extend({
                events: {
                    "click .slides .photo": "onEnlargePhoto",
                    "click .next, .prev, .scroll-circle": "onSwitchPhoto",
                    "click .delete-photo": "onRemovePhoto",
                    "click .keep-photo": "onKeepPhoto",
                    "click .confirm-remove-photo": "onConfirmRemovePhoto",
                    "click .dismiss-delete-error": "onDismissError",
                    "click .add-photo-icon, .add-photo-text": "onClickAdd",
                    "click .edit-carousel": "onEditCarousel"
                },
                template: n.a.template(d.a),
                className: "photo-carousel-section",
                initialize: function(e) {
                    this.images = e.images,
                    this.maxFileCount = e.maxFileCount,
                    this.activityId = e.activityId,
                    this.canClickToEnlarge = e.canClickToEnlarge,
                    this.selectedPhotoId = e.selectedPhotoId,
                    this.isEnlarged = e.isEnlarged,
                    this.canManagePhotos = e.canManagePhotos,
                    this.updateUrl = e.updateUrl,
                    this.photoViews = [],
                    this.photoId = null
                },
                render: function() {
                    this.$el.html(this.template({
                        Localizer: o.a
                    }));
                    var t, i = this;
                    e(document).on("keydown", function(e) {
                        i.onArrowClick(e)
                    });
                    for (var a = 0; a < this.images.length; a++) {
                        var n = new l.a({
                            image: this.images[a]
                        });
                        this.$(".slides").append(n.render().el),
                        this.photoViews.push(n)
                    }
                    this.images.length > 0 && (t = this.selectedPhotoId ? this.selectedPhotoId : this.photoViews[0].id,
                    this.updatePhotos(t),
                    this.updateScrollSections());
                    return this.updateAddArea(),
                    this.updateDeleteArea(),
                    this.updateEditCarouselArea(),
                    this
                },
                updatePhotos: function(e) {
                    var t = this.$('.photo[data-photo-id="' + e + '"]');
                    if (t.length > 0) {
                        var i = t[1] ? t[1].parentElement : t[0].parentElement;
                        this.$(".active-photo").addClass("inactive-photo").removeClass("active-photo"),
                        this.$(".active-photo-container").addClass("inactive-photo-container").removeClass("active-photo-container"),
                        t.removeClass("inactive-photo").addClass("active-photo"),
                        i.classList.add("active-photo-container"),
                        i.classList.remove("inactive-photo-container")
                    }
                },
                updateScrollSections: function() {
                    this.updateScrollCircles(),
                    this.updateScrollArrows()
                },
                updateScrollCircles: function() {
                    this.$(".scroll-circle-area").empty();
                    for (var e = 0; e < this.images.length; e++)
                        this.$(".scroll-circle-area").append('<span class="scroll-circle" data-slide-id="' + this.images[e].imageId + '"></span>');
                    var t = this.$(".active-photo").data("photo-id");
                    t ? this.$(".active-circle").removeClass("active-circle") : t = this.photoViews[0].id,
                    this.$('.scroll-circle[data-slide-id="' + t + '"]').addClass("active-circle"),
                    this.images.length <= 1 ? this.$(".scroll-circle-area").css("visibility", "hidden") : this.$(".scroll-circle-area").css("visibility", "visible")
                },
                updateScrollArrows: function() {
                    var e = this.$(".active-photo").data("photo-id");
                    if (null !== e) {
                        for (var t, i, a = this.photoViews.length, n = 0; n < a; n++)
                            if (e === this.photoViews[n].id) {
                                t = (n + 1) % a,
                                i = (n - 1) % a;
                                break
                            }
                        i < 0 && (i += a)
                    } else
                        this.photoViews.length > 1 ? (t = 1,
                        i = this.photoViews.length - 1) : (t = 0,
                        i = 0);
                    this.$(".next").data("slide-id", this.photoViews[t].id),
                    this.$(".prev").data("slide-id", this.photoViews[i].id),
                    1 === this.photoViews.length ? this.hideScrollArrows() : this.showScrollArrows()
                },
                updateAddArea: function() {
                    this.canManagePhotos ? this.images.length < this.maxFileCount ? this.enableAddBtn() : this.disableAddBtn() : this.$(".add-area").hide()
                },
                updateDeleteArea: function() {
                    this.canManagePhotos ? this.$(".delete-photo").show() : this.$(".delete-photo").hide()
                },
                updateEditCarouselArea: function() {
                    this.canManagePhotos && this.images.length >= 2 ? this.$(".edit-carousel").show() : this.$(".edit-carousel").hide()
                },
                onEnlargePhoto: function() {
                    if (this.canClickToEnlarge) {
                        var e = this.$(".active-photo").data("photo-id");
                        this.trigger(p.ENLARGE_PHOTO, e)
                    }
                },
                disableAddBtn: function() {
                    this.$(".add-photo-text").addClass("add-photo-text-disabled"),
                    this.$(".add-photo-text").removeClass("dz-clickable"),
                    this.$(".add-photo-text").removeClass("add-photo-text")
                },
                enableAddBtn: function() {
                    this.$(".add-photo-text-disabled").addClass("add-photo-text"),
                    this.$(".add-photo-text-disabled").addClass("dz-clickable"),
                    this.$(".add-photo-text-disabled").removeClass("add-photo-text-disabled")
                },
                onSwitchPhoto: function(e) {
                    var t = this.$(e.target).data("slide-id") || this.photoId;
                    this.photoViews.length > 1 && (this.updatePhotos(t),
                    this.updateScrollSections()),
                    this.isEnlarged && this.trigger(p.MODAL_SCROLL, t)
                },
                onModalSwitchPhoto: function(e) {
                    this.photoViews.length > 1 && (this.updatePhotos(e),
                    this.updateScrollSections())
                },
                onRemovePhoto: function() {
                    this.hideScrollArrows(),
                    this.$(".delete-content").css("display", "flex"),
                    this.$(".delete-overlay, .delete-message").css("display", "block")
                },
                onEditCarousel: function() {
                    this.trigger(p.RENDER_EDIT_VIEW)
                },
                onKeepPhoto: function() {
                    this.hideDeleteMessage()
                },
                onConfirmRemovePhoto: function(e, t) {
                    var i = t || this.$(".active-photo").data("photo-id");
                    new c.a({
                        activityId: this.activityId,
                        imageId: i
                    }).destroy({
                        success: function() {
                            for (var e = 0; e < this.images.length; e++)
                                if (i === this.images[e].imageId) {
                                    this.images.splice(e, 1);
                                    break
                                }
                            this.removeGalleryPhoto(i),
                            this.hideDeleteMessage(),
                            this.isEnlarged ? this.trigger(p.REMOVED_MODAL_PHOTO, i) : this.trigger(p.REMOVED_PHOTO, this.images)
                        }
                        .bind(this),
                        error: function() {
                            this.$(".delete-message").css("display", "none"),
                            this.$(".delete-error-message").css("display", "block")
                        }
                        .bind(this)
                    })
                },
                onDismissError: function() {
                    this.hideDeleteMessage()
                },
                onClickAdd: function() {
                    this.canClickToEnlarge && this.trigger(p.ADD_PHOTOS)
                },
                onPhotoUploaded: function(e) {
                    var t = new l.a({
                        image: e
                    });
                    this.$(".slides").append(t.render().el),
                    this.photoViews.push(t),
                    this.images.push(e),
                    1 === this.photoViews.length && this.updatePhotos(e.imageId),
                    this.updateScrollSections()
                },
                hideDeleteMessage: function() {
                    this.$(".delete-content, .delete-overlay, .delete-message, .delete-error-message").css("display", "none"),
                    this.showScrollArrows()
                },
                hideScrollArrows: function() {
                    this.$(".next, .prev").addClass("hidden-arrow")
                },
                showScrollArrows: function() {
                    this.images.length > 1 && this.$(".hidden-arrow").removeClass("hidden-arrow")
                },
                removeGalleryPhoto: function(e) {
                    for (var t, i = 0; i < this.photoViews.length; i++)
                        if (e === this.photoViews[i].id) {
                            this.photoViews[i].destroy(),
                            this.photoViews.splice(i, 1),
                            (t = i) === this.photoViews.length && t--;
                            break
                        }
                    if (t >= 0) {
                        var a = this.photoViews[t].id;
                        this.updatePhotos(a)
                    }
                    this.photoViews.length > 0 && this.updateScrollSections()
                },
                destroy: function() {
                    this.off(),
                    this.remove()
                },
                onArrowClick: function(t) {
                    switch (t.which) {
                    case 37:
                        this.photoId = e(t.target).find(".prev").data("slide-id"),
                        this.onSwitchPhoto(t);
                        break;
                    case 39:
                        this.photoId = e(t.target).find(".next").data("slide-id"),
                        this.onSwitchPhoto(t)
                    }
                }
            });
            u.Events = p,
            t.a = u
        }
        ).call(this, i(10))
    },
    4221: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(4222)
          , c = i.n(l);
        t.a = s.a.View.extend({
            template: n.a.template(c.a),
            tagName: "span",
            className: "inactive-photo-container",
            initialize: function(e) {
                return this.image = e.image,
                this.id = e.image.imageId,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: o.a,
                    image: this.image
                })),
                this
            },
            destroy: function() {
                this.off(),
                this.remove()
            }
        })
    },
    4222: function(e, t) {
        e.exports = '<img src="<%- image.url %>" alt="<%- Localizer.localize(\'photos_description\') %>" data-photo-id="<%- image.imageId %>" class="photo inactive-photo">'
    },
    4223: function(e, t) {
        e.exports = '<div class="edit-carousel-overlay">\n     <span class="data-label fine-print"><%- Localizer.localize(\'edit_carousel_text\') %></span>\n     <div class="js-edit-images clearfix">\n          <% for(var i=0; i < images.length; i++) { %>\n               <div class="edit-image-div" data-photo-id="<%- images[i].imageId %>" style="background-image: url(<%- images[i].smallUrl %>);">\n                   <button class="delete-photo-icon" data-photo-id="<%- images[i].imageId %>">&times;</button>\n               </div>\n          <% } %>\n     </div>\n     <div class="overlay-edit-btn">\n           <span>\n               <a class="btn btn-small btn-secondary cancel-edit-carousel"><%- Localizer.localize(\'cancel\') %></a>\n           </span>\n           <span>\n               <a class="btn btn-small btn-save-carousel" disabled><%- Localizer.localize(\'save\') %></a>\n           </span>\n     </div>\n</div>\n\n\n'
    },
    4224: function(e, t) {
        e.exports = '<div class="photo-carousel clearfix">\n    <div class="slider-control-section-container">\n        <div class="add-area">\n            <span class="add-photo-text dz-clickable"><i class="icon-add-photo icon-photo-add dz-clickable"></i><%- Localizer.localize(\'photos_add\') %></span>\n        </div>\n        <div class="slider-control-buttons">\n            <div class="delete-photo"><%- Localizer.localize(\'photos_remove\') %></div>\n            <div class="edit-carousel"><%- Localizer.localize(\'photos_edit\') %></div>\n        </div>\n    </div>\n    <div class="slides">\n        <div class="arrow-bar-left" data-slide-id="">\n            <i class="icon-arrow-left prev"></i>\n        </div>\n        <div class="arrow-bar-right" data-slide-id="">\n            <i class="icon-arrow-right next"></i>\n        </div>\n        <div class="delete-content">\n            <div class="delete-overlay">\n            <div class="delete-message delete-image">\n                <h5 class="bottom-xs delete-text"><%- Localizer.localize(\'photos_remove_confirmation\') %></h5>\n                <span>\n                    <a class="btn btn-secondary keep-photo"><%- Localizer.localize(\'photos_keep\') %></a>\n                </span>\n                <span>\n                    <a class="btn btn-primary btn-danger confirm-remove-photo"><%- Localizer.localize(\'photos_remove\') %></a>\n                </span>\n            </div>\n            <div class="delete-error-message">\n                <h5 class="bottom-xs delete-error-text"><%- Localizer.localize(\'photos_remove_error\') %></h5>\n                <span>\n                    <a class="btn btn-secondary dismiss-delete-error"><%- Localizer.localize(\'photos_dismiss_error\') %></a>\n                </span>\n            </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="slider-control-section-container">\n        <span class="scroll-circle-area"></span>\n    </div>\n</div>'
    },
    4225: function(e, t) {
        e.exports = '<h5 class="bottom-xs photos-header"><%- Localizer.localize(\'photos\') %></h5>\n<div class="add-photos border-wrapper">\n    <h5 class="bottom-xs add-photos-message"><i class="icon-photos icon-photo-add"></i>&nbsp;<%-Localizer.localize(\'photos_add_message\') %></h5>\n</div>'
    },
    4226: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(1573)
              , c = i.n(l)
              , h = i(4227)
              , d = i.n(h)
              , p = i(4228)
              , u = i.n(p)
              , m = i(36)
              , g = {
                DROPPED_EXCESS_PHOTOS: "DROPPED_EXCESS_PHOTOS",
                ADDED_PHOTO: "ADDED_PHOTO",
                UPLOADED_PHOTO: "UPLOADED_PHOTO",
                UPDATE_PROGRESS_BAR: "UPDATE_PROGRESS_BAR",
                UPLOAD_ERROR: "UPLOAD_ERROR"
            }
              , f = {
                acceptedFiles: ".JPG,.jpg,.bmp,.BMP,.gif,.GIF,.wbmp,.WBMP,.png,.PNG,.jpeg,.JPEG",
                maxFilesizeMB: 10,
                maxFiles: 10,
                url: null,
                autoProcessQueue: !0,
                autoQueue: !1,
                rowTemplate: d.a,
                previewsContainer: null,
                responseErrorKey: "photos_upload_error",
                fileTooBigKey: "photos_upload_error_file_too_large",
                tooManyFilesKey: "photos_upload_limit",
                invalidFileTypeKey: "photos_upload_error_invalid_file_type",
                headers: {
                    NK: "NT",
                    "X-app-ver": window.URL_BUST_VALUE,
                    "X-lang": m.a.getFullLocale()
                }
            }
              , v = s.a.View.extend({
                className: "photo-upload",
                initialize: function(e) {
                    if (this.deleteUrl = e.deleteUrl,
                    this.uploadOptions = null,
                    this.droppedFiles = !1,
                    this.pageDragPhotosCount = 0,
                    this.exceedsMax = !1,
                    this.mergeUploadOptions(e.uploadOptions),
                    (n.a.isUndefined(this.uploadOptions.url) || n.a.isNull(this.uploadOptions.url)) && !n.a.isFunction(this.uploadOptions.url))
                        throw "Upload URL must be provided"
                },
                initDropZone: function() {
                    var e = this
                      , t = 0;
                    this.myAwesomeDropzone = new c.a(this.$(".dropzone").get(0),{
                        init: function() {
                            this.on("drop", function(i) {
                                e.droppedFiles = !0;
                                for (var a = this.getAcceptedFiles(), n = 0; n < a.length; n++)
                                    a[n].accepted = !1;
                                e.hideDropMessage(),
                                t = 0
                            }),
                            this.on("dragenter", function(i) {
                                (t += 1) >= 3 && (t -= 1);
                                var a = e.getFilesCount(i);
                                if (e.filesExceedMax(a))
                                    e.$(".exceeds-limit-section").addClass("dropzone-exceeds-limit-overlay"),
                                    e.$(".dropzone-upload-box").addClass("dropzone-exceeds-limit-hover");
                                else {
                                    var n = e.$(".drop-photos-section");
                                    "none" === n.css("display") && (n.css("display", "block"),
                                    e.$(".dropzone-upload-box").addClass("drop-file-hover"))
                                }
                            }),
                            this.on("dragleave", function() {
                                (t -= 1) <= 0 && (e.$(".drop-photos-section").css("display", "none"),
                                e.$(".exceeds-limit-section").removeClass("dropzone-exceeds-limit-overlay"),
                                e.$(".dropzone-upload-box").removeClass("drop-file-hover dropzone-exceeds-limit-hover"),
                                e.pageDragPhotosCount = 2)
                            }),
                            this.on("addedfile", function() {
                                e.trigger(g.ADDED_PHOTO)
                            }),
                            this.on("error", function() {
                                e.trigger(g.UPLOAD_ERROR)
                            }),
                            this.on("totaluploadprogress", function(t) {
                                e.trigger(g.UPDATE_PROGRESS_BAR, t)
                            }),
                            this.on("success", function(t, i) {
                                e.trigger(g.UPLOADED_PHOTO, i),
                                e.droppedFiles = !1,
                                this.maxFiles -= 1
                            })
                        },
                        acceptedFiles: e.uploadOptions.acceptedFiles,
                        maxFilesize: e.uploadOptions.maxFilesizeMB,
                        maxFiles: e.uploadOptions.maxFiles,
                        url: e.uploadOptions.url,
                        accept: function(t, i) {
                            this.options.autoQueue || !e.droppedFiles ? i() : e.totalUploadSize = 0
                        },
                        autoQueue: !0,
                        autoProcessQueue: e.uploadOptions.autoProcessQueue,
                        headers: e.uploadOptions.headers,
                        createImageThumbnails: !1,
                        dictDefaultMessage: "",
                        dictResponseError: o.a.localize(e.uploadOptions.responseErrorKey),
                        dictMaxFilesExceeded: o.a.localize(e.uploadOptions.tooManyFilesKey),
                        dictFileTooBig: o.a.localize(e.uploadOptions.fileTooBigKey),
                        dictInvalidFileType: o.a.localize(e.uploadOptions.invalidFileTypeKey),
                        previewsContainer: e.uploadOptions.previewsContainer,
                        previewTemplate: n.a.template(e.uploadOptions.rowTemplate)({
                            Localizer: o.a
                        })
                    })
                },
                render: function() {
                    return this.$el.html(n.a.template(u.a)({
                        Localizer: o.a
                    })),
                    c.a.createElement = function(t) {
                        return e(t)[0]
                    }
                    ,
                    this.initDropZone(),
                    this
                },
                onDragPhotosInPage: function(e) {
                    this.pageDragPhotosCount += 1;
                    var t = this.getFilesCount(e);
                    this.filesExceedMax(t) ? (this.$(".exceeds-limit-section").addClass("exceeds-limit-overlay"),
                    this.$(".dropzone-upload-box").addClass("exceeds-limit-hover")) : (this.$(".drag-photos-section").css("display", "block"),
                    this.$(".dropzone-upload-box").addClass("drag-file-hover"))
                },
                onDragPhotosOutPage: function() {
                    this.pageDragPhotosCount -= 1,
                    this.pageDragPhotosCount <= 0 ? (this.$(".drag-photos-section").css("display", "none"),
                    this.$(".dropzone-upload-box").removeClass("drag-file-hover exceeds-limit-hover"),
                    this.$(".exceeds-limit-section").removeClass("exceeds-limit-overlay")) : (this.$(".drag-photos-section").css("display", "block"),
                    this.$(".dropzone-upload-box").addClass("drag-file-hover"))
                },
                getFilesCount: function(e) {
                    var t = null;
                    return t = (t = e.dataTransfer && e.dataTransfer.items ? e.dataTransfer.items.length : t) || e.originalEvent.dataTransfer.items.length
                },
                filesExceedMax: function(e) {
                    return (n.a.isUndefined(this.myAwesomeDropzone.maxFiles) || this.myAwesomeDropzone.maxFiles.isNull) && (this.myAwesomeDropzone.maxFiles = this.uploadOptions.maxFiles),
                    this.exceedsMax = e > this.myAwesomeDropzone.maxFiles,
                    this.exceedsMax
                },
                hideDropMessage: function() {
                    this.$(".drop-photos-section, .drag-photos-section").css("display", "none"),
                    this.$(".exceeds-limit-section").removeClass(".exceeds-limit-overlay dropzone-exceeds-limit-overlay"),
                    this.$(".dropzone-upload-box").removeClass("drag-file-hover drop-file-hover exceeds-limit-hover dropzone-exceeds-limit-hover")
                },
                mergeUploadOptions: function(t) {
                    this.uploadOptions = t ? e.extend(!0, {}, f, t) : e.extend(!0, {}, f)
                },
                destroy: function() {
                    this.off(),
                    this.myAwesomeDropzone.disable(),
                    this.remove()
                }
            });
            v.Events = g,
            t.a = v
        }
        ).call(this, i(10))
    },
    4227: function(e, t) {
        e.exports = '<div class="dz-file-preview file-error">\n    <h6 class="file-name" data-dz-name></h6>\n    <h6 class="file-size" data-dz-size></h6>\n    <h6 class="file-error-message" data-dz-errormessage></h6>\n</div>'
    },
    4228: function(e, t) {
        e.exports = '<form class="dropzone dropzone-upload-box dz-clickable">\n    <div class="view-photos"></div>\n    <div class="empty-state"></div>\n    <div class="drop-photos-section">\n        <h6 class="description"><%- Localizer.localize(\'photos_drop_instruction\') %></h6>\n    </div>\n    <div class="drag-photos-section">\n        <h6 class="description"><%- Localizer.localize(\'photos_drag_instruction\') %></h6>\n        <h6 class="description"><%- Localizer.localize(\'photos_upload_limit\') %></h6>\n    </div>\n    <div class="exceeds-limit-section">\n        <h6 class="description"><%- Localizer.localize(\'photos_upload_limit\') %></h6>\n    </div>\n</form>'
    },
    4229: function(e, t) {
        e.exports = '<div class="photo-upload-growl">\n    <div class="alert-growl-bottom-right">\n        <div class="alert-upload animated">\n\n            <h4 class="upload-text"></h4>\n\n            <div class="upload-progress-section">\n                <div class="upload-progress-bar">\n                    <div class="total-upload-progress"></div>\n                </div>\n                <h4 class="cancel-upload"><%- Localizer.localize(\'photos_upload_growl_cancel_upload\') %></h4>\n                <h4 class="dismiss-growl"><%- Localizer.localize(\'photos_upload_growl_dismiss\') %></h4>\n            </div>\n\n            <div class="upload-error-section">\n                <div class="upload-error-information">\n                    <h4 class="upload-error-summary"></h4>\n                    <h4 class="upload-error-dismiss"><%- Localizer.localize(\'photos_upload_growl_dismiss\') %></h4>\n                    <h4 class="upload-error-expand"><%- Localizer.localize(\'photos_upload_growl_expand_list\') %></h4>\n                    <h4 class="upload-error-minimize"><%- Localizer.localize(\'photos_upload_growl_minimize_list\') %></h4>\n                </div>\n                <div class="upload-error-list"></div>\n            </div>\n\n        </div>\n    </div>\n</div>\n\n<div class="photo-upload-error-growl">\n    <div class="alert-growl-bottom-right">\n        <div class="alert-error animated">\n            <h4 class="error-text"><%- Localizer.localize(\'photos_upload_growl_too_many_photos\') %></h4>\n            <h4 class="dismiss-error-growl"><%- Localizer.localize(\'photos_upload_growl_dismiss\') %></h4>\n        </div>\n    </div>\n</div>'
    },
    4230: function(e, t) {
        e.exports = '<div class="upload-photos-dropzone"></div>\n<div class="upload-growl"></div>\n<div class="edit-carousel-content"></div>\n<div class="alert alert-error hidden"></div>\n<div class="photo-carousel-view"></div>'
    },
    4231: function(e, t, i) {
        var a = i(4232);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(35)(a, n);
        a.locals && (e.exports = a.locals)
    },
    4232: function(e, t, i) {
        (e.exports = i(33)(!0)).push([e.i, "/*  ======================\n      Photo Empty State\n      ======================  */\n    .photo-empty-state .photos-header {\n        margin-bottom: 8px;\n    }\n    .photo-empty-state .add-photos {\n        width: 100%;\n        margin-bottom: 10px;\n        text-align: center;\n        cursor: pointer;\n    }\n    .photo-empty-state .add-photos-message {\n        font-size: 18px;\n        color: #121212;\n        letter-spacing: 0;\n        margin: 0;\n        display: -webkit-inline-flex;\n        display: inline-flex;\n        padding: 21px 10px 21px 10px;\n        cursor: pointer;\n    }\n    .photo-empty-state .icon-add-photo {\n        padding-right: 10px;\n        line-height: 23px;\n        height: auto;\n        width: auto;\n        cursor: pointer;\n    }\n    /*  ======================\n    Photo Carousel\n    ======================  */\n    .photo-carousel-section {\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n    .photo-carousel {\n        text-align: center;\n        position: relative;\n        margin: auto;\n        width: 100%;\n        height: 100%;\n    }\n    .photo-carousel .slides {\n        height: 270px;\n        margin-bottom: 5px;\n        float: left;\n        width: 100%;\n        position: relative;\n    }\n    /* Photo Containers */\n    .photo-carousel .active-photo-container,\n    .photo-carousel .inactive-photo-container {\n        height: 100%;\n        display: -webkit-flex;\n        display: flex;\n        -webkit-align-items: center;\n                align-items: center;\n        width: 80%;\n        padding-left: 10%;\n    }\n    .photo-carousel .inactive-photo-container {\n        display: none;\n    }\n    /* Photos */\n    .photo-carousel .photo {\n        max-height: 100%;\n        max-width: 100%;\n        height: auto;\n        width: auto;\n        margin-left: auto;\n        margin-right: auto;\n        cursor: pointer;\n    }\n    .photo-carousel .active-photo {\n        display: inline;\n    }\n    .photo-carousel .inactive-photo {\n        display: none;\n    }\n    /* Delete */\n    .photo-carousel .delete-content,\n    .photo-carousel .delete-overlay,\n    photo-carousel .edit-carousel-content,\n    .photo-carousel .edit-carousel-overlay {\n        display: none;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        height: 100%;\n        width: 100%;\n        z-index: 1;\n    }\n    .photo-carousel .delete-content,\n    .photo-carousel .edit-carousel-content {\n        -webkit-align-items: center;\n                align-items: center;\n    }\n    .photo-carousel .delete-overlay,\n    .photo-carousel {\n        transition: 0.5s ease;\n        background-color: #ffffff;\n    }\n    .modal .photo-carousel {\n        background-color: #000;\n    }\n    .slider-control-section-container {\n        padding: 0 10%;\n        /*is 80% because it inherits  box-sizing: content-box;*/\n        width: 80%;\n        float: left;\n        text-align: center;\n        margin: 5px 0;\n    }\n    .slider-control-section-container .slider-control-buttons {\n        float: right;\n    }\n    .slider-control-section-container .add-area {\n        float: left;\n    }\n    .icon-photo-add {\n        margin-right: 5px;\n    }\n    .edit-carousel-content {\n        transition: 0.5s ease;\n        background-color: #ffffff;\n    }\n    .edit-carousel-overlay {\n        margin: 5px;\n        text-align: center;\n    }\n    .edit-carousel-content .js-edit-images {\n        margin-bottom: 10px;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n    .edit-carousel-content .edit-image-div {\n        margin: 5px;\n        width: 100px;\n        height: 100px;\n        float: left;\n        position: relative;\n        background: no-repeat center center;\n        background-size: cover;\n    }\n    .edit-carousel-content .delete-photo-icon {\n        position: absolute;\n        bottom: 5px;\n        right: 5px;\n        display: block;\n        margin: 0;\n        padding: 0;\n        width: 25px;\n        height: 25px;\n        line-height: 1;\n        font-size: 20px;\n        text-align: center;\n        border: 1px solid #888;\n        background: #fff;\n        border-radius: 50%;\n        opacity: 0.8;\n    }\n    .edit-carousel-content .overlay-edit-btn {\n        text-align: right;\n        margin-bottom: 15px;\n    }\n    .photo-carousel .delete-message,\n    .photo-carousel .delete-error-message,\n    .photo-carousel .edit-carousel-content {\n        z-index: 100;\n        display: none;\n        margin-left: auto;\n        margin-right: auto;\n        visibility: visible;\n    }\n    .photo-carousel .delete-error-message .dismiss-delete-error {\n        cursor: pointer;\n    }\n    .photo-carousel .delete-content .keep-photo,\n    .photo-carousel .delete-content .confirm-remove-photo {\n        margin: 5px;\n        cursor: pointer;\n    }\n    /* Scroll arrows */\n    .photo-carousel .arrow-bar-left,\n    .photo-carousel .arrow-bar-right {\n        height: 100%;\n        width: 10%;\n        position: absolute;\n    }\n    .photo-carousel .arrow-bar-left {\n        left: 0;\n    }\n    .photo-carousel .arrow-bar-right {\n        right: 0;\n    }\n    .photo-carousel .icon-arrow-left,\n    .photo-carousel .icon-arrow-right {\n        font-size: 30px;\n        width: auto;\n        margin: 0;\n        height: auto;\n        color: #c7c7c7;\n        opacity: 0.7;\n        position: absolute;\n        top: 50%;\n        cursor: pointer;\n    }\n    .photo-carousel .icon-arrow-right {\n        right: 25%;\n    }\n    .photo-carousel .icon-arrow-left {\n        left: 25%;\n    }\n    .photo-carousel .icon-arrow-right.hidden-arrow,\n    .photo-carousel .icon-arrow-left.hidden-arrow {\n        visibility: hidden;\n    }\n    /* Add */\n    .photo-carousel .add-photo-text {\n        font-size: 12px;\n        color: #11a9ed;\n        cursor: pointer;\n    }\n    .photo-carousel .add-photo-icon,\n    .photo-carousel .add-icon-text-disabled {\n        margin-right: 5px;\n        line-height: 15px;\n    }\n    .photo-carousel .add-photo-text-disabled {\n        font-size: 12px;\n        color: #c7c7c7;\n        cursor: text;\n    }\n    .drag-drop-placeholder {\n        width: 100px;\n        height: 100px;\n        margin: 5px;\n        float: left;\n        border: 2px dashed #11a9ed;\n        box-sizing: border-box;\n    }\n    /* Remove */\n    .photo-carousel .delete-photo,\n    .photo-carousel .edit-carousel {\n        font-size: 12px;\n        color: #11a9ed;\n        float: right;\n        cursor: pointer;\n        display: inline;\n        margin-right: 2px;\n    }\n    .photo-carousel .add-photo-text:hover,\n    .photo-carousel .add-photo-text:focus,\n    .photo-carousel .delete-photo:hover,\n    .photo-carousel .delete-photo:focus,\n    .photo-carousel .edit-carousel:hover,\n    .photo-carousel .edit-carousel:focus {\n        text-decoration: underline;\n    }\n    .photo-carousel .delete-photo + .edit-carousel {\n        margin-right: 10px;\n    }\n    .photo-carousel .delete-image,\n    .photo-carousel .delete-error-message {\n        cursor: hand;\n        z-index: 100;\n        margin-top: 20%;\n    }\n    /* Scroll circles */\n    .photo-carousel .scroll-circle {\n        cursor: pointer;\n        height: 10px;\n        width: 10px;\n        margin: 0 4px 0 4px;\n        background-color: #c7c7c7;\n        border: 1px solid #c7c7c7;\n        border-radius: 50%;\n        display: inline-block;\n        transition: background-color 0.5s ease;\n    }\n    .photo-carousel .active-circle,\n    .photo-carousel .scroll-circle:hover {\n        background-color: #4badef;\n        border: 1px solid #4badef;\n    }\n    /* Modal */\n    .photo-carousel-modal {\n        height: 90%;\n        background-color: black;\n        border: black;\n        width: 90%;\n        padding: 0;\n        margin: 0;\n        left: 5%;\n        right: 5%;\n    }\n    .photo-carousel-modal .photo-carousel-section {\n        height: 85%;\n    }\n    .photo-carousel-modal .photo-carousel {\n        height: 95%;\n    }\n    .photo-carousel-modal .modal-body {\n        overflow-y: inherit;\n        padding: 45px 5px 0 5px;\n    }\n    .photo-carousel-modal .slides,\n    .photo-carousel-modal .arrow-bar-left,\n    .photo-carousel-modal .arrow-bar-right {\n        height: 100%;\n        width: auto;\n        float: none;\n    }\n    .photo-carousel-modal .active-photo-container,\n    .photo-carousel-modal .inactive-photo-container {\n        width: 90%;\n        padding-left: 5%;\n    }\n    .photo-carousel-modal .icon-arrow-left {\n        left: 0;\n    }\n    .photo-carousel-modal .icon-arrow-left,\n    .photo-carousel-modal .icon-arrow-right {\n        font-size: 55px;\n    }\n    .photo-carousel-modal .photo {\n        cursor: auto;\n        cursor: initial;\n    }\n    .photo-carousel-modal .slides {\n        margin-bottom: 35px;\n    }\n    .photo-carousel-modal .scroll-circle {\n        height: 12px;\n        width: 12px;\n        margin: 0 10px 0 10px;\n    }\n    .photo-carousel-modal .close {\n        font-size: 35px;\n        color: #ffffff;\n        margin-top: 15px;\n        line-height: 20px;\n        margin-right: 5px;\n    }\n    .modal-backdrop.lightbox {\n        background-color: black;\n    }\n    /*  ======================\n    Photo Upload\n    ======================  */\n    .photo-upload {\n        margin-bottom: 2px;\n    }\n    /* Dropzone instruction text */\n    .photo-upload .dz-message {\n        margin: 0;\n    }\n    /* Upload bar */\n    .photo-upload .dz-preview .dz-progress {\n        left: 0;\n        margin-left: 20px;\n        top: 60%;\n        background: #ffffff;\n        border: 1px solid #11a8ec;\n        width: 60px;\n        height: 9px;\n    }\n    .photo-upload .dz-preview .dz-progress .dz-upload {\n        background: #11a8ec;\n    }\n    /* Filename */\n    .photo-upload .dz-preview .dz-filename {\n        width: 77px;\n        font-size: 12px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n    }\n    /* Override default Dropzone CSS */\n    .photo-upload .dropzone.dropzone-upload-box {\n        position: relative;\n    }\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable {\n        font-weight: 400;\n        border: none;\n        padding: 0;\n        margin: 0;\n        font-size: 14px;\n        min-height: 0;\n    }\n    .photo-upload .dropzone.dropzone-upload-box.dz-max-files-reached {\n        opacity: 1;\n    }\n    /* Dropzone uses an * selector that can only be overridden by another * selector */\n    .photo-upload .dropzone.dropzone-upload-box * {\n        box-sizing: content-box;\n    }\n    /* Drag files */\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.drag-file-hover,\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.drop-file-hover {\n        border: 2px dashed #11a9ed;\n    }\n    .photo-upload .drop-photos-section,\n    .photo-upload .drag-photos-section,\n    .photo-upload .exceeds-limit-section.exceeds-limit-overlay,\n    .photo-upload .exceeds-limit-section.dropzone-exceeds-limit-overlay {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        font-size: 21px;\n        background-color: rgba(255, 255, 255, 0.95);\n    }\n    .photo-upload .drop-photos-section,\n    .photo-upload .drag-photos-section {\n        display: none;\n        color: #11a9ed;\n    }\n    .photo-upload .exceeds-limit-section {\n        display: none;\n    }\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.exceeds-limit-hover,\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.dropzone-exceeds-limit-hover {\n        border: 2px dashed #ff0035;\n    }\n    .photo-upload .exceeds-limit-section.exceeds-limit-overlay,\n    .photo-upload .exceeds-limit-section.dropzone-exceeds-limit-overlay {\n        display: block;\n        color: #ff0035;\n    }\n    .photo-upload .description {\n        position: relative;\n        text-align: center;\n        top: 50%;\n        margin: 0;\n    }\n    /* Growler */\n    .photo-upload-growl {\n        display: none;\n    }\n    /*  ======================\n    Photo Upload Growl\n    ======================  */\n    .photo-upload-growl .alert-growl-bottom-right {\n        z-index: 10;\n        width: 610px;\n        position: fixed;\n        right: 50px;\n        bottom: 50px;\n        max-height: 500px;\n        overflow-y: auto;\n        overflow-x: hidden;\n    }\n    .photo-upload-growl .alert-growl-bottom-right .alert-upload {\n        color: #121212;\n        background-color: #ffffff;\n        border: 3px solid #f2f2f2;\n        padding: 10px 25px 10px 25px;\n    }\n    .photo-upload-growl .upload-text {\n        margin-bottom: 5px;\n        display: block;\n        font-size: 14px;\n    }\n    .photo-upload-growl .upload-progress-section {\n        padding-top: 10px;\n        padding-bottom: 10px;\n    }\n    .photo-upload-growl .upload-progress-bar {\n        display: -webkit-inline-flex;\n        display: inline-flex;\n        width: 85%;\n        height: 15px;\n        background-color: #ffffff;\n        border: 1px solid #11a8ec;\n        border-radius: 48px;\n        vertical-align: middle;\n    }\n    .photo-upload-growl .total-upload-progress {\n        width: 0%;\n        background-color: #11a9ed;\n        border-radius: 48px;\n        height: 100%;\n    }\n    .photo-upload-growl .cancel-upload,\n    .photo-upload-growl .dismiss-growl {\n        font-size: 14px;\n        color: #11a8ec;\n        display: inline;\n        padding-left: 4%;\n        vertical-align: middle;\n        cursor: pointer;\n    }\n    .photo-upload-growl .dismiss-growl {\n        display: none;\n    }\n    /* Upload Error Banner */\n    .photo-upload-growl .upload-error-section {\n        display: none;\n        width: 604px;\n        margin-left: -26px;\n    }\n    .photo-upload-growl .upload-error-information {\n        background-color: #ffc5d2;\n        border: 1px solid #bf0f24;\n        width: 100%;\n        display: -webkit-inline-flex;\n        display: inline-flex;\n        height: 35px;\n        margin-top: 10px;\n        margin-bottom: 10px;\n    }\n    .photo-upload-growl .upload-error-summary,\n    .photo-upload-growl .upload-error-dismiss,\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        font-size: 14px;\n        color: #b81623;\n        letter-spacing: 0;\n        margin-top: 8px;\n    }\n    .photo-upload-growl .upload-error-summary {\n        margin-left: 25px;\n    }\n    .photo-upload-growl .upload-error-dismiss,\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        text-decoration: underline;\n        cursor: pointer;\n    }\n    .photo-upload-growl .upload-error-dismiss {\n        margin-left: 300px;\n    }\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        margin-left: 15px;\n    }\n    .photo-upload-growl .upload-error-minimize {\n        display: none;\n    }\n    /* Upload Error List */\n    .photo-upload-growl .upload-error-list {\n        display: none;\n    }\n    .photo-upload-growl .dz-file-preview {\n        display: none;\n    }\n    .photo-upload-growl .dz-file-preview.dz-error.dz-complete {\n        display: block;\n    }\n    .photo-upload-growl .file-error {\n        margin: 10px 25px 0 25px;\n    }\n    .photo-upload-growl .file-name,\n    .photo-upload-growl .file-size,\n    .photo-upload-growl .file-error-message {\n        display: inline-block;\n        font-size: 14px;\n        margin-bottom: 0;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n    .photo-upload-growl .file-name {\n        width: 200px;\n    }\n    .photo-upload-growl .file-size {\n        position: absolute;\n        width: 100px;\n        left: 45%;\n    }\n    .photo-upload-growl .file-error-message {\n        position: absolute;\n        width: 175px;\n        right: 25px;\n        color: #ff0035;\n    }\n    /* Generic Upload Error */\n    .photo-upload-error-growl {\n        display: none;\n    }\n    .photo-upload-error-growl .alert-growl-bottom-right {\n        width: 475px;\n        z-index: 500;\n        margin: auto;\n        position: fixed;\n        right: 50px;\n        bottom: 50px;\n    }\n    .photo-upload-error-growl .alert-growl-bottom-right .alert-error {\n        background: #fbccd8;\n        border: 1px solid #c91a33;\n        border-radius: 6px;\n        padding: 10px 25px 10px 25px;\n    }\n    .photo-upload-error-growl .error-text,\n    .photo-upload-error-growl .dismiss-error-growl {\n        display: block;\n        font-size: 14px;\n    }\n    .photo-upload-error-growl .error-text {\n        margin-bottom: 0;\n    }\n    .photo-upload-error-growl .dismiss-error-growl {\n        cursor: pointer;\n        text-decoration: underline;\n        margin-left: 380px;\n        margin-bottom: 0;\n    }\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.28/src/styles/photo-gallery.css"],
            names: [],
            mappings: "AACI;;gCAE2B;IAE3B;QACI,mBAAkB;KACtB;IAEA;QACI,YAAW;QACX,oBAAmB;QACnB,mBAAkB;QAClB,gBAAe;KACnB;IAEA;QACI,gBAAe;QACf,eAAc;QACd,kBAAiB;QACjB,UAAS;QACT,6BAAoB;QAApB,qBAAoB;QACpB,6BAA4B;QAC5B,gBAAe;KACnB;IAEA;QACI,oBAAmB;QACnB,kBAAiB;QACjB,aAAY;QACZ,YAAW;QACX,gBAAe;KACnB;IAAE;;8BAEuB;IAEzB;QACI,0BAAyB;QACzB,uBAAsB;QACtB,sBAAqB;QACrB,kBAAiB;KACrB;IAEA;QACI,mBAAkB;QAClB,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,aAAY;KAChB;IAEA;QACI,cAAa;QACb,mBAAkB;QAClB,YAAW;QACX,YAAW;QACX,mBAAkB;KACtB;IAEA,sBAAqB;IACrB;;QAEI,aAAY;QACZ,sBAAa;QAAb,cAAa;QACb,4BAAmB;gBAAnB,oBAAmB;QACnB,WAAU;QACV,kBAAiB;KACrB;IAEA;QACI,cAAa;KACjB;IAEA,YAAW;IACX;QACI,iBAAgB;QAChB,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,mBAAkB;QAClB,gBAAe;KACnB;IAEA;QACI,gBAAe;KACnB;IAEA;QACI,cAAa;KACjB;IAEA,YAAW;IACX;;;;QAII,cAAa;QACb,mBAAkB;QAClB,OAAM;QACN,UAAS;QACT,QAAO;QACP,SAAQ;QACR,aAAY;QACZ,YAAW;QACX,WAAU;KACd;IAEA;;QAEI,4BAAmB;gBAAnB,oBAAmB;KACvB;IAEA;;QAEI,sBAAqB;QACrB,0BAAyB;KAC7B;IACA;QACI,uBAAsB;KAC1B;IACA;QACI,eAAc;QACd,wDAAuD;QACvD,WAAU;QACV,YAAW;QACX,mBAAkB;QAClB,cAAa;KACjB;IACA;QACI,aAAY;KAChB;IACA;QACI,YAAW;KACf;IACA;QACI,kBAAiB;KACrB;IAEA;QACI,sBAAqB;QACrB,0BAAyB;KAC7B;IAEA;QACI,YAAW;QACX,mBAAkB;KACtB;IAEA;QACI,oBAAmB;QACnB,0BAAyB;QACzB,uBAAsB;QACtB,sBAAqB;QACrB,kBAAiB;KACrB;IAEA;QACI,YAAW;QACX,aAAY;QACZ,cAAa;QACb,YAAW;QACX,mBAAkB;QAClB,oCAAmC;QACnC,uBAAsB;KAC1B;IAEA;QACI,mBAAkB;QAClB,YAAW;QACX,WAAU;QACV,eAAc;QACd,UAAS;QACT,WAAU;QACV,YAAW;QACX,aAAY;QACZ,eAAc;QACd,gBAAe;QACf,mBAAkB;QAClB,uBAAsB;QACtB,iBAAgB;QAChB,mBAAkB;QAClB,aAAY;KAChB;IAEA;QACI,kBAAiB;QACjB,oBAAmB;KACvB;IAEA;;;QAGI,aAAY;QACZ,cAAa;QACb,kBAAiB;QACjB,mBAAkB;QAClB,oBAAmB;KACvB;IAEA;QACI,gBAAe;KACnB;IAEA;;QAEI,YAAW;QACX,gBAAe;KACnB;IAEA,mBAAkB;IAClB;;QAEI,aAAY;QACZ,WAAU;QACV,mBAAkB;KACtB;IAEA;QACI,QAAO;KACX;IAEA;QACI,SAAQ;KACZ;IAEA;;QAEI,gBAAe;QACf,YAAW;QACX,UAAS;QACT,aAAY;QACZ,eAAc;QACd,aAAY;QACZ,mBAAkB;QAClB,SAAQ;QACR,gBAAe;KACnB;IAEA;QACI,WAAU;KACd;IAEA;QACI,UAAS;KACb;IAEA;;QAEI,mBAAkB;KACtB;IAEA,SAAQ;IACR;QACI,gBAAe;QACf,eAAc;QACd,gBAAe;KACnB;IAEA;;QAEI,kBAAiB;QACjB,kBAAiB;KACrB;IAEA;QACI,gBAAe;QACf,eAAc;QACd,aAAY;KAChB;IAEA;QACI,aAAY;QACZ,cAAa;QACb,YAAW;QACX,YAAW;QACX,2BAA0B;QAC1B,uBAAsB;KAC1B;IAEA,YAAW;IACX;;QAEI,gBAAe;QACf,eAAc;QACd,aAAY;QACZ,gBAAe;QACf,gBAAe;QACf,kBAAiB;KACrB;IACA;;;;;;QAMI,2BAA0B;KAC9B;IACA;QACI,mBAAkB;KACtB;IAEA;;QAEI,aAAY;QACZ,aAAY;QACZ,gBAAe;KACnB;IAEA,oBAAmB;IACnB;QACI,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,oBAAmB;QACnB,0BAAyB;QACzB,0BAAyB;QACzB,mBAAkB;QAClB,sBAAqB;QACrB,uCAAsC;KAC1C;IAEA;;QAEI,0BAAyB;QACzB,0BAAyB;KAC7B;IAEA,WAAU;IACV;QACI,YAAW;QACX,wBAAuB;QACvB,cAAa;QACb,WAAU;QACV,WAAU;QACV,UAAS;QACT,SAAQ;QACR,UAAS;KACb;IAEA;QACI,YAAW;KACf;IAEA;QACI,YAAW;KACf;IAEA;QACI,oBAAmB;QACnB,wBAAuB;KAC3B;IAEA;;;QAGI,aAAY;QACZ,YAAW;QACX,YAAW;KACf;IAEA;;QAEI,WAAU;QACV,iBAAgB;KACpB;IAEA;QACI,QAAO;KACX;IAEA;;QAEI,gBAAe;KACnB;IAEA;QACI,aAAe;QAAf,gBAAe;KACnB;IAEA;QACI,oBAAmB;KACvB;IAEA;QACI,aAAY;QACZ,YAAW;QACX,sBAAqB;KACzB;IAEA;QACI,gBAAe;QACf,eAAc;QACd,iBAAgB;QAChB,kBAAiB;QACjB,kBAAiB;KACrB;IAEA;QACI,wBAAuB;KAC3B;IAAE;;8BAEuB;IAEzB;QACI,mBAAkB;KACtB;IAEA,+BAA8B;IAC9B;QACI,UAAS;KACb;IAEA,gBAAe;IACf;QACI,QAAO;QACP,kBAAiB;QACjB,SAAQ;QACR,oBAAmB;QACnB,0BAAyB;QACzB,YAAW;QACX,YAAW;KACf;IAEA;QACI,oBAAmB;KACvB;IAEA,cAAa;IACb;QACI,YAAW;QACX,gBAAe;QACf,wBAAuB;QACvB,iBAAgB;QAChB,oBAAmB;KACvB;IAEA,mCAAkC;IAClC;QACI,mBAAkB;KACtB;IAEA;QACI,iBAAgB;QAChB,aAAY;QACZ,WAAU;QACV,UAAS;QACT,gBAAe;QACf,cAAa;KACjB;IAEA;QACI,WAAU;KACd;IAEA,mFAAkF;IAClF;QACI,wBAAuB;KAC3B;IAEA,gBAAe;IACf;;QAEI,2BAA0B;KAC9B;IAEA;;;;QAII,mBAAkB;QAClB,YAAW;QACX,aAAY;QACZ,OAAM;QACN,QAAO;QACP,SAAQ;QACR,UAAS;QACT,gBAAe;QACf,4CAA2C;KAC/C;IAEA;;QAEI,cAAa;QACb,eAAc;KAClB;IAEA;QACI,cAAa;KACjB;IAEA;;QAEI,2BAA0B;KAC9B;IAEA;;QAEI,eAAc;QACd,eAAc;KAClB;IAEA;QACI,mBAAkB;QAClB,mBAAkB;QAClB,SAAQ;QACR,UAAS;KACb;IAIA,aAAY;IACZ;QACI,cAAa;KACjB;IAPE;;8BAEuB;IAOzB;QACI,YAAW;QACX,aAAY;QACZ,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,iBAAgB;QAChB,mBAAkB;KACtB;IAEA;QACI,eAAc;QACd,0BAAyB;QACzB,0BAAyB;QACzB,6BAA4B;KAChC;IAEA;QACI,mBAAkB;QAClB,eAAc;QACd,gBAAe;KACnB;IAEA;QACI,kBAAiB;QACjB,qBAAoB;KACxB;IAEA;QACI,6BAAoB;QAApB,qBAAoB;QACpB,WAAU;QACV,aAAY;QACZ,0BAAyB;QACzB,0BAAyB;QACzB,oBAAmB;QACnB,uBAAsB;KAC1B;IAEA;QACI,UAAS;QACT,0BAAyB;QACzB,oBAAmB;QACnB,aAAY;KAChB;IAEA;;QAEI,gBAAe;QACf,eAAc;QACd,gBAAe;QACf,iBAAgB;QAChB,uBAAsB;QACtB,gBAAe;KACnB;IAEA;QACI,cAAa;KACjB;IAEA,yBAAwB;IACxB;QACI,cAAa;QACb,aAAY;QACZ,mBAAkB;KACtB;IAEA;QACI,0BAAyB;QACzB,0BAAyB;QACzB,YAAW;QACX,6BAAoB;QAApB,qBAAoB;QACpB,aAAY;QACZ,iBAAgB;QAChB,oBAAmB;KACvB;IAEA;;;;QAII,gBAAe;QACf,eAAc;QACd,kBAAiB;QACjB,gBAAe;KACnB;IAEA;QACI,kBAAiB;KACrB;IAEA;;;QAGI,2BAA0B;QAC1B,gBAAe;KACnB;IAEA;QACI,mBAAkB;KACtB;IAEA;;QAEI,kBAAiB;KACrB;IAEA;QACI,cAAa;KACjB;IAEA,uBAAsB;IACtB;QACI,cAAa;KACjB;IAEA;QACI,cAAa;KACjB;IAEA;QACI,eAAc;KAClB;IAEA;QACI,yBAAwB;KAC5B;IAEA;;;QAGI,sBAAqB;QACrB,gBAAe;QACf,iBAAgB;QAChB,iBAAgB;QAChB,wBAAuB;QACvB,oBAAmB;KACvB;IAEA;QACI,aAAY;KAChB;IAEA;QACI,mBAAkB;QAClB,aAAY;QACZ,UAAS;KACb;IAEA;QACI,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,eAAc;KAClB;IAEA,0BAAyB;IACzB;QACI,cAAa;KACjB;IAEA;QACI,aAAY;QACZ,aAAY;QACZ,aAAY;QACZ,gBAAe;QACf,YAAW;QACX,aAAY;KAChB;IAEA;QACI,oBAAmB;QACnB,0BAAyB;QACzB,mBAAkB;QAClB,6BAA4B;KAChC;IAEA;;QAEI,eAAc;QACd,gBAAe;KACnB;IAEA;QACI,iBAAgB;KACpB;IAEA;QACI,gBAAe;QACf,2BAA0B;QAC1B,mBAAkB;QAClB,iBAAgB;KACpB",
            file: "photo-gallery.css",
            sourcesContent: [":global {\n    /*  ======================\n      Photo Empty State\n      ======================  */\n\n    .photo-empty-state .photos-header {\n        margin-bottom: 8px;\n    }\n\n    .photo-empty-state .add-photos {\n        width: 100%;\n        margin-bottom: 10px;\n        text-align: center;\n        cursor: pointer;\n    }\n\n    .photo-empty-state .add-photos-message {\n        font-size: 18px;\n        color: #121212;\n        letter-spacing: 0;\n        margin: 0;\n        display: inline-flex;\n        padding: 21px 10px 21px 10px;\n        cursor: pointer;\n    }\n\n    .photo-empty-state .icon-add-photo {\n        padding-right: 10px;\n        line-height: 23px;\n        height: auto;\n        width: auto;\n        cursor: pointer;\n    } /*  ======================\n    Photo Carousel\n    ======================  */\n\n    .photo-carousel-section {\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n\n    .photo-carousel {\n        text-align: center;\n        position: relative;\n        margin: auto;\n        width: 100%;\n        height: 100%;\n    }\n\n    .photo-carousel .slides {\n        height: 270px;\n        margin-bottom: 5px;\n        float: left;\n        width: 100%;\n        position: relative;\n    }\n\n    /* Photo Containers */\n    .photo-carousel .active-photo-container,\n    .photo-carousel .inactive-photo-container {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        width: 80%;\n        padding-left: 10%;\n    }\n\n    .photo-carousel .inactive-photo-container {\n        display: none;\n    }\n\n    /* Photos */\n    .photo-carousel .photo {\n        max-height: 100%;\n        max-width: 100%;\n        height: auto;\n        width: auto;\n        margin-left: auto;\n        margin-right: auto;\n        cursor: pointer;\n    }\n\n    .photo-carousel .active-photo {\n        display: inline;\n    }\n\n    .photo-carousel .inactive-photo {\n        display: none;\n    }\n\n    /* Delete */\n    .photo-carousel .delete-content,\n    .photo-carousel .delete-overlay,\n    photo-carousel .edit-carousel-content,\n    .photo-carousel .edit-carousel-overlay {\n        display: none;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        height: 100%;\n        width: 100%;\n        z-index: 1;\n    }\n\n    .photo-carousel .delete-content,\n    .photo-carousel .edit-carousel-content {\n        align-items: center;\n    }\n\n    .photo-carousel .delete-overlay,\n    .photo-carousel {\n        transition: 0.5s ease;\n        background-color: #ffffff;\n    }\n    .modal .photo-carousel {\n        background-color: #000;\n    }\n    .slider-control-section-container {\n        padding: 0 10%;\n        /*is 80% because it inherits  box-sizing: content-box;*/\n        width: 80%;\n        float: left;\n        text-align: center;\n        margin: 5px 0;\n    }\n    .slider-control-section-container .slider-control-buttons {\n        float: right;\n    }\n    .slider-control-section-container .add-area {\n        float: left;\n    }\n    .icon-photo-add {\n        margin-right: 5px;\n    }\n\n    .edit-carousel-content {\n        transition: 0.5s ease;\n        background-color: #ffffff;\n    }\n\n    .edit-carousel-overlay {\n        margin: 5px;\n        text-align: center;\n    }\n\n    .edit-carousel-content .js-edit-images {\n        margin-bottom: 10px;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n\n    .edit-carousel-content .edit-image-div {\n        margin: 5px;\n        width: 100px;\n        height: 100px;\n        float: left;\n        position: relative;\n        background: no-repeat center center;\n        background-size: cover;\n    }\n\n    .edit-carousel-content .delete-photo-icon {\n        position: absolute;\n        bottom: 5px;\n        right: 5px;\n        display: block;\n        margin: 0;\n        padding: 0;\n        width: 25px;\n        height: 25px;\n        line-height: 1;\n        font-size: 20px;\n        text-align: center;\n        border: 1px solid #888;\n        background: #fff;\n        border-radius: 50%;\n        opacity: 0.8;\n    }\n\n    .edit-carousel-content .overlay-edit-btn {\n        text-align: right;\n        margin-bottom: 15px;\n    }\n\n    .photo-carousel .delete-message,\n    .photo-carousel .delete-error-message,\n    .photo-carousel .edit-carousel-content {\n        z-index: 100;\n        display: none;\n        margin-left: auto;\n        margin-right: auto;\n        visibility: visible;\n    }\n\n    .photo-carousel .delete-error-message .dismiss-delete-error {\n        cursor: pointer;\n    }\n\n    .photo-carousel .delete-content .keep-photo,\n    .photo-carousel .delete-content .confirm-remove-photo {\n        margin: 5px;\n        cursor: pointer;\n    }\n\n    /* Scroll arrows */\n    .photo-carousel .arrow-bar-left,\n    .photo-carousel .arrow-bar-right {\n        height: 100%;\n        width: 10%;\n        position: absolute;\n    }\n\n    .photo-carousel .arrow-bar-left {\n        left: 0;\n    }\n\n    .photo-carousel .arrow-bar-right {\n        right: 0;\n    }\n\n    .photo-carousel .icon-arrow-left,\n    .photo-carousel .icon-arrow-right {\n        font-size: 30px;\n        width: auto;\n        margin: 0;\n        height: auto;\n        color: #c7c7c7;\n        opacity: 0.7;\n        position: absolute;\n        top: 50%;\n        cursor: pointer;\n    }\n\n    .photo-carousel .icon-arrow-right {\n        right: 25%;\n    }\n\n    .photo-carousel .icon-arrow-left {\n        left: 25%;\n    }\n\n    .photo-carousel .icon-arrow-right.hidden-arrow,\n    .photo-carousel .icon-arrow-left.hidden-arrow {\n        visibility: hidden;\n    }\n\n    /* Add */\n    .photo-carousel .add-photo-text {\n        font-size: 12px;\n        color: #11a9ed;\n        cursor: pointer;\n    }\n\n    .photo-carousel .add-photo-icon,\n    .photo-carousel .add-icon-text-disabled {\n        margin-right: 5px;\n        line-height: 15px;\n    }\n\n    .photo-carousel .add-photo-text-disabled {\n        font-size: 12px;\n        color: #c7c7c7;\n        cursor: text;\n    }\n\n    .drag-drop-placeholder {\n        width: 100px;\n        height: 100px;\n        margin: 5px;\n        float: left;\n        border: 2px dashed #11a9ed;\n        box-sizing: border-box;\n    }\n\n    /* Remove */\n    .photo-carousel .delete-photo,\n    .photo-carousel .edit-carousel {\n        font-size: 12px;\n        color: #11a9ed;\n        float: right;\n        cursor: pointer;\n        display: inline;\n        margin-right: 2px;\n    }\n    .photo-carousel .add-photo-text:hover,\n    .photo-carousel .add-photo-text:focus,\n    .photo-carousel .delete-photo:hover,\n    .photo-carousel .delete-photo:focus,\n    .photo-carousel .edit-carousel:hover,\n    .photo-carousel .edit-carousel:focus {\n        text-decoration: underline;\n    }\n    .photo-carousel .delete-photo + .edit-carousel {\n        margin-right: 10px;\n    }\n\n    .photo-carousel .delete-image,\n    .photo-carousel .delete-error-message {\n        cursor: hand;\n        z-index: 100;\n        margin-top: 20%;\n    }\n\n    /* Scroll circles */\n    .photo-carousel .scroll-circle {\n        cursor: pointer;\n        height: 10px;\n        width: 10px;\n        margin: 0 4px 0 4px;\n        background-color: #c7c7c7;\n        border: 1px solid #c7c7c7;\n        border-radius: 50%;\n        display: inline-block;\n        transition: background-color 0.5s ease;\n    }\n\n    .photo-carousel .active-circle,\n    .photo-carousel .scroll-circle:hover {\n        background-color: #4badef;\n        border: 1px solid #4badef;\n    }\n\n    /* Modal */\n    .photo-carousel-modal {\n        height: 90%;\n        background-color: black;\n        border: black;\n        width: 90%;\n        padding: 0;\n        margin: 0;\n        left: 5%;\n        right: 5%;\n    }\n\n    .photo-carousel-modal .photo-carousel-section {\n        height: 85%;\n    }\n\n    .photo-carousel-modal .photo-carousel {\n        height: 95%;\n    }\n\n    .photo-carousel-modal .modal-body {\n        overflow-y: inherit;\n        padding: 45px 5px 0 5px;\n    }\n\n    .photo-carousel-modal .slides,\n    .photo-carousel-modal .arrow-bar-left,\n    .photo-carousel-modal .arrow-bar-right {\n        height: 100%;\n        width: auto;\n        float: none;\n    }\n\n    .photo-carousel-modal .active-photo-container,\n    .photo-carousel-modal .inactive-photo-container {\n        width: 90%;\n        padding-left: 5%;\n    }\n\n    .photo-carousel-modal .icon-arrow-left {\n        left: 0;\n    }\n\n    .photo-carousel-modal .icon-arrow-left,\n    .photo-carousel-modal .icon-arrow-right {\n        font-size: 55px;\n    }\n\n    .photo-carousel-modal .photo {\n        cursor: initial;\n    }\n\n    .photo-carousel-modal .slides {\n        margin-bottom: 35px;\n    }\n\n    .photo-carousel-modal .scroll-circle {\n        height: 12px;\n        width: 12px;\n        margin: 0 10px 0 10px;\n    }\n\n    .photo-carousel-modal .close {\n        font-size: 35px;\n        color: #ffffff;\n        margin-top: 15px;\n        line-height: 20px;\n        margin-right: 5px;\n    }\n\n    .modal-backdrop.lightbox {\n        background-color: black;\n    } /*  ======================\n    Photo Upload\n    ======================  */\n\n    .photo-upload {\n        margin-bottom: 2px;\n    }\n\n    /* Dropzone instruction text */\n    .photo-upload .dz-message {\n        margin: 0;\n    }\n\n    /* Upload bar */\n    .photo-upload .dz-preview .dz-progress {\n        left: 0;\n        margin-left: 20px;\n        top: 60%;\n        background: #ffffff;\n        border: 1px solid #11a8ec;\n        width: 60px;\n        height: 9px;\n    }\n\n    .photo-upload .dz-preview .dz-progress .dz-upload {\n        background: #11a8ec;\n    }\n\n    /* Filename */\n    .photo-upload .dz-preview .dz-filename {\n        width: 77px;\n        font-size: 12px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n    }\n\n    /* Override default Dropzone CSS */\n    .photo-upload .dropzone.dropzone-upload-box {\n        position: relative;\n    }\n\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable {\n        font-weight: 400;\n        border: none;\n        padding: 0;\n        margin: 0;\n        font-size: 14px;\n        min-height: 0;\n    }\n\n    .photo-upload .dropzone.dropzone-upload-box.dz-max-files-reached {\n        opacity: 1;\n    }\n\n    /* Dropzone uses an * selector that can only be overridden by another * selector */\n    .photo-upload .dropzone.dropzone-upload-box * {\n        box-sizing: content-box;\n    }\n\n    /* Drag files */\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.drag-file-hover,\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.drop-file-hover {\n        border: 2px dashed #11a9ed;\n    }\n\n    .photo-upload .drop-photos-section,\n    .photo-upload .drag-photos-section,\n    .photo-upload .exceeds-limit-section.exceeds-limit-overlay,\n    .photo-upload .exceeds-limit-section.dropzone-exceeds-limit-overlay {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        font-size: 21px;\n        background-color: rgba(255, 255, 255, 0.95);\n    }\n\n    .photo-upload .drop-photos-section,\n    .photo-upload .drag-photos-section {\n        display: none;\n        color: #11a9ed;\n    }\n\n    .photo-upload .exceeds-limit-section {\n        display: none;\n    }\n\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.exceeds-limit-hover,\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.dropzone-exceeds-limit-hover {\n        border: 2px dashed #ff0035;\n    }\n\n    .photo-upload .exceeds-limit-section.exceeds-limit-overlay,\n    .photo-upload .exceeds-limit-section.dropzone-exceeds-limit-overlay {\n        display: block;\n        color: #ff0035;\n    }\n\n    .photo-upload .description {\n        position: relative;\n        text-align: center;\n        top: 50%;\n        margin: 0;\n    } /*  ======================\n    Photo Upload Growl\n    ======================  */\n\n    /* Growler */\n    .photo-upload-growl {\n        display: none;\n    }\n\n    .photo-upload-growl .alert-growl-bottom-right {\n        z-index: 10;\n        width: 610px;\n        position: fixed;\n        right: 50px;\n        bottom: 50px;\n        max-height: 500px;\n        overflow-y: auto;\n        overflow-x: hidden;\n    }\n\n    .photo-upload-growl .alert-growl-bottom-right .alert-upload {\n        color: #121212;\n        background-color: #ffffff;\n        border: 3px solid #f2f2f2;\n        padding: 10px 25px 10px 25px;\n    }\n\n    .photo-upload-growl .upload-text {\n        margin-bottom: 5px;\n        display: block;\n        font-size: 14px;\n    }\n\n    .photo-upload-growl .upload-progress-section {\n        padding-top: 10px;\n        padding-bottom: 10px;\n    }\n\n    .photo-upload-growl .upload-progress-bar {\n        display: inline-flex;\n        width: 85%;\n        height: 15px;\n        background-color: #ffffff;\n        border: 1px solid #11a8ec;\n        border-radius: 48px;\n        vertical-align: middle;\n    }\n\n    .photo-upload-growl .total-upload-progress {\n        width: 0%;\n        background-color: #11a9ed;\n        border-radius: 48px;\n        height: 100%;\n    }\n\n    .photo-upload-growl .cancel-upload,\n    .photo-upload-growl .dismiss-growl {\n        font-size: 14px;\n        color: #11a8ec;\n        display: inline;\n        padding-left: 4%;\n        vertical-align: middle;\n        cursor: pointer;\n    }\n\n    .photo-upload-growl .dismiss-growl {\n        display: none;\n    }\n\n    /* Upload Error Banner */\n    .photo-upload-growl .upload-error-section {\n        display: none;\n        width: 604px;\n        margin-left: -26px;\n    }\n\n    .photo-upload-growl .upload-error-information {\n        background-color: #ffc5d2;\n        border: 1px solid #bf0f24;\n        width: 100%;\n        display: inline-flex;\n        height: 35px;\n        margin-top: 10px;\n        margin-bottom: 10px;\n    }\n\n    .photo-upload-growl .upload-error-summary,\n    .photo-upload-growl .upload-error-dismiss,\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        font-size: 14px;\n        color: #b81623;\n        letter-spacing: 0;\n        margin-top: 8px;\n    }\n\n    .photo-upload-growl .upload-error-summary {\n        margin-left: 25px;\n    }\n\n    .photo-upload-growl .upload-error-dismiss,\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        text-decoration: underline;\n        cursor: pointer;\n    }\n\n    .photo-upload-growl .upload-error-dismiss {\n        margin-left: 300px;\n    }\n\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        margin-left: 15px;\n    }\n\n    .photo-upload-growl .upload-error-minimize {\n        display: none;\n    }\n\n    /* Upload Error List */\n    .photo-upload-growl .upload-error-list {\n        display: none;\n    }\n\n    .photo-upload-growl .dz-file-preview {\n        display: none;\n    }\n\n    .photo-upload-growl .dz-file-preview.dz-error.dz-complete {\n        display: block;\n    }\n\n    .photo-upload-growl .file-error {\n        margin: 10px 25px 0 25px;\n    }\n\n    .photo-upload-growl .file-name,\n    .photo-upload-growl .file-size,\n    .photo-upload-growl .file-error-message {\n        display: inline-block;\n        font-size: 14px;\n        margin-bottom: 0;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n\n    .photo-upload-growl .file-name {\n        width: 200px;\n    }\n\n    .photo-upload-growl .file-size {\n        position: absolute;\n        width: 100px;\n        left: 45%;\n    }\n\n    .photo-upload-growl .file-error-message {\n        position: absolute;\n        width: 175px;\n        right: 25px;\n        color: #ff0035;\n    }\n\n    /* Generic Upload Error */\n    .photo-upload-error-growl {\n        display: none;\n    }\n\n    .photo-upload-error-growl .alert-growl-bottom-right {\n        width: 475px;\n        z-index: 500;\n        margin: auto;\n        position: fixed;\n        right: 50px;\n        bottom: 50px;\n    }\n\n    .photo-upload-error-growl .alert-growl-bottom-right .alert-error {\n        background: #fbccd8;\n        border: 1px solid #c91a33;\n        border-radius: 6px;\n        padding: 10px 25px 10px 25px;\n    }\n\n    .photo-upload-error-growl .error-text,\n    .photo-upload-error-growl .dismiss-error-growl {\n        display: block;\n        font-size: 14px;\n    }\n\n    .photo-upload-error-growl .error-text {\n        margin-bottom: 0;\n    }\n\n    .photo-upload-error-growl .dismiss-error-growl {\n        cursor: pointer;\n        text-decoration: underline;\n        margin-left: 380px;\n        margin-bottom: 0;\n    }\n}\n"],
            sourceRoot: ""
        }])
    },
    4233: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(4)
              , s = i(8)
              , o = i.n(s)
              , l = i(220)
              , c = i(37)
              , h = i(222)
              , d = i(4234)
              , p = i(4236)
              , u = i(4237)
              , m = i.n(u)
              , g = {
                ELEV_CORRECTION_CHANGED: "ELEV_CORRECTION_CHANGED"
            }
              , f = ["forerunner10", "foreathlete10", "foreathlete15", "forerunner15", "forerunner35"]
              , v = o.a.View.extend({
                template: n.a.template(m.a),
                events: {
                    "click li:not(.active) a": "onElevCorrectionClicked",
                    "click li.active a": "onElevCorrectionDisabledClicked",
                    "click .help-gps-source": "onGpsSourceHelpClicked"
                },
                initialize: function(e) {
                    return this.activity = e.activity,
                    this.device = e.device,
                    this
                },
                render: function() {
                    return this.shouldDisplayDeviceInfo() && (this.$el.html(this.template({
                        Localizer: r.a,
                        device: this.device.toJSON(),
                        metadata: this.activity.get("metadataDTO"),
                        displayToggleEvelationCorrection: this.canToggleEvelationCorrections(),
                        gpsSource: this.getGPSSource()
                    })),
                    l.a.renderTooltips.call(this)),
                    this
                },
                getGPSSource: function() {
                    return this.activity.getConnectedGPSSensor() && this.activity.getConnectedGPSSensor().productName ? this.getFormattedProductName(this.activity.getConnectedGPSSensor().productName) : ""
                },
                getFormattedProductName: function(e) {
                    return -1 !== e.indexOf("iPhone") ? "Apple " + e : p.a.titleCase(e) + " " + r.a.localize("activity.gps.source.phone")
                },
                shouldDisplayDeviceInfo: function() {
                    return !this.activity.get("manualActivity")
                },
                canToggleEvelationCorrections: function() {
                    if (this.device.get("applicationKey")) {
                        var e = this.device.get("applicationKey").trim();
                        return !n.a.contains(f, e)
                    }
                    return !0
                },
                onElevCorrectionClicked: function(t) {
                    t.preventDefault();
                    var i = this.activity.get("elevationCorrected");
                    this.activity.set("elevationCorrected", !i);
                    var a = {
                        type: "post",
                        data: {
                            elevationCorrected: i
                        },
                        url: "/modern/proxy/activity-service/activity/toggleElevationCorrection/" + this.activity.id,
                        success: n.a.bind(this.onSuccessSave, this),
                        error: this.onErrorSave
                    };
                    e.ajax(a)
                },
                onGpsSourceHelpClicked: function(e) {
                    e.preventDefault();
                    var t = new d.a({});
                    new c.a({
                        view: t,
                        showFooter: !1,
                        modalTitle: r.a.localize("help.title")
                    }).render()
                },
                onElevCorrectionDisabledClicked: function(e) {
                    e.preventDefault()
                },
                onSuccessSave: function(e, t, i) {
                    this.trigger(g.ELEV_CORRECTION_CHANGED, this.activity.get("metadataDTO").elevationCorrected),
                    this.render()
                },
                onErrorSave: function(e, t, i) {
                    new h.a({
                        message: r.a.localize("enable_elevation_toggle_error")
                    }).render()
                }
            });
            v.Events = g,
            t.a = v
        }
        ).call(this, i(10))
    },
    4234: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(4235)
          , c = i.n(l);
        t.a = s.a.View.extend({
            template: n.a.template(c.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: o.a
                }))
            }
        })
    },
    4235: function(e, t) {
        e.exports = "<div class=\"gps-source-help\">\n    <h4><%- Localizer.localize('connected.gps') %></h4>\n    <h5><%- Localizer.localize('connected.gps.info.summary') %></h5>\n    <h5><%- Localizer.localize('connected.gps.how.it.works') %></h5>\n    <p><%- Localizer.localize('connected.gps.how.it.works.message') %></p>\n    <h5><%- Localizer.localize('connected.gps.viewing.activities') %></h5>\n    <p><%- Localizer.localize('connected.gps.viewing.activities.message') %></p>\n</div>\n"
    },
    4236: function(e, t, i) {
        "use strict";
        t.a = {
            titleCase: function(e) {
                return e ? e.split(" ").map(function(e) {
                    return e.charAt(0).toUpperCase() + e.substr(1).toLowerCase()
                }).join(" ") : ""
            }
        }
    },
    4237: function(e, t) {
        e.exports = '<div class="device-image bottom-xs"><img class="" src="<%- device.imageUrl || \'//static.garmincdn.com/com.garmin.connect/content/images/device-images/default-device.png\' %>"></div>\n<div class="device-name"><%- device.productDisplayName %></div>\n<div class="software-version"><%- Localizer.localize(\'software\') %>: <%- device.versionString %></div>\n\n<div class="elevation-corrections"><%- Localizer.localize(\'additional.elev.corrections\') %>\n\n    <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.add.info.elev.correction.label\') %>"></i></span>:\n\n    <% if(displayToggleEvelationCorrection)  { %>\n        <span class="dropdown" style="display: inline">\n            <span class="dropdown-trigger" data-toggle="dropdown"><%- Localizer.localize(metadata.elevationCorrected ? \'additional.elevation.correction.enabled\' : \'additional.elevation.correction.disabled\') %><i class="icon-pointer-down"></i></span>\n            <ul class="dropdown-menu text-left pull-left">\n                <li class="<%- metadata.elevationCorrected ? \'active\' : \'\' %>"><a href="#"><%- Localizer.localize(\'additional.elevation.correction.enabled\') %></a></li>\n                <li class="<%- metadata.elevationCorrected ? \'\' : \'active\' %>"><a href="#"><%- Localizer.localize(\'additional.elevation.correction.disabled\') %></a></li>\n            </ul>\n        </span>\n    <% } else { %>\n    <span style="display: inline"><%- Localizer.localize(metadata.elevationCorrected ? \'additional.elevation.correction.enabled\' : \'additional.elevation.correction.disabled\') %></span>\n    <% } %>\n</div>\n\n<div class="summary-data"><%- Localizer.localize(\'additional.activity.summary\') %>: <%- Localizer.localize(metadata.isOriginal ? \'additional.original\' : \'additional.edited\') %></div>\n<% if (gpsSource) { %>\n    <div class="gps-source"><%- Localizer.localize(\'activity.gps.source\') %>\n        <a href="#" class="help-icon has-tooltip help-gps-source"><i class="icon-help"></i></a>:\n        <%- Localizer.localize(\'activity.gps.source.from\', gpsSource) %>\n    </div>\n<% } %>'
    },
    4238: function(e, t) {
        e.exports = '<div class="device-image bottom-xs">\n    <% if (model.imageUrl) { %>\n        <img src="<%- model.imageUrl %>" alt="<%- model.displayName %>">\n    <% } %>\n</div>\n<div class="device-name"><%- Localizer.localize(\'third_party_partner_label\', model.displayName) %></div>'
    },
    4239: function(e, t) {
        e.exports = '<% if (displayPowerAvgCalInfo) { %>\n    <div class="power-avg-calc"><%- Localizer.localize(\'additional.power.avg.cal\') %> <a href="#" class="help-icon has-tooltip" title="<%- Localizer.localize(\'help.add.info.power.avg.calc.label\') %>" onclick="event.preventDefault();"><i class="icon-help"></i></a>: <%- Localizer.localize(\'additional.power.calculation.use.zeroes\') %></div>\n<% } %>\n<% if (displayAgentInfo) { %>\n    <div class="agent admin"><%- Localizer.localize(\'additional.agentType\') %>: <%- agent.productDisplayName %> + <%- agent.versionString %></div>\n    <div class="uploaded admin"><%- Localizer.localize(\'additional.uploadDate\') %>: <%- DateFormatter.formatDateAndTime(new Date(metadata.uploadedDate)) %></div>\n<% } %>'
    },
    4240: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(4)
              , s = i(8)
              , o = i.n(s)
              , l = i(4241)
              , c = i(220)
              , h = i(4243)
              , d = i.n(h)
              , p = {
                ascending: "ascending",
                descending: "descending"
            }
              , u = o.a.View.extend({
                template: n.a.template(d.a),
                defaultOptions: {
                    chartTitle: null,
                    containerClass: null,
                    tableClass: null,
                    trClass: null,
                    rowTemplate: null,
                    rowTooltipTextFunction: null,
                    resizeChart: null,
                    nonPercentageColumnMinWidth: "",
                    nonPercentageColumnMaxWidth: "",
                    fieldOptions: [{
                        fieldName: "",
                        formatter: null,
                        tooltipFunction: null
                    }, {
                        fieldName: "",
                        formatter: null,
                        tooltipFunction: null
                    }, {
                        fieldName: "",
                        formatter: null,
                        tooltipFunction: null
                    }],
                    sortComparator: null,
                    sortDirection: p.ascending,
                    maxRowsToShow: null,
                    zoneUtil: null
                },
                initialize: function(e) {
                    return e.options ? this.options = n.a.extend({}, this.defaultOptions, e.options) : this.options = n.a.extend({}, this.defaultOptions),
                    this.rowCollection = [],
                    this.isResizing = !1,
                    this.setAttributes(),
                    this
                },
                setAttributes: function() {
                    var e = n.a.has(this.options, "containerClass") ? this.options.containerClass : "";
                    e && "" !== e && this.$el.addClass(e)
                },
                render: function() {
                    this.unbindWindowResize(),
                    this.rowCollection = [],
                    this.$el.html(this.template({
                        Localizer: r.a,
                        options: this.options
                    }));
                    var e = this.collection.toJSON();
                    this.options.sortComparator && "function" === typeof this.options.sortComparator && e.sort(this.options.sortComparator);
                    var t = this.options.maxRowsToShow && this.options.maxRowsToShow > 0 ? this.options.maxRowsToShow - 1 : e.length;
                    if (this.options.sortDirection === p.ascending)
                        for (var i = 0; i < t; i++)
                            e[i] && this.renderRowView(i, e[i]);
                    else
                        for (i = t; i >= 0; i--)
                            e[i] && this.renderRowView(i, e[i]);
                    return c.a.renderTooltips.call(this),
                    this.resizeChart(),
                    this.bindWindowResize(),
                    this
                },
                renderRowView: function(e, t) {
                    var i = new l.a({
                        index: e,
                        context: this,
                        model: t,
                        options: this.options
                    });
                    this.rowCollection.push(i),
                    this.$("tbody", this.$el).append(i.render().el)
                },
                destroy: function() {
                    for (var e = 0; e < this.rowCollection.length; e++)
                        this.rowCollection[e] && "function" === typeof this.rowCollection[e].destroy && this.rowCollection[e].destroy();
                    this.unbindWindowResize(),
                    this.remove()
                },
                resizeChart: function() {
                    this.isResizing || (this.isResizing = !0,
                    this._resize(),
                    this.options && this.options.resizeChart && "function" === typeof this.options.resizeChart && this.options.resizeChart.apply(this),
                    this.isResizing = !1)
                },
                _resize: function() {
                    var t = 80
                      , i = 0;
                    e("td.zone-percent > div", this.$el).each(function(a, n) {
                        var r = parseInt(e(n).text())
                          , s = 80 - r;
                        s < t && (t = s,
                        i = 80 / r)
                    }),
                    e("td.zone-percent > div", this.$el).each(function(t, a) {
                        var n = parseInt(e(a).text()) * i;
                        e(a).width(n + "%")
                    })
                },
                bindWindowResize: function() {
                    e(window).on("resize.stackedBarChart", n.a.bind(this.resizeChart, this))
                },
                unbindWindowResize: function() {
                    e(window).off("resize.stackedBarChart")
                }
            });
            u.SortDirection = p,
            t.a = u
        }
        ).call(this, i(10))
    },
    4241: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4242)
          , l = i.n(o)
          , c = s.a.View.extend({
            template: n.a.template(l.a),
            tagName: "tr",
            initialize: function(e) {
                if (!e.model)
                    throw "a model is required";
                return this.options = e.options,
                this.options.rowTemplate && (this.template = n.a.template(this.options.rowTemplate)),
                this.index = e.index,
                this.context = e.context,
                this.setAttributes(),
                this
            },
            setAttributes: function() {
                var e = ""
                  , t = ""
                  , i = ""
                  , a = this.options
                  , r = n.a.has(a, "trClass") ? a.trClass : "";
                if (r && "function" === typeof r) {
                    var s = this.index || 1;
                    e = r.apply(this, [{
                        index: s,
                        model: this.model
                    }])
                } else
                    e = r;
                n.a.has(a, "rowTooltipTextFunction") && "function" === typeof a.rowTooltipTextFunction && (t = "tooltip",
                i = a.rowTooltipTextFunction.call(this),
                e += " has-tooltip"),
                e && "" !== e && this.$el.addClass(e),
                t && "" !== t && this.$el.attr("data-toggle", t),
                i && "" !== i && this.$el.attr("data-original-title", i)
            },
            render: function() {
                return this.$el.html(this.template(this.getVisual())),
                this
            },
            destroy: function() {
                this.remove()
            },
            getVisual: function() {
                return {
                    columnCss: this.getColumnCss(),
                    nameColumn: this.getColumnVisual(0),
                    timeColumn: this.getColumnVisual(1),
                    percentageColumn: this.getColumnVisual(2)
                }
            },
            getColumnCss: function() {
                var e = "";
                return this.options.nonPercentageColumnMinWidth && (e += "min-width: " + this.options.nonPercentageColumnMinWidth),
                this.options.nonPercentageColumnMaxWidth && (e += "; max-width:" + this.options.nonPercentageColumnMaxWidth + ";"),
                e
            },
            getColumnVisual: function(e) {
                var t, i = this.model[this.options.fieldOptions[e].fieldName];
                return this.options.fieldOptions[e].formatter && "function" === typeof this.options.fieldOptions[e].formatter && (i = this.options.fieldOptions[e].formatter.call(this.context, i)),
                this.options.fieldOptions[e].tooltipFunction && "function" === typeof this.options.fieldOptions[e].tooltipFunction && (t = this.options.fieldOptions[e].tooltipFunction.apply(this, [{
                    model: this.model,
                    index: this.index,
                    util: this.options.zoneUtil
                }])),
                {
                    value: i,
                    tooltipText: t
                }
            }
        });
        t.a = c
    },
    4242: function(e, t) {
        e.exports = '<td class="zone-name" style="<%- columnCss %>">\n    <% if (nameColumn && nameColumn.tooltipText) { %>\n        <div class="has-tooltip" data-placement="right" data-original-title="<%- nameColumn.tooltipText %>" title="<%- nameColumn.tooltipText %>"><%- nameColumn.value %></div>\n    <% } else { %>\n        <div><%- nameColumn.value %></div>\n    <% } %>\n</td>\n<td class="zone-time" style="<%- columnCss %>">\n    <% if (timeColumn && timeColumn.tooltipText) { %>\n        <div class="has-tooltip" title="<%- timeColumn.tooltipText %>"><%- timeColumn.value %></div>\n    <% } else { %>\n        <div><%- timeColumn.value %></div>\n    <% } %>\n</td>\n<td class="zone-percent">\n    <% if (percentageColumn && percentageColumn.tooltipText) { %>\n        <div class="has-tooltip" title="<%- percentageColumn.tooltipText %>">\n            <span><%- percentageColumn.value %></span>\n        </div>\n    <% } else { %>\n        <div><span><%- percentageColumn.value %></span></div>\n    <% } %>\n</td>'
    },
    4243: function(e, t) {
        e.exports = '<% if (options.chartTitle) { %>\n    <h3><%- Localizer.localize(options.chartTitle) %></h3>\n<% } %>\n<table class="<% if (options.tableClass) { print(options.tableClass); } %>" >\n    <tbody></tbody>\n</table>\n'
    },
    4244: function(e, t) {
        e.exports = '<div class="spinner-container">\n    <div class="text-center">\n        <div class="large spinner"><div></div></div>\n    </div>\n    <div class="h5 text-center font-thin"><%- Localizer.localize(\'loading\') %></div>\n</div>'
    },
    4245: function(e, t) {
        e.exports = "<div class=\"tab-pane tab-overflow\">\n    <div class=\"tab-content\">\n        <div class=\"tab-pane active\">\n            <table class=\"table gases-and-tanks-table\">\n                <thead>\n                <tr>\n                    <th></th>\n                    <th><%- Localizer.localize('diving_tank_type') %></th>\n                    <th><%- Localizer.localize('diving_tank_gas') %></th>\n                    <th><%- Localizer.localize('diving_tank_gas_mixture') %></th>\n                    <th><%- Localizer.localize('diving_tank_type_long') %></th>\n                    <th><%- Localizer.localize('diving_tank_size_long') %></th>\n                    <th><%- Localizer.localize('diving_tank_starting_pressure') %></th>\n                    <th><%- Localizer.localize('diving_tank_ending_pressure') %></th>\n                    <th><%- Localizer.localize('diving_tank_pressure_used') %></th>\n                    <th><%- Localizer.localize('diving_tank_gas_sac_rate') %></th>\n                </tr>\n                </thead>\n                <tbody>\n                <% for (var i = 0; i < tanksArray.length; i++) { %>\n                    <tr>\n                        <td><%- (tanksArray[i].gasIndex + 1) %></td>\n                        <td><%- Personalizer.personalizeTankStatus(tanksArray[i].gasIndex, tanksArray[i].status, diveType, Localizer) %></td>\n                        <td><%- Personalizer.personalizeDiveGas(tanksArray[i].heliumContent, tanksArray[i].oxygenContent, Localizer) %></td>\n                        <td><%- getGasMixtureString(tanksArray[i].oxygenContent, tanksArray[i].heliumContent) %></td>\n                        <td><%- (tanksArray[i].tankType ? tanksArray[i].tankType : '--') %></td>\n                        <td><%- Personalizer.personalizeVolume(tanksArray[i].tankSize) %> <%-Personalizer.personalizeVolumeUnit(tanksArray[i].tankSizeUnit, Localizer) %></td>\n                        <td><%- Personalizer.personalizePressure(tanksArray[i].tankStartingPressure) %> <%-Personalizer.personalizePressureUnit(tanksArray[i].tankStartingPressureUnit, Localizer) %></td>\n                        <td><%- Personalizer.personalizePressure(tanksArray[i].tankEndingPressure) %> <%-Personalizer.personalizePressureUnit(tanksArray[i].tankEndingPressureUnit, Localizer) %></td>\n                        <td><%- getPressureUsedString(tanksArray[i].tankStartingPressure, tanksArray[i].tankEndingPressure, tanksArray[i].tankStartingPressureUnit) %></td>\n                        <td><%- Personalizer.personalizeSacRate(tanksArray[i].sacRate) %> <%-Personalizer.personalizeSacRateUnit(tanksArray[i].sacRate, tanksArray[i].tankStartingPressureUnit, Localizer)%></td>\n                    </tr>\n                <% } %>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>"
    },
    4246: function(e, t) {
        e.exports = "<div class=\"tab-pane\">\n    <div class=\"tab-content\">\n        <div class=\"tab-pane active\">\n            <table class=\"table apnea-dives-table\">\n                <thead>\n                <tr>\n                    <th></th>\n                    <th></th>\n                    <th><%- Localizer.localize('max_depth') %></th>\n                    <th><%- Localizer.localize('bottom_time') %></th>\n                    <th><%- Localizer.localize('surface_interval') %></th>\n                    <th><%- Localizer.localize('entry_location') %></th>\n                    <th><%- Localizer.localize('min_water_temperature') %></th>\n                    <th><%- Localizer.localize('label_avg_HR') %></th>\n                    <th><%- Localizer.localize('label_max_HR') %></th>\n                </tr>\n                </thead>\n                <tbody>\n                \x3c!-- ApneaDivesTabItemView.html --\x3e\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>"
    },
    4247: function(e, t) {
        e.exports = "\n    <td><%- (index + 1) %></td>\n    <td><div class=\"apnea-map\">\x3c!-- mapView --\x3e</div></td>\n    <td><%- Personalizer.personalizeDepth(apneaDive.maxDepth) %> <%- Localizer.localize(Personalizer.getDepthUnitKey()) %></td>\n    <td><%- Personalizer.personalizeDuration(apneaDive.bottomTime, false) %></td>\n    <td><%- Personalizer.personalizeDuration(apneaDive.surfaceInterval, false) %></td>\n    <td><%- Personalizer.personalizeLatLon(apneaDive.startLatitude, apneaDive.startLongitude) %></td>\n    <td><%- Personalizer.personalizeTemperature(apneaDive.minTemperature) %> <%- Localizer.localize(Personalizer.getTemperatureUnitKey()) %></td>\n    <td><%- Personalizer.personalizeHeartRate(apneaDive.averageHR) %> <%- Localizer.localize('heart_rate_unit') %></td>\n    <td><%- Personalizer.personalizeHeartRate(apneaDive.maxHR) %> <%- Localizer.localize('heart_rate_unit') %></td>\n"
    },
    4248: function(e, t) {
        e.exports = '<div class="spinner-container">\n    <div class="text-center">\n        <div class="large spinner"><div></div></div>\n    </div>\n    <div class="h5 text-center font-thin"><%- Localizer.localize(\'loading\') %></div>\n</div>\n<div id="max-avg-power-controls" class="row-fluid cycling-tab-controls bottom-s"></div>\x3c!-- /.cycling-tab-controls --\x3e\n<div class="row-fluid">\n    <div id="power-phase-container" class="span12 power-phase centered"></div>\x3c!-- /.power-phase --\x3e\n    <div class="row-fluid top-m">\n        <div class="span6 centered">\n            <div id="pco-container" class="pco-content"></div>\x3c!-- /.pco-content --\x3e\n        </div>\n        <div class="span6 centered">\n            <div id="position-container" class="seated-standing"></div>\x3c!-- /.seated-standing --\x3e\n        </div>\n    </div>\n</div>'
    },
    4249: function(e, t) {
        e.exports = '<h5><%- Localizer.localize(\'cycling_dynamics_position\') %></h5>\n\n<div class="row">\n    <div class="span6 position-seated">\n        <span></span>\n        <div class="data-block large top-s">\n            <div class="data-bit"><%- totalSeatedTime %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_seated_time\') %></span>\n        </div>\n    </div>\n\n    <div class="span6 position-standing">\n        <span></span>\n        <div class="data-block large top-s">\n            <div class="data-bit"><%- totalStandingTime %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_standing_time\') %></span>\n        </div>\n    </div>\n\n</div>\x3c!-- /.row --\x3e'
    },
    4250: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(4251)
              , s = i.n(r)
              , o = i(1222)
              , l = i(13)
              , c = i(4)
              , h = i(8)
              , d = i.n(h)
              , p = o.a.Colors
              , u = d.a.View.extend({
                initialize: function(e) {
                    this.template = n.a.template(s.a),
                    this.leftPlatformCenterOffset = this.fitValueToChart(e.platformCenterOffsetData.leftPlatformCenterOffset),
                    this.rightPlatformCenterOffset = this.fitValueToChart(e.platformCenterOffsetData.rightPlatformCenterOffset)
                },
                setLeftPlatformCenterOffset: function(e) {
                    this.leftPlatformCenterOffset = e
                },
                setRightPlatformCenterOffset: function(e) {
                    this.rightPlatformCenterOffset = e
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: c.a,
                        Personalizer: l.a,
                        leftPlatformCenterOffset: this.leftPlatformCenterOffset,
                        rightPlatformCenterOffset: this.rightPlatformCenterOffset,
                        formatPCOValue: this.formatPCOValue
                    })),
                    this.drawPCO(),
                    this.bindWindowResize(),
                    this
                },
                drawPCO: function() {
                    var e = this.$("#leftCanvas")[0]
                      , t = this.$("#rightCanvas")[0]
                      , i = Math.min(e.parentElement.clientHeight, e.parentElement.clientWidth, t.parentElement.clientHeight, t.parentElement.clientWidth) || this.getCanvasDefaultSize();
                    e.width = i,
                    e.height = i,
                    t.width = i,
                    t.height = i;
                    var a = e.getContext("2d")
                      , n = t.getContext("2d");
                    a.clearRect(0, 0, e.width, e.height),
                    n.clearRect(0, 0, t.width, t.height),
                    this.drawOffsetLine(e, a, "left"),
                    this.drawOffsetLine(t, n, "right")
                },
                drawBounds: function(e, t, i) {
                    var a;
                    t.fillStyle = p.babyBlue,
                    t.globalAlpha = .4;
                    var n = this.verticalStartPoint(e.width)
                      , r = 2 * this.pedalEdgeCenterOffset(e.width) * .6
                      , s = this.verticalEndPoint(e.width) - this.verticalStartPoint(e.width);
                    a = this.horizontalCenter(e.width) - .6 * this.pedalEdgeCenterOffset(e.width),
                    t.fillRect(a, n, r, s),
                    t.globalAlpha = 1
                },
                drawOffsetLine: function(e, t, i) {
                    var a, n = [], r = [], s = this.verticalStartPoint(e.width), o = this.verticalEndPoint(e.width);
                    "left" === i ? (n = [a = this.horizontalCenter(e.width) - this.offsetPixels(this.leftPlatformCenterOffset, this.pedalEdgeCenterOffset(e.width)), s],
                    r = [a, o]) : (n = [a = this.horizontalCenter(e.width) + this.offsetPixels(this.rightPlatformCenterOffset, this.pedalEdgeCenterOffset(e.width)), s],
                    r = [a, o]),
                    this.drawStroke(n, r, this.verticalLineWidth(e.width), p.royalRed, t)
                },
                drawStroke: function(e, t, i, a, n) {
                    n.strokeStyle = a,
                    n.beginPath(),
                    n.moveTo(e[0], e[1]),
                    n.lineTo(t[0], t[1]),
                    n.lineWidth = i,
                    n.stroke()
                },
                horizontalCenter: function(e) {
                    return e / 2
                },
                offsetPixels: function(e, t) {
                    return e / 30 * t
                },
                pedalEdgeCenterOffset: function(e) {
                    return e / 4 + 1
                },
                verticalStartPoint: function(e) {
                    return e / 10
                },
                verticalEndPoint: function(e) {
                    return .9 * e + 1
                },
                verticalLineWidth: function(e) {
                    return e / 30
                },
                formatPCOValue: function(e) {
                    var t = "";
                    return e > 0 ? t = "+" : e < 0 && (t = "-"),
                    t + " " + Math.abs(e).toFixed(1)
                },
                getCanvasDefaultSize: function() {
                    return e(window).width() < 768 ? 300 : 160
                },
                fitValueToChart: function(e) {
                    return Math.abs(e) > 30 ? 30 * Math.sign(e) : e
                },
                resizeCanvas: function() {
                    this.drawPCO()
                },
                bindWindowResize: function() {
                    e(window).on("resize.pcoChart", n.a.bind(this.resizeCanvas, this))
                },
                unbindWindowResize: function() {
                    e(window).off("resize.pcoChart", this.resizeCanvas)
                },
                destroy: function() {
                    this.unbindWindowResize(),
                    this.remove()
                }
            });
            t.a = u
        }
        ).call(this, i(10))
    },
    4251: function(e, t) {
        e.exports = '\n<h5><%- Localizer.localize(\'label_cd_tab_pco\') %></h5>\n\n<div class="row">\n    <div class="span6">\n        <div class="chart-container platform-center-offset platform-center-offset-left">\n            <canvas id="leftCanvas"></canvas>\n        </div>\n        <div class="data-block large top-s">\n            <div class="data-bit"><%- formatPCOValue(leftPlatformCenterOffset) %> <%- Localizer.localize(\'platform_center_offset_unit\') %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_tab_pco_left\') %></span>\n        </div>\n    </div>\n\n    <div class="span6">\n        <div class="chart-container platform-center-offset platform-center-offset-right">\n            <canvas id="rightCanvas"></canvas>\n        </div>\n        <div class="data-block large top-s">\n            <div class="data-bit"><%- formatPCOValue(rightPlatformCenterOffset) %> <%- Localizer.localize(\'platform_center_offset_unit\') %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_tab_pco_right\') %></span>\n        </div>\n    </div>\n</div>\n'
    },
    4252: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(4253)
              , s = i.n(r)
              , o = i(4254)
              , l = i(1222)
              , c = i(4)
              , h = i(8)
              , d = i.n(h).a.View.extend({
                ChartSize: {
                    SMALL: {
                        chart_width: "195px",
                        chart_height: "195px",
                        chart_size: "100%",
                        inner_chart_size: "89%",
                        peak_multiplier: 6
                    },
                    MEDIUM: {
                        chart_width: "240px",
                        chart_height: "240px",
                        chart_size: "100%",
                        inner_chart_size: "89%",
                        peak_multiplier: 6
                    }
                },
                initialize: function() {
                    this.template = n.a.template(s.a)
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: c.a
                    })),
                    this.showChart(),
                    this.bindWindowResize(),
                    this
                },
                showChart: function() {
                    var e = this.resizeChart()
                      , t = this.model.leftPowerPhaseStart
                      , i = this.model.leftPowerPhasePeakStart
                      , a = this.model.leftPowerPhasePeakEnd
                      , n = this.model.leftPowerPhaseEnd
                      , r = Math.round(this.model.leftBalance)
                      , s = this.normalizeData(t, n);
                    t = s.powerPhaseStart,
                    n = s.powerPhaseEnd;
                    var h = this.createLabels(t, i, a, n)
                      , d = this.model.rightPowerPhaseStart
                      , p = this.model.rightPowerPhasePeakStart
                      , u = this.model.rightPowerPhasePeakEnd
                      , m = this.model.rightPowerPhaseEnd
                      , g = Math.round(this.model.rightBalance);
                    d = (s = this.normalizeData(d, m)).powerPhaseStart,
                    m = s.powerPhaseEnd;
                    var f = this.createLabels(d, p, u, m)
                      , v = this.calculateYData(t, i, a, n)
                      , y = this.calculateYData(d, p, u, m)
                      , A = this.ChartSize[e].peak_multiplier
                      , _ = [{
                        y: v.prePeakPower,
                        color: l.a.Colors.lightGreen
                    }, {
                        y: v.peakPower,
                        color: l.a.Colors.peakGreen,
                        selected: !0
                    }, {
                        y: v.postPeakPower,
                        color: l.a.Colors.lightGreen
                    }, {
                        y: v.other,
                        color: l.a.Colors.baseGrey
                    }]
                      , b = [{
                        y: y.prePeakPower,
                        color: l.a.Colors.lightBlue
                    }, {
                        y: y.peakPower,
                        color: l.a.Colors.blue,
                        selected: !0
                    }, {
                        y: y.postPeakPower,
                        color: l.a.Colors.lightBlue
                    }, {
                        y: y.other,
                        color: l.a.Colors.baseGrey
                    }]
                      , C = this.buildSeries(_)
                      , w = this.buildSeries(b)
                      , x = {
                        chart: {
                            type: "pie",
                            plotBorderWidth: 0,
                            plotShadow: !1,
                            backgroundColor: "transparent",
                            events: {
                                load: function() {
                                    var e = this.series[0].data[1].graphic;
                                    setTimeout(function() {
                                        var t = e.r;
                                        e.attr({
                                            r: t + A
                                        })
                                    }, 1020)
                                },
                                redraw: function() {
                                    var e = this.series[0].data[1].graphic
                                      , t = e.r;
                                    e.attr({
                                        r: t + A
                                    })
                                }
                            }
                        },
                        title: {
                            text: r + "<sup>%</sup>",
                            verticalAlign: "middle",
                            style: {
                                color: "#595959",
                                font: "40px 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif",
                                "z-index": "-999"
                            },
                            floating: !0,
                            y: 0,
                            useHTML: !0
                        },
                        subtitle: {
                            text: c.a.localize("left_balance"),
                            verticalAlign: "middle",
                            style: {
                                color: "#888",
                                font: "400 14px/22px 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"
                            },
                            y: 30
                        },
                        credits: {
                            enabled: !1
                        },
                        plotOptions: {
                            pie: {
                                shadow: !1,
                                center: ["50%", "50%"],
                                dataLabels: {
                                    enabled: !1
                                }
                            }
                        },
                        tooltip: {
                            formatter: function() {
                                return this.y === v.prePeakPower ? h.prePeakLabel : this.y === v.postPeakPower ? h.postPeakLabel : this.y === v.peakPower && h.peakPowerPhaseLabel
                            }
                        },
                        series: [{
                            name: "Left Power Phase",
                            data: C,
                            size: this.ChartSize[e].chart_size,
                            innerSize: this.ChartSize[e].inner_chart_size,
                            borderWidth: 0,
                            startAngle: t
                        }]
                    }
                      , S = {
                        chart: {
                            type: "pie",
                            plotBorderWidth: 0,
                            plotShadow: !1,
                            backgroundColor: "transparent",
                            events: {
                                load: function() {
                                    var e = this.series[0].data[1].graphic;
                                    setTimeout(function() {
                                        var t = e.r;
                                        e.attr({
                                            r: t + A
                                        })
                                    }, 1020)
                                },
                                redraw: function() {
                                    var e = this.series[0].data[1].graphic
                                      , t = e.r;
                                    e.attr({
                                        r: t + A
                                    })
                                }
                            }
                        },
                        title: {
                            text: g + "<sup>%</sup>",
                            verticalAlign: "middle",
                            style: {
                                color: "#595959",
                                font: "40px 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif",
                                "z-index": "-999"
                            },
                            floating: !0,
                            y: 0,
                            useHTML: !0
                        },
                        subtitle: {
                            text: c.a.localize("right_balance"),
                            verticalAlign: "middle",
                            style: {
                                color: "#888",
                                font: "400 14px/22px 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"
                            },
                            y: 30
                        },
                        credits: {
                            enabled: !1
                        },
                        plotOptions: {
                            pie: {
                                shadow: !1,
                                center: ["50%", "50%"],
                                dataLabels: {
                                    enabled: !1
                                }
                            }
                        },
                        tooltip: {
                            formatter: function() {
                                return this.y === y.prePeakPower ? f.prePeakLabel : this.y === y.postPeakPower ? f.postPeakLabel : this.y === y.peakPower && f.peakPowerPhaseLabel
                            }
                        },
                        series: [{
                            name: "Right Power Phase",
                            data: w,
                            size: this.ChartSize[e].chart_size,
                            innerSize: this.ChartSize[e].inner_chart_size,
                            borderWidth: 0,
                            startAngle: d
                        }]
                    };
                    this.PowerPhaseChartLeft = new o.a({
                        options: x,
                        el: this.$("#pp-left")
                    }),
                    this.PowerPhaseChartRight = new o.a({
                        options: S,
                        el: this.$("#pp-right")
                    }),
                    this.$("#left-pp-container").append(this.PowerPhaseChartLeft.render().el),
                    this.$("#right-pp-container").append(this.PowerPhaseChartRight.render().el)
                },
                adjustChart: function(t, i) {
                    var a = e(window).width()
                      , n = null;
                    return n = a > 640 || a <= 520 ? "MEDIUM" : "SMALL",
                    ("left" === i ? this.$("#pp-left") : this.$("#pp-right")).css({
                        height: this.ChartSize[n].chart_height,
                        width: this.ChartSize[n].chart_width
                    }),
                    t && t.options.series && t.options.series.length > 0 && (t.options.series[0].size = this.ChartSize[n].chart_size,
                    t.options.series[0].innerSize = this.ChartSize[n].inner_chart_size),
                    n
                },
                resizeChart: function() {
                    this.adjustChart(this.PowerPhaseChartLeft, "left");
                    return this.adjustChart(this.PowerPhaseChartRight, "right")
                },
                createLabels: function(e, t, i, a) {
                    return e < 0 && (e = 360 + e),
                    {
                        prePeakLabel: "<strong>" + c.a.localize("power_phase_tip_pre_peak") + "</strong><br>" + Math.round(100 * e) / 100 + "\xb0",
                        postPeakLabel: "<strong>" + c.a.localize("power_phase_tip_post_peak") + "</strong><br>" + Math.round(100 * a) / 100 + "\xb0",
                        peakPowerPhaseLabel: "<strong>" + c.a.localize("power_phase_tip_peak") + "</strong><br>" + c.a.localize("power_phase_tip_peak_start") + ": " + Math.round(100 * t) / 100 + "\xb0 <br>" + c.a.localize("power_phase_tip_peak_end") + ": " + Math.round(100 * i) / 100 + "\xb0"
                    }
                },
                calculateYData: function(e, t, i, a) {
                    return {
                        prePeakPower: (t - e) / 360,
                        peakPower: (i - t) / 360,
                        postPeakPower: (a - i) / 360,
                        other: (360 - a + e) / 360
                    }
                },
                buildSeries: function(e) {
                    var t, i = [], a = e.length, n = ["PrePower", "PowerPhase", "PostPower", "Non-PowerPhase"];
                    for (t = 0; t < a; t += 1)
                        i.push({
                            name: n[t],
                            y: e[t].y,
                            color: e[t].color
                        }),
                        n[t].selected && (i[n[t]].selected = n[t].selected);
                    return i
                },
                normalizeData: function(e, t) {
                    return t < 0 && (t = 360 + t),
                    e > t && (e -= 360),
                    {
                        powerPhaseStart: e,
                        powerPhaseEnd: t
                    }
                },
                destroy: function() {
                    this.unbindWindowResize(),
                    this.remove()
                },
                bindWindowResize: function() {
                    e(window).on("resize.powerPhasePieChart", n.a.bind(this.resizeChart, this))
                },
                unbindWindowResize: function() {
                    e(window).off("resize.powerPhasePieChart", this.resizeChart)
                }
            });
            t.a = d
        }
        ).call(this, i(10))
    },
    4253: function(e, t) {
        e.exports = '<h5><%- Localizer.localize(\'label_cd_tab_power_phase\') %></h5>\n<div class="power-phase-charts">\n\n    <div id="left-pp-container">\n        <div id="pp-left" class="chart-container"></div>\n        <div class="bottom-m power-phase-graphic"></div>\n    </div>\n\n    <div id="right-pp-container">\n        <div id="pp-right" class="chart-container"></div>\n        <div class="bottom-m power-phase-graphic"></div>\n    </div>\n\n</div>'
    },
    4254: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r).a.View.extend({
            defaultOptions: {
                chart: {
                    type: "pie",
                    plotBackgroundColor: null,
                    plotBorderWidth: 0,
                    plotShadow: !1,
                    backgroundColor: "transparent",
                    events: null
                },
                title: {
                    text: " ",
                    verticalAlign: "middle"
                },
                subtitle: {
                    text: "",
                    verticalAlign: "middle"
                },
                credits: {
                    enabled: !1
                },
                plotOptions: {
                    pie: {
                        shadow: !1,
                        center: ["50%", "50%"],
                        dataLabels: {
                            enabled: !0
                        }
                    }
                },
                exporting: {
                    enabled: !1
                },
                tooltip: {
                    formatter: null
                }
            },
            initialize: function(e) {
                e.options ? this.options = n.a.extend({}, this.defaultOptions, e.options) : this.options = n.a.extend({}, this.defaultOptions)
            },
            render: function() {
                return this.$el.highcharts(this.options),
                this
            }
        });
        t.a = s
    },
    4255: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(7)
              , r = i.n(n)
              , s = i(8)
              , o = i.n(s)
              , l = i(4)
              , c = i(1367)
              , h = i(1220)
              , d = i(214)
              , p = i(102)
              , u = i(4256)
              , m = i.n(u)
              , g = {
                PowerRangeChanged: "PowerRangeChanged",
                ChartRangeChanged: "ChartRangeChanged",
                ResetZoom: "ResetZoom"
            }
              , f = o.a.View.extend({
                events: {
                    "mouseover #power-pill-btn": "onGoHovered",
                    "click .range-item": "onRangeItemClicked",
                    "click .custom-max-avg-power-button": "onCustomRangeClicked",
                    "click #power-pill-btn": "onGoBtnClicked"
                },
                initialize: function(e) {
                    this.template = r.a.template(m.a),
                    this.powerRange = e.powerRange,
                    this.duration = e.duration
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: l.a,
                        avgValue: ""
                    })),
                    this.disableRanges(this.duration),
                    this.selectRange(this.powerRange),
                    this.numberValidator = new h.a({
                        typeFormat: "integer",
                        minValue: 1,
                        maxValue: this.duration,
                        element: this.$(".time-input-field"),
                        required: !0,
                        reporter: new d.a({
                            message: function(e, t) {
                                return l.a.localize("error.custom.max.avg.invalid")
                            },
                            position: "top",
                            element: this.$(".time-input-field"),
                            container: this.$el
                        })
                    }),
                    this
                },
                disableRanges: function(t) {
                    if (t) {
                        var i, a = this;
                        this.$(".range-item").each(function() {
                            (i = e(this).attr("data-timerange")) > t && a.$('.range-item[data-timerange="' + i + '"]').hide()
                        })
                    }
                },
                selectRange: function(e, t) {
                    e && (-1 !== e && this.$('.range-item[data-timerange="-1"]').removeClass("active"),
                    c.a.isCustomRange(e) ? (t || this.$(".custom-max-avg-power").hide(),
                    this.$('.range-item[data-timerange="' + this.powerRange + '"]').removeClass("active"),
                    this.$(".custom-max-avg-power-button").addClass("active")) : (this.$(".custom-max-avg-power").hide(),
                    this.$(".custom-max-avg-power-button").removeClass("active"),
                    this.$('.range-item[data-timerange="' + this.powerRange + '"]').removeClass("active"),
                    this.$('.range-item[data-timerange="' + e + '"]').addClass("active")),
                    this.powerRange = e)
                },
                onRangeItemClicked: function(e) {
                    e.preventDefault();
                    this.$(".custom-max-avg-power").hide(),
                    this.numberValidator && this.numberValidator.clearReport();
                    var t = +a(e.currentTarget).attr("data-timeRange");
                    if (-1 === t)
                        return this.clearLabel(),
                        void this.trigger(g.ResetZoom, t, !0);
                    this.trigger(g.PowerRangeChanged, t, !0),
                    this.pushChangeMaxAvgPowerAnalyticsEvents()
                },
                onCustomRangeClicked: function(e) {
                    e.preventDefault(),
                    this.$(".custom-max-avg-power").show(),
                    this.pushChangeMaxAvgPowerAnalyticsEvents()
                },
                pushChangeMaxAvgPowerAnalyticsEvents: function() {
                    p.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Change Max Avg Power For Cycling Dynamics"
                    })
                },
                onGoBtnClicked: function(e) {
                    if (e.preventDefault(),
                    !this.$("#power-pill-btn").is("[disabled=disabled]")) {
                        var t = this.$(".time-input-field").val();
                        if (t) {
                            var i = t = +t;
                            "min" === this.$(".min-sec-selection").val() && (i *= 60),
                            this.trigger(g.PowerRangeChanged, i, !0)
                        }
                    }
                },
                setMaxAvgLabel: function(e) {
                    "sumDuration" === e.axisType ? this.$("#avg-power-range-value").text(c.a.formatAvgTimeValue(e.startTime, e.endTime, e.powerValue)) : this.$("#avg-power-range-value").text(c.a.formatAvgDistanceValue(e.startDistance, e.endDistance, e.powerValue))
                },
                clearLabel: function() {
                    this.$("#avg-power-range-value").text("")
                },
                onGoHovered: function() {
                    var e = +this.$(".time-input-field").val()
                      , t = this.$("select.input-small.min-sec-selection").val()
                      , i = this.$("#power-pill-btn")
                      , a = 1;
                    "min" === t && (a = 60),
                    (e *= a) > this.duration ? this.numberValidator.report(e, h.a.Errors.OutOfRange) : this.numberValidator.clearReport(),
                    0 !== this.$(".tooltip-error:visible").length || 0 === e ? i.addClass("disabled").attr("disabled", "disabled") : i.removeClass("disabled").removeAttr("disabled")
                }
            });
            f.Events = g,
            t.a = f
        }
        ).call(this, i(10), i(10))
    },
    4256: function(e, t) {
        e.exports = '<div class="span12">\n    <span class="data-label max-avg-label"><%- Localizer.localize(\'max_avg_power\') %></span>\n    <div class="btn-group btn-group-pill" data-toggle="buttons-radio">\n        \x3c!-- NONE IS THE DEFAULT --\x3e\n        <button data-timerange="-1" class="btn btn-small active range-item"><%- Localizer.localize(\'avg_power_range_none\') %></button>\n        <button data-timerange="5" class="btn btn-small range-item"><%- Localizer.localize(\'avg_power_range_customsec\', 5) %></button>\n        <button data-timerange="60" class="btn btn-small range-item"><%- Localizer.localize(\'avg_power_range_custommin\', 1) %></button>\n        <button data-timerange="300" class="btn btn-small range-item"><%- Localizer.localize(\'avg_power_range_custommin\', 5) %></button>\n        <button data-timerange="1200" class="btn btn-small range-item"><%- Localizer.localize(\'avg_power_range_custommin\', 20) %></button>\n        <button class="btn btn-small custom-max-avg-power-button"><%- Localizer.localize(\'avg_power_range_custom\') %></button>\n    </div>\n\n    <div class="custom-max-avg-power" style="display:none;">\n        <input type="text" class="input-mini time-input-field" maxlength="3">\n        <select class="input-small  min-sec-selection">\n            <option value="min"><%- Localizer.localize(\'avg_power_range_unit_min\') %></option>\n            <option value="sec"><%- Localizer.localize(\'avg_power_range_unit_sec\') %></option>\n        </select>\n        <div id="power-pill-btn" class="btn btn-form"><%- Localizer.localize(\'avg_power_calculate_btn\') %></div>\n    </div>\n    <span id="avg-power-range-value" class="data-label pull-right"><%- avgValue %></span>\n</div>'
    },
    4257: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(13)
              , s = i(4)
              , o = i(8)
              , l = i.n(o)
              , c = i(2513)
              , h = i(2514)
              , d = i(2515)
              , p = i(4261)
              , u = i.n(p);
            t.a = l.a.View.extend({
                template: n.a.template(u.a),
                className: "mtbStat",
                events: {
                    "click #mtb-jumps-grid th": "onSplitColumnHeaderClicked",
                    "click tbody > tr": "onRowClicked"
                },
                initialize: function(e) {
                    return this.jumps = e.jumps,
                    this.activity = e.activity,
                    this.models = this.getCollection(),
                    this.colModel = this.getColumnFile(),
                    this.footerModel = this.getFooterModel(),
                    this.highestScore = this.getHighestScore(),
                    this
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: s.a,
                        colModel: this.models
                    })),
                    this.renderHeader(),
                    this.renderBody(),
                    this.renderFooter(),
                    this
                },
                renderHeader: function() {
                    var e = this.$("thead", this.$el);
                    if (e && e.length > 0) {
                        e.empty();
                        var t = new c.a({
                            model: this.colModel,
                            isLapSwimming: !1,
                            settings: this.getSettings().splits
                        });
                        e.append(t.render().el)
                    }
                },
                renderBody: function() {
                    var t = this.$("tbody")
                      , i = !1;
                    if (t && t.length) {
                        this.stopListening(),
                        e("tr", t).remove();
                        for (var a = this.sortData(this.models, this.colModel), n = 0, r = a.length; n < r; n += 1) {
                            var s = a[n]
                              , o = this.getRow(s, this.getSettings().splits);
                            t.append(o.render().el),
                            s.label_jumps_score === this.highestScore && !1 === i && (o.setActive(s.label_jumps_score === this.highestScore),
                            i = !0)
                        }
                        this.renderTrophy()
                    }
                },
                renderFooter: function() {
                    if (this.footerModel) {
                        var e = this.$("tfoot");
                        e && e.length && e.remove();
                        var t = this.$("table");
                        t && t.length && t.append(new d.a({
                            model: this.footerModel,
                            isLapSwimming: !1
                        }).render().el)
                    }
                },
                renderTrophy: function() {
                    this.$("tr.active").find("td:first").prepend('<div class="trophy-container"><span class="icon-personal-records"></span></div>')
                },
                getRow: function(e, t) {
                    for (var i = {}, a = Object.keys(e), n = 0; n < a.length; n++)
                        for (var o = a[n], l = 0; l < this.colModel.length; l++) {
                            var c = this.colModel[l];
                            c.displayLabel === o && (c.personalizer ? c.typeKey ? i[o] = c.personalizer.apply(r.a, [e[o], c.typeKey, s.a]) : i[o] = c.personalizer.apply(r.a, [e[o], s.a]) : i[o] = e[o])
                        }
                    return new h.a({
                        model: i,
                        isLapSwimming: !1,
                        settings: t
                    })
                },
                getSettings: function() {
                    return {
                        splits: {
                            headerClass: "sortable-header-row"
                        }
                    }
                },
                getColumnFile: function() {
                    return [{
                        order: 1,
                        fieldName: "jump",
                        displayLabel: "label_jumps",
                        class: "ascending",
                        showSortIcon: !0,
                        personalizer: null
                    }, {
                        order: 2,
                        fieldName: "score",
                        displayLabel: "label_jumps_score",
                        class: "",
                        showSortIcon: !1
                    }, {
                        order: 3,
                        fieldName: "distance",
                        displayLabel: "label_jumps_distance",
                        class: "",
                        showSortIcon: !1,
                        personalizer: r.a.personalizeMTBHeight
                    }, {
                        order: 4,
                        fieldName: "hangtime",
                        displayLabel: "label_jumps_hangtime",
                        class: "",
                        showSortIcon: !1,
                        personalizer: r.a.personalizeMTBSeconds
                    }, {
                        order: 5,
                        fieldName: "speed",
                        displayLabel: "label_jumps_speed",
                        class: "",
                        showSortIcon: !1,
                        personalizer: r.a.personalizeMTBSpeed,
                        typeKey: this.activity.get("activityTypeDTO").typeKey
                    }]
                },
                sortData: function(e, t) {
                    var i = n.a.find(t, function(e) {
                        return n.a.has(e, "showSortIcon") && e.showSortIcon
                    });
                    if (i) {
                        e.sort(function(e, t) {
                            var a = i.displayLabel;
                            if ("ascending" === i.class) {
                                if (e[a] < t[a])
                                    return -1;
                                if (e[a] > t[a])
                                    return 1
                            } else {
                                if (e[a] > t[a])
                                    return -1;
                                if (e[a] < t[a])
                                    return 1
                            }
                            return 0
                        })
                    }
                    return e
                },
                getCollection: function() {
                    for (var e = [], t = null, i = this.jumps.toJSON(), a = 0; a < i.length; a++)
                        t = i[a],
                        e.push({
                            label_jumps: a + 1,
                            label_jumps_score: t.score,
                            label_jumps_distance: t.distance,
                            label_jumps_hangtime: t.hangTime,
                            label_jumps_speed: t.speed
                        });
                    return e
                },
                getHighestScore: function() {
                    for (var e = 0, t = 0; t < this.models.length; t++)
                        this.models[t].label_jumps_score > e && (e = this.models[t].label_jumps_score);
                    return e
                },
                getFooterModel: function() {
                    for (var e = {
                        splits: s.a.localize("label_summary"),
                        label_jumps_score: null,
                        label_jumps_distance: 0,
                        label_jumps_hangtime: 0,
                        label_jumps_speed: null
                    }, t = 0; t < this.models.length; t++)
                        for (var i = this.models[t], a = Object.keys(i), n = 0; n < a.length; n++) {
                            null !== e[o = a[n]] && "undefined" != typeof e[o] && (e[o] += i[o])
                        }
                    for (a = Object.keys(e),
                    t = 0; t < a.length; t++) {
                        var o = a[t];
                        for (n = 0; n < this.colModel.length; n++) {
                            var l = this.colModel[n];
                            null !== e[o] && l.displayLabel === o && l.personalizer && (l.typeKey ? e[o] = l.personalizer.apply(r.a, [e[o], l.typeKey, s.a]) : e[o] = l.personalizer.apply(r.a, [e[o], s.a]))
                        }
                    }
                    return e
                },
                onSplitColumnHeaderClicked: function(t) {
                    t.preventDefault();
                    var i = n.a.find(this.colModel, function(e) {
                        return e.showSortIcon
                    })
                      , a = e("i", t.currentTarget);
                    if (a && a.length > 0 && i)
                        i.class = a.hasClass("icon-pointer-up") ? "descending" : "ascending";
                    else {
                        i && (i.class = "",
                        i.showSortIcon = !1);
                        var r = n.a.find(this.colModel, function(i) {
                            return e.trim(s.a.localize(i.displayLabel)) === e.trim(e(t.currentTarget).text())
                        });
                        r && (r.class = "ascending",
                        r.showSortIcon = !0)
                    }
                    this.renderHeader(),
                    this.renderBody()
                }
            })
        }
        ).call(this, i(10))
    },
    4258: function(e, t) {
        e.exports = "<% if (model && model.length > 0) { %>\n    <% if (isLapSwimming) { %>\n        <th>&nbsp;</th>\n    <% } %>\n    <% var i = 0, max = model.length; %>\n    <% for (i; i < max; i += 1) { %>\n        <% if (model[i]) { %>\n            <% if (isLapSwimming && model[i].hasOwnProperty('displayLabel')) { %>\n               <th><%= Localizer.localize(model[i].displayLabel) %></th>\n            <% } else if (!isLapSwimming) { %>\n                <th class=\"<%- model[i].class %>\"><%= Localizer.localize(model[i].displayLabel) %>\n                <% if (model[i].showSortIcon) { %>\n                    <i class=\"<%- (model[i].class === 'ascending' || model[i].class.indexOf('ascending') > -1) ? 'icon-pointer-up' : 'icon-pointer-down' %>\"></i>\n                <% } %>\n                </th>\n            <% } %>\n        <% } %>\n    <% } %>\n<% } %>"
    },
    4259: function(e, t) {
        e.exports = '<% if (isLapSwimming) { %>\n    <% if (settings.isParent) { %>\n        <% if (settings.isRest || model[\'swimStroke\'] == "DRILL") { %>\n            <td>&nbsp;</td>\n        <% } else { %>\n        <td>\n            <button class="table-row-parent-toggle table-row-parent-toggle-open" style="display: inline-block;"><i class="icon-pointer-right"></i></button>\n            <button class="table-row-parent-toggle table-row-parent-toggle-close" style="display: none;"><i class="icon-pointer-down"></i></button>\n        </td>\n        <% } %>\n    <% } else { %>\n         <td>&nbsp;</td>\n         <td>&nbsp;</td>\n   <% } %>\n<% } %>\n<% var index = 0; %>\n<% for (var i in model) { %>\n    <td class="<%- cellClass[index] ? cellClass[index] : \'\' %>">\n        <% if (_.isArray(model[i])) { %>\n            <% for (var c in model[i]) { %>\n                <% if (model[i][c]) { %>\n                    <%= model[i][c] %>\n                <% } else if (model[i][c] === null) { %>\n                    --\n                <% } %>\n            <% } %>\n        <% } else if (model[i] === null || (settings.isRest && columnHiddenForRest(i))) { %>\n            --\n        <% } else { %>\n            <%= ((i === \'swimStroke\' || i === \'label_swim_stroke\') ? Localizer.localize(sm.mapKey(model[i])) : model[i]) %>\n        <% } %>\n    </td>\n    <% index++; %>\n<% } %>'
    },
    4260: function(e, t) {
        e.exports = "<tr>\n    <% if (isLapSwimming) { %>\n        <td>&nbsp;</td>\n    <% } %>\n    <% var index = 0; %>\n    <% for(var f in model) { %>\n        <%if (isLapSwimming && f === 'lapIndex') { %>\n            <td><%- Localizer.localize(model[f]) %></td>\n        <% } else if (isLapSwimming && f === 'swimStroke') { %>\n            <td></td>\n        <% } else if (model[f] === null) { %>\n            <td></td>\n        <% } else if (isAutoRacingActivity) { %>\n            <td><%- f === 'auto_racing_lap_label' ? Localizer.localize(model[f]) : model[f] === null ? '--' : model[f] %></td>\n        <% } else if (isResortSkiActivity) { %>\n            <td><%- f === 'splits.runs' ? Localizer.localize(model[f]) : model[f] === null ? '--' : model[f] %></td>\n        <% } else { %>\n            <td class=\"<%- cellClass[index] ? cellClass[index] : '' %>\">\n                <%= f === 'splits.laps' ? Localizer.localize(model[f]) : model[f] === null ? '--' : model[f] %></td>\n        <% } %>\n        <% index++; %>\n    <% } %>\n</tr>\n"
    },
    4261: function(e, t) {
        e.exports = '<% if (colModel && colModel.length > 0) { %>\n    <div id="mtb-jumps-grid" class="tab-pane tab-overflow">\n        <div class="tab-content">\n            <div id="intervals-table" class="tab-pane active">\n                <table class="table clickable-table splits-table">\n                    <thead>\n                    </thead>\n                    <tbody>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n<% } %>'
    },
    4262: function(e, t) {
        e.exports = "<h2><%- Localizer.localize('label_jumps') %></h2>\n<p><%- Localizer.localize('jumps_help') %></p>\n\n<h4><%- Localizer.localize('label_jumps_in_connect') %></h4>\n<p><%- Localizer.localize('jumps_in_connect') %></p>"
    },
    4263: function(e, t) {
        e.exports = '<div class="data-block">\n    <div><%- Personalizer.peronalizeMTBFlow(summaryDTO.avgFlow) %></div>\n    <div class="fine-print"><%- Localizer.localize(\'label_flow\') %></div>\n</div>\n<div class="data-block">\n    <div><%- Personalizer.peronalizeMTBGrit(summaryDTO.grit) %></div>\n    <div class="fine-print"><%- Localizer.localize(\'label_grit\') %></div>\n</div>\n<div class="data-block">\n    <div><%- Math.round(jumps.length) %></div>\n    <div class="fine-print">\n        <%- Localizer.localize(\'label_total_jumps\') %>\n        <a href="#help-jumps" data-toggle="modal">\n            <span title="<%- Localizer.localize(\'label.te.tip\') %>" class="help-icon jumps-help">\n                <span class="icon-help"></span>\n            </span>\n        </a>\n    </div>\n</div>\n\n<div class="mtb-jumps-grid"></div>'
    },
    4264: function(e, t) {
        e.exports = '<% if (showStatsTab) { %>\n<li class="active">\n    <a id="tabStatsId" href="#tab-stats" data-toggle="tab"><%- Localizer.localize(\'activity_stats\') %></a>\n</li>\n<% } %>\n<% if (showSplitsTab) { %>\n<li>\n    <a id="tabSplitsId" href="#tab-splits" data-toggle="tab"><%- splitsTab %></a>\n</li>\n<% } %>\n<% if (canShowMtbMetricsTab) { %>\n    <li>\n        <a id="tabMtbMetricsId" href="#tab-mtb" data-toggle="tab"><%- Localizer.localize(\'activity_mtb_metrics\') %></a>\n    </li>\n<% } %>\n<% if (showGasesAndTanksTab) { %>\n<li>\n    <a id="tabGasesAndTanksId" href="#tab-gases-and-tanks" data-toggle="tab"><%- Localizer.localize(\'tanks_and_gases\') %></a>\n</li>\n<% } %>\n<% if (showApneaDivesTab) { %>\n<li>\n    <a id="tabApneaDives" href="#tab-apnea-dives" data-toggle="tab"><%- Localizer.localize(\'apnea_dives_label\') %></a>\n</li>\n<% } %>\n<% if (showSegmentTab) { %>\n<li>\n    <a id="tabSegmentsId" href="#tab-segments" data-toggle="tab"><%- Localizer.localize(\'segments\') %>\n        <% if (segmentCount > 0) { %>\n            <span class="notification-count"><%- segmentCount %></span>\n        <% } %>\n    </a>\n</li>\n<% } %>\n<% if (showTimeInZones) { %>\n<li>\n    <a id="tabTimeInZonesId" href="#tab-time-in-zones" data-toggle="tab"><%- Localizer.localize(\'time.in.zones\') %></a>\n</li>\n<% } %>\n<% if (showCyclingDynamics) { %>\n<li>\n    <a id="tabCyclingDynamics" href="#tab-cycling-dynamics" data-toggle="tab"><%- Localizer.localize(\'cycling_dynamics\') %></a>\n</li>\n<% } %>\n<% if (showPowerCurve) { %>\n<li>\n    <a id="tabPowerCurve" href="#tab-power-curve" data-toggle="tab"><%- Localizer.localize(\'power_curve_title\') %></a>\n</li>\n<% } %>'
    },
    4265: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(13)
              , c = i(2506)
              , h = i(2578)
              , d = i(1234)
              , p = i(4266)
              , u = i.n(p)
              , m = {
                ActivityChanged: "ActivityChanged"
            }
              , g = s.a.View.extend({
                template: n.a.template(u.a),
                events: {
                    "click .activity-tab": "onActivityTabClicked"
                },
                initialize: function(e) {
                    if (this.parentActivity = e.parentActivity,
                    this.childActivities = e.childActivities,
                    !this.parentActivity)
                        throw "parentActivity required for MultisportNavView";
                    this.childActivities || (this.childActivities = new c.a)
                },
                selectTab: function(t) {
                    this.$("li").removeClass("active"),
                    e(this.$("li")[t]).addClass("active")
                },
                render: function() {
                    var e = this.template({
                        Localizer: o.a,
                        Personalizer: l.a,
                        parent: this.parentActivity.toJSON(),
                        children: this.childActivities.toJSON(),
                        cm: d.a
                    });
                    this.$el.css("display", ""),
                    this.$el.html(e),
                    this.childActivities.each(function(e) {
                        this.renderPrTrophy(e)
                    }, this)
                },
                renderPrTrophy: function(t) {
                    t.get("personalRecord") && (this.$("#prPlaceholder-" + t.id).replaceWith(e('<i class="icon-personal-records has-tooltip" id="prPlaceholder-' + t.id + '" data-placement="bottom" data-html="true" title=""></i>')),
                    this.prsTooltipView = new h.a({
                        el: this.$("#prPlaceholder-" + t.id),
                        activityId: t.id
                    }))
                },
                onActivityTabClicked: function(t) {
                    this.trigger(m.ActivityChanged, e(t.currentTarget).attr("data-id"))
                }
            });
            g.Events = m,
            t.a = g
        }
        ).call(this, i(10))
    },
    4266: function(e, t) {
        e.exports = '<li class="active">\n    <a class="activity-tab" data-id="<%- parent.activityId %>" href="#tab-multisport-overview" data-toggle="tab">\n        <div class="icon"><i class="icon-activity-multisport"></i></div>\n        <div class="time"><%- Personalizer.personalizeDuration(parent.duration) %></div>\n        <div class="avg-stat"></div>\n    </a>\n</li>\n<% for (var i = 0; i < children.length; i++) { %>\n<%     var activity = children[i];            %>\n    <li>\n        <a class="activity-tab" data-id="<%- activity.activityId %>" href="#" data-toggle="tab">\n            <div class="icon"><i class="icon-activity-<%- cm.map(activity.activityTypeDTO.typeKey) %>"></i></div>\n            <div class="time"><%- Personalizer.personalizeDuration(activity.duration) %>\n                <i id="prPlaceholder-<%- activity.activityId %>" style="display:none;"></i>\n            </div>\n            <% var poolUnit = activity.unitOfPoolLength ? activity.unitOfPoolLength.unitKey : null; %>\n            <div class="avg-stat"><%- Personalizer.personalizeSpeed(activity.averageSpeed, activity.activityTypeDTO.typeKey, poolUnit) %> <%- Localizer.localize(Personalizer.getSpeedTypeKey(activity.activityTypeDTO.typeKey, null, poolUnit)) %></div>\n        </a>\n    </li>\n<% } %>\n\n\n'
    },
    4267: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(13)
          , c = i(102)
          , h = i(37)
          , d = i(1828)
          , p = i(1309)
          , u = i(4268)
          , m = i.n(u);
        t.a = s.a.View.extend({
            template: n.a.template(m.a),
            events: {
                "click .toggle-add-gear": "onAddGearBtnClicked"
            },
            initialize: function(e) {
                this.selectedGear = e.selectedGear,
                this.readOnly = e.readOnly
            },
            updateModels: function(e, t) {
                this.selectedGear && this.stopListening(),
                this.model = e,
                this.selectedGear = t,
                this.selectedGear && (this.listenTo(this.selectedGear, "add", this.render),
                this.listenTo(this.selectedGear, "remove", this.render))
            },
            render: function() {
                var e = this.template({
                    Localizer: o.a,
                    Personalizer: l.a,
                    selectedGear: this.getGearModels(),
                    isReadOnly: this.readOnly
                });
                this.$el.html(e)
            },
            getGearModels: function() {
                return this.selectedGear ? this.selectedGear.map(function(e) {
                    return {
                        fullDisplayName: p.a.getFullGearDisplayNameByModel(e),
                        gearClass: this.mapGearTypeToClass(e.get("gearTypeName"))
                    }
                }, this) : []
            },
            mapGearTypeToClass: function(e) {
                var t = e.toLocaleLowerCase();
                return "bike" === t ? "bike" : "shoes" === t ? "steps" : "gear"
            },
            onAddGearBtnClicked: function() {
                this.pushClickChangeGearAnalyticsEvents();
                var e = new d.a({
                    model: this.model,
                    selectedGear: this.selectedGear
                })
                  , t = new h.a({
                    modalTitle: o.a.localize("label_edit_gear"),
                    view: e,
                    showFooter: !1
                });
                e.on("ON_DEPENDENCIES_LOADED", function() {
                    e.render(),
                    t.render()
                }, this),
                e.load()
            },
            pushClickChangeGearAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Click Change Gear From Sidebar"
                })
            }
        })
    },
    4268: function(e, t) {
        e.exports = '<% if (selectedGear && selectedGear.length) { %>\n<div class="gear-images">\n    <% for (var i = 0; i < selectedGear.length; i++) {  %>\n    <%  var gear = selectedGear[i];                     %>\n        <i class="avatar avatar-medium icon-<%- gear.gearClass %>"></i>\n    <% }                                                %>\n</div>\n<ul class="gear-names">\n    <% for (i = 0; i < selectedGear.length; i++) {  %>\n    <%  gear = selectedGear[i];                     %>\n        <li><%- gear.fullDisplayName %></li>\n    <% }                                                %>\n\n    <% if (!isReadOnly) { %>\n    <li><a href="#gear-edit-modal" data-toggle="modal" class="toggle-add-gear colored"><%- Localizer.localize(\'label_change_gear\') %></a></li>\n    <% } %>\n</ul>\n<% } %>'
    },
    4269: function(e, t) {
        e.exports = '<td data-title-1="<%- labels.setNumberTitle %>"><p><%- rowNumber %></p></td>\n\n<td data-title-2="<%- labels.setName %>" class="workout-name">\n    <% if(!linkNameToEdit) { %>\n    <%- Localizer.localize(exerciseType) %>\n\n    <% } else { %>\n    <a href="#" class="edit-activity colored">\n        <%- Localizer.localize(labels.chooseSetLabelKey || exerciseType) %>\n    </a>\n    <% } %>\n</td>\n\n<td data-title-3="<%- Localizer.localize(\'label.time\') %>">\n    <%- time %>\n</td>\n\n<% if(!isPilatesActivity && !isYogaActivity) { %>\n<td data-title-4="<%- Localizer.localize(\'label_rest\') %>">\n    <%- rest %>\n</td>\n<% } %>\n\n<% if(!isYogaActivity) { %>\n<td data-title-5="<%- Localizer.localize(\'label_reps\') %>">\n    <%- reps %>\n</td>\n<% } %>\n\n<% if(!isPilatesActivity && !isYogaActivity) { %>\n<td data-title-6="<%- Localizer.localize(\'label_weight\') %>">\n    <% if(weightIsNumber || isReadOnly) { %>\n\n        <%- weight %>\n\n        <% if(isMetric) { %>\n            <%- Localizer.localize(\'weight_unit_metric\') %>\n        <% } else { %>\n            <%- Localizer.localize(\'weight_unit_statute\') %>\n        <% } %>\n\n    <% } else { %>\n    <a href="#" class="colored edit-activity"><%- weight %></a>\n    <% } %>\n</td>\n<% } %>'
    },
    4270: function(e, t) {
        e.exports = "<table class=\"table table-hover table-responsive rep-counting-table\">\n    <thead>\n        <tr>\n            <th><%- labels.setNumberTitle %></th>\n            <th><%- labels.setName %></th>\n            <th><%- Localizer.localize('label.time') %></th>\n\n            <% if(!isPilatesActivity && !isYogaActivity) { %>\n            <th><%- Localizer.localize('label_rest') %></th>\n            <% } %>\n\n            <% if(!isYogaActivity) { %>\n            <th><%- Localizer.localize('label_reps') %></th>\n            <% } %>\n\n            <% if(!isPilatesActivity && !isYogaActivity) { %>\n            <th><%- Localizer.localize('label_weight') %></th>\n            <% } %>\n        </tr>\n    </thead>\n\n    <tbody id=\"setsContainer\"></tbody>\n</table>"
    },
    4271: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(52)
              , l = i(1650);
            t.a = s.a.View.extend({
                initialize: function(e) {
                    o.a.setExpandCollapseHandler(function() {
                        this.resizeCanvas()
                    }
                    .bind(this))
                },
                render: function() {
                    var e = this.model.activity.toJSON();
                    this.diveLogView = new l.a({
                        model: this.model.activity,
                        surfaceInterval: e.surfaceInterval,
                        timeIn: e.startTimeLocal,
                        maxDepth: e.maxDepth,
                        avgDepth: e.averageDepth,
                        bottomTime: e.bottomTime,
                        isDecoDive: e.isDecoDive
                    }).render();
                    var t = this.diveLogView.el;
                    this.$el.html(t),
                    this.bindWindowResize(),
                    this.diveLogView.render()
                },
                resizeCanvas: function() {
                    this.diveLogView.renderCanvas()
                },
                bindWindowResize: function() {
                    e(window).on("resize.diveLog", n.a.bind(this.resizeCanvas, this))
                },
                unbindWindowResize: function() {
                    e(window).off("resize.diveLog", this.resizeCanvas)
                },
                destroy: function() {
                    this.unbindWindowResize(),
                    this.diveLogView.remove(),
                    this.remove()
                }
            })
        }
        ).call(this, i(10))
    },
    4272: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(13)
              , c = i(102)
              , h = i(220)
              , d = i(4273)
              , p = i.n(d)
              , u = "bpm"
              , m = "percentMax"
              , g = "zones";
            t.a = s.a.View.extend({
                template: n.a.template(p.a),
                events: {
                    "click #btn-heart-rate": "handleToggle",
                    "click #btn-percent-max": "handleToggle",
                    "click #btn-zones": "handleToggle"
                },
                initialize: function(e) {
                    this.heartRateZones = e.heartRateZones,
                    this.enableToggle = e.enableToggle,
                    this.mode = u,
                    this.isYoga = e.isYoga,
                    this.isFloorClimbingActivity = e.isFloorClimbingActivity,
                    this.isPilatesActivity = e.isPilatesActivity,
                    this.isAutoRacingActivity = e.isAutoRacingActivity,
                    this.isBreathworkActivity = e.isBreathworkActivity
                },
                handleToggle: function(t) {
                    t.preventDefault(),
                    this.$(".btn-small").removeClass("active");
                    var i = e(t.currentTarget).attr("id");
                    this.mode = "btn-heart-rate" == i ? u : "btn-percent-max" == i ? m : g,
                    this.pushHeartRateToggleAnalyticsEvents(),
                    this.render()
                },
                pushHeartRateToggleAnalyticsEvents: function() {
                    c.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Stats Tab - Heart Rate Toggle"
                    })
                },
                render: function() {
                    var e = this.model.get("averageHR")
                      , t = this.model.get("maxHR");
                    if (e)
                        var i = l.a.personalizeHeartRate(e);
                    if (t)
                        var a = l.a.personalizeHeartRate(t);
                    var n = o.a.localize(l.a.getHeartRateUnitKey());
                    if (this.mode === m && this.heartRateZones) {
                        var r = this.heartRateZones.maxHeartRateUsed;
                        e && (i = Math.round(e / r * 100)),
                        t && (a = Math.round(t / r * 100)),
                        n = o.a.localize(l.a.getPercentMaxHeartRateUnitKey())
                    } else if (this.mode === g && this.heartRateZones) {
                        var s = this.findZone(e)
                          , c = this.findZone(t);
                        s && c && (e && (i = this.formatZone(e, s)),
                        t && (a = this.formatZone(t, c)),
                        n = o.a.localize(l.a.getHeartRateZoneUnitKey()))
                    }
                    var d = this.template({
                        Localizer: o.a,
                        Personalizer: l.a,
                        model: {
                            heartRateValue: i,
                            maxHeartRateValue: a,
                            heartRateUnit: n
                        },
                        enableToggle: this.shouldEnableToggle()
                    });
                    this.$el.html(d),
                    this.mode == u ? this.$("#btn-heart-rate").addClass("active") : this.mode == m ? this.$("#btn-percent-max").addClass("active") : this.$("#btn-zones").addClass("active"),
                    h.a.renderTooltips.call(this)
                },
                findZone: function(e) {
                    var t = this.heartRateZones.zone1Floor
                      , i = this.heartRateZones.zone2Floor
                      , a = this.heartRateZones.zone3Floor
                      , n = this.heartRateZones.zone4Floor
                      , r = this.heartRateZones.zone5Floor
                      , s = {
                        floor: r,
                        ceiling: this.heartRateZones.maxHeartRateUsed,
                        number: 5
                    };
                    return e <= t ? s = {
                        floor: 0,
                        ceiling: t,
                        number: 0
                    } : t < e && i >= e ? s = {
                        floor: t,
                        ceiling: i,
                        number: 1
                    } : i < e && a >= e ? s = {
                        floor: i,
                        ceiling: a,
                        number: 2
                    } : a < e && n >= e ? s = {
                        floor: a,
                        ceiling: n,
                        number: 3
                    } : n < e && r >= e ? s = {
                        floor: n,
                        ceiling: r,
                        number: 4
                    } : r < e && this.heartRateZones.maxHeartRateUsed >= e && (s = {
                        floor: r,
                        ceiling: this.heartRateZones.maxHeartRateUsed,
                        number: 5
                    }),
                    s
                },
                formatZone: function(e, t) {
                    if (t.ceiling < e)
                        return l.a.formatDecimalNumber(t.number + 1, 1);
                    var i = t.number + (e - t.floor) / (t.ceiling - t.floor);
                    return l.a.formatDecimalNumber(i, 1)
                },
                shouldEnableToggle: function() {
                    return this.enableToggle && this.heartRateZones && !this.isYoga && !this.isFloorClimbingActivity && !this.isAutoRacingActivity && !this.isBreathworkActivity
                }
            })
        }
        ).call(this, i(10))
    },
    4273: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_heart_rate\') %></h3>\n    <% if (enableToggle) { %>\n    <div class="btn-group btn-group-pill bottom-m" data-toggle="buttons-radio">\n        <button id="btn-heart-rate" class="btn btn-small"><%- Localizer.localize(\'heart_rate_unit\') %></button>\n        <button id="btn-percent-max" class="btn btn-small"><%- Localizer.localize(\'percent_of_max\') %></button>\n        <button id="btn-zones" class="btn btn-small"><%- Localizer.localize(\'label_zones\') %></button>\n    </div>\n    <% } %>\n\n    <% if (model.heartRateValue) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.heartRateValue %> <%- model.heartRateUnit %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_HR\') %></span>\n    </div>\n    <% } %>\n\n    <% if (model.maxHeartRateValue) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.maxHeartRateValue %> <%- model.heartRateUnit %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_HR\') %></span>\n    </div>\n    <% } %>\n</div>'
    },
    4274: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_ascent\') %></h3>\n    \x3c!-- Indoor Climb Ascent Metrics --\x3e\n    <% if (isIndoorClimbingActivity) { %>\n        <% if (indoorClimbElevationGain) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(indoorClimbElevationGain) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'activity_total_ascent\') %></span>\n            </div>\n        <% } %>\n        <% if (indoorClimbMaxAscent) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(indoorClimbMaxAscent) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'climb_max_ascent\') %></span>\n            </div>\n        <% } %>\n    <% } else { %>\n        <% if (ascent) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeFloors(ascent) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_ascent\') %></span>\n        </div>\n        <% } %>\n\n        <% if (descent) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeFloors(descent) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_descent\') %></span>\n        </div>\n        <% } %>\n\n        <% if (minElevation) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeElevation(minElevation) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_min_elevation\') %></span>\n        </div>\n        <% } %>\n\n        <% if (maxElevation) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeElevation(maxElevation) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_max_elevation\') %></span>\n        </div>\n        <% } %>\n    <% } %>\n</div>'
    },
    4275: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(4)
              , l = i(13)
              , c = i(102)
              , h = i(64)
              , d = i(37)
              , p = i(4276)
              , u = i(4278)
              , m = i.n(u)
              , g = {
                DisplayWeightEntryPopup: "DisplayWeightEntryPopup",
                WeightChangedFromPowerStats: "WeightChangedFromPowerStats"
            }
              , f = "zones"
              , v = "watts"
              , y = "kg"
              , A = s.a.View.extend({
                template: n.a.template(m.a),
                events: {
                    "click #btn-watts": "handleToggle",
                    "click #btn-zones": "handleToggle",
                    "click #btn-kg": "handleToggle",
                    "click .help-power": "onPowerHelpClicked"
                },
                initialize: function(e) {
                    this.powerZones = e.powerZones,
                    this.enableToggle = e.enableToggle,
                    this.usersWeight = e.usersWeight,
                    this.mode = v,
                    this.needToSelectKg = !1
                },
                onPowerHelpClicked: function(e) {
                    e.preventDefault();
                    var t = new p.a({});
                    new d.a({
                        view: t,
                        showFooter: !1,
                        modalTitle: o.a.localize("help.title")
                    }).render()
                },
                handleToggle: function(t) {
                    t.stopPropagation();
                    var i = e(t.currentTarget);
                    switch (this.needToSelectKg = !1,
                    i.attr("id")) {
                    case "btn-zones":
                        this.mode = f;
                        break;
                    case "btn-kg":
                        this.usersWeight ? this.mode = y : (this.needToSelectKg = !0,
                        this.trigger(g.DisplayWeightEntryPopup, {
                            context: this,
                            successCallback: this.weightPopupCallback
                        }, this));
                        break;
                    case "btn-watts":
                        this.mode = v
                    }
                    this.pushPowerToggleAnalyticsEvents(),
                    this.render()
                },
                pushPowerToggleAnalyticsEvents: function() {
                    c.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Stats Tab - Power Toggle"
                    })
                },
                render: function() {
                    var e = this.model.get("averagePower")
                      , t = this.model.get("maxPower");
                    if (e)
                        var i = l.a.personalizePower(e);
                    if (t)
                        var a = l.a.personalizePower(t);
                    var n = o.a.localize(l.a.getPowerUnitKey());
                    if (this.mode == f && this.powerZones) {
                        var r = this.findZone(e)
                          , s = this.findZone(t);
                        r && (i = this.formatZone(e, r),
                        n = o.a.localize(l.a.getHeartRateZoneUnitKey())),
                        s && (a = this.formatZone(t, s),
                        n = o.a.localize(l.a.getHeartRateZoneUnitKey()))
                    }
                    if (this.mode === y && this.usersWeight) {
                        var c = this.usersWeight;
                        i = l.a.personalizePowerKg(e / c),
                        t && (a = l.a.personalizePowerKg(t / c)),
                        n = o.a.localize("label_power_kg")
                    }
                    var d = this.template({
                        Localizer: o.a,
                        Personalizer: l.a,
                        activity: this.model.toJSON(),
                        powerData: {
                            averagePowerValue: i,
                            powerUnit: n,
                            maxPowerValue: a
                        },
                        activityType: this.model.get("activityTypeDTO").typeKey,
                        enableToggle: this.enableToggle && this.powerZones && (e || t),
                        isCrossCountrySkiActivity: h.a.isCrosscountrySkiActivity(this.model.get("activityTypeDTO").typeKey) || h.a.isSkateSkiActivity(this.model.get("activityTypeDTO").typeKey)
                    });
                    switch (this.$el.html(d),
                    this.mode) {
                    case f:
                        this.$("#btn-zones").addClass("active");
                        break;
                    case v:
                        this.$("#btn-watts").addClass("active");
                        break;
                    case y:
                        this.usersWeight && this.$("#btn-kg").addClass("active")
                    }
                },
                findZone: function(e) {
                    return n.a.find(this.powerZones, function(t) {
                        return t.floor < e && t.ceiling > e
                    })
                },
                formatZone: function(e, t) {
                    var i = +t.number
                      , a = i + (e - t.floor) / (t.ceiling - t.floor);
                    return 7 === i && a > 7 && (a = 7),
                    l.a.formatDecimalNumber(a, 1)
                },
                setAndApplyWeight: function(e) {
                    this.usersWeight && this.usersWeight === e || (this.usersWeight = e,
                    this.needToSelectKg && this.$("#btn-kg").click())
                },
                weightPopupCallback: function(e) {
                    this.setAndApplyWeight(e),
                    this.trigger(g.WeightChangedFromPowerStats, e)
                }
            });
            A.Events = g,
            t.a = A
        }
        ).call(this, i(10))
    },
    4276: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(4277)
          , c = i.n(l);
        t.a = s.a.View.extend({
            template: n.a.template(c.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: o.a
                }))
            }
        })
    },
    4277: function(e, t) {
        e.exports = "<div class=\"power-load-help\">\n    <h4><%- Localizer.localize('label_ski_power') %></h4>\n    <h5><%- Localizer.localize('ski_power_message1') %></h5>\n    <h5><%- Localizer.localize('label_ski_train') %></h5>\n    <p><%- Localizer.localize('ski_train_message') %></p>\n    <h5><%- Localizer.localize('label_ski_cycling_ftp') %></h5>\n    <p><%- Localizer.localize('label_ski_cycling_message') %></p>\n</div>\n"
    },
    4278: function(e, t) {
        e.exports = '<%\n\nvar leftBalance = Personalizer.personalizeLeftRightBalance(activity.leftBalance);\nvar rightBalance = Personalizer.personalizeLeftRightBalance(100 - leftBalance);\n\nvar leftEffectiveness = Personalizer.personalizeTorqueEffectiveness(activity.leftTorqueEffectiveness);\nvar rightEffectiveness = Personalizer.personalizeTorqueEffectiveness(activity.rightTorqueEffectiveness);\n\nvar leftSmoothness = Personalizer.personalizePedalSmoothness(activity.leftPedalSmoothness);\nvar rightSmoothness = Personalizer.personalizePedalSmoothness(activity.rightPedalSmoothness);\n\n%>\n<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_power\') %>\n        <% if (isCrossCountrySkiActivity) { %>\n            <span class="help-icon has-tooltip help-power" title="<%- Localizer.localize(\'label.te.tip\') %>">\n                <i class="icon-help"></i>\n            </span>\n        <% } %>\n    </h3>\n    <% if (enableToggle) { %>\n    <div class="btn-group btn-group-pill bottom-m" data-toggle="buttons-radio">\n        <button id="btn-watts" class="btn btn-small"><%- Localizer.localize(\'label_power_unit\') %></button>\n        <button id="btn-kg" class="btn btn-small"><%- Localizer.localize(\'label_power_kg\') %></button>\n        <button id="btn-zones" class="btn btn-small"><%- Localizer.localize(\'label_zones\') %></button>\n    </div>\n    <% } %>\n\n    <% if (powerData.averagePowerValue) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- powerData.averagePowerValue %> <%- powerData.powerUnit %></div>\n        <span class="data-label"><%- Localizer.localize(Personalizer.getAvgPowerLabelKey(activityType)) %></span>\n    </div>\n    <% } %>\n\n    <% if (powerData.maxPowerValue) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- powerData.maxPowerValue %>  <%- powerData.powerUnit %></div>\n        <span class="data-label"><%- Localizer.localize(Personalizer.getMaxPowerLabelKey(activityType)) %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.maxPowerTwentyMinutes) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizePower(activity.maxPowerTwentyMinutes || 0) %>  <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_avg_power\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.leftBalance) {      %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Localizer.localize(Personalizer.getPowerBalanceUnitKey(), leftBalance, rightBalance) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_left_right_balance\') %></span>\n    </div>\n    <% }                                                                %>\n\n    <% if (activity.leftTorqueEffectiveness) {   %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Localizer.localize(Personalizer.getPowerBalanceUnitKey(), leftEffectiveness, rightEffectiveness) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_left_right_torque_eff\') %></span>\n    </div>\n    <% }                                                                        %>\n\n    <% if (activity.leftPedalSmoothness) {   %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Localizer.localize(Personalizer.getPowerBalanceUnitKey(), leftSmoothness, rightSmoothness) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_left_right_pedal_smoothness\') %> </span>\n    </div>\n    <% }                                                                    %>\n\n    <% if (activity.normalizedPower) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizePower(activity.normalizedPower || 0) %>  <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_normalized_power\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.intensityFactor) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeIntensityFactor(activity.intensityFactor || 0) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_intensity_factor\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.trainingStressScore) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeTSS(activity.trainingStressScore || 0) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_training_stress_score\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.functionalThresholdPower) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizePower(activity.functionalThresholdPower || 0) %> <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_ftp_setting\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.totalWork) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeWork(activity.totalWork || 0) %> <%- Localizer.localize(Personalizer.getWorkUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_work\') %></span>\n    </div>\n    <% } %>\n\n</div>'
    },
    4279: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(7)
              , r = i.n(n)
              , s = i(8)
              , o = i.n(s)
              , l = i(4)
              , c = i(13)
              , h = i(112)
              , d = i(102)
              , p = i(4280)
              , u = i.n(p)
              , m = {
                SpeedPaceToggled: "SpeedPaceToggled"
            }
              , g = "Speed"
              , f = "Pace"
              , v = o.a.View.extend({
                template: r.a.template(u.a),
                events: {
                    "click #btn-speed": "handleToggle",
                    "click #btn-pace": "handleToggle"
                },
                initialize: function(e) {
                    var t = this.model.get("activityTypeDTO").typeKey
                      , i = c.a.getSpeedTypeFromActivityType(t);
                    i == c.a.SpeedTypes.Speed || i === c.a.SpeedTypes.Flying ? this.mode = g : this.mode = f
                },
                handleToggle: function(t) {
                    if (t.preventDefault(),
                    !e(t.currentTarget).hasClass("active")) {
                        this.$(".btn-small").removeClass("active");
                        var i = a(t.currentTarget).attr("id");
                        this.mode = "btn-speed" == i ? g : f,
                        this.render(),
                        this.signalModeChange(),
                        this.pushTimingToggleAnalyticsEvents()
                    }
                },
                pushTimingToggleAnalyticsEvents: function() {
                    d.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Stats Tab - Timing Toggle"
                    })
                },
                signalModeChange: function() {
                    var e = this.model.get("activityTypeDTO").typeKey
                      , t = c.a.getSpeedTypeFromActivityType(e)
                      , i = c.a.isLapSwimmingActivity(e)
                      , a = c.a.isSwimmingActivity(e)
                      , n = c.a.isRowingActivity(e);
                    this.mode === f ? a ? this.triggerEvent(c.a.SpeedTypes.SwimPace) : n ? this.triggerEvent(c.a.SpeedTypes.RowingPace) : this.triggerEvent(c.a.SpeedTypes.Pace) : i ? this.triggerEvent(c.a.SpeedTypes.SwimSpeed) : t === c.a.SpeedTypes.Flying ? this.triggerEvent(c.a.SpeedTypes.Flying) : n ? this.triggerEvent(c.a.SpeedTypes.RowingSpeed) : this.triggerEvent(c.a.SpeedTypes.Speed)
                },
                triggerEvent: function(e) {
                    this.trigger(m.SpeedPaceToggled, e, this.mode)
                },
                render: function() {
                    var e = this.model.toJSON()
                      , t = e.activityTypeDTO.typeKey
                      , i = c.a.getSpeedTypeFromActivityType(t)
                      , a = c.a.isLapSwimmingActivity(t)
                      , n = c.a.isSwimmingActivity(t)
                      , r = c.a.isRowingActivity(t)
                      , s = c.a.isNauticalActivity(t)
                      , o = {};
                    h.a.setActivity(e),
                    (o = this.mode === f ? n ? h.a.getSwimPaceModel() : r ? h.a.getRowingPaceModel() : s ? h.a.getNauticalPaceModel() : h.a.getPaceModel() : a ? h.a.getSwimSpeedModel() : i === c.a.SpeedTypes.Flying ? h.a.getFlyingModel() : r ? h.a.getRowingSpeedModel() : s ? h.a.getNauticalSpeedModel() : h.a.getSpeedModel()).showMaxSpeed = this.shouldDiplayMaxSpeed(),
                    o.isSwimmingActivity = this.model.isSwimming();
                    var d = this.template({
                        Localizer: l.a,
                        Personalizer: c.a,
                        activity: e,
                        model: o
                    });
                    this.$el.html(d),
                    this.mode === g ? this.$("#btn-speed").addClass("active") : this.$("#btn-pace").addClass("active")
                },
                shouldDiplayMaxSpeed: function() {
                    return !("open_water_swimming" === this.model.getActivityTypeKey())
                }
            });
            v.Events = m,
            t.a = v
        }
        ).call(this, i(10), i(10))
    },
    4280: function(e, t) {
        e.exports = '<%\nvar labelPace = model.isSwimmingActivity ? \'label_swim_pace\' : \'label_pace\';\n%>\n\n<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n    <div class="btn-group btn-group-pill bottom-m" data-toggle="buttons-radio">\n        <button id="btn-pace" class="btn btn-small"><%- Localizer.localize(labelPace) %></button>\n        <button id="btn-speed" class="btn btn-small"><%- Localizer.localize(\'label_speed\') %></button>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.time %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_time\') %></span>\n    </div>\n    <% if (activity.movingDuration) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.movingTime %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_moving_time\') %></span>\n    </div>\n    <% }                                                    %>\n    <% if (model.elapsedTime) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.elapsedTime %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_elapsed_time\') %></span>\n    </div>\n    <% } %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.avgSpeedOrPace %> <%- model.avgSpeedOrPaceUnit %></div>\n        <span class="data-label"><%- model.avgSpeedOrPaceLabel %></span>\n    </div>\n    <% if (activity.averageMovingSpeed) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.avgMovingSpeedOrPace %> <%- model.avgMovingSpeedOrPaceUnit %></div>\n        <span class="data-label"><%- model.avgMovingSpeedOrPaceLabel %></span>\n    </div>\n    <% }                                                    %>\n    <% if (model.showMaxSpeed && model.maxSpeedOrPace) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.maxSpeedOrPace %> <%- model.maxSpeedOrPaceUnit %></div>\n        <span class="data-label"><%- model.maxSpeedOrPaceLabel %></span>\n    </div>\n    <% } %>\n</div>'
    },
    4281: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit total-time-value"><%- Personalizer.personalizeDuration(time) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_time\') %></span>\n    </div>\n</div>'
    },
    4282: function(e, t) {
        e.exports = '<div class="stat-block" style="<% if (!showStats) { print(\'display: none;\'); } %>">\n    <h3><%- statsLabel %></h3>\n\n    <% for (var i = 0; i < stats.length; i++) { %>\n        <% if (stats[i].data) {\n            var unit = stats[i].dataUnit ? stats[i].dataUnit : \'\';\n        %>\n            <div class="data-block small">\n                <div class="data-bit total-time-value"><%- stats[i].data + \' \' + unit %></div>\n                <span class="data-label"><%- stats[i].dataLabel %></span>\n                <% if (stats[i].tooltipHelpIconMessage) { %>\n                    <span class="colored has-tooltip help-icon" data-placement="right" title="<%- stats[i].tooltipHelpIconMessage %>"><i class="icon-help"></i></span>\n                <% } %>\n            </div>\n        <% } %>\n    <% } %>\n</div>\n'
    },
    4283: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n    <% if (time) { %>\n        <div class="data-block small">\n            <div class="data-bit total-time-value"><%- Personalizer.personalizeDuration(time) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_time\') %></span>\n        </div>\n    <% } %>\n\n    <% if (elapsedTime) { %>\n        <div class="data-block small">\n            <div class="data-bit duration-time-value"><%- Personalizer.personalizeDuration(elapsedTime) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_elapsed_time\') %></span>\n        </div>\n    <% } %>\n\n    <% if (avgFloorsPerMin || avgFloorsPerMin === 0) { %>\n        <div class="data-block small">\n            <div class="data-bit duration-time-value"><%- avgFloorsPerMin %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_avg_floors_per_minute\') %></span>\n        </div>\n    <% } %>\n\n    <% if (maxFloorsPerMin || maxFloorsPerMin === 0) { %>\n        <div class="data-block small">\n            <div class="data-bit duration-time-value"><%- maxFloorsPerMin %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_max_floors_per_minute\') %></span>\n        </div>\n    <% } %>\n</div>'
    },
    4284: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n        <% if (activeClimbDuration) { %>\n            <div class="data-block small">\n                <div class="data-bit total-time-value"><%- Personalizer.personalizeDuration(activeClimbDuration, false) %></div>\n                <span class="data-label"><%- Localizer.localize(\'climb_active_time\') %></span>\n            </div>\n        <% } %>\n        <% if (restClimbDuration) { %>\n            <div class="data-block small">\n                <div class="data-bit duration-time-value"><%- Personalizer.personalizeDuration(restClimbDuration, false) %></div>\n                <span class="data-label"><%- Localizer.localize(\'climb_rest_time\') %></span>\n            </div>\n        <% } %>\n        <% if (totalClimbTime) { %>\n            <div class="data-block small">\n                <div class="data-bit duration-time-value"><%- Personalizer.personalizeDuration(totalClimbTime, false) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_time_total\') %></span>\n            </div>\n        <% } %>\n</div>\n'
    },
    4285: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit total-time-value"><%- Personalizer.personalizeDuration(time) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_time\') %></span>\n    </div>\n</div>'
    },
    4286: function(e, t) {
        e.exports = '<h3><%- Localizer.localize(\'cycling_dynamics\') %> <a href="javascript:void(0);" class="help-icon has-tooltip"\n                                                      data-html="true"\n                                                     title="<%- showPositionTab ? Localizer.localize(\'help.cycling.dynamics.position.title\')  + \'<br><br>\' : \'\' %><%- Localizer.localize(\'help.cycling.dynamics.power.phase.title\') %><br><br><%- Localizer.localize(\'help.cycling.dynamics.platform.center.offset.title\') %>"><i\n        class="icon-help"></i></a></h3>\n<div class="btn-group btn-group-pill bottom-m" data-toggle="buttons-radio">\n    <% if (showPositionTab) { %>\n    <button id="btn-position" class="btn btn-small cycling-dynamics active" data-toggle="tab" data-target="#position-data"><%- Localizer.localize(\'cycling_dynamics_position\') %></button>\n    <% } %>\n    <button id="btn-power-phase" class="btn btn-small cycling-dynamics <%- !showPositionTab ? \'active\' : \'\' %>" data-toggle="tab" data-target="#power-phase-data"><%- Localizer.localize(\'cycling_dynamics_power_phase_abbr\') %></button>\n    <button id="btn-pco" class="btn btn-small cycling-dynamics" data-toggle="tab" data-target="#pco-data"><%- Localizer.localize(\'cycling_dynamics_pco_abbr\') %></button>\n</div>\n\x3c!--Position Data--\x3e\n<div class="tab-content">\n    <% if (showPositionTab) { %>\n    <div id="position-data" class="tab-pane active">\n\n\n        <% if (!_.isUndefined(activity.standingTime)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeStandingTime(activity.standingTime) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_total_standing_time\') %></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.averageStandingPower)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePower(activity.averageStandingPower) %> <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_avg_standing_power\') %></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.maxStandingPower)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePower(activity.maxStandingPower) %> <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_max_standing_power\') %></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.seatedTime)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeStandingTime(activity.seatedTime) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_total_seated_time\') %></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.averageSeatedPower)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePower(activity.averageSeatedPower) %> <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_avg_seated_power\') %></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.maxSeatedPower)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePower(activity.maxSeatedPower) %> <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_max_seated_power\') %></span>\n        </div>\n        <% } %>\n\n    </div>\n    <% } %>\n    \x3c!--Power-Phase Data--\x3e\n    <div id="power-phase-data" class="tab-pane <%- !showPositionTab ? \'active\' : \'\' %>">\n\n        \x3c!-- Left Power Phase --\x3e\n        <% if (!_.isUndefined(activity.leftPowerPhaseStart)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseAngle(activity.leftPowerPhaseStart) %> \xb0 \u2013 <%- Personalizer.personalizePowerPhaseAngle(activity.leftPowerPhaseEnd) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_l_power_phase\') %> <a href="#" class="help-icon has-tooltip" data-html="true" title="<%- Localizer.localize(\'help.cycling.dynamics.power.phase.start.angle\') %><br/><br/><%- Localizer.localize(\'help.cycling.dynamics.power.phase.end.angle\') %><br/><br/><%- Localizer.localize(\'help.cycling.dynamics.power.phase.description\') %>" ><i class="icon-help"></i></a></span>\n        </div>\n        <% } %>\n\n        \x3c!-- Right Power Phase --\x3e\n        <% if (!_.isUndefined(activity.rightPowerPhaseStart)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseAngle(activity.rightPowerPhaseStart) %> \xb0 \u2013 <%- Personalizer.personalizePowerPhaseAngle(activity.rightPowerPhaseEnd) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_r_power_phase\') %></span>\n        </div>\n        <br/>\n        <% } %>\n\n\n\n        <% if (!_.isUndefined(activity.leftPowerPhaseArcLength)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseArcLength(activity.leftPowerPhaseArcLength) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_l_power_phase_arc_length\') %> <a href="#" class="help-icon has-tooltip" title="<%- Localizer.localize(\'help.cycling.dynamics.power.phase.arc.length\') %>" ><i class="icon-help"></i></a></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.rightPowerPhaseArcLength)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseArcLength(activity.rightPowerPhaseArcLength) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_r_power_phase_arc_length\') %></span>\n        </div>\n        <br/>\n        <% } %>\n\n\n\n        \x3c!-- Left Peak Power Phase --\x3e\n        <% if (!_.isUndefined(activity.leftPowerPhasePeakStart)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseAngle(activity.leftPowerPhasePeakStart) %> \xb0 \u2013 <%- Personalizer.personalizePowerPhaseAngle(activity.leftPowerPhasePeakEnd) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_l_peak_power_phase\') %> <a href="#" class="help-icon has-tooltip" data-html="true" title="<%- Localizer.localize(\'help.cycling.dynamics.peak.power.phase.start.angle\') %><br><br><%- Localizer.localize(\'help.cycling.dynamics.peak.power.phase.end.angle\') %><br><br><%- Localizer.localize(\'help.cycling.dynamics.peak.power.phase.description\') %>" ><i class="icon-help"></i></a></span>\n        </div>\n        <% } %>\n\n        \x3c!-- Right Peak Power Phase --\x3e\n        <% if (!_.isUndefined(activity.rightPowerPhasePeakStart)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseAngle(activity.rightPowerPhasePeakStart) %> \xb0 \u2013 <%- Personalizer.personalizePowerPhaseAngle(activity.rightPowerPhasePeakEnd) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_r_peak_power_phase\') %></span>\n        </div>\n        <br/>\n        <% } %>\n\n\n\n        <% if (!_.isUndefined(activity.leftPowerPhasePeakArcLength)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseArcLength(activity.leftPowerPhasePeakArcLength) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_l_peak_power_phase_arc_length\') %> <a href="#" class="help-icon has-tooltip" title="<%- Localizer.localize(\'help.cycling.dynamics.peak.power.phase.arc.length\') %>" ><i class="icon-help"></i></a></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.rightPowerPhasePeakArcLength)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseArcLength(activity.rightPowerPhasePeakArcLength) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_r_peak_power_phase_arc_length\') %></span>\n        </div>\n        <% } %>\n\n\n    </div>\n    \x3c!--Platform Center Offset Data--\x3e\n    <div id="pco-data" class="tab-pane">\n\n        <% if (!_.isUndefined(activity.leftPlatformCenterOffset)) { %>\n        <div class="pco data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePlatformCenterOffset(activity.leftPlatformCenterOffset) %> <%- Localizer.localize(\'platform_center_offset_unit\') %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_l_pco_average\') %> <a href="#" class="help-icon has-tooltip" title="<%- Localizer.localize(\'help.cycling.dynamics.platform.center.offset\') %>" ><i class="icon-help"></i></a></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.rightPlatformCenterOffset)) { %>\n        <div class="pco data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePlatformCenterOffset(activity.rightPlatformCenterOffset) %> <%- Localizer.localize(\'platform_center_offset_unit\') %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_r_pco_average\') %> </span>\n        </div>\n        <% } %>\n    </div>\n</div>\n'
    },
    4287: function(e, t) {
        e.exports = '    <h3><%- Localizer.localize(\'label_strokes_rowing\') %></h3>\n\n    <% if (activity.summaryDTO.totalNumberOfStrokes) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- activity.summaryDTO.totalNumberOfStrokes %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_total_rowing_strokes\') %></span>\n    </div>\n    <% }                                                     %>\n\n    <% if (activity.summaryDTO.averageStrokeCadence) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- activity.summaryDTO.averageStrokeCadence %> <%- Localizer.localize(\'rowing_cadence_unit\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_stroke_rate\') %></span>\n    </div>\n    <% }                                                     %>\n\n    <% if (activity.summaryDTO.maxStrokeCadence) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- activity.summaryDTO.maxStrokeCadence %> <%- Localizer.localize(\'rowing_cadence_unit\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_stroke_rate\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.summaryDTO.averageStrokeDistance && activity.summaryDTO.averageStrokeDistance > 0) {    %>\n    <% if (useUsersUnitSetting) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDistanceValue(Personalizer.getAverageStrokeDistance(activity.summaryDTO.averageStrokeDistance)) %> <%- Localizer.localize(Personalizer.getStrokeDistanceUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_distance_per_stroke\') %></span>\n    </div>\n    <% } else {  %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDistanceValue(activity.summaryDTO.averageStrokeDistance) %> <%- Localizer.localize(\'distance.meter\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_distance_per_stroke\') %></span>\n    </div>\n    <% } %>\n    <% } %>'
    },
    4288: function(e, t) {
        e.exports = "<% if (model) { %>\n<div class=\"data-bit\"><%- Personalizer.formatValueByPrecision(model.value, presentationData.precision) %> <%-\n    Localizer.localize(getLocalizerString(presentationData['unit-label-key'])) %>\n</div>\n<span class=\"data-label\"><%- Localizer.localize(getLocalizerString(presentationData['label-key'])) %>\n    <%= tooltipTemplate %>\n</span>\n<% } %>"
    },
    4289: function(e, t) {
        e.exports = "<h3><%- Localizer.localize('label_connect_iq') %>&#8482;</h3>"
    },
    4290: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_vector_air_aerodynamics\') %></h3>\n\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.formatVectorAirCdA(model.avgCda) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_cda\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit "><%- Personalizer.formatVectorAirCdA(model.minCda) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_best_cda\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.formatWholeNumber(model.avgWattsPerCda) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_watts_per_cda\') %></span>\n    </div>\n</div>'
    },
    4291: function(e, t) {
        e.exports = '<% if (hasNutritionAndHydrationData) { %>\n    <h3><%- Localizer.localize(\'label_nutrition_hydration\') %>\n        <span id="nutrition-hydration-help" class="help-icon has-tooltip" title="<%- Localizer.localize(\'label.te.tip\') %>">\n            <i class="icon-help"></i>\n        </span>\n    </h3>\n\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.caloriesEstimated || 0 %> <%- Localizer.localize(Personalizer.getCalorieUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_caloriesBurned\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.caloriesConsumed || 0 %> <%- Localizer.localize(Personalizer.getCalorieUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_caloriesConsumed\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.caloriesNet || 0 %> <%- Localizer.localize(Personalizer.getCalorieUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_caloriesNet\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.waterEstimated || 0 %> <%- Localizer.localize(\'label_ml\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_waterLoss\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.waterConsumed || 0 %> <%- Localizer.localize(\'label_ml\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_waterConsumed\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.waterNet || 0 %> <%- Localizer.localize(\'label_ml\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_waterNet\') %></span>\n    </div>\n<% } else { %>\n    <h3><%- Localizer.localize(\'label_calories\') %></h3>\n\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.formatWholeNumber(activity.calories) %> <%- Localizer.localize(Personalizer.getCalorieUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_calories\') %></span>\n    </div>\n<% } %>'
    },
    4292: function(e, t) {
        e.exports = "<div class=\"exercise-load-help\">\n    <h4><%- Localizer.localize('exercise_load') %></h4>\n    <h5><%- Localizer.localize('exercise_load_header_message1') %></h5>\n    <h5><%- Localizer.localize('exercise_load_header_message2') %></h5>\n    <p><%- Localizer.localize('exercise_load_message1') %></p>\n    <h5><%- Localizer.localize('exercise_load_header_message3') %></h5>\n    <p><%- Localizer.localize('exercise_load_message2') %></p>\n</div>\n"
    },
    4293: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label.trainingEffect\') %>\n        <span class="help-icon has-tooltip training-effect-help" title="<%- Localizer.localize(\'label.te.tip\') %>">\n            <i class="icon-help"></i>\n        </span>\n    </h3>\n\n    <% _.each(trainingEffectStats, function(trainingEffectStat) { %>\n        <div class="data-block small">\n            <% if(trainingEffectStat.hasChip) { %>\n                <div class="trainingEffectLabelContainer">\n                    <div class="trainingEffectStatChip" style="background:<%- trainingEffectStat.hasChip %>"></div>\n                    <div class="data-bit">\n                        <%- trainingEffectStat.metric %>\n                    </div>\n                </div>\n            <% } else { %>\n                <div class="data-bit">\n                    <%- trainingEffectStat.metric %>\n                </div>\n            <% } %>\n            <span class="data-label"><%- trainingEffectStat.label %>\n                <% if(trainingEffectStat.hasHelpIcon) { %>\n                    <span class="help-icon has-tooltip <%- trainingEffectStat.hasHelpIcon.selectByClass %>" title="<%- Localizer.localize(\'label.te.tip\') %>">\n                        <i class="icon-help"></i>\n                    </span>\n                <% } %>\n            </span>\n        </div>\n    <% }) %>\n</div>\n'
    },
    4294: function(e, t) {
        e.exports = '\x3c!-- Speed Stats --\x3e\n<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_speed\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit"><%- speedModel.maxSpeedOrPace %> <%- speedModel.maxSpeedOrPaceUnit %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_speed\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- speedModel.avgSpeedOrPace %> <%- speedModel.avgSpeedOrPaceUnit %></div>\n        <span class="data-label"><%- speedModel.avgSpeedOrPaceLabel %></span>\n    </div>\n</div>\n\x3c!-- Distance Stats --\x3e\n<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_distance\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit"><%- activity.lapCount %></div>\n        <span class="data-label"><%- Localizer.localize(\'marq_number_laps\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDistance(activity.distance, activity.activityTypeDTO.typeKey, activity.unitOfPoolLength) %> <%- Localizer.localize(Personalizer.getDistanceUnitKey(activity.activityTypeDTO.typeKey, activity.distance, activity.unitOfPoolLength)) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_distance_total\') %></span>\n    </div>\n</div>'
    },
    4295: function(e, t) {
        e.exports = '\x3c!-- Climb Routes Stats --\x3e\n<div class="stat-block">\n    <% if (splitSummaries) { %>\n    <h3><%- Localizer.localize(\'splits.routes\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit"><%- splitSummaries.noOfSplits %></div>\n        <span class="data-label"><%- Localizer.localize(\'total_climb_routes\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- splitSummaries.numClimbsAttempted %></div>\n        <span class="data-label"><%- Localizer.localize(\'climb_attempted\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- splitSummaries.numClimbsCompleted %></div>\n        <span class="data-label"><%- Localizer.localize(\'climb_completed\') %></span>\n    </div>\n    <% if (splitSummaries.numClimbSends) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- splitSummaries.numClimbSends %></div>\n            <span class="data-label"><%- Localizer.localize(\'climb_sends\') %></span>\n        </div>\n    <% } %>\n    <% if (splitSummaries.numFalls) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- splitSummaries.numFalls %></div>\n            <span class="data-label"><%- Localizer.localize(\'climb_falls\') %></span>\n        </div>\n    <% } %>\n    <div class="data-block small">\n        <div class="data-bit"><%- routeMaxDifficulty %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_difficulty\') %></span>\n    </div>\n    <% } %>\n</div>'
    },
    4296: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label.workout.intervals\') %></h3>\n    <% if (time) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDuration(time) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label.workout.intervals.work.time\', activityType) %></span>\n    </div>\n    <% } %>\n\n    <% if (distance) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDistance(distance, activity.activityTypeDTO.typeKey, activity.unitOfPoolLength) %> <%- Localizer.localize(Personalizer.getDistanceUnitKey(activity.activityTypeDTO.typeKey, activity.distance, activity.unitOfPoolLength)) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label.workout.intervals.work.distance\', activityType) %></span>\n    </div>\n    <% } %>\n\n    <% if (pace) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeSpeed(pace, activity.activityTypeDTO.typeKey) %> <%- Localizer.localize(Personalizer.getPaceUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label.workout.intervals.work.pace\', activityType, speedPacelabel) %></span>\n    </div>\n    <% } %>\n</div>'
    },
    4297: function(e, t, i) {
        (t = e.exports = i(33)(!0)).push([e.i, "\n\n.SkiHelp_title__3wmWh {\n    font-size: 20px;\n    font-weight: 600;\n}\n\n.SkiHelp_bodyOne__2aEu9 {\n    font-size: 16px;\n}\n\n.SkiHelp_titleTwo__3Wurm {\n    font-size: 18px;\n}\n\n.SkiHelp_bodyTwo__2B4ku {\n    font-size: 14px;\n}\n\n.SkiHelp_bottomMargin__3AsaN {\n    margin-bottom: 20px;\n}\n\n.SkiHelp_colorCircle__1VulR {\n    padding-top: 2px;\n}\n\n.SkiHelp_colorCircle__1VulR span {\n    border-radius: 50%;\n    display: block;\n    height: 16px;\n    width: 16px;\n}\n\n.SkiHelp_descriptionContainer__5sly2 {\n    display: -webkit-flex;\n    display: flex;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.28/src/components/Ski/SkiHelp.css"],
            names: [],
            mappings: ";;AAAA;IACI,gBAAe;IACf,iBAAgB;CACpB;;AAEA;IACI,gBAAe;CACnB;;AAEA;IACI,gBAAe;CACnB;;AAEA;IACI,gBAAe;CACnB;;AAEA;IACI,oBAAmB;CACvB;;AAEA;IACI,iBAAgB;CACpB;;AAEA;IACI,mBAAkB;IAClB,eAAc;IACd,aAAY;IACZ,YAAW;CACf;;AAEA;IACI,sBAAa;IAAb,cAAa;CACjB",
            file: "SkiHelp.css",
            sourcesContent: [".title {\n    font-size: 20px;\n    font-weight: 600;\n}\n\n.bodyOne {\n    font-size: 16px;\n}\n\n.titleTwo {\n    font-size: 18px;\n}\n\n.bodyTwo {\n    font-size: 14px;\n}\n\n.bottomMargin {\n    margin-bottom: 20px;\n}\n\n.colorCircle {\n    padding-top: 2px;\n}\n\n.colorCircle span {\n    border-radius: 50%;\n    display: block;\n    height: 16px;\n    width: 16px;\n}\n\n.descriptionContainer {\n    display: flex;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            title: "SkiHelp_title__3wmWh",
            bodyOne: "SkiHelp_bodyOne__2aEu9",
            titleTwo: "SkiHelp_titleTwo__3Wurm",
            bodyTwo: "SkiHelp_bodyTwo__2B4ku",
            bottomMargin: "SkiHelp_bottomMargin__3AsaN",
            colorCircle: "SkiHelp_colorCircle__1VulR",
            descriptionContainer: "SkiHelp_descriptionContainer__5sly2"
        }
    },
    4298: function(e, t) {
        e.exports = '<%\n    var activityType = activity.activityTypeDTO.typeKey;\n%>\n<div class="row-fluid">\n    <div class="span3">\n        <div id="timingStatsBreathworkPlaceholder"></div>\n        <div id="timingStatsRepCountingPlaceholder"></div>\n        <div id="divingConservatismStatsPlaceholder"></div>\n        <div id="sessionTotalsStatsPlaceholder"></div>\n        <div id="divingDepthStatsPlaceholder"></div>\n        <div id="divingBottomTimeStatsPlaceholder"></div>\n        <div id="divingN2LoadingStatsPlaceholder"></div>\n        <div id="divingCnsLoadingStatsPlaceholder"></div>\n\n        <div id="autoRacingStatsPlaceholder"></div>\n        <div id="indoorClimbRoutesPlaceholder"></div>\n\n        <% if (showDistanceData) { %>\n        <div class="stat-block activity-distance">\n            <h3><%- Localizer.localize(\'label_distance\') %></h3>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeDistance(activity.distance, activity.activityTypeDTO.typeKey, activity.unitOfPoolLength) %> <%- Localizer.localize(Personalizer.getDistanceUnitKey(activity.activityTypeDTO.typeKey, activity.distance, activity.unitOfPoolLength)) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_distance\') %></span>\n            </div>\n            <% if (activity.poolLength) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizePoolLength(activity.poolLength) %> <%- Localizer.localize(Personalizer.getPoolLengthUnitKey(activity.unitOfPoolLength.unitKey)) %></div>\n                <span class="data-label"><%- Localizer.localize(\'workout.pool.size\') %></span>\n            </div>\n            <% } %>\n        </div>\n        <% } %>\n\n        <% if (hasCalories) { %>\n            <div id="caloriesPlaceholder"></div>\n        <% } %>\n\n        <% if(showRespirationRateData) { %>\n            <div class="stat-block respiration-block">\n                <h3><%- Localizer.localize(\'label_respiration_rate\') %></h3>\n                <div class="data-block small">\n                    <div class="data-bit"><%- Personalizer.personalizeRespiration(activity.avgRespirationRate) %> <%- Localizer.localize(Personalizer.getRespirationUnitKey()) %></div>\n                    <span class="data-label"><%- Localizer.localize(\'label_average_respiration_rate\') %></span>\n                </div>\n                <% if (filteredRespirationRateData.minRespirationRate) { %>\n                    <div class="data-block small">\n                        <div class="data-bit"><%- Personalizer.personalizeRespiration(activity.minRespirationRate) %> <%- Localizer.localize(Personalizer.getRespirationUnitKey()) %></div>\n                        <span class="data-label"><%- Localizer.localize(\'label_min_respiration_rate\') %></span>\n                    </div>\n                <% } %>\n                <% if (filteredRespirationRateData.maxRespirationRate) { %>\n                    <div class="data-block small">\n                        <div class="data-bit"><%- Personalizer.personalizeRespiration(activity.maxRespirationRate) %> <%- Localizer.localize(Personalizer.getRespirationUnitKey()) %></div>\n                        <span class="data-label"><%- Localizer.localize(\'label_max_respiration_rate\') %></span>\n                    </div>\n                <% } %>\n            </div>\n        <% } %>\n\n        <div id="divingSetPointStatsPlaceholder"></div>\n\n        <% if (adaptiveRating && activity.summaryDTO.atpPlanId) { %>\n            <div class="stat-block">\n                <h3><a class="colored" href="<%- url(\'/training-plans/plan/\' + activity.summaryDTO.atpPlanId) %>"><%- Localizer.localize(\'training_plan_title\') %></a></h3>\n                <div class="data-block small">\n                    <div class="data-bit"><%- Localizer.localize(adaptiveRating) %></div>\n                    <span class="data-label"><%- Localizer.localize(\'training_plan_rating_title\') %></span>\n                </div>\n            </div>\n        <% } %>\n\n        <% if (activity.maxGforce) { %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(\'label_g_force\') %></h3>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.formatDecimalNumber(activity.maxGforce, 1, false) %> <%- Localizer.localize(\'g_force_unit\') %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_max_g_force\') %></span>\n            </div>\n        </div>\n        <% } %>\n        <div id="connectIQMeasurementPlaceholder"></div>\n        <div id="vectorAirMeasurementPlaceholder"></div>\n        <div id="executionScoreInfo" class="stat-block"></div>\n        <div id="selfEvaluation"></div>\n    </div>\n    <div class="span3">\n        <div id="trainingEffectStatsPlaceholder"></div>\n        <div id="heartRateStatsPlaceholder"></div>\n        <div id="timingStatsPlaceholder"></div>\n        <div id="divingConditionsPlaceholder"></div>\n    </div>\n    <div class="span3">\n        <div id="waterTemperaturePlaceholder"></div>\n        <div id="divingWeightPlaceholder"></div>\n        <div id="divingExposureSuitPlaceholder"></div>\n        <div id="timingStatsYogaPlaceholder"></div>\n        <div id="timingStatsFloorClimbingPlaceholder"></div>\n        <div id="timingStatsIndoorClimbPlaceholder"></div>\n        <div id="workoutDetailsStatsPlaceholder"></div>\n        <div id="powerStatsPlaceholder"></div>\n        <div id="stressStatsPlaceholder"></div>\n        <% if (activity.elevationGain || activity.elevationLoss) {    %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(Personalizer.getElevationLabelKey(activityType)) %></h3>\n            <% if (showElevationGain) { %>\n                <div class="data-block small">\n                    <div class="data-bit"><%- Personalizer.personalizeElevation(activity.elevationGain) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                    <span class="data-label"><%- Localizer.localize(Personalizer.getElevGainLabelKey(activityType)) %></span>\n                </div>\n            <% } %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(activity.elevationLoss) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getElevLossLabelKey(activityType)) %></span>\n\n            </div>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(activity.minElevation) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getElevMinLabelKey(activityType)) %></span>\n            </div>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(activity.maxElevation) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getElevMaxLabelKey(activityType)) %></span>\n            </div>\n        </div>\n        <% } %>\n        <div id="workoutIntervalsStatsPlaceholder"></div>\n    </div>\n    <div class="span3">\n        <div id="ascentStatsView"></div>\n        <% if (activity.averageBikeCadence || activity.maxBikeCadence) { %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(\'label_bike_cadence\') %></h3>\n            <% if (activity.averageBikeCadence) { %>\n            <div class="data-block small">\n\n                <div class="data-bit"><%- Personalizer.personalizeCadence(activity.averageBikeCadence, activityType) %> <%- Localizer.localize(Personalizer.getCadenceUnitKey(activity.activityTypeDTO.typeKey)) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getAvgCadenceTypeLabelKey(activity.activityTypeDTO.typeKey)) %></span>\n            </div>\n            <% } %>\n            <% if (activity.maxBikeCadence) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeCadence(activity.maxBikeCadence, activityType) %> <%- Localizer.localize(Personalizer.getCadenceUnitKey(activity.activityTypeDTO.typeKey)) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getMaxCadenceTypeLabelKey(activity.activityTypeDTO.typeKey)) %></span>\n            </div>\n            <% } %>\n        </div>\n        <% } %>\n\n        <% if (showCyclingDynamics) { %>\n            <div id="cyclingDynamicsPlaceholder" class="stat-block">\n\n            </div>\n        <% } %>\n\n        <% if (activity.averageRunCadence && !skiDynamics) { %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(Personalizer.getDynamicsLabelKey(activityType)) %>\n                <% if (activity.verticalOscillation || activity.groundContactTime) { %>\n                <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.running.dynamics.label\') %>"></i></span>\n                <% } %>\n            </h3>\n\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeCadence(activity.averageRunCadence, activityType) %> <%- Localizer.localize(Personalizer.getCadenceUnitKey(activity.activityTypeDTO.typeKey)) %></div>\n                <% var cadenceLabel = Localizer.localize(Personalizer.getAvgCadenceTypeLabelKey(activity.activityTypeDTO.typeKey)); %>\n                <span class="data-label"><%- cadenceLabel %>\n                    <span class="help-icon avg-cadence-help"><i class="icon-help has-tooltip" title="<%- getAvgCadenceHelpTooltipText(activity) %>"></i></span>\n                </span>\n            </div>\n\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeCadence(activity.maxRunCadence, activityType) %> <%- Localizer.localize(Personalizer.getCadenceUnitKey(activity.activityTypeDTO.typeKey)) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getMaxCadenceTypeLabelKey(activity.activityTypeDTO.typeKey)) %></span>\n            </div>\n\n            <% if (activity.strideLength) {          %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeAvgStrideLength(activity.strideLength) %> <%- Localizer.localize(Personalizer.getAvgStrideLengthUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_stride_length\') %></span>\n                <span class="help-icon avg-stride-length-help"><i class="icon-help has-tooltip" title="<%- getAvgStrideLengthHelpTooltipText(activity) %>"></i></span>\n            </div>\n            <% } %>\n\n            <% if (activity.verticalRatio) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeVerticalRatio(activity.verticalRatio) %> <%- Localizer.localize(Personalizer.getVerticalRatioUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_vertical_ratio\') %>\n                <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.running.dynamics.avg.ratio.label\') %> <%- Localizer.localize(\'help_running_dynamics_not_including_zeros_standing\', Localizer.localize(\'label_avg_vertical_ratio\')) %>"></i></span>\n            </div>\n            <% }                                                %>\n\n            <% if (activity.verticalOscillation) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeVerticalOscillation(activity.verticalOscillation) %> <%- Localizer.localize(Personalizer.getVerticalOscillationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_vertical_oscillation\') %>\n                <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.running.dynamics.avg.oscillation.label\') %> <%- Localizer.localize(\'help_running_dynamics_not_including_zeros_standing\', Localizer.localize(\'label_avg_vertical_oscillation\')) %>"></i></span>\n            </div>\n            <% }                                                %>\n\n            <% if (activity.groundContactBalanceLeft) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Localizer.localize(Personalizer.getPowerBalanceUnitKey(), Personalizer.formatDecimalNumber(activity.groundContactBalanceLeft, 1), Personalizer.formatDecimalNumber(100 - activity.groundContactBalanceLeft, 1)) %></div>\n                <span class="data-label"><%= Localizer.localize(\'label_avg_gct_balance\') %></span>\n                <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.running.dynamics.gct.balance.tooltip\') %> <%= Localizer.localize(\'help_running_dynamics_not_including_zeros_standing_walking\', Localizer.localize(\'help.running.dynamics.gct.balance\')) %>"></i></span>\n            </div>\n            <% }                                                %>\n\n            <% if (activity.groundContactTime) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeGroundContactTime(activity.groundContactTime) %> <%- Localizer.localize(Personalizer.getGroundContactTimeUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_ground_contact_time\') %>\n                <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.running.dynamics.avg.ground.contact.label\') %> <%- Localizer.localize(\'help_running_dynamics_not_including_zeros_standing_walking\', Localizer.localize(\'help.running.dynamics.gct\')) %>"></i></span>\n            </div>\n            <% }                                                %>\n\n        </div>\n        <% }                    %>\n\n\n        <% if (activity.averageSwimCadence || activity.strokeRate) { %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(\'label_swimming_dynamics\') %></h3>\n\n            <% if (activity.totalNumberOfStrokes) {      %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeStrokes(activity.totalNumberOfStrokes) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_total_swim_strokes\') %></span>\n            </div>\n            <% }                                                    %>\n\n            <% if (activity.averageSwimCadence) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeStrokes(activity.averageSwimCadence) %> <%- Localizer.localize(Personalizer.getStrokeRateUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_stroke_rate\') %></span>\n            </div>\n            <% }                                                    %>\n\n            <% if (activity.maxSwimCadence) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeStrokes(activity.maxSwimCadence) %> <%- Localizer.localize(Personalizer.getStrokeRateUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_max_stroke_rate\') %></span>\n            </div>\n            <% }                                                    %>\n\n            <% if (activity.averageStrokes) {        %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeCadence(activity.averageStrokes, activityType) %>/<%- Localizer.localize(Personalizer.getCadenceUnitKey(activityType)) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getAvgCadenceTypeLabelKey(activity.activityTypeDTO.typeKey)) %></span>\n            </div>\n            <% }                                                    %>\n\n\n            <% if (activity.averageSWOLF) {      %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeSwolf(activity.averageSWOLF) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_swolf\') %>\n                    <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.stats.avgSWOLF.label\') %>"></i></span>\n                </span>\n            </div>\n            <% }                                            %>\n\n        </div>\n        <% }                                                %>\n\n\n        <% if (activity.averageTemperature != null && !isDivingActivity && !isBreathworkActivity) {    %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(\'label_temperature\') %></h3>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeTemperature(activity.averageTemperature) %> <%- Localizer.localize(Personalizer.getTemperatureUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_temp\') %></span>\n            </div>\n\n            <% if (activity.minTemperature != null) {    %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeTemperature(activity.minTemperature) %> <%- Localizer.localize(Personalizer.getTemperatureUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_min_temp\') %></span>\n            </div>\n            <% }                                                     %>\n\n            <% if (activity.maxTemperature != null) {    %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeTemperature(activity.maxTemperature) %> <%- Localizer.localize(Personalizer.getTemperatureUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_max_temp\') %></span>\n            </div>\n            <% }                                                    %>\n        </div>\n        <% }                                                        %>\n\n        <% if (hasStrokesData) { %>\n        <div id="strokesPlaceholder" class="stat-block"></div>\n        <% }  %>\n    </div>\n</div>'
    },
    4299: function(e, t) {
        e.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_stress\') %></h3>\n\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeStress(stressChange) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_stress_change\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeStress(startStress) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_stress_start_level\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeStress(endStress) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_stress_end_level\') %></span>\n    </div>\n</div>'
    },
    4300: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(2)
              , r = i(7)
              , s = i.n(r)
              , o = i(8)
              , l = i.n(o)
              , c = i(4)
              , h = i(13)
              , d = i(2513)
              , p = i(2514)
              , u = i(2515)
              , m = i(4983)
              , g = i(4969)
              , f = i(4306)
              , v = i(2518)
              , y = i(220)
              , A = i(1599)
              , _ = i(1271)
              , b = i(1336)
              , C = i(64)
              , w = i(4309)
              , x = i.n(w)
              , S = i(1583)
              , T = {
                DisplayWeightEntryPopup: "DisplayWeightEntryPopup",
                WeightChangedFromSplits: "WeightChangedFromSplits"
            }
              , E = function(e, t) {
                return e.order < t.order ? -1 : e.order > t.order ? 1 : 0
            }
              , L = function(e, t) {
                return void 0 !== s.a.find(t, function(t) {
                    return t.fieldName === e
                })
            }
              , k = function(e) {
                return s.a.max(e, function(e) {
                    return e.order
                }).order
            }
              , P = function(e, t) {
                return s.a.has(e, t) ? s.a.omit(e, t) : s.a.omit(e, function(e, i, a) {
                    return e === t
                })
            }
              , z = function(t) {
                var i = 0
                  , a = t ? t.length : 0;
                if (t && a > 0) {
                    for (var n = s.a.has(t[0], "swimStroke") ? t[0].swimStroke : ""; i < a; i += 1)
                        if (t[i])
                            for (var r in t[i])
                                if ("swimStroke" === r) {
                                    var o = e.trim(t[i][r]).toUpperCase();
                                    if (null !== o && o !== e.trim(n).toUpperCase())
                                        return "MIXED"
                                }
                    return n
                }
                return null
            }
              , I = function(e) {
                return 0 === e.numberOfActiveLengths && 1 === e.lengthDTOs.length
            }
              , D = {
                getActivityTypeString: function(e) {
                    return h.a.getSpeedTypeFromActivityType(e).toUpperCase()
                },
                getSpeedParams: function(e, t, i) {
                    return [e, t, s.a.has(i || {}, "unitKey") ? i.unitKey : null]
                },
                getDistanceParams: function(e, t, i) {
                    return [e, t, i]
                },
                getCadence: function(e, t) {
                    return [e, t]
                },
                getSwimSpeedParams: function(e, t, i) {
                    var a = s.a.has(i || {}, "unitKey") ? i.unitKey : "none";
                    return [e, "meter" === a ? h.a.MeasurementSystems.METRIC : "yard" === a ? h.a.MeasurementSystems.STATUTE_US : void 0]
                }
            }
              , M = {
                splits: {
                    headerClass: "sortable-header-row"
                },
                intervals: {
                    isParent: !0,
                    isParentExpanded: !1,
                    isChildSelected: !1,
                    parentClass: "table-row-parent interval interval-",
                    childClass: "table-row-child length interval-",
                    toggleOpenClass: "table-row-parent-toggle-open",
                    toggleCloseClass: "table-row-parent-toggle-close",
                    subGridModelkey: "lengthDTOs",
                    isRest: !1,
                    restClass: "rest rest-",
                    lapIndex: 0,
                    restIndex: 0
                }
            }
              , B = function(t, i) {
                for (var a = 0, n = [], r = t.length; a < r; a += 1) {
                    var s = t[a];
                    s && s.order > 0 ? n.push(s) : L(s.fieldName, i) && n.push(e.extend(s, {
                        order: k(n) + 1
                    }))
                }
                return n.sort(E),
                n
            }
              , O = function(e) {
                return e ? '<a class="colored" href="#weight-popup" data-toggle="modal">' + c.a.localize("no_weight") + "</a>" : null
            }
              , R = function(t, i, a, n) {
                var r = {}
                  , o = {};
                for (var l in t)
                    if (l || t[l]) {
                        var c = s.a.filter(i, function(e) {
                            return e.fieldName === l
                        });
                        if (c && c.length > 0)
                            for (var d = 0; d < c.length; d += 1)
                                if (c[d].fieldName !== M.intervals.subGridModelkey) {
                                    var p = null;
                                    p = s.a.has(t, c[d].displayLabel) ? t[c[d].displayLabel] : t[l],
                                    c[d].personalizer && p ? r[c[d].displayLabel] = c[d].personalizer.apply(h.a, c[d].personalizerParams ? c[d].personalizerParams(p, a) : [p]) : null === p && c[d].nullCallback && "function" === typeof c[d].nullCallback ? r[c[d].displayLabel] = c[d].nullCallback.call(this, n) : r[c[d].displayLabel] = p
                                }
                    }
                d = 0;
                for (var u = !1, m = i.length; d < m; d += 1)
                    if (i[d]) {
                        for (var g in r)
                            g && e.trim(g).toUpperCase() === e.trim(i[d].displayLabel).toUpperCase() && (o[g] = r[g],
                            u = !0);
                        u || (o[i[d].displayLabel] = null),
                        u = !1
                    }
                return o
            }
              , N = function(t) {
                for (var i = 0, a = t.colModel.length, n = {}, r = !1; i < a; i += 1) {
                    for (var o in t.list) {
                        var l = t.colModel[i].fieldName
                          , c = t.colModel[i].displayLabel
                          , d = e.trim(o).toUpperCase();
                        if (d === e.trim(l).toUpperCase() || d === e.trim(c).toUpperCase())
                            if (r = !0,
                            t.colModel[i].personalizer && t.list[o] > 0)
                                n[c] = t.colModel[i].personalizer.apply(h.a, t.colModel[i].personalizerParams ? t.colModel[i].personalizerParams(t.list[o], t.activityTypeKey, t.poolUnit) : [t.list[o]]);
                            else if (t.isChild && null === t.list[o])
                                switch (o) {
                                case "numberOfActiveLengths":
                                    n.numberOfActiveLengths = 1;
                                    break;
                                default:
                                    c && (n[c] = t.list[o])
                                }
                            else
                                switch (o) {
                                case "lapIndex":
                                    n[l] = t.lapIndex ? t.lapIndex : t.list[o];
                                    break;
                                case "numberOfActiveLengths":
                                    0 !== t.list[o] && null !== t.list[o] || (n.lapIndex = t.restIndex),
                                    c && (n[c] = t.list[o]);
                                    break;
                                case "lengthDTOs":
                                    n.lengthDTOs = t.list[o];
                                    break;
                                default:
                                    c && (n[c] = t.list[o])
                                }
                    }
                    r || (t.isChild ? s.a.contains(["lapIndex", "lengthDTOs"], l) || (n[l] = null) : "swimStroke" !== l || t.isRest ? c && (n[c] = null) : n.swimStroke = t.swimStroke),
                    r = !1
                }
                return n
            }
              , V = function(e, t) {
                var i = 0;
                if (e instanceof Array) {
                    for (var a = 0; a < e.length; a += 1)
                        if (e[a]) {
                            var n = e[a];
                            n.label_cum_time = i + n.duration,
                            i = n.label_cum_time,
                            F(n, t)
                        }
                } else
                    e.label_cum_time = e.duration,
                    t && t > 0 ? (e.label_avg_power_kg = h.a.personalizePowerKg(e.averagePower / t),
                    e.label_max_power_kg = h.a.personalizePowerKg(e.maxPower / t)) : (e.label_avg_power_kg = null,
                    e.label_max_power_kg = null)
            }
              , F = function(e, t) {
                t && t > 0 ? (e.averagePower && e.averagePower > 0 && (e.label_avg_power_kg = h.a.personalizePowerKg(e.averagePower / t),
                "" === e.label_avg_power_kg && (e.label_avg_power_kg = 0)),
                e.maxPower && e.maxPower > 0 && (e.label_max_power_kg = h.a.personalizePowerKg(e.maxPower / t),
                "" === e.label_max_power_kg && (e.label_max_power_kg = 0))) : (e.label_avg_power_kg = null,
                e.label_max_power_kg = null)
            }
              , G = l.a.View.extend({
                template: s.a.template(x.a),
                events: {
                    "click #tab-splits th": "onSplitColumnHeaderClicked",
                    "click tbody > tr": "onRowClicked",
                    "click .table-row-parent-toggle": "onIntervalClicked",
                    'click a[href="#weight-popup"]': "onNoWeightLinkInFooterClicked"
                },
                defaultSettings: {
                    activitySummary: null,
                    isLapSwimming: !1,
                    isSwimmingActivity: !1,
                    isStrengthTrainingActivity: !1,
                    isAutoRacingActivity: !1,
                    isResortSkiActivity: !1,
                    isCrosscountrySkiActivity: !1,
                    lapIndexLabel: "splits",
                    activityTypeKey: null,
                    poolUnit: null,
                    columns: {},
                    colModel: [],
                    footerModel: {},
                    data: [],
                    activityTypedSplits: []
                },
                initialize: function(e) {
                    return this.isOwner = e.isOwner,
                    this.usersWeight = this.isOwner ? e.usersWeight : null,
                    this.connectIQPresentationUtil = null,
                    this.canDisplayVectorAirInfo = e.canDisplayVectorAirInfo,
                    this.parentType = e.parentType,
                    this.hasIntensityIntervals = e.hasIntensityIntervals,
                    this.canViewIntervals = e.canViewIntervals,
                    this.hasTypedSplits = e.hasTypedSplits,
                    this.indoorClimbDifficulty = e.indoorClimbDifficulty,
                    this
                },
                setData: function(t) {
                    this.settings = e.extend(!0, {}, this.defaultSettings);
                    var i = this.settings;
                    i.activityTypeKey = t.activityTypeKey,
                    i.activitySummary = t.activitySummary.attributes,
                    i.isLapSwimming = i.activitySummary.poolLength || i.activitySummary.poolLength > 0,
                    i.poolUnit = i.activitySummary.unitOfPoolLength ? i.activitySummary.unitOfPoolLength : null,
                    i.lapIndexLabel = i.isLapSwimming ? "intervals" : "splits.laps",
                    i.isSwimmingActivity = t.activitySummary.isSwimming(),
                    i.isStrengthTrainingActivity = C.a.isStrengthTrainingActivity(t.activityTypeKey),
                    i.isAutoRacingActivity = C.a.isAutoRacingActivity(t.activityTypeKey),
                    i.isResortSkiActivity = C.a.isResortSkiActivity(t.activityTypeKey),
                    i.isCrosscountrySkiActivity = C.a.isCrosscountrySkiActivity(t.activityTypeKey) || C.a.isSkateSkiActivity(t.activityTypeKey),
                    this.activitySummary = t.activitySummary,
                    this.model = e.extend(!0, {}, t.model),
                    this.activityWorkouts = t.activityWorkouts,
                    this.activityTypedSplits = t.activityTypedSplits,
                    this.splitSummaries = t.splitSummaries,
                    this.hasLapIntensityType() ? this.updateModelWithFormattedLapIntensity() : this.updateModelWithActivityWorkouts(this.model, this.activityWorkouts),
                    this.init(this.model.get("lapDTOs")),
                    this.parentType = t.parentType
                },
                hasLapIntensityType: function() {
                    return this.model.get("lapDTOs").find(function(e) {
                        return e.intensityType
                    })
                },
                updateModelWithActivityWorkouts: function(e, t) {
                    t && t.length > 0 && s.a.each(e.get("lapDTOs"), function(e) {
                        var i = e.wktIndex
                          , a = s.a.find(t, function(e) {
                            return e.index === i
                        });
                        if (a) {
                            var n = s.a.find(a.steps, function(t) {
                                return t.stepIndex === e.wktStepIndex
                            });
                            n && (e.intensityType = this.getIntensityLabel(n.intensity))
                        }
                    }, this)
                },
                getIntensityLabel: function(e) {
                    var t = "";
                    if ("ACTIVE" === e && _.a.IntensityTypes[b.a.titleCaseWord(e)])
                        switch (this.parentType) {
                        case _.a.SportTypes.Running:
                        case _.a.SportTypes.Cycling:
                        case _.a.SportTypes.Swimming:
                        case _.a.SportTypes.Strength_Training:
                            t = "sport.type." + this.parentType;
                            break;
                        default:
                            t = "sport.type.other"
                        }
                    else
                        t = "workout.step.type.".concat(e.toLowerCase());
                    return c.a.localize(t)
                },
                updateModelWithFormattedLapIntensity: function() {
                    var e = this;
                    this.model.get("lapDTOs").forEach(function(t) {
                        var i = t.intensityType;
                        t.intensityType = A.a.getIntervalType("INTERVAL_".concat(i), e.parentType)
                    })
                },
                render: function() {
                    (this.$el.html(this.template({
                        Localizer: c.a,
                        colModel: this.settings.colModel,
                        isLapSwimming: this.settings.isLapSwimming,
                        hasIntensityIntervals: this.hasIntensityIntervals,
                        hasTypedSplits: this.hasTypedSplits,
                        canViewIntervals: this.canViewIntervals
                    })),
                    this.renderHeader(),
                    this.renderBody(),
                    this.renderFooter(),
                    this.settings.isLapSwimming) && new f.a({
                        model: this.model,
                        activitySummary: this.activitySummary,
                        el: this.$("#intervals-graphical")
                    }).render();
                    return this.hasTypedSplits ? this.renderSplits() : this.hasIntensityIntervals && this.canViewIntervals && this.renderIntervals(),
                    this
                },
                renderIntervals: function() {
                    this.activityIntervalsTabView = new m.a({
                        el: this.$(".typed-splits-intervals-placeholder"),
                        colModel: this.settings.colModel,
                        data: this.getSplitIntervalsTableData(this.settings.data),
                        footerModel: this.settings.footerModel,
                        splitSummaries: this.getSplitSummaries(),
                        activityTypedSplits: this.getSplitIntervalsTableData(this.settings.activityTypedSplits),
                        activityTypeKey: this.settings.activityTypeKey,
                        parentActivityType: this.parentType
                    }).render()
                },
                renderSplits: function() {
                    this.activityTypedSplitsView = new g.a({
                        el: this.$(".typed-splits-placeholder"),
                        activityTypeKey: this.settings.activityTypeKey,
                        activitySummary: this.settings.activitySummary,
                        activitySplits: this.activityTypedSplits.toJSON(),
                        indoorClimbDifficulty: this.indoorClimbDifficulty
                    }).render()
                },
                getSplitIntervalsTableData: function(e) {
                    var t = this
                      , i = [];
                    return e.forEach(function(e) {
                        i.push(R(e, t.settings.colModel, t.settings.activityTypeKey, t.isOwner))
                    }),
                    i
                },
                getSplitSummaries: function() {
                    var e = this
                      , t = {};
                    return this.splitSummaries.forEach(function(i) {
                        var a = i.toJSON()
                          , n = a.splitType;
                        a.intervalIndex = c.a.localize("label_summary"),
                        a.lapIndex = "--",
                        a.type = "--",
                        t[n] = R(a, e.settings.colModel, e.settings.activityTypeKey, e.isOwner)
                    }),
                    t
                },
                init: function(e) {
                    var t, i = this.settings, a = this.activityWorkouts && this.activityWorkouts.length > 0;
                    for (var n in i.footerModel.lapIndex = "label_summary",
                    a && (i.footerModel.intensityType = c.a.localize("workout.stepType.workout")),
                    this.hasIntensityIntervals && this.canViewIntervals && (i.footerModel.intervalIndex = c.a.localize("label_summary"),
                    i.footerModel.lapIndex = "--",
                    i.footerModel.type = "--"),
                    i.activitySummary)
                        n && null !== i.activitySummary[n] && (i.columns[n] = {
                            order: -1,
                            fieldName: t = n,
                            displayLabel: t,
                            class: "",
                            showSortIcon: !1,
                            personalizer: null
                        },
                        i.footerModel[n] = i.activitySummary[n]);
                    e && (this.parseDataFromAPI(e),
                    this.hasIntensityIntervals && this.canViewIntervals && this.parseTypedSplitsData()),
                    this.hasIntensityIntervals && this.canViewIntervals ? i.colModel = B(A.a.getMasterColumnConfig({
                        isSwimmingActivity: i.isSwimmingActivity,
                        activityTypeKey: this.settings.activityTypeKey,
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo,
                        personalizerParams: D,
                        getWeightLink: O()
                    }), i.columns) : i.colModel = B(function(e) {
                        var t = h.a.getSpeedTypeFromActivityType(e.activityTypeKey)
                          , i = h.a.getAvgSwimPaceLabelKey(e.isSwimmingActivity)
                          , a = h.a.getAvgMovingPaceLabelKey()
                          , n = h.a.getMaxSwimPaceLabelKey(e.isSwimmingActivity);
                        t === h.a.SpeedTypes.Speed && (i = h.a.getAvgSpeedLabelKey(),
                        a = h.a.getAvgMovingSpeedLabelKey(),
                        n = h.a.getMaxSpeedLabelKey()),
                        t === h.a.SpeedTypes.Flying && (i = h.a.getAvgFlyingSpeedLabelKey(),
                        a = h.a.getMovingFlyingSpeedLabelKey(),
                        n = h.a.getMaxFlyingSpeedLabelKey());
                        var r = [];
                        if (e.isLapSwimming)
                            r = [{
                                order: 1,
                                fieldName: "lapIndex",
                                displayLabel: e.lapIndexLabel,
                                class: "",
                                personalizer: null
                            }, {
                                order: 2,
                                fieldName: "swimStroke",
                                displayLabel: "label_swim_stroke",
                                class: ""
                            }, {
                                order: 3,
                                fieldName: "numberOfActiveLengths",
                                displayLabel: "label_num_active_length",
                                class: "",
                                personalizer: h.a.personalizePoolLength
                            }, {
                                order: 4,
                                fieldName: "distance",
                                displayLabel: "label_distance",
                                class: "",
                                personalizer: h.a.personalizeDistance,
                                personalizerParams: D.getDistanceParams
                            }, {
                                order: 5,
                                fieldName: "duration",
                                displayLabel: "label_time",
                                class: "",
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 6,
                                fieldName: "duration",
                                displayLabel: "label_cum_time",
                                class: "",
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 7,
                                fieldName: "averageSpeed",
                                displayLabel: i,
                                class: "",
                                personalizer: t === h.a.SpeedTypes.Speed ? h.a.personalizeSwimSpeed : h.a.personalizeSwimPace,
                                personalizerParams: D.getSwimSpeedParams
                            }, {
                                order: 8,
                                fieldName: "maxSpeed",
                                displayLabel: n,
                                class: "",
                                personalizer: t === h.a.SpeedTypes.Speed ? h.a.personalizeSwimSpeed : h.a.personalizeSwimPace,
                                personalizerParams: D.getSwimSpeedParams
                            }, {
                                order: 9,
                                fieldName: "averageSWOLF",
                                displayLabel: "label_avg_swolf",
                                class: "",
                                personalizer: h.a.personalizeSwolf
                            }, {
                                order: 11,
                                fieldName: "averageHR",
                                displayLabel: "label_avg_HR",
                                class: "",
                                personalizer: h.a.personalizeHeartRate
                            }, {
                                order: 12,
                                fieldName: "maxHR",
                                displayLabel: "label_max_HR",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeHeartRate
                            }, {
                                order: 13,
                                fieldName: "totalNumberOfStrokes",
                                displayLabel: "label_total_swim_strokes",
                                class: "",
                                personalizer: h.a.personalizeStrokes
                            }, {
                                order: 14,
                                fieldName: "averageStrokes",
                                displayLabel: "label_avg_swim_strokes",
                                class: "",
                                personalizer: h.a.personalizeStrokes
                            }, {
                                order: 16,
                                fieldName: "calories",
                                displayLabel: "label_calories",
                                class: "",
                                personalizer: h.a.formatWholeNumber
                            }, {
                                order: 17,
                                fieldName: "lengthDTOs"
                            }];
                        else if (e.isStrengthTrainingActivity)
                            r = [{
                                order: 1,
                                fieldName: "lapIndex",
                                displayLabel: e.lapIndexLabel,
                                class: "ascending",
                                showSortIcon: !0,
                                personalizer: null
                            }, {
                                order: 2,
                                fieldName: "duration",
                                displayLabel: "label_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 3,
                                fieldName: "duration",
                                displayLabel: "label_cum_time",
                                class: "",
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 4,
                                fieldName: "averageHR",
                                displayLabel: "label_avg_HR",
                                class: "",
                                personalizer: h.a.personalizeHeartRate
                            }, {
                                order: 5,
                                fieldName: "maxHR",
                                displayLabel: "label_max_HR",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeHeartRate
                            }, {
                                order: 6,
                                fieldName: "calories",
                                displayLabel: "label_calories",
                                class: "",
                                personalizer: h.a.formatWholeNumber
                            }];
                        else if (e.isAutoRacingActivity)
                            r = [{
                                order: 1,
                                fieldName: "lapIndex",
                                displayLabel: "auto_racing_lap_label",
                                class: "ascending",
                                showSortIcon: !0,
                                personalizer: null
                            }, {
                                order: 2,
                                fieldName: "duration",
                                displayLabel: "auto_racing_lap_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.fromSecondsToDuration
                            }, {
                                order: 3,
                                fieldName: "maxSpeed",
                                displayLabel: "label_max_speed",
                                class: "",
                                personalizer: h.a.personalizeSpeed
                            }, {
                                order: 4,
                                fieldName: "averageSpeed",
                                displayLabel: "label_avg_speed",
                                class: "",
                                personalizer: h.a.personalizeSpeed
                            }, {
                                order: 5,
                                fieldName: "distance",
                                displayLabel: "auto_racing_lap_distance",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDistance
                            }];
                        else if (e.isResortSkiActivity)
                            r = [{
                                order: 1,
                                fieldName: "lapIndex",
                                displayLabel: "splits.runs",
                                class: "ascending",
                                showSortIcon: !0,
                                personalizer: null
                            }, {
                                order: 2,
                                fieldName: "duration",
                                displayLabel: "label_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 3,
                                fieldName: "distance",
                                displayLabel: "label_distance",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDistance,
                                personalizerParams: D.getDistanceParams
                            }, {
                                order: 4,
                                fieldName: "elevationLoss",
                                displayLabel: "label_elevation_loss",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeElevation
                            }, {
                                order: 5,
                                fieldName: "maxSpeed",
                                displayLabel: "label_max_speed",
                                class: "",
                                personalizer: h.a.personalizeSpeed
                            }, {
                                order: 6,
                                fieldName: "averageSpeed",
                                displayLabel: "label_avg_speed",
                                class: "",
                                personalizer: h.a.personalizeSpeed
                            }, {
                                order: 7,
                                fieldName: "averageMovingSpeed",
                                displayLabel: "label_avg_moving_speed",
                                class: "",
                                personalizer: h.a.personalizeSpeed,
                                personalizerParams: D.getSpeedParams
                            }, {
                                order: 8,
                                fieldName: "calories",
                                displayLabel: "label_calories",
                                class: "",
                                personalizer: h.a.formatWholeNumber
                            }, {
                                order: 9,
                                fieldName: "averageHR",
                                displayLabel: "label_avg_HR",
                                class: "",
                                personalizer: h.a.personalizeHeartRate
                            }, {
                                order: 10,
                                fieldName: "maxHR",
                                displayLabel: "label_max_HR",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeHeartRate
                            }, {
                                order: 11,
                                fieldName: "duration",
                                displayLabel: "label_cum_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 12,
                                fieldName: "movingDuration",
                                displayLabel: "label_moving_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 13,
                                fieldName: "averageTemperature",
                                displayLabel: "label_avg_temperature",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeTemperature
                            }];
                        else if (e.isCrosscountrySkiActivity)
                            r = [{
                                order: 1,
                                fieldName: "lapIndex",
                                displayLabel: "splits.laps",
                                class: "ascending",
                                showSortIcon: !0,
                                personalizer: null
                            }, {
                                order: 2,
                                fieldName: "duration",
                                displayLabel: "label_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 3,
                                fieldName: "distance",
                                displayLabel: "label_distance",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDistance,
                                personalizerParams: D.getDistanceParams
                            }, {
                                order: 4,
                                fieldName: "duration",
                                displayLabel: "label_cum_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 5,
                                fieldName: "movingDuration",
                                displayLabel: "label_moving_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 6,
                                fieldName: "elevationGain",
                                displayLabel: "label_elevation_gain",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeElevation
                            }, {
                                order: 7,
                                fieldName: "elevationLoss",
                                displayLabel: "label_elevation_loss",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeElevation
                            }, {
                                order: 8,
                                fieldName: "averageSpeed",
                                displayLabel: "label_avg_speed",
                                class: "",
                                personalizer: h.a.personalizeSpeed
                            }, {
                                order: 9,
                                fieldName: "averageMovingSpeed",
                                displayLabel: "label_avg_moving_speed",
                                class: "",
                                personalizer: h.a.personalizeSpeed,
                                personalizerParams: D.getSpeedParams
                            }, {
                                order: 10,
                                fieldName: "maxSpeed",
                                displayLabel: "label_max_speed",
                                class: "",
                                personalizer: h.a.personalizeSpeed
                            }, {
                                order: 11,
                                fieldName: "averageHR",
                                displayLabel: "label_avg_HR",
                                class: "",
                                personalizer: h.a.personalizeHeartRate
                            }, {
                                order: 12,
                                fieldName: "maxHR",
                                displayLabel: "label_max_HR",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeHeartRate
                            }, {
                                order: -1,
                                fieldName: "averageRunCadence",
                                displayLabel: "label_avg_ski_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: D.getCadence
                            }, {
                                order: -1,
                                fieldName: "maxRunCadence",
                                displayLabel: "label_max_ski_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: D.getCadence
                            }, {
                                order: -1,
                                fieldName: "strideLength",
                                displayLabel: "label_avg_stride_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeAvgStrideLength
                            }, {
                                order: -1,
                                fieldName: "averagePower",
                                displayLabel: "label_avg_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }, {
                                order: -1,
                                fieldName: "maxPower",
                                displayLabel: "label_max_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }, {
                                order: 13,
                                fieldName: "minTemperature",
                                displayLabel: "label_min_temp",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeTemperature
                            }, {
                                order: 14,
                                fieldName: "maxTemperature",
                                displayLabel: "label_max_temp",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeTemperature
                            }, {
                                order: 15,
                                fieldName: "averageTemperature",
                                displayLabel: "label_avg_temp",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeTemperature
                            }, {
                                order: 16,
                                fieldName: "calories",
                                displayLabel: "label_calories",
                                class: "",
                                personalizer: h.a.formatWholeNumber
                            }];
                        else {
                            var o = h.a.getElevGainLabelKey(e.activityTypeKey)
                              , l = h.a.getElevLossLabelKey(e.activityTypeKey);
                            r = [{
                                order: 1,
                                fieldName: "lapIndex",
                                displayLabel: e.lapIndexLabel,
                                class: "ascending",
                                showSortIcon: !0,
                                personalizer: null
                            }, {
                                order: 2,
                                fieldName: "duration",
                                displayLabel: "label_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 3,
                                fieldName: "duration",
                                displayLabel: "label_cum_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 4,
                                fieldName: "distance",
                                displayLabel: "label_distance",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDistance,
                                personalizerParams: D.getDistanceParams
                            }, {
                                order: -1,
                                fieldName: "averageSpeed",
                                displayLabel: i,
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeSpeed,
                                personalizerParams: D.getSpeedParams
                            }, {
                                order: -1,
                                fieldName: "averageHR",
                                displayLabel: "label_avg_HR",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeHeartRate
                            }, {
                                order: -1,
                                fieldName: "maxHR",
                                displayLabel: "label_max_HR",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeHeartRate
                            }, {
                                order: -1,
                                fieldName: "elevationGain",
                                displayLabel: o,
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeElevation
                            }, {
                                order: -1,
                                fieldName: "elevationLoss",
                                displayLabel: l,
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeElevation
                            }, {
                                order: -1,
                                fieldName: "averageRunCadence",
                                displayLabel: "label_avg_run_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: D.getCadence
                            }, {
                                order: -1,
                                fieldName: "groundContactTime",
                                displayLabel: "label_avg_ground_contact_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeGroundContactTime
                            }, {
                                order: -1,
                                fieldName: "groundContactBalanceLeft",
                                displayLabel: "label_avg_gct_balance",
                                class: "",
                                showSortIcon: !1,
                                personalizer: function(e) {
                                    var t = e
                                      , i = 100 - t;
                                    return c.a.localize(h.a.getPowerBalanceUnitKey(), h.a.formatDecimalNumber(t, 1), h.a.formatDecimalNumber(i, 1))
                                }
                            }, {
                                order: -1,
                                fieldName: "strideLength",
                                displayLabel: "label_avg_stride_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeAvgStrideLength
                            }, {
                                order: -1,
                                fieldName: "verticalOscillation",
                                displayLabel: "label_avg_vertical_oscillation",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeVerticalOscillation
                            }, {
                                order: -1,
                                fieldName: "verticalRatio",
                                displayLabel: "label_avg_vertical_ratio",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeVerticalRatio
                            }, {
                                order: -1,
                                fieldName: "averageStrokeCadence",
                                displayLabel: "label_avg_stroke_rate",
                                class: "",
                                showSortIcon: !1,
                                personalizer: null
                            }, {
                                order: -1,
                                fieldName: "maxStrokeCadence",
                                displayLabel: "label_max_stroke_rate",
                                class: "",
                                showSortIcon: !1,
                                personalizer: null
                            }, {
                                order: -1,
                                fieldName: "averageStrokeDistance",
                                displayLabel: "label_avg_distance_per_stroke",
                                class: "",
                                showSortIcon: !1,
                                personalizer: function(t) {
                                    return h.a.personalizeDistanceValue(h.a.isPaddleBoardingActivity(e.activityTypeKey) ? h.a.convertDistancePerStroke(t) : t)
                                }
                            }],
                            (e.hasWorkoutSplits || e.hasLapIntensityType) && (s.a.each(r, function(e) {
                                e.order > 1 && (e.order = e.order + 1)
                            }),
                            r.splice(1, 0, {
                                order: 2,
                                fieldName: "intensityType",
                                displayLabel: "workout_step_type",
                                footerCellClass: "workout-step-footer",
                                cellClass: "workout-step-cell",
                                class: "workout-step-name",
                                showSortIcon: !1,
                                personalizer: null
                            })),
                            r.push({
                                order: -1,
                                fieldName: "averageBikeCadence",
                                displayLabel: "label_avg_bike_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: D.getCadence
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxBikeCadence",
                                displayLabel: "label_max_bike_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: D.getCadence
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averageSwimCadence",
                                displayLabel: "label_avg_swim_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: D.getCadence
                            }),
                            r.push({
                                order: -1,
                                fieldName: "minSwimCadence",
                                displayLabel: "label_max_swim_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: D.getCadence
                            }),
                            r.push({
                                order: -1,
                                fieldName: "normalizedPower",
                                displayLabel: "label_normalized_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftBalance",
                                displayLabel: "label_left_balance",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeLeftRightBalance
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightBalance",
                                displayLabel: "label_right_balance",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeLeftRightBalance
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftTorqueEffectiveness",
                                displayLabel: "label_left_torque_eff",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeTorqueEffectiveness
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightTorqueEffectiveness",
                                displayLabel: "label_right_torque_eff",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeTorqueEffectiveness
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPedalSmoothness",
                                displayLabel: "label_left_pedal_smoothness",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePedalSmoothness
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPedalSmoothness",
                                displayLabel: "label_right_pedal_smoothness",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePedalSmoothness
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averagePower",
                                displayLabel: "label_avg_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averagePower",
                                displayLabel: "label_avg_power_kg",
                                class: "",
                                showSortIcon: !1,
                                personalizer: null,
                                nullCallback: O
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxPower",
                                displayLabel: "label_max_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxPower",
                                displayLabel: "label_max_power_kg",
                                class: "",
                                showSortIcon: !1,
                                personalizer: null,
                                nullCallback: O
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxPowerTwentyMinutes",
                                displayLabel: "label_max_avg_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "standingTime",
                                displayLabel: "label_cd_total_standing_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeStandingTime
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averageStandingPower",
                                displayLabel: "label_cd_avg_standing_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxStandingPower",
                                displayLabel: "label_cd_max_standing_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "seatedTime",
                                displayLabel: "label_cd_total_seated_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeStandingTime
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averageSeatedPower",
                                displayLabel: "label_cd_avg_seated_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxSeatedPower",
                                displayLabel: "label_cd_max_seated_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhaseStart",
                                displayLabel: "label_cd_l_power_phase_start",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhaseEnd",
                                displayLabel: "label_cd_l_power_phase_end",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhaseStart",
                                displayLabel: "label_cd_r_power_phase_start",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhaseEnd",
                                displayLabel: "label_cd_r_power_phase_end",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhaseArcLength",
                                displayLabel: "label_cd_l_power_phase_arc_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseArcLength
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhaseArcLength",
                                displayLabel: "label_cd_r_power_phase_arc_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseArcLength
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhasePeakStart",
                                displayLabel: "label_cd_l_peak_power_phase_start",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhasePeakEnd",
                                displayLabel: "label_cd_l_peak_power_phase_end",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhasePeakStart",
                                displayLabel: "label_cd_r_peak_power_phase_start",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhasePeakEnd",
                                displayLabel: "label_cd_r_peak_power_phase_end",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhasePeakArcLength",
                                displayLabel: "label_cd_l_peak_power_phase_arc_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseArcLength
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhasePeakArcLength",
                                displayLabel: "label_cd_r_peak_power_phase_arc_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseArcLength
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPlatformCenterOffset",
                                displayLabel: "label_cd_l_pco_average",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePlatformCenterOffset
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPlatformCenterOffset",
                                displayLabel: "label_cd_r_pco_average",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePlatformCenterOffset
                            }),
                            r.push({
                                order: -1,
                                fieldName: "calories",
                                displayLabel: "label_calories",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.formatWholeNumber
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averageTemperature",
                                displayLabel: "label_avg_temperature",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeTemperature
                            }),
                            "open_water_swimming" !== e.activityTypeKey && r.push({
                                order: -1,
                                fieldName: "maxSpeed",
                                displayLabel: n,
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeSpeed,
                                personalizerParams: D.getSpeedParams
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxRunCadence",
                                displayLabel: "label_max_run_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: D.getCadence
                            }),
                            e.canDisplayVectorAirInfo && (r.push({
                                order: -1,
                                fieldName: "avgCda",
                                displayLabel: "cda_unit",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.formatVectorAirCdA
                            }),
                            r.push({
                                order: -1,
                                fieldName: "avgWattsPerCda",
                                displayLabel: "wcda_unit",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.formatWholeNumber
                            })),
                            r.push({
                                order: -1,
                                fieldName: "avgFlow",
                                displayLabel: "label_flow",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.peronalizeMTBFlow
                            }),
                            r.push({
                                order: -1,
                                fieldName: "grit",
                                displayLabel: "label_grit",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.peronalizeMTBGrit
                            }),
                            r.push({
                                order: -1,
                                fieldName: "movingDuration",
                                displayLabel: "label_moving_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averageMovingSpeed",
                                displayLabel: a,
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeSpeed,
                                personalizerParams: D.getSpeedParams
                            })
                        }
                        return r
                    }({
                        isLapSwimming: i.isLapSwimming,
                        isSwimmingActivity: i.isSwimmingActivity,
                        isStrengthTrainingActivity: i.isStrengthTrainingActivity,
                        isAutoRacingActivity: i.isAutoRacingActivity,
                        isResortSkiActivity: i.isResortSkiActivity,
                        isCrosscountrySkiActivity: i.isCrosscountrySkiActivity,
                        lapIndexLabel: i.lapIndexLabel,
                        activityTypeKey: i.activityTypeKey,
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo,
                        hasWorkoutSplits: a,
                        hasLapIntensityType: this.hasLapIntensityType()
                    }), i.columns),
                    i.cellClasses = this.getCellClass(i.colModel),
                    V(i.footerModel, this.usersWeight),
                    i.footerModel = this.getModel(i.footerModel, !1, !1, null, null),
                    i.footerCellClass = this.getFooterCellClass(i.colModel)
                },
                parseDataFromAPI: function(e) {
                    for (var t = 0, i = null, a = null, n = null, r = e.length, o = {}; t < r; t += 1)
                        if (i = e[t] && "function" === typeof e[t].toJSON ? e[t].toJSON() : e[t]) {
                            for (a in i)
                                s.a.has(i, a) && (n = i[a],
                                o[a] = n);
                            this.settings.data.push(o),
                            o = {}
                        }
                },
                parseTypedSplitsData: function() {
                    var e = this;
                    this.activityTypedSplits.forEach(function(t) {
                        e.settings.activityTypedSplits.push(Object(n.a)({}, t.toJSON()))
                    })
                },
                onSplitColumnHeaderClicked: function(t) {
                    t.preventDefault();
                    var i = s.a.find(this.settings.colModel, function(e) {
                        return e.showSortIcon
                    })
                      , n = e("i", t.currentTarget);
                    if (n && n.length > 0 && i) {
                        var r = n.hasClass("icon-pointer-up") ? "descending" : "ascending";
                        i.class += (-1 === i.class.indexOf(" ") ? " " : "") + r,
                        i.class = "ascending" === r ? i.class.replace("descending", "") : i.class.replace("ascending", "")
                    } else {
                        i && (i.class = i.class.replace("descending", "").replace("ascending", ""),
                        i.showSortIcon = !1);
                        var o = s.a.find(this.settings.colModel, function(i) {
                            return e.trim(c.a.localize(i.displayLabel)) === e.trim(e(t.currentTarget).text())
                        });
                        o && (a(o).removeClass("ascending").addClass("ascending"),
                        o.showSortIcon = !0)
                    }
                    this.renderHeader(),
                    this.renderBody(),
                    this.connectIQPresentationUtil && this.renderConnectIQView(this.connectIQPresentationUtil, !0)
                },
                onRowClicked: function(t) {
                    e(t.currentTarget).hasClass("active") ? e(t.currentTarget).removeClass("active") : e(t.currentTarget).addClass("active")
                },
                onIntervalClicked: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget)
                      , a = i.hasClass(M.intervals.toggleOpenClass)
                      , n = "";
                    n = n.concat(".", a ? M.intervals.toggleCloseClass : M.intervals.toggleOpenClass);
                    var r = e(n, i.parent());
                    i.css({
                        display: "none"
                    }),
                    r.css({
                        display: "inline-block"
                    }),
                    function(t, i) {
                        var a = t.parent().parent()
                          , n = a.attr("class").match(/\binterval-(\d+)\b/)[0];
                        if (n) {
                            var r = e(".table-row-child." + n, a.parent());
                            r && s.a.each(r, function(t) {
                                e(t).css({
                                    display: i
                                });
                                var a = e("td", t);
                                a && s.a.each(a, function(t) {
                                    e(t).css({
                                        display: "none" === i ? i : "table-cell"
                                    })
                                })
                            })
                        }
                    }(i, a ? "table-row" : "none")
                },
                renderHeader: function() {
                    var e = this.$("thead", this.$el);
                    if (e && e.length > 0) {
                        e.empty();
                        var t = new d.a({
                            model: this.settings.colModel,
                            isLapSwimming: this.settings.isLapSwimming,
                            settings: this.settings.isLapSwimming ? M.intervals : M.splits
                        });
                        e.append(t.render().el)
                    }
                },
                renderBody: function() {
                    var t = this.$("tbody");
                    if (t && t.length) {
                        this.stopListening(),
                        e("tr", t).remove();
                        var i = function(e, t) {
                            var i = s.a.find(t, function(e) {
                                return s.a.has(e, "showSortIcon") && e.showSortIcon
                            });
                            i && e.sort(function(e, t) {
                                var a = i.fieldName;
                                if (i.class.indexOf("ascending") > -1) {
                                    if (e[a] < t[a])
                                        return -1;
                                    if (e[a] > t[a])
                                        return 1
                                } else {
                                    if (e[a] > t[a])
                                        return -1;
                                    if (e[a] < t[a])
                                        return 1
                                }
                                return 0
                            });
                            return e
                        }(this.settings.data, this.settings.colModel)
                          , a = 0
                          , n = 1
                          , r = 1
                          , o = {}
                          , l = i.length;
                        for (V(i, this.usersWeight); a < l; a += 1) {
                            var c = i[a]
                              , h = I(c)
                              , d = this.getModel(c, !1, h, n, r);
                            h ? (r += 1,
                            o = e.extend({}, M.intervals, {
                                isRest: !0,
                                restIndex: r,
                                lapIndex: n
                            }),
                            d.label_swim_stroke = "REST",
                            d.lapIndex = "") : (n += 1,
                            o = e.extend({}, M.intervals, {
                                restIndex: r,
                                lapIndex: n
                            }));
                            var p = this.getRow(P(d, M.intervals.subGridModelkey), this.settings.isLapSwimming ? o : M.splits);
                            t.append(p.render().el),
                            !h && this.settings.isLapSwimming && s.a.has(d, M.intervals.subGridModelkey) && this.renderIntervalChildRow(d, t, n)
                        }
                    }
                },
                renderFooter: function() {
                    if (this.settings.footerModel) {
                        var e = this.$("tfoot");
                        e && e.length && e.remove();
                        var t = this.$("table");
                        t && t.length && t.append(new u.a({
                            model: P(this.settings.footerModel, M.intervals.subGridModelkey),
                            isLapSwimming: this.settings.isLapSwimming,
                            isAutoRacingActivity: this.settings.isAutoRacingActivity,
                            isResortSkiActivity: this.settings.isResortSkiActivity,
                            isCrosscountrySkiActivity: this.settings.isCrosscountrySkiActivity,
                            cellClass: this.settings.footerCellClass
                        }).render().el)
                    }
                },
                setAndApplyWeight: function(e) {
                    this.usersWeight && this.usersWeight === e || (this.usersWeight = e,
                    this.init(),
                    this.renderBody(),
                    this.renderFooter())
                },
                noWeightCallback: function(e) {
                    this.setAndApplyWeight(e),
                    this.trigger(T.WeightChangedFromSplits, e)
                },
                onNoWeightLinkInFooterClicked: function(e) {
                    e.preventDefault(),
                    e.stopPropagation(),
                    this.trigger(T.DisplayWeightEntryPopup, {
                        context: this,
                        successCallback: this.noWeightCallback
                    }, this)
                },
                getModel: function(e, t, i, a, n) {
                    return this.settings.isLapSwimming ? N({
                        list: e,
                        colModel: this.settings.colModel,
                        activityTypeKey: this.settings.activityTypeKey,
                        isChild: t || !1,
                        isRest: i || !1,
                        swimStroke: i ? "" : z(e.lengthDTOs),
                        lapIndex: a,
                        restIndex: n,
                        poolUnit: this.settings.poolUnit
                    }) : R(e, this.settings.colModel, this.settings.activityTypeKey, this.isOwner)
                },
                getRow: function(e, t) {
                    var i = new p.a({
                        model: e,
                        isLapSwimming: this.settings.isLapSwimming,
                        settings: t,
                        cellClass: this.settings.cellClasses
                    });
                    return this.listenTo(i, p.a.Events.DisplayWeightEntryPopup, function(e) {
                        this.trigger(T.DisplayWeightEntryPopup, e)
                    }, this),
                    this.listenTo(i, p.a.Events.WeightChangedFromSplitsRow, function(e) {
                        this.noWeightCallback(e)
                    }, this),
                    i
                },
                getCellClass: function() {
                    for (var e = {}, t = this.settings.colModel.length, i = 0; i < t; i++)
                        this.settings.colModel[i].cellClass && (e["" + i] = this.settings.colModel[i].cellClass);
                    return e
                },
                getFooterCellClass: function() {
                    for (var e = {}, t = this.settings.colModel.length, i = 0; i < t; i++)
                        this.settings.colModel[i].footerCellClass && (e["" + i] = this.settings.colModel[i].footerCellClass);
                    return e
                },
                renderIntervalChildRow: function(e, t, i) {
                    var a = {
                        isParent: !1,
                        isParentExpanded: !1,
                        isChildSelected: !1,
                        childClass: M.intervals.childClass,
                        parentIndex: i,
                        childCount: e.lengthDTOs.length - 1,
                        childIndex: 0
                    }
                      , n = null
                      , r = e.lengthDTOs
                      , s = 0
                      , o = r.length;
                    for (V(r, this.usersWeight); s < o; s += 1)
                        if (r[s]) {
                            a.childIndex = s,
                            n = N({
                                list: r[s],
                                colModel: this.settings.colModel,
                                activityTypeKey: this.settings.activitySummary,
                                isChild: !0,
                                poolUnit: this.settings.poolUnit
                            });
                            var l = this.getRow(n, a);
                            t.append(l.render().el)
                        }
                },
                renderConnectIQView: function(e, t) {
                    this.connectIQPresentationUtil = e;
                    var i = this.connectIQPresentationUtil.getVisibleAndSortedCollection(this.model.get("lapDTOs"), this.connectIQPresentationUtil.VisibilityArea.lap);
                    if (i && !s.a.isEmpty(i)) {
                        var a = function(e) {
                            var t = [];
                            if (e)
                                for (var i in e) {
                                    var a = e[i];
                                    if (a && a.data)
                                        for (var n = 0, r = a.data.length; n < r; n += 1)
                                            if (a.data[n]) {
                                                var o = s.a.find(a.fitContributionsJSON.datafields, function(e) {
                                                    return e.id === a.data[n].developerFieldNumber
                                                })
                                                  , l = new v.a(a.data[n]);
                                                o && t.push({
                                                    order: -1,
                                                    fieldName: a.data[n].developerFieldNumber,
                                                    displayLabel: a.getLocalizerString(o["label-key"]),
                                                    class: "",
                                                    showSortIcon: !1,
                                                    personalizer: h.a.formatValueByPrecision,
                                                    displayInfo: o,
                                                    helpTooltipTemplate: l.getHelpTooltipTemplate(a)
                                                })
                                            }
                                }
                            return t
                        }(i);
                        if (a && a.length > 0)
                            for (var n = this.$("thead tr"), r = this.$("tbody"), o = this.$("tfoot tr"), l = 0, d = a.length; l < d; l += 1)
                                a[l] && (n.append("<th>" + c.a.localize(a[l].displayLabel) + a[l].helpTooltipTemplate + "</th>"),
                                this.renderCIQBody(i, a[l], r),
                                t || o.append("<td>--</td>"));
                        y.a.renderTooltips.call(this)
                    }
                },
                renderCIQBody: function(t, i, a) {
                    var n, r, o = e("tr:first", a);
                    if (a && a.length > 0 && (n = s.a.find(t, function(e) {
                        return i.displayLabel.indexOf(e.getAppId()) > -1
                    }),
                    n = s.a.find(n.data, function(e) {
                        return !(!e || !e.developerFieldNumber) && e.developerFieldNumber === i.fieldName
                    })))
                        for (var l = 0, c = n.values.length; l < c; l += 1)
                            (r = n.values[l]) && o && o.length > 0 && (o.append("<td>" + i.personalizer.apply(h.a, [r, i.displayInfo.precision]) + "</td>"),
                            o = o.next())
                },
                exportToCSV: function() {
                    var e = this.$("table")[0];
                    Object(S.a)(e, "activity_".concat(this.settings.activitySummary.activityId, ".csv"))
                }
            });
            G.Events = T,
            t.a = G
        }
        ).call(this, i(10), i(10))
    },
    4301: function(e, t, i) {
        var a = i(4302);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(35)(a, n);
        a.locals && (e.exports = a.locals)
    },
    4302: function(e, t, i) {
        (t = e.exports = i(33)(!0)).push([e.i, "\n\n.ActivityIntervals_intervalsFilterContainer__19Knk {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-align-items: center;\n            align-items: center;\n    width: 200px;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n}\n\n.ActivityIntervals_intervalsFilter__10tNE {\n    width: 60%;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.28/src/Activity/ActivityIntervals/ActivityIntervals.css"],
            names: [],
            mappings: ";;AAAA;IACI,sBAAa;IAAb,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;IACnB,aAAY;IACZ,uCAA8B;YAA9B,+BAA8B;CAClC;;AAEA;IACI,WAAU;CACd",
            file: "ActivityIntervals.css",
            sourcesContent: [".intervalsFilterContainer {\n    display: flex;\n    align-items: center;\n    width: 200px;\n    justify-content: space-between;\n}\n\n.intervalsFilter {\n    width: 60%;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            intervalsFilterContainer: "ActivityIntervals_intervalsFilterContainer__19Knk",
            intervalsFilter: "ActivityIntervals_intervalsFilter__10tNE"
        }
    },
    4303: function(e, t) {
        e.exports = '<div class="activity-intervals-tab-content-placeholder"></div>'
    },
    4304: function(e, t, i) {
        (t = e.exports = i(33)(!0)).i(i(276), void 0),
        t.push([e.i, ".ActivitySplits_splitsTab__24tMx {\n    display: block;\n    width: 100%;\n    overflow-x: scroll;\n    padding-bottom: 10px;\n}\n.ActivitySplits_ascent__ulfi- {\n    display: inline-block;\n    padding: 0 20px;\n}\n.ActivitySplits_ascent__ulfi-:after {\n    content: '';\n    display: inline-block;\n    margin-top: 0.6em;\n    width: 0.6em;\n    height: 0.6em;\n    border-top: 0.3em solid " + i(276).locals.red_primary + ";\n    border-right: 0.3em solid " + i(276).locals.red_primary + ";\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg);\n}\n.ActivitySplits_descent__2bSep {\n    display: inline-block;\n    padding: 0 20px;\n}\n.ActivitySplits_descent__2bSep:after {\n    content: '';\n    display: inline-block;\n    margin-top: 0.6em;\n    width: 0.6em;\n    height: 0.6em;\n    border-top: 0.3em solid " + i(276).locals.blue_primary + ";\n    border-right: 0.3em solid " + i(276).locals.blue_primary + ";\n    -webkit-transform: rotate(135deg);\n            transform: rotate(135deg);\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.28/src/Activity/ActivitySplits/ActivitySplits.css"],
            names: [],
            mappings: "AAEA;IACI,eAAc;IACd,YAAW;IACX,mBAAkB;IAClB,qBAAoB;CACxB;AAEA;IACI,sBAAqB;IACrB,gBAAe;CACnB;AAEA;IACI,YAAW;IACX,sBAAqB;IACrB,kBAAiB;IACjB,aAAY;IACZ,cAAa;IACb,oDAAmC;IACnC,sDAAqC;IACrC,kCAAyB;YAAzB,0BAAyB;CAC7B;AAEA;IACI,sBAAqB;IACrB,gBAAe;CACnB;AAEA;IACI,YAAW;IACX,sBAAqB;IACrB,kBAAiB;IACjB,aAAY;IACZ,cAAa;IACb,oDAAoC;IACpC,sDAAsC;IACtC,kCAAyB;YAAzB,0BAAyB;CAC7B",
            file: "ActivitySplits.css",
            sourcesContent: ["@value (red_primary, blue_primary) from 'ui-connect/styles/colors.module.css';\n\n.splitsTab {\n    display: block;\n    width: 100%;\n    overflow-x: scroll;\n    padding-bottom: 10px;\n}\n\n.ascent {\n    display: inline-block;\n    padding: 0 20px;\n}\n\n.ascent:after {\n    content: '';\n    display: inline-block;\n    margin-top: 0.6em;\n    width: 0.6em;\n    height: 0.6em;\n    border-top: 0.3em solid red_primary;\n    border-right: 0.3em solid red_primary;\n    transform: rotate(-45deg);\n}\n\n.descent {\n    display: inline-block;\n    padding: 0 20px;\n}\n\n.descent:after {\n    content: '';\n    display: inline-block;\n    margin-top: 0.6em;\n    width: 0.6em;\n    height: 0.6em;\n    border-top: 0.3em solid blue_primary;\n    border-right: 0.3em solid blue_primary;\n    transform: rotate(135deg);\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            red_primary: "" + i(276).locals.red_primary,
            blue_primary: "" + i(276).locals.blue_primary,
            splitsTab: "ActivitySplits_splitsTab__24tMx",
            ascent: "ActivitySplits_ascent__ulfi-",
            descent: "ActivitySplits_descent__2bSep"
        }
    },
    4305: function(e, t) {
        e.exports = '<div class="react-activity-splits"></div>'
    },
    4306: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(13)
          , c = i(2576)
          , h = i(4307)
          , d = i(4308)
          , p = i.n(d);
        t.a = s.a.View.extend({
            template: n.a.template(p.a),
            events: {},
            initialize: function(e) {
                if (this.activitySummary = e.activitySummary,
                !this.activitySummary)
                    throw "activitySummary required for ExpandedSwimView"
            },
            render: function() {
                var e = h.a.getIntervals(this.activitySummary, this.model);
                this.$el.html(this.template({
                    Localizer: o.a,
                    Personalizer: l.a,
                    intervals: e,
                    sm: c.a
                }))
            }
        })
    },
    4307: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(4)
              , n = i(13);
            t.a = {
                getLengths: function(t) {
                    var i = t.get("lapDTOs")
                      , a = [];
                    return e.each(i, function(e) {
                        e.numberOfActiveLengths && (a = a.concat(e.lengthDTOs))
                    }, this),
                    a
                },
                getIntervals: function(t, i) {
                    var r = 0
                      , s = i.get("lapDTOs")
                      , o = [];
                    return e.each(s, function(i) {
                        var s = this.createNewInterval();
                        o.push(s);
                        var l = t.get("unitOfPoolLength").unitKey
                          , c = n.a.poolUnitKeyToMeasurementSystem(l);
                        s.lengthCount = i.numberOfActiveLengths,
                        s.type = i.distance ? "interval" : "rest",
                        s.duration = n.a.personalizeDuration(i.duration),
                        s.distance = n.a.personalizeSwimDistance(i.distance, c),
                        s.unit = a.a.localize(l),
                        s.lengths = i.lengthDTOs,
                        e.each(i.lengthDTOs, function(e) {
                            e.interval = s
                        }, this),
                        "interval" == s.type && (s.index = r++)
                    }, this),
                    o
                },
                createNewInterval: function() {
                    return {
                        type: null,
                        index: null,
                        duration: null,
                        lengthCount: 0,
                        lengths: []
                    }
                }
            }
        }
        ).call(this, i(7))
    },
    4308: function(e, t) {
        e.exports = '<% for (var i = 0, len = intervals.length; i < len; i++) {     %>\n<%  var interval = intervals[i];                    %>\n    <%  if (interval.type != \'rest\') {                  %>\n    <div class="swim-interval clearfix">\n        <h5 class="top-s interval-title"><%- Localizer.localize(\'swim_interval_num\', interval.index + 1) %><span class="distance"><%- interval.distance %> <%- interval.unit %></span><span class="time"><%- interval.duration %></span></h5>\n        \x3c!--Drill should only have one bubble with total time displayed in it--\x3e\n        <% var swimStroke = interval.lengths[0] ? interval.lengths[0].swimStroke : null %>\n        <%   if (swimStroke === \'DRILL\') {       %>\n        <div class="swim-length drill first last" title="<%- Localizer.localize(sm.mapKey(swimStroke)) %>">\n            <div class="type"><%- Localizer.localize(sm.mapKey(swimStroke)) %></div>\n            <span class="time"><%- interval.duration %></span>\n        </div>\n        <% } else { %>\n        <% var len2 = interval.lengths.length; %>\n        <% for (var j = 0; j < len2; j++) { %>\n        <%  var length = interval.lengths[j];           \n            if(length) { %>\n        <div class="swim-length <%- sm.mapClass(length.swimStroke) %> <%- j == 0 ? \'first\' : \'\' %>  <%- j == len2 - 1 ? \'last\' : \'\' %>" title="<%- Localizer.localize(sm.mapKey(length.swimStroke)) %>">\n            <div class="type"><%- Localizer.localize(sm.mapKey(length.swimStroke)) %></div>\n            <span class="number"><%- j + 1 %></span>\n            <span class="time"><%- Personalizer.formatDecimalNumber(length.duration, 1, false) %></span>\n        </div>\n        <% } %>\n        <% } %>\n        <% } %>\n        <% if (i + 1 < intervals.length && intervals[i + 1].type == \'rest\') {   %>\n        <%  var restInterval = intervals[++i];                                  %>\n        <div class="swim-rest" title="<%- Localizer.localize(\'swim.rest\') %>">\n            <div class="type"><%- Localizer.localize(\'swim.rest\') %></div>\n            <div class="time"><%- restInterval.duration %></div>\n        </div>\n        <% } %>\n\n    </div>\n    <% } %>\n<% } %>'
    },
    4309: function(e, t) {
        e.exports = '<% if (hasTypedSplits) { %>\n    <div class="typed-splits-placeholder"></div>\n<% } else if (hasIntensityIntervals && canViewIntervals) { %>\n    <div class="typed-splits-intervals-placeholder"></div>\n<% } else if (colModel && colModel.length > 0) { %>\n<div id="<%- isLapSwimming? \'tab-intervals\' : \'tab-splits\' %>" class="tab-pane tab-overflow">\n\n    <% if (isLapSwimming) { %>\n    <div class="btn-group btn-group-pill bottom-s" data-toggle="buttons-radio">\n        <button class="btn btn-small active ga-label" data-toggle="tab" data-target="#intervals-table"><%-Localizer.localize(\'label_table\')%></button>\n        <button class="btn btn-small ga-label" data-toggle="tab" data-target="#intervals-graphical"><%-Localizer.localize(\'label_graphical\')%></button>\n    </div>\n    <% } %>\n\n    <div class="tab-content">\n        <div id="intervals-table" class="tab-pane active">\n            <table class="table clickable-table <%- isLapSwimming? \'intervals-table\' : \'splits-table\' %>">\n                <thead>\n                </thead>\n                <tbody>\n                </tbody>\n            </table>\n        </div>\n\n    <% if (isLapSwimming) { %>\n        <div id="intervals-graphical" class="tab-pane">\n        </div>\n    <% } %>\n\n\n    </div>\n\n</div>\n<% } else { %>\n<div class="h5 font-thin text-center"><%- Localizer.localize(\'splits.noLaps\') %></div>\n<% } %>\n'
    },
    4310: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(8)
              , s = i.n(r)
              , o = i(13)
              , l = i(4)
              , c = i(4311)
              , h = i(1924)
              , d = i(4313)
              , p = i(26)
              , u = i(17)
              , m = i(4314)
              , g = i.n(m)
              , f = i(4315)
              , v = i.n(f)
              , y = {
                ViewSegmentToggled: "ViewSegmentToggled"
            }
              , A = s.a.View.extend({
                template: n.a.template(g.a),
                events: {
                    "click .create-segment": "onCreateSegmentClicked",
                    "click .match-segment > .match-link:not(.disabled)": "onFindSegmentClicked",
                    "click .segment-match-refresh": "onSegmentMatchRefreshClicked"
                },
                initialize: function(e) {
                    this.activity = e.activity,
                    this.isOwner = e.isOwner,
                    this.segmentMatchTemplate = n.a.template(v.a)
                },
                getIsSegmentMatchActive: function(e) {
                    var t = !1;
                    sessionStorage[e] && (JSON.parse(sessionStorage.getItem(e)).activityId === e && (this.getIsSessionNew(e) ? t = !0 : sessionStorage.removeItem(e)));
                    return t
                },
                getIsSessionNew: function(e) {
                    return Date.now() - JSON.parse(sessionStorage.getItem(e)).start < 3e5
                },
                setData: function(e, t) {
                    this.collection = t,
                    this.activity = {
                        displayName: e.get("metadataDTO").userInfoDto.displayname,
                        privacyTypeKey: e.get("accessControlRuleDTO").typeKey,
                        activityTypeKey: e.get("activityTypeDTO").typeKey,
                        activityId: e.get("activityId")
                    },
                    this.isSegmentMatchActive = this.getIsSegmentMatchActive(this.activity.activityId)
                },
                render: function() {
                    this.isSegmentMatchActive ? this.renderSegmentMatchTemplate() : this.renderActivitySegments()
                },
                renderActivitySegments: function() {
                    if (this.activity && this.activity.activityTypeKey) {
                        var e = this.activity
                          , t = this.isOwner;
                        if (this.collection.length > 0) {
                            var i = []
                              , a = new p.a;
                            this.collection.each(function(t) {
                                var n = new h.a({
                                    activityId: e.activityId,
                                    segmentUuid: t.get("segmentUuid"),
                                    displayName: e.displayName
                                });
                                i.push(n),
                                a.addModel({
                                    model: n,
                                    required: !0
                                })
                            }, this),
                            this.listenTo(a, p.a.Events.SYNCHRONIZED, function() {
                                this.renderSegmentRowViews(this.collection, i, e, t)
                            }),
                            a.fetchModels()
                        } else
                            this.renderSegmentRowViews(this.collection, [], e, t)
                    } else
                        this.$el.html(this.template({
                            Localizer: l.a,
                            Personalizer: o.a,
                            collection: null,
                            isOwner: this.isOwner
                        }))
                },
                renderSegmentMatchTemplate: function() {
                    this.$el.html(this.segmentMatchTemplate({
                        Localizer: l.a,
                        isOwner: this.isOwner
                    }))
                },
                onSegmentMatchRefreshClicked: function() {
                    window.location.reload()
                },
                renderSegmentRowViews: function(t, i, a, r) {
                    this.$el.html(this.template({
                        Localizer: l.a,
                        Personalizer: o.a,
                        collection: this.collection.toJSON() || {},
                        activityTypeKey: this.activity.activityTypeKey,
                        isOwner: this.isOwner,
                        createSegmentUrl: u.default.url("/segment/createFromActivity/".concat(this.activity.activityId))
                    }));
                    var s = e("tbody", this.$el);
                    s && s.length > 0 && n.a.each(i, function(e, i) {
                        var n = new c.a({
                            model: t.at(i),
                            activity: a,
                            isOwner: r,
                            segmentUserLeaderboardModel: e
                        });
                        this.listenTo(n, c.a.Events.ViewSegmentToggled, this.onViewSegmentToggled),
                        s.append(n.render().el)
                    }, this)
                },
                onCreateSegmentClicked: function(e) {
                    e.preventDefault(),
                    s.a.history.navigate("segment/createFromActivity/" + this.activity.activityId, {
                        trigger: !0
                    })
                },
                onFindSegmentClicked: function(e) {
                    var t = this;
                    e.preventDefault();
                    var i = this.activity.activityId;
                    this.segmentMatch = new d.a({
                        activityId: i
                    });
                    var a = {
                        activityId: i,
                        start: Date.now()
                    };
                    sessionStorage.setItem(i, JSON.stringify(a)),
                    this.segmentMatch.save(null, {
                        type: "PUT",
                        error: function() {
                            return t.onRequestSegmentMatch()
                        },
                        success: function() {
                            return t.onRequestSegmentMatch()
                        }
                    })
                },
                onRequestSegmentMatch: function() {
                    this.$(".match-segment").removeClass("colored"),
                    this.$(".match-segment").addClass("disabled"),
                    this.renderSegmentMatchTemplate()
                },
                onViewSegmentToggled: function(e, t) {
                    this.trigger(y.ViewSegmentToggled, e, t)
                }
            });
            A.Events = y,
            t.a = A
        }
        ).call(this, i(10))
    },
    4311: function(e, t, i) {
        "use strict";
        (function(e, a) {
            var n = i(7)
              , r = i.n(n)
              , s = i(8)
              , o = i.n(s)
              , l = i(13)
              , c = i(4)
              , h = i(4312)
              , d = i.n(h)
              , p = {
                ViewSegmentToggled: "ViewSegmentToggled"
            }
              , u = o.a.View.extend({
                template: r.a.template(d.a),
                tagName: "tr",
                events: {
                    "click .favorite-segment-trigger": "onFavoriteClicked",
                    "click .segment-visible": "onViewSegmentToggled"
                },
                initialize: function(e) {
                    this.activity = e.activity,
                    this.isOwner = e.isOwner,
                    this.segmentUserLeaderboardModel = e.segmentUserLeaderboardModel
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: c.a,
                        model: this.getModel(this)
                    })),
                    this
                },
                getModel: function() {
                    var t = this.segmentUserLeaderboardModel.toJSON() || {}
                      , i = this.model || {}
                      , a = this.activity.privacyTypeKey
                      , n = this.activity.activityTypeKey
                      , r = t.bestActivityElapsedTime || void 0
                      , s = t.bestElapsedTime || null;
                    return e.extend({
                        isOwner: this.isOwner,
                        showRank: !0
                    }, function() {
                        if ("public" !== a)
                            return {
                                rank: "",
                                rankCss: "not-qualified icon-locked",
                                rankTooltip: "segment_has_no_public_activity"
                            };
                        var e = t.bestUserRank || null;
                        return null === e || void 0 === e ? {
                            rank: "--",
                            rankCss: "not-qualified",
                            rankTooltip: "segment_not_fastest_time"
                        } : r === s ? e < 4 && r > 0 ? {
                            rank: e,
                            rankCss: "top-three",
                            rankTooltip: "segment_overall_rank"
                        } : {
                            rank: e,
                            rankCss: "",
                            rankTooltip: "segment_overall_rank"
                        } : {
                            showRank: !1
                        }
                    }(), {
                        name: i.get("segmentName"),
                        url: i.get("segmentUuid") || "#",
                        pk: i.get("segmentPk"),
                        fav: i.get("favorite")
                    }, {
                        time: s ? l.a.personalizeDuration(r / 1e3) : "--:--",
                        timeLabel: "activity_duration_unit"
                    }, function() {
                        var e = i.get("segmentDistance") || 0
                          , t = "SPEED" === l.a.getSpeedTypeFromActivityType(n).toUpperCase() ? l.a.getSpeedUnitKey() : l.a.getPaceUnitKey()
                          , a = l.a.calculateSpeed(1e3 * e, r / 1e3);
                        return {
                            pace: l.a.personalizeSpeed(a, n, null) || "--:--",
                            paceLabel: t
                        }
                    }())
                },
                onFavoriteClicked: function(t) {
                    t.preventDefault();
                    var i = e(t.currentTarget)
                      , a = this.model.get("favorite");
                    this.model.set("favorite", !a),
                    a ? (this.model.destroy(),
                    i.removeClass("active")) : (this.model.save(),
                    i.addClass("active"))
                },
                onViewSegmentToggled: function(e) {
                    var t = a(e.currentTarget).find("i")
                      , i = !t.hasClass("active");
                    t.toggleClass("active");
                    var n = t.attr("data-segmentId");
                    this.trigger(p.ViewSegmentToggled, n, i)
                }
            });
            u.Events = p,
            t.a = u
        }
        ).call(this, i(10), i(10))
    },
    4312: function(e, t) {
        e.exports = '    <td class="segment-rank">\n        <% if(model.showRank) { %>\n            <span class="segment-pill has-tooltip <%- model.rankCss %>" title="<%- Localizer.localize(model.rankTooltip, model.rank) %>" data-placement="right"><%- model.rank %></span>\n        <% } else { %>\n            <span class="segment-pill not-qualified has-tooltip" data-placement="right" title="<%- Localizer.localize(\'segment_not_fastest_time\') %>">--</span>\n        <% } %>\n    </td>\n    <td class="segment-name"><a href="/modern/segment/<%- model.url %>" class="colored"><%- model.name %></a></td>\n    <td class="segment-time"><%- model.time + \' \' + Localizer.localize(model.timeLabel) %></td>\n    <td class="segment-pace"><%- model.pace + \' \' + Localizer.localize(model.paceLabel) %></td>\n    <td class="segment-fav">\n        <% if( model.isOwner) { %>\n            <i href="#" class="favorite-segment-trigger icon-star fav <%- model.fav ? \'active\' : \'\' %>" data-segmentpk="<%- model.pk %>"></i>\n        <% } %>\n    </td>\n    <td class="segment-visible"><i class="icon-eye has-tooltip" data-segmentId="<%- model.url %>" title="<%- Localizer.localize(\'activity_show_on_the_map\') %>"></i></td>'
    },
    4313: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a).a.Model.extend({
            url: function() {
                return "/proxy/activity-service/activity/segment/" + this.activityId
            },
            initialize: function(e) {
                if ("undefined" === typeof e.activityId)
                    throw "Segment Match requires an activity ID";
                this.activityId = e.activityId
            }
        });
        t.a = n
    },
    4314: function(e, t) {
        e.exports = '<div class="activity-segments-container">\n    <% if (!collection) { %>\n    <div class="spinner-container">\n        <div class="text-center">\n            <div class="large spinner"><div></div></div>\n        </div>\n        <div class="h5 text-center font-thin"><%- Localizer.localize(\'loading\') %></div>\n    </div>\n    <% } else { %>\n    <% if (isOwner) { %>\n        <div class="activity-segment-actions">\n            <div class="pull-right create-segment left-s bottom-xs"><a href="<%- createSegmentUrl %>" class="colored"><i class="icon-add"></i><%- Localizer.localize(\'create_segment\') %></a></div>\n            <div class="pull-right match-segment bottom-xs"><a href="#" class="match-link colored"><%- Localizer.localize(\'match_segment\') %></a></div>\n        </div>\n    <% } %>\n    <% if (collection && collection.length > 0){ %>\n    <table class="table segments-table">\n        <thead>\n            <tr>\n                <th class="segment-rank"><%- Localizer.localize(\'rank\') %></th>\n                <th class="segment-name"><%- Localizer.localize(\'segment_name\') %></th>\n                <th class="segment-time"><%- Localizer.localize(\'segment_time_label\') %></th>\n                <th class="segment-pace">\n                    <% if(collection.length > 0 && Personalizer.getSpeedTypeFromActivityType(activityTypeKey).toUpperCase() === \'SPEED\') { %>\n                        <%- Localizer.localize(Personalizer.getSpeedLabelKey()) %>\n                    <% } else { %>\n                        <%- Localizer.localize(Personalizer.getPaceLabelKey()) %>\n                    <% } %>\n                </th>\n                <th class="segment-fav">&nbsp;</th>\n                <th class="segment-visible">&nbsp;</th>\n            </tr>\n        </thead>\n        <tbody>\n        </tbody>\n    </table>\n    <% } else { %>\n        <div class="h5 font-thin text-center"><%- Localizer.localize(\'no_segment_text\') %></div>\n    <% } %>\n    <% } %>\n</div>'
    },
    4315: function(e, t) {
        e.exports = '<div class="segment-match-container">\n    <div class="segment-match-actions">\n        <% if (isOwner) { %>\n            <div class="match-segment"><a href="#" class="match-link disabled"><%- Localizer.localize(\'match_segment\') %></a></div>\n            <div class="create-segment left-s bottom-xs"><a href="#" class="colored"><i class="icon-add"></i><%- Localizer.localize(\'create_segment\') %></a></div>\n        <% } %>\n    </div>\n    <div class="segment-match-message">\n        <h5 class="font-thin text-center top-s"><%= Localizer.localize(\'segment_match_message\') %></h5>\n    </div>\n</div>'
    },
    4316: function(e, t, i) {
        "use strict";
        (function(e) {
            var a = i(7)
              , n = i.n(a)
              , r = i(4)
              , s = i(8)
              , o = i.n(s)
              , l = i(26)
              , c = i(18)
              , h = i.n(c)
              , d = i(364)
              , p = i(2002)
              , u = i(2009)
              , m = i(17)
              , g = i(4317)
              , f = i.n(g)
              , v = {
                Error: "Error"
            }
              , y = o.a.View.extend({
                template: n.a.template(f.a),
                events: {
                    "click #power-curve-4-weeks": "on4WeeksClicked",
                    "click #power-curve-3-months": "on3MonthsClicked",
                    "click #power-curve-12-months": "on12MonthsClicked",
                    "click #power-curve-lifetime": "onLifetimeTotalsClicked"
                },
                initialize: function(e) {
                    return this.activityPowerCurve = this.convert(e.activityPowerCurve),
                    this.startDate = (new h.a).subtract(4, "w").format("YYYY-MM-DD"),
                    this.mode = "power-curve-4-weeks",
                    this.lastMode = this.mode,
                    this
                },
                _render: function() {
                    if (0 === this.lifeTimePowerCurveTotals.get("entries").length) {
                        var e = "";
                        switch (this.mode) {
                        case "power-curve-4-weeks":
                            e = r.a.localize("four_weeks");
                            break;
                        case "power-curve-3-months":
                            e = r.a.localize("three_months");
                            break;
                        case "power-curve-12-months":
                            e = r.a.localize("twelve_months");
                            break;
                        default:
                            e = ""
                        }
                        var t = r.a.localize("no_power_data_for_period", e);
                        this.$(".power-curve-message").html(t).show()
                    } else
                        this.$(".power-curve-message").html("").hide();
                    this.reportChartView = new p.a({
                        report: {
                            metricName: ""
                        },
                        metricList: this.activityPowerCurve,
                        lifeTimePowerCurveTotals: this.lifeTimePowerCurveTotals,
                        chartType: "areaspline",
                        chartFormat: "page",
                        wattsToggle: "watts-trend",
                        metricPeriod: r.a.localize("activity"),
                        userPreferences: null,
                        viewerUserBiometrics: d.a.toJSON(),
                        startDate: null,
                        el: this.$(".power-curve-chartPlaceholder")
                    }),
                    this.reportChartView.render()
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: r.a,
                        mode: this.mode,
                        url: m.default.url
                    })),
                    this.loadLifeTimeTotals(),
                    this
                },
                loadLifeTimeTotals: function() {
                    var e = (new h.a).add(1, "d").format("YYYY-MM-DD")
                      , t = new l.a;
                    this.lifeTimePowerCurveTotals = new u.a({
                        dataType: "powerCurve",
                        startDate: this.startDate,
                        endDate: this.startDate ? e : null
                    }),
                    t.addModel({
                        model: this.lifeTimePowerCurveTotals,
                        required: !0
                    }),
                    this.$(".power-curve-loading-spinner").show(),
                    this.listenTo(t, l.a.Events.SYNCHRONIZED, function() {
                        this._render(),
                        this.$(".power-curve-loading-spinner").hide()
                    }),
                    t.bind(l.a.Events.SYNCHRONIZE_FAILED, function() {
                        this.trigger(v.Error, r.a.localize("power_curve_retry"))
                    }, this),
                    t.fetchModels()
                },
                handleClick: function(t) {
                    t.preventDefault(),
                    this.$(".btn-small").removeClass("active");
                    var i = e(t.currentTarget);
                    this.lastMode = this.mode,
                    this.mode = i.attr("id")
                },
                convert: function(e) {
                    var t = {
                        get: function(e) {
                            return this.entries
                        },
                        entries: []
                    }
                      , i = h()().format("YYYY-MM-DD");
                    return n.a.each(n.a.keys(e.attributes), function(a) {
                        var n = a.indexOf("_")
                          , r = 0;
                        n > -1 && (r = a.substring(n + 1),
                        t.entries.push({
                            duration: r,
                            power: e.get(a),
                            activityDate: i
                        }))
                    }),
                    t
                },
                on4WeeksClicked: function(e) {
                    this.handleClick(e),
                    this.lastMode !== this.mode && (this.startDate = (new h.a).subtract(4, "w").format("YYYY-MM-DD"),
                    this.loadLifeTimeTotals())
                },
                on3MonthsClicked: function(e) {
                    this.handleClick(e),
                    this.lastMode !== this.mode && (this.startDate = (new h.a).subtract(3, "months").format("YYYY-MM-DD"),
                    this.loadLifeTimeTotals())
                },
                on12MonthsClicked: function(e) {
                    this.handleClick(e),
                    this.lastMode !== this.mode && (this.startDate = (new h.a).subtract(1, "y").format("YYYY-MM-DD"),
                    this.loadLifeTimeTotals())
                },
                onLifetimeTotalsClicked: function(e) {
                    this.handleClick(e),
                    this.lastMode !== this.mode && (this.startDate = null,
                    this.loadLifeTimeTotals())
                }
            });
            y.Events = v,
            t.a = y
        }
        ).call(this, i(10))
    },
    4317: function(e, t) {
        e.exports = '<div class="tab-content">\n    <div class="power-curve-buttons">\n        <p><%- Localizer.localize(\'power_curve_compare_info\') %></p>\n        <div class="btn-group btn-group-pill bottom-m" data-toggle="buttons-radio">\n            <button id="power-curve-4-weeks" class="btn btn-small <%- mode === \'power-curve-4-weeks\' ? \'active\' : \'\' %>"><%- Localizer.localize(\'four_weeks\') %></button>\n            <button id="power-curve-3-months" class="btn btn-small <%- mode === \'power-curve-3-months\' ? \'active\' : \'\' %>"><%- Localizer.localize(\'three_months\') %></button>\n            <button id="power-curve-12-months" class="btn btn-small <%- mode === \'power-curve-12-months\' ? \'active\' : \'\' %>"><%- Localizer.localize(\'twelve_months\') %></button>\n            <button id="power-curve-lifetime" class="btn btn-small <%- mode === \'power-curve-lifetime\' ? \'active\' : \'\' %>"><%- Localizer.localize(\'power_curve_all\') %></button>\n        </div>\n        <a class="pull-right colored" href="<%- url(\'/report/-6/cycling/last_four_weeks\') %>"><%- Localizer.localize(\'power_curve_view_report\') %></a>\n    </div>\n    <div class="power-curve-message centered" style="display: hidden;">\n    </div>\n    <span class="power-curve-loading-spinner text-center" style="display: none">\n        <div class="text-center">\n            <div class="large spinner" title=""><div></div></div>\n        </div>\n        \x3c!-- <div class="h5 text-center font-thin"><%- Localizer.localize(\'loading\') %></div> --\x3e\n    </span>\n    <div class="power-curve-chartPlaceholder"></div>\n</div>'
    },
    4318: function(e, t) {
        e.exports = '<div class="pull-left">\n    <div class="list-number"><%- trackNum %></div>\n</div>\n<div class="media-body">\n    <h6 class="media-heading"><%- title %></h6>\n    <span class="data-label bottom-none"><%- songInfoString %></span>\n</div>'
    },
    4319: function(e, t) {
        e.exports = '<h5 class="bottom-xs"><%- Localizer.localize(\'playlist_title\') %></h5>\n<div class="playlist-card">\n    <ul class="media-list"></ul>\n</div>\n<div class="playlist-privacy"><%- Localizer.localize(\'visible_only_you\') %></div>'
    },
    4320: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(4321)
          , c = i.n(l);
        t.a = s.a.View.extend({
            template: n.a.template(c.a),
            renderWithPrecentationData: function(e) {
                this.model = e,
                this.render()
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: o.a,
                    apps: this.model.data
                }))
            }
        })
    },
    4321: function(e, t) {
        e.exports = '<% if (apps) { %>\n    <% for (var i = 0; i < apps.length; i++) { %>\n        <div class="aspect">\n            <div class="aspect-square"></div>\n            <a target="_blank" href="https://apps.garmin.com/en-US/apps/<%- apps[i].appId %>" title="<%- Localizer.localize(\'recorded_with\') %>: <%- apps[i].name %>">\n                <img class="img-responsive aspect-element" alt="<%- apps[i].name %>" src="<%- apps[i].iconUrl %>">\n            </a>\n        </div>\n        <div class="app-name centered">\n            <a href="https://apps.garmin.com/en-US/apps/<%- apps[i].appId %>" target="_blank" class="colored"><%- apps[i].name %></a>\n            \x3c!--<div class="software-version">Software: 2.70.0.0</div> we don\'t have a software version for the app. --\x3e\n            <div class="software-developer"><%- apps[i].developerDisplayName %></div>\n        </div>\n    <% } %>\n<% } %>\n'
    },
    4322: function(e, t) {
        e.exports = '<div class="battery-status">\n    <%- status %>\n    <span class="<%- icon %>"></span>\n</div>'
    },
    4323: function(e, t) {
        e.exports = ""
    },
    4324: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            url: "/modern/preference/enable-vector-air-feature"
        })
    },
    4325: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a);
        t.a = n.a.Model.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/powerCurve"
            },
            initialize: function(e) {
                if ("undefined" === typeof e.activityId)
                    throw "PowerCurve requires an activity ID";
                this.activityId = e.activityId
            }
        })
    },
    4326: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(4)
          , s = i(8)
          , o = i.n(s)
          , l = i(37)
          , c = i(1322)
          , h = i(4327)
          , d = i.n(h)
          , p = o.a.View.extend({
            template: n.a.template(d.a),
            events: {
                "click #re-include": "onIncludeClick",
                "click #powerCurveModal": "onPowerCurveModalClicked"
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: r.a
                })),
                this
            },
            onIncludeClick: function(e) {
                e.preventDefault(),
                this.trigger(u.INCLUDE_ACTIVITY)
            },
            onPowerCurveModalClicked: function(e) {
                e.preventDefault();
                var t = new c.a({
                    content: r.a.localize("power_curve_description") + "<br/><br/>" + r.a.localize("power_curve_description_2") + "<br/><br/>"
                });
                new l.a({
                    view: t,
                    showFooter: !1,
                    showCancelButton: !1,
                    modalTitle: r.a.localize("power_curve_title")
                }).render()
            }
        })
          , u = {
            INCLUDE_ACTIVITY: "INCLUDE_ACTIVITY"
        };
        p.Events = u,
        t.a = p
    },
    4327: function(e, t) {
        e.exports = '<div class="tab-content power-curve-excluded">\n    <div class="text-align-center heading">\n        <%- Localizer.localize(\'power_curve_removed_info\') %>\n        <span class="help-icon">\n            <a id="powerCurveModal" class="colored" data-toggle="modal">\n                <i class="icon-info"></i>\n            </a>\n        </span>\n    </div>\n    <div class="text-align-center sub-heading">\n        <%- Localizer.localize(\'power_curve_re_include\') %>\n    </div>\n    <div class="text-align-center">\n        <button type="button" id="re-include" class="btn btn-small btn-secondary"><%- Localizer.localize(\'power_curve_re_include_label\') %></button>\n    </div>\n</div>'
    },
    4328: function(e, t, i) {
        (t = e.exports = i(33)(!0)).push([e.i, "\n\n.AutoRaceLapTimeChart_componentContainer__18HNN {\n    padding: 1em;\n    /* max-width: 1080px; */\n}\n\n.AutoRaceLapTimeChart_chartContainer__llw3d {\n    width: 100%;\n    height: 250px;\n}\n\n.AutoRaceLapTimeChart_lapTimeTitle__3QVld {\n    font-size: 16px;\n    margin-right: 8px;\n}\n\n.AutoRaceLapTimeChart_button__1SdRK {\n    float: right;\n}\n\n/* Modal */\n\n.AutoRaceLapTimeChart_modalChartContainer__3ICnc {\n    width: 100%;\n    height: 600;\n}\n\n/* Legend */\n\n.AutoRaceLapTimeChart_legendContainer__VyXIH {\n    white-space: nowrap;\n}\n\n.AutoRaceLapTimeChart_legendLabel__1IywS {\n    margin: 5px;\n}\n\n/* Tooltip */\n\n.AutoRaceLapTimeChart_statValue__L2IX8 {\n    font-weight: bold;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.28/src/components/AutoRaceLapTimeChart/AutoRaceLapTimeChart.css"],
            names: [],
            mappings: ";;AAAA;IACI,aAAY;IACZ,wBAAuB;CAC3B;;AAEA;IACI,YAAW;IACX,cAAa;CACjB;;AAEA;IACI,gBAAe;IACf,kBAAiB;CACrB;;AAEA;IACI,aAAY;CAChB;;AAEA,WAAU;;AAEV;IACI,YAAW;IACX,YAAW;CACf;;AAEA,YAAW;;AAEX;IACI,oBAAmB;CACvB;;AAEA;IACI,YAAW;CACf;;AAEA,aAAY;;AAEZ;IACI,kBAAiB;CACrB",
            file: "AutoRaceLapTimeChart.css",
            sourcesContent: [".componentContainer {\n    padding: 1em;\n    /* max-width: 1080px; */\n}\n\n.chartContainer {\n    width: 100%;\n    height: 250px;\n}\n\n.lapTimeTitle {\n    font-size: 16px;\n    margin-right: 8px;\n}\n\n.button {\n    float: right;\n}\n\n/* Modal */\n\n.modalChartContainer {\n    width: 100%;\n    height: 600;\n}\n\n/* Legend */\n\n.legendContainer {\n    white-space: nowrap;\n}\n\n.legendLabel {\n    margin: 5px;\n}\n\n/* Tooltip */\n\n.statValue {\n    font-weight: bold;\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            componentContainer: "AutoRaceLapTimeChart_componentContainer__18HNN",
            chartContainer: "AutoRaceLapTimeChart_chartContainer__llw3d",
            lapTimeTitle: "AutoRaceLapTimeChart_lapTimeTitle__3QVld",
            button: "AutoRaceLapTimeChart_button__1SdRK",
            modalChartContainer: "AutoRaceLapTimeChart_modalChartContainer__3ICnc",
            legendContainer: "AutoRaceLapTimeChart_legendContainer__VyXIH",
            legendLabel: "AutoRaceLapTimeChart_legendLabel__1IywS",
            statValue: "AutoRaceLapTimeChart_statValue__L2IX8"
        }
    },
    4329: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = i(39);
        t.a = n.a.Model.extend({
            initialize: function(e, t) {
                this.activityId = e.activityId
            },
            url: function() {
                var e = Object(r.a)({
                    connectActivityId: this.activityId
                });
                return "/proxy/diving/v1/dive/detail/tanksensor".concat(e)
            }
        })
    },
    4330: function(e, t, i) {
        "use strict";
        var a = i(80)
          , n = i(81)
          , r = i(99)
          , s = i(97)
          , o = i(98)
          , l = i(11)
          , c = i.n(l)
          , h = i(1244)
          , d = i(223)
          , p = i(1254)
          , u = i(219)
          , m = i(30)
          , g = i(45)
          , f = function(e) {
            function t() {
                return Object(a.a)(this, t),
                Object(r.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(o.a)(t, e),
            Object(n.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.typedSplits
                      , i = e.indoorClimbDifficulty
                      , a = Object(p.d)(t)
                      , n = []
                      , r = []
                      , s = []
                      , o = [];
                    a.forEach(function(e) {
                        n.push(e.sends),
                        r.push(e.completed),
                        s.push(e.attempted),
                        o.push("")
                    });
                    var l = {
                        tooltip: {
                            enabled: !1
                        },
                        chart: {
                            type: "bar",
                            animation: !1
                        },
                        title: {
                            text: ""
                        },
                        xAxis: {
                            categories: o
                        },
                        yAxis: {
                            min: 0,
                            title: {
                                text: Object(m.b)("activity:routes_climbed"),
                                style: {
                                    color: g.darkui_accent_3
                                }
                            },
                            tickInterval: 1,
                            stackLabels: {
                                enabled: !0,
                                formatter: function() {
                                    var e = a[this.x].gradeValue;
                                    return Object(p.c)(e.scale, e.valueKey, i)
                                },
                                style: {
                                    color: g.darkui_accent_3,
                                    fontWeight: "normal"
                                },
                                x: 10
                            },
                            gridLineColor: g.darkui_surface_1,
                            labels: {
                                style: {
                                    color: g.darkui_accent_3
                                }
                            }
                        },
                        legend: {
                            reversed: !0,
                            itemStyle: {
                                color: g.darkui_accent_3,
                                fontWeight: "normal",
                                cursor: "default"
                            },
                            itemHoverStyle: {
                                color: g.darkui_accent_3
                            }
                        },
                        plotOptions: {
                            series: {
                                stacking: "normal",
                                states: {
                                    inactive: {
                                        opacity: 1
                                    },
                                    hover: {
                                        enabled: !1
                                    }
                                },
                                events: {
                                    legendItemClick: function() {
                                        return !1
                                    }
                                }
                            }
                        },
                        series: [{
                            name: Object(m.b)("activity:climb_send"),
                            data: n,
                            color: g.green_primary
                        }, {
                            name: Object(m.b)("activity:climb_complete_falls"),
                            data: r,
                            color: g.orange_light_2
                        }, {
                            name: Object(m.b)("activity:climb_attempted"),
                            data: s,
                            color: g.red_light_2
                        }],
                        exporting: {
                            enabled: !1
                        },
                        credits: {
                            enabled: !1
                        }
                    };
                    return c.a.createElement(d.a, this.props, c.a.createElement("div", {
                        className: "padYAxisXS"
                    }, c.a.createElement(h.a, {
                        config: l
                    })))
                }
            }]),
            t
        }(c.a.Component);
        t.a = Object(u.d)(["activity"])(f)
    },
    4331: function(e, t, i) {
        "use strict";
        var a = i(80)
          , n = i(81)
          , r = i(99)
          , s = i(97)
          , o = i(98)
          , l = i(11)
          , c = i.n(l)
          , h = i(1244)
          , d = i(277)
          , p = i(223)
          , u = i(1254)
          , m = i(219)
          , g = i(30)
          , f = i(45)
          , v = function(e) {
            function t() {
                return Object(a.a)(this, t),
                Object(r.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(o.a)(t, e),
            Object(n.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.typedSplits
                      , i = e.indoorClimbDifficulty
                      , a = Object(u.d)(t)
                      , n = []
                      , r = []
                      , s = []
                      , o = [];
                    a.forEach(function(e) {
                        n.push(e.sends),
                        r.push(e.completed),
                        s.push(e.attempted),
                        o.push(Object(u.c)(e.gradeValue.scale, e.gradeValue.valueKey, i))
                    });
                    var l = {
                        tooltip: {
                            enabled: !1
                        },
                        chart: {
                            type: "column",
                            animation: !1
                        },
                        title: {
                            text: ""
                        },
                        xAxis: {
                            title: {
                                text: Object(g.b)("activity:routes_climbed"),
                                style: {
                                    color: f.darkui_accent_3
                                }
                            },
                            categories: o
                        },
                        yAxis: {
                            title: {
                                text: ""
                            },
                            min: 0,
                            tickInterval: 2,
                            stackLabels: {
                                enabled: !1,
                                formatter: function() {
                                    var e = a[this.x].gradeValue;
                                    return Object(u.c)(e.scale, e.valueKey, i)
                                },
                                style: {
                                    color: f.darkui_accent_3,
                                    fontWeight: "normal"
                                },
                                x: 10
                            },
                            gridLineColor: f.darkui_surface_1,
                            labels: {
                                style: {
                                    color: f.darkui_accent_3
                                }
                            }
                        },
                        legend: {
                            reversed: !0,
                            itemStyle: {
                                color: f.darkui_accent_3,
                                fontWeight: "normal",
                                cursor: "default"
                            },
                            itemHoverStyle: {
                                color: f.darkui_accent_3
                            }
                        },
                        plotOptions: {
                            series: {
                                stacking: "normal",
                                states: {
                                    inactive: {
                                        opacity: 1
                                    },
                                    hover: {
                                        enabled: !1
                                    }
                                },
                                events: {
                                    legendItemClick: function() {
                                        return !1
                                    }
                                }
                            }
                        },
                        series: [{
                            name: Object(g.b)("activity:climb_completed"),
                            data: r,
                            color: f.green_primary
                        }, {
                            name: Object(g.b)("activity:climb_attempted"),
                            data: s,
                            color: f.red_light_2
                        }],
                        exporting: {
                            enabled: !1
                        },
                        credits: {
                            enabled: !1
                        }
                    };
                    return c.a.createElement(p.a, this.props, c.a.createElement("div", {
                        className: "padXAxisXS"
                    }, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "climb_route_difficulty"
                    })), c.a.createElement("div", {
                        className: "padYAxisXS"
                    }, c.a.createElement(h.a, {
                        config: l
                    })))
                }
            }]),
            t
        }(c.a.Component);
        t.a = Object(m.c)(["activity"])(v)
    },
    4332: function(e, t, i) {
        var a = i(4333);
        "string" === typeof a && (a = [[e.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(35)(a, n);
        a.locals && (e.exports = a.locals)
    },
    4333: function(e, t, i) {
        (t = e.exports = i(33)(!0)).i(i(1217), void 0),
        t.push([e.i, ".ActivitySmallStats_activitySmallStat__3Yf-N {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-flex-wrap: wrap;\n            flex-wrap: wrap;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n    max-width: 800px;\n}\n.ActivitySmallStats_activityStat__AaSa- {\n    -webkit-flex: 0 1 50%;\n            flex: 0 1 50%;\n    padding-top: 5px;\n    white-space: nowrap;\n}\n@media (min-width: " + i(1217).locals.endMD + ") {\n    .ActivitySmallStats_activityStat__AaSa- {\n        -webkit-flex: 0 1 auto;\n                flex: 0 1 auto;\n        padding: 5px;\n        white-space: nowrap;\n    }\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.28/src/Activity/ActivityDetailSmallStats/ActivitySmallStats.css"],
            names: [],
            mappings: "AAEA;IACI,sBAAa;IAAb,cAAa;IACb,wBAAe;YAAf,gBAAe;IACf,uCAA8B;YAA9B,+BAA8B;IAC9B,iBAAgB;CACpB;AAEA;IACI,sBAAW;YAAX,cAAW;IACX,iBAAgB;IAChB,oBAAmB;CACvB;AAEA;IACI;QACI,uBAAc;gBAAd,eAAc;QACd,aAAY;QACZ,oBAAmB;KACvB;CACJ",
            file: "ActivitySmallStats.css",
            sourcesContent: ["@value (endMD) from 'ui-connect/styles/variables.module.css';\n\n.activitySmallStat {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    max-width: 800px;\n}\n\n.activityStat {\n    flex: 0 50%;\n    padding-top: 5px;\n    white-space: nowrap;\n}\n\n@media (min-width: endMD) {\n    .activityStat {\n        flex: 0 1 auto;\n        padding: 5px;\n        white-space: nowrap;\n    }\n}\n"],
            sourceRoot: ""
        }]),
        t.locals = {
            endMD: "" + i(1217).locals.endMD,
            activitySmallStat: "ActivitySmallStats_activitySmallStat__3Yf-N",
            activityStat: "ActivitySmallStats_activityStat__AaSa-"
        }
    },
    4334: function(e, t) {
        e.exports = '<div class="react-activity-small-stats"></div>'
    },
    4335: function(e, t, i) {
        "use strict";
        var a = i(80)
          , n = i(81)
          , r = i(99)
          , s = i(97)
          , o = i(98)
          , l = i(11)
          , c = i.n(l)
          , h = i(164)
          , d = i(277)
          , p = function(e) {
            function t(e) {
                var i;
                return Object(a.a)(this, t),
                (i = Object(r.a)(this, Object(s.a)(t).call(this, e))).closeMe = function() {
                    var e = i.props.onClose;
                    i.setState({
                        show: !1
                    }),
                    e && e()
                }
                ,
                i.state = {
                    show: !1
                },
                i
            }
            return Object(o.a)(t, e),
            Object(n.a)(t, [{
                key: "componentDidMount",
                value: function() {
                    var e = this
                      , t = this.props.renderTimeoutVal;
                    setTimeout(function() {
                        e.setState({
                            show: !0
                        })
                    }, t)
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.messageKey
                      , i = e.autoClose;
                    return c.a.createElement(h.Notification, {
                        open: this.state.show,
                        onClose: this.closeMe,
                        autoClose: i
                    }, c.a.createElement(d.a, {
                        ns: "activity",
                        tag: "div",
                        content: t
                    }))
                }
            }]),
            t
        }(c.a.Component);
        p.defaultProps = {
            onClose: function() {},
            autoClose: !0,
            renderTimeoutVal: 1e3
        },
        t.a = p
    },
    4336: function(e, t) {
        e.exports = '\x3c!--Page Top--\x3e\n<div class="spinner-container loading-overlay" style="display: none;">\n    <div class="absolute-center">\n        <div class="text-center">\n            <div class="large spinner"><div></div></div>\n        </div>\n        <div class="h5 text-center font-thin"></div>\n    </div>\n</div>\n\n<span id="notification-placeholder"></span>\n\n<div class="activity-page-header row-fluid page-top">\n\n    \x3c!--Page Intro--\x3e\n    <div id="activityIntroViewPlaceholder" class="span8 page-intro"></div>\n\n    \x3c!--Page Navigation--\x3e\n    <div id="activityToolbarViewPlaceholder" class="span4 page-navigation"></div>\n</div>\n\n\x3c!--Page Content--\x3e\n<div class="row-fluid page-content">\n\n    \x3c!--Left Column--\x3e\n\n    <div class="span8">\n\n        \x3c!-- Multisport Nav --\x3e\n        <ul id="multisportNavPlaceholder" class="nav nav-tabs multisport-nav" style="display: none"/>\n\n        \x3c!-- React ActivitySmallStats Summary --\x3e\n        <div id="react-activitySmallStats"></div>\n\n        \x3c!-- Diving --\x3e\n        <div id="divingLogViewPlaceholder" class="row-fluid"></div>\n\n        \x3c!-- Rep Counting Activities --\x3e\n        <div id="repCountingActivityViewPlaceholder" class="row-fluid bottom-s" style="display: none"></div>\n\n        \x3c!-- Map --\x3e\n        <div id="activityMapViewPlaceholder" class="row-fluid bottom-s activity-map"></div>\n\n        \x3c!-- Auto Racing Lap Chart - Is separate from the other charts --\x3e\n        <div id="autoRacingLapChartPlaceholder" class="row-fluid" style="display: none"></div>\n\n        \x3c!-- Climbing Difficulty Chart - Is separate from the other charts --\x3e\n        <div id="climbingDifficultyChartPlaceholder" class="row-fluid" style="display: none"></div>\n\n        \x3c!-- Charts --\x3e\n        <div id="activityChartsViewPlaceholder" class="row-fluid bottom-s"></div>\n\n        <div class="row-fluid">\n\n            <div class="span12">\n\n                \x3c!--tabs--\x3e\n                <ul id="activityTabsViewPlaceholder"></ul>\n\n                \x3c!--tab content--\x3e\n                <div class="tab-content">\n                    <div id="tab-stats" class="tab-pane active activity stats"></div>\n                    <div id="tab-splits" class="tab-pane"></div>\n                    <div id="tab-mtb" class="tab-pane"></div>\n                    <div id="tab-gases-and-tanks" class="tab-pane"></div>\n                    <div id="tab-apnea-dives" class="tab-pane"></div>\n                    <div id="tab-segments" class="tab-pane"></div>\n                    <div id="tab-time-in-zones" class="tab-pane"></div>\n                    <div id="tab-cycling-dynamics" class="tab-pane cycling-dynamics"></div>\n                    <div id="tab-power-curve" class="tab-pane"></div>\n                    <div id="tab-playlist" class="tab-pane"></div>\n                </div>\n            </div>\n\n        </div>\n\n    </div>\n\n    \x3c!--Right Column--\x3e\n    <div class="span4">\n\n        <div class="page-sidebar">\n            <div id="activityYouTubePlaceholder" class="video-container" style="display: none;">\n                <div class="video-outer">\n                </div>\n            </div>\n\n            <div id="activityPhotosPlaceholder"></div>\n\n            <div id="executionScore"></div>\n\n            <div class="react-activity-badges"></div>\n\n            \x3c!-- Activity Playlist --\x3e\n            <div id="activityPlaylistPlaceholder"></div>\n\n            <div class="wrapper-top-container border-wrapper"></div>\n\n            <div id="activityLocationViewPlaceholder"></div>\n\n            \x3c!-- Diving Entry / Exit Lat Long  --\x3e\n            <div id ="entryLocationViewPlaceholder"></div>\n\n            <div id="exitLocationViewPlaceholder"></div>\n\n            <div id="activityBuddyViewPlaceholder"></div>\n\n            <div id="activityEquipmentViewPlaceholder"></div>\n\n            \x3c!-- Daily Note --\x3e\n            <div id="activityNoteViewPlaceholder"></div>\n\n            \x3c!--comment container--\x3e\n            <div id="activityCommentsViewPlaceholder" class="comment-container"></div>\n            \x3c!--end .comment-container--\x3e\n\n            <div id="device-info" class="additional-info top-m device-info"></div>\n\n            <div id="accessory-info" class="additional-info top-m accessory-info"></div>\n\n            <div class="ciq-info top-m"></div>\n\n            <div class="attached-gear top-m text-center" id="attached-gear"></div>\n\n            \x3c!-- Legal --\x3e\n            <div class="legal dense muted top-m" style="display: none;">\n                <p><%- Localizer.localize(\'normalized_power_legal_notice\') %> <a href="http://trainingpeaks.com/"\n                                                                                 class="colored" target="_blank">Peaksware,\n                    LLC</a>.</p>\n            </div>\n            \x3c!-- end Legal --\x3e\n        </div>\n\n    </div>\n\n</div>\n\n<div class="alert bottom-xs alert-error" style="display: none;">\n\n</div>'
    },
    4938: function(e, t, i) {
        "use strict";
        var a = i(2507)
          , n = i(7)
          , r = i.n(n)
          , s = i(8)
          , o = i.n(s)
          , l = i(4)
          , c = i(13)
          , h = i(19)
          , d = i(4272)
          , p = i(64)
          , u = i(1254)
          , m = i(4274)
          , g = i.n(m)
          , f = o.a.View.extend({
            template: r.a.template(g.a),
            initialize: function(e) {
                this.splitSummaries = Object(u.e)(e.splitSummaries)
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    ascent: this.model.get("summaryDTO").floorsClimbed,
                    descent: this.model.get("summaryDTO").floorsDescended,
                    minElevation: this.model.get("summaryDTO").minElevation,
                    maxElevation: this.model.get("summaryDTO").maxElevation,
                    indoorClimbElevationGain: this.splitSummaries[u.b.CLIMB_ACTIVE] && this.splitSummaries[u.b.CLIMB_ACTIVE].elevationGain,
                    indoorClimbMaxAscent: this.splitSummaries[u.b.CLIMB_ACTIVE] && this.splitSummaries[u.b.CLIMB_ACTIVE].maxElevationGain,
                    isIndoorClimbingActivity: p.a.isIndoorClimbingActivity(this.model.get("activityTypeDTO").typeKey) || p.a.isBoulderingActivity(this.model.get("activityTypeDTO").typeKey)
                }))
            }
        })
          , v = i(4275)
          , y = i(4279)
          , A = i(2214)
          , _ = i(4281)
          , b = i.n(_)
          , C = o.a.View.extend({
            template: r.a.template(b.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    time: this.model.get("duration"),
                    elapsedTime: this.model.get("elapsedDuration")
                }))
            }
        })
          , w = i(4282)
          , x = i.n(w)
          , S = o.a.View.extend({
            template: r.a.template(x.a),
            initialize: function(e) {
                this.stats = e.stats,
                this.statsLabel = e.statsLabel,
                this.showStats = !1;
                for (var t = 0; t < this.stats.length; t++)
                    this.stats[t].data && (this.showStats = !0)
            },
            render: function() {
                this.$el.html(this.template({
                    stats: this.stats,
                    statsLabel: this.statsLabel,
                    showStats: this.showStats
                }))
            }
        })
          , T = i(4283)
          , E = i.n(T)
          , L = o.a.View.extend({
            template: r.a.template(E.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    time: this.model.get("duration"),
                    elapsedTime: this.model.get("elapsedDuration"),
                    avgFloorsPerMin: c.a.personalizeFloorClimbingPace(this.model.get("summaryDTO").avgVerticalSpeed),
                    maxFloorsPerMin: c.a.personalizeFloorClimbingPace(this.model.get("summaryDTO").maxVerticalSpeed)
                }))
            }
        })
          , k = i(4284)
          , P = i.n(k)
          , z = o.a.View.extend({
            template: r.a.template(P.a),
            initialize: function(e) {
                this.activity = e.model,
                this.splitSummaries = Object(u.e)(this.activity.splitSummaries)
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    activeClimbDuration: this.splitSummaries[u.b.CLIMB_ACTIVE] && this.splitSummaries[u.b.CLIMB_ACTIVE].duration,
                    restClimbDuration: this.splitSummaries[u.b.CLIMB_REST] && this.splitSummaries[u.b.CLIMB_REST].duration,
                    totalClimbTime: this.activity && this.activity.duration
                })),
                this
            },
            destroy: function() {
                this.off()
            }
        })
          , I = i(4285)
          , D = i.n(I)
          , M = o.a.View.extend({
            template: r.a.template(D.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    time: this.model.get("duration")
                }))
            }
        })
          , B = i(2216)
          , O = i(4286)
          , R = i.n(O)
          , N = o.a.View.extend({
            template: r.a.template(R.a),
            initialize: function(e) {},
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    activity: this.model.toJSON(),
                    Personalizer: c.a,
                    showPositionTab: this.shouldShowPositionTab()
                }))
            },
            shouldShowPositionTab: function() {
                return !("undefined" === typeof this.model.get("standingTime"))
            }
        })
          , V = i(4287)
          , F = i.n(V)
          , G = o.a.View.extend({
            template: r.a.template(F.a),
            initialize: function(e) {
                return this.activity = e.activity,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    activity: this.activity,
                    useUsersUnitSetting: this.useUsersUnitSetting()
                })),
                this
            },
            useUsersUnitSetting: function() {
                return "stand_up_paddleboarding" === this.activity.activityTypeDTO.typeKey
            }
        })
          , H = i(220)
          , U = i(4288)
          , Q = i.n(U)
          , K = o.a.View.extend({
            template: r.a.template(Q.a),
            attributes: function() {
                return {
                    class: function() {
                        return "data-block small"
                    }
                }
            },
            initialize: function(e) {
                this.presentationData = e.presentationData,
                this.getLocalizerString = e.getLocalizerString,
                this.tooltipTemplate = e.tooltipTemplate
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    model: this.model,
                    getLocalizerString: this.getLocalizerString,
                    presentationData: this.presentationData,
                    tooltipTemplate: this.tooltipTemplate
                })),
                H.a.renderTooltips.call(this),
                this
            }
        })
          , W = i(4289)
          , Y = i.n(W)
          , j = o.a.View.extend({
            template: r.a.template(Y.a),
            attributes: function() {
                return {
                    class: function() {
                        return "stat-block"
                    }
                }
            },
            initialize: function(e) {
                return this.connectIQPresentationUtil = e.connectIQPresentationUtil,
                this
            },
            render: function() {
                var e, t, i;
                if (this.$el.html(this.template({
                    Localizer: l.a
                })),
                this.collection)
                    for (var a in this.collection)
                        if (e = this.collection[a])
                            for (var n = 0, s = e.data.length; n < s; n += 1)
                                (i = e.data[n]) && (t = r.a.find(e.fitContributionsJSON.datafields, function(e) {
                                    return e.id === i.developerFieldNumber
                                })) && this.$el.append(new K({
                                    model: i,
                                    presentationData: t,
                                    getLocalizerString: r.a.bind(e.getLocalizerString, e),
                                    tooltipTemplate: this.connectIQPresentationUtil.getHelpTooltipTemplate(e)
                                }).render().el);
                return this
            }
        })
          , $ = i(4290)
          , Z = i.n($)
          , q = o.a.View.extend({
            template: r.a.template(Z.a),
            initialize: function() {
                return this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    model: this.model
                })),
                this
            }
        })
          , X = i(1435)
          , J = i(37)
          , ee = o.a.View.extend({
            initialize: function(e) {},
            render: function() {
                this.helpModalView && this.helpModalView.destroy(),
                this.helpModalView = new X.a({
                    reactComponent: window.NutritionHydrationModal,
                    props: {}
                }),
                new J.a({
                    view: this.helpModalView,
                    showFooter: !1,
                    customClasses: "",
                    modalTitle: l.a.localize("help.title")
                }).render()
            }
        })
          , te = i(4291)
          , ie = i.n(te)
          , ae = o.a.View.extend({
            template: r.a.template(ie.a),
            className: "stat-block",
            events: {
                "click #nutrition-hydration-help": "onNutritionHydrationHelpClicked"
            },
            initialize: function(e) {
                return this.activity = e.activity,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    activity: this.activity,
                    Personalizer: c.a,
                    Localizer: l.a,
                    hasNutritionAndHydrationData: this.hasNutritionAndHydrationData(),
                    nutritionAndHydrationData: this.getNutritionAndHydrationData()
                })),
                this
            },
            getNutritionAndHydrationData: function() {
                var e = "--"
                  , t = "--"
                  , i = "--"
                  , a = "--"
                  , n = "--"
                  , r = "--";
                return (null !== this.activity.calories || void 0 !== this.activity.calories) && this.activity.calories >= 0 && (e = this.activity.calories),
                null !== this.activity.caloriesConsumed && void 0 !== this.activity.caloriesConsumed && this.activity.caloriesConsumed >= 0 && (t = this.activity.caloriesConsumed),
                (null !== this.activity.waterEstimated || void 0 !== this.activity.waterEstimated) && this.activity.waterEstimated >= 0 && (a = this.activity.waterEstimated),
                (null !== this.activity.waterConsumed || void 0 !== this.activity.waterConsumed) && this.activity.waterConsumed >= 0 && (n = this.activity.waterConsumed),
                i = "--" === e ? t : ("--" === t ? 0 : t) - e,
                r = "--" === a ? n : ("--" === n ? 0 : n) - a,
                {
                    caloriesEstimated: this.formatWholeNumber(e),
                    caloriesConsumed: this.formatWholeNumber(t),
                    caloriesNet: this.formatWholeNumber(i),
                    waterEstimated: a,
                    waterConsumed: n,
                    waterNet: r
                }
            },
            formatWholeNumber: function(e) {
                return "--" === e ? e : c.a.formatWholeNumber(e)
            },
            onNutritionHydrationHelpClicked: function(e) {
                e.preventDefault(),
                new ee({}).render()
            },
            hasNutritionAndHydrationData: function() {
                return this.activity.caloriesConsumed || this.activity.waterEstimated || this.activity.waterConsumed
            }
        })
          , ne = (i(2267),
        i(2008))
          , re = i(17)
          , se = i(1908)
          , oe = i(4292)
          , le = i.n(oe)
          , ce = o.a.View.extend({
            template: r.a.template(le.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    NavigationUtil: re.default
                })),
                this.renderVideoPlayer()
            },
            renderVideoPlayer: function() {
                new se.a({
                    width: "100%",
                    sources: [{
                        src: "https://connectvideo.garmin.com/training-plans/amy-parkerson/37516ceb3240.mp4",
                        type: "video/mp4"
                    }],
                    subtitles: []
                })
            }
        })
          , he = i(1329)
          , de = i(4293)
          , pe = i.n(de)
          , ue = o.a.View.extend({
            template: r.a.template(pe.a),
            events: {
                "click .training-effect-help": "onTrainingEffectHelpClicked",
                "click .help-exercise-load": "onExerciseLoadHelpClicked"
            },
            initialize: function(e) {
                this.isYoga = e.isYoga,
                this.isFloorClimbingActivity = e.isFloorClimbingActivity,
                this.isPilatesActivity = e.isPilatesActivity
            },
            render: function() {
                var e = this.template({
                    Localizer: l.a,
                    trainingEffectStats: this.getTrainingEffectStats()
                });
                this.$el.html(e)
            },
            getTrainingEffectStats: function() {
                var e = [];
                if (this.model.has("trainingEffectLabel")) {
                    var t = he.a.getPrimaryBenefit(this.model.get("trainingEffectLabel"));
                    t && t.label && e.push({
                        metric: l.a.localize(t.label),
                        label: l.a.localize("label.te.primary_benefit"),
                        hasChip: t.color,
                        hasHelpIcon: !1
                    })
                }
                if (this.canShowTrainingEffect("trainingEffect")) {
                    var i = c.a.personalizeTrainingEffect(this.model.get("trainingEffect"))
                      , a = (this.model.get("aerobicTrainingEffectMessage"),
                    he.a.getShortFeedbackTitle(this.model.get("trainingEffect")));
                    e.push({
                        metric: i + " " + a,
                        label: l.a.localize("label.aerobic.te"),
                        hasHelpIcon: !1,
                        hasChip: !1
                    })
                }
                if (this.canShowTrainingEffect("anaerobicTrainingEffect")) {
                    var n = c.a.personalizeTrainingEffect(this.model.get("anaerobicTrainingEffect"));
                    this.model.get("anaerobicTrainingEffectMessage"),
                    a = he.a.getShortFeedbackTitle(this.model.get("anaerobicTrainingEffect"));
                    e.push({
                        metric: n + " " + a,
                        label: l.a.localize("label.anaerobic.te"),
                        hasHelpIcon: !1,
                        hasChip: !1
                    })
                }
                return this.model.has("activityTrainingLoad") && e.push({
                    metric: c.a.formatDecimalNumber(this.model.get("activityTrainingLoad")),
                    label: l.a.localize("exercise_load"),
                    hasHelpIcon: {
                        selectByClass: "help-exercise-load"
                    },
                    hasChip: !1
                }),
                e
            },
            canShowTrainingEffect: function(e) {
                return this.model.has(e) && (!this.isYoga || !this.isFloorClimbingActivity || !this.isPilatesActivity)
            },
            onExerciseLoadHelpClicked: function(e) {
                e.preventDefault();
                var t = new ce({});
                new J.a({
                    view: t,
                    showFooter: !1,
                    modalTitle: l.a.localize("epoc_abbr")
                }).render()
            },
            onTrainingEffectHelpClicked: function(e) {
                e.preventDefault(),
                new ne.a({
                    aerobicScore: this.canShowTrainingEffect("trainingEffect") ? this.model.get("trainingEffect") : null,
                    aerobicScoreMessage: this.model.has("aerobicTrainingEffectMessage") ? this.model.get("aerobicTrainingEffectMessage") : null,
                    anaerobicScore: this.canShowTrainingEffect("anaerobicTrainingEffect") ? this.model.get("anaerobicTrainingEffect") : null,
                    anaerobicScoreMessage: this.model.has("anaerobicTrainingEffectMessage") ? this.model.get("anaerobicTrainingEffectMessage") : null,
                    primaryBenefit: this.model.has("trainingEffectLabel") ? he.a.getPrimaryBenefit(this.model.get("trainingEffectLabel")) : null,
                    isWidget: !1
                }).render()
            }
        })
          , me = i(4294)
          , ge = i.n(me)
          , fe = o.a.View.extend({
            template: r.a.template(ge.a),
            initialize: function(e) {
                this.speedModel = e.speedModel,
                this.activity = e.activity
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    speedModel: this.speedModel,
                    activity: this.activity
                })),
                this
            },
            destroy: function() {
                this.off()
            }
        })
          , ve = i(4295)
          , ye = i.n(ve)
          , Ae = o.a.View.extend({
            template: r.a.template(ye.a),
            initialize: function(e) {
                this.splitSummaries = Object(u.e)(e.splitSummaries),
                this.indoorClimbDifficulty = e.indoorClimbDifficulty,
                this.splitSummaries[u.b.CLIMB_ACTIVE] && (this.routeMaxDifficulty = Object(u.c)(this.splitSummaries[u.b.CLIMB_ACTIVE].maxGradeValue.scale, this.splitSummaries[u.b.CLIMB_ACTIVE].maxGradeValue.valueKey, this.indoorClimbDifficulty))
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    splitSummaries: this.splitSummaries[u.b.CLIMB_ACTIVE],
                    routeMaxDifficulty: this.routeMaxDifficulty
                })),
                this
            },
            destroy: function() {
                this.off()
            }
        })
          , _e = i(4296)
          , be = i.n(_e)
          , Ce = {
            running: "Run",
            cycling: "Bike",
            swimming: "Swim"
        }
          , we = o.a.View.extend({
            template: r.a.template(be.a),
            initialize: function(e) {
                this.activityModel = e.activity,
                this.activityTypes = e.activityTypes,
                this.activityTypeKey = this.activityModel.get("activityTypeDTO").typeKey
            },
            render: function() {
                var e = this.model.getActiveIntervalSummary();
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    time: e.get("duration"),
                    distance: e.get("distance"),
                    pace: e.get("averageSpeed"),
                    speedPacelabel: this.getSpeedPaceLabel(),
                    activity: this.activityModel.toJSON(),
                    activityType: this.getParentActivityType()
                }))
            },
            getSpeedPaceLabel: function() {
                return l.a.localize(c.a.getSpeedTypeLabelKey(this.activityTypeKey))
            },
            getParentActivityType: function() {
                var e = this.activityTypes.getParentType(this.activityTypeKey);
                return Ce[e.get("typeKey")] || "other"
            }
        })
          , xe = i(101)
          , Se = i(80)
          , Te = i(81)
          , Ee = i(99)
          , Le = i(97)
          , ke = i(98)
          , Pe = i(11)
          , ze = i.n(Pe)
          , Ie = i(277)
          , De = i(2516)
          , Me = i.n(De)
          , Be = i(45)
          , Oe = function(e) {
            function t() {
                return Object(Se.a)(this, t),
                Object(Ee.a)(this, Object(Le.a)(t).apply(this, arguments))
            }
            return Object(ke.a)(t, e),
            Object(Te.a)(t, [{
                key: "getCadenceRanges",
                value: function() {
                    return [{
                        color: Be.color_705,
                        description: "> 120"
                    }, {
                        color: Be.color_223,
                        description: "90 - 120"
                    }, {
                        color: Be.color_401,
                        description: "60 - 90"
                    }, {
                        color: Be.color_601,
                        description: "30 - 60"
                    }, {
                        color: Be.color_301,
                        description: "0 - 30"
                    }]
                }
            }, {
                key: "render",
                value: function() {
                    return ze.a.createElement(ze.a.Fragment, null, ze.a.createElement("div", {
                        className: "".concat(Me.a.title, " marBottomSM")
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_cadence_help_heading"
                    })), ze.a.createElement("div", {
                        className: "".concat(Me.a.bodyOne, " marBottomSM")
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_cadence_help_description"
                    })), ze.a.createElement("div", {
                        className: "".concat(Me.a.titleTwo, " marBottomSM")
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_zones_heading"
                    })), ze.a.createElement("div", {
                        className: "".concat(Me.a.bodyTwo, " marBottomSM")
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_zones_description"
                    })), this.cadenceRanges(), ze.a.createElement("div", {
                        className: "".concat(Me.a.titleTwo, " marBottomSM")
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_importance_heading"
                    })), ze.a.createElement("div", {
                        className: "".concat(Me.a.bodyTwo, " marBottomSM")
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_importance_description_1"
                    })), ze.a.createElement("div", {
                        className: "".concat(Me.a.bodyTwo, " marBottomSM")
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_importance_description_2"
                    })))
                }
            }, {
                key: "cadenceRanges",
                value: function() {
                    var e = this.getCadenceRanges()
                      , t = e.map(function(e) {
                        return ze.a.createElement("tr", {
                            key: e.color
                        }, ze.a.createElement("td", null, ze.a.createElement("div", {
                            className: Me.a.colorCircle
                        }, ze.a.createElement("span", {
                            style: {
                                backgroundColor: e.color
                            }
                        }))), ze.a.createElement("td", null, e.description))
                    });
                    return ze.a.createElement("table", {
                        className: "marBottomSM"
                    }, ze.a.createElement("thead", null, ze.a.createElement("tr", null, ze.a.createElement("th", {
                        className: "padRightSM"
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_zone"
                    })), ze.a.createElement("th", null, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_range"
                    })))), ze.a.createElement("tbody", null, t))
                }
            }]),
            t
        }(ze.a.Component)
          , Re = o.a.View.extend({
            template: r.a.template("<div></div>"),
            render: function() {
                this.$el.html(this.template({})),
                (new xe.a).renderComponent(Oe, this.$("div")[0], {})
            }
        })
          , Ne = function(e) {
            function t() {
                return Object(Se.a)(this, t),
                Object(Ee.a)(this, Object(Le.a)(t).apply(this, arguments))
            }
            return Object(ke.a)(t, e),
            Object(Te.a)(t, [{
                key: "render",
                value: function() {
                    return ze.a.createElement(ze.a.Fragment, null, ze.a.createElement("div", {
                        className: "".concat(Me.a.title, " marBottomSM")
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_heading"
                    })), ze.a.createElement("div", {
                        className: "".concat(Me.a.bodyOne, " marBottomSM")
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_description"
                    })), ze.a.createElement("div", {
                        className: "".concat(Me.a.titleTwo, " marBottomSM")
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_how_heading"
                    })), ze.a.createElement("div", {
                        className: "".concat(Me.a.bodyTwo, " marBottomSM")
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_how_description"
                    })), ze.a.createElement("div", {
                        className: "".concat(Me.a.titleTwo, " marBottomSM")
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_value_heading"
                    })), ze.a.createElement("div", {
                        className: "".concat(Me.a.bodyTwo, " marBottomSM")
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_value_description_1"
                    })), ze.a.createElement("div", {
                        className: "".concat(Me.a.bodyTwo, " marBottomSM")
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_value_description_2"
                    })))
                }
            }]),
            t
        }(ze.a.Component)
          , Ve = o.a.View.extend({
            template: r.a.template("<div></div>"),
            render: function() {
                this.$el.html(this.template({})),
                (new xe.a).renderComponent(Ne, this.$("div")[0], {})
            }
        })
          , Fe = i(112)
          , Ge = i(1234)
          , He = i(66)
          , Ue = i(4298)
          , Qe = i.n(Ue)
          , Ke = i(4299)
          , We = i.n(Ke)
          , Ye = o.a.View.extend({
            template: r.a.template(We.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    startStress: this.model.get("startStress"),
                    endStress: this.model.get("endStress"),
                    stressChange: this.model.get("differenceStress")
                }))
            }
        })
          , je = i(2218)
          , $e = i(1375)
          , Ze = i(124)
          , qe = i(472)
          , Xe = i(164)
          , Je = i(1825)
          , et = i(1540)
          , tt = i.n(et)
          , it = {
            fetchSelfEvaluationIcons: je.a
        }
          , at = function(e) {
            function t(e) {
                var i;
                return Object(Se.a)(this, t),
                (i = Object(Ee.a)(this, Object(Le.a)(t).call(this, e))).onHelpClicked = function() {
                    i.setState({
                        showHelpModal: !0
                    })
                }
                ,
                i.closeModal = function() {
                    i.setState({
                        showHelpModal: !1
                    })
                }
                ,
                i.state = {
                    showHelpModal: !1
                },
                i
            }
            return Object(ke.a)(t, e),
            Object(Te.a)(t, [{
                key: "componentDidMount",
                value: function() {
                    this.props.fetchSelfEvaluationIcons()
                }
            }, {
                key: "getFeel",
                value: function() {
                    var e = {}
                      , t = this.props.feel;
                    switch (!0) {
                    case 100 === t:
                        e = {
                            icon: "very_strong",
                            text: "very_strong"
                        };
                        break;
                    case t > 74:
                        e = {
                            icon: "strong",
                            text: "strong"
                        };
                        break;
                    case t > 49:
                        e = {
                            icon: "normal",
                            text: "normal"
                        };
                        break;
                    case t > 24:
                        e = {
                            icon: "weak",
                            text: "weak"
                        };
                        break;
                    case t < 25:
                        e = {
                            icon: "very_weak",
                            text: "very_weak"
                        };
                        break;
                    default:
                        e = void 0
                    }
                    return e
                }
            }, {
                key: "getPerceivedEffort",
                value: function() {
                    var e = {}
                      , t = this.props.rpe;
                    switch (!0) {
                    case 100 === t:
                        e = {
                            score: 10,
                            text: "maximum"
                        };
                        break;
                    case t > 89:
                        e = {
                            score: 9,
                            text: "extremely_hard"
                        };
                        break;
                    case t > 79:
                        e = {
                            score: 8,
                            text: "very_hard"
                        };
                        break;
                    case t > 69:
                        e = {
                            score: 7,
                            text: "very_hard"
                        };
                        break;
                    case t > 59:
                        e = {
                            score: 6,
                            text: "hard"
                        };
                        break;
                    case t > 49:
                        e = {
                            score: 5,
                            text: "hard"
                        };
                        break;
                    case t > 39:
                        e = {
                            score: 4,
                            text: "somewhat_hard"
                        };
                        break;
                    case t > 29:
                        e = {
                            score: 3,
                            text: "moderate"
                        };
                        break;
                    case t > 19:
                        e = {
                            score: 2,
                            text: "light"
                        };
                        break;
                    case t > 0:
                        e = {
                            score: 1,
                            text: "very_light"
                        };
                        break;
                    case 0 === t:
                        e = {
                            score: 0,
                            text: "none"
                        };
                        break;
                    default:
                        e = void 0
                    }
                    return e
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.getFeel()
                      , t = this.getPerceivedEffort()
                      , i = this.props.selfEvaluationIcons
                      , a = i && e.text ? i[e.text.toUpperCase()] : null;
                    return ze.a.createElement(ze.a.Fragment, null, ze.a.createElement("h3", null, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "self_evaluation"
                    }), ze.a.createElement("span", {
                        className: tt.a.helpIcon
                    }, ze.a.createElement(Xe.HelpIcon, {
                        onClick: this.onHelpClicked
                    }))), ze.a.createElement(Xe.DataBlock, {
                        size: "small"
                    }, ze.a.createElement(Xe.DataField, null, e ? ze.a.createElement("div", {
                        className: tt.a.feelCheckboxLabel
                    }, ze.a.createElement("span", {
                        className: "".concat(tt.a.feelIconContainer, " ").concat(tt.a.feelStaticIconContainer)
                    }, a ? ze.a.createElement($e.a, {
                        animateToFrameOnLoad: 60,
                        animationData: a
                    }) : null), ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: e.text
                    })) : "--"), ze.a.createElement(Xe.DataLabel, null, ze.a.createElement("div", {
                        className: tt.a.clear
                    }, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "how_did_you_feel"
                    })))), ze.a.createElement("div", {
                        className: "marBottomXS"
                    }), ze.a.createElement(Xe.DataBlock, {
                        size: "small"
                    }, ze.a.createElement(Xe.DataField, null, t ? ze.a.createElement(ze.a.Fragment, null, t.score, "/10\xa0", ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: t.text
                    })) : "--"), ze.a.createElement(Xe.DataLabel, null, ze.a.createElement(Ie.a, {
                        ns: "activity",
                        content: "perceived_effort"
                    }))), ze.a.createElement(Je.a, {
                        openModal: this.state.showHelpModal,
                        onCloseModal: this.closeModal,
                        content: "self-evaluation"
                    }))
                }
            }]),
            t
        }(ze.a.Component)
          , nt = Object(Ze.b)(function(e) {
            return {
                selfEvaluationIcons: Object(qe.b)(e)
            }
        }, it)(at)
          , rt = {
            SpeedPaceToggled: "SpeedPaceToggled",
            DisplayWeightEntryPopup: "DisplayWeightEntryPopup",
            WeightChangedFromPowerStats: "WeightChangedFromPowerStats"
        }
          , st = {
            0: "activity_rating_too_easy",
            25: "activity_rating_easy",
            50: "activity_rating_moderate",
            75: "activity_rating_hard",
            100: "activity_rating_very_hard"
        }
          , ot = o.a.View.extend({
            template: r.a.template(Qe.a),
            events: {
                "click .avg-cadence-help": "onClickAvgCadenceHelp",
                "click .avg-stride-length-help": "onClickAvgStrideLengthHelp"
            },
            initialize: function(e) {
                this.powerZones = e.powerZones,
                this.heartRateZones = e.heartRateZones,
                this.canDisplayVectorAirInfo = e.canDisplayVectorAirInfo,
                this.hasWorkoutExecutionScore = e.hasWorkoutExecutionScore,
                this.getAvgCadenceHelpTooltipText = this.getAvgCadenceHelpTooltipText.bind(this),
                this.getAvgStrideLengthHelpTooltipText = this.getAvgStrideLengthHelpTooltipText.bind(this),
                this.workoutMetricsEnabled = e.workoutMetricsEnabled
            },
            setData: function(e, t, i, a, n, r, s) {
                this.model = e,
                this.splitSummaries = t,
                this.hasPowerData = i,
                this.usersWeight = a,
                this.repCountingActivity = n,
                this.splits = r,
                this.indoorClimbDifficulty = s
            },
            render: function() {
                try {
                    var e = h.a.getDisplayName() === this.model.get("userInfoDto").displayname
                      , t = this.model.hasCyclingDynamicsData()
                      , i = this.hasStrokesData()
                      , a = this.hasStressData()
                      , n = this.isStrengthTrainingActivity()
                      , s = p.a.isPilatesActivity(this.model.get("activityTypeDTO").typeKey)
                      , o = p.a.isAutoRacingActivity(this.model.get("activityTypeDTO").typeKey)
                      , u = p.a.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey)
                      , m = p.a.isIndoorClimbingActivity(this.model.get("activityTypeDTO").typeKey) || p.a.isBoulderingActivity(this.model.get("activityTypeDTO").typeKey)
                      , g = (this.isBackCountrySkiActivity(),
                    this.isSkateSkiActivity())
                      , _ = this.isYogaActivity()
                      , b = this.isFloorClimbingActivity()
                      , w = this.isDivingActivity()
                      , x = this.isCrossCountrySkiActivity()
                      , S = this.model.toJSON()
                      , T = this.hasCalories()
                      , E = this.template({
                        Localizer: l.a,
                        Personalizer: c.a,
                        activity: S,
                        showElevationGain: !c.a.isSwimmingActivity(S.activityTypeDTO.typeKey),
                        showCyclingDynamics: t,
                        hasStrokesData: i,
                        isDivingActivity: w,
                        isBreathworkActivity: u,
                        isYogaActivity: _,
                        showDistanceData: this.showDistanceData(),
                        showRespirationRateData: this.showRespirationRateData(),
                        filteredRespirationRateData: this.filterRespirationRateData(),
                        adaptiveRating: st[S.summaryDTO.perceivedWorkoutEffort] || null,
                        url: re.default.url,
                        hasCalories: T,
                        getAvgCadenceHelpTooltipText: this.getAvgCadenceHelpTooltipText,
                        getAvgStrideLengthHelpTooltipText: this.getAvgStrideLengthHelpTooltipText,
                        skiDynamics: x || g
                    });
                    if (this.$el.html(E),
                    T && this.$("#caloriesPlaceholder").html(new ae({
                        activity: S
                    }).render().el),
                    this.hasTrainingEffectData())
                        new ue({
                            el: this.$("#trainingEffectStatsPlaceholder"),
                            model: this.model,
                            isYoga: _,
                            isFloorClimbingActivity: b,
                            isPilatesActivity: s
                        }).render();
                    if (S.averageHR || S.maxHR) {
                        var k = Ge.a.map(this.model.getActivityTypeKey())
                          , P = null;
                        this.heartRateZones && (P = this.heartRateZones.findBySport(k.toUpperCase()),
                        (r.a.isUndefined(P) || r.a.isNull(P)) && (P = this.heartRateZones.findBySport("DEFAULT"))),
                        new d.a({
                            el: this.$("#heartRateStatsPlaceholder"),
                            heartRateZones: P,
                            model: this.model,
                            enableToggle: e,
                            isYoga: _,
                            isFloorClimbingActivity: b,
                            isPilatesActivity: s,
                            isAutoRacingActivity: o,
                            isBreathworkActivity: u
                        }).render()
                    }
                    if (this.hasPowerData && (this.powerStatsView = new v.a({
                        el: this.$("#powerStatsPlaceholder"),
                        powerZones: this.powerZones ? this.powerZones.getZonesWithCeilingDefined() : null,
                        model: this.model,
                        enableToggle: e,
                        usersWeight: this.usersWeight
                    }),
                    e && (this.listenTo(this.powerStatsView, v.a.Events.DisplayWeightEntryPopup, function(e) {
                        this.trigger(rt.DisplayWeightEntryPopup, e)
                    }, this),
                    this.listenTo(this.powerStatsView, v.a.Events.WeightChangedFromPowerStats, function(e) {
                        this.setAndApplyWeight(e),
                        this.trigger(rt.WeightChangedFromPowerStats, e)
                    }, this)),
                    this.powerStatsView.render()),
                    o)
                        new fe({
                            el: this.$("#autoRacingStatsPlaceholder"),
                            activity: S,
                            speedModel: Fe.a.getSpeedModelforActivity(S)
                        }).render(),
                        this.$(".activity-distance").hide(),
                        this.$("#trainingEffectStatsPlaceholder").hide(),
                        this.$("#timingStatsPlaceholder").hide();
                    if (m)
                        new Ae({
                            el: this.$("#indoorClimbRoutesPlaceholder"),
                            splitSummaries: this.splitSummaries.toJSON(),
                            indoorClimbDifficulty: this.indoorClimbDifficulty
                        }).render();
                    if (t)
                        new N({
                            el: this.$("#cyclingDynamicsPlaceholder"),
                            model: this.model
                        }).render();
                    if (i && new G({
                        el: this.$("#strokesPlaceholder"),
                        activity: S
                    }).render(),
                    b || m)
                        new f({
                            el: this.$("#ascentStatsView"),
                            model: this.model,
                            splitSummaries: this.splitSummaries.toJSON()
                        }).render();
                    if (_)
                        new C({
                            el: this.$("#timingStatsYogaPlaceholder"),
                            model: this.model
                        }).render(),
                        (D = new B.a({
                            el: this.$("#workoutDetailsStatsPlaceholder"),
                            model: this.model,
                            repCountingActivity: this.repCountingActivity,
                            isYogaActivity: _
                        })).render();
                    else if (b) {
                        new L({
                            el: this.$("#timingStatsFloorClimbingPlaceholder"),
                            model: this.model
                        }).render()
                    } else if (m) {
                        new z({
                            el: this.$("#timingStatsIndoorClimbPlaceholder"),
                            model: this.model.toJSON()
                        }).render()
                    } else if (w)
                        this.renderDivingStatsViews(e);
                    else if (n || s) {
                        var I = new A.a({
                            el: this.$("#timingStatsRepCountingPlaceholder"),
                            model: this.model.toJSON(),
                            repCountingActivity: this.repCountingActivity,
                            splits: this.splits,
                            isPilatesActivity: s
                        })
                          , D = new B.a({
                            el: this.$("#workoutDetailsStatsPlaceholder"),
                            model: this.model,
                            repCountingActivity: this.repCountingActivity,
                            isPilatesActivity: s
                        });
                        I.render(),
                        D.render()
                    } else if (u) {
                        new M({
                            el: this.$("#timingStatsBreathworkPlaceholder"),
                            model: this.model
                        }).render()
                    } else {
                        var O = new y.a({
                            el: this.$("#timingStatsPlaceholder"),
                            model: this.model
                        });
                        this.listenTo(O, y.a.Events.SpeedPaceToggled, this.onSpeedPageToggled),
                        O.render()
                    }
                    if (a && new Ye({
                        el: this.$("#stressStatsPlaceholder"),
                        model: this.model
                    }).render(),
                    this.canDisplayVectorAirInfo && this.hasVectorAirCdAData() && this.$("#vectorAirMeasurementPlaceholder").html(new q({
                        model: S
                    }).render().el),
                    this.hasIntensityIntervals())
                        new we({
                            el: this.$("#workoutIntervalsStatsPlaceholder"),
                            model: this.splitSummaries,
                            activity: this.model,
                            activityTypes: this.activityTypes
                        }).render();
                    if (this.renderStatsBasedOnActivityType(),
                    H.a.renderTooltips.call(this),
                    this.model.get("directWorkoutFeel") || this.model.get("directWorkoutRpe"))
                        if (this.workoutMetricsEnabled)
                            (st[S.summaryDTO.perceivedWorkoutEffort] || null) && S.summaryDTO.atpPlanId || (this.displaySelfEvaluation(),
                            this.hasWorkoutExecutionScore && this.hasWorkoutExecutionScore > 0 && this.displayExecutionScore())
                } catch (R) {
                    console && console.log(R)
                }
            },
            renderStatsBasedOnActivityType: function() {
                var e = this.$(".span3:first-child")
                  , t = this.$(".span3:nth-child(2)")
                  , i = this.$(".span3:nth-child(4)");
                this.isBreathworkActivity() && (this.$(".respiration-block").prependTo(t),
                this.$("#heartRateStatsPlaceholder").prependTo(i)),
                this.isYogaActivity() && (this.$("#stressStatsPlaceholder").appendTo(e),
                this.$("#workoutDetailsStatsPlaceholder").prependTo(i),
                this.$(".respiration-block").appendTo(t))
            },
            renderConnectIQView: function(e) {
                if (this.model) {
                    var t, i = this.model.get("connectIQMeasurements");
                    i && (t = e.getVisibleAndSortedCollection(i, e.VisibilityArea.stats)) && !r.a.isEmpty(t) && this.$("#connectIQMeasurementPlaceholder").html(new j({
                        collection: t,
                        connectIQPresentationUtil: e
                    }).render().el)
                }
            },
            hasStrokesData: function() {
                return this.model.hasStrokeData()
            },
            hasStressData: function() {
                return !(!this.isBreathworkActivity() && !this.isYogaActivity()) && (this.model.has("startStress") || this.model.has("endStress") || this.model.has("differenceStress"))
            },
            isStrengthTrainingActivity: function() {
                return p.a.isStrengthTrainingActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isYogaActivity: function() {
                return this.model.get("activityTypeDTO").typeKey === He.a.Yoga
            },
            isBackCountrySkiActivity: function() {
                return p.a.isBackcountrySkiActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isCrossCountrySkiActivity: function() {
                return p.a.isCrosscountrySkiActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isSkateSkiActivity: function() {
                return p.a.isSkateSkiActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isFloorClimbingActivity: function() {
                return this.model.isFloorClimbing()
            },
            isDivingActivity: function() {
                return p.a.isDivingActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isBreathworkActivity: function() {
                return p.a.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey)
            },
            onSpeedPageToggled: function(e, t) {
                this.trigger(rt.SpeedPaceToggled, e, t)
            },
            setAndApplyWeight: function(e) {
                this.usersWeight && this.usersWeight === e || (this.usersWeight = e,
                this.powerStatsView && "function" === typeof this.powerStatsView.setAndApplyWeight && this.powerStatsView.setAndApplyWeight(e))
            },
            showDistanceData: function() {
                var e = this.model.get("activityTypeDTO").typeKey;
                return "strength_training" !== e && "pilates" !== e && "yoga" !== e && "floor_climbing" !== e && !this.isDivingActivity() && !this.isBreathworkActivity()
            },
            showRespirationRateData: function() {
                return !(!this.isBreathworkActivity() && !this.isYogaActivity()) || (this.model.has("avgRespirationRate") || this.model.has("maxRespirationRate") || this.model.has("minRespirationRate"))
            },
            filterRespirationRateData: function() {
                if (this.model.get("metadataDTO").manualActivity) {
                    if (this.isBreathworkActivity())
                        return {
                            minRespirationRate: !1,
                            maxRespirationRate: !1
                        };
                    if (this.isYogaActivity())
                        return {
                            minRespirationRate: !1,
                            maxRespirationRate: !0
                        }
                }
                return {
                    minRespirationRate: !0,
                    maxRespirationRate: !0
                }
            },
            hasTrainingEffectData: function() {
                return this.model.has("trainingEffect") || this.model.has("anaerobicTrainingEffect")
            },
            renderDivingStatsViews: function(e) {
                var t = this.model.get("diveInfo")
                  , i = this.model.toJSON();
                (new S({
                    el: this.$("#divingConservatismStatsPlaceholder"),
                    statsLabel: l.a.localize("dive_conservatism_label"),
                    stats: [{
                        data: i.diveInfo && i.diveInfo.diveSettings ? c.a.personalizeDiveConservatism(i.diveInfo.diveSettings.gfLow, i.diveInfo.diveSettings.gfHigh, l.a) : null,
                        dataLabel: l.a.localize("dive_conservatism_label")
                    }]
                }).render(),
                new S({
                    el: this.$("#divingDepthStatsPlaceholder"),
                    statsLabel: l.a.localize("depth_label"),
                    stats: [{
                        data: i.averageDepth ? c.a.personalizeDepth(i.averageDepth) : null,
                        dataUnit: l.a.localize(c.a.getDepthUnitKey()),
                        dataLabel: l.a.localize("avg_depth_abbr")
                    }, {
                        data: i.maxDepth ? c.a.personalizeDepth(i.maxDepth) : null,
                        dataUnit: l.a.localize(c.a.getDepthUnitKey()),
                        dataLabel: l.a.localize("max_depth")
                    }]
                }).render(),
                p.a.isApneaDiving(i.activityTypeDTO.typeKey)) ? new S({
                    el: this.$("#sessionTotalsStatsPlaceholder"),
                    statsLabel: l.a.localize("session_totals"),
                    stats: [{
                        data: i.bottomTime ? c.a.personalizeDuration(i.bottomTime, !1) : null,
                        dataLabel: l.a.localize("session_bottom_time")
                    }, {
                        data: i.diveInfo ? c.a.personalizeDuration(i.diveInfo.totalSurfaceTime, !1) : null,
                        dataLabel: l.a.localize("total_surface_interval")
                    }]
                }).render() : new S({
                    el: this.$("#divingBottomTimeStatsPlaceholder"),
                    statsLabel: l.a.localize("bottom_time"),
                    stats: [{
                        data: i.bottomTime ? c.a.personalizeDuration(i.bottomTime, !1) : null,
                        dataLabel: l.a.localize("this_dive")
                    }, {
                        data: e ? c.a.personalizeDuration(this.aggregateActivityMetricStats.getTotalBottomTimeInSeconds() + this.userSettings.getExternalBottomTime()) : null,
                        dataLabel: l.a.localize("total_bottom_time"),
                        tooltipHelpIconMessage: l.a.localize("edit_bottom_time_in_settings")
                    }]
                }).render();
                p.a.isCcrDiving(i.activityTypeDTO.typeKey) && new S({
                    el: this.$("#divingSetPointStatsPlaceholder"),
                    statsLabel: l.a.localize("dive_po2_setpoints"),
                    stats: [{
                        data: t.diveSettings.ccrLowSetpoint ? t.diveSettings.ccrLowSetpoint : null,
                        dataUnit: c.a.personalizePressureUnit({
                            unitKey: "bar"
                        }, l.a),
                        dataLabel: l.a.localize("dive_setpoint_low")
                    }, {
                        data: t.diveSettings.ccrLowSetpointDepth ? c.a.personalizeDepth(t.diveSettings.ccrLowSetpointDepth) : null,
                        dataUnit: l.a.localize(c.a.getDepthUnitKey()),
                        dataLabel: l.a.localize("dive_po2_low_depth")
                    }, {
                        data: t.diveSettings.ccrHighSetpoint ? t.diveSettings.ccrHighSetpoint : null,
                        dataUnit: c.a.personalizePressureUnit({
                            unitKey: "bar"
                        }, l.a),
                        dataLabel: l.a.localize("dive_setpoint_high")
                    }, {
                        data: t.diveSettings.ccrHighSetpointDepth ? c.a.personalizeDepth(t.diveSettings.ccrHighSetpointDepth) : null,
                        dataUnit: l.a.localize(c.a.getDepthUnitKey()),
                        dataLabel: l.a.localize("dive_po2_high_depth")
                    }]
                }).render();
                new S({
                    el: this.$("#divingN2LoadingStatsPlaceholder"),
                    statsLabel: l.a.localize("n2_loading_label"),
                    stats: [{
                        data: i.startN2 ? i.startN2 + "%" : null,
                        dataLabel: l.a.localize("loading_entering")
                    }, {
                        data: i.endN2 ? i.endN2 + "%" : null,
                        dataLabel: l.a.localize("loading_leaving")
                    }]
                }).render(),
                new S({
                    el: this.$("#divingCnsLoadingStatsPlaceholder"),
                    statsLabel: l.a.localize("cns_loading_label"),
                    stats: [{
                        data: i.startCns ? i.startCns + "%" : null,
                        dataLabel: l.a.localize("loading_entering")
                    }, {
                        data: i.endCns ? i.endCns + "%" : null,
                        dataLabel: l.a.localize("loading_leaving")
                    }]
                }).render(),
                new S({
                    el: this.$("#divingConditionsPlaceholder"),
                    statsLabel: l.a.localize("diving_conditions_label"),
                    stats: [{
                        data: i.maxElevation ? c.a.personalizeElevation(i.maxElevation) : null,
                        dataUnit: l.a.localize(c.a.getElevationUnitKey()),
                        dataLabel: l.a.localize("label.elevation")
                    }, {
                        data: t && t.entryType ? t.entryType : null,
                        dataLabel: l.a.localize("entry_type")
                    }, {
                        data: t && t.diveSettings && null !== t.diveSettings.waterType ? c.a.personalizeDiveWaterType(t.diveSettings.waterType, t.diveSettings.waterDensity, l.a) : null,
                        dataLabel: l.a.localize("water_type")
                    }, {
                        data: t && t.current ? t.current : null,
                        dataLabel: l.a.localize("water_current")
                    }, {
                        data: t && t.surfaceCondition ? t.surfaceCondition : null,
                        dataLabel: l.a.localize("surface_condition")
                    }, {
                        data: t && t.visibility ? c.a.personalizeVisibility(t.visibility) : null,
                        dataUnit: c.a.personalizeVisibilityUnit(t.visibilityUnit, l.a),
                        dataLabel: l.a.localize("dive_visibility")
                    }]
                }).render(),
                new S({
                    el: this.$("#waterTemperaturePlaceholder"),
                    statsLabel: l.a.localize("label_water_temperature"),
                    stats: [{
                        data: i.averageTemperature ? c.a.personalizeTemperature(i.averageTemperature) : null,
                        dataUnit: l.a.localize(c.a.getTemperatureUnitKey()),
                        dataLabel: l.a.localize("avg_water_temperature")
                    }, {
                        data: i.minTemperature ? c.a.personalizeTemperature(i.minTemperature) : null,
                        dataUnit: l.a.localize(c.a.getTemperatureUnitKey()),
                        dataLabel: l.a.localize("min_water_temperature")
                    }, {
                        data: i.maxTemperature ? c.a.personalizeTemperature(i.maxTemperature) : null,
                        dataUnit: l.a.localize(c.a.getTemperatureUnitKey()),
                        dataLabel: l.a.localize("max_water_temperature")
                    }]
                }).render(),
                new S({
                    el: this.$("#divingWeightPlaceholder"),
                    statsLabel: l.a.localize("dive_weight"),
                    stats: [{
                        data: t && t.weight ? c.a.personalizeDiveWeight(t.weight) : null,
                        dataUnit: c.a.personalizeDiveWeightUnit(t.weightUnit, l.a),
                        dataLabel: l.a.localize("dive_weight")
                    }]
                }).render(),
                new S({
                    el: this.$("#divingExposureSuitPlaceholder"),
                    statsLabel: l.a.localize("exposure_suit"),
                    stats: [{
                        data: t ? t.exposureSuit : null,
                        dataLabel: l.a.localize("suit_type_short")
                    }, {
                        data: t && t.suitThickness ? c.a.personalizeSuitThickness(t.suitThickness) : null,
                        dataUnit: l.a.localize("millimeter_unit"),
                        dataLabel: l.a.localize("suit_thickness_short")
                    }]
                }).render()
            },
            hasVectorAirCdAData: function() {
                return this.model.hasVectorAirCdAData()
            },
            hasIntensityIntervals: function() {
                return this.model.get("metadataDTO").hasIntensityIntervals
            },
            hasCalories: function() {
                return !this.isBreathworkActivity() && (!!this.model.has("calories") || !!this.model.has("caloriesEstimated"))
            },
            onClickAvgCadenceHelp: function(e) {
                if (e.preventDefault(),
                this.isCrossCountrySkiActivity() || this.isSkateSkiActivity()) {
                    var t = new Re({});
                    new J.a({
                        view: t,
                        showFooter: !1,
                        modalTitle: l.a.localize("help.title")
                    }).render()
                }
            },
            onClickAvgStrideLengthHelp: function(e) {
                if (e.preventDefault(),
                this.isCrossCountrySkiActivity() || this.isSkateSkiActivity()) {
                    var t = new Ve({});
                    new J.a({
                        view: t,
                        showFooter: !1,
                        modalTitle: l.a.localize("help.title")
                    }).render()
                }
            },
            getAvgCadenceHelpTooltipText: function(e) {
                if (this.isCrossCountrySkiActivity() || this.isSkateSkiActivity())
                    return l.a.localize("label.click.for.detail.tooltip");
                var t = l.a.localize(c.a.getAvgCadenceTypeLabelKey(e.activityTypeDTO.typeKey));
                return "".concat(l.a.localize("help.running.dynamics.avg.cadence.label"), " ").concat(l.a.localize("help_running_dynamics_not_including_zeros_standing", t))
            },
            getAvgStrideLengthHelpTooltipText: function() {
                return this.isCrossCountrySkiActivity() || this.isSkateSkiActivity() ? l.a.localize("label.click.for.detail.tooltip") : "".concat(l.a.localize("help.running.dynamics.stride.length.tooltip"), " ").concat(l.a.localize("help_running_dynamics_not_including_zeros_standing", l.a.localize("label_avg_stride_length")))
            },
            displaySelfEvaluation: function() {
                (new xe.a).renderComponent(nt, this.$("#selfEvaluation")[0], {
                    feel: this.model.get("directWorkoutFeel"),
                    rpe: this.model.get("directWorkoutRpe")
                })
            },
            displayExecutionScore: function() {
                (new xe.a).renderComponent(a.a, this.$("#executionScoreInfo")[0], {
                    score: this.hasWorkoutExecutionScore,
                    isInStatsSection: !0
                })
            }
        });
        ot.Events = rt;
        t.a = ot
    },
    4948: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(13)
          , c = i(102)
          , h = s.a.Collection.extend({
            initialize: function(e) {
                this.activityId = e.activityId
            },
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/hrTimeInZones"
            }
        })
          , d = s.a.Collection.extend({
            initialize: function(e) {
                this.activityId = e.activityId
            },
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/powerTimeInZones"
            }
        })
          , p = i(26);
        i(1219);
        var u = function(e, t) {
            if (!e)
                throw "collection is required";
            this.zones = function(e, t) {
                var i, a, n, r = "", s = "", o = {};
                if (e)
                    for (var l = 0, c = e.length; l < c; l += 1)
                        e[l] && (i = null,
                        r = "zone" + (a = e[l]).get("zoneNumber"),
                        s = a.get("zoneLowBoundary"),
                        (n = e[l + 1]) && (i = n.get("zoneLowBoundary") - 1),
                        o[r] = {
                            name: t[r],
                            range: s ? i ? "(" + s + " - " + i + ")" : "( > " + s + ")" : ""
                        });
                return o
            }(e, t)
        };
        u.prototype.getZones = function() {
            return this.zones
        }
        ,
        u.prototype.getZone = function(e) {
            return e ? this.zones["zone" + e] : null
        }
        ,
        u.HrZoneNameMapper = {
            zone1: "heart_zone_name.1",
            zone2: "heart_zone_name.2",
            zone3: "heart_zone_name.3",
            zone4: "heart_zone_name.4",
            zone5: "heart_zone_name.5"
        },
        u.PowerZoneNameMapper = {
            zone1: "power_zone_name_1",
            zone2: "power_zone_name_2",
            zone3: "power_zone_name_3",
            zone4: "power_zone_name_4",
            zone5: "power_zone_name_5",
            zone6: "power_zone_name_6",
            zone7: "power_zone_name_7"
        };
        var m = u
          , g = i(4240)
          , f = i(4244)
          , v = i.n(f)
          , y = s.a.View.extend({
            template: n.a.template(v.a),
            attributes: function() {
                return {
                    class: function() {
                        return "tab-pane tab-time-in-zones"
                    }
                }
            },
            initialize: function(e) {
                if (!e.activityId)
                    throw "Activity Id is required";
                if (!e.timeInZones)
                    throw "Time In Zones required";
                if (this.activityId = e.activityId,
                this.timeInZones = e.timeInZones,
                this.activityDuration = e.activityDuration,
                this.chartCollection = [],
                this.timeInZones) {
                    var t = new p.a;
                    this.timeInZones.hasHrTimeInZones && (this.hrTimeInZones = new h({
                        activityId: this.activityId
                    }),
                    t.addModel({
                        model: this.hrTimeInZones,
                        required: !0
                    })),
                    this.timeInZones.hasPowerTimeInZones && (this.powerTimeInZones = new d({
                        activityId: this.activityId
                    }),
                    t.addModel({
                        model: this.powerTimeInZones,
                        required: !0
                    })),
                    t.models.length > 0 && (t.on(p.a.Events.SYNCHRONIZED, this.onModelSynchronizerSynchronized, this),
                    t.fetchModels())
                }
                return this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: o.a
                })),
                this
            },
            onModelSynchronizerSynchronized: function() {
// TX !!! DEBUG    
    var cache = [];
    console.log("DEBUG 4922 this: " + JSON.stringify(this, function(key, value) {
        if (typeof value === 'object' && value !== null) {
            if (cache.indexOf(value) !== -1) return;
            cache.push(value);
        }
        return value;
    }));
    cache = null; 
// TX !!! DEBUG    
                if (this.$el.empty(),
                this.hrTimeInZones && this.hrTimeInZones.models.length > 0) {
                    this.calculatePercentage(this.hrTimeInZones);
                    var e = new g.a({
                        options: {
                            chartTitle: "heart.rate.zones",
                            containerClass: "stat-block heart-rate-zones",
                            tableClass: "table-heart-rate-zones",
                            trClass: this.getTrClass,
                            fieldOptions: [{
                                fieldName: "zoneNumber",
                                formatter: this.formatZoneColumn,
                                tooltipFunction: this.getTooltipText
                            }, {
                                fieldName: "secsInZone",
                                formatter: this.formatTime
                            }, {
                                fieldName: "percentage",
                                formatter: function(e) {
                                    return e + "%"
                                }
                            }],
                            sortComparator: this.sortComparator,
                            sortDirection: g.a.SortDirection.descending,
                            zoneUtil: new m(this.hrTimeInZones.models,m.HrZoneNameMapper)
                        },
                        collection: this.hrTimeInZones
                    });
                    this.chartCollection.push(e),
                    this.$el.append(e.render().el)
                }
                if (this.powerTimeInZones && this.powerTimeInZones.models.length > 0) {
                    this.calculatePercentage(this.powerTimeInZones);
                    var t = new g.a({
                        options: {
                            chartTitle: "power.zones",
                            containerClass: "stat-block power-zones",
                            tableClass: "table-power-zones",
                            trClass: this.getTrClass,
                            fieldOptions: [{
                                fieldName: "zoneNumber",
                                formatter: this.formatZoneColumn,
                                tooltipFunction: this.getTooltipText
                            }, {
                                fieldName: "secsInZone",
                                formatter: this.formatTime,
                                tooltipFunction: null
                            }, {
                                fieldName: "percentage",
                                formatter: function(e) {
                                    return e + "%"
                                },
                                tooltipFunction: null
                            }],
                            sortComparator: this.sortComparator,
                            sortDirection: g.a.SortDirection.descending,
                            maxRowsToShow: 7,
                            zoneUtil: new m(this.powerTimeInZones.models,m.PowerZoneNameMapper)
                        },
                        collection: this.powerTimeInZones
                    });
                    this.chartCollection.push(t),
                    this.$el.append(t.render().el)
                }
                this.$el.hasClass("tab-time-in-zones") || this.$el.addClass("tab-time-in-zones")
            },
            calculatePercentage: function(e) {
                for (var t, i = 0, a = 0; a < e.models.length; a += 1)
                    (t = e.models[a]) && t instanceof s.a.Model && (0 === t.get("secsInZone") ? t.set("percentage", 0) : (i = l.a.personalizePercentComplete(t.get("secsInZone"), this.activityDuration, !0),
                    t.set("percentage", Math.round(i)),
                    +t.get("secsInZone")))
            },
            destroy: function() {
                this.destroyCharts(),
                this.off(),
                this.remove()
            },
            destroyCharts: function() {
                for (var e = 0; e < this.chartCollection.length; e += 1)
                    this.chartCollection[e] && "function" === typeof this.chartCollection[e].destroy && this.chartCollection[e].destroy()
            },
            getTrClass: function(e) {
                return "zone-" + e.model.zoneNumber
            },
            getTooltipText: function(e) {
                if (e && e.model && e.util) {
                    var t = e.model.zoneNumber
                      , i = e.util.getZone(t);
                    return o.a.localize("zone") + " " + t + (i.name ? " - " + o.a.localize(i.name) : "") + " " + i.range
                }
                return ""
            },
            formatTime: function(e) {
                return l.a.personalizeDuration(e, !1)
            },
            formatZoneColumn: function(e) {
                return "Z" + e
            },
            sortComparator: function(e, t) {
                return e.zoneNumber > t.zoneNumber ? 1 : e.zoneNumber < t.zoneNumber ? -1 : 0
            }
        })
          , A = (i(66),
        i(4245))
          , _ = i.n(A)
          , b = s.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(_.a),
                this.diveInfo = e.diveInfo,
                this.diveType = e.activityTypeKey
            },
            render: function() {
                var e = this.template({
                    Localizer: o.a,
                    Personalizer: l.a,
                    tanksArray: this.diveInfo.diveGases,
                    getGasMixtureString: this.getGasMixtureString,
                    getPressureUsedString: this.getPressureUsedString,
                    diveType: this.diveType
                });
                this.$el.html(e)
            },
            getPressureUsedString: function(e, t, i) {
                var a = null;
                return e && t && (a = e - t),
                a ? l.a.personalizePressure(a) + " " + l.a.personalizePressureUnit(i, o.a) : "--"
            },
            getGasMixtureString: function(e, t) {
                var i = parseInt(e, 10)
                  , a = parseInt(t, 10)
                  , n = "--";
                return i > 0 && a > 0 ? n = i + "%" + o.a.localize("oxygen_gas") + " " + a + "%" + o.a.localize("helium_gas") : i > 0 && 0 === a ? n = i + "%" + o.a.localize("oxygen_gas") : 0 === e && t > 0 && (n = a + "%" + o.a.localize("helium_gas")),
                n
            }
        })
          , C = i(4246)
          , w = i.n(C)
          , x = i(4247)
          , S = i.n(x)
          , T = i(218)
          , E = i(1289)
          , L = s.a.View.extend({
            tagName: "tr",
            initialize: function(e) {
                this.template = n.a.template(S.a),
                this.apneaDive = e.apneaDive,
                this.index = e.index
            },
            render: function() {
                var e = this.template({
                    Localizer: o.a,
                    Personalizer: l.a,
                    apneaDive: this.apneaDive,
                    index: this.index
                });
                return this.$el.html(e),
                this.apneaDive.startLatitude && this.apneaDive.startLongitude && (this.mapView = new E.a({
                    el: this.$(".apnea-map"),
                    mapContainerId: "map-container-" + (new Date).getTime(),
                    mapProvider: this.mapProvider,
                    disablePanning: !0,
                    disableZooming: !0,
                    mapStyle: "road",
                    showMenu: !1,
                    useCustomMapControls: !0,
                    width: 77,
                    height: 55,
                    viewerIsAuthenticated: !0,
                    cursorStyle: "default",
                    enableBikeLanes: !1,
                    showControlScale: !1
                }),
                this.listenTo(this.mapView, E.a.Events.ON_MAP_READY, function() {
                    var e = [{
                        lat: this.apneaDive.startLatitude,
                        lon: this.apneaDive.startLongitude
                    }];
                    this.mapView.fitMapToPoints(e),
                    this.mapView.addMarker(e[0].lat, e[0].lon, T.a.getSmallStartMarkerOptions())
                }),
                this.mapView.render(),
                this.mapView.loadMap()),
                this
            }
        })
          , k = s.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(w.a),
                this.apneaDives = e.apneaDives
            },
            render: function() {
                var e = this.template({
                    Localizer: o.a,
                    Personalizer: l.a,
                    apneaDives: this.apneaDives
                });
                this.$el.html(e),
                this.renderItemViews()
            },
            renderItemViews: function() {
                var e = this.$("tbody");
                n.a.each(this.apneaDives, function(t, i) {
                    var a = new L({
                        apneaDive: t,
                        index: i
                    }).render();
                    e.append(a.el)
                }, this)
            }
        })
          , P = i(4248)
          , z = i.n(P)
          , I = i(4249)
          , D = i.n(I)
          , M = s.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(D.a),
                this.totalSeatedTime = e.positionTimes.totalSeatedTime,
                this.totalStandingTime = e.positionTimes.totalStandingTime
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: o.a,
                    totalSeatedTime: l.a.personalizeStandingTime(this.totalSeatedTime),
                    totalStandingTime: l.a.personalizeStandingTime(this.totalStandingTime)
                })),
                this
            }
        })
          , B = i(4250)
          , O = i(4252)
          , R = i(4255)
          , N = i(1366)
          , V = i(82)
          , F = {
            ChartRangeChanged: "ChartRangeChanged",
            ResetZoom: "ResetZoom",
            ModelSyncSuccess: "ModelSyncSuccess",
            ModelSyncFail: "ModelSyncFail"
        }
          , G = s.a.View.extend({
            DataToUse: {
                MAX: "MAX",
                SUMMARY: "SUMMARY"
            },
            initialize: function(e) {
                this.template = n.a.template(z.a),
                this.activityId = e.activityId,
                this.summaryDTO = e.summaryDTO,
                this.axisType = e.axisType,
                this.powerRange = e.powerRange,
                this.startTime = V.a.parseISOUTC(this.summaryDTO.startTimeGMT).getTime(),
                this.powerPhasePieChartView = null,
                this.pcoChartView = null,
                this.cyclingPositonChartView = null,
                this.cyclingControlsView = null,
                this.chartDataToUse = null,
                this.isPillEvent = !1,
                this.maxAveragePowerModel = null,
                this.maxAveragePowerData = null,
                -1 !== this.powerRange && (this.initPowerModel(),
                this.syncPowerModel(this.onModelSynchronized, this.onModelSynchronizedFailed))
            },
            initPowerModel: function() {
                this.maxAveragePowerModel = new N.a({
                    activityId: this.activityId,
                    duration: this.powerRange,
                    startTimeMilliseconds: this.startTime
                })
            },
            syncPowerModel: function(e, t) {
                var i = new p.a;
                this.maxAveragePowerModel && (i.addModel({
                    model: this.maxAveragePowerModel,
                    required: !0
                }),
                i.on(p.a.Events.SYNCHRONIZED, e, this),
                i.on(p.a.Events.SYNCHRONIZE_FAILED, t, this),
                i.fetchModels())
            },
            setData: function(e) {
                e && (this.summaryDTO = e)
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: o.a
                })),
                -1 === this.powerRange && this.summaryDTO && (this.chartDataToUse = this.DataToUse.SUMMARY,
                this.postRender()),
                this.renderCyclingControls(),
                this.listenTo(this.cyclingControlsView, R.a.Events.PowerRangeChanged, this.onPowerRangeChanged, this),
                this.listenTo(this.cyclingControlsView, R.a.Events.ResetZoom, this.onResetRange, this),
                this
            },
            onModelSynchronized: function() {
                var e;
                this.trigger(F.ModelSyncSuccess),
                this.chartDataToUse = this.DataToUse.MAX,
                this.postRender(),
                this.isPillEvent && this.updateCharts(this.powerRange),
                e = {
                    axisType: this.axisType,
                    startTime: this.maxAveragePowerModel.getStartTime(),
                    endTime: this.maxAveragePowerModel.getEndTime(),
                    startDistance: this.maxAveragePowerModel.getStartDistance(),
                    endDistance: this.maxAveragePowerModel.getEndDistance(),
                    powerValue: this.maxAveragePowerModel.getValue()
                },
                this.cyclingControlsView.setMaxAvgLabel(e)
            },
            onModelSynchronizedFailed: function() {
                this.trigger(F.ModelSyncFail)
            },
            postRender: function() {
                this.$(".spinner-container").hide(),
                this.renderPowerPhase(),
                this.renderPCO(),
                this.renderPosition()
            },
            renderCyclingControls: function() {
                this.cyclingControlsView && this.cyclingControlsView.remove(),
                this.cyclingControlsView = new R.a({
                    powerRange: this.powerRange,
                    duration: this.summaryDTO.duration
                }),
                this.$("#max-avg-power-controls").append(this.cyclingControlsView.render().el)
            },
            renderPowerPhase: function() {
                this.powerPhasePieChartView && this.powerPhasePieChartView.destroy(),
                this.powerPhasePieChartView = new O.a({
                    model: this.getPieChartModel()
                }),
                this.$("#power-phase-container").append(this.powerPhasePieChartView.render().el)
            },
            renderPCO: function() {
                this.pcoChartView && this.pcoChartView.destroy(),
                this.pcoChartView = new B.a({
                    platformCenterOffsetData: this.getPlatformCenterOffset()
                }),
                this.$("#pco-container").append(this.pcoChartView.render().el)
            },
            renderPosition: function() {
                this.cyclingPositonChartView && this.cyclingPositonChartView.remove(),
                this.cyclingPositonChartView = new M({
                    positionTimes: this.getPositionTimes()
                }),
                this.$("#position-container").append(this.cyclingPositonChartView.render().el)
            },
            getPieChartModel: function() {
                var e = {};
                return this.chartDataToUse === this.DataToUse.MAX ? (this.maxAveragePowerData = this.maxAveragePowerModel.get("summaryMeasurementDTOMap"),
                e = {
                    leftPowerPhaseStart: this.maxAveragePowerData.leftPowerPhaseStart.value,
                    leftPowerPhasePeakStart: this.maxAveragePowerData.leftPowerPhasePeakStart.value,
                    leftPowerPhasePeakEnd: this.maxAveragePowerData.leftPowerPhasePeakEnd.value,
                    leftPowerPhaseEnd: this.maxAveragePowerData.leftPowerPhaseEnd.value,
                    rightPowerPhaseStart: this.maxAveragePowerData.rightPowerPhaseStart.value,
                    rightPowerPhasePeakStart: this.maxAveragePowerData.rightPowerPhasePeakStart.value,
                    rightPowerPhasePeakEnd: this.maxAveragePowerData.rightPowerPhasePeakEnd.value,
                    rightPowerPhaseEnd: this.maxAveragePowerData.rightPowerPhaseEnd.value,
                    leftBalance: this.maxAveragePowerData.leftBalance.value,
                    rightBalance: this.maxAveragePowerData.rightBalance.value
                }) : e = {
                    leftPowerPhaseStart: this.summaryDTO.leftPowerPhaseStart,
                    leftPowerPhasePeakStart: this.summaryDTO.leftPowerPhasePeakStart,
                    leftPowerPhasePeakEnd: this.summaryDTO.leftPowerPhasePeakEnd,
                    leftPowerPhaseEnd: this.summaryDTO.leftPowerPhaseEnd,
                    rightPowerPhaseStart: this.summaryDTO.rightPowerPhaseStart,
                    rightPowerPhasePeakStart: this.summaryDTO.rightPowerPhasePeakStart,
                    rightPowerPhasePeakEnd: this.summaryDTO.rightPowerPhasePeakEnd,
                    rightPowerPhaseEnd: this.summaryDTO.rightPowerPhaseEnd,
                    leftBalance: this.summaryDTO.leftBalance,
                    rightBalance: this.summaryDTO.rightBalance
                },
                e
            },
            getPlatformCenterOffset: function() {
                var e = {};
                return this.chartDataToUse === this.DataToUse.MAX ? (this.maxAveragePowerData = this.maxAveragePowerModel.get("summaryMeasurementDTOMap"),
                e = {
                    leftPlatformCenterOffset: this.maxAveragePowerData.leftPlatformCenterOffset.value,
                    rightPlatformCenterOffset: this.maxAveragePowerData.rightPlatformCenterOffset.value
                }) : e = {
                    leftPlatformCenterOffset: this.summaryDTO.leftPlatformCenterOffset,
                    rightPlatformCenterOffset: this.summaryDTO.rightPlatformCenterOffset
                },
                e
            },
            getPositionTimes: function() {
                var e = {};
                return this.chartDataToUse === this.DataToUse.MAX ? (this.maxAveragePowerData = this.maxAveragePowerModel.get("summaryMeasurementDTOMap"),
                e = {
                    totalSeatedTime: n.a.has(this.maxAveragePowerData, "seatedTime") ? this.maxAveragePowerData.seatedTime.value : null,
                    totalStandingTime: n.a.has(this.maxAveragePowerData, "standingTime") ? this.maxAveragePowerData.standingTime.value : null
                }) : e = {
                    totalSeatedTime: this.summaryDTO.seatedTime,
                    totalStandingTime: this.summaryDTO.standingTime
                },
                e
            },
            destroy: function() {
                this.cyclingControlsView && this.cyclingControlsView.remove(),
                this.destroyCharts(),
                this.off(),
                this.remove()
            },
            destroyCharts: function() {
                this.powerPhasePieChartView && "function" === typeof this.powerPhasePieChartView.destroy && this.powerPhasePieChartView.destroy(),
                this.pcoChartView && "function" === typeof this.pcoChartView.destroy && this.pcoChartView.destroy(),
                this.cyclingPositonChartView && "function" === typeof this.cyclingPositonChartView.destroy && this.cyclingPositonChartView.destroy()
            },
            onAxisTypeChanged: function(e) {
                e && (this.axisType = e,
                this.onResetRange(-1))
            },
            onPowerRangeChanged: function(e, t) {
                e && e !== this.powerRange && (this.powerRange = e,
                this.isPillEvent = t,
                this.maxAveragePowerModel ? (this.maxAveragePowerModel.setData(this.startTime, this.powerRange),
                this.syncPowerModel(this.onModelSynchronized, this.onModelSynchronizedFailed)) : (this.initPowerModel(),
                this.syncPowerModel(this.onModelSynchronized, this.onModelSynchronizedFailed)),
                this.cyclingControlsView && this.cyclingControlsView.selectRange(e, t))
            },
            onResetRange: function(e, t) {
                e && (this.powerRange = e,
                this.isPillEvent = t,
                this.chartDataToUse !== this.DataToUse.SUMMARY && (this.chartDataToUse = this.DataToUse.SUMMARY,
                this.postRender(),
                this.isPillEvent && this.updateCharts(this.powerRange)),
                this.cyclingControlsView && (this.cyclingControlsView.selectRange(e, t),
                this.cyclingControlsView.clearLabel()))
            },
            updateCharts: function(e) {
                -1 === e ? this.trigger(F.ChartRangeChanged, null, null, null, e) : "sumDuration" === this.axisType ? this.trigger(F.ChartRangeChanged, this.maxAveragePowerModel.getStartTime(), this.maxAveragePowerModel.getEndTime(), this.maxAveragePowerModel.getValue(), e) : this.trigger(F.ChartRangeChanged, this.maxAveragePowerModel.getStartDistance(), this.maxAveragePowerModel.getEndDistance(), this.maxAveragePowerModel.getValue(), e)
            }
        });
        G.Events = F;
        var H = G
          , U = (i(2580),
        i(4264))
          , Q = i.n(U)
          , K = i(64)
          , W = function() {
            return o.a.localize("intervals")
        }
          , Y = function(e) {
            switch (e) {
            case "backcountry_skiing_snowboarding_ws":
                return o.a.localize("activity_splits");
            case "resort_skiing_snowboarding_ws":
                return o.a.localize("splits.runs");
            case "bouldering":
            case "indoor_climbing":
                return o.a.localize("splits.routes");
            default:
                return o.a.localize("splits.laps")
            }
        }
          , j = {
            ChartRangeChanged: "ChartRangeChanged",
            ResetZoom: "ResetZoom",
            ModelSyncSuccess: "ModelSyncSuccess",
            ModelSyncFail: "ModelSyncFail",
            SEGMENT_TAB_CLICK: "SEGMENT_TAB_CLICK",
            MtbTabClicked: "MtbTabClicked",
            PowerCurveTabClicked: "PowerCurveTabClicked",
            Error: "Error"
        }
          , $ = s.a.View.extend({
            template: n.a.template(Q.a),
            events: {
                "click #tabTimeInZonesId": "onTimeInZoneTabClicked",
                "click #tabCyclingDynamics": "onCyclingDynamicsClicked",
                "click #tabGasesAndTanksId": "onGasesAndTanksClicked",
                "click #tabApneaDives": "onApneaDivesClicked",
                "click #tabSegmentsId": "onSegmentTabClicked",
                "click #tabMtbMetricsId": "onMtbMetricsClicked",
                "click #tabPowerCurve": "onPowerCurveClicked"
            },
            initialize: function(e) {
                this.segmentCount = e.segmentCount,
                this.isLapSwimming = e.isLapSwimming,
                this.showSegmentTab = !0,
                this.showSplitsTab = !0,
                this.showStatsTab = !0,
                this.timeInZones = e.timeInZones,
                this.activityId = e.activityId,
                this.activityDistance = e.activityDistance,
                this.hasCyclingDynamicsData = e.containsCyclingDynamicsData,
                this.hasMTBData = e.hasMTBData,
                this.summaryDTO = e.summaryDTO,
                this.timeInZonesTabClickCount = 0,
                this.diveInfo = e.diveInfo,
                this.apneaDives = e.apneaDives,
                this.gasesAndTanksTabClickCount = 0,
                this.apneaDivesTabClickCount = 0,
                this.cyclingDynamicsTabClickCount = 0,
                this.axisType = "sumDuration",
                this.powerRange = -1,
                this.segmentTabClickCount = 0,
                this.mtbMetricsTabClickCount = 0,
                this.powerCurveTabClickCount = 0,
                this.showPowerCurve = e.showPowerCurve,
                this.activityTypeKey = e.activityTypeKey,
                this.hasIntensityIntervals = e.hasIntensityIntervals,
                this.canViewIntervals = e.canViewIntervals,
                this.hasTypedSplits = e.hasTypedSplits
               ,this.onTimeInZoneTabClicked(null);          // TX GCOverrides
            },
            setData: function(e, t, i, a, n, r, s, o, l, c) {
                this.segmentCount = e,
                this.isLapSwimming = t,
                this.containsGasesAndTanks = i,
                this.hasApneaDives = a,
                this.apneaDives = n,
                this.timeInZones = r,
                this.hasCyclingDynamicsData = s,
                this.activityId = o,
                this.activityDuration = l,
                this.summaryDTO = c,
                this.updateSummaryDTOForCyclingDynamics()
            },
            updateSegmentCount: function(e) {
                var t = !1;
                0 === this.segmentCount && (t = !0),
                this.segmentCount = e,
                t ? this.$("#tabSegmentsId").append('<span class="notification-count">' + this.segmentCount + "</span>") : this.$("#tabSegmentsId .notification-count").html(this.segmentCount)
            },
            render: function() {
                this.timeInZonesTabClickCount = 0,
                this.activityTimeInZones && "function" === typeof this.activityTimeInZones.destroyCharts && this.activityTimeInZones.destroyCharts();
                var e = this.template({
                    Localizer: o.a,
                    Personalizer: l.a,
                    segmentCount: this.segmentCount,
                    isLapSwimming: this.isLapSwimming,
                    showSegmentTab: this.showSegmentTab,
                    showSplitsTab: this.showSplitsTab,
                    showStatsTab: this.showStatsTab,
                    showGasesAndTanksTab: this.containsGasesAndTanks,
                    showApneaDivesTab: this.hasApneaDives,
                    showTimeInZones: this.canShowTimeInZonesTab(),
                    showCyclingDynamics: this.canShowCyclingDynamics(),
                    timeInZones: this.timeInZones,
                    canShowMtbMetricsTab: this.canShowMtbMetricsTab(),
                    showPowerCurve: this.showPowerCurve,
                    splitsTab: this.splitsTabLabel()
                });
                this.$el.addClass("nav nav-tabs"),
                this.$el.html(e)
            },
            destroy: function() {
                this.activityTimeInZones && this.activityTimeInZones.destroy(),
                this.cyclingDynamicsTabView && this.cyclingDynamicsTabView.destroy(),
                this.off(),
                this.remove()
            },
            onTimeInZoneTabClicked: function(e) {
                if (e) e.preventDefault();  // TX GCOverrides
                0 === this.timeInZonesTabClickCount && (this.activityTimeInZones = new y({
                    el: "#tab-time-in-zones",
                    activityId: this.activityId,
                    timeInZones: this.timeInZones,
                    activityDuration: this.activityDuration
                }),
                this.activityTimeInZones.render()),
                this.timeInZonesTabClickCount++,
                this.pushShowTimeInZonesTabAnalyticsEvents()
            },
            splitsTabLabel: function() {
                return this.isLapSwimming || this.hasIntensityIntervals && this.canViewIntervals ? W() : Y(this.activityTypeKey)
            },
            pushShowTimeInZonesTabAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show View Time In Zones Tab"
                })
            },
            onCyclingDynamicsClicked: function(e) {
                e.preventDefault(),
                0 === this.cyclingDynamicsTabClickCount && (this.cyclingDynamicsTabView = new H({
                    el: "#tab-cycling-dynamics",
                    activityId: this.activityId,
                    summaryDTO: this.summaryDTO,
                    axisType: this.axisType,
                    powerRange: this.powerRange
                }),
                this.cyclingDynamicsTabView.render()),
                this.cyclingDynamicsTabClickCount++,
                this.listenTo(this.cyclingDynamicsTabView, H.Events.ChartRangeChanged, this.onChartRangeChanged, this),
                this.listenTo(this.cyclingDynamicsTabView, H.Events.ModelSyncSuccess, this.onModelSyncSuccess, this),
                this.listenTo(this.cyclingDynamicsTabView, H.Events.ModelSyncFail, this.onModelSyncFail, this),
                this.pushShowCyclingDynamicsTabAnalyticsEvents()
            },
            onGasesAndTanksClicked: function(e) {
                e.preventDefault(),
                0 === this.gasesAndTanksTabClickCount && (this.gasesAndTanksTabView = new b({
                    el: "#tab-gases-and-tanks",
                    diveInfo: this.diveInfo,
                    activityTypeKey: this.activityTypeKey
                }),
                this.gasesAndTanksTabView.render()),
                this.gasesAndTanksTabClickCount++,
                this.pushShowGasesAndTanksTabAnalyticsEvents()
            },
            onApneaDivesClicked: function(e) {
                e.preventDefault(),
                0 === this.apneaDivesTabClickCount && (this.apneaDivesTabView = new k({
                    el: "#tab-apnea-dives",
                    apneaDives: this.apneaDives
                }),
                this.apneaDivesTabView.render()),
                this.apneaDivesTabClickCount++,
                this.pushShowApneaDivesTabAnalyticsEvents()
            },
            onMtbMetricsClicked: function(e) {
                e.preventDefault(),
                0 === this.mtbMetricsTabClickCount && this.trigger(j.MtbTabClicked, this.mtbMetricsTabClickCount),
                this.mtbMetricsTabClickCount++
            },
            pushShowGasesAndTanksTabAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show Gases and Tanks Tab"
                })
            },
            pushShowApneaDivesTabAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show Apnea Dives Tab"
                })
            },
            pushShowCyclingDynamicsTabAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show Cycling Dynamics Tab"
                })
            },
            updateSummaryDTOForCyclingDynamics: function() {
                this.cyclingDynamicsTabView && this.cyclingDynamicsTabView.setData(this.summaryDTO)
            },
            changeAxisType: function(e) {
                this.cyclingDynamicsTabView && this.cyclingDynamicsTabView.onAxisTypeChanged(e),
                this.axisType = e,
                this.powerRange = -1
            },
            changePowerRange: function(e, t) {
                this.cyclingDynamicsTabView && this.cyclingDynamicsTabView.onPowerRangeChanged(e, t),
                this.powerRange = e
            },
            onChartRangeChanged: function(e, t, i, a) {
                this.trigger(j.ChartRangeChanged, e, t, i, a)
            },
            resetRange: function(e) {
                this.cyclingDynamicsTabView && this.cyclingDynamicsTabView.onResetRange(e),
                this.powerRange = e
            },
            onModelSyncSuccess: function() {
                this.trigger(j.ModelSyncSuccess)
            },
            onModelSyncFail: function() {
                this.trigger(j.ModelSyncFail)
            },
            canShowTimeInZonesTab: function() {
                var e = !1;
                return this.timeInZones && (e = this.timeInZones.hasPowerTimeInZones || this.timeInZones.hasHrTimeInZones),
                K.a.isBreathworkActivity(this.activityTypeKey) && (e = !1),
                e
            },
            canShowCyclingDynamics: function() {
                return this.hasCyclingDynamicsData
            },
            canShowMtbMetricsTab: function() {
                return this.hasMTBData
            },
            onSegmentTabClicked: function() {
                this.pushShowSegmentTabAnalyticsEvents(),
                0 === this.segmentTabClickCount && this.trigger(j.SEGMENT_TAB_CLICK),
                this.segmentTabClickCount++
            },
            onPowerCurveClicked: function(e) {
                this.pushShowPowerCurveEvents(),
                0 === this.powerCurveTabClickCount && this.trigger(j.PowerCurveTabClicked, this.powerCurveTabClickCount),
                this.powerCurveTabClickCount++
            },
            pushShowPowerCurveEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show Power Curve Tab"
                })
            },
            pushShowSegmentTabAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show Segment Tab"
                })
            }
        });
        $.Events = j;
        t.a = $
    },
    4969: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(101)
          , l = i(80)
          , c = i(81)
          , h = i(99)
          , d = i(97)
          , p = i(98)
          , u = i(11)
          , m = i.n(u)
          , g = i(164)
          , f = i(13)
          , v = i(277)
          , y = function() {
            function e(t) {
                Object(l.a)(this, e),
                this.activityTypeKey = t
            }
            return Object(c.a)(e, [{
                key: "getSplitsHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "activity",
                            content: "activity_splits"
                        }),
                        key: "index",
                        defaultSortOrder: "ASCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getRoutesHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "activity",
                            content: "climb_route"
                        }),
                        key: "index",
                        defaultSortOrder: "ASCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getDifficultyHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "activity",
                            content: "climb_difficulty"
                        }),
                        key: "valueKey",
                        defaultSortOrder: "ASCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getStatusHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "activity",
                            content: "status"
                        }),
                        key: "status",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getFallsHeader",
                value: function(e) {
                    return {
                        header: "Falls",
                        key: "numFalls",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getDurationHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "units",
                            content: "label_time"
                        }),
                        key: "duration",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getDistanceHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "units",
                            content: "label_distance"
                        }),
                        key: "distance",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getElevationGainHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "units",
                            content: f.a.getElevGainLabelKey(this.activityTypeKey)
                        }),
                        key: "elevationGain",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getElevationLossHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "units",
                            content: f.a.getElevLossLabelKey(this.activityTypeKey)
                        }),
                        key: "elevationLoss",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getAvgSpeedHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "units",
                            content: f.a.getAvgSpeedLabelKey()
                        }),
                        key: "averageSpeed",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getAvgPaceHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "units",
                            content: f.a.getAvgPaceLabelKey()
                        }),
                        key: "averageSpeed",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getMaxSpeedHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "units",
                            content: f.a.getMaxSpeedLabelKey()
                        }),
                        key: "maxSpeed",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getAvgHRHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "units",
                            content: "label_avg_heart_rate"
                        }),
                        key: "averageHR",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getMaxHRHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "units",
                            content: "label_max_heart_rate"
                        }),
                        key: "maxHR",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getCumulativeTimeHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "activity-api",
                            content: "label_cum_time"
                        }),
                        key: "cumDuration",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getMovingTimeHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "units",
                            content: "label_moving_time"
                        }),
                        key: "movingDuration",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getMinTempHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "units",
                            content: "label_min_temp"
                        }),
                        key: "minTemperature",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getMaxTempHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "units",
                            content: "label_max_temp"
                        }),
                        key: "maxTemperature",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getAvgTempHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "units",
                            content: "label_avg_temp"
                        }),
                        key: "averageTemperature",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }, {
                key: "getCaloriesHeader",
                value: function(e) {
                    return {
                        header: m.a.createElement(v.a, {
                            ns: "units",
                            content: "label_calories"
                        }),
                        key: "calories",
                        defaultSortOrder: "DESCENDING",
                        sortable: e
                    }
                }
            }]),
            e
        }()
          , A = i(66)
          , _ = i(2517)
          , b = i.n(_)
          , C = i(1254)
          , w = function() {
            function e(t, i, a, n) {
                Object(l.a)(this, e),
                this.activitySplits = t,
                this.activitySummary = i,
                this.activityTypeKey = a,
                this.indoorClimbDifficulty = n
            }
            return Object(c.a)(e, [{
                key: "getBackCountrySplits",
                value: function() {
                    var e, t, i, a = [], n = [], r = 0, s = !1, o = new y(this.activityTypeKey);
                    return a.push(o.getSplitsHeader(!0), o.getDurationHeader(!0), o.getDistanceHeader(!0), o.getElevationGainHeader(!0), o.getElevationLossHeader(!0), o.getAvgSpeedHeader(!0), o.getMaxSpeedHeader(!0), o.getAvgHRHeader(!0), o.getMaxHRHeader(!0), o.getCumulativeTimeHeader(!0), o.getMovingTimeHeader(!0), o.getCaloriesHeader(!0)),
                    e = this.activitySplits.map(function(e, a) {
                        return t = r + e.duration,
                        r = t,
                        s = "ASCENT_SPLIT" === e.type || "DESCENT_SPLIT" === e.type,
                        i = "ASCENT_SPLIT" === e.type ? b.a.ascent : b.a.descent,
                        {
                            index: {
                                value: s ? m.a.createElement("div", null, a + 1, m.a.createElement("span", {
                                    className: i
                                })) : a + 1,
                                sortValue: 1
                            },
                            duration: {
                                value: f.a.personalizeDuration(e.duration),
                                sortValue: f.a.personalizeDuration(e.duration)
                            },
                            distance: {
                                value: f.a.personalizeDistance(e.distance),
                                sortValue: f.a.personalizeDistance(e.distance)
                            },
                            elevationGain: {
                                value: e.elevationGain ? f.a.personalizeElevation(e.elevationGain) : "--",
                                sortValue: e.elevationGain
                            },
                            elevationLoss: {
                                value: e.elevationLoss ? f.a.personalizeElevation(e.elevationLoss) : "--",
                                sortValue: e.elevationLoss
                            },
                            averageSpeed: {
                                value: f.a.personalizeSpeed(e.averageSpeed),
                                sortValue: f.a.personalizeSpeed(e.averageSpeed)
                            },
                            maxSpeed: {
                                value: f.a.personalizeSpeed(e.maxSpeed),
                                sortValue: e.maxSpeed
                            },
                            averageHR: {
                                value: f.a.personalizeHeartRate(e.averageHR),
                                sortValue: e.averageHR
                            },
                            maxHR: {
                                value: f.a.personalizeHeartRate(e.maxHR),
                                sortValue: f.a.personalizeHeartRate(e.maxHR)
                            },
                            cumDuration: {
                                value: f.a.personalizeDuration(t),
                                sortValue: t
                            },
                            movingDuration: {
                                value: f.a.personalizeDuration(e.movingDuration),
                                sortValue: f.a.personalizeDuration(e.movingDuration)
                            },
                            calories: {
                                value: f.a.formatWholeNumber(e.calories),
                                sortValue: f.a.formatWholeNumber(e.calories)
                            }
                        }
                    }),
                    n.push({
                        key: "index",
                        value: m.a.createElement(v.a, {
                            ns: "common",
                            content: "label_summary"
                        })
                    }, {
                        key: "duration",
                        value: f.a.personalizeDuration(this.activitySummary.duration)
                    }, {
                        key: "distance",
                        value: f.a.personalizeDistance(this.activitySummary.distance)
                    }, {
                        key: "elevationGain",
                        value: f.a.personalizeElevation(this.activitySummary.elevationGain)
                    }, {
                        key: "elevationLoss",
                        value: f.a.personalizeElevation(this.activitySummary.elevationLoss)
                    }, {
                        key: "averageSpeed",
                        value: f.a.personalizeSpeed(this.activitySummary.averageSpeed)
                    }, {
                        key: "maxSpeed",
                        value: f.a.personalizeSpeed(this.activitySummary.maxSpeed)
                    }, {
                        key: "averageHR",
                        value: f.a.personalizeHeartRate(this.activitySummary.averageHR)
                    }, {
                        key: "maxHR",
                        value: f.a.personalizeHeartRate(this.activitySummary.maxHR)
                    }, {
                        key: "cumDuration",
                        value: f.a.personalizeDuration(this.activitySummary.duration)
                    }, {
                        key: "movingDuration",
                        value: f.a.personalizeDuration(this.activitySummary.movingDuration)
                    }, {
                        key: "calories",
                        value: f.a.formatWholeNumber(this.activitySummary.calories)
                    }),
                    {
                        headers: a,
                        data: e,
                        footer: n
                    }
                }
            }, {
                key: "getIndoorClimbRoutes",
                value: function() {
                    var e = this
                      , t = []
                      , i = []
                      , a = {
                        CLIMB_COMPLETED: m.a.createElement(v.a, {
                            ns: "activity",
                            content: "climb_completed"
                        }),
                        CLIMB_ATTEMPTED: m.a.createElement(v.a, {
                            ns: "activity",
                            content: "climb_attempted"
                        })
                    }
                      , n = this.activitySplits.filter(function(e) {
                        return e.status !== a[e.status]
                    }).sort(function(e, t) {
                        return e.messageIndex - t.messageIndex
                    });
                    0 === n.length && (n = this.activitySplits);
                    var r = new y(this.activityTypeKey);
                    return t.push(r.getRoutesHeader(!0), r.getDifficultyHeader(!0), r.getFallsHeader(!0), r.getStatusHeader(!0), r.getDurationHeader(!0), r.getElevationGainHeader(!0), r.getAvgHRHeader(!0), r.getMaxHRHeader(!0), r.getCaloriesHeader(!0)),
                    i = n.map(function(t, i) {
                        return {
                            index: {
                                value: i + 1,
                                sortValue: 1
                            },
                            valueKey: {
                                value: t.gradeValue ? Object(C.c)(t.gradeValue.scale, t.gradeValue.valueKey, e.indoorClimbDifficulty) : "--",
                                sortValue: t.gradeValue && t.gradeValue.sortOrder
                            },
                            numFalls: {
                                value: t.numFalls ? f.a.formatWholeNumber(t.numFalls) : 0,
                                sortValue: f.a.formatWholeNumber(t.numFalls)
                            },
                            status: {
                                value: a[t.status] ? a[t.status] : "--",
                                sortValue: "".concat(a[t.status])
                            },
                            duration: {
                                value: f.a.personalizeDuration(t.duration),
                                sortValue: f.a.personalizeDuration(t.duration)
                            },
                            elevationGain: {
                                value: t.elevationGain ? f.a.personalizeElevation(t.elevationGain) : "--",
                                sortValue: t.elevationGain
                            },
                            averageHR: {
                                value: f.a.personalizeHeartRate(t.averageHR),
                                sortValue: t.averageHR
                            },
                            maxHR: {
                                value: f.a.personalizeHeartRate(t.maxHR),
                                sortValue: f.a.personalizeHeartRate(t.maxHR)
                            },
                            calories: {
                                value: f.a.formatWholeNumber(t.calories),
                                sortValue: f.a.formatWholeNumber(t.calories)
                            }
                        }
                    }),
                    this.activityTypeKey === A.a.Bouldering && (t = t.filter(function(e) {
                        return "elevationGain" !== e.key && "numFalls" !== e.key
                    }),
                    i = i.filter(function(e) {
                        return delete e.elevationGain && delete e.numFalls
                    })),
                    {
                        headers: t,
                        data: i
                    }
                }
            }, {
                key: "getDefaultSplits",
                value: function() {
                    var e, t, i = [], a = [], n = 0, r = new y(this.activityTypeKey);
                    return i.push(r.getSplitsHeader(!0), r.getDurationHeader(!0), r.getCumulativeTimeHeader(!0), r.getMovingTimeHeader(!0), r.getDistanceHeader(!0), r.getAvgSpeedHeader(!0), r.getMaxSpeedHeader(!0), r.getAvgHRHeader(!0), r.getMaxHRHeader(!0), r.getMinTempHeader(!0), r.getMaxTempHeader(!0), r.getAvgTempHeader(!0), r.getCaloriesHeader(!0)),
                    e = this.activitySplits.map(function(e, i) {
                        return t = n + e.duration,
                        n = t,
                        {
                            index: {
                                value: i + 1,
                                sortValue: 1
                            },
                            duration: {
                                value: f.a.personalizeDuration(e.duration),
                                sortValue: f.a.personalizeDuration(e.duration)
                            },
                            cumDuration: {
                                value: f.a.personalizeDuration(t),
                                sortValue: t
                            },
                            movingDuration: {
                                value: f.a.personalizeDuration(e.movingDuration),
                                sortValue: f.a.personalizeDuration(e.movingDuration)
                            },
                            distance: {
                                value: f.a.personalizeDistance(e.distance),
                                sortValue: f.a.personalizeDistance(e.distance)
                            },
                            averageSpeed: {
                                value: f.a.personalizeSpeed(e.averageSpeed),
                                sortValue: f.a.personalizeSpeed(e.averageSpeed)
                            },
                            maxSpeed: {
                                value: f.a.personalizeSpeed(e.maxSpeed),
                                sortValue: f.a.personalizeSpeed(e.maxSpeed)
                            },
                            averageHR: {
                                value: f.a.personalizeHeartRate(e.averageHR),
                                sortValue: f.a.personalizeHeartRate(e.averageHR)
                            },
                            maxHR: {
                                value: f.a.personalizeHeartRate(e.maxHR),
                                sortValue: f.a.personalizeHeartRate(e.maxHR)
                            },
                            minTemperature: {
                                value: f.a.personalizeTemperature(e.minTemperature),
                                sortValue: f.a.personalizeTemperature(e.minTemperature)
                            },
                            maxTemperature: {
                                value: f.a.personalizeTemperature(e.maxTemperature),
                                sortValue: f.a.personalizeTemperature(e.maxTemperature)
                            },
                            averageTemperature: {
                                value: f.a.personalizeTemperature(e.averageTemperature),
                                sortValue: f.a.personalizeTemperature(e.averageTemperature)
                            },
                            calories: {
                                value: f.a.formatWholeNumber(e.calories),
                                sortValue: f.a.formatWholeNumber(e.calories)
                            }
                        }
                    }),
                    a.push({
                        key: "index",
                        value: m.a.createElement(v.a, {
                            ns: "common",
                            content: "label_summary"
                        })
                    }, {
                        key: "duration",
                        value: f.a.personalizeDuration(this.activitySummary.duration)
                    }, {
                        key: "cumDuration",
                        value: f.a.personalizeDuration(this.activitySummary.duration)
                    }, {
                        key: "movingDuration",
                        value: f.a.personalizeDuration(this.activitySummary.movingDuration)
                    }, {
                        key: "distance",
                        value: f.a.personalizeDistance(this.activitySummary.distance)
                    }, {
                        key: "averageSpeed",
                        value: f.a.personalizeSpeed(this.activitySummary.averageSpeed)
                    }, {
                        key: "maxSpeed",
                        value: f.a.personalizeSpeed(this.activitySummary.maxSpeed)
                    }, {
                        key: "averageHR",
                        value: f.a.personalizeHeartRate(this.activitySummary.averageHR)
                    }, {
                        key: "maxHR",
                        value: f.a.personalizeHeartRate(this.activitySummary.maxHR)
                    }, {
                        key: "minTemperature",
                        value: f.a.personalizeTemperature(this.activitySummary.minTemperature)
                    }, {
                        key: "maxTemperature",
                        value: f.a.personalizeTemperature(this.activitySummary.maxTemperature)
                    }, {
                        key: "averageTemperature",
                        value: f.a.personalizeTemperature(this.activitySummary.averageTemperature)
                    }, {
                        key: "calories",
                        value: f.a.formatWholeNumber(this.activitySummary.calories)
                    }),
                    {
                        headers: i,
                        data: e,
                        footer: a
                    }
                }
            }]),
            e
        }()
          , x = (i(64),
        function(e) {
            function t(e) {
                return Object(l.a)(this, t),
                Object(h.a)(this, Object(d.a)(t).call(this, e))
            }
            return Object(p.a)(t, e),
            Object(c.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.getActivitySplits();
                    return m.a.createElement("div", {
                        className: b.a.splitsTab
                    }, m.a.createElement(g.SortableTable, {
                        data: e.data,
                        columns: e.column,
                        footer: e.footer,
                        selector: !0
                    }))
                }
            }, {
                key: "getActivitySplits",
                value: function() {
                    var e = this.props;
                    return function(e, t, i, a) {
                        var n, r = new w(e,t,i,a);
                        switch (i) {
                        case "backcountry_skiing_snowboarding_ws":
                            return {
                                column: (n = r.getBackCountrySplits()).headers,
                                data: n.data,
                                footer: n.footer
                            };
                        case "bouldering":
                        case "indoor_climbing":
                            return {
                                column: (n = r.getIndoorClimbRoutes()).headers,
                                data: n.data,
                                footer: n.footer
                            };
                        default:
                            return {
                                column: (n = r.getDefaultSplits()).headers,
                                data: n.data,
                                footer: n.footer
                            }
                        }
                    }(e.activitySplits, e.activitySummary, e.activityTypeKey, e.indoorClimbDifficulty)
                }
            }]),
            t
        }(m.a.Component))
          , S = i(4305)
          , T = i.n(S)
          , E = s.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(T.a),
                this.activityTypeKey = e.activityTypeKey,
                this.activitySummary = e.activitySummary,
                this.activitySplits = e.activitySplits,
                this.indoorClimbDifficulty = e.indoorClimbDifficulty
            },
            render: function() {
                this.$el.html(this.template()),
                this.view = new o.a,
                this.view.renderComponent(x, this.$(".react-activity-splits")[0], {
                    activityTypeKey: this.activityTypeKey,
                    activitySummary: this.activitySummary,
                    activitySplits: this.activitySplits,
                    indoorClimbDifficulty: this.indoorClimbDifficulty.toJSON()
                })
            }
        });
        t.a = E
    },
    4973: function(e, t, i) {
        "use strict";
        var a = i(80)
          , n = i(81)
          , r = i(99)
          , s = i(97)
          , o = i(98)
          , l = i(11)
          , c = i.n(l)
          , h = i(1244)
          , d = i(13)
          , p = i(223)
          , u = i(1272)
          , m = i.n(u)
          , g = i(277)
          , f = i(2220)
          , v = i.n(f)
          , y = i(45)
          , A = {
            0: y.color_306,
            1: y.color_308,
            2: y.color_309,
            3: y.color_614,
            4: y.color_615,
            5: y.color_502,
            6: y.color_414,
            7: y.color_415,
            8: y.color_416
        }
          , _ = function(e) {
            function t() {
                return Object(a.a)(this, t),
                Object(r.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(o.a)(t, e),
            Object(n.a)(t, [{
                key: "componentDidMount",
                value: function() {
                    this.updateCanvas()
                }
            }, {
                key: "updateCanvas",
                value: function() {
                    var e = this.refs.canvas.getContext("2d")
                      , t = e.createLinearGradient(0, 0, 60, 7);
                    t.addColorStop(0, A[0]),
                    t.addColorStop(.1, A[0]),
                    t.addColorStop(.1, A[1]),
                    t.addColorStop(.2, A[1]),
                    t.addColorStop(.2, A[2]),
                    t.addColorStop(.3, A[2]),
                    t.addColorStop(.3, A[3]),
                    t.addColorStop(.4, A[3]),
                    t.addColorStop(.4, A[4]),
                    t.addColorStop(.6, A[4]),
                    t.addColorStop(.6, A[5]),
                    t.addColorStop(.7, A[5]),
                    t.addColorStop(.7, A[6]),
                    t.addColorStop(.8, A[6]),
                    t.addColorStop(.8, A[7]),
                    t.addColorStop(.9, A[7]),
                    t.addColorStop(.9, A[8]),
                    t.addColorStop(1, A[8]),
                    e.fillStyle = t,
                    e.fillRect(0, 0, 60, 7)
                }
            }, {
                key: "render",
                value: function() {
                    return c.a.createElement("div", {
                        className: v.a.legendContainer
                    }, c.a.createElement("span", {
                        className: v.a.legendLabel
                    }, c.a.createElement(g.a, {
                        ns: "pacepro",
                        content: "pacepro_slower_label"
                    })), c.a.createElement("canvas", {
                        ref: "canvas",
                        width: 60,
                        height: 7
                    }), c.a.createElement("span", {
                        className: v.a.legendLabel
                    }, c.a.createElement(g.a, {
                        ns: "pacepro",
                        content: "pacepro_faster_label"
                    })))
                }
            }]),
            t
        }(c.a.Component)
          , b = i(164)
          , C = i(219)
          , w = i(30)
          , x = function(e) {
            function t() {
                return Object(a.a)(this, t),
                Object(r.a)(this, Object(s.a)(t).apply(this, arguments))
            }
            return Object(o.a)(t, e),
            Object(n.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props.lap
                      , t = e.lapIndex
                      , i = e.duration
                      , a = e.averageSpeed
                      , n = e.maxSpeed;
                    return c.a.createElement("div", null, c.a.createElement("div", null, c.a.createElement("span", null, Object(w.b)("activity:auto_racing_lap_label"), ": "), c.a.createElement("span", {
                        className: v.a.statValue
                    }, t)), c.a.createElement("div", null, c.a.createElement("span", null, Object(w.b)("activity:auto_racing_lap_time"), ": "), c.a.createElement("span", {
                        className: v.a.statValue
                    }, d.a.fromSecondsToDuration(i))), n ? c.a.createElement("div", null, c.a.createElement("span", null, Object(w.b)("units:label_max_speed"), ": "), c.a.createElement("span", {
                        className: v.a.statValue
                    }, d.a.personalizeSpeed(n), " ", Object(w.b)("units:".concat(d.a.getSpeedUnitKey())))) : null, a ? c.a.createElement("div", null, c.a.createElement("span", null, Object(w.b)("units:label_avg_speed"), ": "), c.a.createElement("span", {
                        className: v.a.statValue
                    }, d.a.personalizeSpeed(a), " ", Object(w.b)("units:".concat(d.a.getSpeedUnitKey())))) : null)
                }
            }]),
            t
        }(c.a.Component)
          , S = function(e) {
            function t() {
                var e;
                return Object(a.a)(this, t),
                (e = Object(r.a)(this, Object(s.a)(t).call(this))).state = {
                    showModal: !1,
                    chartDataReady: !1
                },
                e
            }
            return Object(o.a)(t, e),
            Object(n.a)(t, [{
                key: "componentDidMount",
                value: function() {
                    this.setState({
                        chartDataReady: !0
                    }),
                    this.lapsForChart = this.convertLapDataToChartObject(),
                    this.chart.reflow(),
                    this.renderPlotLineLabel()
                }
            }, {
                key: "componentDidUpdate",
                value: function() {
                    this.chart.reflow(),
                    this.avgRect.destroy(),
                    this.avgText.destroy(),
                    this.renderPlotLineLabel()
                }
            }, {
                key: "convertLapDataToChartObject",
                value: function() {
                    for (var e = this.props.lapDTOs, t = [], i = 0; i < e.length; i++) {
                        for (var a = e[i], n = 0; n < 100; n++)
                            t.push([i + n / 100, a.duration]);
                        t.push([i + 1, a.duration])
                    }
                    return t
                }
            }, {
                key: "renderPlotLineLabel",
                value: function() {
                    var e = w.a.t("activity:auto_racing_avg_lap_time_label", {
                        0: d.a.fromSecondsToDuration(this.avgLapTime())
                    })
                      , t = this.chart.plotWidth - 160 + 18 - 20
                      , i = this.chart.plotTop + 150 + 9 - 15;
                    this.avgText = this.chart.renderer.label(e, t, i).attr({
                        zIndex: 5
                    }).css({
                        color: y.color_131,
                        zIndex: 999,
                        opacity: .85
                    }).add();
                    var a = this.avgText.getBBox();
                    this.avgRect = this.chart.renderer.rect(t - 2, i, a.width + 4, a.height, 0).attr({
                        fill: y.color_503,
                        "stroke-width": 0,
                        zIndex: 4,
                        opacity: .7
                    }).add()
                }
            }, {
                key: "render",
                value: function() {
                    var e = this
                      , t = this.getChartConfig(225)
                      , i = this.getChartConfig(500);
                    return c.a.createElement(p.a, this.props, c.a.createElement("div", {
                        className: v.a.componentContainer
                    }, c.a.createElement(b.Flexbox, {
                        container: !0,
                        between: !0
                    }, c.a.createElement(b.Flexbox, {
                        xs: 5,
                        sm: 6,
                        md: 7,
                        lg: 8,
                        collapse: !0
                    }, c.a.createElement("div", null, c.a.createElement("span", {
                        className: v.a.lapTimeTitle
                    }, c.a.createElement(g.a, {
                        ns: "activity",
                        content: "auto_racing_lap_time"
                    })))), c.a.createElement(b.Flexbox, {
                        xs: 6,
                        sm: 5,
                        md: 4,
                        lg: 3,
                        collapse: !0
                    }, c.a.createElement(_, null)), c.a.createElement(b.Flexbox, {
                        xs: 1,
                        sm: 1,
                        md: 1,
                        lg: 1,
                        collapse: !0
                    }, c.a.createElement("div", {
                        className: v.a.button
                    }, c.a.createElement(b.ButtonIcon, {
                        icon: "icon-full-screen",
                        onClick: function() {
                            e.setState({
                                showModal: !0
                            })
                        }
                    })))), c.a.createElement("div", null, c.a.createElement(h.a, {
                        config: t,
                        callback: function(t) {
                            return e.chart = t
                        }
                    })), c.a.createElement(b.Dialog, {
                        open: this.state.showModal,
                        onClose: function() {
                            e.setState({
                                showModal: !1
                            })
                        },
                        width: "fill"
                    }, c.a.createElement(b.DialogTitle, null, c.a.createElement(g.a, {
                        ns: "activity",
                        content: "auto_racing_lap_time"
                    })), c.a.createElement(b.DialogContent, null, c.a.createElement("div", {
                        className: v.a.modalChartContainer
                    }, c.a.createElement(h.a, {
                        config: i
                    })))), c.a.createElement("hr", null)))
                }
            }, {
                key: "determineColor",
                value: function() {
                    for (var e = this.props.lapDTOs, t = 0; t < e.length - 1; t++) {
                        var i = e[t]
                          , a = e[t + 1];
                        if (i.duration !== a.duration)
                            return {
                                linearGradient: {
                                    x1: 0,
                                    x2: 0,
                                    y1: 0,
                                    y2: 1
                                },
                                stops: [[0, A[0]], [.1, A[0]], [.1, A[1]], [.2, A[1]], [.2, A[2]], [.3, A[2]], [.3, A[3]], [.4, A[3]], [.4, A[4]], [.6, A[4]], [.6, A[5]], [.7, A[5]], [.7, A[6]], [.8, A[6]], [.8, A[7]], [.9, A[7]], [.9, A[8]], [1, A[8]]]
                            }
                    }
                    return A[4]
                }
            }, {
                key: "avgLapTime",
                value: function() {
                    var e = this.props.lapDTOs
                      , t = 0;
                    return e.forEach(function(e) {
                        t += e.duration
                    }),
                    t / e.length
                }
            }, {
                key: "getPlotLines",
                value: function(e, t) {
                    return e.linearGradient ? [{
                        color: y.color_102,
                        width: "2",
                        value: t,
                        dashStyle: "dash",
                        zIndex: 4
                    }] : []
                }
            }, {
                key: "getChartConfig",
                value: function(e) {
                    var t = this.props.lapDTOs
                      , i = this.avgLapTime()
                      , a = w.a.t("activity:auto_racing_lap_time_chart_y_label")
                      , n = this.determineColor()
                      , r = this.getPlotLines(n, i)
                      , s = t.map(function(e) {
                        return e.lapIndex
                    })
                      , o = t.map(function() {
                        return i
                    });
                    return {
                        chart: {
                            type: "line",
                            height: e,
                            reflow: !0
                        },
                        title: {
                            text: null
                        },
                        subtitle: {
                            text: null
                        },
                        xAxis: [{
                            id: "primary",
                            tickInterval: 1,
                            endOnTick: !0,
                            alignTicks: !1,
                            floor: 0,
                            ceiling: t.length,
                            visible: !1
                        }, {
                            id: "categories",
                            categories: s,
                            showEmpty: !0
                        }],
                        yAxis: [{
                            title: {
                                text: a
                            },
                            plotLines: r,
                            labels: {
                                formatter: function() {
                                    return d.a.personalizeDuration(this.value)
                                }
                            }
                        }],
                        tooltip: {
                            formatter: function() {
                                var e = Math.floor(this.x);
                                e = Math.min(e, t.length - 1);
                                var i = t[e];
                                return m.a.renderToString(c.a.createElement(x, {
                                    lap: i
                                }))
                            },
                            borderColor: "#000",
                            useHTML: !0
                        },
                        plotOptions: {
                            line: {
                                marker: {
                                    enabled: !1,
                                    states: {
                                        hover: {
                                            enabled: !1
                                        }
                                    }
                                }
                            }
                        },
                        series: [{
                            type: "line",
                            data: this.lapsForChart,
                            color: n,
                            xAxis: "primary"
                        }, {
                            data: o,
                            xAxis: "categories",
                            enableMouseTracking: !1,
                            lineWidth: 0
                        }],
                        legend: {
                            enabled: !1
                        },
                        exporting: {
                            enabled: !1
                        },
                        credits: {
                            enabled: !1
                        }
                    }
                }
            }]),
            t
        }(c.a.Component);
        t.a = Object(C.d)(["units", "activity"])(S)
    },
    4975: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(2519)
          , l = i.n(o)
          , c = s.a.View.extend({
            template: n.a.template(l.a),
            initialize: function(e) {
                return this.accessory = e.accessory,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    accessory: this.accessory
                })),
                this
            }
        })
          , h = i(4)
          , d = i(4322)
          , p = i.n(d)
          , u = s.a.View.extend({
            template: n.a.template(p.a),
            className: "text-center",
            initialize: function(e) {
                return this.status = e.status,
                this.icon = e.icon,
                this.customClasses = e.customClasses,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    status: this.status,
                    icon: this.icon
                })),
                this.customClasses && this.$el.addClass(this.customClasses),
                this
            }
        })
          , m = s.a.View.extend({
            template: n.a.template(l.a),
            initialize: function(e) {
                if (!e.accessory)
                    throw "accessory is required";
                this.accessory = e.accessory;
                var t = this.accessory.batteryStatusTypes[this.accessory.batteryInfo.batteryStatus];
                return t || (t = this.accessory.batteryStatusTypes.UNKNOWN),
                this.accessory.status = t.prefix ? h.a.localize(t.prefix) + ": " + h.a.localize(t.status) : h.a.localize(t.status),
                this.accessory.icon = t.icon,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: h.a,
                    accessory: {
                        name: this.accessory.batteryInfo.name,
                        imageUrl: this.accessory.batteryInfo.imageUrl
                    }
                })),
                this.$el.append(new u({
                    status: this.accessory.status,
                    icon: this.accessory.icon
                }).render().el),
                this
            }
        })
          , g = i(4323)
          , f = i.n(g);
        t.a = s.a.View.extend({
            template: n.a.template(f.a),
            initialize: function(e) {
                return this.accessories = e.accessories,
                this
            },
            render: function() {
                if (this.$el.html(this.template({})),
                this.accessories)
                    for (var e, t = 0, i = this.accessories.length; t < i; t += 1)
                        this.accessories[t] && (e = new (this.accessories[t].batteryInfo ? m : c)({
                            accessory: this.accessories[t]
                        }),
                        this.$el.append(e.render().el));
                else
                    this.$el.empty();
                return this
            },
            updateAccessories: function(e) {
                this.accessories = e
            }
        })
    },
    4980: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(2511)
          , c = i(4219)
          , h = i(4220)
          , d = i(4225)
          , p = i.n(d)
          , u = {
            ADD_PHOTOS: "ADD_PHOTOS"
        }
          , m = s.a.View.extend({
            events: {
                "click .add-photos": "onClickAdd"
            },
            className: "photo-empty-state",
            template: n.a.template(p.a),
            initialize: function(e) {},
            render: function() {
                return this.$el.html(this.template({
                    Localizer: o.a
                })),
                this
            },
            onClickAdd: function() {
                this.trigger(u.ADD_PHOTOS)
            },
            destroy: function() {
                this.off(),
                this.remove()
            }
        });
        m.Events = u;
        var g = m
          , f = i(4226)
          , v = i(4229)
          , y = i.n(v)
          , A = {
            CANCEL_UPLOAD: "CANCEL_UPLOAD"
        }
          , _ = s.a.View.extend({
            events: {
                "click .notification-dismiss": "onClickDismissGrowl",
                "click .dismiss-growl": "onClickDismissGrowl",
                "click .dismiss-error-growl": "onClickDismissErrorGrowl",
                "click .cancel-upload": "onClickCancelUpload",
                "click .upload-error-dismiss": "onClickDismissFileErrors",
                "click .upload-error-expand": "onClickExpandFileErrors",
                "click .upload-error-minimize": "onClickMinimizeFileErrors"
            },
            initialize: function() {
                this.errorCount = 0,
                this.totalUploadCount = 0,
                this.currentPhoto = 0
            },
            render: function() {
                return this.$el.html(n.a.template(y.a)({
                    Localizer: o.a
                })),
                this
            },
            onDroppedExcessPhotos: function() {
                this.$(".photo-upload-error-growl").css("display", "block"),
                this.$(".photo-upload-error-growl").delay(4e3).fadeOut("slow")
            },
            onAddedPhoto: function() {
                "none" === this.$(".photo-upload-error-growl").css("display") && (0 === this.totalUploadCount && (this.$(".cancel-upload").css("display", "inline"),
                this.$(".dismiss-growl").css("display", "none"),
                this.$(".total-upload-progress").css("width", 0),
                this.currentPhoto = 1),
                this.totalUploadCount += 1,
                this.updateUploadText(!1, this.currentPhoto, this.totalUploadCount),
                this.$(".photo-upload-growl").stop(!0).css({
                    display: "block",
                    opacity: "1"
                }))
            },
            onUploadedPhoto: function() {
                this.currentPhoto += 1,
                this.onPhotoProcessed()
            },
            onUploadPhotoError: function() {
                this.errorCount += 1,
                1 === this.errorCount ? this.$(".upload-error-summary").html(o.a.localize("photos_upload_growl_file_error")) : this.$(".upload-error-summary").html(o.a.localize("photos_upload_growl_file_errors", this.errorCount)),
                this.$(".upload-error-section").css("display", "block"),
                this.onPhotoProcessed()
            },
            onPhotoProcessed: function() {
                this.currentPhoto + this.errorCount <= this.totalUploadCount ? this.updateUploadText(!1, this.currentPhoto, this.totalUploadCount) : this.onUploadComplete()
            },
            onUploadComplete: function() {
                this.updateUploadText(!0),
                this.$(".cancel-upload").css("display", "none"),
                this.$(".dismiss-growl").fadeIn(500).css("display", "inline"),
                "none" === this.$(".upload-error-section").css("display") && (this.$(".photo-upload-growl").delay(4e3).fadeOut("slow"),
                this.dismissFileErrors()),
                this.totalUploadCount = 0,
                this.currentPhoto = 0
            },
            onClickCancelUpload: function() {
                this.$(".upload-error-list").is(":empty") || this.trigger(A.CANCEL_UPLOAD),
                this.$(".photo-upload-growl").css("display", "none"),
                this.totalUploadCount = 0,
                this.dismissFileErrors()
            },
            onClickDismissGrowl: function() {
                this.$(".photo-upload-growl").css("display", "none"),
                this.totalUploadCount = 0,
                this.dismissFileErrors()
            },
            onClickDismissErrorGrowl: function() {
                this.$(".photo-upload-error-growl").css("display", "none"),
                this.totalUploadCount = 0
            },
            onClickDismissFileErrors: function() {
                this.dismissFileErrors()
            },
            onClickMinimizeFileErrors: function() {
                this.$(".upload-error-list").css("display", "none"),
                this.$(".upload-error-expand").css("display", "inline-block"),
                this.$(".upload-error-minimize").css("display", "none")
            },
            onClickExpandFileErrors: function() {
                this.$(".upload-error-list").fadeIn(300).css("display", "block"),
                this.$(".upload-error-expand").css("display", "none"),
                this.$(".upload-error-minimize").css("display", "inline-block")
            },
            updateProgressBar: function(e) {
                var t = this.$(".total-upload-progress")
                  , i = t.width() / t.parent().width() * 100;
                i < e && (i = e,
                t.css("width", i + "%"))
            },
            updateUploadText: function(e, t, i) {
                e ? this.$(".upload-text").html(o.a.localize("photos_upload_growl_upload_complete")) : this.$(".upload-text").html(o.a.localize("photos_upload_growl_uploading") + " " + t + "/" + i)
            },
            dismissFileErrors: function() {
                this.$(".upload-error-section").css("display", "none"),
                this.$(".upload-error-list").delay(1e3).empty(),
                this.errorCount = 0
            },
            destroy: function() {
                this.off(),
                this.remove()
            }
        });
        _.Events = A;
        var b = _
          , C = i(37)
          , w = i(2512)
          , x = (i(203),
        i(4230))
          , S = i.n(x)
          , T = (i(4231),
        s.a.View.extend({
            template: n.a.template(S.a),
            initialize: function(e) {
                this.canManagePhotos = e.canManagePhotos,
                this.activityId = e.activityId,
                this.images = e.images,
                this.photoCarousel = null,
                this.photoUpload = null,
                this.photoUploadGrowl = null,
                this.uploadedPhotos = 0
            },
            render: function() {
                return this.$el.html(this.template({})),
                this.canManagePhotos ? (this.instantiateUploadGrowl(),
                this.instantiateDropzone()) : this.instantiatePhotoView(),
                this.images && this.images.length > 0 ? this.instantiateMainPhotoCarousel() : this.canManagePhotos && this.instantiateEmptyState(),
                this.photoCarousel && this.images.length >= 10 && this.photoCarousel.disableAddBtn(),
                this.hideShowEditBtn(),
                this
            },
            onDragPhotosIn: function(e) {
                this.photoUpload.onDragPhotosInPage(e)
            },
            onDragPhotosOut: function() {
                this.photoUpload.onDragPhotosOutPage()
            },
            onEnlargePhoto: function(e) {
                this.modalPhotoCarousel = new h.a({
                    images: this.images,
                    activityId: this.activityId,
                    canClickToEnlarge: !1,
                    selectedPhotoId: e,
                    isEnlarged: !0,
                    canManagePhotos: !1
                }),
                this.listenTo(this.modalPhotoCarousel, h.a.Events.MODAL_SCROLL, this.onSwitchModalPhoto),
                this.listenTo(this.modalPhotoCarousel, h.a.Events.REMOVED_MODAL_PHOTO, this.onRemovedModalPhoto),
                this.modalPopupView = new C.a({
                    view: this.modalPhotoCarousel,
                    showFooter: !1,
                    customClasses: "modal-wide photo-carousel-modal",
                    customBackdropClasses: "lightbox",
                    showCloseButton: !0
                }),
                this.modalPopupView.render(),
                this.modalPopupView.$el.appendTo(this.$el)
            },
            onRemovedPhoto: function(e) {
                e && 0 === e.length ? this.clearCarousel() : this.refreshDropzone(),
                this.hideShowEditBtn(),
                this.photoCarousel.enableAddBtn(),
                this.uploadedPhotos = 0
            },
            onClickAddPhotos: function() {
                this.photoUpload.myAwesomeDropzone.hiddenFileInput.click()
            },
            onRemovedModalPhoto: function(e) {
                this.images && 0 === this.images.length ? (this.clearCarousel(),
                this.modalPopupView.close()) : this.photoCarousel.removeGalleryPhoto(e),
                this.refreshDropzone()
            },
            onRenderEditView: function() {
                this.photoEditCarousel = new w.a({
                    images: this.images,
                    deleteUrl: this.deleteUrl
                }),
                this.listenTo(this.photoEditCarousel, w.a.Events.SAVE_EDIT_PHOTOS, this.onSaveEditCarousel),
                this.listenTo(this.photoEditCarousel, w.a.Events.CANCEL_EDIT_PHOTOS, this.onCloseEditCarousel),
                this.$(".edit-carousel-content").html(this.photoEditCarousel.render().el),
                this.photoCarousel.destroy(),
                this.photoUpload.destroy()
            },
            onSaveEditCarousel: function(e, t) {
                var i = this
                  , a = new c.a({
                    activityId: this.activityId,
                    ids: e
                });
                t.forEach(function(e) {
                    i.onRemovePhoto(e)
                }),
                e ? a.update({
                    success: function() {
                        this.images = this.getNewList(e),
                        this.onCloseEditCarousel()
                    }
                    .bind(this),
                    error: function() {
                        this.showErrorMessage(o.a.localize("error_reorder_photos")),
                        this.$(".photo-edit-error-growl").css("display", "block"),
                        this.onCloseEditCarousel()
                    }
                    .bind(this)
                }) : (this.images = this.photoEditCarousel.images,
                this.onCloseEditCarousel())
            },
            getNewList: function(e) {
                var t = []
                  , i = this;
                return e.forEach(function(e) {
                    i.images.forEach(function(i) {
                        e === i.imageId && t.push(i)
                    })
                }),
                t
            },
            onCloseEditCarousel: function() {
                this.photoEditCarousel.destroy(),
                this.refreshDropzone(),
                0 === this.images.length && (this.instantiateUploadGrowl(),
                this.instantiateDropzone(),
                this.instantiateEmptyState())
            },
            onRemovePhoto: function(e) {
                new l.a({
                    activityId: this.activityId,
                    imageId: e
                }).destroy({
                    success: function() {
                        for (var t = 0; t < this.images.length; t++)
                            if (e === this.images[t].imageId) {
                                this.images.splice(t, 1);
                                break
                            }
                    }
                    .bind(this),
                    error: function() {
                        this.showErrorMessage(o.a.localize("error_delete_photo"))
                    }
                    .bind(this)
                })
            },
            onSwitchModalPhoto: function(e) {
                this.photoCarousel.onModalSwitchPhoto(e)
            },
            onDroppedExcessPhotos: function() {
                this.photoUploadGrowl.onDroppedExcessPhotos()
            },
            onAddedPhoto: function() {
                this.photoUploadGrowl.onAddedPhoto(),
                this.uploadedPhotos++;
                var e = this.images.length + this.uploadedPhotos;
                this.photoCarousel && e >= 10 && this.photoCarousel.disableAddBtn()
            },
            hideShowEditBtn: function() {
                this.images.length <= 1 ? this.$(".edit-carousel").hide() : this.canManagePhotos && this.$(".edit-carousel").show()
            },
            onUploadedPhoto: function(e) {
                this.images && 0 === this.images.length && (this.emptyState.destroy(),
                this.instantiateMainPhotoCarousel()),
                this.uploadedPhotos = 0,
                this.photoCarousel.onPhotoUploaded(e),
                this.photoUploadGrowl.onUploadedPhoto(),
                this.hideShowEditBtn(),
                this.photoCarousel && this.images.length >= 10 && this.photoCarousel.disableAddBtn()
            },
            onUploadPhotoError: function() {
                this.photoUploadGrowl.onUploadPhotoError()
            },
            updateProgressBar: function(e) {
                this.photoUploadGrowl.updateProgressBar(e)
            },
            cancelPhotoUpload: function() {
                try {
                    this.photoUpload.myAwesomeDropzone.removeAllFiles()
                } catch (t) {}
                var e = this.images.length + this.photoUpload.myAwesomeDropzone.files.length;
                this.photoCarousel && e < 10 ? this.photoCarousel.enableAddBtn() : this.photoCarousel.disableAddBtn(),
                this.uploadedPhotos = 0
            },
            instantiateMainPhotoCarousel: function() {
                this.photoCarousel = new h.a({
                    images: this.images,
                    maxFileCount: 10,
                    activityId: this.activityId,
                    canClickToEnlarge: !0,
                    isEnlarged: !1,
                    canManagePhotos: this.canManagePhotos
                }),
                this.listenTo(this.photoCarousel, h.a.Events.ENLARGE_PHOTO, this.onEnlargePhoto),
                this.listenTo(this.photoCarousel, h.a.Events.REMOVED_PHOTO, this.onRemovedPhoto),
                this.listenTo(this.photoCarousel, h.a.Events.ADD_PHOTOS, this.onClickAddPhotos),
                this.listenTo(this.photoCarousel, h.a.Events.RENDER_EDIT_VIEW, this.onRenderEditView),
                this.$(".view-photos").html(this.photoCarousel.render().el)
            },
            instantiateEmptyState: function() {
                this.emptyState = new g({}),
                this.listenTo(this.emptyState, g.Events.ADD_PHOTOS, this.onClickAddPhotos),
                this.$(".empty-state").html(this.emptyState.render().el)
            },
            instantiateDropzone: function() {
                var e = "/modern/proxy/activity-service/activity/" + this.activityId + "/image"
                  , t = 10;
                this.images && (t -= this.images.length),
                this.photoUpload = new f.a({
                    deleteUrl: e + "/",
                    uploadOptions: {
                        url: e,
                        maxFiles: t,
                        previewsContainer: this.$(".upload-error-list")[0]
                    }
                }),
                this.listenTo(this.photoUpload, f.a.Events.DROPPED_EXCESS_PHOTOS, this.onDroppedExcessPhotos),
                this.listenTo(this.photoUpload, f.a.Events.ADDED_PHOTO, this.onAddedPhoto),
                this.listenTo(this.photoUpload, f.a.Events.UPLOADED_PHOTO, this.onUploadedPhoto),
                this.listenTo(this.photoUpload, f.a.Events.UPLOAD_ERROR, this.onUploadPhotoError),
                this.listenTo(this.photoUpload, f.a.Events.UPDATE_PROGRESS_BAR, this.updateProgressBar),
                this.$(".upload-photos-dropzone").html(this.photoUpload.render().el)
            },
            instantiateUploadGrowl: function() {
                this.photoUploadGrowl = new b({}),
                this.listenTo(this.photoUploadGrowl, b.Events.CANCEL_UPLOAD, this.cancelPhotoUpload),
                this.$(".upload-growl").html(this.photoUploadGrowl.render().el)
            },
            instantiatePhotoView: function() {
                this.images.length > 0 && (this.photoView = new h.a({
                    images: this.images,
                    maxFileCount: 10,
                    activityId: this.activityId,
                    canClickToEnlarge: !0,
                    selectedPhotoId: this.images[0].imageId,
                    isEnlarged: !1,
                    canManagePhotos: !1
                }),
                this.listenTo(this.photoView, h.a.Events.ENLARGE_PHOTO, this.onEnlargePhoto),
                this.$(".photo-carousel-view").html(this.photoView.render().el))
            },
            clearCarousel: function() {
                this.photoCarousel.destroy(),
                this.instantiateEmptyState()
            },
            refreshDropzone: function() {
                this.photoUpload.destroy(),
                this.instantiateDropzone(),
                this.instantiateMainPhotoCarousel()
            },
            showErrorMessage: function(e) {
                this.$(".alert-error").removeClass("hidden"),
                this.$(".alert-error").html(e).delay(4e3).fadeOut("slow")
            }
        }));
        t.a = T
    },
    4983: function(e, t, i) {
        "use strict";
        var a = i(2)
          , n = i(14)
          , r = i(7)
          , s = i.n(r)
          , o = i(8)
          , l = i.n(o)
          , c = i(4)
          , h = (i(13),
        i(101))
          , d = i(80)
          , p = i(81)
          , u = i(99)
          , m = i(97)
          , g = i(98)
          , f = i(11)
          , v = i.n(f)
          , y = i(164)
          , A = i(277)
          , _ = i(2219)
          , b = function(e) {
            var t = e.items;
            return Object.keys(t).map(function(e, i) {
                return v.a.createElement(y.DropdownItem, {
                    key: i,
                    value: e
                }, v.a.createElement(A.a, {
                    ns: "activity",
                    content: t[e]
                }))
            })
        }
          , C = function(e) {
            var t = b(e);
            return v.a.createElement(y.Dropdown, {
                value: e.value,
                onChange: e.onChange,
                full: !0
            }, t)
        }
          , w = i(4301)
          , x = i.n(w)
          , S = function(e) {
            function t() {
                var e, i;
                Object(d.a)(this, t);
                for (var a = arguments.length, n = new Array(a), r = 0; r < a; r++)
                    n[r] = arguments[r];
                return (i = Object(u.a)(this, (e = Object(m.a)(t)).call.apply(e, [this].concat(n)))).onFilterChange = function(e) {
                    (0,
                    i.props.onFilterChange)(e.value)
                }
                ,
                i.renderStepTypeFilter = function() {
                    var e = i.props.parentActivityType
                      , t = Object(_.a)(e);
                    return v.a.createElement(v.a.Fragment, null, v.a.createElement("span", null, v.a.createElement(A.a, {
                        ns: "activity",
                        content: "label_interval_type"
                    })), v.a.createElement("div", {
                        className: x.a.intervalsFilter
                    }, v.a.createElement(C, {
                        items: t,
                        value: "ALL",
                        onChange: i.onFilterChange
                    })))
                }
                ,
                i
            }
            return Object(g.a)(t, e),
            Object(p.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.props
                      , t = e.columns
                      , i = e.data
                      , a = e.footer;
                    return v.a.createElement(v.a.Fragment, null, v.a.createElement("div", {
                        className: "marBottomMD ".concat(x.a.intervalsFilterContainer)
                    }, this.renderStepTypeFilter()), v.a.createElement(y.IntervalsTable, {
                        columns: t,
                        data: i,
                        footer: a,
                        childModelKey: "lap_indexes"
                    }))
                }
            }]),
            t
        }(v.a.Component)
          , T = i(1599)
          , E = i(4303)
          , L = i.n(E)
          , k = {
            class: "",
            displayLabel: "",
            fieldName: "caret-intervals",
            Personalizer: null
        }
          , P = l.a.View.extend({
            initialize: function(e) {
                this.template = s.a.template(L.a),
                this.colModel = e.colModel,
                this.data = e.data,
                this.activityTypedSplits = e.activityTypedSplits,
                this.footerModel = e.footerModel,
                this.splitSummaries = e.splitSummaries,
                this.activityTypeKey = e.activityTypeKey,
                this.parentActivityType = e.parentActivityType,
                this.intervalIndex = 1,
                this.intervalFilterType = "ALL"
            },
            render: function() {
                this.$el.html(this.template()),
                this.renderActivityIntervals()
            },
            renderActivityIntervals: function() {
                var e = this
                  , t = this.buildIntervalsTableData();
                this.view = new h.a;
                var i = this.getFooter();
                this.view.renderComponent(S, this.$(".activity-intervals-tab-content-placeholder")[0], {
                    columns: this.getColumns(),
                    data: t,
                    footer: i.length > 1 ? i : null,
                    parentActivityType: this.parentActivityType,
                    onFilterChange: function(t) {
                        e.onFilterChange(t)
                    }
                })
            },
            getColumns: function() {
                var e = []
                  , t = Object(n.a)(this.colModel);
                return t.splice(0, 0, k),
                t.forEach(function(t) {
                    if ("lap_indexes" !== t.displayLabel) {
                        var i = t.displayLabel ? c.a.localize(t.displayLabel) : "";
                        e.push(i)
                    }
                }),
                e
            },
            buildIntervalsTableData: function() {
                var e = this
                  , t = "ALL" !== this.intervalFilterType ? this.getIntervalsData().map(function(e) {
                    return Object(a.a)({}, e)
                }) : this.activityTypedSplits.map(function(e) {
                    return Object(a.a)({}, e)
                });
                return t.forEach(function(t) {
                    var i = t.lap_indexes ? t.lap_indexes.length : 0
                      , a = t.label_interval_type
                      , n = T.a.getIntervalType(a, e.parentActivityType);
                    if (i > 0) {
                        t["activity.interval"] = T.a.isActiveInterval(a) ? e.intervalIndex++ : "";
                        var r = t.lap_indexes[0]
                          , s = i > 1 ? t.lap_indexes[i - 1] : null;
                        t["activity.interval.lap"] = r && s ? "".concat(r, " - ").concat(s) : r;
                        var o = [];
                        t.lap_indexes.forEach(function(t) {
                            var i = e.data.find(function(e) {
                                return e["activity.interval.lap"] === t
                            });
                            i && (i.label_interval_type = n,
                            delete i.lap_indexes,
                            o.push(i))
                        }),
                        t.lap_indexes = o.length > 1 ? o : []
                    } else
                        t["activity.interval"] = "";
                    t.label_interval_type = n
                }),
                t
            },
            getFooter: function() {
                var e = [];
                e.push("");
                var t = "ALL" !== this.intervalFilterType ? this.getSplitSummary() : this.footerModel;
                for (var i in t)
                    "lap_indexes" !== i && e.push(t[i]);
                return e
            },
            getSplitSummary: function() {
                var e = this
                  , t = Object.keys(this.splitSummaries).find(function(t) {
                    return -1 !== t.indexOf(e.intervalFilterType)
                });
                return t ? this.splitSummaries[t] : {}
            },
            getIntervalsData: function() {
                var e = this;
                return this.activityTypedSplits.filter(function(t) {
                    return -1 !== t.label_interval_type.indexOf(e.intervalFilterType)
                })
            },
            onFilterChange: function(e) {
                this.intervalFilterType = e,
                this.intervalIndex = 1,
                this.renderActivityIntervals()
            }
        });
        t.a = P
    },
    4987: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(101)
          , l = i(80)
          , c = i(81)
          , h = i(99)
          , d = i(97)
          , p = i(98)
          , u = i(11)
          , m = i.n(u)
          , g = i(164)
          , f = i(219)
          , v = i(4332)
          , y = i.n(v)
          , A = i(1751)
          , _ = (i(13),
        i(64),
        i(112))
          , b = function(e) {
            function t() {
                return Object(l.a)(this, t),
                Object(h.a)(this, Object(d.a)(t).apply(this, arguments))
            }
            return Object(p.a)(t, e),
            Object(c.a)(t, [{
                key: "render",
                value: function() {
                    var e = this.getActivityStats();
                    return m.a.createElement("div", {
                        className: y.a.activitySmallStat
                    }, e.activityStatMetrics.map(function(e) {
                        return m.a.createElement("div", {
                            className: y.a.activityStat,
                            key: e.metricName
                        }, m.a.createElement(g.DataBlock, {
                            size: "large"
                        }, m.a.createElement(g.DataField, null, e.value, " ", e.unit), m.a.createElement(g.DataLabel, null, e.label)))
                    }))
                }
            }, {
                key: "getActivityStats",
                value: function() {
                    var e = this.props.topFiveMetrics;
                    return function(e, t) {
                        var i = t.activityTypeKey
                          , a = []
                          , n = new A.a(e,t);
                        switch (i) {
                        case "apnea_diving":
                            return t.activity.maxDepth && a.push(n.getDeepestDive()),
                            a.push(n.getSessionBottomTime()),
                            a.push(n.getNumberOfApneaDives()),
                            a.push(n.getDiveSurfaceTime()),
                            t.activity.diveSettings && t.activity.diveSettings.waterType && a.push(n.getDiveWaterType()),
                            {
                                activityStatMetrics: a
                            };
                        case "apnea_hunting":
                            return a.push(n.getDeepestDive()),
                            a.push(n.getSessionBottomTime()),
                            a.push(n.getNumberOfApneaDives()),
                            a.push(n.getDiveSurfaceTime()),
                            t.activity.diveSettings && t.activity.diveSettings.waterType && a.push(n.getDiveWaterType()),
                            {
                                activityStatMetrics: a
                            };
                        case "atv":
                            return a.push(n.getDistance()),
                            a.push(n.getDuration()),
                            a.push(n.getAverageSpeedOrPace()),
                            a.push(n.getCalories()),
                            {
                                activityStatMetrics: a
                            };
                        case "auto_racing":
                            return a.push(n.getBestLapTime()),
                            a.push(n.getMaxSpeed()),
                            a.push(n.getNumberOfRaceLap()),
                            a.push(n.getAverageSpeedOrPace()),
                            a.push(n.getTotalTime()),
                            {
                                activityStatMetrics: a
                            };
                        case "backcountry_skiing_snowboarding_ws":
                            return a.push(n.getDistance()),
                            a.push(n.getElevationGain()),
                            a.push(n.getElevationLoss()),
                            a.push(n.getDuration()),
                            a.push(n.getAverageHR()),
                            {
                                activityStatMetrics: a
                            };
                        case "bouldering":
                            return a.push(n.getTotalClimbRoutes()),
                            a.push(n.getMaxDifficulity()),
                            a.push(n.getDuration()),
                            a.push(n.getCalories()),
                            a.push(n.getAverageHR()),
                            {
                                activityStatMetrics: a
                            };
                        case "indoor_climbing":
                            return a.push(n.getTotalClimbRoutes()),
                            a.push(n.getMaxDifficulity()),
                            a.push(n.getDuration()),
                            a.push(n.getClimbAscent()),
                            a.push(n.getNumberOfSends()),
                            {
                                activityStatMetrics: a
                            };
                        case "skate_skiing_ws":
                        case "cross_country_skiing_ws":
                            return a.push(n.getDistance()),
                            a.push(n.getDuration()),
                            a.push(n.getAverageSpeedOrPace()),
                            t.activity.averagePower && a.push(n.getAveragePower()),
                            a.push(n.getAverageHR()),
                            {
                                activityStatMetrics: a
                            };
                        case "ccr_diving":
                        case "diving":
                        case "gauge_diving":
                        case "multi_gas_diving":
                        case "single_gas_diving":
                            return {
                                activityStatMetrics: []
                            };
                        case "floor_climbing":
                            return a.push(n.getTime()),
                            a.push(n.getCalories()),
                            a.push(n.getFloorsClimbed()),
                            a.push(n.getFloorsPerMin()),
                            {
                                activityStatMetrics: a
                            };
                        case "hiking":
                        case "indoor_cardio":
                            return a.push(n.getDistance()),
                            a.push(n.getDuration()),
                            a.push(n.getAverageSpeedOrPace()),
                            a.push(n.getCalories()),
                            {
                                activityStatMetrics: a
                            };
                        case "cycling":
                        case "bmx":
                        case "downhill_biking":
                        case "gravel_cycling":
                        case "indoor_cycling":
                        case "mountain_biking":
                        case "recumbent_cycling":
                        case "road_biking":
                        case "track_cycling":
                        case "virtual_ride":
                        case "cyclocross":
                            return a.push(n.getDistance()),
                            a.push(n.getDuration()),
                            a.push(n.getAverageSpeedOrPace()),
                            a.push(n.getElevationGain()),
                            t.activity.averagePower && a.push(n.getAveragePower()),
                            {
                                activityStatMetrics: a
                            };
                        case "lap_swimming":
                            return a.push(n.getDistance()),
                            a.push(n.getDuration()),
                            a.push(n.getAverageSpeedOrPace()),
                            t.activity.calories && a.push(n.getCalories()),
                            {
                                activityStatMetrics: a
                            };
                        case "multi_sport":
                            return a.push(n.getDistance()),
                            a.push(n.getDuration()),
                            a.push(n.getAverageSpeedOrPace()),
                            a.push(n.getElevationGain()),
                            t.activity.averageHR && a.push(n.getAverageHR()),
                            t.activity.calories && a.push(n.getCalories()),
                            {
                                activityStatMetrics: a
                            };
                        case "offshore_grinding":
                            return a.push(n.getMaxSpeed()),
                            a.push(n.getDuration()),
                            a.push(n.getAverageHR()),
                            t.activity.averagePower && a.push(n.getAveragePower()),
                            t.activity.averageBikeCadence && a.push(n.getAverageCadence()),
                            {
                                activityStatMetrics: a
                            };
                        case "open_water_swimming":
                            return a.push(n.getDistance()),
                            a.push(n.getDuration()),
                            e.avgSpeedOrPace && a.push(n.getAverageSpeedOrPace()),
                            t.activity.calories && a.push(n.getCalories()),
                            {
                                activityStatMetrics: a
                            };
                        case "pilates":
                            return a.push(n.getTime()),
                            a.push(n.getCalories()),
                            a.push(n.getAverageHR()),
                            {
                                activityStatMetrics: a
                            };
                        case "resort_skiing_snowboarding_ws":
                            return a.push(n.getDistance()),
                            a.push(n.getDuration()),
                            a.push(n.getElevationLoss()),
                            a.push(n.getMaxSpeed()),
                            a.push(n.getNumberOfRuns()),
                            {
                                activityStatMetrics: a
                            };
                        case "strength_training":
                            return a.push(n.getStrengthTotalTime()),
                            a.push(n.getWorkoutTime()),
                            a.push(n.getAverageHR()),
                            a.push(n.getCalories()),
                            {
                                activityStatMetrics: a
                            };
                        case "yoga":
                            return a.push(n.getTime()),
                            a.push(n.getAvgRespirationRate()),
                            a.push(n.getAverageHR()),
                            {
                                activityStatMetrics: a
                            };
                        case "breathwork":
                            return a.push(n.getTime()),
                            a.push(n.getAvgRespirationRate()),
                            a.push(n.getAverageHR()),
                            a.push(n.getStressChange()),
                            {
                                activityStatMetrics: a
                            };
                        default:
                            return a.push(n.getDistance()),
                            a.push(n.getDuration()),
                            a.push(n.getAverageSpeedOrPace()),
                            a.push(n.getElevationGain()),
                            t.activity.calories && a.push(n.getCalories()),
                            {
                                activityStatMetrics: a
                            }
                        }
                    }(_.a.getSpeedModelforActivity(e.activity), e)
                }
            }]),
            t
        }(m.a.Component)
          , C = Object(f.d)(["units", "activity", "diving", "segment"])(b)
          , w = i(4334)
          , x = i.n(w)
          , S = i(1254)
          , T = s.a.View.extend({
            initialize: function(e) {
                this.template = n.a.template(x.a),
                this.activity = e.activity,
                this.repCountingActivity = e.repCountingActivity,
                this.indoorClimbDifficulty = e.indoorClimbDifficulty,
                this.topFiveMetrics = {
                    activity: this.activity,
                    repCountingActivity: this.repCountingActivity,
                    activityTypeKey: this.activity.activityTypeDTO.typeKey,
                    splitSummaries: this.activity.splitSummaries ? Object(S.e)(this.activity.splitSummaries) : void 0,
                    indoorClimbDifficulty: this.indoorClimbDifficulty
                }
            },
            render: function() {
                this.$el.html(this.template()),
                this.view = new o.a,
                this.view.renderComponent(C, this.$(".react-activity-small-stats")[0], {
                    topFiveMetrics: this.topFiveMetrics
                })
            }
        });
        t.a = T
    },
    5008: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(4)
          , s = i(8)
          , o = i.n(s)
          , l = i(13)
          , c = i(4318)
          , h = i.n(c)
          , d = o.a.View.extend({
            template: n.a.template(h.a),
            tagName: "li",
            className: "media",
            initialize: function(e) {
                return this.song = e.song,
                this.trackNum = e.trackNum,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    title: this.song.get("title"),
                    songInfoString: this.getSongInfoString([this.song.get("artist"), this.song.get("album"), l.a.personalizeDuration(this.song.get("lengthInSeconds"))]),
                    trackNum: this.trackNum
                })),
                this
            },
            getSongInfoString: function(e) {
                return e.filter(function(e) {
                    return !!e
                }).join(" \u2022 ")
            }
        })
          , p = i(4319)
          , u = i.n(p);
        t.a = o.a.View.extend({
            template: n.a.template(u.a),
            className: "playlist-container bottom-m",
            initialize: function(e) {
                return this.songs = e.songs,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: r.a
                })),
                n.a.each(this.songs, function(e, t) {
                    this.renderSong(e, t)
                }, this),
                this
            },
            renderSong: function(e, t) {
                var i = new d({
                    song: e,
                    trackNum: t + 1
                });
                this.$(".media-list").append(i.render().el)
            }
        })
    },
    5019: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(13)
          , c = i(1420)
          , h = i(22)
          , d = i(17)
          , p = i(4269)
          , u = i.n(p)
          , m = s.a.View.extend({
            tagName: "tr",
            template: n.a.template(u.a),
            events: {
                "click .edit-activity": "onEditClicked"
            },
            initialize: function(e) {
                this.setData = e.setData,
                this.rowNumber = e.rowNumber,
                this.isReadOnly = e.isReadOnly,
                this.isPilatesActivity = e.isPilatesActivity,
                this.isYogaActivity = e.isYogaActivity,
                this.weightIsNumber = !0,
                this.setData.weight !== o.a.localize("add_weight") && this.setData.weight !== o.a.localize("body_weight") || (this.weightIsNumber = !1),
                this.setData.weight === o.a.localize("add_weight") && this.isReadOnly && (this.weightIsNumber = !1,
                this.setData.weight = "--")
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: o.a,
                    Personalizer: l.a,
                    isMetric: l.a.measurementSystem === l.a.MeasurementSystems.METRIC,
                    rowNumber: this.rowNumber,
                    linkNameToEdit: this.setData.linkNameToEdit,
                    exerciseType: this.setData.exerciseType,
                    time: l.a.personalizeDuration(this.setData.time),
                    rest: l.a.personalizeDuration(this.setData.rest),
                    reps: 0 === this.setData.reps ? "0" : l.a.zeroDash(this.setData.reps),
                    weight: this.setData.weight,
                    isReadOnly: this.isReadOnly,
                    weightIsNumber: this.weightIsNumber,
                    isPilatesActivity: this.isPilatesActivity,
                    isYogaActivity: this.isYogaActivity,
                    labels: this.getLabels()
                }))
            },
            onEditClicked: function(e) {
                d.default.navigate("activity/manual/" + this.setData.activityId + "/edit", e)
            },
            getLabels: function() {
                var e = {
                    setNumberTitle: o.a.localize("label_set"),
                    setName: o.a.localize("label_exercise_name"),
                    chooseSetLabelKey: null
                };
                return this.isPilatesActivity && (e = {
                    setNumberTitle: o.a.localize("label_move"),
                    setName: o.a.localize("label_move_name"),
                    chooseSetLabelKey: "choose_a_move"
                }),
                this.isYogaActivity && (e = {
                    setNumberTitle: o.a.localize("label_pose"),
                    setName: o.a.localize("label_pose_name"),
                    chooseSetLabelKey: "choose_a_pose"
                }),
                e
            }
        })
          , g = i(4270)
          , f = i.n(g)
          , v = s.a.View.extend({
            template: n.a.template(f.a),
            initialize: function(e) {
                this.activity = e.activity.activity,
                this.repCountingActivity = e.activity.repCountingActivity.get("exerciseSets"),
                this.exerciseTypes = e.exerciseTypes,
                this.isReadOnly = e.isReadOnly,
                this.isPilatesActivity = e.isPilatesActivity,
                this.isYogaActivity = e.isYogaActivity
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: o.a,
                    isPilatesActivity: this.isPilatesActivity,
                    isYogaActivity: this.isYogaActivity,
                    labels: this.getLabels()
                })),
                this.renderSets()
            },
            renderSets: function() {
                var e, t = this.repCountingActivity ? this.repCountingActivity.length : 0, i = this.$("#setsContainer"), a = 1;
                if (t > 0)
                    for (var n = 0; n < t; n += 1)
                        "REST" !== this.repCountingActivity[n].setType && ((e = new m({
                            setData: this.getSetData(n),
                            rowNumber: a,
                            isReadOnly: this.isReadOnly,
                            isPilatesActivity: this.isPilatesActivity,
                            isYogaActivity: this.isYogaActivity
                        })).render(),
                        i.append(e.el),
                        a += 1);
                else
                    (e = new m({
                        setData: this.getSetData(null),
                        rowNumber: a,
                        isReadOnly: this.isReadOnly,
                        isPilatesActivity: this.isPilatesActivity,
                        isYogaActivity: this.isYogaActivity
                    })).render(),
                    i.append(e.el)
            },
            getSetData: function(e) {
                var t = {}
                  , i = this.getExerciseCategoryAndType(e);
                return t.activityId = this.activity.get("activityId"),
                t.exerciseType = i.localizeString,
                t.linkNameToEdit = this.getLinkNameToEdit(t.exerciseType),
                t.time = this.getTime(e),
                t.rest = this.getRestTime(e),
                t.reps = this.getReps(e),
                t.weight = this.getWeight(e, i.category, i.type),
                t
            },
            getLinkNameToEdit: function(e) {
                return "choose_an_exercise" === e && !this.isReadOnly
            },
            getExerciseCategoryAndType: function(e) {
                var t = {
                    category: "",
                    type: "choose_an_exercise",
                    localizeString: "choose_an_exercise"
                }
                  , i = 0;
                return this.isReadOnly && (t.localizeString = "device.unknown"),
                null !== e && this.repCountingActivity[e] && n.a.each(this.repCountingActivity[e].exercises, function(e) {
                    e.probability > i && (i = e.probability,
                    e.name ? (t.localizeString = "exercise_type_" + e.name,
                    t.type = e.name,
                    t.category = e.category) : "UNKNOWN" !== e.category ? (t.localizeString = "category_type_" + e.category,
                    t.type = e.category,
                    t.category = e.category) : "UNKNOWN" === e.category && (i = c.a.UNKNOWN_PROBABILITY_OVERRIDE))
                }),
                t
            },
            getTime: function(e) {
                return null !== e ? this.repCountingActivity[e].duration : this.activity.get("duration")
            },
            getRestTime: function(e) {
                var t = e + 1
                  , i = 0
                  , a = this.repCountingActivity ? this.repCountingActivity.length : 0;
                if (null !== e)
                    for (; t < a && "REST" === this.repCountingActivity[t].setType; )
                        i += this.repCountingActivity[t].duration,
                        t += 1;
                return i
            },
            getReps: function(e) {
                return null !== e ? this.repCountingActivity[e].repetitionCount : 0
            },
            getWeight: function(e, t, i) {
                if (null === e || null === this.repCountingActivity[e].weight || void 0 === this.repCountingActivity[e].weight || -1 === this.repCountingActivity[e].weight && !this.isBodyweightCapable(t, i))
                    return o.a.localize("add_weight");
                if (-1 === this.repCountingActivity[e].weight)
                    return o.a.localize("body_weight");
                var a = parseFloat(this.repCountingActivity[e].weight);
                return l.a.personalizeWeight(a, h.a.PRECISION1_NOSEP_NOZERO)
            },
            isBodyweightCapable: function(e, t) {
                return this.exerciseTypes.categories[e] && this.exerciseTypes.categories[e].exercises && this.exerciseTypes.categories[e].exercises[t] && this.exerciseTypes.categories[e].exercises[t].isBodyWeight
            },
            getLabels: function() {
                var e = {
                    setNumberTitle: o.a.localize("label_set"),
                    setName: o.a.localize("label_exercise_name")
                };
                return this.isPilatesActivity && (e = {
                    setNumberTitle: o.a.localize("label_move"),
                    setName: o.a.localize("label_move_name")
                }),
                this.isYogaActivity && (e = {
                    setNumberTitle: o.a.localize("label_pose"),
                    setName: o.a.localize("label_pose_name")
                }),
                e
            }
        });
        t.a = v
    },
    5024: function(e, t, i) {
        "use strict";
        i(7);
        var a = i(8)
          , n = i.n(a)
          , r = n.a.Model.extend({});
        t.a = n.a.Collection.extend({
            model: r,
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/playlist"
            },
            initialize: function(e, t) {
                this.activityId = t.activityId
            },
            parse: function(e) {
                return e.playedSongs
            }
        })
    },
    5038: function(e, t, i) {
        "use strict";
        var a = i(7)
          , n = i.n(a)
          , r = i(8)
          , s = i.n(r)
          , o = i(4)
          , l = i(28)
          , c = i(220)
          , h = i(4233)
          , d = i(4238)
          , p = i.n(d)
          , u = s.a.View.extend({
            template: n.a.template(p.a),
            render: function() {
                return this.$el.html(this.template({
                    Localizer: o.a,
                    model: this.model
                })),
                this
            }
        })
          , m = i(4239)
          , g = i.n(m)
          , f = {
            ELEV_CORRECTION_CHANGED: "ELEV_CORRECTION_CHANGED"
        }
          , v = s.a.View.extend({
            template: n.a.template(g.a),
            initialize: function(e) {
                return this.agent = e.agent,
                this.device = e.device,
                this.displayAgentInfo = e.displayAgentInfo,
                this.activity = e.activity,
                this.thirdPartyPartners = e.thirdPartyPartners,
                this.thirdPartyPartner = null,
                this
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: o.a,
                    DateFormatter: l.a,
                    agent: this.agent ? this.agent.toJSON() : {},
                    metadata: this.activity.get("metadataDTO"),
                    displayAgentInfo: this.displayAgentInfo,
                    displayPowerAvgCalInfo: !1
                })),
                c.a.renderTooltips.call(this),
                this.renderRecordingMediumInfo()
            },
            renderRecordingMediumInfo: function() {
                this.canDisplayVirtualPartner() ? this.renderVirtualPartnerView() : this.device && this.renderDeviceInfoView()
            },
            renderDeviceInfoView: function() {
                var e = new h.a({
                    activity: this.activity,
                    device: this.device
                });
                e.on(h.a.Events.ELEV_CORRECTION_CHANGED, function(e) {
                    this.trigger(f.ELEV_CORRECTION_CHANGED, e)
                }, this),
                this.$el.prepend(e.render().el)
            },
            renderVirtualPartnerView: function() {
                var e = new u({
                    model: this.thirdPartyPartner
                });
                this.$el.prepend(e.render().el)
            },
            canDisplayVirtualPartner: function() {
                var e = !1;
                if (this.thirdPartyPartners) {
                    var t = this.activity.get("manufacturer");
                    t && (this.thirdPartyPartner = this.thirdPartyPartners.attributes[t],
                    e = !!this.thirdPartyPartner)
                }
                return e
            },
            setData: function(e) {
                for (var t in e)
                    t && (this[t] = e[t])
            }
        });
        v.Events = f;
        t.a = v
    },
    5040: function(e, t, i) {
        "use strict";
        var a = i(8)
          , n = i.n(a)
          , r = n.a.Model.extend({
            initialize: function() {}
        });
        t.a = n.a.Collection.extend({
            model: r,
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/jumpDetails"
            },
            initialize: function(e, t) {
                if ("undefined" === typeof t.activityId)
                    throw "ActivityJumps requires an activity ID";
                this.activityId = t.activityId
            }
        })
    }
}]);
//# sourceMappingURL=221.14e96ba7.chunk.js.map
