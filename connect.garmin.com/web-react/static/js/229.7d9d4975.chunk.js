// TX GCOverrides v1.19
(window.webpackJsonp = window.webpackJsonp || []).push([[229, 2, 5, 6, 8, 10, 12, 13, 18, 19, 22, 23, 55, 81, 256, 410, 411, 412], {
    1234: function(t, e, i) {
        (e = t.exports = i(29)(!0)).push([t.i, "/* breakpoints */\n/* Using .9375 on the max-widths prevents overlap at the breakpoint pixel. 1em by default equals 16px, .9375 is 15/16ths */", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/node_modules/ui-connect/styles/variables.module.css"],
            names: [],
            mappings: "AAMA,iBAAgB;AAChB,2HAA0H",
            file: "variables.module.css",
            sourcesContent: ["@value spacingXS: 11px;\n@value spacingSM: 22px;\n@value spacingMD: 33px;\n@value spacingLG: 44px;\n@value spacingXL: 55px;\n\n/* breakpoints */\n/* Using .9375 on the max-widths prevents overlap at the breakpoint pixel. 1em by default equals 16px, .9375 is 15/16ths */\n@value endXS:     47.9375em;\n@value startSM:   48em;\n@value endSM:     61.9375em;\n@value startMD:   62em;\n@value endMD:     74.9375em;\n@value startLG:   75em;"],
            sourceRoot: ""
        }]),
        e.locals = {
            spacingXS: "11px",
            spacingSM: "22px",
            spacingMD: "33px",
            spacingLG: "44px",
            spacingXL: "55px",
            endXS: "47.9375em",
            startSM: "48em",
            endSM: "61.9375em",
            startMD: "62em",
            endMD: "74.9375em",
            startLG: "75em"
        }
    },
    1235: function(t, e, i) {
        !function(t) {
            "use strict";
            var e = Object.freeze;
            function i(t) {
                var e, i, a, n;
                for (i = 1,
                a = arguments.length; i < a; i++)
                    for (e in n = arguments[i])
                        t[e] = n[e];
                return t
            }
            Object.freeze = function(t) {
                return t
            }
            ;
            var a = Object.create || function() {
                function t() {}
                return function(e) {
                    return t.prototype = e,
                    new t
                }
            }();
            function n(t, e) {
                var i = Array.prototype.slice;
                if (t.bind)
                    return t.bind.apply(t, i.call(arguments, 1));
                var a = i.call(arguments, 2);
                return function() {
                    return t.apply(e, a.length ? a.concat(i.call(arguments)) : arguments)
                }
            }
            var r = 0;
            function o(t) {
                return t._leaflet_id = t._leaflet_id || ++r,
                t._leaflet_id
            }
            function s(t, e, i) {
                var a, n, r, o;
                return o = function() {
                    a = !1,
                    n && (r.apply(i, n),
                    n = !1)
                }
                ,
                r = function() {
                    a ? n = arguments : (t.apply(i, arguments),
                    setTimeout(o, e),
                    a = !0)
                }
            }
            function l(t, e, i) {
                var a = e[1]
                  , n = e[0]
                  , r = a - n;
                return t === a && i ? t : ((t - n) % r + r) % r + n
            }
            function c() {
                return !1
            }
            function h(t, e) {
                return e = void 0 === e ? 6 : e,
                +(Math.round(t + "e+" + e) + "e-" + e)
            }
            function p(t) {
                return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")
            }
            function d(t) {
                return p(t).split(/\s+/)
            }
            function u(t, e) {
                for (var i in t.hasOwnProperty("options") || (t.options = t.options ? a(t.options) : {}),
                e)
                    t.options[i] = e[i];
                return t.options
            }
            function m(t, e, i) {
                var a = [];
                for (var n in t)
                    a.push(encodeURIComponent(i ? n.toUpperCase() : n) + "=" + encodeURIComponent(t[n]));
                return (e && -1 !== e.indexOf("?") ? "&" : "?") + a.join("&")
            }
            var f = /\{ *([\w_-]+) *\}/g;
            function g(t, e) {
                return t.replace(f, function(t, i) {
                    var a = e[i];
                    if (void 0 === a)
                        throw new Error("No value provided for variable " + t);
                    return "function" === typeof a && (a = a(e)),
                    a
                })
            }
            var y = Array.isArray || function(t) {
                return "[object Array]" === Object.prototype.toString.call(t)
            }
            ;
            function v(t, e) {
                for (var i = 0; i < t.length; i++)
                    if (t[i] === e)
                        return i;
                return -1
            }
            var b = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";
            function A(t) {
                return window["webkit" + t] || window["moz" + t] || window["ms" + t]
            }
            var _ = 0;
            function C(t) {
                var e = +new Date
                  , i = Math.max(0, 16 - (e - _));
                return _ = e + i,
                window.setTimeout(t, i)
            }
            var w = window.requestAnimationFrame || A("RequestAnimationFrame") || C
              , x = window.cancelAnimationFrame || A("CancelAnimationFrame") || A("CancelRequestAnimationFrame") || function(t) {
                window.clearTimeout(t)
            }
            ;
            function S(t, e, i) {
                if (!i || w !== C)
                    return w.call(window, n(t, e));
                t.call(e)
            }
            function T(t) {
                t && x.call(window, t)
            }
            var E = (Object.freeze || Object)({
                freeze: e,
                extend: i,
                create: a,
                bind: n,
                lastId: r,
                stamp: o,
                throttle: s,
                wrapNum: l,
                falseFn: c,
                formatNum: h,
                trim: p,
                splitWords: d,
                setOptions: u,
                getParamString: m,
                template: g,
                isArray: y,
                indexOf: v,
                emptyImageUrl: b,
                requestFn: w,
                cancelFn: x,
                requestAnimFrame: S,
                cancelAnimFrame: T
            });
            function k() {}
            k.extend = function(t) {
                var e = function() {
                    this.initialize && this.initialize.apply(this, arguments),
                    this.callInitHooks()
                }
                  , n = e.__super__ = this.prototype
                  , r = a(n);
                for (var o in r.constructor = e,
                e.prototype = r,
                this)
                    this.hasOwnProperty(o) && "prototype" !== o && "__super__" !== o && (e[o] = this[o]);
                return t.statics && (i(e, t.statics),
                delete t.statics),
                t.includes && (function(t) {
                    if ("undefined" !== typeof L && L && L.Mixin) {
                        t = y(t) ? t : [t];
                        for (var e = 0; e < t.length; e++)
                            t[e] === L.Mixin.Events && console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.", (new Error).stack)
                    }
                }(t.includes),
                i.apply(null, [r].concat(t.includes)),
                delete t.includes),
                r.options && (t.options = i(a(r.options), t.options)),
                i(r, t),
                r._initHooks = [],
                r.callInitHooks = function() {
                    if (!this._initHooksCalled) {
                        n.callInitHooks && n.callInitHooks.call(this),
                        this._initHooksCalled = !0;
                        for (var t = 0, e = r._initHooks.length; t < e; t++)
                            r._initHooks[t].call(this)
                    }
                }
                ,
                e
            }
            ,
            k.include = function(t) {
                return i(this.prototype, t),
                this
            }
            ,
            k.mergeOptions = function(t) {
                return i(this.prototype.options, t),
                this
            }
            ,
            k.addInitHook = function(t) {
                var e = Array.prototype.slice.call(arguments, 1)
                  , i = "function" === typeof t ? t : function() {
                    this[t].apply(this, e)
                }
                ;
                return this.prototype._initHooks = this.prototype._initHooks || [],
                this.prototype._initHooks.push(i),
                this
            }
            ;
            var P = {
                on: function(t, e, i) {
                    if ("object" === typeof t)
                        for (var a in t)
                            this._on(a, t[a], e);
                    else {
                        t = d(t);
                        for (var n = 0, r = t.length; n < r; n++)
                            this._on(t[n], e, i)
                    }
                    return this
                },
                off: function(t, e, i) {
                    if (t)
                        if ("object" === typeof t)
                            for (var a in t)
                                this._off(a, t[a], e);
                        else {
                            t = d(t);
                            for (var n = 0, r = t.length; n < r; n++)
                                this._off(t[n], e, i)
                        }
                    else
                        delete this._events;
                    return this
                },
                _on: function(t, e, i) {
                    this._events = this._events || {};
                    var a = this._events[t];
                    a || (a = [],
                    this._events[t] = a),
                    i === this && (i = void 0);
                    for (var n = {
                        fn: e,
                        ctx: i
                    }, r = a, o = 0, s = r.length; o < s; o++)
                        if (r[o].fn === e && r[o].ctx === i)
                            return;
                    r.push(n)
                },
                _off: function(t, e, i) {
                    var a, n, r;
                    if (this._events && (a = this._events[t]))
                        if (e) {
                            if (i === this && (i = void 0),
                            a)
                                for (n = 0,
                                r = a.length; n < r; n++) {
                                    var o = a[n];
                                    if (o.ctx === i && o.fn === e)
                                        return o.fn = c,
                                        this._firingCount && (this._events[t] = a = a.slice()),
                                        void a.splice(n, 1)
                                }
                        } else {
                            for (n = 0,
                            r = a.length; n < r; n++)
                                a[n].fn = c;
                            delete this._events[t]
                        }
                },
                fire: function(t, e, a) {
                    if (!this.listens(t, a))
                        return this;
                    var n = i({}, e, {
                        type: t,
                        target: this,
                        sourceTarget: e && e.sourceTarget || this
                    });
                    if (this._events) {
                        var r = this._events[t];
                        if (r) {
                            this._firingCount = this._firingCount + 1 || 1;
                            for (var o = 0, s = r.length; o < s; o++) {
                                var l = r[o];
                                l.fn.call(l.ctx || this, n)
                            }
                            this._firingCount--
                        }
                    }
                    return a && this._propagateEvent(n),
                    this
                },
                listens: function(t, e) {
                    var i = this._events && this._events[t];
                    if (i && i.length)
                        return !0;
                    if (e)
                        for (var a in this._eventParents)
                            if (this._eventParents[a].listens(t, e))
                                return !0;
                    return !1
                },
                once: function(t, e, i) {
                    if ("object" === typeof t) {
                        for (var a in t)
                            this.once(a, t[a], e);
                        return this
                    }
                    var r = n(function() {
                        this.off(t, e, i).off(t, r, i)
                    }, this);
                    return this.on(t, e, i).on(t, r, i)
                },
                addEventParent: function(t) {
                    return this._eventParents = this._eventParents || {},
                    this._eventParents[o(t)] = t,
                    this
                },
                removeEventParent: function(t) {
                    return this._eventParents && delete this._eventParents[o(t)],
                    this
                },
                _propagateEvent: function(t) {
                    for (var e in this._eventParents)
                        this._eventParents[e].fire(t.type, i({
                            layer: t.target,
                            propagatedFrom: t.target
                        }, t), !0)
                }
            };
            P.addEventListener = P.on,
            P.removeEventListener = P.clearAllEventListeners = P.off,
            P.addOneTimeEventListener = P.once,
            P.fireEvent = P.fire,
            P.hasEventListeners = P.listens;
            var I = k.extend(P);
            function z(t, e, i) {
                this.x = i ? Math.round(t) : t,
                this.y = i ? Math.round(e) : e
            }
            var B = Math.trunc || function(t) {
                return t > 0 ? Math.floor(t) : Math.ceil(t)
            }
            ;
            function D(t, e, i) {
                return t instanceof z ? t : y(t) ? new z(t[0],t[1]) : void 0 === t || null === t ? t : "object" === typeof t && "x"in t && "y"in t ? new z(t.x,t.y) : new z(t,e,i)
            }
            function M(t, e) {
                if (t)
                    for (var i = e ? [t, e] : t, a = 0, n = i.length; a < n; a++)
                        this.extend(i[a])
            }
            function O(t, e) {
                return !t || t instanceof M ? t : new M(t,e)
            }
            function R(t, e) {
                if (t)
                    for (var i = e ? [t, e] : t, a = 0, n = i.length; a < n; a++)
                        this.extend(i[a])
            }
            function N(t, e) {
                return t instanceof R ? t : new R(t,e)
            }
            function V(t, e, i) {
                if (isNaN(t) || isNaN(e))
                    throw new Error("Invalid LatLng object: (" + t + ", " + e + ")");
                this.lat = +t,
                this.lng = +e,
                void 0 !== i && (this.alt = +i)
            }
            function j(t, e, i) {
                return t instanceof V ? t : y(t) && "object" !== typeof t[0] ? 3 === t.length ? new V(t[0],t[1],t[2]) : 2 === t.length ? new V(t[0],t[1]) : null : void 0 === t || null === t ? t : "object" === typeof t && "lat"in t ? new V(t.lat,"lng"in t ? t.lng : t.lon,t.alt) : void 0 === e ? null : new V(t,e,i)
            }
            z.prototype = {
                clone: function() {
                    return new z(this.x,this.y)
                },
                add: function(t) {
                    return this.clone()._add(D(t))
                },
                _add: function(t) {
                    return this.x += t.x,
                    this.y += t.y,
                    this
                },
                subtract: function(t) {
                    return this.clone()._subtract(D(t))
                },
                _subtract: function(t) {
                    return this.x -= t.x,
                    this.y -= t.y,
                    this
                },
                divideBy: function(t) {
                    return this.clone()._divideBy(t)
                },
                _divideBy: function(t) {
                    return this.x /= t,
                    this.y /= t,
                    this
                },
                multiplyBy: function(t) {
                    return this.clone()._multiplyBy(t)
                },
                _multiplyBy: function(t) {
                    return this.x *= t,
                    this.y *= t,
                    this
                },
                scaleBy: function(t) {
                    return new z(this.x * t.x,this.y * t.y)
                },
                unscaleBy: function(t) {
                    return new z(this.x / t.x,this.y / t.y)
                },
                round: function() {
                    return this.clone()._round()
                },
                _round: function() {
                    return this.x = Math.round(this.x),
                    this.y = Math.round(this.y),
                    this
                },
                floor: function() {
                    return this.clone()._floor()
                },
                _floor: function() {
                    return this.x = Math.floor(this.x),
                    this.y = Math.floor(this.y),
                    this
                },
                ceil: function() {
                    return this.clone()._ceil()
                },
                _ceil: function() {
                    return this.x = Math.ceil(this.x),
                    this.y = Math.ceil(this.y),
                    this
                },
                trunc: function() {
                    return this.clone()._trunc()
                },
                _trunc: function() {
                    return this.x = B(this.x),
                    this.y = B(this.y),
                    this
                },
                distanceTo: function(t) {
                    var e = (t = D(t)).x - this.x
                      , i = t.y - this.y;
                    return Math.sqrt(e * e + i * i)
                },
                equals: function(t) {
                    return (t = D(t)).x === this.x && t.y === this.y
                },
                contains: function(t) {
                    return t = D(t),
                    Math.abs(t.x) <= Math.abs(this.x) && Math.abs(t.y) <= Math.abs(this.y)
                },
                toString: function() {
                    return "Point(" + h(this.x) + ", " + h(this.y) + ")"
                }
            },
            M.prototype = {
                extend: function(t) {
                    return t = D(t),
                    this.min || this.max ? (this.min.x = Math.min(t.x, this.min.x),
                    this.max.x = Math.max(t.x, this.max.x),
                    this.min.y = Math.min(t.y, this.min.y),
                    this.max.y = Math.max(t.y, this.max.y)) : (this.min = t.clone(),
                    this.max = t.clone()),
                    this
                },
                getCenter: function(t) {
                    return new z((this.min.x + this.max.x) / 2,(this.min.y + this.max.y) / 2,t)
                },
                getBottomLeft: function() {
                    return new z(this.min.x,this.max.y)
                },
                getTopRight: function() {
                    return new z(this.max.x,this.min.y)
                },
                getTopLeft: function() {
                    return this.min
                },
                getBottomRight: function() {
                    return this.max
                },
                getSize: function() {
                    return this.max.subtract(this.min)
                },
                contains: function(t) {
                    var e, i;
                    return (t = "number" === typeof t[0] || t instanceof z ? D(t) : O(t))instanceof M ? (e = t.min,
                    i = t.max) : e = i = t,
                    e.x >= this.min.x && i.x <= this.max.x && e.y >= this.min.y && i.y <= this.max.y
                },
                intersects: function(t) {
                    t = O(t);
                    var e = this.min
                      , i = this.max
                      , a = t.min
                      , n = t.max
                      , r = n.x >= e.x && a.x <= i.x
                      , o = n.y >= e.y && a.y <= i.y;
                    return r && o
                },
                overlaps: function(t) {
                    t = O(t);
                    var e = this.min
                      , i = this.max
                      , a = t.min
                      , n = t.max
                      , r = n.x > e.x && a.x < i.x
                      , o = n.y > e.y && a.y < i.y;
                    return r && o
                },
                isValid: function() {
                    return !(!this.min || !this.max)
                }
            },
            R.prototype = {
                extend: function(t) {
                    var e, i, a = this._southWest, n = this._northEast;
                    if (t instanceof V)
                        e = t,
                        i = t;
                    else {
                        if (!(t instanceof R))
                            return t ? this.extend(j(t) || N(t)) : this;
                        if (e = t._southWest,
                        i = t._northEast,
                        !e || !i)
                            return this
                    }
                    return a || n ? (a.lat = Math.min(e.lat, a.lat),
                    a.lng = Math.min(e.lng, a.lng),
                    n.lat = Math.max(i.lat, n.lat),
                    n.lng = Math.max(i.lng, n.lng)) : (this._southWest = new V(e.lat,e.lng),
                    this._northEast = new V(i.lat,i.lng)),
                    this
                },
                pad: function(t) {
                    var e = this._southWest
                      , i = this._northEast
                      , a = Math.abs(e.lat - i.lat) * t
                      , n = Math.abs(e.lng - i.lng) * t;
                    return new R(new V(e.lat - a,e.lng - n),new V(i.lat + a,i.lng + n))
                },
                getCenter: function() {
                    return new V((this._southWest.lat + this._northEast.lat) / 2,(this._southWest.lng + this._northEast.lng) / 2)
                },
                getSouthWest: function() {
                    return this._southWest
                },
                getNorthEast: function() {
                    return this._northEast
                },
                getNorthWest: function() {
                    return new V(this.getNorth(),this.getWest())
                },
                getSouthEast: function() {
                    return new V(this.getSouth(),this.getEast())
                },
                getWest: function() {
                    return this._southWest.lng
                },
                getSouth: function() {
                    return this._southWest.lat
                },
                getEast: function() {
                    return this._northEast.lng
                },
                getNorth: function() {
                    return this._northEast.lat
                },
                contains: function(t) {
                    t = "number" === typeof t[0] || t instanceof V || "lat"in t ? j(t) : N(t);
                    var e, i, a = this._southWest, n = this._northEast;
                    return t instanceof R ? (e = t.getSouthWest(),
                    i = t.getNorthEast()) : e = i = t,
                    e.lat >= a.lat && i.lat <= n.lat && e.lng >= a.lng && i.lng <= n.lng
                },
                intersects: function(t) {
                    t = N(t);
                    var e = this._southWest
                      , i = this._northEast
                      , a = t.getSouthWest()
                      , n = t.getNorthEast()
                      , r = n.lat >= e.lat && a.lat <= i.lat
                      , o = n.lng >= e.lng && a.lng <= i.lng;
                    return r && o
                },
                overlaps: function(t) {
                    t = N(t);
                    var e = this._southWest
                      , i = this._northEast
                      , a = t.getSouthWest()
                      , n = t.getNorthEast()
                      , r = n.lat > e.lat && a.lat < i.lat
                      , o = n.lng > e.lng && a.lng < i.lng;
                    return r && o
                },
                toBBoxString: function() {
                    return [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(",")
                },
                equals: function(t, e) {
                    return !!t && (t = N(t),
                    this._southWest.equals(t.getSouthWest(), e) && this._northEast.equals(t.getNorthEast(), e))
                },
                isValid: function() {
                    return !(!this._southWest || !this._northEast)
                }
            },
            V.prototype = {
                equals: function(t, e) {
                    if (!t)
                        return !1;
                    t = j(t);
                    var i = Math.max(Math.abs(this.lat - t.lat), Math.abs(this.lng - t.lng));
                    return i <= (void 0 === e ? 1e-9 : e)
                },
                toString: function(t) {
                    return "LatLng(" + h(this.lat, t) + ", " + h(this.lng, t) + ")"
                },
                distanceTo: function(t) {
                    return G.distance(this, j(t))
                },
                wrap: function() {
                    return G.wrapLatLng(this)
                },
                toBounds: function(t) {
                    var e = 180 * t / 40075017
                      , i = e / Math.cos(Math.PI / 180 * this.lat);
                    return N([this.lat - e, this.lng - i], [this.lat + e, this.lng + i])
                },
                clone: function() {
                    return new V(this.lat,this.lng,this.alt)
                }
            };
            var F = {
                latLngToPoint: function(t, e) {
                    var i = this.projection.project(t)
                      , a = this.scale(e);
                    return this.transformation._transform(i, a)
                },
                pointToLatLng: function(t, e) {
                    var i = this.scale(e)
                      , a = this.transformation.untransform(t, i);
                    return this.projection.unproject(a)
                },
                project: function(t) {
                    return this.projection.project(t)
                },
                unproject: function(t) {
                    return this.projection.unproject(t)
                },
                scale: function(t) {
                    return 256 * Math.pow(2, t)
                },
                zoom: function(t) {
                    return Math.log(t / 256) / Math.LN2
                },
                getProjectedBounds: function(t) {
                    if (this.infinite)
                        return null;
                    var e = this.projection.bounds
                      , i = this.scale(t)
                      , a = this.transformation.transform(e.min, i)
                      , n = this.transformation.transform(e.max, i);
                    return new M(a,n)
                },
                infinite: !1,
                wrapLatLng: function(t) {
                    var e = this.wrapLng ? l(t.lng, this.wrapLng, !0) : t.lng
                      , i = this.wrapLat ? l(t.lat, this.wrapLat, !0) : t.lat
                      , a = t.alt;
                    return new V(i,e,a)
                },
                wrapLatLngBounds: function(t) {
                    var e = t.getCenter()
                      , i = this.wrapLatLng(e)
                      , a = e.lat - i.lat
                      , n = e.lng - i.lng;
                    if (0 === a && 0 === n)
                        return t;
                    var r = t.getSouthWest()
                      , o = t.getNorthEast()
                      , s = new V(r.lat - a,r.lng - n)
                      , l = new V(o.lat - a,o.lng - n);
                    return new R(s,l)
                }
            }
              , G = i({}, F, {
                wrapLng: [-180, 180],
                R: 6371e3,
                distance: function(t, e) {
                    var i = Math.PI / 180
                      , a = t.lat * i
                      , n = e.lat * i
                      , r = Math.sin((e.lat - t.lat) * i / 2)
                      , o = Math.sin((e.lng - t.lng) * i / 2)
                      , s = r * r + Math.cos(a) * Math.cos(n) * o * o
                      , l = 2 * Math.atan2(Math.sqrt(s), Math.sqrt(1 - s));
                    return this.R * l
                }
            })
              , U = {
                R: 6378137,
                MAX_LATITUDE: 85.0511287798,
                project: function(t) {
                    var e = Math.PI / 180
                      , i = this.MAX_LATITUDE
                      , a = Math.max(Math.min(i, t.lat), -i)
                      , n = Math.sin(a * e);
                    return new z(this.R * t.lng * e,this.R * Math.log((1 + n) / (1 - n)) / 2)
                },
                unproject: function(t) {
                    var e = 180 / Math.PI;
                    return new V((2 * Math.atan(Math.exp(t.y / this.R)) - Math.PI / 2) * e,t.x * e / this.R)
                },
                bounds: function() {
                    var t = 6378137 * Math.PI;
                    return new M([-t, -t],[t, t])
                }()
            };
            function H(t, e, i, a) {
                if (y(t))
                    return this._a = t[0],
                    this._b = t[1],
                    this._c = t[2],
                    void (this._d = t[3]);
                this._a = t,
                this._b = e,
                this._c = i,
                this._d = a
            }
            function K(t, e, i, a) {
                return new H(t,e,i,a)
            }
            H.prototype = {
                transform: function(t, e) {
                    return this._transform(t.clone(), e)
                },
                _transform: function(t, e) {
                    return e = e || 1,
                    t.x = e * (this._a * t.x + this._b),
                    t.y = e * (this._c * t.y + this._d),
                    t
                },
                untransform: function(t, e) {
                    return e = e || 1,
                    new z((t.x / e - this._b) / this._a,(t.y / e - this._d) / this._c)
                }
            };
            var W = i({}, G, {
                code: "EPSG:3857",
                projection: U,
                transformation: function() {
                    var t = .5 / (Math.PI * U.R);
                    return K(t, .5, -t, .5)
                }()
            })
              , Q = i({}, W, {
                code: "EPSG:900913"
            });
            function Y(t) {
                return document.createElementNS("http://www.w3.org/2000/svg", t)
            }
            function Z(t, e) {
                var i, a, n, r, o, s, l = "";
                for (i = 0,
                n = t.length; i < n; i++) {
                    for (o = t[i],
                    a = 0,
                    r = o.length; a < r; a++)
                        s = o[a],
                        l += (a ? "L" : "M") + s.x + " " + s.y;
                    l += e ? Tt ? "z" : "x" : ""
                }
                return l || "M0 0"
            }
            var $ = document.documentElement.style
              , q = "ActiveXObject"in window
              , X = q && !document.addEventListener
              , J = "msLaunchUri"in navigator && !("documentMode"in document)
              , tt = kt("webkit")
              , et = kt("android")
              , it = kt("android 2") || kt("android 3")
              , at = parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1], 10)
              , nt = et && kt("Google") && at < 537 && !("AudioNode"in window)
              , rt = !!window.opera
              , ot = kt("chrome")
              , st = kt("gecko") && !tt && !rt && !q
              , lt = !ot && kt("safari")
              , ct = kt("phantom")
              , ht = "OTransition"in $
              , pt = 0 === navigator.platform.indexOf("Win")
              , dt = q && "transition"in $
              , ut = "WebKitCSSMatrix"in window && "m11"in new window.WebKitCSSMatrix && !it
              , mt = "MozPerspective"in $
              , ft = !window.L_DISABLE_3D && (dt || ut || mt) && !ht && !ct
              , gt = "undefined" !== typeof orientation || kt("mobile")
              , yt = gt && tt
              , vt = gt && ut
              , bt = !window.PointerEvent && window.MSPointerEvent
              , At = !(!window.PointerEvent && !bt)
              , _t = !window.L_NO_TOUCH && (At || "ontouchstart"in window || window.DocumentTouch && document instanceof window.DocumentTouch)
              , Ct = gt && rt
              , wt = gt && st
              , xt = (window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI) > 1
              , St = !!document.createElement("canvas").getContext
              , Tt = !(!document.createElementNS || !Y("svg").createSVGRect)
              , Et = !Tt && function() {
                try {
                    var t = document.createElement("div");
                    t.innerHTML = '<v:shape adj="1"/>';
                    var e = t.firstChild;
                    return e.style.behavior = "url(#default#VML)",
                    e && "object" === typeof e.adj
                } catch (i) {
                    return !1
                }
            }();
            function kt(t) {
                return navigator.userAgent.toLowerCase().indexOf(t) >= 0
            }
            var Lt = (Object.freeze || Object)({
                ie: q,
                ielt9: X,
                edge: J,
                webkit: tt,
                android: et,
                android23: it,
                androidStock: nt,
                opera: rt,
                chrome: ot,
                gecko: st,
                safari: lt,
                phantom: ct,
                opera12: ht,
                win: pt,
                ie3d: dt,
                webkit3d: ut,
                gecko3d: mt,
                any3d: ft,
                mobile: gt,
                mobileWebkit: yt,
                mobileWebkit3d: vt,
                msPointer: bt,
                pointer: At,
                touch: _t,
                mobileOpera: Ct,
                mobileGecko: wt,
                retina: xt,
                canvas: St,
                svg: Tt,
                vml: Et
            })
              , Pt = bt ? "MSPointerDown" : "pointerdown"
              , It = bt ? "MSPointerMove" : "pointermove"
              , zt = bt ? "MSPointerUp" : "pointerup"
              , Bt = bt ? "MSPointerCancel" : "pointercancel"
              , Dt = ["INPUT", "SELECT", "OPTION"]
              , Mt = {}
              , Ot = !1
              , Rt = 0;
            function Nt(t, e, i, a) {
                return "touchstart" === e ? function(t, e, i) {
                    var a = n(function(t) {
                        if ("mouse" !== t.pointerType && t.MSPOINTER_TYPE_MOUSE && t.pointerType !== t.MSPOINTER_TYPE_MOUSE) {
                            if (!(Dt.indexOf(t.target.tagName) < 0))
                                return;
                            Me(t)
                        }
                        Gt(t, e)
                    });
                    t["_leaflet_touchstart" + i] = a,
                    t.addEventListener(Pt, a, !1),
                    Ot || (document.documentElement.addEventListener(Pt, Vt, !0),
                    document.documentElement.addEventListener(It, jt, !0),
                    document.documentElement.addEventListener(zt, Ft, !0),
                    document.documentElement.addEventListener(Bt, Ft, !0),
                    Ot = !0)
                }(t, i, a) : "touchmove" === e ? function(t, e, i) {
                    var a = function(t) {
                        (t.pointerType !== t.MSPOINTER_TYPE_MOUSE && "mouse" !== t.pointerType || 0 !== t.buttons) && Gt(t, e)
                    };
                    t["_leaflet_touchmove" + i] = a,
                    t.addEventListener(It, a, !1)
                }(t, i, a) : "touchend" === e && function(t, e, i) {
                    var a = function(t) {
                        Gt(t, e)
                    };
                    t["_leaflet_touchend" + i] = a,
                    t.addEventListener(zt, a, !1),
                    t.addEventListener(Bt, a, !1)
                }(t, i, a),
                this
            }
            function Vt(t) {
                Mt[t.pointerId] = t,
                Rt++
            }
            function jt(t) {
                Mt[t.pointerId] && (Mt[t.pointerId] = t)
            }
            function Ft(t) {
                delete Mt[t.pointerId],
                Rt--
            }
            function Gt(t, e) {
                for (var i in t.touches = [],
                Mt)
                    t.touches.push(Mt[i]);
                t.changedTouches = [t],
                e(t)
            }
            var Ut = bt ? "MSPointerDown" : At ? "pointerdown" : "touchstart"
              , Ht = bt ? "MSPointerUp" : At ? "pointerup" : "touchend"
              , Kt = "_leaflet_";
            function Wt(t, e, i) {
                var a, n, r = !1, o = 250;
                function s(t) {
                    var e;
                    if (At) {
                        if (!J || "mouse" === t.pointerType)
                            return;
                        e = Rt
                    } else
                        e = t.touches.length;
                    if (!(e > 1)) {
                        var i = Date.now()
                          , s = i - (a || i);
                        n = t.touches ? t.touches[0] : t,
                        r = s > 0 && s <= o,
                        a = i
                    }
                }
                function l(t) {
                    if (r && !n.cancelBubble) {
                        if (At) {
                            if (!J || "mouse" === t.pointerType)
                                return;
                            var i, o, s = {};
                            for (o in n)
                                i = n[o],
                                s[o] = i && i.bind ? i.bind(n) : i;
                            n = s
                        }
                        n.type = "dblclick",
                        n.button = 0,
                        e(n),
                        a = null
                    }
                }
                return t[Kt + Ut + i] = s,
                t[Kt + Ht + i] = l,
                t[Kt + "dblclick" + i] = e,
                t.addEventListener(Ut, s, !1),
                t.addEventListener(Ht, l, !1),
                t.addEventListener("dblclick", e, !1),
                this
            }
            function Qt(t, e) {
                var i = t[Kt + Ut + e]
                  , a = t[Kt + Ht + e]
                  , n = t[Kt + "dblclick" + e];
                return t.removeEventListener(Ut, i, !1),
                t.removeEventListener(Ht, a, !1),
                J || t.removeEventListener("dblclick", n, !1),
                this
            }
            var Yt, Zt, $t, qt, Xt, Jt = fe(["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]), te = fe(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]), ee = "webkitTransition" === te || "OTransition" === te ? te + "End" : "transitionend";
            function ie(t) {
                return "string" === typeof t ? document.getElementById(t) : t
            }
            function ae(t, e) {
                var i = t.style[e] || t.currentStyle && t.currentStyle[e];
                if ((!i || "auto" === i) && document.defaultView) {
                    var a = document.defaultView.getComputedStyle(t, null);
                    i = a ? a[e] : null
                }
                return "auto" === i ? null : i
            }
            function ne(t, e, i) {
                var a = document.createElement(t);
                return a.className = e || "",
                i && i.appendChild(a),
                a
            }
            function re(t) {
                var e = t.parentNode;
                e && e.removeChild(t)
            }
            function oe(t) {
                for (; t.firstChild; )
                    t.removeChild(t.firstChild)
            }
            function se(t) {
                var e = t.parentNode;
                e && e.lastChild !== t && e.appendChild(t)
            }
            function le(t) {
                var e = t.parentNode;
                e && e.firstChild !== t && e.insertBefore(t, e.firstChild)
            }
            function ce(t, e) {
                if (void 0 !== t.classList)
                    return t.classList.contains(e);
                var i = ue(t);
                return i.length > 0 && new RegExp("(^|\\s)" + e + "(\\s|$)").test(i)
            }
            function he(t, e) {
                if (void 0 !== t.classList)
                    for (var i = d(e), a = 0, n = i.length; a < n; a++)
                        t.classList.add(i[a]);
                else if (!ce(t, e)) {
                    var r = ue(t);
                    de(t, (r ? r + " " : "") + e)
                }
            }
            function pe(t, e) {
                void 0 !== t.classList ? t.classList.remove(e) : de(t, p((" " + ue(t) + " ").replace(" " + e + " ", " ")))
            }
            function de(t, e) {
                void 0 === t.className.baseVal ? t.className = e : t.className.baseVal = e
            }
            function ue(t) {
                return t.correspondingElement && (t = t.correspondingElement),
                void 0 === t.className.baseVal ? t.className : t.className.baseVal
            }
            function me(t, e) {
                "opacity"in t.style ? t.style.opacity = e : "filter"in t.style && function(t, e) {
                    var i = !1
                      , a = "DXImageTransform.Microsoft.Alpha";
                    try {
                        i = t.filters.item(a)
                    } catch (n) {
                        if (1 === e)
                            return
                    }
                    e = Math.round(100 * e),
                    i ? (i.Enabled = 100 !== e,
                    i.Opacity = e) : t.style.filter += " progid:" + a + "(opacity=" + e + ")"
                }(t, e)
            }
            function fe(t) {
                for (var e = document.documentElement.style, i = 0; i < t.length; i++)
                    if (t[i]in e)
                        return t[i];
                return !1
            }
            function ge(t, e, i) {
                var a = e || new z(0,0);
                t.style[Jt] = (dt ? "translate(" + a.x + "px," + a.y + "px)" : "translate3d(" + a.x + "px," + a.y + "px,0)") + (i ? " scale(" + i + ")" : "")
            }
            function ye(t, e) {
                t._leaflet_pos = e,
                ft ? ge(t, e) : (t.style.left = e.x + "px",
                t.style.top = e.y + "px")
            }
            function ve(t) {
                return t._leaflet_pos || new z(0,0)
            }
            if ("onselectstart"in document)
                Yt = function() {
                    Ee(window, "selectstart", Me)
                }
                ,
                Zt = function() {
                    Le(window, "selectstart", Me)
                }
                ;
            else {
                var be = fe(["userSelect", "WebkitUserSelect", "OUserSelect", "MozUserSelect", "msUserSelect"]);
                Yt = function() {
                    if (be) {
                        var t = document.documentElement.style;
                        $t = t[be],
                        t[be] = "none"
                    }
                }
                ,
                Zt = function() {
                    be && (document.documentElement.style[be] = $t,
                    $t = void 0)
                }
            }
            function Ae() {
                Ee(window, "dragstart", Me)
            }
            function _e() {
                Le(window, "dragstart", Me)
            }
            function Ce(t) {
                for (; -1 === t.tabIndex; )
                    t = t.parentNode;
                t.style && (we(),
                qt = t,
                Xt = t.style.outline,
                t.style.outline = "none",
                Ee(window, "keydown", we))
            }
            function we() {
                qt && (qt.style.outline = Xt,
                qt = void 0,
                Xt = void 0,
                Le(window, "keydown", we))
            }
            function xe(t) {
                do {
                    t = t.parentNode
                } while ((!t.offsetWidth || !t.offsetHeight) && t !== document.body);return t
            }
            function Se(t) {
                var e = t.getBoundingClientRect();
                return {
                    x: e.width / t.offsetWidth || 1,
                    y: e.height / t.offsetHeight || 1,
                    boundingClientRect: e
                }
            }
            var Te = (Object.freeze || Object)({
                TRANSFORM: Jt,
                TRANSITION: te,
                TRANSITION_END: ee,
                get: ie,
                getStyle: ae,
                create: ne,
                remove: re,
                empty: oe,
                toFront: se,
                toBack: le,
                hasClass: ce,
                addClass: he,
                removeClass: pe,
                setClass: de,
                getClass: ue,
                setOpacity: me,
                testProp: fe,
                setTransform: ge,
                setPosition: ye,
                getPosition: ve,
                disableTextSelection: Yt,
                enableTextSelection: Zt,
                disableImageDrag: Ae,
                enableImageDrag: _e,
                preventOutline: Ce,
                restoreOutline: we,
                getSizedParentNode: xe,
                getScale: Se
            });
            function Ee(t, e, i, a) {
                if ("object" === typeof e)
                    for (var n in e)
                        Pe(t, n, e[n], i);
                else {
                    e = d(e);
                    for (var r = 0, o = e.length; r < o; r++)
                        Pe(t, e[r], i, a)
                }
                return this
            }
            var ke = "_leaflet_events";
            function Le(t, e, i, a) {
                if ("object" === typeof e)
                    for (var n in e)
                        Ie(t, n, e[n], i);
                else if (e) {
                    e = d(e);
                    for (var r = 0, o = e.length; r < o; r++)
                        Ie(t, e[r], i, a)
                } else {
                    for (var s in t[ke])
                        Ie(t, s, t[ke][s]);
                    delete t[ke]
                }
                return this
            }
            function Pe(t, e, i, a) {
                var n = e + o(i) + (a ? "_" + o(a) : "");
                if (t[ke] && t[ke][n])
                    return this;
                var r = function(e) {
                    return i.call(a || t, e || window.event)
                }
                  , s = r;
                At && 0 === e.indexOf("touch") ? Nt(t, e, r, n) : !_t || "dblclick" !== e || !Wt || At && ot ? "addEventListener"in t ? "mousewheel" === e ? t.addEventListener("onwheel"in t ? "wheel" : "mousewheel", r, !1) : "mouseenter" === e || "mouseleave" === e ? (r = function(e) {
                    e = e || window.event,
                    He(t, e) && s(e)
                }
                ,
                t.addEventListener("mouseenter" === e ? "mouseover" : "mouseout", r, !1)) : ("click" === e && et && (r = function(t) {
                    !function(t, e) {
                        var i = t.timeStamp || t.originalEvent && t.originalEvent.timeStamp
                          , a = je && i - je;
                        a && a > 100 && a < 500 || t.target._simulatedClick && !t._simulated ? Oe(t) : (je = i,
                        e(t))
                    }(t, s)
                }
                ),
                t.addEventListener(e, r, !1)) : "attachEvent"in t && t.attachEvent("on" + e, r) : Wt(t, r, n),
                t[ke] = t[ke] || {},
                t[ke][n] = r
            }
            function Ie(t, e, i, a) {
                var n = e + o(i) + (a ? "_" + o(a) : "")
                  , r = t[ke] && t[ke][n];
                if (!r)
                    return this;
                At && 0 === e.indexOf("touch") ? function(t, e, i) {
                    var a = t["_leaflet_" + e + i];
                    "touchstart" === e ? t.removeEventListener(Pt, a, !1) : "touchmove" === e ? t.removeEventListener(It, a, !1) : "touchend" === e && (t.removeEventListener(zt, a, !1),
                    t.removeEventListener(Bt, a, !1))
                }(t, e, n) : !_t || "dblclick" !== e || !Qt || At && ot ? "removeEventListener"in t ? "mousewheel" === e ? t.removeEventListener("onwheel"in t ? "wheel" : "mousewheel", r, !1) : t.removeEventListener("mouseenter" === e ? "mouseover" : "mouseleave" === e ? "mouseout" : e, r, !1) : "detachEvent"in t && t.detachEvent("on" + e, r) : Qt(t, n),
                t[ke][n] = null
            }
            function ze(t) {
                return t.stopPropagation ? t.stopPropagation() : t.originalEvent ? t.originalEvent._stopped = !0 : t.cancelBubble = !0,
                Ue(t),
                this
            }
            function Be(t) {
                return Pe(t, "mousewheel", ze),
                this
            }
            function De(t) {
                return Ee(t, "mousedown touchstart dblclick", ze),
                Pe(t, "click", Ge),
                this
            }
            function Me(t) {
                return t.preventDefault ? t.preventDefault() : t.returnValue = !1,
                this
            }
            function Oe(t) {
                return Me(t),
                ze(t),
                this
            }
            function Re(t, e) {
                if (!e)
                    return new z(t.clientX,t.clientY);
                var i = Se(e)
                  , a = i.boundingClientRect;
                return new z((t.clientX - a.left) / i.x - e.clientLeft,(t.clientY - a.top) / i.y - e.clientTop)
            }
            var Ne = pt && ot ? 2 * window.devicePixelRatio : st ? window.devicePixelRatio : 1;
            function Ve(t) {
                return J ? t.wheelDeltaY / 2 : t.deltaY && 0 === t.deltaMode ? -t.deltaY / Ne : t.deltaY && 1 === t.deltaMode ? 20 * -t.deltaY : t.deltaY && 2 === t.deltaMode ? 60 * -t.deltaY : t.deltaX || t.deltaZ ? 0 : t.wheelDelta ? (t.wheelDeltaY || t.wheelDelta) / 2 : t.detail && Math.abs(t.detail) < 32765 ? 20 * -t.detail : t.detail ? t.detail / -32765 * 60 : 0
            }
            var je, Fe = {};
            function Ge(t) {
                Fe[t.type] = !0
            }
            function Ue(t) {
                var e = Fe[t.type];
                return Fe[t.type] = !1,
                e
            }
            function He(t, e) {
                var i = e.relatedTarget;
                if (!i)
                    return !0;
                try {
                    for (; i && i !== t; )
                        i = i.parentNode
                } catch (a) {
                    return !1
                }
                return i !== t
            }
            var Ke = (Object.freeze || Object)({
                on: Ee,
                off: Le,
                stopPropagation: ze,
                disableScrollPropagation: Be,
                disableClickPropagation: De,
                preventDefault: Me,
                stop: Oe,
                getMousePosition: Re,
                getWheelDelta: Ve,
                fakeStop: Ge,
                skipped: Ue,
                isExternalTarget: He,
                addListener: Ee,
                removeListener: Le
            })
              , We = I.extend({
                run: function(t, e, i, a) {
                    this.stop(),
                    this._el = t,
                    this._inProgress = !0,
                    this._duration = i || .25,
                    this._easeOutPower = 1 / Math.max(a || .5, .2),
                    this._startPos = ve(t),
                    this._offset = e.subtract(this._startPos),
                    this._startTime = +new Date,
                    this.fire("start"),
                    this._animate()
                },
                stop: function() {
                    this._inProgress && (this._step(!0),
                    this._complete())
                },
                _animate: function() {
                    this._animId = S(this._animate, this),
                    this._step()
                },
                _step: function(t) {
                    var e = +new Date - this._startTime
                      , i = 1e3 * this._duration;
                    e < i ? this._runFrame(this._easeOut(e / i), t) : (this._runFrame(1),
                    this._complete())
                },
                _runFrame: function(t, e) {
                    var i = this._startPos.add(this._offset.multiplyBy(t));
                    e && i._round(),
                    ye(this._el, i),
                    this.fire("step")
                },
                _complete: function() {
                    T(this._animId),
                    this._inProgress = !1,
                    this.fire("end")
                },
                _easeOut: function(t) {
                    return 1 - Math.pow(1 - t, this._easeOutPower)
                }
            })
              , Qe = I.extend({
                options: {
                    crs: W,
                    center: void 0,
                    zoom: void 0,
                    minZoom: void 0,
                    maxZoom: void 0,
                    layers: [],
                    maxBounds: void 0,
                    renderer: void 0,
                    zoomAnimation: !0,
                    zoomAnimationThreshold: 4,
                    fadeAnimation: !0,
                    markerZoomAnimation: !0,
                    transform3DLimit: 8388608,
                    zoomSnap: 1,
                    zoomDelta: 1,
                    trackResize: !0
                },
                initialize: function(t, e) {
                    e = u(this, e),
                    this._handlers = [],
                    this._layers = {},
                    this._zoomBoundLayers = {},
                    this._sizeChanged = !0,
                    this._initContainer(t),
                    this._initLayout(),
                    this._onResize = n(this._onResize, this),
                    this._initEvents(),
                    e.maxBounds && this.setMaxBounds(e.maxBounds),
                    void 0 !== e.zoom && (this._zoom = this._limitZoom(e.zoom)),
                    e.center && void 0 !== e.zoom && this.setView(j(e.center), e.zoom, {
                        reset: !0
                    }),
                    this.callInitHooks(),
                    this._zoomAnimated = te && ft && !Ct && this.options.zoomAnimation,
                    this._zoomAnimated && (this._createAnimProxy(),
                    Ee(this._proxy, ee, this._catchTransitionEnd, this)),
                    this._addLayers(this.options.layers)
                },
                setView: function(t, e, a) {
                    if (e = void 0 === e ? this._zoom : this._limitZoom(e),
                    t = this._limitCenter(j(t), e, this.options.maxBounds),
                    a = a || {},
                    this._stop(),
                    this._loaded && !a.reset && !0 !== a) {
                        void 0 !== a.animate && (a.zoom = i({
                            animate: a.animate
                        }, a.zoom),
                        a.pan = i({
                            animate: a.animate,
                            duration: a.duration
                        }, a.pan));
                        var n = this._zoom !== e ? this._tryAnimatedZoom && this._tryAnimatedZoom(t, e, a.zoom) : this._tryAnimatedPan(t, a.pan);
                        if (n)
                            return clearTimeout(this._sizeTimer),
                            this
                    }
                    return this._resetView(t, e),
                    this
                },
                setZoom: function(t, e) {
                    return this._loaded ? this.setView(this.getCenter(), t, {
                        zoom: e
                    }) : (this._zoom = t,
                    this)
                },
                zoomIn: function(t, e) {
                    return t = t || (ft ? this.options.zoomDelta : 1),
                    this.setZoom(this._zoom + t, e)
                },
                zoomOut: function(t, e) {
                    return t = t || (ft ? this.options.zoomDelta : 1),
                    this.setZoom(this._zoom - t, e)
                },
                setZoomAround: function(t, e, i) {
                    var a = this.getZoomScale(e)
                      , n = this.getSize().divideBy(2)
                      , r = t instanceof z ? t : this.latLngToContainerPoint(t)
                      , o = r.subtract(n).multiplyBy(1 - 1 / a)
                      , s = this.containerPointToLatLng(n.add(o));
                    return this.setView(s, e, {
                        zoom: i
                    })
                },
                _getBoundsCenterZoom: function(t, e) {
                    e = e || {},
                    t = t.getBounds ? t.getBounds() : N(t);
                    var i = D(e.paddingTopLeft || e.padding || [0, 0])
                      , a = D(e.paddingBottomRight || e.padding || [0, 0])
                      , n = this.getBoundsZoom(t, !1, i.add(a));
                    if ((n = "number" === typeof e.maxZoom ? Math.min(e.maxZoom, n) : n) === 1 / 0)
                        return {
                            center: t.getCenter(),
                            zoom: n
                        };
                    var r = a.subtract(i).divideBy(2)
                      , o = this.project(t.getSouthWest(), n)
                      , s = this.project(t.getNorthEast(), n)
                      , l = this.unproject(o.add(s).divideBy(2).add(r), n);
                    return {
                        center: l,
                        zoom: n
                    }
                },
                fitBounds: function(t, e) {
                    if (!(t = N(t)).isValid())
                        throw new Error("Bounds are not valid.");
                    var i = this._getBoundsCenterZoom(t, e);
                    return this.setView(i.center, i.zoom, e)
                },
                fitWorld: function(t) {
                    return this.fitBounds([[-90, -180], [90, 180]], t)
                },
                panTo: function(t, e) {
                    return this.setView(t, this._zoom, {
                        pan: e
                    })
                },
                panBy: function(t, e) {
                    if (t = D(t).round(),
                    e = e || {},
                    !t.x && !t.y)
                        return this.fire("moveend");
                    if (!0 !== e.animate && !this.getSize().contains(t))
                        return this._resetView(this.unproject(this.project(this.getCenter()).add(t)), this.getZoom()),
                        this;
                    if (this._panAnim || (this._panAnim = new We,
                    this._panAnim.on({
                        step: this._onPanTransitionStep,
                        end: this._onPanTransitionEnd
                    }, this)),
                    e.noMoveStart || this.fire("movestart"),
                    !1 !== e.animate) {
                        he(this._mapPane, "leaflet-pan-anim");
                        var i = this._getMapPanePos().subtract(t).round();
                        this._panAnim.run(this._mapPane, i, e.duration || .25, e.easeLinearity)
                    } else
                        this._rawPanBy(t),
                        this.fire("move").fire("moveend");
                    return this
                },
                flyTo: function(t, e, i) {
                    if (!1 === (i = i || {}).animate || !ft)
                        return this.setView(t, e, i);
                    this._stop();
                    var a = this.project(this.getCenter())
                      , n = this.project(t)
                      , r = this.getSize()
                      , o = this._zoom;
                    t = j(t),
                    e = void 0 === e ? o : e;
                    var s = Math.max(r.x, r.y)
                      , l = s * this.getZoomScale(o, e)
                      , c = n.distanceTo(a) || 1
                      , h = 1.42
                      , p = h * h;
                    function d(t) {
                        var e = t ? -1 : 1
                          , i = t ? l : s
                          , a = l * l - s * s + e * p * p * c * c
                          , n = 2 * i * p * c
                          , r = a / n
                          , o = Math.sqrt(r * r + 1) - r
                          , h = o < 1e-9 ? -18 : Math.log(o);
                        return h
                    }
                    function u(t) {
                        return (Math.exp(t) - Math.exp(-t)) / 2
                    }
                    function m(t) {
                        return (Math.exp(t) + Math.exp(-t)) / 2
                    }
                    var f = d(0);
                    function g(t) {
                        return s * (m(f) * (u(e = f + h * t) / m(e)) - u(f)) / p;
                        var e
                    }
                    var y = Date.now()
                      , v = (d(1) - f) / h
                      , b = i.duration ? 1e3 * i.duration : 1e3 * v * .8;
                    return this._moveStart(!0, i.noMoveStart),
                    function i() {
                        var r = (Date.now() - y) / b
                          , l = function(t) {
                            return 1 - Math.pow(1 - t, 1.5)
                        }(r) * v;
                        r <= 1 ? (this._flyToFrame = S(i, this),
                        this._move(this.unproject(a.add(n.subtract(a).multiplyBy(g(l) / c)), o), this.getScaleZoom(s / function(t) {
                            return s * (m(f) / m(f + h * t))
                        }(l), o), {
                            flyTo: !0
                        })) : this._move(t, e)._moveEnd(!0)
                    }
                    .call(this),
                    this
                },
                flyToBounds: function(t, e) {
                    var i = this._getBoundsCenterZoom(t, e);
                    return this.flyTo(i.center, i.zoom, e)
                },
                setMaxBounds: function(t) {
                    return (t = N(t)).isValid() ? (this.options.maxBounds && this.off("moveend", this._panInsideMaxBounds),
                    this.options.maxBounds = t,
                    this._loaded && this._panInsideMaxBounds(),
                    this.on("moveend", this._panInsideMaxBounds)) : (this.options.maxBounds = null,
                    this.off("moveend", this._panInsideMaxBounds))
                },
                setMinZoom: function(t) {
                    var e = this.options.minZoom;
                    return this.options.minZoom = t,
                    this._loaded && e !== t && (this.fire("zoomlevelschange"),
                    this.getZoom() < this.options.minZoom) ? this.setZoom(t) : this
                },
                setMaxZoom: function(t) {
                    var e = this.options.maxZoom;
                    return this.options.maxZoom = t,
                    this._loaded && e !== t && (this.fire("zoomlevelschange"),
                    this.getZoom() > this.options.maxZoom) ? this.setZoom(t) : this
                },
                panInsideBounds: function(t, e) {
                    this._enforcingBounds = !0;
                    var i = this.getCenter()
                      , a = this._limitCenter(i, this._zoom, N(t));
                    return i.equals(a) || this.panTo(a, e),
                    this._enforcingBounds = !1,
                    this
                },
                panInside: function(t, e) {
                    var i = D((e = e || {}).paddingTopLeft || e.padding || [0, 0])
                      , a = D(e.paddingBottomRight || e.padding || [0, 0])
                      , n = this.getCenter()
                      , r = this.project(n)
                      , o = this.project(t)
                      , s = this.getPixelBounds()
                      , l = s.getSize().divideBy(2)
                      , c = O([s.min.add(i), s.max.subtract(a)]);
                    if (!c.contains(o)) {
                        this._enforcingBounds = !0;
                        var h = r.subtract(o)
                          , p = D(o.x + h.x, o.y + h.y);
                        (o.x < c.min.x || o.x > c.max.x) && (p.x = r.x - h.x,
                        h.x > 0 ? p.x += l.x - i.x : p.x -= l.x - a.x),
                        (o.y < c.min.y || o.y > c.max.y) && (p.y = r.y - h.y,
                        h.y > 0 ? p.y += l.y - i.y : p.y -= l.y - a.y),
                        this.panTo(this.unproject(p), e),
                        this._enforcingBounds = !1
                    }
                    return this
                },
                invalidateSize: function(t) {
                    if (!this._loaded)
                        return this;
                    t = i({
                        animate: !1,
                        pan: !0
                    }, !0 === t ? {
                        animate: !0
                    } : t);
                    var e = this.getSize();
                    this._sizeChanged = !0,
                    this._lastCenter = null;
                    var a = this.getSize()
                      , r = e.divideBy(2).round()
                      , o = a.divideBy(2).round()
                      , s = r.subtract(o);
                    return s.x || s.y ? (t.animate && t.pan ? this.panBy(s) : (t.pan && this._rawPanBy(s),
                    this.fire("move"),
                    t.debounceMoveend ? (clearTimeout(this._sizeTimer),
                    this._sizeTimer = setTimeout(n(this.fire, this, "moveend"), 200)) : this.fire("moveend")),
                    this.fire("resize", {
                        oldSize: e,
                        newSize: a
                    })) : this
                },
                stop: function() {
                    return this.setZoom(this._limitZoom(this._zoom)),
                    this.options.zoomSnap || this.fire("viewreset"),
                    this._stop()
                },
                locate: function(t) {
                    if (t = this._locateOptions = i({
                        timeout: 1e4,
                        watch: !1
                    }, t),
                    !("geolocation"in navigator))
                        return this._handleGeolocationError({
                            code: 0,
                            message: "Geolocation not supported."
                        }),
                        this;
                    var e = n(this._handleGeolocationResponse, this)
                      , a = n(this._handleGeolocationError, this);
                    return t.watch ? this._locationWatchId = navigator.geolocation.watchPosition(e, a, t) : navigator.geolocation.getCurrentPosition(e, a, t),
                    this
                },
                stopLocate: function() {
                    return navigator.geolocation && navigator.geolocation.clearWatch && navigator.geolocation.clearWatch(this._locationWatchId),
                    this._locateOptions && (this._locateOptions.setView = !1),
                    this
                },
                _handleGeolocationError: function(t) {
                    var e = t.code
                      , i = t.message || (1 === e ? "permission denied" : 2 === e ? "position unavailable" : "timeout");
                    this._locateOptions.setView && !this._loaded && this.fitWorld(),
                    this.fire("locationerror", {
                        code: e,
                        message: "Geolocation error: " + i + "."
                    })
                },
                _handleGeolocationResponse: function(t) {
                    var e = t.coords.latitude
                      , i = t.coords.longitude
                      , a = new V(e,i)
                      , n = a.toBounds(2 * t.coords.accuracy)
                      , r = this._locateOptions;
                    if (r.setView) {
                        var o = this.getBoundsZoom(n);
                        this.setView(a, r.maxZoom ? Math.min(o, r.maxZoom) : o)
                    }
                    var s = {
                        latlng: a,
                        bounds: n,
                        timestamp: t.timestamp
                    };
                    for (var l in t.coords)
                        "number" === typeof t.coords[l] && (s[l] = t.coords[l]);
                    this.fire("locationfound", s)
                },
                addHandler: function(t, e) {
                    if (!e)
                        return this;
                    var i = this[t] = new e(this);
                    return this._handlers.push(i),
                    this.options[t] && i.enable(),
                    this
                },
                remove: function() {
                    if (this._initEvents(!0),
                    this._containerId !== this._container._leaflet_id)
                        throw new Error("Map container is being reused by another instance");
                    try {
                        delete this._container._leaflet_id,
                        delete this._containerId
                    } catch (e) {
                        this._container._leaflet_id = void 0,
                        this._containerId = void 0
                    }
                    var t;
                    for (t in void 0 !== this._locationWatchId && this.stopLocate(),
                    this._stop(),
                    re(this._mapPane),
                    this._clearControlPos && this._clearControlPos(),
                    this._resizeRequest && (T(this._resizeRequest),
                    this._resizeRequest = null),
                    this._clearHandlers(),
                    this._loaded && this.fire("unload"),
                    this._layers)
                        this._layers[t].remove();
                    for (t in this._panes)
                        re(this._panes[t]);
                    return this._layers = [],
                    this._panes = [],
                    delete this._mapPane,
                    delete this._renderer,
                    this
                },
                createPane: function(t, e) {
                    var i = "leaflet-pane" + (t ? " leaflet-" + t.replace("Pane", "") + "-pane" : "")
                      , a = ne("div", i, e || this._mapPane);
                    return t && (this._panes[t] = a),
                    a
                },
                getCenter: function() {
                    return this._checkIfLoaded(),
                    this._lastCenter && !this._moved() ? this._lastCenter : this.layerPointToLatLng(this._getCenterLayerPoint())
                },
                getZoom: function() {
                    return this._zoom
                },
                getBounds: function() {
                    var t = this.getPixelBounds()
                      , e = this.unproject(t.getBottomLeft())
                      , i = this.unproject(t.getTopRight());
                    return new R(e,i)
                },
                getMinZoom: function() {
                    return void 0 === this.options.minZoom ? this._layersMinZoom || 0 : this.options.minZoom
                },
                getMaxZoom: function() {
                    return void 0 === this.options.maxZoom ? void 0 === this._layersMaxZoom ? 1 / 0 : this._layersMaxZoom : this.options.maxZoom
                },
                getBoundsZoom: function(t, e, i) {
                    t = N(t),
                    i = D(i || [0, 0]);
                    var a = this.getZoom() || 0
                      , n = this.getMinZoom()
                      , r = this.getMaxZoom()
                      , o = t.getNorthWest()
                      , s = t.getSouthEast()
                      , l = this.getSize().subtract(i)
                      , c = O(this.project(s, a), this.project(o, a)).getSize()
                      , h = ft ? this.options.zoomSnap : 1
                      , p = l.x / c.x
                      , d = l.y / c.y
                      , u = e ? Math.max(p, d) : Math.min(p, d);
                    return a = this.getScaleZoom(u, a),
                    h && (a = Math.round(a / (h / 100)) * (h / 100),
                    a = e ? Math.ceil(a / h) * h : Math.floor(a / h) * h),
                    Math.max(n, Math.min(r, a))
                },
                getSize: function() {
                    return this._size && !this._sizeChanged || (this._size = new z(this._container.clientWidth || 0,this._container.clientHeight || 0),
                    this._sizeChanged = !1),
                    this._size.clone()
                },
                getPixelBounds: function(t, e) {
                    var i = this._getTopLeftPoint(t, e);
                    return new M(i,i.add(this.getSize()))
                },
                getPixelOrigin: function() {
                    return this._checkIfLoaded(),
                    this._pixelOrigin
                },
                getPixelWorldBounds: function(t) {
                    return this.options.crs.getProjectedBounds(void 0 === t ? this.getZoom() : t)
                },
                getPane: function(t) {
                    return "string" === typeof t ? this._panes[t] : t
                },
                getPanes: function() {
                    return this._panes
                },
                getContainer: function() {
                    return this._container
                },
                getZoomScale: function(t, e) {
                    var i = this.options.crs;
                    return e = void 0 === e ? this._zoom : e,
                    i.scale(t) / i.scale(e)
                },
                getScaleZoom: function(t, e) {
                    var i = this.options.crs;
                    e = void 0 === e ? this._zoom : e;
                    var a = i.zoom(t * i.scale(e));
                    return isNaN(a) ? 1 / 0 : a
                },
                project: function(t, e) {
                    return e = void 0 === e ? this._zoom : e,
                    this.options.crs.latLngToPoint(j(t), e)
                },
                unproject: function(t, e) {
                    return e = void 0 === e ? this._zoom : e,
                    this.options.crs.pointToLatLng(D(t), e)
                },
                layerPointToLatLng: function(t) {
                    var e = D(t).add(this.getPixelOrigin());
                    return this.unproject(e)
                },
                latLngToLayerPoint: function(t) {
                    var e = this.project(j(t))._round();
                    return e._subtract(this.getPixelOrigin())
                },
                wrapLatLng: function(t) {
                    return this.options.crs.wrapLatLng(j(t))
                },
                wrapLatLngBounds: function(t) {
                    return this.options.crs.wrapLatLngBounds(N(t))
                },
                distance: function(t, e) {
                    return this.options.crs.distance(j(t), j(e))
                },
                containerPointToLayerPoint: function(t) {
                    return D(t).subtract(this._getMapPanePos())
                },
                layerPointToContainerPoint: function(t) {
                    return D(t).add(this._getMapPanePos())
                },
                containerPointToLatLng: function(t) {
                    var e = this.containerPointToLayerPoint(D(t));
                    return this.layerPointToLatLng(e)
                },
                latLngToContainerPoint: function(t) {
                    return this.layerPointToContainerPoint(this.latLngToLayerPoint(j(t)))
                },
                mouseEventToContainerPoint: function(t) {
                    return Re(t, this._container)
                },
                mouseEventToLayerPoint: function(t) {
                    return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))
                },
                mouseEventToLatLng: function(t) {
                    return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))
                },
                _initContainer: function(t) {
                    var e = this._container = ie(t);
                    if (!e)
                        throw new Error("Map container not found.");
                    if (e._leaflet_id)
                        throw new Error("Map container is already initialized.");
                    Ee(e, "scroll", this._onScroll, this),
                    this._containerId = o(e)
                },
                _initLayout: function() {
                    var t = this._container;
                    this._fadeAnimated = this.options.fadeAnimation && ft,
                    he(t, "leaflet-container" + (_t ? " leaflet-touch" : "") + (xt ? " leaflet-retina" : "") + (X ? " leaflet-oldie" : "") + (lt ? " leaflet-safari" : "") + (this._fadeAnimated ? " leaflet-fade-anim" : ""));
                    var e = ae(t, "position");
                    "absolute" !== e && "relative" !== e && "fixed" !== e && (t.style.position = "relative"),
                    this._initPanes(),
                    this._initControlPos && this._initControlPos()
                },
                _initPanes: function() {
                    var t = this._panes = {};
                    this._paneRenderers = {},
                    this._mapPane = this.createPane("mapPane", this._container),
                    ye(this._mapPane, new z(0,0)),
                    this.createPane("tilePane"),
                    this.createPane("shadowPane"),
                    this.createPane("overlayPane"),
                    this.createPane("markerPane"),
                    this.createPane("tooltipPane"),
                    this.createPane("popupPane"),
                    this.options.markerZoomAnimation || (he(t.markerPane, "leaflet-zoom-hide"),
                    he(t.shadowPane, "leaflet-zoom-hide"))
                },
                _resetView: function(t, e) {
                    ye(this._mapPane, new z(0,0));
                    var i = !this._loaded;
                    this._loaded = !0,
                    e = this._limitZoom(e),
                    this.fire("viewprereset");
                    var a = this._zoom !== e;
                    this._moveStart(a, !1)._move(t, e)._moveEnd(a),
                    this.fire("viewreset"),
                    i && this.fire("load")
                },
                _moveStart: function(t, e) {
                    return t && this.fire("zoomstart"),
                    e || this.fire("movestart"),
                    this
                },
                _move: function(t, e, i) {
                    void 0 === e && (e = this._zoom);
                    var a = this._zoom !== e;
                    return this._zoom = e,
                    this._lastCenter = t,
                    this._pixelOrigin = this._getNewPixelOrigin(t),
                    (a || i && i.pinch) && this.fire("zoom", i),
                    this.fire("move", i)
                },
                _moveEnd: function(t) {
                    return t && this.fire("zoomend"),
                    this.fire("moveend")
                },
                _stop: function() {
                    return T(this._flyToFrame),
                    this._panAnim && this._panAnim.stop(),
                    this
                },
                _rawPanBy: function(t) {
                    ye(this._mapPane, this._getMapPanePos().subtract(t))
                },
                _getZoomSpan: function() {
                    return this.getMaxZoom() - this.getMinZoom()
                },
                _panInsideMaxBounds: function() {
                    this._enforcingBounds || this.panInsideBounds(this.options.maxBounds)
                },
                _checkIfLoaded: function() {
                    if (!this._loaded)
                        throw new Error("Set map center and zoom first.")
                },
                _initEvents: function(t) {
                    this._targets = {},
                    this._targets[o(this._container)] = this;
                    var e = t ? Le : Ee;
                    e(this._container, "click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup", this._handleDOMEvent, this),
                    this.options.trackResize && e(window, "resize", this._onResize, this),
                    ft && this.options.transform3DLimit && (t ? this.off : this.on).call(this, "moveend", this._onMoveEnd)
                },
                _onResize: function() {
                    T(this._resizeRequest),
                    this._resizeRequest = S(function() {
                        this.invalidateSize({
                            debounceMoveend: !0
                        })
                    }, this)
                },
                _onScroll: function() {
                    this._container.scrollTop = 0,
                    this._container.scrollLeft = 0
                },
                _onMoveEnd: function() {
                    var t = this._getMapPanePos();
                    Math.max(Math.abs(t.x), Math.abs(t.y)) >= this.options.transform3DLimit && this._resetView(this.getCenter(), this.getZoom())
                },
                _findEventTargets: function(t, e) {
                    for (var i, a = [], n = "mouseout" === e || "mouseover" === e, r = t.target || t.srcElement, s = !1; r; ) {
                        if ((i = this._targets[o(r)]) && ("click" === e || "preclick" === e) && !t._simulated && this._draggableMoved(i)) {
                            s = !0;
                            break
                        }
                        if (i && i.listens(e, !0)) {
                            if (n && !He(r, t))
                                break;
                            if (a.push(i),
                            n)
                                break
                        }
                        if (r === this._container)
                            break;
                        r = r.parentNode
                    }
                    return a.length || s || n || !He(r, t) || (a = [this]),
                    a
                },
                _handleDOMEvent: function(t) {
                    if (this._loaded && !Ue(t)) {
                        var e = t.type;
                        "mousedown" !== e && "keypress" !== e && "keyup" !== e && "keydown" !== e || Ce(t.target || t.srcElement),
                        this._fireDOMEvent(t, e)
                    }
                },
                _mouseEvents: ["click", "dblclick", "mouseover", "mouseout", "contextmenu"],
                _fireDOMEvent: function(t, e, a) {
                    if ("click" === t.type) {
                        var n = i({}, t);
                        n.type = "preclick",
                        this._fireDOMEvent(n, n.type, a)
                    }
                    if (!t._stopped && (a = (a || []).concat(this._findEventTargets(t, e))).length) {
                        var r = a[0];
                        "contextmenu" === e && r.listens(e, !0) && Me(t);
                        var o = {
                            originalEvent: t
                        };
                        if ("keypress" !== t.type && "keydown" !== t.type && "keyup" !== t.type) {
                            var s = r.getLatLng && (!r._radius || r._radius <= 10);
                            o.containerPoint = s ? this.latLngToContainerPoint(r.getLatLng()) : this.mouseEventToContainerPoint(t),
                            o.layerPoint = this.containerPointToLayerPoint(o.containerPoint),
                            o.latlng = s ? r.getLatLng() : this.layerPointToLatLng(o.layerPoint)
                        }
                        for (var l = 0; l < a.length; l++)
                            if (a[l].fire(e, o, !0),
                            o.originalEvent._stopped || !1 === a[l].options.bubblingMouseEvents && -1 !== v(this._mouseEvents, e))
                                return
                    }
                },
                _draggableMoved: function(t) {
                    return (t = t.dragging && t.dragging.enabled() ? t : this).dragging && t.dragging.moved() || this.boxZoom && this.boxZoom.moved()
                },
                _clearHandlers: function() {
                    for (var t = 0, e = this._handlers.length; t < e; t++)
                        this._handlers[t].disable()
                },
                whenReady: function(t, e) {
                    return this._loaded ? t.call(e || this, {
                        target: this
                    }) : this.on("load", t, e),
                    this
                },
                _getMapPanePos: function() {
                    return ve(this._mapPane) || new z(0,0)
                },
                _moved: function() {
                    var t = this._getMapPanePos();
                    return t && !t.equals([0, 0])
                },
                _getTopLeftPoint: function(t, e) {
                    var i = t && void 0 !== e ? this._getNewPixelOrigin(t, e) : this.getPixelOrigin();
                    return i.subtract(this._getMapPanePos())
                },
                _getNewPixelOrigin: function(t, e) {
                    var i = this.getSize()._divideBy(2);
                    return this.project(t, e)._subtract(i)._add(this._getMapPanePos())._round()
                },
                _latLngToNewLayerPoint: function(t, e, i) {
                    var a = this._getNewPixelOrigin(i, e);
                    return this.project(t, e)._subtract(a)
                },
                _latLngBoundsToNewLayerBounds: function(t, e, i) {
                    var a = this._getNewPixelOrigin(i, e);
                    return O([this.project(t.getSouthWest(), e)._subtract(a), this.project(t.getNorthWest(), e)._subtract(a), this.project(t.getSouthEast(), e)._subtract(a), this.project(t.getNorthEast(), e)._subtract(a)])
                },
                _getCenterLayerPoint: function() {
                    return this.containerPointToLayerPoint(this.getSize()._divideBy(2))
                },
                _getCenterOffset: function(t) {
                    return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())
                },
                _limitCenter: function(t, e, i) {
                    if (!i)
                        return t;
                    var a = this.project(t, e)
                      , n = this.getSize().divideBy(2)
                      , r = new M(a.subtract(n),a.add(n))
                      , o = this._getBoundsOffset(r, i, e);
                    return o.round().equals([0, 0]) ? t : this.unproject(a.add(o), e)
                },
                _limitOffset: function(t, e) {
                    if (!e)
                        return t;
                    var i = this.getPixelBounds()
                      , a = new M(i.min.add(t),i.max.add(t));
                    return t.add(this._getBoundsOffset(a, e))
                },
                _getBoundsOffset: function(t, e, i) {
                    var a = O(this.project(e.getNorthEast(), i), this.project(e.getSouthWest(), i))
                      , n = a.min.subtract(t.min)
                      , r = a.max.subtract(t.max)
                      , o = this._rebound(n.x, -r.x)
                      , s = this._rebound(n.y, -r.y);
                    return new z(o,s)
                },
                _rebound: function(t, e) {
                    return t + e > 0 ? Math.round(t - e) / 2 : Math.max(0, Math.ceil(t)) - Math.max(0, Math.floor(e))
                },
                _limitZoom: function(t) {
                    var e = this.getMinZoom()
                      , i = this.getMaxZoom()
                      , a = ft ? this.options.zoomSnap : 1;
                    return a && (t = Math.round(t / a) * a),
                    Math.max(e, Math.min(i, t))
                },
                _onPanTransitionStep: function() {
                    this.fire("move")
                },
                _onPanTransitionEnd: function() {
                    pe(this._mapPane, "leaflet-pan-anim"),
                    this.fire("moveend")
                },
                _tryAnimatedPan: function(t, e) {
                    var i = this._getCenterOffset(t)._trunc();
                    return !(!0 !== (e && e.animate) && !this.getSize().contains(i)) && (this.panBy(i, e),
                    !0)
                },
                _createAnimProxy: function() {
                    var t = this._proxy = ne("div", "leaflet-proxy leaflet-zoom-animated");
                    this._panes.mapPane.appendChild(t),
                    this.on("zoomanim", function(t) {
                        var e = Jt
                          , i = this._proxy.style[e];
                        ge(this._proxy, this.project(t.center, t.zoom), this.getZoomScale(t.zoom, 1)),
                        i === this._proxy.style[e] && this._animatingZoom && this._onZoomTransitionEnd()
                    }, this),
                    this.on("load moveend", function() {
                        var t = this.getCenter()
                          , e = this.getZoom();
                        ge(this._proxy, this.project(t, e), this.getZoomScale(e, 1))
                    }, this),
                    this._on("unload", this._destroyAnimProxy, this)
                },
                _destroyAnimProxy: function() {
                    re(this._proxy),
                    delete this._proxy
                },
                _catchTransitionEnd: function(t) {
                    this._animatingZoom && t.propertyName.indexOf("transform") >= 0 && this._onZoomTransitionEnd()
                },
                _nothingToAnimate: function() {
                    return !this._container.getElementsByClassName("leaflet-zoom-animated").length
                },
                _tryAnimatedZoom: function(t, e, i) {
                    if (this._animatingZoom)
                        return !0;
                    if (i = i || {},
                    !this._zoomAnimated || !1 === i.animate || this._nothingToAnimate() || Math.abs(e - this._zoom) > this.options.zoomAnimationThreshold)
                        return !1;
                    var a = this.getZoomScale(e)
                      , n = this._getCenterOffset(t)._divideBy(1 - 1 / a);
                    return !(!0 !== i.animate && !this.getSize().contains(n)) && (S(function() {
                        this._moveStart(!0, !1)._animateZoom(t, e, !0)
                    }, this),
                    !0)
                },
                _animateZoom: function(t, e, i, a) {
                    this._mapPane && (i && (this._animatingZoom = !0,
                    this._animateToCenter = t,
                    this._animateToZoom = e,
                    he(this._mapPane, "leaflet-zoom-anim")),
                    this.fire("zoomanim", {
                        center: t,
                        zoom: e,
                        noUpdate: a
                    }),
                    setTimeout(n(this._onZoomTransitionEnd, this), 250))
                },
                _onZoomTransitionEnd: function() {
                    this._animatingZoom && (this._mapPane && pe(this._mapPane, "leaflet-zoom-anim"),
                    this._animatingZoom = !1,
                    this._move(this._animateToCenter, this._animateToZoom),
                    S(function() {
                        this._moveEnd(!0)
                    }, this))
                }
            })
              , Ye = k.extend({
                options: {
                    position: "topright"
                },
                initialize: function(t) {
                    u(this, t)
                },
                getPosition: function() {
                    return this.options.position
                },
                setPosition: function(t) {
                    var e = this._map;
                    return e && e.removeControl(this),
                    this.options.position = t,
                    e && e.addControl(this),
                    this
                },
                getContainer: function() {
                    return this._container
                },
                addTo: function(t) {
                    this.remove(),
                    this._map = t;
                    var e = this._container = this.onAdd(t)
                      , i = this.getPosition()
                      , a = t._controlCorners[i];
                    return he(e, "leaflet-control"),
                    -1 !== i.indexOf("bottom") ? a.insertBefore(e, a.firstChild) : a.appendChild(e),
                    this._map.on("unload", this.remove, this),
                    this
                },
                remove: function() {
                    return this._map ? (re(this._container),
                    this.onRemove && this.onRemove(this._map),
                    this._map.off("unload", this.remove, this),
                    this._map = null,
                    this) : this
                },
                _refocusOnMap: function(t) {
                    this._map && t && t.screenX > 0 && t.screenY > 0 && this._map.getContainer().focus()
                }
            })
              , Ze = function(t) {
                return new Ye(t)
            };
            Qe.include({
                addControl: function(t) {
                    return t.addTo(this),
                    this
                },
                removeControl: function(t) {
                    return t.remove(),
                    this
                },
                _initControlPos: function() {
                    var t = this._controlCorners = {}
                      , e = "leaflet-"
                      , i = this._controlContainer = ne("div", e + "control-container", this._container);
                    function a(a, n) {
                        var r = e + a + " " + e + n;
                        t[a + n] = ne("div", r, i)
                    }
                    a("top", "left"),
                    a("top", "right"),
                    a("bottom", "left"),
                    a("bottom", "right")
                },
                _clearControlPos: function() {
                    for (var t in this._controlCorners)
                        re(this._controlCorners[t]);
                    re(this._controlContainer),
                    delete this._controlCorners,
                    delete this._controlContainer
                }
            });
            var $e = Ye.extend({
                options: {
                    collapsed: !0,
                    position: "topright",
                    autoZIndex: !0,
                    hideSingleBase: !1,
                    sortLayers: !1,
                    sortFunction: function(t, e, i, a) {
                        return i < a ? -1 : a < i ? 1 : 0
                    }
                },
                initialize: function(t, e, i) {
                    for (var a in u(this, i),
                    this._layerControlInputs = [],
                    this._layers = [],
                    this._lastZIndex = 0,
                    this._handlingClick = !1,
                    t)
                        this._addLayer(t[a], a);
                    for (a in e)
                        this._addLayer(e[a], a, !0)
                },
                onAdd: function(t) {
                    this._initLayout(),
                    this._update(),
                    this._map = t,
                    t.on("zoomend", this._checkDisabledLayers, this);
                    for (var e = 0; e < this._layers.length; e++)
                        this._layers[e].layer.on("add remove", this._onLayerChange, this);
                    return this._container
                },
                addTo: function(t) {
                    return Ye.prototype.addTo.call(this, t),
                    this._expandIfNotCollapsed()
                },
                onRemove: function() {
                    this._map.off("zoomend", this._checkDisabledLayers, this);
                    for (var t = 0; t < this._layers.length; t++)
                        this._layers[t].layer.off("add remove", this._onLayerChange, this)
                },
                addBaseLayer: function(t, e) {
                    return this._addLayer(t, e),
                    this._map ? this._update() : this
                },
                addOverlay: function(t, e) {
                    return this._addLayer(t, e, !0),
                    this._map ? this._update() : this
                },
                removeLayer: function(t) {
                    t.off("add remove", this._onLayerChange, this);
                    var e = this._getLayer(o(t));
                    return e && this._layers.splice(this._layers.indexOf(e), 1),
                    this._map ? this._update() : this
                },
                expand: function() {
                    he(this._container, "leaflet-control-layers-expanded"),
                    this._section.style.height = null;
                    var t = this._map.getSize().y - (this._container.offsetTop + 50);
                    return t < this._section.clientHeight ? (he(this._section, "leaflet-control-layers-scrollbar"),
                    this._section.style.height = t + "px") : pe(this._section, "leaflet-control-layers-scrollbar"),
                    this._checkDisabledLayers(),
                    this
                },
                collapse: function() {
                    return pe(this._container, "leaflet-control-layers-expanded"),
                    this
                },
                _initLayout: function() {
                    var t = "leaflet-control-layers"
                      , e = this._container = ne("div", t)
                      , i = this.options.collapsed;
                    e.setAttribute("aria-haspopup", !0),
                    De(e),
                    Be(e);
                    var a = this._section = ne("section", t + "-list");
                    i && (this._map.on("click", this.collapse, this),
                    et || Ee(e, {
                        mouseenter: this.expand,
                        mouseleave: this.collapse
                    }, this));
                    var n = this._layersLink = ne("a", t + "-toggle", e);
                    n.href = "#",
                    n.title = "Layers",
                    _t ? (Ee(n, "click", Oe),
                    Ee(n, "click", this.expand, this)) : Ee(n, "focus", this.expand, this),
                    i || this.expand(),
                    this._baseLayersList = ne("div", t + "-base", a),
                    this._separator = ne("div", t + "-separator", a),
                    this._overlaysList = ne("div", t + "-overlays", a),
                    e.appendChild(a)
                },
                _getLayer: function(t) {
                    for (var e = 0; e < this._layers.length; e++)
                        if (this._layers[e] && o(this._layers[e].layer) === t)
                            return this._layers[e]
                },
                _addLayer: function(t, e, i) {
                    this._map && t.on("add remove", this._onLayerChange, this),
                    this._layers.push({
                        layer: t,
                        name: e,
                        overlay: i
                    }),
                    this.options.sortLayers && this._layers.sort(n(function(t, e) {
                        return this.options.sortFunction(t.layer, e.layer, t.name, e.name)
                    }, this)),
                    this.options.autoZIndex && t.setZIndex && (this._lastZIndex++,
                    t.setZIndex(this._lastZIndex)),
                    this._expandIfNotCollapsed()
                },
                _update: function() {
                    if (!this._container)
                        return this;
                    oe(this._baseLayersList),
                    oe(this._overlaysList),
                    this._layerControlInputs = [];
                    var t, e, i, a, n = 0;
                    for (i = 0; i < this._layers.length; i++)
                        a = this._layers[i],
                        this._addItem(a),
                        e = e || a.overlay,
                        t = t || !a.overlay,
                        n += a.overlay ? 0 : 1;
                    return this.options.hideSingleBase && (t = t && n > 1,
                    this._baseLayersList.style.display = t ? "" : "none"),
                    this._separator.style.display = e && t ? "" : "none",
                    this
                },
                _onLayerChange: function(t) {
                    this._handlingClick || this._update();
                    var e = this._getLayer(o(t.target))
                      , i = e.overlay ? "add" === t.type ? "overlayadd" : "overlayremove" : "add" === t.type ? "baselayerchange" : null;
                    i && this._map.fire(i, e)
                },
                _createRadioElement: function(t, e) {
                    var i = '<input type="radio" class="leaflet-control-layers-selector" name="' + t + '"' + (e ? ' checked="checked"' : "") + "/>"
                      , a = document.createElement("div");
                    return a.innerHTML = i,
                    a.firstChild
                },
                _addItem: function(t) {
                    var e, i = document.createElement("label"), a = this._map.hasLayer(t.layer);
                    t.overlay ? ((e = document.createElement("input")).type = "checkbox",
                    e.className = "leaflet-control-layers-selector",
                    e.defaultChecked = a) : e = this._createRadioElement("leaflet-base-layers_" + o(this), a),
                    this._layerControlInputs.push(e),
                    e.layerId = o(t.layer),
                    Ee(e, "click", this._onInputClick, this);
                    var n = document.createElement("span");
                    n.innerHTML = " " + t.name;
                    var r = document.createElement("div");
                    i.appendChild(r),
                    r.appendChild(e),
                    r.appendChild(n);
                    var s = t.overlay ? this._overlaysList : this._baseLayersList;
                    return s.appendChild(i),
                    this._checkDisabledLayers(),
                    i
                },
                _onInputClick: function() {
                    var t, e, i = this._layerControlInputs, a = [], n = [];
                    this._handlingClick = !0;
                    for (var r = i.length - 1; r >= 0; r--)
                        t = i[r],
                        e = this._getLayer(t.layerId).layer,
                        t.checked ? a.push(e) : t.checked || n.push(e);
                    for (r = 0; r < n.length; r++)
                        this._map.hasLayer(n[r]) && this._map.removeLayer(n[r]);
                    for (r = 0; r < a.length; r++)
                        this._map.hasLayer(a[r]) || this._map.addLayer(a[r]);
                    this._handlingClick = !1,
                    this._refocusOnMap()
                },
                _checkDisabledLayers: function() {
                    for (var t, e, i = this._layerControlInputs, a = this._map.getZoom(), n = i.length - 1; n >= 0; n--)
                        t = i[n],
                        e = this._getLayer(t.layerId).layer,
                        t.disabled = void 0 !== e.options.minZoom && a < e.options.minZoom || void 0 !== e.options.maxZoom && a > e.options.maxZoom
                },
                _expandIfNotCollapsed: function() {
                    return this._map && !this.options.collapsed && this.expand(),
                    this
                },
                _expand: function() {
                    return this.expand()
                },
                _collapse: function() {
                    return this.collapse()
                }
            })
              , qe = Ye.extend({
                options: {
                    position: "topleft",
                    zoomInText: "+",
                    zoomInTitle: "Zoom in",
                    zoomOutText: "&#x2212;",
                    zoomOutTitle: "Zoom out"
                },
                onAdd: function(t) {
                    var e = "leaflet-control-zoom"
                      , i = ne("div", e + " leaflet-bar")
                      , a = this.options;
                    return this._zoomInButton = this._createButton(a.zoomInText, a.zoomInTitle, e + "-in", i, this._zoomIn),
                    this._zoomOutButton = this._createButton(a.zoomOutText, a.zoomOutTitle, e + "-out", i, this._zoomOut),
                    this._updateDisabled(),
                    t.on("zoomend zoomlevelschange", this._updateDisabled, this),
                    i
                },
                onRemove: function(t) {
                    t.off("zoomend zoomlevelschange", this._updateDisabled, this)
                },
                disable: function() {
                    return this._disabled = !0,
                    this._updateDisabled(),
                    this
                },
                enable: function() {
                    return this._disabled = !1,
                    this._updateDisabled(),
                    this
                },
                _zoomIn: function(t) {
                    !this._disabled && this._map._zoom < this._map.getMaxZoom() && this._map.zoomIn(this._map.options.zoomDelta * (t.shiftKey ? 3 : 1))
                },
                _zoomOut: function(t) {
                    !this._disabled && this._map._zoom > this._map.getMinZoom() && this._map.zoomOut(this._map.options.zoomDelta * (t.shiftKey ? 3 : 1))
                },
                _createButton: function(t, e, i, a, n) {
                    var r = ne("a", i, a);
                    return r.innerHTML = t,
                    r.href = "#",
                    r.title = e,
                    r.setAttribute("role", "button"),
                    r.setAttribute("aria-label", e),
                    De(r),
                    Ee(r, "click", Oe),
                    Ee(r, "click", n, this),
                    Ee(r, "click", this._refocusOnMap, this),
                    r
                },
                _updateDisabled: function() {
                    var t = this._map
                      , e = "leaflet-disabled";
                    pe(this._zoomInButton, e),
                    pe(this._zoomOutButton, e),
                    (this._disabled || t._zoom === t.getMinZoom()) && he(this._zoomOutButton, e),
                    (this._disabled || t._zoom === t.getMaxZoom()) && he(this._zoomInButton, e)
                }
            });
            Qe.mergeOptions({
                zoomControl: !0
            }),
            Qe.addInitHook(function() {
                this.options.zoomControl && (this.zoomControl = new qe,
                this.addControl(this.zoomControl))
            });
            var Xe = Ye.extend({
                options: {
                    position: "bottomleft",
                    maxWidth: 100,
                    metric: !0,
                    imperial: !0
                },
                onAdd: function(t) {
                    var e = ne("div", "leaflet-control-scale")
                      , i = this.options;
                    return this._addScales(i, "leaflet-control-scale-line", e),
                    t.on(i.updateWhenIdle ? "moveend" : "move", this._update, this),
                    t.whenReady(this._update, this),
                    e
                },
                onRemove: function(t) {
                    t.off(this.options.updateWhenIdle ? "moveend" : "move", this._update, this)
                },
                _addScales: function(t, e, i) {
                    t.metric && (this._mScale = ne("div", e, i)),
                    t.imperial && (this._iScale = ne("div", e, i))
                },
                _update: function() {
                    var t = this._map
                      , e = t.getSize().y / 2
                      , i = t.distance(t.containerPointToLatLng([0, e]), t.containerPointToLatLng([this.options.maxWidth, e]));
                    this._updateScales(i)
                },
                _updateScales: function(t) {
                    this.options.metric && t && this._updateMetric(t),
                    this.options.imperial && t && this._updateImperial(t)
                },
                _updateMetric: function(t) {
                    var e = this._getRoundNum(t)
                      , i = e < 1e3 ? e + " m" : e / 1e3 + " km";
                    this._updateScale(this._mScale, i, e / t)
                },
                _updateImperial: function(t) {
                    var e, i, a, n = 3.2808399 * t;
                    n > 5280 ? (e = n / 5280,
                    i = this._getRoundNum(e),
                    this._updateScale(this._iScale, i + " mi", i / e)) : (a = this._getRoundNum(n),
                    this._updateScale(this._iScale, a + " ft", a / n))
                },
                _updateScale: function(t, e, i) {
                    t.style.width = Math.round(this.options.maxWidth * i) + "px",
                    t.innerHTML = e
                },
                _getRoundNum: function(t) {
                    var e = Math.pow(10, (Math.floor(t) + "").length - 1)
                      , i = t / e;
                    return e * (i = i >= 10 ? 10 : i >= 5 ? 5 : i >= 3 ? 3 : i >= 2 ? 2 : 1)
                }
            })
              , Je = Ye.extend({
                options: {
                    position: "bottomright",
                    prefix: '<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'
                },
                initialize: function(t) {
                    u(this, t),
                    this._attributions = {}
                },
                onAdd: function(t) {
                    for (var e in t.attributionControl = this,
                    this._container = ne("div", "leaflet-control-attribution"),
                    De(this._container),
                    t._layers)
                        t._layers[e].getAttribution && this.addAttribution(t._layers[e].getAttribution());
                    return this._update(),
                    this._container
                },
                setPrefix: function(t) {
                    return this.options.prefix = t,
                    this._update(),
                    this
                },
                addAttribution: function(t) {
                    return t ? (this._attributions[t] || (this._attributions[t] = 0),
                    this._attributions[t]++,
                    this._update(),
                    this) : this
                },
                removeAttribution: function(t) {
                    return t ? (this._attributions[t] && (this._attributions[t]--,
                    this._update()),
                    this) : this
                },
                _update: function() {
                    if (this._map) {
                        var t = [];
                        for (var e in this._attributions)
                            this._attributions[e] && t.push(e);
                        var i = [];
                        this.options.prefix && i.push(this.options.prefix),
                        t.length && i.push(t.join(", ")),
                        this._container.innerHTML = i.join(" | ")
                    }
                }
            });
            Qe.mergeOptions({
                attributionControl: !0
            }),
            Qe.addInitHook(function() {
                this.options.attributionControl && (new Je).addTo(this)
            }),
            Ye.Layers = $e,
            Ye.Zoom = qe,
            Ye.Scale = Xe,
            Ye.Attribution = Je,
            Ze.layers = function(t, e, i) {
                return new $e(t,e,i)
            }
            ,
            Ze.zoom = function(t) {
                return new qe(t)
            }
            ,
            Ze.scale = function(t) {
                return new Xe(t)
            }
            ,
            Ze.attribution = function(t) {
                return new Je(t)
            }
            ;
            var ti = k.extend({
                initialize: function(t) {
                    this._map = t
                },
                enable: function() {
                    return this._enabled ? this : (this._enabled = !0,
                    this.addHooks(),
                    this)
                },
                disable: function() {
                    return this._enabled ? (this._enabled = !1,
                    this.removeHooks(),
                    this) : this
                },
                enabled: function() {
                    return !!this._enabled
                }
            });
            ti.addTo = function(t, e) {
                return t.addHandler(e, this),
                this
            }
            ;
            var ei, ii = {
                Events: P
            }, ai = _t ? "touchstart mousedown" : "mousedown", ni = {
                mousedown: "mouseup",
                touchstart: "touchend",
                pointerdown: "touchend",
                MSPointerDown: "touchend"
            }, ri = {
                mousedown: "mousemove",
                touchstart: "touchmove",
                pointerdown: "touchmove",
                MSPointerDown: "touchmove"
            }, oi = I.extend({
                options: {
                    clickTolerance: 3
                },
                initialize: function(t, e, i, a) {
                    u(this, a),
                    this._element = t,
                    this._dragStartTarget = e || t,
                    this._preventOutline = i
                },
                enable: function() {
                    this._enabled || (Ee(this._dragStartTarget, ai, this._onDown, this),
                    this._enabled = !0)
                },
                disable: function() {
                    this._enabled && (oi._dragging === this && this.finishDrag(),
                    Le(this._dragStartTarget, ai, this._onDown, this),
                    this._enabled = !1,
                    this._moved = !1)
                },
                _onDown: function(t) {
                    if (!t._simulated && this._enabled && (this._moved = !1,
                    !ce(this._element, "leaflet-zoom-anim") && !(oi._dragging || t.shiftKey || 1 !== t.which && 1 !== t.button && !t.touches) && (oi._dragging = this,
                    this._preventOutline && Ce(this._element),
                    Ae(),
                    Yt(),
                    !this._moving))) {
                        this.fire("down");
                        var e = t.touches ? t.touches[0] : t
                          , i = xe(this._element);
                        this._startPoint = new z(e.clientX,e.clientY),
                        this._parentScale = Se(i),
                        Ee(document, ri[t.type], this._onMove, this),
                        Ee(document, ni[t.type], this._onUp, this)
                    }
                },
                _onMove: function(t) {
                    if (!t._simulated && this._enabled)
                        if (t.touches && t.touches.length > 1)
                            this._moved = !0;
                        else {
                            var e = t.touches && 1 === t.touches.length ? t.touches[0] : t
                              , i = new z(e.clientX,e.clientY)._subtract(this._startPoint);
                            (i.x || i.y) && (Math.abs(i.x) + Math.abs(i.y) < this.options.clickTolerance || (i.x /= this._parentScale.x,
                            i.y /= this._parentScale.y,
                            Me(t),
                            this._moved || (this.fire("dragstart"),
                            this._moved = !0,
                            this._startPos = ve(this._element).subtract(i),
                            he(document.body, "leaflet-dragging"),
                            this._lastTarget = t.target || t.srcElement,
                            window.SVGElementInstance && this._lastTarget instanceof SVGElementInstance && (this._lastTarget = this._lastTarget.correspondingUseElement),
                            he(this._lastTarget, "leaflet-drag-target")),
                            this._newPos = this._startPos.add(i),
                            this._moving = !0,
                            T(this._animRequest),
                            this._lastEvent = t,
                            this._animRequest = S(this._updatePosition, this, !0)))
                        }
                },
                _updatePosition: function() {
                    var t = {
                        originalEvent: this._lastEvent
                    };
                    this.fire("predrag", t),
                    ye(this._element, this._newPos),
                    this.fire("drag", t)
                },
                _onUp: function(t) {
                    !t._simulated && this._enabled && this.finishDrag()
                },
                finishDrag: function() {
                    for (var t in pe(document.body, "leaflet-dragging"),
                    this._lastTarget && (pe(this._lastTarget, "leaflet-drag-target"),
                    this._lastTarget = null),
                    ri)
                        Le(document, ri[t], this._onMove, this),
                        Le(document, ni[t], this._onUp, this);
                    _e(),
                    Zt(),
                    this._moved && this._moving && (T(this._animRequest),
                    this.fire("dragend", {
                        distance: this._newPos.distanceTo(this._startPos)
                    })),
                    this._moving = !1,
                    oi._dragging = !1
                }
            });
            function si(t, e) {
                if (!e || !t.length)
                    return t.slice();
                var i = e * e;
                return t = function(t, e) {
                    var i = t.length
                      , a = new (typeof Uint8Array !== void 0 + "" ? Uint8Array : Array)(i);
                    a[0] = a[i - 1] = 1,
                    function t(e, i, a, n, r) {
                        var o, s, l, c = 0;
                        for (s = n + 1; s <= r - 1; s++)
                            (l = ui(e[s], e[n], e[r], !0)) > c && (o = s,
                            c = l);
                        c > a && (i[o] = 1,
                        t(e, i, a, n, o),
                        t(e, i, a, o, r))
                    }(t, a, e, 0, i - 1);
                    var n, r = [];
                    for (n = 0; n < i; n++)
                        a[n] && r.push(t[n]);
                    return r
                }(t = function(t, e) {
                    for (var i = [t[0]], a = 1, n = 0, r = t.length; a < r; a++)
                        di(t[a], t[n]) > e && (i.push(t[a]),
                        n = a);
                    return n < r - 1 && i.push(t[r - 1]),
                    i
                }(t, i), i)
            }
            function li(t, e, i) {
                return Math.sqrt(ui(t, e, i, !0))
            }
            function ci(t, e, i, a, n) {
                var r, o, s, l = a ? ei : pi(t, i), c = pi(e, i);
                for (ei = c; ; ) {
                    if (!(l | c))
                        return [t, e];
                    if (l & c)
                        return !1;
                    o = hi(t, e, r = l || c, i, n),
                    s = pi(o, i),
                    r === l ? (t = o,
                    l = s) : (e = o,
                    c = s)
                }
            }
            function hi(t, e, i, a, n) {
                var r, o, s = e.x - t.x, l = e.y - t.y, c = a.min, h = a.max;
                return 8 & i ? (r = t.x + s * (h.y - t.y) / l,
                o = h.y) : 4 & i ? (r = t.x + s * (c.y - t.y) / l,
                o = c.y) : 2 & i ? (r = h.x,
                o = t.y + l * (h.x - t.x) / s) : 1 & i && (r = c.x,
                o = t.y + l * (c.x - t.x) / s),
                new z(r,o,n)
            }
            function pi(t, e) {
                var i = 0;
                return t.x < e.min.x ? i |= 1 : t.x > e.max.x && (i |= 2),
                t.y < e.min.y ? i |= 4 : t.y > e.max.y && (i |= 8),
                i
            }
            function di(t, e) {
                var i = e.x - t.x
                  , a = e.y - t.y;
                return i * i + a * a
            }
            function ui(t, e, i, a) {
                var n, r = e.x, o = e.y, s = i.x - r, l = i.y - o, c = s * s + l * l;
                return c > 0 && ((n = ((t.x - r) * s + (t.y - o) * l) / c) > 1 ? (r = i.x,
                o = i.y) : n > 0 && (r += s * n,
                o += l * n)),
                s = t.x - r,
                l = t.y - o,
                a ? s * s + l * l : new z(r,o)
            }
            function mi(t) {
                return !y(t[0]) || "object" !== typeof t[0][0] && "undefined" !== typeof t[0][0]
            }
            function fi(t) {
                return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),
                mi(t)
            }
            var gi = (Object.freeze || Object)({
                simplify: si,
                pointToSegmentDistance: li,
                closestPointOnSegment: function(t, e, i) {
                    return ui(t, e, i)
                },
                clipSegment: ci,
                _getEdgeIntersection: hi,
                _getBitCode: pi,
                _sqClosestPointOnSegment: ui,
                isFlat: mi,
                _flat: fi
            });
            function yi(t, e, i) {
                var a, n, r, o, s, l, c, h, p, d = [1, 4, 2, 8];
                for (n = 0,
                c = t.length; n < c; n++)
                    t[n]._code = pi(t[n], e);
                for (o = 0; o < 4; o++) {
                    for (h = d[o],
                    a = [],
                    n = 0,
                    c = t.length,
                    r = c - 1; n < c; r = n++)
                        s = t[n],
                        l = t[r],
                        s._code & h ? l._code & h || ((p = hi(l, s, h, e, i))._code = pi(p, e),
                        a.push(p)) : (l._code & h && ((p = hi(l, s, h, e, i))._code = pi(p, e),
                        a.push(p)),
                        a.push(s));
                    t = a
                }
                return t
            }
            var vi = (Object.freeze || Object)({
                clipPolygon: yi
            })
              , bi = {
                project: function(t) {
                    return new z(t.lng,t.lat)
                },
                unproject: function(t) {
                    return new V(t.y,t.x)
                },
                bounds: new M([-180, -90],[180, 90])
            }
              , Ai = {
                R: 6378137,
                R_MINOR: 6356752.314245179,
                bounds: new M([-20037508.34279, -15496570.73972],[20037508.34279, 18764656.23138]),
                project: function(t) {
                    var e = Math.PI / 180
                      , i = this.R
                      , a = t.lat * e
                      , n = this.R_MINOR / i
                      , r = Math.sqrt(1 - n * n)
                      , o = r * Math.sin(a)
                      , s = Math.tan(Math.PI / 4 - a / 2) / Math.pow((1 - o) / (1 + o), r / 2);
                    return a = -i * Math.log(Math.max(s, 1e-10)),
                    new z(t.lng * e * i,a)
                },
                unproject: function(t) {
                    for (var e, i = 180 / Math.PI, a = this.R, n = this.R_MINOR / a, r = Math.sqrt(1 - n * n), o = Math.exp(-t.y / a), s = Math.PI / 2 - 2 * Math.atan(o), l = 0, c = .1; l < 15 && Math.abs(c) > 1e-7; l++)
                        e = r * Math.sin(s),
                        e = Math.pow((1 - e) / (1 + e), r / 2),
                        c = Math.PI / 2 - 2 * Math.atan(o * e) - s,
                        s += c;
                    return new V(s * i,t.x * i / a)
                }
            }
              , _i = (Object.freeze || Object)({
                LonLat: bi,
                Mercator: Ai,
                SphericalMercator: U
            })
              , Ci = i({}, G, {
                code: "EPSG:3395",
                projection: Ai,
                transformation: function() {
                    var t = .5 / (Math.PI * Ai.R);
                    return K(t, .5, -t, .5)
                }()
            })
              , wi = i({}, G, {
                code: "EPSG:4326",
                projection: bi,
                transformation: K(1 / 180, 1, -1 / 180, .5)
            })
              , xi = i({}, F, {
                projection: bi,
                transformation: K(1, 0, -1, 0),
                scale: function(t) {
                    return Math.pow(2, t)
                },
                zoom: function(t) {
                    return Math.log(t) / Math.LN2
                },
                distance: function(t, e) {
                    var i = e.lng - t.lng
                      , a = e.lat - t.lat;
                    return Math.sqrt(i * i + a * a)
                },
                infinite: !0
            });
            F.Earth = G,
            F.EPSG3395 = Ci,
            F.EPSG3857 = W,
            F.EPSG900913 = Q,
            F.EPSG4326 = wi,
            F.Simple = xi;
            var Si = I.extend({
                options: {
                    pane: "overlayPane",
                    attribution: null,
                    bubblingMouseEvents: !0
                },
                addTo: function(t) {
                    return t.addLayer(this),
                    this
                },
                remove: function() {
                    return this.removeFrom(this._map || this._mapToAdd)
                },
                removeFrom: function(t) {
                    return t && t.removeLayer(this),
                    this
                },
                getPane: function(t) {
                    return this._map.getPane(t ? this.options[t] || t : this.options.pane)
                },
                addInteractiveTarget: function(t) {
                    return this._map._targets[o(t)] = this,
                    this
                },
                removeInteractiveTarget: function(t) {
                    return delete this._map._targets[o(t)],
                    this
                },
                getAttribution: function() {
                    return this.options.attribution
                },
                _layerAdd: function(t) {
                    var e = t.target;
                    if (e.hasLayer(this)) {
                        if (this._map = e,
                        this._zoomAnimated = e._zoomAnimated,
                        this.getEvents) {
                            var i = this.getEvents();
                            e.on(i, this),
                            this.once("remove", function() {
                                e.off(i, this)
                            }, this)
                        }
                        this.onAdd(e),
                        this.getAttribution && e.attributionControl && e.attributionControl.addAttribution(this.getAttribution()),
                        this.fire("add"),
                        e.fire("layeradd", {
                            layer: this
                        })
                    }
                }
            });
            Qe.include({
                addLayer: function(t) {
                    if (!t._layerAdd)
                        throw new Error("The provided object is not a Layer.");
                    var e = o(t);
                    return this._layers[e] ? this : (this._layers[e] = t,
                    t._mapToAdd = this,
                    t.beforeAdd && t.beforeAdd(this),
                    this.whenReady(t._layerAdd, t),
                    this)
                },
                removeLayer: function(t) {
                    var e = o(t);
                    return this._layers[e] ? (this._loaded && t.onRemove(this),
                    t.getAttribution && this.attributionControl && this.attributionControl.removeAttribution(t.getAttribution()),
                    delete this._layers[e],
                    this._loaded && (this.fire("layerremove", {
                        layer: t
                    }),
                    t.fire("remove")),
                    t._map = t._mapToAdd = null,
                    this) : this
                },
                hasLayer: function(t) {
                    return !!t && o(t)in this._layers
                },
                eachLayer: function(t, e) {
                    for (var i in this._layers)
                        t.call(e, this._layers[i]);
                    return this
                },
                _addLayers: function(t) {
                    t = t ? y(t) ? t : [t] : [];
                    for (var e = 0, i = t.length; e < i; e++)
                        this.addLayer(t[e])
                },
                _addZoomLimit: function(t) {
                    !isNaN(t.options.maxZoom) && isNaN(t.options.minZoom) || (this._zoomBoundLayers[o(t)] = t,
                    this._updateZoomLevels())
                },
                _removeZoomLimit: function(t) {
                    var e = o(t);
                    this._zoomBoundLayers[e] && (delete this._zoomBoundLayers[e],
                    this._updateZoomLevels())
                },
                _updateZoomLevels: function() {
                    var t = 1 / 0
                      , e = -1 / 0
                      , i = this._getZoomSpan();
                    for (var a in this._zoomBoundLayers) {
                        var n = this._zoomBoundLayers[a].options;
                        t = void 0 === n.minZoom ? t : Math.min(t, n.minZoom),
                        e = void 0 === n.maxZoom ? e : Math.max(e, n.maxZoom)
                    }
                    this._layersMaxZoom = e === -1 / 0 ? void 0 : e,
                    this._layersMinZoom = t === 1 / 0 ? void 0 : t,
                    i !== this._getZoomSpan() && this.fire("zoomlevelschange"),
                    void 0 === this.options.maxZoom && this._layersMaxZoom && this.getZoom() > this._layersMaxZoom && this.setZoom(this._layersMaxZoom),
                    void 0 === this.options.minZoom && this._layersMinZoom && this.getZoom() < this._layersMinZoom && this.setZoom(this._layersMinZoom)
                }
            });
            var Ti = Si.extend({
                initialize: function(t, e) {
                    var i, a;
                    if (u(this, e),
                    this._layers = {},
                    t)
                        for (i = 0,
                        a = t.length; i < a; i++)
                            this.addLayer(t[i])
                },
                addLayer: function(t) {
                    var e = this.getLayerId(t);
                    return this._layers[e] = t,
                    this._map && this._map.addLayer(t),
                    this
                },
                removeLayer: function(t) {
                    var e = t in this._layers ? t : this.getLayerId(t);
                    return this._map && this._layers[e] && this._map.removeLayer(this._layers[e]),
                    delete this._layers[e],
                    this
                },
                hasLayer: function(t) {
                    return !!t && (t in this._layers || this.getLayerId(t)in this._layers)
                },
                clearLayers: function() {
                    return this.eachLayer(this.removeLayer, this)
                },
                invoke: function(t) {
                    var e, i, a = Array.prototype.slice.call(arguments, 1);
                    for (e in this._layers)
                        (i = this._layers[e])[t] && i[t].apply(i, a);
                    return this
                },
                onAdd: function(t) {
                    this.eachLayer(t.addLayer, t)
                },
                onRemove: function(t) {
                    this.eachLayer(t.removeLayer, t)
                },
                eachLayer: function(t, e) {
                    for (var i in this._layers)
                        t.call(e, this._layers[i]);
                    return this
                },
                getLayer: function(t) {
                    return this._layers[t]
                },
                getLayers: function() {
                    var t = [];
                    return this.eachLayer(t.push, t),
                    t
                },
                setZIndex: function(t) {
                    return this.invoke("setZIndex", t)
                },
                getLayerId: function(t) {
                    return o(t)
                }
            })
              , Ei = Ti.extend({
                addLayer: function(t) {
                    return this.hasLayer(t) ? this : (t.addEventParent(this),
                    Ti.prototype.addLayer.call(this, t),
                    this.fire("layeradd", {
                        layer: t
                    }))
                },
                removeLayer: function(t) {
                    return this.hasLayer(t) ? (t in this._layers && (t = this._layers[t]),
                    t.removeEventParent(this),
                    Ti.prototype.removeLayer.call(this, t),
                    this.fire("layerremove", {
                        layer: t
                    })) : this
                },
                setStyle: function(t) {
                    return this.invoke("setStyle", t)
                },
                bringToFront: function() {
                    return this.invoke("bringToFront")
                },
                bringToBack: function() {
                    return this.invoke("bringToBack")
                },
                getBounds: function() {
                    var t = new R;
                    for (var e in this._layers) {
                        var i = this._layers[e];
                        t.extend(i.getBounds ? i.getBounds() : i.getLatLng())
                    }
                    return t
                }
            })
              , ki = k.extend({
                options: {
                    popupAnchor: [0, 0],
                    tooltipAnchor: [0, 0]
                },
                initialize: function(t) {
                    u(this, t)
                },
                createIcon: function(t) {
                    return this._createIcon("icon", t)
                },
                createShadow: function(t) {
                    return this._createIcon("shadow", t)
                },
                _createIcon: function(t, e) {
                    var i = this._getIconUrl(t);
                    if (!i) {
                        if ("icon" === t)
                            throw new Error("iconUrl not set in Icon options (see the docs).");
                        return null
                    }
                    var a = this._createImg(i, e && "IMG" === e.tagName ? e : null);
                    return this._setIconStyles(a, t),
                    a
                },
                _setIconStyles: function(t, e) {
                    var i = this.options
                      , a = i[e + "Size"];
                    "number" === typeof a && (a = [a, a]);
                    var n = D(a)
                      , r = D("shadow" === e && i.shadowAnchor || i.iconAnchor || n && n.divideBy(2, !0));
                    t.className = "leaflet-marker-" + e + " " + (i.className || ""),
                    r && (t.style.marginLeft = -r.x + "px",
                    t.style.marginTop = -r.y + "px"),
                    n && (t.style.width = n.x + "px",
                    t.style.height = n.y + "px")
                },
                _createImg: function(t, e) {
                    return (e = e || document.createElement("img")).src = t,
                    e
                },
                _getIconUrl: function(t) {
                    return xt && this.options[t + "RetinaUrl"] || this.options[t + "Url"]
                }
            })
              , Li = ki.extend({
                options: {
                    iconUrl: "marker-icon.png",
                    iconRetinaUrl: "marker-icon-2x.png",
                    shadowUrl: "marker-shadow.png",
                    iconSize: [25, 41],
                    iconAnchor: [12, 41],
                    popupAnchor: [1, -34],
                    tooltipAnchor: [16, -28],
                    shadowSize: [41, 41]
                },
                _getIconUrl: function(t) {
                    return Li.imagePath || (Li.imagePath = this._detectIconPath()),
                    (this.options.imagePath || Li.imagePath) + ki.prototype._getIconUrl.call(this, t)
                },
                _detectIconPath: function() {
                    var t = ne("div", "leaflet-default-icon-path", document.body)
                      , e = ae(t, "background-image") || ae(t, "backgroundImage");
                    return document.body.removeChild(t),
                    e = null === e || 0 !== e.indexOf("url") ? "" : e.replace(/^url\(["']?/, "").replace(/marker-icon\.png["']?\)$/, "")
                }
            })
              , Pi = ti.extend({
                initialize: function(t) {
                    this._marker = t
                },
                addHooks: function() {
                    var t = this._marker._icon;
                    this._draggable || (this._draggable = new oi(t,t,!0)),
                    this._draggable.on({
                        dragstart: this._onDragStart,
                        predrag: this._onPreDrag,
                        drag: this._onDrag,
                        dragend: this._onDragEnd
                    }, this).enable(),
                    he(t, "leaflet-marker-draggable")
                },
                removeHooks: function() {
                    this._draggable.off({
                        dragstart: this._onDragStart,
                        predrag: this._onPreDrag,
                        drag: this._onDrag,
                        dragend: this._onDragEnd
                    }, this).disable(),
                    this._marker._icon && pe(this._marker._icon, "leaflet-marker-draggable")
                },
                moved: function() {
                    return this._draggable && this._draggable._moved
                },
                _adjustPan: function(t) {
                    var e = this._marker
                      , i = e._map
                      , a = this._marker.options.autoPanSpeed
                      , n = this._marker.options.autoPanPadding
                      , r = ve(e._icon)
                      , o = i.getPixelBounds()
                      , s = i.getPixelOrigin()
                      , l = O(o.min._subtract(s).add(n), o.max._subtract(s).subtract(n));
                    if (!l.contains(r)) {
                        var c = D((Math.max(l.max.x, r.x) - l.max.x) / (o.max.x - l.max.x) - (Math.min(l.min.x, r.x) - l.min.x) / (o.min.x - l.min.x), (Math.max(l.max.y, r.y) - l.max.y) / (o.max.y - l.max.y) - (Math.min(l.min.y, r.y) - l.min.y) / (o.min.y - l.min.y)).multiplyBy(a);
                        i.panBy(c, {
                            animate: !1
                        }),
                        this._draggable._newPos._add(c),
                        this._draggable._startPos._add(c),
                        ye(e._icon, this._draggable._newPos),
                        this._onDrag(t),
                        this._panRequest = S(this._adjustPan.bind(this, t))
                    }
                },
                _onDragStart: function() {
                    this._oldLatLng = this._marker.getLatLng(),
                    this._marker.closePopup().fire("movestart").fire("dragstart")
                },
                _onPreDrag: function(t) {
                    this._marker.options.autoPan && (T(this._panRequest),
                    this._panRequest = S(this._adjustPan.bind(this, t)))
                },
                _onDrag: function(t) {
                    var e = this._marker
                      , i = e._shadow
                      , a = ve(e._icon)
                      , n = e._map.layerPointToLatLng(a);
                    i && ye(i, a),
                    e._latlng = n,
                    t.latlng = n,
                    t.oldLatLng = this._oldLatLng,
                    e.fire("move", t).fire("drag", t)
                },
                _onDragEnd: function(t) {
                    T(this._panRequest),
                    delete this._oldLatLng,
                    this._marker.fire("moveend").fire("dragend", t)
                }
            })
              , Ii = Si.extend({
                options: {
                    icon: new Li,
                    interactive: !0,
                    keyboard: !0,
                    title: "",
                    alt: "",
                    zIndexOffset: 0,
                    opacity: 1,
                    riseOnHover: !1,
                    riseOffset: 250,
                    pane: "markerPane",
                    shadowPane: "shadowPane",
                    bubblingMouseEvents: !1,
                    draggable: !1,
                    autoPan: !1,
                    autoPanPadding: [50, 50],
                    autoPanSpeed: 10
                },
                initialize: function(t, e) {
                    u(this, e),
                    this._latlng = j(t)
                },
                onAdd: function(t) {
                    this._zoomAnimated = this._zoomAnimated && t.options.markerZoomAnimation,
                    this._zoomAnimated && t.on("zoomanim", this._animateZoom, this),
                    this._initIcon(),
                    this.update()
                },
                onRemove: function(t) {
                    this.dragging && this.dragging.enabled() && (this.options.draggable = !0,
                    this.dragging.removeHooks()),
                    delete this.dragging,
                    this._zoomAnimated && t.off("zoomanim", this._animateZoom, this),
                    this._removeIcon(),
                    this._removeShadow()
                },
                getEvents: function() {
                    return {
                        zoom: this.update,
                        viewreset: this.update
                    }
                },
                getLatLng: function() {
                    return this._latlng
                },
                setLatLng: function(t) {
                    var e = this._latlng;
                    return this._latlng = j(t),
                    this.update(),
                    this.fire("move", {
                        oldLatLng: e,
                        latlng: this._latlng
                    })
                },
                setZIndexOffset: function(t) {
                    return this.options.zIndexOffset = t,
                    this.update()
                },
                getIcon: function() {
                    return this.options.icon
                },
                setIcon: function(t) {
                    return this.options.icon = t,
                    this._map && (this._initIcon(),
                    this.update()),
                    this._popup && this.bindPopup(this._popup, this._popup.options),
                    this
                },
                getElement: function() {
                    return this._icon
                },
                update: function() {
                    if (this._icon && this._map) {
                        var t = this._map.latLngToLayerPoint(this._latlng).round();
                        this._setPos(t)
                    }
                    return this
                },
                _initIcon: function() {
                    var t = this.options
                      , e = "leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide")
                      , i = t.icon.createIcon(this._icon)
                      , a = !1;
                    i !== this._icon && (this._icon && this._removeIcon(),
                    a = !0,
                    t.title && (i.title = t.title),
                    "IMG" === i.tagName && (i.alt = t.alt || "")),
                    he(i, e),
                    t.keyboard && (i.tabIndex = "0"),
                    this._icon = i,
                    t.riseOnHover && this.on({
                        mouseover: this._bringToFront,
                        mouseout: this._resetZIndex
                    });
                    var n = t.icon.createShadow(this._shadow)
                      , r = !1;
                    n !== this._shadow && (this._removeShadow(),
                    r = !0),
                    n && (he(n, e),
                    n.alt = ""),
                    this._shadow = n,
                    t.opacity < 1 && this._updateOpacity(),
                    a && this.getPane().appendChild(this._icon),
                    this._initInteraction(),
                    n && r && this.getPane(t.shadowPane).appendChild(this._shadow)
                },
                _removeIcon: function() {
                    this.options.riseOnHover && this.off({
                        mouseover: this._bringToFront,
                        mouseout: this._resetZIndex
                    }),
                    re(this._icon),
                    this.removeInteractiveTarget(this._icon),
                    this._icon = null
                },
                _removeShadow: function() {
                    this._shadow && re(this._shadow),
                    this._shadow = null
                },
                _setPos: function(t) {
                    ye(this._icon, t),
                    this._shadow && ye(this._shadow, t),
                    this._zIndex = t.y + this.options.zIndexOffset,
                    this._resetZIndex()
                },
                _updateZIndex: function(t) {
                    this._icon.style.zIndex = this._zIndex + t
                },
                _animateZoom: function(t) {
                    var e = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center).round();
                    this._setPos(e)
                },
                _initInteraction: function() {
                    if (this.options.interactive && (he(this._icon, "leaflet-interactive"),
                    this.addInteractiveTarget(this._icon),
                    Pi)) {
                        var t = this.options.draggable;
                        this.dragging && (t = this.dragging.enabled(),
                        this.dragging.disable()),
                        this.dragging = new Pi(this),
                        t && this.dragging.enable()
                    }
                },
                setOpacity: function(t) {
                    return this.options.opacity = t,
                    this._map && this._updateOpacity(),
                    this
                },
                _updateOpacity: function() {
                    var t = this.options.opacity;
                    this._icon && me(this._icon, t),
                    this._shadow && me(this._shadow, t)
                },
                _bringToFront: function() {
                    this._updateZIndex(this.options.riseOffset)
                },
                _resetZIndex: function() {
                    this._updateZIndex(0)
                },
                _getPopupAnchor: function() {
                    return this.options.icon.options.popupAnchor
                },
                _getTooltipAnchor: function() {
                    return this.options.icon.options.tooltipAnchor
                }
            })
              , zi = Si.extend({
                options: {
                    stroke: !0,
                    color: "#3388ff",
                    weight: 3,
                    opacity: 1,
                    lineCap: "round",
                    lineJoin: "round",
                    dashArray: null,
                    dashOffset: null,
                    fill: !1,
                    fillColor: null,
                    fillOpacity: .2,
                    fillRule: "evenodd",
                    interactive: !0,
                    bubblingMouseEvents: !0
                },
                beforeAdd: function(t) {
                    this._renderer = t.getRenderer(this)
                },
                onAdd: function() {
                    this._renderer._initPath(this),
                    this._reset(),
                    this._renderer._addPath(this)
                },
                onRemove: function() {
                    this._renderer._removePath(this)
                },
                redraw: function() {
                    return this._map && this._renderer._updatePath(this),
                    this
                },
                setStyle: function(t) {
                    return u(this, t),
                    this._renderer && (this._renderer._updateStyle(this),
                    this.options.stroke && t.hasOwnProperty("weight") && this._updateBounds()),
                    this
                },
                bringToFront: function() {
                    return this._renderer && this._renderer._bringToFront(this),
                    this
                },
                bringToBack: function() {
                    return this._renderer && this._renderer._bringToBack(this),
                    this
                },
                getElement: function() {
                    return this._path
                },
                _reset: function() {
                    this._project(),
                    this._update()
                },
                _clickTolerance: function() {
                    return (this.options.stroke ? this.options.weight / 2 : 0) + this._renderer.options.tolerance
                }
            })
              , Bi = zi.extend({
                options: {
                    fill: !0,
                    radius: 10
                },
                initialize: function(t, e) {
                    u(this, e),
                    this._latlng = j(t),
                    this._radius = this.options.radius
                },
                setLatLng: function(t) {
                    return this._latlng = j(t),
                    this.redraw(),
                    this.fire("move", {
                        latlng: this._latlng
                    })
                },
                getLatLng: function() {
                    return this._latlng
                },
                setRadius: function(t) {
                    return this.options.radius = this._radius = t,
                    this.redraw()
                },
                getRadius: function() {
                    return this._radius
                },
                setStyle: function(t) {
                    var e = t && t.radius || this._radius;
                    return zi.prototype.setStyle.call(this, t),
                    this.setRadius(e),
                    this
                },
                _project: function() {
                    this._point = this._map.latLngToLayerPoint(this._latlng),
                    this._updateBounds()
                },
                _updateBounds: function() {
                    var t = this._radius
                      , e = this._radiusY || t
                      , i = this._clickTolerance()
                      , a = [t + i, e + i];
                    this._pxBounds = new M(this._point.subtract(a),this._point.add(a))
                },
                _update: function() {
                    this._map && this._updatePath()
                },
                _updatePath: function() {
                    this._renderer._updateCircle(this)
                },
                _empty: function() {
                    return this._radius && !this._renderer._bounds.intersects(this._pxBounds)
                },
                _containsPoint: function(t) {
                    return t.distanceTo(this._point) <= this._radius + this._clickTolerance()
                }
            })
              , Di = Bi.extend({
                initialize: function(t, e, a) {
                    if ("number" === typeof e && (e = i({}, a, {
                        radius: e
                    })),
                    u(this, e),
                    this._latlng = j(t),
                    isNaN(this.options.radius))
                        throw new Error("Circle radius cannot be NaN");
                    this._mRadius = this.options.radius
                },
                setRadius: function(t) {
                    return this._mRadius = t,
                    this.redraw()
                },
                getRadius: function() {
                    return this._mRadius
                },
                getBounds: function() {
                    var t = [this._radius, this._radiusY || this._radius];
                    return new R(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))
                },
                setStyle: zi.prototype.setStyle,
                _project: function() {
                    var t = this._latlng.lng
                      , e = this._latlng.lat
                      , i = this._map
                      , a = i.options.crs;
                    if (a.distance === G.distance) {
                        var n = Math.PI / 180
                          , r = this._mRadius / G.R / n
                          , o = i.project([e + r, t])
                          , s = i.project([e - r, t])
                          , l = o.add(s).divideBy(2)
                          , c = i.unproject(l).lat
                          , h = Math.acos((Math.cos(r * n) - Math.sin(e * n) * Math.sin(c * n)) / (Math.cos(e * n) * Math.cos(c * n))) / n;
                        (isNaN(h) || 0 === h) && (h = r / Math.cos(Math.PI / 180 * e)),
                        this._point = l.subtract(i.getPixelOrigin()),
                        this._radius = isNaN(h) ? 0 : l.x - i.project([c, t - h]).x,
                        this._radiusY = l.y - o.y
                    } else {
                        var p = a.unproject(a.project(this._latlng).subtract([this._mRadius, 0]));
                        this._point = i.latLngToLayerPoint(this._latlng),
                        this._radius = this._point.x - i.latLngToLayerPoint(p).x
                    }
                    this._updateBounds()
                }
            })
              , Mi = zi.extend({
                options: {
                    smoothFactor: 1,
                    noClip: !1
                },
                initialize: function(t, e) {
                    u(this, e),
                    this._setLatLngs(t)
                },
                getLatLngs: function() {
                    return this._latlngs
                },
                setLatLngs: function(t) {
                    return this._setLatLngs(t),
                    this.redraw()
                },
                isEmpty: function() {
                    return !this._latlngs.length
                },
                closestLayerPoint: function(t) {
                    for (var e, i, a = 1 / 0, n = null, r = ui, o = 0, s = this._parts.length; o < s; o++)
                        for (var l = this._parts[o], c = 1, h = l.length; c < h; c++) {
                            e = l[c - 1],
                            i = l[c];
                            var p = r(t, e, i, !0);
                            p < a && (a = p,
                            n = r(t, e, i))
                        }
                    return n && (n.distance = Math.sqrt(a)),
                    n
                },
                getCenter: function() {
                    if (!this._map)
                        throw new Error("Must add layer to map before using getCenter()");
                    var t, e, i, a, n, r, o, s = this._rings[0], l = s.length;
                    if (!l)
                        return null;
                    for (t = 0,
                    e = 0; t < l - 1; t++)
                        e += s[t].distanceTo(s[t + 1]) / 2;
                    if (0 === e)
                        return this._map.layerPointToLatLng(s[0]);
                    for (t = 0,
                    a = 0; t < l - 1; t++)
                        if (n = s[t],
                        r = s[t + 1],
                        i = n.distanceTo(r),
                        (a += i) > e)
                            return o = (a - e) / i,
                            this._map.layerPointToLatLng([r.x - o * (r.x - n.x), r.y - o * (r.y - n.y)])
                },
                getBounds: function() {
                    return this._bounds
                },
                addLatLng: function(t, e) {
                    return e = e || this._defaultShape(),
                    t = j(t),
                    e.push(t),
                    this._bounds.extend(t),
                    this.redraw()
                },
                _setLatLngs: function(t) {
                    this._bounds = new R,
                    this._latlngs = this._convertLatLngs(t)
                },
                _defaultShape: function() {
                    return mi(this._latlngs) ? this._latlngs : this._latlngs[0]
                },
                _convertLatLngs: function(t) {
                    for (var e = [], i = mi(t), a = 0, n = t.length; a < n; a++)
                        i ? (e[a] = j(t[a]),
                        this._bounds.extend(e[a])) : e[a] = this._convertLatLngs(t[a]);
                    return e
                },
                _project: function() {
                    var t = new M;
                    this._rings = [],
                    this._projectLatlngs(this._latlngs, this._rings, t),
                    this._bounds.isValid() && t.isValid() && (this._rawPxBounds = t,
                    this._updateBounds())
                },
                _updateBounds: function() {
                    var t = this._clickTolerance()
                      , e = new z(t,t);
                    this._pxBounds = new M([this._rawPxBounds.min.subtract(e), this._rawPxBounds.max.add(e)])
                },
                _projectLatlngs: function(t, e, i) {
                    var a, n, r = t[0]instanceof V, o = t.length;
                    if (r) {
                        for (n = [],
                        a = 0; a < o; a++)
                            n[a] = this._map.latLngToLayerPoint(t[a]),
                            i.extend(n[a]);
                        e.push(n)
                    } else
                        for (a = 0; a < o; a++)
                            this._projectLatlngs(t[a], e, i)
                },
                _clipPoints: function() {
                    var t = this._renderer._bounds;
                    if (this._parts = [],
                    this._pxBounds && this._pxBounds.intersects(t))
                        if (this.options.noClip)
                            this._parts = this._rings;
                        else {
                            var e, i, a, n, r, o, s, l = this._parts;
                            for (e = 0,
                            a = 0,
                            n = this._rings.length; e < n; e++)
                                for (s = this._rings[e],
                                i = 0,
                                r = s.length; i < r - 1; i++)
                                    (o = ci(s[i], s[i + 1], t, i, !0)) && (l[a] = l[a] || [],
                                    l[a].push(o[0]),
                                    o[1] === s[i + 1] && i !== r - 2 || (l[a].push(o[1]),
                                    a++))
                        }
                },
                _simplifyPoints: function() {
                    for (var t = this._parts, e = this.options.smoothFactor, i = 0, a = t.length; i < a; i++)
                        t[i] = si(t[i], e)
                },
                _update: function() {
                    this._map && (this._clipPoints(),
                    this._simplifyPoints(),
                    this._updatePath())
                },
                _updatePath: function() {
                    this._renderer._updatePoly(this)
                },
                _containsPoint: function(t, e) {
                    var i, a, n, r, o, s, l = this._clickTolerance();
                    if (!this._pxBounds || !this._pxBounds.contains(t))
                        return !1;
                    for (i = 0,
                    r = this._parts.length; i < r; i++)
                        for (s = this._parts[i],
                        a = 0,
                        o = s.length,
                        n = o - 1; a < o; n = a++)
                            if ((e || 0 !== a) && li(t, s[n], s[a]) <= l)
                                return !0;
                    return !1
                }
            });
            Mi._flat = fi;
            var Oi = Mi.extend({
                options: {
                    fill: !0
                },
                isEmpty: function() {
                    return !this._latlngs.length || !this._latlngs[0].length
                },
                getCenter: function() {
                    if (!this._map)
                        throw new Error("Must add layer to map before using getCenter()");
                    var t, e, i, a, n, r, o, s, l, c = this._rings[0], h = c.length;
                    if (!h)
                        return null;
                    for (r = o = s = 0,
                    t = 0,
                    e = h - 1; t < h; e = t++)
                        i = c[t],
                        a = c[e],
                        n = i.y * a.x - a.y * i.x,
                        o += (i.x + a.x) * n,
                        s += (i.y + a.y) * n,
                        r += 3 * n;
                    return l = 0 === r ? c[0] : [o / r, s / r],
                    this._map.layerPointToLatLng(l)
                },
                _convertLatLngs: function(t) {
                    var e = Mi.prototype._convertLatLngs.call(this, t)
                      , i = e.length;
                    return i >= 2 && e[0]instanceof V && e[0].equals(e[i - 1]) && e.pop(),
                    e
                },
                _setLatLngs: function(t) {
                    Mi.prototype._setLatLngs.call(this, t),
                    mi(this._latlngs) && (this._latlngs = [this._latlngs])
                },
                _defaultShape: function() {
                    return mi(this._latlngs[0]) ? this._latlngs[0] : this._latlngs[0][0]
                },
                _clipPoints: function() {
                    var t = this._renderer._bounds
                      , e = this.options.weight
                      , i = new z(e,e);
                    if (t = new M(t.min.subtract(i),t.max.add(i)),
                    this._parts = [],
                    this._pxBounds && this._pxBounds.intersects(t))
                        if (this.options.noClip)
                            this._parts = this._rings;
                        else
                            for (var a, n = 0, r = this._rings.length; n < r; n++)
                                (a = yi(this._rings[n], t, !0)).length && this._parts.push(a)
                },
                _updatePath: function() {
                    this._renderer._updatePoly(this, !0)
                },
                _containsPoint: function(t) {
                    var e, i, a, n, r, o, s, l, c = !1;
                    if (!this._pxBounds || !this._pxBounds.contains(t))
                        return !1;
                    for (n = 0,
                    s = this._parts.length; n < s; n++)
                        for (e = this._parts[n],
                        r = 0,
                        l = e.length,
                        o = l - 1; r < l; o = r++)
                            i = e[r],
                            a = e[o],
                            i.y > t.y !== a.y > t.y && t.x < (a.x - i.x) * (t.y - i.y) / (a.y - i.y) + i.x && (c = !c);
                    return c || Mi.prototype._containsPoint.call(this, t, !0)
                }
            })
              , Ri = Ei.extend({
                initialize: function(t, e) {
                    u(this, e),
                    this._layers = {},
                    t && this.addData(t)
                },
                addData: function(t) {
                    var e, i, a, n = y(t) ? t : t.features;
                    if (n) {
                        for (e = 0,
                        i = n.length; e < i; e++)
                            ((a = n[e]).geometries || a.geometry || a.features || a.coordinates) && this.addData(a);
                        return this
                    }
                    var r = this.options;
                    if (r.filter && !r.filter(t))
                        return this;
                    var o = Ni(t, r);
                    return o ? (o.feature = Hi(t),
                    o.defaultOptions = o.options,
                    this.resetStyle(o),
                    r.onEachFeature && r.onEachFeature(t, o),
                    this.addLayer(o)) : this
                },
                resetStyle: function(t) {
                    return t.options = i({}, t.defaultOptions),
                    this._setLayerStyle(t, this.options.style),
                    this
                },
                setStyle: function(t) {
                    return this.eachLayer(function(e) {
                        this._setLayerStyle(e, t)
                    }, this)
                },
                _setLayerStyle: function(t, e) {
                    t.setStyle && ("function" === typeof e && (e = e(t.feature)),
                    t.setStyle(e))
                }
            });
            function Ni(t, e) {
                var i, a, n, r, o = "Feature" === t.type ? t.geometry : t, s = o ? o.coordinates : null, l = [], c = e && e.pointToLayer, h = e && e.coordsToLatLng || Vi;
                if (!s && !o)
                    return null;
                switch (o.type) {
                case "Point":
                    return i = h(s),
                    c ? c(t, i) : new Ii(i);
                case "MultiPoint":
                    for (n = 0,
                    r = s.length; n < r; n++)
                        i = h(s[n]),
                        l.push(c ? c(t, i) : new Ii(i));
                    return new Ei(l);
                case "LineString":
                case "MultiLineString":
                    return a = ji(s, "LineString" === o.type ? 0 : 1, h),
                    new Mi(a,e);
                case "Polygon":
                case "MultiPolygon":
                    return a = ji(s, "Polygon" === o.type ? 1 : 2, h),
                    new Oi(a,e);
                case "GeometryCollection":
                    for (n = 0,
                    r = o.geometries.length; n < r; n++) {
                        var p = Ni({
                            geometry: o.geometries[n],
                            type: "Feature",
                            properties: t.properties
                        }, e);
                        p && l.push(p)
                    }
                    return new Ei(l);
                default:
                    throw new Error("Invalid GeoJSON object.")
                }
            }
            function Vi(t) {
                return new V(t[1],t[0],t[2])
            }
            function ji(t, e, i) {
                for (var a, n = [], r = 0, o = t.length; r < o; r++)
                    a = e ? ji(t[r], e - 1, i) : (i || Vi)(t[r]),
                    n.push(a);
                return n
            }
            function Fi(t, e) {
                return e = "number" === typeof e ? e : 6,
                void 0 !== t.alt ? [h(t.lng, e), h(t.lat, e), h(t.alt, e)] : [h(t.lng, e), h(t.lat, e)]
            }
            function Gi(t, e, i, a) {
                for (var n = [], r = 0, o = t.length; r < o; r++)
                    n.push(e ? Gi(t[r], e - 1, i, a) : Fi(t[r], a));
                return !e && i && n.push(n[0]),
                n
            }
            function Ui(t, e) {
                return t.feature ? i({}, t.feature, {
                    geometry: e
                }) : Hi(e)
            }
            function Hi(t) {
                return "Feature" === t.type || "FeatureCollection" === t.type ? t : {
                    type: "Feature",
                    properties: {},
                    geometry: t
                }
            }
            var Ki = {
                toGeoJSON: function(t) {
                    return Ui(this, {
                        type: "Point",
                        coordinates: Fi(this.getLatLng(), t)
                    })
                }
            };
            function Wi(t, e) {
                return new Ri(t,e)
            }
            Ii.include(Ki),
            Di.include(Ki),
            Bi.include(Ki),
            Mi.include({
                toGeoJSON: function(t) {
                    var e = !mi(this._latlngs)
                      , i = Gi(this._latlngs, e ? 1 : 0, !1, t);
                    return Ui(this, {
                        type: (e ? "Multi" : "") + "LineString",
                        coordinates: i
                    })
                }
            }),
            Oi.include({
                toGeoJSON: function(t) {
                    var e = !mi(this._latlngs)
                      , i = e && !mi(this._latlngs[0])
                      , a = Gi(this._latlngs, i ? 2 : e ? 1 : 0, !0, t);
                    return e || (a = [a]),
                    Ui(this, {
                        type: (i ? "Multi" : "") + "Polygon",
                        coordinates: a
                    })
                }
            }),
            Ti.include({
                toMultiPoint: function(t) {
                    var e = [];
                    return this.eachLayer(function(i) {
                        e.push(i.toGeoJSON(t).geometry.coordinates)
                    }),
                    Ui(this, {
                        type: "MultiPoint",
                        coordinates: e
                    })
                },
                toGeoJSON: function(t) {
                    var e = this.feature && this.feature.geometry && this.feature.geometry.type;
                    if ("MultiPoint" === e)
                        return this.toMultiPoint(t);
                    var i = "GeometryCollection" === e
                      , a = [];
                    return this.eachLayer(function(e) {
                        if (e.toGeoJSON) {
                            var n = e.toGeoJSON(t);
                            if (i)
                                a.push(n.geometry);
                            else {
                                var r = Hi(n);
                                "FeatureCollection" === r.type ? a.push.apply(a, r.features) : a.push(r)
                            }
                        }
                    }),
                    i ? Ui(this, {
                        geometries: a,
                        type: "GeometryCollection"
                    }) : {
                        type: "FeatureCollection",
                        features: a
                    }
                }
            });
            var Qi = Wi
              , Yi = Si.extend({
                options: {
                    opacity: 1,
                    alt: "",
                    interactive: !1,
                    crossOrigin: !1,
                    errorOverlayUrl: "",
                    zIndex: 1,
                    className: ""
                },
                initialize: function(t, e, i) {
                    this._url = t,
                    this._bounds = N(e),
                    u(this, i)
                },
                onAdd: function() {
                    this._image || (this._initImage(),
                    this.options.opacity < 1 && this._updateOpacity()),
                    this.options.interactive && (he(this._image, "leaflet-interactive"),
                    this.addInteractiveTarget(this._image)),
                    this.getPane().appendChild(this._image),
                    this._reset()
                },
                onRemove: function() {
                    re(this._image),
                    this.options.interactive && this.removeInteractiveTarget(this._image)
                },
                setOpacity: function(t) {
                    return this.options.opacity = t,
                    this._image && this._updateOpacity(),
                    this
                },
                setStyle: function(t) {
                    return t.opacity && this.setOpacity(t.opacity),
                    this
                },
                bringToFront: function() {
                    return this._map && se(this._image),
                    this
                },
                bringToBack: function() {
                    return this._map && le(this._image),
                    this
                },
                setUrl: function(t) {
                    return this._url = t,
                    this._image && (this._image.src = t),
                    this
                },
                setBounds: function(t) {
                    return this._bounds = N(t),
                    this._map && this._reset(),
                    this
                },
                getEvents: function() {
                    var t = {
                        zoom: this._reset,
                        viewreset: this._reset
                    };
                    return this._zoomAnimated && (t.zoomanim = this._animateZoom),
                    t
                },
                setZIndex: function(t) {
                    return this.options.zIndex = t,
                    this._updateZIndex(),
                    this
                },
                getBounds: function() {
                    return this._bounds
                },
                getElement: function() {
                    return this._image
                },
                _initImage: function() {
                    var t = "IMG" === this._url.tagName
                      , e = this._image = t ? this._url : ne("img");
                    he(e, "leaflet-image-layer"),
                    this._zoomAnimated && he(e, "leaflet-zoom-animated"),
                    this.options.className && he(e, this.options.className),
                    e.onselectstart = c,
                    e.onmousemove = c,
                    e.onload = n(this.fire, this, "load"),
                    e.onerror = n(this._overlayOnError, this, "error"),
                    (this.options.crossOrigin || "" === this.options.crossOrigin) && (e.crossOrigin = !0 === this.options.crossOrigin ? "" : this.options.crossOrigin),
                    this.options.zIndex && this._updateZIndex(),
                    t ? this._url = e.src : (e.src = this._url,
                    e.alt = this.options.alt)
                },
                _animateZoom: function(t) {
                    var e = this._map.getZoomScale(t.zoom)
                      , i = this._map._latLngBoundsToNewLayerBounds(this._bounds, t.zoom, t.center).min;
                    ge(this._image, i, e)
                },
                _reset: function() {
                    var t = this._image
                      , e = new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast()))
                      , i = e.getSize();
                    ye(t, e.min),
                    t.style.width = i.x + "px",
                    t.style.height = i.y + "px"
                },
                _updateOpacity: function() {
                    me(this._image, this.options.opacity)
                },
                _updateZIndex: function() {
                    this._image && void 0 !== this.options.zIndex && null !== this.options.zIndex && (this._image.style.zIndex = this.options.zIndex)
                },
                _overlayOnError: function() {
                    this.fire("error");
                    var t = this.options.errorOverlayUrl;
                    t && this._url !== t && (this._url = t,
                    this._image.src = t)
                }
            })
              , Zi = Yi.extend({
                options: {
                    autoplay: !0,
                    loop: !0,
                    keepAspectRatio: !0
                },
                _initImage: function() {
                    var t = "VIDEO" === this._url.tagName
                      , e = this._image = t ? this._url : ne("video");
                    if (he(e, "leaflet-image-layer"),
                    this._zoomAnimated && he(e, "leaflet-zoom-animated"),
                    e.onselectstart = c,
                    e.onmousemove = c,
                    e.onloadeddata = n(this.fire, this, "load"),
                    t) {
                        for (var i = e.getElementsByTagName("source"), a = [], r = 0; r < i.length; r++)
                            a.push(i[r].src);
                        this._url = i.length > 0 ? a : [e.src]
                    } else {
                        y(this._url) || (this._url = [this._url]),
                        !this.options.keepAspectRatio && e.style.hasOwnProperty("objectFit") && (e.style.objectFit = "fill"),
                        e.autoplay = !!this.options.autoplay,
                        e.loop = !!this.options.loop;
                        for (var o = 0; o < this._url.length; o++) {
                            var s = ne("source");
                            s.src = this._url[o],
                            e.appendChild(s)
                        }
                    }
                }
            })
              , $i = Yi.extend({
                _initImage: function() {
                    var t = this._image = this._url;
                    he(t, "leaflet-image-layer"),
                    this._zoomAnimated && he(t, "leaflet-zoom-animated"),
                    t.onselectstart = c,
                    t.onmousemove = c
                }
            })
              , qi = Si.extend({
                options: {
                    offset: [0, 7],
                    className: "",
                    pane: "popupPane"
                },
                initialize: function(t, e) {
                    u(this, t),
                    this._source = e
                },
                onAdd: function(t) {
                    this._zoomAnimated = t._zoomAnimated,
                    this._container || this._initLayout(),
                    t._fadeAnimated && me(this._container, 0),
                    clearTimeout(this._removeTimeout),
                    this.getPane().appendChild(this._container),
                    this.update(),
                    t._fadeAnimated && me(this._container, 1),
                    this.bringToFront()
                },
                onRemove: function(t) {
                    t._fadeAnimated ? (me(this._container, 0),
                    this._removeTimeout = setTimeout(n(re, void 0, this._container), 200)) : re(this._container)
                },
                getLatLng: function() {
                    return this._latlng
                },
                setLatLng: function(t) {
                    return this._latlng = j(t),
                    this._map && (this._updatePosition(),
                    this._adjustPan()),
                    this
                },
                getContent: function() {
                    return this._content
                },
                setContent: function(t) {
                    return this._content = t,
                    this.update(),
                    this
                },
                getElement: function() {
                    return this._container
                },
                update: function() {
                    this._map && (this._container.style.visibility = "hidden",
                    this._updateContent(),
                    this._updateLayout(),
                    this._updatePosition(),
                    this._container.style.visibility = "",
                    this._adjustPan())
                },
                getEvents: function() {
                    var t = {
                        zoom: this._updatePosition,
                        viewreset: this._updatePosition
                    };
                    return this._zoomAnimated && (t.zoomanim = this._animateZoom),
                    t
                },
                isOpen: function() {
                    return !!this._map && this._map.hasLayer(this)
                },
                bringToFront: function() {
                    return this._map && se(this._container),
                    this
                },
                bringToBack: function() {
                    return this._map && le(this._container),
                    this
                },
                _prepareOpen: function(t, e, i) {
                    if (e instanceof Si || (i = e,
                    e = t),
                    e instanceof Ei)
                        for (var a in t._layers) {
                            e = t._layers[a];
                            break
                        }
                    if (!i)
                        if (e.getCenter)
                            i = e.getCenter();
                        else {
                            if (!e.getLatLng)
                                throw new Error("Unable to get source layer LatLng.");
                            i = e.getLatLng()
                        }
                    return this._source = e,
                    this.update(),
                    i
                },
                _updateContent: function() {
                    if (this._content) {
                        var t = this._contentNode
                          , e = "function" === typeof this._content ? this._content(this._source || this) : this._content;
                        if ("string" === typeof e)
                            t.innerHTML = e;
                        else {
                            for (; t.hasChildNodes(); )
                                t.removeChild(t.firstChild);
                            t.appendChild(e)
                        }
                        this.fire("contentupdate")
                    }
                },
                _updatePosition: function() {
                    if (this._map) {
                        var t = this._map.latLngToLayerPoint(this._latlng)
                          , e = D(this.options.offset)
                          , i = this._getAnchor();
                        this._zoomAnimated ? ye(this._container, t.add(i)) : e = e.add(t).add(i);
                        var a = this._containerBottom = -e.y
                          , n = this._containerLeft = -Math.round(this._containerWidth / 2) + e.x;
                        this._container.style.bottom = a + "px",
                        this._container.style.left = n + "px"
                    }
                },
                _getAnchor: function() {
                    return [0, 0]
                }
            })
              , Xi = qi.extend({
                options: {
                    maxWidth: 300,
                    minWidth: 50,
                    maxHeight: null,
                    autoPan: !0,
                    autoPanPaddingTopLeft: null,
                    autoPanPaddingBottomRight: null,
                    autoPanPadding: [5, 5],
                    keepInView: !1,
                    closeButton: !0,
                    autoClose: !0,
                    closeOnEscapeKey: !0,
                    className: ""
                },
                openOn: function(t) {
                    return t.openPopup(this),
                    this
                },
                onAdd: function(t) {
                    qi.prototype.onAdd.call(this, t),
                    t.fire("popupopen", {
                        popup: this
                    }),
                    this._source && (this._source.fire("popupopen", {
                        popup: this
                    }, !0),
                    this._source instanceof zi || this._source.on("preclick", ze))
                },
                onRemove: function(t) {
                    qi.prototype.onRemove.call(this, t),
                    t.fire("popupclose", {
                        popup: this
                    }),
                    this._source && (this._source.fire("popupclose", {
                        popup: this
                    }, !0),
                    this._source instanceof zi || this._source.off("preclick", ze))
                },
                getEvents: function() {
                    var t = qi.prototype.getEvents.call(this);
                    return (void 0 !== this.options.closeOnClick ? this.options.closeOnClick : this._map.options.closePopupOnClick) && (t.preclick = this._close),
                    this.options.keepInView && (t.moveend = this._adjustPan),
                    t
                },
                _close: function() {
                    this._map && this._map.closePopup(this)
                },
                _initLayout: function() {
                    var t = "leaflet-popup"
                      , e = this._container = ne("div", t + " " + (this.options.className || "") + " leaflet-zoom-animated")
                      , i = this._wrapper = ne("div", t + "-content-wrapper", e);
                    if (this._contentNode = ne("div", t + "-content", i),
                    De(i),
                    Be(this._contentNode),
                    Ee(i, "contextmenu", ze),
                    this._tipContainer = ne("div", t + "-tip-container", e),
                    this._tip = ne("div", t + "-tip", this._tipContainer),
                    this.options.closeButton) {
                        var a = this._closeButton = ne("a", t + "-close-button", e);
                        a.href = "#close",
                        a.innerHTML = "&#215;",
                        Ee(a, "click", this._onCloseButtonClick, this)
                    }
                },
                _updateLayout: function() {
                    var t = this._contentNode
                      , e = t.style;
                    e.width = "",
                    e.whiteSpace = "nowrap";
                    var i = t.offsetWidth;
                    i = Math.min(i, this.options.maxWidth),
                    i = Math.max(i, this.options.minWidth),
                    e.width = i + 1 + "px",
                    e.whiteSpace = "",
                    e.height = "";
                    var a = t.offsetHeight
                      , n = this.options.maxHeight;
                    n && a > n ? (e.height = n + "px",
                    he(t, "leaflet-popup-scrolled")) : pe(t, "leaflet-popup-scrolled"),
                    this._containerWidth = this._container.offsetWidth
                },
                _animateZoom: function(t) {
                    var e = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center)
                      , i = this._getAnchor();
                    ye(this._container, e.add(i))
                },
                _adjustPan: function() {
                    if (this.options.autoPan) {
                        this._map._panAnim && this._map._panAnim.stop();
                        var t = this._map
                          , e = parseInt(ae(this._container, "marginBottom"), 10) || 0
                          , i = this._container.offsetHeight + e
                          , a = this._containerWidth
                          , n = new z(this._containerLeft,-i - this._containerBottom);
                        n._add(ve(this._container));
                        var r = t.layerPointToContainerPoint(n)
                          , o = D(this.options.autoPanPadding)
                          , s = D(this.options.autoPanPaddingTopLeft || o)
                          , l = D(this.options.autoPanPaddingBottomRight || o)
                          , c = t.getSize()
                          , h = 0
                          , p = 0;
                        r.x + a + l.x > c.x && (h = r.x + a - c.x + l.x),
                        r.x - h - s.x < 0 && (h = r.x - s.x),
                        r.y + i + l.y > c.y && (p = r.y + i - c.y + l.y),
                        r.y - p - s.y < 0 && (p = r.y - s.y),
                        (h || p) && t.fire("autopanstart").panBy([h, p])
                    }
                },
                _onCloseButtonClick: function(t) {
                    this._close(),
                    Oe(t)
                },
                _getAnchor: function() {
                    return D(this._source && this._source._getPopupAnchor ? this._source._getPopupAnchor() : [0, 0])
                }
            });
            Qe.mergeOptions({
                closePopupOnClick: !0
            }),
            Qe.include({
                openPopup: function(t, e, i) {
                    return t instanceof Xi || (t = new Xi(i).setContent(t)),
                    e && t.setLatLng(e),
                    this.hasLayer(t) ? this : (this._popup && this._popup.options.autoClose && this.closePopup(),
                    this._popup = t,
                    this.addLayer(t))
                },
                closePopup: function(t) {
                    return t && t !== this._popup || (t = this._popup,
                    this._popup = null),
                    t && this.removeLayer(t),
                    this
                }
            }),
            Si.include({
                bindPopup: function(t, e) {
                    return t instanceof Xi ? (u(t, e),
                    this._popup = t,
                    t._source = this) : (this._popup && !e || (this._popup = new Xi(e,this)),
                    this._popup.setContent(t)),
                    this._popupHandlersAdded || (this.on({
                        click: this._openPopup,
                        keypress: this._onKeyPress,
                        remove: this.closePopup,
                        move: this._movePopup
                    }),
                    this._popupHandlersAdded = !0),
                    this
                },
                unbindPopup: function() {
                    return this._popup && (this.off({
                        click: this._openPopup,
                        keypress: this._onKeyPress,
                        remove: this.closePopup,
                        move: this._movePopup
                    }),
                    this._popupHandlersAdded = !1,
                    this._popup = null),
                    this
                },
                openPopup: function(t, e) {
                    return this._popup && this._map && (e = this._popup._prepareOpen(this, t, e),
                    this._map.openPopup(this._popup, e)),
                    this
                },
                closePopup: function() {
                    return this._popup && this._popup._close(),
                    this
                },
                togglePopup: function(t) {
                    return this._popup && (this._popup._map ? this.closePopup() : this.openPopup(t)),
                    this
                },
                isPopupOpen: function() {
                    return !!this._popup && this._popup.isOpen()
                },
                setPopupContent: function(t) {
                    return this._popup && this._popup.setContent(t),
                    this
                },
                getPopup: function() {
                    return this._popup
                },
                _openPopup: function(t) {
                    var e = t.layer || t.target;
                    this._popup && this._map && (Oe(t),
                    e instanceof zi ? this.openPopup(t.layer || t.target, t.latlng) : this._map.hasLayer(this._popup) && this._popup._source === e ? this.closePopup() : this.openPopup(e, t.latlng))
                },
                _movePopup: function(t) {
                    this._popup.setLatLng(t.latlng)
                },
                _onKeyPress: function(t) {
                    13 === t.originalEvent.keyCode && this._openPopup(t)
                }
            });
            var Ji = qi.extend({
                options: {
                    pane: "tooltipPane",
                    offset: [0, 0],
                    direction: "auto",
                    permanent: !1,
                    sticky: !1,
                    interactive: !1,
                    opacity: .9
                },
                onAdd: function(t) {
                    qi.prototype.onAdd.call(this, t),
                    this.setOpacity(this.options.opacity),
                    t.fire("tooltipopen", {
                        tooltip: this
                    }),
                    this._source && this._source.fire("tooltipopen", {
                        tooltip: this
                    }, !0)
                },
                onRemove: function(t) {
                    qi.prototype.onRemove.call(this, t),
                    t.fire("tooltipclose", {
                        tooltip: this
                    }),
                    this._source && this._source.fire("tooltipclose", {
                        tooltip: this
                    }, !0)
                },
                getEvents: function() {
                    var t = qi.prototype.getEvents.call(this);
                    return _t && !this.options.permanent && (t.preclick = this._close),
                    t
                },
                _close: function() {
                    this._map && this._map.closeTooltip(this)
                },
                _initLayout: function() {
                    var t = "leaflet-tooltip " + (this.options.className || "") + " leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide");
                    this._contentNode = this._container = ne("div", t)
                },
                _updateLayout: function() {},
                _adjustPan: function() {},
                _setPosition: function(t) {
                    var e = this._map
                      , i = this._container
                      , a = e.latLngToContainerPoint(e.getCenter())
                      , n = e.layerPointToContainerPoint(t)
                      , r = this.options.direction
                      , o = i.offsetWidth
                      , s = i.offsetHeight
                      , l = D(this.options.offset)
                      , c = this._getAnchor();
                    "top" === r ? t = t.add(D(-o / 2 + l.x, -s + l.y + c.y, !0)) : "bottom" === r ? t = t.subtract(D(o / 2 - l.x, -l.y, !0)) : "center" === r ? t = t.subtract(D(o / 2 + l.x, s / 2 - c.y + l.y, !0)) : "right" === r || "auto" === r && n.x < a.x ? (r = "right",
                    t = t.add(D(l.x + c.x, c.y - s / 2 + l.y, !0))) : (r = "left",
                    t = t.subtract(D(o + c.x - l.x, s / 2 - c.y - l.y, !0))),
                    pe(i, "leaflet-tooltip-right"),
                    pe(i, "leaflet-tooltip-left"),
                    pe(i, "leaflet-tooltip-top"),
                    pe(i, "leaflet-tooltip-bottom"),
                    he(i, "leaflet-tooltip-" + r),
                    ye(i, t)
                },
                _updatePosition: function() {
                    var t = this._map.latLngToLayerPoint(this._latlng);
                    this._setPosition(t)
                },
                setOpacity: function(t) {
                    this.options.opacity = t,
                    this._container && me(this._container, t)
                },
                _animateZoom: function(t) {
                    var e = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center);
                    this._setPosition(e)
                },
                _getAnchor: function() {
                    return D(this._source && this._source._getTooltipAnchor && !this.options.sticky ? this._source._getTooltipAnchor() : [0, 0])
                }
            });
            Qe.include({
                openTooltip: function(t, e, i) {
                    return t instanceof Ji || (t = new Ji(i).setContent(t)),
                    e && t.setLatLng(e),
                    this.hasLayer(t) ? this : this.addLayer(t)
                },
                closeTooltip: function(t) {
                    return t && this.removeLayer(t),
                    this
                }
            }),
            Si.include({
                bindTooltip: function(t, e) {
                    return t instanceof Ji ? (u(t, e),
                    this._tooltip = t,
                    t._source = this) : (this._tooltip && !e || (this._tooltip = new Ji(e,this)),
                    this._tooltip.setContent(t)),
                    this._initTooltipInteractions(),
                    this._tooltip.options.permanent && this._map && this._map.hasLayer(this) && this.openTooltip(),
                    this
                },
                unbindTooltip: function() {
                    return this._tooltip && (this._initTooltipInteractions(!0),
                    this.closeTooltip(),
                    this._tooltip = null),
                    this
                },
                _initTooltipInteractions: function(t) {
                    if (t || !this._tooltipHandlersAdded) {
                        var e = t ? "off" : "on"
                          , i = {
                            remove: this.closeTooltip,
                            move: this._moveTooltip
                        };
                        this._tooltip.options.permanent ? i.add = this._openTooltip : (i.mouseover = this._openTooltip,
                        i.mouseout = this.closeTooltip,
                        this._tooltip.options.sticky && (i.mousemove = this._moveTooltip),
                        _t && (i.click = this._openTooltip)),
                        this[e](i),
                        this._tooltipHandlersAdded = !t
                    }
                },
                openTooltip: function(t, e) {
                    return this._tooltip && this._map && (e = this._tooltip._prepareOpen(this, t, e),
                    this._map.openTooltip(this._tooltip, e),
                    this._tooltip.options.interactive && this._tooltip._container && (he(this._tooltip._container, "leaflet-clickable"),
                    this.addInteractiveTarget(this._tooltip._container))),
                    this
                },
                closeTooltip: function() {
                    return this._tooltip && (this._tooltip._close(),
                    this._tooltip.options.interactive && this._tooltip._container && (pe(this._tooltip._container, "leaflet-clickable"),
                    this.removeInteractiveTarget(this._tooltip._container))),
                    this
                },
                toggleTooltip: function(t) {
                    return this._tooltip && (this._tooltip._map ? this.closeTooltip() : this.openTooltip(t)),
                    this
                },
                isTooltipOpen: function() {
                    return this._tooltip.isOpen()
                },
                setTooltipContent: function(t) {
                    return this._tooltip && this._tooltip.setContent(t),
                    this
                },
                getTooltip: function() {
                    return this._tooltip
                },
                _openTooltip: function(t) {
                    var e = t.layer || t.target;
                    this._tooltip && this._map && this.openTooltip(e, this._tooltip.options.sticky ? t.latlng : void 0)
                },
                _moveTooltip: function(t) {
                    var e, i, a = t.latlng;
                    this._tooltip.options.sticky && t.originalEvent && (e = this._map.mouseEventToContainerPoint(t.originalEvent),
                    i = this._map.containerPointToLayerPoint(e),
                    a = this._map.layerPointToLatLng(i)),
                    this._tooltip.setLatLng(a)
                }
            });
            var ta = ki.extend({
                options: {
                    iconSize: [12, 12],
                    html: !1,
                    bgPos: null,
                    className: "leaflet-div-icon"
                },
                createIcon: function(t) {
                    var e = t && "DIV" === t.tagName ? t : document.createElement("div")
                      , i = this.options;
                    if (i.html instanceof Element ? (oe(e),
                    e.appendChild(i.html)) : e.innerHTML = !1 !== i.html ? i.html : "",
                    i.bgPos) {
                        var a = D(i.bgPos);
                        e.style.backgroundPosition = -a.x + "px " + -a.y + "px"
                    }
                    return this._setIconStyles(e, "icon"),
                    e
                },
                createShadow: function() {
                    return null
                }
            });
            ki.Default = Li;
            var ea = Si.extend({
                options: {
                    tileSize: 256,
                    opacity: 1,
                    updateWhenIdle: gt,
                    updateWhenZooming: !0,
                    updateInterval: 200,
                    zIndex: 1,
                    bounds: null,
                    minZoom: 0,
                    maxZoom: void 0,
                    maxNativeZoom: void 0,
                    minNativeZoom: void 0,
                    noWrap: !1,
                    pane: "tilePane",
                    className: "",
                    keepBuffer: 2
                },
                initialize: function(t) {
                    u(this, t)
                },
                onAdd: function() {
                    this._initContainer(),
                    this._levels = {},
                    this._tiles = {},
                    this._resetView(),
                    this._update()
                },
                beforeAdd: function(t) {
                    t._addZoomLimit(this)
                },
                onRemove: function(t) {
                    this._removeAllTiles(),
                    re(this._container),
                    t._removeZoomLimit(this),
                    this._container = null,
                    this._tileZoom = void 0
                },
                bringToFront: function() {
                    return this._map && (se(this._container),
                    this._setAutoZIndex(Math.max)),
                    this
                },
                bringToBack: function() {
                    return this._map && (le(this._container),
                    this._setAutoZIndex(Math.min)),
                    this
                },
                getContainer: function() {
                    return this._container
                },
                setOpacity: function(t) {
                    return this.options.opacity = t,
                    this._updateOpacity(),
                    this
                },
                setZIndex: function(t) {
                    return this.options.zIndex = t,
                    this._updateZIndex(),
                    this
                },
                isLoading: function() {
                    return this._loading
                },
                redraw: function() {
                    return this._map && (this._removeAllTiles(),
                    this._update()),
                    this
                },
                getEvents: function() {
                    var t = {
                        viewprereset: this._invalidateAll,
                        viewreset: this._resetView,
                        zoom: this._resetView,
                        moveend: this._onMoveEnd
                    };
                    return this.options.updateWhenIdle || (this._onMove || (this._onMove = s(this._onMoveEnd, this.options.updateInterval, this)),
                    t.move = this._onMove),
                    this._zoomAnimated && (t.zoomanim = this._animateZoom),
                    t
                },
                createTile: function() {
                    return document.createElement("div")
                },
                getTileSize: function() {
                    var t = this.options.tileSize;
                    return t instanceof z ? t : new z(t,t)
                },
                _updateZIndex: function() {
                    this._container && void 0 !== this.options.zIndex && null !== this.options.zIndex && (this._container.style.zIndex = this.options.zIndex)
                },
                _setAutoZIndex: function(t) {
                    for (var e, i = this.getPane().children, a = -t(-1 / 0, 1 / 0), n = 0, r = i.length; n < r; n++)
                        e = i[n].style.zIndex,
                        i[n] !== this._container && e && (a = t(a, +e));
                    isFinite(a) && (this.options.zIndex = a + t(-1, 1),
                    this._updateZIndex())
                },
                _updateOpacity: function() {
                    if (this._map && !X) {
                        me(this._container, this.options.opacity);
                        var t = +new Date
                          , e = !1
                          , i = !1;
                        for (var a in this._tiles) {
                            var n = this._tiles[a];
                            if (n.current && n.loaded) {
                                var r = Math.min(1, (t - n.loaded) / 200);
                                me(n.el, r),
                                r < 1 ? e = !0 : (n.active ? i = !0 : this._onOpaqueTile(n),
                                n.active = !0)
                            }
                        }
                        i && !this._noPrune && this._pruneTiles(),
                        e && (T(this._fadeFrame),
                        this._fadeFrame = S(this._updateOpacity, this))
                    }
                },
                _onOpaqueTile: c,
                _initContainer: function() {
                    this._container || (this._container = ne("div", "leaflet-layer " + (this.options.className || "")),
                    this._updateZIndex(),
                    this.options.opacity < 1 && this._updateOpacity(),
                    this.getPane().appendChild(this._container))
                },
                _updateLevels: function() {
                    var t = this._tileZoom
                      , e = this.options.maxZoom;
                    if (void 0 !== t) {
                        for (var i in this._levels)
                            this._levels[i].el.children.length || i === t ? (this._levels[i].el.style.zIndex = e - Math.abs(t - i),
                            this._onUpdateLevel(i)) : (re(this._levels[i].el),
                            this._removeTilesAtZoom(i),
                            this._onRemoveLevel(i),
                            delete this._levels[i]);
                        var a = this._levels[t]
                          , n = this._map;
                        return a || ((a = this._levels[t] = {}).el = ne("div", "leaflet-tile-container leaflet-zoom-animated", this._container),
                        a.el.style.zIndex = e,
                        a.origin = n.project(n.unproject(n.getPixelOrigin()), t).round(),
                        a.zoom = t,
                        this._setZoomTransform(a, n.getCenter(), n.getZoom()),
                        a.el.offsetWidth,
                        this._onCreateLevel(a)),
                        this._level = a,
                        a
                    }
                },
                _onUpdateLevel: c,
                _onRemoveLevel: c,
                _onCreateLevel: c,
                _pruneTiles: function() {
                    if (this._map) {
                        var t, e, i = this._map.getZoom();
                        if (i > this.options.maxZoom || i < this.options.minZoom)
                            this._removeAllTiles();
                        else {
                            for (t in this._tiles)
                                (e = this._tiles[t]).retain = e.current;
                            for (t in this._tiles)
                                if ((e = this._tiles[t]).current && !e.active) {
                                    var a = e.coords;
                                    this._retainParent(a.x, a.y, a.z, a.z - 5) || this._retainChildren(a.x, a.y, a.z, a.z + 2)
                                }
                            for (t in this._tiles)
                                this._tiles[t].retain || this._removeTile(t)
                        }
                    }
                },
                _removeTilesAtZoom: function(t) {
                    for (var e in this._tiles)
                        this._tiles[e].coords.z === t && this._removeTile(e)
                },
                _removeAllTiles: function() {
                    for (var t in this._tiles)
                        this._removeTile(t)
                },
                _invalidateAll: function() {
                    for (var t in this._levels)
                        re(this._levels[t].el),
                        this._onRemoveLevel(t),
                        delete this._levels[t];
                    this._removeAllTiles(),
                    this._tileZoom = void 0
                },
                _retainParent: function(t, e, i, a) {
                    var n = Math.floor(t / 2)
                      , r = Math.floor(e / 2)
                      , o = i - 1
                      , s = new z(+n,+r);
                    s.z = +o;
                    var l = this._tileCoordsToKey(s)
                      , c = this._tiles[l];
                    return c && c.active ? (c.retain = !0,
                    !0) : (c && c.loaded && (c.retain = !0),
                    o > a && this._retainParent(n, r, o, a))
                },
                _retainChildren: function(t, e, i, a) {
                    for (var n = 2 * t; n < 2 * t + 2; n++)
                        for (var r = 2 * e; r < 2 * e + 2; r++) {
                            var o = new z(n,r);
                            o.z = i + 1;
                            var s = this._tileCoordsToKey(o)
                              , l = this._tiles[s];
                            l && l.active ? l.retain = !0 : (l && l.loaded && (l.retain = !0),
                            i + 1 < a && this._retainChildren(n, r, i + 1, a))
                        }
                },
                _resetView: function(t) {
                    var e = t && (t.pinch || t.flyTo);
                    this._setView(this._map.getCenter(), this._map.getZoom(), e, e)
                },
                _animateZoom: function(t) {
                    this._setView(t.center, t.zoom, !0, t.noUpdate)
                },
                _clampZoom: function(t) {
                    var e = this.options;
                    return void 0 !== e.minNativeZoom && t < e.minNativeZoom ? e.minNativeZoom : void 0 !== e.maxNativeZoom && e.maxNativeZoom < t ? e.maxNativeZoom : t
                },
                _setView: function(t, e, i, a) {
                    var n = this._clampZoom(Math.round(e));
                    (void 0 !== this.options.maxZoom && n > this.options.maxZoom || void 0 !== this.options.minZoom && n < this.options.minZoom) && (n = void 0);
                    var r = this.options.updateWhenZooming && n !== this._tileZoom;
                    a && !r || (this._tileZoom = n,
                    this._abortLoading && this._abortLoading(),
                    this._updateLevels(),
                    this._resetGrid(),
                    void 0 !== n && this._update(t),
                    i || this._pruneTiles(),
                    this._noPrune = !!i),
                    this._setZoomTransforms(t, e)
                },
                _setZoomTransforms: function(t, e) {
                    for (var i in this._levels)
                        this._setZoomTransform(this._levels[i], t, e)
                },
                _setZoomTransform: function(t, e, i) {
                    var a = this._map.getZoomScale(i, t.zoom)
                      , n = t.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(e, i)).round();
                    ft ? ge(t.el, n, a) : ye(t.el, n)
                },
                _resetGrid: function() {
                    var t = this._map
                      , e = t.options.crs
                      , i = this._tileSize = this.getTileSize()
                      , a = this._tileZoom
                      , n = this._map.getPixelWorldBounds(this._tileZoom);
                    n && (this._globalTileRange = this._pxBoundsToTileRange(n)),
                    this._wrapX = e.wrapLng && !this.options.noWrap && [Math.floor(t.project([0, e.wrapLng[0]], a).x / i.x), Math.ceil(t.project([0, e.wrapLng[1]], a).x / i.y)],
                    this._wrapY = e.wrapLat && !this.options.noWrap && [Math.floor(t.project([e.wrapLat[0], 0], a).y / i.x), Math.ceil(t.project([e.wrapLat[1], 0], a).y / i.y)]
                },
                _onMoveEnd: function() {
                    this._map && !this._map._animatingZoom && this._update()
                },
                _getTiledPixelBounds: function(t) {
                    var e = this._map
                      , i = e._animatingZoom ? Math.max(e._animateToZoom, e.getZoom()) : e.getZoom()
                      , a = e.getZoomScale(i, this._tileZoom)
                      , n = e.project(t, this._tileZoom).floor()
                      , r = e.getSize().divideBy(2 * a);
                    return new M(n.subtract(r),n.add(r))
                },
                _update: function(t) {
                    var e = this._map;
                    if (e) {
                        var i = this._clampZoom(e.getZoom());
                        if (void 0 === t && (t = e.getCenter()),
                        void 0 !== this._tileZoom) {
                            var a = this._getTiledPixelBounds(t)
                              , n = this._pxBoundsToTileRange(a)
                              , r = n.getCenter()
                              , o = []
                              , s = this.options.keepBuffer
                              , l = new M(n.getBottomLeft().subtract([s, -s]),n.getTopRight().add([s, -s]));
                            if (!(isFinite(n.min.x) && isFinite(n.min.y) && isFinite(n.max.x) && isFinite(n.max.y)))
                                throw new Error("Attempted to load an infinite number of tiles");
                            for (var c in this._tiles) {
                                var h = this._tiles[c].coords;
                                h.z === this._tileZoom && l.contains(new z(h.x,h.y)) || (this._tiles[c].current = !1)
                            }
                            if (Math.abs(i - this._tileZoom) > 1)
                                this._setView(t, i);
                            else {
                                for (var p = n.min.y; p <= n.max.y; p++)
                                    for (var d = n.min.x; d <= n.max.x; d++) {
                                        var u = new z(d,p);
                                        if (u.z = this._tileZoom,
                                        this._isValidTile(u)) {
                                            var m = this._tiles[this._tileCoordsToKey(u)];
                                            m ? m.current = !0 : o.push(u)
                                        }
                                    }
                                if (o.sort(function(t, e) {
                                    return t.distanceTo(r) - e.distanceTo(r)
                                }),
                                0 !== o.length) {
                                    this._loading || (this._loading = !0,
                                    this.fire("loading"));
                                    var f = document.createDocumentFragment();
                                    for (d = 0; d < o.length; d++)
                                        this._addTile(o[d], f);
                                    this._level.el.appendChild(f)
                                }
                            }
                        }
                    }
                },
                _isValidTile: function(t) {
                    var e = this._map.options.crs;
                    if (!e.infinite) {
                        var i = this._globalTileRange;
                        if (!e.wrapLng && (t.x < i.min.x || t.x > i.max.x) || !e.wrapLat && (t.y < i.min.y || t.y > i.max.y))
                            return !1
                    }
                    if (!this.options.bounds)
                        return !0;
                    var a = this._tileCoordsToBounds(t);
                    return N(this.options.bounds).overlaps(a)
                },
                _keyToBounds: function(t) {
                    return this._tileCoordsToBounds(this._keyToTileCoords(t))
                },
                _tileCoordsToNwSe: function(t) {
                    var e = this._map
                      , i = this.getTileSize()
                      , a = t.scaleBy(i)
                      , n = a.add(i)
                      , r = e.unproject(a, t.z)
                      , o = e.unproject(n, t.z);
                    return [r, o]
                },
                _tileCoordsToBounds: function(t) {
                    var e = this._tileCoordsToNwSe(t)
                      , i = new R(e[0],e[1]);
                    return this.options.noWrap || (i = this._map.wrapLatLngBounds(i)),
                    i
                },
                _tileCoordsToKey: function(t) {
                    return t.x + ":" + t.y + ":" + t.z
                },
                _keyToTileCoords: function(t) {
                    var e = t.split(":")
                      , i = new z(+e[0],+e[1]);
                    return i.z = +e[2],
                    i
                },
                _removeTile: function(t) {
                    var e = this._tiles[t];
                    e && (re(e.el),
                    delete this._tiles[t],
                    this.fire("tileunload", {
                        tile: e.el,
                        coords: this._keyToTileCoords(t)
                    }))
                },
                _initTile: function(t) {
                    he(t, "leaflet-tile");
                    var e = this.getTileSize();
                    t.style.width = e.x + "px",
                    t.style.height = e.y + "px",
                    t.onselectstart = c,
                    t.onmousemove = c,
                    X && this.options.opacity < 1 && me(t, this.options.opacity),
                    et && !it && (t.style.WebkitBackfaceVisibility = "hidden")
                },
                _addTile: function(t, e) {
                    var i = this._getTilePos(t)
                      , a = this._tileCoordsToKey(t)
                      , r = this.createTile(this._wrapCoords(t), n(this._tileReady, this, t));
                    this._initTile(r),
                    this.createTile.length < 2 && S(n(this._tileReady, this, t, null, r)),
                    ye(r, i),
                    this._tiles[a] = {
                        el: r,
                        coords: t,
                        current: !0
                    },
                    e.appendChild(r),
                    this.fire("tileloadstart", {
                        tile: r,
                        coords: t
                    })
                },
                _tileReady: function(t, e, i) {
                    e && this.fire("tileerror", {
                        error: e,
                        tile: i,
                        coords: t
                    });
                    var a = this._tileCoordsToKey(t);
                    (i = this._tiles[a]) && (i.loaded = +new Date,
                    this._map._fadeAnimated ? (me(i.el, 0),
                    T(this._fadeFrame),
                    this._fadeFrame = S(this._updateOpacity, this)) : (i.active = !0,
                    this._pruneTiles()),
                    e || (he(i.el, "leaflet-tile-loaded"),
                    this.fire("tileload", {
                        tile: i.el,
                        coords: t
                    })),
                    this._noTilesToLoad() && (this._loading = !1,
                    this.fire("load"),
                    X || !this._map._fadeAnimated ? S(this._pruneTiles, this) : setTimeout(n(this._pruneTiles, this), 250)))
                },
                _getTilePos: function(t) {
                    return t.scaleBy(this.getTileSize()).subtract(this._level.origin)
                },
                _wrapCoords: function(t) {
                    var e = new z(this._wrapX ? l(t.x, this._wrapX) : t.x,this._wrapY ? l(t.y, this._wrapY) : t.y);
                    return e.z = t.z,
                    e
                },
                _pxBoundsToTileRange: function(t) {
                    var e = this.getTileSize();
                    return new M(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1, 1]))
                },
                _noTilesToLoad: function() {
                    for (var t in this._tiles)
                        if (!this._tiles[t].loaded)
                            return !1;
                    return !0
                }
            })
              , ia = ea.extend({
                options: {
                    minZoom: 0,
                    maxZoom: 18,
                    subdomains: "abc",
                    errorTileUrl: "",
                    zoomOffset: 0,
                    tms: !1,
                    zoomReverse: !1,
                    detectRetina: !1,
                    crossOrigin: !1
                },
                initialize: function(t, e) {
                    this._url = t,
                    (e = u(this, e)).detectRetina && xt && e.maxZoom > 0 && (e.tileSize = Math.floor(e.tileSize / 2),
                    e.zoomReverse ? (e.zoomOffset--,
                    e.minZoom++) : (e.zoomOffset++,
                    e.maxZoom--),
                    e.minZoom = Math.max(0, e.minZoom)),
                    "string" === typeof e.subdomains && (e.subdomains = e.subdomains.split("")),
                    et || this.on("tileunload", this._onTileRemove)
                },
                setUrl: function(t, e) {
                    return this._url === t && void 0 === e && (e = !0),
                    this._url = t,
                    e || this.redraw(),
                    this
                },
                createTile: function(t, e) {
                    var i = document.createElement("img");
                    return Ee(i, "load", n(this._tileOnLoad, this, e, i)),
                    Ee(i, "error", n(this._tileOnError, this, e, i)),
                    (this.options.crossOrigin || "" === this.options.crossOrigin) && (i.crossOrigin = !0 === this.options.crossOrigin ? "" : this.options.crossOrigin),
                    i.alt = "",
                    i.setAttribute("role", "presentation"),
                    i.src = this.getTileUrl(t),
                    i
                },
                getTileUrl: function(t) {
                    var e = {
                        r: xt ? "@2x" : "",
                        s: this._getSubdomain(t),
                        x: t.x,
                        y: t.y,
                        z: this._getZoomForUrl()
                    };
                    if (this._map && !this._map.options.crs.infinite) {
                        var a = this._globalTileRange.max.y - t.y;
                        this.options.tms && (e.y = a),
                        e["-y"] = a
                    }
                    return g(this._url, i(e, this.options))
                },
                _tileOnLoad: function(t, e) {
                    X ? setTimeout(n(t, this, null, e), 0) : t(null, e)
                },
                _tileOnError: function(t, e, i) {
                    var a = this.options.errorTileUrl;
                    a && e.getAttribute("src") !== a && (e.src = a),
                    t(i, e)
                },
                _onTileRemove: function(t) {
                    t.tile.onload = null
                },
                _getZoomForUrl: function() {
                    var t = this._tileZoom
                      , e = this.options.maxZoom
                      , i = this.options.zoomReverse
                      , a = this.options.zoomOffset;
                    return i && (t = e - t),
                    t + a
                },
                _getSubdomain: function(t) {
                    var e = Math.abs(t.x + t.y) % this.options.subdomains.length;
                    return this.options.subdomains[e]
                },
                _abortLoading: function() {
                    var t, e;
                    for (t in this._tiles)
                        this._tiles[t].coords.z !== this._tileZoom && ((e = this._tiles[t].el).onload = c,
                        e.onerror = c,
                        e.complete || (e.src = b,
                        re(e),
                        delete this._tiles[t]))
                },
                _removeTile: function(t) {
                    var e = this._tiles[t];
                    if (e)
                        return nt || e.el.setAttribute("src", b),
                        ea.prototype._removeTile.call(this, t)
                },
                _tileReady: function(t, e, i) {
                    if (this._map && (!i || i.getAttribute("src") !== b))
                        return ea.prototype._tileReady.call(this, t, e, i)
                }
            });
            function aa(t, e) {
                return new ia(t,e)
            }
            var na = ia.extend({
                defaultWmsParams: {
                    service: "WMS",
                    request: "GetMap",
                    layers: "",
                    styles: "",
                    format: "image/jpeg",
                    transparent: !1,
                    version: "1.1.1"
                },
                options: {
                    crs: null,
                    uppercase: !1
                },
                initialize: function(t, e) {
                    this._url = t;
                    var a = i({}, this.defaultWmsParams);
                    for (var n in e)
                        n in this.options || (a[n] = e[n]);
                    var r = (e = u(this, e)).detectRetina && xt ? 2 : 1
                      , o = this.getTileSize();
                    a.width = o.x * r,
                    a.height = o.y * r,
                    this.wmsParams = a
                },
                onAdd: function(t) {
                    this._crs = this.options.crs || t.options.crs,
                    this._wmsVersion = parseFloat(this.wmsParams.version);
                    var e = this._wmsVersion >= 1.3 ? "crs" : "srs";
                    this.wmsParams[e] = this._crs.code,
                    ia.prototype.onAdd.call(this, t)
                },
                getTileUrl: function(t) {
                    var e = this._tileCoordsToNwSe(t)
                      , i = this._crs
                      , a = O(i.project(e[0]), i.project(e[1]))
                      , n = a.min
                      , r = a.max
                      , o = (this._wmsVersion >= 1.3 && this._crs === wi ? [n.y, n.x, r.y, r.x] : [n.x, n.y, r.x, r.y]).join(",")
                      , s = ia.prototype.getTileUrl.call(this, t);
                    return s + m(this.wmsParams, s, this.options.uppercase) + (this.options.uppercase ? "&BBOX=" : "&bbox=") + o
                },
                setParams: function(t, e) {
                    return i(this.wmsParams, t),
                    e || this.redraw(),
                    this
                }
            });
            ia.WMS = na,
            aa.wms = function(t, e) {
                return new na(t,e)
            }
            ;
            var ra = Si.extend({
                options: {
                    padding: .1,
                    tolerance: 0
                },
                initialize: function(t) {
                    u(this, t),
                    o(this),
                    this._layers = this._layers || {}
                },
                onAdd: function() {
                    this._container || (this._initContainer(),
                    this._zoomAnimated && he(this._container, "leaflet-zoom-animated")),
                    this.getPane().appendChild(this._container),
                    this._update(),
                    this.on("update", this._updatePaths, this)
                },
                onRemove: function() {
                    this.off("update", this._updatePaths, this),
                    this._destroyContainer()
                },
                getEvents: function() {
                    var t = {
                        viewreset: this._reset,
                        zoom: this._onZoom,
                        moveend: this._update,
                        zoomend: this._onZoomEnd
                    };
                    return this._zoomAnimated && (t.zoomanim = this._onAnimZoom),
                    t
                },
                _onAnimZoom: function(t) {
                    this._updateTransform(t.center, t.zoom)
                },
                _onZoom: function() {
                    this._updateTransform(this._map.getCenter(), this._map.getZoom())
                },
                _updateTransform: function(t, e) {
                    var i = this._map.getZoomScale(e, this._zoom)
                      , a = ve(this._container)
                      , n = this._map.getSize().multiplyBy(.5 + this.options.padding)
                      , r = this._map.project(this._center, e)
                      , o = this._map.project(t, e)
                      , s = o.subtract(r)
                      , l = n.multiplyBy(-i).add(a).add(n).subtract(s);
                    ft ? ge(this._container, l, i) : ye(this._container, l)
                },
                _reset: function() {
                    for (var t in this._update(),
                    this._updateTransform(this._center, this._zoom),
                    this._layers)
                        this._layers[t]._reset()
                },
                _onZoomEnd: function() {
                    for (var t in this._layers)
                        this._layers[t]._project()
                },
                _updatePaths: function() {
                    for (var t in this._layers)
                        this._layers[t]._update()
                },
                _update: function() {
                    var t = this.options.padding
                      , e = this._map.getSize()
                      , i = this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();
                    this._bounds = new M(i,i.add(e.multiplyBy(1 + 2 * t)).round()),
                    this._center = this._map.getCenter(),
                    this._zoom = this._map.getZoom()
                }
            })
              , oa = ra.extend({
                getEvents: function() {
                    var t = ra.prototype.getEvents.call(this);
                    return t.viewprereset = this._onViewPreReset,
                    t
                },
                _onViewPreReset: function() {
                    this._postponeUpdatePaths = !0
                },
                onAdd: function() {
                    ra.prototype.onAdd.call(this),
                    this._draw()
                },
                _initContainer: function() {
                    var t = this._container = document.createElement("canvas");
                    Ee(t, "mousemove", s(this._onMouseMove, 32, this), this),
                    Ee(t, "click dblclick mousedown mouseup contextmenu", this._onClick, this),
                    Ee(t, "mouseout", this._handleMouseOut, this),
                    this._ctx = t.getContext("2d")
                },
                _destroyContainer: function() {
                    T(this._redrawRequest),
                    delete this._ctx,
                    re(this._container),
                    Le(this._container),
                    delete this._container
                },
                _updatePaths: function() {
                    if (!this._postponeUpdatePaths) {
                        for (var t in this._redrawBounds = null,
                        this._layers)
                            this._layers[t]._update();
                        this._redraw()
                    }
                },
                _update: function() {
                    if (!this._map._animatingZoom || !this._bounds) {
                        ra.prototype._update.call(this);
                        var t = this._bounds
                          , e = this._container
                          , i = t.getSize()
                          , a = xt ? 2 : 1;
                        ye(e, t.min),
                        e.width = a * i.x,
                        e.height = a * i.y,
                        e.style.width = i.x + "px",
                        e.style.height = i.y + "px",
                        xt && this._ctx.scale(2, 2),
                        this._ctx.translate(-t.min.x, -t.min.y),
                        this.fire("update")
                    }
                },
                _reset: function() {
                    ra.prototype._reset.call(this),
                    this._postponeUpdatePaths && (this._postponeUpdatePaths = !1,
                    this._updatePaths())
                },
                _initPath: function(t) {
                    this._updateDashArray(t),
                    this._layers[o(t)] = t;
                    var e = t._order = {
                        layer: t,
                        prev: this._drawLast,
                        next: null
                    };
                    this._drawLast && (this._drawLast.next = e),
                    this._drawLast = e,
                    this._drawFirst = this._drawFirst || this._drawLast
                },
                _addPath: function(t) {
                    this._requestRedraw(t)
                },
                _removePath: function(t) {
                    var e = t._order
                      , i = e.next
                      , a = e.prev;
                    i ? i.prev = a : this._drawLast = a,
                    a ? a.next = i : this._drawFirst = i,
                    delete t._order,
                    delete this._layers[o(t)],
                    this._requestRedraw(t)
                },
                _updatePath: function(t) {
                    this._extendRedrawBounds(t),
                    t._project(),
                    t._update(),
                    this._requestRedraw(t)
                },
                _updateStyle: function(t) {
                    this._updateDashArray(t),
                    this._requestRedraw(t)
                },
                _updateDashArray: function(t) {
                    if ("string" === typeof t.options.dashArray) {
                        var e, i, a = t.options.dashArray.split(/[, ]+/), n = [];
                        for (i = 0; i < a.length; i++) {
                            if (e = Number(a[i]),
                            isNaN(e))
                                return;
                            n.push(e)
                        }
                        t.options._dashArray = n
                    } else
                        t.options._dashArray = t.options.dashArray
                },
                _requestRedraw: function(t) {
                    this._map && (this._extendRedrawBounds(t),
                    this._redrawRequest = this._redrawRequest || S(this._redraw, this))
                },
                _extendRedrawBounds: function(t) {
                    if (t._pxBounds) {
                        var e = (t.options.weight || 0) + 1;
                        this._redrawBounds = this._redrawBounds || new M,
                        this._redrawBounds.extend(t._pxBounds.min.subtract([e, e])),
                        this._redrawBounds.extend(t._pxBounds.max.add([e, e]))
                    }
                },
                _redraw: function() {
                    this._redrawRequest = null,
                    this._redrawBounds && (this._redrawBounds.min._floor(),
                    this._redrawBounds.max._ceil()),
                    this._clear(),
                    this._draw(),
                    this._redrawBounds = null
                },
                _clear: function() {
                    var t = this._redrawBounds;
                    if (t) {
                        var e = t.getSize();
                        this._ctx.clearRect(t.min.x, t.min.y, e.x, e.y)
                    } else
                        this._ctx.clearRect(0, 0, this._container.width, this._container.height)
                },
                _draw: function() {
                    var t, e = this._redrawBounds;
                    if (this._ctx.save(),
                    e) {
                        var i = e.getSize();
                        this._ctx.beginPath(),
                        this._ctx.rect(e.min.x, e.min.y, i.x, i.y),
                        this._ctx.clip()
                    }
                    this._drawing = !0;
                    for (var a = this._drawFirst; a; a = a.next)
                        t = a.layer,
                        (!e || t._pxBounds && t._pxBounds.intersects(e)) && t._updatePath();
                    this._drawing = !1,
                    this._ctx.restore()
                },
                _updatePoly: function(t, e) {
                    if (this._drawing) {
                        var i, a, n, r, o = t._parts, s = o.length, l = this._ctx;
                        if (s) {
                            for (l.beginPath(),
                            i = 0; i < s; i++) {
                                for (a = 0,
                                n = o[i].length; a < n; a++)
                                    r = o[i][a],
                                    l[a ? "lineTo" : "moveTo"](r.x, r.y);
                                e && l.closePath()
                            }
                            this._fillStroke(l, t)
                        }
                    }
                },
                _updateCircle: function(t) {
                    if (this._drawing && !t._empty()) {
                        var e = t._point
                          , i = this._ctx
                          , a = Math.max(Math.round(t._radius), 1)
                          , n = (Math.max(Math.round(t._radiusY), 1) || a) / a;
                        1 !== n && (i.save(),
                        i.scale(1, n)),
                        i.beginPath(),
                        i.arc(e.x, e.y / n, a, 0, 2 * Math.PI, !1),
                        1 !== n && i.restore(),
                        this._fillStroke(i, t)
                    }
                },
                _fillStroke: function(t, e) {
                    var i = e.options;
                    i.fill && (t.globalAlpha = i.fillOpacity,
                    t.fillStyle = i.fillColor || i.color,
                    t.fill(i.fillRule || "evenodd")),
                    i.stroke && 0 !== i.weight && (t.setLineDash && t.setLineDash(e.options && e.options._dashArray || []),
                    t.globalAlpha = i.opacity,
                    t.lineWidth = i.weight,
                    t.strokeStyle = i.color,
                    t.lineCap = i.lineCap,
                    t.lineJoin = i.lineJoin,
                    t.stroke())
                },
                _onClick: function(t) {
                    for (var e, i, a = this._map.mouseEventToLayerPoint(t), n = this._drawFirst; n; n = n.next)
                        (e = n.layer).options.interactive && e._containsPoint(a) && !this._map._draggableMoved(e) && (i = e);
                    i && (Ge(t),
                    this._fireEvent([i], t))
                },
                _onMouseMove: function(t) {
                    if (this._map && !this._map.dragging.moving() && !this._map._animatingZoom) {
                        var e = this._map.mouseEventToLayerPoint(t);
                        this._handleMouseHover(t, e)
                    }
                },
                _handleMouseOut: function(t) {
                    var e = this._hoveredLayer;
                    e && (pe(this._container, "leaflet-interactive"),
                    this._fireEvent([e], t, "mouseout"),
                    this._hoveredLayer = null)
                },
                _handleMouseHover: function(t, e) {
                    for (var i, a, n = this._drawFirst; n; n = n.next)
                        (i = n.layer).options.interactive && i._containsPoint(e) && (a = i);
                    a !== this._hoveredLayer && (this._handleMouseOut(t),
                    a && (he(this._container, "leaflet-interactive"),
                    this._fireEvent([a], t, "mouseover"),
                    this._hoveredLayer = a)),
                    this._hoveredLayer && this._fireEvent([this._hoveredLayer], t)
                },
                _fireEvent: function(t, e, i) {
                    this._map._fireDOMEvent(e, i || e.type, t)
                },
                _bringToFront: function(t) {
                    var e = t._order;
                    if (e) {
                        var i = e.next
                          , a = e.prev;
                        i && (i.prev = a,
                        a ? a.next = i : i && (this._drawFirst = i),
                        e.prev = this._drawLast,
                        this._drawLast.next = e,
                        e.next = null,
                        this._drawLast = e,
                        this._requestRedraw(t))
                    }
                },
                _bringToBack: function(t) {
                    var e = t._order;
                    if (e) {
                        var i = e.next
                          , a = e.prev;
                        a && (a.next = i,
                        i ? i.prev = a : a && (this._drawLast = a),
                        e.prev = null,
                        e.next = this._drawFirst,
                        this._drawFirst.prev = e,
                        this._drawFirst = e,
                        this._requestRedraw(t))
                    }
                }
            });
            function sa(t) {
                return St ? new oa(t) : null
            }
            var la = function() {
                try {
                    return document.namespaces.add("lvml", "urn:schemas-microsoft-com:vml"),
                    function(t) {
                        return document.createElement("<lvml:" + t + ' class="lvml">')
                    }
                } catch (t) {
                    return function(t) {
                        return document.createElement("<" + t + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')
                    }
                }
            }()
              , ca = {
                _initContainer: function() {
                    this._container = ne("div", "leaflet-vml-container")
                },
                _update: function() {
                    this._map._animatingZoom || (ra.prototype._update.call(this),
                    this.fire("update"))
                },
                _initPath: function(t) {
                    var e = t._container = la("shape");
                    he(e, "leaflet-vml-shape " + (this.options.className || "")),
                    e.coordsize = "1 1",
                    t._path = la("path"),
                    e.appendChild(t._path),
                    this._updateStyle(t),
                    this._layers[o(t)] = t
                },
                _addPath: function(t) {
                    var e = t._container;
                    this._container.appendChild(e),
                    t.options.interactive && t.addInteractiveTarget(e)
                },
                _removePath: function(t) {
                    var e = t._container;
                    re(e),
                    t.removeInteractiveTarget(e),
                    delete this._layers[o(t)]
                },
                _updateStyle: function(t) {
                    var e = t._stroke
                      , i = t._fill
                      , a = t.options
                      , n = t._container;
                    n.stroked = !!a.stroke,
                    n.filled = !!a.fill,
                    a.stroke ? (e || (e = t._stroke = la("stroke")),
                    n.appendChild(e),
                    e.weight = a.weight + "px",
                    e.color = a.color,
                    e.opacity = a.opacity,
                    a.dashArray ? e.dashStyle = y(a.dashArray) ? a.dashArray.join(" ") : a.dashArray.replace(/( *, *)/g, " ") : e.dashStyle = "",
                    e.endcap = a.lineCap.replace("butt", "flat"),
                    e.joinstyle = a.lineJoin) : e && (n.removeChild(e),
                    t._stroke = null),
                    a.fill ? (i || (i = t._fill = la("fill")),
                    n.appendChild(i),
                    i.color = a.fillColor || a.color,
                    i.opacity = a.fillOpacity) : i && (n.removeChild(i),
                    t._fill = null)
                },
                _updateCircle: function(t) {
                    var e = t._point.round()
                      , i = Math.round(t._radius)
                      , a = Math.round(t._radiusY || i);
                    this._setPath(t, t._empty() ? "M0 0" : "AL " + e.x + "," + e.y + " " + i + "," + a + " 0,23592600")
                },
                _setPath: function(t, e) {
                    t._path.v = e
                },
                _bringToFront: function(t) {
                    se(t._container)
                },
                _bringToBack: function(t) {
                    le(t._container)
                }
            }
              , ha = Et ? la : Y
              , pa = ra.extend({
                getEvents: function() {
                    var t = ra.prototype.getEvents.call(this);
                    return t.zoomstart = this._onZoomStart,
                    t
                },
                _initContainer: function() {
                    this._container = ha("svg"),
                    this._container.setAttribute("pointer-events", "none"),
                    this._rootGroup = ha("g"),
                    this._container.appendChild(this._rootGroup)
                },
                _destroyContainer: function() {
                    re(this._container),
                    Le(this._container),
                    delete this._container,
                    delete this._rootGroup,
                    delete this._svgSize
                },
                _onZoomStart: function() {
                    this._update()
                },
                _update: function() {
                    if (!this._map._animatingZoom || !this._bounds) {
                        ra.prototype._update.call(this);
                        var t = this._bounds
                          , e = t.getSize()
                          , i = this._container;
                        this._svgSize && this._svgSize.equals(e) || (this._svgSize = e,
                        i.setAttribute("width", e.x),
                        i.setAttribute("height", e.y)),
                        ye(i, t.min),
                        i.setAttribute("viewBox", [t.min.x, t.min.y, e.x, e.y].join(" ")),
                        this.fire("update")
                    }
                },
                _initPath: function(t) {
                    var e = t._path = ha("path");
                    t.options.className && he(e, t.options.className),
                    t.options.interactive && he(e, "leaflet-interactive"),
                    this._updateStyle(t),
                    this._layers[o(t)] = t
                },
                _addPath: function(t) {
                    this._rootGroup || this._initContainer(),
                    this._rootGroup.appendChild(t._path),
                    t.addInteractiveTarget(t._path)
                },
                _removePath: function(t) {
                    re(t._path),
                    t.removeInteractiveTarget(t._path),
                    delete this._layers[o(t)]
                },
                _updatePath: function(t) {
                    t._project(),
                    t._update()
                },
                _updateStyle: function(t) {
                    var e = t._path
                      , i = t.options;
                    e && (i.stroke ? (e.setAttribute("stroke", i.color),
                    e.setAttribute("stroke-opacity", i.opacity),
                    e.setAttribute("stroke-width", i.weight),
                    e.setAttribute("stroke-linecap", i.lineCap),
                    e.setAttribute("stroke-linejoin", i.lineJoin),
                    i.dashArray ? e.setAttribute("stroke-dasharray", i.dashArray) : e.removeAttribute("stroke-dasharray"),
                    i.dashOffset ? e.setAttribute("stroke-dashoffset", i.dashOffset) : e.removeAttribute("stroke-dashoffset")) : e.setAttribute("stroke", "none"),
                    i.fill ? (e.setAttribute("fill", i.fillColor || i.color),
                    e.setAttribute("fill-opacity", i.fillOpacity),
                    e.setAttribute("fill-rule", i.fillRule || "evenodd")) : e.setAttribute("fill", "none"))
                },
                _updatePoly: function(t, e) {
                    this._setPath(t, Z(t._parts, e))
                },
                _updateCircle: function(t) {
                    var e = t._point
                      , i = Math.max(Math.round(t._radius), 1)
                      , a = Math.max(Math.round(t._radiusY), 1) || i
                      , n = "a" + i + "," + a + " 0 1,0 "
                      , r = t._empty() ? "M0 0" : "M" + (e.x - i) + "," + e.y + n + 2 * i + ",0 " + n + 2 * -i + ",0 ";
                    this._setPath(t, r)
                },
                _setPath: function(t, e) {
                    t._path.setAttribute("d", e)
                },
                _bringToFront: function(t) {
                    se(t._path)
                },
                _bringToBack: function(t) {
                    le(t._path)
                }
            });
            function da(t) {
                return Tt || Et ? new pa(t) : null
            }
            Et && pa.include(ca),
            Qe.include({
                getRenderer: function(t) {
                    var e = t.options.renderer || this._getPaneRenderer(t.options.pane) || this.options.renderer || this._renderer;
                    return e || (e = this._renderer = this._createRenderer()),
                    this.hasLayer(e) || this.addLayer(e),
                    e
                },
                _getPaneRenderer: function(t) {
                    if ("overlayPane" === t || void 0 === t)
                        return !1;
                    var e = this._paneRenderers[t];
                    return void 0 === e && (e = this._createRenderer({
                        pane: t
                    }),
                    this._paneRenderers[t] = e),
                    e
                },
                _createRenderer: function(t) {
                    return this.options.preferCanvas && sa(t) || da(t)
                }
            });
            var ua = Oi.extend({
                initialize: function(t, e) {
                    Oi.prototype.initialize.call(this, this._boundsToLatLngs(t), e)
                },
                setBounds: function(t) {
                    return this.setLatLngs(this._boundsToLatLngs(t))
                },
                _boundsToLatLngs: function(t) {
                    return [(t = N(t)).getSouthWest(), t.getNorthWest(), t.getNorthEast(), t.getSouthEast()]
                }
            });
            pa.create = ha,
            pa.pointsToPath = Z,
            Ri.geometryToLayer = Ni,
            Ri.coordsToLatLng = Vi,
            Ri.coordsToLatLngs = ji,
            Ri.latLngToCoords = Fi,
            Ri.latLngsToCoords = Gi,
            Ri.getFeature = Ui,
            Ri.asFeature = Hi,
            Qe.mergeOptions({
                boxZoom: !0
            });
            var ma = ti.extend({
                initialize: function(t) {
                    this._map = t,
                    this._container = t._container,
                    this._pane = t._panes.overlayPane,
                    this._resetStateTimeout = 0,
                    t.on("unload", this._destroy, this)
                },
                addHooks: function() {
                    Ee(this._container, "mousedown", this._onMouseDown, this)
                },
                removeHooks: function() {
                    Le(this._container, "mousedown", this._onMouseDown, this)
                },
                moved: function() {
                    return this._moved
                },
                _destroy: function() {
                    re(this._pane),
                    delete this._pane
                },
                _resetState: function() {
                    this._resetStateTimeout = 0,
                    this._moved = !1
                },
                _clearDeferredResetState: function() {
                    0 !== this._resetStateTimeout && (clearTimeout(this._resetStateTimeout),
                    this._resetStateTimeout = 0)
                },
                _onMouseDown: function(t) {
                    if (!t.shiftKey || 1 !== t.which && 1 !== t.button)
                        return !1;
                    this._clearDeferredResetState(),
                    this._resetState(),
                    Yt(),
                    Ae(),
                    this._startPoint = this._map.mouseEventToContainerPoint(t),
                    Ee(document, {
                        contextmenu: Oe,
                        mousemove: this._onMouseMove,
                        mouseup: this._onMouseUp,
                        keydown: this._onKeyDown
                    }, this)
                },
                _onMouseMove: function(t) {
                    this._moved || (this._moved = !0,
                    this._box = ne("div", "leaflet-zoom-box", this._container),
                    he(this._container, "leaflet-crosshair"),
                    this._map.fire("boxzoomstart")),
                    this._point = this._map.mouseEventToContainerPoint(t);
                    var e = new M(this._point,this._startPoint)
                      , i = e.getSize();
                    ye(this._box, e.min),
                    this._box.style.width = i.x + "px",
                    this._box.style.height = i.y + "px"
                },
                _finish: function() {
                    this._moved && (re(this._box),
                    pe(this._container, "leaflet-crosshair")),
                    Zt(),
                    _e(),
                    Le(document, {
                        contextmenu: Oe,
                        mousemove: this._onMouseMove,
                        mouseup: this._onMouseUp,
                        keydown: this._onKeyDown
                    }, this)
                },
                _onMouseUp: function(t) {
                    if ((1 === t.which || 1 === t.button) && (this._finish(),
                    this._moved)) {
                        this._clearDeferredResetState(),
                        this._resetStateTimeout = setTimeout(n(this._resetState, this), 0);
                        var e = new R(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));
                        this._map.fitBounds(e).fire("boxzoomend", {
                            boxZoomBounds: e
                        })
                    }
                },
                _onKeyDown: function(t) {
                    27 === t.keyCode && this._finish()
                }
            });
            Qe.addInitHook("addHandler", "boxZoom", ma),
            Qe.mergeOptions({
                doubleClickZoom: !0
            });
            var fa = ti.extend({
                addHooks: function() {
                    this._map.on("dblclick", this._onDoubleClick, this)
                },
                removeHooks: function() {
                    this._map.off("dblclick", this._onDoubleClick, this)
                },
                _onDoubleClick: function(t) {
                    var e = this._map
                      , i = e.getZoom()
                      , a = e.options.zoomDelta
                      , n = t.originalEvent.shiftKey ? i - a : i + a;
                    "center" === e.options.doubleClickZoom ? e.setZoom(n) : e.setZoomAround(t.containerPoint, n)
                }
            });
            Qe.addInitHook("addHandler", "doubleClickZoom", fa),
            Qe.mergeOptions({
                dragging: !0,
                inertia: !it,
                inertiaDeceleration: 3400,
                inertiaMaxSpeed: 1 / 0,
                easeLinearity: .2,
                worldCopyJump: !1,
                maxBoundsViscosity: 0
            });
            var ga = ti.extend({
                addHooks: function() {
                    if (!this._draggable) {
                        var t = this._map;
                        this._draggable = new oi(t._mapPane,t._container),
                        this._draggable.on({
                            dragstart: this._onDragStart,
                            drag: this._onDrag,
                            dragend: this._onDragEnd
                        }, this),
                        this._draggable.on("predrag", this._onPreDragLimit, this),
                        t.options.worldCopyJump && (this._draggable.on("predrag", this._onPreDragWrap, this),
                        t.on("zoomend", this._onZoomEnd, this),
                        t.whenReady(this._onZoomEnd, this))
                    }
                    he(this._map._container, "leaflet-grab leaflet-touch-drag"),
                    this._draggable.enable(),
                    this._positions = [],
                    this._times = []
                },
                removeHooks: function() {
                    pe(this._map._container, "leaflet-grab"),
                    pe(this._map._container, "leaflet-touch-drag"),
                    this._draggable.disable()
                },
                moved: function() {
                    return this._draggable && this._draggable._moved
                },
                moving: function() {
                    return this._draggable && this._draggable._moving
                },
                _onDragStart: function() {
                    var t = this._map;
                    if (t._stop(),
                    this._map.options.maxBounds && this._map.options.maxBoundsViscosity) {
                        var e = N(this._map.options.maxBounds);
                        this._offsetLimit = O(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1), this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),
                        this._viscosity = Math.min(1, Math.max(0, this._map.options.maxBoundsViscosity))
                    } else
                        this._offsetLimit = null;
                    t.fire("movestart").fire("dragstart"),
                    t.options.inertia && (this._positions = [],
                    this._times = [])
                },
                _onDrag: function(t) {
                    if (this._map.options.inertia) {
                        var e = this._lastTime = +new Date
                          , i = this._lastPos = this._draggable._absPos || this._draggable._newPos;
                        this._positions.push(i),
                        this._times.push(e),
                        this._prunePositions(e)
                    }
                    this._map.fire("move", t).fire("drag", t)
                },
                _prunePositions: function(t) {
                    for (; this._positions.length > 1 && t - this._times[0] > 50; )
                        this._positions.shift(),
                        this._times.shift()
                },
                _onZoomEnd: function() {
                    var t = this._map.getSize().divideBy(2)
                      , e = this._map.latLngToLayerPoint([0, 0]);
                    this._initialWorldOffset = e.subtract(t).x,
                    this._worldWidth = this._map.getPixelWorldBounds().getSize().x
                },
                _viscousLimit: function(t, e) {
                    return t - (t - e) * this._viscosity
                },
                _onPreDragLimit: function() {
                    if (this._viscosity && this._offsetLimit) {
                        var t = this._draggable._newPos.subtract(this._draggable._startPos)
                          , e = this._offsetLimit;
                        t.x < e.min.x && (t.x = this._viscousLimit(t.x, e.min.x)),
                        t.y < e.min.y && (t.y = this._viscousLimit(t.y, e.min.y)),
                        t.x > e.max.x && (t.x = this._viscousLimit(t.x, e.max.x)),
                        t.y > e.max.y && (t.y = this._viscousLimit(t.y, e.max.y)),
                        this._draggable._newPos = this._draggable._startPos.add(t)
                    }
                },
                _onPreDragWrap: function() {
                    var t = this._worldWidth
                      , e = Math.round(t / 2)
                      , i = this._initialWorldOffset
                      , a = this._draggable._newPos.x
                      , n = (a - e + i) % t + e - i
                      , r = (a + e + i) % t - e - i
                      , o = Math.abs(n + i) < Math.abs(r + i) ? n : r;
                    this._draggable._absPos = this._draggable._newPos.clone(),
                    this._draggable._newPos.x = o
                },
                _onDragEnd: function(t) {
                    var e = this._map
                      , i = e.options
                      , a = !i.inertia || this._times.length < 2;
                    if (e.fire("dragend", t),
                    a)
                        e.fire("moveend");
                    else {
                        this._prunePositions(+new Date);
                        var n = this._lastPos.subtract(this._positions[0])
                          , r = (this._lastTime - this._times[0]) / 1e3
                          , o = i.easeLinearity
                          , s = n.multiplyBy(o / r)
                          , l = s.distanceTo([0, 0])
                          , c = Math.min(i.inertiaMaxSpeed, l)
                          , h = s.multiplyBy(c / l)
                          , p = c / (i.inertiaDeceleration * o)
                          , d = h.multiplyBy(-p / 2).round();
                        d.x || d.y ? (d = e._limitOffset(d, e.options.maxBounds),
                        S(function() {
                            e.panBy(d, {
                                duration: p,
                                easeLinearity: o,
                                noMoveStart: !0,
                                animate: !0
                            })
                        })) : e.fire("moveend")
                    }
                }
            });
            Qe.addInitHook("addHandler", "dragging", ga),
            Qe.mergeOptions({
                keyboard: !0,
                keyboardPanDelta: 80
            });
            var ya = ti.extend({
                keyCodes: {
                    left: [37],
                    right: [39],
                    down: [40],
                    up: [38],
                    zoomIn: [187, 107, 61, 171],
                    zoomOut: [189, 109, 54, 173]
                },
                initialize: function(t) {
                    this._map = t,
                    this._setPanDelta(t.options.keyboardPanDelta),
                    this._setZoomDelta(t.options.zoomDelta)
                },
                addHooks: function() {
                    var t = this._map._container;
                    t.tabIndex <= 0 && (t.tabIndex = "0"),
                    Ee(t, {
                        focus: this._onFocus,
                        blur: this._onBlur,
                        mousedown: this._onMouseDown
                    }, this),
                    this._map.on({
                        focus: this._addHooks,
                        blur: this._removeHooks
                    }, this)
                },
                removeHooks: function() {
                    this._removeHooks(),
                    Le(this._map._container, {
                        focus: this._onFocus,
                        blur: this._onBlur,
                        mousedown: this._onMouseDown
                    }, this),
                    this._map.off({
                        focus: this._addHooks,
                        blur: this._removeHooks
                    }, this)
                },
                _onMouseDown: function() {
                    if (!this._focused) {
                        var t = document.body
                          , e = document.documentElement
                          , i = t.scrollTop || e.scrollTop
                          , a = t.scrollLeft || e.scrollLeft;
                        this._map._container.focus(),
                        window.scrollTo(a, i)
                    }
                },
                _onFocus: function() {
                    this._focused = !0,
                    this._map.fire("focus")
                },
                _onBlur: function() {
                    this._focused = !1,
                    this._map.fire("blur")
                },
                _setPanDelta: function(t) {
                    var e, i, a = this._panKeys = {}, n = this.keyCodes;
                    for (e = 0,
                    i = n.left.length; e < i; e++)
                        a[n.left[e]] = [-1 * t, 0];
                    for (e = 0,
                    i = n.right.length; e < i; e++)
                        a[n.right[e]] = [t, 0];
                    for (e = 0,
                    i = n.down.length; e < i; e++)
                        a[n.down[e]] = [0, t];
                    for (e = 0,
                    i = n.up.length; e < i; e++)
                        a[n.up[e]] = [0, -1 * t]
                },
                _setZoomDelta: function(t) {
                    var e, i, a = this._zoomKeys = {}, n = this.keyCodes;
                    for (e = 0,
                    i = n.zoomIn.length; e < i; e++)
                        a[n.zoomIn[e]] = t;
                    for (e = 0,
                    i = n.zoomOut.length; e < i; e++)
                        a[n.zoomOut[e]] = -t
                },
                _addHooks: function() {
                    Ee(document, "keydown", this._onKeyDown, this)
                },
                _removeHooks: function() {
                    Le(document, "keydown", this._onKeyDown, this)
                },
                _onKeyDown: function(t) {
                    if (!(t.altKey || t.ctrlKey || t.metaKey)) {
                        var e, i = t.keyCode, a = this._map;
                        if (i in this._panKeys)
                            a._panAnim && a._panAnim._inProgress || (e = this._panKeys[i],
                            t.shiftKey && (e = D(e).multiplyBy(3)),
                            a.panBy(e),
                            a.options.maxBounds && a.panInsideBounds(a.options.maxBounds));
                        else if (i in this._zoomKeys)
                            a.setZoom(a.getZoom() + (t.shiftKey ? 3 : 1) * this._zoomKeys[i]);
                        else {
                            if (27 !== i || !a._popup || !a._popup.options.closeOnEscapeKey)
                                return;
                            a.closePopup()
                        }
                        Oe(t)
                    }
                }
            });
            Qe.addInitHook("addHandler", "keyboard", ya),
            Qe.mergeOptions({
                scrollWheelZoom: !0,
                wheelDebounceTime: 40,
                wheelPxPerZoomLevel: 60
            });
            var va = ti.extend({
                addHooks: function() {
                    Ee(this._map._container, "mousewheel", this._onWheelScroll, this),
                    this._delta = 0
                },
                removeHooks: function() {
                    Le(this._map._container, "mousewheel", this._onWheelScroll, this)
                },
                _onWheelScroll: function(t) {
                    var e = Ve(t)
                      , i = this._map.options.wheelDebounceTime;
                    this._delta += e,
                    this._lastMousePos = this._map.mouseEventToContainerPoint(t),
                    this._startTime || (this._startTime = +new Date);
                    var a = Math.max(i - (+new Date - this._startTime), 0);
                    clearTimeout(this._timer),
                    this._timer = setTimeout(n(this._performZoom, this), a),
                    Oe(t)
                },
                _performZoom: function() {
                    var t = this._map
                      , e = t.getZoom()
                      , i = this._map.options.zoomSnap || 0;
                    t._stop();
                    var a = this._delta / (4 * this._map.options.wheelPxPerZoomLevel)
                      , n = 4 * Math.log(2 / (1 + Math.exp(-Math.abs(a)))) / Math.LN2
                      , r = i ? Math.ceil(n / i) * i : n
                      , o = t._limitZoom(e + (this._delta > 0 ? r : -r)) - e;
                    this._delta = 0,
                    this._startTime = null,
                    o && ("center" === t.options.scrollWheelZoom ? t.setZoom(e + o) : t.setZoomAround(this._lastMousePos, e + o))
                }
            });
            Qe.addInitHook("addHandler", "scrollWheelZoom", va),
            Qe.mergeOptions({
                tap: !0,
                tapTolerance: 15
            });
            var ba = ti.extend({
                addHooks: function() {
                    Ee(this._map._container, "touchstart", this._onDown, this)
                },
                removeHooks: function() {
                    Le(this._map._container, "touchstart", this._onDown, this)
                },
                _onDown: function(t) {
                    if (t.touches) {
                        if (Me(t),
                        this._fireClick = !0,
                        t.touches.length > 1)
                            return this._fireClick = !1,
                            void clearTimeout(this._holdTimeout);
                        var e = t.touches[0]
                          , i = e.target;
                        this._startPos = this._newPos = new z(e.clientX,e.clientY),
                        i.tagName && "a" === i.tagName.toLowerCase() && he(i, "leaflet-active"),
                        this._holdTimeout = setTimeout(n(function() {
                            this._isTapValid() && (this._fireClick = !1,
                            this._onUp(),
                            this._simulateEvent("contextmenu", e))
                        }, this), 1e3),
                        this._simulateEvent("mousedown", e),
                        Ee(document, {
                            touchmove: this._onMove,
                            touchend: this._onUp
                        }, this)
                    }
                },
                _onUp: function(t) {
                    if (clearTimeout(this._holdTimeout),
                    Le(document, {
                        touchmove: this._onMove,
                        touchend: this._onUp
                    }, this),
                    this._fireClick && t && t.changedTouches) {
                        var e = t.changedTouches[0]
                          , i = e.target;
                        i && i.tagName && "a" === i.tagName.toLowerCase() && pe(i, "leaflet-active"),
                        this._simulateEvent("mouseup", e),
                        this._isTapValid() && this._simulateEvent("click", e)
                    }
                },
                _isTapValid: function() {
                    return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance
                },
                _onMove: function(t) {
                    var e = t.touches[0];
                    this._newPos = new z(e.clientX,e.clientY),
                    this._simulateEvent("mousemove", e)
                },
                _simulateEvent: function(t, e) {
                    var i = document.createEvent("MouseEvents");
                    i._simulated = !0,
                    e.target._simulatedClick = !0,
                    i.initMouseEvent(t, !0, !0, window, 1, e.screenX, e.screenY, e.clientX, e.clientY, !1, !1, !1, !1, 0, null),
                    e.target.dispatchEvent(i)
                }
            });
            _t && !At && Qe.addInitHook("addHandler", "tap", ba),
            Qe.mergeOptions({
                touchZoom: _t && !it,
                bounceAtZoomLimits: !0
            });
            var Aa = ti.extend({
                addHooks: function() {
                    he(this._map._container, "leaflet-touch-zoom"),
                    Ee(this._map._container, "touchstart", this._onTouchStart, this)
                },
                removeHooks: function() {
                    pe(this._map._container, "leaflet-touch-zoom"),
                    Le(this._map._container, "touchstart", this._onTouchStart, this)
                },
                _onTouchStart: function(t) {
                    var e = this._map;
                    if (t.touches && 2 === t.touches.length && !e._animatingZoom && !this._zooming) {
                        var i = e.mouseEventToContainerPoint(t.touches[0])
                          , a = e.mouseEventToContainerPoint(t.touches[1]);
                        this._centerPoint = e.getSize()._divideBy(2),
                        this._startLatLng = e.containerPointToLatLng(this._centerPoint),
                        "center" !== e.options.touchZoom && (this._pinchStartLatLng = e.containerPointToLatLng(i.add(a)._divideBy(2))),
                        this._startDist = i.distanceTo(a),
                        this._startZoom = e.getZoom(),
                        this._moved = !1,
                        this._zooming = !0,
                        e._stop(),
                        Ee(document, "touchmove", this._onTouchMove, this),
                        Ee(document, "touchend", this._onTouchEnd, this),
                        Me(t)
                    }
                },
                _onTouchMove: function(t) {
                    if (t.touches && 2 === t.touches.length && this._zooming) {
                        var e = this._map
                          , i = e.mouseEventToContainerPoint(t.touches[0])
                          , a = e.mouseEventToContainerPoint(t.touches[1])
                          , r = i.distanceTo(a) / this._startDist;
                        if (this._zoom = e.getScaleZoom(r, this._startZoom),
                        !e.options.bounceAtZoomLimits && (this._zoom < e.getMinZoom() && r < 1 || this._zoom > e.getMaxZoom() && r > 1) && (this._zoom = e._limitZoom(this._zoom)),
                        "center" === e.options.touchZoom) {
                            if (this._center = this._startLatLng,
                            1 === r)
                                return
                        } else {
                            var o = i._add(a)._divideBy(2)._subtract(this._centerPoint);
                            if (1 === r && 0 === o.x && 0 === o.y)
                                return;
                            this._center = e.unproject(e.project(this._pinchStartLatLng, this._zoom).subtract(o), this._zoom)
                        }
                        this._moved || (e._moveStart(!0, !1),
                        this._moved = !0),
                        T(this._animRequest);
                        var s = n(e._move, e, this._center, this._zoom, {
                            pinch: !0,
                            round: !1
                        });
                        this._animRequest = S(s, this, !0),
                        Me(t)
                    }
                },
                _onTouchEnd: function() {
                    this._moved && this._zooming ? (this._zooming = !1,
                    T(this._animRequest),
                    Le(document, "touchmove", this._onTouchMove),
                    Le(document, "touchend", this._onTouchEnd),
                    this._map.options.zoomAnimation ? this._map._animateZoom(this._center, this._map._limitZoom(this._zoom), !0, this._map.options.zoomSnap) : this._map._resetView(this._center, this._map._limitZoom(this._zoom))) : this._zooming = !1
                }
            });
            Qe.addInitHook("addHandler", "touchZoom", Aa),
            Qe.BoxZoom = ma,
            Qe.DoubleClickZoom = fa,
            Qe.Drag = ga,
            Qe.Keyboard = ya,
            Qe.ScrollWheelZoom = va,
            Qe.Tap = ba,
            Qe.TouchZoom = Aa,
            Object.freeze = e,
            t.version = "1.5.1+build.2e3e0ffb",
            t.Control = Ye,
            t.control = Ze,
            t.Browser = Lt,
            t.Evented = I,
            t.Mixin = ii,
            t.Util = E,
            t.Class = k,
            t.Handler = ti,
            t.extend = i,
            t.bind = n,
            t.stamp = o,
            t.setOptions = u,
            t.DomEvent = Ke,
            t.DomUtil = Te,
            t.PosAnimation = We,
            t.Draggable = oi,
            t.LineUtil = gi,
            t.PolyUtil = vi,
            t.Point = z,
            t.point = D,
            t.Bounds = M,
            t.bounds = O,
            t.Transformation = H,
            t.transformation = K,
            t.Projection = _i,
            t.LatLng = V,
            t.latLng = j,
            t.LatLngBounds = R,
            t.latLngBounds = N,
            t.CRS = F,
            t.GeoJSON = Ri,
            t.geoJSON = Wi,
            t.geoJson = Qi,
            t.Layer = Si,
            t.LayerGroup = Ti,
            t.layerGroup = function(t, e) {
                return new Ti(t,e)
            }
            ,
            t.FeatureGroup = Ei,
            t.featureGroup = function(t) {
                return new Ei(t)
            }
            ,
            t.ImageOverlay = Yi,
            t.imageOverlay = function(t, e, i) {
                return new Yi(t,e,i)
            }
            ,
            t.VideoOverlay = Zi,
            t.videoOverlay = function(t, e, i) {
                return new Zi(t,e,i)
            }
            ,
            t.SVGOverlay = $i,
            t.svgOverlay = function(t, e, i) {
                return new $i(t,e,i)
            }
            ,
            t.DivOverlay = qi,
            t.Popup = Xi,
            t.popup = function(t, e) {
                return new Xi(t,e)
            }
            ,
            t.Tooltip = Ji,
            t.tooltip = function(t, e) {
                return new Ji(t,e)
            }
            ,
            t.Icon = ki,
            t.icon = function(t) {
                return new ki(t)
            }
            ,
            t.DivIcon = ta,
            t.divIcon = function(t) {
                return new ta(t)
            }
            ,
            t.Marker = Ii,
            t.marker = function(t, e) {
                return new Ii(t,e)
            }
            ,
            t.TileLayer = ia,
            t.tileLayer = aa,
            t.GridLayer = ea,
            t.gridLayer = function(t) {
                return new ea(t)
            }
            ,
            t.SVG = pa,
            t.svg = da,
            t.Renderer = ra,
            t.Canvas = oa,
            t.canvas = sa,
            t.Path = zi,
            t.CircleMarker = Bi,
            t.circleMarker = function(t, e) {
                return new Bi(t,e)
            }
            ,
            t.Circle = Di,
            t.circle = function(t, e, i) {
                return new Di(t,e,i)
            }
            ,
            t.Polyline = Mi,
            t.polyline = function(t, e) {
                return new Mi(t,e)
            }
            ,
            t.Polygon = Oi,
            t.polygon = function(t, e) {
                return new Oi(t,e)
            }
            ,
            t.Rectangle = ua,
            t.rectangle = function(t, e) {
                return new ua(t,e)
            }
            ,
            t.Map = Qe,
            t.map = function(t, e) {
                return new Qe(t,e)
            }
            ;
            var _a = window.L;
            t.noConflict = function() {
                return window.L = _a,
                this
            }
            ,
            window.L = t
        }(e)
    },
    1239: function(t, e, i) {
        "use strict";
        var a = i(1282)
          , n = function() {
            return this
        };
        n.PopularityRouteTypes = {
            ROAD_BIKING: "ROAD_CYCLING",
            ROAD_CYCLING: "ROAD_CYCLING",
            MOUNTAIN_BIKING: "MOUNTAIN_BIKING",
            GRAVEL_BIKING: "GRAVEL_BIKING",
            GRAVEL_CYCLING: "GRAVEL_BIKING",
            MIXED_SURFACE: "MIXED_SURFACE",
            RUNNING: "RUNNING",
            TRAIL_RUNNING: "TRAIL_RUNNING"
        },
        n.RoundTripRouteTypes = {
            ROAD_BIKING: "ROAD_CYCLING",
            ROAD_CYCLING: "ROAD_CYCLING",
            MOUNTAIN_BIKING: "MOUNTAIN_BIKING",
            GRAVEL_BIKING: "GRAVEL_BIKING",
            GRAVEL_CYCLING: "GRAVEL_BIKING",
            MIXED_SURFACE: "MIXED_SURFACE",
            RUNNING: "RUNNING",
            TRAIL_RUNNING: "TRAIL_RUNNING",
            HIKING: "TRAIL_RUNNING",
            OTHER: "MIXED_SURFACE"
        },
        n.SupportedPopularityTypes = {
            ROAD_BIKING: "ROAD_CYCLING",
            ROAD_CYCLING: "ROAD_CYCLING",
            MOUNTAIN_BIKING: "MOUNTAIN_BIKING",
            GRAVEL_BIKING: "GRAVEL_BIKING",
            GRAVEL_CYCLING: "GRAVEL_BIKING",
            RUNNING: "RUNNING",
            TRAIL_RUNNING: "TRAIL_RUNNING"
        },
        n.allowRoutingForRunning = !1,
        n.isRunningSupportedPopularityTypes = function(t) {
            return t.indexOf("RUNNING") > -1
        }
        ,
        n.isPopularityRoutingSupported = function(t) {
            return !(!t || !this.SupportedPopularityTypes[t.toUpperCase()]) && !(this.isRunningSupportedPopularityTypes(t.toUpperCase()) && !this.allowRoutingForRunning)
        }
        ,
        n.ErrorCodes = {
            GENERIC: "GENERIC",
            ROUTE_TO_LONG: "ROUTE_TO_LONG",
            ROUTE_TO_FAR_FROM_ROADS: "ROUTE_TO_FAR_FROM_ROADS",
            NO_ROUTING_DATA: "NO_ROUTING_DATA",
            PR_GENERIC: "PR_GENERIC",
            PR_NO_ROUTING_DATA: "PR_NO_ROUTING_DATA"
        },
        n.MAP_LAYER_TYPES = {
            ROAD: "ROAD",
            SATELLITE: "SATELLITE",
            TERRAIN: "TERRAIN",
            HYBRID: "HYBRID"
        },
        n.TRANSIT_MODE = {
            CYCLING: "CYCLING",
            PEDESTRIAN: "PEDESTRIAN"
        },
        n.MapProviders = {
            GOOGLE: "google",
            OSM: "osm",
            HERE: "here",
            BING: "bing",
            BAIDU: "baidu"
        },
        n.HereMapTileTypeMapping = {
            road: "normal.day",
            satellite: "satellite.day",
            terrain: "terrain.day",
            hybrid: "normal.traffic.day"
        },
        n.DirectionServices = {
            GOOGLE: "GOOGLE",
            OSM: "OSM",
            GARMIN: "GARMIN",
            BAIDU: "BAIDU"
        },
        n.HeatMapServices = {
            GARMIN: "GARMIN"
        },
        n.TaskTypes = {
            START: "START",
            END: "END",
            SPLIT: "SPLIT",
            CUSTOM: "CUSTOM"
        },
        n.ProviderToNameMapping = {
            google: "Google",
            here: "here",
            osm: "OpenStreetMap",
            baidu: "Baidu"
        },
        n.RoutingErrorMapping = {
            GENERIC: {
                key: "course_map_alert_error_retrieving_route",
                alertType: a.a.AlertType.Warning
            },
            ROUTE_TO_LONG: {
                key: "course_route_to_long",
                alertType: a.a.AlertType.Info
            },
            ROUTE_TO_FAR_FROM_ROADS: {
                key: "course_route_to_far_from_roads",
                alertType: a.a.AlertType.Info
            },
            NO_ROUTING_DATA: {
                key: "course_map_alert_error_retrieving_route",
                alertType: a.a.AlertType.Warning
            },
            PR_GENERIC: {
                key: "course_pr_service_error",
                alertType: a.a.AlertType.Warning
            },
            PR_NO_ROUTING_DATA: {
                key: "course_pr_no_routing_data",
                alertType: a.a.AlertType.Warning
            }
        },
        n.DrawingMethods = {
            SNAP_TO_ROAD: "snap",
            POPULAR_ROUTES: "popular",
            FREEHAND: "free"
        },
        n.CoordinateSystem = {
            WGS84: "WGS84",
            GCJ02: "GCJ02",
            BD09: "BD09"
        },
        n.LeafletDefaults = {
            POLYLINE: {
                COLOR: null,
                WEIGHT: 4
            }
        },
        n.extend = function(t, e) {
            for (var i in e)
                i && e.hasOwnProperty(i) && (t[i] = e[i])
        }
        ;
        e.a = n
    },
    1243: function(t, e, i) {
        "use strict";
        var a = i(1257)
          , n = i(40)
          , r = {
            red: "#ff0035",
            royalRed: "#f6192e",
            orange: "#ed7e00",
            mango: "#ff9e0d",
            hatorade: "#daf200",
            green: "#50b012",
            lightGreen: "#baf792",
            peakGreen: "#72ea24",
            blue: "#11a9ed",
            lightBlue: "#b0e1f7",
            skyBlue: "#73d4ff",
            royalBlue: "#4169E1",
            babyBlue: "#57c4E8",
            purple: "#cf23b8",
            gritPurple: "#632d5c",
            grey: "#888",
            baseGrey: "#e6e6e6",
            expandGrey: "#6d8595",
            performanceGrey: "#7d919f",
            diveGrey: "#C8D8E3",
            decoRed: "#D0021B",
            workoutTargetGray: "#C7C7C7",
            powerCurveGrey: "#C7C7C7",
            powerCurveDarkerGrey: "#6E8594",
            powerCurveBlue: "#B0E1F7",
            p02Green: "#33AE00",
            vo2Black: "#222",
            teBenefitPurple: "#6439E4",
            teBenefitYellow: "#F27019",
            teBenefitGreen: "#0AA476",
            loadFocusAnaerobic: "#9370F9",
            loadFocusHighAerobic: "#FEAF5A",
            loadFocusLowAerobic: "#34D6A6",
            tsDetrainingGrey: "#555",
            tsUnproductiveOrange: "#FF9735",
            tsPeakingPurple: "#815AF7"
        }
          , o = {
            mapSeriesType: function(t, e) {
                if (null == t)
                    return "";
                if (t.chartColor && "function" === typeof t.chartColor)
                    return t.chartColor();
                switch (t.name || t.prototype.name) {
                case a.a.Elevation.prototype.name:
                case a.a.SurfElevation.prototype.name:
                case a.a.Ascent.prototype.name:
                case a.a.ClimbAscent.prototype.name:
                    return r.green;
                case a.a.StrokeRate.prototype.name:
                case a.a.SwimStrokes.prototype.name:
                case a.a.OpenWaterSwimStrokes.prototype.name:
                case a.a.BikeCadence.prototype.name:
                case a.a.RunCadence.prototype.name:
                    return r.orange;
                case a.a.SwimSwolf.prototype.name:
                case a.a.PowerKg.prototype.name:
                case a.a.PowerWatts.prototype.name:
                case a.a.VerticalRatio.prototype.name:
                case a.a.VerticalOscillation.prototype.name:
                case a.a.VectorAirWindSpeed.prototype.name:
                    return r.purple;
                case a.a.Gforce.prototype.name:
                case a.a.HeartRate.prototype.name:
                case a.a.SurfHeartRate.prototype.name:
                case a.a.HeartRateLapSwimming.prototype.name:
                case a.a.VectorAirDragCdA.prototype.name:
                case a.a.VectorAirDragWattsPerCdA.prototype.name:
                    return r.red;
                case a.a.LeftRightPowerBalance.prototype.name:
                    return "rgba(207,35,184,.5)";
                case a.a.LeftPCO.prototype.name:
                    return e ? "rgb(191,15,36)" : "rgba(191,15,36,.5)";
                case a.a.RightPCO.prototype.name:
                    return e ? "rgb(255,158,13)" : "rgba(255,158,13,.5)";
                case a.a.LeftPPStart.prototype.name:
                case a.a.LeftPeakPPStart.prototype.name:
                    return e ? "rgb(80,176,18)" : "rgba(80,176,18,.5)";
                case a.a.RightPPStart.prototype.name:
                case a.a.RightPeakPPStart.prototype.name:
                    return e ? "rgb(17,169,237)" : "rgba(17,169,237,.5)";
                case a.a.LeftPPEnd.prototype.name:
                case a.a.LeftPeakPPEnd.prototype.name:
                    return e ? "rgb(80,176,18)" : "rgba(80,176,18,.5)";
                case a.a.RightPPEnd.prototype.name:
                case a.a.RightPeakPPEnd.prototype.name:
                    return e ? "rgb(17,169,237)" : "rgba(17,169,237,.5)";
                case a.a.GroundContactTimeBalance.prototype.name:
                case a.a.GroundContactTime.prototype.name:
                case a.a.SwimSpeed.prototype.name:
                case a.a.SwimPace.prototype.name:
                case a.a.Speed.prototype.name:
                case a.a.Pace.prototype.name:
                case a.a.LapAveragePace.prototype.name:
                case a.a.FloorClimbingPace.prototype.name:
                case a.a.OpenWaterSwimPace.prototype.name:
                case a.a.OpenWaterSwimSpeed.prototype.name:
                case a.a.Position.prototype.name:
                    return r.blue;
                case a.a.RespirationRate.prototype.name:
                    return r.lightBlue;
                case a.a.Temperature.prototype.name:
                    return r.grey;
                case a.a.DistancePerStroke.prototype.name:
                case a.a.StrideLength.prototype.name:
                    return r.royalBlue;
                case a.a.DiveDepth.prototype.name:
                    return r.diveGrey;
                case a.a.DecoCeiling.prototype.name:
                    return r.decoRed;
                case a.a.SetPointDepth.prototype.name:
                    return r.p02Green;
                case a.a.Flow.prototype.name:
                    return r.peakGreen;
                case a.a.Grit.prototype.name:
                    return r.gritPurple;
                case a.a.Stress.prototype.name:
                    return n.orange_light_1;
                case a.a.TankPressure.prototype.name:
                    return n.teal_dark_3;
                default:
                    return ""
                }
            },
            getVerticalOscillationColorRange: function(t) {
                return t ? {
                    Purple: {
                        zone: "95",
                        range: "6.4",
                        cutoffMin: 0,
                        cutoffMax: 6.4
                    },
                    Blue: {
                        zone: "70 - 95",
                        range: "6.4 - 8.6",
                        cutoffMin: 0,
                        cutoffMax: 8.6
                    },
                    Green: {
                        zone: "30 - 69",
                        range: "8.7 - 10.8",
                        cutoffMin: 0,
                        cutoffMax: 10.8
                    },
                    Orange: {
                        zone: "5 - 29",
                        range: "10.9 - 13.1",
                        cutoffMin: 0,
                        cutoffMax: 13.1
                    },
                    Red: {
                        zone: "5",
                        range: "13.1",
                        cutoffMin: 0,
                        cutoffMax: 0
                    }
                } : {
                    Purple: {
                        zone: "95",
                        range: "6.4",
                        cutoffMin: 0,
                        cutoffMax: 6.4
                    },
                    Blue: {
                        zone: "70 - 95",
                        range: "6.4 - 8.1",
                        cutoffMin: 0,
                        cutoffMax: 8.2
                    },
                    Green: {
                        zone: "30 - 69",
                        range: "8.2 - 9.7",
                        cutoffMin: 0,
                        cutoffMax: 9.8
                    },
                    Orange: {
                        zone: "5 - 29",
                        range: "9.8 - 11.5",
                        cutoffMin: 0,
                        cutoffMax: 11.6
                    },
                    Red: {
                        zone: "5",
                        range: "11.5",
                        cutoffMin: 0,
                        cutoffMax: 0
                    }
                }
            },
            getVerticalRatioColorRange: function(t) {
                return t ? {
                    Purple: {
                        zone: "95",
                        range: "6.4",
                        cutoffMin: 0,
                        cutoffMax: 6.4
                    },
                    Blue: {
                        zone: "70 - 95",
                        range: "6.4 - 8.2",
                        cutoffMin: 6.4,
                        cutoffMax: 8.2
                    },
                    Green: {
                        zone: "30 - 69",
                        range: "8.3 - 9.9",
                        cutoffMin: 8.3,
                        cutoffMax: 9.9
                    },
                    Orange: {
                        zone: "5 - 29",
                        range: "10.0 - 11.8",
                        cutoffMin: 10,
                        cutoffMax: 11.8
                    },
                    Red: {
                        zone: "5",
                        range: "11.8",
                        cutoffMin: 11.8,
                        cutoffMax: 0
                    }
                } : {
                    Purple: {
                        zone: "95",
                        range: "6.1",
                        cutoffMin: 0,
                        cutoffMax: 6.1
                    },
                    Blue: {
                        zone: "70 - 95",
                        range: "6.1 - 7.4",
                        cutoffMin: 6.1,
                        cutoffMax: 7.5
                    },
                    Green: {
                        zone: "30 - 69",
                        range: "7.5 - 8.6",
                        cutoffMin: 7.5,
                        cutoffMax: 8.7
                    },
                    Orange: {
                        zone: "5 - 29",
                        range: "8.7 - 10.1",
                        cutoffMin: 8.7,
                        cutoffMax: 10.1
                    },
                    Red: {
                        zone: "5",
                        range: "10.1",
                        cutoffMin: 10.1,
                        cutoffMax: 0
                    }
                }
            },
            getVectorAirCdAColorRange: function() {
                return {
                    roadCyclist: {
                        Purple: {
                            zone: "95",
                            range: "0.300",
                            cutoffMin: 0,
                            cutoffMax: .3
                        },
                        Blue: {
                            zone: "70 - 95",
                            range: "0.300 - 0.350",
                            cutoffMin: 0,
                            cutoffMax: .35
                        },
                        Green: {
                            zone: "30 - 69",
                            range: "0.350 - 0.425",
                            cutoffMin: 0,
                            cutoffMax: .425
                        },
                        Orange: {
                            zone: "5 - 29",
                            range: "0.426 - 0.500",
                            cutoffMin: 0,
                            cutoffMax: .5
                        },
                        Red: {
                            zone: "5",
                            range: "0.500",
                            cutoffMin: 0,
                            cutoffMax: 0
                        }
                    },
                    timeTrialist: {
                        Purple: {
                            zone: "95",
                            range: "0.220",
                            cutoffMin: 0,
                            cutoffMax: .22
                        },
                        Blue: {
                            zone: "70 - 95",
                            range: "0.221 - 0.240",
                            cutoffMin: 0,
                            cutoffMax: .24
                        },
                        Green: {
                            zone: "30 - 69",
                            range: "0.241 - 0.260",
                            cutoffMin: 0,
                            cutoffMax: .26
                        },
                        Orange: {
                            zone: "5 - 29",
                            range: "0.261 - 0.280",
                            cutoffMin: 0,
                            cutoffMax: .28
                        },
                        Red: {
                            zone: "5",
                            range: "0.280",
                            cutoffMin: 0,
                            cutoffMax: 0
                        }
                    }
                }
            },
            getVectorAirWattsPerCdAColorRange: function() {
                return this.getVectorAirCdAColorRange()
            },
            mapStroke: function(t) {
                return "FREESTYLE" == t ? r.purple : "BACKSTROKE" == t ? r.green : "BREASTSTROKE" == t ? r.red : "BUTTERFLY" == t ? r.blue : "DRILL" == t ? r.orange : r.grey
            }
        };
        o.Colors = r,
        e.a = o
    },
    1255: function(t, e, i) {
        "use strict";
        (function(t) {
            e.a = {
                Map: {
                    Event: {
                        SWAP_MARKER_ID: "swapmarkerid",
                        ELEVATION_CHANGE: "elevationChange",
                        RESET_ROUTE: "resetRoute"
                    },
                    Validator: {},
                    Utils: {
                        MEASURE_STATUTE: "statute",
                        RADIUS_KILOMETERS: 6371,
                        RADIUS_MILES: 3959,
                        FEET_PER_METER: 3.28083989501312,
                        MARKER: "marker-",
                        POLYLINE: "polyline-",
                        LAP_MARKER_URL: "/modern/images/feature/courses/lap-marker-",
                        SHADOW_URL: "/api/activity-search/style/explore/images/pin-shadow.png",
                        METRIC: "metric",
                        GEO_OFFSET: 7e-5,
                        GEO_BUFFER: 7e-5,
                        BUSY_DIV_ID: "loading-mask",
                        MAP_STYLE_ROAD: "road",
                        MAP_STYLE_SATELLITE: "satellite",
                        MAP_STYLE_HYBRID: "hybrid",
                        MAP_STYLE_AUTO: "auto",
                        MAP_STYLE_TERRAIN: "terrain",
                        MAP_STYLE_BICYCLE: "bicycle",
                        MAP_STYLE_OSM: "osm",
                        PROVIDER_TYPE_HERE: "here",
                        PROVIDER_TYPE_GOOGLE: "google",
                        PROVIDER_TYPE_OSM: "osm",
                        PROVIDER_TYPE_NUMAP: "numap",
                        PROVIDER_TYPE_BAIDU: "BAIDU_V_1_4",
                        PROVIDER_TYPE_MOCK: "mock",
                        MAXIMUM_ELEVATION_SAMPLES: 512,
                        MAXIMUM_ELEVATION_PATH_POINTS: 375,
                        LINE_COLOR: [255, 0, 0],
                        LINE_OPACITY: .8,
                        LINE_WIDTH: 4,
                        EVENT_MARKER_CHANGED: "changed",
                        EVENT_MOUSE_CLICK: "click",
                        EVENT_MOUSE_DBLCLICK: "doubleclick",
                        EVENT_MOUSE_DOWN: "mousedown",
                        EVENT_MOUSE_OUT: "mouseout",
                        EVENT_MOUSE_OVER: "mouseover",
                        EVENT_MOUSE_UP: "mouseup",
                        EVENT_MOUSE_WHEEL: "mousewheel",
                        EVENT_MOUSE_RIGHT_CLICK: "rightclick",
                        EVENT_MAP_VIEW_CHANGE_START: "viewchangestart",
                        EVENT_MAP_VIEW_CHANGE_END: "viewchangeend",
                        EVENT_MAP_ZOOM_CHANGED: "zoomchanged",
                        EVENT_MAP_IDLE: "idle",
                        EVENT_DRAG_START: "dragstart",
                        EVENT_DRAG_END: "dragend",
                        EVENT_DRAGGING: "dragging",
                        EVENT_TARGET_MAP: "map",
                        EVENT_TARGET_MARKER: "marker",
                        EVENT_TARGET_POLYLINE: "polyline",
                        EVENT_TOGGLE_HEATMAP_ITEMS: "toggleHeatmapItems",
                        EVENT_OSM_MAP_READY: "osmMapReady",
                        LAYER_POLYLINES: "polylineLayer",
                        LAYER_TERMINUS: "terminusLayer",
                        LAYER_MARKERS: "markerLayer",
                        LAYER_SEGMENTS: "segmentsLayer",
                        LAYER_SEGMENT: "segmentLayer",
                        LAYER_DISTANCE_CLOSE: "distanceLayerClose",
                        LAYER_DISTANCE_MEDIUM: "distanceLayerMedium",
                        LAYER_DISTANCE_FAR: "distanceLayerFar",
                        LAYER_DISTANCE_MAX: "distanceLayerMax",
                        heatmapPreferences: null,
                        heatmapFolderDataList: null,
                        heatmapRenderedTileDataList: {},
                        activityType: ""
                    }
                },
                Queue: {
                    Constants: {
                        GC_SYNC_URL: "connectagent://launch",
                        GC_SYNC_ID: "#notify-agent",
                        DEVICE_IMG_LOCATION: "//static.garmincdn.com/apps/connect/image/devices"
                    },
                    NotificationWidgetQueueIds: {
                        QUEUE_NOTIFICATION: "#notify-agent"
                    },
                    Events: {
                        SEND_TO_DEVICE_FROM_QUEUE: "SEND_TO_DEVICE_FROM_QUEUE",
                        VIEW_PENDING_ITEMS: "VIEW_PENDING_ITEMS",
                        MESSAGE_SENT: "MESSAGE_SENT",
                        RETURN_TO_TRAINING_PLAN: "return.to.trainingplanpageview"
                    },
                    MessageTypes: {
                        ACTIVITIES: {
                            id: 1,
                            type: "courses",
                            name: "activities"
                        },
                        COURSES: {
                            id: 2,
                            type: "courses",
                            name: "courses"
                        },
                        WORKOUTS: {
                            id: 3,
                            type: "workouts",
                            name: "workouts"
                        },
                        PR: {
                            id: 4,
                            type: "personal-records",
                            name: "personal-records"
                        },
                        SCHEDULES: {
                            id: 5,
                            type: "schedules",
                            name: "schedules"
                        },
                        SETTINGS: {
                            id: 6,
                            type: "settings",
                            name: "settings"
                        },
                        ZONES: {
                            id: 6,
                            type: "settings",
                            name: "zones"
                        },
                        GOALS: {
                            id: 7,
                            type: "goals",
                            name: "goals"
                        },
                        SOFTWARE_UPDATE: {
                            id: 8,
                            type: "software_update",
                            name: "software_update"
                        },
                        DEVICE_SETTINGS: {
                            id: 9,
                            type: "device-settings",
                            name: "device-settings"
                        },
                        LANGUAGE_SETTINGS: {
                            id: 10,
                            type: "language-settings",
                            name: "language-settings"
                        },
                        PROFILE: {
                            id: 11,
                            type: "user-profile",
                            name: "user-profile"
                        },
                        SPORTS: {
                            id: 12,
                            type: "sports",
                            name: "sports"
                        },
                        SEGMENT_LEADERS: {
                            id: 14,
                            type: "segment-leaders",
                            name: "segment-leaders"
                        }
                    }
                }
            }
        }
        ).call(this, i(1259))
    },
    1256: function(t, e, i) {
        "use strict";
        var a = i(56)
          , n = i(57)
          , r = i(63)
          , o = i(61)
          , s = i(62)
          , l = i(11)
          , c = i.n(l)
          , h = i(1245)
          , p = i.n(h)
          , d = i(1275)
          , u = i.n(d)
          , m = i(1270)
          , f = i.n(m)
          , g = i(1261)
          , y = i.n(g);
        f()(p.a),
        y()(p.a);
        var v = function(t) {
            function e() {
                return Object(a.a)(this, e),
                Object(r.a)(this, Object(o.a)(e).apply(this, arguments))
            }
            return Object(s.a)(e, t),
            Object(n.a)(e, [{
                key: "render",
                value: function() {
                    var t = this.props
                      , e = t.config
                      , i = t.callback;
                    return c.a.createElement(u.a, {
                        options: e,
                        highcharts: p.a,
                        callback: i
                    })
                }
            }]),
            e
        }(c.a.Component);
        e.a = v
    },
    1257: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(8)
              , o = i(13)
              , s = i(58)
              , l = i(1379)
              , c = i(1447)
              , h = i(1358)
              , p = i(1396)
              , d = i(37)
              , u = i(1380)
              , m = i(102)
              , f = i(1426)
              , g = i(1480)
              , y = i(1243)
              , v = i(1287)
              , b = i(1481)
              , A = i(1281)
              , _ = i(1299)
              , C = new l.a
              , w = function(t) {
                return t && t.activitySummary.get("activityTypeDTO") && t.activitySummary.get("activityTypeDTO").typeKey ? t.activitySummary.get("activityTypeDTO").typeKey : ""
            }
              , x = {
                RunCadence: {
                    name: "RunCadence",
                    seriesKey: "directDoubleCadence",
                    label: "label_run_cadence",
                    unit_key: "run_cadence_unit",
                    defaultChartType: "scatter",
                    mainChartFilter: c.a.prototype.filterNulls,
                    formattingFunction: n.a.bind(o.a.formatWholeNumber, o.a),
                    expandedMin: n.a.partial(c.a.prototype.getLowerRange, 0, !0),
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 2, !0),
                    avgValueKey: "averageRunCadence",
                    helpKey: "directDoubleCadence",
                    colorMapper: function(t) {
                        return t < 153 ? y.a.Colors.red : t < 164 ? y.a.Colors.orange : t < 174 ? y.a.Colors.green : t < 184 ? y.a.Colors.blue : y.a.Colors.purple
                    },
                    workoutTargetTypes: ["CADENCE"]
                },
                BikeCadence: {
                    name: "BikeCadence",
                    seriesKey: "directBikeCadence",
                    label: "label_bike_cadence",
                    getLabel: function() {
                        var t = this.activitySummary.get("activityTypeDTO").typeKey;
                        return o.a.getBikeCadenceChartKey(t, r.a)
                    },
                    unit_key: "bike_cadence_unit",
                    formattingFunction: n.a.bind(o.a.formatWholeNumber, o.a),
                    defaultChartType: "line",
                    avgValueKey: "averageBikeCadence",
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 0, !0),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    workoutTargetTypes: ["CADENCE"]
                },
                SurfElevation: {
                    name: "SurfElevation",
                    seriesKey: "directElevation",
                    label: "label_elevation",
                    getLabel: function() {
                        var t = this.activitySummary.get("activityTypeDTO").typeKey;
                        return o.a.isFlyingActivity(t) ? o.a.getElevationLabelKey(o.a.SpeedTypes.Flying) : c.a.prototype.getLabel.call(this)
                    },
                    conversionFunction: n.a.bind(o.a.convertElevation, o.a),
                    createHighChartsPlotBandsOptions: function() {
                        return Object(g.a)(this.activityTypedSplits.toJSON(), this.activityDetails)
                    },
                    formatToolTipRow: function(t, e, i, a, n, r, o, s) {
                        return Object(g.b)(t.activitySummary, t.activityTypedSplits.toJSON(), t.activityDetails, this.formattingFunction, s, i, a, this.xAxisType)
                    },
                    formattingFunction: n.a.bind(o.a.formatElevation, o.a),
                    unit_key: o.a.getElevationUnitKey(),
                    defaultChartType: "line",
                    primaryChartMin: function() {
                        var t = 400;
                        return o.a.measurementSystem !== o.a.MeasurementSystems.STATUTE_US && (t *= o.a.ConversionFactors.FeetToMeters),
                        this.getLowerRangeWithMinRange(t, !0)
                    },
                    primaryChartMax: function() {
                        var t = 400;
                        return o.a.measurementSystem !== o.a.MeasurementSystems.STATUTE_US && (t *= o.a.ConversionFactors.FeetToMeters),
                        this.getUpperRangeWithMinRange(t)
                    },
                    expandedMin: function() {
                        var t = 1e3;
                        return o.a.measurementSystem !== o.a.MeasurementSystems.STATUTE_US && (t *= o.a.ConversionFactors.FeetToMeters),
                        this.getLowerRangeWithMinRange(t, !0)
                    },
                    expandedMax: function() {
                        var t = 1e3;
                        return o.a.measurementSystem !== o.a.MeasurementSystems.STATUTE_US && (t *= o.a.ConversionFactors.FeetToMeters),
                        this.getUpperRangeWithMinRange(t)
                    },
                    threshold: -9999
                },
                SurfSpeed: {
                    name: "Speed",
                    seriesKey: "directSpeed",
                    label: "label_speed",
                    getLabel: function() {
                        var t = this.activitySummary.get("activityTypeDTO").typeKey;
                        return o.a.isFlyingActivity(t) ? o.a.getSpeedTypeLabelKey(o.a.SpeedTypes.Flying) : c.a.prototype.getLabel.call(this)
                    },
                    unit_key: function() {
                        return o.a.getSpeedUnitKey(w(this))
                    },
                    defaultChartType: "line",
                    conversionFunction: function(t, e) {
                        return o.a.convertSpeed(t, e, w(this))
                    },
                    createHighChartsPlotBandsOptions: function() {
                        return Object(g.a)(this.activityTypedSplits.toJSON(), this.activityDetails)
                    },
                    formatToolTipRow: function(t, e, i, a, n, r, o, s) {
                        return Object(g.b)(t.activitySummary, t.activityTypedSplits.toJSON(), t.activityDetails, this.formattingFunction, s, i, a, this.xAxisType)
                    },
                    formattingFunction: n.a.bind(o.a.formatSpeed, o.a),
                    avgValueKey: "averageSpeed",
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 0, !0),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    workoutTargetTypes: ["SPEED", "SPEED_LAP"]
                },
                SurfHeartRate: {
                    name: "SurfHeartRate",
                    seriesKey: "directHeartRate",
                    label: "label_heart_rate",
                    unit_key: o.a.getHeartRateUnitKey(),
                    defaultChartType: "line",
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 0, !0),
                    expandedMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    avgValueKey: "averageHR",
                    createHighChartsPlotBandsOptions: function() {
                        return Object(g.a)(this.activityTypedSplits.toJSON(), this.activityDetails)
                    },
                    formatToolTipRow: function(t, e, i, a, n, r, o, s) {
                        return Object(g.b)(t.activitySummary, t.activityTypedSplits.toJSON(), t.activityDetails, this.formattingFunction, s, i, a, this.xAxisType)
                    },
                    formattingFunction: n.a.bind(o.a.personalizeHeartRate, o.a),
                    workoutTargetTypes: ["HEART_RATE", "HEART_RATE_LAP"]
                },
                Speed: {
                    name: "Speed",
                    seriesKey: "directSpeed",
                    label: "label_speed",
                    getLabel: function() {
                        var t = this.activitySummary.get("activityTypeDTO").typeKey;
                        return o.a.isFlyingActivity(t) ? o.a.getSpeedTypeLabelKey(o.a.SpeedTypes.Flying) : c.a.prototype.getLabel.call(this)
                    },
                    unit_key: function() {
                        return o.a.getSpeedUnitKey(w(this))
                    },
                    defaultChartType: "line",
                    conversionFunction: function(t, e) {
                        return o.a.convertSpeed(t, e, w(this))
                    },
                    formatToolTipRow: function(t, e, i, a, n, r, o, s) {
                        return this.activityDetails.hasGForceData() && s && s.y ? this.formattingFunction(s.y) + " " + a : this.formattingFunction(i) + " " + a
                    },
                    formattingFunction: n.a.bind(o.a.formatSpeed, o.a),
                    avgValueKey: "averageSpeed",
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 0, !0),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    workoutTargetTypes: ["SPEED", "SPEED_LAP"]
                },
                Pace: {
                    name: "Pace",
                    seriesKey: "directSpeed",
                    label: "label_pace",
                    unit_key: function() {
                        return o.a.getPaceUnitKey(w(this))
                    },
                    defaultChartType: "line",
                    conversionFunction: function(t, e) {
                        return "rowing" !== w(this) && "indoor_rowing" !== w(this) ? o.a.convertFractionalPace(t) : o.a.convertRowingPace(t)
                    },
                    formattingFunction: n.a.bind(o.a.formatPace, o.a),
                    avgValueKey: "averageSpeed",
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 2),
                    expandedMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 2),
                    reversed: !0,
                    threshold: 9999,
                    workoutTargetTypes: ["SPEED", "SPEED_LAP"]
                },
                LapAveragePace: {
                    name: "Lap Average Pace",
                    seriesKey: "directSpeed",
                    label: "pace_chart_lap_avg",
                    unit_key: function() {
                        return o.a.getPaceUnitKey(w(this))
                    },
                    defaultChartType: "line",
                    conversionFunction: function(t, e) {
                        return o.a.convertFractionalPace(t)
                    },
                    formattingFunction: n.a.bind(o.a.formatPace, o.a),
                    avgValueKey: "averageSpeed",
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 2),
                    expandedMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 2),
                    reversed: !0,
                    threshold: 9999,
                    shouldBeVisible: function() {
                        return !1
                    },
                    buildData: function(t, e) {
                        var i, a, n, r, l, c, h = this, p = this.activitySplits.get("lapDTOs"), d = [];
                        return p.forEach(function(t, e) {
                            if (i = s.a.parseISOUTC(t.startTimeGMT).getTime(),
                            n = _.a.findClosest(h.activityDetails.get("directTimestamp"), i),
                            c = h.conversionFunction(t.averageSpeed, h.measurementSystem()),
                            e === h.activitySplits.get("lapDTOs").length - 1 ? r = h.activityDetails.get("directTimestamp").length : (a = s.a.parseISOUTC(h.activitySplits.get("lapDTOs")[e + 1].startTimeGMT).getTime(),
                            r = _.a.findClosest(h.activityDetails.get("directTimestamp"), a)),
                            l = r - n,
                            "sumDuration" === h.xAxisType)
                                for (var p = 0; p < l; p++)
                                    d.push({
                                        x: h.activityDetails.get("sumDuration")[n + p],
                                        y: c
                                    });
                            else
                                for (var u = 0; u < l; u++) {
                                    var m = o.a.convertDistance(h.activityDetails.get("sumDistance")[n + u], h.activitySummary.getActivityTypeKey());
                                    d.push({
                                        x: m,
                                        y: c
                                    })
                                }
                        }),
                        d
                    }
                },
                OpenWaterSwimPace: {
                    name: "OpenWaterSwimPace",
                    seriesKey: "directSpeed",
                    label: "label_swim_pace",
                    unit_key: o.a.getSwimPaceUnitKey(),
                    defaultChartType: "line",
                    conversionFunction: n.a.bind(o.a.convertFractionalSwimPace, o.a),
                    formattingFunction: n.a.bind(o.a.formatPace, o.a),
                    avgValueKey: "averageSpeed",
                    reversed: !0,
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, .6),
                    expandedMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, .6),
                    threshold: 9999
                },
                OpenWaterSwimSpeed: {
                    name: "OpenWaterSwimSpeed",
                    seriesKey: "directSpeed",
                    label: "label_speed",
                    unit_key: o.a.getSwimSpeedUnitKey(),
                    defaultChartType: "line",
                    conversionFunction: n.a.bind(o.a.convertSwimSpeed, o.a),
                    formattingFunction: n.a.bind(o.a.formatSpeed, o.a),
                    avgValueKey: "averageSpeed",
                    expandedMin: 0
                },
                OpenWaterSwimStrokes: {
                    name: "OpenWaterSwimStrokes",
                    seriesKey: "directSwimCadence",
                    label: "label_strokes",
                    unit_key: "swim_cadence_unit",
                    formattingFunction: n.a.bind(o.a.formatWholeNumber, o.a),
                    defaultChartType: "line",
                    avgValueKey: "averageSwimCadence",
                    expandedMin: 0
                },
                HeartRate: {
                    name: "HeartRate",
                    seriesKey: "directHeartRate",
                    label: "label_heart_rate",
                    unit_key: o.a.getHeartRateUnitKey(),
                    defaultChartType: "line",
//                    defaultChartType: "column",                         // TX GCOverrides for HR zone overrides (not finished!)
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 0, !0),
                    expandedMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    avgValueKey: "averageHR",
                    formatToolTipRow: function(t, e, i, a, n, r, o, s) {
                        return this.activityDetails.hasGForceData() && s && s.y ? this.formattingFunction(s.y) + " " + a : this.formattingFunction(i) + " " + a
                    },
                    formattingFunction: n.a.bind(o.a.personalizeHeartRate, o.a),
                    colorMapper: function(e) {                          // TX GCOverrides - use HR zones here !!!
                        return e < 100 ? "rgba(  0, 64,255, .4)" : 
                               e < 125 ? "rgba(  0,255,  0, .4)" : 
                               e < 145 ? "rgba(255,255,  0, .4)" : 
                               e < 165 ? "rgba(255,127, 80, .4)" : 
                                         "rgba(255,  0,  0, .4)"
                    },
                    workoutTargetTypes: ["HEART_RATE", "HEART_RATE_LAP"]
                },
                HeartRateLapSwimming: {
                    name: "HeartRateLapSwimming",
                    seriesKey: "directHeartRate",
                    label: "label_heart_rate",
                    unit_key: o.a.getHeartRateUnitKey(),
                    defaultChartType: "line",
                    mainChartFilter: function(t) {
                        var e = this.activitySummary.get("duration");
                        return n.a.reject(t, function(t) {
                            return t[0] > e
                        })
                    },
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 0, !0),
                    expandedMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    avgValueKey: "averageHR",
                    formattingFunction: n.a.bind(o.a.personalizeHeartRate, o.a),
                    getXAxisKey: function() {
                        return this.xAxisType === v.a.SwimDuration ? "interpolatedSwimDuration" : this.xAxisType === v.a.SwimLengths ? "interpolatedSwimLengths" : this.xAxisType === v.a.SwimDistance ? "interpolatedSwimDistance" : null
                    }
                },
                Elevation: {
                    name: "Elevation",
                    seriesKey: "directElevation",
                    label: "label_elevation",
                    getLabel: function() {
                        var t = this.activitySummary.get("activityTypeDTO").typeKey;
                        return o.a.isFlyingActivity(t) ? o.a.getElevationLabelKey(o.a.SpeedTypes.Flying) : c.a.prototype.getLabel.call(this)
                    },
                    conversionFunction: n.a.bind(o.a.convertElevation, o.a),
                    formatToolTipRow: function(t, e, i, a, n, r, o, s) {
                        return this.activityDetails.hasGForceData() && s && s.y ? this.formattingFunction(s.y) + " " + a : this.formattingFunction(i) + " " + a
                    },
                    formattingFunction: n.a.bind(o.a.formatElevation, o.a),
                    unit_key: o.a.getElevationUnitKey(),
                    defaultChartType: "line",
                    primaryChartMin: function() {
                        var t = 400;
                        return o.a.measurementSystem !== o.a.MeasurementSystems.STATUTE_US && (t *= o.a.ConversionFactors.FeetToMeters),
                        this.getLowerRangeWithMinRange(t, !0)
                    },
                    primaryChartMax: function() {
                        var t = 400;
                        return o.a.measurementSystem !== o.a.MeasurementSystems.STATUTE_US && (t *= o.a.ConversionFactors.FeetToMeters),
                        this.getUpperRangeWithMinRange(t)
                    },
                    expandedMin: function() {
                        var t = 1e3;
                        return o.a.measurementSystem !== o.a.MeasurementSystems.STATUTE_US && (t *= o.a.ConversionFactors.FeetToMeters),
                        this.getLowerRangeWithMinRange(t, !0)
                    },
                    expandedMax: function() {
                        var t = 1e3;
                        return o.a.measurementSystem !== o.a.MeasurementSystems.STATUTE_US && (t *= o.a.ConversionFactors.FeetToMeters),
                        this.getUpperRangeWithMinRange(t)
                    },
                    threshold: -9999
                },
                ClimbAscent: {
                    name: "ClimbAscent",
                    seriesKey: "directElevation",
                    label: "label_climb_ascent",
                    defaultChartType: "line",
                    conversionFunction: n.a.bind(o.a.convertElevation, o.a),
                    formatToolTipRow: function(t, e, i, a, n, r, o, s) {
                        var l = t.props.indoorClimbDifficulty;
                        return Object(f.b)(t.activitySummary, t.activityTypedSplits, this.formattingFunction, s, i, a, this.xAxisType, l)
                    },
                    hasData: function() {
                        return this.activityDetails.hasData(this.seriesKey) && this.activityTypedSplits.getSplitsOfType(m.b.CLIMB_ACTIVE).length
                    },
                    buildData: function() {
                        return Object(f.a)(this.data, this.activitySummary, this.activityTypedSplits, this.conversionFunction, this.measurementSystem(), this.xAxisType)
                    },
                    getAvgValue: function(t) {
                        var e = this.activitySplitSummaries.find({
                            splitType: m.b.CLIMB_ACTIVE
                        })
                          , i = e ? e.get("averageElevationGain") : void 0;
                        if (void 0 !== i && null !== i)
                            return this.conversionFunction(i, t || this.measurementSystem())
                    },
                    hasAvgValue: function() {
                        return !0
                    },
                    formattingFunction: n.a.bind(o.a.formatElevation, o.a),
                    unit_key: o.a.getElevationUnitKey(),
                    primaryChartMin: function() {
                        return 0
                    },
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 2, !0),
                    expandedMin: function() {
                        return 0
                    },
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 2, !0)
                },
                Gforce: {
                    name: "Gforce",
                    seriesKey: "directGforce",
                    label: "label_g_force",
                    unit_key: "g_force_unit",
                    defaultChartType: "line",
                    mainChartFilter: c.a.prototype.filterNulls,
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 0, !0),
                    expandedMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    avgValueKey: "averageGforce",
                    formatToolTipRow: function(t, e, i, a, n, r, o, s) {
                        return s && s.y ? this.formattingFunction(s.y) + " " + a : this.formattingFunction(i) + " " + a
                    },
                    formattingFunction: function(t) {
                        return o.a.formatDecimalNumber(t, 1, "##,##0")
                    }
                },
                GroundContactTime: {
                    name: "GroundContactTime",
                    seriesKey: "directGroundContactTime",
                    label: "label_ground_contact_time",
                    formattingFunction: n.a.bind(o.a.personalizeVerticalOscillation, o.a),
                    unit_key: o.a.getGroundContactTimeUnitKey(),
                    defaultChartType: "scatter",
                    avgValueKey: "groundContactTime",
                    mainChartFilter: c.a.prototype.filterNulls,
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 2),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 2),
                    expandedMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    colorMapper: function(t) {
                        return t < 218 ? y.a.Colors.purple : t < 249 ? y.a.Colors.blue : t < 278 ? y.a.Colors.green : t < 309 ? y.a.Colors.orange : y.a.Colors.red
                    },
                    helpKey: "directGroundContactTime",
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                GroundContactTimeBalance: {
                    name: "GroundContactTimeBalance",
                    seriesKey: "directGroundContactBalanceLeft",
                    label: "label_ground_contact_time_balance",
                    unit_key: "percentage_unit",
                    defaultChartType: "scatter",
                    expandedMin: 40,
                    expandedMax: 60,
                    primaryChartMin: 40,
                    primaryChartMax: 60,
                    mainChartFilter: c.a.prototype.filterNulls,
                    avgValueKey: "groundContactBalanceLeft",
                    helpKey: "directGroundContactTimeBalance",
                    yAxisFormattingFunction: function(t, e) {
                        return t < 50 ? r.a.localize("power_balance_right_format", 100 - t) : t > 50 ? r.a.localize("power_balance_left_format", t) : "50/50"
                    },
                    conversionFunction: function(t) {
                        return t
                    },
                    formatToolTipRow: function(t, e, i, a, n, s, l) {
                        var c = o.a.getGroundContactBalance(i);
                        return r.a.localize(o.a.getPowerBalanceUnitKey(), c.left, c.right)
                    },
                    colorMapper: function(t) {
                        return t < 47.6 ? y.a.Colors.red : t >= 47.6 && t <= 49.4 ? y.a.Colors.orange : t >= 49.3 && t <= 50.7 ? y.a.Colors.green : t >= 50.6 && t <= 52.2 ? y.a.Colors.orange : t > 52.2 ? y.a.Colors.red : void 0
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                VerticalOscillation: {
                    name: "VerticalOscillation",
                    seriesKey: "directVerticalOscillation",
                    label: "label_vert_oscillation",
                    unit_key: o.a.getVerticalOscillationUnitKey(),
                    formattingFunction: n.a.bind(o.a.personalizeVerticalOscillation, o.a),
                    defaultChartType: "scatter",
                    avgValueKey: "verticalOscillation",
                    mainChartFilter: c.a.prototype.filterNulls,
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 2),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 2),
                    helpKey: "directVerticalOscillation",
                    helpKeyAdditionalData: function() {
                        var t = !!this.activitySummary && this.activitySummary.hasPodSenor();
                        return y.a.getVerticalOscillationColorRange(t)
                    },
                    colorMapper: function(e) {
                        var i = this.activitySummary && this.activitySummary.hasPodSenor() || !1
                          , a = y.a.getVerticalOscillationColorRange(i);
                        return (e = +t.formatNumber(e, {
                            format: "####0.0"
                        })) < a.Purple.cutoffMax ? y.a.Colors.purple : e <= a.Blue.cutoffMax ? y.a.Colors.blue : e <= a.Green.cutoffMax ? y.a.Colors.green : e <= a.Orange.cutoffMax ? y.a.Colors.orange : y.a.Colors.red
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                VerticalRatio: {
                    name: "VerticalRatio",
                    seriesKey: "directVerticalRatio",
                    label: "label_vert_ratio",
                    expandedMin: 0,
                    expandedMax: 20,
                    unit_key: o.a.getVerticalRatioUnitKey(),
                    formattingFunction: n.a.bind(o.a.personalizeVerticalRatio, o.a),
                    defaultChartType: "scatter",
                    avgValueKey: "verticalRatio",
                    mainChartFilter: c.a.prototype.filterNulls,
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 2),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 2),
                    helpKey: "directVerticalRatio",
                    helpKeyAdditionalData: function() {
                        var t = !!this.activitySummary && this.activitySummary.hasPodSenor();
                        return y.a.getVerticalRatioColorRange(t)
                    },
                    colorMapper: function(e) {
                        var i = this.activitySummary && this.activitySummary.hasPodSenor() || !1
                          , a = y.a.getVerticalRatioColorRange(i);
                        return (e = +t.formatNumber(e, {
                            format: "####0.0"
                        })) < a.Purple.cutoffMax ? y.a.Colors.purple : e <= a.Blue.cutoffMax ? y.a.Colors.blue : e <= a.Green.cutoffMax ? y.a.Colors.green : e <= a.Orange.cutoffMax ? y.a.Colors.orange : y.a.Colors.red
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                Temperature: {
                    name: "Temperature",
                    seriesKey: "directAirTemperature",
                    label: "label_temperature",
                    avgValueKey: "averageTemperature",
                    unit_key: o.a.getTemperatureUnitKey(),
                    conversionFunction: n.a.bind(o.a.convertTemperature, o.a),
                    formattingFunction: n.a.bind(o.a.formatTemperature, o.a),
                    defaultChartType: "line",
                    primaryChartMin: function() {
                        var t = 10;
                        return o.a.measurementSystem === o.a.MeasurementSystems.METRIC && (t *= 5 / 9),
                        this.getLowerRangeWithMinRange(t)
                    },
                    primaryChartMax: function() {
                        var t = 10;
                        return o.a.measurementSystem === o.a.MeasurementSystems.METRIC && (t *= 5 / 9),
                        this.getUpperRangeWithMinRange(t)
                    },
                    expandedMin: function() {
                        var t = 30;
                        return o.a.measurementSystem === o.a.MeasurementSystems.METRIC && (t *= 5 / 9),
                        this.getLowerRangeWithMinRange(t)
                    },
                    expandedMax: function() {
                        var t = 30;
                        return o.a.measurementSystem === o.a.MeasurementSystems.METRIC && (t *= 5 / 9),
                        this.getUpperRangeWithMinRange(t)
                    },
                    threshold: -9999
                },
                LeftRightPowerBalance: {
                    name: "LeftRightPowerBalance",
                    seriesKey: "directRightBalance",
                    label: "label_left_right_balance",
                    unit_key: "",
                    defaultChartType: "scatter",
                    expandedMin: 0,
                    expandedMax: 100,
                    mainChartFilter: c.a.prototype.filterNulls,
                    yAxisFormattingFunction: function(t, e) {
                        return t < 50 ? r.a.localize("power_balance_right_format", 100 - t) : t > 50 ? r.a.localize("power_balance_left_format", t) : "50/50"
                    },
                    conversionFunction: function(t) {
                        return 100 - t
                    },
                    formatToolTipRow: function(t, e, i, a, n, s, l) {
                        var c = i
                          , h = 100 - c;
                        return r.a.localize(o.a.getPowerBalanceUnitKey(), c, h)
                    }
                },
                PowerWatts: {
                    name: "PowerWatts",
                    seriesKey: "directPower",
                    label: ["label_full_power", "label_power_unit"],
                    avgValueKey: "averagePower",
                    unit_key: o.a.getPowerUnitKey(),
                    defaultChartType: "line",
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 0, !0),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    formattingFunction: n.a.bind(o.a.personalizePower, o.a),
                    chartRangeSelectorType: b.a,
                    workoutTargetTypes: ["POWER", "POWER_3S", "POWER_10S", "POWER_30S", "POWER_LAP"],
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                PowerKg: {
                    name: "PowerKg",
                    seriesKey: "directPower",
                    label: ["label_full_power", "label_power_kg"],
                    avgValueKey: "averagePower",
                    unit_key: "label_power_kg",
                    defaultChartType: "line",
                    expandedMin: 0,
                    conversionFunction: function(t) {
                        return t / this.usersWeight
                    },
                    formattingFunction: n.a.bind(o.a.personalizePowerKg, o.a),
                    chartRangeSelectorType: b.a,
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                LeftPPStart: {
                    name: "LeftPPStart",
                    seriesKey: "directLeftPowerPhaseStart",
                    label: "label_cd_left_power_phase_start",
                    parentLabel: "label_cd_power_phase_start",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    reversed: !0,
                    mainChartFilter: c.a.prototype.filterNulls,
                    yAxisFormattingFunction: function(t) {
                        return 0 == (t = this.formattingFunction(t)) ? "TDC 0" : 180 == t ? "BDC 180" : t
                    },
                    formattingFunction: function(t) {
                        return o.a.personalizePowerPhaseAngle(p.a.rebaseDegrees(t, -90))
                    },
                    conversionFunction: function(t) {
                        return p.a.rebaseDegrees(t, 90)
                    },
                    formatToolTipRow: function(t, e, i, a, n, o, s, l) {
                        return '<span style="color:' + (l || t.getColor(!0)) + '">' + r.a.localize("left") + "</span>: " + this.formattingFunction(i) + a
                    },
                    tickInterval: 45,
                    tickPositions: [0, 45, 90, 135, 180],
                    expandedMin: 0,
                    expandedMax: 180,
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                RightPPStart: {
                    name: "RightPPStart",
                    seriesKey: "directRightPowerPhaseStart",
                    label: "label_cd_right_power_phase_start",
                    parentLabel: "label_cd_power_phase_start",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    reversed: !0,
                    mainChartFilter: c.a.prototype.filterNulls,
                    yAxisFormattingFunction: function(t) {
                        return 0 == (t = this.formattingFunction(t)) ? "TDC 0" : 180 == t ? "BDC 180" : t
                    },
                    formattingFunction: function(t) {
                        return o.a.personalizePowerPhaseAngle(p.a.rebaseDegrees(t, -90))
                    },
                    conversionFunction: function(t) {
                        return p.a.rebaseDegrees(t, 90)
                    },
                    tickInterval: 45,
                    tickPositions: [0, 45, 90, 135, 180],
                    expandedMin: 0,
                    expandedMax: 180,
                    formatToolTipRow: function(t, e, i, a, n, o, s, l) {
                        return '<span style="color:' + (l || t.getColor(!0)) + '">' + r.a.localize("right") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                LeftPeakPPStart: {
                    name: "LeftPeakPPStart",
                    seriesKey: "directLeftPowerPhasePeakStart",
                    label: "label_cd_left_peak_power_phase_start",
                    parentLabel: "label_cd_peak_power_phase_start",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: c.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(t) {
                        return 0 == (t = this.formattingFunction(t)) ? "TDC 0" : 180 == t ? "BDC 180" : t
                    },
                    formattingFunction: function(t) {
                        return o.a.personalizePowerPhaseAngle(t)
                    },
                    tickInterval: 45,
                    tickPositions: [0, 45, 90, 135],
                    expandedMin: 0,
                    expandedMax: 135,
                    formatToolTipRow: function(t, e, i, a, n, o, s, l) {
                        return '<span style="color:' + (l || t.getColor(!0)) + '">' + r.a.localize("left") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                RightPeakPPStart: {
                    name: "RightPeakPPStart",
                    seriesKey: "directRightPowerPhasePeakStart",
                    label: "label_cd_right_peak_power_phase_start",
                    parentLabel: "label_cd_peak_power_phase_start",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: c.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(t) {
                        return 0 == (t = this.formattingFunction(t)) ? "TDC 0" : 180 == t ? "BDC 180" : t
                    },
                    formattingFunction: function(t) {
                        return o.a.personalizePowerPhaseAngle(t)
                    },
                    tickInterval: 45,
                    tickPositions: [0, 45, 90, 135],
                    expandedMin: 0,
                    expandedMax: 135,
                    formatToolTipRow: function(t, e, i, a, n, o, s, l) {
                        return '<span style="color:' + (l || t.getColor(!0)) + '">' + r.a.localize("right") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                LeftPPEnd: {
                    name: "LeftPPEnd",
                    seriesKey: "directLeftPowerPhaseEnd",
                    label: "label_cd_left_power_phase_end",
                    parentLabel: "label_cd_power_phase_end",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: c.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(t) {
                        return 0 == (t = this.formattingFunction(t)) ? "TDC 0" : 180 == t ? "BDC 180" : t
                    },
                    formattingFunction: function(t) {
                        return o.a.personalizePowerPhaseAngle(p.a.rebaseDegrees(t, 90))
                    },
                    conversionFunction: function(t) {
                        return p.a.rebaseDegrees(t, -90)
                    },
                    tickInterval: 45,
                    tickPositions: [45, 90, 135, 180, 225],
                    expandedMin: 45,
                    expandedMax: 225,
                    formatToolTipRow: function(t, e, i, a, n, o, s, l) {
                        return '<span style="color:' + (l || t.getColor(!0)) + '">' + r.a.localize("left") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                RightPPEnd: {
                    name: "RightPPEnd",
                    seriesKey: "directRightPowerPhaseEnd",
                    label: "label_cd_right_power_phase_end",
                    parentLabel: "label_cd_power_phase_end",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: c.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(t) {
                        return 0 == (t = this.formattingFunction(t)) ? "TDC 0" : 180 == t ? "BDC 180" : t
                    },
                    formattingFunction: function(t) {
                        return o.a.personalizePowerPhaseAngle(p.a.rebaseDegrees(t, 90))
                    },
                    conversionFunction: function(t) {
                        return p.a.rebaseDegrees(t, -90)
                    },
                    tickInterval: 45,
                    tickPositions: [45, 90, 135, 180, 225],
                    expandedMin: 45,
                    expandedMax: 225,
                    formatToolTipRow: function(t, e, i, a, n, o, s, l) {
                        return '<span style="color:' + (l || t.getColor(!0)) + '">' + r.a.localize("right") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                LeftPeakPPEnd: {
                    name: "LeftPeakPPEnd",
                    seriesKey: "directLeftPowerPhasePeakEnd",
                    label: "label_cd_left_peak_power_phase_end",
                    parentLabel: "label_cd_peak_power_phase_end",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: c.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(t) {
                        return 0 == (t = this.formattingFunction(t)) ? "TDC 0" : 180 == t ? "BDC 180" : t
                    },
                    formattingFunction: function(t) {
                        return o.a.personalizePowerPhaseAngle(t)
                    },
                    tickInterval: 45,
                    tickPositions: [45, 90, 135, 180],
                    expandedMin: 45,
                    expandedMax: 180,
                    formatToolTipRow: function(t, e, i, a, n, o, s, l) {
                        return '<span style="color:' + (l || t.getColor(!0)) + '">' + r.a.localize("left") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                RightPeakPPEnd: {
                    name: "RightPeakPPEnd",
                    seriesKey: "directRightPowerPhasePeakEnd",
                    label: "label_cd_right_peak_power_phase_end",
                    parentLabel: "label_cd_peak_power_phase_end",
                    helpTooltip: "help.cycling.dynamics.tdc.bdc.description",
                    unit_key: "degree_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 2,
                    mainChartFilter: c.a.prototype.filterNulls,
                    reversed: !0,
                    yAxisFormattingFunction: function(t) {
                        return 0 == (t = this.formattingFunction(t)) ? "TDC 0" : 180 == t ? "BDC 180" : t
                    },
                    formattingFunction: function(t) {
                        return o.a.personalizePowerPhaseAngle(t)
                    },
                    tickInterval: 45,
                    tickPositions: [45, 90, 135, 180],
                    expandedMin: 45,
                    expandedMax: 180,
                    formatToolTipRow: function(t, e, i, a, n, o, s, l) {
                        return '<span style="color:' + (l || t.getColor(!0)) + '">' + r.a.localize("right") + "</span>: " + this.formattingFunction(i) + a
                    },
                    shouldBeVisible: function() {
                        return !1
                    }
                },
                LeftPCO: {
                    name: "LeftPCO",
                    seriesKey: "directLeftPlatformCenterOffset",
                    label: "label_cd_left_pedal_center_offset",
                    avgValueKey: "leftPlatformCenterOffset",
                    unit_key: "platform_center_offset_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 1,
                    primaryChartMin: -30,
                    primaryChartMax: 30,
                    expandedMin: -30,
                    expandedMax: 30,
                    tickInterval: 15,
                    mainChartFilter: c.a.prototype.filterBadPCOs,
                    formattingFunction: n.a.bind(o.a.personalizePlatformCenterOffset, o.a),
                    plotLines: [{
                        color: "#888888",
                        width: 2,
                        value: 0
                    }]
                },
                RightPCO: {
                    name: "RightPCO",
                    seriesKey: "directRightPlatformCenterOffset",
                    label: "label_cd_right_pedal_center_offset",
                    avgValueKey: "rightPlatformCenterOffset",
                    unit_key: "platform_center_offset_unit",
                    defaultChartType: "scatter",
                    scatterLineRadius: 1,
                    primaryChartMin: -30,
                    primaryChartMax: 30,
                    expandedMin: -30,
                    expandedMax: 30,
                    tickInterval: 15,
                    mainChartFilter: c.a.prototype.filterBadPCOs,
                    conversionFunction: function(t) {
                        return -t
                    },
                    formattingFunction: function(t) {
                        return o.a.personalizePlatformCenterOffset(-t)
                    },
                    plotLines: [{
                        color: "#888888",
                        width: 2,
                        value: 0
                    }]
                },
                SwimPace: {
                    name: "SwimPace",
                    seriesKey: "weightedMeanSpeed",
                    label: "label_swim_pace",
                    unit_key: function(t) {
                        return o.a.getSwimPaceUnitKey(t)
                    },
                    defaultChartType: "line",
                    conversionFunction: function(t, e) {
                        var i = this.activitySummary.get("unitOfPoolLength").unitKey
                          , a = o.a.poolUnitKeyToMeasurementSystem(i);
                        return o.a.convertFractionalSwimPace(t, a)
                    },
                    formattingFunction: function(t) {
                        var e = this.activitySummary.get("unitOfPoolLength").unitKey
                          , i = o.a.poolUnitKeyToMeasurementSystem(e);
                        return t >= 60 ? "--" : o.a.formatPace(t, i)
                    },
                    mainChartFilter: c.a.prototype.filterRestsIfXAxisIsDistance,
                    avgValueKey: "averageSpeed",
                    expandedMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    expandedMax: function() {
                        return c.a.prototype.calculateMax.call(this, 60) + 1
                    },
                    reversed: !0
                },
                SwimSpeed: {
                    name: "SwimSpeed",
                    seriesKey: "weightedMeanSpeed",
                    label: "label_speed",
                    unit_key: function(t) {
                        return o.a.getSwimSpeedUnitKey(t)
                    },
                    defaultChartType: "line",
                    conversionFunction: function(t, e) {
                        return o.a.convertSwimSpeed(t, e)
                    },
                    formattingFunction: function(t) {
                        var e = this.activitySummary.get("unitOfPoolLength").unitKey
                          , i = o.a.poolUnitKeyToMeasurementSystem(e);
                        return o.a.formatSpeed(t, i)
                    },
                    mainChartFilter: c.a.prototype.filterRestsIfXAxisIsDistance
                },
                SwimStrokes: {
                    name: "SwimStrokes",
                    seriesKey: "sumStrokes",
                    label: "label_strokes",
                    unit_key: o.a.getStrokesUnitKey(),
                    defaultChartType: "line",
                    expandedMin: 0,
                    mainChartFilter: c.a.prototype.filterRestsIfXAxisIsDistance
                },
                SwimSwolf: {
                    name: "SwimSwolf",
                    seriesKey: "weightedMeanSwolf",
                    label: "label_swolf",
                    unit_key: "label_swolf",
                    defaultChartType: "line",
                    expandedMin: 0,
                    mainChartFilter: c.a.prototype.filterRestsIfXAxisIsDistance
                },
                SwimLengths: {
                    name: "SwimLengths",
                    seriesKey: "sumDuration",
                    label: "label_swim_lengths",
                    unit_key: null,
                    defaultChartType: "column",
                    formattingFunction: n.a.bind(o.a.personalizeDuration, o.a)
                },
                StrideLength: {
                    name: "StrideLength",
                    seriesKey: "directStrideLength",
                    label: "label_stride_length",
                    unit_key: o.a.getAvgStrideLengthUnitKey(),
                    defaultChartType: "scatter",
                    mainChartFilter: c.a.prototype.filterNulls,
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 2, !0),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 0, !0),
                    expandedMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    avgValueKey: "strideLength",
                    formattingFunction: n.a.bind(o.a.formatStrideLength, o.a),
                    conversionFunction: n.a.bind(o.a.convertStrideLength, o.a)
                },
                StrokeRate: {
                    name: "StrokeRate",
                    seriesKey: "directStrokeCadence",
                    label: "label_chart_stroke_rate",
                    unit_key: "rowing_cadence_unit",
                    formattingFunction: n.a.bind(o.a.formatWholeNumber, o.a),
                    expandedMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    defaultChartType: "line",
                    avgValueKey: "averageStrokeCadence"
                },
                DistancePerStroke: {
                    name: "DistancePerStroke",
                    seriesKey: "directStrokeDistance",
                    label: "label_stroke_distance",
                    mainChartFilter: c.a.prototype.filterNulls,
                    expandedMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    unit_key: function() {
                        return "rowing" !== w(this) ? o.a.getDistancePerStrokeUnitKey() : "distance.meter"
                    },
                    formattingFunction: n.a.bind(o.a.formatDistancePerStroke, o.a),
                    conversionFunction: function(t, e) {
                        return "rowing" !== w(this) ? o.a.convertDistancePerStroke(t) : t
                    },
                    yAxisFormattingFunction: function(t, e) {
                        return e !== o.a.MeasurementSystems.METRIC && (t = o.a.convertDistancePerStroke(t)),
                        o.a.formatDistancePerStroke(t)
                    },
                    defaultChartType: "scatter",
                    avgValueKey: "averageStrokeDistance"
                },
                Position: {
                    name: "Position",
                    seriesKey: "directTimestamp",
                    label: "label_position",
                    unit_key: "",
                    defaultChartType: "line",
                    hasData: function() {
                        var t = h.a.EventSectionTypeKeys.RIDER_POSITION
                          , e = this.activitySplits.getEventDataBySectionTypeKey(t);
                        return e && e.length > 0
                    },
                    buildData: function(t, e) {
                        var i, a, n = 0, r = this.data.length, s = h.a.EventSectionTypeKeys.RIDER_POSITION, l = this.activitySplits.getEventDataBySectionTypeKey(s), c = [];
                        if (l)
                            for (var p = 0, d = l.length; p < d; p++)
                                for (i = l[p].riderPosition,
                                a = p === d - 1 ? this.data[r - 1][1] : l[p + 1].startTimeGMTDoubleValue,
                                n = c.length; n < r && this.data[n][1] <= a; n++)
                                    this.xAxisType === v.a.Distance && (this.data[n][0] = o.a.convertDistance(this.data[n][0], this.activitySummary.getActivityTypeKey())),
                                    c[n] = 0 === p && 1 === i ? [this.data[n][0], 0] : [this.data[n][0], i];
                        return c
                    },
                    getClosestPoint: function(t) {
                        for (var e = this.data, i = e.length, a = 0; a < i && !(e[a][0] >= t); a++)
                            ;
                        var n = Math.min(e.length - 1, a);
                        if (n > 0 && e[n][0] != t) {
                            var r = Math.abs(e[n][0] - t)
                              , o = Math.abs(e[n - 1][0] - t);
                            Math.abs(o - r) <= 1e-5 && n--
                        }
                        return this.data[n]
                    },
                    formatToolTipRow: function(t, e, i, a, n, o, s, l) {
                        return null !== i ? "<span>" + r.a.localize(0 === i ? "label_sitting" : "label_standing") + "</span>" : ""
                    }
                },
                PerformanceCondition: {
                    name: "PerformanceCondition",
                    seriesKey: "directPerformanceCondition",
                    label: "label_performance_condition",
                    defaultChartType: "area",
                    helpKey: "directPerformanceCondition",
                    primaryChartMin: c.a.prototype.getExtremeMin,
                    primaryChartMax: c.a.prototype.getExtremeMax,
                    expandedMin: c.a.prototype.getExtremeMin,
                    expandedMax: c.a.prototype.getExtremeMax,
                    formatToolTipRow: function(t, e, i, a, r, o, s) {
                        return n.a.isNumber(i) ? '<span style="min-width: 64px;">&nbsp;&nbsp;' + (i > 0 ? "+" + i : i) + "&nbsp;&nbsp;</span>" : i
                    }
                },
                Ascent: {
                    name: "Ascent",
                    seriesKey: "directElevation",
                    label: "label_ascent",
                    defaultChartType: "line",
                    conversionFunction: n.a.bind(o.a.convertElevation, o.a),
                    formatToolTipRow: function(t, e, i, a, n, r, o, s) {
                        return this.formattingFunction(i) + " " + a
                    },
                    buildData: function(t, e) {
                        for (var i, a, n, r = [], s = 0, l = this.data.length; s < l; s++)
                            this.data[s] && (n = this.data[0][1],
                            i = this.data[s][0],
                            this.xAxisType === v.a.Distance && (i = o.a.convertDistance(i, this.activitySummary.getActivityTypeKey())),
                            a = this.data[s][1] - n,
                            r[s] = {
                                x: i,
                                y: null === a ? null : this.conversionFunction(a, this.measurementSystem()),
                                color: t.call(this, a)
                            });
                        return r
                    },
                    formattingFunction: n.a.bind(o.a.formatElevation, o.a),
                    unit_key: o.a.getElevationUnitKey(),
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 2),
                    expandedMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 2)
                },
                FloorClimbingPace: {
                    name: "FloorClimbingPace",
                    seriesKey: "directVerticalSpeed",
                    label: "label_pace",
                    unit_key: function() {
                        return o.a.getPaceUnitKey(w(this))
                    },
                    defaultChartType: "line",
                    buildData: function(t, e) {
                        for (var i, a, n = [], r = this.data.length; r--; )
                            this.data[r][1] < 0 && this.data.splice(r, 1);
                        var s = 0;
                        for (r = this.data.length; s < r; s++)
                            this.data[s] && (i = this.data[s][0],
                            this.xAxisType === v.a.Distance && (i = o.a.convertDistance(i, this.activitySummary.getActivityTypeKey())),
                            a = this.data[s][1],
                            n[s] = {
                                x: i,
                                y: null === a ? null : this.conversionFunction(a, this.measurementSystem()),
                                color: t.call(this, a)
                            });
                        return n
                    },
                    conversionFunction: n.a.bind(o.a.personalizeFloorClimbingPace, o.a),
                    avgValueKey: "avgVerticalSpeed",
                    primaryChartMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    expandedMin: n.a.partial(c.a.prototype.getLowerRange, 0),
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0)
                },
                TankPressure: {
                    name: "TankPressure",
                    seriesKey: "tankPressure",
                    label: "label_tank_pressure",
                    getLabel: function() {
                        return this.props.tankSensor.name
                    },
                    formattingFunction: n.a.bind(o.a.personalizePressure, o.a),
                    unit_key: function() {
                        var t = this.props.tankSensor;
                        return o.a.personalizePressureUnitKey({
                            unitKey: t.pressureUnit
                        })
                    },
                    defaultChartType: "line",
                    getData: function() {
                        return this.props.tankSensor.records.map(function(t, e) {
                            return [e, t[1]]
                        })
                    },
                    hasData: function() {
                        return !!this.props.tankSensor.records.length
                    },
                    getAvgValue: function(t) {
                        var e = this.props.tankSensor;
                        if (!(e.records.length < 1))
                            return e.records.reduce(function(t, e) {
                                return [0, t[1] + e[1]]
                            })[1] / e.records.length
                    },
                    hasAvgValue: function() {
                        return !0
                    },
                    getUniqueName: function() {
                        var t = this.props.tankSensor;
                        return "".concat(this.getName()).concat(t.name)
                    }
                },
                DiveDepth: {
                    name: "DiveDepth",
                    seriesKey: "directDepth",
                    label: "label_depth_profile",
                    conversionFunction: n.a.bind(o.a.convertMetersFt, o.a),
                    formattingFunction: n.a.bind(o.a.formatMetersFt, o.a),
                    unit_key: o.a.getDepthUnitKey(),
                    defaultChartType: "line",
                    reversed: !0,
                    threshold: 9999,
                    avgValueKey: "averageDepth",
                    primaryChartMin: 0,
                    primaryChartMax: function() {
                        return this.getUpperRange()
                    }
                },
                DecoCeiling: {
                    name: "DecoCeiling",
                    seriesKey: "directNextStopDepth",
                    label: "label_depth_profile",
                    conversionFunction: n.a.bind(o.a.convertMetersFt, o.a),
                    formattingFunction: n.a.bind(o.a.formatMetersFt, o.a),
                    unit_key: o.a.getDepthUnitKey(),
                    defaultChartType: "line",
                    reversed: !0,
                    threshold: 0
                },
                SetPointDepth: {
                    name: "SetPointDepth",
                    seriesKey: "directDepth",
                    label: "label_depth_profile",
                    conversionFunction: n.a.bind(o.a.convertMetersFt, o.a),
                    formattingFunction: n.a.bind(o.a.formatMetersFt, o.a),
                    unit_key: o.a.getDepthUnitKey(),
                    defaultChartType: "scatter",
                    threshold: 9999,
                    buildData: function() {
                        for (var t, e, i = [], a = this.activitySplits.getEventDataBySectionTypeKey("DIVE_ALERT"), n = u.a.chartData(this.activitySummary, this.data, a), s = 0, l = n.length; s < l; s++)
                            n[s].x && (t = n[s].x,
                            this.xAxisType === v.a.Distance && (t = o.a.convertDistance(t, this.activitySummary.getActivityTypeKey())),
                            e = n[s].y,
                            name = r.a.localize(u.a.SetPointLabels[n[s].name]),
                            i.push({
                                x: t,
                                y: null === e ? null : this.conversionFunction(e, this.measurementSystem()),
                                color: y.a.Colors.p02Green,
                                pointName: name
                            }));
                        return i
                    },
                    formatToolTipRow: function(t, e, i, a, n, r, o, s) {
                        this.activitySplits.getEventDataBySectionTypeKey("DIVE_ALERT");
                        for (var l = 0, c = this.data.length; l < c; l++)
                            if (s.x === this.data[l].x)
                                return this.data[l].pointName
                    }
                },
                VectorAirDragCdA: {
                    name: "VectorAirDragCdA",
                    seriesKey: "directCda",
                    label: "label_vector_air_drag_cda",
                    helpKey: "vectorAirDragCdA",
                    unit_key: "cda_unit",
                    shouldBeVisible: function() {
                        return !1
                    },
                    formattingFunction: n.a.bind(o.a.formatVectorAirCdA, o.a),
                    helpKeyAdditionalData: function() {
                        return y.a.getVectorAirCdAColorRange()
                    }
                },
                VectorAirDragWattsPerCdA: {
                    name: "VectorAirDragWattsPerCdA",
                    helpKey: "vectorAirDragWattsPerCdA",
                    seriesKey: "directWattsPerCda",
                    label: "label_vector_air_drag_watts_cda",
                    unit_key: "wcda_unit",
                    shouldBeVisible: function() {
                        return !1
                    },
                    formattingFunction: n.a.bind(o.a.formatWholeNumber, o.a),
                    helpKeyAdditionalData: function() {
                        return y.a.getVectorAirWattsPerCdAColorRange()
                    }
                },
                VectorAirWindSpeed: {
                    name: "VectorAirWindSpeed",
                    seriesKey: "directAirSpeed",
                    unit_key: "speed_unit_statute",
                    label: "label_vector_air_wind_speed",
                    buildSecondSeriesData: function() {
                        for (var t = [], e = 0, i = 0, a = this.activityDetails.getData("directWindYawAngle", this.getXAxisKey()), n = 0, r = a.length; n < r; n += 1)
                            a[n] && (e = a[n][1],
                            i = C.getDegreeFromRadian(e),
                            t.push({
                                x: a[n][0],
                                value: this.data[0].y,
                                direction: i
                            }));
                        return t
                    },
                    formattingFunction: n.a.bind(o.a.formatSpeed, o.a)
                },
                Grit: {
                    name: "Grit",
                    seriesKey: "directGrit",
                    label: "label_grit",
                    helpKey: "directGrit",
                    unit_key: null,
                    defaultChartType: "spline",
                    isGradient: !0,
                    gradientRangeMaxes: [{
                        max: d.a.GritColorRanges.max_1,
                        color: d.a.GritColorRanges.color_1
                    }, {
                        max: d.a.GritColorRanges.max_2,
                        color: d.a.GritColorRanges.color_2
                    }, {
                        max: d.a.GritColorRanges.max_3,
                        color: d.a.GritColorRanges.color_3
                    }],
                    formattingFunction: n.a.bind(o.a.peronalizeMTBGrit, o.a),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    expandedMin: 0
                },
                Flow: {
                    name: "Flow",
                    seriesKey: "directFlow",
                    label: "label_flow",
                    helpKey: "directFlow",
                    unit_key: null,
                    defaultChartType: "spline",
                    isGradient: !0,
                    gradientRangeMaxes: [{
                        max: d.a.FlowColorRanges.max_1,
                        color: d.a.FlowColorRanges.color_1
                    }, {
                        max: d.a.FlowColorRanges.max_2,
                        color: d.a.FlowColorRanges.color_2
                    }, {
                        max: d.a.FlowColorRanges.max_3,
                        color: d.a.FlowColorRanges.color_3
                    }],
                    formattingFunction: n.a.bind(o.a.peronalizeMTBFlow, o.a),
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0),
                    expandedMin: 0
                },
                RespirationRate: {
                    name: "RespirationRate",
                    seriesKey: "directRespirationRate",
                    label: "label_respiration_rate",
                    unit_key: "label_respiration_rate_unit",
                    helpKey: "directRespirationRate",
                    defaultChartType: "line",
                    formattingFunction: n.a.bind(o.a.formatWholeNumber, o.a),
                    avgValueKey: "avgRespirationRate",
                    primaryChartMin: 0,
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0, !0),
                    tickInterval: 4
                },
                Stress: {
                    name: "Stress",
                    seriesKey: "directCurrentStress",
                    label: "label_stress",
                    defaultChartType: "column",
                    formattingFunction: n.a.bind(o.a.personalizeStress, o.a),
                    primaryChartMin: 0,
                    primaryChartMax: n.a.partial(c.a.prototype.getUpperRange, 0, !0),
                    expandedMin: 0,
                    expandedMax: n.a.partial(c.a.prototype.getUpperRange, 0, !0),
                    tickInterval: 25,
                    formatToolTipRow: function(t, e, i, a, n, r, o, s) {
                        return "".concat(i, " (").concat(Object(A.f)(i), ")")
                    }
                }
            };
            for (var S in x)
                if (x.hasOwnProperty(S)) {
                    var T = x[S];
                    x[S] = c.a.extend(T)
                }
            e.a = x
        }
        ).call(this, i(10))
    },
    1261: function(t, e, i) {
        var a, n;
        n = function(t) {
            !function(t) {
                var e, i = t.pInt, a = t.pick, n = t.each, r = t.isNumber;
                (0,
                t.wrap)(t.Renderer.prototype.symbols, "arc", function(t, e, i, a, n, r) {
                    return t = t(e, i, a, n, r),
                    r.rounded && (r = ["A", a = ((r.r || a) - r.innerR) / 2, a, 0, 1, 1, t[12], t[13]],
                    t.splice.apply(t, [t.length - 1, 0].concat(["A", a, a, 0, 1, 1, t[1], t[2]])),
                    t.splice.apply(t, [11, 3].concat(r))),
                    t
                }),
                e = {
                    initDataClasses: function(e) {
                        var i, a = this.chart, r = 0, o = this.options;
                        this.dataClasses = i = [],
                        n(e.dataClasses, function(n, s) {
                            n = t.merge(n),
                            i.push(n),
                            n.color || ("category" === o.dataClassColor ? (s = a.options.colors,
                            n.color = s[r++],
                            r === s.length && (r = 0)) : n.color = t.color(o.minColor).tweenTo(t.color(o.maxColor), s / (e.dataClasses.length - 1)))
                        })
                    },
                    initStops: function(e) {
                        this.stops = e.stops || [[0, this.options.minColor], [1, this.options.maxColor]],
                        n(this.stops, function(e) {
                            e.color = t.color(e[1])
                        })
                    },
                    toColor: function(t, e) {
                        var i, a, n, r, o = this.stops, s = this.dataClasses;
                        if (s) {
                            for (r = s.length; r--; )
                                if (i = (n = s[r]).from,
                                o = n.to,
                                (void 0 === i || t >= i) && (void 0 === o || t <= o)) {
                                    a = n.color,
                                    e && (e.dataClass = r);
                                    break
                                }
                        } else {
                            for (this.isLog && (t = this.val2lin(t)),
                            t = 1 - (this.max - t) / (this.max - this.min),
                            r = o.length; r-- && !(t > o[r][0]); )
                                ;
                            i = o[r] || o[r + 1],
                            t = 1 - ((o = o[r + 1] || i)[0] - t) / (o[0] - i[0] || 1),
                            a = i.color.tweenTo(o.color, t)
                        }
                        return a
                    }
                },
                t.seriesType("solidgauge", "gauge", {
                    colorByPoint: !0
                }, {
                    translate: function() {
                        var i = this.yAxis;
                        t.extend(i, e),
                        !i.dataClasses && i.options.dataClasses && i.initDataClasses(i.options),
                        i.initStops(i.options),
                        t.seriesTypes.gauge.prototype.translate.call(this)
                    },
                    drawPoints: function() {
                        var e, o = this, s = o.yAxis, l = s.center, c = o.options, h = o.chart.renderer, p = c.overshoot, d = r(p) ? p / 180 * Math.PI : 0;
                        r(c.threshold) && (e = s.startAngleRad + s.translate(c.threshold, null, null, null, !0)),
                        this.thresholdAngleRad = a(e, s.startAngleRad),
                        n(o.points, function(e) {
                            var n = e.graphic
                              , r = s.startAngleRad + s.translate(e.y, null, null, null, !0)
                              , p = i(a(e.options.radius, c.radius, 100)) * l[2] / 200
                              , u = i(a(e.options.innerRadius, c.innerRadius, 60)) * l[2] / 200
                              , m = s.toColor(e.y, e)
                              , f = Math.min(s.startAngleRad, s.endAngleRad)
                              , g = Math.max(s.startAngleRad, s.endAngleRad);
                            "none" === m && (m = e.color || o.color || "none"),
                            "none" !== m && (e.color = m),
                            r = Math.max(f - d, Math.min(g + d, r)),
                            !1 === c.wrap && (r = Math.max(f, Math.min(g, r))),
                            f = Math.min(r, o.thresholdAngleRad),
                            (r = Math.max(r, o.thresholdAngleRad)) - f > 2 * Math.PI && (r = f + 2 * Math.PI),
                            e.shapeArgs = u = {
                                x: l[0],
                                y: l[1],
                                r: p,
                                innerR: u,
                                start: f,
                                end: r,
                                rounded: c.rounded
                            },
                            e.startR = p,
                            n ? (p = u.d,
                            n.animate(t.extend({
                                fill: m
                            }, u)),
                            p && (u.d = p)) : (e.graphic = n = h.arc(u).attr({
                                fill: m,
                                "sweep-flag": 0
                            }).add(o.group),
                            "square" !== c.linecap && n.attr({
                                "stroke-linecap": "round",
                                "stroke-linejoin": "round"
                            }),
                            n.attr({
                                stroke: c.borderColor || "none",
                                "stroke-width": c.borderWidth || 0
                            })),
                            n && n.addClass(e.getClassName(), !0)
                        })
                    },
                    animate: function(e) {
                        e || (this.startAngleRad = this.thresholdAngleRad,
                        t.seriesTypes.pie.prototype.animate.call(this, e))
                    }
                })
            }(t)
        }
        ,
        "object" === typeof t && t.exports ? t.exports = n : void 0 === (a = function() {
            return n
        }
        .call(e, i, e, t)) || (t.exports = a)
    },
    1265: function(t, e, i) {
        "use strict";
        t.exports = i(1325)
    },
    1267: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(13)
              , c = i(1287)
              , h = i(1471)
              , p = i(1470)
              , d = i(1243)
              , u = i(1397)
              , m = i(2279)
              , f = i(2280)
              , g = i.n(f)
              , y = i(1245)
              , v = i.n(y)
              , b = i(2281)
              , A = i.n(b)
              , _ = i(1845);
            v.a.Annotation || A()(v.a);
            var C = 0
              , w = {
                ON_CHART_ZOOMED: "ON_CHART_ZOOMED",
                ON_CHART_RENDERED: "ON_CHART_RENDERED",
                ON_ZOOM_RESET: "ON_ZOOM_RESET",
                ON_EXPANDED_CHART_CLICKED: "ON_EXPANDED_CHART_CLICKED",
                ON_CHART_FOCUSED: "ON_CHART_FOCUSED",
                ON_RANGE_SELECTED: "ON_RANGE_SELECTED",
                ON_CHART_SELECTOR_TOGGLE: "ON_CHART_SELECTOR_TOGGLE"
            }
              , x = o.a.View.extend({
                template: n.a.template(g.a),
                events: {
                    mousemove: "onMouseMoved",
                    mouseenter: "onMouseEnter",
                    "click .chart-zoom-toggle": "onZoomChartClicked",
                    'click .help-icon[data-toggle="modal"]': "onShowHelpClicked"
                },
                seriesType: "areaspline",
                conversionFunction: null,
                formattingFunction: null,
                fillColor: "ffffff",
                lineWidth: 0,
                fillOpacity: .85,
                reversed: !1,
                removeLowOutliers: !1,
                removeHighOutliers: !1,
                stdDeviations: 2,
                threshold: 9999,
                step: !1,
                zeroThreshold: !1,
                spacingBottom: 8,
                measurementSystem: function() {
                    return l.a.measurementSystem
                },
                chartTitle: function(t) {
                    return "Untitled"
                },
                canExpandChart: function() {
                    return !0
                },
                yLabel: function() {
                    return 0 == this.primarySeries.length ? "" : this.getPrimarySeriesLabel()
                },
                yUnit: function(t) {
                    return t.unit_key ? s.a.localize(n.a.result(t, "unit_key")) : ""
                },
                initialize: function(t) {
                    this.primarySeries = t.primarySeries || [],
                    this.backgroundSeries = t.backgroundSeries || null,
                    this.xAxisType = t.xAxisType,
                    this.plotLineId = C++,
                    this.showXAxisPlotLineLabel = t.showXAxisPlotLineLabel,
                    this.activityDetails = t.activityDetails,
                    this.activitySplits = t.activitySplits,
                    this.activitySummary = t.activitySummary,
                    this.jumps = t.jumps,
                    this.turboThreshold = t.turboThreshold ? t.turboThreshold : 4e3,
                    this.visible = !0,
                    this.redrawOnNextShow = !1,
                    this.overlayData = t.overlayData,
                    this.displayAvgLabel = "undefined" === typeof t.displayAvgLabel || t.displayAvgLabel,
                    v.a.setOptions({
                        global: {
                            useUTC: !1
                        }
                    }),
                    this.playerModel = t.playerModel,
                    n.a.each(this.primarySeries, function(t) {
                        t.chartColorMapperObject = d.a,
                        t.generateData(void 0, !0)
                    }, this),
                    this.initializeView && this.initializeView.call(this),
                    this.rendered = !1
                },
                initializeView: function() {
                    return this
                },
                shouldBeVisible: function() {
                    var t = !1;
                    return n.a.each(this.primarySeries, function(e) {
                        e.shouldBeVisible() && (t = !0)
                    }),
                    t
                },
                setXAxisType: function(t) {
                    t != this.xAxisType && (this.xAxisType = t,
                    n.a.each(this.primarySeries, function(e) {
                        e.setXAxisType(t),
                        e.generateData(void 0, !0)
                    }, this),
                    this.chartRangeSelector && (this.chartRangeSelector.xAxisType = this.xAxisType))
                },
                xAxisLabelFormatter: function(t) {
                    switch (t.xAxisType) {
                    case x.XAxisTypes.Distance:
                        return l.a.formatDistance(this.value, t.activitySummary.getActivityTypeKey());
                    case x.XAxisTypes.SwimDistance:
                        return l.a.personalizeDistance(this.value, t.activitySummary.getActivityTypeKey(), t.activitySummary.get("unitOfPoolLength"));
                    case x.XAxisTypes.SwimLengths:
                        return l.a.formatWholeNumber(this.value + 1);
                    default:
                        return l.a.personalizeDuration(this.value)
                    }
                },
                formatXAxisPlotLineLabel: function(t, dist) {                                   // TX !!! black tooltip label with the Time or Distance
                    dist = s.a.localize("chart_x_plotline_distance_label",                                                 // TX GCOverrides
                                        l.a.formatDistance(dist, this.activitySummary.getActivityTypeKey()),               // TX GCOverrides
                                        s.a.localize(l.a.getDistanceUnitKey(this.activitySummary.getActivityTypeKey())));  // TX GCOverrides
                    switch (this.xAxisType) {                    
                    case x.XAxisTypes.Distance: return dist;                                    // TX GCOverrides
                    case x.XAxisTypes.Duration:
                    case x.XAxisTypes.SwimDuration:
                        return l.a.personalizeDuration(t) + " / " + dist;                       // TX GCOverrides
                    case x.XAxisTypes.SwimLengths:
                        return l.a.formatWholeNumber(t + 1);
                    case x.XAxisTypes.SwimDistance:
                        return l.a.formatDistance(t, "swimming");
                    default:
                        return t
                    }
                },
                formatAvgPlotLineLabel: function(t) {
                    var e = t.formattingFunction || n.a.identity;
                    return s.a.localize("chart_plotline_label", e.call(t, t.getAvgValue()), this.yUnit(t))
                },
                xAxisUnit: function(t) {
                    return t.xAxisType == c.a.Distance ? s.a.localize(l.a.getDistanceUnitKey(this.activitySummary.getActivityTypeKey())) : ""
                },
                yAxisLabelFormatter: function(t) {
                    return t.primarySeries[0].yAxisFormattingFunction ? '<p class="y-axis-label">' + t.primarySeries[0].yAxisFormattingFunction(this.value, t.measurementSystem()) + "</p>" : '<p class="y-axis-label">' + t.primarySeries[0].formattingFunction(this.value, t.measurementSystem()) + "</p>"
                },
                tooltipFormatter: function(t) {
                    var e = this.point || this.points[0];
                    if (e && t) {
                        if (t.hasNullValue(e))
                            return !1;
                        var i = e.x;
                        return (t.highChartObj && t.highChartObj.tooltip.shared && t.highChartObj.series.length > 1 ? t.tooltipFormatterForMultipleSeries(t, i) : t.tooltipFormatterForSingleSeries(t, i, e)).join("<br/>")
                    }
                },
                tooltipFormatterForMultipleSeries: function(t, e) {
                    var i = []
                      , a = t.primarySeries[0]
                      , n = a.getClosestPoint(e)
                      , r = t.yLabel()
                      , o = t.yUnit(a)
                      , h = n.data.y
                      , p = ""
                      , d = ""
                      , u = "";
                    function m(e) {
                        t.xAxisType === c.a.Distance ? (p = s.a.localize("distance"),
                        d = s.a.localize(l.a.getDistanceUnitKey(null, null)),
                        u = l.a.personalizeDistance(e)) : (p = s.a.localize("label_time"),
                        d = s.a.localize(l.a.getDurationUnitKey()),
                        u = l.a.personalizeDuration(e))
                    }
                    function f(t, e) {
                        r = s.a.localize(t.name),
                        h = t.userOptions.yValueKey ? e[t.userOptions.yValueKey] : e && null !== e.y && void 0 !== e.y ? e.y : e && e.value ? e.value : 0,
                        t.userOptions.valueSuffix ? o = t.userOptions.valueSuffix : t.userOptions.valueUnit && (o = "function" === typeof t.userOptions.valueUnit ? t.userOptions.valueUnit(h) : t.userOptions.valueUnit),
                        t.userOptions.valueFormatter && "function" === typeof t.userOptions.valueFormatter && (h = t.userOptions.valueFormatter(h))
                    }
                    m(n.data.x),
                    i.push(r + ": " + a.formatToolTipRow(a, r, h, o, p, u, d));
                    for (var g = 1, y = t.highChartObj.series.length; g < y; g += 1) {
                        var v, b = t.highChartObj.series[g];
                        if (b)
                            f(b, v = t.backgroundSeries && t.backgroundSeries[n.index] ? t.backgroundSeries[n.index] : b.data[n.index]),
                            m(v ? v.x : null),
                            t.primarySeries[0].hasWorkoutData && 0 === h && (h = "--"),
                            b.userOptions.formatToolTipRow && "function" === typeof b.userOptions.formatToolTipRow ? i.push(r + ": " + b.userOptions.formatToolTipRow(a, r, h, o, p, u, d)) : "--" === h ? i.push(r + ": " + h + " " + o) : i.push(r + ": " + a.formatToolTipRow(a, r, h, o, p, u, d))
                    }
                    return i
                },
                tooltipFormatterForSingleSeries: function(t, e, i) {
                    var a = [];
                    return n.a.each(t.primarySeries, function(n) {
                        var r = n.getClosestPoint(e)
                          , o = ""
                          , h = t.yLabel()
                          , p = ""
                          , d = r.data ? r.data.y : ""
                          , u = ""
                          , m = t.yUnit(n);
                        t.xAxisType === c.a.Distance ? (o = s.a.localize("distance"),
                        u = s.a.localize(l.a.getDistanceUnitKey(null, null)),
                        p = l.a.personalizeDistance(r.data.x)) : (o = s.a.localize("label_time"),
                        u = s.a.localize(l.a.getDurationUnitKey()),
                        p = l.a.personalizeDuration(r.data ? r.data.x : "")),
                        a.push(n.formatToolTipRow(n, h, d, m, o, p, u, i))
                    }, this),
                    a
                },
                hasNullValue: function(t) {
                    return !(!t || null !== t.y)
                },
                getChartTitles: function() {
                    return [{
                        chartTitle: this.chartTitle(),
                        seriesColor: this.primarySeries[0].getColor(!0)
                    }]
                },
                render: function() {
                    if (this.primarySeries.length) {
                        if (this.stopListening(),
                        this.$el.html(this.template({
                            Localizer: s.a,
                            chartTitles: this.getChartTitles(),
                            workoutSeriesColor: d.a.Colors.workoutTargetGray,
                            helpKey: this.getHelpKey(),
                            canExpandChart: this.canExpandChart()
                        })),
                        this.customHelpTemplate) {
                            var t = null;
                            "function" === typeof this.customHelpTemplate ? t = this.customHelpTemplate() : this.customHelpTemplate.length > 0 && (t = this.customHelpTemplate),
                            t && this.$(".chart-header-item").append(t)
                        }
                        this.trigger(w.ON_CHART_RENDERED);
                        var e = this.defaultChartOptions();
                        this.primarySeries[0].hasWorkoutData && (e.yAxis.min = this.calculateYAxisMin(),
                        e.yAxis.max = this.calculateYAxisMax(),
                        e.tooltip.shared = !0);
                        var i = this.getChartSelectorType();
                        i && (this.chartRangeSelector = new i({
                            el: this.$(".chart-range-selector"),
                            activityDetails: this.activityDetails,
                            activitySummary: this.activitySummary,
                            xAxisType: this.xAxisType
                        }),
                        this.listenTo(this.chartRangeSelector, u.a.Events.RangeSelected, this.onRangeSelected),
                        this.listenTo(this.chartRangeSelector, u.a.Events.RangeReset, this.onRangeReset),
                        this.chartRangeSelector.render());
                        var a = this.getChartSelector();
                        a && this.canShowChartSelector() && this.renderChartSelector(a),
                        this.highChartObj = new v.a.Chart(e),
                        this.setExtremes(this.minX, this.maxX, !1),
                        this.renderPlotLineLabels(),
                        this.visible || (this.redrawOnNextShow = !0),
                        this.listenTo(this.playerModel, "change:x", this.onPlayerTimeChanged, this),
                        this.listenTo(this.playerModel, "clear", this.onPlayerCleared, this),
                        this.rendered = !0
                    }
                },
                getChartSelectorType: function() {
                    for (var t = 0; t < this.primarySeries.length; t++) {
                        var e = this.primarySeries[t];
                        if (e.chartRangeSelectorType)
                            return e.chartRangeSelectorType
                    }
                    return null
                },
                getChartSelector: function() {
                    for (var t = 0; t < this.primarySeries.length; t++) {
                        var e = this.primarySeries[t];
                        if (e && e.chartSelector)
                            return e.chartSelector
                    }
                },
                canShowChartSelector: function() {
                    for (var t = 0; t < this.primarySeries.length; t++) {
                        var e = this.primarySeries[t];
                        if (e && "function" === typeof e.canShowChartSelector)
                            return e.canShowChartSelector()
                    }
                },
                renderChartSelector: function(t) {
                    this.chartSelector = new t({
                        el: this.$(".chart-selector"),
                        activityDetails: this.activityDetails,
                        activitySummary: this.activitySummary
                    }),
                    this.listenTo(this.chartSelector, m.a.Events.OnChartToggle, this.onChartSelectorToggle),
                    this.chartSelector.render()
                },
                setChartRangeSelector: function(t, e, i, a) {
                    this.chartRangeSelector && this.chartRangeSelector.setChartRangeSelector(t, e, i, a)
                },
                setActiveChartSelector: function(t) {
                    this.chartSelector && "function" === typeof this.chartSelector.setActiveChart && this.chartSelector.setActiveChart(t)
                },
                onRangeSelected: function(t, e, i) {
                    this.xAxisType == c.a.Duration ? this.setExtremes(t, e, !0) : this.setExtremes(l.a.convertDistance(t), l.a.convertDistance(e), !0),
                    this.trigger(w.ON_RANGE_SELECTED, i)
                },
                onRangeReset: function() {
                    this.setExtremes(null, null, !0),
                    this.trigger(w.ON_ZOOM_RESET)
                },
                onChartSelectorToggle: function(t) {
                    this.trigger(w.ON_CHART_SELECTOR_TOGGLE, t)
                },
                renderPlotLineLabels: function() {
                    n.a.each(this.primarySeries, function(t) {
                        this.renderPlotLineLabel(t)
                    }, this)
                },
                renderPlotLineLabel: function(t) {
                    if (t.hasAvgValue() && this.displayAvgLabel && (this.avgText && (this.avgText.destroy(),
                    this.avgRect.destroy(),
                    this.avgText = null,
                    this.avgRect = null),
                    0 != this.highChartObj.yAxis[0].plotLinesAndBands.length && this.highChartObj.yAxis[0].plotLinesAndBands[0].svgElem)) {
                        var e = this.formatAvgPlotLineLabel(t)
                          , i = this.highChartObj.renderer.label(e, this.highChartObj.plotLeft, this.highChartObj.plotTop).css({
                            color: "#000000",
                            zIndex: 999
                        }).add()
                          , a = i.getBBox().width
                          , n = (i.getBBox().height,
                        this.highChartObj.yAxis[0].plotLinesAndBands[0].svgElem.getBBox().y)
                          , r = this.highChartObj.plotWidth - a + 18 - 20
                          , o = this.highChartObj.plotTop + n + 9 - 15;
                        i.destroy(),
                        this.avgText = this.highChartObj.renderer.label(e, r, o).attr({
                            zIndex: 5
                        }).css({
                            color: "#000000",
                            zIndex: 999,
                            opacity: .85
                        }).add();
                        var s = this.avgText.getBBox();
                        this.avgRect = this.highChartObj.renderer.rect(r - 2, o, s.width + 4, s.height, 0).attr({
                            fill: "#FFFFEF",
                            "stroke-width": 0,
                            zIndex: 4,
                            opacity: .7
                        }).add()
                    }
                },
                renderXAxisPlotLineLabel: function() {
                    if (this.showXAxisPlotLineLabel && 0 != this.highChartObj.xAxis[0].plotLinesAndBands.length && this.highChartObj.xAxis[0].plotLinesAndBands[0].svgElem) {
                        var dist = this.currentPlotLinePoint.series.chart.userOptions.series[0].data[this.currentPlotLinePoint.index].dist;   // TX GCOverrides
                        var t = this.currentPlotLinePoint && this.currentPlotLinePoint.x ? this.currentPlotLinePoint.x : ""
                          , e = this.formatXAxisPlotLineLabel(t, dist)                // TX GCOverrides (added second argument - distance)  
                          , i = this.highChartObj.renderer.label(e, this.highChartObj.plotLeft, this.highChartObj.plotTop).css({
                            color: "#000000",
                            zIndex: 999
                        }).add()
                          , a = i.getBBox().width
                          , n = this.highChartObj.xAxis[0].plotLinesAndBands[0].svgElem.getBBox().x
                          , r = this.highChartObj.xAxis[0].plotLinesAndBands[0].svgElem.getBBox().y
                          , o = n - .5 * a
                          , s = this.highChartObj.plotTop + r + 9 - 15;
                        i.destroy(),
                        this.currentXAxisLabelText = this.highChartObj.renderer.label(e, o, s).attr({
                            zIndex: 999
                        }).css({
                            color: "#FFFFFF",
                            zIndex: 999
                        }).add();
                        var l = this.currentXAxisLabelText.getBBox();
                        this.currentXAxisLabelBox = this.highChartObj.renderer.rect(o - 5, s - 2, l.width + 10, l.height + 4, 0).attr({
                            fill: "#0F314D",
                            "stroke-width": 0,
                            zIndex: 4
                        }).add()
                    }
                },
                highChartsRenderChartEvent: function() {
                    return this
                },
                setExtremes: function(t, e, i) {
                    this.minX = t,
                    this.maxX = e,
                    this.highChartObj && (this.extremesSetProgramatically = !0,
                    i && (this.extremesSetProgramatically = !1),
                    this.highChartObj.xAxis[0].setExtremes(t, e, !0, !1))
                },
                setExtremesY: function(e, t, i) {           // TX GCOverrides (whole block) - resetting also the Y axis
                    this.minY = e,
                    this.maxY = t,
                    this.highChartObj && (this.extremesSetProgramatically = !0,
                    i && (this.extremesSetProgramatically = !1),
                    this.highChartObj.yAxis[0].setExtremes(e, t, !0, !1))
                },
                getExtremes: function() {
                    return this.highChartObj.xAxis[0].getExtremes()
                },
                calculateYAxisMin: function() {
                    var t = this.getChartMinValue()
                      , e = this.getWorkoutDataMin();
                    return t <= e ? t : e
                },
                calculateYAxisMax: function() {
                    var t = this.getChartMaxValue()
                      , e = this.getWorkoutDataMax();
                    return t >= e ? t : e
                },
                resetZoom: function() {
                    this.setExtremes(null, null),
                    this.setExtremesY(null, null)           // TX GCOverrides - resetting also the Y axis
                },
                createAnnotations: function() {
                    return [{
                        labels: []
                    }]
                },
                getMarginBottom: function() {},
                defaultChartOptions: function() {
                    return {
                        chart: {
                            alignTicks: !1,
                            inverted: this.getInvertedChart(),
                            height: 100,
                            renderTo: this.$(".chart-placeholder").get(0),
                            marginLeft: 18,
                            spacingTop: 17,
                            spacingBottom: this.spacingBottom,
                            marginTop: 9,
                            marginBottom: this.getMarginBottom(),
                            zoomType: "xy",     // TX GCOverrides for small graphs on Activity page
                            panning: true,      // TX GCOverrides
                            panKey: 'shift',    // TX GCOverrides
                            resetZoomButton: {
                                theme: {
                                    display: "none"
                                }
                            },
                            events: {
                                redraw: n.a.bind(this.renderPlotLineLabels, this),
                                render: n.a.bind(this.highChartsRenderChartEvent, this)
                            },
                            style: {
                                cursor: "crosshair"
                            }
                        },
                        plotOptions: {
                            series: {
                                fillOpacity: this.fillOpacity,
                                lineWidth: this.lineWidth,
                                step: this.step,
                                marker: {
                                    enabled: !1,
                                    symbol: "circle",
                                    states: {
                                        hover: {
                                            fillColor: "#222222",
                                            lineWidth: 1,
                                            lineColor: "#222222",
                                            radius: 1e-4
                                        }
                                    }
                                },
                                states: {
                                    hover: !1
                                }
                            },
                            scatter: {
                                marker: {
                                    radius: this.scatterLineRadius || 3
                                },
                                dashStyle: this.dashStyle,
                                color: this.scatterLineColor
                            },
                            areaspline: {},
                            area: {
                                threshold: this.primarySeries[0].reversed ? n.a.result(this, "threshold") : null,
                                step: this.step
                            },
                            line: {
                                step: this.step
                            },
                            column: {
                                pointPadding: 0,
                                groupPadding: 0
                            }
                        },
                        title: {
                            text: "",
                            style: {
                                display: "none"
                            }
                        },
                        xAxis: this.createHighChartsXAxisObjects(this),
                        yAxis: this.createHighChartsYAxisObjects(),
                        tooltip: {
                            formatter: this.partial(this.tooltipFormatter, this),
                            positioner: this.tooltipPositioner,
                            hideDelay: 100,
                            borderWidth: 0,
                            borderRadius: 0,
                            backgroundColor: "rgba(255, 255, 255, .85)",
                            style: this.styleTooltip(),
                            enabled: this.enableTooltip(),
                            useHTML: !0,
                            shared: this.shareTooltip()
                        },
                        annotations: this.createAnnotations(),
                        legend: {
                            enabled: !1
                        },
                        series: this.createHighChartsSeriesObjects(),
                        credits: {
                            enabled: !1
                        },
                        exporting: {
                            enabled: !1
                        }
                    }
                },
                getInvertedChart: function() {
                    return !1
                },
                tooltipPositioner: function(t, e, i) {
                    var a = {
                        x: i.plotX,
                        y: i.plotY
                    };
                    return this.tooltip ? (a.x -= t / 2,
                    a.x < 0 && (a.x = i.plotX + (t + 10) / 2)) : a.y = 40,
                    a
                },
                createHighChartsYAxisObjects: function() {
                    var t = this.primarySeries[0];
                    return {
                        gridLineColor: "#e8e8e8",
                        min: this.getChartMinValue(),
                        max: this.getChartMaxValue(),
                        maxPadding: 0,
                        minPadding: 0,
                        reversed: t.reversed,
                        endOnTick: !0,
                        startOnTick: !0,
                        tickPixelInterval: t.tickInterval ? null : 50,
                        tickInterval: t.tickInterval,
                        title: {
                            text: null
                        },
                        labels: {
                            formatter: this.partial(this.yAxisLabelFormatter, this),
                            align: "left",
                            x: 2,
                            y: 2,
                            style: {
                                whiteSpace: "nowrap"
                            }
                        },
                        plotLines: this.createHighChartsPlotlineOptions(),
                        tickPositions: this.createHighChartsTickPositions()
                    }
                },
                createHighChartsXAxisObjects: function(t) {
                    return {
                        labels: {
                            formatter: this.partial(this.xAxisLabelFormatter, this),
                            y: -4,
                            align: "right"
                        },
                        gridLineWidth: 0,
                        showFirstLabel: !1,
                        tickWidth: 0,
                        endOnTick: !1,
                        startOnTick: !1,
                        maxPadding: 0,
                        minPadding: 0,
                        plotBands: this.createHighChartsPlotBandsOptions(),
                        events: {
                            afterSetExtremes: function(e) {
                                t && (t.extremesSetProgramatically || t.trigger(w.ON_CHART_ZOOMED, t, this.userMin, this.userMax),
                                t.extremesSetProgramatically = !1)
                            }
                        }
                    }
                },
                createHighChartsPlotBandsOptions: function() {
                    var t = [];
                    return n.a.each(this.primarySeries, function(e) {
                        e.createHighChartsPlotBandsOptions && (t = e.plotBands)
                    }),
                    t
                },
                createHighChartsPlotlineOptions: function() {
                    var t = this.primarySeries[0]
                      , e = [];
                    return t.hasAvgValue() && e.push({
                        color: "#888888",
                        width: "1",
                        value: t.getAvgValue(),
                        dashStyle: "dash",
                        zIndex: 4
                    }),
                    "undefined" !== typeof t.plotLines && n.a.each(t.plotLines, function(t) {
                        e.push(t)
                    }),
                    e
                },
                createHighChartsTickPositions: function() {
                    return this.primarySeries[0].tickPositions
                },
                createHighChartsSeriesObjects: function() {
                    var t = []
                      , e = null
                      , i = null;
                    return n.a.each(this.primarySeries, function(a) {
                        var n = a.generateData(void 0, !0);
                        this.workoutInfo = a.generateWorkoutData(),
                        this.workoutData = this.workoutInfo.workoutData,
                        !this.workoutInfo.allZeros && this.workoutData && this.workoutData.length > 0 && (e = 0,
                        i = "scatter" === a.defaultChartType ? 0 : 1),
                        t.push(this.createSeries(a, n, e, i)),
                        !this.workoutInfo.allZeros && this.workoutData && this.workoutData.length > 0 && (t.push(this.createWorkoutSeries(this.workoutData)),
                        a.hasWorkoutData = !0)
                    }, this),
                    t
                },
                createSeries: function(t, e, i, a) {
                    void 0 !== i && null !== i || (i = this.fillOpacity),
                    void 0 !== a && null !== a || (a = this.lineWidth);
                    var n = {
                        turboThreshold: this.turboThreshold,
                        type: this.getChartType(t),
                        data: e,
                        marker: {
                            enabled: "scatter" === t.defaultChartType
                        },
                        color: d.a.mapSeriesType(t),
                        fillOpacity: i,
                        lineWidth: a
                    };
                    if (t.threshold && (n.threshold = t.threshold),
                    this.shouldShowOverlay()) {
                        var r = this.overlayData.getOverlayRanges(e)
                          , o = this.overlayData.getColor(d.a.mapSeriesType(t))
                          , s = this.overlayData.getHighlightColor(d.a.mapSeriesType(t));
                        n.zoneAxis = "x",
                        n.zones = [],
                        n.zones.push({
                            value: 0,
                            color: o
                        }),
                        r.forEach(function(t) {
                            n.zones.push({
                                value: t.start,
                                color: o
                            }),
                            n.zones.push({
                                value: t.end,
                                color: s
                            })
                        }),
                        n.zones.push({
                            value: n.data[n.data.length - 1].x,
                            color: o
                        })
                    }
                    return n
                },
                shouldShowOverlay: function() {
                    return !(!this.overlayData || !(this.overlayData.type === _.a.videoClips || this.overlayData.type === _.a.typedSplits && this.typedSplitsSupported()))
                },
                typedSplitsSupported: function() {
                    return !1
                },
                createWorkoutSeries: function(t) {
                    if (t && t.length > 0) {
                        var e = {
                            turboThreshold: this.turboThreshold,
                            type: "area",
                            data: t,
                            color: d.a.Colors.workoutTargetGray,
                            fillOpacity: .45,
                            lineWidth: 1,
                            name: "target"
                        };
                        return this.$(".workout-target-label").removeClass("hidden"),
                        e
                    }
                },
                getChartType: function(t) {
                    return this.seriesType ? this.seriesType : "line" === t.defaultChartType ? "areaspline" : t.defaultChartType
                },
                getChartMinValue: function() {
                    var t = n.a.result(this, "min");
                    if ("undefined" === typeof t || null === t) {
                        var e = !1;
                        n.a.each(this.primarySeries, function(i) {
                            (i.primaryChartMin && "undefined" === typeof t || null === t) && (e || (t = 99999999,
                            e = !0),
                            t = Math.min(t, this.getSeriesMinValue(i)))
                        }, this)
                    }
                    return t
                },
                getSeriesMinValue: function(t) {
                    return "function" === typeof t.primaryChartMin ? t.primaryChartMin() : t.primaryChartMin
                },
                getWorkoutDataMin: function() {
                    var t = 99999999;
                    return n.a.each(this.workoutData, function(e) {
                        e[1] < t && (t = e[1])
                    }),
                    t
                },
                getChartMaxValue: function() {
                    var t = n.a.result(this, "max");
                    if ("undefined" === typeof t || null === t) {
                        var e = !1;
                        n.a.each(this.primarySeries, function(i) {
                            (i.primaryChartMax && "undefined" === typeof t || null === t) && (e || (t = -99999999,
                            e = !0),
                            t = Math.max(t, this.getSeriesMaxValue(i)))
                        }, this)
                    }
                    return t
                },
                getSeriesMaxValue: function(t) {
                    return "function" === typeof t.primaryChartMax ? t.primaryChartMax() : t.primaryChartMax
                },
                getWorkoutDataMax: function() {
                    var t = -99999999;
                    return n.a.each(this.workoutData, function(e) {
                        e[1] > t && (t = e[1])
                    }),
                    t
                },
                partial: function(t) {
                    var e = Array.prototype.slice.call(arguments, 1);
                    return function() {
                        return t.apply(this, e)
                    }
                },
                onMouseMoved: function(t) {
                    if (this.highChartObj && this.playerModel && this.playerModel.get("mode") != h.a.Modes.Playing) {
                        t = this.highChartObj.pointer.normalize(t);
                        var e = this.highChartObj.xAxis[0].toValue(t.chartX);
                        if ("undefined" == typeof e || null == e)
                            return;
                        this.playerModel.set("x", e)
                    }
                },
                onMouseEnter: function() {
                    this.trigger(w.ON_CHART_FOCUSED, this)
                },
                onPlayerCleared: function() {
                    this.highChartObj && (this.highChartObj.xAxis[0].removePlotLine(this.plotLineId),
                    this.highChartObj.tooltip && this.highChartObj.tooltip.hide()),
                    this.currentPlotLinePoint = null,
                    this.currentXAxisLabelText && (this.currentXAxisLabelText.destroy(),
                    this.currentXAxisLabelText = null),
                    this.currentXAxisLabelBox && (this.currentXAxisLabelBox.destroy(),
                    this.currentXAxisLabelBox = null)
                },
                clearXAxisPlotLineLabel: function() {
                    this.currentXAxisLabelText && (this.currentXAxisLabelText.destroy(),
                    this.currentXAxisLabelText = null),
                    this.currentXAxisLabelBox && (this.currentXAxisLabelBox.destroy(),
                    this.currentXAxisLabelBox = null)
                },
                onPlayerTimeChanged: function() {
                    if (this.clearXAxisPlotLineLabel(),
                    this.highChartObj && this.highChartObj.xAxis && this.highChartObj.xAxis.length) {
                        this.highChartObj.xAxis[0].removePlotLine(this.plotLineId);
                        var t = this.playerModel.get("x");
                        this.highChartObj.xAxis[0].addPlotLine({
                            color: "#222222",
                            value: t,
                            width: 1,
                            id: this.plotLineId,
                            zIndex: 3
                        });
                        for (var e = this.highChartObj.series[0].points, i = e.length, a = 0; a < i && !(e[a].x >= t); a++)
                            ;
                        var n = Math.min(e.length - 1, a);
                        if (n > 0 && e[n].x != t) {
                            var r = Math.abs(e[n].x - t);
                            Math.abs(e[n - 1].x - t) < r && n--
                        }
                        var o = e[n]
                          , s = [];
                        if (this.highChartObj.series.length > 1 && this.highChartObj.tooltip.shared) {
                            s.push(o);
                            for (var l = 1, c = this.highChartObj.series.length; l < c; l += 1)
                                if (this.highChartObj.series[l] && this.highChartObj.series[l].points && this.highChartObj.series[l].points.length > 0)
                                    for (var h = 0; h < this.highChartObj.series[l].points.length; h += 1)
                                        if (o.x === this.highChartObj.series[l].points[h].x) {
                                            s.push(this.highChartObj.series[l].points[h]);
                                            break
                                        }
                        } else
                            s = o;
                        o && (this.highChartObj && this.highChartObj.tooltip && this.highChartObj.tooltip.refresh(s),
                        this.currentPlotLinePoint = o,
                        this.renderXAxisPlotLineLabel())
                    }
                },
                getHelpKey: function() {
                    var t = "";
                    return n.a.each(this.primarySeries, function(e) {
                        e.helpKey && !t && (t = e.helpKey)
                    }),
                    t
                },
                getHelpKeyAdditionalData: function() {
                    var t = null;
                    return n.a.each(this.primarySeries, function(e) {
                        e.helpKeyAdditionalData && (t = "function" === typeof e.helpKeyAdditionalData ? e.helpKeyAdditionalData() : e.helpKeyAdditionalData)
                    }),
                    t
                },
                onShowHelpClicked: function(e) {
                    var i = t(e.currentTarget).attr("data-help-key");
                    new p.a({
                        key: i,
                        additionalData: this.getHelpKeyAdditionalData()
                    }).render()
                },
                onZoomChartClicked: function() {
                    this.trigger(w.ON_EXPANDED_CHART_CLICKED, this)
                },
                destroy: function() {
                    this.stopListening(),
                    this.highChartObj && this.highChartObj.destroy(),
                    this.$el.remove()
                },
                hide: function() {
                    this.visible = !1,
                    this.$el.hide(),
                    this.stopListening()
                },
                show: function() {
                    this.visible = !0,
                    this.$el.show(),
                    this.listenTo(this.playerModel, "change:x", this.onPlayerTimeChanged, this),
                    this.listenTo(this.playerModel, "clear", this.onPlayerCleared, this),
                    this.redrawOnNextShow && (this.redrawOnNextShow = !1,
                    this.render())
                },
                getPrimarySeriesLabel: function() {
                    var t = this.primarySeries[0].label;
                    return t instanceof Array ? s.a.localize(t[0], s.a.localize(t[1])) : s.a.localize(t)
                },
                isRendered: function() {
                    return this.rendered
                },
                enableTooltip: function() {
                    return !0
                },
                styleTooltip: function() {
                    return {
                        color: "#222",
                        padding: "3px",
                        opacity: 1,
                        zIndex: 5
                    }
                },
                shareTooltip: function() {
                    return !1
                }
            });
            x.XAxisTypes = c.a,
            x.Events = w,
            e.a = x
        }
        ).call(this, i(10))
    },
    1272: function(t, e, i) {
        "use strict";
        var a = i(20)
          , n = i.n(a);
        e.a = n.a.oneOfType([n.a.arrayOf(n.a.node), n.a.node])
    },
    1273: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(13)
          , c = i(64)
          , h = (i(49),
        i(1304))
          , p = i.n(h)
          , d = {
            CHANGE: "CHANGE",
            EDIT: "EDIT",
            PRE_CANCEL: "PRE_CANCEL",
            CANCEL: "CANCEL"
        }
          , u = 8
          , m = 46
          , f = 37
          , g = 38
          , y = 39
          , v = 40
          , b = o.a.View.extend({
            template: n.a.template(p.a),
            events: {
                "click .inline-edit-target": "onInlineEditTargetClicked",
                "click .inline-edit-trigger": "onInlineEditTriggered",
                "click .inline-edit-save": "onInlineEditSaveClicked",
                "click .inline-edit-cancel": "onInlineEditCancelled",
                "keydown .inline-edit-editable-text": "onInputKeyDown"
            },
            initialize: function(t) {
                this.tag = t.tag || "a",
                this.customClasses = t.customClasses || "",
                this.label = t.label || "",
                this.value = t.value,
                this.formatClass = t.formatClass || "",
                this.url = t.url,
                this.disableEditability = t.disableEditability,
                this.disableEditOnClickText = t.disableEditOnClickText,
                this.maxLength = t.maxLength,
                this.minLength = t.minLength,
                this.disableEditBtn = t.disableEditBtn,
                this.disableEditOnClickText || (this.disableEditOnClickText = !1),
                "undefined" == typeof this.value && (this.value = ""),
                this.AcceptableList = [u, m, f, y, g, v]
            },
            defaultFormatFunc: function(t) {
                return t
            },
            render: function() {
                this.$el.removeClass("edit"),
                this.$el.addClass(this.formatClass + " inline-edit inline-edit-text-field"),
                this.$el.html(this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    value: this.value,
                    label: this.label,
                    url: this.url || "#",
                    tag: this.tag,
                    customClasses: this.customClasses,
                    disableEditBtn: this.disableEditBtn
                })),
                this.disableEditability && this.$(".inline-edit-trigger").hide()
            },
            onInlineEditTargetClicked: function(t) {
                this.disableEditBtn || (this.url ? c.default.anchorTagHandler(t) : this.disableEditOnClickText ? t.preventDefault() : this.onInlineEditTriggered(t))
            },
            onInlineEditTriggered: function(t) {
                t.preventDefault(),
                this.$el.addClass("edit"),
                this.$(".inline-edit-target").hide(),
                this.$(".inline-edit-editable").show(),
                this.$(".inline-edit-editable-text").focus(),
                this.setSelected(),
                this.trigger(d.EDIT)
            },
            onInlineEditCancelled: function(t) {
                this.trigger(d.PRE_CANCEL),
                t.preventDefault(),
                t.stopPropagation(),
                this.render(),
                this.trigger(d.CANCEL)
            },
            onInlineEditSaveClicked: function(t) {
                t.preventDefault(),
                t.stopPropagation(),
                this.processInput()
            },
            processInput: function() {
                var t = this.$(".inline-edit-editable-text").text().trim();
                !n.a.isUndefined(this.minLength) && t.length < this.minLength || (this.value = t,
                this.maxLength && this.value.length > this.maxLength && (this.value = this.value.substring(0, this.maxLength)),
                this.trigger(d.CHANGE, this.value))
            },
            onInputKeyDown: function(t) {
                13 === t.keyCode && (t.preventDefault(),
                this.processInput()),
                this.maxLength && t.target.textContent.length >= this.maxLength && -1 == this.AcceptableList.indexOf(t.keyCode) && t.preventDefault()
            },
            setSelected: function() {
                var t, e, i = this.$(".inline-edit-editable-text")[0];
                document.body.createTextRange ? ((t = document.body.createTextRange()).moveToElementText(i),
                t.select()) : window.getSelection && (e = window.getSelection(),
                (t = document.createRange()).selectNodeContents(i),
                e.removeAllRanges(),
                e.addRange(t))
            }
        });
        b.Events = d,
        e.a = b
    },
    1275: function(t, e, i) {
        var a;
        "undefined" != typeof self && self,
        t.exports = (a = i(11),
        function(t) {
            function e(a) {
                if (i[a])
                    return i[a].exports;
                var n = i[a] = {
                    i: a,
                    l: !1,
                    exports: {}
                };
                return t[a].call(n.exports, n, n.exports, e),
                n.l = !0,
                n.exports
            }
            var i = {};
            return e.m = t,
            e.c = i,
            e.d = function(t, i, a) {
                e.o(t, i) || Object.defineProperty(t, i, {
                    configurable: !1,
                    enumerable: !0,
                    get: a
                })
            }
            ,
            e.n = function(t) {
                var i = t && t.__esModule ? function() {
                    return t.default
                }
                : function() {
                    return t
                }
                ;
                return e.d(i, "a", i),
                i
            }
            ,
            e.o = function(t, e) {
                return Object.prototype.hasOwnProperty.call(t, e)
            }
            ,
            e.p = "",
            e(e.s = 0)
        }([function(t, e, i) {
            "use strict";
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var a = Object.assign || function(t) {
                for (var e = 1; e < arguments.length; e++) {
                    var i = arguments[e];
                    for (var a in i)
                        Object.prototype.hasOwnProperty.call(i, a) && (t[a] = i[a])
                }
                return t
            }
              , n = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var a = e[i];
                        a.enumerable = a.enumerable || !1,
                        a.configurable = !0,
                        "value"in a && (a.writable = !0),
                        Object.defineProperty(t, a.key, a)
                    }
                }
                return function(e, i, a) {
                    return i && t(e.prototype, i),
                    a && t(e, a),
                    e
                }
            }()
              , r = i(1)
              , o = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(r)
              , s = function(t) {
                function e(t) {
                    !function(t, e) {
                        if (!(t instanceof e))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, e);
                    var i = function(t, e) {
                        if (!t)
                            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !e || "object" != typeof e && "function" != typeof e ? t : e
                    }(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.container = o.default.createRef(),
                    i
                }
                return function(t, e) {
                    if ("function" != typeof e && null !== e)
                        throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
                }(e, t),
                n(e, [{
                    key: "componentDidMount",
                    value: function() {
                        var t = this.props
                          , e = t.highcharts || window.Highcharts;
                        this.chart = e[t.constructorType || "chart"](this.container.current, t.options, t.callback ? t.callback : void 0)
                    }
                }, {
                    key: "componentDidUpdate",
                    value: function() {
                        var t;
                        !1 !== this.props.allowChartUpdate && (t = this.chart).update.apply(t, [this.props.options].concat(function(t) {
                            if (Array.isArray(t)) {
                                for (var e = 0, i = Array(t.length); e < t.length; e++)
                                    i[e] = t[e];
                                return i
                            }
                            return Array.from(t)
                        }(this.props.updateArgs || [!0, !0])))
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function() {
                        this.chart && (this.chart.destroy(),
                        this.chart = null)
                    }
                }, {
                    key: "render",
                    value: function() {
                        return o.default.createElement("div", a({}, this.props.containerProps, {
                            ref: this.container
                        }))
                    }
                }]),
                e
            }(o.default.PureComponent);
            e.default = s
        }
        , function(t, e) {
            t.exports = a
        }
        ]))
    },
    1276: function(t, e, i) {
        "use strict";
        var a = i(1235)
          , n = i.n(a)
          , r = i(23)
          , o = (i(1381),
        i(1402),
        i(1403),
        i(1415))
          , s = function() {};
        s.MaxDistance = 999,
        s.Radius = {
            KILOMETERS: 6371,
            MILES: 3959
        },
        s.ZoomLevel = {
            MAX: 9,
            FAR: 10,
            MEDIUM: 12,
            CLOSE: 13
        },
        s.LowestHeatmapZoomLevel = 9,
        s.Layers = {
            LAYER_DISTANCE_CLOSE: "distanceLayerClose",
            LAYER_DISTANCE_MEDIUM: "distanceLayerMedium",
            LAYER_DISTANCE_FAR: "distanceLayerFar",
            LAYER_DISTANCE_MAX: "distanceLayerMax",
            LAYER_MARKERS: "markerLayer",
            LAYER_POSITION: "positionLayer",
            POPULAR_AREAS: "POPULAR_AREAS",
            LAYER_ELEVATION_SELECTION: "elevationLayer",
            CUSTOM_POINT_LAYER: "CUSTOM_POINT_LAYER",
            LAYER_POLYLINE_OVERLAY: "polylineOverlayLayer",
            LAYER_TOOLTIP: "layerTooltip"
        },
        s.calculateBoundingBoxAreaInKM = function(t, e, i, a) {
            return this.calculateDistanceBetweenPointsInKM(t, a, e, a) * this.calculateDistanceBetweenPointsInKM(t, a, t, i)
        }
        ,
        s.calculateDistanceBetweenPointsInKM = function(t, e, i, a) {
            var n = new o.a(t,e)
              , s = new o.a(i,a);
            return n.distanceTo(s) * r.a.MetersToKm
        }
        ,
        s.calculateDistanceBetweenPointsInMeters = function(t, e, i, a) {
            var n = new o.a(t,e)
              , r = new o.a(i,a);
            return n.distanceTo(r)
        }
        ,
        s.calculateDistanceFromCollectionOfLatLngs = function(t) {
            var e = 0;
            if (t)
                for (var i = 0, a = t.length; i < a; i += 1) {
                    var n = t[i]
                      , r = t[i + 1];
                    n && r && (e += this.calculateDistanceBetweenPointsInMeters(n.lat, n.lng, r.lat, r.lng))
                }
            return e
        }
        ,
        s.calculateDestinationPoint = function(t, e, i) {
            var a = (t = new o.a(t.lat,t.lng)).destinationPoint(e, i);
            return {
                lat: a.lat,
                lng: a.lon
            }
        }
        ,
        s.calculateBearingOfPoints = function(t, e) {
            var i = new o.a(t.lat,t.lng)
              , a = new o.a(e.lat,e.lng);
            return i.finalBearingTo(a)
        }
        ,
        s.decodeLine = function(t) {
            var e = 0
              , i = []
              , a = 0
              , n = 0;
            if (t && void 0 != t)
                for (var r = t.length; e < r; ) {
                    var o, s = 0, l = 0;
                    do {
                        l |= (31 & (o = t.charCodeAt(e++) - 63)) << s,
                        s += 5
                    } while (o >= 32);a += 1 & l ? ~(l >> 1) : l >> 1,
                    s = 0,
                    l = 0;
                    do {
                        l |= (31 & (o = t.charCodeAt(e++) - 63)) << s,
                        s += 5
                    } while (o >= 32);n += 1 & l ? ~(l >> 1) : l >> 1,
                    i.push([1e-5 * a, 1e-5 * n])
                }
            return i
        }
        ,
        s.indexOfClosestPoint = function(t, e, i, a) {
            var r, o = -1, s = this.truncateLatLng(e, i);
            if (t)
                if (2 === t.length)
                    o = 1;
                else {
                    for (r = 0; r < t.length - 1; r++) {
                        var l = this.truncateLatLng(t[r], i)
                          , c = this.truncateLatLng(t[r + 1], i);
                        if (this.isPointsEqual(l, s, i) || this.isPointsEqual(c, s, i) || n.a.polyline([l, c]).getBounds().contains(s)) {
                            o = r + 1;
                            break
                        }
                    }
                    -1 !== o || a || (o = i > 2 ? this.indexOfClosestPoint(t, e, i - 1) : t.length - 1)
                }
            return o
        }
        ,
        s.findPointOnPolyline = function(t, e, i, a, n) {
            var r, o, s, l, c, h, p, d = t[i - 1], u = t[i];
            return d.equals(e) ? o = d : u.equals(e) ? o = u : d.equals(u) ? o = d : (s = a.latLngToPoint(d, n).x,
            l = a.latLngToPoint(d, n).y,
            c = a.latLngToPoint(u, n).x,
            h = a.latLngToPoint(u, n).y,
            (p = ((a.latLngToPoint(e, n).x - s) * (c - s) + (a.latLngToPoint(e, n).y - l) * (h - l)) / (Math.pow(c - s, 2) + Math.pow(h - l, 2))) > 1 ? o = u : p < 0 ? o = d : (r = {
                x: s + p * (c - s),
                y: l + p * (h - l)
            },
            o = a.pointToLatLng(r, n))),
            o.wrap()
        }
        ,
        s.isPointsEqual = function(t, e, i) {
            return this.roundPointToSpecified(t.lat, i) === this.roundPointToSpecified(e.lat, i) && this.roundPointToSpecified(t.lng, i) === this.roundPointToSpecified(e.lng, i)
        }
        ,
        s.truncateLatLng = function(t, e) {
            return n.a.latLng(this.roundPointToSpecified(t.lat, e), this.roundPointToSpecified(t.lng, e))
        }
        ,
        s.roundPointToSpecified = function(t, e) {
            return Math.round(Math.pow(10, e) * t) / Math.pow(10, e)
        }
        ,
        e.a = s
    },
    1282: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(8)
          , o = i(0)
          , s = i.n(o)
          , l = i(1290)
          , c = i.n(l)
          , h = {
            Small: "relative bottom",
            Long: ""
        }
          , p = {
            Success: "alert-success",
            Error: "alert-error",
            Info: "alert-info",
            Warning: "alert-warning"
        }
          , d = s.a.View.extend({
            template: n.a.template(c.a),
            className: "alert",
            events: {
                "click #alert": "onDismissLinkClicked",
                "click a[data-action]": "onLinkClicked"
            },
            initialize: function(t) {
                if (!t.message)
                    throw "a message is required for the alert.";
                return this.message = t.message,
                this.size = t.size || h.Long,
                this.alertType = t.alertType || p.Success,
                this.showAlert = t.showAlert || !1,
                this.callback = t.callback,
                this.localizeArgs = t.localizeArgs,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: r.a,
                    message: this.message,
                    args: this.localizeArgs
                })),
                this.updateSizeInUI(),
                this.updateAlertTypeInUI(),
                this.showAlert ? this.displayAlert() : this.hideAlert(),
                this
            },
            setMessage: function(t) {
                return t ? (this.message = t,
                !0) : !!this.message
            },
            setSize: function(t) {
                if (t) {
                    if ("small" === t)
                        return this.size = h.Small,
                        !0;
                    if ("long" === t)
                        return this.size = h.Long,
                        !0;
                    if (t === h.Long || t === h.Small)
                        return this.size = t,
                        !0
                }
                return !!this.size
            },
            setAlertType: function(t) {
                if (t) {
                    if ("success" === t)
                        return this.alertType = p.Success,
                        !0;
                    if ("error" === t)
                        return this.alertType = p.Error,
                        !0;
                    if ("info" === t)
                        return this.alertType = p.Info,
                        !0;
                    if ("warning" === t)
                        return this.alertType = p.Warning,
                        !0;
                    if (t === p.Success || t === p.Error || t === p.Info || p.Warning)
                        return this.alertType = t,
                        !0
                }
                return !!this.alertType
            },
            updateSizeInUI: function() {
                this.size === h.Small ? this.$el.addClass(h.Small) : this.size === h.Long && this.$el.removeClass(h.Small)
            },
            updateAlertTypeInUI: function() {
                this.alertType === p.Success ? (this.$el.addClass(p.Success),
                this.$el.removeClass(p.Error),
                this.$el.removeClass(p.Info)) : this.alertType === p.Error ? (this.$el.addClass(p.Error),
                this.$el.removeClass(p.Success),
                this.$el.removeClass(p.Info)) : this.alertType === p.Info ? (this.$el.addClass(p.Info),
                this.$el.removeClass(p.Error),
                this.$el.removeClass(p.Success)) : this.alertType === p.Warning && (this.$el.addClass(p.Warning),
                this.$el.removeClass(p.Error),
                this.$el.removeClass(p.Success),
                this.$el.removeClass(p.Info))
            },
            setAndRenderAlert: function(t, e, i, a, n) {
                var r = this.setMessage(t)
                  , o = this.setSize(e)
                  , s = this.setAlertType(i);
                this.localizeArgs = n,
                r && o && s && (this.showAlert = !0,
                this.callback = a,
                this.render())
            },
            displayAlert: function() {
                this.$el.show()
            },
            hideAlert: function() {
                this.$el.hide()
            },
            onDismissLinkClicked: function(t) {
                t.preventDefault(),
                this.hideAlert()
            },
            onLinkClicked: function(t) {
                t.preventDefault(),
                this.callback && this.callback(),
                this.hideAlert()
            }
        });
        d.Size = h,
        d.AlertType = p,
        e.a = d
    },
    1287: function(t, e, i) {
        "use strict";
        e.a = {
            Duration: "sumDuration",
            Distance: "sumDistance",
            SwimLengths: "directLengthIndex",
            SwimDuration: "cumulativeDuration",
            SwimDistance: "cumulativeDistance"
        }
    },
    1288: function(t, e, i) {
        "use strict";
        e.a = {
            googleUrl: "//maps.googleapis.com/maps/api/js?sensor=true",
            baiduUrl: "https://sapi.map.baidu.com/api?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD&s=1&callback=initializeBaidu",
            baiduKey: "KQMz9KcIzBwWNUgbHWUHZGSD",
            HereAppCode: "D7pWNLGdZbuU0ReUY4A85g",
            HereAppId: "hYaBOISjlUD2egn6d3AT",
            HereAppGeocoderUrl: "https://geocoder.api.here.com/6.2/geocode.json"
        }
    },
    1289: function(t, e, i) {
        "use strict";
        var a = i(20)
          , n = i.n(a);
        e.a = n.a.object
    },
    129: function(t, e, i) {
        "use strict";
        i.r(e);
        var a = i(1235)
          , n = i(1416);
        n.VERSION = "3.18",
        a.GridLayer.GoogleMutant = a.GridLayer.extend({
            includes: a.Evented,
            APIKey: "AIzaSyBuqMiuCNohSYg09UnOzu9Poy05jND5m3k",
            options: {
                minZoom: 0,
                maxZoom: 18,
                tileSize: 256,
                subdomains: "abc",
                errorTileUrl: "",
                attribution: "",
                opacity: 1,
                continuousWorld: !1,
                noWrap: !1,
                type: "satellite",
                maxNativeZoom: 21
            },
            initialize: function(t) {
                a.GridLayer.prototype.initialize.call(this, t);
                var e = this;
                t.asclientid ? n.CLIENT = t.googlekey || this.APIKey : n.KEY = t.googlekey || this.APIKey,
                n.CHANNEL = "connect",
                n.LIBRARIES = t.libraries || [],
                e._type = t.maptype || "SATELLITE",
                n.load(function(i) {
                    google = i,
                    e._ready = !0,
                    e._initMutant(),
                    e._update(),
                    t.onAfterLoad && t.onAfterLoad(google)
                }),
                this._tileCallbacks = {},
                this._freshTiles = {},
                this._subLayers = {},
                this._imagesPerTile = "HYBRID" === e._type ? 2 : 1,
                this.createTile = "HYBRID" === e._type ? this._createMultiTile : this._createSingleTile
            },
            onAdd: function(t) {
                a.GridLayer.prototype.onAdd.call(this, t),
                this._initMutantContainer(),
                this._ready && (this._map = t,
                this._initMutant(),
                t.on("viewreset", this._reset, this),
                t.on("move", this._update, this),
                t.on("zoomend", this._handleZoomAnim, this),
                t.on("resize", this._resize, this),
                t._controlCorners.bottomright.style.marginBottom = "20px",
                this._reset(),
                this._update())
            },
            onRemove: function(t) {
                a.GridLayer.prototype.onRemove.call(this, t),
                t._container.removeChild(this._mutantContainer),
                this._mutantContainer = void 0,
                t.off("viewreset", this._reset, this),
                t.off("move", this._update, this),
                t.off("zoomend", this._handleZoomAnim, this),
                t.off("resize", this._resize, this),
                t._controlCorners && (t._controlCorners.bottomright.style.marginBottom = "0em")
            },
            getAttribution: function() {
                return this.options.attribution
            },
            setOpacity: function(t) {
                this.options.opacity = t,
                t < 1 && a.DomUtil.setOpacity(this._mutantContainer, t)
            },
            setElementSize: function(t, e) {
                t.style.width = e.x + "px",
                t.style.height = e.y + "px"
            },
            addGoogleLayer: function(t, e) {
                if (!this._subLayers[t] && this._ready) {
                    var i = new (0,
                    google.maps[t])(e);
                    i.setMap(this._mutant),
                    this._subLayers[t] = i,
                    a.GridLayer.prototype.redraw.call(this)
                }
            },
            removeGoogleLayer: function(t) {
                var e = this._subLayers[t];
                e && (e.setMap(null),
                a.GridLayer.prototype.redraw.call(this),
                delete this._subLayers[t])
            },
            _initMutantContainer: function() {
                this._mutantContainer || (this._mutantContainer = a.DomUtil.create("div", "leaflet-google-mutant leaflet-top leaflet-left"),
                this._mutantContainer.id = "_MutantContainer_" + a.Util.stamp(this._mutantContainer),
                this._mutantContainer.style.pointerEvents = "none",
                this._map.getContainer().appendChild(this._mutantContainer)),
                this.setOpacity(this.options.opacity),
                this.setElementSize(this._mutantContainer, this._map.getSize()),
                this._attachObserver(this._mutantContainer)
            },
            _initMutant: function() {
                if (this._ready && this._mutantContainer) {
                    this._mutantCenter = new google.maps.LatLng(0,0);
                    var t = new google.maps.Map(this._mutantContainer,{
                        center: this._mutantCenter,
                        zoom: 0,
                        tilt: 0,
                        mapTypeId: google.maps.MapTypeId[this._type],
                        disableDefaultUI: !0,
                        keyboardShortcuts: !1,
                        draggable: !1,
                        disableDoubleClickZoom: !0,
                        scrollwheel: !1,
                        streetViewControl: !1,
                        styles: this.options.styles || {},
                        backgroundColor: "transparent"
                    });
                    this._mutant = t,
                    google.maps.event.addListenerOnce(t, "tilesloaded", function() {
                        setTimeout(function() {
                            if (this._mutantContainer) {
                                for (var t = this._mutantContainer.querySelectorAll("a"), e = 0; e < t.length; e++)
                                    t[e].style.pointerEvents = "auto",
                                    t[e].addEventListener("click", function(t) {
                                        t.stopPropagation()
                                    });
                                var i = this._mutantContainer.querySelectorAll("iframe");
                                i[0] && i[0].style && (i[0].style.width = 0,
                                i[0].style.height = 0)
                            }
                        }
                        .bind(this), 500)
                    }
                    .bind(this)),
                    this.fire("spawned", {
                        mapObject: t
                    })
                }
            },
            _attachObserver: function(t) {
                new MutationObserver(this._onMutations.bind(this)).observe(t, {
                    childList: !0,
                    subtree: !0
                })
            },
            _onMutations: function(t) {
                for (var e = 0; e < t.length; ++e)
                    for (var i = t[e], a = 0; a < i.addedNodes.length; ++a) {
                        var n = i.addedNodes[a];
                        n instanceof HTMLImageElement ? this._onMutatedImage(n) : n instanceof HTMLElement && Array.prototype.forEach.call(n.querySelectorAll("img"), this._onMutatedImage.bind(this))
                    }
            },
            _roadRegexp: /!1i(\d+)!2i(\d+)!3i(\d+)!/,
            _satRegexp: /x=(\d+)&y=(\d+)&z=(\d+)/,
            _staticRegExp: /StaticMapService\.GetMapImage/,
            _onMutatedImage: function(t) {
                var e, i, n, r = t.src.match(this._roadRegexp);
                if (r ? (e = {
                    z: r[1],
                    x: r[2],
                    y: r[3]
                },
                this._imagesPerTile > 1 && (t.style.zIndex = 1),
                i = 1) : ((r = t.src.match(this._satRegexp)) && (e = {
                    x: r[1],
                    y: r[2],
                    z: r[3]
                }),
                i = 0),
                e) {
                    var o = this._tileCoordsToKey(e);
                    t.style.position = "absolute",
                    this._imagesPerTile > 1 && (o += "/" + i),
                    o in this._tileCallbacks && this._tileCallbacks[o] ? (this._tileCallbacks[o].pop()(t),
                    this._tileCallbacks[o].length || delete this._tileCallbacks[o]) : ((n = t.parentNode) && (n.removeChild(t),
                    n.removeChild = a.Util.falseFn),
                    o in this._freshTiles ? this._freshTiles[o].push(t) : this._freshTiles[o] = [t])
                } else
                    t.src.match(this._staticRegExp) && (n = t.parentNode) && t.parentNode.replaceChild(a.DomUtil.create("img"), t)
            },
            _createSingleTile: function(t, e) {
                var i = this._tileCoordsToKey(t);
                if (i in this._freshTiles) {
                    var n = this._freshTiles[i].pop();
                    return this._freshTiles[i].length || delete this._freshTiles[i],
                    a.Util.requestAnimFrame(e),
                    n
                }
                var r = a.DomUtil.create("div");
                return this._tileCallbacks[i] = this._tileCallbacks[i] || [],
                this._tileCallbacks[i].push(function(t) {
                    return function(i) {
                        var n = i.parentNode;
                        n && (n.removeChild(i),
                        n.removeChild = a.Util.falseFn),
                        t.appendChild(i),
                        e()
                    }
                    .bind(this)
                }
                .bind(this)(r)),
                r
            },
            _createMultiTile: function(t, e) {
                var i = this._tileCoordsToKey(t)
                  , n = a.DomUtil.create("div");
                n.dataset.pending = this._imagesPerTile;
                for (var r = 0; r < this._imagesPerTile; r++) {
                    var o = i + "/" + r;
                    o in this._freshTiles ? (n.appendChild(this._freshTiles[o].pop()),
                    this._freshTiles[o].length || delete this._freshTiles[o],
                    n.dataset.pending--) : (this._tileCallbacks[o] = this._tileCallbacks[o] || [],
                    this._tileCallbacks[o].push(function(t) {
                        return function(i) {
                            var n = i.parentNode;
                            n && (n.removeChild(i),
                            n.removeChild = a.Util.falseFn),
                            t.appendChild(i),
                            t.dataset.pending--,
                            parseInt(t.dataset.pending) || e()
                        }
                        .bind(this)
                    }
                    .bind(this)(n)))
                }
                return parseInt(n.dataset.pending) || a.Util.requestAnimFrame(e),
                n
            },
            _checkZoomLevels: function() {
                void 0 !== this._map.getZoom() && this._mutant.getZoom() !== this._map.getZoom() && this._map.setZoom(this._mutant.getZoom())
            },
            _reset: function() {
                this._initContainer()
            },
            _update: function() {
                if (a.GridLayer.prototype._update.call(this),
                this._mutant) {
                    var t = this._map.getCenter()
                      , e = new google.maps.LatLng(t.lat,t.lng);
                    this._mutant.setCenter(e),
                    void 0 !== this._map.getZoom() && this._mutant.setZoom(Math.round(this._map.getZoom()))
                }
            },
            _resize: function() {
                var t = this._map.getSize();
                this._mutantContainer.style.width === t.x && this._mutantContainer.style.height === t.y || (this.setElementSize(this._mutantContainer, t),
                this._mutant && google.maps.event.trigger(this._mutant, "resize"))
            },
            _handleZoomAnim: function() {
                var t = this._map.getCenter()
                  , e = new google.maps.LatLng(t.lat,t.lng);
                this._mutant.setCenter(e),
                this._mutant.setZoom(Math.round(this._map.getZoom()))
            },
            _removeTile: function(t) {
                if (this._imagesPerTile > 1)
                    for (var e = 0; e < this._imagesPerTile; e++) {
                        var i = t + "/" + e;
                        i in this._freshTiles && delete this._freshTiles[i]
                    }
                else
                    t in this._freshTiles && delete this._freshTiles[t];
                return a.GridLayer.prototype._removeTile.call(this, t)
            }
        }),
        a.gridLayer.googleMutant = function(t) {
            return new a.GridLayer.GoogleMutant(t)
        }
    },
    1290: function(t, e) {
        t.exports = '<%= Localizer.localize(message, args) %>\n<a href="#" id="alert"><%- Localizer.localize(\'course_map_alert_dismiss\') %></a>'
    },
    1291: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(1235)
              , n = i.n(a).a.TileLayer.extend({
                getTileUrl: function(e) {
                    var i = t.Map.Utils.getHeatMapUrls(e.x, e.y, e.z);
                    return this.getHeatMapUrl(i)
                },
                getHeatMapUrl: function(t) {}
            });
            e.a = n
        }
        ).call(this, i(1259))
    },
    1295: function(t, e, i) {
        "use strict";
        e.a = {
            SportTypes: {
                Running: "running",
                Cycling: "cycling",
                Other: "other",
                Swimming: "swimming",
                Strength_Training: "strength_training",
                Cardio: "cardio_training",
                Yoga: "yoga",
                Pilates: "pilates"
            },
            StepTypes: {
                Warm_Up: "warmup",
                Interval: "interval",
                Cool_Down: "cooldown",
                Recovery: "recovery",
                Rest: "rest",
                Repeat: "repeat",
                Other: "other"
            },
            TargetTypes: {
                No_Target: "no.target",
                Cadence: "cadence",
                Heart_Rate_Zone: "heart.rate.zone",
                Pace_Zone: "pace.zone",
                Power_Zone: "power.zone",
                Speed_Zone: "speed.zone"
            },
            ConditionTypes: {
                Calories: "calories",
                Distance: "distance",
                Heart_Rate: "heart.rate",
                Lap_Button: "lap.button",
                Iterations: "iterations",
                Power: "power",
                Time: "time",
                Fixed_Rest: "fixed.rest",
                Fixed_Repetition: "fixed.repetition",
                Reps: "reps"
            },
            IntensityTypes: {
                Active: "active",
                Rest: "rest",
                Warm_Up: "warmup",
                Cool_Down: "cooldown"
            },
            DurationTypes: {
                No_Duration: "no.duration",
                Calories: "calories",
                Distance: "distance",
                Lap_Button: "lap.button",
                Time: "time",
                Heart_Zone: "heart.rate.zone",
                Power_Zone: "power.zone",
                Fixed_Rest: "fixed.rest",
                Fixed_Repetition: "fixed.repetition",
                Reps: "reps"
            },
            StrokeTypes: {
                Any: "any_stroke",
                Backstroke: "backstroke",
                Breaststroke: "breaststroke",
                Drill: "drill",
                Fly: "fly",
                Free: "free",
                IM: "individual_medley",
                Mixed: "mixed"
            },
            EquipmentTypes: {
                No_Equipment: "no.equipment",
                Fins: "fins",
                Kickboard: "kickboard",
                Paddles: "paddles",
                Pull_Buoy: "pull_buoy",
                Snorkel: "snorkel"
            }
        }
    },
    1296: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(1255)
              , n = {
                openAgent: function(t) {
                    null != t && "undefined" != typeof t || ("undefined" !== typeof console && console.log && this.log("A device id wasn't passed into GCSyncUtil.openAgent()"),
                    t = ""),
                    this.log("calling " + a.a.Queue.Constants.GC_SYNC_URL + "?deviceId=" + t),
                    window.location.assign(a.a.Queue.Constants.GC_SYNC_URL + "?deviceId=" + t)
                },
                log: function(t) {
                    "undefined" !== typeof console && console.log && console.log(new Date + ": " + t)
                },
                scrollToRank: function(e) {
                    var i = {
                        scrollTop: e
                    };
                    t("body,html").animate(i)
                }
            };
            e.a = n
        }
        ).call(this, i(10))
    },
    1301: function(t, e, i) {
        "use strict";
        var a, n, r = i(9), o = i.n(r), s = i(0), l = i.n(s), c = i(8), h = i(80), p = i(1258), d = i(10), u = i.n(d), m = i(1235), f = i.n(m), g = (i(1574),
        i(1414)), y = i.n(g), v = i(47), b = i(1288), A = (i(1659),
        f.a.Marker.extend({
            initialize: function(t, e) {
                f.a.Marker.prototype.initialize.call(this, t, e),
                this.label = {
                    text: ""
                }
            },
            setLabel: function(t) {
                this.label = t
            },
            getLabel: function() {
                return this.label
            },
            setTitle: function(t) {
                this._icon.innerHTML = t
            },
            setPosition: function(t) {
                this.setLatLng(t)
            }
        })), _ = i(1291), C = _.a.extend({
            getHeatMapUrl: function(t) {
                return "undefined" != typeof t && null != t ? t[0] : ""
            }
        }), w = _.a.extend({
            getHeatMapUrl: function(t) {
                if ("undefined" != typeof t && null != t && t.length > 1)
                    return t[1]
            }
        }), x = _.a.extend({
            getHeatMapUrl: function(t) {
                if ("undefined" != typeof t && null != t && t.length > 2)
                    return t[2]
            }
        }), S = f.a.TileLayer.extend({
            initialize: function(t, e) {
                f.a.Util.setOptions(this, e),
                this.url = t || "http://downloadqdc.garmin.com/GCSProxyServlet/MarineImages/{quadkey}.png"
            },
            getTileUrl: function(t) {
                var e = this._getZoomForUrl();
                return this.url.replace("{quadkey}", this.tile2quad(t.x, t.y, e))
            },
            tile2quad: function(t, e, i) {
                for (var a = "", n = i; n > 0; n--) {
                    var r = 0
                      , o = 1 << n - 1;
                    0 !== (t & o) && (r += 1),
                    0 !== (e & o) && (r += 2),
                    a += r
                }
                return a
            },
            _animateZoom: function(t) {
                this.zoomingIn = t.zoom > this._map.getZoom(),
                f.a.TileLayer.prototype._animateZoom.call(this, t)
            },
            _tileLoaded: function() {
                this._tilesToLoad--,
                this._animated && f.a.DomUtil.addClass(this._tileContainer, "leaflet-zoom-animated"),
                this._tilesToLoad || (this.fire("load"),
                this._clearBgBuffer())
            },
            _prepareBgBuffer: function() {
                var t = this._tileContainer
                  , e = this._bgBuffer
                  , i = this._getLoadedTilesPercentage(e)
                  , a = this._getLoadedTilesPercentage(t);
                if (e && i > .5 && a < .5)
                    return t.style.visibility = "hidden",
                    void this._stopLoadingImages(t);
                e.style.visibility = "hidden",
                this.zoomingIn ? (e.style.zIndex = 1,
                t.style.zIndex = 2) : (e.style.zIndex = 2,
                t.style.zIndex = 1),
                delete this.zoomingIn,
                e.style[f.a.DomUtil.TRANSFORM] = "",
                this._tileContainer = e,
                e = this._bgBuffer = t,
                this._stopLoadingImages(e),
                clearTimeout(this._clearBgBufferTimer)
            }
        }), T = i(1401), E = i(1239), k = f.a.Circle.extend({
            onAdd: function(t) {
                if (f.a.Circle.prototype.onAdd.call(this, t),
                this.options.draggable) {
                    var e, i = function(t) {
                        var i = f.a.latLng(t.latlng.lat - e.lat, t.latlng.lng - e.lng);
                        a.setLatLng(i),
                        a.fireEvent("drag")
                    }, a = this;
                    this.on("mousedown", function(a) {
                        e = {
                            lat: a.latlng.lat - this.getLatLng().lat,
                            lng: a.latlng.lng - this.getLatLng().lng
                        },
                        t.dragging.disable(),
                        t.on("mousemove", i)
                    }),
                    this.on("click", function(t) {
                        f.a.DomEvent.stopPropagation(t)
                    }),
                    t.on("mouseup", function(e) {
                        t.dragging.enable(),
                        t.off("mousemove", i),
                        a.fireEvent("dragend")
                    })
                }
            },
            getCenter: function() {
                return this.getLatLng()
            },
            setCenter: function(t) {
                this.setLatLng(t)
            }
        }), L = f.a.Rectangle.extend({
            onAdd: function(t) {
                f.a.Rectangle.prototype.onAdd.call(this, t);
                var e = this
                  , i = function() {
                    u()(e.editing._moveMarker._icon).hide()
                };
                e.on("mousedown", function(i) {
                    e.isDragging = !0,
                    e.initialBounds = e.getBounds(),
                    e.mouseDownPosition = h.a.getStandardizedPoint(i.latlng),
                    e.editing.disable(),
                    t.dragging.disable()
                }),
                t.on("mousemove", function(t) {
                    if (e.isDragging) {
                        var i = h.a.getStandardizedPoint(t.latlng)
                          , a = {
                            lat: i.lat - e.mouseDownPosition.lat,
                            lon: i.lon - e.mouseDownPosition.lon
                        }
                          , n = new f.a.LatLng(h.a.getStandardizedPoint(e.initialBounds.getSouthWest()).lat + a.lat,h.a.getStandardizedPoint(e.initialBounds.getSouthWest()).lon + a.lon)
                          , r = new f.a.LatLng(h.a.getStandardizedPoint(e.initialBounds.getNorthEast()).lat + a.lat,h.a.getStandardizedPoint(e.initialBounds.getNorthEast()).lon + a.lon)
                          , o = new f.a.latLngBounds(n,r);
                        e.setBounds(o)
                    }
                }),
                t.on("mouseup", function() {
                    delete e.isDragging,
                    e.editing.enable(),
                    i(),
                    t.dragging.enable()
                }),
                e.editing.enable(),
                setTimeout(i())
            },
            getStandardizedBounds: function() {
                var t = this.getBounds();
                return {
                    sw: h.a.getStandardizedPoint(t.getSouthWest()),
                    ne: h.a.getStandardizedPoint(t.getNorthEast())
                }
            }
        }), P = i(1259), I = i.n(P), z = i(74), B = i.n(z), D = (i(1660),
        i(1575),
        {
            ON_MAP_READY: "ON_MAP_READY",
            ON_MAP_PROVIDER_CHANGED: "ON_MAP_PROVIDER_CHANGED",
            ON_VISIBLE_TILES_LOADED: "ON_VISIBLE_TILES_LOADED"
        }), M = {
            road: "ROADMAP",
            satellite: "SATELLITE",
            terrain: "TERRAIN",
            hybrid: "HYBRID"
        }, O = "moveend", R = "dragstart", N = "drag", V = "dragend", j = T.a.TileLayer, F = {
            road: "mapbox.streets",
            satellite: "mapbox.satellite"
        }, G = {
            road: "ROAD.Map",
            satellite: "SATELLITE.Map"
        }, U = l.a.View.extend({
            providers: {
                GOOGLE: "google",
                HERE: "here",
                OSM: "osm",
                BAIDU: "BAIDU_V_1_4"
            },
            initialize: function(t) {
                t = this.addInitializationDefaults(t),
                this.initializeState(t),
                h.a.userInChina() && h.a.isBaiduEnabled() && (this.mapProvider = I.a.Map.Utils.PROVIDER_TYPE_BAIDU)
            },
            addInitializationDefaults: function(t) {
                return o.a.defaults(t, {
                    enableBikeLanes: !0,
                    disablePanning: !1,
                    disableZooming: !1,
                    showControlScale: !0,
                    zoomLimits: {
                        min: 3,
                        max: 18
                    }
                })
            },
            initializeState: function(t) {
                this.el = t.el,
                this.viewerIsAuthenticated = t.viewerIsAuthenticated,
                this.mapContainerId = t.mapContainerId,
                this.mapContainerClass = t.mapContainerClass,
                this.enableBikeLanes = t.enableBikeLanes,
                this.disablePanning = t.disablePanning,
                this.disableZooming = t.disableZooming,
                this.showControlScale = t.showControlScale,
                this.mapProvider = t.mapProvider,
                this.mapStyle = t.mapStyle,
                this.zoom = t.zoom,
                this.zoomLimits = t.zoomLimits,
                this.mapHasBeenInitialized = !1,
                this.hideAttributionControl = t.hideAttributionControl
            },
            render: function() {
                return this.$el.attr("id", this.mapContainerId),
                this.$el.addClass(this.mapContainerClass),
                this.el
            },
            loadMap: function() {
                var t = this;
                this.mapProvider === I.a.Map.Utils.PROVIDER_TYPE_BAIDU ? B()(["https://api.map.baidu.com/getscript?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD&services=", "https://sapi.map.baidu.com/api?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD&s=1&callback="], function() {
                    var e = i.e(73).then(i.t.bind(null, 4892, 7))
                      , n = i.e(254).then(i.bind(null, 2353))
                      , r = i.e(255).then(i.bind(null, 5298))
                      , o = i.e(74).then(i.t.bind(null, 4893, 7));
                    Promise.all([e, n, r, o]).then(function(e) {
                        var i = Object(p.a)(e, 3)
                          , n = (i[1],
                        i[2])
                          , r = n ? n.default : null;
                        a = r,
                        t.checkAndRenderMap()
                    })
                }) : Promise.all(this.loadMapProviders()).then(function(e) {
                    var i = Object(p.a)(e, 3)
                      , a = i[1]
                      , r = i[2]
                      , o = a ? a.default : null
                      , s = r ? r.default : null;
                    "google" === t.mapProvider ? new o(null,function() {
                        n = s,
                        t.checkAndRenderMap()
                    }
                    ) : t.checkAndRenderMap()
                })
            },
            checkAndRenderMap: function() {
                this.mapProvider && h.a.isMapProviderValid(this.mapProvider) ? this.renderMap() : this.viewerIsAuthenticated ? this.loadMapProviderPreference() : (this.mapProvider = "google",
                this.loadMap()),
                this.showDefaultZoomControls || this.$(".leaflet-control-zoom").hide()
            },
            loadMapProviders: function() {
                var t, e, a;
                switch (this.mapProvider) {
                case "google":
                    t = i.e(256).then(i.bind(null, 129)),
                    e = i.e(257).then(i.bind(null, 2635)),
                    a = i.e(258).then(i.bind(null, 5299));
                    break;
                case "here":
                    t = i.e(259).then(i.t.bind(null, 1939, 7)),
                    e = i.e(260).then(i.bind(null, 2556));
                    break;
                case "osm":
                    t = i.e(261).then(i.t.bind(null, 2555, 7)),
                    e = i.e(262).then(i.bind(null, 5300))
                }
                return [t, e, a]
            },
            loadMapProviderPreference: function() {
                this.mapProviderPreference = new v.a({
                    key: "map_provider_type"
                }),
                this.mapProviderPreference.once("sync", function() {
                    this.mapProvider = this.mapProviderPreference.get("value"),
                    null == this.mapProvider && (this.mapProvider = "google"),
                    this.loadMap()
                }, this),
                this.mapProviderPreference.fetch()
            },
            renderMap: function() {
                var t = this.getLeafletOptions();
                0 !== u()("#" + this.mapContainerId).length && (this.map = f.a.map(this.mapContainerId, t),
                this.map.attributionControl && this.map.attributionControl.setPrefix(""),
                this.configureMap(),
                this.changeMapStyle(this.mapStyle || "road"),
                this.mapHasBeenInitialized = !0,
                this.trigger(D.ON_MAP_READY),
                this.setupEvents())
            },
            getLeafletOptions: function() {
                var t = {};
                return this.zoomLimits && (t.minZoom = this.zoomLimits.min),
                this.hideAttributionControl && (t.attributionControl = !1),
                t.zoom = this.zoom,
                t.worldCopyJump = !0,
                t
            },
            configureMap: function() {
                this.disableZooming ? this.map.scrollWheelZoom.disable() : this.map.scrollWheelZoom.enable(),
                this.disablePanning ? this.map.dragging.disable() : this.map.dragging.enable(),
                this.showControlScale && f.a.control.scale({
                    position: "bottomright"
                }).addTo(this.map)
            },
            setupEvents: function() {
                this.currentLayer.on("load", function() {
                    this.trigger(D.ON_VISIBLE_TILES_LOADED),
                    this.map.invalidateSize()
                }
                .bind(this))
            },
            changeMapStyle: function(t) {
                if (t && (!this.currentLayer || t !== this.mapStyle))
                    return this.currentLayer && this.map.removeLayer(this.currentLayer),
                    this.mapStyle = t,
                    h.a.userInChina() ? (this.map.options.crs = f.a.CRS.BEPSG3857,
                    this.currentLayer = new f.a.GarminBaidu(G[t]),
                    this.map.addLayer(this.currentLayer)) : this.mapProvider === this.providers.GOOGLE ? (this.googleLayer = new f.a.GridLayer.GoogleMutant({
                        maptype: M[t],
                        maxZoom: this.zoomLimits.max
                    }),
                    this.currentLayer = this.googleLayer,
                    this.map.addLayer(this.googleLayer),
                    this.map.on("layeradd", function() {
                        this.enableBikeLanes && this.toggleBicycleLayer(!0)
                    }
                    .bind(this))) : this.mapProvider === this.providers.HERE ? (this.currentLayer = new f.a.tileLayer.here({
                        appId: b.a.HereAppId,
                        appCode: b.a.HereAppCode,
                        scheme: E.a.HereMapTileTypeMapping[t.toLowerCase()]
                    }),
                    this.map.addLayer(this.currentLayer)) : (this.currentLayer = this.getOpenStreetMapLayer(t),
                    this.map.addLayer(this.currentLayer)),
                    !0
            },
            getMapProvider: function() {
                return this
            },
            changeMapProvider: function(t) {
                this.mapProvider !== t && (this.mapProvider = t,
                this.trigger(D.ON_MAP_PROVIDER_CHANGED, t))
            },
            zoomIn: function() {
                this.map.zoomIn(),
                this._setZoom()
            },
            zoomOut: function() {
                this.map.zoomOut(),
                this._setZoom()
            },
            fitMapToPoints: function(t, e) {
                t && (o.a.isArray(t) && t.length > 0 || t instanceof f.a.LatLngBounds) && this.map.fitBounds(t),
                e && e.zoomOutDelta && this.map.zoomOut(e.zoomOutDelta),
                this._setZoom()
            },
            hasLabelSupport: function() {
                return this.mapProvider === this.providers.GOOGLE
            },
            toggleBicycleLayer: function(t) {
                this.enableBikeLanes = t,
                this.googleLayer && (this.enableBikeLanes ? this.googleLayer.addGoogleLayer("BicyclingLayer") : this.googleLayer.removeGoogleLayer("BicyclingLayer"))
            },
            getMapProviderType: function() {
                return this.mapProvider
            },
            hasTerrainSupport: function() {
                return this.mapProvider === this.providers.GOOGLE
            },
            hasTrailSupport: function() {
                return this.mapProvider === this.providers.GOOGLE
            },
            hasHeatmapSupport: function() {
                return !0
            },
            removeMarker: function(t) {
                return this.map.removeLayer(t)
            },
            removePolyline: function(t) {
                return this.map.removeLayer(t)
            },
            addPolyline: function(t, e) {
                if (t.length < 2)
                    return null;
                var i = {};
                e && (i.interactive = e.clickable,
                i.opacity = e.opacity,
                i.color = e.strokeColor,
                i.weight = e.width,
                i.stroke = e.visible),
                i = o.a.defaults(i, {
                    interactive: !1,
                    opacity: I.a.Map.Utils.LINE_OPACITY,
                    color: "#FF0000",
                    weight: I.a.Map.Utils.LINE_WIDTH,
                    stroke: !0
                });
                var a = f.a.polyline(t, i);
                return this.map.addLayer(a).on("load", function() {
                    this.trigger(D.ON_VISIBLE_TILES_LOADED)
                }
                .bind(this)),
                a
            },
            addHotlinePolyline: function(t, e) {
                var i = f.a.hotline(t, e);
                return this.map.addLayer(i),
                i
            },
            showPolyline: function(t) {
                this.map.addLayer(t)
            },
            baiduMapsDisabled: function() {
                return !0
            },
            addMarker: function(t, e, i, a, n, r) {
                var s = {
                    icon: f.a.icon({
                        iconUrl: i.iconURL,
                        iconAnchor: [i.iconAnchor.x, i.iconAnchor.y],
                        iconSize: [i.iconSize.width, i.iconSize.height]
                    }),
                    zIndexOffset: i.zIndex
                }
                  , l = f.a.marker([t, e], s);
                return l.addTo(this.map),
                a && o.a.isFunction(a) && l.on("click", a),
                n && o.a.isFunction(n) && l.on("mouseover", n),
                r && o.a.isFunction(r) && l.on("mouseout", r),
                l
            },
            bindPopupToMarker: function(t, e) {
                var i = f.a.popup(t).setContent(t.popupText);
                return e.bindPopup(i),
                i
            },
            addNumberedMarker: function(t, e, i, a) {
                var n = {
                    icon: f.a.divIcon({
                        html: '<span class="course-pt course-pt-lap">' + a + "</span>",
                        className: "map-marker",
                        iconAnchor: [Math.floor(10), Math.floor(10)],
                        iconSize: [20, 20]
                    }),
                    zIndexOffset: i.zIndex
                }
                  , r = f.a.marker([t, e], n);
                return r.addTo(this.map),
                r
            },
            removeLayer: function(t) {
                this.map.eachLayer(o.a.bind(function(e) {
                    t(e) && this.map.removeLayer(e)
                }, this))
            },
            setView: function(t, e) {
                var i = h.a.getStandardizedPoint(t);
                this.map.setView([i.lat, i.lon], e || this.zoom),
                this._setZoom()
            },
            locate: function(t) {
                this.map.locate(t),
                this._setZoom()
            },
            addLineListener: function(t, e, i) {
                i.on(t, function(t) {
                    e({
                        eventPoint: {
                            lat: t.latlng.lat,
                            lon: t.latlng.lng
                        }
                    })
                })
            },
            addMapListener: function(t, e) {
                var i = this.toProprietaryEventName(t);
                this.map.on(i, e)
            },
            enableTerrain: function(t) {
                this.hasTerrainSupport() && (t ? this.changeMapStyle("terrain") : this.changeMapStyle("road"))
            },
            enableTrails: function(t) {
                this.hasTrailSupport() && this.toggleBicycleLayer(t)
            },
            enableLabels: function(t) {
                this.hasLabelSupport() && (t ? this.changeMapStyle("hybrid") : this.changeMapStyle("satellite"))
            },
            enableHeatMaps: function(t, e) {
                this.hasHeatmapSupport() && (this.toggleHeatmapLayersOff(),
                I.a.Map.Utils.activityType = "cycling" == e ? "cycling" : "running",
                t && this.toggleHeatmapLayersOn())
            },
            toggleHeatmapLayersOn: function() {
                var t = this;
                this.getHeatMapDependencies().done(function() {
                    var e = I.a.Map.Utils.heatmapPreferences;
                    null != e && (t.map.addLayer(new C("",{
                        tileSize: 256,
                        maxZoom: e.heatmapCityZoomLevelEnd,
                        minZoom: e.heatmapGlobalZoomLevelStart,
                        opacity: e.heatmapLayerOpacity,
                        zIndex: 2
                    })),
                    t.map.addLayer(new w("",{
                        tileSize: 256,
                        maxZoom: e.heatmapCityZoomLevelEnd,
                        minZoom: e.heatmapGlobalZoomLevelStart,
                        opacity: e.heatmapLayerOpacity,
                        zIndex: 2
                    })),
                    t.map.addLayer(new x("",{
                        tileSize: 256,
                        maxZoom: e.heatmapCityZoomLevelEnd,
                        minZoom: e.heatmapGlobalZoomLevelStart,
                        opacity: e.heatmapLayerOpacity,
                        zIndex: 2
                    })))
                })
            },
            getHeatMapDependencies: function() {
                var t = u.a.Deferred();
                return I.a.Map.Utils.getHeatMapPreferences().done(function() {
                    I.a.Map.Utils.getAllHeatMapFolderData(I.a.Map.Utils.heatmapPreferences.heatmapActiveVersion).done(function() {
                        t.resolve()
                    })
                }),
                t
            },
            toggleHeatmapLayersOff: function() {
                this.removeLayer(function(t) {
                    return t instanceof _.a
                })
            },
            getOpenStreetMapLayer: function(t) {
                return j.options.id = F[t] ? F[t] : F.road,
                new f.a.GarminOSMLayer(j.url,j.options)
            },
            addTilesOverlay: function(t, e) {
                var i = new S(t,e);
                this.map.addLayer(i),
                this.map.on("layeradd", function(t) {
                    i.bringToFront()
                })
            },
            getMapCenterZoom: function() {
                return {
                    center: h.a.getStandardizedPoint(this.map.getCenter()),
                    zoom: this.map.getZoom()
                }
            },
            getTargetZoom: function() {
                return !1
            },
            zoomInMapToUsersLocation: function(t, e, i) {
                this.map.locate({
                    maxZoom: e,
                    setView: !0
                }).on("locationfound", function(t) {
                    this._setZoom(),
                    i && i(t)
                }
                .bind(this))
            },
            displayAreaSelectionTool: function() {
                var t = this.map.latLngToLayerPoint(this.map.getCenter())
                  , e = new f.a.Point(t.x - 100,t.y + 100)
                  , i = new f.a.Point(t.x + 100,t.y - 100)
                  , a = new f.a.latLngBounds(this.map.layerPointToLatLng(e),this.map.layerPointToLatLng(i));
                return this.selectionRect = new L(a,{
                    color: "#000",
                    weight: 2,
                    opacity: .4,
                    fillColor: "#000",
                    fillOpacity: .4,
                    editing: {},
                    original: {}
                }).addTo(this.map),
                this.selectionRect
            },
            removeAreaSelectionTool: function() {
                this.selectionRect && (this.map.off("mouseup"),
                this.selectionRect.off("mousedown"),
                this.map.off("mousemove"),
                this.map.removeLayer(this.selectionRect),
                delete this.selectionRect)
            },
            searchForLocation: function(t, e) {
                if (h.a.userInChina()) {
                    var i = this
                      , a = new BMap.LocalSearch(new BMap.Map("container"),{
                        onSearchComplete: function() {
                            if (a.getResults().getPoi(0)) {
                                var t, n, r = a.getResults().getPoi(0).point, o = [];
                                t = f.a.latLng(r.lat, r.lng),
                                n = f.a.latLngBounds(t, t),
                                o[0] = {
                                    bbox: n,
                                    center: t
                                },
                                i.fitMapToPoints(n),
                                e && e(o[0], o)
                            } else
                                e(a.getResults())
                        }
                    });
                    a.search(t)
                } else {
                    var n = new f.a.Control.Geocoder.Google;
                    this.mapProvider !== E.a.MapProviders.GOOGLE && (n = new f.a.Control.Geocoder.HERE({
                        geocodeUrl: b.a.HereAppGeocoderUrl,
                        app_id: b.a.HereAppId,
                        app_code: b.a.HereAppCode
                    })),
                    n.geocode(t, function(t) {
                        var i = null;
                        0 !== t.length && (i = t[0],
                        this.fitMapToPoints(i.bbox),
                        e && e(i, t))
                    }, this)
                }
            },
            searchAddressByPosition: function(t, e) {
                h.a.userInChina() ? (this.addressService = new a,
                this.addressService.fetch({
                    location: [t.lat, t.lng],
                    success: function(t) {
                        e(t)
                    }
                })) : (new n).fetch({
                    location: [t.lat, t.lng],
                    success: function(t) {
                        e(t.address)
                    },
                    error: function() {
                        e()
                    }
                }, this)
            },
            displayPrivacyZone: function(t, e, i, a) {
                var n = this.displayCircleAndMarkersToMap(e, a);
                this.panPointToMap(n.circle)
            },
            displayCircleAndMarkersToMap: function(t, e) {
                var i = new k([t.center.lat, t.center.lng],t.radius,{
                    weight: t.strokeWeight,
                    color: t.strokeColor,
                    fillColor: t.fillColor,
                    fillOpacity: t.fillOpacity,
                    draggable: t.draggable
                }).addTo(this.map)
                  , a = e.icon
                  , n = f.a.icon({
                    iconUrl: a.url,
                    iconSize: f.a.point(a.scaledSize, a.scaledSize),
                    iconAnchor: f.a.point(a.anchor, a.anchor)
                });
                return {
                    circle: i,
                    marker: new A([e.position.lat, e.position.lng],{
                        icon: n,
                        draggable: e.draggable
                    }).addTo(this.map)
                }
            },
            panPointToMap: function(t) {
                var e = t.getBounds()
                  , i = [];
                i.push([e.getSouthWest().lat, e.getSouthWest().lng]),
                i.push([e.getNorthEast().lat, e.getNorthEast().lng]),
                this.fitMapToPoints(i)
            },
            toProprietaryEventName: function(t) {
                var e = t;
                switch (t) {
                case I.a.Map.Utils.EVENT_DRAG_START:
                    e = R;
                    break;
                case I.a.Map.Utils.EVENT_DRAGGING:
                    e = N;
                    break;
                case I.a.Map.Utils.EVENT_DRAG_END:
                    e = V;
                    break;
                case I.a.Map.Utils.EVENT_MAP_VIEW_CHANGE_END:
                    e = O;
                    break;
                default:
                    e = t
                }
                return e
            },
            displayPrivacyZoneMap: function(t, e, i, a, n, r, o, s) {
                var l = !1;
                if (y.a.isOutOfChina(e.center.lat, e.center.lng) && (l = !0),
                h.a.userInChina() && !l) {
                    var c = this
                      , p = {
                        lat: e.center.lat,
                        lng: e.center.lng
                    };
                    y.a.convert(p, function(t) {
                        e.center = {
                            lat: t.lat,
                            lng: t.lon
                        },
                        a.position = {
                            lat: t.lat,
                            lng: t.lon
                        };
                        var i = c.displayCircleAndMarkersToMap(e, a);
                        s.zoneCircle = i.circle,
                        s.zoneCircle.marker = i.marker,
                        s.zoneCircle.on(r, s.onCircleDragHandler.bind(s)),
                        s.zoneCircle.marker.on(r, s.onMarkerDragHandler.bind(s)),
                        s.zoneCircle.on(o, s.updateAddressBar.bind(s)),
                        s.zoneCircle.marker.on(o, s.updateAddressBar.bind(s)),
                        c.panPointToMap(s.zoneCircle)
                    })
                } else {
                    var d = this.displayCircleAndMarkersToMap(e, a);
                    s.zoneCircle = d.circle,
                    s.zoneCircle.marker = d.marker,
                    s.zoneCircle.on(r, s.onCircleDragHandler.bind(s)),
                    s.zoneCircle.marker.on(r, s.onMarkerDragHandler.bind(s)),
                    s.zoneCircle.on(o, s.updateAddressBar.bind(s)),
                    s.zoneCircle.marker.on(o, s.updateAddressBar.bind(s)),
                    this.panPointToMap(s.zoneCircle)
                }
            },
            formatPointAsObject: function(t) {
                return t
            },
            getDraggingEventPoint: function(t) {
                return t.target.getLatLng()
            },
            getEventPoint: function(t) {
                return t.latlng
            },
            getMapPoint: function(t) {
                return t
            },
            getLocationPoint: function(t) {
                return t.center
            },
            _setZoom: function() {
                this.zoom = this.map.getZoom()
            },
            resizeMap: function() {
                this.map.invalidateSize()
            },
            changeCursorStyle: function(t) {
                this.$el.css("cursor", t)
            }
        });
        U.Events = D;
        var H = U
          , K = {
            ON_MAP_READY: "ON_MAP_READY",
            ON_VISIBLE_TILES_LOADED: "ON_VISIBLE_TILES_LOADED",
            ON_MAP_PROVIDER_CHANGED: "ON_MAP_PROVIDER_CHANGED"
        }
          , W = "NOT_LOADED"
          , Q = {};
        Q.google = {
            key: "google",
            loadStatus: W,
            moduleName: "garmingooglemaps",
            syncModel: new l.a.Model
        },
        Q.osm = {
            key: "osm",
            loadStatus: W,
            moduleName: "garminosmmaps",
            syncModel: new l.a.Model
        },
        Q.BAIDU_V_1_4 = {
            key: "BAIDU_V_1_4",
            loadStatus: W,
            moduleName: "garminbaidumaps",
            syncModel: new l.a.Model
        };
        var Y = l.a.View.extend({
            initialize: function(t) {
                if (!t.mapContainerId)
                    throw "mapContainerId required for MapView";
                if ("undefined" == typeof t.width)
                    throw "Width is required for Map View";
                if ("undefined" == typeof t.height)
                    throw "Height is required for Map View";
                this.mapProvider = t.mapProvider,
                this.args = t,
                this.onReady = t.onReady,
                this.map = new H(o.a.defaults({
                    el: this.el,
                    mapProvider: this.mapProvider
                }, t)),
                this.bindMapEvents()
            },
            bindMapEvents: function() {
                this.listenTo(this.map, K.ON_MAP_READY, this.onMapReady.bind(this)),
                this.listenTo(this.map, K.ON_MAP_PROVIDER_CHANGED, this.onMapProviderChanged.bind(this)),
                this.listenTo(this.map, K.ON_VISIBLE_TILES_LOADED, this.onVisibleTilesLoaded.bind(this))
            },
            onMapReady: function() {
                this.configureMap(),
                h.a.userInChina() && this.$el.append('<div class="baiduLogo"></div>'),
                this.onReady && this.onReady(),
                this.trigger(K.ON_MAP_READY)
            },
            configureMap: function() {
                this.args.cursorStyle && this.map.changeCursorStyle(this.args.cursorStyle)
            },
            onMapProviderChanged: function() {
                this.trigger(K.ON_MAP_PROVIDER_CHANGED)
            },
            onVisibleTilesLoaded: function() {
                this.trigger(K.ON_VISIBLE_TILES_LOADED)
            },
            render: function() {
                this.map.render()
            },
            loadMap: function() {
                return this.map.loadMap()
            },
            isMapProviderValid: function(t) {
                return !(!this.isBaiduEnabled() && "BAIDU_V_1_4" === t)
            },
            onAPIsLoaded: function() {
                return this.map.onAPIsLoaded()
            },
            zoomIn: function() {
                return this.map.zoomIn()
            },
            zoomOut: function() {
                return this.map.zoomOut()
            },
            addMarker: function(t, e, i, a, n, r) {
                return this.map.addMarker(t, e, i, a, n, r)
            },
            bindPopupToMarker: function(t, e) {
                return this.map.bindPopupToMarker(t, e)
            },
            addNumberedMarker: function(t, e, i, a, n, r, o) {
                return this.map.addNumberedMarker(t, e, i, a, n, r, o)
            },
            addInfoBox: function(t, e) {
                return this.map.addInfoBox(t, e)
            },
            removeInfoBox: function(t) {
                return this.map.removeInfoBox(t)
            },
            removeMarker: function(t) {
                return this.map.removeMarker(t)
            },
            removePolyline: function(t) {
                return this.map.removePolyline(t)
            },
            setBounds: function(t, e) {
                return this.map.setBounds(t, e)
            },
            closeInfoBoxes: function() {
                return this.map.closeInfoBoxes()
            },
            isInfoBoxOpen: function(t) {
                return this.map.isInfoBoxOpen(t)
            },
            addPolyline: function(t, e) {
                return this.map.addPolyline(t, e)
            },
            addEncodedPolyline: function(t, e) {
                return this.map.addEncodedPolyline(t, e)
            },
            fitMapToPoints: function(t, e) {
                return this.map.fitMapToPoints(t, e)
            },
            fitMapToPointsWithoutConvert: function(t) {
                this.map.fitMapToPointsWithoutConvert(t)
            },
            convertPoint: function(t, e) {
                this.map.convertPoint(t, e)
            },
            displayPrivacyZone: function(t, e, i, a) {
                return this.map.displayPrivacyZone(t, e, i, a)
            },
            displayPrivacyZoneMap: function(t, e, i, a, n, r, o, s) {
                return this.map.displayPrivacyZoneMap(t, e, i, a, n, r, o, s)
            },
            formatPointAsObject: function(t) {
                return this.map.formatPointAsObject(t)
            },
            changeMapProvider: function(t) {
                return this.map.changeMapProvider(t)
            },
            addClickHandler: function(t, e) {
                return this.map.addClickHandler(t, e)
            },
            changeCursorStyle: function(t) {
                return this.map.changeCursorStyle(t)
            },
            getMapProvider: function() {
                return this.map.getMapProvider()
            },
            getMapProviderType: function() {
                return this.map.getMapProviderType()
            },
            enableTerrain: function(t) {
                return this.map.enableTerrain(t)
            },
            enableTrails: function(t) {
                return this.map.enableTrails(t)
            },
            enableLabels: function(t) {
                return this.map.enableLabels(t)
            },
            enableHeatMaps: function(t, e) {
                return this.map.enableHeatMaps(t, e)
            },
            hasTerrainSupport: function() {
                return this.map.hasTerrainSupport()
            },
            hasTrailSupport: function() {
                return this.map.hasTrailSupport()
            },
            hasHeatmapSupport: function() {
                return this.map.hasHeatmapSupport()
            },
            hasLabelSupport: function() {
                return this.map.hasLabelSupport()
            },
            loadMapProvider: function(t) {
                return this.map.loadMapProvider()
            },
            isBaiduEnabled: function() {
                return this.map.isBaiduEnabled()
            },
            searchForLocation: function(t, e) {
                this.map.searchForLocation(t, e)
            },
            displayAreaSelectionTool: function(t) {
                return this.map.displayAreaSelectionTool(t)
            },
            removeAreaSelectionTool: function() {
                return this.map.removeAreaSelectionTool()
            },
            addTilesOverlay: function(t, e) {
                this.map.addTilesOverlay(t, e || {})
            },
            zoomInMapToUsersLocation: function(t, e, i) {
                return this.map.zoomInMapToUsersLocation(t, e, i)
            },
            zoomInMapToSpecificLocation: function(t) {
                return this.map.zoomInMapToSpecificLocation(t)
            },
            limitZoomOnMouseWheel: function() {
                return this.map.limitZoomOnMouseWheel()
            },
            disableDoubleClickZoom: function() {
                return this.map.disableDoubleClickZoom()
            },
            displayCustomCircle: function(t) {
                return this.map.displayCustomCircle(t)
            },
            displayCustomMarker: function(t, e) {
                return this.map.displayCustomMarker(t, e)
            },
            getEventPoint: function(t) {
                return this.map.getEventPoint(t)
            },
            getDraggingEventPoint: function(t) {
                return this.map.getDraggingEventPoint(t)
            },
            getLocationPoint: function(t) {
                return this.map.getLocationPoint(t)
            },
            getMapPoint: function(t) {
                return this.map.getMapPoint(t)
            },
            searchAddressByPosition: function(t, e) {
                this.map.searchAddressByPosition(t, e)
            },
            searchUpdateAddressByPosition: function(t, e) {
                this.map.searchUpdateAddressByPosition(t, e)
            },
            changeMapStyle: function(t) {
                return this.map.changeMapStyle(t)
            },
            remove: function() {
                if (this.map)
                    return this.map.remove()
            },
            getMapCenterZoom: function() {
                return this.map.getMapCenterZoom()
            },
            getUrlVars: function() {
                return this.map.getUrlVars()
            },
            disableBaidu: function() {
                this.map.baiduMapsDisabled()
            },
            mapHasBeenInitialized: function() {
                return !!this.map && this.map.mapHasBeenInitialized
            },
            getTrails: function() {
                this.map.hasTrailSupport()
            },
            toggleBicycleLayer: function(t) {
                this.map.toggleBicycleLayer(t)
            },
            setView: function(t, e) {
                this.map.setView(t, e)
            },
            locate: function(t) {
                this.map.locate(o.a.extend({
                    setView: !0
                }, t))
            },
            addLineListener: function(t, e, i) {
                this.map.addLineListener(t, e, i)
            },
            addMapListener: function(t, e) {
                this.map.addMapListener(t, e)
            },
            getTargetZoom: function() {
                return this.map.getTargetZoom()
            },
            resizeMap: function() {
                return this.map.resizeMap()
            },
            toProprietaryEventName: function(t) {
                return this.map.toProprietaryEventName(t)
            },
            onWindowResized: function() {
                window.matchMedia("(max-width: 767px)").matches ? (this.showScrollToggleButton(),
                "google" !== this.mapProvider && this.$el.addClass("pointer-events-none")) : (this.hideScrollToggleButton(),
                this.$el.removeClass("pointer-events-none"));
                var t = this.$el.hasClass("pointer-events-none") ? c.a.localize("enable_scrolling") : c.a.localize("disable_scrolling");
                this.setTextForEnableDisableScrollButton(t)
            },
            setTextForEnableDisableScrollButton: function(t) {
                this.$(".map-control-item.scrolling").text(t)
            },
            hideScrollToggleButton: function() {
                this.$(".map-control-item.scrolling").addClass("hide")
            },
            showScrollToggleButton: function() {
                this.$(".map-control-item.scrolling").removeClass("hide")
            },
            toggleMapInteraction: function(t) {
                t ? this.$el.removeClass("pointer-events-none") : this.$el.addClass("pointer-events-none")
            },
            addHotlinePolyline: function(t, e) {
                return this.map.addHotlinePolyline(t, e)
            },
            showPolyline: function(t) {
                this.map.showPolyline(t)
            }
        });
        Y.Events = K;
        e.a = Y
    },
    1302: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(13)
              , c = i(1331)
              , h = i.n(c)
              , p = {
                CHANGE: "CHANGE"
            }
              , d = o.a.View.extend({
                template: n.a.template(h.a),
                events: {
                    "click li": "onInlineSelectionChanged"
                },
                initialize: function(t) {
                    if (this.formatClass = t.formatClass || "",
                    this.value = t.value,
                    this.items = t.items,
                    this.label = t.label,
                    this.includeDivider = !0,
                    this.scrollable = !0,
                    this.dropdownClass = t.dropdownClass || "",
                    "undefined" != typeof t.scrollable && (this.scrollable = t.scrollable),
                    "undefined" === typeof this.items)
                        throw "Items are required for InlineDropDownListView";
                    if ("undefined" === typeof this.value)
                        throw "Value is required for InlineDropDownListView";
                    "undefined" !== typeof t.includeDivider && (this.includeDivider = t.includeDivider),
                    this.options = t.options || {}
                },
                render: function() {
                    var t = this.findItem(this.value);
                    return this.scrollable && this.$el.addClass("inline-edit inline-edit-select"),
                    this.$el.html(this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        formatClass: this.formatClass,
                        className: this.className,
                        items: this.items,
                        selectedItem: t,
                        label: this.label,
                        useSelect: this.useSelect,
                        options: this.options,
                        includeDivider: this.includeDivider,
                        dropdownClass: this.dropdownClass
                    })),
                    this.$("[data-value=" + this.value + "]").addClass("active"),
                    this
                },
                findItem: function(t) {
                    for (var e = 0; e < this.items.length; e++) {
                        var i = this.items[e];
                        if (i.value == t)
                            return i;
                        if ("undefined" != typeof i.children)
                            for (var a = 0; a < i.children.length; a++) {
                                var n = i.children[a];
                                if (n.value == t)
                                    return n
                            }
                    }
                    return null
                },
                onInlineSelectionChanged: function(e) {
                    e.preventDefault();
                    var i = t(e.currentTarget).data("value");
                    i != this.value && (this.value = i,
                    this.trigger(p.CHANGE, this.value)),
                    this.render()
                }
            });
            d.Events = p,
            e.a = d
        }
        ).call(this, i(10))
    },
    1303: function(t, e, i) {
        var a = i(1725);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    1304: function(t, e) {
        t.exports = '<<%- tag %> href="<%- url %>" class="inline-edit-target <%- customClasses %>"><%- value %>\n<% if (label) {     %>\n<%- label %>\n<% }                %>\n</<%- tag %>>\n\n<% if(disableEditBtn) { %>\n    <span class="js-disable-edit" >\n        <button disabled>\n            <i class="icon-pencil"></i>\n        </button>\n    </span>\n<% } else { %>\n    <button class="inline-edit-trigger modal-trigger" aria-label="<%-\xa0Localizer.localize(\'edit\')\xa0%>">\n        <i class="icon-pencil"></i>\n    </button>\n\n    <div class="inline-edit-editable">\n        <div class="inline-edit-editable-text" style="min-width: 15px;" contenteditable="true"><%- value %></div>\n        <span class="inline-edit-actions">\n            <button class="inline-edit-save icon-checkmark" aria-label="<%-\xa0Localizer.localize(\'button_save\')\xa0%>"></button>\n            <button class="inline-edit-cancel icon-close" aria-label="<%-\xa0Localizer.localize(\'button_cancel\')\xa0%>"></button>\n        </span>\n    </div>\n<% } %>\n    \n\n'
    },
    1305: function(t, e, i) {
        "use strict";
        var a = Array.isArray;
        e.a = a
    },
    1306: function(t, e, i) {
        "use strict";
        var a = i(1305)
          , n = i(1587)
          , r = i(1640)
          , o = "Expected a function";
        function s(t, e) {
            if ("function" != typeof t || null != e && "function" != typeof e)
                throw new TypeError(o);
            var i = function i() {
                var a = arguments
                  , n = e ? e.apply(this, a) : a[0]
                  , r = i.cache;
                if (r.has(n))
                    return r.get(n);
                var o = t.apply(this, a);
                return i.cache = r.set(n, o) || r,
                o
            };
            return i.cache = new (s.Cache || r.a),
            i
        }
        s.Cache = r.a;
        var l = s
          , c = 500;
        var h = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g
          , p = /\\(\\)?/g
          , d = function(t) {
            var e = l(t, function(t) {
                return i.size === c && i.clear(),
                t
            })
              , i = e.cache;
            return e
        }(function(t) {
            var e = [];
            return 46 === t.charCodeAt(0) && e.push(""),
            t.replace(h, function(t, i, a, n) {
                e.push(a ? n.replace(p, "$1") : i || t)
            }),
            e
        })
          , u = i(222)
          , m = i(1739)
          , f = i(1588)
          , g = 1 / 0
          , y = u.a ? u.a.prototype : void 0
          , v = y ? y.toString : void 0;
        var b = function t(e) {
            if ("string" == typeof e)
                return e;
            if (Object(a.a)(e))
                return Object(m.a)(e, t) + "";
            if (Object(f.a)(e))
                return v ? v.call(e) : "";
            var i = e + "";
            return "0" == i && 1 / e == -g ? "-0" : i
        };
        var A = function(t) {
            return null == t ? "" : b(t)
        };
        e.a = function(t, e) {
            return Object(a.a)(t) ? t : Object(n.a)(t, e) ? [t] : d(A(t))
        }
    },
    1307: function(t, e, i) {
        var a = i(1490);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    1309: function(t, e, i) {
        "use strict";
        var a = i(20)
          , n = i.n(a)
          , r = i(11)
          , o = i.n(r)
          , s = i(1689)
          , l = i(1272)
          , c = i(1430)
          , h = i(1456)
          , p = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var a = e[i];
                    a.enumerable = a.enumerable || !1,
                    a.configurable = !0,
                    "value"in a && (a.writable = !0),
                    Object.defineProperty(t, a.key, a)
                }
            }
            return function(e, i, a) {
                return i && t(e.prototype, i),
                a && t(e, a),
                e
            }
        }();
        function d(t, e) {
            if ("function" !== typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : function(t, e) {
                for (var i = Object.getOwnPropertyNames(e), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(e, n);
                    r && r.configurable && void 0 === t[n] && Object.defineProperty(t, n, r)
                }
            }(t, e))
        }
        var u = function(t) {
            function e() {
                return function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e),
                function(t, e) {
                    if (!t)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !e || "object" !== typeof e && "function" !== typeof e ? t : e
                }(this, t.apply(this, arguments))
            }
            return d(e, t),
            e.prototype.createLeafletElement = function(t) {
                throw new Error("createLeafletElement() must be implemented")
            }
            ,
            e.prototype.updateLeafletElement = function(t, e) {}
            ,
            e.prototype.componentWillMount = function() {
                t.prototype.componentWillMount.call(this),
                this.leafletElement = this.createLeafletElement(this.props)
            }
            ,
            e.prototype.componentDidMount = function() {
                t.prototype.componentDidMount.call(this),
                this.layerContainer.addLayer(this.leafletElement)
            }
            ,
            e.prototype.componentDidUpdate = function(t) {
                this.updateLeafletElement(t, this.props)
            }
            ,
            e.prototype.componentWillUnmount = function() {
                t.prototype.componentWillUnmount.call(this),
                this.layerContainer.removeLayer(this.leafletElement)
            }
            ,
            e.prototype.render = function() {
                var t = this.props.children;
                return r.Children.count(t) > 1 ? o.a.createElement("div", {
                    style: {
                        display: "none"
                    }
                }, t) : null == t ? null : t
            }
            ,
            p(e, [{
                key: "layerContainer",
                get: function() {
                    return this.context.layerContainer || this.context.map
                }
            }]),
            e
        }(s.a);
        u.propTypes = {
            children: l.a
        },
        u.contextTypes = {
            layerContainer: c.a,
            map: h.a,
            pane: n.a.string
        },
        e.a = u
    },
    1312: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(13)
          , c = i(1323)
          , h = i(58)
          , p = i(87)
          , d = i(1245)
          , u = i.n(d)
          , m = i(1270)
          , f = i.n(m)
          , g = i(1459)
          , y = i.n(g)
          , v = i(15)
          , b = i.n(v);
        f()(u.a),
        y()(u.a);
        e.a = o.a.View.extend({
            initialize: function(t) {
                this.report = t.report,
                this.reportType = t.reportType,
                this.activeTab = t.activeTab,
                this.metricList = t.metricList,
                this.metricPeriod = t.metricPeriod,
                this.userPreferences = t.userPreferences,
                this.daysInMonth = t.daysInMonth,
                this.chartType = t.chartType,
                this.chartFormat = t.chartFormat,
                this.currentDateOffset = t.currentDateOffset,
                this.startDateStr = t.startDateStr,
                this.fromDate = h.a.parseISO(this.startDateStr),
                this.untilDateStr = t.untilDateStr,
                this.toDate = h.a.parseISO(this.untilDateStr),
                this.initExportData(),
                this.initializeChart(t)
            },
            initExportData: function() {
                this.exportDataCount = 0,
                this.exportData = {
                    title: s.a.localize(this.report.metricName),
                    rows: []
                }
            },
            initializeChart: function(t) {},
            render: function() {
                this.calcStartingMonthDayAndYearNumbers(),
                this.getXAxisCategories(),
                this.yAxisTitle = this.determineYAxisTitle(),
                this.yAxisLabel = this.determineYAxisLabel(),
                this.initializeChartSeries(),
                this.createExportDataRowHeader(),
                this.compileStats(),
                null != this.chartSeries && (this.options = this.createOption(),
                this.setCategories(),
                this.setSeries(),
                this.customizeOptions(),
                this.chartObj = new u.a.Chart(this.el,this.options),
                this.postRender())
            },
            postRender: function() {},
            initializeChartSeries: function() {
                this.chartSeries = {}
            },
            createExportDataRowHeader: function() {},
            determineYAxisLabel: function() {
                return ""
            },
            compileStats: function() {
                this.metricList.each(this.processMetricList, this)
            },
            processMetricList: function(t) {
                var e = t.get("metricsMap")[this.report.metricName];
                if (e) {
                    this.metricAvailable = e.length;
                    for (var i = 0; i < e.length; i++)
                        this.addMetricToDataset(e[i])
                }
            },
            createZeroArray: function() {
                switch (this.metricPeriod) {
                case "daily":
                    return [0, 0, 0, 0, 0, 0, 0];
                case "weekly":
                    return [0, 0, 0, 0];
                case "monthly":
                    return [0, 0, 0, 0, 0, 0];
                case "yearly":
                    return [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                }
            },
            createNullArray: function() {
                switch (this.metricPeriod) {
                case "daily":
                    return [null, null, null, null, null, null, null];
                case "weekly":
                    return [null, null, null, null];
                case "monthly":
                    return [null, null, null, null, null, null];
                case "yearly":
                    return [null, null, null, null, null, null, null, null, null, null, null, null]
                }
            },
            getXAxisCategories: function() {
                switch (this.metricPeriod) {
                case "daily":
                    this.getDailyCategories();
                    break;
                case "weekly":
                    this.getWeeklyCategories();
                    break;
                case "monthly":
                    this.getMonthlyCategories();
                    break;
                case "yearly":
                    this.getYearlyCategories()
                }
            },
            createOption: function() {
                var t = {
                    chart: {
                        renderTo: "report-graph",
                        type: this.chartType,
                        backgroundColor: "transparent"
                    },
                    exporting: {
                        enabled: !1
                    },
                    credits: {
                        enabled: !1
                    },
                    title: {
                        text: ""
                    },
                    xAxis: {},
                    yAxis: {
                        min: 0,
                        title: {
                            text: "",
                            style: {
                                color: "#222"
                            }
                        },
                        labels: {
                            formatter: function() {
                                return l.a.formatDecimalNumber(this.value, 0) + " " + e.yAxisLabel
                            }
                        },
                        plotLines: [{
                            value: 0,
                            width: 1,
                            color: "#808080"
                        }],
                        allowDecimals: !1
                    },
                    legend: {
                        enabled: !1,
                        itemStyle: {
                            fontWeight: "normal"
                        }
                    },
                    plotOptions: {},
                    tooltip: {}
                }
                  , e = this;
                return "widget" == this.chartFormat ? (t.chart.height = 180,
                t.chart.width = 290,
                t.chart.events = {
                    click: function(t) {
                        t.preventDefault();
                        var i = "/report/" + e.report.metricId + "/" + e.reportType + "/" + e.activeTab;
                        o.a.history.navigate(i, {
                            trigger: !0
                        })
                    }
                }) : t.chart.zoomType = "xy",    // TX GCOverrides
                     t.chart.panning = true,     // TX GCOverrides
                     t.chart.panKey = 'shift',   // TX GCOverrides
                t
            },
            setCategories: function() {
                this.options.xAxis = {
                    categories: this.categories
                }
            },
            setSeries: function() {
                this.options.series = n.a.toArray(this.chartSeries)
            },
            getDailyCategories: function() {
                this.categories = [];
                for (var t = -6; t <= 0; t++) {
                    var e = new Date;
                    e.setHours(12),
                    e.setMinutes(0),
                    e.setMilliseconds(0),
                    e.setDate(e.getDate() + this.currentDateOffset),
                    e.setDate(e.getDate() + t);
                    var i, a = e.getDay().toString();
                    i = s.a.localize("day." + a + ".short"),
                    this.categories.push(i)
                }
            },
            getWeeklyCategories: function() {
                if (this.categories = [],
                this.startDateStr)
                    for (var t = h.a.parseISO(this.startDateStr), e = this.userPreferences.get("dateFormat").formatKey, i = 0; i < 4; i++) {
                        var a = c.a.formatMonthDate(p.a.addDays(t, 7 * i), e);
                        this.categories.push(a)
                    }
                else {
                    var n = "0";
                    switch (this.userPreferences.get("firstDayOfWeek").dayName) {
                    case "saturday":
                        n = "6";
                        break;
                    case "monday":
                        n = "1"
                    }
                    for (i = this.daysInMonth; i <= 0; i++) {
                        var r = new Date;
                        if (r.setHours(12),
                        r.setMinutes(0),
                        r.setMilliseconds(0),
                        r.setDate(r.getDate() + this.currentDateOffset),
                        r.setDate(r.getDate() + i),
                        r.getDay().toString() == n) {
                            var o = r.getDate().toString()
                              , l = (r.getMonth() + 1).toString()
                              , d = this.userPreferences.get("dateFormat");
                            a = "";
                            a = "mmddyyyy" == d.formatKey || "yyyymmdd" == d.formatKey ? s.a.localize("month.abbr." + (l.length > 1 ? l : "0" + l)) + " " + o : o + " " + s.a.localize("month.abbr." + (l.length > 1 ? l : "0" + l)),
                            this.categories.push(a)
                        }
                    }
                }
            },
            getMonthlyCategories: function() {
                this.categories = [];
                for (var t = this.startMonth, e = this.startYear, i = 0; i < 6; i++) {
                    var a = new Date(e,t + 1,0,0,0,0,0).getMonth() + 1;
                    this.categories.push(s.a.localize("month.abbr." + (a > 9 ? a : "0" + a))),
                    ++t > 11 && (e++,
                    t = 0)
                }
            },
            getYearlyCategories: function() {
                this.categories = [];
                var t = b()(this.startDateStr)
                  , e = b()(this.untilDateStr);
                for (this.startMonth = t.month(); t.isBefore(e); ) {
                    t.add(1, "M");
                    var i = t.month();
                    this.categories.push(s.a.localize("month.abbr." + p.a.pad2(i || 12)))
                }
            },
            calcStartingMonthDayAndYearNumbers: function() {
                var t = new Date;
                switch (t.setHours(12),
                t.setMinutes(0),
                t.setMilliseconds(0),
                t.setDate(t.getDate() + this.currentDateOffset),
                this.metricPeriod) {
                case "daily":
                    break;
                case "weekly":
                    t.setMonth(t.getMonth() - 1);
                    break;
                case "monthly":
                    t.setMonth(t.getMonth() - 5);
                    break;
                case "yearly":
                    t.setMonth(t.getMonth() - 11)
                }
                this.startMonth = t.getMonth(),
                this.startYear = t.getFullYear(),
                this.startDate = t.getDate()
            },
            calculateDailyDataIndex: function(t) {
                var e = c.a.formatDate(this.currentDateOffset)
                  , i = 7 - c.a.determineNumberOfDays(t, e);
                return i < 0 || i > 6 ? -1 : i
            },
            calculateWeeklyDataIndex: function(t) {
                var e = t.split("-")
                  , i = new Date(e[0],e[1] - 1,e[2],0,0,0)
                  , a = i.getMonth() + 1
                  , n = i.getDate()
                  , r = this.userPreferences.get("dateFormat")
                  , o = "";
                o = "mmddyyyy" == r.formatKey || "yyyymmdd" == r.formatKey ? s.a.localize("month.abbr." + (a > 9 ? a : "0" + a)) + " " + n : n + " " + s.a.localize("month.abbr." + (a > 9 ? a : "0" + a));
                var l = this.categories.indexOf(o);
                return l < 0 || l > 3 ? -1 : l
            },
            calculateMonthlyDataIndex: function(t) {
                var e = s.a.localize("month.abbr." + (t > 9 ? t : "0" + t))
                  , i = this.categories.indexOf(e);
                return i < 0 || i > 5 ? -1 : i
            },
            calculateYearlyDataIndex: function(t, e) {
                var i = t - this.startMonth + 12 * (e - this.startYear);
                return i < 0 || i > 11 ? -1 : i
            },
            determineDataIndex: function(t) {
                var e = "";
                switch (this.metricPeriod) {
                case "daily":
                    e = this.calculateDailyDataIndex(t.calendarDate);
                    break;
                case "weekly":
                    e = this.calculateWeeklyDataIndex(t.startDateOfWeek);
                    break;
                case "monthly":
                    var i = t.month;
                    e = this.calculateMonthlyDataIndex(i.monthId);
                    break;
                case "yearly":
                    i = t.month;
                    e = this.calculateYearlyDataIndex(i.monthId - 1, i.year, this.startMonth, this.startYear)
                }
                return e
            },
            getExportData: function() {
                return this.exportData
            }
        })
    },
    1315: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(80)
          , o = i(1239)
          , s = i(64)
          , l = {
            public: {
                id: 1,
                key: "public"
            },
            private: {
                id: 2,
                key: "private"
            }
        }
          , c = n.a.Model.extend({
            urlRoot: s.default.url("/proxy/course-service/course/"),
            idAttribute: "courseId",
            initialize: function(t) {
                t && t.courseId && (this.courseId = t.courseId)
            },
            sync: function(t, e, i) {
                "update" !== t && "delete" !== t || !this.courseId && this.id && (this.courseId = this.id),
                r.a.userInChina() ? this.courseId && (i.url = "delete" === t || "update" === t ? this.urlRoot + this.courseId : this.urlRoot + this.courseId + "?targetCoordinateSystem=" + o.a.CoordinateSystem.BD09) : this.courseId && (i.url = this.urlRoot + this.courseId),
                n.a.sync.call(this, t, e, i)
            },
            getPrivacyRule: function() {
                var t = this.get("rulePK");
                return t === l.public.id ? l.public.key : t === l.private.id ? l.private.key : null
            },
            getRulesDTO: function() {
                return l
            }
        });
        c.RulesDTO = l,
        e.a = c
    },
    1316: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = o.a.Model.extend({
            isReady: !1,
            isChanged: !1,
            constructor: function(t) {
                this.on("sync", function() {
                    this.isReady = !0
                }
                .bind(this)),
                o.a.Model.apply(this, arguments)
            },
            save: function(t, e) {
                if (this.isChanged)
                    return this.isChanged = !1,
                    o.a.Model.prototype.save.call(this, t, e)
            },
            set: function(t, e) {
                return !this.isReady || n.a.isEmpty(t) || e && e.xhr || (this.isChanged = !0),
                o.a.Model.prototype.set.call(this, t, e)
            },
            hasChanges: function() {
                return this.isChanged
            }
        });
        e.a = s
    },
    1318: function(t, e, i) {
        "use strict";
        e.a = function(t) {
            var e = typeof t;
            return null != t && ("object" == e || "function" == e)
        }
    },
    132: function(t, e, i) {
        "use strict";
        i.r(e);
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(1351)
          , l = i(1253)
          , c = i(37)
          , h = (i(1303),
        o.a.Model.extend({
            idAttribute: "activityId",
            url: function() {
                return "/proxy/activity-service/activity/" + this.id
            },
            initialize: function() {
                this.bind("change:duration", this.validateFields, this),
                this.bind("change:distance", this.validateFields, this)
            },
            getOwnerId: function() {
                return this.get("userInfoDto").userProfilePk
            },
            getActivityTypeKey: function() {
                return this.get("activityTypeDTO").typeKey
            },
            isParent: function() {
                return this.get("isMultiSportParent")
            },
            hasParent: function() {
                var t = this.get("parentId");
                return !("undefined" == typeof t || null == t)
            },
            isLapSwimming: function() {
                var t = this.get("numberOfActiveLengths")
                  , e = this.get("activityTypeDTO").typeKey;
                return "undefined" != typeof t && null != t && 0 != t && "strength_training" !== e
            },
            isCycling: function() {
                return "cycling" == l.a.map(this.get("activityTypeDTO").typeKey)
            },
            isFloorClimbing: function() {
                return "floor_climbing" === this.getActivityTypeKey()
            },
            isDiving: function() {
                return c.a.isDivingActivity(this.get("activityTypeDTO").typeKey)
            },
            isBackcountrySki: function() {
                return c.a.isBackcountrySkiActivity(this.get("activityTypeDTO").typeKey)
            },
            isSurfingActivity: function() {
                return c.a.isSurfingActivity(this.get("activityTypeDTO").typeKey)
            },
            isSafetyEvent: function() {
                return c.a.isSafetyEvent(this.get("activityTypeDTO").typeKey)
            },
            hasCyclingDynamicsData: function() {
                return !!(this.get("rightPowerPhaseArcCenter") || this.get("rightPowerPhaseArcLength") || this.get("rightPowerPhaseEnd") || this.get("rightPlatformCenterOffset") || this.get("seatedTime") || this.get("standingCount"))
            },
            isRunning: function() {
                return "running" == l.a.map(this.get("activityTypeDTO").typeKey)
            },
            isSwimming: function() {
                return "swimming" == l.a.map(this.get("activityTypeDTO").typeKey)
            },
            hasConnectIQMeasurements: function() {
                return this.has("connectIQMeasurements")
            },
            getIndexOfChild: function(t) {
                return this.isParent() ? n.a.indexOf(this.get("childIds"), t) : null
            },
            hasPodSenor: function() {
                if (this.has("metadataDTO") && this.get("metadataDTO").sensors) {
                    var t = n.a.find(this.get("metadataDTO").sensors, function(t) {
                        return t.bodyLocation && "WAIST_MID_BACK" === t.bodyLocation
                    });
                    if (t && !n.a.isEmpty(t))
                        return !0
                }
                return !1
            },
            hasVectorAirCdAData: function() {
                return this.get("avgCda") || this.get("maxCda") || this.get("avgWattsPerCda")
            },
            hasMTBData: function() {
                return this.get("flow") || this.get("grit") || this.has("jumpCount") && this.get("jumpCount") > 0
            },
            hasStrokeData: function() {
                return this.has("totalNumberOfStrokes") || this.has("averageStrokeCadence") || this.has("maxStrokeCadence") || this.has("averageStrokeDistance")
            },
            canDisplayAccessories: function() {
                return this.hasPodSenor()
            },
            canDisplayAccessoriesBatteryStatus: function() {
                var t = !1;
                return this.has("metadataDTO") && this.get("metadataDTO").sensors ? (t = this.getListOfAccessoriesWithBatteryStatus()) && t.length > 0 : t
            },
            getListOfAccessoriesWithBatteryStatus: function() {
                var t, e, i, a = [], r = this;
                if (this.get("metadataDTO") && this.get("metadataDTO").sensors)
                    for (var o = 0, l = this.get("metadataDTO").sensors.length; o < l; o += 1)
                        if ((t = this.get("metadataDTO").sensors[o]) && t.sku)
                            for (var c in s.a.AccessoriesWithBatteryStatus)
                                c && s.a.AccessoriesWithBatteryStatus.hasOwnProperty(c) && (e = t.sku.indexOf(s.a.AccessoriesWithBatteryStatus[c].sku) > -1,
                                i = n.a.find(a, function(e) {
                                    return e.sku.indexOf(t.sku) > -1 && r.sameSensorSerialNumber(t, e)
                                }),
                                e && !i && t.batteryStatus && (t.name = s.a.AccessoriesWithBatteryStatus[c].name,
                                t.imageUrl = s.a.AccessoriesWithBatteryStatus[c].imageUrl,
                                a.push(t)));
                return a
            },
            sameSensorSerialNumber: function(t, e) {
                return !!e.serialNumber && e.serialNumber === t.serialNumber
            },
            getListOfAccessories: function() {
                return s.a.Accessories
            },
            getAccessoryWithBatteryStatus: function(t) {
                return n.a.filter(this.get("metadataDTO").sensors, function(e) {
                    if (e.sku && t === e.sku && e.batteryStatus)
                        return e
                })
            },
            getBatteryInfo: function(t) {
                var e, i = {};
                if (e = this.getAccessoryWithBatteryStatus(t.sku))
                    if (1 === e.length)
                        i = e[0];
                    else
                        for (var a = 0, r = e.length; a < r; a += 1)
                            e[a] && e[a].batteryStatus && (!i || n.a.isEmpty(i) ? i = e[a] : s.a.BatteryStatusTypes[i.batteryStatus].rank > s.a.BatteryStatusTypes[e[a].batteryStatus].rank && (i = e[a]));
                return i.name = t.name,
                i.imageUrl = t.imageUrl,
                i
            },
            getBatteryStatusTypes: function() {
                return s.a.BatteryStatusTypes
            },
            isActivitySaveAsCourseCapable: function() {
                return "open_water_swimming" !== this.get("activityTypeDTO").typeKey
            },
            getConnectedGPSSensor: function() {
                var t = null;
                return this.has("metadataDTO") && this.get("metadataDTO").sensors && (t = this.get("metadataDTO").sensors.find(function(t) {
                    return "CONNECTED_GPS" === t.bleDeviceType
                })),
                t
            },
            parse: function(t) {
                if (!t)
                    return t;
                var e = {};
                for (var i in this.metaDataKeys = [],
                this.summaryKeys = [],
                this.diveKeys = [],
                t)
                    if (t.hasOwnProperty(i)) {
                        var a = t[i];
                        "metadataDTO" === i ? (n.a.extend(e, a),
                        this.metaDataKeys = n.a.keys(a)) : "summaryDTO" === i ? (n.a.extend(e, a),
                        this.summaryKeys = n.a.keys(a)) : "diveInfo" === i ? (n.a.extend(e, a),
                        this.diveKeys = n.a.keys(a)) : "activityTypeDTO" === i && (this.attributes.activityType = a),
                        e[i] = a
                    }
                return e
            },
            save: function() {
                var t = this.unsavedAttributes();
                if (t) {
                    var e = {};
                    for (var i in t)
                        if (t.hasOwnProperty(i)) {
                            var a = t[i];
                            n.a.indexOf(this.metaDataKeys, i) > 1 ? (e.metadataDTO || (e.metadataDTO = {}),
                            e.metadataDTO[i] = a) : n.a.indexOf(this.summaryKeys, i) > 1 ? (e.summaryDTO || (e.summaryDTO = {}),
                            e.summaryDTO[i] = a) : n.a.indexOf(this.diveKeys, i) > 1 ? (e.diveInfo || (e.diveInfo = this.get("diveInfo")),
                            e.diveInfo[i] = a) : e[i] = a
                        }
                    return e[this.idAttribute] = this.id,
                    o.a.Model.prototype.save.call(this, e, {
                        patch: !0
                    })
                }
            },
            toJSON: function() {
                return o.a.Model.prototype.toJSON.call(this)
            },
            isNew: function() {
                return !1
            },
            sync: function(t, e, i) {
                "patch" === t && (t = "update"),
                o.a.Model.prototype.sync.call(this, t, e, i)
            }
        }));
        e.default = h
    },
    1321: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        e.a = n.a.Model.extend({
            getLatitude: function() {
                return this.get("latitude")
            },
            getLongitude: function() {
                return this.get("longitude")
            },
            setLatitude: function(t) {
                return this.set("latitude", t),
                this
            },
            setLongitude: function(t) {
                return this.set("longitude", t),
                this
            }
        })
    },
    1324: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(64)
          , l = o.a.Model.extend({
            defaults: {
                latitude: null,
                longitude: null,
                elevation: null,
                distance: null
            },
            getLatitude: function() {
                return this.get("latitude")
            },
            getLongitude: function() {
                return this.get("longitude")
            },
            getElevation: function() {
                return this.get("elevation")
            },
            getDistance: function() {
                return this.get("distance")
            },
            setLatitude: function(t) {
                return this.set("latitude", t),
                this
            },
            setLongitude: function(t) {
                return this.set("longitude", t),
                this
            },
            setElevation: function(t) {
                return this.set("elevation", t),
                this
            },
            setDistance: function(t) {
                return this.set("distance", t),
                this
            }
        })
          , c = i(80)
          , h = o.a.Collection.extend({
            model: l,
            url: function() {
                return c.a.userInChina() ? s.default.url("/proxy/course-service/course/elevation/from/BD09/CN") : s.default.url("/proxy/course-service/course/elevation")
            },
            fetch: function(t) {
                var e = t || {};
                return e.url = this.url(),
                e.contentType = "application/json",
                e.type = "POST",
                e.data = this.getFormatedData(),
                o.a.Collection.prototype.fetch.call(this, e)
            },
            getFormatedData: function() {
                var t = [];
                return n.a.each(this.models, function(e) {
                    t.push([e.getLatitude(), e.getLongitude(), null])
                }),
                JSON.stringify(t)
            },
            getElevationByLatLng: function(t, e) {
                var i = this.findWhere({
                    latitude: t,
                    longitude: e
                });
                return i ? i.getElevation() : null
            },
            parse: function(t) {
                if (t) {
                    var e = [];
                    return n.a.each(t, function(t) {
                        e.push(new l({
                            latitude: t[0],
                            longitude: t[1],
                            elevation: t[2]
                        }))
                    }),
                    e
                }
            }
        })
          , p = function(t) {};
        p.prototype.fetch = function(t, e) {
            var i = new h
              , a = null;
            n.a.each(t.geoPoints, function(t) {
                n.a.each(t.points, function(t) {
                    t.elevation = null,
                    a = new l({
                        latitude: t.lat,
                        longitude: t.lng
                    }),
                    i.add(a)
                })
            }),
            i.fetch({
                success: function() {
                    t.success && (n.a.each(t.geoPoints, function(t) {
                        n.a.each(t.points, function(t) {
                            t.elevation = i.getElevationByLatLng(t.lat, t.lng)
                        })
                    }),
                    t.success.call(e, t.geoPoints))
                },
                error: function(i, a, n) {
                    t.error && t.error.call(e, n, a)
                }
            })
        }
        ;
        var d = p
          , u = i(1321)
          , m = i(1239)
          , f = o.a.Collection.extend({
            model: u.a,
            urlRoot: "/proxy/course-service/course/popularRoutes",
            url: function() {
                return c.a.userInChina() ? this.urlRoot + "?sourceCoordinateSystem=" + m.a.CoordinateSystem.BD09 + "&targetCoordinateSystem=" + m.a.CoordinateSystem.BD09 + "&startLat=" + this.startLat + "&startLon=" + this.startLon + "&endLat=" + this.endLat + "&endLon=" + this.endLon + (this.courseType ? "&courseType=" + this.courseType : "") : this.urlRoot + "?startLat=" + this.startLat + "&startLon=" + this.startLon + "&endLat=" + this.endLat + "&endLon=" + this.endLon + (this.courseType ? "&courseType=" + this.courseType : "")
            },
            initialize: function(t) {
                if (!t.startLat)
                    throw "startLat is required";
                if (!t.startLon)
                    throw "startLon is required";
                if (!t.endLat)
                    throw "endLat is required";
                if (!t.endLon)
                    throw "endLon is required";
                this.courseType = t.courseType,
                this.startLat = t.startLat,
                this.startLon = t.startLon,
                this.endLat = t.endLat,
                this.endLon = t.endLon
            },
            parse: function(t) {
                if (t) {
                    var e = [];
                    return n.a.each(t, function(t) {
                        n.a.each(t, function(t) {
                            e.push({
                                latitude: t[0],
                                longitude: t[1]
                            })
                        })
                    }),
                    e
                }
            }
        })
          , g = i(1276)
          , y = function() {};
        y.prototype.fetch = function(t, e) {
            var i, a, n, r = t.courseType && m.a.PopularityRouteTypes[t.courseType.toUpperCase()] || m.a.PopularityRouteTypes.ROAD_CYCLING, o = new f({
                startLat: t.start[0],
                startLon: t.start[1],
                endLat: t.end[0],
                endLon: t.end[1],
                courseType: r
            }), s = [], l = 0;
            o.fetch({
                success: function(r, o, c) {
                    if (t.success)
                        if (200 === c.xhr.status && r) {
                            for (r.each(function(t) {
                                s.push([t.getLatitude(), t.getLongitude(), 0, 0])
                            }),
                            i = 0; i < r.models.length - 1; i++)
                                a = r.models[i],
                                n = r.models[i + 1],
                                l += g.a.calculateDistanceBetweenPointsInMeters(a.getLatitude(), a.getLongitude(), n.getLatitude(), n.getLongitude());
                            t.success.call(e, {
                                points: s,
                                meters: l
                            })
                        } else
                            204 === c.xhr.status ? t.error.call(e, c.xhr.statusText, c.xhr.status, m.a.ErrorCodes.PR_NO_ROUTING_DATA) : t.error.call(e, c.xhr.statusText, c.xhr.status, m.a.ErrorCodes.PR_GENERIC)
                },
                error: function(i, a) {
                    t.error && t.error.call(e, a.statusText, a.status, m.a.ErrorCodes.PR_GENERIC)
                }
            })
        }
        ;
        var v = y
          , b = i(1382)
          , A = function() {
            return this.name = null,
            this.directionService = null,
            this.locationService = null,
            this.elevationService = new d,
            this.popularityRoutingService = new v,
            this.convertService = new b.a,
            this
        };
        A.prototype.getDirectionService = function() {
            return this.directionService
        }
        ,
        A.prototype.getLocationService = function() {
            return this.locationService
        }
        ,
        A.prototype.getElevationService = function() {
            return this.elevationService
        }
        ,
        A.prototype.getPopularityRoutingService = function() {
            return this.popularityRoutingService
        }
        ,
        A.prototype.getConvertService = function() {
            return this.convertService
        }
        ,
        A.prototype.updateTransitionMode = function(t) {
            this.directionService && "function" === typeof this.directionService.updateTransitionMode && this.directionService.updateTransitionMode(t)
        }
        ,
        A.prototype.getName = function() {
            return this.name
        }
        ,
        A.prototype.getSupportedMaxZoom = function() {
            return 18
        }
        ,
        A.prototype.getSupportedMinZoom = function() {
            return 3
        }
        ;
        e.a = A
    },
    1325: function(t, e, i) {
        "use strict";
        var a = i(312)
          , n = i(11);
        function r(t) {
            for (var e = "https://reactjs.org/docs/error-decoder.html?invariant=" + t, i = 1; i < arguments.length; i++)
                e += "&args[]=" + encodeURIComponent(arguments[i]);
            return "Minified React error #" + t + "; visit " + e + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
        }
        var o = "function" === typeof Symbol && Symbol.for
          , s = o ? Symbol.for("react.portal") : 60106
          , l = o ? Symbol.for("react.fragment") : 60107
          , c = o ? Symbol.for("react.strict_mode") : 60108
          , h = o ? Symbol.for("react.profiler") : 60114
          , p = o ? Symbol.for("react.provider") : 60109
          , d = o ? Symbol.for("react.context") : 60110
          , u = o ? Symbol.for("react.concurrent_mode") : 60111
          , m = o ? Symbol.for("react.forward_ref") : 60112
          , f = o ? Symbol.for("react.suspense") : 60113
          , g = o ? Symbol.for("react.suspense_list") : 60120
          , y = o ? Symbol.for("react.memo") : 60115
          , v = o ? Symbol.for("react.lazy") : 60116
          , b = o ? Symbol.for("react.fundamental") : 60117
          , A = o ? Symbol.for("react.scope") : 60119
          , _ = n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
        function C(t) {
            if (null == t)
                return null;
            if ("function" === typeof t)
                return t.displayName || t.name || null;
            if ("string" === typeof t)
                return t;
            switch (t) {
            case l:
                return "Fragment";
            case s:
                return "Portal";
            case h:
                return "Profiler";
            case c:
                return "StrictMode";
            case f:
                return "Suspense";
            case g:
                return "SuspenseList"
            }
            if ("object" === typeof t)
                switch (t.$$typeof) {
                case d:
                    return "Context.Consumer";
                case p:
                    return "Context.Provider";
                case m:
                    var e = t.render;
                    return e = e.displayName || e.name || "",
                    t.displayName || ("" !== e ? "ForwardRef(" + e + ")" : "ForwardRef");
                case y:
                    return C(t.type);
                case v:
                    if (t = 1 === t._status ? t._result : null)
                        return C(t)
                }
            return null
        }
        _.hasOwnProperty("ReactCurrentDispatcher") || (_.ReactCurrentDispatcher = {
            current: null
        }),
        _.hasOwnProperty("ReactCurrentBatchConfig") || (_.ReactCurrentBatchConfig = {
            suspense: null
        });
        var w = {};
        function x(t, e) {
            for (var i = 0 | t._threadCount; i <= e; i++)
                t[i] = t._currentValue2,
                t._threadCount = i + 1
        }
        for (var S = new Uint16Array(16), T = 0; 15 > T; T++)
            S[T] = T + 1;
        S[15] = 0;
        var E = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/
          , k = Object.prototype.hasOwnProperty
          , L = {}
          , P = {};
        function I(t) {
            return !!k.call(P, t) || !k.call(L, t) && (E.test(t) ? P[t] = !0 : (L[t] = !0,
            !1))
        }
        function z(t, e, i, a, n, r) {
            this.acceptsBooleans = 2 === e || 3 === e || 4 === e,
            this.attributeName = a,
            this.attributeNamespace = n,
            this.mustUseProperty = i,
            this.propertyName = t,
            this.type = e,
            this.sanitizeURL = r
        }
        var B = {};
        "children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t) {
            B[t] = new z(t,0,!1,t,null,!1)
        }),
        [["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function(t) {
            var e = t[0];
            B[e] = new z(e,1,!1,t[1],null,!1)
        }),
        ["contentEditable", "draggable", "spellCheck", "value"].forEach(function(t) {
            B[t] = new z(t,2,!1,t.toLowerCase(),null,!1)
        }),
        ["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function(t) {
            B[t] = new z(t,2,!1,t,null,!1)
        }),
        "allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t) {
            B[t] = new z(t,3,!1,t.toLowerCase(),null,!1)
        }),
        ["checked", "multiple", "muted", "selected"].forEach(function(t) {
            B[t] = new z(t,3,!0,t,null,!1)
        }),
        ["capture", "download"].forEach(function(t) {
            B[t] = new z(t,4,!1,t,null,!1)
        }),
        ["cols", "rows", "size", "span"].forEach(function(t) {
            B[t] = new z(t,6,!1,t,null,!1)
        }),
        ["rowSpan", "start"].forEach(function(t) {
            B[t] = new z(t,5,!1,t.toLowerCase(),null,!1)
        });
        var D = /[\-:]([a-z])/g;
        function M(t) {
            return t[1].toUpperCase()
        }
        "accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t) {
            var e = t.replace(D, M);
            B[e] = new z(e,1,!1,t,null,!1)
        }),
        "xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t) {
            var e = t.replace(D, M);
            B[e] = new z(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)
        }),
        ["xml:base", "xml:lang", "xml:space"].forEach(function(t) {
            var e = t.replace(D, M);
            B[e] = new z(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)
        }),
        ["tabIndex", "crossOrigin"].forEach(function(t) {
            B[t] = new z(t,1,!1,t.toLowerCase(),null,!1)
        }),
        B.xlinkHref = new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),
        ["src", "href", "action", "formAction"].forEach(function(t) {
            B[t] = new z(t,1,!1,t.toLowerCase(),null,!0)
        });
        var O = /["'&<>]/;
        function R(t) {
            if ("boolean" === typeof t || "number" === typeof t)
                return "" + t;
            t = "" + t;
            var e = O.exec(t);
            if (e) {
                var i, a = "", n = 0;
                for (i = e.index; i < t.length; i++) {
                    switch (t.charCodeAt(i)) {
                    case 34:
                        e = "&quot;";
                        break;
                    case 38:
                        e = "&amp;";
                        break;
                    case 39:
                        e = "&#x27;";
                        break;
                    case 60:
                        e = "&lt;";
                        break;
                    case 62:
                        e = "&gt;";
                        break;
                    default:
                        continue
                    }
                    n !== i && (a += t.substring(n, i)),
                    n = i + 1,
                    a += e
                }
                t = n !== i ? a + t.substring(n, i) : a
            }
            return t
        }
        function N(t, e) {
            var i, a = B.hasOwnProperty(t) ? B[t] : null;
            return (i = "style" !== t) && (i = null !== a ? 0 === a.type : 2 < t.length && ("o" === t[0] || "O" === t[0]) && ("n" === t[1] || "N" === t[1])),
            i || function(t, e, i, a) {
                if (null === e || "undefined" === typeof e || function(t, e, i, a) {
                    if (null !== i && 0 === i.type)
                        return !1;
                    switch (typeof e) {
                    case "function":
                    case "symbol":
                        return !0;
                    case "boolean":
                        return !a && (null !== i ? !i.acceptsBooleans : "data-" !== (t = t.toLowerCase().slice(0, 5)) && "aria-" !== t);
                    default:
                        return !1
                    }
                }(t, e, i, a))
                    return !0;
                if (a)
                    return !1;
                if (null !== i)
                    switch (i.type) {
                    case 3:
                        return !e;
                    case 4:
                        return !1 === e;
                    case 5:
                        return isNaN(e);
                    case 6:
                        return isNaN(e) || 1 > e
                    }
                return !1
            }(t, e, a, !1) ? "" : null !== a ? (t = a.attributeName,
            3 === (i = a.type) || 4 === i && !0 === e ? t + '=""' : (a.sanitizeURL && (e = "" + e),
            t + '="' + R(e) + '"')) : I(t) ? t + '="' + R(e) + '"' : ""
        }
        var V = "function" === typeof Object.is ? Object.is : function(t, e) {
            return t === e && (0 !== t || 1 / t === 1 / e) || t !== t && e !== e
        }
          , j = null
          , F = null
          , G = null
          , U = !1
          , H = !1
          , K = null
          , W = 0;
        function Q() {
            if (null === j)
                throw Error(r(321));
            return j
        }
        function Y() {
            if (0 < W)
                throw Error(r(312));
            return {
                memoizedState: null,
                queue: null,
                next: null
            }
        }
        function Z() {
            return null === G ? null === F ? (U = !1,
            F = G = Y()) : (U = !0,
            G = F) : null === G.next ? (U = !1,
            G = G.next = Y()) : (U = !0,
            G = G.next),
            G
        }
        function $(t, e, i, a) {
            for (; H; )
                H = !1,
                W += 1,
                G = null,
                i = t(e, a);
            return F = j = null,
            W = 0,
            G = K = null,
            i
        }
        function q(t, e) {
            return "function" === typeof e ? e(t) : e
        }
        function X(t, e, i) {
            if (j = Q(),
            G = Z(),
            U) {
                var a = G.queue;
                if (e = a.dispatch,
                null !== K && void 0 !== (i = K.get(a))) {
                    K.delete(a),
                    a = G.memoizedState;
                    do {
                        a = t(a, i.action),
                        i = i.next
                    } while (null !== i);return G.memoizedState = a,
                    [a, e]
                }
                return [G.memoizedState, e]
            }
            return t = t === q ? "function" === typeof e ? e() : e : void 0 !== i ? i(e) : e,
            G.memoizedState = t,
            t = (t = G.queue = {
                last: null,
                dispatch: null
            }).dispatch = function(t, e, i) {
                if (!(25 > W))
                    throw Error(r(301));
                if (t === j)
                    if (H = !0,
                    t = {
                        action: i,
                        next: null
                    },
                    null === K && (K = new Map),
                    void 0 === (i = K.get(e)))
                        K.set(e, t);
                    else {
                        for (e = i; null !== e.next; )
                            e = e.next;
                        e.next = t
                    }
            }
            .bind(null, j, t),
            [G.memoizedState, t]
        }
        function J() {}
        var tt = 0
          , et = {
            readContext: function(t) {
                var e = tt;
                return x(t, e),
                t[e]
            },
            useContext: function(t) {
                Q();
                var e = tt;
                return x(t, e),
                t[e]
            },
            useMemo: function(t, e) {
                if (j = Q(),
                e = void 0 === e ? null : e,
                null !== (G = Z())) {
                    var i = G.memoizedState;
                    if (null !== i && null !== e) {
                        t: {
                            var a = i[1];
                            if (null === a)
                                a = !1;
                            else {
                                for (var n = 0; n < a.length && n < e.length; n++)
                                    if (!V(e[n], a[n])) {
                                        a = !1;
                                        break t
                                    }
                                a = !0
                            }
                        }
                        if (a)
                            return i[0]
                    }
                }
                return t = t(),
                G.memoizedState = [t, e],
                t
            },
            useReducer: X,
            useRef: function(t) {
                j = Q();
                var e = (G = Z()).memoizedState;
                return null === e ? (t = {
                    current: t
                },
                G.memoizedState = t) : e
            },
            useState: function(t) {
                return X(q, t)
            },
            useLayoutEffect: function() {},
            useCallback: function(t) {
                return t
            },
            useImperativeHandle: J,
            useEffect: J,
            useDebugValue: J,
            useResponder: function(t, e) {
                return {
                    props: e,
                    responder: t
                }
            },
            useDeferredValue: function(t) {
                return Q(),
                t
            },
            useTransition: function() {
                return Q(),
                [function(t) {
                    t()
                }
                , !1]
            }
        }
          , it = {
            html: "http://www.w3.org/1999/xhtml",
            mathml: "http://www.w3.org/1998/Math/MathML",
            svg: "http://www.w3.org/2000/svg"
        };
        function at(t) {
            switch (t) {
            case "svg":
                return "http://www.w3.org/2000/svg";
            case "math":
                return "http://www.w3.org/1998/Math/MathML";
            default:
                return "http://www.w3.org/1999/xhtml"
            }
        }
        var nt = {
            area: !0,
            base: !0,
            br: !0,
            col: !0,
            embed: !0,
            hr: !0,
            img: !0,
            input: !0,
            keygen: !0,
            link: !0,
            meta: !0,
            param: !0,
            source: !0,
            track: !0,
            wbr: !0
        }
          , rt = a({
            menuitem: !0
        }, nt)
          , ot = {
            animationIterationCount: !0,
            borderImageOutset: !0,
            borderImageSlice: !0,
            borderImageWidth: !0,
            boxFlex: !0,
            boxFlexGroup: !0,
            boxOrdinalGroup: !0,
            columnCount: !0,
            columns: !0,
            flex: !0,
            flexGrow: !0,
            flexPositive: !0,
            flexShrink: !0,
            flexNegative: !0,
            flexOrder: !0,
            gridArea: !0,
            gridRow: !0,
            gridRowEnd: !0,
            gridRowSpan: !0,
            gridRowStart: !0,
            gridColumn: !0,
            gridColumnEnd: !0,
            gridColumnSpan: !0,
            gridColumnStart: !0,
            fontWeight: !0,
            lineClamp: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            tabSize: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0,
            fillOpacity: !0,
            floodOpacity: !0,
            stopOpacity: !0,
            strokeDasharray: !0,
            strokeDashoffset: !0,
            strokeMiterlimit: !0,
            strokeOpacity: !0,
            strokeWidth: !0
        }
          , st = ["Webkit", "ms", "Moz", "O"];
        Object.keys(ot).forEach(function(t) {
            st.forEach(function(e) {
                e = e + t.charAt(0).toUpperCase() + t.substring(1),
                ot[e] = ot[t]
            })
        });
        var lt = /([A-Z])/g
          , ct = /^ms-/
          , ht = n.Children.toArray
          , pt = _.ReactCurrentDispatcher
          , dt = {
            listing: !0,
            pre: !0,
            textarea: !0
        }
          , ut = /^[a-zA-Z][a-zA-Z:_\.\-\d]*$/
          , mt = {}
          , ft = {};
        var gt = Object.prototype.hasOwnProperty
          , yt = {
            children: null,
            dangerouslySetInnerHTML: null,
            suppressContentEditableWarning: null,
            suppressHydrationWarning: null
        };
        function vt(t, e) {
            if (void 0 === t)
                throw Error(r(152, C(e) || "Component"))
        }
        function bt(t, e, i) {
            function o(n, o) {
                var s = o.prototype && o.prototype.isReactComponent
                  , l = function(t, e, i, a) {
                    if (a && "object" === typeof (a = t.contextType) && null !== a)
                        return x(a, i),
                        a[i];
                    if (t = t.contextTypes) {
                        for (var n in i = {},
                        t)
                            i[n] = e[n];
                        e = i
                    } else
                        e = w;
                    return e
                }(o, e, i, s)
                  , c = []
                  , h = !1
                  , p = {
                    isMounted: function() {
                        return !1
                    },
                    enqueueForceUpdate: function() {
                        if (null === c)
                            return null
                    },
                    enqueueReplaceState: function(t, e) {
                        h = !0,
                        c = [e]
                    },
                    enqueueSetState: function(t, e) {
                        if (null === c)
                            return null;
                        c.push(e)
                    }
                };
                if (s) {
                    if (s = new o(n.props,l,p),
                    "function" === typeof o.getDerivedStateFromProps) {
                        var d = o.getDerivedStateFromProps.call(null, n.props, s.state);
                        null != d && (s.state = a({}, s.state, d))
                    }
                } else if (j = {},
                s = o(n.props, l, p),
                null == (s = $(o, n.props, s, l)) || null == s.render)
                    return void vt(t = s, o);
                if (s.props = n.props,
                s.context = l,
                s.updater = p,
                void 0 === (p = s.state) && (s.state = p = null),
                "function" === typeof s.UNSAFE_componentWillMount || "function" === typeof s.componentWillMount)
                    if ("function" === typeof s.componentWillMount && "function" !== typeof o.getDerivedStateFromProps && s.componentWillMount(),
                    "function" === typeof s.UNSAFE_componentWillMount && "function" !== typeof o.getDerivedStateFromProps && s.UNSAFE_componentWillMount(),
                    c.length) {
                        p = c;
                        var u = h;
                        if (c = null,
                        h = !1,
                        u && 1 === p.length)
                            s.state = p[0];
                        else {
                            d = u ? p[0] : s.state;
                            var m = !0;
                            for (u = u ? 1 : 0; u < p.length; u++) {
                                var f = p[u];
                                null != (f = "function" === typeof f ? f.call(s, d, n.props, l) : f) && (m ? (m = !1,
                                d = a({}, d, f)) : a(d, f))
                            }
                            s.state = d
                        }
                    } else
                        c = null;
                if (vt(t = s.render(), o),
                "function" === typeof s.getChildContext && "object" === typeof (n = o.childContextTypes)) {
                    var g = s.getChildContext();
                    for (var y in g)
                        if (!(y in n))
                            throw Error(r(108, C(o) || "Unknown", y))
                }
                g && (e = a({}, e, g))
            }
            for (; n.isValidElement(t); ) {
                var s = t
                  , l = s.type;
                if ("function" !== typeof l)
                    break;
                o(s, l)
            }
            return {
                child: t,
                context: e
            }
        }
        var At = function() {
            function t(t, e) {
                n.isValidElement(t) ? t.type !== l ? t = [t] : (t = t.props.children,
                t = n.isValidElement(t) ? [t] : ht(t)) : t = ht(t),
                t = {
                    type: null,
                    domNamespace: it.html,
                    children: t,
                    childIndex: 0,
                    context: w,
                    footer: ""
                };
                var i = S[0];
                if (0 === i) {
                    var a = S
                      , o = 2 * (i = a.length);
                    if (!(65536 >= o))
                        throw Error(r(304));
                    var s = new Uint16Array(o);
                    for (s.set(a),
                    (S = s)[0] = i + 1,
                    a = i; a < o - 1; a++)
                        S[a] = a + 1;
                    S[o - 1] = 0
                } else
                    S[0] = S[i];
                this.threadID = i,
                this.stack = [t],
                this.exhausted = !1,
                this.currentSelectValue = null,
                this.previousWasTextNode = !1,
                this.makeStaticMarkup = e,
                this.suspenseDepth = 0,
                this.contextIndex = -1,
                this.contextStack = [],
                this.contextValueStack = []
            }
            var e = t.prototype;
            return e.destroy = function() {
                if (!this.exhausted) {
                    this.exhausted = !0,
                    this.clearProviders();
                    var t = this.threadID;
                    S[t] = S[0],
                    S[0] = t
                }
            }
            ,
            e.pushProvider = function(t) {
                var e = ++this.contextIndex
                  , i = t.type._context
                  , a = this.threadID;
                x(i, a);
                var n = i[a];
                this.contextStack[e] = i,
                this.contextValueStack[e] = n,
                i[a] = t.props.value
            }
            ,
            e.popProvider = function() {
                var t = this.contextIndex
                  , e = this.contextStack[t]
                  , i = this.contextValueStack[t];
                this.contextStack[t] = null,
                this.contextValueStack[t] = null,
                this.contextIndex--,
                e[this.threadID] = i
            }
            ,
            e.clearProviders = function() {
                for (var t = this.contextIndex; 0 <= t; t--)
                    this.contextStack[t][this.threadID] = this.contextValueStack[t]
            }
            ,
            e.read = function(t) {
                if (this.exhausted)
                    return null;
                var e = tt;
                tt = this.threadID;
                var i = pt.current;
                pt.current = et;
                try {
                    for (var a = [""], n = !1; a[0].length < t; ) {
                        if (0 === this.stack.length) {
                            this.exhausted = !0;
                            var o = this.threadID;
                            S[o] = S[0],
                            S[0] = o;
                            break
                        }
                        var s = this.stack[this.stack.length - 1];
                        if (n || s.childIndex >= s.children.length) {
                            var l = s.footer;
                            if ("" !== l && (this.previousWasTextNode = !1),
                            this.stack.pop(),
                            "select" === s.type)
                                this.currentSelectValue = null;
                            else if (null != s.type && null != s.type.type && s.type.type.$$typeof === p)
                                this.popProvider(s.type);
                            else if (s.type === f) {
                                this.suspenseDepth--;
                                var c = a.pop();
                                if (n) {
                                    n = !1;
                                    var h = s.fallbackFrame;
                                    if (!h)
                                        throw Error(r(303));
                                    this.stack.push(h),
                                    a[this.suspenseDepth] += "\x3c!--$!--\x3e";
                                    continue
                                }
                                a[this.suspenseDepth] += c
                            }
                            a[this.suspenseDepth] += l
                        } else {
                            var d = s.children[s.childIndex++]
                              , u = "";
                            try {
                                u += this.render(d, s.context, s.domNamespace)
                            } catch (m) {
                                if (null != m && "function" === typeof m.then)
                                    throw Error(r(294));
                                throw m
                            }
                            a.length <= this.suspenseDepth && a.push(""),
                            a[this.suspenseDepth] += u
                        }
                    }
                    return a[0]
                } finally {
                    pt.current = i,
                    tt = e
                }
            }
            ,
            e.render = function(t, e, i) {
                if ("string" === typeof t || "number" === typeof t)
                    return "" === (i = "" + t) ? "" : this.makeStaticMarkup ? R(i) : this.previousWasTextNode ? "\x3c!-- --\x3e" + R(i) : (this.previousWasTextNode = !0,
                    R(i));
                if (t = (e = bt(t, e, this.threadID)).child,
                e = e.context,
                null === t || !1 === t)
                    return "";
                if (!n.isValidElement(t)) {
                    if (null != t && null != t.$$typeof) {
                        if ((i = t.$$typeof) === s)
                            throw Error(r(257));
                        throw Error(r(258, i.toString()))
                    }
                    return t = ht(t),
                    this.stack.push({
                        type: null,
                        domNamespace: i,
                        children: t,
                        childIndex: 0,
                        context: e,
                        footer: ""
                    }),
                    ""
                }
                var o = t.type;
                if ("string" === typeof o)
                    return this.renderDOM(t, e, i);
                switch (o) {
                case c:
                case u:
                case h:
                case g:
                case l:
                    return t = ht(t.props.children),
                    this.stack.push({
                        type: null,
                        domNamespace: i,
                        children: t,
                        childIndex: 0,
                        context: e,
                        footer: ""
                    }),
                    "";
                case f:
                    throw Error(r(294))
                }
                if ("object" === typeof o && null !== o)
                    switch (o.$$typeof) {
                    case m:
                        j = {};
                        var _ = o.render(t.props, t.ref);
                        return _ = $(o.render, t.props, _, t.ref),
                        _ = ht(_),
                        this.stack.push({
                            type: null,
                            domNamespace: i,
                            children: _,
                            childIndex: 0,
                            context: e,
                            footer: ""
                        }),
                        "";
                    case y:
                        return t = [n.createElement(o.type, a({
                            ref: t.ref
                        }, t.props))],
                        this.stack.push({
                            type: null,
                            domNamespace: i,
                            children: t,
                            childIndex: 0,
                            context: e,
                            footer: ""
                        }),
                        "";
                    case p:
                        return i = {
                            type: t,
                            domNamespace: i,
                            children: o = ht(t.props.children),
                            childIndex: 0,
                            context: e,
                            footer: ""
                        },
                        this.pushProvider(t),
                        this.stack.push(i),
                        "";
                    case d:
                        o = t.type,
                        _ = t.props;
                        var C = this.threadID;
                        return x(o, C),
                        o = ht(_.children(o[C])),
                        this.stack.push({
                            type: t,
                            domNamespace: i,
                            children: o,
                            childIndex: 0,
                            context: e,
                            footer: ""
                        }),
                        "";
                    case b:
                        throw Error(r(338));
                    case v:
                        switch (function(t) {
                            if (-1 === t._status) {
                                t._status = 0;
                                var e = t._ctor;
                                e = e(),
                                t._result = e,
                                e.then(function(e) {
                                    0 === t._status && (e = e.default,
                                    t._status = 1,
                                    t._result = e)
                                }, function(e) {
                                    0 === t._status && (t._status = 2,
                                    t._result = e)
                                })
                            }
                        }(o = t.type),
                        o._status) {
                        case 1:
                            return t = [n.createElement(o._result, a({
                                ref: t.ref
                            }, t.props))],
                            this.stack.push({
                                type: null,
                                domNamespace: i,
                                children: t,
                                childIndex: 0,
                                context: e,
                                footer: ""
                            }),
                            "";
                        case 2:
                            throw o._result;
                        default:
                            throw Error(r(295))
                        }
                    case A:
                        throw Error(r(343))
                    }
                throw Error(r(130, null == o ? o : typeof o, ""))
            }
            ,
            e.renderDOM = function(t, e, i) {
                var o = t.type.toLowerCase();
                if (i === it.html && at(o),
                !mt.hasOwnProperty(o)) {
                    if (!ut.test(o))
                        throw Error(r(65, o));
                    mt[o] = !0
                }
                var s = t.props;
                if ("input" === o)
                    s = a({
                        type: void 0
                    }, s, {
                        defaultChecked: void 0,
                        defaultValue: void 0,
                        value: null != s.value ? s.value : s.defaultValue,
                        checked: null != s.checked ? s.checked : s.defaultChecked
                    });
                else if ("textarea" === o) {
                    var l = s.value;
                    if (null == l) {
                        l = s.defaultValue;
                        var c = s.children;
                        if (null != c) {
                            if (null != l)
                                throw Error(r(92));
                            if (Array.isArray(c)) {
                                if (!(1 >= c.length))
                                    throw Error(r(93));
                                c = c[0]
                            }
                            l = "" + c
                        }
                        null == l && (l = "")
                    }
                    s = a({}, s, {
                        value: void 0,
                        children: "" + l
                    })
                } else if ("select" === o)
                    this.currentSelectValue = null != s.value ? s.value : s.defaultValue,
                    s = a({}, s, {
                        value: void 0
                    });
                else if ("option" === o) {
                    c = this.currentSelectValue;
                    var h = function(t) {
                        if (void 0 === t || null === t)
                            return t;
                        var e = "";
                        return n.Children.forEach(t, function(t) {
                            null != t && (e += t)
                        }),
                        e
                    }(s.children);
                    if (null != c) {
                        var p = null != s.value ? s.value + "" : h;
                        if (l = !1,
                        Array.isArray(c)) {
                            for (var d = 0; d < c.length; d++)
                                if ("" + c[d] === p) {
                                    l = !0;
                                    break
                                }
                        } else
                            l = "" + c === p;
                        s = a({
                            selected: void 0,
                            children: void 0
                        }, s, {
                            selected: l,
                            children: h
                        })
                    }
                }
                if (l = s) {
                    if (rt[o] && (null != l.children || null != l.dangerouslySetInnerHTML))
                        throw Error(r(137, o, ""));
                    if (null != l.dangerouslySetInnerHTML) {
                        if (null != l.children)
                            throw Error(r(60));
                        if (!("object" === typeof l.dangerouslySetInnerHTML && "__html"in l.dangerouslySetInnerHTML))
                            throw Error(r(61))
                    }
                    if (null != l.style && "object" !== typeof l.style)
                        throw Error(r(62, ""))
                }
                for (A in l = s,
                c = this.makeStaticMarkup,
                h = 1 === this.stack.length,
                p = "<" + t.type,
                l)
                    if (gt.call(l, A)) {
                        var u = l[A];
                        if (null != u) {
                            if ("style" === A) {
                                d = void 0;
                                var m = ""
                                  , f = "";
                                for (d in u)
                                    if (u.hasOwnProperty(d)) {
                                        var g = 0 === d.indexOf("--")
                                          , y = u[d];
                                        if (null != y) {
                                            if (g)
                                                var v = d;
                                            else if (v = d,
                                            ft.hasOwnProperty(v))
                                                v = ft[v];
                                            else {
                                                var b = v.replace(lt, "-$1").toLowerCase().replace(ct, "-ms-");
                                                v = ft[v] = b
                                            }
                                            m += f + v + ":",
                                            f = d,
                                            m += g = null == y || "boolean" === typeof y || "" === y ? "" : g || "number" !== typeof y || 0 === y || ot.hasOwnProperty(f) && ot[f] ? ("" + y).trim() : y + "px",
                                            f = ";"
                                        }
                                    }
                                u = m || null
                            }
                            d = null;
                            t: if (g = o,
                            y = l,
                            -1 === g.indexOf("-"))
                                g = "string" === typeof y.is;
                            else
                                switch (g) {
                                case "annotation-xml":
                                case "color-profile":
                                case "font-face":
                                case "font-face-src":
                                case "font-face-uri":
                                case "font-face-format":
                                case "font-face-name":
                                case "missing-glyph":
                                    g = !1;
                                    break t;
                                default:
                                    g = !0
                                }
                            g ? yt.hasOwnProperty(A) || (d = I(d = A) && null != u ? d + '="' + R(u) + '"' : "") : d = N(A, u),
                            d && (p += " " + d)
                        }
                    }
                c || h && (p += ' data-reactroot=""');
                var A = p;
                l = "",
                nt.hasOwnProperty(o) ? A += "/>" : (A += ">",
                l = "</" + t.type + ">");
                t: {
                    if (null != (c = s.dangerouslySetInnerHTML)) {
                        if (null != c.__html) {
                            c = c.__html;
                            break t
                        }
                    } else if ("string" === typeof (c = s.children) || "number" === typeof c) {
                        c = R(c);
                        break t
                    }
                    c = null
                }
                return null != c ? (s = [],
                dt[o] && "\n" === c.charAt(0) && (A += "\n"),
                A += c) : s = ht(s.children),
                t = t.type,
                i = null == i || "http://www.w3.org/1999/xhtml" === i ? at(t) : "http://www.w3.org/2000/svg" === i && "foreignObject" === t ? "http://www.w3.org/1999/xhtml" : i,
                this.stack.push({
                    domNamespace: i,
                    type: o,
                    children: s,
                    childIndex: 0,
                    context: e,
                    footer: l
                }),
                this.previousWasTextNode = !1,
                A
            }
            ,
            t
        }()
          , _t = {
            renderToString: function(t) {
                t = new At(t,!1);
                try {
                    return t.read(1 / 0)
                } finally {
                    t.destroy()
                }
            },
            renderToStaticMarkup: function(t) {
                t = new At(t,!0);
                try {
                    return t.read(1 / 0)
                } finally {
                    t.destroy()
                }
            },
            renderToNodeStream: function() {
                throw Error(r(207))
            },
            renderToStaticNodeStream: function() {
                throw Error(r(208))
            },
            version: "16.12.0"
        }
          , Ct = {
            default: _t
        }
          , wt = Ct && _t || Ct;
        t.exports = wt.default || wt
    },
    1326: function(t, e, i) {
        "use strict";
        (function(t, a) {
            var n = i(0)
              , r = i.n(n)
              , o = i(241)
              , s = i(24)
              , l = i(1296)
              , c = i(87)
              , h = i(53)
              , p = i(499)
              , d = i(498)
              , u = i(44)
              , m = i(8)
              , f = i(2002)
              , g = i.n(f)
              , y = i(2003)
              , v = i.n(y)
              , b = i(80)
              , A = i(1239)
              , _ = i(1255)
              , C = {
                WORKOUT_CAPABLE: "workoutCapable",
                RUNNING_WORKOUT_CAPABLE: "runningWorkoutCapable",
                CYCLING_WORKOUT_CAPABLE: "cyclingWorkoutCapable",
                SWIM_WORKOUT_CAPABLE: "swimWorkoutCapable",
                CUSTOM_WORKOUT_CAPABLE: "customWorkoutCapable",
                STRENGTH_TRAINING_WORKOUT_CAPABLE: "strengthWorkoutCapable",
                CARDIO_TRAINING_WORKOUT_CAPABLE: "cardioWorkoutCapable",
                YOGA_WORKOUT_CAPABLE: "yogaWorkoutCapable",
                PILATES_WORKOUT_CAPABLE: "pilatesWorkoutCapable"
            }
              , w = {
                RENDERED: "RENDERED",
                ON_CLOSE: "ON_CLOSE",
                NOTIFICATIONS_SENT: "NOTIFICATIONS_SENT"
            }
              , x = r.a.View.extend({
                events: {
                    "click .btn.device-selected": "onSendToDeviceClicked",
                    "click .need-help": "onNeedHelpClicked",
                    "click .close-help ": "onHideHelpClicked"
                },
                initialize: function(e) {
                    this.contentLoaded = !1,
                    this.queueNotifications = new d.a,
                    this.userLocale = e.userLocale,
                    this.displayName = e.displayName,
                    this.template = t.template(g.a),
                    this.segmentHelpTemplate = t.template(v.a),
                    this.collection.bind("change", this.render, this),
                    this.collection.bind("error", this.defaultErrorHandler, this),
                    this.additionalWorkoutFilter = e.additionalWorkoutFilter || null,
                    this.titleView = e.titleView,
                    this.detailView = e.detailView;
                    var i = this;
                    this.queueNotifications.bind("sendAll", function(t) {
                        this.queueNotifications.reset(),
                        t.success ? (this.trigger(w.NOTIFICATIONS_SENT, t),
                        "undefined" == typeof t.extra && (t.extra.wifiSetup = !1,
                        t.extra.deviceName = "",
                        "undefined" == typeof t.extra.openExpress && (t.extra.openExpress = !0),
                        "undefined" == typeof t.extra.poll && (this.extra.poll = !0)),
                        a(_.a.Queue.NotificationWidgetQueueIds.QUEUE_NOTIFICATION).trigger(_.a.Queue.Events.SEND_TO_DEVICE_FROM_QUEUE, {
                            messageType: i.messageType,
                            wifiSetup: t.extra.wifiSetup,
                            name: t.extra.deviceName,
                            deviceId: t.extra.deviceId
                        }),
                        a(_.a.Queue.NotificationWidgetQueueIds.QUEUE_NOTIFICATION).trigger(_.a.Queue.Events.MESSAGE_SENT, {
                            messageCount: t.numberSent
                        }),
                        this.$(".btn.device-selected").attr({
                            disabled: !1
                        }),
                        1 == t.extra.openExpress && l.a.openAgent(t.extra.deviceId)) : (console.log("xHR:", t.xHR),
                        this.$(".btn.device-selected").attr({
                            disabled: !0
                        }),
                        this.$(".queue-error").show())
                    }, this),
                    this.propertiesPath = "/main/js/properties/send_to_device/",
                    this.propertiesFile = "send_to_device",
                    this.messageType = e.messageType,
                    this.id = e.id,
                    this.messageName = e.messageName,
                    e.courseOriginalCoordinateSystem && (this.courseOriginalCoordinateSystem = e.courseOriginalCoordinateSystem),
                    this.initLanguageHash(),
                    this.initUrlHash()
                },
                defaultErrorHandler: function(t, e) {
                    this.$(".btn.device-selected").attr({
                        disabled: !0
                    }),
                    this.$(".queue-error").show()
                },
                initUrlHash: function() {
                    this.urlHash = {},
                    this.urlHash[_.a.Queue.MessageTypes.COURSES.id] = "course-service/course/{0}/",
                    this.urlHash[_.a.Queue.MessageTypes.WORKOUTS.id] = "workout-service/workout/{0}/",
                    this.urlHash[_.a.Queue.MessageTypes.ACTIVITIES.id] = "course-service/course/copyFromActivity/{0}/",
                    this.urlHash[_.a.Queue.MessageTypes.PR.id] = "personalrecord-service/personalrecord/FIT/",
                    this.urlHash[_.a.Queue.MessageTypes.SCHEDULES.id] = "workout-service/schedule/export/{0}",
                    this.urlHash[_.a.Queue.MessageTypes.PROFILE.id] = "user-service-1.0/tcx/user/",
                    this.urlHash[_.a.Queue.MessageTypes.SETTINGS.id] = "user-service-1.0/fit/user/",
                    this.urlHash[_.a.Queue.MessageTypes.SPORTS.id] = ["user-service-1.0/fit/sportSettings/other", "user-service-1.0/fit/sportSettings/running", "user-service-1.0/fit/sportSettings/cycling"],
                    this.urlHash[_.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id] = ["http://garmindeveloper.com/download/rgn/ldr_{0}.rgn", "http://garmindeveloper.com/download/udr/Updates_{0}.udr"],
                    this.urlHash[_.a.Queue.MessageTypes.DEVICE_SETTINGS.id] = "",
                    this.urlHash[_.a.Queue.MessageTypes.SEGMENT_LEADERS.id] = "course-service/leaderboard/fit/"
                },
                initLanguageHash: function() {
                    this.languageHash = {},
                    this.languageHash.hr = "CROATIAN",
                    this.languageHash.cs = "CZECH",
                    this.languageHash.el = "GREEK",
                    this.languageHash.hu = "HUNGARIAN",
                    this.languageHash.pl = "POLISH",
                    this.languageHash.pt = "PORTUGUESE",
                    this.languageHash.ru = "RUSSIAN",
                    this.languageHash.sk = "SLOVAKIAN",
                    this.languageHash.sl = "SLOVENIAN"
                },
                setTrainingPlanModel: function(t) {
                    this.calendarTrainingPlans = t,
                    window.SEND_TO_DEVICE_TITLE = m.a.localize("send.to.device.workouts", this.calendarTrainingPlans.count)
                },
                render: function() {
                    var e = this.messageType
                      , i = t.filter(this.collection.models, function(t) {
                        return e.id == _.a.Queue.MessageTypes.COURSES.id || e.id == _.a.Queue.MessageTypes.ACTIVITIES.id ? b.a.userInChina() && this.courseOriginalCoordinateSystem && this.courseOriginalCoordinateSystem !== A.a.CoordinateSystem.WGS84 ? t.get("courseCapable") && t.get("gcj02CourseCapable") : t.get("courseCapable") : e.id == _.a.Queue.MessageTypes.SCHEDULES.id ? t.get("workoutCapable") : e.id == _.a.Queue.MessageTypes.WORKOUTS.id ? null == this.additionalWorkoutFilter ? t.get(C.WORKOUT_CAPABLE) : t.get(this.additionalWorkoutFilter) && t.get(C.WORKOUT_CAPABLE) : e.id == _.a.Queue.MessageTypes.PR.id ? t.get("personalRecordCapable") : e.id == _.a.Queue.MessageTypes.GOALS.id ? t.get("goalCapable") : e.id == _.a.Queue.MessageTypes.SETTINGS.id || e.id == _.a.Queue.MessageTypes.PROFILE.id ? t.get("settingCapable") || t.get("userProfileCapable") : e.id == _.a.Queue.MessageTypes.ZONES.id ? t.get("hrZoneCapable") : e.id == _.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id ? t.get("languageSettingCapable") : e.id == _.a.Queue.MessageTypes.DEVICE_SETTINGS.id ? t.get("deviceSettingCapable") : e.id == _.a.Queue.MessageTypes.SEGMENT_LEADERS.id ? t.get("segmentCapable") || t.get("runningSegmentCapable") : t
                    }, this)
                      , a = "undefined" === typeof window.SEND_TO_DEVICE_TITLE ? "" : window.SEND_TO_DEVICE_TITLE
                      , n = this.getSendToDeviceTitle(a)
                      , r = this.template({
                        devices: i,
                        hasDevices: this.hasDevices,
                        sendToDeviceTitle: n,
                        Localizer: m.a
                    });
                    this.$el.html(r),
                    e.id === _.a.Queue.MessageTypes.SEGMENT_LEADERS.id && this.$(".send-help").html(this.segmentHelpTemplate({
                        Localizer: m.a
                    })),
                    this.titleView ? this.$(".header-content-placeholder").replaceWith(this.titleView.render().el) : this.$(".header-content-placeholder").replaceWith('<h3 class="bottom-m">' + n + "</h3>"),
                    this.detailView ? this.$(".additional-content-placeholder").replaceWith(this.detailView.render().el) : this.$(".additional-content-placeholder").remove(),
                    0 == this.hasDevices ? (this.$("#download-body").show(),
                    this.$("#send-body").hide()) : (this.$("#download-body").hide(),
                    this.$("#send-body").show()),
                    u.a.formatHelpStartForExpressionEngine(this.userLocale),
                    this.fetched = !1,
                    this.$(".queue-error").hide(),
                    this.$(".btn.device-selected").attr({
                        disabled: !1
                    }),
                    this.trigger(w.RENDERED)
                },
                getSendToDeviceTitle: function(t) {
                    var e = "send.to.device.title2";
                    return this.messageType.id == _.a.Queue.MessageTypes.COURSES.id || this.messageType.id == _.a.Queue.MessageTypes.ACTIVITIES.id || this.messageType.id == _.a.Queue.MessageTypes.WORKOUTS.id || this.messageType.id == _.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id ? e = "send.to.device.title" : this.messageType.id == _.a.Queue.MessageTypes.GOALS.id ? e = "send.to.device.goals" : this.messageType.id == _.a.Queue.MessageTypes.PR.id ? e = "send.to.device.pr" : this.messageType.id == _.a.Queue.MessageTypes.SETTINGS.id ? e = this.messageType.name == _.a.Queue.MessageTypes.ZONES.name ? "send.to.device.zones" : "send.to.device.personal" : this.messageType.id == _.a.Queue.MessageTypes.ZONES.id ? e = "send.to.device.zones" : this.messageType.id == _.a.Queue.MessageTypes.SEGMENT_LEADERS.id && (e = "send.to.device.segment"),
                    m.a.localize(e, t)
                },
                getExportTypeByMessageType: function(t) {
                    var e = null;
                    return this.messageType.id == _.a.Queue.MessageTypes.SCHEDULES.id ? e = t.get("workoutFileType") : this.messageType.id == _.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id ? e = t.get("languageSettingFileType") : this.messageType.id == _.a.Queue.MessageTypes.ACTIVITIES.id ? e = t.get("courseFileType") : this.messageType.id == _.a.Queue.MessageTypes.COURSES.id ? e = t.get("courseFileType") : this.messageType.id == _.a.Queue.MessageTypes.DEVICE_SETTINGS.id ? e = t.get("deviceSettingFileType") : this.messageType.id == _.a.Queue.MessageTypes.GOALS.id ? e = "TCX" : this.messageType.id == _.a.Queue.MessageTypes.PR.id ? e = t.get("personalRecordFileType") : this.messageType.id == _.a.Queue.MessageTypes.SETTINGS.id || this.messageType.id == _.a.Queue.MessageTypes.ZONES.id ? t.get("settingCapable") ? e = "FIT" : t.get("userProfileCapable") && (e = "TCX") : this.messageType.id == _.a.Queue.MessageTypes.WORKOUTS.id ? e = t.get("workoutFileType") : this.messageType.id == _.a.Queue.MessageTypes.SEGMENT_LEADERS.id && (e = "FIT"),
                    e
                },
                onNeedHelpClicked: function(t) {
                    t.preventDefault(),
                    t.stopPropagation(),
                    this.$(".need-help-link").hide(),
                    this.$(".send-help").show(),
                    this.$(".close-help").show()
                },
                onHideHelpClicked: function(t) {
                    t.preventDefault(),
                    t.stopPropagation(),
                    this.$(".send-help").hide(),
                    this.$(".need-help-link").show(),
                    this.$(".close-help").hide()
                },
                onSendToDeviceClicked: function(t) {
                    this.$(".queue-error").hide(),
                    t.preventDefault(),
                    t.stopPropagation();
                    var e = this.$(".btn.device-selected");
                    if (0 == e.attr("disabled") || !e.attr("disabled")) {
                        this.enableSendButton(e, !1),
                        this.wifiSetup = !1,
                        this.deviceName = this.$("select.selected-device option:selected")[0].text;
                        for (var i = null, n = this.$("select.selected-device").val(), r = null, o = 0; o < this.collection.models.length; o++)
                            if (this.collection.models[o].attributes.deviceId == n) {
                                r = this.collection.models[o],
                                this.wifiSetup = r.get("wifiSetup"),
                                i = this.getExportTypeByMessageType(r);
                                break
                            }
                        if (null == i && (console.log("Could not get export file type for messageType: ", this.messageType),
                        i = "FIT"),
                        "TCX" == i && (this.messageType.id == _.a.Queue.MessageTypes.SCHEDULES.id || this.messageType.id == _.a.Queue.MessageTypes.WORKOUTS.id)) {
                            var s = m.a.localize("sendToDevice.confirmation.powerWorkout1") + "\n\n" + m.a.localize("sendToDevice.confirmation.powerWorkout2") + "\n\n" + m.a.localize("sendToDevice.confirmation.powerWorkout3") + "\n\n" + m.a.localize("sendToDevice.confirmation.powerWorkout4") + "\n\n" + m.a.localize("sendToDevice.confirmation.powerWorkout5") + "\n\n" + m.a.localize("sendToDevice.confirmation.powerWorkout6") + "\n\n";
                            if (!confirm(s))
                                return this.messageType.id == _.a.Queue.MessageTypes.SCHEDULES.id && this.trigger(_.a.Queue.Events.RETURN_TO_TRAINING_PLAN),
                                void this.enableSendButton(e, !0)
                        }
                        var l = []
                          , h = null
                          , p = {
                            wifiSetup: this.wifiSetup,
                            deviceName: this.deviceName,
                            openExpress: !0,
                            deviceId: n
                        };
                        if (this.messageType.id == _.a.Queue.MessageTypes.SCHEDULES.id) {
                            var d = this.urlHash[this.messageType.id];
                            if (d = d.replace("{0}", i.toUpperCase()),
                            d += "?startDate=" + c.a.toISODateString(new Date) + "&includeTP=" + r.get("trainingPlanCapable"),
                            l.push(d),
                            "FIT" == i)
                                return this.createMessagesFromTrainingPlanData(n, r, d),
                                this.queueNotifications.sendAll(p),
                                void this.enableSendButton(e, !1);
                            this.messageName = m.a.localize("queue.calendar.workouts.tcx", this.calendarTrainingPlans.count, this.calendarTrainingPlans.startDate, this.calendarTrainingPlans.endDate)
                        } else if (this.messageType.id == _.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id) {
                            var u = a("#languageComboSelect").val();
                            i = this.getLanguage(u),
                            this.messageName = i,
                            h = m.a.localize("send.to.device.language.title", i)
                        } else {
                            if (this.messageType.id == _.a.Queue.MessageTypes.ACTIVITIES.id)
                                return this.addActivityToDevice(this.id, this.messageName, i, n),
                                this.queueNotifications.sendAll(p),
                                void this.enableSendButton(e, !0);
                            if (this.messageType.id == _.a.Queue.MessageTypes.WORKOUTS.id)
                                ;
                            else {
                                if (this.messageType.id == _.a.Queue.MessageTypes.COURSES.id)
                                    return this.addCourseToDevice(this.id, this.messageName, i, n),
                                    this.queueNotifications.sendAll(p),
                                    void this.enableSendButton(e, !0);
                                if (this.messageType.id == _.a.Queue.MessageTypes.SETTINGS.id)
                                    return this.addPersonalInfoAndSportsToDevice(n, i, r),
                                    this.queueNotifications.sendAll(p),
                                    void this.enableSendButton(e, !0);
                                if (this.messageType.id == _.a.Queue.MessageTypes.SEGMENT_LEADERS.id)
                                    return this.addSegmentToDevice(this.id, this.messageName, i, n),
                                    this.queueNotifications.sendAll(p),
                                    void this.enableSendButton(e, !0)
                            }
                        }
                        0 == l.length && (l = l.concat(this.urlHash[this.messageType.id]));
                        var f = null;
                        for (o = 0; o < l.length; o++) {
                            var g = null;
                            g = this.messageType.id == _.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id ? l[o].replace("{0}", i) : l[o].replace("{0}", this.getFormattedExportType(i)),
                            "undefined" != this.id && null != this.id && (g += this.id),
                            this.messageType.id == _.a.Queue.MessageTypes.LANGUAGE_SETTINGS.id && (f = g.substring(g.lastIndexOf(".") + 1)),
                            this.addMessageToQueue(n, g, this.messageType.type, this.messageName, h, o + 1, null == f ? i : f, "undefined" == this.id || null == this.id || "" == this.id ? null : this.id)
                        }
                        this.queueNotifications.sendAll(p),
                        this.messageType.id != _.a.Queue.MessageTypes.PR.id && this.messageType.id != _.a.Queue.MessageTypes.WORKOUTS.id || this.pushSendToDeviceAnalyticsEvents(this.messageType.name)
                    }
                },
                pushSendToDeviceAnalyticsEvents: function(t) {
                    h.a.push({
                        event: "track_event",
                        category: "Personal Records Page Events",
                        action: "Send " + t + " To Device"
                    })
                },
                getFormattedExportType: function(t) {
                    return this.messageType == _.a.Queue.MessageTypes.WORKOUTS ? t.toUpperCase() : t.toLowerCase()
                },
                addCourseToDevice: function(t, e, i, a) {
                    var n = (this.urlHash[this.messageType.id] + t + "/" + a + "?elevation=true").replace("{0}", i.toLowerCase());
                    this.addMessageToQueue(a, n, this.messageType.type, e, null, 0, i, t)
                },
                addActivityToDevice: function(t, e, i, a) {
                    var n = (this.urlHash[this.messageType.id] + t + "/" + a + "?elevation=true").replace("{0}", i.toLowerCase());
                    this.addMessageToQueue(a, n, this.messageType.type, e, null, 0, i, t)
                },
                addPersonalInfoAndSportsToDevice: function(t, e, i) {
                    if (this.addMessageToQueue(t, this.urlHash["FIT" == e ? _.a.Queue.MessageTypes.SETTINGS.id : _.a.Queue.MessageTypes.PROFILE.id], "FIT" == e ? _.a.Queue.MessageTypes.SETTINGS.type : _.a.Queue.MessageTypes.PROFILE.type, "FIT" == e ? m.a.localize("queue.personal.information") : m.a.localize("queue.personalInf.training.zones"), null, 1, e, null),
                    "FIT" == e && i.get("sportCapable"))
                        for (var a = 0; a < this.urlHash[_.a.Queue.MessageTypes.SPORTS.id].length; a++)
                            this.urlHash[_.a.Queue.MessageTypes.SPORTS.id][a].indexOf("cycling") > -1 && 0 == i.get("powerZonesCapable") || this.addMessageToQueue(t, this.urlHash[_.a.Queue.MessageTypes.SPORTS.id][a], _.a.Queue.MessageTypes.SPORTS.type, "SPORTS", null, a + 2, e, null)
                },
                addSegmentToDevice: function(t, e, i, a) {
                    var n = (this.urlHash[this.messageType.id] + t).replace("{0}", i.toLowerCase());
                    this.addMessageToQueue(a, n, this.messageType.type, e, "Segments", 0, i, null)
                },
                enableSendButton: function(t, e) {
                    e ? t.attr({
                        disabled: !1
                    }) : (t.attr({
                        disabled: !0
                    }),
                    this.$("#send-body").hide(),
                    this.$(".loading-mask").show(),
                    this.$(".still-waiting").show())
                },
                getLanguage: function(t) {
                    var e = this.languageHash[t];
                    if ("undefined" == typeof e)
                        throw new Error("Language not found in URL path pairs. Check that the parameter is being passed in or see SendToDevicePageView.js");
                    return e
                },
                createMessagesFromTrainingPlanData: function(t, e, i) {
                    var a = null
                      , n = this.urlHash[_.a.Queue.MessageTypes.WORKOUTS.id];
                    n = n.replace("{0}", "FIT");
                    for (var r = "", o = 0; o < this.calendarTrainingPlans.models.length; o++) {
                        e.get("scheduleCapable") && 0 == o && this.addMessageToQueue(t, i, this.messageType.type, "Schedule", "", 1, "FIT", null);
                        for (var s = 0; s < this.calendarTrainingPlans.models[o].length; s++)
                            a = 1 == this.calendarTrainingPlans.models[o][s].attributes.nameChanged ? this.calendarTrainingPlans.models[o][s].attributes.newName : this.calendarTrainingPlans.models[o][s].attributes.workout.workoutName,
                            r = this.calendarTrainingPlans.models[o][s].attributes.groupName,
                            this.addMessageToQueue(t, n + this.calendarTrainingPlans.models[o][s].attributes.workout.workoutId, "workouts", a, r, this.calendarTrainingPlans.models[o][s].attributes.priority, "FIT", this.calendarTrainingPlans.models[o][s].attributes.workout.workoutId)
                    }
                },
                addMessageToQueue: function(t, e, i, a, n, r, o, s) {
                    var l = new p.a({
                        deviceId: t,
                        messageUrl: e,
                        messageType: i,
                        messageName: a,
                        groupName: n,
                        priority: r,
                        fileType: o,
                        metaDataId: s
                    });
                    this.queueNotifications.add(l)
                },
                loadContent: function() {
                    if (this.contentLoaded)
                        this.render();
                    else {
                        this.userPreferences = new o.a({
                            displayName: this.viewerDisplayName,
                            propertiesPath: this.propertiesPath,
                            propertiesFile: this.propertiesFile
                        });
                        var t = new s.a;
                        t.addModel({
                            model: this.userPreferences,
                            required: !0
                        }),
                        t.addModel({
                            model: this.collection,
                            required: !0
                        }),
                        t.bind(s.a.Events.SYNCHRONIZED, this.onModelsFetched, this),
                        t.bind(s.a.Events.SYNCHRONIZE_FAILED, this.onModelsFailed, this),
                        t.fetchModels()
                    }
                },
                onModelsFetched: function() {
                    this.contentLoaded = !0,
                    this.hasDevices = this.collection.length > 0,
                    this.render()
                },
                onModelsFailed: function(t) {},
                close: function() {
                    this.remove(),
                    this.trigger(w.ON_CLOSE)
                }
            });
            x.Events = w,
            x.DEVICE_CAPABILITIES = C,
            e.a = x
        }
        ).call(this, i(9), i(10))
    },
    1327: function(t, e, i) {
        "use strict";
        i.d(e, "a", function() {
            return a
        });
        var a = function(t, e, i, a) {
            return t && e || i && a
        }
    },
    1328: function(t, e, i) {
        "use strict";
        i.d(e, "a", function() {
            return a
        }),
        i.d(e, "b", function() {
            return n
        }),
        i.d(e, "d", function() {
            return r
        }),
        i.d(e, "c", function() {
            return o
        });
        var a = function(t) {
            t = t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i, function(t, e, i, a) {
                return e + e + i + i + a + a
            });
            var e = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);
            return e ? [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)] : null
        }
          , n = function(t) {
            var e = a(t);
            return "rgba(".concat(e[0], ", ").concat(e[1], ", ").concat(e[2], ", 1)")
        }
          , r = function(t, e, i) {
            return "#" + ((1 << 24) + (t << 16) + (e << 8) + i).toString(16).slice(1)
        }
          , o = function(t, e, i) {
            var a = (2 * (1 - i) - 1 + 1) / 2
              , n = 1 - a;
            return [Math.round(t[0] * a + e[0] * n), Math.round(t[1] * a + e[1] * n), Math.round(t[2] * a + e[2] * n)]
        }
    },
    1330: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(0)
              , n = i.n(a)
              , r = i(1344)
              , o = i.n(r)
              , s = n.a.View.extend({
                template: t.template(o.a),
                initialize: function(t) {
                    if (!t.content)
                        throw "Content is required!";
                    return this.content = t.content,
                    this.title = t.title,
                    this
                },
                render: function() {
                    return this.$el.html(this.template({
                        title: this.title,
                        content: this.content
                    })),
                    this
                }
            });
            e.a = s
        }
        ).call(this, i(9))
    },
    1331: function(t, e) {
        t.exports = '<div class="dropdown <%- dropdownClass %>">\n    <button data-toggle="dropdown" data-value="<%- selectedItem.value %>">\n        <span class="<%- formatClass %>"><%- selectedItem.name || Localizer.localize(selectedItem.nameKey) %></span>\n        <i class="icon-pointer-down"></i>\n    </button>\n    <ul class="dropdown-menu pull-left" role="menu" aria-label="<%- Localizer.localize(\'select.one\') %>">\n        <% for (var i = 0; i < items.length; i++) { %>\n        <% var item = items[i]; %>\n            <li data-value="<%- item.value %>" role="none">\n                <a href="#" role="menuitem"><%- item.name || Localizer.localize(item.nameKey) %></a>\n            </li>\n            <% if (typeof item.children != \'undefined\') { %>\n                <% for (var j = 0; j < item.children.length; j++) { %>\n                <%  var childItem = item.children[j]; %>\n                    <li data-value="<%- childItem.value %>" role="none">\n                        <a href="#" class="dropdown-tier" role="menuitem"><%- childItem.name || Localizer.localize(childItem.nameKey) %></a>\n                    </li>\n                <% } %>\n            <% } %>\n            <% if (includeDivider) { %> \n                <li class="divider" role="separator"></li>\n            <% } %>\n        <% } %>\n    </ul>\n</div>\n'
    },
    1332: function(t, e, i) {
        "use strict";
        var a = i(47).a.extend({
            defaults: {
                mapType: "road",
                terrain: !1,
                trails: !1,
                labels: !0,
                HeatMapsRunning: !1,
                HeatMapsCycling: !1
            },
            parse: function(t) {
                return JSON.parse(t.value)
            },
            toJSON: function() {
                return {
                    key: this.id,
                    value: JSON.stringify(this.attributes)
                }
            },
            getMapType: function(t) {
                return this.get("mapType", t)
            },
            getTerrain: function(t) {
                return this.get("terrain", t)
            },
            getTrails: function(t) {
                return this.get("trails", t)
            },
            getLabels: function(t) {
                return this.get("labels", t)
            },
            getHeatMapsRunning: function(t) {
                return this.get("HeatMapsRunning", t)
            },
            getHeatMapsCycling: function(t) {
                return this.get("HeatMapsCycling", t)
            },
            setMapType: function(t) {
                this.set("mapType", t)
            },
            setTerrain: function(t) {
                this.set("terrain", t)
            },
            setTrails: function(t) {
                this.set("trails", t)
            },
            setLabels: function(t) {
                this.set("labels", t)
            },
            setHeatMapsRunning: function(t) {
                this.set("HeatMapsRunning", t)
            },
            setHeatMapsCycling: function(t) {
                this.set("HeatMapsCycling", t)
            },
            setCustom: function(t, e) {
                this.set(t, e)
            },
            getCustom: function(t, e) {
                return this.has(t) ? this.get(t) : e
            }
        });
        e.a = a
    },
    1333: function(t, e, i) {
        "use strict";
        var a = i(1588)
          , n = 1 / 0;
        e.a = function(t) {
            if ("string" == typeof t || Object(a.a)(t))
                return t;
            var e = t + "";
            return "0" == e && 1 / t == -n ? "-0" : e
        }
    },
    1337: function(t, e, i) {
        "use strict";
        var a = i(3)
          , n = i(56)
          , r = i(57)
          , o = i(63)
          , s = i(61)
          , l = i(62)
          , c = i(11)
          , h = i.n(c)
          , p = i(1547)
          , d = i.n(p)
          , u = function(t) {
            function e(t) {
                var i;
                return Object(n.a)(this, e),
                (i = Object(o.a)(this, Object(s.a)(e).call(this, t))).state = {
                    options: Object(a.a)({}, t.options, {
                        animationData: t.animationData
                    })
                },
                i.animation = d.a,
                i.ref = null,
                i
            }
            return Object(l.a)(e, t),
            Object(r.a)(e, [{
                key: "componentDidMount",
                value: function() {
                    var t = this.props.animateToFrameOnLoad
                      , e = Object(a.a)({}, this.state.options, {
                        container: this.ref
                    });
                    this.animation = d.a.loadAnimation(e),
                    t && this.animation.playSegments([0, t], !0),
                    this.setState({
                        activeAnimationFrame: t
                    })
                }
            }, {
                key: "playSegments",
                value: function(t, e) {
                    this.animation.playSegments(t, e),
                    this.setState({
                        activeAnimationFrame: t[1]
                    })
                }
            }, {
                key: "render",
                value: function() {
                    var t = this
                      , e = this.props.onClick;
                    return h.a.createElement("span", {
                        ref: function(e) {
                            return t.ref = e
                        },
                        onClick: e
                    })
                }
            }]),
            e
        }(c.Component);
        u.defaultProps = {
            animateToFrameOnLoad: 0,
            options: {
                renderer: "svg",
                loop: !1,
                autoplay: !1
            }
        },
        e.a = u
    },
    1338: function(t, e, i) {
        "use strict";
        var a = i(3)
          , n = i(56)
          , r = i(57)
          , o = i(63)
          , s = i(61)
          , l = i(89)
          , c = i(62)
          , h = i(11)
          , p = i.n(h)
          , d = i(2955)
          , u = i(5158)
          , m = i(2956)
          , f = i(2957)
          , g = i(2958)
          , y = i(1235)
          , v = i(1444)
          , b = i(2954);
        y.GarminOpenStreetMapLayer = y.TileLayer.extend({
            options: {
                subdomains: [0, 1, 2, 3],
                type: "Aerial",
                attribution: "",
                culture: ""
            },
            initialize: function(t, e) {
                this._url = t,
                y.Util.setOptions(this, e)
            },
            getTileUrl: function(t) {
                var e = t.y.toString(16)
                  , i = t.x.toString(16)
                  , a = "R" + this.padString(e, 8, "0").toUpperCase()
                  , n = "C" + this.padString(i, 8, "0").toUpperCase() + ".png"
                  , r = t.z
                  , o = "L" + (r < 10 ? "0" : "") + r;
                return this._url + o + "/" + a + "/" + n
            },
            getAttribution: function() {
                return this.options.attribution
            },
            padString: function(t, e, i) {
                if (t.length >= e)
                    return t;
                for (var a = e - t.length, n = "", r = 0; r < a; r++)
                    n += i;
                return n += t
            }
        }),
        y.GarminOSMLayer = function(t, e) {
            return new y.GarminOpenStreetMapLayer(t,e)
        }
        ;
        var A = function(t) {
            function e() {
                return Object(n.a)(this, e),
                Object(o.a)(this, Object(s.a)(e).apply(this, arguments))
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "createLeafletElement",
                value: function(t) {
                    var e = t.url
                      , i = Object(v.a)(t, ["url"]);
                    return y.GarminOSMLayer(e, this.getOptions(i))
                }
            }]),
            e
        }(b.a)
          , _ = i(20)
          , C = i.n(_);
        y.GarminPopularAreaLayer = y.TileLayer.extend({
            options: {
                attribution: ""
            },
            initialize: function(t, e) {
                y.Util.setOptions(this, e),
                e.routeType || (e.routeType = "ROAD_CYCLING"),
                e.filterZoomLevel ? this.filterZoomLevel = e.filterZoomLevel : this.filterZoomLevel = 9,
                y.TileLayer.prototype.initialize.call(this, "https://" + t + "/" + e.routeType + "/{z}/{x}/{y}.png", e)
            },
            getTileUrl: function(t) {
                return !this.filterZoomLevel || this._getZoomForUrl() >= this.filterZoomLevel ? y.TileLayer.prototype.getTileUrl.call(this, t) : null
            }
        }),
        y.PopularAreas = function(t, e) {
            return new y.GarminPopularAreaLayer(t,e)
        }
        ;
        var w = function(t) {
            function e() {
                return Object(n.a)(this, e),
                Object(o.a)(this, Object(s.a)(e).apply(this, arguments))
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "createLeafletElement",
                value: function(t) {
                    var e = t.url
                      , i = Object(v.a)(t, ["url"]);
                    return y.PopularAreas(e, this.getOptions(i))
                }
            }]),
            e
        }(b.a);
        w.propTypes = {
            url: C.a.string.isRequired
        };
        var x = w
          , S = i(1443)
          , T = i(2030)
          , E = (i(129),
        function(t) {
            function e() {
                return Object(n.a)(this, e),
                Object(o.a)(this, Object(s.a)(e).apply(this, arguments))
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "createLeafletElement",
                value: function(t) {
                    return new y.gridLayer.googleMutant(t)
                }
            }, {
                key: "componentDidMount",
                value: function() {
                    Object(S.a)(Object(s.a)(e.prototype), "componentDidMount", this).call(this),
                    this.updateGoogleLayer(this.props)
                }
            }, {
                key: "updateLeafletElement",
                value: function(t, i) {
                    Object(S.a)(Object(s.a)(e.prototype), "updateLeafletElement", this).call(this, t, i),
                    i.value && this.updateGoogleLayer(i)
                }
            }, {
                key: "updateGoogleLayer",
                value: function(t) {
                    t.value && (JSON.parse(t.value).trails ? this.leafletElement.addGoogleLayer("BicyclingLayer") : this.leafletElement.removeGoogleLayer("BicyclingLayer"))
                }
            }]),
            e
        }(T.a));
        E.contextTypes = T.a.contextTypes,
        E.childContextTypes = T.a.childContextTypes,
        E.propTypes = {
            googlekey: C.a.string.isRequired,
            maptype: C.a.string,
            asclientid: C.a.bool
        },
        y.Projection.BaiduSphericalMercator = {
            project: function(t) {
                if ("undefined" != typeof window.BMap) {
                    var e = window.BMap
                      , i = new e.MercatorProjection
                      , a = new e.Point(t.lng,t.lat)
                      , n = i.lngLatToPoint(a);
                    return new y.Point(n.x,n.y)
                }
            },
            unproject: function(t) {
                if ("undefined" != typeof window.BMap) {
                    var e = window.BMap
                      , i = (new e.MercatorProjection).pointToLngLat(new e.Pixel(t.x,t.y));
                    return new y.LatLng(i.lat,i.lng)
                }
            },
            bounds: function() {
                y.bounds([-20037726.37, -11708041.66], [20037726.37, 12474104.17]);
                var t = 33554432;
                return new y.Bounds([-t, -t],[t, t])
            }()
        },
        y.CRS.BEPSG3857 = y.extend({}, y.CRS.Earth, {
            code: "EPSG:B3857",
            projection: y.Projection.BaiduSphericalMercator,
            transformation: function() {
                var t = Math.pow(2, -26);
                return new y.Transformation(t,.5,-t,.5)
            }()
        }),
        y.Baidu = y.TileLayer.extend({
            options: {
                minZoom: 3,
                maxZoom: 18,
                subdomains: "0123",
                crs: y.CRS.BEPSG3857,
                attribution: "? 2020 Baidu - GS(2019)5218? - \ufffd\ufffd??\ufffdr1100930 - \ufffd\ufffdICP?030173? - Data ?"
            },
            initialize: function(t, e) {
                var i = y.Baidu.desc
                  , a = (t = t || "ROAD.Map").split(".")
                  , n = a[0]
                  , r = a[1]
                  , o = a[2]
                  , s = i[n][r];
                "CustomStyle" === n && (o ? s = s + "&customid=" + o : e.styles && (s = s + "&styles=" + e.styles)),
                (e = e || {}).subdomains || (e.subdomains = i.subdomains),
                y.TileLayer.prototype.initialize.call(this, s, e)
            },
            getTileUrl: function(t) {
                var e = Math.pow(2, t.z - 1)
                  , i = t.x - e
                  , a = e - t.y - 1
                  , n = y.point(i, a);
                return n.z = t.z,
                y.TileLayer.prototype.getTileUrl.call(this, n)
            }
        }),
        y.Baidu.desc = {
            ROAD: {
                Map: "https://gss{s}.bdstatic.com/8bo_dTSlRMgBo1vgoIiO_jowehsv/tile/?qt=vtile&x={x}&y={y}&z={z}&styles=pl&scaler=1&udt=20191003"
            },
            SATELLITE: {
                Map: "https://gss{s}.bdstatic.com/8bo_dTSlR1gBo1vgoIiO_jowehsv/starpic/?qt=satepc&u=x={x};y={y};z={z};v=009;type=sate&fm=46&app=webearth2&v=009&udt=20191003",
                Road: "https://gss{s}.bdstatic.com/8bo_dTSlRMgBo1vgoIiO_jowehsv/tile/?qt=tile&x={x}&y={y}&z={z}&styles=sl&udt=20141015"
            },
            CustomStyle: {
                Map: "http://api{s}.map.bdimg.com/customimage/tile?&x={x}&y={y}&z={z}",
                subdomains: "012"
            },
            subdomains: "0123"
        },
        y.Baidu.baiduLayer = function(t, e) {
            return new y.Baidu(t,e)
        }
        ;
        var k = i(74)
          , L = i.n(k)
          , P = function(t) {
            function e() {
                return Object(n.a)(this, e),
                Object(o.a)(this, Object(s.a)(e).apply(this, arguments))
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "createLeafletElement",
                value: function(t) {
                    return new y.Baidu.baiduLayer(t.type,t)
                }
            }, {
                key: "componentDidMount",
                value: function() {
                    Object(S.a)(Object(s.a)(e.prototype), "componentDidMount", this).call(this),
                    L()(["https://api.map.baidu.com/getscript?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD"])
                }
            }]),
            e
        }(T.a);
        P.contextTypes = T.a.contextTypes,
        P.childContextTypes = T.a.childContextTypes,
        P.defaultProps = {
            mapViewType: "normal",
            mapTile: "base"
        },
        P.propTypes = {
            mapViewType: C.a.string,
            mapTile: C.a.string
        };
        var I = {
            google: {
                value: "google",
                key: "AIzaSyBuqMiuCNohSYg09UnOzu9Poy05jND5m3k",
                types: {
                    default: "ROADMAP",
                    satellite: "SATELLITE",
                    terrain: "TERRAIN",
                    hybrid: "HYBRID"
                },
                options: {
                    minZoom: 3,
                    maxZoom: 18,
                    noWrap: !0
                }
            },
            bing: {
                value: "bing"
            },
            here: {
                value: "here",
                HereMapCode: "D7pWNLGdZbuU0ReUY4A85g",
                HereMapId: "hYaBOISjlUD2egn6d3AT",
                attribution: '&copy; <a href="https://legal.here.com/terms/serviceterms" />HERE maps.</a>',
                mapViewType: {
                    normal: "normal",
                    satellite: "satellite",
                    terrain: "terrain",
                    traffic: "normal.traffic"
                },
                mapTile: {
                    base: "base",
                    aerial: "aerial",
                    pano: "pano",
                    traffic: "traffic"
                },
                options: {
                    minZoom: 3,
                    maxZoom: 18
                }
            },
            osm: {
                value: "osm",
                options: {
                    minZoom: 3,
                    maxZoom: 17,
                    maxNativeZoom: 17,
                    attribution: '&copy; <a href="https://openstreetmap.org/copyright" target="_blank" rel="noopener">OpenStreetMaps</a> contributors &copy; Garmin Ltd. or its Affiliates '
                }
            },
            baidu: {
                value: "baidu",
                type: {
                    default: "ROAD.Map",
                    satellite: "SATELLITE.Map",
                    terrain: "ROAD.Map"
                },
                options: {
                    minZoom: 3,
                    maxZoom: 18,
                    subdomains: "0123",
                    attribution: "\xa9 2020 Baidu - GS(2019)5218\u53f7 - \u7532\u6d4b\u8d44\u5b571100930 - \u4eacICP\u8bc1030173\u53f7 - Data \xa9",
                    crs: y.CRS.BEPSG3857
                }
            }
        }
          , z = {
            mapProviderInfo: I
        }
          , B = (i(1661),
        i(1371))
          , D = i.n(B)
          , M = z.mapProviderInfo
          , O = {
            googleMapGeoCoder: function(t, e, i) {
                (new window.google.maps.Geocoder).geocode({
                    address: t
                }, function(t, a) {
                    a === window.google.maps.GeocoderStatus.OK && t.length > 0 ? t.length > 0 && "function" === typeof i && i([t[0].geometry.location.lat(), t[0].geometry.location.lng()], e) : console.log("Error finding address", a)
                })
            },
            hereMapGeoCoder: function(t, e, i) {
                L()("//js.api.here.com/v3/3.0/mapsjs-core.js", function() {
                    L()("//js.api.here.com/v3/3.0/mapsjs-service.js", function() {
                        !function() {
                            var a = new window.H.service.Platform({
                                app_id: M.here.HereMapId,
                                app_code: M.here.HereMapCode,
                                useHTTPS: !0
                            }).getGeocodingService()
                              , n = {
                                searchText: t,
                                jsonattributes: 1
                            };
                            a.geocode(n, function(t) {
                                if (t.response.view && t.response.view.length > 0) {
                                    var a = t.response.view[0].result[0].location.displayPosition;
                                    i({
                                        lat: a.latitude,
                                        lng: a.longitude
                                    }, e)
                                } else
                                    console.log(t.response)
                            }, function(t) {
                                console.log(t, "Unexpected data returned.")
                            })
                        }()
                    })
                })
            },
            baiduMapGeoCoder: function(t, e, i) {
                var a = ["https://api.map.baidu.com/geocoder/v2/?"];
                a.push("ret_coordtype=bd09ll"),
                a.push("&address=" + encodeURIComponent(t)),
                a.push("&ak=KQMz9KcIzBwWNUgbHWUHZGSD"),
                a.push("&output=json"),
                a.push("&callback=?"),
                D()(a.join(""), {
                    headers: {
                        Accept: "application/json"
                    },
                    jsonCallbackFunction: "showLocation"
                }).then(function(t) {
                    return t.json()
                }).then(function(t) {
                    if (t.result) {
                        var a = t.result.location;
                        i({
                            lat: a.lat,
                            lng: a.lng
                        }, e)
                    } else
                        console.log("Unexpected data returned.")
                })
            }
        }
          , R = (i(1662),
        i(1663),
        z.mapProviderInfo)
          , N = function(t) {
            function e() {
                return Object(n.a)(this, e),
                Object(o.a)(this, Object(s.a)(e).apply(this, arguments))
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "createLeafletElement",
                value: function(t) {
                    var e = t.mapViewType
                      , i = t.mapTile
                      , a = "https://1.".concat(i, ".maps.api.here.com/maptile/2.1/maptile/newest/").concat(e, ".day/{z}/{x}/{y}/256/png8?app_id=").concat(R.here.HereMapId, "&app_code=").concat(R.here.HereMapCode);
                    return y.tileLayer(a, {
                        id: "hereMap",
                        attribution: R.here.attribution
                    })
                }
            }]),
            e
        }(b.a);
        N.defaultProps = {
            mapViewType: "normal",
            mapTile: "base"
        },
        N.propTypes = {
            mapViewType: C.a.string,
            mapTile: C.a.string
        };
        var V = N
          , j = i(1488)
          , F = i.n(j)
          , G = i(83)
          , U = i(68)
          , H = function(t) {
            function e(t) {
                var i;
                return Object(n.a)(this, e),
                (i = Object(o.a)(this, Object(s.a)(e).call(this, t))).state = {
                    expanded: !1
                },
                i.onClickHereMap = i.onClickHereMap.bind(Object(l.a)(i)),
                i.onClickGoogle = i.onClickGoogle.bind(Object(l.a)(i)),
                i.onClickOSM = i.onClickOSM.bind(Object(l.a)(i)),
                i.onClickBaidu = i.onClickBaidu.bind(Object(l.a)(i)),
                i.onClickDropdown = i.onClickDropdown.bind(Object(l.a)(i)),
                i
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "mapProviderString",
                value: function() {
                    var t = this.props.mapProvider;
                    if (Object(U.b)())
                        return "course_map_map_provider_label_baidu";
                    switch (t && t.value) {
                    case I.here.value:
                        return "course_map_map_provider_label_here";
                    case I.google.value:
                        return "course_map_map_provider_label_google";
                    default:
                        return "course_map_map_provider_label_osm"
                    }
                }
            }, {
                key: "onClickHereMap",
                value: function(t) {
                    t.preventDefault();
                    var e = this.props;
                    (0,
                    e.setUserPreference)("map_provider_type", "here", e.mapSettingsJSON)
                }
            }, {
                key: "onClickGoogle",
                value: function(t) {
                    t.preventDefault();
                    var e = this.props;
                    (0,
                    e.setUserPreference)("map_provider_type", "google", e.mapSettingsJSON)
                }
            }, {
                key: "onClickOSM",
                value: function(t) {
                    t.preventDefault();
                    var e = this.props;
                    (0,
                    e.setUserPreference)("map_provider_type", "osm", e.mapSettingsJSON)
                }
            }, {
                key: "onClickBaidu",
                value: function(t) {
                    t.preventDefault(),
                    (0,
                    this.props.setUserPreference)("map_provider_type", "baidu")
                }
            }, {
                key: "onClickDropdown",
                value: function(t) {
                    t.preventDefault(),
                    this.setState({
                        expanded: !this.state.expanded
                    })
                }
            }, {
                key: "render",
                value: function() {
                    var t = this.props.mapProvider
                      , e = [];
                    Object(U.b)() ? e.push(p.a.createElement("li", {
                        key: I.baidu.value,
                        className: t.value === I.baidu.value ? "active" : "",
                        onClick: this.onClickBaidu
                    }, p.a.createElement("a", {
                        "data-action": "baidu"
                    }, p.a.createElement(G.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_baidu"
                    })))) : (e.push(p.a.createElement("li", {
                        key: I.google.value,
                        className: t.value === I.google.value ? "active" : "",
                        onClick: this.onClickGoogle
                    }, p.a.createElement("a", {
                        "data-action": "google"
                    }, p.a.createElement(G.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_google"
                    })))),
                    e.push(p.a.createElement("li", {
                        key: I.osm.value,
                        className: t.value === I.osm.value || null === t.value ? "active" : "",
                        onClick: this.onClickOSM
                    }, p.a.createElement("a", {
                        "data-action": "osm"
                    }, p.a.createElement(G.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_osm"
                    })))),
                    e.push(p.a.createElement("li", {
                        key: I.here.value,
                        className: t.value === I.here.value ? "active" : "",
                        onClick: this.onClickHereMap
                    }, p.a.createElement("a", {
                        "data-action": "here"
                    }, p.a.createElement(G.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_here"
                    })))));
                    var i = e.length > 1;
                    return p.a.createElement("div", {
                        className: "map-filter active map-filter-provider ".concat(this.state.expanded ? "open" : "", " ").concat(F.a.mapFilterProvider),
                        onClick: i ? this.onClickDropdown : function() {}
                    }, p.a.createElement("a", {
                        className: "map-filter-trigger ".concat(F.a.mapFilterTrigger),
                        tabIndex: "-1"
                    }, i && p.a.createElement("span", {
                        className: "icon-pointer-down"
                    }), p.a.createElement("span", {
                        className: "map-filter-label ".concat(F.a.mapFilterLabel)
                    }, p.a.createElement(G.a, {
                        key: this.mapProviderString(),
                        ns: "course",
                        content: this.mapProviderString()
                    }))), " ", p.a.createElement("div", {
                        className: "map-filter-detail ".concat(F.a.mapFilterDetail)
                    }, p.a.createElement("ul", null, e)))
                }
            }]),
            e
        }(p.a.Component)
          , K = i(1307)
          , W = i.n(K)
          , Q = function(t) {
            function e() {
                return Object(n.a)(this, e),
                Object(o.a)(this, Object(s.a)(e).apply(this, arguments))
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "render",
                value: function() {
                    var t = this.props
                      , e = t.className
                      , i = t.name
                      , a = t.dataName
                      , n = t.onClick;
                    return p.a.createElement("a", {
                        "data-name": a,
                        className: "map-layer active layer-tile-style selected ".concat(e, " ").concat(W.a.mapLayer, " ").concat(W.a.layerTileStyle),
                        title: i,
                        onClick: n
                    }, p.a.createElement("span", {
                        "data-name": a,
                        className: "layer-tile-style-label ".concat(W.a.layerTileStyleLabel)
                    }, p.a.createElement("span", {
                        "data-name": a,
                        className: "layer-tile-style-text ".concat(W.a.layerTileStyleText)
                    }, i)))
                }
            }]),
            e
        }(p.a.Component)
          , Y = i(1491)
          , Z = i.n(Y)
          , $ = function(t) {
            function e() {
                return Object(n.a)(this, e),
                Object(o.a)(this, Object(s.a)(e).apply(this, arguments))
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "render",
                value: function() {
                    var t = this.props
                      , e = t.className
                      , i = t.selected
                      , a = t.onClick
                      , n = t.name
                      , r = "map-layer ".concat(e, " ").concat(i ? Z.a.selected : "");
                    return p.a.createElement("a", {
                        className: r,
                        onClick: a
                    }, i && p.a.createElement("span", {
                        className: "".concat(Z.a.iconCheckmark)
                    }), p.a.createElement("span", {
                        title: n,
                        className: "button-text"
                    }, n))
                }
            }]),
            e
        }(p.a.Component);
        $.defaultProps = {
            selected: !1
        };
        var q = $
          , X = i(92)
          , J = function(t) {
            function e(t) {
                var i;
                return Object(n.a)(this, e),
                (i = Object(o.a)(this, Object(s.a)(e).call(this, t))).onClickSatellite = i.onClickSatellite.bind(Object(l.a)(i)),
                i.onClickTerrain = i.onClickTerrain.bind(Object(l.a)(i)),
                i.onClickTrails = i.onClickTrails.bind(Object(l.a)(i)),
                i
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "onClickSatellite",
                value: function(t) {
                    t.preventDefault();
                    var e = this.props
                      , i = e.setUserPreference
                      , a = e.mapSettingsJSON
                      , n = t.target.attributes["data-name"].value;
                    a.terrain = !1,
                    "map" === n ? (a.satellite = !1,
                    a.hybrid = !1) : a.trails ? (a.satellite = !1,
                    a.hybrid = !0) : (a.satellite = !0,
                    a.hybrid = !1),
                    i(a)
                }
            }, {
                key: "onClickTerrain",
                value: function(t) {
                    t.preventDefault();
                    var e = this.props
                      , i = e.setUserPreference
                      , a = e.mapSettingsJSON;
                    a.terrain = !a.terrain,
                    a.satellite = !1,
                    a.hybrid = !1,
                    i(a)
                }
            }, {
                key: "onClickTrails",
                value: function(t) {
                    t.preventDefault();
                    var e = this.props
                      , i = e.setUserPreference
                      , a = e.mapSettingsJSON
                      , n = e.updateBikeLanesAndTrails
                      , r = a.hybrid;
                    a.trails = !a.trails,
                    a.hybrid = a.satellite && a.trails,
                    a.satellite = r && !a.trails,
                    n(a.trails),
                    i(a)
                }
            }, {
                key: "render",
                value: function() {
                    var t, e = this.props, i = e.mapSettingsJSON, a = e.hideBikeLanesButton, n = e.t, r = !!i && i.trails;
                    return a || (t = p.a.createElement(q, {
                        selected: r,
                        className: "layer-bike-data active",
                        name: n("course:course_map_label_bike_friendly"),
                        onClick: this.onClickTrails
                    })),
                    i && i.terrain ? p.a.createElement("div", {
                        className: "map-layers map-provider-google ".concat(W.a.mapLayers)
                    }, p.a.createElement(Q, {
                        className: "layer-tile-satellite",
                        dataName: "satellite",
                        name: n("map:map.control.satellite"),
                        onClick: this.onClickSatellite
                    }), p.a.createElement(Q, {
                        className: "layer-tile-default",
                        dataName: "map",
                        name: n("map:map.control.road"),
                        onClick: this.onClickTerrain
                    }), t) : i && (i.satellite || i.hybrid) ? p.a.createElement("div", {
                        className: "map-layers map-provider-google ".concat(W.a.mapLayers)
                    }, p.a.createElement(Q, {
                        className: "layer-tile-default",
                        dataName: "map",
                        name: n("map:map.control.road"),
                        onClick: this.onClickSatellite
                    }), p.a.createElement(Q, {
                        className: "layer-tile-terrain",
                        dataName: "terrain",
                        name: n("map:map.control.terrain"),
                        onClick: this.onClickTerrain
                    }), t) : p.a.createElement("div", {
                        className: "map-layers map-provider-google ".concat(W.a.mapLayers)
                    }, p.a.createElement(Q, {
                        className: "layer-tile-satellite",
                        dataName: "satellite",
                        name: n("map:map.control.satellite"),
                        onClick: this.onClickSatellite
                    }), p.a.createElement(Q, {
                        className: "layer-tile-terrain",
                        dataName: "terrain",
                        name: n("map:map.control.terrain"),
                        onClick: this.onClickTerrain
                    }), t)
                }
            }]),
            e
        }(p.a.Component)
          , tt = Object(X.d)(["map"])(J)
          , et = function(t) {
            function e(t) {
                var i;
                return Object(n.a)(this, e),
                (i = Object(o.a)(this, Object(s.a)(e).call(this, t))).onClickSatellite = i.onClickSatellite.bind(Object(l.a)(i)),
                i.onClickTerrain = i.onClickTerrain.bind(Object(l.a)(i)),
                i
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "onClickSatellite",
                value: function(t) {
                    t.preventDefault();
                    var e = this.props
                      , i = e.setUserPreference
                      , a = e.mapSettingsJSON
                      , n = t.target.attributes["data-name"].value;
                    a.terrain = !1,
                    a.hybrid = !1,
                    a.satellite = !("map" === n),
                    i(a)
                }
            }, {
                key: "onClickTerrain",
                value: function(t) {
                    t.preventDefault();
                    var e = this.props
                      , i = e.setUserPreference
                      , a = e.mapSettingsJSON;
                    a.terrain = !a.terrain,
                    a.satellite = !1,
                    a.hybrid = !1,
                    i(a)
                }
            }, {
                key: "render",
                value: function() {
                    var t = this.props
                      , e = t.t
                      , i = t.mapSettingsJSON;
                    return i && i.terrain ? p.a.createElement("div", {
                        className: "map-layers map-provider-".concat(this.props.mapProvider.value, " ").concat(W.a.mapLayers)
                    }, p.a.createElement(Q, {
                        className: "layer-tile-satellite",
                        dataName: "satellite",
                        name: e("map:map.control.satellite"),
                        onClick: this.onClickSatellite
                    }), p.a.createElement(Q, {
                        className: "layer-tile-default",
                        dataName: "map",
                        name: e("map:map.control.road"),
                        onClick: this.onClickTerrain
                    })) : i && (i.satellite || i.hybrid) ? p.a.createElement("div", {
                        className: "map-layers map-provider-".concat(this.props.mapProvider.value, " ").concat(W.a.mapLayers)
                    }, p.a.createElement(Q, {
                        className: "layer-tile-default",
                        dataName: "map",
                        name: e("map:map.control.road"),
                        onClick: this.onClickSatellite
                    }), p.a.createElement(Q, {
                        className: "layer-tile-terrain",
                        dataName: "terrain",
                        name: e("map:map.control.terrain"),
                        onClick: this.onClickTerrain
                    })) : p.a.createElement("div", {
                        className: "map-layers map-provider-".concat(this.props.mapProvider.value, " ").concat(W.a.mapLayers)
                    }, p.a.createElement(Q, {
                        className: "layer-tile-satellite",
                        dataName: "satellite",
                        name: e("map:map.control.satellite"),
                        onClick: this.onClickSatellite
                    }), p.a.createElement(Q, {
                        className: "layer-tile-terrain",
                        dataName: "terrain",
                        name: e("map:map.control.terrain"),
                        onClick: this.onClickTerrain
                    }))
                }
            }]),
            e
        }(p.a.Component)
          , it = Object(X.d)(["map"])(et)
          , at = function(t) {
            function e(t) {
                var i;
                return Object(n.a)(this, e),
                (i = Object(o.a)(this, Object(s.a)(e).call(this, t))).onClickSatellite = i.onClickSatellite.bind(Object(l.a)(i)),
                i
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "onClickSatellite",
                value: function(t) {
                    t.preventDefault();
                    var e = this.props
                      , i = e.setUserPreference
                      , a = e.mapSettingsJSON
                      , n = t.target.attributes["data-name"].value;
                    a.terrain = !1,
                    a.hybrid = !1,
                    a.satellite = !("map" === n),
                    i(a)
                }
            }, {
                key: "render",
                value: function() {
                    var t = this.props
                      , e = t.t
                      , i = t.mapSettingsJSON;
                    return i && i.terrain ? p.a.createElement("div", {
                        className: "map-layers map-provider-".concat(this.props.mapProvider.value, " ").concat(W.a.mapLayers)
                    }, p.a.createElement(Q, {
                        className: "layer-tile-satellite",
                        dataName: "satellite",
                        name: e("map:map.control.satellite"),
                        onClick: this.onClickSatellite
                    })) : i && (i.satellite || i.hybrid) ? p.a.createElement("div", {
                        className: "map-layers map-provider-".concat(this.props.mapProvider.value, " ").concat(W.a.mapLayers)
                    }, p.a.createElement(Q, {
                        className: "layer-tile-default",
                        dataName: "map",
                        name: e("map:map.control.road"),
                        onClick: this.onClickSatellite
                    })) : p.a.createElement("div", {
                        className: "map-layers map-provider-".concat(this.props.mapProvider.value, " ").concat(W.a.mapLayers)
                    }, p.a.createElement(Q, {
                        className: "layer-tile-satellite",
                        dataName: "satellite",
                        name: e("map:map.control.satellite"),
                        onClick: this.onClickSatellite
                    }))
                }
            }]),
            e
        }(p.a.Component)
          , nt = Object(X.d)(["map"])(at)
          , rt = function(t) {
            function e() {
                return Object(n.a)(this, e),
                Object(o.a)(this, Object(s.a)(e).apply(this, arguments))
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "render",
                value: function() {
                    switch (this.props.mapProvider.value) {
                    case "google":
                        return p.a.createElement(tt, this.props);
                    case "here":
                        return p.a.createElement(it, this.props);
                    case "osm":
                        return null;
                    case "baidu":
                        return p.a.createElement(nt, this.props);
                    default:
                        return null
                    }
                }
            }]),
            e
        }(p.a.Component)
          , ot = i(79)
          , st = i(1493)
          , lt = i.n(st)
          , ct = function(t) {
            function e() {
                return Object(n.a)(this, e),
                Object(o.a)(this, Object(s.a)(e).apply(this, arguments))
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "render",
                value: function() {
                    var t = this.props
                      , e = t.buttonStyle
                      , i = t.onClickZoomIn
                      , a = t.onClickZoomOut
                      , n = "activity" === e ? "map" : "default";
                    return p.a.createElement("div", {
                        className: "".concat(lt.a.wrapper, " ").concat(lt.a[e])
                    }, p.a.createElement("div", {
                        onClick: i,
                        className: "".concat(lt.a.zoomButton, " ").concat(lt.a.zoomInButton, " ").concat(lt.a[e])
                    }, p.a.createElement(ot.ButtonIcon, {
                        theme: n,
                        icon: "icon-add",
                        ariaLabel: "zoom in",
                        hideOutline: !0
                    })), p.a.createElement("div", {
                        onClick: a,
                        className: "".concat(lt.a.zoomButton, " ").concat(lt.a.zoomOutButton, " ").concat(lt.a[e])
                    }, p.a.createElement(ot.ButtonIcon, {
                        theme: n,
                        icon: "icon-minus",
                        ariaLabel: "zoom out",
                        hideOutline: !0
                    })))
                }
            }]),
            e
        }(p.a.Component);
        ct.defaultProps = {
            buttonStyle: "course"
        };
        var ht = ct
          , pt = function(t) {
            function e() {
                return Object(n.a)(this, e),
                Object(o.a)(this, Object(s.a)(e).apply(this, arguments))
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "render",
                value: function() {
                    var t = this.props
                      , e = t.zoomProps
                      , i = t.mapFilterProps
                      , a = t.mapLayersProps
                      , n = e.hideZoomControls
                      , r = e.onClickZoomIn
                      , o = e.onClickZoomOut
                      , s = i.hideMapProviderSwitch
                      , l = a.hideMapTypeSwitch;
                    return p.a.createElement(p.a.Fragment, null, s ? null : p.a.createElement(H, i), l ? null : p.a.createElement(rt, a), n ? null : p.a.createElement(ht, {
                        buttonStyle: "course",
                        onClickZoomIn: r,
                        onClickZoomOut: o
                    }))
                }
            }]),
            e
        }(p.a.Component)
          , dt = i(1495)
          , ut = i.n(dt)
          , mt = function(t) {
            function e() {
                return Object(n.a)(this, e),
                Object(o.a)(this, Object(s.a)(e).apply(this, arguments))
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "render",
                value: function() {
                    var t = this
                      , e = this.props
                      , i = e.mapProvider
                      , a = e.mapSettingsJSON;
                    return Object(U.b)() ? p.a.createElement("div", {
                        className: ut.a.container
                    }, p.a.createElement(ot.Menu, {
                        customComponent: !0,
                        trigger: p.a.createElement(G.a, {
                            ns: "map"
                        }, function(t) {
                            return p.a.createElement(ot.ButtonIcon, {
                                icon: "icon-layers",
                                ariaLabel: t("map.control.layers"),
                                theme: "map"
                            })
                        }),
                        direction: "right"
                    }, p.a.createElement(ot.MenuItem, {
                        onClick: function() {
                            return t.onClickBaidu()
                        },
                        selected: I.baidu.value === i.value
                    }, p.a.createElement(G.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_baidu"
                    })), p.a.createElement(ot.MenuItem, {
                        divider: !0
                    }), p.a.createElement(ot.MenuItem, {
                        onClick: function() {
                            return t.onClickMap()
                        },
                        selected: !a.satellite,
                        disabled: I.osm.value === i.value
                    }, p.a.createElement(G.a, {
                        ns: "map",
                        content: "map.control.road"
                    })), p.a.createElement(ot.MenuItem, {
                        onClick: function() {
                            return t.onClickSatellite()
                        },
                        selected: a.satellite,
                        disabled: I.osm.value === i.value
                    }, p.a.createElement(G.a, {
                        ns: "map",
                        content: "map.control.satellite"
                    })))) : p.a.createElement("div", {
                        className: ut.a.container
                    }, p.a.createElement(ot.Menu, {
                        customComponent: !0,
                        trigger: p.a.createElement(G.a, {
                            ns: "map"
                        }, function(t) {
                            return p.a.createElement(ot.ButtonIcon, {
                                icon: "icon-layers",
                                ariaLabel: t("map.control.layers"),
                                theme: "map"
                            })
                        }),
                        direction: "right"
                    }, p.a.createElement(ot.MenuItem, {
                        onClick: function() {
                            return t.onClickGoogle()
                        },
                        selected: I.google.value === i.value
                    }, p.a.createElement(G.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_google"
                    })), p.a.createElement(ot.MenuItem, {
                        onClick: function() {
                            return t.onClickHereMap()
                        },
                        selected: I.here.value === i.value
                    }, p.a.createElement(G.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_here"
                    })), p.a.createElement(ot.MenuItem, {
                        onClick: function() {
                            return t.onClickOSM()
                        },
                        selected: I.osm.value === i.value
                    }, p.a.createElement(G.a, {
                        ns: "course",
                        content: "course_map_map_provider_label_osm"
                    })), p.a.createElement(ot.MenuItem, {
                        divider: !0
                    }), p.a.createElement(ot.MenuItem, {
                        onClick: function() {
                            return t.onClickMap()
                        },
                        selected: !a.satellite,
                        disabled: I.osm.value === i.value
                    }, p.a.createElement(G.a, {
                        ns: "map",
                        content: "map.control.road"
                    })), p.a.createElement(ot.MenuItem, {
                        onClick: function() {
                            return t.onClickSatellite()
                        },
                        selected: a.satellite,
                        disabled: I.osm.value === i.value
                    }, p.a.createElement(G.a, {
                        ns: "map",
                        content: "map.control.satellite"
                    }))))
                }
            }, {
                key: "onClickHereMap",
                value: function() {
                    var t = this.props;
                    (0,
                    t.setMapProvider)("map_provider_type", "here", t.mapSettingsJSON)
                }
            }, {
                key: "onClickGoogle",
                value: function() {
                    var t = this.props;
                    (0,
                    t.setMapProvider)("map_provider_type", "google", t.mapSettingsJSON)
                }
            }, {
                key: "onClickOSM",
                value: function() {
                    var t = this.props;
                    (0,
                    t.setMapProvider)("map_provider_type", "osm", t.mapSettingsJSON)
                }
            }, {
                key: "onClickBaidu",
                value: function() {
                    (0,
                    this.props.setMapProvider)("map_provider_type", "baidu")
                }
            }, {
                key: "onClickSatellite",
                value: function() {
                    var t = this.props
                      , e = t.setMapLayer
                      , i = t.mapSettingsJSON;
                    i.terrain = !1,
                    i.trails ? (i.satellite = !1,
                    i.hybrid = !0) : (i.satellite = !0,
                    i.hybrid = !1),
                    e(i)
                }
            }, {
                key: "onClickMap",
                value: function() {
                    var t = this.props
                      , e = t.setMapLayer
                      , i = t.mapSettingsJSON;
                    i.terrain = !1,
                    i.satellite = !1,
                    i.hybrid = !1,
                    e(i)
                }
            }]),
            e
        }(p.a.Component)
          , ft = function(t) {
            function e() {
                return Object(n.a)(this, e),
                Object(o.a)(this, Object(s.a)(e).apply(this, arguments))
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "render",
                value: function() {
                    var t = this.props
                      , e = t.zoomProps
                      , i = t.mapFilterProps
                      , a = t.mapLayersProps
                      , n = e.hideZoomControls
                      , r = e.onClickZoomIn
                      , o = e.onClickZoomOut;
                    return p.a.createElement(p.a.Fragment, null, n ? null : p.a.createElement(ht, {
                        onClickZoomIn: r,
                        onClickZoomOut: o,
                        buttonStyle: "activity"
                    }), !i.hideMapProviderSwitch && p.a.createElement(mt, {
                        mapProvider: i.mapProvider,
                        mapSettingsJSON: i.mapSettingsJSON,
                        setMapProvider: i.setUserPreference,
                        setMapLayer: a.setUserPreference
                    }))
                }
            }]),
            e
        }(p.a.Component)
          , gt = i(1497)
          , yt = i.n(gt)
          , vt = i(84)
          , bt = z.mapProviderInfo
          , At = d.a.BaseLayer
          , _t = d.a.Overlay
          , Ct = function(t) {
            return t && t.satellite ? t.trails ? bt.google.types.hybrid : bt.google.types.satellite : t && t.terrain ? bt.google.types.terrain : t && t.hybrid ? t.trails ? bt.google.types.hybrid : bt.google.types.satellite : bt.google.types.default
        }
          , wt = function(t) {
            return t && (t.satellite || t.hybrid) ? bt.here.mapViewType.satellite : t && t.terrain ? bt.here.mapViewType.terrain : bt.here.mapViewType.normal
        }
          , xt = function(t) {
            return t && (t.satellite || t.hybrid || t.terrain) ? bt.here.mapTile.aerial : bt.here.mapTile.base
        }
          , St = function(t) {
            return t && t.satellite ? bt.baidu.type.satellite : bt.baidu.type.default
        }
          , Tt = {
            mapType: "road",
            terrain: !1,
            trails: !1,
            labels: !0,
            HeatMapsRunning: !1,
            HeatMapsCycling: !1
        }
          , Et = function(t) {
            function e(t) {
                var i;
                Object(n.a)(this, e),
                (i = Object(o.a)(this, Object(s.a)(e).call(this, t))).addMapListeners = i.addMapListeners.bind(Object(l.a)(i)),
                i.onMapStartEvent = i.onMapStartEvent.bind(Object(l.a)(i)),
                i.updateProvider = i.updateProvider.bind(Object(l.a)(i)),
                i.updateLayer = i.updateLayer.bind(Object(l.a)(i)),
                i.onMapEndEvent = i.onMapEndEvent.bind(Object(l.a)(i)),
                i.handleClick = i.handleClick.bind(Object(l.a)(i));
                var a = t.bounds
                  , r = t.boundingOptions;
                if (i.state = {
                    isMapLoaded: !Object(U.b)() || "undefined" !== typeof BMap,
                    bounds: a,
                    boundingOptions: r,
                    showBikeLanesAndTrails: !1
                },
                Object(U.b)()) {
                    if ("undefined" !== typeof BMap)
                        return Object(o.a)(i);
                    window.HOST_TYPE = "2";
                    L()(["https://api.map.baidu.com/getscript?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD"], function() {
                        i.setState({
                            isMapLoaded: !0
                        }),
                        i.map = i.refs.map.leafletElement,
                        i.addMapListeners()
                    })
                }
                return i
            }
            return Object(c.a)(e, t),
            Object(r.a)(e, [{
                key: "addMarker",
                value: function(t) {
                    this.markers.push(t)
                }
            }, {
                key: "componentDidMount",
                value: function() {
                    var t = this.props.handleRef;
                    this.fetchMapPreferences(),
                    this.state.isMapLoaded && (this.map = this.refs.map.leafletElement,
                    this.addMapListeners()),
                    t && t(this.map)
                }
            }, {
                key: "fetchMapPreferences",
                value: function() {
                    var t = this.props
                      , e = t.mapProvider
                      , i = t.mapSettings
                      , a = t.mapPreferenceKey
                      , n = t.fetchUserPreference;
                    i && i.value || n(a),
                    i && e.value || n("map_provider_type")
                }
            }, {
                key: "componentDidUpdate",
                value: function(t, e) {
                    if (t.bounds === this.props.bounds && t.boundingOptions === this.props.boundingOptions || this.setState({
                        bounds: this.props.bounds,
                        boundingOptions: this.props.boundingOptions
                    }),
                    t && t.mapProvider && t.mapProvider.value !== this.props.mapProvider.value && this.props.mapProvider.value === bt.here.value) {
                        var i = this.props.mapSettings;
                        if (i && i.value) {
                            var a = JSON.parse(i.value);
                            a.hybrid && (a.hybrid = !1,
                            a.satellite = !0,
                            a.trails = !1,
                            this.updateLayer(a))
                        }
                    }
                    this.state.isMapLoaded && this.refs.map.leafletElement && !this.map && (this.map = this.refs.map.leafletElement,
                    this.addMapListeners())
                }
            }, {
                key: "addMapListeners",
                value: function() {
                    this.turnOffMapListeners(),
                    this.turnOnMapListeners()
                }
            }, {
                key: "turnOnMapListeners",
                value: function() {
                    this.map && (this.map.on("zoomstart", this.onMapStartEvent),
                    this.map.on("movestart", this.onMapStartEvent),
                    this.map.on("moveend", this.onMapEndEvent))
                }
            }, {
                key: "turnOffMapListeners",
                value: function() {
                    this.map && (this.map.off("zoomstart"),
                    this.map.off("movestart"),
                    this.map.off("moveend"))
                }
            }, {
                key: "onMapEvent",
                value: function() {
                    this.state.bounds && this.setState({
                        bounds: null
                    })
                }
            }, {
                key: "onMapStartEvent",
                value: function() {
                    this.props.onMapStartEvent && this.props.onMapStartEvent(),
                    this.state.bounds && this.setState({
                        bounds: null
                    })
                }
            }, {
                key: "onMapEndEvent",
                value: function() {
                    if (this.props.onMapEndEvent && this.props.onMapEndEvent(),
                    this.props.moveEnd) {
                        var t = this.map.getCenter().wrap();
                        this.props.moveEnd({
                            zoom: this.map.getZoom(),
                            center: {
                                lat: t.lat,
                                lng: t.lng
                            }
                        })
                    }
                }
            }, {
                key: "getMapType",
                value: function() {
                    var t = this.props
                      , e = t.mapProvider
                      , i = t.mapSettings
                      , a = JSON.parse(i.value)
                      , n = null;
                    switch (e.value) {
                    case bt.here.value:
                        n = wt(a);
                        break;
                    case bt.osm.value:
                        n = bt.osm.value;
                        break;
                    case bt.google.value:
                        n = Ct(a);
                        break;
                    case bt.baidu.value:
                        n = St(a);
                        break;
                    default:
                        n = Object(U.b)() ? St(a) : Ct(a)
                    }
                    return n
                }
            }, {
                key: "shouldComponentUpdate",
                value: function(t) {
                    return !this.props.shouldUpdate || this.props.shouldUpdate(t)
                }
            }, {
                key: "updateProvider",
                value: function(t, e, i) {
                    var a = this.props
                      , n = a.setUserPreference
                      , r = a.mapPreferenceKey;
                    e === bt.google.value ? i.trails = this.state.showBikeLanesAndTrails : i.trails = !1,
                    n(t, e),
                    n(r, JSON.stringify(i))
                }
            }, {
                key: "updateLayer",
                value: function(t) {
                    var e = this.props
                      , i = e.mapPreferenceKey;
                    (0,
                    e.setUserPreference)(i, JSON.stringify(t))
                }
            }, {
                key: "setBikeLanesAndTrails",
                value: function(t) {
                    this.setState({
                        showBikeLanesAndTrails: t
                    })
                }
            }, {
                key: "updateBikeLanesAndTrails",
                value: function(t) {
                    this.setBikeLanesAndTrails(t)
                }
            }, {
                key: "render",
                value: function() {
                    var t = this.props
                      , e = t.mapProvider
                      , i = t.mapSettings
                      , a = t.mapItems
                      , n = t.zoom
                      , r = t.center
                      , o = t.attributionControl
                      , s = t.dragging
                      , l = t.doubleClickZoom
                      , c = t.scrollWheelZoom
                      , h = t.children
                      , d = JSON.parse(i.value) || Tt
                      , f = {
                        ref: "map",
                        zoom: n,
                        zoomControl: !1,
                        boundsOptions: this.state.boundingOptions,
                        dragging: s,
                        doubleClickZoom: l,
                        scrollWheelZoom: c,
                        attributionControl: o,
                        center: r
                    };
                    return Object(U.b)() && (f.crs = y.CRS.BEPSG3857),
                    this.state.bounds && (f.bounds = this.state.bounds),
                    e.value === bt.bing.value && this.updateProvider("map_provider_type", bt.here.value, d),
                    Object(U.b)() && !this.state.isMapLoaded ? p.a.createElement("div", null) : p.a.createElement("div", {
                        className: "connect-map-view ".concat(yt.a.connectMapView)
                    }, this.mapOverlay(d), p.a.createElement(u.a, Object.assign({
                        onClick: this.handleClick,
                        onLocationfound: this.handleLocationFound
                    }, f), this.layersControl(d), h || a, this.scaleControl(), p.a.createElement(m.a, {
                        prefix: ""
                    })), Object(U.b)() ? p.a.createElement("div", {
                        className: "baiduLogo"
                    }) : null)
                }
            }, {
                key: "layersControl",
                value: function(t) {
                    var e = this.props
                      , i = e.mapSettings
                      , n = e.mapProvider
                      , r = e.popularityType
                      , o = e.popularityTileUrl;
                    if (!n || !n.value)
                        return "";
                    var s = bt.google
                      , l = bt.here
                      , c = bt.osm
                      , h = bt.baidu
                      , u = [];
                    if (Object(U.b)())
                        u.push(p.a.createElement(At, {
                            key: St(t),
                            checked: n.value === h.value || Object(U.b)(),
                            name: "course_map_map_provider_label_baidu"
                        }, p.a.createElement(P, Object.assign({
                            key: St(t),
                            type: St(t)
                        }, h.options))));
                    else {
                        var m = Object(a.a)({}, this.props.styles ? {
                            styles: this.props.styles
                        } : {}, this.props.opacity ? {
                            opacity: this.props.opacity
                        } : {}, this.props.onAfterLoad ? {
                            onAfterLoad: this.props.onAfterLoad
                        } : {}, this.props.libraries ? {
                            libraries: this.props.libraries
                        } : {}, this.props.attribution ? {
                            attribution: this.props.attribution
                        } : {});
                        "google" === n.value ? u.push(p.a.createElement(At, {
                            key: "google",
                            checked: n.value === s.value,
                            name: "course_map_map_provider_label_google"
                        }, p.a.createElement(E, Object.assign({
                            key: Ct(t),
                            maptype: Ct(t),
                            googlekey: s.key,
                            value: i.value
                        }, m, s.options)))) : "osm" === n.value ? u.push(p.a.createElement(At, {
                            key: "osm",
                            checked: n.value === c.value || null === n.value,
                            name: "course_map_map_provider_label_osm"
                        }, p.a.createElement(A, Object.assign({
                            url: "https://connectOsm16.azureedge.net/"
                        }, c.options)))) : u.push(p.a.createElement(At, {
                            key: wt(t),
                            checked: n.value === l.value || Object(U.b)(),
                            name: "course_map_map_provider_label_here"
                        }, p.a.createElement(V, {
                            mapTile: xt(t),
                            mapViewType: wt(t)
                        })))
                    }
                    if (r && o && o.value) {
                        var g = "".concat(r, "-").concat(this.getMapType());
                        u.push(p.a.createElement(_t, {
                            checked: !0,
                            name: g
                        }, p.a.createElement(f.a, {
                            key: g
                        }, p.a.createElement(x, {
                            url: o.value,
                            routeType: r,
                            filterZoomLevel: 9
                        }))))
                    }
                    return p.a.createElement(d.a, null, u)
                }
            }, {
                key: "scaleControl",
                value: function() {
                    var t = this.props.mapProvider;
                    if (!t || !t.value)
                        return "";
                    var e = this.props.scaleControl
                      , i = void 0 === e || e;
                    return i ? p.a.createElement(g.a, {
                        position: "bottomright"
                    }) : void 0
                }
            }, {
                key: "mapOverlay",
                value: function(t) {
                    var e = this
                      , i = this.props
                      , a = i.overlay
                      , n = i.hideZoomControls
                      , r = i.mapProvider
                      , o = i.hideMapProviderSwitch
                      , s = i.hideMapTypeSwitch
                      , l = i.hideBikeLanesButton
                      , c = {
                        zoomProps: {
                            hideZoomControls: n,
                            onClickZoomIn: function() {
                                return e.zoomIn()
                            },
                            onClickZoomOut: function() {
                                return e.zoomOut()
                            }
                        },
                        mapFilterProps: {
                            hideMapProviderSwitch: o,
                            isChinaUser: Object(U.b)(),
                            mapProvider: r,
                            mapSettingsJSON: t,
                            setUserPreference: function(t, i, a) {
                                return e.updateProvider(t, i, a)
                            }
                        },
                        mapLayersProps: {
                            hideMapTypeSwitch: s,
                            mapSettingsJSON: t,
                            mapProvider: r,
                            setUserPreference: function(t) {
                                return e.updateLayer(t)
                            },
                            setBikeLanesAndTrails: function() {
                                return e.setBikeLanesAndTrails(t.trails)
                            },
                            updateBikeLanesAndTrails: function(t) {
                                return e.updateBikeLanesAndTrails(t)
                            },
                            hideBikeLanesButton: l
                        }
                    };
                    switch (a) {
                    case "activity":
                        return p.a.createElement(ft, c);
                    case "course":
                    default:
                        return p.a.createElement(pt, c)
                    }
                }
            }, {
                key: "zoomIn",
                value: function() {
                    this.refs.map.leafletElement.zoomIn()
                }
            }, {
                key: "zoomOut",
                value: function() {
                    this.refs.map.leafletElement.zoomOut()
                }
            }, {
                key: "getBounds",
                value: function() {
                    if (this.state.isMapLoaded && this.refs.map.leafletElement)
                        return this.refs.map.leafletElement.getBounds()
                }
            }, {
                key: "flyToBounds",
                value: function(t) {
                    this.refs.map.leafletElement.flyToBounds(t)
                }
            }, {
                key: "getMapBounds",
                value: function() {
                    this.refs.map.leafletElement.getBounds()
                }
            }, {
                key: "panTo",
                value: function(t, e, i) {
                    var a = this
                      , n = this.props.mapProvider;
                    Object(U.b)() && (n.value = bt.baidu.value);
                    var r = function(t, e) {
                        a.refs.map.leafletElement.panTo(t, e),
                        "function" === typeof i && i()
                    };
                    if (t)
                        switch (n.value) {
                        case "google":
                            O.googleMapGeoCoder(t, e, r);
                            break;
                        case "baidu":
                            O.baiduMapGeoCoder(t, e, r);
                            break;
                        default:
                            O.hereMapGeoCoder(t, e, r)
                        }
                }
            }, {
                key: "handleClick",
                value: function(t) {
                    this.props.onClick && this.props.onClick(t)
                }
            }, {
                key: "componentWillUnmount",
                value: function() {
                    this.turnOffMapListeners()
                }
            }]),
            e
        }(p.a.Component);
        Et.defaultProps = {
            hideMapProviderSwitch: !1,
            hideMapTypeSwitch: !1,
            zoom: 13,
            center: vt.a,
            mapPreferenceKey: "Map.Setting.Activities",
            overlay: "course",
            attributionControl: !1,
            dragging: !0,
            doubleClickZoom: !0,
            scrollWheelZoom: !0
        };
        var kt = Et
          , Lt = i(71)
          , Pt = i(127)
          , It = i(86)
          , zt = {
            fetchUserPreference: It.Db,
            setUserPreference: It.Wc
        }
          , Bt = Object(Lt.b)(function(t, e) {
            return {
                mapProvider: Object(Pt.b)(t, "map_provider_type"),
                mapSettings: Object(Pt.c)(t, e.mapPreferenceKey)
            }
        }, zt, null, {
            withRef: !0
        })(kt);
        e.a = Bt
    },
    1341: function(t, e, i) {
        "use strict";
        (function(t, a) {
            var n = i(8)
              , r = i(0)
              , o = i.n(r);
            function s(e) {
                var i = t.has(e, "customMakeModel") ? e.customMakeModel : e instanceof o.a.Model && e.get("customMakeModel") || "";
                return i || (t.has(e, "gearMakeName") ? e.gearMakeName : e instanceof o.a.Model && e.get("gearMakeName") || "") + " " + (t.has(e, "gearModelName") ? e.gearModelName : e instanceof o.a.Model && e.get("gearModelName") || "")
            }
            var l = o.a.Model.extend({
                idAttribute: "uuid",
                urlRoot: "/proxy/gear-service/gear"
            });
            l.getFullGearDisplayNameByModel = function(e) {
                var i = ""
                  , n = t.has(e, "displayName") ? e.displayName : e.get("displayName") || ""
                  , r = s(e);
                return n && r && (i += n + " (" + a.trim(r) + ")"),
                n || (i = r),
                i
            }
            ,
            l.getFullGearDisplayName = function(t, e) {
                return t || e ? t ? e ? t + " (" + e + ")" : t : e : n.a.localize("gear_change_default_confirmation_no_name")
            }
            ,
            l.getMakeModelDisplayName = s,
            e.a = l
        }
        ).call(this, i(9), i(10))
    },
    1344: function(t, e) {
        t.exports = "<% if(title) { %>\n    <div><h5><%- title %></h5></div>\n<% } %>\n<div><%= content %></div>"
    },
    1345: function(t, e, i) {
        "use strict";
        var a = i(1239)
          , n = function(t) {
            return this.transitMode = null,
            this.updateTransitionMode(t.transitMode || null),
            this
        };
        n.prototype.fetch = function() {}
        ,
        n.prototype.updateTransitionMode = function(t) {
            t && t.parent ? this.transitMode = "cycling" === t.parent ? a.a.TRANSIT_MODE.CYCLING : a.a.TRANSIT_MODE.PEDESTRIAN : this.transitMode = a.a.TRANSIT_MODE.PEDESTRIAN
        }
        ,
        e.a = n
    },
    1346: function(t, e, i) {
        "use strict";
        var a = function() {
            return this
        };
        a.prototype.fetch = function() {}
        ,
        e.a = a
    },
    1347: function(t, e, i) {
        "use strict";
        var a = i(20)
          , n = i.n(a);
        e.a = n.a.oneOfType([n.a.arrayOf(n.a.number), n.a.shape({
            lat: n.a.number,
            lng: n.a.number
        }), n.a.shape({
            lat: n.a.number,
            lon: n.a.number
        })])
    },
    1353: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(13)
          , o = (i(23),
        i(1354),
        i(1377),
        i(1391))
          , s = i(1276)
          , l = ["north", "south", "east", "west"]
          , c = {
            getElevationGainThreshold: function() {
                return 2
            },
            getElevationLossThreshold: function() {
                return 2
            },
            convertElevationDataForElevationAnalyzer: function(t) {
                var e;
                if (t) {
                    var i = t.distance || t.x;
                    !n.a.isNaN(i) && n.a.isNumber(i) || (i = 0),
                    e = {
                        elevation: r.a.convertElevationToMeter(t.y || t.elevation),
                        lat: t.latlng ? t.latlng[0] : t.lat,
                        lng: t.latlng ? t.latlng[1] : t.lng,
                        distance: i > 0 ? r.a.revertDistance(i) : i
                    }
                }
                return e
            },
            getGeoPointsFromElevationSelection: function(t) {
                var e = [];
                if (t)
                    for (var i = 0, a = t.length; i < a; i += 1)
                        t[i] && e.push({
                            latitude: t[i].lat,
                            longitude: t[i].lng,
                            elevation: t[i].elevation
                        });
                return e
            },
            getGeoPointsFromElevationData: function(t) {
                var e = [];
                if (t)
                    for (var i = 0, a = t.length; i < a; i += 1)
                        t[i] && e.push({
                            latitude: t[i].latlng[0],
                            longitude: t[i].latlng[1],
                            elevation: r.a.convertElevationToMeter(t[i].y),
                            distance: r.a.revertDistance(t[i].x),
                            timestamp: t[i].timestamp
                        });
                return e
            },
            getRouteSegments: function(t, e, i, a) {
                var n = new o.a;
                return n.setCourseId(t).setGeoRoutePk(e).setSortOrder(i).setNumberOfPoints(a.numberOfPoints).setDistanceInMeters(a.distance).setBearing(0),
                n
            },
            convertForElevationService: function(t) {
                var e = [];
                return n.a.each(t, function(t) {
                    e.push({
                        lat: t.latlng[0],
                        lng: t.latlng[1]
                    })
                }),
                e
            },
            convertCourseLinesForElevationService: function(t) {
                var e, i, a = [], n = [];
                if (t)
                    for (var r = 0, o = t.length; r < o; r += 1)
                        if (t.models[r]) {
                            for (var s = 0, l = (e = (i = t.models[r]).get("points")).length; s < l; s += 1)
                                e[s] && n.push({
                                    lat: e[s].lat,
                                    lng: e[s].lon
                                });
                            a.push({
                                id: r + 1,
                                points: n,
                                distance: i.get("distanceInMeters"),
                                numberOfPoints: n.length
                            }),
                            n = []
                        }
                return a
            },
            getElevationDataFromGeoPoints: function(t) {
                for (var e, i, a = [], n = 0, o = 0, s = 0, l = t.length; s < l; s += 1)
                    t[s] && (e = t[s],
                    i && (n = null !== e.distance && void 0 !== e.distance ? e.distance : o += n = this.calculateDistanceBetweenPointsInMeters(i.latitude, i.longitude, e.latitude, e.longitude)),
                    i = e,
                    a.push({
                        latlng: [e.latitude, e.longitude],
                        timestamp: e.timestamp,
                        y: e.elevation ? r.a.convertElevation(e.elevation) : null,
                        x: r.a.convertDistance(n)
                    }));
                return a.sort(this.sortElevationDataByDistance),
                this.stripDupDistancesFromPoints(a, "x"),
                a
            },
            getElevationDataFromSegments: function(t) {
                for (var e, i, a, n = [], o = 0, s = 0, l = 0, c = t.data.length; l < c; l += 1)
                    if (t.data[l] && t.data[l].points)
                        for (var h = 0, p = (i = t.data[l].points).length; h < p; h += 1)
                            i[h] && (e = i[h],
                            a && (o = null !== e.distance && void 0 !== e.distance ? e.distance : s += o = this.calculateDistanceBetweenPointsInMeters(a.lat, a.lng, e.lat, e.lng)),
                            a = e,
                            n.push({
                                latlng: [e.lat, e.lng],
                                timestamp: e.timestamp,
                                y: e.elevation ? r.a.convertElevation(e.elevation) : null,
                                x: r.a.convertDistance(o)
                            }));
                return n.sort(this.sortElevationDataByDistance),
                this.stripDupDistancesFromPoints(n, "x"),
                n
            },
            calculateAvgGradient: function(t, e, i) {
                var a = 100 * (e - t) / i;
                return n.a.isNaN(a) || !n.a.isFinite(a) ? 0 : a
            },
            calculateBoundingBoxAreaInKM: function(t, e, i, a) {
                return s.a.calculateBoundingBoxAreaInKM(t, e, i, a)
            },
            calculateDistanceBetweenPointsInKM: function(t, e, i, a) {
                return s.a.calculateDistanceBetweenPointsInKM(t, e, i, a)
            },
            calculateDistanceBetweenPointsInMeters: function(t, e, i, a) {
                return s.a.calculateDistanceBetweenPointsInMeters(t, e, i, a)
            },
            calculateDistanceFromLeafletLatLngs: function(t) {
                return s.a.calculateDistanceFromCollectionOfLatLngs(t)
            },
            populateDistanceInGeoPoints: function(t) {
                for (var e, i = 0, a = 0, n = 0, r = t.length; n < r; n += 1)
                    t[n] && (e && (i = a += i = this.calculateDistanceBetweenPointsInMeters(e.latitude, e.longitude, t[n].latitude, t[n].longitude)),
                    e = t[n],
                    t[n].distance = i);
                return t
            },
            sortElevationDataByDistance: function(t, e) {
                return t.x < e.x ? -1 : t.x > e.x ? 1 : 0
            },
            stripDupDistancesFromPoints: function(t, e) {
                var i, a;
                !function t(n) {
                    for (var r = 0, o = n.length; r < o; r += 1)
                        if (n[r]) {
                            if (!!i && i[e] === n[r][e]) {
                                a = r;
                                break
                            }
                            i = n[r]
                        }
                    a && (n.splice(a, 1),
                    a = null,
                    t(n))
                }(t)
            },
            getGeoPointsFromEncodedSamples: function(t) {
                var e = 0
                  , i = []
                  , a = 0
                  , n = 0;
                if (t && void 0 != t)
                    for (var r = t.length; e < r; ) {
                        var o, s = 0, l = 0;
                        do {
                            l |= (31 & (o = t.charCodeAt(e++) - 63)) << s,
                            s += 5
                        } while (o >= 32);a += 1 & l ? ~(l >> 1) : l >> 1,
                        s = 0,
                        l = 0;
                        do {
                            l |= (31 & (o = t.charCodeAt(e++) - 63)) << s,
                            s += 5
                        } while (o >= 32);n += 1 & l ? ~(l >> 1) : l >> 1,
                        i.push({
                            longitude: 1e-5 * n,
                            latitude: 1e-5 * a,
                            distance: null,
                            elevation: null
                        })
                    }
                return i
            },
            getCoursePoints: function(t, e) {
                var i = [];
                return t && n.a.each(t, function(t) {
                    i.push({
                        elevation: t.getStartElevation(),
                        lat: t.getStart().lat,
                        lon: t.getStart().lng,
                        coursePk: e,
                        coursePointType: t.getCoursePointTypeId(),
                        name: t.getCoursePointTitle(),
                        distance: t.getCoursePointDistance(),
                        coursePointId: t.getCoursePointId()
                    })
                }),
                i.length > 0 ? i : null
            },
            getPolylinePointsFromGeoPoints: function(t) {
                if (t)
                    for (var e, i = [], a = 0, n = t.length; a < n; a += 1)
                        t[a] && (e = t[a],
                        i.push({
                            lat: e.latitude,
                            lng: e.longitude
                        }));
                return i
            },
            getPointsFromCoursePoints: function(t) {
                var e = [];
                return t && n.a.each(t, function(t) {
                    e.push({
                        lat: t.lat,
                        lon: t.lon,
                        coursePointId: t.coursePointId,
                        coursePointTypeId: t.coursePointType,
                        coursePointTitle: t.name,
                        coursePointDistance: t.distance,
                        startElevation: t.elevation
                    })
                }, this),
                e
            },
            resetCourse: function(t) {
                t.courseId = null,
                t.id = null,
                t.set("createDate", null),
                t.set("updateDate", null),
                t.set("virtualPartnerId", null),
                t.set("geoRoutePk", null),
                t.set("userProfilePk", null),
                t.set("displayName", null),
                t.set("userGroupPk", null),
                t.has("coursePoints") && n.a.each(t.get("coursePoints"), function(t) {
                    t.coursePk = null,
                    t.coursePointId = null
                })
            },
            getMapLayers: function() {
                return s.a.Layers
            },
            stripDistanceDupsFromSegmentRoutes: function(t) {
                var e = null
                  , i = null
                  , a = null;
                return function t(n) {
                    if (n && n.data && n.data.length > 0)
                        for (var r = 0, o = n.data.length; r < o; r += 1) {
                            var s = n.data[r];
                            if (s && s.points && s.points.length > 0)
                                for (var l = 0, c = s.points.length; l < c; l += 1)
                                    if (s.points[l]) {
                                        if (!!e && (h = e,
                                        p = s.points[l],
                                        !(!h || !p) && h.elevation === p.elevation && h.lat === p.lat && h.lng === p.lng)) {
                                            i = r,
                                            a = l;
                                            break
                                        }
                                        e = s.points[l]
                                    }
                        }
                    var h, p;
                    i && a && (n.data[i].points.splice(a, 1),
                    e = null,
                    i = null,
                    a = null,
                    !1,
                    t(n))
                }(t),
                t
            },
            convertRoundTripRoutesToSegmentRoutes: function(t) {
                for (var e = [], i = 0, a = t.length; i < a; i += 1)
                    if (t[i]) {
                        var n = [];
                        for (var r in t[i].attributes)
                            t[i].attributes.hasOwnProperty(r) && n.push({
                                lat: t[i].attributes[r][0],
                                lon: t[i].attributes[r][1]
                            });
                        e.push({
                            points: n
                        })
                    }
                return e
            },
            getRandomRoundTripDirection: function() {
                return l[Math.floor(Math.random() * l.length)]
            },
            convertRoundTripRoutesToGeoPoints: function(t) {
                for (var e = [], i = 0, a = t.length; i < a; i += 1)
                    if (t[i] && t[i].attributes)
                        for (var n = t[i].attributes.points, r = 0, o = n.length; r < o; r += 1)
                            n[r] && e.push(n[r]);
                return e
            }
        };
        e.a = c
    },
    1357: function(t, e, i) {
        "use strict";
        var a = i(1370)
          , n = i(1405)
          , r = i(1306)
          , o = i(1404)
          , s = i(1318)
          , l = i(1333);
        var c = function(t, e, i, a) {
            if (!Object(s.a)(t))
                return t;
            for (var c = -1, h = (e = Object(r.a)(e, t)).length, p = h - 1, d = t; null != d && ++c < h; ) {
                var u = Object(l.a)(e[c])
                  , m = i;
                if (c != p) {
                    var f = d[u];
                    void 0 === (m = a ? a(f, u, d) : void 0) && (m = Object(s.a)(f) ? f : Object(o.a)(e[c + 1]) ? [] : {})
                }
                Object(n.a)(d, u, m),
                d = d[u]
            }
            return t
        };
        var h = function(t, e, i) {
            for (var n = -1, o = e.length, s = {}; ++n < o; ) {
                var l = e[n]
                  , h = Object(a.a)(t, l);
                i(h, l) && c(s, Object(r.a)(l, t), h)
            }
            return s
        }
          , p = i(1442);
        var d = function(t, e) {
            return h(t, e, function(e, i) {
                return Object(p.a)(t, i)
            })
        }
          , u = i(1441)
          , m = Object(u.a)(function(t, e) {
            return null == t ? {} : d(t, e)
        })
          , f = i(1409);
        var g = function(t, e) {
            return Object(f.a)(t, e)
        }
          , y = i(1309)
          , v = i(1272)
          , b = i(1289);
        function A(t, e) {
            if ("function" !== typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : function(t, e) {
                for (var i = Object.getOwnPropertyNames(e), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(e, n);
                    r && r.configurable && void 0 === t[n] && Object.defineProperty(t, n, r)
                }
            }(t, e))
        }
        var _ = ["stroke", "color", "weight", "opacity", "lineCap", "lineJoin", "dashArray", "dashOffset", "fill", "fillColor", "fillOpacity", "fillRule", "bubblingMouseEvents", "renderer", "className", "interactive", "pane", "attribution"]
          , C = function(t) {
            function e() {
                return function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e),
                function(t, e) {
                    if (!t)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !e || "object" !== typeof e && "function" !== typeof e ? t : e
                }(this, t.apply(this, arguments))
            }
            return A(e, t),
            e.prototype.componentDidUpdate = function(e) {
                t.prototype.componentDidUpdate.call(this, e),
                this.setStyleIfChanged(e, this.props)
            }
            ,
            e.prototype.getChildContext = function() {
                return {
                    popupContainer: this.leafletElement
                }
            }
            ,
            e.prototype.getPathOptions = function(t) {
                return m(t, _)
            }
            ,
            e.prototype.setStyle = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                this.leafletElement.setStyle(t)
            }
            ,
            e.prototype.setStyleIfChanged = function(t, e) {
                var i = this.getPathOptions(e);
                g(i, this.getPathOptions(t)) || this.setStyle(i)
            }
            ,
            e
        }(y.a);
        C.childContextTypes = {
            children: v.a,
            popupContainer: b.a
        };
        e.a = C
    },
    1358: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r).a.Model.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/splits"
            },
            initialize: function(t, e) {
                if ("undefined" === typeof e.activityId)
                    throw "ActivitySplits requires an activity ID";
                this.activityId = e.activityId
            },
            getEventDataBySectionTypeKey: function(t) {
                return n.a.filter(this.get("eventDTOs"), function(e) {
                    return e.sectionTypeDTO.sectionTypeKey === t
                })
            }
        });
        o.EventSectionTypeKeys = {
            RIDER_POSITION: "RIDER_POSITION",
            TIMER_TRIGGER: "TIMER_TRIGGER",
            OFF_COURSE: "OFF_COURSE"
        },
        e.a = o
    },
    1359: function(t, e, i) {
        "use strict";
        e.a = {
            out: function(t) {
                return null == t || "undefined" == typeof t ? "" : t
            },
            selectedOutput: function(t, e) {
                return !e && -1 == t || e && t == e ? 'selected="true"' : ""
            },
            buildRangeString: function(t, e) {
                return t === e ? e : t + "\u2013" + e
            },
            titleCaseWord: function(t) {
                return t[0].toUpperCase() + t.slice(1).toLowerCase()
            }
        }
    },
    1361: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            initialize: function(t) {},
            urlRoot: "/proxy/personalrecord-service/personalrecord/"
        });
        n.Sports = {
            Run: "RUN",
            Cycle: "CYCLE",
            Steps: "STEPS",
            Swim: "SWIM"
        },
        e.a = n
    },
    1363: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(1321)
          , l = o.a.Collection.extend({
            model: s.a,
            url: function() {
                return "/proxy/course-service/course/routes?startLat=" + this.startLat + "&startLon=" + this.startLon + "&endLat=" + this.endLat + "&endLon=" + this.endLon + "&courseType=" + this.courseType
            },
            initialize: function(t) {
                if (!t.startLat)
                    throw "startLat is required";
                if (!t.startLon)
                    throw "startLon is required";
                if (!t.endLat)
                    throw "endLat is required";
                if (!t.endLon)
                    throw "endLon is required";
                if (!t.courseType)
                    throw "courseType is required";
                this.startLat = t.startLat,
                this.startLon = t.startLon,
                this.endLat = t.endLat,
                this.endLon = t.endLon,
                this.courseType = t.courseType
            },
            parse: function(t) {
                if (t) {
                    var e = [];
                    return n.a.each(t, function(t) {
                        n.a.each(t, function(t) {
                            e.push({
                                latitude: t[0],
                                longitude: t[1]
                            })
                        })
                    }),
                    e
                }
            }
        })
          , c = i(1239)
          , h = i(1276)
          , p = i(1345)
          , d = function(t) {
            return p.a.call(this, t),
            this
        };
        (d.prototype = Object.create(p.a.prototype)).constructor = d,
        d.prototype.updateTransitionMode = function(t) {
            t.parent ? "cycling" === t.parent && t.value ? this.transitMode = c.a.PopularityRouteTypes[t.value.toUpperCase()] || c.a.PopularityRouteTypes.ROAD_CYCLING : "running" === t.parent && t.value && (this.transitMode = c.a.PopularityRouteTypes[t.value.toUpperCase()] || c.a.PopularityRouteTypes.RUNNING) : this.transitMode = c.a.PopularityRouteTypes.RUNNING
        }
        ,
        d.prototype.fetch = function(t, e) {
            var i, a, n, r = new l({
                startLat: t.start[0],
                startLon: t.start[1],
                endLat: t.end[0],
                endLon: t.end[1],
                courseType: this.transitMode
            }), o = [], s = 0;
            return r.fetch({
                success: function(r, l, p) {
                    if (t.success)
                        if (200 === p.xhr.status && r) {
                            for (r.each(function(t) {
                                o.push([t.getLatitude(), t.getLongitude(), 0, 0])
                            }),
                            i = 0; i < r.models.length - 1; i++)
                                a = r.models[i],
                                n = r.models[i + 1],
                                s += h.a.calculateDistanceBetweenPointsInMeters(a.getLatitude(), a.getLongitude(), n.getLatitude(), n.getLongitude());
                            t.success.call(e, {
                                points: o,
                                meters: s
                            })
                        } else
                            p.xhr.status,
                            t.error.call(e, p.xhr.statusText, p.xhr.status, c.a.ErrorCodes.GENERIC)
                },
                error: function(i, a) {
                    t.error && t.error.call(e, a.statusText, a.status, c.a.ErrorCodes.GENERIC)
                }
            })
        }
        ;
        e.a = d
    },
    1369: function(t, e, i) {
        "use strict";
        var a = i(1288)
          , n = i(1346)
          , r = i(74)
          , o = i.n(r)
          , s = function(t) {
            return n.a.apply(this, t),
            this
        };
        (s.prototype = Object.create(n.a.prototype)).constructor = s,
        s.prototype.fetch = function(t, e) {
            o()("//js.api.here.com/v3/3.0/mapsjs-core.js", function() {
                o()("//js.api.here.com/v3/3.0/mapsjs-service.js", function() {
                    !function() {
                        var i = new H.service.Platform({
                            app_id: a.a.HereAppId,
                            app_code: a.a.HereAppCode,
                            useHTTPS: !0
                        }).getGeocodingService()
                          , n = {
                            searchText: t.address,
                            jsonattributes: 1
                        };
                        i.geocode(n, function(i) {
                            if (i.response.view && i.response.view.length > 0) {
                                var a = i.response.view[0].result[0].location.displayPosition;
                                t.success.call(e, {
                                    address: t.address,
                                    location: [a.latitude, a.longitude]
                                })
                            } else
                                t.error.call(e, i.response, "Unexpected data returned.")
                        }, function(i) {
                            t.error.call(e, i, "Unexpected data returned.")
                        })
                    }()
                })
            })
        }
        ,
        e.a = s
    },
    1370: function(t, e, i) {
        "use strict";
        var a = i(1306)
          , n = i(1333);
        e.a = function(t, e) {
            for (var i = 0, r = (e = Object(a.a)(e, t)).length; null != t && i < r; )
                t = t[Object(n.a)(e[i++])];
            return i && i == r ? t : void 0
        }
    },
    1371: function(t, e, i) {
        var a, n, r;
        n = [e, t],
        void 0 === (r = "function" === typeof (a = function(t, e) {
            "use strict";
            var i = {
                timeout: 5e3,
                jsonpCallback: "callback",
                jsonpCallbackFunction: null
            };
            function a(t) {
                try {
                    delete window[t]
                } catch (e) {
                    window[t] = void 0
                }
            }
            function n(t) {
                var e = document.getElementById(t);
                e && document.getElementsByTagName("head")[0].removeChild(e)
            }
            e.exports = function(t) {
                var e = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1]
                  , r = t
                  , o = e.timeout || i.timeout
                  , s = e.jsonpCallback || i.jsonpCallback
                  , l = void 0;
                return new Promise(function(i, c) {
                    var h = e.jsonpCallbackFunction || "jsonp_" + Date.now() + "_" + Math.ceil(1e5 * Math.random())
                      , p = s + "_" + h;
                    window[h] = function(t) {
                        i({
                            ok: !0,
                            json: function() {
                                return Promise.resolve(t)
                            }
                        }),
                        l && clearTimeout(l),
                        n(p),
                        a(h)
                    }
                    ,
                    r += -1 === r.indexOf("?") ? "?" : "&";
                    var d = document.createElement("script");
                    d.setAttribute("src", "" + r + s + "=" + h),
                    e.charset && d.setAttribute("charset", e.charset),
                    d.id = p,
                    document.getElementsByTagName("head")[0].appendChild(d),
                    l = setTimeout(function() {
                        c(new Error("JSONP request to " + t + " timed out")),
                        a(h),
                        n(p),
                        window[h] = function() {
                            a(h)
                        }
                    }, o),
                    d.onerror = function() {
                        c(new Error("JSONP request to " + t + " failed")),
                        a(h),
                        n(p),
                        l && clearTimeout(l)
                    }
                }
                )
            }
        }
        ) ? a.apply(e, n) : a) || (t.exports = r)
    },
    1378: function(t, e, i) {
        "use strict";
        var a = i(1737)
          , n = i(121).a["__core-js_shared__"]
          , r = function() {
            var t = /[^.]+$/.exec(n && n.keys && n.keys.IE_PROTO || "");
            return t ? "Symbol(src)_1." + t : ""
        }();
        var o = function(t) {
            return !!r && r in t
        }
          , s = i(1318)
          , l = i(1738)
          , c = /^\[object .+?Constructor\]$/
          , h = Function.prototype
          , p = Object.prototype
          , d = h.toString
          , u = p.hasOwnProperty
          , m = RegExp("^" + d.call(u).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
        var f = function(t) {
            return !(!Object(s.a)(t) || o(t)) && (Object(a.a)(t) ? m : c).test(Object(l.a)(t))
        };
        var g = function(t, e) {
            return null == t ? void 0 : t[e]
        };
        e.a = function(t, e) {
            var i = g(t, e);
            return f(i) ? i : void 0
        }
    },
    1382: function(t, e, i) {
        "use strict";
        var a = function() {
            return this
        };
        a.prototype.fetch = function() {}
        ,
        e.a = a
    },
    1383: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        e.a = n.a.Model.extend({
            url: "/web-data/climb-difficulty/climb-difficulty-master.json"
        })
    },
    1384: function(t, e, i) {
        var a = i(1500);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    1387: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1392)
          , r = i(1361)
          , o = i(13)
          , s = {
            getPersonalizerFunction: function(t) {
                switch (t) {
                case n.a.Types.RUN_FARTHEST:
                case n.a.Types.CYCLE_FARTHEST:
                    return function(t) {
                        return o.a.personalizeDistance(t) + " " + a.a.localize(o.a.getDistanceUnitKey())
                    }
                    ;
                case n.a.Types.SWIM_LONGEST:
                    return function(t, e) {
                        var i = null;
                        return i = e ? "yard" === e.key || "yard" === e.unitKey ? "statute_us" : "metric" : o.a.inferPoolMeasurementSystemFromDistance(t),
                        o.a.personalizeSwimDistance(t, i) + " " + a.a.localize(o.a.getDistanceUnitKey("lap_swimming", t, e))
                    }
                    ;
                case n.a.Types.CYCLE_MAX_ELEV:
                    return function(t) {
                        return o.a.personalizeElevation(t) + " " + a.a.localize(o.a.getElevationUnitKey())
                    }
                    ;
                case n.a.Types.CYCLE_MAX_POWER:
                    return function(t) {
                        return o.a.personalizePower(t) + " " + a.a.localize(o.a.getPowerUnitKey())
                    }
                    ;
                case n.a.Types.RUN_1K:
                case n.a.Types.RUN_5K:
                case n.a.Types.RUN_10K:
                case n.a.Types.RUN_HALF_MARATHON:
                case n.a.Types.RUN_MARATHON:
                case n.a.Types.RUN_1Mile:
                case n.a.Types.CYCLE_40K:
                case n.a.Types.SWIM_100M:
                case n.a.Types.SWIM_400M:
                case n.a.Types.SWIM_750M:
                case n.a.Types.SWIM_1000M:
                case n.a.Types.SWIM_1500M:
                case n.a.Types.SWIM_100YD:
                case n.a.Types.SWIM_500YD:
                case n.a.Types.SWIM_1000YD:
                case n.a.Types.SWIM_1650YD:
                    return function(t) {
                        return o.a.personalizeDuration(t)
                    }
                    ;
                case n.a.Types.STEPS_BEST_DAY:
                case n.a.Types.STEPS_BEST_WEEK:
                case n.a.Types.STEPS_BEST_MONTH:
                    return function(t) {
                        return o.a.personalizeSteps(t)
                    }
                    ;
                case n.a.Types.STEPS_LONGEST_STREAK:
                    return function(t) {
                        return t ? a.a.localize("pr.label.steps.longest.streak.unit", t) : null
                    }
                    ;
                case n.a.Types.STEPS_CURRENT_STREAK:
                    return function(t) {
                        return t ? a.a.localize("pr.label.steps.current.streak.unit", t) : null
                    }
                }
            },
            getSortOrder: function(t) {
                var e = n.a.GetSortOrder(t);
                return "undefined" == typeof e && (console && console.log("Unrecognized Personal Record Type: " + t),
                e = 99),
                e
            },
            getRecordTypeFromKey: function(t) {
                var e = n.a.Types;
                switch (t) {
                case e.CYCLE_40K:
                case e.CYCLE_MAX_ELEV:
                case e.CYCLE_FARTHEST:
                case e.CYCLE_MAX_POWER:
                    return r.a.Sports.Cycle;
                case e.RUN_1K:
                case e.RUN_5K:
                case e.RUN_10K:
                case e.RUN_HALF_MARATHON:
                case e.RUN_MARATHON:
                case e.RUN_FARTHEST:
                case e.RUN_1Mile:
                    return r.a.Sports.Run;
                case e.STEPS_BEST_DAY:
                case e.STEPS_BEST_WEEK:
                case e.STEPS_BEST_MONTH:
                case e.STEPS_LONGEST_STREAK:
                case e.STEPS_CURRENT_STREAK:
                    return r.a.Sports.Steps;
                case e.SWIM_100M:
                case e.SWIM_100YD:
                case e.SWIM_400M:
                case e.SWIM_500YD:
                case e.SWIM_750M:
                case e.SWIM_1000M:
                case e.SWIM_1000YD:
                case e.SWIM_1500M:
                case e.SWIM_1650YD:
                case e.SWIM_LONGEST:
                    return r.a.Sports.Swim
                }
                return null
            }
        };
        e.a = s
    },
    1388: function(t, e, i) {
        "use strict";
        var a = i(1371)
          , n = i.n(a)
          , r = function() {};
        (r.prototype = Object.create(r.prototype)).constructor = r,
        r.prototype.fetch = function(t, e) {
            var i = t.inputPoints
              , a = i.length
              , r = []
              , o = []
              , s = !1
              , l = []
              , c = 0
              , h = Math.ceil(i.length / 20);
            i.forEach(function(t, e) {
                r.push(Number(t.longitude)),
                o.push(Number(t.latitude));
                var i = e + 1;
                if (i % 20 == 0 || i == a) {
                    var l = Math.ceil(i / 20) - 1
                      , c = "https://sapi.map.baidu.com/ag/coord/convert?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD&s=1&from=0&to=4&x=" + r.join() + "&y=" + o.join() + "&mode=1";
                    n()(c, {
                        headers: {
                            Accept: "application/json"
                        },
                        jsonCallbackFunction: "showLocation"
                    }).then(function(t) {
                        return t.json()
                    }).then(function(t) {
                        var e = [];
                        t.forEach(function(t) {
                            if (0 == t.error) {
                                var i = Number(window.atob(t.x))
                                  , a = Number(window.atob(t.y));
                                e.push({
                                    lat: a,
                                    lng: i
                                })
                            } else
                                s = !0
                        }),
                        p(l, e)
                    }),
                    r.length = 0,
                    o.length = 0
                }
            });
            var p = function(i, a) {
                l[i] = a,
                (++c == h || s) && function() {
                    if (s)
                        t.success.call(e, {
                            points: i
                        });
                    else {
                        for (var i = [], a = 0; a < l.length; a++)
                            for (var n = 0; n < l[a].length; n++)
                                i.push(l[a][n]);
                        t.success.call(e, {
                            points: i
                        })
                    }
                }()
            }
        }
        ,
        e.a = r
    },
    1391: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        e.a = n.a.Model.extend({
            idAttribute: "geoRoutePk",
            setCourseId: function(t) {
                return this.set("courseId", t),
                this
            },
            getCourseId: function() {
                return this.get("courseId")
            },
            getGeoRoutePk: function() {
                return this.get("geoRoutePk")
            },
            setGeoRoutePk: function(t) {
                return this.set("geoRoutePk", t),
                this
            },
            getSortOrder: function() {
                return this.get("sortOrder")
            },
            setSortOrder: function(t) {
                return this.set("sortOrder", t),
                this
            },
            getNumberOfPoints: function() {
                return this.get("numberOfPoints")
            },
            setNumberOfPoints: function(t) {
                return this.set("numberOfPoints", t),
                this
            },
            getDistanceInMeters: function() {
                return this.get("distanceInMeters")
            },
            setDistanceInMeters: function(t) {
                return this.set("distanceInMeters", t),
                this
            },
            getBearing: function() {
                return this.get("bearing")
            },
            setBearing: function(t) {
                return this.set("bearing", t),
                this
            },
            getPoints: function() {
                return this.get("points")
            },
            setPoints: function(t) {
                this.set("points", t)
            }
        })
    },
    1392: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = n.a.Model.extend({
            initialize: function(t) {},
            comparator: function(t) {
                return t.get("key")
            },
            urlRoot: "/proxy/personalrecord-service/personalrecordtype"
        })
          , o = {
            RUN_1K: "pr.label.1k.run",
            RUN_5K: "pr.label.5k.run",
            RUN_10K: "pr.label.10k.run",
            RUN_HALF_MARATHON: "pr.label.half.marathon",
            RUN_MARATHON: "pr.label.full.marathon",
            RUN_FARTHEST: "pr.label.farthest.run",
            RUN_1Mile: "pr.label.1mile.run",
            CYCLE_FARTHEST: "pr.label.farthest.cycle",
            CYCLE_MAX_ELEV: "pr.label.max.elev",
            CYCLE_MAX_POWER: "pr.label.max.power",
            CYCLE_40K: "pr.label.40k.cycle",
            STEPS_BEST_DAY: "pr.label.steps.best.day",
            STEPS_BEST_WEEK: "pr.label.steps.best.week",
            STEPS_BEST_MONTH: "pr.label.steps.best.month",
            STEPS_LONGEST_STREAK: "pr.label.steps.longest.streak",
            STEPS_CURRENT_STREAK: "pr.label.steps.current.streak",
            SWIM_LONGEST: "pr.label.longest.poolswim",
            SWIM_100M: "pr.label.100m.poolswim",
            SWIM_400M: "pr.label.400m.poolswim",
            SWIM_750M: "pr.label.750m.poolswim",
            SWIM_1000M: "pr.label.1000m.poolswim",
            SWIM_1500M: "pr.label.1500m.poolswim",
            SWIM_100YD: "pr.label.100yd.poolswim",
            SWIM_500YD: "pr.label.500yd.poolswim",
            SWIM_1000YD: "pr.label.1000yd.poolswim",
            SWIM_1650YD: "pr.label.1650yd.poolswim"
        }
          , s = function(t) {
            var e = 99;
            switch (t) {
            case o.RUN_1K:
                e = 0;
                break;
            case o.RUN_1Mile:
                e = 1;
                break;
            case o.RUN_5K:
                e = 2;
                break;
            case o.RUN_10K:
                e = 3;
                break;
            case o.RUN_HALF_MARATHON:
                e = 4;
                break;
            case o.RUN_MARATHON:
                e = 5;
                break;
            case o.RUN_FARTHEST:
                e = 6;
                break;
            case o.CYCLE_40K:
                e = 10;
                break;
            case o.CYCLE_MAX_ELEV:
                e = 11;
                break;
            case o.CYCLE_MAX_POWER:
                e = 12;
                break;
            case o.CYCLE_FARTHEST:
                e = 13;
                break;
            case o.STEPS_BEST_DAY:
                e = 14;
                break;
            case o.STEPS_BEST_WEEK:
                e = 15;
                break;
            case o.STEPS_BEST_MONTH:
                e = 16;
                break;
            case o.STEPS_LONGEST_STREAK:
                e = 17;
                break;
            case o.STEPS_CURRENT_STREAK:
                e = 18;
                break;
            case o.SWIM_100M:
                e = 20;
                break;
            case o.SWIM_100YD:
                e = 21;
                break;
            case o.SWIM_400M:
                e = 22;
                break;
            case o.SWIM_500YD:
                e = 23;
                break;
            case o.SWIM_750M:
                e = 24;
                break;
            case o.SWIM_1000M:
                e = 25;
                break;
            case o.SWIM_1000YD:
                e = 26;
                break;
            case o.SWIM_1500M:
                e = 27;
                break;
            case o.SWIM_1650YD:
                e = 28;
                break;
            case o.SWIM_LONGEST:
                e = 29
            }
            return e
        }
          , l = n.a.Collection.extend({
            model: r,
            url: function() {
                return "/proxy/personalrecord-service/personalrecordtype/prtypes/" + (this.displayName || "")
            },
            initialize: function(t, e) {
                this.displayName = e.displayName
            },
            comparator: function(t, e) {
                var i = s(t.get("key"))
                  , a = s(e.get("key"));
                return i < a ? -1 : i > a ? 1 : 0
            }
        });
        l.Types = o,
        l.GetSortOrder = s;
        e.a = l
    },
    1397: function(t, e, i) {
        "use strict";
        i(9);
        var a = i(0)
          , n = i.n(a).a.View.extend({
            initialize: function(t) {
                if (this.activitySummary = t.activitySummary,
                this.activityDetails = t.activityDetails,
                this.xAxisType = t.xAxisType,
                !this.activitySummary)
                    throw "ActivitySummary required for Range Selector";
                if (!this.activityDetails)
                    throw "ActivityDetails required for Range Selector"
            },
            render: function() {
                this.$el.addClass(this.customClasses),
                this.$el.html(this.template({})),
                this.$el.show()
            }
        });
        n.Events = {
            RangeSelected: "RangeSelected",
            RangeReset: "OnRangeReset"
        },
        e.a = n
    },
    1400: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(23)
          , l = (i(1303),
        o.a.Model.extend({
            url: function() {
                return this.isLapSwimming ? "/proxy/activity-service/activity/" + this.get("activityId") + "/swimDetails?maxChartSize=" + this.maxChartSize : "/proxy/activity-service/activity/" + this.get("activityId") + "/details?maxChartSize=" + this.maxChartSize + "&maxPolylineSize=" + this.maxPolylineSize
            },
            initialize: function(t) {
                this.maxChartSize = t.maxChartSize || 500,
                this.maxPolylineSize = t.maxPolylineSize || 1e3,
                this.isLapSwimming = t.isLapSwimming || !1
            },
            setIsLapSwimming: function(t) {
                this.isLapSwimming = t
            },
            isValid: function() {
                return "undefined" != typeof this.get("sumDuration")
            },
            parse: function(t) {
                var e = []
                  , i = t.metricDescriptors
                  , a = t.activityDetailMetrics;
                if (!a || 0 == a.length)
                    return null;
                for (var r = 0; r < a[0].metrics.length; r++)
                    e[r] = [];
                for (var o = 0; o < a.length; o++)
                    for (var l = a[o].metrics, c = 0; c < l.length; c++)
                        e[c][o] = l[c];
                var h = {};
                if (h.original = n.a.clone(t),
                n.a.each(i, function(t) {
                    h[t.key] = e[t.metricsIndex]
                }, this),
                this.isLapSwimming) {
                    var p, d = h.sumDuration[0];
                    h.cumulativeDuration = n.a.clone(h.sumDuration);
                    var u = h.cumulativeDuration;
                    for (u[0] = 0,
                    o = 1; o < u.length; o++) {
                        var m = u[o];
                        u[o] = d + u[o - 1],
                        d = m
                    }
                    d += u[u.length - 1],
                    u.push(d),
                    h.sumStrokes = h.sumStrokes.concat(n.a.last(h.sumStrokes)),
                    (p = n.a.last(h.weightedMeanSpeed)) && h.weightedMeanSpeed.push(p),
                    (p = n.a.last(h.weightedMeanSwolf)) && h.weightedMeanSwolf.push(p),
                    (p = n.a.last(h.directLengthIndex)) && h.directLengthIndex.push(p + 1);
                    var f, g = h.sumDistance[0];
                    for (h.cumulativeDistance = n.a.clone(h.sumDistance),
                    (u = h.cumulativeDistance)[0] = 0,
                    o = 1; o < u.length; o++) {
                        var y = u[o];
                        u[o] = g + u[o - 1],
                        g = y
                    }
                    if (g += u[u.length - 1],
                    u.push(g),
                    h.weightedMeanSpeed)
                        for (f = "hmph" === n.a.find(i, function(t) {
                            return "weightedMeanSpeed" === t.key
                        }).unit.key ? s.a.HmphToMps : s.a.HydphToMps,
                        u = h.weightedMeanSpeed,
                        o = 0; o < u.length; o++)
                            u[o] = u[o] * f;
                    if (h.weightedMeanSwolf) {
                        o = 0;
                        for (var v = h.weightedMeanSwolf.length; o < v; o += 1)
                            null === h.weightedMeanSwolf[o] && (h.weightedMeanSwolf[o] = 0)
                    }
                    if (h.sumStrokes)
                        for (o = 0,
                        v = h.sumStrokes.length; o < v; o += 1)
                            null === h.sumStrokes[o] && (h.sumStrokes[o] = 0);
                    var b = t.heartRateDTOs;
                    if (b && b.length) {
                        for (o = b.length - 1; b[o].duration > d; )
                            b.pop(),
                            o--;
                        h.directHeartRate = n.a.map(b, function(t) {
                            return t.bpm
                        }),
                        h.interpolatedSwimDuration = n.a.map(b, function(t) {
                            return t.duration
                        }),
                        h.interpolatedSwimLengths = [],
                        h.interpolatedSwimDistance = [],
                        this.calculateInterpolatedValues(h, b, this.interpolateSwimLength),
                        this.calculateInterpolatedValues(h, b, this.interpolateSwimDistance)
                    }
                }
                return t.geoPolylineDTO && t.geoPolylineDTO.polyline && (h.polyline = t.geoPolylineDTO.polyline),
                h
            },
            calculateInterpolatedValues: function(t, e, i) {
                for (var a = [], n = 0, r = t.cumulativeDuration[1], o = null, s = 0; s < e.length; )
                    (o = e[s]).duration <= r ? (a.push(o.bpm),
                    s++) : (i(n, a, t),
                    n++,
                    r = t.cumulativeDuration[n + 1],
                    a = []);
                a.length && i(n, a, t)
            },
            interpolateSwimLength: function(t, e, i) {
                for (var a = 1 / e.length, n = 1; n <= e.length; n++)
                    i.interpolatedSwimLengths.push(t + n * a)
            },
            interpolateSwimDistance: function(t, e, i) {
                for (var a = i.sumDistance[t], n = i.cumulativeDistance[t], r = a / e.length, o = 1; o <= e.length; o++)
                    i.interpolatedSwimDistance.push(n + o * r)
            },
            hasData: function(t) {
                return !!this.get(t)
            },
            getData: function(t, e, i, a) {     // TX !!! bookmark - graph data array building
                e || (e = "sumDuration");
                var r = this.get(t)
                  , o = this.get(e)
                  , d = this.get("sumDistance");   // TX GCOverrides
                if (!r || !o)
                    return null;
                r.length != o.length && console.log("Number of datapoints for elevation and timestamps do not match!");
                var s = Math.min(r.length, o.length);
                i || (i = n.a.identity),
                a || (a = n.a.identity);
                for (var l = [], c = 0, h = 0; h < s; h++)
                    null !== o[h] && (l[c] = [a(o[h]), i(r[h]), a(d[h])],  // TX GCOverrides
                    c++);
                return l
            },
            getElevationData: function(t, e, i) {
                return this.getData("directElevation", t, e, i)
            },
            getHRData: function(t, e, i) {
                return this.getData("directHeartRate", t, e, i)
            },
            getRespirationRateData: function(t, e, i) {
                return this.getData("directRespirationRate", t, e, i)
            },
            getSpeedData: function(t, e, i) {
                return this.getData("directSpeed", t, e, i)
            },
            getPowerData: function(t, e, i) {
                return this.getData("directPower", t, e, i)
            },
            getCadenceData: function(t, e, i) {
                return this.getData("directBikeCadence", t, e, i) || this.getData("directDoubleCadence", t, e, i) || this.getData("directSwimCadence", t, e, i)
            },
            getTemperatureData: function(t, e, i) {
                return this.getData("directAirTemperature", t, e, i)
            },
            getLeftRightBalanceData: function(t, e, i) {
                return this.getData("directRightBalance", t, e, i)
            },
            getVerticalOscillationData: function(t, e, i) {
                return this.getData("directVerticalOscillation", t, e, i)
            },
            getGroundContactTimeData: function(t, e, i) {
                return this.getData("directGroundContactTime", t, e, i)
            },
            getSwimSpeedData: function(t, e, i) {
                return this.isLapSwimming ? this.getData("weightedMeanSpeed", t, e, i) : this.getData("directSpeed", t, e, i)
            },
            getSwimStrokeData: function(t, e, i) {
                return this.getData("sumStrokes", t, e, i)
            },
            getSwimSwolfData: function(t, e, i) {
                return this.getData("weightedMeanSwolf", t, e, i)
            },
            getSwimLengthData: function(t, e, i) {
                return this.getData("sumDuration", t, e, i)
            },
            getDiveDepthData: function(t, e, i) {
                return this.getData("directDepth", t, e, i)
            },
            getDiveDecoData: function(t, e, i) {
                return this.getData("directNextStopDepth", t, e, i)
            },
            getConnectIQMeasurements: function() {
                return n.a.filter(this.get("original").metricDescriptors, function(t) {
                    return t.hasOwnProperty("appID")
                })
            },
            hasPowerData: function() {
                var t = this.get("directPower");
                return !n.a.isUndefined(t) && null != t && t.length > 0
            },
            hasElevationData: function() {
                var t = this.get("directElevation");
                return !n.a.isUndefined(t) && null != t && t.length > 0
            },
            hasLongitudeData: function() {
                var t = this.get("directLongitude");
                return !n.a.isUndefined(t) && null != t && t.length > 0
            },
            hasLatitudeData: function() {
                var t = this.get("directLatitude");
                return !n.a.isUndefined(t) && null != t && t.length > 0
            },
            hasGForceData: function() {
                var t = this.get("directGforce");
                return !n.a.isUndefined(t) && null != t && t.length > 0
            },
            getGritData: function() {
                return this.get("directGrit") || []
            },
            getFlowData: function() {
                return this.get("directFlow") || []
            }
        }));
        e.a = l
    },
    1401: function(t, e, i) {
        "use strict";
        i(9);
        var a = i(1239)
          , n = i(1324)
          , r = i(1363)
          , o = i(1369)
          , s = {
            ROAD: "mapbox.streets",
            SATELLITE: "mapbox.satellite"
        }
          , l = {
            url: "https://connectOsm16.azureedge.net/",
            options: {
                minZoom: 3,
                maxZoom: 17,
                attribution: '&copy; <a href="https://openstreetmap.org/copyright" target="_blank" rel="noopener">OpenStreetMaps</a> contributors &copy; Garmin Ltd. or its Affiliates'
            }
        }
          , c = function(t) {
            n.a.apply(this, arguments),
            t.layerType && s[t.layerType] ? l.options.id = s[t.layerType] : l.options.id = s.ROAD,
            this.directionService = new r.a({
                transitMode: t.transitMode
            }),
            this.locationService = new o.a({}),
            this.name = a.a.MapProviders.OSM
        };
        (c.prototype = Object.create(n.a.prototype)).constructor = c,
        c.prototype.getTileLayer = function(t) {
            return t && s[t] && (l.options.id = s[t]),
            l
        }
        ,
        c.prototype.getSupportedMaxZoom = function() {
            return l.options.maxZoom
        }
        ,
        c.TileLayer = l,
        e.a = c
    },
    1404: function(t, e, i) {
        "use strict";
        var a = 9007199254740991
          , n = /^(?:0|[1-9]\d*)$/;
        e.a = function(t, e) {
            var i = typeof t;
            return !!(e = null == e ? a : e) && ("number" == i || "symbol" != i && n.test(t)) && t > -1 && t % 1 == 0 && t < e
        }
    },
    1405: function(t, e, i) {
        "use strict";
        var a = i(1744)
          , n = i(1590)
          , r = Object.prototype.hasOwnProperty;
        e.a = function(t, e, i) {
            var o = t[e];
            r.call(t, e) && Object(n.a)(o, i) && (void 0 !== i || e in t) || Object(a.a)(t, e, i)
        }
    },
    1409: function(t, e, i) {
        "use strict";
        var a = i(1642)
          , n = i(1640)
          , r = "__lodash_hash_undefined__";
        var o = function(t) {
            return this.__data__.set(t, r),
            this
        };
        var s = function(t) {
            return this.__data__.has(t)
        };
        function l(t) {
            var e = -1
              , i = null == t ? 0 : t.length;
            for (this.__data__ = new n.a; ++e < i; )
                this.add(t[e])
        }
        l.prototype.add = l.prototype.push = o,
        l.prototype.has = s;
        var c = l;
        var h = function(t, e) {
            for (var i = -1, a = null == t ? 0 : t.length; ++i < a; )
                if (e(t[i], i, t))
                    return !0;
            return !1
        };
        var p = function(t, e) {
            return t.has(e)
        }
          , d = 1
          , u = 2;
        var m = function(t, e, i, a, n, r) {
            var o = i & d
              , s = t.length
              , l = e.length;
            if (s != l && !(o && l > s))
                return !1;
            var m = r.get(t);
            if (m && r.get(e))
                return m == e;
            var f = -1
              , g = !0
              , y = i & u ? new c : void 0;
            for (r.set(t, e),
            r.set(e, t); ++f < s; ) {
                var v = t[f]
                  , b = e[f];
                if (a)
                    var A = o ? a(b, v, f, e, t, r) : a(v, b, f, t, e, r);
                if (void 0 !== A) {
                    if (A)
                        continue;
                    g = !1;
                    break
                }
                if (y) {
                    if (!h(e, function(t, e) {
                        if (!p(y, e) && (v === t || n(v, t, i, a, r)))
                            return y.push(e)
                    })) {
                        g = !1;
                        break
                    }
                } else if (v !== b && !n(v, b, i, a, r)) {
                    g = !1;
                    break
                }
            }
            return r.delete(t),
            r.delete(e),
            g
        }
          , f = i(222)
          , g = i(1740)
          , y = i(1590);
        var v = function(t) {
            var e = -1
              , i = Array(t.size);
            return t.forEach(function(t, a) {
                i[++e] = [a, t]
            }),
            i
        };
        var b = function(t) {
            var e = -1
              , i = Array(t.size);
            return t.forEach(function(t) {
                i[++e] = t
            }),
            i
        }
          , A = 1
          , _ = 2
          , C = "[object Boolean]"
          , w = "[object Date]"
          , x = "[object Error]"
          , S = "[object Map]"
          , T = "[object Number]"
          , E = "[object RegExp]"
          , k = "[object Set]"
          , L = "[object String]"
          , P = "[object Symbol]"
          , I = "[object ArrayBuffer]"
          , z = "[object DataView]"
          , B = f.a ? f.a.prototype : void 0
          , D = B ? B.valueOf : void 0;
        var M = function(t, e, i, a, n, r, o) {
            switch (i) {
            case z:
                if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset)
                    return !1;
                t = t.buffer,
                e = e.buffer;
            case I:
                return !(t.byteLength != e.byteLength || !r(new g.a(t), new g.a(e)));
            case C:
            case w:
            case T:
                return Object(y.a)(+t, +e);
            case x:
                return t.name == e.name && t.message == e.message;
            case E:
            case L:
                return t == e + "";
            case S:
                var s = v;
            case k:
                var l = a & A;
                if (s || (s = b),
                t.size != e.size && !l)
                    return !1;
                var c = o.get(t);
                if (c)
                    return c == e;
                a |= _,
                o.set(t, e);
                var h = m(s(t), s(e), a, n, r, o);
                return o.delete(t),
                h;
            case P:
                if (D)
                    return D.call(t) == D.call(e)
            }
            return !1
        }
          , O = i(1741)
          , R = 1
          , N = Object.prototype.hasOwnProperty;
        var V = function(t, e, i, a, n, r) {
            var o = i & R
              , s = Object(O.a)(t)
              , l = s.length;
            if (l != Object(O.a)(e).length && !o)
                return !1;
            for (var c = l; c--; ) {
                var h = s[c];
                if (!(o ? h in e : N.call(e, h)))
                    return !1
            }
            var p = r.get(t);
            if (p && r.get(e))
                return p == e;
            var d = !0;
            r.set(t, e),
            r.set(e, t);
            for (var u = o; ++c < l; ) {
                var m = t[h = s[c]]
                  , f = e[h];
                if (a)
                    var g = o ? a(f, m, h, e, t, r) : a(m, f, h, t, e, r);
                if (!(void 0 === g ? m === f || n(m, f, i, a, r) : g)) {
                    d = !1;
                    break
                }
                u || (u = "constructor" == h)
            }
            if (d && !u) {
                var y = t.constructor
                  , v = e.constructor;
                y != v && "constructor"in t && "constructor"in e && !("function" == typeof y && y instanceof y && "function" == typeof v && v instanceof v) && (d = !1)
            }
            return r.delete(t),
            r.delete(e),
            d
        }
          , j = i(1519)
          , F = i(1305)
          , G = i(1582)
          , U = i(1862)
          , H = 1
          , K = "[object Arguments]"
          , W = "[object Array]"
          , Q = "[object Object]"
          , Y = Object.prototype.hasOwnProperty;
        var Z = function(t, e, i, n, r, o) {
            var s = Object(F.a)(t)
              , l = Object(F.a)(e)
              , c = s ? W : Object(j.a)(t)
              , h = l ? W : Object(j.a)(e)
              , p = (c = c == K ? Q : c) == Q
              , d = (h = h == K ? Q : h) == Q
              , u = c == h;
            if (u && Object(G.a)(t)) {
                if (!Object(G.a)(e))
                    return !1;
                s = !0,
                p = !1
            }
            if (u && !p)
                return o || (o = new a.a),
                s || Object(U.a)(t) ? m(t, e, i, n, r, o) : M(t, e, c, i, n, r, o);
            if (!(i & H)) {
                var f = p && Y.call(t, "__wrapped__")
                  , g = d && Y.call(e, "__wrapped__");
                if (f || g) {
                    var y = f ? t.value() : t
                      , v = g ? e.value() : e;
                    return o || (o = new a.a),
                    r(y, v, i, n, o)
                }
            }
            return !!u && (o || (o = new a.a),
            V(t, e, i, n, r, o))
        }
          , $ = i(131);
        e.a = function t(e, i, a, n, r) {
            return e === i || (null == e || null == i || !Object($.a)(e) && !Object($.a)(i) ? e !== e && i !== i : Z(e, i, a, n, t, r))
        }
    },
    1410: function(t, e, i) {
        "use strict";
        var a = i(1860)
          , n = i(1585)
          , r = i(460)
          , o = Object(r.a)(Object.keys, Object)
          , s = Object.prototype.hasOwnProperty;
        var l = function(t) {
            if (!Object(n.a)(t))
                return o(t);
            var e = [];
            for (var i in Object(t))
                s.call(t, i) && "constructor" != i && e.push(i);
            return e
        }
          , c = i(1580);
        e.a = function(t) {
            return Object(c.a)(t) ? Object(a.a)(t) : l(t)
        }
    },
    1411: function(t, e, i) {
        "use strict";
        var a = i(56)
          , n = i(57)
          , r = i(77)
          , o = function() {
            function t() {
                Object(a.a)(this, t)
            }
            return Object(n.a)(t, null, [{
                key: "diveWaterType",
                value: function(t, e, i) {
                    switch (t) {
                    case 0:
                        return r.a.t("diving:water_type_fresh");
                    case 1:
                        return r.a.t("diving:water_type_salt");
                    case 2:
                    case 3:
                        return i.personalizeWaterDensity(e) + " " + r.a.t("units:water_density_unit");
                    case 255:
                    default:
                        return "--"
                    }
                }
            }, {
                key: "diveGas",
                value: function(t, e) {
                    return 100 === e ? r.a.t("diving:gas_type_oxygen") : 21 === e && 0 === t ? r.a.t("diving:gas_type_air") : 21 !== e && 0 !== e && 0 === t ? r.a.t("diving:gas_type_eanx") : t > 0 ? r.a.t("diving:gas_type_trimix") : "--"
                }
            }]),
            t
        }()
          , s = i(13)
          , l = i(37)
          , c = i(8)
          , h = i(102);
        i.d(e, "a", function() {
            return p
        });
        var p = function() {
            function t(e, i, n, r) {
                Object(a.a)(this, t),
                this.speedModel = i,
                this.activity = e,
                this.indoorClimbDifficulty = r,
                this.repCountingActivity = n,
                this.activityTypeKey = e.activityTypeDTO ? e.activityTypeDTO.typeKey : e.activityType.typeKey
            }
            return Object(n.a)(t, [{
                key: "getDistance",
                value: function() {
                    var t = this.activityTypeKey;
                    return {
                        value: s.a.personalizeDistance(this.activity.distance, t, this.activity.unitOfPoolLength),
                        unit: r.a.t("units:".concat(s.a.getDistanceUnitKey(t, this.activity.distance, this.activity.unitOfPoolLength))),
                        label: r.a.t("units:label_distance"),
                        metricName: "distance"
                    }
                }
            }, {
                key: "getDuration",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.activity.duration),
                        unit: "",
                        label: r.a.t("units:".concat(s.a.getDurationLabelKey(this.activityTypeKey))),
                        metricName: "duration",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getAverageSpeedOrPace",
                value: function() {
                    return {
                        value: this.speedModel.avgSpeedOrPace,
                        unit: this.speedModel.avgSpeedOrPaceUnit,
                        label: this.speedModel.avgSpeedOrPaceLabel,
                        metricName: "averageSpeed"
                    }
                }
            }, {
                key: "getAverageHR",
                value: function() {
                    return {
                        value: this.activity.averageHR ? s.a.personalizeHeartRate(this.activity.averageHR) : "--",
                        unit: r.a.t("units:heart_rate_unit"),
                        label: r.a.t("units:label_avg_heart_rate"),
                        metricName: "averageHR"
                    }
                }
            }, {
                key: "getMaxHR",
                value: function() {
                    return {
                        value: this.activity.maxHR ? s.a.personalizeHeartRate(this.activity.maxHR) : "--",
                        unit: r.a.t("units:heart_rate_unit"),
                        label: r.a.t("units:label_max_heart_rate"),
                        metricName: "maxHR"
                    }
                }
            }, {
                key: "getCalories",
                value: function() {
                    return {
                        value: s.a.formatWholeNumber(this.activity.calories),
                        unit: r.a.t("units:".concat(s.a.getCalorieUnitKey())),
                        label: r.a.t("units:label_calories"),
                        metricName: "calories"
                    }
                }
            }, {
                key: "getElevationGain",
                value: function() {
                    var t = this.activity.elevationGain
                      , e = this.activityTypeKey;
                    return {
                        value: s.a.personalizeElevation(t),
                        unit: t ? r.a.t("units:".concat(s.a.getElevationUnitKey())) : "",
                        label: r.a.t("units:".concat(s.a.getElevGainLabelKey(e))),
                        metricName: "elevationGain"
                    }
                }
            }, {
                key: "getElevationLoss",
                value: function() {
                    var t = this.activity.elevationLoss
                      , e = this.activityTypeKey;
                    return {
                        value: s.a.personalizeElevation(t),
                        unit: t ? r.a.t("units:".concat(s.a.getElevationUnitKey())) : "",
                        label: r.a.t("units:".concat(s.a.getElevLossLabelKey(e))),
                        metricName: "elevationLoss"
                    }
                }
            }, {
                key: "getNumberOfRuns",
                value: function() {
                    return {
                        value: this.activity.lapCount,
                        unit: "",
                        label: r.a.t("activity:number_of_runs"),
                        metricName: "runsLapCnt"
                    }
                }
            }, {
                key: "getMaxSpeed",
                value: function() {
                    var t = this.activityTypeKey;
                    return {
                        value: this.speedModel.maxSpeedOrPace,
                        unit: this.speedModel.maxSpeedOrPaceUnit,
                        label: r.a.t("units:".concat(s.a.getMaxSpeedTypeLabelKey(t))),
                        metricName: "maxSpeed"
                    }
                }
            }, {
                key: "getStrokes",
                value: function() {
                    var t = this.activity.strokes;
                    return {
                        value: t ? s.a.personalizeStrokes(t) : "--",
                        unit: "",
                        label: r.a.t("units:label_total_swim_strokes"),
                        metricName: "strokes"
                    }
                }
            }, {
                key: "getGasType",
                value: function() {
                    var t = this.activity.summarizedDiveInfo
                      , e = t && t.summarizedDiveGases && t.summarizedDiveGases.length > 0 ? t.summarizedDiveGases : null
                      , i = e ? e[0] : null
                      , a = i ? i.heliumContent : null
                      , n = i ? i.oxygenContent : null
                      , s = "";
                    return e && e.length > 1 && (s = " (+" + (e.length - 1) + ")"),
                    {
                        value: o.diveGas(a, n) + s,
                        unit: "",
                        label: r.a.t("diving:gas_type"),
                        metricName: "gasType"
                    }
                }
            }, {
                key: "getWaterType",
                value: function() {
                    var t = this.activity.summarizedDiveInfo ? this.activity.summarizedDiveInfo.waterType : null
                      , e = this.activity.summarizedDiveInfo ? this.activity.summarizedDiveInfo.waterDensity : null;
                    return {
                        value: o.diveWaterType(t, e, s.a),
                        unit: "",
                        label: r.a.t("diving:water_type"),
                        metricName: "summarizedDiveInfo.waterType"
                    }
                }
            }, {
                key: "getMaxDepth",
                value: function() {
                    var t = this.activity.maxDepth;
                    return {
                        value: s.a.personalizeDepth(t),
                        unit: r.a.t("units:".concat(s.a.getDepthUnitKey())),
                        label: r.a.t("diving:".concat(s.a.getMaxDepthLabelKey(this.activityTypeKey))),
                        metricName: "maxDepth"
                    }
                }
            }, {
                key: "getMaxDepthWidget",
                value: function() {
                    var t = this.activity.maxDepth / 100;
                    return {
                        value: s.a.personalizeDepth(t),
                        unit: r.a.t("units:".concat(s.a.getDepthUnitKey())),
                        label: r.a.t("diving:".concat(s.a.getMaxDepthLabelKey(this.activityTypeKey))),
                        metricName: "maxDepth"
                    }
                }
            }, {
                key: "getSessionBottomTime",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.activity.bottomTime, !1),
                        unit: "",
                        label: r.a.t("diving:".concat(s.a.getBottomTimeLabelKey(this.activityTypeKey))),
                        metricName: "sessionBottomTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getTotalSurfaceTime",
                value: function() {
                    var t = this.activity.summarizedDiveInfo ? this.activity.summarizedDiveInfo.totalSurfaceTime : null;
                    return {
                        value: s.a.personalizeDuration(t, !1),
                        unit: "",
                        label: r.a.t("segment:surface_label"),
                        metricName: "summarizedDiveInfo.totalSurfaceTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getDiveSurfaceTime",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.activity.totalSurfaceTime, !1),
                        unit: "",
                        label: r.a.t("diving:total_surface_interval"),
                        metricName: "totalSurfaceTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getNumberOfApneaDives",
                value: function() {
                    return {
                        value: s.a.personalizerNumberOfDives(this.activity.lapCount),
                        unit: "",
                        label: r.a.t("units:label_num_dives"),
                        metricName: "lapCount"
                    }
                }
            }, {
                key: "getDiveWaterType",
                value: function() {
                    return {
                        value: s.a.personalizeDiveWaterType(this.activity.diveSettings.waterType, this.activity.diveSettings.waterDensity, c.a),
                        unit: "",
                        label: r.a.t("diving:water_type"),
                        metricName: "waterDiveType"
                    }
                }
            }, {
                key: "getDeepestDive",
                value: function() {
                    return {
                        value: s.a.personalizeDepth(this.activity.maxDepth),
                        unit: r.a.t("units:".concat(s.a.getDepthUnitKey())),
                        label: r.a.t("diving:deepest_dive"),
                        metricName: "maxDepthDive"
                    }
                }
            }, {
                key: "getActiveSets",
                value: function() {
                    var t = this.activitySets ? s.a.personalizeActiveSets(this.activity.activeSets) : 1;
                    return {
                        value: t,
                        unit: "",
                        label: r.a.t("units:label_sets", {
                            0: t
                        }),
                        metricName: "activeSets"
                    }
                }
            }, {
                key: "getTotalStrengthTrainingTime",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.activity.duration),
                        unit: "",
                        label: r.a.t("units:label_time_total"),
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getTotalWorkTime",
                value: function() {
                    var t = 0;
                    if (this.activity.summarizedExerciseSets && this.activity.summarizedExerciseSets.length > 0)
                        for (var e = 0, i = this.activity.summarizedExerciseSets.length; e < i; e++)
                            "REST" !== this.activity.summarizedExerciseSets[e].setType && (t += this.activity.summarizedExerciseSets[e].duration / 1e3);
                    return {
                        value: s.a.personalizeDuration(t),
                        unit: "",
                        label: r.a.t("units:label_work_time"),
                        metricName: "summarizedExerciseSets.duration",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getStrengthTotalTime",
                value: function() {
                    return {
                        value: this.activity.summarizedExerciseSets && this.activity.summarizedExerciseSets.length > 0 ? s.a.personalizeDuration(this.repCountingActivity.getTotalTime()) : s.a.personalizeDuration(this.activity.duration),
                        unit: "",
                        label: r.a.t("units:label_time_total"),
                        metricName: "strengthTotalTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getWorkoutTime",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.repCountingActivity.getWorkTime()),
                        unit: "",
                        label: r.a.t("units:label_work_time"),
                        metricName: "workOutTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getSecondaryMetricsForMultiSport",
                value: function(t) {
                    return {
                        value: s.a.personalizeDuration(t.value),
                        unit: "",
                        label: r.a.t("activity_types:activity_type_".concat(t.label)) + " " + r.a.t("units:label_time")
                    }
                }
            }, {
                key: "getBestLapTime",
                value: function() {
                    return {
                        value: s.a.fromSecondsToDuration(this.activity.minActivityLapDuration),
                        unit: "",
                        label: r.a.t("activity:marq_best_laptime"),
                        metricName: "bestLapTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getTotalTime",
                value: function() {
                    return {
                        value: s.a.fromSecondsToDuration(this.activity.duration),
                        unit: "",
                        label: r.a.t("units:label_time_total"),
                        metricName: "totalTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getMaxSpeedOrPace",
                value: function() {
                    return {
                        value: this.speedModel.maxSpeedOrPace,
                        unit: this.speedModel.maxSpeedOrPaceUnit,
                        label: r.a.t("units:".concat(s.a.getMaxSpeedTypeLabelKey(this.activityTypeKey))),
                        metricName: "maxTopSpeed"
                    }
                }
            }, {
                key: "getNumberOfRaceLap",
                value: function() {
                    return {
                        value: this.activity.lapCount,
                        unit: "",
                        label: r.a.t("activity:activity_map_laps"),
                        metricName: "raceLapCnt"
                    }
                }
            }, {
                key: "getTotalDuration",
                value: function() {
                    return {
                        value: s.a.fromSecondsToDuration(this.activity.duration),
                        unit: "",
                        label: r.a.t("units:label_time_total"),
                        metricName: "raceTotalTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getTime",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.activity.duration),
                        unit: "",
                        label: r.a.t("units:label_time"),
                        metricName: "time",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getFloorsClimbed",
                value: function() {
                    return {
                        value: s.a.formatWholeNumber(this.activity.floorsClimbed),
                        unit: "",
                        label: r.a.t("units:label_floors_climbed_unit"),
                        metricName: "floorsClimbed"
                    }
                }
            }, {
                key: "getFloorsPerMin",
                value: function() {
                    return {
                        value: s.a.personalizeFloorClimbingPace(this.activity.avgVerticalSpeed),
                        unit: "",
                        label: r.a.t("units:label_floors_per_minute"),
                        metricName: "floorsPerMin"
                    }
                }
            }, {
                key: "getAveragePower",
                value: function() {
                    return {
                        value: s.a.personalizePower(this.activity.averagePower),
                        unit: r.a.t("units:".concat(s.a.getPowerUnitKey())),
                        label: r.a.t("units:label_avg_power"),
                        metricName: "averagePower"
                    }
                }
            }, {
                key: "getAvgPower",
                value: function() {
                    return {
                        value: this.activity.avgPower ? s.a.personalizePower(this.activity.avgPower) : "--",
                        unit: r.a.t("units:".concat(s.a.getPowerUnitKey())),
                        label: r.a.t("units:label_avg_power"),
                        metricName: "avgPower"
                    }
                }
            }, {
                key: "getTotalReps",
                value: function() {
                    return {
                        value: s.a.zeroDash(this.repCountingActivity.getTotalRepCount()),
                        unit: "",
                        label: r.a.t("units:label_total_reps"),
                        metricName: "totalReps"
                    }
                }
            }, {
                key: "getAvgRespirationRate",
                value: function() {
                    return {
                        value: s.a.personalizeRespiration(this.activity.avgRespirationRate),
                        unit: r.a.t("units:".concat(s.a.getRespirationUnitKey())),
                        label: r.a.t("units:label_avg_resp_abbr"),
                        metricName: "avgRespirationRate"
                    }
                }
            }, {
                key: "getStressChange",
                value: function() {
                    return {
                        value: s.a.personalizeStress(this.activity.differenceStress),
                        label: r.a.t("units:label_stress_change"),
                        metricName: "differenceStress"
                    }
                }
            }, {
                key: "getAverageSpeedPaceWidget",
                value: function() {
                    var t = this.activityTypeKey;
                    return {
                        value: this.speedModel.avgSpeedOrPace,
                        unit: "",
                        label: r.a.t("units:".concat(s.a.getSpeedTypeLabelKey(t, null, !0))) + " (" + r.a.t("units:".concat(s.a.getSpeedTypeKey(t, this.activity.distance, this.activity.unitOfPoolLength))) + ")",
                        metricName: "averageSpeedWidget"
                    }
                }
            }, {
                key: "getElevationLossWidget",
                value: function() {
                    var t = this.activity.elevationLoss
                      , e = this.activityTypeKey;
                    return {
                        value: s.a.personalizeElevation(t),
                        unit: r.a.t("units:".concat(s.a.getElevationUnitKey())),
                        label: r.a.t("units:".concat(s.a.getElevLossLabelKey(e))),
                        metricName: "elevationLoss"
                    }
                }
            }, {
                key: "getElevationGainWidget",
                value: function() {
                    var t = this.activity.elevationGain
                      , e = this.activityTypeKey;
                    return {
                        value: s.a.personalizeElevation(t),
                        unit: r.a.t("units:".concat(s.a.getElevationUnitKey())),
                        label: r.a.t("units:".concat(s.a.getElevGainLabelKey(e))),
                        metricName: "elevationGainWidget"
                    }
                }
            }, {
                key: "getCaloriesWidget",
                value: function() {
                    return {
                        value: s.a.formatWholeNumber(this.activity.calories),
                        unit: "",
                        label: r.a.t("units:label_calories"),
                        metricName: "caloriesWidget"
                    }
                }
            }, {
                key: "getActiveSetsWidget",
                value: function() {
                    return {
                        value: this.activity.activeSets ? s.a.personalizeActiveSets(this.activity.activeSets) : 1,
                        unit: "",
                        label: r.a.t("units:label_total_sets"),
                        metricName: "activeSetsWidget"
                    }
                }
            }, {
                key: "getTotalTimeWidget",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.activity.duration) ? s.a.personalizeDuration(this.activity.duration) : "--",
                        unit: "",
                        label: r.a.t("units:label_time_total"),
                        metricName: "totalTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getPilatesSets",
                value: function() {
                    return {
                        value: s.a.zeroDash(this.repCountingActivity.getActiveSetCount()),
                        unit: "",
                        label: r.a.t("units:label_total_sets"),
                        metricName: "pilateSets"
                    }
                }
            }, {
                key: "getYogaPoses",
                value: function() {
                    return {
                        value: s.a.personalizeActiveSets(this.activity.activeSets),
                        unit: "",
                        label: r.a.t("units:label_total_poses"),
                        metricName: "yogaPoses"
                    }
                }
            }, {
                key: "getDeepestDiveWidget",
                value: function() {
                    return {
                        value: s.a.personalizeDepth(this.activity.maxDepth / 100),
                        unit: r.a.t("units:".concat(s.a.getDepthUnitKey())),
                        label: r.a.t("diving:deepest_dive"),
                        metricName: "maxDepthDive"
                    }
                }
            }, {
                key: "getTotalDistanceWidget",
                value: function() {
                    var t = this.activityTypeKey;
                    return {
                        value: s.a.personalizeDistance(this.activity.distance, t),
                        unit: r.a.t("units:".concat(s.a.getDistanceUnitKey(t, this.activity.distance))),
                        label: r.a.t("units:label_distance_total"),
                        metricName: "TotalDistance"
                    }
                }
            }, {
                key: "getClimbTotalAscent",
                value: function() {
                    var t = l.a.getSplitSummary(this.activity.splitSummaries, h.b.CLIMB_ACTIVE).totalAscent
                      , e = this.activityTypeKey;
                    return {
                        value: s.a.personalizeElevation(t),
                        unit: t ? r.a.t("units:".concat(s.a.getElevationUnitKey())) : "",
                        label: r.a.t("units:".concat(s.a.getElevGainLabelKey(e))),
                        metricName: "elevationGain"
                    }
                }
            }, {
                key: "getClimbAscent",
                value: function() {
                    var t = l.a.getSplitSummary(this.activity.splitSummaries, h.b.CLIMB_ACTIVE).elevationGain
                      , e = this.activityTypeKey;
                    return {
                        value: s.a.personalizeElevation(t),
                        unit: t ? r.a.t("units:".concat(s.a.getElevationUnitKey())) : "",
                        label: r.a.t("units:".concat(s.a.getElevGainLabelKey(e))),
                        metricName: "elevationGain"
                    }
                }
            }, {
                key: "getTotalClimbRoutes",
                value: function() {
                    var t = l.a.getSplitSummary(this.activity.splitSummaries, h.b.CLIMB_ACTIVE).noOfSplits;
                    return {
                        value: t || "--",
                        unit: "",
                        label: r.a.t("activity:total_climb_routes"),
                        metricName: "TotalRoutes"
                    }
                }
            }, {
                key: "getNumberOfSends",
                value: function() {
                    var t = l.a.getSplitSummary(this.activity.splitSummaries, h.b.CLIMB_ACTIVE).numClimbSends;
                    return {
                        value: t || "--",
                        unit: "",
                        label: r.a.t("activity:climb_sends"),
                        metricName: "sends"
                    }
                }
            }, {
                key: "getNumberOfFalls",
                value: function() {
                    var t = l.a.getSplitSummary(this.activity.splitSummaries, h.b.CLIMB_ACTIVE).numFalls;
                    return {
                        value: t || "--",
                        unit: "",
                        label: r.a.t("activity:climb_falls"),
                        metricName: "falls"
                    }
                }
            }, {
                key: "getMaxDifficulity",
                value: function() {
                    var t = l.a.getSplitSummary(this.activity.splitSummaries, h.b.CLIMB_ACTIVE).maxGradeValue
                      , e = t && t.valueKey
                      , i = t && t.scale
                      , a = Object(h.c)(i, e, this.indoorClimbDifficulty);
                    return {
                        value: a || "--",
                        unit: "",
                        label: r.a.t("activity:label_max_difficulty"),
                        metricName: "difficulty"
                    }
                }
            }, {
                key: "getAverageCadence",
                value: function() {
                    var t = this.activityTypeKey;
                    return {
                        value: s.a.personalizeCadence(this.activity.averageBikeCadence, t),
                        unit: r.a.t("units:".concat(s.a.getCadenceUnitKey(t))),
                        label: r.a.t("units:".concat(s.a.getAvgCadenceTypeLabelKey(t))),
                        metricName: "avgCadence"
                    }
                }
            }, {
                key: "getClimbTime",
                value: function() {
                    var t = l.a.getSplitSummary(this.activity.splitSummaries, h.b.CLIMB_ACTIVE).duration;
                    return {
                        value: t ? s.a.personalizeDuration(t) : "--",
                        unit: "",
                        label: r.a.t("activity:climb_active_time"),
                        metricName: "climbDuration",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getAverageBikeCadence",
                value: function() {
                    var t = this.activityTypeKey
                      , e = this.activity.averageBikingCadenceInRevPerMinute;
                    return {
                        value: e ? s.a.personalizeCadence(e, t) : "--",
                        unit: r.a.t("units:".concat(s.a.getCadenceUnitKey(t))),
                        label: r.a.t("units:".concat(s.a.getAvgCadenceTypeLabelKey(t))),
                        metricName: "averageBikeCadence"
                    }
                }
            }, {
                key: "getMinWaterTemperature",
                value: function() {
                    return {
                        value: s.a.personalizeTemperature(this.activity.minTemperature),
                        unit: r.a.t("units:".concat(s.a.getTemperatureUnitKey())),
                        label: r.a.t("diving:min_water_temperature"),
                        metricName: "minWaterTemperature"
                    }
                }
            }, {
                key: "getSurfaceInterval",
                value: function() {
                    return {
                        value: s.a.personalizeDuration(this.activity.surfaceInterval, !1),
                        unit: "",
                        label: r.a.t("diving:surface_interval_short"),
                        metricName: "surfaceInterval",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getTotalClimbRoutesNewsFeed",
                value: function() {
                    return {
                        value: this.activity.noOfClimbs ? this.activity.noOfClimbs : "--",
                        unit: "",
                        label: r.a.t("activity:total_climb_routes"),
                        metricName: "TotalRoutes"
                    }
                }
            }, {
                key: "getMaxDifficulityNewsFeed",
                value: function() {
                    var t = this.activity.maxGradeValue && this.activity.maxGradeValue.valueKey
                      , e = this.activity.maxGradeValue && this.activity.maxGradeValue.scale
                      , i = Object(h.c)(e, t, this.indoorClimbDifficulty);
                    return {
                        value: i || "--",
                        unit: "",
                        label: r.a.t("activity:label_max_difficulty"),
                        metricName: "difficulty"
                    }
                }
            }, {
                key: "getClimbTimeNewsFeed",
                value: function() {
                    return {
                        value: this.activity.totalClimbTime ? s.a.personalizeDuration(this.activity.totalClimbTime) : "--",
                        unit: "",
                        label: r.a.t("activity:climb_active_time"),
                        metricName: "climbDuration",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getSurfTotalWavesNewsFeed",
                value: function() {
                    var t = this.activity.noOfClimbs;
                    return {
                        value: t || "--",
                        unit: "",
                        label: r.a.t("activity:total_waves_surf"),
                        metricName: "totalWaves"
                    }
                }
            }, {
                key: "getSurfLongestWaveNewsFeed",
                value: function() {
                    var t = this.activity.maxSplitDistance
                      , e = this.activityTypeKey;
                    return {
                        value: t ? s.a.personalizeWaveDistance(t, e) : "--",
                        unit: r.a.t("units:".concat(s.a.getWaveDistanceUnitKey(e, t))),
                        label: r.a.t("activity:surf_longest_wave_label"),
                        metricName: "longestWave"
                    }
                }
            }, {
                key: "getSurfMaxSpeedNewsFeed",
                value: function() {
                    var t = this.activity.maxSpeed
                      , e = this.activityTypeKey;
                    return {
                        value: t ? s.a.personalizeSpeed(t, e) : "--",
                        unit: r.a.t("units:".concat(s.a.getSpeedTypeKey(e, t))),
                        label: r.a.t("activity:max_speed_surf"),
                        metricName: "mapSpeedSurf"
                    }
                }
            }, {
                key: "getSurfTotalWaves",
                value: function() {
                    var t = l.a.getSplitSummary(this.activity.splitSummaries, "SURF_ACTIVE").noOfSplits;
                    return {
                        value: t || "--",
                        unit: "",
                        label: r.a.t("activity:total_waves_surf"),
                        metricName: "totalWaves"
                    }
                }
            }, {
                key: "getSurfLongestWave",
                value: function() {
                    var t = l.a.getSplitSummary(this.activity.splitSummaries, "SURF_ACTIVE").maxDistance
                      , e = this.activityTypeKey;
                    return {
                        value: t ? s.a.personalizeWaveDistance(t, e) : "--",
                        unit: r.a.t("units:".concat(s.a.getWaveDistanceUnitKey(e, t))),
                        label: r.a.t("activity:surf_longest_wave_label"),
                        metricName: "longestWave"
                    }
                }
            }, {
                key: "getSurfMaxSpeed",
                value: function() {
                    var t = l.a.getSplitSummary(this.activity.splitSummaries, "SURF_ACTIVE").maxSpeed
                      , e = this.activityTypeKey;
                    return {
                        value: t ? s.a.personalizeSpeed(t, e) : "--",
                        unit: r.a.t("units:".concat(s.a.getSpeedTypeKey(e, t))),
                        label: r.a.t("activity:max_speed_surf"),
                        metricName: "maxSpeedSurf"
                    }
                }
            }, {
                key: "getSurfTime",
                value: function() {
                    var t = l.a.getSplitSummary(this.activity.splitSummaries, "SURF_ACTIVE").duration;
                    return {
                        value: t ? s.a.personalizeDuration(t) : "--",
                        unit: "",
                        label: r.a.t("activity:surf_time_label"),
                        metricName: "surfTime",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }, {
                key: "getSurfSessionTime",
                value: function() {
                    var t = this.activity.duration;
                    return {
                        value: t ? s.a.personalizeDuration(t) : "--",
                        unit: "",
                        label: r.a.t("activity:session_time_surf"),
                        metricName: "sessionTimeSurf",
                        formatExample: r.a.t("units:".concat(s.a.getDurationUnitKey(this.activityTypeKey)))
                    }
                }
            }]),
            t
        }()
    },
    1416: function(t, e, i) {
        var a, n;
        !function(r, o) {
            if (null === (typeof window !== "undefined" ? window : null))
                throw new Error("Google-maps package can be used only in browser");
            void 0 === (n = "function" === typeof (a = function() {
                "use strict";
                var t = null
                  , e = null
                  , i = !1
                  , a = []
                  , n = []
                  , r = null
                  , o = {
                    URL: "https://maps.googleapis.com/maps/api/js",
                    KEY: null,
                    LIBRARIES: [],
                    CLIENT: null,
                    CHANNEL: null,
                    LANGUAGE: null,
                    REGION: null
                };
                o.VERSION = "3.18",
                o.WINDOW_CALLBACK_NAME = "__google_maps_api_provider_initializator__",
                o._googleMockApiObject = {},
                o.load = function(t) {
                    null === e ? !0 === i ? t && a.push(t) : (i = !0,
                    window[o.WINDOW_CALLBACK_NAME] = function() {
                        s(t)
                    }
                    ,
                    o.createLoader()) : t && t(e)
                }
                ,
                o.createLoader = function() {
                    (t = document.createElement("script")).type = "text/javascript",
                    t.src = o.createUrl(),
                    document.body.appendChild(t)
                }
                ,
                o.isLoaded = function() {
                    return null !== e
                }
                ,
                o.createUrl = function() {
                    var t = o.URL;
                    return t += "?callback=" + o.WINDOW_CALLBACK_NAME,
                    o.KEY && (t += "&key=" + o.KEY),
                    o.LIBRARIES.length > 0 && (t += "&libraries=" + o.LIBRARIES.join(",")),
                    o.CLIENT && (t += "&client=" + o.CLIENT + "&v=" + o.VERSION),
                    o.CHANNEL && (t += "&channel=" + o.CHANNEL),
                    o.LANGUAGE && (t += "&language=" + o.LANGUAGE),
                    o.REGION && (t += "&region=" + o.REGION),
                    t
                }
                ,
                o.release = function(s) {
                    var l = function() {
                        o.KEY = null,
                        o.LIBRARIES = [],
                        o.CLIENT = null,
                        o.CHANNEL = null,
                        o.LANGUAGE = null,
                        o.REGION = null,
                        o.VERSION = "3.18",
                        e = null,
                        i = !1,
                        a = [],
                        n = [],
                        "undefined" !== typeof window.google && delete window.google,
                        "undefined" !== typeof window[o.WINDOW_CALLBACK_NAME] && delete window[o.WINDOW_CALLBACK_NAME],
                        null !== r && (o.createLoader = r,
                        r = null),
                        null !== t && (t.parentElement.removeChild(t),
                        t = null),
                        s && s()
                    };
                    i ? o.load(function() {
                        l()
                    }) : l()
                }
                ,
                o.onLoad = function(t) {
                    n.push(t)
                }
                ,
                o.makeMock = function() {
                    r = o.createLoader,
                    o.createLoader = function() {
                        window.google = o._googleMockApiObject,
                        window[o.WINDOW_CALLBACK_NAME]()
                    }
                }
                ;
                var s = function(t) {
                    var r;
                    for (i = !1,
                    null === e && (e = window.google),
                    r = 0; r < n.length; r++)
                        n[r](e);
                    for (t && t(e),
                    r = 0; r < a.length; r++)
                        a[r](e);
                    a = []
                };
                return o
            }
            ) ? a.call(e, i, e, t) : a) || (t.exports = n)
        }()
    },
    1426: function(t, e, i) {
        "use strict";
        i.d(e, "a", function() {
            return h
        }),
        i.d(e, "b", function() {
            return p
        });
        var a = i(15)
          , n = i.n(a)
          , r = i(8)
          , o = i(13)
          , s = i(58)
          , l = i(1287)
          , c = i(102)
          , h = function(t, e, i, a, r, h) {
            var p = []
              , d = s.a.parseISOUTC(e.get("startTimeGMT"))
              , u = new n.a(d).unix();
            return t.forEach(function(t) {
                var d, m = t[0], f = t[1], g = i.find(function(t, e) {
                    var a = s.a.parseISOUTC(t.get("startTimeGMT"))
                      , r = new n.a(a).unix() - u
                      , o = i.at(e + 1);
                    if (o) {
                        var l = s.a.parseISOUTC(o.get("startTimeGMT"))
                          , c = new n.a(l).unix() - u;
                        return r <= m && m <= c
                    }
                    return r <= m
                });
                d = g && g.get("type") === c.b.CLIMB_ACTIVE ? Math.max(f - g.get("startElevation"), 0) : 0;
                var y = m;
                h === l.a.Distance && (y = o.a.convertDistance(y, e.getActivityTypeKey())),
                p.push({
                    x: y,
                    y: a(d, r)
                })
            }),
            p
        }
          , p = function(t, e, i, a, h, p, d, u) {
            var m = s.a.parseISOUTC(t.get("startTimeGMT"))
              , f = new n.a(m).unix()
              , g = e.find(function(e) {
                var i = s.a.parseISOUTC(e.get("startTimeGMT"))
                  , r = s.a.parseISOUTC(e.get("endTimeGMT"))
                  , c = new n.a(i).unix() - f
                  , h = new n.a(r).unix() - f;
                d === l.a.Distance && (c = o.a.convertDistance(c, t.getActivityTypeKey()),
                h = o.a.convertDistance(h, t.getActivityTypeKey()));
                var p = a ? a.x : 0;
                return c <= p && p <= h
            })
              , y = r.a.localize("label_rest")
              , v = "";
            if (g && g.get("type") === c.b.CLIMB_ACTIVE) {
                switch (g.get("status")) {
                case c.a.CLIMB_COMPLETED:
                    y = g.numFalls < 1 ? r.a.localize("climb_send") : r.a.localize("climb_complete_falls");
                    break;
                case c.a.CLIMB_ATTEMPTED:
                default:
                    y = r.a.localize("climb_attempt")
                }
                v = g.get("gradeValue")
            }
            var b = "".concat(r.a.localize("label_climb_ascent"), " - ").concat(i(h) || 0, " ").concat(p);
            return a && (b = "".concat(y, "</br>").concat(b)),
            v ? "".concat(b, "</br>").concat(r.a.localize("climb_difficulty"), " - ").concat(Object(c.c)(v.scale, v.valueKey, u.toJSON())) : b
        }
    },
    1429: function(t, e, i) {
        "use strict";
        var a = i(1405)
          , n = i(1744);
        e.a = function(t, e, i, r) {
            var o = !i;
            i || (i = {});
            for (var s = -1, l = e.length; ++s < l; ) {
                var c = e[s]
                  , h = r ? r(i[c], t[c], c, i, t) : void 0;
                void 0 === h && (h = t[c]),
                o ? Object(n.a)(i, c, h) : Object(a.a)(i, c, h)
            }
            return i
        }
    },
    1430: function(t, e, i) {
        "use strict";
        var a = i(20)
          , n = i.n(a);
        e.a = n.a.shape({
            addLayer: n.a.func.isRequired,
            removeLayer: n.a.func.isRequired
        })
    },
    1431: function(t, e, i) {
        "use strict";
        var a = i(20)
          , n = i.n(a)
          , r = i(1347);
        e.a = n.a.arrayOf(r.a)
    },
    1432: function(t, e, i) {
        "use strict";
        var a, n = i(56), r = i(57), o = i(63), s = i(61), l = i(62), c = i(2), h = i(11), p = i.n(h), d = i(13), u = i(83), m = i(77), f = (a = {},
        Object(c.a)(a, "Clear", "clear.svg"),
        Object(c.a)(a, "Mostly Clear", "clear.svg"),
        Object(c.a)(a, "Fair", "clear.svg"),
        Object(c.a)(a, "Cloudy", "cloudy.svg"),
        Object(c.a)(a, "Mostly Cloudy", "cloudy.svg"),
        Object(c.a)(a, "Fog", "fog.svg"),
        Object(c.a)(a, "Drizzle", "fog.svg"),
        Object(c.a)(a, "Mist", "fog.svg"),
        Object(c.a)(a, "Smoke", "fog.svg"),
        Object(c.a)(a, "Haze", "fog.svg"),
        Object(c.a)(a, "Dust", "fog.svg"),
        Object(c.a)(a, "Sand", "fog.svg"),
        Object(c.a)(a, "Volcanic Ash", "fog.svg"),
        Object(c.a)(a, "Hail", "hail.svg"),
        Object(c.a)(a, "Partly Cloudy", "partlycloudy.svg"),
        Object(c.a)(a, "Precip", "rain.svg"),
        Object(c.a)(a, "Rain", "rain.svg"),
        Object(c.a)(a, "Heavy Rain", "rain.svg"),
        Object(c.a)(a, "Light Rain", "rain.svg"),
        Object(c.a)(a, "Showers", "rain.svg"),
        Object(c.a)(a, "Light Showers", "rain.svg"),
        Object(c.a)(a, "Heavy Showers", "rain.svg"),
        Object(c.a)(a, "Heavy Snow", "snow.svg"),
        Object(c.a)(a, "Light Snow", "snow.svg"),
        Object(c.a)(a, "Snow", "snow.svg"),
        Object(c.a)(a, "Thunderstorm", "tstorm.svg"),
        Object(c.a)(a, "Tornado", "tornado.svg"),
        Object(c.a)(a, "Sqall", "wind.svg"),
        Object(c.a)(a, "Ice", "wintermix.svg"),
        a), g = function(t) {
            function e(t) {
                return Object(n.a)(this, e),
                Object(o.a)(this, Object(s.a)(e).call(this, t))
            }
            return Object(l.a)(e, t),
            Object(r.a)(e, [{
                key: "imageUrl",
                value: function() {
                    var t = this.props.activity.weatherTypeDTO;
                    return t ? this.mapWeatherDescriptionToImage(t.desc) : null
                }
            }, {
                key: "mapWeatherDescriptionToImage",
                value: function(t) {
                    var e = f[t];
                    return e ? "/web-images/weather/icon_weather_".concat(e) : null
                }
            }, {
                key: "convertToCelsius",
                value: function(t) {
                    return null != t ? 5 * (t - 32) / 9 : null
                }
            }, {
                key: "render",
                value: function() {
                    var t = this.props.activity
                      , e = this.props.activity.activityTypeDTO.typeKey
                      , i = this.props.weatherSize && this.props.weatherSize
                      , a = this.imageUrl()
                      , n = d.a.personalizeWindSpeed(t.windSpeed)
                      , r = p.a.createElement(u.a, {
                        key: "weather.wind.direction." + t.windDirectionCompassPoint,
                        ns: "units",
                        content: "weather.wind.direction." + t.windDirectionCompassPoint
                    })
                      , o = "N/A" !== t.windDirectionCompassPoint && null !== t.windDirectionCompassPoint ? r : ""
                      , s = this.convertToCelsius(t.temp)
                      , l = m.a.t("units:".concat(d.a.getWindSpeedUnitKey()))
                      , c = m.a.t("units:".concat(d.a.getWindSpeedUnitKey()), {
                        0: n,
                        1: l,
                        2: o
                    })
                      , h = p.a.createElement(u.a, {
                        key: "weather_humidity_percentage",
                        ns: "activity",
                        content: "weather_humidity_percentage",
                        params: {
                            0: t.relativeHumidity
                        }
                    })
                      , f = m.a.t("units:".concat(d.a.getTemperatureUnitKey()));
                    return p.a.createElement("div", {
                        id: "weather-controls",
                        className: "weather ".concat(i)
                    }, p.a.createElement("span", {
                        className: "map-control-item"
                    }, t.temp && p.a.createElement("span", {
                        className: "temperature",
                        title: "".concat(d.a.personalizeTemperature(s)).concat(f)
                    }, d.a.personalizeTemperature(s), "\xb0"), t.weatherTypeDTO && a && p.a.createElement("span", {
                        className: "weather-icon",
                        title: t.weatherTypeDTO.desc
                    }, p.a.createElement("img", {
                        src: a,
                        alt: t.weatherTypeDTO.desc
                    })), !!n && p.a.createElement("span", {
                        className: "wind wind-".concat(t.windDirectionCompassPoint),
                        title: c
                    }, n), null !== t.relativeHumidity && "auto_racing" === e && p.a.createElement("span", {
                        className: "humidity-percentage"
                    }, h)))
                }
            }]),
            e
        }(p.a.Component);
        e.a = g
    },
    1437: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8);
        e.a = o.a.Model.extend({
            url: "/web-data/exercises/Exercises.json",
            flattenExerciseTypes: function(t) {
                var e = [];
                return n.a.mapObject(this.get("categories"), function(t, i) {
                    var a = !1;
                    n.a.mapObject(t.exercises, function(t, n) {
                        i === n && (a = !0),
                        e.push({
                            exerciseName: s.a.localize("exercise_type_" + n),
                            isBodyWeight: t.isBodyWeight,
                            counterpart: t.counterpart,
                            exerciseKey: n,
                            exerciseCategory: i
                        })
                    }),
                    a || e.push({
                        exerciseName: s.a.localize("category_type_" + i),
                        isBodyWeight: null,
                        counterpart: null,
                        exerciseKey: null,
                        exerciseCategory: i
                    })
                }),
                e.sort(function(e, i) {
                    var a = e.exerciseName.toLowerCase()
                      , n = i.exerciseName.toLowerCase();
                    return a.localeCompare(n, t, {
                        sensitivity: "base",
                        ignorePunctuation: !0
                    })
                }),
                e
            }
        })
    },
    1441: function(t, e, i) {
        "use strict";
        var a = i(1591)
          , n = i(222)
          , r = i(1646)
          , o = i(1305)
          , s = n.a ? n.a.isConcatSpreadable : void 0;
        var l = function(t) {
            return Object(o.a)(t) || Object(r.a)(t) || !!(s && t && t[s])
        };
        var c = function t(e, i, n, r, o) {
            var s = -1
              , c = e.length;
            for (n || (n = l),
            o || (o = []); ++s < c; ) {
                var h = e[s];
                i > 0 && n(h) ? i > 1 ? t(h, i - 1, n, r, o) : Object(a.a)(o, h) : r || (o[o.length] = h)
            }
            return o
        };
        var h = function(t) {
            return null != t && t.length ? c(t, 1) : []
        };
        var p = function(t, e, i) {
            switch (i.length) {
            case 0:
                return t.call(e);
            case 1:
                return t.call(e, i[0]);
            case 2:
                return t.call(e, i[0], i[1]);
            case 3:
                return t.call(e, i[0], i[1], i[2])
            }
            return t.apply(e, i)
        }
          , d = Math.max;
        var u = function(t, e, i) {
            return e = d(void 0 === e ? t.length - 1 : e, 0),
            function() {
                for (var a = arguments, n = -1, r = d(a.length - e, 0), o = Array(r); ++n < r; )
                    o[n] = a[e + n];
                n = -1;
                for (var s = Array(e + 1); ++n < e; )
                    s[n] = a[n];
                return s[e] = i(o),
                p(t, this, s)
            }
        };
        var m = function(t) {
            return function() {
                return t
            }
        }
          , f = i(1745)
          , g = i(1586)
          , y = f.a ? function(t, e) {
            return Object(f.a)(t, "toString", {
                configurable: !0,
                enumerable: !1,
                value: m(e),
                writable: !0
            })
        }
        : g.a
          , v = 800
          , b = 16
          , A = Date.now;
        var _ = function(t) {
            var e = 0
              , i = 0;
            return function() {
                var a = A()
                  , n = b - (a - i);
                if (i = a,
                n > 0) {
                    if (++e >= v)
                        return arguments[0]
                } else
                    e = 0;
                return t.apply(void 0, arguments)
            }
        }(y);
        e.a = function(t) {
            return _(u(t, void 0, h), t + "")
        }
    },
    1442: function(t, e, i) {
        "use strict";
        var a = function(t, e) {
            return null != t && e in Object(t)
        }
          , n = i(1306)
          , r = i(1646)
          , o = i(1305)
          , s = i(1404)
          , l = i(1581)
          , c = i(1333);
        var h = function(t, e, i) {
            for (var a = -1, h = (e = Object(n.a)(e, t)).length, p = !1; ++a < h; ) {
                var d = Object(c.a)(e[a]);
                if (!(p = null != t && i(t, d)))
                    break;
                t = t[d]
            }
            return p || ++a != h ? p : !!(h = null == t ? 0 : t.length) && Object(l.a)(h) && Object(s.a)(d, h) && (Object(o.a)(t) || Object(r.a)(t))
        };
        e.a = function(t, e) {
            return null != t && h(t, e, a)
        }
    },
    1443: function(t, e, i) {
        "use strict";
        var a = i(61);
        function n(t, e, i) {
            return (n = "undefined" !== typeof Reflect && Reflect.get ? Reflect.get : function(t, e, i) {
                var n = function(t, e) {
                    for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = Object(a.a)(t)); )
                        ;
                    return t
                }(t, e);
                if (n) {
                    var r = Object.getOwnPropertyDescriptor(n, e);
                    return r.get ? r.get.call(i) : r.value
                }
            }
            )(t, e, i || t)
        }
        i.d(e, "a", function() {
            return n
        })
    },
    1444: function(t, e, i) {
        "use strict";
        function a(t, e) {
            if (null == t)
                return {};
            var i, a, n = function(t, e) {
                if (null == t)
                    return {};
                var i, a, n = {}, r = Object.keys(t);
                for (a = 0; a < r.length; a++)
                    i = r[a],
                    e.indexOf(i) >= 0 || (n[i] = t[i]);
                return n
            }(t, e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(t);
                for (a = 0; a < r.length; a++)
                    i = r[a],
                    e.indexOf(i) >= 0 || Object.prototype.propertyIsEnumerable.call(t, i) && (n[i] = t[i])
            }
            return n
        }
        i.d(e, "a", function() {
            return a
        })
    },
    1447: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(13)
          , l = i(8)
          , c = i(15)
          , h = i.n(c)
          , p = i(1299)
          , d = i(1287)
          , u = function(t) {
            this.activitySummary = t.activitySummary,
            this.activityDetails = t.activityDetails,
            this.activitySplits = t.activitySplits,
            this.activityTypedSplits = t.activityTypedSplits,
            this.activitySplitSummaries = t.activitySplitSummaries,
            this.activityWorkouts = t.activityWorkouts,
            this.usersWeight = t.usersWeight,
            this.xAxisType = t.xAxisType,
            this.props = t.props,
            this.plotBands = this.createHighChartsPlotBandsOptions(),
            this.mean = this.getAvgValue()
        };
        n.a.extend(u.prototype, {
            yAxisMinMaxPadding: "padded",
            reset: function() {
                this.data = null
            },
            createHighChartsPlotBandsOptions: function() {
                return []
            },
            hasAvgValue: function() {
                var t = this.activitySummary.get(this.avgValueKey);
                return !n.a.isUndefined(t) && null != t
            },
            getColor: function(t) {
                return this.chartColorMapperObject.mapSeriesType(this, t)
            },
            getAvgValue: function(t) {
                var e = this.activitySummary.get(this.avgValueKey);
                if (!n.a.isUndefined(e) && null != e)
                    return this.conversionFunction(e, t || this.measurementSystem())
            },
            shouldBeVisible: function() {
                return !0
            },
            setXAxisType: function(t) {
                this.xAxisType = t,
                this.data = null
            },
            formatToolTipRow: function(t, e, i, a, n, r, o) {
                return this.formattingFunction(i) + " " + a
            },
            canShowChartSelector: function() {
                return !1
            },
            colorMapper: null,
            chartColorMapperObject: null,
            formattingFunction: n.a.identity,
            conversionFunction: n.a.identity,
            generateData: function(t, e) {
                return this.data && !e ? this.data : (t = t || this.colorMapper || function() {}
                ,
                this.data = this.getData(),
                this.mainChartFilter && (this.data = this.mainChartFilter(this.data)),
                this.data && (this.data = this.buildData(t, e)),
                this.data)
            },
            getData: function() {
                return this.activityDetails.getData(this.seriesKey, this.getXAxisKey())
            },
            hasData: function() {
                return this.activityDetails.hasData(this.seriesKey)
            },
            buildData: function(t, e) {          // TX !!! bookmark - buidling the graph data array
                for (var i, a, n = [], r = 0, o = this.data.length; r < o; r++)
                    this.data[r] && (i = this.data[r][0],
                    this.xAxisType === d.a.Distance && (i = s.a.convertDistance(i, this.activitySummary.getActivityTypeKey())),
                    a = this.data[r][1],
                    n[r] = {
                        x: i,
                        y: null === a ? null : this.conversionFunction(a, this.measurementSystem()),
                        dist: s.a.convertDistance(this.data[r][2], this.activitySummary.getActivityTypeKey()),     // TX GCOverrides - distance added (always)
                        color: t.call(this, a)
                    });
                return n
            },
            generateWorkoutData: function() {
                var t = {
                    workoutData: [],
                    allZeros: !0
                }
                  , e = [];
                if (this.workoutTargetTypes && this.activityWorkouts && this.activityWorkouts.models.length > 0) {
                    var i = this.activitySplits.get("lapDTOs");
                    n.a.each(i, function(a, r) {
                        var o = this.getWorkoutStep(a)
                          , s = !1
                          , l = !1;
                        if (o) {
                            var c = !0;
                            this.isWorkoutTargetSupported(o) && (t.allZeros = !1,
                            c = !1,
                            r > 0 && !this.isWorkoutTargetSupported(i[r - 1], !0) && (s = !0),
                            r < i.length - 1 && !this.isWorkoutTargetSupported(i[r + 1], !0) && (l = !0)),
                            e = this.buildWorkoutData(o, r, s, l, c),
                            n.a.each(e, function(e) {
                                t.workoutData.push(e)
                            })
                        }
                    }, this)
                }
                return t
            },
            buildWorkoutData: function(t, e, i, a, n) {
                var r, o, l, c, d = [], u = p.a.findClosest(this.activityDetails.get("directTimestamp"), h.a.utc(this.activitySplits.get("lapDTOs")[e].startTimeGMT).valueOf());
                if (o = (r = e === this.activitySplits.get("lapDTOs").length - 1 ? this.activityDetails.get("directTimestamp").length : p.a.findClosest(this.activityDetails.get("directTimestamp"), h.a.utc(this.activitySplits.get("lapDTOs")[e + 1].startTimeGMT).valueOf())) - u,
                null !== t.targetValueLow && null !== t.targetValueHigh) {
                    var m = (t.targetValueLow + t.targetValueHigh) / 2;
                    l = this.conversionFunction(m, this.measurementSystem())
                } else
                    l = null !== t.targetValue ? this.conversionFunction(t.targetValue, this.measurementSystem()) : this.conversionFunction(0, this.measurementSystem());
                if (n && (l = this.reversed ? null : 0),
                c = this.reversed ? l : 0,
                "sumDuration" === this.xAxisType) {
                    !0 === i && d.push([this.activityDetails.get("sumDuration")[u] - 1e-4, c]);
                    for (var f = 0; f < o; f++)
                        d.push([this.activityDetails.get("sumDuration")[u + f], l]);
                    !0 === a && d.push([this.activityDetails.get("sumDuration")[r] + 1e-4, c])
                } else {
                    var g, y;
                    !0 === i && (g = s.a.convertDistance(this.activityDetails.get("sumDistance")[u], this.activitySummary.getActivityTypeKey()),
                    d.push([g - 1e-4, c]));
                    for (var v = 0; v < o; v++) {
                        var b = s.a.convertDistance(this.activityDetails.get("sumDistance")[u + v], this.activitySummary.getActivityTypeKey());
                        d.push([b, l])
                    }
                    !0 === a && (y = s.a.convertDistance(this.activityDetails.get("sumDistance")[r], this.activitySummary.getActivityTypeKey()),
                    d.push([y + 1e-4, c]))
                }
                return d
            },
            getWorkoutStep: function(t) {
                var e = this.activityWorkouts.models
                  , i = t.wktIndex
                  , a = null
                  , r = n.a.find(e, function(t) {
                    return t.get("index") === i
                });
                if (r) {
                    var o = r.get("steps");
                    a = n.a.find(o, function(e) {
                        return e.stepIndex === t.wktStepIndex
                    })
                }
                return a
            },
            getXAxisKey: function() {
                return this.xAxisType
            },
            getClosestPoint: function(t) {
                for (var e = this.data, i = e.length, a = 0; a < i && !(e[a].x >= t); a++)
                    ;
                var n = Math.min(e.length - 1, a);
                if (n > 0 && e[n].x != t) {
                    var r = Math.abs(e[n].x - t);
                    Math.abs(e[n - 1].x - t) < r && n--
                }
                return {
                    data: this.data[n],
                    index: n
                }
            },
            measurementSystem: function() {
                return s.a.measurementSystem
            },
            getLowerRange: function(t, e, i) {
                var a = this.calculateMean(e);
                if (t) {
                    var n = this.calculateStdDeviation(e) * t;
                    return Math.max(a - n, 0)
                }
                return this.calculateMin(e, i)
            },
            getUpperRange: function(t, e) {
                var i = this.calculateMean(e);
                return t ? i + this.calculateStdDeviation(e) * t : this.calculateMax()
            },
            getLowerRangeWithMinRange: function(t, e) {
                var i = this.getLowerRange(0, !1, e)
                  , a = this.getUpperRange(0) - i;
                return a < t && (i -= (t - a) / 2),
                i
            },
            getUpperRangeWithMinRange: function(t) {
                var e = this.getLowerRange(0)
                  , i = this.getUpperRange(0)
                  , a = i - e;
                return a < t && (i += (t - a) / 2),
                i
            },
            calculateMean: function(t) {
                if ("undefined" === typeof this.mean || null === this.mean) {
                    var e, i, a = this.yValueFunc(), n = 0, r = 0;
                    if (t)
                        for (i = 0; i < this.data.length; i++)
                            (e = a(this.data[i])) && (n += e,
                            r++);
                    else
                        for (i = 0; i < this.data.length; i++)
                            n += e = a(this.data[i]),
                            r++;
                    r && (this.mean = n / r)
                }
                return this.mean
            },
            calculateStdDeviation: function(t) {
                if (null === this.stdDev || "undefined" === typeof this.stdDev) {
                    var e, i, a, r = this.calculateMean(), o = this.yValueFunc(), s = [];
                    if (t)
                        for (i = 0; i < this.data.length; i++)
                            (a = o(this.data[i])) && (e = a - r,
                            s.push(e * e));
                    else
                        for (i = 0; i < this.data.length; i++)
                            e = o(this.data[i]) - r,
                            s.push(e * e);
                    if (s.length) {
                        var l = n.a.reduce(s, function(t, e) {
                            return t + e
                        }) / s.length;
                        this.stdDev = Math.sqrt(l)
                    } else
                        this.stdDev = 0;
                    return this.stdDev
                }
                return this.stdDev
            },
            calculateMax: function(t) {
                if (!this.maxValue) {
                    var e = this.yValueFunc();
                    this.maxValue = t ? n.a.max(this.data, function(i) {
                        return e(i) >= t ? -999999 : e(i)
                    }) : n.a.max(this.data, e),
                    this.maxValue && (this.maxValue = e(this.maxValue))
                }
                return this.maxValue
            },
            yValueFunc: function(t) {
                var e = t || this.data;
                return Array.isArray(e[0]) ? function(t) {
                    return t[1]
                }
                : function(t) {
                    return t.y
                }
            },
            xValueFunc: function() {
                return Array.isArray(this.data[0]) ? function(t) {
                    return t[0]
                }
                : function(t) {
                    return t.x
                }
            },
            calculateMin: function(t, e) {
                if (!this.minValue) {
                    var i = this.yValueFunc();
                    this.minValue = t || e ? e && !t ? n.a.min(this.data, function(t) {
                        if (null !== t.y)
                            return i(t)
                    }) : n.a.min(this.data, function(t) {
                        return i(t) || 99999999
                    }, this) : n.a.min(this.data, i),
                    this.minValue && (this.minValue = i(this.minValue))
                }
                return this.minValue
            },
            filter: function(t, e) {
                if (!t || t.length < 2)
                    return t;
                for (var i, a = t[0], n = t[t.length - 1], r = this.yValueFunc(t), o = [a], s = 1; s < t.length; s++)
                    e(r(i = t[s])) || o.push(i);
                return o.length < 2 ? [a, n] : (e(r(a)) && ("undefined" != typeof a.y ? a.y = o[1].y : a[1] = o[1][1]),
                n !== o[o.length - 1] && (o.push(n),
                "undefined" != typeof n.y ? n.y = o[o.length - 1].y : n[1] = o[o.length - 2][1]),
                o)
            },
            isZero: function(t) {
                return 0 === t
            },
            isNegative: function(t) {
                return t < 0
            },
            filterZeros: function(t) {
                return this.filter(t, this.isZero)
            },
            filterNulls: function(t) {
                return this.filter(t, n.a.isNull)
            },
            filterBadPCOs: function(t) {
                return this.filter(t, this.getIsBadPCOTest())
            },
            getIsBadPCOTest: function() {
                var t = this.min
                  , e = this.max;
                return function(i) {
                    return n.a.isNull(i) || i > e || i < t
                }
            },
            filterNegatives: function(t) {
                return this.filter(t, this.isNegative)
            },
            filterValues: function(t) {
                if (!this.data || this.data.length < 2)
                    return this.data;
                var e = this.calculateMean();
                if (!e)
                    return this.data;
                for (var i, a, n = this.yValueFunc(), r = this.data[0], o = this.data[this.data.length - 1], s = this.calculateStdDeviation() * t, l = e - s, c = e + s, h = [], p = 0; p < this.data.length; p++)
                    (a = n(i = this.data[p])) >= l && a <= c && h.push(i);
                return r[1] = Math.min(c, n(r)),
                o[1] = Math.min(c, n(o)),
                r[1] = Math.max(l, n(r)),
                o[1] = Math.max(l, n(o)),
                h[0] = r,
                h.push(o),
                h
            },
            filterRestsIfXAxisIsDistance: function(t) {
                if (!t || t.length < 2 || this.xAxisType != d.a.SwimDistance)
                    return t;
                for (var e, i, a = this.xValueFunc(), n = [], r = t.length - 1, o = 0; o < r; o++)
                    e = t[o],
                    i = t[o + 1],
                    a(e) != a(i) && n.push(e);
                var s = t[t.length - 1];
                return n.push(s),
                n
            },
            getExtremeMax: function() {
                var t = Math.abs(this.calculateMin())
                  , e = Math.abs(this.calculateMax());
                return e >= t ? e : t
            },
            getExtremeMin: function() {
                return -this.getExtremeMax()
            },
            isWorkoutTargetSupported: function(t, e) {
                var i = t;
                e && (i = this.getWorkoutStep(t));
                var a = !1;
                return i && (a = n.a.indexOf(this.workoutTargetTypes, i.targetType) >= 0),
                a
            },
            getName: function() {
                return this.name
            },
            getUniqueName: function() {
                return this.getName()
            },
            getLabel: function() {
                var t = this.parentLabel || this.label;
                return t instanceof Array ? l.a.localize(t[0], l.a.localize(t[1])) : l.a.localize(t)
            }
        }),
        u.extend = o.a.Model.extend,
        e.a = u
    },
    1448: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/cyclingDynamicsForMaxAvgPowerDuration?startTimeMillis=" + this.startTime + "&durationInSeconds=" + this.duration
            },
            initialize: function(t) {
                this.activityId = t.activityId,
                this.startTime = t.startTimeMilliseconds,
                this.duration = t.duration
            },
            setData: function(t, e) {
                this.startTime = t,
                this.duration = e
            },
            getStartTime: function() {
                return this.get("maxAverageDTO").timerDurationStartMillis
            },
            getEndTime: function() {
                return this.get("maxAverageDTO").timerDurationEndMillis
            },
            getStartDistance: function() {
                return this.get("maxAverageDTO").startDistance / 100
            },
            getEndDistance: function() {
                return this.get("maxAverageDTO").endDistance / 100
            },
            getValue: function() {
                return this.get("maxAverageDTO").value
            }
        });
        e.a = n
    },
    1449: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(13)
          , r = {
            getDurationLabelValue: function(t) {
                switch (t) {
                case -1:
                    return a.a.localize("avg_power_range_none");
                case 5:
                    return a.a.localize("avg_power_range_customsec", 5);
                case 60:
                    return a.a.localize("avg_power_range_custommin", 1);
                case 300:
                    return a.a.localize("avg_power_range_custommin", 5);
                case 1200:
                    return a.a.localize("avg_power_range_custommin", 20)
                }
                return null
            },
            getCustomDurationLabelValue: function(t, e) {
                return a.a.localize("avg_power_max_avg", a.a.localize("avg_power_range_custom" + e, t))
            },
            formatLabel: function(t) {
                return a.a.localize("avg_power_max_avg", this.getDurationLabelValue(t))
            },
            formatAvgTimeValue: function(t, e, i) {
                return n.a.personalizePower(i) + " " + a.a.localize(n.a.getPowerUnitKey()) + " (" + n.a.personalizeDuration(t) + "-" + n.a.personalizeDuration(e) + ")"
            },
            formatAvgDistanceValue: function(t, e, i) {
                return n.a.personalizePower(i) + " " + a.a.localize(n.a.getPowerUnitKey()) + " (" + n.a.personalizeDistance(t) + "-" + n.a.personalizeDistance(e) + ")"
            },
            isCustomRange: function(t) {
                return -1 !== t && 5 !== t && 60 !== t && 300 !== t && 1200 !== t
            }
        };
        e.a = r
    },
    1453: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(1341)
          , l = i(101);
        function c(t, e) {
            if (function(t) {
                if (n.a.isEmpty(t.criteria))
                    throw "GearFilterCriteriaDTO must include a User Profile PK or Activity ID";
                if (!1 === n.a.has(t.criteria, "userProfilePk") && !1 === n.a.has(t.criteria, "activityId"))
                    throw "GearFilterCriteriaDTO must include a User Profile PK or Activity ID"
            }(e),
            e.criteria) {
                var i = new l.a;
                t.queryString = i.convertObjectToQueryString(e.criteria)
            }
        }
        var h = o.a.Collection.extend({
            model: s.a,
            initialize: function(t, e) {
                c(this, e)
            },
            url: function() {
                return "/proxy/gear-service/gear/filterGear" + this.queryString
            }
        });
        e.a = h
    },
    1454: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(58)
          , o = i(102)
          , s = ["DESCENT_SPLIT"]
          , l = n.a.Collection.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/typedsplits"
            },
            initialize: function(t, e) {
                if ("undefined" === typeof e.activityId)
                    throw "ActivityTypedSplits requires an activity ID";
                this.activityId = e.activityId
            },
            parse: function(t) {
                return t ? t.splits : []
            },
            getHighlightedTimeRanges: function() {
                return this.getHighlightedSplits().map(function(t) {
                    return {
                        start: r.a.parseISOUTC(t.get("startTimeGMT")).getTime(),
                        end: r.a.parseISOUTC(t.get("endTimeGMT")).getTime()
                    }
                })
            },
            getHighlightedSplits: function() {
                return this.filter(function(t) {
                    return s.includes(t.get("type"))
                })
            },
            comparator: function(t) {
                return r.a.parseISOUTC(t.get("startTimeGMT"))
            },
            getRoutes: function() {
                return this.getSplitsOfType(o.b.CLIMB_ACTIVE)
            },
            getSplitsOfType: function(t) {
                return this.where({
                    type: t
                })
            }
        });
        e.a = l
    },
    1455: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(1732)
              , c = i.n(l)
              , h = {
                CHANGE: "CHANGE"
            }
              , p = o.a.View.extend({
                events: {
                    "click li": "onPrivacyOptionSelected"
                },
                initialize: function(t) {
                    n.a.bindAll(this, "onSaveSuccess"),
                    this.template = n.a.template(c.a),
                    this.privacy = t.privacy,
                    this.onlyMeConsent = t.onlyMeConsent,
                    this.connectionsConsent = t.connectionsConsent,
                    this.groupsConsent = t.groupsConsent,
                    this.everyoneConsent = t.everyoneConsent,
                    this.customConsentClass = t.customConsentClass
                },
                render: function() {
                    var e = this.template({
                        Localizer: s.a,
                        privacy: this.privacy,
                        onlyMeConsent: this.onlyMeConsent,
                        connectionsConsent: this.connectionsConsent,
                        groupsConsent: this.groupsConsent,
                        everyoneConsent: this.everyoneConsent,
                        customConsentClass: this.customConsentClass
                    });
                    this.$el.addClass("dropdown page-dropdown privacy-select"),
                    t(this.el).html(e),
                    this.$("[data-privacy='" + this.privacy + "']").addClass("active")
                },
                onPrivacyOptionSelected: function(e) {
                    e.preventDefault();
                    var i = t(e.currentTarget).attr("data-privacy");
                    i && this.trigger(h.CHANGE, i)
                },
                onSaveSuccess: function(t) {
                    this.setPrivacy(t)
                },
                setPrivacy: function(t) {
                    this.privacy = t
                },
                getPrivacy: function() {
                    return this.privacy
                }
            });
            p.Events = h,
            e.a = p
        }
        ).call(this, i(10))
    },
    1456: function(t, e, i) {
        "use strict";
        var a = i(1235)
          , n = i(20)
          , r = i.n(n);
        e.a = r.a.instanceOf(a.Map)
    },
    1459: function(t, e, i) {
        var a, n;
        n = function(t) {
            !function(t) {
                var e = t.defaultOptions
                  , i = t.doc
                  , a = t.Chart
                  , n = t.addEvent
                  , r = t.removeEvent
                  , o = t.fireEvent
                  , s = t.createElement
                  , l = t.discardElement
                  , c = t.css
                  , h = t.merge
                  , p = t.pick
                  , d = t.each
                  , u = t.objectEach
                  , m = t.extend
                  , f = t.isTouchDevice
                  , g = t.win
                  , y = g.navigator.userAgent
                  , v = t.Renderer.prototype.symbols;
                /Edge\/|Trident\/|MSIE /.test(y),
                /firefox/i.test(y),
                m(e.lang, {
                    printChart: "Print chart",
                    downloadPNG: "Download PNG image",
                    downloadJPEG: "Download JPEG image",
                    downloadPDF: "Download PDF document",
                    downloadSVG: "Download SVG vector image",
                    contextButtonTitle: "Chart context menu"
                }),
                e.navigation = {
                    buttonOptions: {
                        theme: {},
                        symbolSize: 14,
                        symbolX: 12.5,
                        symbolY: 10.5,
                        align: "right",
                        buttonSpacing: 3,
                        height: 22,
                        verticalAlign: "top",
                        width: 24
                    }
                },
                h(!0, e.navigation, {
                    menuStyle: {
                        border: "1px solid #999999",
                        background: "#ffffff",
                        padding: "5px 0"
                    },
                    menuItemStyle: {
                        padding: "0.5em 1em",
                        background: "none",
                        color: "#333333",
                        fontSize: f ? "14px" : "11px",
                        transition: "background 250ms, color 250ms"
                    },
                    menuItemHoverStyle: {
                        background: "#335cad",
                        color: "#ffffff"
                    },
                    buttonOptions: {
                        symbolFill: "#666666",
                        symbolStroke: "#666666",
                        symbolStrokeWidth: 3,
                        theme: {
                            fill: "#ffffff",
                            stroke: "none",
                            padding: 5
                        }
                    }
                }),
                e.exporting = {
                    type: "image/png",
                    url: "https://export.highcharts.com/",
                    printMaxWidth: 780,
                    scale: 2,
                    buttons: {
                        contextButton: {
                            className: "highcharts-contextbutton",
                            menuClassName: "highcharts-contextmenu",
                            symbol: "menu",
                            titleKey: "contextButtonTitle",
                            menuItems: "printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")
                        }
                    },
                    menuItemDefinitions: {
                        printChart: {
                            textKey: "printChart",
                            onclick: function() {
                                this.print()
                            }
                        },
                        separator: {
                            separator: !0
                        },
                        downloadPNG: {
                            textKey: "downloadPNG",
                            onclick: function() {
                                this.exportChart()
                            }
                        },
                        downloadJPEG: {
                            textKey: "downloadJPEG",
                            onclick: function() {
                                this.exportChart({
                                    type: "image/jpeg"
                                })
                            }
                        },
                        downloadPDF: {
                            textKey: "downloadPDF",
                            onclick: function() {
                                this.exportChart({
                                    type: "application/pdf"
                                })
                            }
                        },
                        downloadSVG: {
                            textKey: "downloadSVG",
                            onclick: function() {
                                this.exportChart({
                                    type: "image/svg+xml"
                                })
                            }
                        }
                    }
                },
                t.post = function(t, e, a) {
                    var n = s("form", h({
                        method: "post",
                        action: t,
                        enctype: "multipart/form-data"
                    }, a), {
                        display: "none"
                    }, i.body);
                    u(e, function(t, e) {
                        s("input", {
                            type: "hidden",
                            name: e,
                            value: t
                        }, null, n)
                    }),
                    n.submit(),
                    l(n)
                }
                ,
                m(a.prototype, {
                    sanitizeSVG: function(t, e) {
                        if (e && e.exporting && e.exporting.allowHTML) {
                            var i = t.match(/<\/svg>(.*?$)/);
                            i && i[1] && (i = '<foreignObject x="0" y="0" width="' + e.chart.width + '" height="' + e.chart.height + '"><body xmlns="http://www.w3.org/1999/xhtml">' + i[1] + "</body></foreignObject>",
                            t = t.replace("</svg>", i + "</svg>"))
                        }
                        return t = t.replace(/zIndex="[^"]+"/g, "").replace(/symbolName="[^"]+"/g, "").replace(/jQuery[0-9]+="[^"]+"/g, "").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g, "url($2)").replace(/url\([^#]+#/g, "url(#").replace(/<svg /, '<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+\:)href=/g, " xlink:href=").replace(/\n/, " ").replace(/<\/svg>.*?$/, "</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g, '$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g, "\xa0").replace(/&shy;/g, "\xad"),
                        this.ieSanitizeSVG && (t = this.ieSanitizeSVG(t)),
                        t
                    },
                    getChartHTML: function() {
                        return this.container.innerHTML
                    },
                    getSVG: function(e) {
                        var a, n, r, c, p, u = h(this.options, e);
                        return n = s("div", null, {
                            position: "absolute",
                            top: "-9999em",
                            width: this.chartWidth + "px",
                            height: this.chartHeight + "px"
                        }, i.body),
                        r = this.renderTo.style.width,
                        p = this.renderTo.style.height,
                        r = u.exporting.sourceWidth || u.chart.width || /px$/.test(r) && parseInt(r, 10) || 600,
                        p = u.exporting.sourceHeight || u.chart.height || /px$/.test(p) && parseInt(p, 10) || 400,
                        m(u.chart, {
                            animation: !1,
                            renderTo: n,
                            forExport: !0,
                            renderer: "SVGRenderer",
                            width: r,
                            height: p
                        }),
                        u.exporting.enabled = !1,
                        delete u.data,
                        u.series = [],
                        d(this.series, function(t) {
                            (c = h(t.userOptions, {
                                animation: !1,
                                enableMouseTracking: !1,
                                showCheckbox: !1,
                                visible: t.visible
                            })).isInternal || u.series.push(c)
                        }),
                        d(this.axes, function(e) {
                            e.userOptions.internalKey || (e.userOptions.internalKey = t.uniqueKey())
                        }),
                        a = new t.Chart(u,this.callback),
                        e && d(["xAxis", "yAxis", "series"], function(t) {
                            var i = {};
                            e[t] && (i[t] = e[t],
                            a.update(i))
                        }),
                        d(this.axes, function(e) {
                            var i = t.find(a.axes, function(t) {
                                return t.options.internalKey === e.userOptions.internalKey
                            })
                              , n = (r = e.getExtremes()).userMin
                              , r = r.userMax;
                            i && (void 0 !== n && n !== i.min || void 0 !== r && r !== i.max) && i.setExtremes(n, r, !0, !1)
                        }),
                        r = a.getChartHTML(),
                        o(this, "getSVG", {
                            chartCopy: a
                        }),
                        r = this.sanitizeSVG(r, u),
                        u = null,
                        a.destroy(),
                        l(n),
                        r
                    },
                    getSVGForExport: function(t, e) {
                        var i = this.options.exporting;
                        return this.getSVG(h({
                            chart: {
                                borderRadius: 0
                            }
                        }, i.chartOptions, e, {
                            exporting: {
                                sourceWidth: t && t.sourceWidth || i.sourceWidth,
                                sourceHeight: t && t.sourceHeight || i.sourceHeight
                            }
                        }))
                    },
                    exportChart: function(e, i) {
                        i = this.getSVGForExport(e, i),
                        e = h(this.options.exporting, e),
                        t.post(e.url, {
                            filename: e.filename || "chart",
                            type: e.type,
                            width: e.width || 0,
                            scale: e.scale,
                            svg: i
                        }, e.formAttributes)
                    },
                    print: function() {
                        var t, e, a = this, n = a.container, r = [], s = n.parentNode, l = i.body, c = l.childNodes, h = a.options.exporting.printMaxWidth;
                        a.isPrinting || (a.isPrinting = !0,
                        a.pointer.reset(null, 0),
                        o(a, "beforePrint"),
                        (e = h && a.chartWidth > h) && (t = [a.options.chart.width, void 0, !1],
                        a.setSize(h, void 0, !1)),
                        d(c, function(t, e) {
                            1 === t.nodeType && (r[e] = t.style.display,
                            t.style.display = "none")
                        }),
                        l.appendChild(n),
                        setTimeout(function() {
                            g.focus(),
                            g.print(),
                            setTimeout(function() {
                                s.appendChild(n),
                                d(c, function(t, e) {
                                    1 === t.nodeType && (t.style.display = r[e])
                                }),
                                a.isPrinting = !1,
                                e && a.setSize.apply(a, t),
                                o(a, "afterPrint")
                            }, 1e3)
                        }, 1))
                    },
                    contextMenu: function(e, a, r, o, l, h, p) {
                        var u, f = this, g = f.options.navigation, y = f.chartWidth, v = f.chartHeight, b = "cache-" + e, A = f[b], _ = Math.max(l, h);
                        A || (f.exportContextMenu = f[b] = A = s("div", {
                            className: e
                        }, {
                            position: "absolute",
                            zIndex: 1e3,
                            padding: _ + "px",
                            pointerEvents: "auto"
                        }, f.fixedDiv || f.container),
                        u = s("div", {
                            className: "highcharts-menu"
                        }, null, A),
                        c(u, m({
                            MozBoxShadow: "3px 3px 10px #888",
                            WebkitBoxShadow: "3px 3px 10px #888",
                            boxShadow: "3px 3px 10px #888"
                        }, g.menuStyle)),
                        A.hideMenu = function() {
                            c(A, {
                                display: "none"
                            }),
                            p && p.setState(0),
                            f.openMenu = !1,
                            t.clearTimeout(A.hideTimer)
                        }
                        ,
                        f.exportEvents.push(n(A, "mouseleave", function() {
                            A.hideTimer = setTimeout(A.hideMenu, 500)
                        }), n(A, "mouseenter", function() {
                            t.clearTimeout(A.hideTimer)
                        }), n(i, "mouseup", function(t) {
                            f.pointer.inClass(t.target, e) || A.hideMenu()
                        }), n(A, "click", function() {
                            f.openMenu && A.hideMenu()
                        })),
                        d(a, function(e) {
                            var i;
                            ("string" === typeof e && (e = f.options.exporting.menuItemDefinitions[e]),
                            t.isObject(e, !0)) && (e.separator ? i = s("hr", null, null, u) : ((i = s("div", {
                                className: "highcharts-menu-item",
                                onclick: function(t) {
                                    t && t.stopPropagation(),
                                    A.hideMenu(),
                                    e.onclick && e.onclick.apply(f, arguments)
                                },
                                innerHTML: e.text || f.options.lang[e.textKey]
                            }, null, u)).onmouseover = function() {
                                c(this, g.menuItemHoverStyle)
                            }
                            ,
                            i.onmouseout = function() {
                                c(this, g.menuItemStyle)
                            }
                            ,
                            c(i, m({
                                cursor: "pointer"
                            }, g.menuItemStyle))),
                            f.exportDivElements.push(i))
                        }),
                        f.exportDivElements.push(u, A),
                        f.exportMenuWidth = A.offsetWidth,
                        f.exportMenuHeight = A.offsetHeight),
                        a = {
                            display: "block"
                        },
                        r + f.exportMenuWidth > y ? a.right = y - r - l - _ + "px" : a.left = r - _ + "px",
                        o + h + f.exportMenuHeight > v && "top" !== p.alignOptions.verticalAlign ? a.bottom = v - o - _ + "px" : a.top = o + h - _ + "px",
                        c(A, a),
                        f.openMenu = !0
                    },
                    addButton: function(t) {
                        var e, i, a = this, n = a.renderer, r = h(a.options.navigation.buttonOptions, t), o = r.onclick, s = r.menuItems, l = r.symbolSize || 12;
                        if (a.btnCount || (a.btnCount = 0),
                        a.exportDivElements || (a.exportDivElements = [],
                        a.exportSVGElements = []),
                        !1 !== r.enabled) {
                            var c, d = r.theme, u = (f = d.states) && f.hover, f = f && f.select;
                            delete d.states,
                            o ? c = function(t) {
                                t && t.stopPropagation(),
                                o.call(a, t)
                            }
                            : s && (c = function(t) {
                                t && t.stopPropagation(),
                                a.contextMenu(i.menuClassName, s, i.translateX, i.translateY, i.width, i.height, i),
                                i.setState(2)
                            }
                            ),
                            r.text && r.symbol ? d.paddingLeft = p(d.paddingLeft, 25) : r.text || m(d, {
                                width: r.width,
                                height: r.height,
                                padding: 0
                            }),
                            (i = n.button(r.text, 0, 0, c, d, u, f).addClass(t.className).attr({
                                "stroke-linecap": "round",
                                title: p(a.options.lang[r._titleKey || r.titleKey], "")
                            })).menuClassName = t.menuClassName || "highcharts-menu-" + a.btnCount++,
                            r.symbol && (e = n.symbol(r.symbol, r.symbolX - l / 2, r.symbolY - l / 2, l, l, {
                                width: l,
                                height: l
                            }).addClass("highcharts-button-symbol").attr({
                                zIndex: 1
                            }).add(i)).attr({
                                stroke: r.symbolStroke,
                                fill: r.symbolFill,
                                "stroke-width": r.symbolStrokeWidth || 1
                            }),
                            i.add(a.exportingGroup).align(m(r, {
                                width: i.width,
                                x: p(r.x, a.buttonOffset)
                            }), !0, "spacingBox"),
                            a.buttonOffset += (i.width + r.buttonSpacing) * ("right" === r.align ? -1 : 1),
                            a.exportSVGElements.push(i, e)
                        }
                    },
                    destroyExport: function(e) {
                        var i = e ? e.target : this;
                        e = i.exportSVGElements;
                        var a, n = i.exportDivElements, o = i.exportEvents;
                        e && (d(e, function(t, e) {
                            t && (t.onclick = t.ontouchstart = null,
                            a = "cache-" + t.menuClassName,
                            i[a] && delete i[a],
                            i.exportSVGElements[e] = t.destroy())
                        }),
                        e.length = 0),
                        i.exportingGroup && (i.exportingGroup.destroy(),
                        delete i.exportingGroup),
                        n && (d(n, function(e, a) {
                            t.clearTimeout(e.hideTimer),
                            r(e, "mouseleave"),
                            i.exportDivElements[a] = e.onmouseout = e.onmouseover = e.ontouchstart = e.onclick = null,
                            l(e)
                        }),
                        n.length = 0),
                        o && (d(o, function(t) {
                            t()
                        }),
                        o.length = 0)
                    }
                }),
                v.menu = function(t, e, i, a) {
                    return ["M", t, e + 2.5, "L", t + i, e + 2.5, "M", t, e + a / 2 + .5, "L", t + i, e + a / 2 + .5, "M", t, e + a - 1.5, "L", t + i, e + a - 1.5]
                }
                ,
                a.prototype.renderExporting = function() {
                    var t = this
                      , e = t.options.exporting
                      , i = e.buttons
                      , a = t.isDirtyExporting || !t.exportSVGElements;
                    t.buttonOffset = 0,
                    t.isDirtyExporting && t.destroyExport(),
                    a && !1 !== e.enabled && (t.exportEvents = [],
                    t.exportingGroup = t.exportingGroup || t.renderer.g("exporting-group").attr({
                        zIndex: 3
                    }).add(),
                    u(i, function(e) {
                        t.addButton(e)
                    }),
                    t.isDirtyExporting = !1),
                    n(t, "destroy", t.destroyExport)
                }
                ,
                n(a, "init", function() {
                    var t = this;
                    d(["exporting", "navigation"], function(e) {
                        t[e] = {
                            update: function(i, a) {
                                t.isDirtyExporting = !0,
                                h(!0, t.options[e], i),
                                p(a, !0) && t.redraw()
                            }
                        }
                    })
                }),
                a.prototype.callbacks.push(function(t) {
                    t.renderExporting(),
                    n(t, "redraw", t.renderExporting)
                })
            }(t)
        }
        ,
        "object" === typeof t && t.exports ? t.exports = n : void 0 === (a = function() {
            return n
        }
        .call(e, i, e, t)) || (t.exports = a)
    },
    1462: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = (i(8),
        i(65))
          , l = i(1607)
          , c = i.n(l);
        e.a = o.a.View.extend({
            template: n.a.template(c.a),
            initialize: function(t) {
                if (this.reactComponent = t.reactComponent,
                !this.reactComponent)
                    throw Error("reactComponent is required!");
                this.additionalClasses = t.additionalClasses || "",
                this.args = t
            },
            render: function() {
                return this.$el.html(this.template({
                    additionalClasses: this.additionalClasses
                })),
                this.r = new s.a,
                this.r.renderComponent(this.reactComponent, this.$(".react-placeholder")[0], this.args.props),
                this
            },
            destroy: function() {
                this.r && this.r.removeComponent()
            }
        })
    },
    1463: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(1673)
          , o = n.a.Model.extend({
            idAttribute: "workoutId",
            url: function() {
                return "undefined" !== typeof this.get("workoutId") && null !== this.get("workoutId") ? "/proxy/workout-service/workout/" + this.get("workoutId") : "/proxy/workout-service/workout"
            },
            parse: function(t, e) {
                function i(t) {
                    var e = String(t.endConditionValue).split(".");
                    e && 2 === e.length && (e[1].length > 4 && (t.endConditionValue = parseFloat(e[0] + "." + e[1].substr(0, 4))))
                }
                function a(t) {
                    for (var e = 0, n = t.length; e < n; e += 1)
                        t[e] && i(t[e]),
                        t[e].workoutSteps && t[e].workoutSteps.length > 0 && a(t[e].workoutSteps)
                }
                if (t && t.poolLength && String(t.poolLength).indexOf(".") > -1 && t.workoutSegments && t.workoutSegments.length > 0)
                    for (var n = 0, r = t.workoutSegments.length; n < r; n += 1) {
                        var o = t.workoutSegments[n].workoutSteps;
                        o && a(o)
                    }
                return t
            },
            addExerciseNavigation: function() {
                for (var t = this.get("workoutSegments"), e = 0, i = 0; i < t[0].workoutSteps.length; i++)
                    if (t[0].workoutSteps[i].workoutSteps)
                        for (var a = 0; a < t[0].workoutSteps[i].workoutSteps.length; a++)
                            if (t[0].workoutSteps[i].workoutSteps[a].workoutSteps)
                                for (var n = 0; n < t[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].length; n++) {
                                    var o = t[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].category
                                      , s = t[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].exerciseName;
                                    r.a[o + "/" + s] && (t[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].exerciseNavigationIndex = e,
                                    t[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].exerciseSourceId = r.a[o + "/" + s],
                                    t[0].workoutSteps[i].workoutSteps[a].workoutSteps[n].workoutProvider = "MSN",
                                    e++)
                                }
                            else {
                                var l = t[0].workoutSteps[i].workoutSteps[a].category
                                  , c = t[0].workoutSteps[i].workoutSteps[a].exerciseName;
                                r.a[l + "/" + c] && (t[0].workoutSteps[i].workoutSteps[a].exerciseNavigationIndex = e,
                                t[0].workoutSteps[i].workoutSteps[a].exerciseSourceId = r.a[l + "/" + c],
                                t[0].workoutSteps[i].workoutSteps[a].workoutProvider = "MSN",
                                e++)
                            }
                    else {
                        var h = t[0].workoutSteps[i].category
                          , p = t[0].workoutSteps[i].exerciseName;
                        r.a[h + "/" + p] && (t[0].workoutSteps[i].exerciseNavigationIndex = e,
                        t[0].workoutSteps[i].exerciseSourceId = r.a[h + "/" + p],
                        t[0].workoutSteps[i].workoutProvider = "MSN",
                        e++)
                    }
            },
            removeExerciseNavigation: function() {
                for (var t = this.get("workoutSegments"), e = 0; e < t[0].workoutSteps.length; e++)
                    if (t[0].workoutSteps[e].workoutSteps)
                        for (var i = 0; i < t[0].workoutSteps[e].workoutSteps.length; i++)
                            if (t[0].workoutSteps[e].workoutSteps[i].workoutSteps)
                                for (var a = 0; a < t[0].workoutSteps[e].workoutSteps[i].workoutSteps[a].length; a++)
                                    delete t[0].workoutSteps[e].workoutSteps[i].workoutSteps[a].exerciseNavigationIndex;
                            else
                                delete t[0].workoutSteps[e].workoutSteps[i].exerciseNavigationIndex;
                    else
                        delete t[0].workoutSteps[e].exerciseNavigationIndex
            }
        });
        e.a = o
    },
    1470: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(32)
          , c = i(37)
          , h = i(1804)
          , p = i.n(h)
          , d = i(1805)
          , u = i.n(d)
          , m = i(1806)
          , f = i.n(m)
          , g = i(1807)
          , y = i.n(g)
          , v = i(1808)
          , b = i.n(v)
          , A = i(1809)
          , _ = i.n(A)
          , C = i(1810)
          , w = i.n(C)
          , x = i(1811)
          , S = i.n(x)
          , T = i(1812)
          , E = i.n(T)
          , k = i(1813)
          , L = i.n(k)
          , P = i(1814)
          , I = i.n(P)
          , z = o.a.View.extend({
            initialize: function(t) {
                this.template = n.a.template(t.templateHtml),
                this.additionalData = t.additionalData
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    additionalData: this.additionalData
                }))
            }
        })
          , B = l.a.extend({
            initialize: function(t) {
                if (!t.key)
                    throw "Key required for ModalHelpView";
                this.additionalData = t.additionalData || {},
                t.view = new z({
                    templateHtml: this.getTemplate(t.key),
                    additionalData: this.additionalData
                }),
                t.showFooter = !1,
                t.modalTitle || (t.modalTitle = this.getModalTitle(t.key)),
                null === t.modalTitle && (t.modalTitle = s.a.localize("help.running.dynamics.modal.title", this.getModalTitle(t.key))),
                l.a.prototype.initialize.call(this, t)
            },
            getTemplate: function(t) {
                switch (t) {
                case "directDoubleCadence":
                    return p.a;
                case "directGroundContactTime":
                    return f.a;
                case "directGroundContactTimeBalance":
                    return y.a;
                case "directVerticalOscillation":
                    return u.a;
                case "directVerticalRatio":
                    return b.a;
                case "directActivityClass":
                    return _.a;
                case "directPerformanceCondition":
                    return w.a;
                case "vectorAirDragWattsPerCdA":
                case "vectorAirDragCdA":
                    return S.a;
                case "directGrit":
                    return this.additionalData.ActivitiesUtil = c.a,
                    L.a;
                case "directRespirationRate":
                    return E.a;
                case "directFlow":
                    return this.additionalData.ActivitiesUtil = c.a,
                    I.a;
                default:
                    return s.a.localize(t)
                }
            },
            getModalTitle: function(t) {
                switch (t) {
                case "directDoubleCadence":
                    return s.a.localize("label_cadence");
                case "directGroundContactTime":
                    return s.a.localize("ACTIVITY_GROUND_CONTACT_TIME");
                case "directGroundContactTimeBalance":
                    return s.a.localize("help.running.dynamics.gct.balance");
                case "directVerticalOscillation":
                    return s.a.localize("ACTIVITY_VERTICAL_OSCILLATION");
                case "directVerticalRatio":
                    return s.a.localize("help.running.dynamics.vert.ratio");
                case "directPerformanceCondition":
                    return s.a.localize("help.performance.condition");
                case "vectorAirDragWattsPerCdA":
                case "vectorAirDragCdA":
                    return s.a.localize("help_vector_air_drag_cda");
                case "directGrit":
                    return s.a.localize("help.title");
                case "directFlow":
                case "directRespirationRate":
                    return s.a.localize("help.title");
                default:
                    return s.a.localize(t)
                }
            }
        });
        e.a = B
    },
    1471: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = {
            Paused: "paused",
            Playing: "playing"
        }
          , r = i.n(a).a.Model.extend({
            defaults: {
                x: 0,
                mode: n.Paused,
                xAxis: "sumDuration",
                min: 0,
                max: 9999999999
            },
            initialize: function(t) {
                this.on("change:max", this.onMaxChanged, this),
                this.on("change:min", this.onMinChanged, this),
                this.startFromBeginningOnNextStart = !1
            },
            togglePlayback: function() {
                this.get("mode") == n.Playing ? this.stopPlaying() : this.startPlaying()
            },
            startPlaying: function() {
                if (this.get("mode") != n.Playing) {
                    this.startFromBeginningOnNextStart && this.set("x", this.get("min"), {
                        silent: !0
                    }),
                    this.startFromBeginningOnNextStart = !1,
                    this.set("mode", n.Playing),
                    this.initPlayer();
                    var t = this;
                    this.timer = setInterval(function() {
                        t.run()
                    }, 0)
                }
            },
            initPlayer: function() {
                this.playbackStart = (new Date).getTime(),
                this.startValue = this.get("x"),
                this.loops = 0,
                this.skipTicks = 1e3 / 30,
                this.maxFrameSkip = 10,
                this.nextGameTick = (new Date).getTime()
            },
            stopPlaying: function() {
                clearInterval(this.timer),
                this.timer = null,
                this.set("mode", n.Paused)
            },
            onMaxChanged: function() {
                this.reset()
            },
            onMinChanged: function() {
                this.reset()
            },
            reset: function() {
                this.stopPlaying(),
                this.set("x", this.get("min"), {
                    silent: !0
                }),
                this.calculateStep()
            },
            calculateStep: function() {
                var t = this.get("max") - this.get("min");
                this.step = t > 0 ? t / 15e3 : 0
            },
            update: function() {
                var t = (new Date).getTime()
                  , e = this.startValue + (t - this.playbackStart) * this.step;
                e >= this.get("max") ? (e = this.get("max"),
                this.startFromBeginningOnNextStart = !0,
                this.stopPlaying(),
                this.set("x", e)) : this.set("x", e, {
                    silent: !0
                })
            },
            draw: function() {
                this.trigger("change:x")
            },
            run: function() {
                for (this.loops = 0; (new Date).getTime() > this.nextGameTick && this.loops < this.maxFrameSkip && this.timer; )
                    this.update(),
                    this.nextGameTick += this.skipTicks,
                    this.loops++;
                this.draw()
            }
        });
        r.Modes = n,
        e.a = r
    },
    1473: function(t, e, i) {
        "use strict";
        (function(t, a) {
            var n = i(0)
              , r = i.n(n)
              , o = i(8)
              , s = i(110)
              , l = i(1515)
              , c = i(1552)
              , h = i(81)
              , p = i(1633)
              , d = i.n(p)
              , u = {
                ON_RENDERED: "ON_RENDERED",
                ON_NEW_COMMENT: "ON_NEW_COMMENT",
                ON_CLOSE: "ON_CLOSE"
            }
              , m = r.a.View.extend({
                events: {
                    "click .show-previous-comments": "onShowMoreButtonClicked"
                },
                initialize: function(e) {
                    if (this.$commentSet = null,
                    this.initializePageCommentsView(e),
                    "undefined" === typeof e.viewerDisplayName)
                        throw "Viewer Display Name is required.";
                    this.showLikes = !0,
                    this.showHeader = !0,
                    this.viewerDisplayName = e.viewerDisplayName,
                    "undefined" !== typeof e.showHeader && (this.showHeader = e.showHeader),
                    "undefined" !== typeof e.showLikes && (this.showLikes = e.showLikes),
                    "undefined" !== typeof e.isChallengeCommentDisabled && (this.isChallengeCommentDisabled = e.isChallengeCommentDisabled),
                    this.isChallengeCommentDisabled && (this.showLikes = !1),
                    this.template = t.template(d.a),
                    this.collection || (this.collection = new s.a([],{
                        resourceType: this.conversation.resourceType,
                        resourceId: this.conversation.resourceId,
                        userGroupPk: this.conversation.userGroupPk,
                        conversation: this.conversation,
                        startRowNum: 0,
                        limit: 10
                    }),
                    this.collection.once("sync", function() {
                        this.render()
                    }, this),
                    this.collection.fetch())
                },
                initializePageCommentsView: function(t) {
                    if ("undefined" === typeof t.conversation)
                        throw "Conversation is required.";
                    this.conversation = t.conversation
                },
                render: function() {
                    this.showLockedText = !1,
                    this.collection.length > 0 && this.isChallengeCommentDisabled && (this.showLockedText = !0);
                    var t = this.template({
                        showHeader: this.showHeader,
                        isChallengeCommentDisabled: this.isChallengeCommentDisabled,
                        showLockedText: this.showLockedText,
                        Localizer: o.a
                    });
                    this.$el.html(t),
                    this.$commentSet = this.$(".comment-item");
                    var e = this;
                    this.$commentSet.on("scroll", function(t) {
                        e.onCommentsScrolled()
                    }),
                    this.isChallengeCommentDisabled ? this.$(".add.comment").removeClass("background-3") : this.renderAddCommentView(),
                    this.collection.each(function(t) {
                        this.createCommentView(t)
                    }, this),
                    this.collection.length > 0 && this.collection.hasMoreMembers() && this.$(".show-previous-comments").show()
                },
                renderAddCommentView: function() {
                    this.addCommentView = new l.a({
                        conversation: this.conversation,
                        resourceType: this.conversation.get("resourceType"),
                        resourceId: this.conversation.get("resourceId"),
                        el: this.$(".add.comment")
                    }),
                    this.addCommentView.on(l.a.Events.COMMENT_ADDED, this.onCommentAdded, this),
                    this.addCommentView.render()
                },
                onCommentAdded: function(t) {
                    this.collection.add(t),
                    this.createCommentView(t),
                    this.scrollToBottom(),
                    this.trigger(u.ON_NEW_COMMENT, this.conversation, t)
                },
                createCommentView: function(t) {
                    t.get("authorDisplayName");
                    var e = new c.a({
                        model: t,
                        conversation: this.conversation,
                        showLikes: this.showLikes
                    });
                    e.render(),
                    this.$commentSet.append(e.el)
                },
                onShowMoreButtonClicked: function(t) {
                    t.preventDefault(),
                    this.collection.once(h.a.Events.ON_MORE_MEMBERS_FETCHED, this.onFetchMoreSuccess, this),
                    this.collection.fetchNext()
                },
                onFetchMoreSuccess: function() {
                    this.render()
                },
                scrollToBottom: function() {
                    this.$commentSet.scrollTop(this.$commentSet.prop("scrollHeight"))
                },
                onCommentsScrolled: function(t) {
                    var e = a(".comment-item").scrollTop()
                      , i = a(".comment-item").innerHeight();
                    a(".comment-item")[0].scrollHeight - e == i ? a(".comment-fade-out").toggle(!1) : a(".comment-fade-out").toggle(!0)
                }
            });
            m.Events = u,
            e.a = m
        }
        ).call(this, i(9), i(10))
    },
    1480: function(t, e, i) {
        "use strict";
        i.d(e, "a", function() {
            return s
        }),
        i.d(e, "b", function() {
            return l
        });
        var a = i(58)
          , n = i(8)
          , r = i(1299)
          , o = i(40)
          , s = function(t, e) {
            var i = [];
            return t.forEach(function(t) {
                var n = a.a.parseISOUTC(t.startTimeGMT)
                  , s = a.a.parseISOUTC(t.endTimeGMT)
                  , l = r.a.findClosest(e.get("directTimestamp"), n)
                  , c = r.a.findClosest(e.get("directTimestamp"), s);
                i.push({
                    start: l,
                    end: c,
                    color: o.lightui_surface_4
                })
            }),
            i.map(function(t) {
                return {
                    from: t.start,
                    to: t.end,
                    color: t.color
                }
            })
        }
          , l = function(t, e, i, o, s, l, c, h) {
            var p = e.find(function(t) {
                var e = a.a.parseISOUTC(t.startTimeGMT)
                  , n = a.a.parseISOUTC(t.endTimeGMT)
                  , o = r.a.findClosest(i.get("directTimestamp"), e)
                  , l = r.a.findClosest(i.get("directTimestamp"), n)
                  , c = s ? s.x : 0;
                return c >= o && c <= l
            });
            return p ? "".concat(n.a.localize("surf_wave_label"), " ").concat(p.messageIndex + 1, "</br>").concat(o(l), " ").concat(c) : o(l) + " " + c
        }
    },
    1481: function(t, e, i) {
        "use strict";
        (function(t, a) {
            var n = i(9)
              , r = i.n(n)
              , o = i(8)
              , s = i(1448)
              , l = i(58)
              , c = i(1238)
              , h = i(88)
              , p = i(1397)
              , d = i(1449)
              , u = i(1482)
              , m = i.n(u)
              , f = p.a.extend({
                events: {
                    "mouseleave .dropdown": "onLeaveDropdown",
                    "mouseover #power-go-btn": "onGoHovered",
                    "click .range-item": "onRangeItemClicked",
                    "click .range-item-custom": "onCustomRangeClicked",
                    "click .btn-form": "onGoBtnClicked",
                    "mouseleave .range-item-custom": "onLeaveCustom"
                },
                template: r.a.template(m.a),
                customClasses: "chart-max-avg-power",
                render: function() {
                    this.$el.addClass(this.customClasses),
                    this.$el.html(this.template({
                        Localizer: o.a,
                        avgValue: ""
                    })),
                    this.$el.show(),
                    this.duration = this.activitySummary.get("duration"),
                    this.disableRanges(this.duration),
                    this.numberValidator = new c.a({
                        typeFormat: "integer",
                        minValue: 1,
                        maxValue: 999,
                        element: this.$(".time-input-field"),
                        required: !0,
                        reporter: new h.a({
                            message: function(t, e) {
                                return o.a.localize("error.custom.max.avg.invalid")
                            },
                            position: "top",
                            element: this.$(".time-input-field"),
                            container: this.$el
                        })
                    })
                },
                disableRanges: function(e) {
                    var i, a = this;
                    this.$(".range-item").each(function() {
                        (i = t(this).attr("data-timerange")) > e && a.$('.range-item[data-timerange="' + i + '"]').hide()
                    })
                },
                reset: function() {
                    this.populateLabel(d.a.formatLabel(-1)),
                    this.$("#avg-power-range-selector-value").text(""),
                    this.trigger(p.a.Events.RangeReset)
                },
                onRangeItemClicked: function(t) {
                    t.preventDefault(),
                    this.$("li").removeClass("active");
                    var e = a(t.currentTarget)
                      , i = +e.attr("data-timeRange");
                    if (e.addClass("active"),
                    -1 !== i) {
                        var n = d.a.formatLabel(i);
                        this.populateLabel(n),
                        this.$(".custom-max-avg-power").hide(),
                        this.$(".custom-max-avg-power-toggle").show(),
                        this.fetchPower(i)
                    } else
                        this.reset()
                },
                populateLabel: function(t) {
                    this.$(".chart-header-item").html(t + '<i class="icon-pointer-down"></i>')
                },
                onCustomRangeClicked: function(t) {
                    t.preventDefault(),
                    t.stopPropagation(),
                    this.$("li").removeClass("active"),
                    this.$(".custom-max-avg-power").show(),
                    this.$(".custom-max-avg-power-toggle").hide()
                },
                onGoBtnClicked: function(t) {
                    if (t.preventDefault(),
                    !this.$("#power-go-btn").is("[disabled=disabled]")) {
                        this.$(".dropdown").removeClass("open");
                        var e = this.$(".time-input-field").val();
                        if (e) {
                            var i = e = +e
                              , a = this.$(".min-sec-selection").val();
                            "min" === a && (i *= 60),
                            this.fetchPower(i),
                            this.populateLabel(d.a.getCustomDurationLabelValue(e, a))
                        }
                    }
                },
                fetchPower: function(t) {
                    var e = new s.a({
                        activityId: this.activitySummary.id,
                        duration: t,
                        startTimeMilliseconds: l.a.parseISOUTC(this.activitySummary.get("startTimeGMT")).getTime()
                    });
                    e.once("sync", this.onPowerFetched, this),
                    e.once("error", this.onPowerFetchedFailed, this),
                    e.fetch()
                },
                onPowerFetched: function(t) {
                    var e = t.getEndTime() - t.getStartTime() + 1;
                    "sumDuration" === this.xAxisType ? (this.$("#avg-power-range-selector-value").text(d.a.formatAvgTimeValue(t.getStartTime(), t.getEndTime(), t.getValue())),
                    this.trigger(p.a.Events.RangeSelected, t.getStartTime(), t.getEndTime(), e)) : (this.$("#avg-power-range-selector-value").text(d.a.formatAvgDistanceValue(t.getStartDistance(), t.getEndDistance(), t.getValue())),
                    this.trigger(p.a.Events.RangeSelected, t.getStartDistance(), t.getEndDistance(), e))
                },
                onPowerFetchedFailed: function() {
                    alert(o.a.localize("error_calculating_max_avg_power")),
                    this.reset()
                },
                setChartRangeSelector: function(t, e, i, a) {
                    if (a) {
                        var n, r = "sec";
                        d.a.isCustomRange(a) && a % 60 === 0 && (a /= 60,
                        r = "min"),
                        n = d.a.isCustomRange(a) ? d.a.getCustomDurationLabelValue(a, r) : d.a.formatLabel(a),
                        this.populateLabel(n),
                        -1 === a ? this.$("#avg-power-range-selector-value").text("") : "sumDuration" === this.xAxisType ? this.$("#avg-power-range-selector-value").text(d.a.formatAvgTimeValue(t, e, i)) : this.$("#avg-power-range-selector-value").text(d.a.formatAvgDistanceValue(t, e, i))
                    }
                },
                onLeaveDropdown: function() {
                    !this.$(".dropdown").hasClass("open") && this.numberValidator && this.numberValidator.clearReport()
                },
                onGoHovered: function() {
                    var t = +this.$(".time-input-field").val()
                      , e = this.$("select.input-small.min-sec-selection").val()
                      , i = this.$("#power-go-btn")
                      , a = 1;
                    "min" === e && (a = 60),
                    (t *= a) > this.duration ? this.numberValidator.report(t, c.a.Errors.OutOfRange) : this.numberValidator.clearReport(),
                    0 !== this.$(".tooltip-error:visible").length || 0 === t ? i.addClass("disabled").attr("disabled", "disabled") : i.removeClass("disabled").removeAttr("disabled")
                },
                onLeaveCustom: function() {
                    this.numberValidator && this.numberValidator.clearReport()
                }
            });
            e.a = f
        }
        ).call(this, i(10), i(10))
    },
    1482: function(t, e) {
        t.exports = '<div class="dropdown">\n    <button class="dropdown-toggle chart-header-item" data-toggle="dropdown">\n        <%- Localizer.localize(\'avg_power_max_avg\', Localizer.localize(\'avg_power_range_none\')) %><i class="icon-pointer-down"></i>\n    </button>\n    <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu">\n        <li data-timerange="-1" class="active range-item"><a tabindex="-1" href="#"><%- Localizer.localize(\'avg_power_range_none\') %></a></li>\n        <li data-timerange="5" class="range-item"><a tabindex="-1" href="#"><%- Localizer.localize(\'avg_power_range_customsec\', 5) %></a></li>\n        <li data-timerange="60" class="range-item"><a tabindex="-1" href="#"><%- Localizer.localize(\'avg_power_range_custommin\', 1) %></a></li>\n        <li data-timerange="300" class="range-item"><a tabindex="-1" href="#"><%- Localizer.localize(\'avg_power_range_custommin\', 5) %></a></li>\n        <li data-timerange="1200" class="range-item"><a tabindex="-1" href="#"><%- Localizer.localize(\'avg_power_range_custommin\', 20) %></a></li>\n        <li class="divider"></li>\n        <li class="range-item-custom">\n            <a tabindex="-1" href="#" class="custom-max-avg-power-toggle"><%- Localizer.localize(\'avg_power_range_custom\') %></a>\n            <div class="custom-max-avg-power" style="display: none;">\n                <input type="text" class="input-mini time-input-field" maxlength="3">\n                <select class="input-small min-sec-selection">\n                    <option value="min"><%- Localizer.localize(\'avg_power_range_unit_min\') %></option>\n                    <option value="sec"><%- Localizer.localize(\'avg_power_range_unit_sec\') %></option>\n                </select>\n                <div id="power-go-btn" class="btn btn-form"><%- Localizer.localize(\'avg_power_calculate_btn\') %></div>\n            </div>\n        </li>\n    </ul>\n    <span id="avg-power-range-selector-value" class="chart-max-avg-power-detail"><%- avgValue %></span>\n</div>'
    },
    1485: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = (i(13),
        {
            SAVE_SUCCSS: "SAVE_SUCCESS",
            SAVE_ERROR: "SAVE_ERROR"
        })
          , l = o.a.Model.extend({
            idAttribute: "activityId",
            url: function() {
                return "/modern/proxy/activity-service/activity/" + this.activityId + "/exerciseSets"
            },
            initialize: function(t) {
                if ("undefined" === typeof t.activityId)
                    throw "RepCountingActivity requires an activity ID";
                this.activityId = t.activityId
            },
            getTotalTime: function() {
                var t = this.get("exerciseSets")
                  , e = 0;
                if (t)
                    for (var i = 0, a = t.length; i < a; i++)
                        e += t[i].duration;
                return e
            },
            getAverageTimePerActiveExercise: function() {
                var t = this.get("exerciseSets")
                  , e = 0
                  , i = 0;
                if (t) {
                    for (var a = 0, n = t.length; a < n; a++)
                        "REST" !== t[a].setType && (e += t[a].duration,
                        i++);
                    return e > 0 && i > 0 ? e / i : null
                }
                return null
            },
            getWorkTime: function() {
                var t = this.get("exerciseSets")
                  , e = 0;
                if (t)
                    for (var i = 0, a = t.length; i < a; i++)
                        "REST" !== t[i].setType && (e += t[i].duration);
                return e
            },
            getRestTime: function() {
                var t = this.get("exerciseSets")
                  , e = 0;
                if (t)
                    for (var i = 0, a = t.length; i < a; i++)
                        "REST" === t[i].setType && (e += t[i].duration);
                return e
            },
            getActiveSetCount: function() {
                var t = this.get("exerciseSets")
                  , e = 0;
                if (t)
                    for (var i = 0, a = t.length; i < a; i++)
                        "REST" !== t[i].setType && e++;
                else
                    e += 1;
                return e
            },
            getTotalRepCount: function() {
                var t = this.get("exerciseSets")
                  , e = 0;
                if (t)
                    for (var i = 0, a = t.length; i < a; i++)
                        "REST" !== t[i].setType && (e += t[i].repetitionCount);
                return e
            },
            getTotalVolume: function() {
                var t, e = this.get("exerciseSets"), i = 0;
                if (e)
                    for (var a = 0, n = e.length; a < n; a++)
                        "REST" !== (t = e[a]).setType && t.weight > 0 && (i += t.weight * t.repetitionCount);
                return i
            },
            getConsolidatedJSON: function() {
                var t = this.get("exerciseSets")
                  , e = []
                  , i = this;
                return n.a.each(t, function(t) {
                    "REST" === t.setType ? e.length > 0 && (e[e.length - 1].rest || (e[e.length - 1].rest = 0),
                    e[e.length - 1].rest += t.duration) : (t.exerciseType = i.getExerciseType(t.exercises),
                    e.push(t))
                }),
                e
            },
            getExerciseType: function(t) {
                var e = "choose_an_exercise"
                  , i = 0;
                return t && t.length > 0 && n.a.each(t, function(t) {
                    t.probability > i && (i = t.probability,
                    t.name ? e = t.name : "UNKNOWN" !== t.category ? e = null : "UNKNOWN" === t.category && (i = 24.9999999999))
                }),
                e
            },
            getEmptySetJSON: function(t) {
                return {
                    startTimeGMT: "",
                    duration: t || "",
                    exerciseType: "choose_an_exercise",
                    repCount: "",
                    weight: "",
                    exercises: [],
                    rest: ""
                }
            },
            splitEditResults: function(t) {
                for (var e = [], i = null, a = 0; a < t.length; a++)
                    n.a.isUndefined(t[a].rest) || 0 === t[a].rest ? (i = null,
                    delete t[a].rest) : (i = this.createRestSet(t[a].rest),
                    delete t[a].rest),
                    e.push(t[a]),
                    i && e.push(i);
                this.set({
                    exerciseSets: e
                }),
                this.once("sync", this.saveSuccess, this),
                this.once("error", this.saveError, this),
                this.save()
            },
            createRestSet: function(t) {
                return {
                    setType: "REST",
                    duration: t,
                    exercises: [],
                    repetitionCount: null,
                    weight: -1,
                    startTime: null
                }
            },
            saveSuccess: function() {
                this.trigger(s.SAVE_SUCCSS),
                this.off("error")
            },
            saveError: function() {
                this.trigger(s.SAVE_ERROR),
                this.off("sync")
            }
        });
        l.UNKNOWN_PROBABILITY_OVERRIDE = 24.9999999999,
        l.Events = s,
        e.a = l
    },
    1488: function(t, e, i) {
        var a = i(1489);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    1489: function(t, e, i) {
        (e = t.exports = i(29)(!0)).i(i(98), void 0),
        e.push([t.i, ".MapFilterProvider_mapFilterProvider__2Glrx {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    z-index: 6;\n    width: auto;\n    margin-right: 0;\n    cursor: pointer;\n}\n.MapFilterProvider_mapFilterTrigger__1Or9j,\n.MapFilterProvider_mapFilterDetail__3J4LK {\n    width: 150px;\n}\n.MapFilterProvider_open__1LwGg .MapFilterProvider_mapFilterDetail__3J4LK {\n    height: 65px;\n}\n.MapFilterProvider_mapFilterProvider__2Glrx a {\n    text-decoration: none;\n    color: " + i(98).locals.textDark + ";\n}\n.MapFilterProvider_mapFilterProvider__2Glrx a:hover {\n    color: " + i(98).locals.blue_dark_2 + ";\n}\n.MapFilterProvider_mapFilterProvider__2Glrx .MapFilterProvider_active__2vVxM a {\n    color: " + i(98).locals.blue_dark_1 + "; /* blue */\n}\n.MapFilterProvider_mapFilterDetail__3J4LK li {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n.MapFilterProvider_mapFilterLabel__3Fy9Z,\n.MapFilterProvider_mapFilterDetail__3J4LK li {\n    max-width: 130px;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/Map/components/MapFilterProvider.css"],
            names: [],
            mappings: "AAEA;IACI,mBAAkB;IAClB,UAAS;IACT,YAAW;IACX,WAAU;IACV,YAAW;IACX,gBAAe;IACf,gBAAe;CACnB;AAEA;;IAEI,aAAY;CAChB;AAEA;IACI,aAAY;CAChB;AAEA;IACI,sBAAqB;IACrB,mCAAe;CACnB;AAEA;IACI,mCAAkB;CACtB;AAEA;IACI,mCAAkB,CAAE,UAAS;CACjC;AAEA;IACI,iBAAgB;IAChB,wBAAuB;IACvB,oBAAmB;CACvB;AAEA;;IAEI,iBAAgB;CACpB",
            file: "MapFilterProvider.css",
            sourcesContent: ["@value (blue_dark_1, blue_dark_2, textDark) from 'ui-connect/styles/colors.module.css';\n\n.mapFilterProvider {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    z-index: 6;\n    width: auto;\n    margin-right: 0;\n    cursor: pointer;\n}\n\n.mapFilterTrigger,\n.mapFilterDetail {\n    width: 150px;\n}\n\n.open .mapFilterDetail {\n    height: 65px;\n}\n\n.mapFilterProvider a {\n    text-decoration: none;\n    color: textDark;\n}\n\n.mapFilterProvider a:hover {\n    color: blue_dark_2;\n}\n\n.mapFilterProvider .active a {\n    color: blue_dark_1; /* blue */\n}\n\n.mapFilterDetail li {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n\n.mapFilterLabel,\n.mapFilterDetail li {\n    max-width: 130px;\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            blue_dark_1: "" + i(98).locals.blue_dark_1,
            blue_dark_2: "" + i(98).locals.blue_dark_2,
            textDark: "" + i(98).locals.textDark,
            mapFilterProvider: "MapFilterProvider_mapFilterProvider__2Glrx",
            mapFilterTrigger: "MapFilterProvider_mapFilterTrigger__1Or9j",
            mapFilterDetail: "MapFilterProvider_mapFilterDetail__3J4LK",
            open: "MapFilterProvider_open__1LwGg",
            active: "MapFilterProvider_active__2vVxM",
            mapFilterLabel: "MapFilterProvider_mapFilterLabel__3Fy9Z"
        }
    },
    1490: function(t, e, i) {
        (e = t.exports = i(29)(!0)).i(i(98), void 0),
        e.push([t.i, ".MapLayersProvider_mapLayers__Xkn6G {\n    position: absolute;\n    top: 65px;\n    right: 20px;\n    z-index: 5;\n}\n.MapLayersProvider_mapLayer__3r5_x {\n    display: block;\n    clear: left;\n    padding: 0 10px;\n    margin-bottom: 0;\n    width: 150px;\n    height: 0;\n    overflow: hidden;\n    line-height: 35px;\n\n    max-width: 95%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n\n    font-size: 12px;\n    color: " + i(98).locals.textMedium + ";\n    opacity: 0;\n    text-decoration: none;\n    transition: height, opacity 0.3s ease;\n}\n.MapLayersProvider_mapLayer__3r5_x.MapLayersProvider_active__1UwiZ {\n    height: 35px;\n    margin-bottom: 10px;\n    opacity: 1;\n}\n.MapLayersProvider_mapLayer__3r5_x:hover,\n.MapLayersProvider_mapLayer__3r5_x:focus {\n    color: " + i(98).locals.textDark + ";\n    text-decoration: none;\n}\n.MapLayersProvider_mapLayer__3r5_x:hover,\n.MapLayersProvider_mapLayer__3r5_x:active {\n    box-shadow: inset 0 0 0 2px " + i(98).locals.secondary + ";\n}\n.MapLayersProvider_mapLayer__3r5_x.MapLayersProvider_selected__1eg-G {\n    color: " + i(98).locals.textLight + ";\n    background: " + i(98).locals.secondary + ";\n    box-shadow: none;\n}\n.MapLayersProvider_mapLayer__3r5_x.MapLayersProvider_selected__1eg-G:hover,\n.MapLayersProvider_mapLayer__3r5_x.MapLayersProvider_selected__1eg-G:active {\n    box-shadow: inset 0 0 0 2px " + i(98).locals.secondary + ";\n}\n.MapLayersProvider_mapLayer__3r5_x .MapLayersProvider_icon-checkmark__qeNeF {\n    float: right;\n    margin-top: 10px;\n    width: 0;\n    overflow: hidden;\n    color: " + i(98).locals.textLight + ";\n    transition: width 0.2s ease;\n}\n.MapLayersProvider_mapLayer__3r5_x.MapLayersProvider_selected__1eg-G .MapLayersProvider_icon-checkmark__qeNeF {\n    width: 12px;\n}\n.MapLayersProvider_mapLayer__3r5_x:active,\n.MapLayersProvider_mapLayer__3r5_x.MapLayersProvider_selected__1eg-G:active {\n    box-shadow: none;\n}\n.MapLayersProvider_layerTileStyle__1kZn2.MapLayersProvider_active__1UwiZ {\n    height: 85px;\n    background: 0 0 / 170px 170px no-repeat;\n    box-shadow: inset 0 0 0 2px " + i(98).locals.color_104 + ";\n}\n.MapLayersProvider_map-provider-google__2qo1S .MapLayersProvider_layerTileStyle__1kZn2,\n.MapLayersProvider_map-provider-here__24top .MapLayersProvider_layer-tile-style__7_rrk {\n    float: left;\n    clear: none;\n    width: 62.5px;\n    background: 0 0 / 85px 85px no-repeat;\n}\n.MapLayersProvider_map-provider-google__2qo1S .MapLayersProvider_layerTileStyle__1kZn2 + .MapLayersProvider_layerTileStyle__1kZn2,\n.MapLayersProvider_map-provider-here__24top .MapLayersProvider_layerTileStyle__1kZn2 + .MapLayersProvider_layerTileStyle__1kZn2 {\n    margin-left: 5px;\n}\n.MapLayersProvider_layerTileStyleLabel___MwkQ {\n    position: relative;\n    left: -10px;\n    display: inline-block;\n    margin-top: 55px;\n    padding: 0 10px;\n    width: 100%;\n    height: 30px;\n    line-height: 30px;\n    color: " + i(98).locals.textMedium + ";\n    background: " + i(98).locals.color_104 + ";\n}\n.MapLayersProvider_layerTileStyleText__BOLXK {\n    display: inline-block;\n    max-width: 95%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n.MapLayersProvider_layerTileStyleLabel___MwkQ .MapLayersProvider_icon-checkmark__qeNeF {\n    margin-top: 7px;\n}\n.MapLayersProvider_layerTileStyle__1kZn2.MapLayersProvider_active__1UwiZ:hover {\n    box-shadow: inset 0 0 0 2px " + i(98).locals.secondary + ";\n}\n.MapLayersProvider_layerTileStyle__1kZn2:hover .MapLayersProvider_layerTileStyleLabel___MwkQ {\n    color: " + i(98).locals.textLight + ";\n    background: " + i(98).locals.secondary + ';\n}\n/* TODO: move these to react\n.page.diving .map-provider-bing .layer-tile-default {\nbackground-image: url("../images/map/tile-thumbnail/bing-default-@2x.jpg");\n}\n.page.diving .map-provider-bing .layer-tile-satellite {\nbackground-image: url("../images/map/tile-thumbnail/bing-satellite-@2x.jpg");\n}\n.page.diving .map-provider-google .layer-tile-default {\nbackground-image: url("../images/map/tile-thumbnail/google-default-@2x.jpg");\n}\n.page.diving .map-provider-google .layer-tile-satellite {\nbackground-image: url("../images/map/tile-thumbnail/google-satellite-@2x.jpg");\n}\n.page.diving .map-provider-google .layer-tile-terrain {\nbackground-image: url("../images/map/tile-thumbnail/google-terrain-@2x.jpg");\n}\n\n.page.diving .map-provider-here .layer-tile-default {\n    background-image: url("../images/map/tile-thumbnail/here-default-@2x.jpg");\n}\n.page.diving .map-provider-here .layer-tile-satellite {\n    background-image: url("../images/map/tile-thumbnail/here-satellite-@2x.jpg");\n}\n.page.diving .map-provider-here .layer-tile-terrain {\n    background-image: url("../images/map/tile-thumbnail/here-terrain-@2x.jpg");\n} */\n', "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/Map/components/MapLayersProvider.css"],
            names: [],
            mappings: "AAEA;IACI,mBAAkB;IAClB,UAAS;IACT,YAAW;IACX,WAAU;CACd;AACA;IACI,eAAc;IACd,YAAW;IACX,gBAAe;IACf,iBAAgB;IAChB,aAAY;IACZ,UAAS;IACT,iBAAgB;IAChB,kBAAiB;;IAEjB,eAAc;IACd,iBAAgB;IAChB,wBAAuB;IACvB,oBAAmB;;IAEnB,gBAAe;IACf,mCAAiB;IACjB,WAAU;IACV,sBAAqB;IACrB,sCAAqC;CACzC;AACA;IACI,aAAY;IACZ,oBAAmB;IACnB,WAAU;CACd;AACA;;IAEI,mCAAe;IACf,sBAAqB;CACzB;AACA;;IAEI,wDAAqC;CACzC;AACA;IACI,mCAAgB;IAChB,wCAAqB;IACrB,iBAAgB;CACpB;AACA;;IAEI,wDAAqC;CACzC;AACA;IACI,aAAY;IACZ,iBAAgB;IAChB,SAAQ;IACR,iBAAgB;IAChB,mCAAgB;IAChB,4BAA2B;CAC/B;AACA;IACI,YAAW;CACf;AACA;;IAEI,iBAAgB;CACpB;AACA;IACI,aAAY;IACZ,wCAAuC;IACvC,wDAAqC;CACzC;AACA;;IAEI,YAAW;IACX,YAAW;IACX,cAAa;IACb,sCAAqC;CACzC;AACA;;IAEI,iBAAgB;CACpB;AACA;IACI,mBAAkB;IAClB,YAAW;IACX,sBAAqB;IACrB,iBAAgB;IAChB,gBAAe;IACf,YAAW;IACX,aAAY;IACZ,kBAAiB;IACjB,mCAAiB;IACjB,wCAAqB;CACzB;AACA;IACI,sBAAqB;IACrB,eAAc;IACd,iBAAgB;IAChB,wBAAuB;IACvB,oBAAmB;CACvB;AACA;IACI,gBAAe;CACnB;AACA;IACI,wDAAqC;CACzC;AACA;IACI,mCAAgB;IAChB,wCAAqB;CACzB;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;IAyBG",
            file: "MapLayersProvider.css",
            sourcesContent: ['@value (textLight, textMedium, textDark, secondary, color_104) from \'ui-connect/styles/colors.module.css\';\n\n.mapLayers {\n    position: absolute;\n    top: 65px;\n    right: 20px;\n    z-index: 5;\n}\n.mapLayer {\n    display: block;\n    clear: left;\n    padding: 0 10px;\n    margin-bottom: 0;\n    width: 150px;\n    height: 0;\n    overflow: hidden;\n    line-height: 35px;\n\n    max-width: 95%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n\n    font-size: 12px;\n    color: textMedium;\n    opacity: 0;\n    text-decoration: none;\n    transition: height, opacity 0.3s ease;\n}\n.mapLayer.active {\n    height: 35px;\n    margin-bottom: 10px;\n    opacity: 1;\n}\n.mapLayer:hover,\n.mapLayer:focus {\n    color: textDark;\n    text-decoration: none;\n}\n.mapLayer:hover,\n.mapLayer:active {\n    box-shadow: inset 0 0 0 2px secondary;\n}\n.mapLayer.selected {\n    color: textLight;\n    background: secondary;\n    box-shadow: none;\n}\n.mapLayer.selected:hover,\n.mapLayer.selected:active {\n    box-shadow: inset 0 0 0 2px secondary;\n}\n.mapLayer .icon-checkmark {\n    float: right;\n    margin-top: 10px;\n    width: 0;\n    overflow: hidden;\n    color: textLight;\n    transition: width 0.2s ease;\n}\n.mapLayer.selected .icon-checkmark {\n    width: 12px;\n}\n.mapLayer:active,\n.mapLayer.selected:active {\n    box-shadow: none;\n}\n.layerTileStyle.active {\n    height: 85px;\n    background: 0 0 / 170px 170px no-repeat;\n    box-shadow: inset 0 0 0 2px color_104;\n}\n.map-provider-google .layerTileStyle,\n.map-provider-here .layer-tile-style {\n    float: left;\n    clear: none;\n    width: 62.5px;\n    background: 0 0 / 85px 85px no-repeat;\n}\n.map-provider-google .layerTileStyle + .layerTileStyle,\n.map-provider-here .layerTileStyle + .layerTileStyle {\n    margin-left: 5px;\n}\n.layerTileStyleLabel {\n    position: relative;\n    left: -10px;\n    display: inline-block;\n    margin-top: 55px;\n    padding: 0 10px;\n    width: 100%;\n    height: 30px;\n    line-height: 30px;\n    color: textMedium;\n    background: color_104;\n}\n.layerTileStyleText {\n    display: inline-block;\n    max-width: 95%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n.layerTileStyleLabel .icon-checkmark {\n    margin-top: 7px;\n}\n.layerTileStyle.active:hover {\n    box-shadow: inset 0 0 0 2px secondary;\n}\n.layerTileStyle:hover .layerTileStyleLabel {\n    color: textLight;\n    background: secondary;\n}\n\n/* TODO: move these to react\n.page.diving .map-provider-bing .layer-tile-default {\nbackground-image: url("../images/map/tile-thumbnail/bing-default-@2x.jpg");\n}\n.page.diving .map-provider-bing .layer-tile-satellite {\nbackground-image: url("../images/map/tile-thumbnail/bing-satellite-@2x.jpg");\n}\n.page.diving .map-provider-google .layer-tile-default {\nbackground-image: url("../images/map/tile-thumbnail/google-default-@2x.jpg");\n}\n.page.diving .map-provider-google .layer-tile-satellite {\nbackground-image: url("../images/map/tile-thumbnail/google-satellite-@2x.jpg");\n}\n.page.diving .map-provider-google .layer-tile-terrain {\nbackground-image: url("../images/map/tile-thumbnail/google-terrain-@2x.jpg");\n}\n\n.page.diving .map-provider-here .layer-tile-default {\n    background-image: url("../images/map/tile-thumbnail/here-default-@2x.jpg");\n}\n.page.diving .map-provider-here .layer-tile-satellite {\n    background-image: url("../images/map/tile-thumbnail/here-satellite-@2x.jpg");\n}\n.page.diving .map-provider-here .layer-tile-terrain {\n    background-image: url("../images/map/tile-thumbnail/here-terrain-@2x.jpg");\n} */\n'],
            sourceRoot: ""
        }]),
        e.locals = {
            textLight: "" + i(98).locals.textLight,
            textMedium: "" + i(98).locals.textMedium,
            textDark: "" + i(98).locals.textDark,
            secondary: "" + i(98).locals.secondary,
            color_104: "" + i(98).locals.color_104,
            mapLayers: "MapLayersProvider_mapLayers__Xkn6G",
            mapLayer: "MapLayersProvider_mapLayer__3r5_x",
            active: "MapLayersProvider_active__1UwiZ",
            selected: "MapLayersProvider_selected__1eg-G",
            "icon-checkmark": "MapLayersProvider_icon-checkmark__qeNeF",
            layerTileStyle: "MapLayersProvider_layerTileStyle__1kZn2",
            "map-provider-google": "MapLayersProvider_map-provider-google__2qo1S",
            "map-provider-here": "MapLayersProvider_map-provider-here__24top",
            "layer-tile-style": "MapLayersProvider_layer-tile-style__7_rrk",
            layerTileStyleLabel: "MapLayersProvider_layerTileStyleLabel___MwkQ",
            layerTileStyleText: "MapLayersProvider_layerTileStyleText__BOLXK"
        }
    },
    1491: function(t, e, i) {
        var a = i(1492);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    1492: function(t, e, i) {
        (e = t.exports = i(29)(!0)).i(i(98), void 0),
        e.push([t.i, ".MapLayerButton_selected__3iqdA {\n    color: " + i(98).locals.textLight + ";\n    background: " + i(98).locals.secondary + ";\n    box-shadow: none;\n}\n.MapLayerButton_selected__3iqdA:hover,\n.MapLayerButton_selected__3iqdA:focus {\n    color: " + i(98).locals.textLight + ";\n    background: " + i(98).locals.secondary + ";\n}\n.MapLayerButton_selected__3iqdA .MapLayerButton_iconCheckmark__1IOdG {\n    width: 12px;\n}\n.MapLayerButton_selected__3iqdA .MapLayerButton_button-text__l7gBN {\n    color: " + i(98).locals.textLight + ";\n    background: " + i(98).locals.secondary + ";\n}\n.MapLayerButton_iconCheckmark__1IOdG {\n    float: right;\n    margin-top: 3px;\n    width: 0;\n    overflow: hidden;\n    color: " + i(98).locals.textLight + ";\n    transition: width 0.2s ease;\n}\n.MapLayerButton_iconCheckmark__1IOdG:before {\n    content: '\\2714';\n}\n.MapLayerButton_selected__3iqdA[class*='active'],\n.MapLayerButton_selected__3iqdA[class*='active']:hover,\n.MapLayerButton_selected__3iqdA[class*='active']:focus {\n    color: " + i(98).locals.textLight + " !important;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/Map/components/mapLayerProviders/MapLayerButton.css"],
            names: [],
            mappings: "AAEA;IACI,mCAAgB;IAChB,wCAAqB;IACrB,iBAAgB;CACpB;AACA;;IAEI,mCAAgB;IAChB,wCAAqB;CACzB;AACA;IACI,YAAW;CACf;AACA;IACI,mCAAgB;IAChB,wCAAqB;CACzB;AACA;IACI,aAAY;IACZ,gBAAe;IACf,SAAQ;IACR,iBAAgB;IAChB,mCAAgB;IAChB,4BAA2B;CAC/B;AAEA;IACI,iBAAgB;CACpB;AACA;;;IAGI,8CAA2B;CAC/B",
            file: "MapLayerButton.css",
            sourcesContent: ["@value (textLight, secondary) from 'ui-connect/styles/colors.module.css';\n\n.selected {\n    color: textLight;\n    background: secondary;\n    box-shadow: none;\n}\n.selected:hover,\n.selected:focus {\n    color: textLight;\n    background: secondary;\n}\n.selected .iconCheckmark {\n    width: 12px;\n}\n.selected .button-text {\n    color: textLight;\n    background: secondary;\n}\n.iconCheckmark {\n    float: right;\n    margin-top: 3px;\n    width: 0;\n    overflow: hidden;\n    color: textLight;\n    transition: width 0.2s ease;\n}\n\n.iconCheckmark:before {\n    content: '\\2714';\n}\n.selected[class*='active'],\n.selected[class*='active']:hover,\n.selected[class*='active']:focus {\n    color: textLight !important;\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            textLight: "" + i(98).locals.textLight,
            secondary: "" + i(98).locals.secondary,
            selected: "MapLayerButton_selected__3iqdA",
            iconCheckmark: "MapLayerButton_iconCheckmark__1IOdG",
            "button-text": "MapLayerButton_button-text__l7gBN"
        }
    },
    1493: function(t, e, i) {
        var a = i(1494);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    1494: function(t, e, i) {
        (e = t.exports = i(29)(!0)).push([t.i, "\n\n.MapZoom_wrapper__VOTDe.MapZoom_course__SJwgW {\n    bottom: 62px;\n    position: absolute;\n    right: 12px;\n    z-index: 6;\n}\n\n.MapZoom_zoomButton__8Z-3z.MapZoom_course__SJwgW {\n    background: rgba(255, 255, 255, 0.95);\n    border-bottom: 0;\n    display: block;\n    position: relative;\n    text-align: center;\n    width: 35px;\n    height: 35px;\n    line-height: 40px;\n    border: 1px solid #aaa;\n    box-shadow: 0 1px 0 0 rgba(0, 0, 0, 0.2);\n    cursor: pointer;\n}\n\n.MapZoom_zoomInButton__1vqlw.MapZoom_course__SJwgW {\n    border-radius: 4px 4px 0 0;\n    border-bottom: 0;\n}\n\n.MapZoom_zoomOutButton__2wCTi.MapZoom_course__SJwgW {\n    border-radius: 0 0 4px 4px;\n}\n\n.MapZoom_wrapper__VOTDe.MapZoom_activity__mqRpl {\n    position: absolute;\n    z-index: 2;\n    display: -webkit-inline-flex;\n    display: inline-flex;\n    top: 10px;\n    left: 10px;\n}\n\n.MapZoom_zoomButton__8Z-3z.MapZoom_activity__mqRpl {\n}\n\n.MapZoom_zoomInButton__1vqlw.MapZoom_activity__mqRpl {\n    margin-right: 5px;\n}\n\n.MapZoom_zoomOutButton__2wCTi.MapZoom_activity__mqRpl {\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/Map/components/overlays/MapZoom.css"],
            names: [],
            mappings: ";;AAAA;IACI,aAAY;IACZ,mBAAkB;IAClB,YAAW;IACX,WAAU;CACd;;AAEA;IACI,sCAAqC;IACrC,iBAAgB;IAChB,eAAc;IACd,mBAAkB;IAClB,mBAAkB;IAClB,YAAW;IACX,aAAY;IACZ,kBAAiB;IACjB,uBAAsB;IACtB,yCAAwC;IACxC,gBAAe;CACnB;;AAEA;IACI,2BAA0B;IAC1B,iBAAgB;CACpB;;AAEA;IACI,2BAA0B;CAC9B;;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,6BAAoB;IAApB,qBAAoB;IACpB,UAAS;IACT,WAAU;CACd;;AAEA;CACA;;AAEA;IACI,kBAAiB;CACrB;;AAEA;CACA",
            file: "MapZoom.css",
            sourcesContent: [".wrapper.course {\n    bottom: 62px;\n    position: absolute;\n    right: 12px;\n    z-index: 6;\n}\n\n.zoomButton.course {\n    background: rgba(255, 255, 255, 0.95);\n    border-bottom: 0;\n    display: block;\n    position: relative;\n    text-align: center;\n    width: 35px;\n    height: 35px;\n    line-height: 40px;\n    border: 1px solid #aaa;\n    box-shadow: 0 1px 0 0 rgba(0, 0, 0, 0.2);\n    cursor: pointer;\n}\n\n.zoomInButton.course {\n    border-radius: 4px 4px 0 0;\n    border-bottom: 0;\n}\n\n.zoomOutButton.course {\n    border-radius: 0 0 4px 4px;\n}\n\n.wrapper.activity {\n    position: absolute;\n    z-index: 2;\n    display: inline-flex;\n    top: 10px;\n    left: 10px;\n}\n\n.zoomButton.activity {\n}\n\n.zoomInButton.activity {\n    margin-right: 5px;\n}\n\n.zoomOutButton.activity {\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            wrapper: "MapZoom_wrapper__VOTDe",
            course: "MapZoom_course__SJwgW",
            zoomButton: "MapZoom_zoomButton__8Z-3z",
            zoomInButton: "MapZoom_zoomInButton__1vqlw",
            zoomOutButton: "MapZoom_zoomOutButton__2wCTi",
            activity: "MapZoom_activity__mqRpl"
        }
    },
    1495: function(t, e, i) {
        var a = i(1496);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    1496: function(t, e, i) {
        (e = t.exports = i(29)(!0)).push([t.i, ".MapMenu_container__2d2uS {\n    position: absolute;\n    z-index: 2;\n    top: 10px;\n    left: 87px;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/Map/components/overlays/MapMenu.css"],
            names: [],
            mappings: "AAAA;IACI,mBAAkB;IAClB,WAAU;IACV,UAAS;IACT,WAAU;CACd",
            file: "MapMenu.css",
            sourcesContent: [".container {\n    position: absolute;\n    z-index: 2;\n    top: 10px;\n    left: 87px;\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            container: "MapMenu_container__2d2uS"
        }
    },
    1497: function(t, e, i) {
        var a = i(1498);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    1498: function(t, e, i) {
        (e = t.exports = i(29)(!0)).push([t.i, "\n\n.connect-map-view .leaflet-container {\n        height: 100%;\n        width: 100%;\n        z-index: 1;\n    }\n    .connect-map-view .leaflet-control-layers {\n        visibility: hidden !important;\n    }\n\n.MapView_connectMapView__Hr-Hm {\n    height: 100%;\n    width: 100%;\n    position: relative;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/Map/MapView.css"],
            names: [],
            mappings: ";;AACI;QACI,aAAY;QACZ,YAAW;QACX,WAAU;KACd;IAEA;QACI,8BAA6B;KACjC;;AAGJ;IACI,aAAY;IACZ,YAAW;IACX,mBAAkB;CACtB",
            file: "MapView.css",
            sourcesContent: [":global {\n    .connect-map-view .leaflet-container {\n        height: 100%;\n        width: 100%;\n        z-index: 1;\n    }\n\n    .connect-map-view .leaflet-control-layers {\n        visibility: hidden !important;\n    }\n}\n\n.connectMapView {\n    height: 100%;\n    width: 100%;\n    position: relative;\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            connectMapView: "MapView_connectMapView__Hr-Hm"
        }
    },
    1499: function(t, e, i) {
        "use strict";
        var a = i(20)
          , n = i.n(a);
        e.a = n.a.oneOf(["topleft", "topright", "bottomleft", "bottomright"])
    },
    1500: function(t, e, i) {
        (e = t.exports = i(29)(!0)).i(i(98), void 0),
        e.push([t.i, ".ReactMapComponent_smallActivityMap___iX1a {\n    position: relative;\n    width: 100%;\n    height: 408px;\n}\n.ReactMapComponent_widgetMapView__30tKR {\n    position: relative;\n    width: 100%;\n    height: 200px;\n}\n.ReactMapComponent_weatherContainer__3Jnut {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-flex-wrap: nowrap;\n            flex-wrap: nowrap;\n    position: absolute;\n    top: 10px;\n    right: 12px;\n    width: auto;\n    z-index: 60;\n}\n.ReactMapComponent_largeMapViewWeather__36xIC {\n    position: fixed;\n    right: 10px;\n    top: 10px;\n    width: 40%;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-justify-content: flex-end;\n            justify-content: flex-end;\n    z-index: 9999;\n    left: unset;\n}\n.ReactMapComponent_fullScreenBtn__2ckLv {\n    margin-left: 5px;\n}\n.ReactMapComponent_weather__c50-H {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-flex-wrap: nowrap;\n            flex-wrap: nowrap;\n    cursor: pointer;\n    margin-bottom: 5px;\n    width: auto;\n    padding: 0 5px;\n    height: 33px;\n    background: rgba(250, 250, 250, 0.9);\n    border-radius: 20px;\n    box-shadow: 0 0 2px " + i(98).locals.color_103 + ";\n    overflow: hidden;\n}\n.ReactMapComponent_weatherLarge__3Usm2 {\n    position: absolute;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-align-items: center;\n            align-items: center;\n    /* top: 10px; */\n    right: 60px;\n    cursor: pointer;\n    margin-bottom: 5px;\n    /* z-index: 9999; */\n    width: 369px;\n    padding: 0 5px;\n    height: 70px;\n    background: rgba(250, 250, 250, 0.9);\n    border-radius: 30px;\n    box-shadow: 0 0 2px " + i(98).locals.color_103 + ";\n    overflow: hidden;\n}\n.ReactMapComponent_weatherDetails__9vggd {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-justify-content: flex-end;\n            justify-content: flex-end;\n    width: 30%;\n    padding-top: 5px;\n    padding-right: 10px;\n}\n.ReactMapComponent_weatherDetails__9vggd ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    font-size: 12px;\n}\n.ReactMapComponent_weatherDetails__9vggd li {\n    margin: 0;\n    padding: 0;\n    line-height: 1.4;\n}\n.ReactMapComponent_weatherDetails__9vggd li.ReactMapComponent_weatherSource__2Lwcj {\n    font-size: 9px;\n    color: " + i(98).locals.color_102 + ";\n}\n.ReactMapComponent_wavesStartMarker__hCeir {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-style: solid;\n    border-color: " + i(98).locals.white + ";\n    border-width: 1px;\n    border-radius: 50%;\n    color: " + i(98).locals.blue_dark_3 + ";\n    background: " + i(98).locals.blue_dark_3 + ";\n}\n.ReactMapComponent_wavesEndMarker__15EP5 {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: " + i(98).locals.white + ";\n    color: " + i(98).locals.blue_dark_3 + ";\n    background: " + i(98).locals.blue_dark_3 + ";\n}\n.ReactMapComponent_longestWaveStartMarker__22Ryf {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-style: solid;\n    border-color: " + i(98).locals.white + ";\n    border-width: 1px;\n    border-radius: 50%;\n    color: " + i(98).locals.red_primary + ";\n    background: " + i(98).locals.red_primary + ";\n}\n.ReactMapComponent_longestWaveEndMarker__oOLXn {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: " + i(98).locals.white + ";\n    color: " + i(98).locals.red_primary + ";\n    background: " + i(98).locals.red_primary + ";\n}\n.ReactMapComponent_weatherArrowSmall__GNvgD {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-justify-content: flex-start;\n            justify-content: flex-start;\n    height: 33px;\n}\n.ReactMapComponent_weatherComponent__2pNzq {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-align-items: center;\n            align-items: center;\n    height: 33px;\n    padding-top: 3px;\n}\n.ReactMapComponent_weatherArrowLarge__3t-VK {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-justify-content: flex-start;\n            justify-content: flex-start;\n    margin-left: 5px;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/MapComponent/ReactMapComponent.css"],
            names: [],
            mappings: "AAEA;IACI,mBAAkB;IAClB,YAAW;IACX,cAAa;CACjB;AAEA;IACI,mBAAkB;IAClB,YAAW;IACX,cAAa;CACjB;AAEA;IACI,sBAAa;IAAb,cAAa;IACb,0BAAiB;YAAjB,kBAAiB;IACjB,mBAAkB;IAClB,UAAS;IACT,YAAW;IACX,YAAW;IACX,YAAW;CACf;AAEA;IACI,gBAAe;IACf,YAAW;IACX,UAAS;IACT,WAAU;IACV,sBAAa;IAAb,cAAa;IACb,kCAAyB;YAAzB,0BAAyB;IACzB,cAAa;IACb,YAAW;CACf;AAEA;IACI,iBAAgB;CACpB;AAEA;IACI,sBAAa;IAAb,cAAa;IACb,0BAAiB;YAAjB,kBAAiB;IACjB,gBAAe;IACf,mBAAkB;IAClB,YAAW;IACX,eAAc;IACd,aAAY;IACZ,qCAAoC;IACpC,oBAAmB;IACnB,gDAA6B;IAC7B,iBAAgB;CACpB;AAEA;IACI,mBAAkB;IAClB,sBAAa;IAAb,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;IACnB,gBAAe;IACf,YAAW;IACX,gBAAe;IACf,mBAAkB;IAClB,oBAAmB;IACnB,aAAY;IACZ,eAAc;IACd,aAAY;IACZ,qCAAoC;IACpC,oBAAmB;IACnB,gDAA6B;IAC7B,iBAAgB;CACpB;AAEA;IACI,sBAAa;IAAb,cAAa;IACb,kCAAyB;YAAzB,0BAAyB;IACzB,WAAU;IACV,iBAAgB;IAChB,oBAAmB;CACvB;AAEA;IACI,UAAS;IACT,WAAU;IACV,iBAAgB;IAChB,gBAAe;CACnB;AAEA;IACI,UAAS;IACT,WAAU;IACV,iBAAgB;CACpB;AAEA;IACI,eAAc;IACd,mCAAgB;CACpB;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,WAAU;IACV,YAAW;IACX,iBAAgB;IAChB,oBAAmB;IACnB,0CAAmB;IACnB,kBAAiB;IACjB,mBAAkB;IAClB,mCAAkB;IAClB,wCAAuB;CAC3B;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,WAAU;IACV,YAAW;IACX,iBAAgB;IAChB,kBAAiB;IACjB,oBAAmB;IACnB,0CAAmB;IACnB,mCAAkB;IAClB,wCAAuB;CAC3B;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,WAAU;IACV,YAAW;IACX,iBAAgB;IAChB,oBAAmB;IACnB,0CAAmB;IACnB,kBAAiB;IACjB,mBAAkB;IAClB,mCAAkB;IAClB,wCAAuB;CAC3B;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,WAAU;IACV,YAAW;IACX,iBAAgB;IAChB,kBAAiB;IACjB,oBAAmB;IACnB,0CAAmB;IACnB,mCAAkB;IAClB,wCAAuB;CAC3B;AAEA;IACI,sBAAa;IAAb,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;IACnB,oCAA2B;YAA3B,4BAA2B;IAC3B,aAAY;CAChB;AAEA;IACI,sBAAa;IAAb,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;IACnB,aAAY;IACZ,iBAAgB;CACpB;AAEA;IACI,sBAAa;IAAb,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;IACnB,oCAA2B;YAA3B,4BAA2B;IAC3B,iBAAgB;CACpB",
            file: "ReactMapComponent.css",
            sourcesContent: ["@value (color_103, color_102, blue_dark_3, red_primary, white) from 'ui-connect/styles/colors.module.css';\n\n.smallActivityMap {\n    position: relative;\n    width: 100%;\n    height: 408px;\n}\n\n.widgetMapView {\n    position: relative;\n    width: 100%;\n    height: 200px;\n}\n\n.weatherContainer {\n    display: flex;\n    flex-wrap: nowrap;\n    position: absolute;\n    top: 10px;\n    right: 12px;\n    width: auto;\n    z-index: 60;\n}\n\n.largeMapViewWeather {\n    position: fixed;\n    right: 10px;\n    top: 10px;\n    width: 40%;\n    display: flex;\n    justify-content: flex-end;\n    z-index: 9999;\n    left: unset;\n}\n\n.fullScreenBtn {\n    margin-left: 5px;\n}\n\n.weather {\n    display: flex;\n    flex-wrap: nowrap;\n    cursor: pointer;\n    margin-bottom: 5px;\n    width: auto;\n    padding: 0 5px;\n    height: 33px;\n    background: rgba(250, 250, 250, 0.9);\n    border-radius: 20px;\n    box-shadow: 0 0 2px color_103;\n    overflow: hidden;\n}\n\n.weatherLarge {\n    position: absolute;\n    display: flex;\n    align-items: center;\n    /* top: 10px; */\n    right: 60px;\n    cursor: pointer;\n    margin-bottom: 5px;\n    /* z-index: 9999; */\n    width: 369px;\n    padding: 0 5px;\n    height: 70px;\n    background: rgba(250, 250, 250, 0.9);\n    border-radius: 30px;\n    box-shadow: 0 0 2px color_103;\n    overflow: hidden;\n}\n\n.weatherDetails {\n    display: flex;\n    justify-content: flex-end;\n    width: 30%;\n    padding-top: 5px;\n    padding-right: 10px;\n}\n\n.weatherDetails ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    font-size: 12px;\n}\n\n.weatherDetails li {\n    margin: 0;\n    padding: 0;\n    line-height: 1.4;\n}\n\n.weatherDetails li.weatherSource {\n    font-size: 9px;\n    color: color_102;\n}\n\n.wavesStartMarker {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-style: solid;\n    border-color: white;\n    border-width: 1px;\n    border-radius: 50%;\n    color: blue_dark_3;\n    background: blue_dark_3;\n}\n\n.wavesEndMarker {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: white;\n    color: blue_dark_3;\n    background: blue_dark_3;\n}\n\n.longestWaveStartMarker {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-style: solid;\n    border-color: white;\n    border-width: 1px;\n    border-radius: 50%;\n    color: red_primary;\n    background: red_primary;\n}\n\n.longestWaveEndMarker {\n    position: absolute;\n    z-index: 2;\n    width: 8px;\n    height: 8px;\n    line-height: 8px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: white;\n    color: red_primary;\n    background: red_primary;\n}\n\n.weatherArrowSmall {\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    height: 33px;\n}\n\n.weatherComponent {\n    display: flex;\n    align-items: center;\n    height: 33px;\n    padding-top: 3px;\n}\n\n.weatherArrowLarge {\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    margin-left: 5px;\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            color_103: "" + i(98).locals.color_103,
            color_102: "" + i(98).locals.color_102,
            blue_dark_3: "" + i(98).locals.blue_dark_3,
            red_primary: "" + i(98).locals.red_primary,
            white: "" + i(98).locals.white,
            smallActivityMap: "ReactMapComponent_smallActivityMap___iX1a",
            widgetMapView: "ReactMapComponent_widgetMapView__30tKR",
            weatherContainer: "ReactMapComponent_weatherContainer__3Jnut",
            largeMapViewWeather: "ReactMapComponent_largeMapViewWeather__36xIC",
            fullScreenBtn: "ReactMapComponent_fullScreenBtn__2ckLv",
            weather: "ReactMapComponent_weather__c50-H",
            weatherLarge: "ReactMapComponent_weatherLarge__3Usm2",
            weatherDetails: "ReactMapComponent_weatherDetails__9vggd",
            weatherSource: "ReactMapComponent_weatherSource__2Lwcj",
            wavesStartMarker: "ReactMapComponent_wavesStartMarker__hCeir",
            wavesEndMarker: "ReactMapComponent_wavesEndMarker__15EP5",
            longestWaveStartMarker: "ReactMapComponent_longestWaveStartMarker__22Ryf",
            longestWaveEndMarker: "ReactMapComponent_longestWaveEndMarker__oOLXn",
            weatherArrowSmall: "ReactMapComponent_weatherArrowSmall__GNvgD",
            weatherComponent: "ReactMapComponent_weatherComponent__2pNzq",
            weatherArrowLarge: "ReactMapComponent_weatherArrowLarge__3t-VK"
        }
    },
    1508: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(60)
              , l = {
                LACTATE_THRESHOLD: "LACTATE_THRESHOLD",
                HR_RESERVE: "HR_RESERVE",
                HR_MAX: "HR_MAX"
            }
              , c = o.a.Model.extend({
                url: function() {
                    return "/proxy/biometric-service/heartRateZones/"
                },
                initialize: function(t) {
                    this.currentDeviceSupportedZones = ["DEFAULT"],
                    this._resetChangedSports()
                },
                changedSports: [],
                save: function(e, i) {
                    if (!this.changedSports.length)
                        return !0;
                    var a = this
                      , n = t.Deferred()
                      , r = {
                        url: this.url(),
                        contentType: "application/json; charset=UTF-8",
                        type: "PUT",
                        data: JSON.stringify(this.changedSports),
                        success: function(t, e, i) {
                            return a._resetChangedSports(),
                            n.resolve(t)
                        },
                        error: function(t, e, i) {
                            return a._resetChangedSports(),
                            n.reject(e)
                        }
                    };
                    return o.a.Model.prototype.save.call(this, e, r),
                    n.promise()
                },
                remove: function(t) {
                    var e = this.findBySport(t);
                    this._updateChangedSports(e, "DELETED");
                    var i = this.findKey(function(e) {
                        return e.sport === t
                    });
                    i && delete this.attributes[i]
                },
                replaceHRZone: function(t, e, i) {
                    var a = this.findKey(function(e) {
                        return e.sport === t.sport
                    });
                    this._updateChangedSports(t, i ? "NEW" : "CHANGED"),
                    a ? this.attributes[a] = t : e && (this.attributes[Object.keys(this.attributes).length] = t)
                },
                findKey: function(t) {
                    var e, i = this;
                    return Object.keys(this.attributes).forEach(function(a, n) {
                        i.attributes[a] && t(i.attributes[a]) && (e = a)
                    }),
                    e
                },
                findBySport: function(t) {
                    var e, i = this.findKey(function(e) {
                        return e && e.sport === t
                    });
                    return i && (e = this.attributes[i]),
                    e
                },
                add: function(t) {
                    this.replaceHRZone(t, !0, !0)
                },
                _updateChangedSports: function(t, e) {
                    var i = n.a.findIndex(this.changedSports, function(e) {
                        return e.sport === t.sport
                    });
                    -1 !== i ? "NEW" === e && "DELETED" === this.changedSports[i].changeState ? (t.changeState = "CHANGED",
                    this.changedSports[i] = t) : "DELETED" === e && "NEW" === this.changedSports[i].changeState ? this.changedSports.splice(i, 1) : ("CHANGED" === e && "NEW" === this.changedSports[i].changeState ? t.changeState = "NEW" : t.changeState = e,
                    this.changedSports[i] = t) : (t.changeState = e,
                    this.changedSports.push(t))
                },
                _resetChangedSports: function() {
                    this.changedSports = []
                },
                validate: function(t, e) {
                    var i, a, r = !0, o = this;
                    return Object.keys(this.attributes).forEach(function(t, e) {
                        o.attributes[t] && !o._isValid(o.attributes[t]) && (r = !1,
                        a = o.attributes[t].sport,
                        n.a.indexOf(o.currentDeviceSupportedZones, a) < 0 && (i = o.findBySport("DEFAULT")) && (o.attributes[t] = n.a.extend({}, i),
                        o.attributes[t].sport = a,
                        r = !0))
                    }),
                    r ? void 0 : "Not valid"
                },
                _isValid: function(t) {
                    var e = Number(t.zone1Floor)
                      , i = Number(t.zone2Floor)
                      , a = Number(t.zone3Floor)
                      , n = Number(t.zone4Floor)
                      , r = Number(t.zone5Floor)
                      , o = Number(t.maxHeartRateUsed)
                      , c = !1;
                    switch (t.trainingMethod) {
                    case l.HR_RESERVE:
                        t.lactateThresholdHeartRateUsed = null,
                        c = Number(t.restingHeartRateUsed) >= s.a.MIN_RESTING_HEART_RATE && o >= s.a.MAX_HEART_RATE_MIN && o <= s.a.MAX_HEART_RATE_MAX;
                        break;
                    case l.LACTATE_THRESHOLD:
                        t.restingHeartRateUsed = null,
                        c = Number(t.lactateThresholdHeartRateUsed) > s.a.MIN_LACTATE_THRESHOLD_HEART_RATE && o >= s.a.MAX_HEART_RATE_MIN && o <= s.a.MAX_HEART_RATE_MAX;
                        break;
                    case l.HR_MAX:
                        t.lactateThresholdHeartRateUsed = null,
                        t.restingHeartRateUsed = null,
                        c = o >= s.a.MAX_HEART_RATE_MIN && o <= s.a.MAX_HEART_RATE_MAX
                    }
                    return c = !!(c && e < i && i < a && a < n && n < r && r < o)
                },
                getData: function() {
                    var t = []
                      , e = this;
                    return Object.keys(this.attributes).forEach(function(i, a) {
                        e.attributes[i] && t.push(e.attributes[i])
                    }),
                    t
                },
                getZones: function(t) {
                    var e = []
                      , i = this.findBySport(t)
                      , a = 1;
                    return i && n.a.each(i, function(t, i) {
                        /zone/.test(i) && (e.push({
                            zoneNumber: a,
                            value: t
                        }),
                        a += 1)
                    }),
                    e
                },
                getMaxHeartRate: function(t) {
                    var e = this.findBySport(t);
                    return e ? e.maxHeartRateUsed : s.a.MAX_HEART_RATE_DEFAULT
                },
                setDeviceSupportedZones: function(t) {
                    this.currentDeviceSupportedZones = this.currentDeviceSupportedZones.concat(t)
                }
            });
            c.TrainingMethods = l,
            e.a = c
        }
        ).call(this, i(10))
    },
    1514: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(8)
          , o = i(1302)
          , s = i(1841)
          , l = i.n(s)
          , c = o.a.extend({
            template: n.a.template(l.a),
            events: {
                "click li": "onInlineSelectionChanged",
                "change select[name=activityType]": "onActivityTypeChanged"
            },
            initialize: function(t) {
                this.useSelect = t.useSelect,
                this.className = t.className || "",
                t.options && !0 === t.options.showTypeAll && t.items.unshift({
                    name: r.a.localize("any_activity_type"),
                    value: "all",
                    children: []
                }),
                o.a.prototype.initialize.call(this, t),
                this.value = t.value,
                this.$("[data-value=" + this.value + "]").addClass("active")
            },
            onActivityTypeChanged: function(t) {
                t.preventDefault(),
                this.$(".active").removeClass("active");
                var e = this.$("select[name=activityType]").val();
                this.$("[data-value=" + e + "]").addClass("active"),
                this.trigger(o.a.Events.CHANGE, e)
            },
            setActivityType: function(t) {
                this.value = t
            }
        });
        e.a = c
    },
    1515: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(85)
              , c = i(440)
              , h = i(19)
              , p = i(1631)
              , d = i.n(p)
              , u = {
                COMMENT_ADDED: "COMMENT_ADDED"
            }
              , m = o.a.View.extend({
                template: n.a.template(d.a),
                events: {
                    "click .add-comment-button": "onAddCommentClicked",
                    "focus .add-comment-textarea": "onTextareaFocus",
                    "blur .add-comment-textarea": "onTextareaBlur",
                    "click a.profile": "onProfileClicked"
                },
                initialize: function(t) {
                    this.initializeAddCommentView(t)
                },
                initializeAddCommentView: function(t) {
                    this.resourceType = t.resourceType,
                    this.resourceId = t.resourceId,
                    this.conversation = t.conversation,
                    this.maxLength = 1e3
                },
                onAddCommentClicked: function() {
                    this.conversation.isNew() ? (this.conversation.once("sync", this.addComment, this),
                    this.conversation.save()) : this.addComment()
                },
                addComment: function() {
                    var e = this.$(".add-comment-textarea")
                      , i = t.trim(e.val());
                    if (0 !== i.length) {
                        var a = this.createComment(i);
                        a.once("sync", this.onCommentSaved, this),
                        a.save(),
                        e.val(""),
                        e.removeClass("active"),
                        this.$(".add-comment-button-wrapper").hide()
                    }
                },
                createComment: function(t) {
                    var e = this.conversation.get("numberOfComments");
                    return this.conversation.set("numberOfComments", ++e),
                    "VIVOKID_ADHOC_CHALLENGE" === this.resourceType || "VIVOKID_TEAM_CHALLENGE" === this.resourceType ? new c.a({
                        conversationUuid: this.conversation.get("conversationUuid"),
                        conversationCommentUuid: null,
                        body: t,
                        numberOfLikes: 0
                    }) : new l.a({
                        conversationUuid: this.conversation.get("conversationUuid"),
                        conversationCommentUuid: null,
                        body: t,
                        numberOfLikes: 0
                    })
                },
                onCommentSaved: function(t) {
                    this.trigger(u.COMMENT_ADDED, t)
                },
                render: function() {
                    var t = (new Date).getMilliseconds();
                    this.$el.html(this.template({
                        Localizer: s.a,
                        maxLength: this.maxLength,
                        socialProfile: h.a.toJSON(),
                        elementId: t
                    }))
                },
                onTextareaFocus: function(e) {
                    t(e.currentTarget).addClass("active"),
                    this.$(".add-comment-button-wrapper").show()
                },
                onTextareaBlur: function(e) {
                    var i = t(e.currentTarget);
                    i.val().length || (i.removeClass("active"),
                    this.$(".add-comment-button-wrapper").hide())
                },
                onProfileClicked: function(t) {
                    t.preventDefault(),
                    t.stopPropagation();
                    var e = "/profile/" + h.a.get("displayName");
                    o.a.history.navigate(e, {
                        trigger: !0
                    })
                }
            });
            m.Events = u,
            e.a = m
        }
        ).call(this, i(10))
    },
    1518: function(t, e, i) {
        "use strict";
        var a = function() {
            this.__data__ = [],
            this.size = 0
        }
          , n = i(1590);
        var r = function(t, e) {
            for (var i = t.length; i--; )
                if (Object(n.a)(t[i][0], e))
                    return i;
            return -1
        }
          , o = Array.prototype.splice;
        var s = function(t) {
            var e = this.__data__
              , i = r(e, t);
            return !(i < 0) && (i == e.length - 1 ? e.pop() : o.call(e, i, 1),
            --this.size,
            !0)
        };
        var l = function(t) {
            var e = this.__data__
              , i = r(e, t);
            return i < 0 ? void 0 : e[i][1]
        };
        var c = function(t) {
            return r(this.__data__, t) > -1
        };
        var h = function(t, e) {
            var i = this.__data__
              , a = r(i, t);
            return a < 0 ? (++this.size,
            i.push([t, e])) : i[a][1] = e,
            this
        };
        function p(t) {
            var e = -1
              , i = null == t ? 0 : t.length;
            for (this.clear(); ++e < i; ) {
                var a = t[e];
                this.set(a[0], a[1])
            }
        }
        p.prototype.clear = a,
        p.prototype.delete = s,
        p.prototype.get = l,
        p.prototype.has = c,
        p.prototype.set = h;
        e.a = p
    },
    1519: function(t, e, i) {
        "use strict";
        var a = i(1378)
          , n = i(121)
          , r = Object(a.a)(n.a, "DataView")
          , o = i(1589)
          , s = Object(a.a)(n.a, "Promise")
          , l = Object(a.a)(n.a, "Set")
          , c = Object(a.a)(n.a, "WeakMap")
          , h = i(398)
          , p = i(1738)
          , d = Object(p.a)(r)
          , u = Object(p.a)(o.a)
          , m = Object(p.a)(s)
          , f = Object(p.a)(l)
          , g = Object(p.a)(c)
          , y = h.a;
        (r && "[object DataView]" != y(new r(new ArrayBuffer(1))) || o.a && "[object Map]" != y(new o.a) || s && "[object Promise]" != y(s.resolve()) || l && "[object Set]" != y(new l) || c && "[object WeakMap]" != y(new c)) && (y = function(t) {
            var e = Object(h.a)(t)
              , i = "[object Object]" == e ? t.constructor : void 0
              , a = i ? Object(p.a)(i) : "";
            if (a)
                switch (a) {
                case d:
                    return "[object DataView]";
                case u:
                    return "[object Map]";
                case m:
                    return "[object Promise]";
                case f:
                    return "[object Set]";
                case g:
                    return "[object WeakMap]"
                }
            return e
        }
        );
        e.a = y
    },
    1520: function(t, e, i) {
        "use strict";
        var a = i(3)
          , n = i(56)
          , r = i(57)
          , o = i(63)
          , s = i(61)
          , l = i(62)
          , c = i(11)
          , h = i.n(c)
          , p = i(71)
          , d = i(1338)
          , u = i(1432)
          , m = i(14)
          , f = i(2959)
          , g = i(227)
          , y = i(224)
          , v = (i(1265),
        i(1235))
          , b = i(80)
          , A = i(58)
          , _ = i(40)
          , C = i(1384)
          , w = i.n(C)
          , x = {
            longestWave: _.red_primary,
            wave: _.blue_dark_3,
            selectedWave: _.yellow_dark_3,
            standardPolyline: _.red_light_3
        }
          , S = {
            surf_icon_size: [8, 8]
        }
          , T = function() {
            function t(e, i, a) {
                Object(n.a)(this, t),
                this.polyline = e,
                this.activityTypedSplits = a,
                this.featureGroup = [],
                this.map = i
            }
            return Object(r.a)(t, [{
                key: "getSurfPolyLine",
                value: function() {
                    var t = this
                      , e = Math.max.apply(Math, Object(m.a)(Array.from(this.activityTypedSplits, function(t) {
                        return t.distance
                    })))
                      , i = this.activityTypedSplits.filter(function(t) {
                        return t.distance !== e
                    })
                      , a = this.getTimeRanges(i)
                      , n = this.polyline && this.polyline.geoPolylineDTO && this.polyline.geoPolylineDTO.polyline
                      , r = [];
                    return n && a.forEach(function(e, i) {
                        var a = n.filter(function(t) {
                            return t.time >= e.start && t.time <= e.end
                        });
                        r.push(h.a.createElement(f.a, {
                            key: "".concat(e.key, "-featureGroup"),
                            ref: function(e) {
                                return t.featureGroup.push(e)
                            }
                        }, h.a.createElement(g.a, {
                            positions: a,
                            weight: 3,
                            color: x.wave,
                            key: e.key,
                            onClick: function() {
                                return t.getSelectPolyline(x.wave, "".concat(e.key))
                            }
                        }))),
                        r.push(t.getSurfCircleMarker(a[0], !0, e.key)),
                        r.push(t.getEndSurfMarker(a[a.length - 1], !0, e.key))
                    }),
                    [r]
                }
            }, {
                key: "getSurfLongestWave",
                value: function() {
                    var t = this
                      , e = Math.max.apply(Math, Object(m.a)(Array.from(this.activityTypedSplits, function(t) {
                        return t.distance
                    })))
                      , i = this.activityTypedSplits.filter(function(t) {
                        return t.distance === e
                    })
                      , a = this.getTimeRanges(i)
                      , n = this.polyline && this.polyline.geoPolylineDTO && this.polyline.geoPolylineDTO.polyline
                      , r = n && n.filter(function(t) {
                        return t.time >= a[0].start && t.time <= a[0].end
                    })
                      , o = [];
                    return n && a && o.push(this.getSurfCircleMarker(r[0], !1, a[0].key)),
                    n && a && o.push(this.getEndSurfMarker(r[r.length - 1], !1, a[0].key)),
                    r && o.push(h.a.createElement(f.a, {
                        key: "".concat(a[0].key, "-featureGroup"),
                        ref: function(e) {
                            t.longestWave = e
                        }
                    }, h.a.createElement(g.a, {
                        positions: r,
                        weight: 3,
                        color: x.longestWave,
                        key: a[0].key,
                        onClick: function() {
                            return t.getSelectPolyline(x.longestWave, "".concat(a[0].key))
                        }
                    }))),
                    [o]
                }
            }, {
                key: "getSelectPolyline",
                value: function(t, e) {
                    (this.featureGroup || this.longestWave) && (t === x.wave ? this.getWaveSelectedPolyline(e) : this.getLongestWaveSelectPolyline(e))
                }
            }, {
                key: "getLongestWaveSelectPolyline",
                value: function(t) {
                    this.map.wrappedInstance.refs.map.leafletElement.eachLayer(function(e) {
                        e.options.hasOwnProperty("children") && (e.setStyle({
                            color: _.blue_dark_3
                        }),
                        e.setStyle({
                            color: x.wave
                        })),
                        e.options.hasOwnProperty("icon") && (e.options.data === "".concat(t) || e.options.data === "".concat(t) ? (e.getElement().style.backgroundColor = x.selectedWave,
                        e.getElement().style.color = x.selectedWave) : (e.getElement().style.backgroundColor = x.wave,
                        e.getElement().style.color = x.wave))
                    }),
                    this.longestWave.leafletElement.setStyle({
                        color: x.selectedWave
                    })
                }
            }, {
                key: "getWaveSelectedPolyline",
                value: function(t) {
                    var e = this;
                    this.map.wrappedInstance.refs.map.leafletElement.eachLayer(function(i) {
                        i.options.hasOwnProperty("children") && (i.setStyle({
                            color: _.blue_dark_3
                        }),
                        i.setStyle({
                            color: x.wave
                        }),
                        i.options.children.key === "".concat(t) && (i.setStyle({
                            color: _.yellow_dark_3
                        }),
                        i.setStyle({
                            color: x.selectedWave
                        }))),
                        i.options.hasOwnProperty("icon") && (i.options.data === "".concat(t) ? (i.getElement().style.backgroundColor = x.selectedWave,
                        i.getElement().style.color = x.selectedWave) : i.options.data === e.longestWave.props.children.key ? (i.getElement().style.backgroundColor = x.longestWave,
                        i.getElement().style.color = x.longestWave) : (i.getElement().style.backgroundColor = x.wave,
                        i.getElement().style.color = x.wave))
                    }),
                    this.longestWave.leafletElement.setStyle({
                        color: x.longestWave
                    })
                }
            }, {
                key: "getSurfCircleMarker",
                value: function(t, e, i) {
                    var a = this
                      , n = "".concat(e ? w.a.wavesStartMarker : w.a.longestWaveStartMarker)
                      , r = e ? x.wave : x.longestWave
                      , o = Object(v.divIcon)({
                        className: n,
                        iconSize: S.surf_icon_size
                    });
                    return t && h.a.createElement(y.a, {
                        key: "start-marker-".concat(i),
                        data: "".concat(i),
                        icon: o,
                        position: [t.lat, t.lon],
                        bubblingMouseEvents: !0,
                        onClick: function() {
                            return a.getSelectPolyline(r, "".concat(i))
                        }
                    })
                }
            }, {
                key: "getEndSurfMarker",
                value: function(t, e, i) {
                    var a = this
                      , n = "".concat(e ? w.a.wavesEndMarker : w.a.longestWaveEndMarker)
                      , r = e ? x.wave : x.longestWave
                      , o = Object(v.divIcon)({
                        className: n,
                        iconSize: S.surf_icon_size
                    });
                    return t && h.a.createElement(y.a, {
                        key: "end-marker-".concat(i),
                        data: "".concat(i),
                        icon: o,
                        position: [t.lat, t.lon],
                        bubblingMouseEvents: !0,
                        onClick: function() {
                            return a.getSelectPolyline(r, "".concat(i))
                        }
                    })
                }
            }, {
                key: "getTimeRanges",
                value: function(t) {
                    return t.map(function(t) {
                        return {
                            key: t.messageIndex,
                            start: A.a.parseISOUTC(t.startTimeGMT).getTime(),
                            end: A.a.parseISOUTC(t.endTimeGMT).getTime()
                        }
                    })
                }
            }, {
                key: "getStandardPolyLine",
                value: function() {
                    var t = this.polyline && this.polyline.geoPolylineDTO && this.polyline.geoPolylineDTO.polyline;
                    return t && h.a.createElement(g.a, {
                        positions: t,
                        weight: 5,
                        color: x.standardPolyline,
                        key: "activityPolyline"
                    })
                }
            }, {
                key: "getStandardStartMarker",
                value: function() {
                    var t = this.polyline && this.polyline.geoPolylineDTO && this.polyline.geoPolylineDTO.startPoint
                      , e = b.a.getStartMarkerOptions();
                    return t && h.a.createElement(y.a, {
                        key: "startMarker",
                        icon: new v.icon(Object(a.a)({}, e, {
                            iconUrl: e.iconUrl || e.iconURL
                        })),
                        position: [t.lat, t.lon]
                    })
                }
            }, {
                key: "getStandardEndMarker",
                value: function() {
                    var t = this.polyline && this.polyline.geoPolylineDTO && this.polyline.geoPolylineDTO.endPoint
                      , e = b.a.getEndMarkerOptions();
                    return t && h.a.createElement(y.a, {
                        key: "endMarker",
                        icon: new v.icon(Object(a.a)({}, e, {
                            iconUrl: e.iconUrl || e.iconURL
                        })),
                        position: [t.lat, t.lon]
                    })
                }
            }]),
            t
        }()
          , E = i(83)
          , k = i(8)
          , L = i(13)
          , P = i(79)
          , I = i(37)
          , z = i(419)
          , B = i(319)
          , D = {
            fetchActivityPolyline: z.b,
            fetchActivityWeather: B.b,
            setSurfPolylineIndex: z.e
        }
          , M = function(t) {
            function e(t) {
                var i;
                return Object(n.a)(this, e),
                (i = Object(o.a)(this, Object(s.a)(e).call(this, t))).onToggleMapSizeClick = function() {
                    var t = "small" === i.state.mapSize ? "large" : "small";
                    i.setState({
                        mapSize: t
                    }),
                    i.map.wrappedInstance.map._onResize()
                }
                ,
                i.displayWeatherOnMap = function() {
                    var t = i.props
                      , e = t.activity
                      , n = t.weather
                      , r = n && Object(a.a)({}, e, n);
                    return h.a.createElement("div", {
                        className: "weather-large" === i.state.weatherSize ? "".concat(w.a.weatherLarge) : "".concat(w.a.weather),
                        onClick: function() {
                            return i.onToggleWeather()
                        }
                    }, "weather-large" === i.state.weatherSize ? h.a.createElement("div", {
                        className: "".concat(w.a.weatherArrowLarge)
                    }, h.a.createElement(E.a, {
                        ns: "Messages"
                    }, function(t) {
                        return h.a.createElement(P.ButtonIcon, {
                            hideOutline: !0,
                            size: "small",
                            icon: "icon-arrow-right",
                            ariaLabel: t("next"),
                            onClick: function() {
                                i.setState({
                                    weatherSize: "weather-large"
                                })
                            }
                        })
                    })) : h.a.createElement("div", {
                        className: "".concat(w.a.weatherArrowSmall)
                    }, h.a.createElement(E.a, {
                        ns: "Messages"
                    }, function(t) {
                        return h.a.createElement(P.ButtonIcon, {
                            hideOutline: !0,
                            size: "small",
                            icon: "icon-arrow-left",
                            ariaLabel: t("previous"),
                            onClick: function() {
                                i.setState({
                                    weatherSize: "weather-large"
                                })
                            }
                        })
                    })), h.a.createElement("div", {
                        className: "".concat(w.a.weatherComponent)
                    }, h.a.createElement(u.a, {
                        weatherSize: i.state.weatherSize,
                        activity: r
                    })), "weather-large" === i.state.weatherSize && i.weatherDetails())
                }
                ,
                i.fullScreenBtn = function() {
                    return h.a.createElement("div", {
                        className: "".concat(w.a.fullScreenBtn)
                    }, "small" === i.state.mapSize ? h.a.createElement(E.a, {
                        ns: "activity"
                    }, function(t) {
                        return h.a.createElement(P.ButtonIcon, {
                            hideOutline: !1,
                            theme: "map",
                            size: "small",
                            icon: "icon-full-screen",
                            ariaLabel: t("full_screen"),
                            onClick: i.onToggleMapSizeClick
                        })
                    }) : h.a.createElement(E.a, {
                        ns: "activity"
                    }, function(t) {
                        return h.a.createElement(P.ButtonIcon, {
                            hideOutline: !1,
                            theme: "map",
                            size: "small",
                            icon: "icon-close",
                            ariaLabel: t("full_screen"),
                            onClick: i.onToggleMapSizeClick
                        })
                    }))
                }
                ,
                i.weatherDetails = function() {
                    var t = i.props.weather
                      , e = i.convertToCelsius(t.apparentTemp);
                    return h.a.createElement("div", {
                        className: "".concat(w.a.weatherDetails)
                    }, h.a.createElement("ul", null, h.a.createElement("li", {
                        className: "relativity"
                    }, h.a.createElement(E.a, {
                        ns: "activity-api",
                        content: "weather.feels.like"
                    }), "\xa0", L.a.personalizeTemperature(e), "\xb0"), h.a.createElement("li", {
                        className: "wind-details"
                    }, k.a.localize("wind_speed_and_direction", L.a.personalizeWindSpeed(t.windSpeed), k.a.localize(L.a.getWindSpeedUnitKey()), k.a.localize("weather.wind.direction." + t.windDirectionCompassPoint))), h.a.createElement("li", {
                        className: "humidity"
                    }, h.a.createElement(E.a, {
                        ns: "activity",
                        content: "weather_percent_humidity",
                        params: {
                            0: "".concat(t.relativeHumidity)
                        }
                    })), h.a.createElement("li", {
                        className: "".concat(w.a.weatherSource)
                    }, h.a.createElement(E.a, {
                        ns: "activity",
                        content: "weather_source",
                        params: {
                            0: "".concat(t.weatherStationDTO.id)
                        }
                    }))))
                }
                ,
                i.state = {
                    weatherSize: null,
                    mapSize: "small"
                },
                i
            }
            return Object(l.a)(e, t),
            Object(r.a)(e, [{
                key: "componentDidMount",
                value: function() {
                    var t = this.props
                      , e = t.fetchActivityPolyline
                      , i = t.activity
                      , a = t.fetchActivityWeather
                      , n = t.showWeather;
                    e(i.activityId),
                    n && a(i.activityId)
                }
            }, {
                key: "componentDidUpdate",
                value: function(t) {
                    this.props.typeSplitChartIndex !== t.typeSplitChartIndex && this.props.typeSplitChartIndex && this.getChartIndexColorPolyline()
                }
            }, {
                key: "getChartIndexColorPolyline",
                value: function() {
                    var t = this;
                    this.map.wrappedInstance.refs.map.leafletElement.eachLayer(function(e) {
                        e.options.hasOwnProperty("children") && (e.setStyle({
                            color: _.blue_dark_3
                        }),
                        e.options.children.key === "".concat(t.props.typeSplitChartIndex.maxWaveIndex) && e.setStyle({
                            color: _.red_primary
                        }),
                        e.options.children.key === "".concat(t.props.typeSplitChartIndex.index) && e.setStyle({
                            color: _.yellow_dark_3
                        })),
                        e.options.hasOwnProperty("icon") && (e.options.data === "".concat(t.props.typeSplitChartIndex.index) ? (e.getElement().style.backgroundColor = _.yellow_dark_3,
                        e.getElement().style.color = _.yellow_dark_3) : e.options.data === "".concat(t.props.typeSplitChartIndex.maxWaveIndex) ? (e.getElement().style.backgroundColor = _.red_primary,
                        e.getElement().style.color = _.red_primary) : (e.getElement().style.backgroundColor = _.blue_dark_3,
                        e.getElement().style.color = _.blue_dark_3))
                    })
                }
            }, {
                key: "render",
                value: function() {
                    var t = this
                      , e = this.props
                      , i = (e.activity,
                    e.polyline,
                    e.activityTypeKey,
                    e.weather)
                      , a = e.showWeather
                      , n = e.showFullScreen
                      , r = e.doubleClickZoom
                      , o = e.scrollWheelZoom
                      , s = e.hideMapProviderSwitch
                      , l = e.hideZoomControls
                      , c = e.widget
                      , u = e.store
                      , m = "".concat(c ? w.a.widgetMapView : w.a.smallActivityMap)
                      , f = "small" === this.state.mapSize ? m : "row-fluid bottom-s activity-map full-screen-map"
                      , g = "small" === this.state.mapSize ? "".concat(w.a.weatherContainer) : "".concat(w.a.largeMapViewWeather);
                    return h.a.createElement(p.a, {
                        store: u
                    }, h.a.createElement("div", {
                        className: f
                    }, h.a.createElement(d.a, {
                        ref: function(e) {
                            t.map = e
                        },
                        overlay: "activity",
                        hideMapProviderSwitch: s,
                        hideZoomControls: l,
                        doubleClickZoom: r,
                        scrollWheelZoom: o,
                        mapItems: this.getMapItems(),
                        onClick: function() {
                            return t.getSelectedIndex()
                        },
                        bounds: this.getMapBounds(),
                        mapPreferenceKey: "Map.Setting.Activities"
                    }), h.a.createElement("div", {
                        className: g
                    }, i.weatherStationDTO && a && this.displayWeatherOnMap(), n && this.fullScreenBtn())))
                }
            }, {
                key: "getMapBounds",
                value: function() {
                    var t = this.props.polyline;
                    return t && t.geoPolylineDTO && t.geoPolylineDTO.polyline
                }
            }, {
                key: "getSelectedIndex",
                value: function() {
                    var t = this.props
                      , e = t.activityTypeKey;
                    t.activity.hasSplits && I.a.isSurfingActivity(e) && this.getSurfSelectedIndex()
                }
            }, {
                key: "getSurfSelectedIndex",
                value: function() {
                    var t, e = this.props, i = e.setSurfPolylineIndex, a = e.activityTypedSplits;
                    this.map.wrappedInstance.refs.map.leafletElement.eachLayer(function(e) {
                        e.options.hasOwnProperty("children") && e.options.color === _.yellow_dark_3 && (t = e.options.children.key)
                    });
                    var n = [];
                    a && (n = a.filter(function(t) {
                        return "SURF_ACTIVE" === t.type
                    }));
                    var r = n.reduce(function(t, e, i, a) {
                        return e.distance > t.distance ? e : t
                    }, {
                        distance: 0
                    }).messageIndex;
                    i({
                        index: parseInt(t),
                        maxWaveIndex: r
                    })
                }
            }, {
                key: "onToggleWeather",
                value: function() {
                    "weather-large" === this.state.weatherSize ? this.setState({
                        weatherSize: null
                    }) : this.setState({
                        weatherSize: "weather-large"
                    })
                }
            }, {
                key: "getMapItems",
                value: function() {
                    var t = this.props
                      , e = t.activityTypeKey
                      , i = t.polyline
                      , a = t.activityTypedSplits;
                    return function(t, e, i, a) {
                        var n = t
                          , r = []
                          , o = new T(e,i,a);
                        switch (n) {
                        case "surfing":
                            return a && a.length > 0 ? (r.push(o.getSurfPolyLine()),
                            r.push(o.getSurfLongestWave())) : (r.push(o.getStandardPolyLine()),
                            r.push(o.getStandardStartMarker()),
                            r.push(o.getStandardEndMarker())),
                            r;
                        default:
                            return r.push(o.getStandardPolyLine()),
                            r.push(o.getStandardStartMarker()),
                            r.push(o.getStandardEndMarker()),
                            r
                        }
                    }(e, i, this.map, a)
                }
            }, {
                key: "convertToCelsius",
                value: function(t) {
                    return null != t ? 5 * (t - 32) / 9 : null
                }
            }]),
            e
        }(h.a.Component);
        e.a = Object(p.b)(function(t, e) {
            return {
                polyline: Object(z.c)(t, e.activity.activityId),
                weather: Object(B.c)(t),
                typeSplitChartIndex: Object(z.d)(t)
            }
        }, D)(M)
    },
    1529: function(t, e, i) {
        "use strict";
        var a = {
            determineMETS: function(t, e) {
                switch (t) {
                case "running":
                case "street_running":
                case "track_running":
                case "trail_running":
                case "virtual_run":
                case "obstacle_run":
                case "treadmill_running":
                case "indoor_running":
                    return !e || e < 5.2 ? 8 : e < 5.5 ? 9 : e < 5.7 ? 9.3 : e < 6 ? 9.7 : e < 6.3 ? 10 : e < 6.7 ? 10.5 : e < 7 ? 11 : e < 7.5 ? 11.5 : e < 8 ? 12.5 : e < 8.6 ? 13.5 : e < 9 ? 14 : e < 10 ? 15 : e < 10.9 ? 16 : 18;
                case "cycling":
                case "mountain_biking":
                    return e ? e < 10 ? 4 : e < 12 ? 6 : e < 14 ? 8 : e < 16 ? 10 : 12 : 8;
                case "cyclocross":
                case "downhill_biking":
                case "indoor_cycling":
                case "recumbent_cycling":
                case "road_biking":
                case "virtual_ride":
                case "gravel_cycling":
                case "track_cycling":
                case "onshore_grinding":
                    return e ? e < 10 ? 4 : e < 12 ? 6 : e < 14 ? 8 : e < 16 ? 10 : 12 : 8.5;
                case "driving_general":
                case "flying":
                case "rc_drone":
                    return 2;
                case "motorcycling":
                case "boating":
                case "yoga":
                    return 2.5;
                case "walking":
                case "casual_walking":
                case "sailing":
                case "steps":
                case "wind_kite_surfing":
                case "surfing":
                case "pilates":
                    return 3;
                case "snowmobiling_ws":
                case "sky_diving":
                case "hang_gliding":
                case "wingsuit_flying":
                    return 3.5;
                case "horseback_riding":
                case "motocross":
                case "atv":
                case "hunting_fishing":
                    return 4;
                case "golf":
                    return 4.5;
                case "elliptical":
                case "strength_training":
                case "speed_walking":
                case "whitewater_rafting_kayaking":
                    return 5;
                case "fitness_equipment":
                case "indoor_cardio":
                case "hiking":
                case "wakeboarding":
                    return 6;
                case "floor_climbing":
                    return 6.4;
                case "indoor_rowing":
                case "backcountry_skiing_snowboarding_ws":
                case "paddling":
                case "resort_skiing_snowboarding_ws":
                case "rowing":
                case "skate_skiing_ws":
                case "skating_ws":
                case "stand_up_paddleboarding":
                case "tennis":
                    return 7;
                case "cross_country_skiing_ws":
                case "snow_shoe_ws":
                    return 8;
                case "bmx":
                    return 8.5;
                case "stair_climbing":
                    return 9;
                case "swimming":
                case "lap_swimming":
                case "open_water_swimming":
                    return 6;
                case "rock_climbing":
                    return 11;
                case "inline_skating":
                    return 12;
                case "mountaineering":
                    return 16.5
                }
                return null
            },
            autoCalcCalories: function(t, e, i, n) {
                if (e && t && i) {
                    var r = i / 3600
                      , o = Math.round(n / r * .000621371192 * 10) / 10;
                    return Math.round(a.determineMETS(t, o) * e * r)
                }
                return null
            }
        };
        e.a = a
    },
    1532: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(0)
              , n = i.n(a)
              , r = i(8)
              , o = i(1572)
              , s = n.a.Collection.extend({
                model: o.a,
                url: "/proxy/activity-service/activity/eventTypes",
                findByTypeId: function(t) {
                    return this.find(function(e) {
                        return t == e.get("typeId")
                    })
                },
                findByTypeKey: function(t) {
                    return this.find(function(e) {
                        return t == e.get("typeKey")
                    })
                },
                toJSON: function() {
                    var e = n.a.Collection.prototype.toJSON.apply(this, arguments);
                    return t.reject(e, function(t) {
                        return "all" == t.typeKey
                    })
                },
                comparator: function(t, e) {
                    return r.a.localize(t.get("typeKey")).toLowerCase().localeCompare(r.a.localize(e.get("typeKey")).toLowerCase())
                }
            });
            e.a = s
        }
        ).call(this, i(9))
    },
    1533: function(t, e, i) {
        "use strict";
        (function(t, a, n) {
            var r = i(9)
              , o = i.n(r)
              , s = i(0)
              , l = i.n(s)
              , c = i(8)
              , h = i(47)
              , p = i(1301)
              , d = i(1576)
              , u = i.n(d)
              , m = {
                ON_MAP_PROVIDER_CHANGED: "ON_MAP_PROVIDER_CHANGED",
                ON_CUSTOM_LAYER_CLICKED: "ON_CUSTOM_LAYER_CLICKED",
                ON_MAP_COORDINATE_SYSTEM_SELECTED: "ON_MAP_COORDINATE_SYSTEM_SELECTED"
            }
              , f = l.a.View.extend({
                events: {
                    'click [class^="map-provider-"]': "onMapProviderSelected",
                    'click [class^="map-type-"]': "onMapTypeSelected",
                    "click .map-layer-terrain": "onMapStyleTerrainSelected",
                    "click .map-layer-trails": "onMapStyleTrailsSelected",
                    "click .map-layer-labels": "onMapStyleLabelsSelected",
                    "click .map-layer-running-heatmap": "onMapStyleRunningHeatmapSelected",
                    "click .map-layer-cycling-heatmap": "onMapStyleCyclingHeatmapSelected",
                    "click .map-coordinate-system": "onMapCoordinateSystemSelected",
                    "click .zoomIn": "onZoomInClicked",
                    "click .zoomOut": "onZoomOutClicked",
                    "click .additional-layers": "onAdditionalLayersClicked"
                },
                initialize: function(t) {
                    if (!t.mapView)
                        throw "MapView object required by MapControls";
                    this.mapType = "road",
                    this.layersEnabled = [],
                    this.userMapSetting = t.userMapSetting,
                    this.mapView = t.mapView,
                    this.hideHeatMaps = t.hideHeatMaps,
                    this.template = o.a.template(u.a),
                    this.additionalMapLayers = t.additionalMapLayers || [],
                    this.mapView.once(p.a.Events.ON_MAP_READY, this.onMapReady, this)
                },
                onMapReady: function() {
                    this.userMapSetting && (this.mapType = this.userMapSetting.getMapType(),
                    this.mapView.changeMapStyle(this.mapType),
                    1 == this.userMapSetting.getTerrain() && this.mapView.hasTerrainSupport() && (this.mapType == t.Map.Utils.MAP_STYLE_ROAD && this.mapView.changeMapStyle(t.Map.Utils.MAP_STYLE_TERRAIN),
                    this.toggleLayerEnabled("terrain")),
                    1 == this.userMapSetting.getTrails() && this.mapView.hasTrailSupport() && (this.mapView.toggleBicycleLayer(!0),
                    this.toggleLayerEnabled("trails")),
                    1 == this.userMapSetting.getLabels() && (this.mapView.hasLabelSupport() && this.mapType == t.Map.Utils.MAP_STYLE_SATELLITE && this.mapView.changeMapStyle(t.Map.Utils.MAP_STYLE_HYBRID),
                    this.toggleLayerEnabled("labels")),
                    this.hideHeatMaps || (this.userMapSetting.getHeatMapsRunning() && this.mapView.hasHeatmapSupport() && (t.Map.Utils.activityType = "running",
                    this.mapView.enableHeatMaps(!0, "running"),
                    this.toggleLayerEnabled("running-heatmap")),
                    this.userMapSetting.getHeatMapsCycling() && this.mapView.hasHeatmapSupport() && (t.Map.Utils.activityType = "cycling",
                    this.mapView.enableHeatMaps(!0, "cycling"),
                    this.toggleLayerEnabled("cycling-heatmap"))));
                    this.render()
                },
                render: function() {
                    this.$el.html(this.template({
                        Localizer: c.a,
                        hideHeatMaps: this.hideHeatMaps,
                        additionalMapLayers: this.additionalMapLayers
                    }));
                    var e = this.mapProvider ? this.mapProvider : this.mapView.getMapProviderType();
                    (this.$(".map-provider-" + e).addClass("active"),
                    e === t.Map.Utils.PROVIDER_TYPE_OSM && (this.mapType = "road",
                    this.$(".map-type-satellite").hide()),
                    this.$(".map-type-" + this.mapType).addClass("active"),
                    o.a.each(this.layersEnabled, function(t) {
                        this.$(".map-layer-" + t).addClass("active multiple")
                    }, this),
                    this.mapType == t.Map.Utils.MAP_STYLE_ROAD && this.mapView.hasTerrainSupport() || this.$(".map-layer-terrain").addClass("disabled"),
                    this.mapView.hasTrailSupport() || this.$(".map-layer-trails").addClass("disabled"),
                    this.mapType == t.Map.Utils.MAP_STYLE_SATELLITE && this.mapView.hasLabelSupport() || this.$(".map-layer-labels").addClass("disabled"),
                    this.mapView.hasHeatmapSupport() || (this.$(".map-layer-running-heatmap").addClass("disabled"),
                    this.$(".map-layer-cycling-heatmap").addClass("disabled")),
                    this.mapView.disableBaidu()) ? this.$(".map-provider-BAIDU_V_1_4").remove() : (-1 != window.location.href.indexOf("garmin.cn") || window.chinaMode) && (this.$(".map-provider-google").remove(),
                    this.$(".map-provider-here").remove(),
                    this.$(".map-provider-osm").remove());
                    this.mapView.getMapProviderType() == t.Map.Utils.PROVIDER_TYPE_BAIDU && this.$(".map-coordinate-system").show()
                },
                onZoomInClicked: function(t) {
                    t.preventDefault(),
                    this.mapView.zoomIn()
                },
                onZoomOutClicked: function(t) {
                    t.preventDefault(),
                    this.mapView.zoomOut()
                },
                onMapProviderSelected: function(e) {
                    if (e.preventDefault(),
                    !this.$(e.currentTarget).hasClass("active")) {
                        var i = e.currentTarget.className.substring(13);
                        if (this.userMapSetting)
                            new h.a({
                                key: "map_provider_type",
                                value: i
                            }).save();
                        i === t.Map.Utils.PROVIDER_TYPE_OSM ? this.$(".map-type-satellite").hide() : this.$(".map-type-satellite").show(),
                        this.mapProvider = i,
                        this.trigger(m.ON_MAP_PROVIDER_CHANGED, i)
                    }
                },
                onMapTypeSelected: function(t) {
                    t.preventDefault();
                    var e = t.currentTarget.className.substring(9);
                    -1 == e.indexOf("active") && (this.userMapSetting && (this.userMapSetting.setMapType(e),
                    this.userMapSetting.save()),
                    this.mapType = e,
                    this.mapView.changeMapStyle(e),
                    this.isLayerEnabled("labels") && this.$(".map-layer-labels").hasClass("disabled") && (this.userMapSetting.setLabels(!0),
                    this.userMapSetting.save(),
                    setTimeout(function() {
                        this.mapView.enableLabels(!0)
                    }
                    .bind(this), 0))),
                    this.render()
                },
                onMapStyleTerrainSelected: function(t) {
                    if (t.preventDefault(),
                    !a(t.currentTarget).hasClass("disabled")) {
                        var e = !this.isLayerEnabled("terrain");
                        this.userMapSetting && (this.userMapSetting.setTerrain(e),
                        this.userMapSetting.save()),
                        this.mapView.enableTerrain(e),
                        this.toggleLayerEnabled("terrain"),
                        this.render()
                    }
                },
                onMapStyleTrailsSelected: function(t) {
                    if (t.preventDefault(),
                    !a(t.currentTarget).hasClass("disabled")) {
                        var e = !this.isLayerEnabled("trails");
                        this.userMapSetting && (this.userMapSetting.setTrails(e),
                        this.userMapSetting.save()),
                        this.mapView.enableTrails(e),
                        this.toggleLayerEnabled("trails"),
                        this.render()
                    }
                },
                onMapStyleLabelsSelected: function(t) {
                    if (t.preventDefault(),
                    !a(t.currentTarget).hasClass("disabled")) {
                        var e = !this.isLayerEnabled("labels");
                        this.userMapSetting && (this.userMapSetting.setLabels(e),
                        this.userMapSetting.save()),
                        this.mapView.enableLabels(e),
                        this.toggleLayerEnabled("labels"),
                        this.render()
                    }
                },
                onMapStyleRunningHeatmapSelected: function(t) {
                    if (t.preventDefault(),
                    !a(t.currentTarget).hasClass("disabled")) {
                        var e = !this.isLayerEnabled("running-heatmap");
                        this.userMapSetting && (this.userMapSetting.setHeatMapsRunning(e),
                        e && this.userMapSetting.setHeatMapsCycling(!e),
                        this.userMapSetting.save()),
                        this.mapView.enableHeatMaps(e, "running"),
                        this.toggleLayerEnabled("running-heatmap"),
                        1 == e && this.isLayerEnabled("cycling-heatmap") && this.toggleLayerEnabled("cycling-heatmap"),
                        this.render()
                    }
                },
                onMapStyleCyclingHeatmapSelected: function(t) {
                    if (t.preventDefault(),
                    !a(t.currentTarget).hasClass("disabled")) {
                        var e = !this.isLayerEnabled("cycling-heatmap");
                        this.userMapSetting && (this.userMapSetting.setHeatMapsCycling(e),
                        e && this.userMapSetting.setHeatMapsRunning(!e),
                        this.userMapSetting.save()),
                        this.mapView.enableHeatMaps(e, "cycling"),
                        this.toggleLayerEnabled("cycling-heatmap"),
                        1 == e && this.isLayerEnabled("running-heatmap") && this.toggleLayerEnabled("running-heatmap"),
                        this.render()
                    }
                },
                onMapCoordinateSystemSelected: function(t) {
                    t.preventDefault(),
                    this.trigger(m.ON_MAP_COORDINATE_SYSTEM_SELECTED)
                },
                onAdditionalLayersClicked: function(t) {
                    t.preventDefault();
                    var e = n(t.currentTarget)
                      , i = !e.hasClass("active")
                      , a = e.attr("data-layer-name");
                    n(".additional-layers").each(function(t, e) {
                        n(e).removeClass("active")
                    }),
                    i && e.addClass("active"),
                    this.trigger(m.ON_CUSTOM_LAYER_CLICKED, {
                        which: a,
                        selected: i
                    }),
                    o.a.each(this.additionalMapLayers, function(t) {
                        t.func && (t.value === a ? (t.func(i),
                        t.selected = i) : i && (t.func(!i),
                        t.selected = !i))
                    })
                },
                toggleLayerEnabled: function(t) {
                    o.a.find(this.layersEnabled, function(e) {
                        return e == t
                    }) ? this.layersEnabled = o.a.reject(this.layersEnabled, function(e) {
                        return e == t
                    }) : this.layersEnabled.push(t)
                },
                isLayerEnabled: function(t) {
                    return null != o.a.find(this.layersEnabled, function(e) {
                        return e == t
                    })
                },
                setTextForEnableDisableScrollButton: function(t) {
                    this.$(".map-control-item.scrolling").text(t)
                },
                hideScrollToggleButton: function() {
                    this.$(".map-control-item.scrolling").addClass("hide")
                },
                showScrollToggleButton: function() {
                    this.$(".map-control-item.scrolling").removeClass("hide")
                }
            });
            f.Events = m,
            e.a = f
        }
        ).call(this, i(1259), i(10), i(10))
    },
    1535: function(t, e, i) {
        var a = i(1579);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    1547: function(module, exports, __webpack_require__) {
        var __WEBPACK_AMD_DEFINE_RESULT__, root, factory;
        "undefined" !== typeof navigator && (root = window || {},
        factory = function(window) {
            "use strict";
            var svgNS = "http://www.w3.org/2000/svg", locationHref = "", initialDefaultFrame = -999999, subframeEnabled = !0, expressionsPlugin, isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent), cachedColors = {}, bm_rounder = Math.round, bm_rnd, bm_pow = Math.pow, bm_sqrt = Math.sqrt, bm_abs = Math.abs, bm_floor = Math.floor, bm_max = Math.max, bm_min = Math.min, blitter = 10, BMMath = {};
            function ProjectInterface() {
                return {}
            }
            !function() {
                var t, e = ["abs", "acos", "acosh", "asin", "asinh", "atan", "atanh", "atan2", "ceil", "cbrt", "expm1", "clz32", "cos", "cosh", "exp", "floor", "fround", "hypot", "imul", "log", "log1p", "log2", "log10", "max", "min", "pow", "random", "round", "sign", "sin", "sinh", "sqrt", "tan", "tanh", "trunc", "E", "LN10", "LN2", "LOG10E", "LOG2E", "PI", "SQRT1_2", "SQRT2"], i = e.length;
                for (t = 0; t < i; t += 1)
                    BMMath[e[t]] = Math[e[t]]
            }(),
            BMMath.random = Math.random,
            BMMath.abs = function(t) {
                if ("object" === typeof t && t.length) {
                    var e, i = createSizedArray(t.length), a = t.length;
                    for (e = 0; e < a; e += 1)
                        i[e] = Math.abs(t[e]);
                    return i
                }
                return Math.abs(t)
            }
            ;
            var defaultCurveSegments = 150
              , degToRads = Math.PI / 180
              , roundCorner = .5519;
            function roundValues(t) {
                bm_rnd = t ? Math.round : function(t) {
                    return t
                }
            }
            function styleDiv(t) {
                t.style.position = "absolute",
                t.style.top = 0,
                t.style.left = 0,
                t.style.display = "block",
                t.style.transformOrigin = t.style.webkitTransformOrigin = "0 0",
                t.style.backfaceVisibility = t.style.webkitBackfaceVisibility = "visible",
                t.style.transformStyle = t.style.webkitTransformStyle = t.style.mozTransformStyle = "preserve-3d"
            }
            function BMEnterFrameEvent(t, e, i, a) {
                this.type = t,
                this.currentTime = e,
                this.totalTime = i,
                this.direction = a < 0 ? -1 : 1
            }
            function BMCompleteEvent(t, e) {
                this.type = t,
                this.direction = e < 0 ? -1 : 1
            }
            function BMCompleteLoopEvent(t, e, i, a) {
                this.type = t,
                this.currentLoop = i,
                this.totalLoops = e,
                this.direction = a < 0 ? -1 : 1
            }
            function BMSegmentStartEvent(t, e, i) {
                this.type = t,
                this.firstFrame = e,
                this.totalFrames = i
            }
            function BMDestroyEvent(t, e) {
                this.type = t,
                this.target = e
            }
            roundValues(!1);
            var createElementID = function() {
                var t = 0;
                return function() {
                    return "__lottie_element_" + ++t
                }
            }();
            function HSVtoRGB(t, e, i) {
                var a, n, r, o, s, l, c, h;
                switch (l = i * (1 - e),
                c = i * (1 - (s = 6 * t - (o = Math.floor(6 * t))) * e),
                h = i * (1 - (1 - s) * e),
                o % 6) {
                case 0:
                    a = i,
                    n = h,
                    r = l;
                    break;
                case 1:
                    a = c,
                    n = i,
                    r = l;
                    break;
                case 2:
                    a = l,
                    n = i,
                    r = h;
                    break;
                case 3:
                    a = l,
                    n = c,
                    r = i;
                    break;
                case 4:
                    a = h,
                    n = l,
                    r = i;
                    break;
                case 5:
                    a = i,
                    n = l,
                    r = c
                }
                return [a, n, r]
            }
            function RGBtoHSV(t, e, i) {
                var a, n = Math.max(t, e, i), r = Math.min(t, e, i), o = n - r, s = 0 === n ? 0 : o / n, l = n / 255;
                switch (n) {
                case r:
                    a = 0;
                    break;
                case t:
                    a = e - i + o * (e < i ? 6 : 0),
                    a /= 6 * o;
                    break;
                case e:
                    a = i - t + 2 * o,
                    a /= 6 * o;
                    break;
                case i:
                    a = t - e + 4 * o,
                    a /= 6 * o
                }
                return [a, s, l]
            }
            function addSaturationToRGB(t, e) {
                var i = RGBtoHSV(255 * t[0], 255 * t[1], 255 * t[2]);
                return i[1] += e,
                i[1] > 1 ? i[1] = 1 : i[1] <= 0 && (i[1] = 0),
                HSVtoRGB(i[0], i[1], i[2])
            }
            function addBrightnessToRGB(t, e) {
                var i = RGBtoHSV(255 * t[0], 255 * t[1], 255 * t[2]);
                return i[2] += e,
                i[2] > 1 ? i[2] = 1 : i[2] < 0 && (i[2] = 0),
                HSVtoRGB(i[0], i[1], i[2])
            }
            function addHueToRGB(t, e) {
                var i = RGBtoHSV(255 * t[0], 255 * t[1], 255 * t[2]);
                return i[0] += e / 360,
                i[0] > 1 ? i[0] -= 1 : i[0] < 0 && (i[0] += 1),
                HSVtoRGB(i[0], i[1], i[2])
            }
            var rgbToHex = function() {
                var t, e, i = [];
                for (t = 0; t < 256; t += 1)
                    e = t.toString(16),
                    i[t] = 1 == e.length ? "0" + e : e;
                return function(t, e, a) {
                    return t < 0 && (t = 0),
                    e < 0 && (e = 0),
                    a < 0 && (a = 0),
                    "#" + i[t] + i[e] + i[a]
                }
            }();
            function BaseEvent() {}
            BaseEvent.prototype = {
                triggerEvent: function(t, e) {
                    if (this._cbs[t])
                        for (var i = this._cbs[t].length, a = 0; a < i; a++)
                            this._cbs[t][a](e)
                },
                addEventListener: function(t, e) {
                    return this._cbs[t] || (this._cbs[t] = []),
                    this._cbs[t].push(e),
                    function() {
                        this.removeEventListener(t, e)
                    }
                    .bind(this)
                },
                removeEventListener: function(t, e) {
                    if (e) {
                        if (this._cbs[t]) {
                            for (var i = 0, a = this._cbs[t].length; i < a; )
                                this._cbs[t][i] === e && (this._cbs[t].splice(i, 1),
                                i -= 1,
                                a -= 1),
                                i += 1;
                            this._cbs[t].length || (this._cbs[t] = null)
                        }
                    } else
                        this._cbs[t] = null
                }
            };
            var createTypedArray = function() {
                return "function" === typeof Uint8ClampedArray && "function" === typeof Float32Array ? function(t, e) {
                    return "float32" === t ? new Float32Array(e) : "int16" === t ? new Int16Array(e) : "uint8c" === t ? new Uint8ClampedArray(e) : void 0
                }
                : function(t, e) {
                    var i, a = 0, n = [];
                    switch (t) {
                    case "int16":
                    case "uint8c":
                        i = 1;
                        break;
                    default:
                        i = 1.1
                    }
                    for (a = 0; a < e; a += 1)
                        n.push(i);
                    return n
                }
            }();
            function createSizedArray(t) {
                return Array.apply(null, {
                    length: t
                })
            }
            function createNS(t) {
                return document.createElementNS(svgNS, t)
            }
            function createTag(t) {
                return document.createElement(t)
            }
            function DynamicPropertyContainer() {}
            DynamicPropertyContainer.prototype = {
                addDynamicProperty: function(t) {
                    -1 === this.dynamicProperties.indexOf(t) && (this.dynamicProperties.push(t),
                    this.container.addDynamicProperty(this),
                    this._isAnimated = !0)
                },
                iterateDynamicProperties: function() {
                    this._mdf = !1;
                    var t, e = this.dynamicProperties.length;
                    for (t = 0; t < e; t += 1)
                        this.dynamicProperties[t].getValue(),
                        this.dynamicProperties[t]._mdf && (this._mdf = !0)
                },
                initDynamicPropertyContainer: function(t) {
                    this.container = t,
                    this.dynamicProperties = [],
                    this._mdf = !1,
                    this._isAnimated = !1
                }
            };
            var getBlendMode = function() {
                var t = {
                    0: "source-over",
                    1: "multiply",
                    2: "screen",
                    3: "overlay",
                    4: "darken",
                    5: "lighten",
                    6: "color-dodge",
                    7: "color-burn",
                    8: "hard-light",
                    9: "soft-light",
                    10: "difference",
                    11: "exclusion",
                    12: "hue",
                    13: "saturation",
                    14: "color",
                    15: "luminosity"
                };
                return function(e) {
                    return t[e] || ""
                }
            }()
              , Matrix = function() {
                var t = Math.cos
                  , e = Math.sin
                  , i = Math.tan
                  , a = Math.round;
                function n() {
                    return this.props[0] = 1,
                    this.props[1] = 0,
                    this.props[2] = 0,
                    this.props[3] = 0,
                    this.props[4] = 0,
                    this.props[5] = 1,
                    this.props[6] = 0,
                    this.props[7] = 0,
                    this.props[8] = 0,
                    this.props[9] = 0,
                    this.props[10] = 1,
                    this.props[11] = 0,
                    this.props[12] = 0,
                    this.props[13] = 0,
                    this.props[14] = 0,
                    this.props[15] = 1,
                    this
                }
                function r(i) {
                    if (0 === i)
                        return this;
                    var a = t(i)
                      , n = e(i);
                    return this._t(a, -n, 0, 0, n, a, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
                }
                function o(i) {
                    if (0 === i)
                        return this;
                    var a = t(i)
                      , n = e(i);
                    return this._t(1, 0, 0, 0, 0, a, -n, 0, 0, n, a, 0, 0, 0, 0, 1)
                }
                function s(i) {
                    if (0 === i)
                        return this;
                    var a = t(i)
                      , n = e(i);
                    return this._t(a, 0, n, 0, 0, 1, 0, 0, -n, 0, a, 0, 0, 0, 0, 1)
                }
                function l(i) {
                    if (0 === i)
                        return this;
                    var a = t(i)
                      , n = e(i);
                    return this._t(a, -n, 0, 0, n, a, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
                }
                function c(t, e) {
                    return this._t(1, e, t, 1, 0, 0)
                }
                function h(t, e) {
                    return this.shear(i(t), i(e))
                }
                function p(a, n) {
                    var r = t(n)
                      , o = e(n);
                    return this._t(r, o, 0, 0, -o, r, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, i(a), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(r, -o, 0, 0, o, r, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
                }
                function d(t, e, i) {
                    return i || 0 === i || (i = 1),
                    1 === t && 1 === e && 1 === i ? this : this._t(t, 0, 0, 0, 0, e, 0, 0, 0, 0, i, 0, 0, 0, 0, 1)
                }
                function u(t, e, i, a, n, r, o, s, l, c, h, p, d, u, m, f) {
                    return this.props[0] = t,
                    this.props[1] = e,
                    this.props[2] = i,
                    this.props[3] = a,
                    this.props[4] = n,
                    this.props[5] = r,
                    this.props[6] = o,
                    this.props[7] = s,
                    this.props[8] = l,
                    this.props[9] = c,
                    this.props[10] = h,
                    this.props[11] = p,
                    this.props[12] = d,
                    this.props[13] = u,
                    this.props[14] = m,
                    this.props[15] = f,
                    this
                }
                function m(t, e, i) {
                    return i = i || 0,
                    0 !== t || 0 !== e || 0 !== i ? this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, t, e, i, 1) : this
                }
                function f(t, e, i, a, n, r, o, s, l, c, h, p, d, u, m, f) {
                    var g = this.props;
                    if (1 === t && 0 === e && 0 === i && 0 === a && 0 === n && 1 === r && 0 === o && 0 === s && 0 === l && 0 === c && 1 === h && 0 === p)
                        return g[12] = g[12] * t + g[15] * d,
                        g[13] = g[13] * r + g[15] * u,
                        g[14] = g[14] * h + g[15] * m,
                        g[15] = g[15] * f,
                        this._identityCalculated = !1,
                        this;
                    var y = g[0]
                      , v = g[1]
                      , b = g[2]
                      , A = g[3]
                      , _ = g[4]
                      , C = g[5]
                      , w = g[6]
                      , x = g[7]
                      , S = g[8]
                      , T = g[9]
                      , E = g[10]
                      , k = g[11]
                      , L = g[12]
                      , P = g[13]
                      , I = g[14]
                      , z = g[15];
                    return g[0] = y * t + v * n + b * l + A * d,
                    g[1] = y * e + v * r + b * c + A * u,
                    g[2] = y * i + v * o + b * h + A * m,
                    g[3] = y * a + v * s + b * p + A * f,
                    g[4] = _ * t + C * n + w * l + x * d,
                    g[5] = _ * e + C * r + w * c + x * u,
                    g[6] = _ * i + C * o + w * h + x * m,
                    g[7] = _ * a + C * s + w * p + x * f,
                    g[8] = S * t + T * n + E * l + k * d,
                    g[9] = S * e + T * r + E * c + k * u,
                    g[10] = S * i + T * o + E * h + k * m,
                    g[11] = S * a + T * s + E * p + k * f,
                    g[12] = L * t + P * n + I * l + z * d,
                    g[13] = L * e + P * r + I * c + z * u,
                    g[14] = L * i + P * o + I * h + z * m,
                    g[15] = L * a + P * s + I * p + z * f,
                    this._identityCalculated = !1,
                    this
                }
                function g() {
                    return this._identityCalculated || (this._identity = !(1 !== this.props[0] || 0 !== this.props[1] || 0 !== this.props[2] || 0 !== this.props[3] || 0 !== this.props[4] || 1 !== this.props[5] || 0 !== this.props[6] || 0 !== this.props[7] || 0 !== this.props[8] || 0 !== this.props[9] || 1 !== this.props[10] || 0 !== this.props[11] || 0 !== this.props[12] || 0 !== this.props[13] || 0 !== this.props[14] || 1 !== this.props[15]),
                    this._identityCalculated = !0),
                    this._identity
                }
                function y(t) {
                    for (var e = 0; e < 16; ) {
                        if (t.props[e] !== this.props[e])
                            return !1;
                        e += 1
                    }
                    return !0
                }
                function v(t) {
                    var e;
                    for (e = 0; e < 16; e += 1)
                        t.props[e] = this.props[e]
                }
                function b(t) {
                    var e;
                    for (e = 0; e < 16; e += 1)
                        this.props[e] = t[e]
                }
                function A(t, e, i) {
                    return {
                        x: t * this.props[0] + e * this.props[4] + i * this.props[8] + this.props[12],
                        y: t * this.props[1] + e * this.props[5] + i * this.props[9] + this.props[13],
                        z: t * this.props[2] + e * this.props[6] + i * this.props[10] + this.props[14]
                    }
                }
                function _(t, e, i) {
                    return t * this.props[0] + e * this.props[4] + i * this.props[8] + this.props[12]
                }
                function C(t, e, i) {
                    return t * this.props[1] + e * this.props[5] + i * this.props[9] + this.props[13]
                }
                function w(t, e, i) {
                    return t * this.props[2] + e * this.props[6] + i * this.props[10] + this.props[14]
                }
                function x(t) {
                    var e = this.props[0] * this.props[5] - this.props[1] * this.props[4]
                      , i = this.props[5] / e
                      , a = -this.props[1] / e
                      , n = -this.props[4] / e
                      , r = this.props[0] / e
                      , o = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / e
                      , s = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / e;
                    return [t[0] * i + t[1] * n + o, t[0] * a + t[1] * r + s, 0]
                }
                function S(t) {
                    var e, i = t.length, a = [];
                    for (e = 0; e < i; e += 1)
                        a[e] = x(t[e]);
                    return a
                }
                function T(t, e, i) {
                    var a = createTypedArray("float32", 6);
                    if (this.isIdentity())
                        a[0] = t[0],
                        a[1] = t[1],
                        a[2] = e[0],
                        a[3] = e[1],
                        a[4] = i[0],
                        a[5] = i[1];
                    else {
                        var n = this.props[0]
                          , r = this.props[1]
                          , o = this.props[4]
                          , s = this.props[5]
                          , l = this.props[12]
                          , c = this.props[13];
                        a[0] = t[0] * n + t[1] * o + l,
                        a[1] = t[0] * r + t[1] * s + c,
                        a[2] = e[0] * n + e[1] * o + l,
                        a[3] = e[0] * r + e[1] * s + c,
                        a[4] = i[0] * n + i[1] * o + l,
                        a[5] = i[0] * r + i[1] * s + c
                    }
                    return a
                }
                function E(t, e, i) {
                    return this.isIdentity() ? [t, e, i] : [t * this.props[0] + e * this.props[4] + i * this.props[8] + this.props[12], t * this.props[1] + e * this.props[5] + i * this.props[9] + this.props[13], t * this.props[2] + e * this.props[6] + i * this.props[10] + this.props[14]]
                }
                function k(t, e) {
                    if (this.isIdentity())
                        return t + "," + e;
                    var i = this.props;
                    return Math.round(100 * (t * i[0] + e * i[4] + i[12])) / 100 + "," + Math.round(100 * (t * i[1] + e * i[5] + i[13])) / 100
                }
                function L() {
                    for (var t = 0, e = this.props, i = "matrix3d("; t < 16; )
                        i += a(1e4 * e[t]) / 1e4,
                        i += 15 === t ? ")" : ",",
                        t += 1;
                    return i
                }
                function P(t) {
                    return t < 1e-6 && t > 0 || t > -1e-6 && t < 0 ? a(1e4 * t) / 1e4 : t
                }
                function I() {
                    var t = this.props;
                    return "matrix(" + P(t[0]) + "," + P(t[1]) + "," + P(t[4]) + "," + P(t[5]) + "," + P(t[12]) + "," + P(t[13]) + ")"
                }
                return function() {
                    this.reset = n,
                    this.rotate = r,
                    this.rotateX = o,
                    this.rotateY = s,
                    this.rotateZ = l,
                    this.skew = h,
                    this.skewFromAxis = p,
                    this.shear = c,
                    this.scale = d,
                    this.setTransform = u,
                    this.translate = m,
                    this.transform = f,
                    this.applyToPoint = A,
                    this.applyToX = _,
                    this.applyToY = C,
                    this.applyToZ = w,
                    this.applyToPointArray = E,
                    this.applyToTriplePoints = T,
                    this.applyToPointStringified = k,
                    this.toCSS = L,
                    this.to2dCSS = I,
                    this.clone = v,
                    this.cloneFromProps = b,
                    this.equals = y,
                    this.inversePoints = S,
                    this.inversePoint = x,
                    this._t = this.transform,
                    this.isIdentity = g,
                    this._identity = !0,
                    this._identityCalculated = !1,
                    this.props = createTypedArray("float32", 16),
                    this.reset()
                }
            }();
            !function(t, e) {
                var i, a = this, n = 256, r = 6, o = "random", s = e.pow(n, r), l = e.pow(2, 52), c = 2 * l, h = n - 1;
                function p(t) {
                    var e, i = t.length, a = this, r = 0, o = a.i = a.j = 0, s = a.S = [];
                    for (i || (t = [i++]); r < n; )
                        s[r] = r++;
                    for (r = 0; r < n; r++)
                        s[r] = s[o = h & o + t[r % i] + (e = s[r])],
                        s[o] = e;
                    a.g = function(t) {
                        for (var e, i = 0, r = a.i, o = a.j, s = a.S; t--; )
                            e = s[r = h & r + 1],
                            i = i * n + s[h & (s[r] = s[o = h & o + e]) + (s[o] = e)];
                        return a.i = r,
                        a.j = o,
                        i
                    }
                }
                function d(t, e) {
                    return e.i = t.i,
                    e.j = t.j,
                    e.S = t.S.slice(),
                    e
                }
                function u(t, e) {
                    for (var i, a = t + "", n = 0; n < a.length; )
                        e[h & n] = h & (i ^= 19 * e[h & n]) + a.charCodeAt(n++);
                    return m(e)
                }
                function m(t) {
                    return String.fromCharCode.apply(0, t)
                }
                e["seed" + o] = function(h, f, g) {
                    var y = []
                      , v = u(function t(e, i) {
                        var a, n = [], r = typeof e;
                        if (i && "object" == r)
                            for (a in e)
                                try {
                                    n.push(t(e[a], i - 1))
                                } catch (o) {}
                        return n.length ? n : "string" == r ? e : e + "\0"
                    }((f = !0 === f ? {
                        entropy: !0
                    } : f || {}).entropy ? [h, m(t)] : null === h ? function() {
                        try {
                            if (i)
                                return m(i.randomBytes(n));
                            var e = new Uint8Array(n);
                            return (a.crypto || a.msCrypto).getRandomValues(e),
                            m(e)
                        } catch (s) {
                            var r = a.navigator
                              , o = r && r.plugins;
                            return [+new Date, a, o, a.screen, m(t)]
                        }
                    }() : h, 3), y)
                      , b = new p(y)
                      , A = function() {
                        for (var t = b.g(r), e = s, i = 0; t < l; )
                            t = (t + i) * n,
                            e *= n,
                            i = b.g(1);
                        for (; t >= c; )
                            t /= 2,
                            e /= 2,
                            i >>>= 1;
                        return (t + i) / e
                    };
                    return A.int32 = function() {
                        return 0 | b.g(4)
                    }
                    ,
                    A.quick = function() {
                        return b.g(4) / 4294967296
                    }
                    ,
                    A.double = A,
                    u(m(b.S), t),
                    (f.pass || g || function(t, i, a, n) {
                        return n && (n.S && d(n, b),
                        t.state = function() {
                            return d(b, {})
                        }
                        ),
                        a ? (e[o] = t,
                        i) : t
                    }
                    )(A, v, "global"in f ? f.global : this == e, f.state)
                }
                ,
                u(e.random(), t)
            }([], BMMath);
            var BezierFactory = function() {
                var t = {
                    getBezierEasing: function(t, i, a, n, r) {
                        var o = r || ("bez_" + t + "_" + i + "_" + a + "_" + n).replace(/\./g, "p");
                        if (e[o])
                            return e[o];
                        var s = new u([t, i, a, n]);
                        return e[o] = s,
                        s
                    }
                }
                  , e = {};
                var i = 4
                  , a = 1e-7
                  , n = 10
                  , r = 11
                  , o = 1 / (r - 1)
                  , s = "function" === typeof Float32Array;
                function l(t, e) {
                    return 1 - 3 * e + 3 * t
                }
                function c(t, e) {
                    return 3 * e - 6 * t
                }
                function h(t) {
                    return 3 * t
                }
                function p(t, e, i) {
                    return ((l(e, i) * t + c(e, i)) * t + h(e)) * t
                }
                function d(t, e, i) {
                    return 3 * l(e, i) * t * t + 2 * c(e, i) * t + h(e)
                }
                function u(t) {
                    this._p = t,
                    this._mSampleValues = s ? new Float32Array(r) : new Array(r),
                    this._precomputed = !1,
                    this.get = this.get.bind(this)
                }
                return u.prototype = {
                    get: function(t) {
                        var e = this._p[0]
                          , i = this._p[1]
                          , a = this._p[2]
                          , n = this._p[3];
                        return this._precomputed || this._precompute(),
                        e === i && a === n ? t : 0 === t ? 0 : 1 === t ? 1 : p(this._getTForX(t), i, n)
                    },
                    _precompute: function() {
                        var t = this._p[0]
                          , e = this._p[1]
                          , i = this._p[2]
                          , a = this._p[3];
                        this._precomputed = !0,
                        t === e && i === a || this._calcSampleValues()
                    },
                    _calcSampleValues: function() {
                        for (var t = this._p[0], e = this._p[2], i = 0; i < r; ++i)
                            this._mSampleValues[i] = p(i * o, t, e)
                    },
                    _getTForX: function(t) {
                        for (var e = this._p[0], s = this._p[2], l = this._mSampleValues, c = 0, h = 1, u = r - 1; h !== u && l[h] <= t; ++h)
                            c += o;
                        var m = c + (t - l[--h]) / (l[h + 1] - l[h]) * o
                          , f = d(m, e, s);
                        return f >= .001 ? function(t, e, a, n) {
                            for (var r = 0; r < i; ++r) {
                                var o = d(e, a, n);
                                if (0 === o)
                                    return e;
                                e -= (p(e, a, n) - t) / o
                            }
                            return e
                        }(t, m, e, s) : 0 === f ? m : function(t, e, i, r, o) {
                            var s, l, c = 0;
                            do {
                                (s = p(l = e + (i - e) / 2, r, o) - t) > 0 ? i = l : e = l
                            } while (Math.abs(s) > a && ++c < n);return l
                        }(t, c, c + o, e, s)
                    }
                },
                t
            }();
            function extendPrototype(t, e) {
                var i, a, n = t.length;
                for (i = 0; i < n; i += 1)
                    for (var r in a = t[i].prototype)
                        a.hasOwnProperty(r) && (e.prototype[r] = a[r])
            }
            function getDescriptor(t, e) {
                return Object.getOwnPropertyDescriptor(t, e)
            }
            function createProxyFunction(t) {
                function e() {}
                return e.prototype = t,
                e
            }
            function bezFunction() {
                Math;
                function t(t, e, i, a, n, r) {
                    var o = t * a + e * n + i * r - n * a - r * t - i * e;
                    return o > -.001 && o < .001
                }
                var e = function(t, e, i, a) {
                    var n, r, o, s, l, c, h = defaultCurveSegments, p = 0, d = [], u = [], m = bezier_length_pool.newElement();
                    for (o = i.length,
                    n = 0; n < h; n += 1) {
                        for (l = n / (h - 1),
                        c = 0,
                        r = 0; r < o; r += 1)
                            s = bm_pow(1 - l, 3) * t[r] + 3 * bm_pow(1 - l, 2) * l * i[r] + 3 * (1 - l) * bm_pow(l, 2) * a[r] + bm_pow(l, 3) * e[r],
                            d[r] = s,
                            null !== u[r] && (c += bm_pow(d[r] - u[r], 2)),
                            u[r] = d[r];
                        c && (p += c = bm_sqrt(c)),
                        m.percents[n] = l,
                        m.lengths[n] = p
                    }
                    return m.addedLength = p,
                    m
                };
                function i(t) {
                    this.segmentLength = 0,
                    this.points = new Array(t)
                }
                function a(t, e) {
                    this.partialLength = t,
                    this.point = e
                }
                var n = function() {
                    var e = {};
                    return function(n, r, o, s) {
                        var l = (n[0] + "_" + n[1] + "_" + r[0] + "_" + r[1] + "_" + o[0] + "_" + o[1] + "_" + s[0] + "_" + s[1]).replace(/\./g, "p");
                        if (!e[l]) {
                            var c, h, p, d, u, m, f, g = defaultCurveSegments, y = 0, v = null;
                            2 === n.length && (n[0] != r[0] || n[1] != r[1]) && t(n[0], n[1], r[0], r[1], n[0] + o[0], n[1] + o[1]) && t(n[0], n[1], r[0], r[1], r[0] + s[0], r[1] + s[1]) && (g = 2);
                            var b = new i(g);
                            for (p = o.length,
                            c = 0; c < g; c += 1) {
                                for (f = createSizedArray(p),
                                u = c / (g - 1),
                                m = 0,
                                h = 0; h < p; h += 1)
                                    d = bm_pow(1 - u, 3) * n[h] + 3 * bm_pow(1 - u, 2) * u * (n[h] + o[h]) + 3 * (1 - u) * bm_pow(u, 2) * (r[h] + s[h]) + bm_pow(u, 3) * r[h],
                                    f[h] = d,
                                    null !== v && (m += bm_pow(f[h] - v[h], 2));
                                y += m = bm_sqrt(m),
                                b.points[c] = new a(m,f),
                                v = f
                            }
                            b.segmentLength = y,
                            e[l] = b
                        }
                        return e[l]
                    }
                }();
                function r(t, e) {
                    var i = e.percents
                      , a = e.lengths
                      , n = i.length
                      , r = bm_floor((n - 1) * t)
                      , o = t * e.addedLength
                      , s = 0;
                    if (r === n - 1 || 0 === r || o === a[r])
                        return i[r];
                    for (var l = a[r] > o ? -1 : 1, c = !0; c; )
                        if (a[r] <= o && a[r + 1] > o ? (s = (o - a[r]) / (a[r + 1] - a[r]),
                        c = !1) : r += l,
                        r < 0 || r >= n - 1) {
                            if (r === n - 1)
                                return i[r];
                            c = !1
                        }
                    return i[r] + (i[r + 1] - i[r]) * s
                }
                var o = createTypedArray("float32", 8);
                return {
                    getSegmentsLength: function(t) {
                        var i, a = segments_length_pool.newElement(), n = t.c, r = t.v, o = t.o, s = t.i, l = t._length, c = a.lengths, h = 0;
                        for (i = 0; i < l - 1; i += 1)
                            c[i] = e(r[i], r[i + 1], o[i], s[i + 1]),
                            h += c[i].addedLength;
                        return n && l && (c[i] = e(r[i], r[0], o[i], s[0]),
                        h += c[i].addedLength),
                        a.totalLength = h,
                        a
                    },
                    getNewSegment: function(t, e, i, a, n, s, l) {
                        var c, h = r(n = n < 0 ? 0 : n > 1 ? 1 : n, l), p = r(s = s > 1 ? 1 : s, l), d = t.length, u = 1 - h, m = 1 - p, f = u * u * u, g = h * u * u * 3, y = h * h * u * 3, v = h * h * h, b = u * u * m, A = h * u * m + u * h * m + u * u * p, _ = h * h * m + u * h * p + h * u * p, C = h * h * p, w = u * m * m, x = h * m * m + u * p * m + u * m * p, S = h * p * m + u * p * p + h * m * p, T = h * p * p, E = m * m * m, k = p * m * m + m * p * m + m * m * p, L = p * p * m + m * p * p + p * m * p, P = p * p * p;
                        for (c = 0; c < d; c += 1)
                            o[4 * c] = Math.round(1e3 * (f * t[c] + g * i[c] + y * a[c] + v * e[c])) / 1e3,
                            o[4 * c + 1] = Math.round(1e3 * (b * t[c] + A * i[c] + _ * a[c] + C * e[c])) / 1e3,
                            o[4 * c + 2] = Math.round(1e3 * (w * t[c] + x * i[c] + S * a[c] + T * e[c])) / 1e3,
                            o[4 * c + 3] = Math.round(1e3 * (E * t[c] + k * i[c] + L * a[c] + P * e[c])) / 1e3;
                        return o
                    },
                    getPointInSegment: function(t, e, i, a, n, o) {
                        var s = r(n, o)
                          , l = 1 - s;
                        return [Math.round(1e3 * (l * l * l * t[0] + (s * l * l + l * s * l + l * l * s) * i[0] + (s * s * l + l * s * s + s * l * s) * a[0] + s * s * s * e[0])) / 1e3, Math.round(1e3 * (l * l * l * t[1] + (s * l * l + l * s * l + l * l * s) * i[1] + (s * s * l + l * s * s + s * l * s) * a[1] + s * s * s * e[1])) / 1e3]
                    },
                    buildBezierData: n,
                    pointOnLine2D: t,
                    pointOnLine3D: function(e, i, a, n, r, o, s, l, c) {
                        if (0 === a && 0 === o && 0 === c)
                            return t(e, i, n, r, s, l);
                        var h, p = Math.sqrt(Math.pow(n - e, 2) + Math.pow(r - i, 2) + Math.pow(o - a, 2)), d = Math.sqrt(Math.pow(s - e, 2) + Math.pow(l - i, 2) + Math.pow(c - a, 2)), u = Math.sqrt(Math.pow(s - n, 2) + Math.pow(l - r, 2) + Math.pow(c - o, 2));
                        return (h = p > d ? p > u ? p - d - u : u - d - p : u > d ? u - d - p : d - p - u) > -1e-4 && h < 1e-4
                    }
                }
            }
            !function() {
                for (var t = 0, e = ["ms", "moz", "webkit", "o"], i = 0; i < e.length && !window.requestAnimationFrame; ++i)
                    window.requestAnimationFrame = window[e[i] + "RequestAnimationFrame"],
                    window.cancelAnimationFrame = window[e[i] + "CancelAnimationFrame"] || window[e[i] + "CancelRequestAnimationFrame"];
                window.requestAnimationFrame || (window.requestAnimationFrame = function(e, i) {
                    var a = (new Date).getTime()
                      , n = Math.max(0, 16 - (a - t))
                      , r = setTimeout(function() {
                        e(a + n)
                    }, n);
                    return t = a + n,
                    r
                }
                ),
                window.cancelAnimationFrame || (window.cancelAnimationFrame = function(t) {
                    clearTimeout(t)
                }
                )
            }();
            var bez = bezFunction();
            function dataFunctionManager() {
                function t(t, e) {
                    for (var i = 0, a = e.length; i < a; ) {
                        if (e[i].id === t)
                            return e[i].layers.__used ? JSON.parse(JSON.stringify(e[i].layers)) : (e[i].layers.__used = !0,
                            e[i].layers);
                        i += 1
                    }
                }
                function e(t) {
                    var a, n, r;
                    for (a = t.length - 1; a >= 0; a -= 1)
                        if ("sh" == t[a].ty) {
                            if (t[a].ks.k.i)
                                i(t[a].ks.k);
                            else
                                for (r = t[a].ks.k.length,
                                n = 0; n < r; n += 1)
                                    t[a].ks.k[n].s && i(t[a].ks.k[n].s[0]),
                                    t[a].ks.k[n].e && i(t[a].ks.k[n].e[0]);
                            !0
                        } else
                            "gr" == t[a].ty && e(t[a].it)
                }
                function i(t) {
                    var e, i = t.i.length;
                    for (e = 0; e < i; e += 1)
                        t.i[e][0] += t.v[e][0],
                        t.i[e][1] += t.v[e][1],
                        t.o[e][0] += t.v[e][0],
                        t.o[e][1] += t.v[e][1]
                }
                function a(t, e) {
                    var i = e ? e.split(".") : [100, 100, 100];
                    return t[0] > i[0] || !(i[0] > t[0]) && (t[1] > i[1] || !(i[1] > t[1]) && (t[2] > i[2] || !(i[2] > t[2]) && void 0))
                }
                var n = function() {
                    var t = [4, 4, 14];
                    function e(t) {
                        var e = t.t.d;
                        t.t.d = {
                            k: [{
                                s: e,
                                t: 0
                            }]
                        }
                    }
                    function i(t) {
                        var i, a = t.length;
                        for (i = 0; i < a; i += 1)
                            5 === t[i].ty && e(t[i])
                    }
                    return function(e) {
                        if (a(t, e.v) && (i(e.layers),
                        e.assets)) {
                            var n, r = e.assets.length;
                            for (n = 0; n < r; n += 1)
                                e.assets[n].layers && i(e.assets[n].layers)
                        }
                    }
                }()
                  , r = function() {
                    var t = [4, 7, 99];
                    return function(e) {
                        if (e.chars && !a(t, e.v)) {
                            var n, r, o, s, l, c = e.chars.length;
                            for (n = 0; n < c; n += 1)
                                if (e.chars[n].data && e.chars[n].data.shapes)
                                    for (o = (l = e.chars[n].data.shapes[0].it).length,
                                    r = 0; r < o; r += 1)
                                        (s = l[r].ks.k).__converted || (i(l[r].ks.k),
                                        s.__converted = !0)
                        }
                    }
                }()
                  , o = function() {
                    var t = [4, 1, 9];
                    function e(t) {
                        var i, a, n, r = t.length;
                        for (i = 0; i < r; i += 1)
                            if ("gr" === t[i].ty)
                                e(t[i].it);
                            else if ("fl" === t[i].ty || "st" === t[i].ty)
                                if (t[i].c.k && t[i].c.k[0].i)
                                    for (n = t[i].c.k.length,
                                    a = 0; a < n; a += 1)
                                        t[i].c.k[a].s && (t[i].c.k[a].s[0] /= 255,
                                        t[i].c.k[a].s[1] /= 255,
                                        t[i].c.k[a].s[2] /= 255,
                                        t[i].c.k[a].s[3] /= 255),
                                        t[i].c.k[a].e && (t[i].c.k[a].e[0] /= 255,
                                        t[i].c.k[a].e[1] /= 255,
                                        t[i].c.k[a].e[2] /= 255,
                                        t[i].c.k[a].e[3] /= 255);
                                else
                                    t[i].c.k[0] /= 255,
                                    t[i].c.k[1] /= 255,
                                    t[i].c.k[2] /= 255,
                                    t[i].c.k[3] /= 255
                    }
                    function i(t) {
                        var i, a = t.length;
                        for (i = 0; i < a; i += 1)
                            4 === t[i].ty && e(t[i].shapes)
                    }
                    return function(e) {
                        if (a(t, e.v) && (i(e.layers),
                        e.assets)) {
                            var n, r = e.assets.length;
                            for (n = 0; n < r; n += 1)
                                e.assets[n].layers && i(e.assets[n].layers)
                        }
                    }
                }()
                  , s = function() {
                    var t = [4, 4, 18];
                    function e(t) {
                        var i, a, n;
                        for (i = t.length - 1; i >= 0; i -= 1)
                            if ("sh" == t[i].ty) {
                                if (t[i].ks.k.i)
                                    t[i].ks.k.c = t[i].closed;
                                else
                                    for (n = t[i].ks.k.length,
                                    a = 0; a < n; a += 1)
                                        t[i].ks.k[a].s && (t[i].ks.k[a].s[0].c = t[i].closed),
                                        t[i].ks.k[a].e && (t[i].ks.k[a].e[0].c = t[i].closed);
                                !0
                            } else
                                "gr" == t[i].ty && e(t[i].it)
                    }
                    function i(t) {
                        var i, a, n, r, o, s, l = t.length;
                        for (a = 0; a < l; a += 1) {
                            if ((i = t[a]).hasMask) {
                                var c = i.masksProperties;
                                for (r = c.length,
                                n = 0; n < r; n += 1)
                                    if (c[n].pt.k.i)
                                        c[n].pt.k.c = c[n].cl;
                                    else
                                        for (s = c[n].pt.k.length,
                                        o = 0; o < s; o += 1)
                                            c[n].pt.k[o].s && (c[n].pt.k[o].s[0].c = c[n].cl),
                                            c[n].pt.k[o].e && (c[n].pt.k[o].e[0].c = c[n].cl)
                            }
                            4 === i.ty && e(i.shapes)
                        }
                    }
                    return function(e) {
                        if (a(t, e.v) && (i(e.layers),
                        e.assets)) {
                            var n, r = e.assets.length;
                            for (n = 0; n < r; n += 1)
                                e.assets[n].layers && i(e.assets[n].layers)
                        }
                    }
                }();
                var l = {};
                return l.completeData = function(a, l) {
                    a.__complete || (o(a),
                    n(a),
                    r(a),
                    s(a),
                    function a(n, r, o) {
                        var s, l, c, h, p, d, u, m = n.length;
                        for (l = 0; l < m; l += 1)
                            if ("ks"in (s = n[l]) && !s.completed) {
                                if (s.completed = !0,
                                s.tt && (n[l - 1].td = s.tt),
                                s.hasMask) {
                                    var f = s.masksProperties;
                                    for (h = f.length,
                                    c = 0; c < h; c += 1)
                                        if (f[c].pt.k.i)
                                            i(f[c].pt.k);
                                        else
                                            for (d = f[c].pt.k.length,
                                            p = 0; p < d; p += 1)
                                                f[c].pt.k[p].s && i(f[c].pt.k[p].s[0]),
                                                f[c].pt.k[p].e && i(f[c].pt.k[p].e[0])
                                }
                                0 === s.ty ? (s.layers = t(s.refId, r),
                                a(s.layers, r, o)) : 4 === s.ty ? e(s.shapes) : 5 == s.ty && (0 !== (u = s).t.a.length || "m"in u.t.p || (u.singleShape = !0))
                            }
                    }(a.layers, a.assets, l),
                    a.__complete = !0)
                }
                ,
                l
            }
            var dataManager = dataFunctionManager()
              , FontManager = function() {
                var t = 5e3
                  , e = {
                    w: 0,
                    size: 0,
                    shapes: []
                }
                  , i = [];
                function a(t, e) {
                    var i = createTag("span");
                    i.style.fontFamily = e;
                    var a = createTag("span");
                    a.innerHTML = "giItT1WQy@!-/#",
                    i.style.position = "absolute",
                    i.style.left = "-10000px",
                    i.style.top = "-10000px",
                    i.style.fontSize = "300px",
                    i.style.fontVariant = "normal",
                    i.style.fontStyle = "normal",
                    i.style.fontWeight = "normal",
                    i.style.letterSpacing = "0",
                    i.appendChild(a),
                    document.body.appendChild(i);
                    var n = a.offsetWidth;
                    return a.style.fontFamily = t + ", " + e,
                    {
                        node: a,
                        w: n,
                        parent: i
                    }
                }
                function n(t, e) {
                    var i = createNS("text");
                    return i.style.fontSize = "100px",
                    i.setAttribute("font-family", e.fFamily),
                    i.setAttribute("font-style", e.fStyle),
                    i.setAttribute("font-weight", e.fWeight),
                    i.textContent = "1",
                    e.fClass ? (i.style.fontFamily = "inherit",
                    i.setAttribute("class", e.fClass)) : i.style.fontFamily = e.fFamily,
                    t.appendChild(i),
                    createTag("canvas").getContext("2d").font = e.fWeight + " " + e.fStyle + " 100px " + e.fFamily,
                    i
                }
                i = i.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);
                var r = function() {
                    this.fonts = [],
                    this.chars = null,
                    this.typekitLoaded = 0,
                    this.isLoaded = !1,
                    this.initTime = Date.now()
                };
                return r.getCombinedCharacterCodes = function() {
                    return i
                }
                ,
                r.prototype.addChars = function(t) {
                    if (t) {
                        this.chars || (this.chars = []);
                        var e, i, a, n = t.length, r = this.chars.length;
                        for (e = 0; e < n; e += 1) {
                            for (i = 0,
                            a = !1; i < r; )
                                this.chars[i].style === t[e].style && this.chars[i].fFamily === t[e].fFamily && this.chars[i].ch === t[e].ch && (a = !0),
                                i += 1;
                            a || (this.chars.push(t[e]),
                            r += 1)
                        }
                    }
                }
                ,
                r.prototype.addFonts = function(t, e) {
                    if (t) {
                        if (this.chars)
                            return this.isLoaded = !0,
                            void (this.fonts = t.list);
                        var i, r = t.list, o = r.length, s = o;
                        for (i = 0; i < o; i += 1) {
                            var l, c, h = !0;
                            if (r[i].loaded = !1,
                            r[i].monoCase = a(r[i].fFamily, "monospace"),
                            r[i].sansCase = a(r[i].fFamily, "sans-serif"),
                            r[i].fPath) {
                                if ("p" === r[i].fOrigin || 3 === r[i].origin) {
                                    if ((l = document.querySelectorAll('style[f-forigin="p"][f-family="' + r[i].fFamily + '"], style[f-origin="3"][f-family="' + r[i].fFamily + '"]')).length > 0 && (h = !1),
                                    h) {
                                        var p = createTag("style");
                                        p.setAttribute("f-forigin", r[i].fOrigin),
                                        p.setAttribute("f-origin", r[i].origin),
                                        p.setAttribute("f-family", r[i].fFamily),
                                        p.type = "text/css",
                                        p.innerHTML = "@font-face {font-family: " + r[i].fFamily + "; font-style: normal; src: url('" + r[i].fPath + "');}",
                                        e.appendChild(p)
                                    }
                                } else if ("g" === r[i].fOrigin || 1 === r[i].origin) {
                                    for (l = document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),
                                    c = 0; c < l.length; c++)
                                        -1 !== l[c].href.indexOf(r[i].fPath) && (h = !1);
                                    if (h) {
                                        var d = createTag("link");
                                        d.setAttribute("f-forigin", r[i].fOrigin),
                                        d.setAttribute("f-origin", r[i].origin),
                                        d.type = "text/css",
                                        d.rel = "stylesheet",
                                        d.href = r[i].fPath,
                                        document.body.appendChild(d)
                                    }
                                } else if ("t" === r[i].fOrigin || 2 === r[i].origin) {
                                    for (l = document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),
                                    c = 0; c < l.length; c++)
                                        r[i].fPath === l[c].src && (h = !1);
                                    if (h) {
                                        var u = createTag("link");
                                        u.setAttribute("f-forigin", r[i].fOrigin),
                                        u.setAttribute("f-origin", r[i].origin),
                                        u.setAttribute("rel", "stylesheet"),
                                        u.setAttribute("href", r[i].fPath),
                                        e.appendChild(u)
                                    }
                                }
                            } else
                                r[i].loaded = !0,
                                s -= 1;
                            r[i].helper = n(e, r[i]),
                            r[i].cache = {},
                            this.fonts.push(r[i])
                        }
                        0 === s ? this.isLoaded = !0 : setTimeout(this.checkLoadedFonts.bind(this), 100)
                    } else
                        this.isLoaded = !0
                }
                ,
                r.prototype.getCharData = function(t, i, a) {
                    for (var n = 0, r = this.chars.length; n < r; ) {
                        if (this.chars[n].ch === t && this.chars[n].style === i && this.chars[n].fFamily === a)
                            return this.chars[n];
                        n += 1
                    }
                    return ("string" === typeof t && 13 !== t.charCodeAt(0) || !t) && console && console.warn && console.warn("Missing character from exported characters list: ", t, i, a),
                    e
                }
                ,
                r.prototype.getFontByName = function(t) {
                    for (var e = 0, i = this.fonts.length; e < i; ) {
                        if (this.fonts[e].fName === t)
                            return this.fonts[e];
                        e += 1
                    }
                    return this.fonts[0]
                }
                ,
                r.prototype.measureText = function(t, e, i) {
                    var a = this.getFontByName(e)
                      , n = t.charCodeAt(0);
                    if (!a.cache[n + 1]) {
                        var r = a.helper;
                        if (" " === t) {
                            r.textContent = "|" + t + "|";
                            var o = r.getComputedTextLength();
                            r.textContent = "||";
                            var s = r.getComputedTextLength();
                            a.cache[n + 1] = (o - s) / 100
                        } else
                            r.textContent = t,
                            a.cache[n + 1] = r.getComputedTextLength() / 100
                    }
                    return a.cache[n + 1] * i
                }
                ,
                r.prototype.checkLoadedFonts = function() {
                    var e, i, a, n = this.fonts.length, r = n;
                    for (e = 0; e < n; e += 1)
                        this.fonts[e].loaded ? r -= 1 : "n" === this.fonts[e].fOrigin || 0 === this.fonts[e].origin ? this.fonts[e].loaded = !0 : (i = this.fonts[e].monoCase.node,
                        a = this.fonts[e].monoCase.w,
                        i.offsetWidth !== a ? (r -= 1,
                        this.fonts[e].loaded = !0) : (i = this.fonts[e].sansCase.node,
                        a = this.fonts[e].sansCase.w,
                        i.offsetWidth !== a && (r -= 1,
                        this.fonts[e].loaded = !0)),
                        this.fonts[e].loaded && (this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),
                        this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));
                    0 !== r && Date.now() - this.initTime < t ? setTimeout(this.checkLoadedFonts.bind(this), 20) : setTimeout(function() {
                        this.isLoaded = !0
                    }
                    .bind(this), 0)
                }
                ,
                r.prototype.loaded = function() {
                    return this.isLoaded
                }
                ,
                r
            }()
              , PropertyFactory = function() {
                var t = initialDefaultFrame
                  , e = Math.abs;
                function i(t, e) {
                    var i, n = this.offsetTime;
                    "multidimensional" === this.propType && (i = createTypedArray("float32", this.pv.length));
                    for (var r, o, s, l, c, h, p, d, u = e.lastIndex, m = u, f = this.keyframes.length - 1, g = !0; g; ) {
                        if (r = this.keyframes[m],
                        o = this.keyframes[m + 1],
                        m === f - 1 && t >= o.t - n) {
                            r.h && (r = o),
                            u = 0;
                            break
                        }
                        if (o.t - n > t) {
                            u = m;
                            break
                        }
                        m < f - 1 ? m += 1 : (u = 0,
                        g = !1)
                    }
                    var y, v = o.t - n, b = r.t - n;
                    if (r.to) {
                        r.bezierData || (r.bezierData = bez.buildBezierData(r.s, o.s || r.e, r.to, r.ti));
                        var A = r.bezierData;
                        if (t >= v || t < b) {
                            var _ = t >= v ? A.points.length - 1 : 0;
                            for (l = A.points[_].point.length,
                            s = 0; s < l; s += 1)
                                i[s] = A.points[_].point[s]
                        } else {
                            r.__fnct ? d = r.__fnct : (d = BezierFactory.getBezierEasing(r.o.x, r.o.y, r.i.x, r.i.y, r.n).get,
                            r.__fnct = d),
                            c = d((t - b) / (v - b));
                            var C, w = A.segmentLength * c, x = e.lastFrame < t && e._lastKeyframeIndex === m ? e._lastAddedLength : 0;
                            for (p = e.lastFrame < t && e._lastKeyframeIndex === m ? e._lastPoint : 0,
                            g = !0,
                            h = A.points.length; g; ) {
                                if (x += A.points[p].partialLength,
                                0 === w || 0 === c || p === A.points.length - 1) {
                                    for (l = A.points[p].point.length,
                                    s = 0; s < l; s += 1)
                                        i[s] = A.points[p].point[s];
                                    break
                                }
                                if (w >= x && w < x + A.points[p + 1].partialLength) {
                                    for (C = (w - x) / A.points[p + 1].partialLength,
                                    l = A.points[p].point.length,
                                    s = 0; s < l; s += 1)
                                        i[s] = A.points[p].point[s] + (A.points[p + 1].point[s] - A.points[p].point[s]) * C;
                                    break
                                }
                                p < h - 1 ? p += 1 : g = !1
                            }
                            e._lastPoint = p,
                            e._lastAddedLength = x - A.points[p].partialLength,
                            e._lastKeyframeIndex = m
                        }
                    } else {
                        var S, T, E, k, L;
                        if (f = r.s.length,
                        y = o.s || r.e,
                        this.sh && 1 !== r.h)
                            if (t >= v)
                                i[0] = y[0],
                                i[1] = y[1],
                                i[2] = y[2];
                            else if (t <= b)
                                i[0] = r.s[0],
                                i[1] = r.s[1],
                                i[2] = r.s[2];
                            else {
                                !function(t, e) {
                                    var i = e[0]
                                      , a = e[1]
                                      , n = e[2]
                                      , r = e[3]
                                      , o = Math.atan2(2 * a * r - 2 * i * n, 1 - 2 * a * a - 2 * n * n)
                                      , s = Math.asin(2 * i * a + 2 * n * r)
                                      , l = Math.atan2(2 * i * r - 2 * a * n, 1 - 2 * i * i - 2 * n * n);
                                    t[0] = o / degToRads,
                                    t[1] = s / degToRads,
                                    t[2] = l / degToRads
                                }(i, function(t, e, i) {
                                    var a, n, r, o, s, l = [], c = t[0], h = t[1], p = t[2], d = t[3], u = e[0], m = e[1], f = e[2], g = e[3];
                                    (n = c * u + h * m + p * f + d * g) < 0 && (n = -n,
                                    u = -u,
                                    m = -m,
                                    f = -f,
                                    g = -g);
                                    1 - n > 1e-6 ? (a = Math.acos(n),
                                    r = Math.sin(a),
                                    o = Math.sin((1 - i) * a) / r,
                                    s = Math.sin(i * a) / r) : (o = 1 - i,
                                    s = i);
                                    return l[0] = o * c + s * u,
                                    l[1] = o * h + s * m,
                                    l[2] = o * p + s * f,
                                    l[3] = o * d + s * g,
                                    l
                                }(a(r.s), a(y), (t - b) / (v - b)))
                            }
                        else
                            for (m = 0; m < f; m += 1)
                                1 !== r.h && (t >= v ? c = 1 : t < b ? c = 0 : (r.o.x.constructor === Array ? (r.__fnct || (r.__fnct = []),
                                r.__fnct[m] ? d = r.__fnct[m] : (S = "undefined" === typeof r.o.x[m] ? r.o.x[0] : r.o.x[m],
                                T = "undefined" === typeof r.o.y[m] ? r.o.y[0] : r.o.y[m],
                                E = "undefined" === typeof r.i.x[m] ? r.i.x[0] : r.i.x[m],
                                k = "undefined" === typeof r.i.y[m] ? r.i.y[0] : r.i.y[m],
                                d = BezierFactory.getBezierEasing(S, T, E, k).get,
                                r.__fnct[m] = d)) : r.__fnct ? d = r.__fnct : (S = r.o.x,
                                T = r.o.y,
                                E = r.i.x,
                                k = r.i.y,
                                d = BezierFactory.getBezierEasing(S, T, E, k).get,
                                r.__fnct = d),
                                c = d((t - b) / (v - b)))),
                                y = o.s || r.e,
                                L = 1 === r.h ? r.s[m] : r.s[m] + (y[m] - r.s[m]) * c,
                                1 === f ? i = L : i[m] = L
                    }
                    return e.lastIndex = u,
                    i
                }
                function a(t) {
                    var e = t[0] * degToRads
                      , i = t[1] * degToRads
                      , a = t[2] * degToRads
                      , n = Math.cos(e / 2)
                      , r = Math.cos(i / 2)
                      , o = Math.cos(a / 2)
                      , s = Math.sin(e / 2)
                      , l = Math.sin(i / 2)
                      , c = Math.sin(a / 2);
                    return [s * l * o + n * r * c, s * r * o + n * l * c, n * l * o - s * r * c, n * r * o - s * l * c]
                }
                function n() {
                    var e = this.comp.renderedFrame - this.offsetTime
                      , i = this.keyframes[0].t - this.offsetTime
                      , a = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;
                    if (!(e === this._caching.lastFrame || this._caching.lastFrame !== t && (this._caching.lastFrame >= a && e >= a || this._caching.lastFrame < i && e < i))) {
                        this._caching.lastFrame >= e && (this._caching._lastKeyframeIndex = -1,
                        this._caching.lastIndex = 0);
                        var n = this.interpolateValue(e, this._caching);
                        this.pv = n
                    }
                    return this._caching.lastFrame = e,
                    this.pv
                }
                function r(t) {
                    var i;
                    if ("unidimensional" === this.propType)
                        i = t * this.mult,
                        e(this.v - i) > 1e-5 && (this.v = i,
                        this._mdf = !0);
                    else
                        for (var a = 0, n = this.v.length; a < n; )
                            i = t[a] * this.mult,
                            e(this.v[a] - i) > 1e-5 && (this.v[a] = i,
                            this._mdf = !0),
                            a += 1
                }
                function o() {
                    if (this.elem.globalData.frameId !== this.frameId && this.effectsSequence.length)
                        if (this.lock)
                            this.setVValue(this.pv);
                        else {
                            this.lock = !0,
                            this._mdf = this._isFirstFrame;
                            var t, e = this.effectsSequence.length, i = this.kf ? this.pv : this.data.k;
                            for (t = 0; t < e; t += 1)
                                i = this.effectsSequence[t](i);
                            this.setVValue(i),
                            this._isFirstFrame = !1,
                            this.lock = !1,
                            this.frameId = this.elem.globalData.frameId
                        }
                }
                function s(t) {
                    this.effectsSequence.push(t),
                    this.container.addDynamicProperty(this)
                }
                function l(t, e, i, a) {
                    this.propType = "unidimensional",
                    this.mult = i || 1,
                    this.data = e,
                    this.v = i ? e.k * i : e.k,
                    this.pv = e.k,
                    this._mdf = !1,
                    this.elem = t,
                    this.container = a,
                    this.comp = t.comp,
                    this.k = !1,
                    this.kf = !1,
                    this.vel = 0,
                    this.effectsSequence = [],
                    this._isFirstFrame = !0,
                    this.getValue = o,
                    this.setVValue = r,
                    this.addEffect = s
                }
                function c(t, e, i, a) {
                    this.propType = "multidimensional",
                    this.mult = i || 1,
                    this.data = e,
                    this._mdf = !1,
                    this.elem = t,
                    this.container = a,
                    this.comp = t.comp,
                    this.k = !1,
                    this.kf = !1,
                    this.frameId = -1;
                    var n, l = e.k.length;
                    this.v = createTypedArray("float32", l),
                    this.pv = createTypedArray("float32", l);
                    createTypedArray("float32", l);
                    for (this.vel = createTypedArray("float32", l),
                    n = 0; n < l; n += 1)
                        this.v[n] = e.k[n] * this.mult,
                        this.pv[n] = e.k[n];
                    this._isFirstFrame = !0,
                    this.effectsSequence = [],
                    this.getValue = o,
                    this.setVValue = r,
                    this.addEffect = s
                }
                function h(e, a, l, c) {
                    this.propType = "unidimensional",
                    this.keyframes = a.k,
                    this.offsetTime = e.data.st,
                    this.frameId = -1,
                    this._caching = {
                        lastFrame: t,
                        lastIndex: 0,
                        value: 0,
                        _lastKeyframeIndex: -1
                    },
                    this.k = !0,
                    this.kf = !0,
                    this.data = a,
                    this.mult = l || 1,
                    this.elem = e,
                    this.container = c,
                    this.comp = e.comp,
                    this.v = t,
                    this.pv = t,
                    this._isFirstFrame = !0,
                    this.getValue = o,
                    this.setVValue = r,
                    this.interpolateValue = i,
                    this.effectsSequence = [n.bind(this)],
                    this.addEffect = s
                }
                function p(e, a, l, c) {
                    this.propType = "multidimensional";
                    var h, p, d, u, m, f = a.k.length;
                    for (h = 0; h < f - 1; h += 1)
                        a.k[h].to && a.k[h].s && a.k[h].e && (p = a.k[h].s,
                        d = a.k[h].e,
                        u = a.k[h].to,
                        m = a.k[h].ti,
                        (2 === p.length && (p[0] !== d[0] || p[1] !== d[1]) && bez.pointOnLine2D(p[0], p[1], d[0], d[1], p[0] + u[0], p[1] + u[1]) && bez.pointOnLine2D(p[0], p[1], d[0], d[1], d[0] + m[0], d[1] + m[1]) || 3 === p.length && (p[0] !== d[0] || p[1] !== d[1] || p[2] !== d[2]) && bez.pointOnLine3D(p[0], p[1], p[2], d[0], d[1], d[2], p[0] + u[0], p[1] + u[1], p[2] + u[2]) && bez.pointOnLine3D(p[0], p[1], p[2], d[0], d[1], d[2], d[0] + m[0], d[1] + m[1], d[2] + m[2])) && (a.k[h].to = null,
                        a.k[h].ti = null),
                        p[0] === d[0] && p[1] === d[1] && 0 === u[0] && 0 === u[1] && 0 === m[0] && 0 === m[1] && (2 === p.length || p[2] === d[2] && 0 === u[2] && 0 === m[2]) && (a.k[h].to = null,
                        a.k[h].ti = null));
                    this.effectsSequence = [n.bind(this)],
                    this.keyframes = a.k,
                    this.offsetTime = e.data.st,
                    this.k = !0,
                    this.kf = !0,
                    this._isFirstFrame = !0,
                    this.mult = l || 1,
                    this.elem = e,
                    this.container = c,
                    this.comp = e.comp,
                    this.getValue = o,
                    this.setVValue = r,
                    this.interpolateValue = i,
                    this.frameId = -1;
                    var g = a.k[0].s.length;
                    for (this.v = createTypedArray("float32", g),
                    this.pv = createTypedArray("float32", g),
                    h = 0; h < g; h += 1)
                        this.v[h] = t,
                        this.pv[h] = t;
                    this._caching = {
                        lastFrame: t,
                        lastIndex: 0,
                        value: createTypedArray("float32", g)
                    },
                    this.addEffect = s
                }
                return {
                    getProp: function(t, e, i, a, n) {
                        var r;
                        if (e.k.length)
                            if ("number" === typeof e.k[0])
                                r = new c(t,e,a,n);
                            else
                                switch (i) {
                                case 0:
                                    r = new h(t,e,a,n);
                                    break;
                                case 1:
                                    r = new p(t,e,a,n)
                                }
                        else
                            r = new l(t,e,a,n);
                        return r.effectsSequence.length && n.addDynamicProperty(r),
                        r
                    }
                }
            }()
              , TransformPropertyFactory = function() {
                function t(t, e, i) {
                    if (this.elem = t,
                    this.frameId = -1,
                    this.propType = "transform",
                    this.data = e,
                    this.v = new Matrix,
                    this.pre = new Matrix,
                    this.appliedTransformations = 0,
                    this.initDynamicPropertyContainer(i || t),
                    e.p && e.p.s ? (this.px = PropertyFactory.getProp(t, e.p.x, 0, 0, this),
                    this.py = PropertyFactory.getProp(t, e.p.y, 0, 0, this),
                    e.p.z && (this.pz = PropertyFactory.getProp(t, e.p.z, 0, 0, this))) : this.p = PropertyFactory.getProp(t, e.p || {
                        k: [0, 0, 0]
                    }, 1, 0, this),
                    e.rx) {
                        if (this.rx = PropertyFactory.getProp(t, e.rx, 0, degToRads, this),
                        this.ry = PropertyFactory.getProp(t, e.ry, 0, degToRads, this),
                        this.rz = PropertyFactory.getProp(t, e.rz, 0, degToRads, this),
                        e.or.k[0].ti) {
                            var a, n = e.or.k.length;
                            for (a = 0; a < n; a += 1)
                                e.or.k[a].to = e.or.k[a].ti = null
                        }
                        this.or = PropertyFactory.getProp(t, e.or, 1, degToRads, this),
                        this.or.sh = !0
                    } else
                        this.r = PropertyFactory.getProp(t, e.r || {
                            k: 0
                        }, 0, degToRads, this);
                    e.sk && (this.sk = PropertyFactory.getProp(t, e.sk, 0, degToRads, this),
                    this.sa = PropertyFactory.getProp(t, e.sa, 0, degToRads, this)),
                    this.a = PropertyFactory.getProp(t, e.a || {
                        k: [0, 0, 0]
                    }, 1, 0, this),
                    this.s = PropertyFactory.getProp(t, e.s || {
                        k: [100, 100, 100]
                    }, 1, .01, this),
                    e.o ? this.o = PropertyFactory.getProp(t, e.o, 0, .01, t) : this.o = {
                        _mdf: !1,
                        v: 1
                    },
                    this._isDirty = !0,
                    this.dynamicProperties.length || this.getValue(!0)
                }
                return t.prototype = {
                    applyToMatrix: function(t) {
                        var e = this._mdf;
                        this.iterateDynamicProperties(),
                        this._mdf = this._mdf || e,
                        this.a && t.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]),
                        this.s && t.scale(this.s.v[0], this.s.v[1], this.s.v[2]),
                        this.sk && t.skewFromAxis(-this.sk.v, this.sa.v),
                        this.r ? t.rotate(-this.r.v) : t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),
                        this.data.p.s ? this.data.p.z ? t.translate(this.px.v, this.py.v, -this.pz.v) : t.translate(this.px.v, this.py.v, 0) : t.translate(this.p.v[0], this.p.v[1], -this.p.v[2])
                    },
                    getValue: function(t) {
                        if (this.elem.globalData.frameId !== this.frameId) {
                            if (this._isDirty && (this.precalculateMatrix(),
                            this._isDirty = !1),
                            this.iterateDynamicProperties(),
                            this._mdf || t) {
                                if (this.v.cloneFromProps(this.pre.props),
                                this.appliedTransformations < 1 && this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]),
                                this.appliedTransformations < 2 && this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]),
                                this.sk && this.appliedTransformations < 3 && this.v.skewFromAxis(-this.sk.v, this.sa.v),
                                this.r && this.appliedTransformations < 4 ? this.v.rotate(-this.r.v) : !this.r && this.appliedTransformations < 4 && this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),
                                this.autoOriented) {
                                    var e, i, a = this.elem.globalData.frameRate;
                                    if (this.p && this.p.keyframes && this.p.getValueAtTime)
                                        this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t ? (e = this.p.getValueAtTime((this.p.keyframes[0].t + .01) / a, 0),
                                        i = this.p.getValueAtTime(this.p.keyframes[0].t / a, 0)) : this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t ? (e = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / a, 0),
                                        i = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - .01) / a, 0)) : (e = this.p.pv,
                                        i = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - .01) / a, this.p.offsetTime));
                                    else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {
                                        e = [],
                                        i = [];
                                        var n = this.px
                                          , r = this.py;
                                        n._caching.lastFrame + n.offsetTime <= n.keyframes[0].t ? (e[0] = n.getValueAtTime((n.keyframes[0].t + .01) / a, 0),
                                        e[1] = r.getValueAtTime((r.keyframes[0].t + .01) / a, 0),
                                        i[0] = n.getValueAtTime(n.keyframes[0].t / a, 0),
                                        i[1] = r.getValueAtTime(r.keyframes[0].t / a, 0)) : n._caching.lastFrame + n.offsetTime >= n.keyframes[n.keyframes.length - 1].t ? (e[0] = n.getValueAtTime(n.keyframes[n.keyframes.length - 1].t / a, 0),
                                        e[1] = r.getValueAtTime(r.keyframes[r.keyframes.length - 1].t / a, 0),
                                        i[0] = n.getValueAtTime((n.keyframes[n.keyframes.length - 1].t - .01) / a, 0),
                                        i[1] = r.getValueAtTime((r.keyframes[r.keyframes.length - 1].t - .01) / a, 0)) : (e = [n.pv, r.pv],
                                        i[0] = n.getValueAtTime((n._caching.lastFrame + n.offsetTime - .01) / a, n.offsetTime),
                                        i[1] = r.getValueAtTime((r._caching.lastFrame + r.offsetTime - .01) / a, r.offsetTime))
                                    }
                                    this.v.rotate(-Math.atan2(e[1] - i[1], e[0] - i[0]))
                                }
                                this.data.p && this.data.p.s ? this.data.p.z ? this.v.translate(this.px.v, this.py.v, -this.pz.v) : this.v.translate(this.px.v, this.py.v, 0) : this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2])
                            }
                            this.frameId = this.elem.globalData.frameId
                        }
                    },
                    precalculateMatrix: function() {
                        if (!this.a.k && (this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]),
                        this.appliedTransformations = 1,
                        !this.s.effectsSequence.length)) {
                            if (this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]),
                            this.appliedTransformations = 2,
                            this.sk) {
                                if (this.sk.effectsSequence.length || this.sa.effectsSequence.length)
                                    return;
                                this.pre.skewFromAxis(-this.sk.v, this.sa.v),
                                this.appliedTransformations = 3
                            }
                            if (this.r) {
                                if (this.r.effectsSequence.length)
                                    return;
                                this.pre.rotate(-this.r.v),
                                this.appliedTransformations = 4
                            } else
                                this.rz.effectsSequence.length || this.ry.effectsSequence.length || this.rx.effectsSequence.length || this.or.effectsSequence.length || (this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),
                                this.appliedTransformations = 4)
                        }
                    },
                    autoOrient: function() {}
                },
                extendPrototype([DynamicPropertyContainer], t),
                t.prototype.addDynamicProperty = function(t) {
                    this._addDynamicProperty(t),
                    this.elem.addDynamicProperty(t),
                    this._isDirty = !0
                }
                ,
                t.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty,
                {
                    getTransformProperty: function(e, i, a) {
                        return new t(e,i,a)
                    }
                }
            }();
            function ShapePath() {
                this.c = !1,
                this._length = 0,
                this._maxLength = 8,
                this.v = createSizedArray(this._maxLength),
                this.o = createSizedArray(this._maxLength),
                this.i = createSizedArray(this._maxLength)
            }
            ShapePath.prototype.setPathData = function(t, e) {
                this.c = t,
                this.setLength(e);
                for (var i = 0; i < e; )
                    this.v[i] = point_pool.newElement(),
                    this.o[i] = point_pool.newElement(),
                    this.i[i] = point_pool.newElement(),
                    i += 1
            }
            ,
            ShapePath.prototype.setLength = function(t) {
                for (; this._maxLength < t; )
                    this.doubleArrayLength();
                this._length = t
            }
            ,
            ShapePath.prototype.doubleArrayLength = function() {
                this.v = this.v.concat(createSizedArray(this._maxLength)),
                this.i = this.i.concat(createSizedArray(this._maxLength)),
                this.o = this.o.concat(createSizedArray(this._maxLength)),
                this._maxLength *= 2
            }
            ,
            ShapePath.prototype.setXYAt = function(t, e, i, a, n) {
                var r;
                switch (this._length = Math.max(this._length, a + 1),
                this._length >= this._maxLength && this.doubleArrayLength(),
                i) {
                case "v":
                    r = this.v;
                    break;
                case "i":
                    r = this.i;
                    break;
                case "o":
                    r = this.o
                }
                (!r[a] || r[a] && !n) && (r[a] = point_pool.newElement()),
                r[a][0] = t,
                r[a][1] = e
            }
            ,
            ShapePath.prototype.setTripleAt = function(t, e, i, a, n, r, o, s) {
                this.setXYAt(t, e, "v", o, s),
                this.setXYAt(i, a, "o", o, s),
                this.setXYAt(n, r, "i", o, s)
            }
            ,
            ShapePath.prototype.reverse = function() {
                var t = new ShapePath;
                t.setPathData(this.c, this._length);
                var e = this.v
                  , i = this.o
                  , a = this.i
                  , n = 0;
                this.c && (t.setTripleAt(e[0][0], e[0][1], a[0][0], a[0][1], i[0][0], i[0][1], 0, !1),
                n = 1);
                var r, o = this._length - 1, s = this._length;
                for (r = n; r < s; r += 1)
                    t.setTripleAt(e[o][0], e[o][1], a[o][0], a[o][1], i[o][0], i[o][1], r, !1),
                    o -= 1;
                return t
            }
            ;
            var ShapePropertyFactory = function() {
                var t = -999999;
                function e(t, e, i) {
                    var a, n, r, o, s, l, c, h, p, d = i.lastIndex, u = this.keyframes;
                    if (t < u[0].t - this.offsetTime)
                        a = u[0].s[0],
                        r = !0,
                        d = 0;
                    else if (t >= u[u.length - 1].t - this.offsetTime)
                        a = u[u.length - 1].s ? u[u.length - 1].s[0] : u[u.length - 2].e[0],
                        r = !0;
                    else {
                        for (var m, f, g = d, y = u.length - 1, v = !0; v && (m = u[g],
                        !((f = u[g + 1]).t - this.offsetTime > t)); )
                            g < y - 1 ? g += 1 : v = !1;
                        if (d = g,
                        !(r = 1 === m.h)) {
                            if (t >= f.t - this.offsetTime)
                                h = 1;
                            else if (t < m.t - this.offsetTime)
                                h = 0;
                            else {
                                var b;
                                m.__fnct ? b = m.__fnct : (b = BezierFactory.getBezierEasing(m.o.x, m.o.y, m.i.x, m.i.y).get,
                                m.__fnct = b),
                                h = b((t - (m.t - this.offsetTime)) / (f.t - this.offsetTime - (m.t - this.offsetTime)))
                            }
                            n = f.s ? f.s[0] : m.e[0]
                        }
                        a = m.s[0]
                    }
                    for (l = e._length,
                    c = a.i[0].length,
                    i.lastIndex = d,
                    o = 0; o < l; o += 1)
                        for (s = 0; s < c; s += 1)
                            p = r ? a.i[o][s] : a.i[o][s] + (n.i[o][s] - a.i[o][s]) * h,
                            e.i[o][s] = p,
                            p = r ? a.o[o][s] : a.o[o][s] + (n.o[o][s] - a.o[o][s]) * h,
                            e.o[o][s] = p,
                            p = r ? a.v[o][s] : a.v[o][s] + (n.v[o][s] - a.v[o][s]) * h,
                            e.v[o][s] = p
                }
                function i() {
                    var e = this.comp.renderedFrame - this.offsetTime
                      , i = this.keyframes[0].t - this.offsetTime
                      , a = this.keyframes[this.keyframes.length - 1].t - this.offsetTime
                      , n = this._caching.lastFrame;
                    return n !== t && (n < i && e < i || n > a && e > a) || (this._caching.lastIndex = n < e ? this._caching.lastIndex : 0,
                    this.interpolateShape(e, this.pv, this._caching)),
                    this._caching.lastFrame = e,
                    this.pv
                }
                function a() {
                    this.paths = this.localShapeCollection
                }
                function n(t) {
                    (function(t, e) {
                        if (t._length !== e._length || t.c !== e.c)
                            return !1;
                        var i, a = t._length;
                        for (i = 0; i < a; i += 1)
                            if (t.v[i][0] !== e.v[i][0] || t.v[i][1] !== e.v[i][1] || t.o[i][0] !== e.o[i][0] || t.o[i][1] !== e.o[i][1] || t.i[i][0] !== e.i[i][0] || t.i[i][1] !== e.i[i][1])
                                return !1;
                        return !0
                    }
                    )(this.v, t) || (this.v = shape_pool.clone(t),
                    this.localShapeCollection.releaseShapes(),
                    this.localShapeCollection.addShape(this.v),
                    this._mdf = !0,
                    this.paths = this.localShapeCollection)
                }
                function r() {
                    if (this.elem.globalData.frameId !== this.frameId && this.effectsSequence.length)
                        if (this.lock)
                            this.setVValue(this.pv);
                        else {
                            this.lock = !0,
                            this._mdf = !1;
                            var t, e = this.kf ? this.pv : this.data.ks ? this.data.ks.k : this.data.pt.k, i = this.effectsSequence.length;
                            for (t = 0; t < i; t += 1)
                                e = this.effectsSequence[t](e);
                            this.setVValue(e),
                            this.lock = !1,
                            this.frameId = this.elem.globalData.frameId
                        }
                }
                function o(t, e, i) {
                    this.propType = "shape",
                    this.comp = t.comp,
                    this.container = t,
                    this.elem = t,
                    this.data = e,
                    this.k = !1,
                    this.kf = !1,
                    this._mdf = !1;
                    var n = 3 === i ? e.pt.k : e.ks.k;
                    this.v = shape_pool.clone(n),
                    this.pv = shape_pool.clone(this.v),
                    this.localShapeCollection = shapeCollection_pool.newShapeCollection(),
                    this.paths = this.localShapeCollection,
                    this.paths.addShape(this.v),
                    this.reset = a,
                    this.effectsSequence = []
                }
                function s(t) {
                    this.effectsSequence.push(t),
                    this.container.addDynamicProperty(this)
                }
                function l(e, n, r) {
                    this.propType = "shape",
                    this.comp = e.comp,
                    this.elem = e,
                    this.container = e,
                    this.offsetTime = e.data.st,
                    this.keyframes = 3 === r ? n.pt.k : n.ks.k,
                    this.k = !0,
                    this.kf = !0;
                    var o = this.keyframes[0].s[0].i.length;
                    this.keyframes[0].s[0].i[0].length;
                    this.v = shape_pool.newElement(),
                    this.v.setPathData(this.keyframes[0].s[0].c, o),
                    this.pv = shape_pool.clone(this.v),
                    this.localShapeCollection = shapeCollection_pool.newShapeCollection(),
                    this.paths = this.localShapeCollection,
                    this.paths.addShape(this.v),
                    this.lastFrame = t,
                    this.reset = a,
                    this._caching = {
                        lastFrame: t,
                        lastIndex: 0
                    },
                    this.effectsSequence = [i.bind(this)]
                }
                o.prototype.interpolateShape = e,
                o.prototype.getValue = r,
                o.prototype.setVValue = n,
                o.prototype.addEffect = s,
                l.prototype.getValue = r,
                l.prototype.interpolateShape = e,
                l.prototype.setVValue = n,
                l.prototype.addEffect = s;
                var c = function() {
                    var t = roundCorner;
                    function e(t, e) {
                        this.v = shape_pool.newElement(),
                        this.v.setPathData(!0, 4),
                        this.localShapeCollection = shapeCollection_pool.newShapeCollection(),
                        this.paths = this.localShapeCollection,
                        this.localShapeCollection.addShape(this.v),
                        this.d = e.d,
                        this.elem = t,
                        this.comp = t.comp,
                        this.frameId = -1,
                        this.initDynamicPropertyContainer(t),
                        this.p = PropertyFactory.getProp(t, e.p, 1, 0, this),
                        this.s = PropertyFactory.getProp(t, e.s, 1, 0, this),
                        this.dynamicProperties.length ? this.k = !0 : (this.k = !1,
                        this.convertEllToPath())
                    }
                    return e.prototype = {
                        reset: a,
                        getValue: function() {
                            this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId,
                            this.iterateDynamicProperties(),
                            this._mdf && this.convertEllToPath())
                        },
                        convertEllToPath: function() {
                            var e = this.p.v[0]
                              , i = this.p.v[1]
                              , a = this.s.v[0] / 2
                              , n = this.s.v[1] / 2
                              , r = 3 !== this.d
                              , o = this.v;
                            o.v[0][0] = e,
                            o.v[0][1] = i - n,
                            o.v[1][0] = r ? e + a : e - a,
                            o.v[1][1] = i,
                            o.v[2][0] = e,
                            o.v[2][1] = i + n,
                            o.v[3][0] = r ? e - a : e + a,
                            o.v[3][1] = i,
                            o.i[0][0] = r ? e - a * t : e + a * t,
                            o.i[0][1] = i - n,
                            o.i[1][0] = r ? e + a : e - a,
                            o.i[1][1] = i - n * t,
                            o.i[2][0] = r ? e + a * t : e - a * t,
                            o.i[2][1] = i + n,
                            o.i[3][0] = r ? e - a : e + a,
                            o.i[3][1] = i + n * t,
                            o.o[0][0] = r ? e + a * t : e - a * t,
                            o.o[0][1] = i - n,
                            o.o[1][0] = r ? e + a : e - a,
                            o.o[1][1] = i + n * t,
                            o.o[2][0] = r ? e - a * t : e + a * t,
                            o.o[2][1] = i + n,
                            o.o[3][0] = r ? e - a : e + a,
                            o.o[3][1] = i - n * t
                        }
                    },
                    extendPrototype([DynamicPropertyContainer], e),
                    e
                }()
                  , h = function() {
                    function t(t, e) {
                        this.v = shape_pool.newElement(),
                        this.v.setPathData(!0, 0),
                        this.elem = t,
                        this.comp = t.comp,
                        this.data = e,
                        this.frameId = -1,
                        this.d = e.d,
                        this.initDynamicPropertyContainer(t),
                        1 === e.sy ? (this.ir = PropertyFactory.getProp(t, e.ir, 0, 0, this),
                        this.is = PropertyFactory.getProp(t, e.is, 0, .01, this),
                        this.convertToPath = this.convertStarToPath) : this.convertToPath = this.convertPolygonToPath,
                        this.pt = PropertyFactory.getProp(t, e.pt, 0, 0, this),
                        this.p = PropertyFactory.getProp(t, e.p, 1, 0, this),
                        this.r = PropertyFactory.getProp(t, e.r, 0, degToRads, this),
                        this.or = PropertyFactory.getProp(t, e.or, 0, 0, this),
                        this.os = PropertyFactory.getProp(t, e.os, 0, .01, this),
                        this.localShapeCollection = shapeCollection_pool.newShapeCollection(),
                        this.localShapeCollection.addShape(this.v),
                        this.paths = this.localShapeCollection,
                        this.dynamicProperties.length ? this.k = !0 : (this.k = !1,
                        this.convertToPath())
                    }
                    return t.prototype = {
                        reset: a,
                        getValue: function() {
                            this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId,
                            this.iterateDynamicProperties(),
                            this._mdf && this.convertToPath())
                        },
                        convertStarToPath: function() {
                            var t, e, i, a, n = 2 * Math.floor(this.pt.v), r = 2 * Math.PI / n, o = !0, s = this.or.v, l = this.ir.v, c = this.os.v, h = this.is.v, p = 2 * Math.PI * s / (2 * n), d = 2 * Math.PI * l / (2 * n), u = -Math.PI / 2;
                            u += this.r.v;
                            var m = 3 === this.data.d ? -1 : 1;
                            for (this.v._length = 0,
                            t = 0; t < n; t += 1) {
                                i = o ? c : h,
                                a = o ? p : d;
                                var f = (e = o ? s : l) * Math.cos(u)
                                  , g = e * Math.sin(u)
                                  , y = 0 === f && 0 === g ? 0 : g / Math.sqrt(f * f + g * g)
                                  , v = 0 === f && 0 === g ? 0 : -f / Math.sqrt(f * f + g * g);
                                f += +this.p.v[0],
                                g += +this.p.v[1],
                                this.v.setTripleAt(f, g, f - y * a * i * m, g - v * a * i * m, f + y * a * i * m, g + v * a * i * m, t, !0),
                                o = !o,
                                u += r * m
                            }
                        },
                        convertPolygonToPath: function() {
                            var t, e = Math.floor(this.pt.v), i = 2 * Math.PI / e, a = this.or.v, n = this.os.v, r = 2 * Math.PI * a / (4 * e), o = -Math.PI / 2, s = 3 === this.data.d ? -1 : 1;
                            for (o += this.r.v,
                            this.v._length = 0,
                            t = 0; t < e; t += 1) {
                                var l = a * Math.cos(o)
                                  , c = a * Math.sin(o)
                                  , h = 0 === l && 0 === c ? 0 : c / Math.sqrt(l * l + c * c)
                                  , p = 0 === l && 0 === c ? 0 : -l / Math.sqrt(l * l + c * c);
                                l += +this.p.v[0],
                                c += +this.p.v[1],
                                this.v.setTripleAt(l, c, l - h * r * n * s, c - p * r * n * s, l + h * r * n * s, c + p * r * n * s, t, !0),
                                o += i * s
                            }
                            this.paths.length = 0,
                            this.paths[0] = this.v
                        }
                    },
                    extendPrototype([DynamicPropertyContainer], t),
                    t
                }()
                  , p = function() {
                    function t(t, e) {
                        this.v = shape_pool.newElement(),
                        this.v.c = !0,
                        this.localShapeCollection = shapeCollection_pool.newShapeCollection(),
                        this.localShapeCollection.addShape(this.v),
                        this.paths = this.localShapeCollection,
                        this.elem = t,
                        this.comp = t.comp,
                        this.frameId = -1,
                        this.d = e.d,
                        this.initDynamicPropertyContainer(t),
                        this.p = PropertyFactory.getProp(t, e.p, 1, 0, this),
                        this.s = PropertyFactory.getProp(t, e.s, 1, 0, this),
                        this.r = PropertyFactory.getProp(t, e.r, 0, 0, this),
                        this.dynamicProperties.length ? this.k = !0 : (this.k = !1,
                        this.convertRectToPath())
                    }
                    return t.prototype = {
                        convertRectToPath: function() {
                            var t = this.p.v[0]
                              , e = this.p.v[1]
                              , i = this.s.v[0] / 2
                              , a = this.s.v[1] / 2
                              , n = bm_min(i, a, this.r.v)
                              , r = n * (1 - roundCorner);
                            this.v._length = 0,
                            2 === this.d || 1 === this.d ? (this.v.setTripleAt(t + i, e - a + n, t + i, e - a + n, t + i, e - a + r, 0, !0),
                            this.v.setTripleAt(t + i, e + a - n, t + i, e + a - r, t + i, e + a - n, 1, !0),
                            0 !== n ? (this.v.setTripleAt(t + i - n, e + a, t + i - n, e + a, t + i - r, e + a, 2, !0),
                            this.v.setTripleAt(t - i + n, e + a, t - i + r, e + a, t - i + n, e + a, 3, !0),
                            this.v.setTripleAt(t - i, e + a - n, t - i, e + a - n, t - i, e + a - r, 4, !0),
                            this.v.setTripleAt(t - i, e - a + n, t - i, e - a + r, t - i, e - a + n, 5, !0),
                            this.v.setTripleAt(t - i + n, e - a, t - i + n, e - a, t - i + r, e - a, 6, !0),
                            this.v.setTripleAt(t + i - n, e - a, t + i - r, e - a, t + i - n, e - a, 7, !0)) : (this.v.setTripleAt(t - i, e + a, t - i + r, e + a, t - i, e + a, 2),
                            this.v.setTripleAt(t - i, e - a, t - i, e - a + r, t - i, e - a, 3))) : (this.v.setTripleAt(t + i, e - a + n, t + i, e - a + r, t + i, e - a + n, 0, !0),
                            0 !== n ? (this.v.setTripleAt(t + i - n, e - a, t + i - n, e - a, t + i - r, e - a, 1, !0),
                            this.v.setTripleAt(t - i + n, e - a, t - i + r, e - a, t - i + n, e - a, 2, !0),
                            this.v.setTripleAt(t - i, e - a + n, t - i, e - a + n, t - i, e - a + r, 3, !0),
                            this.v.setTripleAt(t - i, e + a - n, t - i, e + a - r, t - i, e + a - n, 4, !0),
                            this.v.setTripleAt(t - i + n, e + a, t - i + n, e + a, t - i + r, e + a, 5, !0),
                            this.v.setTripleAt(t + i - n, e + a, t + i - r, e + a, t + i - n, e + a, 6, !0),
                            this.v.setTripleAt(t + i, e + a - n, t + i, e + a - n, t + i, e + a - r, 7, !0)) : (this.v.setTripleAt(t - i, e - a, t - i + r, e - a, t - i, e - a, 1, !0),
                            this.v.setTripleAt(t - i, e + a, t - i, e + a - r, t - i, e + a, 2, !0),
                            this.v.setTripleAt(t + i, e + a, t + i - r, e + a, t + i, e + a, 3, !0)))
                        },
                        getValue: function(t) {
                            this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId,
                            this.iterateDynamicProperties(),
                            this._mdf && this.convertRectToPath())
                        },
                        reset: a
                    },
                    extendPrototype([DynamicPropertyContainer], t),
                    t
                }();
                var d = {
                    getShapeProp: function(t, e, i) {
                        var a;
                        return 3 === i || 4 === i ? a = (3 === i ? e.pt : e.ks).k.length ? new l(t,e,i) : new o(t,e,i) : 5 === i ? a = new p(t,e) : 6 === i ? a = new c(t,e) : 7 === i && (a = new h(t,e)),
                        a.k && t.addDynamicProperty(a),
                        a
                    },
                    getConstructorFunction: function() {
                        return o
                    },
                    getKeyframedConstructorFunction: function() {
                        return l
                    }
                };
                return d
            }()
              , ShapeModifiers = function() {
                var t = {}
                  , e = {};
                return t.registerModifier = function(t, i) {
                    e[t] || (e[t] = i)
                }
                ,
                t.getModifier = function(t, i, a) {
                    return new e[t](i,a)
                }
                ,
                t
            }();
            function ShapeModifier() {}
            function TrimModifier() {}
            function RoundCornersModifier() {}
            function RepeaterModifier() {}
            function ShapeCollection() {
                this._length = 0,
                this._maxLength = 4,
                this.shapes = createSizedArray(this._maxLength)
            }
            function DashProperty(t, e, i, a) {
                this.elem = t,
                this.frameId = -1,
                this.dataProps = createSizedArray(e.length),
                this.renderer = i,
                this.k = !1,
                this.dashStr = "",
                this.dashArray = createTypedArray("float32", e.length ? e.length - 1 : 0),
                this.dashoffset = createTypedArray("float32", 1),
                this.initDynamicPropertyContainer(a);
                var n, r, o = e.length || 0;
                for (n = 0; n < o; n += 1)
                    r = PropertyFactory.getProp(t, e[n].v, 0, 0, this),
                    this.k = r.k || this.k,
                    this.dataProps[n] = {
                        n: e[n].n,
                        p: r
                    };
                this.k || this.getValue(!0),
                this._isAnimated = this.k
            }
            function GradientProperty(t, e, i) {
                this.data = e,
                this.c = createTypedArray("uint8c", 4 * e.p);
                var a = e.k.k[0].s ? e.k.k[0].s.length - 4 * e.p : e.k.k.length - 4 * e.p;
                this.o = createTypedArray("float32", a),
                this._cmdf = !1,
                this._omdf = !1,
                this._collapsable = this.checkCollapsable(),
                this._hasOpacity = a,
                this.initDynamicPropertyContainer(i),
                this.prop = PropertyFactory.getProp(t, e.k, 1, null, this),
                this.k = this.prop.k,
                this.getValue(!0)
            }
            ShapeModifier.prototype.initModifierProperties = function() {}
            ,
            ShapeModifier.prototype.addShapeToModifier = function() {}
            ,
            ShapeModifier.prototype.addShape = function(t) {
                if (!this.closed) {
                    var e = {
                        shape: t.sh,
                        data: t,
                        localShapeCollection: shapeCollection_pool.newShapeCollection()
                    };
                    this.shapes.push(e),
                    this.addShapeToModifier(e),
                    this._isAnimated && t.setAsAnimated()
                }
            }
            ,
            ShapeModifier.prototype.init = function(t, e) {
                this.shapes = [],
                this.elem = t,
                this.initDynamicPropertyContainer(t),
                this.initModifierProperties(t, e),
                this.frameId = initialDefaultFrame,
                this.closed = !1,
                this.k = !1,
                this.dynamicProperties.length ? this.k = !0 : this.getValue(!0)
            }
            ,
            ShapeModifier.prototype.processKeys = function() {
                this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId,
                this.iterateDynamicProperties())
            }
            ,
            extendPrototype([DynamicPropertyContainer], ShapeModifier),
            extendPrototype([ShapeModifier], TrimModifier),
            TrimModifier.prototype.initModifierProperties = function(t, e) {
                this.s = PropertyFactory.getProp(t, e.s, 0, .01, this),
                this.e = PropertyFactory.getProp(t, e.e, 0, .01, this),
                this.o = PropertyFactory.getProp(t, e.o, 0, 0, this),
                this.sValue = 0,
                this.eValue = 0,
                this.getValue = this.processKeys,
                this.m = e.m,
                this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length
            }
            ,
            TrimModifier.prototype.addShapeToModifier = function(t) {
                t.pathsData = []
            }
            ,
            TrimModifier.prototype.calculateShapeEdges = function(t, e, i, a, n) {
                var r = [];
                e <= 1 ? r.push({
                    s: t,
                    e: e
                }) : t >= 1 ? r.push({
                    s: t - 1,
                    e: e - 1
                }) : (r.push({
                    s: t,
                    e: 1
                }),
                r.push({
                    s: 0,
                    e: e - 1
                }));
                var o, s, l = [], c = r.length;
                for (o = 0; o < c; o += 1) {
                    var h, p;
                    if ((s = r[o]).e * n < a || s.s * n > a + i)
                        ;
                    else
                        h = s.s * n <= a ? 0 : (s.s * n - a) / i,
                        p = s.e * n >= a + i ? 1 : (s.e * n - a) / i,
                        l.push([h, p])
                }
                return l.length || l.push([0, 0]),
                l
            }
            ,
            TrimModifier.prototype.releasePathsData = function(t) {
                var e, i = t.length;
                for (e = 0; e < i; e += 1)
                    segments_length_pool.release(t[e]);
                return t.length = 0,
                t
            }
            ,
            TrimModifier.prototype.processShapes = function(t) {
                var e, i, a;
                if (this._mdf || t) {
                    var n = this.o.v % 360 / 360;
                    if (n < 0 && (n += 1),
                    (e = (this.s.v > 1 ? 1 : this.s.v < 0 ? 0 : this.s.v) + n) > (i = (this.e.v > 1 ? 1 : this.e.v < 0 ? 0 : this.e.v) + n)) {
                        var r = e;
                        e = i,
                        i = r
                    }
                    e = 1e-4 * Math.round(1e4 * e),
                    i = 1e-4 * Math.round(1e4 * i),
                    this.sValue = e,
                    this.eValue = i
                } else
                    e = this.sValue,
                    i = this.eValue;
                var o, s, l, c, h, p, d = this.shapes.length, u = 0;
                if (i === e)
                    for (o = 0; o < d; o += 1)
                        this.shapes[o].localShapeCollection.releaseShapes(),
                        this.shapes[o].shape._mdf = !0,
                        this.shapes[o].shape.paths = this.shapes[o].localShapeCollection;
                else if (1 === i && 0 === e || 0 === i && 1 === e) {
                    if (this._mdf)
                        for (o = 0; o < d; o += 1)
                            this.shapes[o].pathsData.length = 0,
                            this.shapes[o].shape._mdf = !0
                } else {
                    var m, f, g = [];
                    for (o = 0; o < d; o += 1)
                        if ((m = this.shapes[o]).shape._mdf || this._mdf || t || 2 === this.m) {
                            if (l = (a = m.shape.paths)._length,
                            p = 0,
                            !m.shape._mdf && m.pathsData.length)
                                p = m.totalShapeLength;
                            else {
                                for (c = this.releasePathsData(m.pathsData),
                                s = 0; s < l; s += 1)
                                    h = bez.getSegmentsLength(a.shapes[s]),
                                    c.push(h),
                                    p += h.totalLength;
                                m.totalShapeLength = p,
                                m.pathsData = c
                            }
                            u += p,
                            m.shape._mdf = !0
                        } else
                            m.shape.paths = m.localShapeCollection;
                    var y, v = e, b = i, A = 0;
                    for (o = d - 1; o >= 0; o -= 1)
                        if ((m = this.shapes[o]).shape._mdf) {
                            for ((f = m.localShapeCollection).releaseShapes(),
                            2 === this.m && d > 1 ? (y = this.calculateShapeEdges(e, i, m.totalShapeLength, A, u),
                            A += m.totalShapeLength) : y = [[v, b]],
                            l = y.length,
                            s = 0; s < l; s += 1) {
                                v = y[s][0],
                                b = y[s][1],
                                g.length = 0,
                                b <= 1 ? g.push({
                                    s: m.totalShapeLength * v,
                                    e: m.totalShapeLength * b
                                }) : v >= 1 ? g.push({
                                    s: m.totalShapeLength * (v - 1),
                                    e: m.totalShapeLength * (b - 1)
                                }) : (g.push({
                                    s: m.totalShapeLength * v,
                                    e: m.totalShapeLength
                                }),
                                g.push({
                                    s: 0,
                                    e: m.totalShapeLength * (b - 1)
                                }));
                                var _ = this.addShapes(m, g[0]);
                                if (g[0].s !== g[0].e) {
                                    if (g.length > 1)
                                        if (m.shape.paths.shapes[m.shape.paths._length - 1].c) {
                                            var C = _.pop();
                                            this.addPaths(_, f),
                                            _ = this.addShapes(m, g[1], C)
                                        } else
                                            this.addPaths(_, f),
                                            _ = this.addShapes(m, g[1]);
                                    this.addPaths(_, f)
                                }
                            }
                            m.shape.paths = f
                        }
                }
            }
            ,
            TrimModifier.prototype.addPaths = function(t, e) {
                var i, a = t.length;
                for (i = 0; i < a; i += 1)
                    e.addShape(t[i])
            }
            ,
            TrimModifier.prototype.addSegment = function(t, e, i, a, n, r, o) {
                n.setXYAt(e[0], e[1], "o", r),
                n.setXYAt(i[0], i[1], "i", r + 1),
                o && n.setXYAt(t[0], t[1], "v", r),
                n.setXYAt(a[0], a[1], "v", r + 1)
            }
            ,
            TrimModifier.prototype.addSegmentFromArray = function(t, e, i, a) {
                e.setXYAt(t[1], t[5], "o", i),
                e.setXYAt(t[2], t[6], "i", i + 1),
                a && e.setXYAt(t[0], t[4], "v", i),
                e.setXYAt(t[3], t[7], "v", i + 1)
            }
            ,
            TrimModifier.prototype.addShapes = function(t, e, i) {
                var a, n, r, o, s, l, c, h, p = t.pathsData, d = t.shape.paths.shapes, u = t.shape.paths._length, m = 0, f = [], g = !0;
                for (i ? (s = i._length,
                h = i._length) : (i = shape_pool.newElement(),
                s = 0,
                h = 0),
                f.push(i),
                a = 0; a < u; a += 1) {
                    for (l = p[a].lengths,
                    i.c = d[a].c,
                    r = d[a].c ? l.length : l.length + 1,
                    n = 1; n < r; n += 1)
                        if (m + (o = l[n - 1]).addedLength < e.s)
                            m += o.addedLength,
                            i.c = !1;
                        else {
                            if (m > e.e) {
                                i.c = !1;
                                break
                            }
                            e.s <= m && e.e >= m + o.addedLength ? (this.addSegment(d[a].v[n - 1], d[a].o[n - 1], d[a].i[n], d[a].v[n], i, s, g),
                            g = !1) : (c = bez.getNewSegment(d[a].v[n - 1], d[a].v[n], d[a].o[n - 1], d[a].i[n], (e.s - m) / o.addedLength, (e.e - m) / o.addedLength, l[n - 1]),
                            this.addSegmentFromArray(c, i, s, g),
                            g = !1,
                            i.c = !1),
                            m += o.addedLength,
                            s += 1
                        }
                    if (d[a].c && l.length) {
                        if (o = l[n - 1],
                        m <= e.e) {
                            var y = l[n - 1].addedLength;
                            e.s <= m && e.e >= m + y ? (this.addSegment(d[a].v[n - 1], d[a].o[n - 1], d[a].i[0], d[a].v[0], i, s, g),
                            g = !1) : (c = bez.getNewSegment(d[a].v[n - 1], d[a].v[0], d[a].o[n - 1], d[a].i[0], (e.s - m) / y, (e.e - m) / y, l[n - 1]),
                            this.addSegmentFromArray(c, i, s, g),
                            g = !1,
                            i.c = !1)
                        } else
                            i.c = !1;
                        m += o.addedLength,
                        s += 1
                    }
                    if (i._length && (i.setXYAt(i.v[h][0], i.v[h][1], "i", h),
                    i.setXYAt(i.v[i._length - 1][0], i.v[i._length - 1][1], "o", i._length - 1)),
                    m > e.e)
                        break;
                    a < u - 1 && (i = shape_pool.newElement(),
                    g = !0,
                    f.push(i),
                    s = 0)
                }
                return f
            }
            ,
            ShapeModifiers.registerModifier("tm", TrimModifier),
            extendPrototype([ShapeModifier], RoundCornersModifier),
            RoundCornersModifier.prototype.initModifierProperties = function(t, e) {
                this.getValue = this.processKeys,
                this.rd = PropertyFactory.getProp(t, e.r, 0, null, this),
                this._isAnimated = !!this.rd.effectsSequence.length
            }
            ,
            RoundCornersModifier.prototype.processPath = function(t, e) {
                var i = shape_pool.newElement();
                i.c = t.c;
                var a, n, r, o, s, l, c, h, p, d, u, m, f, g = t._length, y = 0;
                for (a = 0; a < g; a += 1)
                    n = t.v[a],
                    o = t.o[a],
                    r = t.i[a],
                    n[0] === o[0] && n[1] === o[1] && n[0] === r[0] && n[1] === r[1] ? 0 !== a && a !== g - 1 || t.c ? (s = 0 === a ? t.v[g - 1] : t.v[a - 1],
                    c = (l = Math.sqrt(Math.pow(n[0] - s[0], 2) + Math.pow(n[1] - s[1], 2))) ? Math.min(l / 2, e) / l : 0,
                    h = m = n[0] + (s[0] - n[0]) * c,
                    p = f = n[1] - (n[1] - s[1]) * c,
                    d = h - (h - n[0]) * roundCorner,
                    u = p - (p - n[1]) * roundCorner,
                    i.setTripleAt(h, p, d, u, m, f, y),
                    y += 1,
                    s = a === g - 1 ? t.v[0] : t.v[a + 1],
                    c = (l = Math.sqrt(Math.pow(n[0] - s[0], 2) + Math.pow(n[1] - s[1], 2))) ? Math.min(l / 2, e) / l : 0,
                    h = d = n[0] + (s[0] - n[0]) * c,
                    p = u = n[1] + (s[1] - n[1]) * c,
                    m = h - (h - n[0]) * roundCorner,
                    f = p - (p - n[1]) * roundCorner,
                    i.setTripleAt(h, p, d, u, m, f, y),
                    y += 1) : (i.setTripleAt(n[0], n[1], o[0], o[1], r[0], r[1], y),
                    y += 1) : (i.setTripleAt(t.v[a][0], t.v[a][1], t.o[a][0], t.o[a][1], t.i[a][0], t.i[a][1], y),
                    y += 1);
                return i
            }
            ,
            RoundCornersModifier.prototype.processShapes = function(t) {
                var e, i, a, n, r, o, s = this.shapes.length, l = this.rd.v;
                if (0 !== l)
                    for (i = 0; i < s; i += 1) {
                        if ((r = this.shapes[i]).shape.paths,
                        o = r.localShapeCollection,
                        r.shape._mdf || this._mdf || t)
                            for (o.releaseShapes(),
                            r.shape._mdf = !0,
                            e = r.shape.paths.shapes,
                            n = r.shape.paths._length,
                            a = 0; a < n; a += 1)
                                o.addShape(this.processPath(e[a], l));
                        r.shape.paths = r.localShapeCollection
                    }
                this.dynamicProperties.length || (this._mdf = !1)
            }
            ,
            ShapeModifiers.registerModifier("rd", RoundCornersModifier),
            extendPrototype([ShapeModifier], RepeaterModifier),
            RepeaterModifier.prototype.initModifierProperties = function(t, e) {
                this.getValue = this.processKeys,
                this.c = PropertyFactory.getProp(t, e.c, 0, null, this),
                this.o = PropertyFactory.getProp(t, e.o, 0, null, this),
                this.tr = TransformPropertyFactory.getTransformProperty(t, e.tr, this),
                this.so = PropertyFactory.getProp(t, e.tr.so, 0, .01, this),
                this.eo = PropertyFactory.getProp(t, e.tr.eo, 0, .01, this),
                this.data = e,
                this.dynamicProperties.length || this.getValue(!0),
                this._isAnimated = !!this.dynamicProperties.length,
                this.pMatrix = new Matrix,
                this.rMatrix = new Matrix,
                this.sMatrix = new Matrix,
                this.tMatrix = new Matrix,
                this.matrix = new Matrix
            }
            ,
            RepeaterModifier.prototype.applyTransforms = function(t, e, i, a, n, r) {
                var o = r ? -1 : 1
                  , s = a.s.v[0] + (1 - a.s.v[0]) * (1 - n)
                  , l = a.s.v[1] + (1 - a.s.v[1]) * (1 - n);
                t.translate(a.p.v[0] * o * n, a.p.v[1] * o * n, a.p.v[2]),
                e.translate(-a.a.v[0], -a.a.v[1], a.a.v[2]),
                e.rotate(-a.r.v * o * n),
                e.translate(a.a.v[0], a.a.v[1], a.a.v[2]),
                i.translate(-a.a.v[0], -a.a.v[1], a.a.v[2]),
                i.scale(r ? 1 / s : s, r ? 1 / l : l),
                i.translate(a.a.v[0], a.a.v[1], a.a.v[2])
            }
            ,
            RepeaterModifier.prototype.init = function(t, e, i, a) {
                this.elem = t,
                this.arr = e,
                this.pos = i,
                this.elemsData = a,
                this._currentCopies = 0,
                this._elements = [],
                this._groups = [],
                this.frameId = -1,
                this.initDynamicPropertyContainer(t),
                this.initModifierProperties(t, e[i]);
                for (; i > 0; )
                    i -= 1,
                    this._elements.unshift(e[i]),
                    1;
                this.dynamicProperties.length ? this.k = !0 : this.getValue(!0)
            }
            ,
            RepeaterModifier.prototype.resetElements = function(t) {
                var e, i = t.length;
                for (e = 0; e < i; e += 1)
                    t[e]._processed = !1,
                    "gr" === t[e].ty && this.resetElements(t[e].it)
            }
            ,
            RepeaterModifier.prototype.cloneElements = function(t) {
                t.length;
                var e = JSON.parse(JSON.stringify(t));
                return this.resetElements(e),
                e
            }
            ,
            RepeaterModifier.prototype.changeGroupRender = function(t, e) {
                var i, a = t.length;
                for (i = 0; i < a; i += 1)
                    t[i]._render = e,
                    "gr" === t[i].ty && this.changeGroupRender(t[i].it, e)
            }
            ,
            RepeaterModifier.prototype.processShapes = function(t) {
                var e, i, a, n, r;
                if (this._mdf || t) {
                    var o, s = Math.ceil(this.c.v);
                    if (this._groups.length < s) {
                        for (; this._groups.length < s; ) {
                            var l = {
                                it: this.cloneElements(this._elements),
                                ty: "gr"
                            };
                            l.it.push({
                                a: {
                                    a: 0,
                                    ix: 1,
                                    k: [0, 0]
                                },
                                nm: "Transform",
                                o: {
                                    a: 0,
                                    ix: 7,
                                    k: 100
                                },
                                p: {
                                    a: 0,
                                    ix: 2,
                                    k: [0, 0]
                                },
                                r: {
                                    a: 1,
                                    ix: 6,
                                    k: [{
                                        s: 0,
                                        e: 0,
                                        t: 0
                                    }, {
                                        s: 0,
                                        e: 0,
                                        t: 1
                                    }]
                                },
                                s: {
                                    a: 0,
                                    ix: 3,
                                    k: [100, 100]
                                },
                                sa: {
                                    a: 0,
                                    ix: 5,
                                    k: 0
                                },
                                sk: {
                                    a: 0,
                                    ix: 4,
                                    k: 0
                                },
                                ty: "tr"
                            }),
                            this.arr.splice(0, 0, l),
                            this._groups.splice(0, 0, l),
                            this._currentCopies += 1
                        }
                        this.elem.reloadShapes()
                    }
                    for (r = 0,
                    a = 0; a <= this._groups.length - 1; a += 1)
                        o = r < s,
                        this._groups[a]._render = o,
                        this.changeGroupRender(this._groups[a].it, o),
                        r += 1;
                    this._currentCopies = s;
                    var c = this.o.v
                      , h = c % 1
                      , p = c > 0 ? Math.floor(c) : Math.ceil(c)
                      , d = (this.tr.v.props,
                    this.pMatrix.props)
                      , u = this.rMatrix.props
                      , m = this.sMatrix.props;
                    this.pMatrix.reset(),
                    this.rMatrix.reset(),
                    this.sMatrix.reset(),
                    this.tMatrix.reset(),
                    this.matrix.reset();
                    var f, g, y = 0;
                    if (c > 0) {
                        for (; y < p; )
                            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, !1),
                            y += 1;
                        h && (this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, h, !1),
                        y += h)
                    } else if (c < 0) {
                        for (; y > p; )
                            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, !0),
                            y -= 1;
                        h && (this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -h, !0),
                        y -= h)
                    }
                    for (a = 1 === this.data.m ? 0 : this._currentCopies - 1,
                    n = 1 === this.data.m ? 1 : -1,
                    r = this._currentCopies; r; ) {
                        if (g = (i = (e = this.elemsData[a].it)[e.length - 1].transform.mProps.v.props).length,
                        e[e.length - 1].transform.mProps._mdf = !0,
                        e[e.length - 1].transform.op._mdf = !0,
                        e[e.length - 1].transform.op.v = this.so.v + (this.eo.v - this.so.v) * (a / (this._currentCopies - 1)),
                        0 !== y) {
                            for ((0 !== a && 1 === n || a !== this._currentCopies - 1 && -1 === n) && this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, !1),
                            this.matrix.transform(u[0], u[1], u[2], u[3], u[4], u[5], u[6], u[7], u[8], u[9], u[10], u[11], u[12], u[13], u[14], u[15]),
                            this.matrix.transform(m[0], m[1], m[2], m[3], m[4], m[5], m[6], m[7], m[8], m[9], m[10], m[11], m[12], m[13], m[14], m[15]),
                            this.matrix.transform(d[0], d[1], d[2], d[3], d[4], d[5], d[6], d[7], d[8], d[9], d[10], d[11], d[12], d[13], d[14], d[15]),
                            f = 0; f < g; f += 1)
                                i[f] = this.matrix.props[f];
                            this.matrix.reset()
                        } else
                            for (this.matrix.reset(),
                            f = 0; f < g; f += 1)
                                i[f] = this.matrix.props[f];
                        y += 1,
                        r -= 1,
                        a += n
                    }
                } else
                    for (r = this._currentCopies,
                    a = 0,
                    n = 1; r; )
                        i = (e = this.elemsData[a].it)[e.length - 1].transform.mProps.v.props,
                        e[e.length - 1].transform.mProps._mdf = !1,
                        e[e.length - 1].transform.op._mdf = !1,
                        r -= 1,
                        a += n
            }
            ,
            RepeaterModifier.prototype.addShape = function() {}
            ,
            ShapeModifiers.registerModifier("rp", RepeaterModifier),
            ShapeCollection.prototype.addShape = function(t) {
                this._length === this._maxLength && (this.shapes = this.shapes.concat(createSizedArray(this._maxLength)),
                this._maxLength *= 2),
                this.shapes[this._length] = t,
                this._length += 1
            }
            ,
            ShapeCollection.prototype.releaseShapes = function() {
                var t;
                for (t = 0; t < this._length; t += 1)
                    shape_pool.release(this.shapes[t]);
                this._length = 0
            }
            ,
            DashProperty.prototype.getValue = function(t) {
                if ((this.elem.globalData.frameId !== this.frameId || t) && (this.frameId = this.elem.globalData.frameId,
                this.iterateDynamicProperties(),
                this._mdf = this._mdf || t,
                this._mdf)) {
                    var e = 0
                      , i = this.dataProps.length;
                    for ("svg" === this.renderer && (this.dashStr = ""),
                    e = 0; e < i; e += 1)
                        "o" != this.dataProps[e].n ? "svg" === this.renderer ? this.dashStr += " " + this.dataProps[e].p.v : this.dashArray[e] = this.dataProps[e].p.v : this.dashoffset[0] = this.dataProps[e].p.v
                }
            }
            ,
            extendPrototype([DynamicPropertyContainer], DashProperty),
            GradientProperty.prototype.comparePoints = function(t, e) {
                for (var i = 0, a = this.o.length / 2; i < a; ) {
                    if (Math.abs(t[4 * i] - t[4 * e + 2 * i]) > .01)
                        return !1;
                    i += 1
                }
                return !0
            }
            ,
            GradientProperty.prototype.checkCollapsable = function() {
                if (this.o.length / 2 !== this.c.length / 4)
                    return !1;
                if (this.data.k.k[0].s)
                    for (var t = 0, e = this.data.k.k.length; t < e; ) {
                        if (!this.comparePoints(this.data.k.k[t].s, this.data.p))
                            return !1;
                        t += 1
                    }
                else if (!this.comparePoints(this.data.k.k, this.data.p))
                    return !1;
                return !0
            }
            ,
            GradientProperty.prototype.getValue = function(t) {
                if (this.prop.getValue(),
                this._mdf = !1,
                this._cmdf = !1,
                this._omdf = !1,
                this.prop._mdf || t) {
                    var e, i, a, n = 4 * this.data.p;
                    for (e = 0; e < n; e += 1)
                        i = e % 4 === 0 ? 100 : 255,
                        a = Math.round(this.prop.v[e] * i),
                        this.c[e] !== a && (this.c[e] = a,
                        this._cmdf = !t);
                    if (this.o.length)
                        for (n = this.prop.v.length,
                        e = 4 * this.data.p; e < n; e += 1)
                            i = e % 2 === 0 ? 100 : 1,
                            a = e % 2 === 0 ? Math.round(100 * this.prop.v[e]) : this.prop.v[e],
                            this.o[e - 4 * this.data.p] !== a && (this.o[e - 4 * this.data.p] = a,
                            this._omdf = !t);
                    this._mdf = !t
                }
            }
            ,
            extendPrototype([DynamicPropertyContainer], GradientProperty);
            var buildShapeString = function(t, e, i, a) {
                if (0 === e)
                    return "";
                var n, r = t.o, o = t.i, s = t.v, l = " M" + a.applyToPointStringified(s[0][0], s[0][1]);
                for (n = 1; n < e; n += 1)
                    l += " C" + a.applyToPointStringified(r[n - 1][0], r[n - 1][1]) + " " + a.applyToPointStringified(o[n][0], o[n][1]) + " " + a.applyToPointStringified(s[n][0], s[n][1]);
                return i && e && (l += " C" + a.applyToPointStringified(r[n - 1][0], r[n - 1][1]) + " " + a.applyToPointStringified(o[0][0], o[0][1]) + " " + a.applyToPointStringified(s[0][0], s[0][1]),
                l += "z"),
                l
            }
              , ImagePreloader = function() {
                var t = function() {
                    var t = createTag("canvas");
                    t.width = 1,
                    t.height = 1;
                    var e = t.getContext("2d");
                    return e.fillStyle = "#FF0000",
                    e.fillRect(0, 0, 1, 1),
                    t
                }();
                function e() {
                    this.loadedAssets += 1,
                    this.loadedAssets === this.totalImages && this.imagesLoadedCb && this.imagesLoadedCb(null)
                }
                function i(e) {
                    var i = function(t, e, i) {
                        var a = "";
                        if (t.e)
                            a = t.p;
                        else if (e) {
                            var n = t.p;
                            -1 !== n.indexOf("images/") && (n = n.split("/")[1]),
                            a = e + n
                        } else
                            a = i,
                            a += t.u ? t.u : "",
                            a += t.p;
                        return a
                    }(e, this.assetsPath, this.path)
                      , a = createTag("img");
                    a.crossOrigin = "anonymous",
                    a.addEventListener("load", this._imageLoaded.bind(this), !1),
                    a.addEventListener("error", function() {
                        n.img = t,
                        this._imageLoaded()
                    }
                    .bind(this), !1),
                    a.src = i;
                    var n = {
                        img: a,
                        assetData: e
                    };
                    return n
                }
                function a(t, e) {
                    this.imagesLoadedCb = e;
                    var i, a = t.length;
                    for (i = 0; i < a; i += 1)
                        t[i].layers || (this.totalImages += 1,
                        this.images.push(this._createImageData(t[i])))
                }
                function n(t) {
                    this.path = t || ""
                }
                function r(t) {
                    this.assetsPath = t || ""
                }
                function o(t) {
                    for (var e = 0, i = this.images.length; e < i; ) {
                        if (this.images[e].assetData === t)
                            return this.images[e].img;
                        e += 1
                    }
                }
                function s() {
                    this.imagesLoadedCb = null,
                    this.images.length = 0
                }
                function l() {
                    return this.totalImages === this.loadedAssets
                }
                return function() {
                    this.loadAssets = a,
                    this.setAssetsPath = r,
                    this.setPath = n,
                    this.loaded = l,
                    this.destroy = s,
                    this.getImage = o,
                    this._createImageData = i,
                    this._imageLoaded = e,
                    this.assetsPath = "",
                    this.path = "",
                    this.totalImages = 0,
                    this.loadedAssets = 0,
                    this.imagesLoadedCb = null,
                    this.images = []
                }
            }()
              , featureSupport = function() {
                var t = {
                    maskType: !0
                };
                return (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\/\d./i.test(navigator.userAgent)) && (t.maskType = !1),
                t
            }()
              , filtersFactory = function() {
                var t = {};
                return t.createFilter = function(t) {
                    var e = createNS("filter");
                    return e.setAttribute("id", t),
                    e.setAttribute("filterUnits", "objectBoundingBox"),
                    e.setAttribute("x", "0%"),
                    e.setAttribute("y", "0%"),
                    e.setAttribute("width", "100%"),
                    e.setAttribute("height", "100%"),
                    e
                }
                ,
                t.createAlphaToLuminanceFilter = function() {
                    var t = createNS("feColorMatrix");
                    return t.setAttribute("type", "matrix"),
                    t.setAttribute("color-interpolation-filters", "sRGB"),
                    t.setAttribute("values", "0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),
                    t
                }
                ,
                t
            }()
              , assetLoader = function() {
                function t(t) {
                    return t.response && "object" === typeof t.response ? t.response : t.response && "string" === typeof t.response ? JSON.parse(t.response) : t.responseText ? JSON.parse(t.responseText) : void 0
                }
                return {
                    load: function(e, i, a) {
                        var n, r = new XMLHttpRequest;
                        r.open("GET", e, !0);
                        try {
                            r.responseType = "json"
                        } catch (o) {}
                        r.send(),
                        r.onreadystatechange = function() {
                            if (4 == r.readyState)
                                if (200 == r.status)
                                    n = t(r),
                                    i(n);
                                else
                                    try {
                                        n = t(r),
                                        i(n)
                                    } catch (o) {
                                        a && a(o)
                                    }
                        }
                    }
                }
            }();
            function TextAnimatorProperty(t, e, i) {
                this._isFirstFrame = !0,
                this._hasMaskedPath = !1,
                this._frameId = -1,
                this._textData = t,
                this._renderType = e,
                this._elem = i,
                this._animatorsData = createSizedArray(this._textData.a.length),
                this._pathData = {},
                this._moreOptions = {
                    alignment: {}
                },
                this.renderedLetters = [],
                this.lettersChangedFlag = !1,
                this.initDynamicPropertyContainer(i)
            }
            function TextAnimatorDataProperty(t, e, i) {
                var a = {
                    propType: !1
                }
                  , n = PropertyFactory.getProp
                  , r = e.a;
                this.a = {
                    r: r.r ? n(t, r.r, 0, degToRads, i) : a,
                    rx: r.rx ? n(t, r.rx, 0, degToRads, i) : a,
                    ry: r.ry ? n(t, r.ry, 0, degToRads, i) : a,
                    sk: r.sk ? n(t, r.sk, 0, degToRads, i) : a,
                    sa: r.sa ? n(t, r.sa, 0, degToRads, i) : a,
                    s: r.s ? n(t, r.s, 1, .01, i) : a,
                    a: r.a ? n(t, r.a, 1, 0, i) : a,
                    o: r.o ? n(t, r.o, 0, .01, i) : a,
                    p: r.p ? n(t, r.p, 1, 0, i) : a,
                    sw: r.sw ? n(t, r.sw, 0, 0, i) : a,
                    sc: r.sc ? n(t, r.sc, 1, 0, i) : a,
                    fc: r.fc ? n(t, r.fc, 1, 0, i) : a,
                    fh: r.fh ? n(t, r.fh, 0, 0, i) : a,
                    fs: r.fs ? n(t, r.fs, 0, .01, i) : a,
                    fb: r.fb ? n(t, r.fb, 0, .01, i) : a,
                    t: r.t ? n(t, r.t, 0, 0, i) : a
                },
                this.s = TextSelectorProp.getTextSelectorProp(t, e.s, i),
                this.s.t = e.s.t
            }
            function LetterProps(t, e, i, a, n, r) {
                this.o = t,
                this.sw = e,
                this.sc = i,
                this.fc = a,
                this.m = n,
                this.p = r,
                this._mdf = {
                    o: !0,
                    sw: !!e,
                    sc: !!i,
                    fc: !!a,
                    m: !0,
                    p: !0
                }
            }
            function TextProperty(t, e) {
                this._frameId = initialDefaultFrame,
                this.pv = "",
                this.v = "",
                this.kf = !1,
                this._isFirstFrame = !0,
                this._mdf = !1,
                this.data = e,
                this.elem = t,
                this.comp = this.elem.comp,
                this.keysIndex = 0,
                this.canResize = !1,
                this.minimumFontSize = 1,
                this.effectsSequence = [],
                this.currentData = {
                    ascent: 0,
                    boxWidth: this.defaultBoxWidth,
                    f: "",
                    fStyle: "",
                    fWeight: "",
                    fc: "",
                    j: "",
                    justifyOffset: "",
                    l: [],
                    lh: 0,
                    lineWidths: [],
                    ls: "",
                    of: "",
                    s: "",
                    sc: "",
                    sw: 0,
                    t: 0,
                    tr: 0,
                    sz: 0,
                    ps: null,
                    fillColorAnim: !1,
                    strokeColorAnim: !1,
                    strokeWidthAnim: !1,
                    yOffset: 0,
                    finalSize: 0,
                    finalText: [],
                    finalLineHeight: 0,
                    __complete: !1
                },
                this.copyData(this.currentData, this.data.d.k[0].s),
                this.searchProperty() || this.completeTextData(this.currentData)
            }
            TextAnimatorProperty.prototype.searchProperties = function() {
                var t, e, i = this._textData.a.length, a = PropertyFactory.getProp;
                for (t = 0; t < i; t += 1)
                    e = this._textData.a[t],
                    this._animatorsData[t] = new TextAnimatorDataProperty(this._elem,e,this);
                this._textData.p && "m"in this._textData.p ? (this._pathData = {
                    f: a(this._elem, this._textData.p.f, 0, 0, this),
                    l: a(this._elem, this._textData.p.l, 0, 0, this),
                    r: this._textData.p.r,
                    m: this._elem.maskManager.getMaskProperty(this._textData.p.m)
                },
                this._hasMaskedPath = !0) : this._hasMaskedPath = !1,
                this._moreOptions.alignment = a(this._elem, this._textData.m.a, 1, 0, this)
            }
            ,
            TextAnimatorProperty.prototype.getMeasures = function(t, e) {
                if (this.lettersChangedFlag = e,
                this._mdf || this._isFirstFrame || e || this._hasMaskedPath && this._pathData.m._mdf) {
                    this._isFirstFrame = !1;
                    var i, a, n, r, o, s, l, c, h, p, d, u, m, f, g, y, v, b, A, _ = this._moreOptions.alignment.v, C = this._animatorsData, w = this._textData, x = this.mHelper, S = this._renderType, T = this.renderedLetters.length, E = (this.data,
                    t.l);
                    if (this._hasMaskedPath) {
                        if (A = this._pathData.m,
                        !this._pathData.n || this._pathData._mdf) {
                            var k, L = A.v;
                            for (this._pathData.r && (L = L.reverse()),
                            o = {
                                tLength: 0,
                                segments: []
                            },
                            r = L._length - 1,
                            y = 0,
                            n = 0; n < r; n += 1)
                                k = bez.buildBezierData(L.v[n], L.v[n + 1], [L.o[n][0] - L.v[n][0], L.o[n][1] - L.v[n][1]], [L.i[n + 1][0] - L.v[n + 1][0], L.i[n + 1][1] - L.v[n + 1][1]]),
                                o.tLength += k.segmentLength,
                                o.segments.push(k),
                                y += k.segmentLength;
                            n = r,
                            A.v.c && (k = bez.buildBezierData(L.v[n], L.v[0], [L.o[n][0] - L.v[n][0], L.o[n][1] - L.v[n][1]], [L.i[0][0] - L.v[0][0], L.i[0][1] - L.v[0][1]]),
                            o.tLength += k.segmentLength,
                            o.segments.push(k),
                            y += k.segmentLength),
                            this._pathData.pi = o
                        }
                        if (o = this._pathData.pi,
                        s = this._pathData.f.v,
                        d = 0,
                        p = 1,
                        c = 0,
                        h = !0,
                        f = o.segments,
                        s < 0 && A.v.c)
                            for (o.tLength < Math.abs(s) && (s = -Math.abs(s) % o.tLength),
                            p = (m = f[d = f.length - 1].points).length - 1; s < 0; )
                                s += m[p].partialLength,
                                (p -= 1) < 0 && (p = (m = f[d -= 1].points).length - 1);
                        u = (m = f[d].points)[p - 1],
                        g = (l = m[p]).partialLength
                    }
                    r = E.length,
                    i = 0,
                    a = 0;
                    var P, I, z, B, D = 1.2 * t.finalSize * .714, M = !0;
                    z = C.length;
                    var O, R, N, V, j, F, G, U, H, K, W, Q, Y, Z = -1, $ = s, q = d, X = p, J = -1, tt = "", et = this.defaultPropsArray;
                    if (2 === t.j || 1 === t.j) {
                        var it = 0
                          , at = 0
                          , nt = 2 === t.j ? -.5 : -1
                          , rt = 0
                          , ot = !0;
                        for (n = 0; n < r; n += 1)
                            if (E[n].n) {
                                for (it && (it += at); rt < n; )
                                    E[rt].animatorJustifyOffset = it,
                                    rt += 1;
                                it = 0,
                                ot = !0
                            } else {
                                for (I = 0; I < z; I += 1)
                                    (P = C[I].a).t.propType && (ot && 2 === t.j && (at += P.t.v * nt),
                                    (O = C[I].s.getMult(E[n].anIndexes[I], w.a[I].s.totalChars)).length ? it += P.t.v * O[0] * nt : it += P.t.v * O * nt);
                                ot = !1
                            }
                        for (it && (it += at); rt < n; )
                            E[rt].animatorJustifyOffset = it,
                            rt += 1
                    }
                    for (n = 0; n < r; n += 1) {
                        if (x.reset(),
                        j = 1,
                        E[n].n)
                            i = 0,
                            a += t.yOffset,
                            a += M ? 1 : 0,
                            s = $,
                            M = !1,
                            0,
                            this._hasMaskedPath && (p = X,
                            u = (m = f[d = q].points)[p - 1],
                            g = (l = m[p]).partialLength,
                            c = 0),
                            Y = K = Q = tt = "",
                            et = this.defaultPropsArray;
                        else {
                            if (this._hasMaskedPath) {
                                if (J !== E[n].line) {
                                    switch (t.j) {
                                    case 1:
                                        s += y - t.lineWidths[E[n].line];
                                        break;
                                    case 2:
                                        s += (y - t.lineWidths[E[n].line]) / 2
                                    }
                                    J = E[n].line
                                }
                                Z !== E[n].ind && (E[Z] && (s += E[Z].extra),
                                s += E[n].an / 2,
                                Z = E[n].ind),
                                s += _[0] * E[n].an / 200;
                                var st = 0;
                                for (I = 0; I < z; I += 1)
                                    (P = C[I].a).p.propType && ((O = C[I].s.getMult(E[n].anIndexes[I], w.a[I].s.totalChars)).length ? st += P.p.v[0] * O[0] : st += P.p.v[0] * O),
                                    P.a.propType && ((O = C[I].s.getMult(E[n].anIndexes[I], w.a[I].s.totalChars)).length ? st += P.a.v[0] * O[0] : st += P.a.v[0] * O);
                                for (h = !0; h; )
                                    c + g >= s + st || !m ? (v = (s + st - c) / l.partialLength,
                                    N = u.point[0] + (l.point[0] - u.point[0]) * v,
                                    V = u.point[1] + (l.point[1] - u.point[1]) * v,
                                    x.translate(-_[0] * E[n].an / 200, -_[1] * D / 100),
                                    h = !1) : m && (c += l.partialLength,
                                    (p += 1) >= m.length && (p = 0,
                                    f[d += 1] ? m = f[d].points : A.v.c ? (p = 0,
                                    m = f[d = 0].points) : (c -= l.partialLength,
                                    m = null)),
                                    m && (u = l,
                                    g = (l = m[p]).partialLength));
                                R = E[n].an / 2 - E[n].add,
                                x.translate(-R, 0, 0)
                            } else
                                R = E[n].an / 2 - E[n].add,
                                x.translate(-R, 0, 0),
                                x.translate(-_[0] * E[n].an / 200, -_[1] * D / 100, 0);
                            for (E[n].l / 2,
                            I = 0; I < z; I += 1)
                                (P = C[I].a).t.propType && (O = C[I].s.getMult(E[n].anIndexes[I], w.a[I].s.totalChars),
                                0 === i && 0 === t.j || (this._hasMaskedPath ? O.length ? s += P.t.v * O[0] : s += P.t.v * O : O.length ? i += P.t.v * O[0] : i += P.t.v * O));
                            for (E[n].l / 2,
                            t.strokeWidthAnim && (G = t.sw || 0),
                            t.strokeColorAnim && (F = t.sc ? [t.sc[0], t.sc[1], t.sc[2]] : [0, 0, 0]),
                            t.fillColorAnim && t.fc && (U = [t.fc[0], t.fc[1], t.fc[2]]),
                            I = 0; I < z; I += 1)
                                (P = C[I].a).a.propType && ((O = C[I].s.getMult(E[n].anIndexes[I], w.a[I].s.totalChars)).length ? x.translate(-P.a.v[0] * O[0], -P.a.v[1] * O[1], P.a.v[2] * O[2]) : x.translate(-P.a.v[0] * O, -P.a.v[1] * O, P.a.v[2] * O));
                            for (I = 0; I < z; I += 1)
                                (P = C[I].a).s.propType && ((O = C[I].s.getMult(E[n].anIndexes[I], w.a[I].s.totalChars)).length ? x.scale(1 + (P.s.v[0] - 1) * O[0], 1 + (P.s.v[1] - 1) * O[1], 1) : x.scale(1 + (P.s.v[0] - 1) * O, 1 + (P.s.v[1] - 1) * O, 1));
                            for (I = 0; I < z; I += 1) {
                                if (P = C[I].a,
                                O = C[I].s.getMult(E[n].anIndexes[I], w.a[I].s.totalChars),
                                P.sk.propType && (O.length ? x.skewFromAxis(-P.sk.v * O[0], P.sa.v * O[1]) : x.skewFromAxis(-P.sk.v * O, P.sa.v * O)),
                                P.r.propType && (O.length ? x.rotateZ(-P.r.v * O[2]) : x.rotateZ(-P.r.v * O)),
                                P.ry.propType && (O.length ? x.rotateY(P.ry.v * O[1]) : x.rotateY(P.ry.v * O)),
                                P.rx.propType && (O.length ? x.rotateX(P.rx.v * O[0]) : x.rotateX(P.rx.v * O)),
                                P.o.propType && (O.length ? j += (P.o.v * O[0] - j) * O[0] : j += (P.o.v * O - j) * O),
                                t.strokeWidthAnim && P.sw.propType && (O.length ? G += P.sw.v * O[0] : G += P.sw.v * O),
                                t.strokeColorAnim && P.sc.propType)
                                    for (H = 0; H < 3; H += 1)
                                        O.length ? F[H] = F[H] + (P.sc.v[H] - F[H]) * O[0] : F[H] = F[H] + (P.sc.v[H] - F[H]) * O;
                                if (t.fillColorAnim && t.fc) {
                                    if (P.fc.propType)
                                        for (H = 0; H < 3; H += 1)
                                            O.length ? U[H] = U[H] + (P.fc.v[H] - U[H]) * O[0] : U[H] = U[H] + (P.fc.v[H] - U[H]) * O;
                                    P.fh.propType && (U = O.length ? addHueToRGB(U, P.fh.v * O[0]) : addHueToRGB(U, P.fh.v * O)),
                                    P.fs.propType && (U = O.length ? addSaturationToRGB(U, P.fs.v * O[0]) : addSaturationToRGB(U, P.fs.v * O)),
                                    P.fb.propType && (U = O.length ? addBrightnessToRGB(U, P.fb.v * O[0]) : addBrightnessToRGB(U, P.fb.v * O))
                                }
                            }
                            for (I = 0; I < z; I += 1)
                                (P = C[I].a).p.propType && (O = C[I].s.getMult(E[n].anIndexes[I], w.a[I].s.totalChars),
                                this._hasMaskedPath ? O.length ? x.translate(0, P.p.v[1] * O[0], -P.p.v[2] * O[1]) : x.translate(0, P.p.v[1] * O, -P.p.v[2] * O) : O.length ? x.translate(P.p.v[0] * O[0], P.p.v[1] * O[1], -P.p.v[2] * O[2]) : x.translate(P.p.v[0] * O, P.p.v[1] * O, -P.p.v[2] * O));
                            if (t.strokeWidthAnim && (K = G < 0 ? 0 : G),
                            t.strokeColorAnim && (W = "rgb(" + Math.round(255 * F[0]) + "," + Math.round(255 * F[1]) + "," + Math.round(255 * F[2]) + ")"),
                            t.fillColorAnim && t.fc && (Q = "rgb(" + Math.round(255 * U[0]) + "," + Math.round(255 * U[1]) + "," + Math.round(255 * U[2]) + ")"),
                            this._hasMaskedPath) {
                                if (x.translate(0, -t.ls),
                                x.translate(0, _[1] * D / 100 + a, 0),
                                w.p.p) {
                                    b = (l.point[1] - u.point[1]) / (l.point[0] - u.point[0]);
                                    var lt = 180 * Math.atan(b) / Math.PI;
                                    l.point[0] < u.point[0] && (lt += 180),
                                    x.rotate(-lt * Math.PI / 180)
                                }
                                x.translate(N, V, 0),
                                s -= _[0] * E[n].an / 200,
                                E[n + 1] && Z !== E[n + 1].ind && (s += E[n].an / 2,
                                s += t.tr / 1e3 * t.finalSize)
                            } else {
                                switch (x.translate(i, a, 0),
                                t.ps && x.translate(t.ps[0], t.ps[1] + t.ascent, 0),
                                t.j) {
                                case 1:
                                    x.translate(E[n].animatorJustifyOffset + t.justifyOffset + (t.boxWidth - t.lineWidths[E[n].line]), 0, 0);
                                    break;
                                case 2:
                                    x.translate(E[n].animatorJustifyOffset + t.justifyOffset + (t.boxWidth - t.lineWidths[E[n].line]) / 2, 0, 0)
                                }
                                x.translate(0, -t.ls),
                                x.translate(R, 0, 0),
                                x.translate(_[0] * E[n].an / 200, _[1] * D / 100, 0),
                                i += E[n].l + t.tr / 1e3 * t.finalSize
                            }
                            "html" === S ? tt = x.toCSS() : "svg" === S ? tt = x.to2dCSS() : et = [x.props[0], x.props[1], x.props[2], x.props[3], x.props[4], x.props[5], x.props[6], x.props[7], x.props[8], x.props[9], x.props[10], x.props[11], x.props[12], x.props[13], x.props[14], x.props[15]],
                            Y = j
                        }
                        T <= n ? (B = new LetterProps(Y,K,W,Q,tt,et),
                        this.renderedLetters.push(B),
                        T += 1,
                        this.lettersChangedFlag = !0) : (B = this.renderedLetters[n],
                        this.lettersChangedFlag = B.update(Y, K, W, Q, tt, et) || this.lettersChangedFlag)
                    }
                }
            }
            ,
            TextAnimatorProperty.prototype.getValue = function() {
                this._elem.globalData.frameId !== this._frameId && (this._frameId = this._elem.globalData.frameId,
                this.iterateDynamicProperties())
            }
            ,
            TextAnimatorProperty.prototype.mHelper = new Matrix,
            TextAnimatorProperty.prototype.defaultPropsArray = [],
            extendPrototype([DynamicPropertyContainer], TextAnimatorProperty),
            LetterProps.prototype.update = function(t, e, i, a, n, r) {
                this._mdf.o = !1,
                this._mdf.sw = !1,
                this._mdf.sc = !1,
                this._mdf.fc = !1,
                this._mdf.m = !1,
                this._mdf.p = !1;
                var o = !1;
                return this.o !== t && (this.o = t,
                this._mdf.o = !0,
                o = !0),
                this.sw !== e && (this.sw = e,
                this._mdf.sw = !0,
                o = !0),
                this.sc !== i && (this.sc = i,
                this._mdf.sc = !0,
                o = !0),
                this.fc !== a && (this.fc = a,
                this._mdf.fc = !0,
                o = !0),
                this.m !== n && (this.m = n,
                this._mdf.m = !0,
                o = !0),
                !r.length || this.p[0] === r[0] && this.p[1] === r[1] && this.p[4] === r[4] && this.p[5] === r[5] && this.p[12] === r[12] && this.p[13] === r[13] || (this.p = r,
                this._mdf.p = !0,
                o = !0),
                o
            }
            ,
            TextProperty.prototype.defaultBoxWidth = [0, 0],
            TextProperty.prototype.copyData = function(t, e) {
                for (var i in e)
                    e.hasOwnProperty(i) && (t[i] = e[i]);
                return t
            }
            ,
            TextProperty.prototype.setCurrentData = function(t) {
                t.__complete || this.completeTextData(t),
                this.currentData = t,
                this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth,
                this._mdf = !0
            }
            ,
            TextProperty.prototype.searchProperty = function() {
                return this.searchKeyframes()
            }
            ,
            TextProperty.prototype.searchKeyframes = function() {
                return this.kf = this.data.d.k.length > 1,
                this.kf && this.addEffect(this.getKeyframeValue.bind(this)),
                this.kf
            }
            ,
            TextProperty.prototype.addEffect = function(t) {
                this.effectsSequence.push(t),
                this.elem.addDynamicProperty(this)
            }
            ,
            TextProperty.prototype.getValue = function(t) {
                if (this.elem.globalData.frameId !== this.frameId && this.effectsSequence.length || t) {
                    this.currentData.t = this.data.d.k[this.keysIndex].s.t;
                    var e = this.currentData
                      , i = this.keysIndex;
                    if (this.lock)
                        this.setCurrentData(this.currentData);
                    else {
                        this.lock = !0,
                        this._mdf = !1;
                        var a, n = this.effectsSequence.length, r = t || this.data.d.k[this.keysIndex].s;
                        for (a = 0; a < n; a += 1)
                            r = i !== this.keysIndex ? this.effectsSequence[a](r, r.t) : this.effectsSequence[a](this.currentData, r.t);
                        e !== r && this.setCurrentData(r),
                        this.pv = this.v = this.currentData,
                        this.lock = !1,
                        this.frameId = this.elem.globalData.frameId
                    }
                }
            }
            ,
            TextProperty.prototype.getKeyframeValue = function() {
                for (var t = this.data.d.k, e = this.elem.comp.renderedFrame, i = 0, a = t.length; i <= a - 1 && (t[i].s,
                !(i === a - 1 || t[i + 1].t > e)); )
                    i += 1;
                return this.keysIndex !== i && (this.keysIndex = i),
                this.data.d.k[this.keysIndex].s
            }
            ,
            TextProperty.prototype.buildFinalText = function(t) {
                for (var e = FontManager.getCombinedCharacterCodes(), i = [], a = 0, n = t.length; a < n; )
                    -1 !== e.indexOf(t.charCodeAt(a)) ? i[i.length - 1] += t.charAt(a) : i.push(t.charAt(a)),
                    a += 1;
                return i
            }
            ,
            TextProperty.prototype.completeTextData = function(t) {
                t.__complete = !0;
                var e, i, a, n, r, o, s, l = this.elem.globalData.fontManager, c = this.data, h = [], p = 0, d = c.m.g, u = 0, m = 0, f = 0, g = [], y = 0, v = 0, b = l.getFontByName(t.f), A = 0, _ = b.fStyle ? b.fStyle.split(" ") : [], C = "normal", w = "normal";
                for (i = _.length,
                e = 0; e < i; e += 1)
                    switch (_[e].toLowerCase()) {
                    case "italic":
                        w = "italic";
                        break;
                    case "bold":
                        C = "700";
                        break;
                    case "black":
                        C = "900";
                        break;
                    case "medium":
                        C = "500";
                        break;
                    case "regular":
                    case "normal":
                        C = "400";
                        break;
                    case "light":
                    case "thin":
                        C = "200"
                    }
                t.fWeight = b.fWeight || C,
                t.fStyle = w,
                t.finalSize = t.s,
                t.finalText = this.buildFinalText(t.t),
                i = t.finalText.length,
                t.finalLineHeight = t.lh;
                var x, S = t.tr / 1e3 * t.finalSize;
                if (t.sz)
                    for (var T, E, k = !0, L = t.sz[0], P = t.sz[1]; k; ) {
                        T = 0,
                        y = 0,
                        i = (E = this.buildFinalText(t.t)).length,
                        S = t.tr / 1e3 * t.finalSize;
                        var I = -1;
                        for (e = 0; e < i; e += 1)
                            x = E[e].charCodeAt(0),
                            a = !1,
                            " " === E[e] ? I = e : 13 !== x && 3 !== x || (y = 0,
                            a = !0,
                            T += t.finalLineHeight || 1.2 * t.finalSize),
                            l.chars ? (s = l.getCharData(E[e], b.fStyle, b.fFamily),
                            A = a ? 0 : s.w * t.finalSize / 100) : A = l.measureText(E[e], t.f, t.finalSize),
                            y + A > L && " " !== E[e] ? (-1 === I ? i += 1 : e = I,
                            T += t.finalLineHeight || 1.2 * t.finalSize,
                            E.splice(e, I === e ? 1 : 0, "\r"),
                            I = -1,
                            y = 0) : (y += A,
                            y += S);
                        T += b.ascent * t.finalSize / 100,
                        this.canResize && t.finalSize > this.minimumFontSize && P < T ? (t.finalSize -= 1,
                        t.finalLineHeight = t.finalSize * t.lh / t.s) : (t.finalText = E,
                        i = t.finalText.length,
                        k = !1)
                    }
                y = -S,
                A = 0;
                var z, B = 0;
                for (e = 0; e < i; e += 1)
                    if (a = !1,
                    x = (z = t.finalText[e]).charCodeAt(0),
                    " " === z ? n = "\xa0" : 13 === x || 3 === x ? (B = 0,
                    g.push(y),
                    v = y > v ? y : v,
                    y = -2 * S,
                    n = "",
                    a = !0,
                    f += 1) : n = t.finalText[e],
                    l.chars ? (s = l.getCharData(z, b.fStyle, l.getFontByName(t.f).fFamily),
                    A = a ? 0 : s.w * t.finalSize / 100) : A = l.measureText(n, t.f, t.finalSize),
                    " " === z ? B += A + S : (y += A + S + B,
                    B = 0),
                    h.push({
                        l: A,
                        an: A,
                        add: u,
                        n: a,
                        anIndexes: [],
                        val: n,
                        line: f,
                        animatorJustifyOffset: 0
                    }),
                    2 == d) {
                        if (u += A,
                        "" === n || "\xa0" === n || e === i - 1) {
                            for ("" !== n && "\xa0" !== n || (u -= A); m <= e; )
                                h[m].an = u,
                                h[m].ind = p,
                                h[m].extra = A,
                                m += 1;
                            p += 1,
                            u = 0
                        }
                    } else if (3 == d) {
                        if (u += A,
                        "" === n || e === i - 1) {
                            for ("" === n && (u -= A); m <= e; )
                                h[m].an = u,
                                h[m].ind = p,
                                h[m].extra = A,
                                m += 1;
                            u = 0,
                            p += 1
                        }
                    } else
                        h[p].ind = p,
                        h[p].extra = 0,
                        p += 1;
                if (t.l = h,
                v = y > v ? y : v,
                g.push(y),
                t.sz)
                    t.boxWidth = t.sz[0],
                    t.justifyOffset = 0;
                else
                    switch (t.boxWidth = v,
                    t.j) {
                    case 1:
                        t.justifyOffset = -t.boxWidth;
                        break;
                    case 2:
                        t.justifyOffset = -t.boxWidth / 2;
                        break;
                    default:
                        t.justifyOffset = 0
                    }
                t.lineWidths = g;
                var D, M, O = c.a;
                o = O.length;
                var R, N, V = [];
                for (r = 0; r < o; r += 1) {
                    for ((D = O[r]).a.sc && (t.strokeColorAnim = !0),
                    D.a.sw && (t.strokeWidthAnim = !0),
                    (D.a.fc || D.a.fh || D.a.fs || D.a.fb) && (t.fillColorAnim = !0),
                    N = 0,
                    R = D.s.b,
                    e = 0; e < i; e += 1)
                        (M = h[e]).anIndexes[r] = N,
                        (1 == R && "" !== M.val || 2 == R && "" !== M.val && "\xa0" !== M.val || 3 == R && (M.n || "\xa0" == M.val || e == i - 1) || 4 == R && (M.n || e == i - 1)) && (1 === D.s.rn && V.push(N),
                        N += 1);
                    c.a[r].s.totalChars = N;
                    var j, F = -1;
                    if (1 === D.s.rn)
                        for (e = 0; e < i; e += 1)
                            F != (M = h[e]).anIndexes[r] && (F = M.anIndexes[r],
                            j = V.splice(Math.floor(Math.random() * V.length), 1)[0]),
                            M.anIndexes[r] = j
                }
                t.yOffset = t.finalLineHeight || 1.2 * t.finalSize,
                t.ls = t.ls || 0,
                t.ascent = b.ascent * t.finalSize / 100
            }
            ,
            TextProperty.prototype.updateDocumentData = function(t, e) {
                e = void 0 === e ? this.keysIndex : e;
                var i = this.copyData({}, this.data.d.k[e].s);
                i = this.copyData(i, t),
                this.data.d.k[e].s = i,
                this.recalculate(e),
                this.elem.addDynamicProperty(this)
            }
            ,
            TextProperty.prototype.recalculate = function(t) {
                var e = this.data.d.k[t].s;
                e.__complete = !1,
                this.keysIndex = 0,
                this._isFirstFrame = !0,
                this.getValue(e)
            }
            ,
            TextProperty.prototype.canResizeFont = function(t) {
                this.canResize = t,
                this.recalculate(this.keysIndex),
                this.elem.addDynamicProperty(this)
            }
            ,
            TextProperty.prototype.setMinimumFontSize = function(t) {
                this.minimumFontSize = Math.floor(t) || 1,
                this.recalculate(this.keysIndex),
                this.elem.addDynamicProperty(this)
            }
            ;
            var TextSelectorProp = function() {
                var t = Math.max
                  , e = Math.min
                  , i = Math.floor;
                function a(t, e) {
                    this._currentTextLength = -1,
                    this.k = !1,
                    this.data = e,
                    this.elem = t,
                    this.comp = t.comp,
                    this.finalS = 0,
                    this.finalE = 0,
                    this.initDynamicPropertyContainer(t),
                    this.s = PropertyFactory.getProp(t, e.s || {
                        k: 0
                    }, 0, 0, this),
                    this.e = "e"in e ? PropertyFactory.getProp(t, e.e, 0, 0, this) : {
                        v: 100
                    },
                    this.o = PropertyFactory.getProp(t, e.o || {
                        k: 0
                    }, 0, 0, this),
                    this.xe = PropertyFactory.getProp(t, e.xe || {
                        k: 0
                    }, 0, 0, this),
                    this.ne = PropertyFactory.getProp(t, e.ne || {
                        k: 0
                    }, 0, 0, this),
                    this.a = PropertyFactory.getProp(t, e.a, 0, .01, this),
                    this.dynamicProperties.length || this.getValue()
                }
                return a.prototype = {
                    getMult: function(a) {
                        this._currentTextLength !== this.elem.textProperty.currentData.l.length && this.getValue();
                        var n = BezierFactory.getBezierEasing(this.ne.v / 100, 0, 1 - this.xe.v / 100, 1).get
                          , r = 0
                          , o = this.finalS
                          , s = this.finalE
                          , l = this.data.sh;
                        if (2 == l)
                            r = n(r = s === o ? a >= s ? 1 : 0 : t(0, e(.5 / (s - o) + (a - o) / (s - o), 1)));
                        else if (3 == l)
                            r = n(r = s === o ? a >= s ? 0 : 1 : 1 - t(0, e(.5 / (s - o) + (a - o) / (s - o), 1)));
                        else if (4 == l)
                            s === o ? r = 0 : (r = t(0, e(.5 / (s - o) + (a - o) / (s - o), 1))) < .5 ? r *= 2 : r = 1 - 2 * (r - .5),
                            r = n(r);
                        else if (5 == l) {
                            if (s === o)
                                r = 0;
                            else {
                                var c = s - o
                                  , h = -c / 2 + (a = e(t(0, a + .5 - o), s - o))
                                  , p = c / 2;
                                r = Math.sqrt(1 - h * h / (p * p))
                            }
                            r = n(r)
                        } else
                            6 == l ? (s === o ? r = 0 : (a = e(t(0, a + .5 - o), s - o),
                            r = (1 + Math.cos(Math.PI + 2 * Math.PI * a / (s - o))) / 2),
                            r = n(r)) : (a >= i(o) && (r = a - o < 0 ? 1 - (o - a) : t(0, e(s - a, 1))),
                            r = n(r));
                        return r * this.a.v
                    },
                    getValue: function(t) {
                        this.iterateDynamicProperties(),
                        this._mdf = t || this._mdf,
                        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0,
                        t && 2 === this.data.r && (this.e.v = this._currentTextLength);
                        var e = 2 === this.data.r ? 1 : 100 / this.data.totalChars
                          , i = this.o.v / e
                          , a = this.s.v / e + i
                          , n = this.e.v / e + i;
                        if (a > n) {
                            var r = a;
                            a = n,
                            n = r
                        }
                        this.finalS = a,
                        this.finalE = n
                    }
                },
                extendPrototype([DynamicPropertyContainer], a),
                {
                    getTextSelectorProp: function(t, e, i) {
                        return new a(t,e,i)
                    }
                }
            }()
              , pool_factory = function(t, e, i, a) {
                var n = 0
                  , r = t
                  , o = createSizedArray(r);
                function s() {
                    return n ? o[n -= 1] : e()
                }
                return {
                    newElement: s,
                    release: function(t) {
                        n === r && (o = pooling.double(o),
                        r *= 2),
                        i && i(t),
                        o[n] = t,
                        n += 1
                    }
                }
            }
              , pooling = function() {
                return {
                    double: function(t) {
                        return t.concat(createSizedArray(t.length))
                    }
                }
            }()
              , point_pool = function() {
                return pool_factory(8, function() {
                    return createTypedArray("float32", 2)
                })
            }()
              , shape_pool = function() {
                var t = pool_factory(4, function() {
                    return new ShapePath
                }, function(t) {
                    var e, i = t._length;
                    for (e = 0; e < i; e += 1)
                        point_pool.release(t.v[e]),
                        point_pool.release(t.i[e]),
                        point_pool.release(t.o[e]),
                        t.v[e] = null,
                        t.i[e] = null,
                        t.o[e] = null;
                    t._length = 0,
                    t.c = !1
                });
                return t.clone = function(e) {
                    var i, a = t.newElement(), n = void 0 === e._length ? e.v.length : e._length;
                    for (a.setLength(n),
                    a.c = e.c,
                    i = 0; i < n; i += 1)
                        a.setTripleAt(e.v[i][0], e.v[i][1], e.o[i][0], e.o[i][1], e.i[i][0], e.i[i][1], i);
                    return a
                }
                ,
                t
            }()
              , shapeCollection_pool = function() {
                var t = {
                    newShapeCollection: function() {
                        var t;
                        t = e ? a[e -= 1] : new ShapeCollection;
                        return t
                    },
                    release: function(t) {
                        var n, r = t._length;
                        for (n = 0; n < r; n += 1)
                            shape_pool.release(t.shapes[n]);
                        t._length = 0,
                        e === i && (a = pooling.double(a),
                        i *= 2);
                        a[e] = t,
                        e += 1
                    }
                }
                  , e = 0
                  , i = 4
                  , a = createSizedArray(i);
                return t
            }()
              , segments_length_pool = function() {
                return pool_factory(8, function() {
                    return {
                        lengths: [],
                        totalLength: 0
                    }
                }, function(t) {
                    var e, i = t.lengths.length;
                    for (e = 0; e < i; e += 1)
                        bezier_length_pool.release(t.lengths[e]);
                    t.lengths.length = 0
                })
            }()
              , bezier_length_pool = function() {
                return pool_factory(8, function() {
                    return {
                        addedLength: 0,
                        percents: createTypedArray("float32", defaultCurveSegments),
                        lengths: createTypedArray("float32", defaultCurveSegments)
                    }
                })
            }();
            function BaseRenderer() {}
            function SVGRenderer(t, e) {
                this.animationItem = t,
                this.layers = null,
                this.renderedFrame = -1,
                this.svgElement = createNS("svg");
                var i = "";
                if (e && e.title) {
                    var a = createNS("title")
                      , n = createElementID();
                    a.setAttribute("id", n),
                    a.textContent = e.title,
                    this.svgElement.appendChild(a),
                    i += n
                }
                if (e && e.description) {
                    var r = createNS("desc")
                      , o = createElementID();
                    r.setAttribute("id", o),
                    r.textContent = e.description,
                    this.svgElement.appendChild(r),
                    i += " " + o
                }
                i && this.svgElement.setAttribute("aria-labelledby", i);
                var s = createNS("defs");
                this.svgElement.appendChild(s);
                var l = createNS("g");
                this.svgElement.appendChild(l),
                this.layerElement = l,
                this.renderConfig = {
                    preserveAspectRatio: e && e.preserveAspectRatio || "xMidYMid meet",
                    imagePreserveAspectRatio: e && e.imagePreserveAspectRatio || "xMidYMid slice",
                    progressiveLoad: e && e.progressiveLoad || !1,
                    hideOnTransparent: !e || !1 !== e.hideOnTransparent,
                    viewBoxOnly: e && e.viewBoxOnly || !1,
                    viewBoxSize: e && e.viewBoxSize || !1,
                    className: e && e.className || ""
                },
                this.globalData = {
                    _mdf: !1,
                    frameNum: -1,
                    defs: s,
                    renderConfig: this.renderConfig
                },
                this.elements = [],
                this.pendingElements = [],
                this.destroyed = !1,
                this.rendererType = "svg"
            }
            function CanvasRenderer(t, e) {
                this.animationItem = t,
                this.renderConfig = {
                    clearCanvas: !e || void 0 === e.clearCanvas || e.clearCanvas,
                    context: e && e.context || null,
                    progressiveLoad: e && e.progressiveLoad || !1,
                    preserveAspectRatio: e && e.preserveAspectRatio || "xMidYMid meet",
                    imagePreserveAspectRatio: e && e.imagePreserveAspectRatio || "xMidYMid slice",
                    className: e && e.className || ""
                },
                this.renderConfig.dpr = e && e.dpr || 1,
                this.animationItem.wrapper && (this.renderConfig.dpr = e && e.dpr || window.devicePixelRatio || 1),
                this.renderedFrame = -1,
                this.globalData = {
                    frameNum: -1,
                    _mdf: !1,
                    renderConfig: this.renderConfig,
                    currentGlobalAlpha: -1
                },
                this.contextData = new CVContextData,
                this.elements = [],
                this.pendingElements = [],
                this.transformMat = new Matrix,
                this.completeLayers = !1,
                this.rendererType = "canvas"
            }
            function HybridRenderer(t, e) {
                this.animationItem = t,
                this.layers = null,
                this.renderedFrame = -1,
                this.renderConfig = {
                    className: e && e.className || "",
                    imagePreserveAspectRatio: e && e.imagePreserveAspectRatio || "xMidYMid slice",
                    hideOnTransparent: !e || !1 !== e.hideOnTransparent
                },
                this.globalData = {
                    _mdf: !1,
                    frameNum: -1,
                    renderConfig: this.renderConfig
                },
                this.pendingElements = [],
                this.elements = [],
                this.threeDElements = [],
                this.destroyed = !1,
                this.camera = null,
                this.supports3d = !0,
                this.rendererType = "html"
            }
            function MaskElement(t, e, i) {
                this.data = t,
                this.element = e,
                this.globalData = i,
                this.storedData = [],
                this.masksProperties = this.data.masksProperties || [],
                this.maskElement = null;
                var a, n = this.globalData.defs, r = this.masksProperties ? this.masksProperties.length : 0;
                this.viewData = createSizedArray(r),
                this.solidPath = "";
                var o, s, l, c, h, p, d, u = this.masksProperties, m = 0, f = [], g = createElementID(), y = "clipPath", v = "clip-path";
                for (a = 0; a < r; a++)
                    if (("a" !== u[a].mode && "n" !== u[a].mode || u[a].inv || 100 !== u[a].o.k || u[a].o.x) && (y = "mask",
                    v = "mask"),
                    "s" != u[a].mode && "i" != u[a].mode || 0 !== m ? c = null : ((c = createNS("rect")).setAttribute("fill", "#ffffff"),
                    c.setAttribute("width", this.element.comp.data.w || 0),
                    c.setAttribute("height", this.element.comp.data.h || 0),
                    f.push(c)),
                    o = createNS("path"),
                    "n" != u[a].mode) {
                        var b;
                        if (m += 1,
                        o.setAttribute("fill", "s" === u[a].mode ? "#000000" : "#ffffff"),
                        o.setAttribute("clip-rule", "nonzero"),
                        0 !== u[a].x.k ? (y = "mask",
                        v = "mask",
                        d = PropertyFactory.getProp(this.element, u[a].x, 0, null, this.element),
                        b = createElementID(),
                        (h = createNS("filter")).setAttribute("id", b),
                        (p = createNS("feMorphology")).setAttribute("operator", "erode"),
                        p.setAttribute("in", "SourceGraphic"),
                        p.setAttribute("radius", "0"),
                        h.appendChild(p),
                        n.appendChild(h),
                        o.setAttribute("stroke", "s" === u[a].mode ? "#000000" : "#ffffff")) : (p = null,
                        d = null),
                        this.storedData[a] = {
                            elem: o,
                            x: d,
                            expan: p,
                            lastPath: "",
                            lastOperator: "",
                            filterId: b,
                            lastRadius: 0
                        },
                        "i" == u[a].mode) {
                            l = f.length;
                            var A = createNS("g");
                            for (s = 0; s < l; s += 1)
                                A.appendChild(f[s]);
                            var _ = createNS("mask");
                            _.setAttribute("mask-type", "alpha"),
                            _.setAttribute("id", g + "_" + m),
                            _.appendChild(o),
                            n.appendChild(_),
                            A.setAttribute("mask", "url(" + locationHref + "#" + g + "_" + m + ")"),
                            f.length = 0,
                            f.push(A)
                        } else
                            f.push(o);
                        u[a].inv && !this.solidPath && (this.solidPath = this.createLayerSolidPath()),
                        this.viewData[a] = {
                            elem: o,
                            lastPath: "",
                            op: PropertyFactory.getProp(this.element, u[a].o, 0, .01, this.element),
                            prop: ShapePropertyFactory.getShapeProp(this.element, u[a], 3),
                            invRect: c
                        },
                        this.viewData[a].prop.k || this.drawPath(u[a], this.viewData[a].prop.v, this.viewData[a])
                    } else
                        this.viewData[a] = {
                            op: PropertyFactory.getProp(this.element, u[a].o, 0, .01, this.element),
                            prop: ShapePropertyFactory.getShapeProp(this.element, u[a], 3),
                            elem: o,
                            lastPath: ""
                        },
                        n.appendChild(o);
                for (this.maskElement = createNS(y),
                r = f.length,
                a = 0; a < r; a += 1)
                    this.maskElement.appendChild(f[a]);
                m > 0 && (this.maskElement.setAttribute("id", g),
                this.element.maskedElement.setAttribute(v, "url(" + locationHref + "#" + g + ")"),
                n.appendChild(this.maskElement)),
                this.viewData.length && this.element.addRenderableComponent(this)
            }
            function HierarchyElement() {}
            function FrameElement() {}
            function TransformElement() {}
            function RenderableElement() {}
            function RenderableDOMElement() {}
            function ProcessedElement(t, e) {
                this.elem = t,
                this.pos = e
            }
            function SVGStyleData(t, e) {
                this.data = t,
                this.type = t.ty,
                this.d = "",
                this.lvl = e,
                this._mdf = !1,
                this.closed = !0 === t.hd,
                this.pElem = createNS("path"),
                this.msElem = null
            }
            function SVGShapeData(t, e, i) {
                this.caches = [],
                this.styles = [],
                this.transformers = t,
                this.lStr = "",
                this.sh = i,
                this.lvl = e,
                this._isAnimated = !!i.k;
                for (var a = 0, n = t.length; a < n; ) {
                    if (t[a].mProps.dynamicProperties.length) {
                        this._isAnimated = !0;
                        break
                    }
                    a += 1
                }
            }
            function SVGTransformData(t, e, i) {
                this.transform = {
                    mProps: t,
                    op: e,
                    container: i
                },
                this.elements = [],
                this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length
            }
            function SVGStrokeStyleData(t, e, i) {
                this.initDynamicPropertyContainer(t),
                this.getValue = this.iterateDynamicProperties,
                this.o = PropertyFactory.getProp(t, e.o, 0, .01, this),
                this.w = PropertyFactory.getProp(t, e.w, 0, null, this),
                this.d = new DashProperty(t,e.d || {},"svg",this),
                this.c = PropertyFactory.getProp(t, e.c, 1, 255, this),
                this.style = i,
                this._isAnimated = !!this._isAnimated
            }
            function SVGFillStyleData(t, e, i) {
                this.initDynamicPropertyContainer(t),
                this.getValue = this.iterateDynamicProperties,
                this.o = PropertyFactory.getProp(t, e.o, 0, .01, this),
                this.c = PropertyFactory.getProp(t, e.c, 1, 255, this),
                this.style = i
            }
            function SVGGradientFillStyleData(t, e, i) {
                this.initDynamicPropertyContainer(t),
                this.getValue = this.iterateDynamicProperties,
                this.initGradientData(t, e, i)
            }
            function SVGGradientStrokeStyleData(t, e, i) {
                this.initDynamicPropertyContainer(t),
                this.getValue = this.iterateDynamicProperties,
                this.w = PropertyFactory.getProp(t, e.w, 0, null, this),
                this.d = new DashProperty(t,e.d || {},"svg",this),
                this.initGradientData(t, e, i),
                this._isAnimated = !!this._isAnimated
            }
            function ShapeGroupData() {
                this.it = [],
                this.prevViewData = [],
                this.gr = createNS("g")
            }
            BaseRenderer.prototype.checkLayers = function(t) {
                var e, i, a = this.layers.length;
                for (this.completeLayers = !0,
                e = a - 1; e >= 0; e--)
                    this.elements[e] || (i = this.layers[e]).ip - i.st <= t - this.layers[e].st && i.op - i.st > t - this.layers[e].st && this.buildItem(e),
                    this.completeLayers = !!this.elements[e] && this.completeLayers;
                this.checkPendingElements()
            }
            ,
            BaseRenderer.prototype.createItem = function(t) {
                switch (t.ty) {
                case 2:
                    return this.createImage(t);
                case 0:
                    return this.createComp(t);
                case 1:
                    return this.createSolid(t);
                case 3:
                    return this.createNull(t);
                case 4:
                    return this.createShape(t);
                case 5:
                    return this.createText(t);
                case 13:
                    return this.createCamera(t)
                }
                return this.createNull(t)
            }
            ,
            BaseRenderer.prototype.createCamera = function() {
                throw new Error("You're using a 3d camera. Try the html renderer.")
            }
            ,
            BaseRenderer.prototype.buildAllItems = function() {
                var t, e = this.layers.length;
                for (t = 0; t < e; t += 1)
                    this.buildItem(t);
                this.checkPendingElements()
            }
            ,
            BaseRenderer.prototype.includeLayers = function(t) {
                this.completeLayers = !1;
                var e, i, a = t.length, n = this.layers.length;
                for (e = 0; e < a; e += 1)
                    for (i = 0; i < n; ) {
                        if (this.layers[i].id == t[e].id) {
                            this.layers[i] = t[e];
                            break
                        }
                        i += 1
                    }
            }
            ,
            BaseRenderer.prototype.setProjectInterface = function(t) {
                this.globalData.projectInterface = t
            }
            ,
            BaseRenderer.prototype.initItems = function() {
                this.globalData.progressiveLoad || this.buildAllItems()
            }
            ,
            BaseRenderer.prototype.buildElementParenting = function(t, e, i) {
                for (var a = this.elements, n = this.layers, r = 0, o = n.length; r < o; )
                    n[r].ind == e && (a[r] && !0 !== a[r] ? (i.push(a[r]),
                    a[r].setAsParent(),
                    void 0 !== n[r].parent ? this.buildElementParenting(t, n[r].parent, i) : t.setHierarchy(i)) : (this.buildItem(r),
                    this.addPendingElement(t))),
                    r += 1
            }
            ,
            BaseRenderer.prototype.addPendingElement = function(t) {
                this.pendingElements.push(t)
            }
            ,
            BaseRenderer.prototype.searchExtraCompositions = function(t) {
                var e, i = t.length;
                for (e = 0; e < i; e += 1)
                    if (t[e].xt) {
                        var a = this.createComp(t[e]);
                        a.initExpressions(),
                        this.globalData.projectInterface.registerComposition(a)
                    }
            }
            ,
            BaseRenderer.prototype.setupGlobalData = function(t, e) {
                this.globalData.fontManager = new FontManager,
                this.globalData.fontManager.addChars(t.chars),
                this.globalData.fontManager.addFonts(t.fonts, e),
                this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem),
                this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem),
                this.globalData.imageLoader = this.animationItem.imagePreloader,
                this.globalData.frameId = 0,
                this.globalData.frameRate = t.fr,
                this.globalData.nm = t.nm,
                this.globalData.compSize = {
                    w: t.w,
                    h: t.h
                }
            }
            ,
            extendPrototype([BaseRenderer], SVGRenderer),
            SVGRenderer.prototype.createNull = function(t) {
                return new NullElement(t,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.createShape = function(t) {
                return new SVGShapeElement(t,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.createText = function(t) {
                return new SVGTextElement(t,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.createImage = function(t) {
                return new IImageElement(t,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.createComp = function(t) {
                return new SVGCompElement(t,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.createSolid = function(t) {
                return new ISolidElement(t,this.globalData,this)
            }
            ,
            SVGRenderer.prototype.configAnimation = function(t) {
                this.svgElement.setAttribute("xmlns", "http://www.w3.org/2000/svg"),
                this.renderConfig.viewBoxSize ? this.svgElement.setAttribute("viewBox", this.renderConfig.viewBoxSize) : this.svgElement.setAttribute("viewBox", "0 0 " + t.w + " " + t.h),
                this.renderConfig.viewBoxOnly || (this.svgElement.setAttribute("width", t.w),
                this.svgElement.setAttribute("height", t.h),
                this.svgElement.style.width = "100%",
                this.svgElement.style.height = "100%",
                this.svgElement.style.transform = "translate3d(0,0,0)"),
                this.renderConfig.className && this.svgElement.setAttribute("class", this.renderConfig.className),
                this.svgElement.setAttribute("preserveAspectRatio", this.renderConfig.preserveAspectRatio),
                this.animationItem.wrapper.appendChild(this.svgElement);
                var e = this.globalData.defs;
                this.setupGlobalData(t, e),
                this.globalData.progressiveLoad = this.renderConfig.progressiveLoad,
                this.data = t;
                var i = createNS("clipPath")
                  , a = createNS("rect");
                a.setAttribute("width", t.w),
                a.setAttribute("height", t.h),
                a.setAttribute("x", 0),
                a.setAttribute("y", 0);
                var n = createElementID();
                i.setAttribute("id", n),
                i.appendChild(a),
                this.layerElement.setAttribute("clip-path", "url(" + locationHref + "#" + n + ")"),
                e.appendChild(i),
                this.layers = t.layers,
                this.elements = createSizedArray(t.layers.length)
            }
            ,
            SVGRenderer.prototype.destroy = function() {
                this.animationItem.wrapper.innerHTML = "",
                this.layerElement = null,
                this.globalData.defs = null;
                var t, e = this.layers ? this.layers.length : 0;
                for (t = 0; t < e; t++)
                    this.elements[t] && this.elements[t].destroy();
                this.elements.length = 0,
                this.destroyed = !0,
                this.animationItem = null
            }
            ,
            SVGRenderer.prototype.updateContainerSize = function() {}
            ,
            SVGRenderer.prototype.buildItem = function(t) {
                var e = this.elements;
                if (!e[t] && 99 != this.layers[t].ty) {
                    e[t] = !0;
                    var i = this.createItem(this.layers[t]);
                    e[t] = i,
                    expressionsPlugin && (0 === this.layers[t].ty && this.globalData.projectInterface.registerComposition(i),
                    i.initExpressions()),
                    this.appendElementInPos(i, t),
                    this.layers[t].tt && (this.elements[t - 1] && !0 !== this.elements[t - 1] ? i.setMatte(e[t - 1].layerId) : (this.buildItem(t - 1),
                    this.addPendingElement(i)))
                }
            }
            ,
            SVGRenderer.prototype.checkPendingElements = function() {
                for (; this.pendingElements.length; ) {
                    var t = this.pendingElements.pop();
                    if (t.checkParenting(),
                    t.data.tt)
                        for (var e = 0, i = this.elements.length; e < i; ) {
                            if (this.elements[e] === t) {
                                t.setMatte(this.elements[e - 1].layerId);
                                break
                            }
                            e += 1
                        }
                }
            }
            ,
            SVGRenderer.prototype.renderFrame = function(t) {
                if (this.renderedFrame !== t && !this.destroyed) {
                    null === t ? t = this.renderedFrame : this.renderedFrame = t,
                    this.globalData.frameNum = t,
                    this.globalData.frameId += 1,
                    this.globalData.projectInterface.currentFrame = t,
                    this.globalData._mdf = !1;
                    var e, i = this.layers.length;
                    for (this.completeLayers || this.checkLayers(t),
                    e = i - 1; e >= 0; e--)
                        (this.completeLayers || this.elements[e]) && this.elements[e].prepareFrame(t - this.layers[e].st);
                    if (this.globalData._mdf)
                        for (e = 0; e < i; e += 1)
                            (this.completeLayers || this.elements[e]) && this.elements[e].renderFrame()
                }
            }
            ,
            SVGRenderer.prototype.appendElementInPos = function(t, e) {
                var i = t.getBaseElement();
                if (i) {
                    for (var a, n = 0; n < e; )
                        this.elements[n] && !0 !== this.elements[n] && this.elements[n].getBaseElement() && (a = this.elements[n].getBaseElement()),
                        n += 1;
                    a ? this.layerElement.insertBefore(i, a) : this.layerElement.appendChild(i)
                }
            }
            ,
            SVGRenderer.prototype.hide = function() {
                this.layerElement.style.display = "none"
            }
            ,
            SVGRenderer.prototype.show = function() {
                this.layerElement.style.display = "block"
            }
            ,
            extendPrototype([BaseRenderer], CanvasRenderer),
            CanvasRenderer.prototype.createShape = function(t) {
                return new CVShapeElement(t,this.globalData,this)
            }
            ,
            CanvasRenderer.prototype.createText = function(t) {
                return new CVTextElement(t,this.globalData,this)
            }
            ,
            CanvasRenderer.prototype.createImage = function(t) {
                return new CVImageElement(t,this.globalData,this)
            }
            ,
            CanvasRenderer.prototype.createComp = function(t) {
                return new CVCompElement(t,this.globalData,this)
            }
            ,
            CanvasRenderer.prototype.createSolid = function(t) {
                return new CVSolidElement(t,this.globalData,this)
            }
            ,
            CanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull,
            CanvasRenderer.prototype.ctxTransform = function(t) {
                if (1 !== t[0] || 0 !== t[1] || 0 !== t[4] || 1 !== t[5] || 0 !== t[12] || 0 !== t[13])
                    if (this.renderConfig.clearCanvas) {
                        this.transformMat.cloneFromProps(t);
                        var e = this.contextData.cTr.props;
                        this.transformMat.transform(e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7], e[8], e[9], e[10], e[11], e[12], e[13], e[14], e[15]),
                        this.contextData.cTr.cloneFromProps(this.transformMat.props);
                        var i = this.contextData.cTr.props;
                        this.canvasContext.setTransform(i[0], i[1], i[4], i[5], i[12], i[13])
                    } else
                        this.canvasContext.transform(t[0], t[1], t[4], t[5], t[12], t[13])
            }
            ,
            CanvasRenderer.prototype.ctxOpacity = function(t) {
                if (!this.renderConfig.clearCanvas)
                    return this.canvasContext.globalAlpha *= t < 0 ? 0 : t,
                    void (this.globalData.currentGlobalAlpha = this.contextData.cO);
                this.contextData.cO *= t < 0 ? 0 : t,
                this.globalData.currentGlobalAlpha !== this.contextData.cO && (this.canvasContext.globalAlpha = this.contextData.cO,
                this.globalData.currentGlobalAlpha = this.contextData.cO)
            }
            ,
            CanvasRenderer.prototype.reset = function() {
                this.renderConfig.clearCanvas ? this.contextData.reset() : this.canvasContext.restore()
            }
            ,
            CanvasRenderer.prototype.save = function(t) {
                if (this.renderConfig.clearCanvas) {
                    t && this.canvasContext.save();
                    var e = this.contextData.cTr.props;
                    this.contextData._length <= this.contextData.cArrPos && this.contextData.duplicate();
                    var i, a = this.contextData.saved[this.contextData.cArrPos];
                    for (i = 0; i < 16; i += 1)
                        a[i] = e[i];
                    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO,
                    this.contextData.cArrPos += 1
                } else
                    this.canvasContext.save()
            }
            ,
            CanvasRenderer.prototype.restore = function(t) {
                if (this.renderConfig.clearCanvas) {
                    t && (this.canvasContext.restore(),
                    this.globalData.blendMode = "source-over"),
                    this.contextData.cArrPos -= 1;
                    var e, i = this.contextData.saved[this.contextData.cArrPos], a = this.contextData.cTr.props;
                    for (e = 0; e < 16; e += 1)
                        a[e] = i[e];
                    this.canvasContext.setTransform(i[0], i[1], i[4], i[5], i[12], i[13]),
                    i = this.contextData.savedOp[this.contextData.cArrPos],
                    this.contextData.cO = i,
                    this.globalData.currentGlobalAlpha !== i && (this.canvasContext.globalAlpha = i,
                    this.globalData.currentGlobalAlpha = i)
                } else
                    this.canvasContext.restore()
            }
            ,
            CanvasRenderer.prototype.configAnimation = function(t) {
                this.animationItem.wrapper ? (this.animationItem.container = createTag("canvas"),
                this.animationItem.container.style.width = "100%",
                this.animationItem.container.style.height = "100%",
                this.animationItem.container.style.transformOrigin = this.animationItem.container.style.mozTransformOrigin = this.animationItem.container.style.webkitTransformOrigin = this.animationItem.container.style["-webkit-transform"] = "0px 0px 0px",
                this.animationItem.wrapper.appendChild(this.animationItem.container),
                this.canvasContext = this.animationItem.container.getContext("2d"),
                this.renderConfig.className && this.animationItem.container.setAttribute("class", this.renderConfig.className)) : this.canvasContext = this.renderConfig.context,
                this.data = t,
                this.layers = t.layers,
                this.transformCanvas = {
                    w: t.w,
                    h: t.h,
                    sx: 0,
                    sy: 0,
                    tx: 0,
                    ty: 0
                },
                this.setupGlobalData(t, document.body),
                this.globalData.canvasContext = this.canvasContext,
                this.globalData.renderer = this,
                this.globalData.isDashed = !1,
                this.globalData.progressiveLoad = this.renderConfig.progressiveLoad,
                this.globalData.transformCanvas = this.transformCanvas,
                this.elements = createSizedArray(t.layers.length),
                this.updateContainerSize()
            }
            ,
            CanvasRenderer.prototype.updateContainerSize = function() {
                var t, e, i, a;
                if (this.reset(),
                this.animationItem.wrapper && this.animationItem.container ? (t = this.animationItem.wrapper.offsetWidth,
                e = this.animationItem.wrapper.offsetHeight,
                this.animationItem.container.setAttribute("width", t * this.renderConfig.dpr),
                this.animationItem.container.setAttribute("height", e * this.renderConfig.dpr)) : (t = this.canvasContext.canvas.width * this.renderConfig.dpr,
                e = this.canvasContext.canvas.height * this.renderConfig.dpr),
                -1 !== this.renderConfig.preserveAspectRatio.indexOf("meet") || -1 !== this.renderConfig.preserveAspectRatio.indexOf("slice")) {
                    var n = this.renderConfig.preserveAspectRatio.split(" ")
                      , r = n[1] || "meet"
                      , o = n[0] || "xMidYMid"
                      , s = o.substr(0, 4)
                      , l = o.substr(4);
                    i = t / e,
                    (a = this.transformCanvas.w / this.transformCanvas.h) > i && "meet" === r || a < i && "slice" === r ? (this.transformCanvas.sx = t / (this.transformCanvas.w / this.renderConfig.dpr),
                    this.transformCanvas.sy = t / (this.transformCanvas.w / this.renderConfig.dpr)) : (this.transformCanvas.sx = e / (this.transformCanvas.h / this.renderConfig.dpr),
                    this.transformCanvas.sy = e / (this.transformCanvas.h / this.renderConfig.dpr)),
                    this.transformCanvas.tx = "xMid" === s && (a < i && "meet" === r || a > i && "slice" === r) ? (t - this.transformCanvas.w * (e / this.transformCanvas.h)) / 2 * this.renderConfig.dpr : "xMax" === s && (a < i && "meet" === r || a > i && "slice" === r) ? (t - this.transformCanvas.w * (e / this.transformCanvas.h)) * this.renderConfig.dpr : 0,
                    this.transformCanvas.ty = "YMid" === l && (a > i && "meet" === r || a < i && "slice" === r) ? (e - this.transformCanvas.h * (t / this.transformCanvas.w)) / 2 * this.renderConfig.dpr : "YMax" === l && (a > i && "meet" === r || a < i && "slice" === r) ? (e - this.transformCanvas.h * (t / this.transformCanvas.w)) * this.renderConfig.dpr : 0
                } else
                    "none" == this.renderConfig.preserveAspectRatio ? (this.transformCanvas.sx = t / (this.transformCanvas.w / this.renderConfig.dpr),
                    this.transformCanvas.sy = e / (this.transformCanvas.h / this.renderConfig.dpr),
                    this.transformCanvas.tx = 0,
                    this.transformCanvas.ty = 0) : (this.transformCanvas.sx = this.renderConfig.dpr,
                    this.transformCanvas.sy = this.renderConfig.dpr,
                    this.transformCanvas.tx = 0,
                    this.transformCanvas.ty = 0);
                this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1],
                this.ctxTransform(this.transformCanvas.props),
                this.canvasContext.beginPath(),
                this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h),
                this.canvasContext.closePath(),
                this.canvasContext.clip(),
                this.renderFrame(this.renderedFrame, !0)
            }
            ,
            CanvasRenderer.prototype.destroy = function() {
                var t;
                for (this.renderConfig.clearCanvas && (this.animationItem.wrapper.innerHTML = ""),
                t = (this.layers ? this.layers.length : 0) - 1; t >= 0; t -= 1)
                    this.elements[t] && this.elements[t].destroy();
                this.elements.length = 0,
                this.globalData.canvasContext = null,
                this.animationItem.container = null,
                this.destroyed = !0
            }
            ,
            CanvasRenderer.prototype.renderFrame = function(t, e) {
                if ((this.renderedFrame !== t || !0 !== this.renderConfig.clearCanvas || e) && !this.destroyed && -1 !== t) {
                    this.renderedFrame = t,
                    this.globalData.frameNum = t - this.animationItem._isFirstFrame,
                    this.globalData.frameId += 1,
                    this.globalData._mdf = !this.renderConfig.clearCanvas || e,
                    this.globalData.projectInterface.currentFrame = t;
                    var i, a = this.layers.length;
                    for (this.completeLayers || this.checkLayers(t),
                    i = 0; i < a; i++)
                        (this.completeLayers || this.elements[i]) && this.elements[i].prepareFrame(t - this.layers[i].st);
                    if (this.globalData._mdf) {
                        for (!0 === this.renderConfig.clearCanvas ? this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h) : this.save(),
                        i = a - 1; i >= 0; i -= 1)
                            (this.completeLayers || this.elements[i]) && this.elements[i].renderFrame();
                        !0 !== this.renderConfig.clearCanvas && this.restore()
                    }
                }
            }
            ,
            CanvasRenderer.prototype.buildItem = function(t) {
                var e = this.elements;
                if (!e[t] && 99 != this.layers[t].ty) {
                    var i = this.createItem(this.layers[t], this, this.globalData);
                    e[t] = i,
                    i.initExpressions()
                }
            }
            ,
            CanvasRenderer.prototype.checkPendingElements = function() {
                for (; this.pendingElements.length; ) {
                    this.pendingElements.pop().checkParenting()
                }
            }
            ,
            CanvasRenderer.prototype.hide = function() {
                this.animationItem.container.style.display = "none"
            }
            ,
            CanvasRenderer.prototype.show = function() {
                this.animationItem.container.style.display = "block"
            }
            ,
            extendPrototype([BaseRenderer], HybridRenderer),
            HybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem,
            HybridRenderer.prototype.checkPendingElements = function() {
                for (; this.pendingElements.length; ) {
                    this.pendingElements.pop().checkParenting()
                }
            }
            ,
            HybridRenderer.prototype.appendElementInPos = function(t, e) {
                var i = t.getBaseElement();
                if (i) {
                    var a = this.layers[e];
                    if (a.ddd && this.supports3d)
                        this.addTo3dContainer(i, e);
                    else if (this.threeDElements)
                        this.addTo3dContainer(i, e);
                    else {
                        for (var n, r, o = 0; o < e; )
                            this.elements[o] && !0 !== this.elements[o] && this.elements[o].getBaseElement && (r = this.elements[o],
                            n = (this.layers[o].ddd ? this.getThreeDContainerByPos(o) : r.getBaseElement()) || n),
                            o += 1;
                        n ? a.ddd && this.supports3d || this.layerElement.insertBefore(i, n) : a.ddd && this.supports3d || this.layerElement.appendChild(i)
                    }
                }
            }
            ,
            HybridRenderer.prototype.createShape = function(t) {
                return this.supports3d ? new HShapeElement(t,this.globalData,this) : new SVGShapeElement(t,this.globalData,this)
            }
            ,
            HybridRenderer.prototype.createText = function(t) {
                return this.supports3d ? new HTextElement(t,this.globalData,this) : new SVGTextElement(t,this.globalData,this)
            }
            ,
            HybridRenderer.prototype.createCamera = function(t) {
                return this.camera = new HCameraElement(t,this.globalData,this),
                this.camera
            }
            ,
            HybridRenderer.prototype.createImage = function(t) {
                return this.supports3d ? new HImageElement(t,this.globalData,this) : new IImageElement(t,this.globalData,this)
            }
            ,
            HybridRenderer.prototype.createComp = function(t) {
                return this.supports3d ? new HCompElement(t,this.globalData,this) : new SVGCompElement(t,this.globalData,this)
            }
            ,
            HybridRenderer.prototype.createSolid = function(t) {
                return this.supports3d ? new HSolidElement(t,this.globalData,this) : new ISolidElement(t,this.globalData,this)
            }
            ,
            HybridRenderer.prototype.createNull = SVGRenderer.prototype.createNull,
            HybridRenderer.prototype.getThreeDContainerByPos = function(t) {
                for (var e = 0, i = this.threeDElements.length; e < i; ) {
                    if (this.threeDElements[e].startPos <= t && this.threeDElements[e].endPos >= t)
                        return this.threeDElements[e].perspectiveElem;
                    e += 1
                }
            }
            ,
            HybridRenderer.prototype.createThreeDContainer = function(t, e) {
                var i = createTag("div");
                styleDiv(i);
                var a = createTag("div");
                styleDiv(a),
                "3d" === e && (i.style.width = this.globalData.compSize.w + "px",
                i.style.height = this.globalData.compSize.h + "px",
                i.style.transformOrigin = i.style.mozTransformOrigin = i.style.webkitTransformOrigin = "50% 50%",
                a.style.transform = a.style.webkitTransform = "matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),
                i.appendChild(a);
                var n = {
                    container: a,
                    perspectiveElem: i,
                    startPos: t,
                    endPos: t,
                    type: e
                };
                return this.threeDElements.push(n),
                n
            }
            ,
            HybridRenderer.prototype.build3dContainers = function() {
                var t, e, i = this.layers.length, a = "";
                for (t = 0; t < i; t += 1)
                    this.layers[t].ddd && 3 !== this.layers[t].ty ? ("3d" !== a && (a = "3d",
                    e = this.createThreeDContainer(t, "3d")),
                    e.endPos = Math.max(e.endPos, t)) : ("2d" !== a && (a = "2d",
                    e = this.createThreeDContainer(t, "2d")),
                    e.endPos = Math.max(e.endPos, t));
                for (t = (i = this.threeDElements.length) - 1; t >= 0; t--)
                    this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)
            }
            ,
            HybridRenderer.prototype.addTo3dContainer = function(t, e) {
                for (var i = 0, a = this.threeDElements.length; i < a; ) {
                    if (e <= this.threeDElements[i].endPos) {
                        for (var n, r = this.threeDElements[i].startPos; r < e; )
                            this.elements[r] && this.elements[r].getBaseElement && (n = this.elements[r].getBaseElement()),
                            r += 1;
                        n ? this.threeDElements[i].container.insertBefore(t, n) : this.threeDElements[i].container.appendChild(t);
                        break
                    }
                    i += 1
                }
            }
            ,
            HybridRenderer.prototype.configAnimation = function(t) {
                var e = createTag("div")
                  , i = this.animationItem.wrapper;
                e.style.width = t.w + "px",
                e.style.height = t.h + "px",
                this.resizerElem = e,
                styleDiv(e),
                e.style.transformStyle = e.style.webkitTransformStyle = e.style.mozTransformStyle = "flat",
                this.renderConfig.className && e.setAttribute("class", this.renderConfig.className),
                i.appendChild(e),
                e.style.overflow = "hidden";
                var a = createNS("svg");
                a.setAttribute("width", "1"),
                a.setAttribute("height", "1"),
                styleDiv(a),
                this.resizerElem.appendChild(a);
                var n = createNS("defs");
                a.appendChild(n),
                this.data = t,
                this.setupGlobalData(t, a),
                this.globalData.defs = n,
                this.layers = t.layers,
                this.layerElement = this.resizerElem,
                this.build3dContainers(),
                this.updateContainerSize()
            }
            ,
            HybridRenderer.prototype.destroy = function() {
                this.animationItem.wrapper.innerHTML = "",
                this.animationItem.container = null,
                this.globalData.defs = null;
                var t, e = this.layers ? this.layers.length : 0;
                for (t = 0; t < e; t++)
                    this.elements[t].destroy();
                this.elements.length = 0,
                this.destroyed = !0,
                this.animationItem = null
            }
            ,
            HybridRenderer.prototype.updateContainerSize = function() {
                var t, e, i, a, n = this.animationItem.wrapper.offsetWidth, r = this.animationItem.wrapper.offsetHeight, o = n / r;
                this.globalData.compSize.w / this.globalData.compSize.h > o ? (t = n / this.globalData.compSize.w,
                e = n / this.globalData.compSize.w,
                i = 0,
                a = (r - this.globalData.compSize.h * (n / this.globalData.compSize.w)) / 2) : (t = r / this.globalData.compSize.h,
                e = r / this.globalData.compSize.h,
                i = (n - this.globalData.compSize.w * (r / this.globalData.compSize.h)) / 2,
                a = 0),
                this.resizerElem.style.transform = this.resizerElem.style.webkitTransform = "matrix3d(" + t + ",0,0,0,0," + e + ",0,0,0,0,1,0," + i + "," + a + ",0,1)"
            }
            ,
            HybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame,
            HybridRenderer.prototype.hide = function() {
                this.resizerElem.style.display = "none"
            }
            ,
            HybridRenderer.prototype.show = function() {
                this.resizerElem.style.display = "block"
            }
            ,
            HybridRenderer.prototype.initItems = function() {
                if (this.buildAllItems(),
                this.camera)
                    this.camera.setup();
                else {
                    var t, e = this.globalData.compSize.w, i = this.globalData.compSize.h, a = this.threeDElements.length;
                    for (t = 0; t < a; t += 1)
                        this.threeDElements[t].perspectiveElem.style.perspective = this.threeDElements[t].perspectiveElem.style.webkitPerspective = Math.sqrt(Math.pow(e, 2) + Math.pow(i, 2)) + "px"
                }
            }
            ,
            HybridRenderer.prototype.searchExtraCompositions = function(t) {
                var e, i = t.length, a = createTag("div");
                for (e = 0; e < i; e += 1)
                    if (t[e].xt) {
                        var n = this.createComp(t[e], a, this.globalData.comp, null);
                        n.initExpressions(),
                        this.globalData.projectInterface.registerComposition(n)
                    }
            }
            ,
            MaskElement.prototype.getMaskProperty = function(t) {
                return this.viewData[t].prop
            }
            ,
            MaskElement.prototype.renderFrame = function(t) {
                var e, i = this.element.finalTransform.mat, a = this.masksProperties.length;
                for (e = 0; e < a; e++)
                    if ((this.viewData[e].prop._mdf || t) && this.drawPath(this.masksProperties[e], this.viewData[e].prop.v, this.viewData[e]),
                    (this.viewData[e].op._mdf || t) && this.viewData[e].elem.setAttribute("fill-opacity", this.viewData[e].op.v),
                    "n" !== this.masksProperties[e].mode && (this.viewData[e].invRect && (this.element.finalTransform.mProp._mdf || t) && (this.viewData[e].invRect.setAttribute("x", -i.props[12]),
                    this.viewData[e].invRect.setAttribute("y", -i.props[13])),
                    this.storedData[e].x && (this.storedData[e].x._mdf || t))) {
                        var n = this.storedData[e].expan;
                        this.storedData[e].x.v < 0 ? ("erode" !== this.storedData[e].lastOperator && (this.storedData[e].lastOperator = "erode",
                        this.storedData[e].elem.setAttribute("filter", "url(" + locationHref + "#" + this.storedData[e].filterId + ")")),
                        n.setAttribute("radius", -this.storedData[e].x.v)) : ("dilate" !== this.storedData[e].lastOperator && (this.storedData[e].lastOperator = "dilate",
                        this.storedData[e].elem.setAttribute("filter", null)),
                        this.storedData[e].elem.setAttribute("stroke-width", 2 * this.storedData[e].x.v))
                    }
            }
            ,
            MaskElement.prototype.getMaskelement = function() {
                return this.maskElement
            }
            ,
            MaskElement.prototype.createLayerSolidPath = function() {
                var t = "M0,0 ";
                return t += " h" + this.globalData.compSize.w,
                t += " v" + this.globalData.compSize.h,
                t += " h-" + this.globalData.compSize.w,
                t += " v-" + this.globalData.compSize.h + " "
            }
            ,
            MaskElement.prototype.drawPath = function(t, e, i) {
                var a, n, r = " M" + e.v[0][0] + "," + e.v[0][1];
                for (n = e._length,
                a = 1; a < n; a += 1)
                    r += " C" + e.o[a - 1][0] + "," + e.o[a - 1][1] + " " + e.i[a][0] + "," + e.i[a][1] + " " + e.v[a][0] + "," + e.v[a][1];
                if (e.c && n > 1 && (r += " C" + e.o[a - 1][0] + "," + e.o[a - 1][1] + " " + e.i[0][0] + "," + e.i[0][1] + " " + e.v[0][0] + "," + e.v[0][1]),
                i.lastPath !== r) {
                    var o = "";
                    i.elem && (e.c && (o = t.inv ? this.solidPath + r : r),
                    i.elem.setAttribute("d", o)),
                    i.lastPath = r
                }
            }
            ,
            MaskElement.prototype.destroy = function() {
                this.element = null,
                this.globalData = null,
                this.maskElement = null,
                this.data = null,
                this.masksProperties = null
            }
            ,
            HierarchyElement.prototype = {
                initHierarchy: function() {
                    this.hierarchy = [],
                    this._isParent = !1,
                    this.checkParenting()
                },
                setHierarchy: function(t) {
                    this.hierarchy = t
                },
                setAsParent: function() {
                    this._isParent = !0
                },
                checkParenting: function() {
                    void 0 !== this.data.parent && this.comp.buildElementParenting(this, this.data.parent, [])
                }
            },
            FrameElement.prototype = {
                initFrame: function() {
                    this._isFirstFrame = !1,
                    this.dynamicProperties = [],
                    this._mdf = !1
                },
                prepareProperties: function(t, e) {
                    var i, a = this.dynamicProperties.length;
                    for (i = 0; i < a; i += 1)
                        (e || this._isParent && "transform" === this.dynamicProperties[i].propType) && (this.dynamicProperties[i].getValue(),
                        this.dynamicProperties[i]._mdf && (this.globalData._mdf = !0,
                        this._mdf = !0))
                },
                addDynamicProperty: function(t) {
                    -1 === this.dynamicProperties.indexOf(t) && this.dynamicProperties.push(t)
                }
            },
            TransformElement.prototype = {
                initTransform: function() {
                    this.finalTransform = {
                        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {
                            o: 0
                        },
                        _matMdf: !1,
                        _opMdf: !1,
                        mat: new Matrix
                    },
                    this.data.ao && (this.finalTransform.mProp.autoOriented = !0),
                    this.data.ty
                },
                renderTransform: function() {
                    if (this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame,
                    this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame,
                    this.hierarchy) {
                        var t, e = this.finalTransform.mat, i = 0, a = this.hierarchy.length;
                        if (!this.finalTransform._matMdf)
                            for (; i < a; ) {
                                if (this.hierarchy[i].finalTransform.mProp._mdf) {
                                    this.finalTransform._matMdf = !0;
                                    break
                                }
                                i += 1
                            }
                        if (this.finalTransform._matMdf)
                            for (t = this.finalTransform.mProp.v.props,
                            e.cloneFromProps(t),
                            i = 0; i < a; i += 1)
                                t = this.hierarchy[i].finalTransform.mProp.v.props,
                                e.transform(t[0], t[1], t[2], t[3], t[4], t[5], t[6], t[7], t[8], t[9], t[10], t[11], t[12], t[13], t[14], t[15])
                    }
                },
                globalToLocal: function(t) {
                    var e = [];
                    e.push(this.finalTransform);
                    for (var i = !0, a = this.comp; i; )
                        a.finalTransform ? (a.data.hasMask && e.splice(0, 0, a.finalTransform),
                        a = a.comp) : i = !1;
                    var n, r, o = e.length;
                    for (n = 0; n < o; n += 1)
                        r = e[n].mat.applyToPointArray(0, 0, 0),
                        t = [t[0] - r[0], t[1] - r[1], 0];
                    return t
                },
                mHelper: new Matrix
            },
            RenderableElement.prototype = {
                initRenderable: function() {
                    this.isInRange = !1,
                    this.hidden = !1,
                    this.isTransparent = !1,
                    this.renderableComponents = []
                },
                addRenderableComponent: function(t) {
                    -1 === this.renderableComponents.indexOf(t) && this.renderableComponents.push(t)
                },
                removeRenderableComponent: function(t) {
                    -1 !== this.renderableComponents.indexOf(t) && this.renderableComponents.splice(this.renderableComponents.indexOf(t), 1)
                },
                prepareRenderableFrame: function(t) {
                    this.checkLayerLimits(t)
                },
                checkTransparency: function() {
                    this.finalTransform.mProp.o.v <= 0 ? !this.isTransparent && this.globalData.renderConfig.hideOnTransparent && (this.isTransparent = !0,
                    this.hide()) : this.isTransparent && (this.isTransparent = !1,
                    this.show())
                },
                checkLayerLimits: function(t) {
                    this.data.ip - this.data.st <= t && this.data.op - this.data.st > t ? !0 !== this.isInRange && (this.globalData._mdf = !0,
                    this._mdf = !0,
                    this.isInRange = !0,
                    this.show()) : !1 !== this.isInRange && (this.globalData._mdf = !0,
                    this.isInRange = !1,
                    this.hide())
                },
                renderRenderable: function() {
                    var t, e = this.renderableComponents.length;
                    for (t = 0; t < e; t += 1)
                        this.renderableComponents[t].renderFrame(this._isFirstFrame)
                },
                sourceRectAtTime: function() {
                    return {
                        top: 0,
                        left: 0,
                        width: 100,
                        height: 100
                    }
                },
                getLayerSize: function() {
                    return 5 === this.data.ty ? {
                        w: this.data.textData.width,
                        h: this.data.textData.height
                    } : {
                        w: this.data.width,
                        h: this.data.height
                    }
                }
            },
            extendPrototype([RenderableElement, createProxyFunction({
                initElement: function(t, e, i) {
                    this.initFrame(),
                    this.initBaseData(t, e, i),
                    this.initTransform(t, e, i),
                    this.initHierarchy(),
                    this.initRenderable(),
                    this.initRendererElement(),
                    this.createContainerElements(),
                    this.createRenderableComponents(),
                    this.createContent(),
                    this.hide()
                },
                hide: function() {
                    this.hidden || this.isInRange && !this.isTransparent || ((this.baseElement || this.layerElement).style.display = "none",
                    this.hidden = !0)
                },
                show: function() {
                    this.isInRange && !this.isTransparent && (this.data.hd || ((this.baseElement || this.layerElement).style.display = "block"),
                    this.hidden = !1,
                    this._isFirstFrame = !0)
                },
                renderFrame: function() {
                    this.data.hd || this.hidden || (this.renderTransform(),
                    this.renderRenderable(),
                    this.renderElement(),
                    this.renderInnerContent(),
                    this._isFirstFrame && (this._isFirstFrame = !1))
                },
                renderInnerContent: function() {},
                prepareFrame: function(t) {
                    this._mdf = !1,
                    this.prepareRenderableFrame(t),
                    this.prepareProperties(t, this.isInRange),
                    this.checkTransparency()
                },
                destroy: function() {
                    this.innerElem = null,
                    this.destroyBaseElement()
                }
            })], RenderableDOMElement),
            SVGStyleData.prototype.reset = function() {
                this.d = "",
                this._mdf = !1
            }
            ,
            SVGShapeData.prototype.setAsAnimated = function() {
                this._isAnimated = !0
            }
            ,
            extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData),
            extendPrototype([DynamicPropertyContainer], SVGFillStyleData),
            SVGGradientFillStyleData.prototype.initGradientData = function(t, e, i) {
                this.o = PropertyFactory.getProp(t, e.o, 0, .01, this),
                this.s = PropertyFactory.getProp(t, e.s, 1, null, this),
                this.e = PropertyFactory.getProp(t, e.e, 1, null, this),
                this.h = PropertyFactory.getProp(t, e.h || {
                    k: 0
                }, 0, .01, this),
                this.a = PropertyFactory.getProp(t, e.a || {
                    k: 0
                }, 0, degToRads, this),
                this.g = new GradientProperty(t,e.g,this),
                this.style = i,
                this.stops = [],
                this.setGradientData(i.pElem, e),
                this.setGradientOpacity(e, i),
                this._isAnimated = !!this._isAnimated
            }
            ,
            SVGGradientFillStyleData.prototype.setGradientData = function(t, e) {
                var i = createElementID()
                  , a = createNS(1 === e.t ? "linearGradient" : "radialGradient");
                a.setAttribute("id", i),
                a.setAttribute("spreadMethod", "pad"),
                a.setAttribute("gradientUnits", "userSpaceOnUse");
                var n, r, o, s = [];
                for (o = 4 * e.g.p,
                r = 0; r < o; r += 4)
                    n = createNS("stop"),
                    a.appendChild(n),
                    s.push(n);
                t.setAttribute("gf" === e.ty ? "fill" : "stroke", "url(" + locationHref + "#" + i + ")"),
                this.gf = a,
                this.cst = s
            }
            ,
            SVGGradientFillStyleData.prototype.setGradientOpacity = function(t, e) {
                if (this.g._hasOpacity && !this.g._collapsable) {
                    var i, a, n, r = createNS("mask"), o = createNS("path");
                    r.appendChild(o);
                    var s = createElementID()
                      , l = createElementID();
                    r.setAttribute("id", l);
                    var c = createNS(1 === t.t ? "linearGradient" : "radialGradient");
                    c.setAttribute("id", s),
                    c.setAttribute("spreadMethod", "pad"),
                    c.setAttribute("gradientUnits", "userSpaceOnUse"),
                    n = t.g.k.k[0].s ? t.g.k.k[0].s.length : t.g.k.k.length;
                    var h = this.stops;
                    for (a = 4 * t.g.p; a < n; a += 2)
                        (i = createNS("stop")).setAttribute("stop-color", "rgb(255,255,255)"),
                        c.appendChild(i),
                        h.push(i);
                    o.setAttribute("gf" === t.ty ? "fill" : "stroke", "url(" + locationHref + "#" + s + ")"),
                    this.of = c,
                    this.ms = r,
                    this.ost = h,
                    this.maskId = l,
                    e.msElem = o
                }
            }
            ,
            extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData),
            extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);
            var SVGElementsRenderer = function() {
                var t = new Matrix
                  , e = new Matrix;
                function i(t, e, i) {
                    (i || e.transform.op._mdf) && e.transform.container.setAttribute("opacity", e.transform.op.v),
                    (i || e.transform.mProps._mdf) && e.transform.container.setAttribute("transform", e.transform.mProps.v.to2dCSS())
                }
                function a(i, a, n) {
                    var r, o, s, l, c, h, p, d, u, m, f, g = a.styles.length, y = a.lvl;
                    for (h = 0; h < g; h += 1) {
                        if (l = a.sh._mdf || n,
                        a.styles[h].lvl < y) {
                            for (d = e.reset(),
                            m = y - a.styles[h].lvl,
                            f = a.transformers.length - 1; !l && m > 0; )
                                l = a.transformers[f].mProps._mdf || l,
                                m--,
                                f--;
                            if (l)
                                for (m = y - a.styles[h].lvl,
                                f = a.transformers.length - 1; m > 0; )
                                    u = a.transformers[f].mProps.v.props,
                                    d.transform(u[0], u[1], u[2], u[3], u[4], u[5], u[6], u[7], u[8], u[9], u[10], u[11], u[12], u[13], u[14], u[15]),
                                    m--,
                                    f--
                        } else
                            d = t;
                        if (o = (p = a.sh.paths)._length,
                        l) {
                            for (s = "",
                            r = 0; r < o; r += 1)
                                (c = p.shapes[r]) && c._length && (s += buildShapeString(c, c._length, c.c, d));
                            a.caches[h] = s
                        } else
                            s = a.caches[h];
                        a.styles[h].d += !0 === i.hd ? "" : s,
                        a.styles[h]._mdf = l || a.styles[h]._mdf
                    }
                }
                function n(t, e, i) {
                    var a = e.style;
                    (e.c._mdf || i) && a.pElem.setAttribute("fill", "rgb(" + bm_floor(e.c.v[0]) + "," + bm_floor(e.c.v[1]) + "," + bm_floor(e.c.v[2]) + ")"),
                    (e.o._mdf || i) && a.pElem.setAttribute("fill-opacity", e.o.v)
                }
                function r(t, e, i) {
                    o(t, e, i),
                    s(t, e, i)
                }
                function o(t, e, i) {
                    var a, n, r, o, s, l = e.gf, c = e.g._hasOpacity, h = e.s.v, p = e.e.v;
                    if (e.o._mdf || i) {
                        var d = "gf" === t.ty ? "fill-opacity" : "stroke-opacity";
                        e.style.pElem.setAttribute(d, e.o.v)
                    }
                    if (e.s._mdf || i) {
                        var u = 1 === t.t ? "x1" : "cx"
                          , m = "x1" === u ? "y1" : "cy";
                        l.setAttribute(u, h[0]),
                        l.setAttribute(m, h[1]),
                        c && !e.g._collapsable && (e.of.setAttribute(u, h[0]),
                        e.of.setAttribute(m, h[1]))
                    }
                    if (e.g._cmdf || i) {
                        a = e.cst;
                        var f = e.g.c;
                        for (r = a.length,
                        n = 0; n < r; n += 1)
                            (o = a[n]).setAttribute("offset", f[4 * n] + "%"),
                            o.setAttribute("stop-color", "rgb(" + f[4 * n + 1] + "," + f[4 * n + 2] + "," + f[4 * n + 3] + ")")
                    }
                    if (c && (e.g._omdf || i)) {
                        var g = e.g.o;
                        for (r = (a = e.g._collapsable ? e.cst : e.ost).length,
                        n = 0; n < r; n += 1)
                            o = a[n],
                            e.g._collapsable || o.setAttribute("offset", g[2 * n] + "%"),
                            o.setAttribute("stop-opacity", g[2 * n + 1])
                    }
                    if (1 === t.t)
                        (e.e._mdf || i) && (l.setAttribute("x2", p[0]),
                        l.setAttribute("y2", p[1]),
                        c && !e.g._collapsable && (e.of.setAttribute("x2", p[0]),
                        e.of.setAttribute("y2", p[1])));
                    else if ((e.s._mdf || e.e._mdf || i) && (s = Math.sqrt(Math.pow(h[0] - p[0], 2) + Math.pow(h[1] - p[1], 2)),
                    l.setAttribute("r", s),
                    c && !e.g._collapsable && e.of.setAttribute("r", s)),
                    e.e._mdf || e.h._mdf || e.a._mdf || i) {
                        s || (s = Math.sqrt(Math.pow(h[0] - p[0], 2) + Math.pow(h[1] - p[1], 2)));
                        var y = Math.atan2(p[1] - h[1], p[0] - h[0])
                          , v = s * (e.h.v >= 1 ? .99 : e.h.v <= -1 ? -.99 : e.h.v)
                          , b = Math.cos(y + e.a.v) * v + h[0]
                          , A = Math.sin(y + e.a.v) * v + h[1];
                        l.setAttribute("fx", b),
                        l.setAttribute("fy", A),
                        c && !e.g._collapsable && (e.of.setAttribute("fx", b),
                        e.of.setAttribute("fy", A))
                    }
                }
                function s(t, e, i) {
                    var a = e.style
                      , n = e.d;
                    n && (n._mdf || i) && n.dashStr && (a.pElem.setAttribute("stroke-dasharray", n.dashStr),
                    a.pElem.setAttribute("stroke-dashoffset", n.dashoffset[0])),
                    e.c && (e.c._mdf || i) && a.pElem.setAttribute("stroke", "rgb(" + bm_floor(e.c.v[0]) + "," + bm_floor(e.c.v[1]) + "," + bm_floor(e.c.v[2]) + ")"),
                    (e.o._mdf || i) && a.pElem.setAttribute("stroke-opacity", e.o.v),
                    (e.w._mdf || i) && (a.pElem.setAttribute("stroke-width", e.w.v),
                    a.msElem && a.msElem.setAttribute("stroke-width", e.w.v))
                }
                return {
                    createRenderFunction: function(t) {
                        t.ty;
                        switch (t.ty) {
                        case "fl":
                            return n;
                        case "gf":
                            return o;
                        case "gs":
                            return r;
                        case "st":
                            return s;
                        case "sh":
                        case "el":
                        case "rc":
                        case "sr":
                            return a;
                        case "tr":
                            return i
                        }
                    }
                }
            }();
            function ShapeTransformManager() {
                this.sequences = {},
                this.sequenceList = [],
                this.transform_key_count = 0
            }
            function CVShapeData(t, e, i, a) {
                this.styledShapes = [],
                this.tr = [0, 0, 0, 0, 0, 0];
                var n = 4;
                "rc" == e.ty ? n = 5 : "el" == e.ty ? n = 6 : "sr" == e.ty && (n = 7),
                this.sh = ShapePropertyFactory.getShapeProp(t, e, n, t);
                var r, o, s = i.length;
                for (r = 0; r < s; r += 1)
                    i[r].closed || (o = {
                        transforms: a.addTransformSequence(i[r].transforms),
                        trNodes: []
                    },
                    this.styledShapes.push(o),
                    i[r].elements.push(o))
            }
            function BaseElement() {}
            function NullElement(t, e, i) {
                this.initFrame(),
                this.initBaseData(t, e, i),
                this.initFrame(),
                this.initTransform(t, e, i),
                this.initHierarchy()
            }
            function SVGBaseElement() {}
            function IShapeElement() {}
            function ITextElement() {}
            function ICompElement() {}
            function IImageElement(t, e, i) {
                this.assetData = e.getAssetData(t.refId),
                this.initElement(t, e, i),
                this.sourceRect = {
                    top: 0,
                    left: 0,
                    width: this.assetData.w,
                    height: this.assetData.h
                }
            }
            function ISolidElement(t, e, i) {
                this.initElement(t, e, i)
            }
            function SVGCompElement(t, e, i) {
                this.layers = t.layers,
                this.supports3d = !0,
                this.completeLayers = !1,
                this.pendingElements = [],
                this.elements = this.layers ? createSizedArray(this.layers.length) : [],
                this.initElement(t, e, i),
                this.tm = t.tm ? PropertyFactory.getProp(this, t.tm, 0, e.frameRate, this) : {
                    _placeholder: !0
                }
            }
            function SVGTextElement(t, e, i) {
                this.textSpans = [],
                this.renderType = "svg",
                this.initElement(t, e, i)
            }
            function SVGShapeElement(t, e, i) {
                this.shapes = [],
                this.shapesData = t.shapes,
                this.stylesList = [],
                this.shapeModifiers = [],
                this.itemsData = [],
                this.processedElements = [],
                this.animatedContents = [],
                this.initElement(t, e, i),
                this.prevViewData = []
            }
            function SVGTintFilter(t, e) {
                this.filterManager = e;
                var i = createNS("feColorMatrix");
                if (i.setAttribute("type", "matrix"),
                i.setAttribute("color-interpolation-filters", "linearRGB"),
                i.setAttribute("values", "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),
                i.setAttribute("result", "f1"),
                t.appendChild(i),
                (i = createNS("feColorMatrix")).setAttribute("type", "matrix"),
                i.setAttribute("color-interpolation-filters", "sRGB"),
                i.setAttribute("values", "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),
                i.setAttribute("result", "f2"),
                t.appendChild(i),
                this.matrixFilter = i,
                100 !== e.effectElements[2].p.v || e.effectElements[2].p.k) {
                    var a, n = createNS("feMerge");
                    t.appendChild(n),
                    (a = createNS("feMergeNode")).setAttribute("in", "SourceGraphic"),
                    n.appendChild(a),
                    (a = createNS("feMergeNode")).setAttribute("in", "f2"),
                    n.appendChild(a)
                }
            }
            function SVGFillFilter(t, e) {
                this.filterManager = e;
                var i = createNS("feColorMatrix");
                i.setAttribute("type", "matrix"),
                i.setAttribute("color-interpolation-filters", "sRGB"),
                i.setAttribute("values", "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),
                t.appendChild(i),
                this.matrixFilter = i
            }
            function SVGGaussianBlurEffect(t, e) {
                t.setAttribute("x", "-100%"),
                t.setAttribute("y", "-100%"),
                t.setAttribute("width", "300%"),
                t.setAttribute("height", "300%"),
                this.filterManager = e;
                var i = createNS("feGaussianBlur");
                t.appendChild(i),
                this.feGaussianBlur = i
            }
            function SVGStrokeEffect(t, e) {
                this.initialized = !1,
                this.filterManager = e,
                this.elem = t,
                this.paths = []
            }
            function SVGTritoneFilter(t, e) {
                this.filterManager = e;
                var i = createNS("feColorMatrix");
                i.setAttribute("type", "matrix"),
                i.setAttribute("color-interpolation-filters", "linearRGB"),
                i.setAttribute("values", "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),
                i.setAttribute("result", "f1"),
                t.appendChild(i);
                var a = createNS("feComponentTransfer");
                a.setAttribute("color-interpolation-filters", "sRGB"),
                t.appendChild(a),
                this.matrixFilter = a;
                var n = createNS("feFuncR");
                n.setAttribute("type", "table"),
                a.appendChild(n),
                this.feFuncR = n;
                var r = createNS("feFuncG");
                r.setAttribute("type", "table"),
                a.appendChild(r),
                this.feFuncG = r;
                var o = createNS("feFuncB");
                o.setAttribute("type", "table"),
                a.appendChild(o),
                this.feFuncB = o
            }
            function SVGProLevelsFilter(t, e) {
                this.filterManager = e;
                var i = this.filterManager.effectElements
                  , a = createNS("feComponentTransfer");
                (i[10].p.k || 0 !== i[10].p.v || i[11].p.k || 1 !== i[11].p.v || i[12].p.k || 1 !== i[12].p.v || i[13].p.k || 0 !== i[13].p.v || i[14].p.k || 1 !== i[14].p.v) && (this.feFuncR = this.createFeFunc("feFuncR", a)),
                (i[17].p.k || 0 !== i[17].p.v || i[18].p.k || 1 !== i[18].p.v || i[19].p.k || 1 !== i[19].p.v || i[20].p.k || 0 !== i[20].p.v || i[21].p.k || 1 !== i[21].p.v) && (this.feFuncG = this.createFeFunc("feFuncG", a)),
                (i[24].p.k || 0 !== i[24].p.v || i[25].p.k || 1 !== i[25].p.v || i[26].p.k || 1 !== i[26].p.v || i[27].p.k || 0 !== i[27].p.v || i[28].p.k || 1 !== i[28].p.v) && (this.feFuncB = this.createFeFunc("feFuncB", a)),
                (i[31].p.k || 0 !== i[31].p.v || i[32].p.k || 1 !== i[32].p.v || i[33].p.k || 1 !== i[33].p.v || i[34].p.k || 0 !== i[34].p.v || i[35].p.k || 1 !== i[35].p.v) && (this.feFuncA = this.createFeFunc("feFuncA", a)),
                (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) && (a.setAttribute("color-interpolation-filters", "sRGB"),
                t.appendChild(a),
                a = createNS("feComponentTransfer")),
                (i[3].p.k || 0 !== i[3].p.v || i[4].p.k || 1 !== i[4].p.v || i[5].p.k || 1 !== i[5].p.v || i[6].p.k || 0 !== i[6].p.v || i[7].p.k || 1 !== i[7].p.v) && (a.setAttribute("color-interpolation-filters", "sRGB"),
                t.appendChild(a),
                this.feFuncRComposed = this.createFeFunc("feFuncR", a),
                this.feFuncGComposed = this.createFeFunc("feFuncG", a),
                this.feFuncBComposed = this.createFeFunc("feFuncB", a))
            }
            function SVGDropShadowEffect(t, e) {
                t.setAttribute("x", "-100%"),
                t.setAttribute("y", "-100%"),
                t.setAttribute("width", "400%"),
                t.setAttribute("height", "400%"),
                this.filterManager = e;
                var i = createNS("feGaussianBlur");
                i.setAttribute("in", "SourceAlpha"),
                i.setAttribute("result", "drop_shadow_1"),
                i.setAttribute("stdDeviation", "0"),
                this.feGaussianBlur = i,
                t.appendChild(i);
                var a = createNS("feOffset");
                a.setAttribute("dx", "25"),
                a.setAttribute("dy", "0"),
                a.setAttribute("in", "drop_shadow_1"),
                a.setAttribute("result", "drop_shadow_2"),
                this.feOffset = a,
                t.appendChild(a);
                var n = createNS("feFlood");
                n.setAttribute("flood-color", "#00ff00"),
                n.setAttribute("flood-opacity", "1"),
                n.setAttribute("result", "drop_shadow_3"),
                this.feFlood = n,
                t.appendChild(n);
                var r = createNS("feComposite");
                r.setAttribute("in", "drop_shadow_3"),
                r.setAttribute("in2", "drop_shadow_2"),
                r.setAttribute("operator", "in"),
                r.setAttribute("result", "drop_shadow_4"),
                t.appendChild(r);
                var o, s = createNS("feMerge");
                t.appendChild(s),
                o = createNS("feMergeNode"),
                s.appendChild(o),
                (o = createNS("feMergeNode")).setAttribute("in", "SourceGraphic"),
                this.feMergeNode = o,
                this.feMerge = s,
                this.originalNodeAdded = !1,
                s.appendChild(o)
            }
            ShapeTransformManager.prototype = {
                addTransformSequence: function(t) {
                    var e, i = t.length, a = "_";
                    for (e = 0; e < i; e += 1)
                        a += t[e].transform.key + "_";
                    var n = this.sequences[a];
                    return n || (n = {
                        transforms: [].concat(t),
                        finalTransform: new Matrix,
                        _mdf: !1
                    },
                    this.sequences[a] = n,
                    this.sequenceList.push(n)),
                    n
                },
                processSequence: function(t, e) {
                    for (var i, a = 0, n = t.transforms.length, r = e; a < n && !e; ) {
                        if (t.transforms[a].transform.mProps._mdf) {
                            r = !0;
                            break
                        }
                        a += 1
                    }
                    if (r)
                        for (t.finalTransform.reset(),
                        a = n - 1; a >= 0; a -= 1)
                            i = t.transforms[a].transform.mProps.v.props,
                            t.finalTransform.transform(i[0], i[1], i[2], i[3], i[4], i[5], i[6], i[7], i[8], i[9], i[10], i[11], i[12], i[13], i[14], i[15]);
                    t._mdf = r
                },
                processSequences: function(t) {
                    var e, i = this.sequenceList.length;
                    for (e = 0; e < i; e += 1)
                        this.processSequence(this.sequenceList[e], t)
                },
                getNewKey: function() {
                    return "_" + this.transform_key_count++
                }
            },
            CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated,
            BaseElement.prototype = {
                checkMasks: function() {
                    if (!this.data.hasMask)
                        return !1;
                    for (var t = 0, e = this.data.masksProperties.length; t < e; ) {
                        if ("n" !== this.data.masksProperties[t].mode && !1 !== this.data.masksProperties[t].cl)
                            return !0;
                        t += 1
                    }
                    return !1
                },
                initExpressions: function() {
                    this.layerInterface = LayerExpressionInterface(this),
                    this.data.hasMask && this.maskManager && this.layerInterface.registerMaskInterface(this.maskManager);
                    var t = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);
                    this.layerInterface.registerEffectsInterface(t),
                    0 === this.data.ty || this.data.xt ? this.compInterface = CompExpressionInterface(this) : 4 === this.data.ty ? (this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface),
                    this.layerInterface.content = this.layerInterface.shapeInterface) : 5 === this.data.ty && (this.layerInterface.textInterface = TextExpressionInterface(this),
                    this.layerInterface.text = this.layerInterface.textInterface)
                },
                setBlendMode: function() {
                    var t = getBlendMode(this.data.bm);
                    (this.baseElement || this.layerElement).style["mix-blend-mode"] = t
                },
                initBaseData: function(t, e, i) {
                    this.globalData = e,
                    this.comp = i,
                    this.data = t,
                    this.layerId = createElementID(),
                    this.data.sr || (this.data.sr = 1),
                    this.effectsManager = new EffectsManager(this.data,this,this.dynamicProperties)
                },
                getType: function() {
                    return this.type
                },
                sourceRectAtTime: function() {}
            },
            NullElement.prototype.prepareFrame = function(t) {
                this.prepareProperties(t, !0)
            }
            ,
            NullElement.prototype.renderFrame = function() {}
            ,
            NullElement.prototype.getBaseElement = function() {
                return null
            }
            ,
            NullElement.prototype.destroy = function() {}
            ,
            NullElement.prototype.sourceRectAtTime = function() {}
            ,
            NullElement.prototype.hide = function() {}
            ,
            extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement),
            SVGBaseElement.prototype = {
                initRendererElement: function() {
                    this.layerElement = createNS("g")
                },
                createContainerElements: function() {
                    this.matteElement = createNS("g"),
                    this.transformedElement = this.layerElement,
                    this.maskedElement = this.layerElement,
                    this._sizeChanged = !1;
                    var t, e, i, a = null;
                    if (this.data.td) {
                        if (3 == this.data.td || 1 == this.data.td) {
                            var n = createNS("mask");
                            n.setAttribute("id", this.layerId),
                            n.setAttribute("mask-type", 3 == this.data.td ? "luminance" : "alpha"),
                            n.appendChild(this.layerElement),
                            a = n,
                            this.globalData.defs.appendChild(n),
                            featureSupport.maskType || 1 != this.data.td || (n.setAttribute("mask-type", "luminance"),
                            t = createElementID(),
                            e = filtersFactory.createFilter(t),
                            this.globalData.defs.appendChild(e),
                            e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),
                            (i = createNS("g")).appendChild(this.layerElement),
                            a = i,
                            n.appendChild(i),
                            i.setAttribute("filter", "url(" + locationHref + "#" + t + ")"))
                        } else if (2 == this.data.td) {
                            var r = createNS("mask");
                            r.setAttribute("id", this.layerId),
                            r.setAttribute("mask-type", "alpha");
                            var o = createNS("g");
                            r.appendChild(o),
                            t = createElementID(),
                            e = filtersFactory.createFilter(t);
                            var s = createNS("feComponentTransfer");
                            s.setAttribute("in", "SourceGraphic"),
                            e.appendChild(s);
                            var l = createNS("feFuncA");
                            l.setAttribute("type", "table"),
                            l.setAttribute("tableValues", "1.0 0.0"),
                            s.appendChild(l),
                            this.globalData.defs.appendChild(e);
                            var c = createNS("rect");
                            c.setAttribute("width", this.comp.data.w),
                            c.setAttribute("height", this.comp.data.h),
                            c.setAttribute("x", "0"),
                            c.setAttribute("y", "0"),
                            c.setAttribute("fill", "#ffffff"),
                            c.setAttribute("opacity", "0"),
                            o.setAttribute("filter", "url(" + locationHref + "#" + t + ")"),
                            o.appendChild(c),
                            o.appendChild(this.layerElement),
                            a = o,
                            featureSupport.maskType || (r.setAttribute("mask-type", "luminance"),
                            e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),
                            i = createNS("g"),
                            o.appendChild(c),
                            i.appendChild(this.layerElement),
                            a = i,
                            o.appendChild(i)),
                            this.globalData.defs.appendChild(r)
                        }
                    } else
                        this.data.tt ? (this.matteElement.appendChild(this.layerElement),
                        a = this.matteElement,
                        this.baseElement = this.matteElement) : this.baseElement = this.layerElement;
                    if (this.data.ln && this.layerElement.setAttribute("id", this.data.ln),
                    this.data.cl && this.layerElement.setAttribute("class", this.data.cl),
                    0 === this.data.ty && !this.data.hd) {
                        var h = createNS("clipPath")
                          , p = createNS("path");
                        p.setAttribute("d", "M0,0 L" + this.data.w + ",0 L" + this.data.w + "," + this.data.h + " L0," + this.data.h + "z");
                        var d = createElementID();
                        if (h.setAttribute("id", d),
                        h.appendChild(p),
                        this.globalData.defs.appendChild(h),
                        this.checkMasks()) {
                            var u = createNS("g");
                            u.setAttribute("clip-path", "url(" + locationHref + "#" + d + ")"),
                            u.appendChild(this.layerElement),
                            this.transformedElement = u,
                            a ? a.appendChild(this.transformedElement) : this.baseElement = this.transformedElement
                        } else
                            this.layerElement.setAttribute("clip-path", "url(" + locationHref + "#" + d + ")")
                    }
                    0 !== this.data.bm && this.setBlendMode()
                },
                renderElement: function() {
                    this.finalTransform._matMdf && this.transformedElement.setAttribute("transform", this.finalTransform.mat.to2dCSS()),
                    this.finalTransform._opMdf && this.transformedElement.setAttribute("opacity", this.finalTransform.mProp.o.v)
                },
                destroyBaseElement: function() {
                    this.layerElement = null,
                    this.matteElement = null,
                    this.maskManager.destroy()
                },
                getBaseElement: function() {
                    return this.data.hd ? null : this.baseElement
                },
                createRenderableComponents: function() {
                    this.maskManager = new MaskElement(this.data,this,this.globalData),
                    this.renderableEffectsManager = new SVGEffects(this)
                },
                setMatte: function(t) {
                    this.matteElement && this.matteElement.setAttribute("mask", "url(" + locationHref + "#" + t + ")")
                }
            },
            IShapeElement.prototype = {
                addShapeToModifiers: function(t) {
                    var e, i = this.shapeModifiers.length;
                    for (e = 0; e < i; e += 1)
                        this.shapeModifiers[e].addShape(t)
                },
                isShapeInAnimatedModifiers: function(t) {
                    for (var e = this.shapeModifiers.length; 0 < e; )
                        if (this.shapeModifiers[0].isAnimatedWithShape(t))
                            return !0;
                    return !1
                },
                renderModifiers: function() {
                    if (this.shapeModifiers.length) {
                        var t, e = this.shapes.length;
                        for (t = 0; t < e; t += 1)
                            this.shapes[t].sh.reset();
                        for (t = (e = this.shapeModifiers.length) - 1; t >= 0; t -= 1)
                            this.shapeModifiers[t].processShapes(this._isFirstFrame)
                    }
                },
                lcEnum: {
                    1: "butt",
                    2: "round",
                    3: "square"
                },
                ljEnum: {
                    1: "miter",
                    2: "round",
                    3: "bevel"
                },
                searchProcessedElement: function(t) {
                    for (var e = this.processedElements, i = 0, a = e.length; i < a; ) {
                        if (e[i].elem === t)
                            return e[i].pos;
                        i += 1
                    }
                    return 0
                },
                addProcessedElement: function(t, e) {
                    for (var i = this.processedElements, a = i.length; a; )
                        if (i[a -= 1].elem === t)
                            return void (i[a].pos = e);
                    i.push(new ProcessedElement(t,e))
                },
                prepareFrame: function(t) {
                    this.prepareRenderableFrame(t),
                    this.prepareProperties(t, this.isInRange)
                }
            },
            ITextElement.prototype.initElement = function(t, e, i) {
                this.lettersChangedFlag = !0,
                this.initFrame(),
                this.initBaseData(t, e, i),
                this.textProperty = new TextProperty(this,t.t,this.dynamicProperties),
                this.textAnimator = new TextAnimatorProperty(t.t,this.renderType,this),
                this.initTransform(t, e, i),
                this.initHierarchy(),
                this.initRenderable(),
                this.initRendererElement(),
                this.createContainerElements(),
                this.createRenderableComponents(),
                this.createContent(),
                this.hide(),
                this.textAnimator.searchProperties(this.dynamicProperties)
            }
            ,
            ITextElement.prototype.prepareFrame = function(t) {
                this._mdf = !1,
                this.prepareRenderableFrame(t),
                this.prepareProperties(t, this.isInRange),
                (this.textProperty._mdf || this.textProperty._isFirstFrame) && (this.buildNewText(),
                this.textProperty._isFirstFrame = !1,
                this.textProperty._mdf = !1)
            }
            ,
            ITextElement.prototype.createPathShape = function(t, e) {
                var i, a, n = e.length, r = "";
                for (i = 0; i < n; i += 1)
                    a = e[i].ks.k,
                    r += buildShapeString(a, a.i.length, !0, t);
                return r
            }
            ,
            ITextElement.prototype.updateDocumentData = function(t, e) {
                this.textProperty.updateDocumentData(t, e)
            }
            ,
            ITextElement.prototype.canResizeFont = function(t) {
                this.textProperty.canResizeFont(t)
            }
            ,
            ITextElement.prototype.setMinimumFontSize = function(t) {
                this.textProperty.setMinimumFontSize(t)
            }
            ,
            ITextElement.prototype.applyTextPropertiesToMatrix = function(t, e, i, a, n) {
                switch (t.ps && e.translate(t.ps[0], t.ps[1] + t.ascent, 0),
                e.translate(0, -t.ls, 0),
                t.j) {
                case 1:
                    e.translate(t.justifyOffset + (t.boxWidth - t.lineWidths[i]), 0, 0);
                    break;
                case 2:
                    e.translate(t.justifyOffset + (t.boxWidth - t.lineWidths[i]) / 2, 0, 0)
                }
                e.translate(a, n, 0)
            }
            ,
            ITextElement.prototype.buildColor = function(t) {
                return "rgb(" + Math.round(255 * t[0]) + "," + Math.round(255 * t[1]) + "," + Math.round(255 * t[2]) + ")"
            }
            ,
            ITextElement.prototype.emptyProp = new LetterProps,
            ITextElement.prototype.destroy = function() {}
            ,
            extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement),
            ICompElement.prototype.initElement = function(t, e, i) {
                this.initFrame(),
                this.initBaseData(t, e, i),
                this.initTransform(t, e, i),
                this.initRenderable(),
                this.initHierarchy(),
                this.initRendererElement(),
                this.createContainerElements(),
                this.createRenderableComponents(),
                !this.data.xt && e.progressiveLoad || this.buildAllItems(),
                this.hide()
            }
            ,
            ICompElement.prototype.prepareFrame = function(t) {
                if (this._mdf = !1,
                this.prepareRenderableFrame(t),
                this.prepareProperties(t, this.isInRange),
                this.isInRange || this.data.xt) {
                    if (this.tm._placeholder)
                        this.renderedFrame = t / this.data.sr;
                    else {
                        var e = this.tm.v;
                        e === this.data.op && (e = this.data.op - 1),
                        this.renderedFrame = e
                    }
                    var i, a = this.elements.length;
                    for (this.completeLayers || this.checkLayers(this.renderedFrame),
                    i = a - 1; i >= 0; i -= 1)
                        (this.completeLayers || this.elements[i]) && (this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st),
                        this.elements[i]._mdf && (this._mdf = !0))
                }
            }
            ,
            ICompElement.prototype.renderInnerContent = function() {
                var t, e = this.layers.length;
                for (t = 0; t < e; t += 1)
                    (this.completeLayers || this.elements[t]) && this.elements[t].renderFrame()
            }
            ,
            ICompElement.prototype.setElements = function(t) {
                this.elements = t
            }
            ,
            ICompElement.prototype.getElements = function() {
                return this.elements
            }
            ,
            ICompElement.prototype.destroyElements = function() {
                var t, e = this.layers.length;
                for (t = 0; t < e; t += 1)
                    this.elements[t] && this.elements[t].destroy()
            }
            ,
            ICompElement.prototype.destroy = function() {
                this.destroyElements(),
                this.destroyBaseElement()
            }
            ,
            extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement),
            IImageElement.prototype.createContent = function() {
                var t = this.globalData.getAssetsPath(this.assetData);
                this.innerElem = createNS("image"),
                this.innerElem.setAttribute("width", this.assetData.w + "px"),
                this.innerElem.setAttribute("height", this.assetData.h + "px"),
                this.innerElem.setAttribute("preserveAspectRatio", this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio),
                this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink", "href", t),
                this.layerElement.appendChild(this.innerElem)
            }
            ,
            IImageElement.prototype.sourceRectAtTime = function() {
                return this.sourceRect
            }
            ,
            extendPrototype([IImageElement], ISolidElement),
            ISolidElement.prototype.createContent = function() {
                var t = createNS("rect");
                t.setAttribute("width", this.data.sw),
                t.setAttribute("height", this.data.sh),
                t.setAttribute("fill", this.data.sc),
                this.layerElement.appendChild(t)
            }
            ,
            extendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement),
            extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextElement),
            SVGTextElement.prototype.createContent = function() {
                this.data.singleShape && !this.globalData.fontManager.chars && (this.textContainer = createNS("text"))
            }
            ,
            SVGTextElement.prototype.buildTextContents = function(t) {
                for (var e = 0, i = t.length, a = [], n = ""; e < i; )
                    t[e] === String.fromCharCode(13) || t[e] === String.fromCharCode(3) ? (a.push(n),
                    n = "") : n += t[e],
                    e += 1;
                return a.push(n),
                a
            }
            ,
            SVGTextElement.prototype.buildNewText = function() {
                var t, e, i = this.textProperty.currentData;
                this.renderedLetters = createSizedArray(i ? i.l.length : 0),
                i.fc ? this.layerElement.setAttribute("fill", this.buildColor(i.fc)) : this.layerElement.setAttribute("fill", "rgba(0,0,0,0)"),
                i.sc && (this.layerElement.setAttribute("stroke", this.buildColor(i.sc)),
                this.layerElement.setAttribute("stroke-width", i.sw)),
                this.layerElement.setAttribute("font-size", i.finalSize);
                var a = this.globalData.fontManager.getFontByName(i.f);
                if (a.fClass)
                    this.layerElement.setAttribute("class", a.fClass);
                else {
                    this.layerElement.setAttribute("font-family", a.fFamily);
                    var n = i.fWeight
                      , r = i.fStyle;
                    this.layerElement.setAttribute("font-style", r),
                    this.layerElement.setAttribute("font-weight", n)
                }
                this.layerElement.setAttribute("arial-label", i.t);
                var o, s = i.l || [], l = !!this.globalData.fontManager.chars;
                e = s.length;
                var c, h = this.mHelper, p = "", d = this.data.singleShape, u = 0, m = 0, f = !0, g = i.tr / 1e3 * i.finalSize;
                if (!d || l || i.sz) {
                    var y, v, b = this.textSpans.length;
                    for (t = 0; t < e; t += 1)
                        l && d && 0 !== t || (o = b > t ? this.textSpans[t] : createNS(l ? "path" : "text"),
                        b <= t && (o.setAttribute("stroke-linecap", "butt"),
                        o.setAttribute("stroke-linejoin", "round"),
                        o.setAttribute("stroke-miterlimit", "4"),
                        this.textSpans[t] = o,
                        this.layerElement.appendChild(o)),
                        o.style.display = "inherit"),
                        h.reset(),
                        h.scale(i.finalSize / 100, i.finalSize / 100),
                        d && (s[t].n && (u = -g,
                        m += i.yOffset,
                        m += f ? 1 : 0,
                        f = !1),
                        this.applyTextPropertiesToMatrix(i, h, s[t].line, u, m),
                        u += s[t].l || 0,
                        u += g),
                        l ? (c = (y = (v = this.globalData.fontManager.getCharData(i.finalText[t], a.fStyle, this.globalData.fontManager.getFontByName(i.f).fFamily)) && v.data || {}).shapes ? y.shapes[0].it : [],
                        d ? p += this.createPathShape(h, c) : o.setAttribute("d", this.createPathShape(h, c))) : (d && o.setAttribute("transform", "translate(" + h.props[12] + "," + h.props[13] + ")"),
                        o.textContent = s[t].val,
                        o.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"));
                    d && o && o.setAttribute("d", p)
                } else {
                    var A = this.textContainer
                      , _ = "start";
                    switch (i.j) {
                    case 1:
                        _ = "end";
                        break;
                    case 2:
                        _ = "middle"
                    }
                    A.setAttribute("text-anchor", _),
                    A.setAttribute("letter-spacing", g);
                    var C = this.buildTextContents(i.finalText);
                    for (e = C.length,
                    m = i.ps ? i.ps[1] + i.ascent : 0,
                    t = 0; t < e; t += 1)
                        (o = this.textSpans[t] || createNS("tspan")).textContent = C[t],
                        o.setAttribute("x", 0),
                        o.setAttribute("y", m),
                        o.style.display = "inherit",
                        A.appendChild(o),
                        this.textSpans[t] = o,
                        m += i.finalLineHeight;
                    this.layerElement.appendChild(A)
                }
                for (; t < this.textSpans.length; )
                    this.textSpans[t].style.display = "none",
                    t += 1;
                this._sizeChanged = !0
            }
            ,
            SVGTextElement.prototype.sourceRectAtTime = function(t) {
                if (this.prepareFrame(this.comp.renderedFrame - this.data.st),
                this.renderInnerContent(),
                this._sizeChanged) {
                    this._sizeChanged = !1;
                    var e = this.layerElement.getBBox();
                    this.bbox = {
                        top: e.y,
                        left: e.x,
                        width: e.width,
                        height: e.height
                    }
                }
                return this.bbox
            }
            ,
            SVGTextElement.prototype.renderInnerContent = function() {
                if (!this.data.singleShape && (this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag),
                this.lettersChangedFlag || this.textAnimator.lettersChangedFlag)) {
                    var t, e;
                    this._sizeChanged = !0;
                    var i, a, n = this.textAnimator.renderedLetters, r = this.textProperty.currentData.l;
                    for (e = r.length,
                    t = 0; t < e; t += 1)
                        r[t].n || (i = n[t],
                        a = this.textSpans[t],
                        i._mdf.m && a.setAttribute("transform", i.m),
                        i._mdf.o && a.setAttribute("opacity", i.o),
                        i._mdf.sw && a.setAttribute("stroke-width", i.sw),
                        i._mdf.sc && a.setAttribute("stroke", i.sc),
                        i._mdf.fc && a.setAttribute("fill", i.fc))
                }
            }
            ,
            extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement),
            SVGShapeElement.prototype.initSecondaryElement = function() {}
            ,
            SVGShapeElement.prototype.identityMatrix = new Matrix,
            SVGShapeElement.prototype.buildExpressionInterface = function() {}
            ,
            SVGShapeElement.prototype.createContent = function() {
                this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], !0),
                this.filterUniqueShapes()
            }
            ,
            SVGShapeElement.prototype.filterUniqueShapes = function() {
                var t, e, i, a, n = this.shapes.length, r = this.stylesList.length, o = [], s = !1;
                for (i = 0; i < r; i += 1) {
                    for (a = this.stylesList[i],
                    s = !1,
                    o.length = 0,
                    t = 0; t < n; t += 1)
                        -1 !== (e = this.shapes[t]).styles.indexOf(a) && (o.push(e),
                        s = e._isAnimated || s);
                    o.length > 1 && s && this.setShapesAsAnimated(o)
                }
            }
            ,
            SVGShapeElement.prototype.setShapesAsAnimated = function(t) {
                var e, i = t.length;
                for (e = 0; e < i; e += 1)
                    t[e].setAsAnimated()
            }
            ,
            SVGShapeElement.prototype.createStyleElement = function(t, e) {
                var i, a = new SVGStyleData(t,e), n = a.pElem;
                if ("st" === t.ty)
                    i = new SVGStrokeStyleData(this,t,a);
                else if ("fl" === t.ty)
                    i = new SVGFillStyleData(this,t,a);
                else if ("gf" === t.ty || "gs" === t.ty) {
                    i = new ("gf" === t.ty ? SVGGradientFillStyleData : SVGGradientStrokeStyleData)(this,t,a),
                    this.globalData.defs.appendChild(i.gf),
                    i.maskId && (this.globalData.defs.appendChild(i.ms),
                    this.globalData.defs.appendChild(i.of),
                    n.setAttribute("mask", "url(" + locationHref + "#" + i.maskId + ")"))
                }
                return "st" !== t.ty && "gs" !== t.ty || (n.setAttribute("stroke-linecap", this.lcEnum[t.lc] || "round"),
                n.setAttribute("stroke-linejoin", this.ljEnum[t.lj] || "round"),
                n.setAttribute("fill-opacity", "0"),
                1 === t.lj && n.setAttribute("stroke-miterlimit", t.ml)),
                2 === t.r && n.setAttribute("fill-rule", "evenodd"),
                t.ln && n.setAttribute("id", t.ln),
                t.cl && n.setAttribute("class", t.cl),
                t.bm && (n.style["mix-blend-mode"] = getBlendMode(t.bm)),
                this.stylesList.push(a),
                this.addToAnimatedContents(t, i),
                i
            }
            ,
            SVGShapeElement.prototype.createGroupElement = function(t) {
                var e = new ShapeGroupData;
                return t.ln && e.gr.setAttribute("id", t.ln),
                t.cl && e.gr.setAttribute("class", t.cl),
                t.bm && (e.gr.style["mix-blend-mode"] = getBlendMode(t.bm)),
                e
            }
            ,
            SVGShapeElement.prototype.createTransformElement = function(t, e) {
                var i = TransformPropertyFactory.getTransformProperty(this, t, this)
                  , a = new SVGTransformData(i,i.o,e);
                return this.addToAnimatedContents(t, a),
                a
            }
            ,
            SVGShapeElement.prototype.createShapeElement = function(t, e, i) {
                var a = 4;
                "rc" === t.ty ? a = 5 : "el" === t.ty ? a = 6 : "sr" === t.ty && (a = 7);
                var n = new SVGShapeData(e,i,ShapePropertyFactory.getShapeProp(this, t, a, this));
                return this.shapes.push(n),
                this.addShapeToModifiers(n),
                this.addToAnimatedContents(t, n),
                n
            }
            ,
            SVGShapeElement.prototype.addToAnimatedContents = function(t, e) {
                for (var i = 0, a = this.animatedContents.length; i < a; ) {
                    if (this.animatedContents[i].element === e)
                        return;
                    i += 1
                }
                this.animatedContents.push({
                    fn: SVGElementsRenderer.createRenderFunction(t),
                    element: e,
                    data: t
                })
            }
            ,
            SVGShapeElement.prototype.setElementStyles = function(t) {
                var e, i = t.styles, a = this.stylesList.length;
                for (e = 0; e < a; e += 1)
                    this.stylesList[e].closed || i.push(this.stylesList[e])
            }
            ,
            SVGShapeElement.prototype.reloadShapes = function() {
                this._isFirstFrame = !0;
                var t, e = this.itemsData.length;
                for (t = 0; t < e; t += 1)
                    this.prevViewData[t] = this.itemsData[t];
                for (this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], !0),
                this.filterUniqueShapes(),
                e = this.dynamicProperties.length,
                t = 0; t < e; t += 1)
                    this.dynamicProperties[t].getValue();
                this.renderModifiers()
            }
            ,
            SVGShapeElement.prototype.searchShapes = function(t, e, i, a, n, r, o) {
                var s, l, c, h, p, d, u = [].concat(r), m = t.length - 1, f = [], g = [];
                for (s = m; s >= 0; s -= 1) {
                    if ((d = this.searchProcessedElement(t[s])) ? e[s] = i[d - 1] : t[s]._render = o,
                    "fl" == t[s].ty || "st" == t[s].ty || "gf" == t[s].ty || "gs" == t[s].ty)
                        d ? e[s].style.closed = !1 : e[s] = this.createStyleElement(t[s], n),
                        t[s]._render && a.appendChild(e[s].style.pElem),
                        f.push(e[s].style);
                    else if ("gr" == t[s].ty) {
                        if (d)
                            for (c = e[s].it.length,
                            l = 0; l < c; l += 1)
                                e[s].prevViewData[l] = e[s].it[l];
                        else
                            e[s] = this.createGroupElement(t[s]);
                        this.searchShapes(t[s].it, e[s].it, e[s].prevViewData, e[s].gr, n + 1, u, o),
                        t[s]._render && a.appendChild(e[s].gr)
                    } else
                        "tr" == t[s].ty ? (d || (e[s] = this.createTransformElement(t[s], a)),
                        h = e[s].transform,
                        u.push(h)) : "sh" == t[s].ty || "rc" == t[s].ty || "el" == t[s].ty || "sr" == t[s].ty ? (d || (e[s] = this.createShapeElement(t[s], u, n)),
                        this.setElementStyles(e[s])) : "tm" == t[s].ty || "rd" == t[s].ty || "ms" == t[s].ty ? (d ? (p = e[s]).closed = !1 : ((p = ShapeModifiers.getModifier(t[s].ty)).init(this, t[s]),
                        e[s] = p,
                        this.shapeModifiers.push(p)),
                        g.push(p)) : "rp" == t[s].ty && (d ? (p = e[s]).closed = !0 : (p = ShapeModifiers.getModifier(t[s].ty),
                        e[s] = p,
                        p.init(this, t, s, e),
                        this.shapeModifiers.push(p),
                        o = !1),
                        g.push(p));
                    this.addProcessedElement(t[s], s + 1)
                }
                for (m = f.length,
                s = 0; s < m; s += 1)
                    f[s].closed = !0;
                for (m = g.length,
                s = 0; s < m; s += 1)
                    g[s].closed = !0
            }
            ,
            SVGShapeElement.prototype.renderInnerContent = function() {
                this.renderModifiers();
                var t, e = this.stylesList.length;
                for (t = 0; t < e; t += 1)
                    this.stylesList[t].reset();
                for (this.renderShape(),
                t = 0; t < e; t += 1)
                    (this.stylesList[t]._mdf || this._isFirstFrame) && (this.stylesList[t].msElem && (this.stylesList[t].msElem.setAttribute("d", this.stylesList[t].d),
                    this.stylesList[t].d = "M0 0" + this.stylesList[t].d),
                    this.stylesList[t].pElem.setAttribute("d", this.stylesList[t].d || "M0 0"))
            }
            ,
            SVGShapeElement.prototype.renderShape = function() {
                var t, e, i = this.animatedContents.length;
                for (t = 0; t < i; t += 1)
                    e = this.animatedContents[t],
                    (this._isFirstFrame || e.element._isAnimated) && !0 !== e.data && e.fn(e.data, e.element, this._isFirstFrame)
            }
            ,
            SVGShapeElement.prototype.destroy = function() {
                this.destroyBaseElement(),
                this.shapesData = null,
                this.itemsData = null
            }
            ,
            SVGTintFilter.prototype.renderFrame = function(t) {
                if (t || this.filterManager._mdf) {
                    var e = this.filterManager.effectElements[0].p.v
                      , i = this.filterManager.effectElements[1].p.v
                      , a = this.filterManager.effectElements[2].p.v / 100;
                    this.matrixFilter.setAttribute("values", i[0] - e[0] + " 0 0 0 " + e[0] + " " + (i[1] - e[1]) + " 0 0 0 " + e[1] + " " + (i[2] - e[2]) + " 0 0 0 " + e[2] + " 0 0 0 " + a + " 0")
                }
            }
            ,
            SVGFillFilter.prototype.renderFrame = function(t) {
                if (t || this.filterManager._mdf) {
                    var e = this.filterManager.effectElements[2].p.v
                      , i = this.filterManager.effectElements[6].p.v;
                    this.matrixFilter.setAttribute("values", "0 0 0 0 " + e[0] + " 0 0 0 0 " + e[1] + " 0 0 0 0 " + e[2] + " 0 0 0 " + i + " 0")
                }
            }
            ,
            SVGGaussianBlurEffect.prototype.renderFrame = function(t) {
                if (t || this.filterManager._mdf) {
                    var e = .3 * this.filterManager.effectElements[0].p.v
                      , i = this.filterManager.effectElements[1].p.v
                      , a = 3 == i ? 0 : e
                      , n = 2 == i ? 0 : e;
                    this.feGaussianBlur.setAttribute("stdDeviation", a + " " + n);
                    var r = 1 == this.filterManager.effectElements[2].p.v ? "wrap" : "duplicate";
                    this.feGaussianBlur.setAttribute("edgeMode", r)
                }
            }
            ,
            SVGStrokeEffect.prototype.initialize = function() {
                var t, e, i, a, n = this.elem.layerElement.children || this.elem.layerElement.childNodes;
                for (1 === this.filterManager.effectElements[1].p.v ? (a = this.elem.maskManager.masksProperties.length,
                i = 0) : a = (i = this.filterManager.effectElements[0].p.v - 1) + 1,
                (e = createNS("g")).setAttribute("fill", "none"),
                e.setAttribute("stroke-linecap", "round"),
                e.setAttribute("stroke-dashoffset", 1); i < a; i += 1)
                    t = createNS("path"),
                    e.appendChild(t),
                    this.paths.push({
                        p: t,
                        m: i
                    });
                if (3 === this.filterManager.effectElements[10].p.v) {
                    var r = createNS("mask")
                      , o = createElementID();
                    r.setAttribute("id", o),
                    r.setAttribute("mask-type", "alpha"),
                    r.appendChild(e),
                    this.elem.globalData.defs.appendChild(r);
                    var s = createNS("g");
                    for (s.setAttribute("mask", "url(" + locationHref + "#" + o + ")"); n[0]; )
                        s.appendChild(n[0]);
                    this.elem.layerElement.appendChild(s),
                    this.masker = r,
                    e.setAttribute("stroke", "#fff")
                } else if (1 === this.filterManager.effectElements[10].p.v || 2 === this.filterManager.effectElements[10].p.v) {
                    if (2 === this.filterManager.effectElements[10].p.v)
                        for (n = this.elem.layerElement.children || this.elem.layerElement.childNodes; n.length; )
                            this.elem.layerElement.removeChild(n[0]);
                    this.elem.layerElement.appendChild(e),
                    this.elem.layerElement.removeAttribute("mask"),
                    e.setAttribute("stroke", "#fff")
                }
                this.initialized = !0,
                this.pathMasker = e
            }
            ,
            SVGStrokeEffect.prototype.renderFrame = function(t) {
                this.initialized || this.initialize();
                var e, i, a, n = this.paths.length;
                for (e = 0; e < n; e += 1)
                    if (-1 !== this.paths[e].m && (i = this.elem.maskManager.viewData[this.paths[e].m],
                    a = this.paths[e].p,
                    (t || this.filterManager._mdf || i.prop._mdf) && a.setAttribute("d", i.lastPath),
                    t || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || i.prop._mdf)) {
                        var r;
                        if (0 !== this.filterManager.effectElements[7].p.v || 100 !== this.filterManager.effectElements[8].p.v) {
                            var o = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) / 100
                              , s = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) / 100
                              , l = a.getTotalLength();
                            r = "0 0 0 " + l * o + " ";
                            var c, h = l * (s - o), p = 1 + 2 * this.filterManager.effectElements[4].p.v * this.filterManager.effectElements[9].p.v / 100, d = Math.floor(h / p);
                            for (c = 0; c < d; c += 1)
                                r += "1 " + 2 * this.filterManager.effectElements[4].p.v * this.filterManager.effectElements[9].p.v / 100 + " ";
                            r += "0 " + 10 * l + " 0 0"
                        } else
                            r = "1 " + 2 * this.filterManager.effectElements[4].p.v * this.filterManager.effectElements[9].p.v / 100;
                        a.setAttribute("stroke-dasharray", r)
                    }
                if ((t || this.filterManager.effectElements[4].p._mdf) && this.pathMasker.setAttribute("stroke-width", 2 * this.filterManager.effectElements[4].p.v),
                (t || this.filterManager.effectElements[6].p._mdf) && this.pathMasker.setAttribute("opacity", this.filterManager.effectElements[6].p.v),
                (1 === this.filterManager.effectElements[10].p.v || 2 === this.filterManager.effectElements[10].p.v) && (t || this.filterManager.effectElements[3].p._mdf)) {
                    var u = this.filterManager.effectElements[3].p.v;
                    this.pathMasker.setAttribute("stroke", "rgb(" + bm_floor(255 * u[0]) + "," + bm_floor(255 * u[1]) + "," + bm_floor(255 * u[2]) + ")")
                }
            }
            ,
            SVGTritoneFilter.prototype.renderFrame = function(t) {
                if (t || this.filterManager._mdf) {
                    var e = this.filterManager.effectElements[0].p.v
                      , i = this.filterManager.effectElements[1].p.v
                      , a = this.filterManager.effectElements[2].p.v
                      , n = a[0] + " " + i[0] + " " + e[0]
                      , r = a[1] + " " + i[1] + " " + e[1]
                      , o = a[2] + " " + i[2] + " " + e[2];
                    this.feFuncR.setAttribute("tableValues", n),
                    this.feFuncG.setAttribute("tableValues", r),
                    this.feFuncB.setAttribute("tableValues", o)
                }
            }
            ,
            SVGProLevelsFilter.prototype.createFeFunc = function(t, e) {
                var i = createNS(t);
                return i.setAttribute("type", "table"),
                e.appendChild(i),
                i
            }
            ,
            SVGProLevelsFilter.prototype.getTableValue = function(t, e, i, a, n) {
                for (var r, o, s = 0, l = Math.min(t, e), c = Math.max(t, e), h = Array.call(null, {
                    length: 256
                }), p = 0, d = n - a, u = e - t; s <= 256; )
                    o = (r = s / 256) <= l ? u < 0 ? n : a : r >= c ? u < 0 ? a : n : a + d * Math.pow((r - t) / u, 1 / i),
                    h[p++] = o,
                    s += 256 / 255;
                return h.join(" ")
            }
            ,
            SVGProLevelsFilter.prototype.renderFrame = function(t) {
                if (t || this.filterManager._mdf) {
                    var e, i = this.filterManager.effectElements;
                    this.feFuncRComposed && (t || i[3].p._mdf || i[4].p._mdf || i[5].p._mdf || i[6].p._mdf || i[7].p._mdf) && (e = this.getTableValue(i[3].p.v, i[4].p.v, i[5].p.v, i[6].p.v, i[7].p.v),
                    this.feFuncRComposed.setAttribute("tableValues", e),
                    this.feFuncGComposed.setAttribute("tableValues", e),
                    this.feFuncBComposed.setAttribute("tableValues", e)),
                    this.feFuncR && (t || i[10].p._mdf || i[11].p._mdf || i[12].p._mdf || i[13].p._mdf || i[14].p._mdf) && (e = this.getTableValue(i[10].p.v, i[11].p.v, i[12].p.v, i[13].p.v, i[14].p.v),
                    this.feFuncR.setAttribute("tableValues", e)),
                    this.feFuncG && (t || i[17].p._mdf || i[18].p._mdf || i[19].p._mdf || i[20].p._mdf || i[21].p._mdf) && (e = this.getTableValue(i[17].p.v, i[18].p.v, i[19].p.v, i[20].p.v, i[21].p.v),
                    this.feFuncG.setAttribute("tableValues", e)),
                    this.feFuncB && (t || i[24].p._mdf || i[25].p._mdf || i[26].p._mdf || i[27].p._mdf || i[28].p._mdf) && (e = this.getTableValue(i[24].p.v, i[25].p.v, i[26].p.v, i[27].p.v, i[28].p.v),
                    this.feFuncB.setAttribute("tableValues", e)),
                    this.feFuncA && (t || i[31].p._mdf || i[32].p._mdf || i[33].p._mdf || i[34].p._mdf || i[35].p._mdf) && (e = this.getTableValue(i[31].p.v, i[32].p.v, i[33].p.v, i[34].p.v, i[35].p.v),
                    this.feFuncA.setAttribute("tableValues", e))
                }
            }
            ,
            SVGDropShadowEffect.prototype.renderFrame = function(t) {
                if (t || this.filterManager._mdf) {
                    if ((t || this.filterManager.effectElements[4].p._mdf) && this.feGaussianBlur.setAttribute("stdDeviation", this.filterManager.effectElements[4].p.v / 4),
                    t || this.filterManager.effectElements[0].p._mdf) {
                        var e = this.filterManager.effectElements[0].p.v;
                        this.feFlood.setAttribute("flood-color", rgbToHex(Math.round(255 * e[0]), Math.round(255 * e[1]), Math.round(255 * e[2])))
                    }
                    if ((t || this.filterManager.effectElements[1].p._mdf) && this.feFlood.setAttribute("flood-opacity", this.filterManager.effectElements[1].p.v / 255),
                    t || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {
                        var i = this.filterManager.effectElements[3].p.v
                          , a = (this.filterManager.effectElements[2].p.v - 90) * degToRads
                          , n = i * Math.cos(a)
                          , r = i * Math.sin(a);
                        this.feOffset.setAttribute("dx", n),
                        this.feOffset.setAttribute("dy", r)
                    }
                }
            }
            ;
            var _svgMatteSymbols = [];
            function SVGMatte3Effect(t, e, i) {
                this.initialized = !1,
                this.filterManager = e,
                this.filterElem = t,
                this.elem = i,
                i.matteElement = createNS("g"),
                i.matteElement.appendChild(i.layerElement),
                i.matteElement.appendChild(i.transformedElement),
                i.baseElement = i.matteElement
            }
            function SVGEffects(t) {
                var e, i, a = t.data.ef ? t.data.ef.length : 0, n = createElementID(), r = filtersFactory.createFilter(n), o = 0;
                for (this.filters = [],
                e = 0; e < a; e += 1)
                    i = null,
                    20 === t.data.ef[e].ty ? (o += 1,
                    i = new SVGTintFilter(r,t.effectsManager.effectElements[e])) : 21 === t.data.ef[e].ty ? (o += 1,
                    i = new SVGFillFilter(r,t.effectsManager.effectElements[e])) : 22 === t.data.ef[e].ty ? i = new SVGStrokeEffect(t,t.effectsManager.effectElements[e]) : 23 === t.data.ef[e].ty ? (o += 1,
                    i = new SVGTritoneFilter(r,t.effectsManager.effectElements[e])) : 24 === t.data.ef[e].ty ? (o += 1,
                    i = new SVGProLevelsFilter(r,t.effectsManager.effectElements[e])) : 25 === t.data.ef[e].ty ? (o += 1,
                    i = new SVGDropShadowEffect(r,t.effectsManager.effectElements[e])) : 28 === t.data.ef[e].ty ? i = new SVGMatte3Effect(r,t.effectsManager.effectElements[e],t) : 29 === t.data.ef[e].ty && (o += 1,
                    i = new SVGGaussianBlurEffect(r,t.effectsManager.effectElements[e])),
                    i && this.filters.push(i);
                o && (t.globalData.defs.appendChild(r),
                t.layerElement.setAttribute("filter", "url(" + locationHref + "#" + n + ")")),
                this.filters.length && t.addRenderableComponent(this)
            }
            function CVContextData() {
                this.saved = [],
                this.cArrPos = 0,
                this.cTr = new Matrix,
                this.cO = 1;
                var t;
                for (this.savedOp = createTypedArray("float32", 15),
                t = 0; t < 15; t += 1)
                    this.saved[t] = createTypedArray("float32", 16);
                this._length = 15
            }
            function CVBaseElement() {}
            function CVImageElement(t, e, i) {
                this.failed = !1,
                this.assetData = e.getAssetData(t.refId),
                this.img = e.imageLoader.getImage(this.assetData),
                this.initElement(t, e, i)
            }
            function CVCompElement(t, e, i) {
                this.completeLayers = !1,
                this.layers = t.layers,
                this.pendingElements = [],
                this.elements = createSizedArray(this.layers.length),
                this.initElement(t, e, i),
                this.tm = t.tm ? PropertyFactory.getProp(this, t.tm, 0, e.frameRate, this) : {
                    _placeholder: !0
                }
            }
            function CVMaskElement(t, e) {
                this.data = t,
                this.element = e,
                this.masksProperties = this.data.masksProperties || [],
                this.viewData = createSizedArray(this.masksProperties.length);
                var i, a = this.masksProperties.length, n = !1;
                for (i = 0; i < a; i++)
                    "n" !== this.masksProperties[i].mode && (n = !0),
                    this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);
                this.hasMasks = n,
                n && this.element.addRenderableComponent(this)
            }
            function CVShapeElement(t, e, i) {
                this.shapes = [],
                this.shapesData = t.shapes,
                this.stylesList = [],
                this.itemsData = [],
                this.prevViewData = [],
                this.shapeModifiers = [],
                this.processedElements = [],
                this.transformsManager = new ShapeTransformManager,
                this.initElement(t, e, i)
            }
            function CVSolidElement(t, e, i) {
                this.initElement(t, e, i)
            }
            function CVTextElement(t, e, i) {
                this.textSpans = [],
                this.yOffset = 0,
                this.fillColorAnim = !1,
                this.strokeColorAnim = !1,
                this.strokeWidthAnim = !1,
                this.stroke = !1,
                this.fill = !1,
                this.justifyOffset = 0,
                this.currentRender = null,
                this.renderType = "canvas",
                this.values = {
                    fill: "rgba(0,0,0,0)",
                    stroke: "rgba(0,0,0,0)",
                    sWidth: 0,
                    fValue: ""
                },
                this.initElement(t, e, i)
            }
            function CVEffects() {}
            function HBaseElement(t, e, i) {}
            function HSolidElement(t, e, i) {
                this.initElement(t, e, i)
            }
            function HCompElement(t, e, i) {
                this.layers = t.layers,
                this.supports3d = !t.hasMask,
                this.completeLayers = !1,
                this.pendingElements = [],
                this.elements = this.layers ? createSizedArray(this.layers.length) : [],
                this.initElement(t, e, i),
                this.tm = t.tm ? PropertyFactory.getProp(this, t.tm, 0, e.frameRate, this) : {
                    _placeholder: !0
                }
            }
            function HShapeElement(t, e, i) {
                this.shapes = [],
                this.shapesData = t.shapes,
                this.stylesList = [],
                this.shapeModifiers = [],
                this.itemsData = [],
                this.processedElements = [],
                this.animatedContents = [],
                this.shapesContainer = createNS("g"),
                this.initElement(t, e, i),
                this.prevViewData = [],
                this.currentBBox = {
                    x: 999999,
                    y: -999999,
                    h: 0,
                    w: 0
                }
            }
            function HTextElement(t, e, i) {
                this.textSpans = [],
                this.textPaths = [],
                this.currentBBox = {
                    x: 999999,
                    y: -999999,
                    h: 0,
                    w: 0
                },
                this.renderType = "svg",
                this.isMasked = !1,
                this.initElement(t, e, i)
            }
            function HImageElement(t, e, i) {
                this.assetData = e.getAssetData(t.refId),
                this.initElement(t, e, i)
            }
            function HCameraElement(t, e, i) {
                this.initFrame(),
                this.initBaseData(t, e, i),
                this.initHierarchy();
                var a = PropertyFactory.getProp;
                if (this.pe = a(this, t.pe, 0, 0, this),
                t.ks.p.s ? (this.px = a(this, t.ks.p.x, 1, 0, this),
                this.py = a(this, t.ks.p.y, 1, 0, this),
                this.pz = a(this, t.ks.p.z, 1, 0, this)) : this.p = a(this, t.ks.p, 1, 0, this),
                t.ks.a && (this.a = a(this, t.ks.a, 1, 0, this)),
                t.ks.or.k.length && t.ks.or.k[0].to) {
                    var n, r = t.ks.or.k.length;
                    for (n = 0; n < r; n += 1)
                        t.ks.or.k[n].to = null,
                        t.ks.or.k[n].ti = null
                }
                this.or = a(this, t.ks.or, 1, degToRads, this),
                this.or.sh = !0,
                this.rx = a(this, t.ks.rx, 0, degToRads, this),
                this.ry = a(this, t.ks.ry, 0, degToRads, this),
                this.rz = a(this, t.ks.rz, 0, degToRads, this),
                this.mat = new Matrix,
                this._prevMat = new Matrix,
                this._isFirstFrame = !0,
                this.finalTransform = {
                    mProp: this
                }
            }
            function HEffects() {}
            SVGMatte3Effect.prototype.findSymbol = function(t) {
                for (var e = 0, i = _svgMatteSymbols.length; e < i; ) {
                    if (_svgMatteSymbols[e] === t)
                        return _svgMatteSymbols[e];
                    e += 1
                }
                return null
            }
            ,
            SVGMatte3Effect.prototype.replaceInParent = function(t, e) {
                var i = t.layerElement.parentNode;
                if (i) {
                    for (var a, n = i.children, r = 0, o = n.length; r < o && n[r] !== t.layerElement; )
                        r += 1;
                    r <= o - 2 && (a = n[r + 1]);
                    var s = createNS("use");
                    s.setAttribute("href", "#" + e),
                    a ? i.insertBefore(s, a) : i.appendChild(s)
                }
            }
            ,
            SVGMatte3Effect.prototype.setElementAsMask = function(t, e) {
                if (!this.findSymbol(e)) {
                    var i = createElementID()
                      , a = createNS("mask");
                    a.setAttribute("id", e.layerId),
                    a.setAttribute("mask-type", "alpha"),
                    _svgMatteSymbols.push(e);
                    var n = t.globalData.defs;
                    n.appendChild(a);
                    var r = createNS("symbol");
                    r.setAttribute("id", i),
                    this.replaceInParent(e, i),
                    r.appendChild(e.layerElement),
                    n.appendChild(r);
                    var o = createNS("use");
                    o.setAttribute("href", "#" + i),
                    a.appendChild(o),
                    e.data.hd = !1,
                    e.show()
                }
                t.setMatte(e.layerId)
            }
            ,
            SVGMatte3Effect.prototype.initialize = function() {
                for (var t = this.filterManager.effectElements[0].p.v, e = this.elem.comp.elements, i = 0, a = e.length; i < a; )
                    e[i] && e[i].data.ind === t && this.setElementAsMask(this.elem, e[i]),
                    i += 1;
                this.initialized = !0
            }
            ,
            SVGMatte3Effect.prototype.renderFrame = function() {
                this.initialized || this.initialize()
            }
            ,
            SVGEffects.prototype.renderFrame = function(t) {
                var e, i = this.filters.length;
                for (e = 0; e < i; e += 1)
                    this.filters[e].renderFrame(t)
            }
            ,
            CVContextData.prototype.duplicate = function() {
                var t = 2 * this._length
                  , e = this.savedOp;
                this.savedOp = createTypedArray("float32", t),
                this.savedOp.set(e);
                var i = 0;
                for (i = this._length; i < t; i += 1)
                    this.saved[i] = createTypedArray("float32", 16);
                this._length = t
            }
            ,
            CVContextData.prototype.reset = function() {
                this.cArrPos = 0,
                this.cTr.reset(),
                this.cO = 1
            }
            ,
            CVBaseElement.prototype = {
                createElements: function() {},
                initRendererElement: function() {},
                createContainerElements: function() {
                    this.canvasContext = this.globalData.canvasContext,
                    this.renderableEffectsManager = new CVEffects(this)
                },
                createContent: function() {},
                setBlendMode: function() {
                    var t = this.globalData;
                    if (t.blendMode !== this.data.bm) {
                        t.blendMode = this.data.bm;
                        var e = getBlendMode(this.data.bm);
                        t.canvasContext.globalCompositeOperation = e
                    }
                },
                createRenderableComponents: function() {
                    this.maskManager = new CVMaskElement(this.data,this)
                },
                hideElement: function() {
                    this.hidden || this.isInRange && !this.isTransparent || (this.hidden = !0)
                },
                showElement: function() {
                    this.isInRange && !this.isTransparent && (this.hidden = !1,
                    this._isFirstFrame = !0,
                    this.maskManager._isFirstFrame = !0)
                },
                renderFrame: function() {
                    this.hidden || this.data.hd || (this.renderTransform(),
                    this.renderRenderable(),
                    this.setBlendMode(),
                    this.globalData.renderer.save(),
                    this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),
                    this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),
                    this.renderInnerContent(),
                    this.globalData.renderer.restore(),
                    this.maskManager.hasMasks && this.globalData.renderer.restore(!0),
                    this._isFirstFrame && (this._isFirstFrame = !1))
                },
                destroy: function() {
                    this.canvasContext = null,
                    this.data = null,
                    this.globalData = null,
                    this.maskManager.destroy()
                },
                mHelper: new Matrix
            },
            CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement,
            CVBaseElement.prototype.show = CVBaseElement.prototype.showElement,
            extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement),
            CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement,
            CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame,
            CVImageElement.prototype.createContent = function() {
                if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {
                    var t = createTag("canvas");
                    t.width = this.assetData.w,
                    t.height = this.assetData.h;
                    var e, i, a = t.getContext("2d"), n = this.img.width, r = this.img.height, o = n / r, s = this.assetData.w / this.assetData.h, l = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;
                    o > s && "xMidYMid slice" === l || o < s && "xMidYMid slice" !== l ? e = (i = r) * s : i = (e = n) / s,
                    a.drawImage(this.img, (n - e) / 2, (r - i) / 2, e, i, 0, 0, this.assetData.w, this.assetData.h),
                    this.img = t
                }
            }
            ,
            CVImageElement.prototype.renderInnerContent = function(t) {
                this.failed || this.canvasContext.drawImage(this.img, 0, 0)
            }
            ,
            CVImageElement.prototype.destroy = function() {
                this.img = null
            }
            ,
            extendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement),
            CVCompElement.prototype.renderInnerContent = function() {
                var t;
                for (t = this.layers.length - 1; t >= 0; t -= 1)
                    (this.completeLayers || this.elements[t]) && this.elements[t].renderFrame()
            }
            ,
            CVCompElement.prototype.destroy = function() {
                var t;
                for (t = this.layers.length - 1; t >= 0; t -= 1)
                    this.elements[t] && this.elements[t].destroy();
                this.layers = null,
                this.elements = null
            }
            ,
            CVMaskElement.prototype.renderFrame = function() {
                if (this.hasMasks) {
                    var t, e, i, a, n = this.element.finalTransform.mat, r = this.element.canvasContext, o = this.masksProperties.length;
                    for (r.beginPath(),
                    t = 0; t < o; t++)
                        if ("n" !== this.masksProperties[t].mode) {
                            this.masksProperties[t].inv && (r.moveTo(0, 0),
                            r.lineTo(this.element.globalData.compSize.w, 0),
                            r.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h),
                            r.lineTo(0, this.element.globalData.compSize.h),
                            r.lineTo(0, 0)),
                            a = this.viewData[t].v,
                            e = n.applyToPointArray(a.v[0][0], a.v[0][1], 0),
                            r.moveTo(e[0], e[1]);
                            var s, l = a._length;
                            for (s = 1; s < l; s++)
                                i = n.applyToTriplePoints(a.o[s - 1], a.i[s], a.v[s]),
                                r.bezierCurveTo(i[0], i[1], i[2], i[3], i[4], i[5]);
                            i = n.applyToTriplePoints(a.o[s - 1], a.i[0], a.v[0]),
                            r.bezierCurveTo(i[0], i[1], i[2], i[3], i[4], i[5])
                        }
                    this.element.globalData.renderer.save(!0),
                    r.clip()
                }
            }
            ,
            CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty,
            CVMaskElement.prototype.destroy = function() {
                this.element = null
            }
            ,
            extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement),
            CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement,
            CVShapeElement.prototype.transformHelper = {
                opacity: 1,
                _opMdf: !1
            },
            CVShapeElement.prototype.dashResetter = [],
            CVShapeElement.prototype.createContent = function() {
                this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, !0, [])
            }
            ,
            CVShapeElement.prototype.createStyleElement = function(t, e) {
                var i = {
                    data: t,
                    type: t.ty,
                    preTransforms: this.transformsManager.addTransformSequence(e),
                    transforms: [],
                    elements: [],
                    closed: !0 === t.hd
                }
                  , a = {};
                if ("fl" == t.ty || "st" == t.ty ? (a.c = PropertyFactory.getProp(this, t.c, 1, 255, this),
                a.c.k || (i.co = "rgb(" + bm_floor(a.c.v[0]) + "," + bm_floor(a.c.v[1]) + "," + bm_floor(a.c.v[2]) + ")")) : "gf" !== t.ty && "gs" !== t.ty || (a.s = PropertyFactory.getProp(this, t.s, 1, null, this),
                a.e = PropertyFactory.getProp(this, t.e, 1, null, this),
                a.h = PropertyFactory.getProp(this, t.h || {
                    k: 0
                }, 0, .01, this),
                a.a = PropertyFactory.getProp(this, t.a || {
                    k: 0
                }, 0, degToRads, this),
                a.g = new GradientProperty(this,t.g,this)),
                a.o = PropertyFactory.getProp(this, t.o, 0, .01, this),
                "st" == t.ty || "gs" == t.ty) {
                    if (i.lc = this.lcEnum[t.lc] || "round",
                    i.lj = this.ljEnum[t.lj] || "round",
                    1 == t.lj && (i.ml = t.ml),
                    a.w = PropertyFactory.getProp(this, t.w, 0, null, this),
                    a.w.k || (i.wi = a.w.v),
                    t.d) {
                        var n = new DashProperty(this,t.d,"canvas",this);
                        a.d = n,
                        a.d.k || (i.da = a.d.dashArray,
                        i.do = a.d.dashoffset[0])
                    }
                } else
                    i.r = 2 === t.r ? "evenodd" : "nonzero";
                return this.stylesList.push(i),
                a.style = i,
                a
            }
            ,
            CVShapeElement.prototype.createGroupElement = function(t) {
                return {
                    it: [],
                    prevViewData: []
                }
            }
            ,
            CVShapeElement.prototype.createTransformElement = function(t) {
                return {
                    transform: {
                        opacity: 1,
                        _opMdf: !1,
                        key: this.transformsManager.getNewKey(),
                        op: PropertyFactory.getProp(this, t.o, 0, .01, this),
                        mProps: TransformPropertyFactory.getTransformProperty(this, t, this)
                    }
                }
            }
            ,
            CVShapeElement.prototype.createShapeElement = function(t) {
                var e = new CVShapeData(this,t,this.stylesList,this.transformsManager);
                return this.shapes.push(e),
                this.addShapeToModifiers(e),
                e
            }
            ,
            CVShapeElement.prototype.reloadShapes = function() {
                this._isFirstFrame = !0;
                var t, e = this.itemsData.length;
                for (t = 0; t < e; t += 1)
                    this.prevViewData[t] = this.itemsData[t];
                for (this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, !0, []),
                e = this.dynamicProperties.length,
                t = 0; t < e; t += 1)
                    this.dynamicProperties[t].getValue();
                this.renderModifiers(),
                this.transformsManager.processSequences(this._isFirstFrame)
            }
            ,
            CVShapeElement.prototype.addTransformToStyleList = function(t) {
                var e, i = this.stylesList.length;
                for (e = 0; e < i; e += 1)
                    this.stylesList[e].closed || this.stylesList[e].transforms.push(t)
            }
            ,
            CVShapeElement.prototype.removeTransformFromStyleList = function() {
                var t, e = this.stylesList.length;
                for (t = 0; t < e; t += 1)
                    this.stylesList[t].closed || this.stylesList[t].transforms.pop()
            }
            ,
            CVShapeElement.prototype.closeStyles = function(t) {
                var e, i = t.length;
                for (e = 0; e < i; e += 1)
                    t[e].closed = !0
            }
            ,
            CVShapeElement.prototype.searchShapes = function(t, e, i, a, n) {
                var r, o, s, l, c, h, p = t.length - 1, d = [], u = [], m = [].concat(n);
                for (r = p; r >= 0; r -= 1) {
                    if ((l = this.searchProcessedElement(t[r])) ? e[r] = i[l - 1] : t[r]._shouldRender = a,
                    "fl" == t[r].ty || "st" == t[r].ty || "gf" == t[r].ty || "gs" == t[r].ty)
                        l ? e[r].style.closed = !1 : e[r] = this.createStyleElement(t[r], m),
                        d.push(e[r].style);
                    else if ("gr" == t[r].ty) {
                        if (l)
                            for (s = e[r].it.length,
                            o = 0; o < s; o += 1)
                                e[r].prevViewData[o] = e[r].it[o];
                        else
                            e[r] = this.createGroupElement(t[r]);
                        this.searchShapes(t[r].it, e[r].it, e[r].prevViewData, a, m)
                    } else
                        "tr" == t[r].ty ? (l || (h = this.createTransformElement(t[r]),
                        e[r] = h),
                        m.push(e[r]),
                        this.addTransformToStyleList(e[r])) : "sh" == t[r].ty || "rc" == t[r].ty || "el" == t[r].ty || "sr" == t[r].ty ? l || (e[r] = this.createShapeElement(t[r])) : "tm" == t[r].ty || "rd" == t[r].ty ? (l ? (c = e[r]).closed = !1 : ((c = ShapeModifiers.getModifier(t[r].ty)).init(this, t[r]),
                        e[r] = c,
                        this.shapeModifiers.push(c)),
                        u.push(c)) : "rp" == t[r].ty && (l ? (c = e[r]).closed = !0 : (c = ShapeModifiers.getModifier(t[r].ty),
                        e[r] = c,
                        c.init(this, t, r, e),
                        this.shapeModifiers.push(c),
                        a = !1),
                        u.push(c));
                    this.addProcessedElement(t[r], r + 1)
                }
                for (this.removeTransformFromStyleList(),
                this.closeStyles(d),
                p = u.length,
                r = 0; r < p; r += 1)
                    u[r].closed = !0
            }
            ,
            CVShapeElement.prototype.renderInnerContent = function() {
                this.transformHelper.opacity = 1,
                this.transformHelper._opMdf = !1,
                this.renderModifiers(),
                this.transformsManager.processSequences(this._isFirstFrame),
                this.renderShape(this.transformHelper, this.shapesData, this.itemsData, !0)
            }
            ,
            CVShapeElement.prototype.renderShapeTransform = function(t, e) {
                (t._opMdf || e.op._mdf || this._isFirstFrame) && (e.opacity = t.opacity,
                e.opacity *= e.op.v,
                e._opMdf = !0)
            }
            ,
            CVShapeElement.prototype.drawLayer = function() {
                var t, e, i, a, n, r, o, s, l, c = this.stylesList.length, h = this.globalData.renderer, p = this.globalData.canvasContext;
                for (t = 0; t < c; t += 1)
                    if (("st" !== (s = (l = this.stylesList[t]).type) && "gs" !== s || 0 !== l.wi) && l.data._shouldRender && 0 !== l.coOp && 0 !== this.globalData.currentGlobalAlpha) {
                        for (h.save(),
                        r = l.elements,
                        "st" === s || "gs" === s ? (p.strokeStyle = "st" === s ? l.co : l.grd,
                        p.lineWidth = l.wi,
                        p.lineCap = l.lc,
                        p.lineJoin = l.lj,
                        p.miterLimit = l.ml || 0) : p.fillStyle = "fl" === s ? l.co : l.grd,
                        h.ctxOpacity(l.coOp),
                        "st" !== s && "gs" !== s && p.beginPath(),
                        h.ctxTransform(l.preTransforms.finalTransform.props),
                        i = r.length,
                        e = 0; e < i; e += 1) {
                            for ("st" !== s && "gs" !== s || (p.beginPath(),
                            l.da && (p.setLineDash(l.da),
                            p.lineDashOffset = l.do)),
                            n = (o = r[e].trNodes).length,
                            a = 0; a < n; a += 1)
                                "m" == o[a].t ? p.moveTo(o[a].p[0], o[a].p[1]) : "c" == o[a].t ? p.bezierCurveTo(o[a].pts[0], o[a].pts[1], o[a].pts[2], o[a].pts[3], o[a].pts[4], o[a].pts[5]) : p.closePath();
                            "st" !== s && "gs" !== s || (p.stroke(),
                            l.da && p.setLineDash(this.dashResetter))
                        }
                        "st" !== s && "gs" !== s && p.fill(l.r),
                        h.restore()
                    }
            }
            ,
            CVShapeElement.prototype.renderShape = function(t, e, i, a) {
                var n, r;
                for (r = t,
                n = e.length - 1; n >= 0; n -= 1)
                    "tr" == e[n].ty ? (r = i[n].transform,
                    this.renderShapeTransform(t, r)) : "sh" == e[n].ty || "el" == e[n].ty || "rc" == e[n].ty || "sr" == e[n].ty ? this.renderPath(e[n], i[n]) : "fl" == e[n].ty ? this.renderFill(e[n], i[n], r) : "st" == e[n].ty ? this.renderStroke(e[n], i[n], r) : "gf" == e[n].ty || "gs" == e[n].ty ? this.renderGradientFill(e[n], i[n], r) : "gr" == e[n].ty ? this.renderShape(r, e[n].it, i[n].it) : e[n].ty;
                a && this.drawLayer()
            }
            ,
            CVShapeElement.prototype.renderStyledShape = function(t, e) {
                if (this._isFirstFrame || e._mdf || t.transforms._mdf) {
                    var i, a, n, r = t.trNodes, o = e.paths, s = o._length;
                    r.length = 0;
                    var l = t.transforms.finalTransform;
                    for (n = 0; n < s; n += 1) {
                        var c = o.shapes[n];
                        if (c && c.v) {
                            for (a = c._length,
                            i = 1; i < a; i += 1)
                                1 === i && r.push({
                                    t: "m",
                                    p: l.applyToPointArray(c.v[0][0], c.v[0][1], 0)
                                }),
                                r.push({
                                    t: "c",
                                    pts: l.applyToTriplePoints(c.o[i - 1], c.i[i], c.v[i])
                                });
                            1 === a && r.push({
                                t: "m",
                                p: l.applyToPointArray(c.v[0][0], c.v[0][1], 0)
                            }),
                            c.c && a && (r.push({
                                t: "c",
                                pts: l.applyToTriplePoints(c.o[i - 1], c.i[0], c.v[0])
                            }),
                            r.push({
                                t: "z"
                            }))
                        }
                    }
                    t.trNodes = r
                }
            }
            ,
            CVShapeElement.prototype.renderPath = function(t, e) {
                if (!0 !== t.hd && t._shouldRender) {
                    var i, a = e.styledShapes.length;
                    for (i = 0; i < a; i += 1)
                        this.renderStyledShape(e.styledShapes[i], e.sh)
                }
            }
            ,
            CVShapeElement.prototype.renderFill = function(t, e, i) {
                var a = e.style;
                (e.c._mdf || this._isFirstFrame) && (a.co = "rgb(" + bm_floor(e.c.v[0]) + "," + bm_floor(e.c.v[1]) + "," + bm_floor(e.c.v[2]) + ")"),
                (e.o._mdf || i._opMdf || this._isFirstFrame) && (a.coOp = e.o.v * i.opacity)
            }
            ,
            CVShapeElement.prototype.renderGradientFill = function(t, e, i) {
                var a = e.style;
                if (!a.grd || e.g._mdf || e.s._mdf || e.e._mdf || 1 !== t.t && (e.h._mdf || e.a._mdf)) {
                    var n = this.globalData.canvasContext
                      , r = e.s.v
                      , o = e.e.v;
                    if (1 === t.t)
                        d = n.createLinearGradient(r[0], r[1], o[0], o[1]);
                    else
                        var s = Math.sqrt(Math.pow(r[0] - o[0], 2) + Math.pow(r[1] - o[1], 2))
                          , l = Math.atan2(o[1] - r[1], o[0] - r[0])
                          , c = s * (e.h.v >= 1 ? .99 : e.h.v <= -1 ? -.99 : e.h.v)
                          , h = Math.cos(l + e.a.v) * c + r[0]
                          , p = Math.sin(l + e.a.v) * c + r[1]
                          , d = n.createRadialGradient(h, p, 0, r[0], r[1], s);
                    var u, m = t.g.p, f = e.g.c, g = 1;
                    for (u = 0; u < m; u += 1)
                        e.g._hasOpacity && e.g._collapsable && (g = e.g.o[2 * u + 1]),
                        d.addColorStop(f[4 * u] / 100, "rgba(" + f[4 * u + 1] + "," + f[4 * u + 2] + "," + f[4 * u + 3] + "," + g + ")");
                    a.grd = d
                }
                a.coOp = e.o.v * i.opacity
            }
            ,
            CVShapeElement.prototype.renderStroke = function(t, e, i) {
                var a = e.style
                  , n = e.d;
                n && (n._mdf || this._isFirstFrame) && (a.da = n.dashArray,
                a.do = n.dashoffset[0]),
                (e.c._mdf || this._isFirstFrame) && (a.co = "rgb(" + bm_floor(e.c.v[0]) + "," + bm_floor(e.c.v[1]) + "," + bm_floor(e.c.v[2]) + ")"),
                (e.o._mdf || i._opMdf || this._isFirstFrame) && (a.coOp = e.o.v * i.opacity),
                (e.w._mdf || this._isFirstFrame) && (a.wi = e.w.v)
            }
            ,
            CVShapeElement.prototype.destroy = function() {
                this.shapesData = null,
                this.globalData = null,
                this.canvasContext = null,
                this.stylesList.length = 0,
                this.itemsData.length = 0
            }
            ,
            extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement),
            CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement,
            CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame,
            CVSolidElement.prototype.renderInnerContent = function() {
                var t = this.canvasContext;
                t.fillStyle = this.data.sc,
                t.fillRect(0, 0, this.data.sw, this.data.sh)
            }
            ,
            extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement),
            CVTextElement.prototype.tHelper = createTag("canvas").getContext("2d"),
            CVTextElement.prototype.buildNewText = function() {
                var t = this.textProperty.currentData;
                this.renderedLetters = createSizedArray(t.l ? t.l.length : 0);
                var e = !1;
                t.fc ? (e = !0,
                this.values.fill = this.buildColor(t.fc)) : this.values.fill = "rgba(0,0,0,0)",
                this.fill = e;
                var i = !1;
                t.sc && (i = !0,
                this.values.stroke = this.buildColor(t.sc),
                this.values.sWidth = t.sw);
                var a, n, r = this.globalData.fontManager.getFontByName(t.f), o = t.l, s = this.mHelper;
                this.stroke = i,
                this.values.fValue = t.finalSize + "px " + this.globalData.fontManager.getFontByName(t.f).fFamily,
                n = t.finalText.length;
                var l, c, h, p, d, u, m, f, g, y, v = this.data.singleShape, b = t.tr / 1e3 * t.finalSize, A = 0, _ = 0, C = !0, w = 0;
                for (a = 0; a < n; a += 1) {
                    for (c = (l = this.globalData.fontManager.getCharData(t.finalText[a], r.fStyle, this.globalData.fontManager.getFontByName(t.f).fFamily)) && l.data || {},
                    s.reset(),
                    v && o[a].n && (A = -b,
                    _ += t.yOffset,
                    _ += C ? 1 : 0,
                    C = !1),
                    m = (d = c.shapes ? c.shapes[0].it : []).length,
                    s.scale(t.finalSize / 100, t.finalSize / 100),
                    v && this.applyTextPropertiesToMatrix(t, s, o[a].line, A, _),
                    g = createSizedArray(m),
                    u = 0; u < m; u += 1) {
                        for (p = d[u].ks.k.i.length,
                        f = d[u].ks.k,
                        y = [],
                        h = 1; h < p; h += 1)
                            1 == h && y.push(s.applyToX(f.v[0][0], f.v[0][1], 0), s.applyToY(f.v[0][0], f.v[0][1], 0)),
                            y.push(s.applyToX(f.o[h - 1][0], f.o[h - 1][1], 0), s.applyToY(f.o[h - 1][0], f.o[h - 1][1], 0), s.applyToX(f.i[h][0], f.i[h][1], 0), s.applyToY(f.i[h][0], f.i[h][1], 0), s.applyToX(f.v[h][0], f.v[h][1], 0), s.applyToY(f.v[h][0], f.v[h][1], 0));
                        y.push(s.applyToX(f.o[h - 1][0], f.o[h - 1][1], 0), s.applyToY(f.o[h - 1][0], f.o[h - 1][1], 0), s.applyToX(f.i[0][0], f.i[0][1], 0), s.applyToY(f.i[0][0], f.i[0][1], 0), s.applyToX(f.v[0][0], f.v[0][1], 0), s.applyToY(f.v[0][0], f.v[0][1], 0)),
                        g[u] = y
                    }
                    v && (A += o[a].l,
                    A += b),
                    this.textSpans[w] ? this.textSpans[w].elem = g : this.textSpans[w] = {
                        elem: g
                    },
                    w += 1
                }
            }
            ,
            CVTextElement.prototype.renderInnerContent = function() {
                var t, e, i, a, n, r, o = this.canvasContext;
                this.finalTransform.mat.props;
                o.font = this.values.fValue,
                o.lineCap = "butt",
                o.lineJoin = "miter",
                o.miterLimit = 4,
                this.data.singleShape || this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);
                var s, l = this.textAnimator.renderedLetters, c = this.textProperty.currentData.l;
                e = c.length;
                var h, p, d = null, u = null, m = null;
                for (t = 0; t < e; t += 1)
                    if (!c[t].n) {
                        if ((s = l[t]) && (this.globalData.renderer.save(),
                        this.globalData.renderer.ctxTransform(s.p),
                        this.globalData.renderer.ctxOpacity(s.o)),
                        this.fill) {
                            for (s && s.fc ? d !== s.fc && (d = s.fc,
                            o.fillStyle = s.fc) : d !== this.values.fill && (d = this.values.fill,
                            o.fillStyle = this.values.fill),
                            a = (h = this.textSpans[t].elem).length,
                            this.globalData.canvasContext.beginPath(),
                            i = 0; i < a; i += 1)
                                for (r = (p = h[i]).length,
                                this.globalData.canvasContext.moveTo(p[0], p[1]),
                                n = 2; n < r; n += 6)
                                    this.globalData.canvasContext.bezierCurveTo(p[n], p[n + 1], p[n + 2], p[n + 3], p[n + 4], p[n + 5]);
                            this.globalData.canvasContext.closePath(),
                            this.globalData.canvasContext.fill()
                        }
                        if (this.stroke) {
                            for (s && s.sw ? m !== s.sw && (m = s.sw,
                            o.lineWidth = s.sw) : m !== this.values.sWidth && (m = this.values.sWidth,
                            o.lineWidth = this.values.sWidth),
                            s && s.sc ? u !== s.sc && (u = s.sc,
                            o.strokeStyle = s.sc) : u !== this.values.stroke && (u = this.values.stroke,
                            o.strokeStyle = this.values.stroke),
                            a = (h = this.textSpans[t].elem).length,
                            this.globalData.canvasContext.beginPath(),
                            i = 0; i < a; i += 1)
                                for (r = (p = h[i]).length,
                                this.globalData.canvasContext.moveTo(p[0], p[1]),
                                n = 2; n < r; n += 6)
                                    this.globalData.canvasContext.bezierCurveTo(p[n], p[n + 1], p[n + 2], p[n + 3], p[n + 4], p[n + 5]);
                            this.globalData.canvasContext.closePath(),
                            this.globalData.canvasContext.stroke()
                        }
                        s && this.globalData.renderer.restore()
                    }
            }
            ,
            CVEffects.prototype.renderFrame = function() {}
            ,
            HBaseElement.prototype = {
                checkBlendMode: function() {},
                initRendererElement: function() {
                    this.baseElement = createTag(this.data.tg || "div"),
                    this.data.hasMask ? (this.svgElement = createNS("svg"),
                    this.layerElement = createNS("g"),
                    this.maskedElement = this.layerElement,
                    this.svgElement.appendChild(this.layerElement),
                    this.baseElement.appendChild(this.svgElement)) : this.layerElement = this.baseElement,
                    styleDiv(this.baseElement)
                },
                createContainerElements: function() {
                    this.renderableEffectsManager = new CVEffects(this),
                    this.transformedElement = this.baseElement,
                    this.maskedElement = this.layerElement,
                    this.data.ln && this.layerElement.setAttribute("id", this.data.ln),
                    this.data.cl && this.layerElement.setAttribute("class", this.data.cl),
                    0 !== this.data.bm && this.setBlendMode()
                },
                renderElement: function() {
                    this.finalTransform._matMdf && (this.transformedElement.style.transform = this.transformedElement.style.webkitTransform = this.finalTransform.mat.toCSS()),
                    this.finalTransform._opMdf && (this.transformedElement.style.opacity = this.finalTransform.mProp.o.v)
                },
                renderFrame: function() {
                    this.data.hd || this.hidden || (this.renderTransform(),
                    this.renderRenderable(),
                    this.renderElement(),
                    this.renderInnerContent(),
                    this._isFirstFrame && (this._isFirstFrame = !1))
                },
                destroy: function() {
                    this.layerElement = null,
                    this.transformedElement = null,
                    this.matteElement && (this.matteElement = null),
                    this.maskManager && (this.maskManager.destroy(),
                    this.maskManager = null)
                },
                createRenderableComponents: function() {
                    this.maskManager = new MaskElement(this.data,this,this.globalData)
                },
                addEffects: function() {},
                setMatte: function() {}
            },
            HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement,
            HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy,
            HBaseElement.prototype.buildElementParenting = HybridRenderer.prototype.buildElementParenting,
            extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement),
            HSolidElement.prototype.createContent = function() {
                var t;
                this.data.hasMask ? ((t = createNS("rect")).setAttribute("width", this.data.sw),
                t.setAttribute("height", this.data.sh),
                t.setAttribute("fill", this.data.sc),
                this.svgElement.setAttribute("width", this.data.sw),
                this.svgElement.setAttribute("height", this.data.sh)) : ((t = createTag("div")).style.width = this.data.sw + "px",
                t.style.height = this.data.sh + "px",
                t.style.backgroundColor = this.data.sc),
                this.layerElement.appendChild(t)
            }
            ,
            extendPrototype([HybridRenderer, ICompElement, HBaseElement], HCompElement),
            HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements,
            HCompElement.prototype.createContainerElements = function() {
                this._createBaseContainerElements(),
                this.data.hasMask ? (this.svgElement.setAttribute("width", this.data.w),
                this.svgElement.setAttribute("height", this.data.h),
                this.transformedElement = this.baseElement) : this.transformedElement = this.layerElement
            }
            ,
            HCompElement.prototype.addTo3dContainer = function(t, e) {
                for (var i, a = 0; a < e; )
                    this.elements[a] && this.elements[a].getBaseElement && (i = this.elements[a].getBaseElement()),
                    a += 1;
                i ? this.layerElement.insertBefore(t, i) : this.layerElement.appendChild(t)
            }
            ,
            extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement),
            HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent,
            HShapeElement.prototype.createContent = function() {
                var t;
                if (this.baseElement.style.fontSize = 0,
                this.data.hasMask)
                    this.layerElement.appendChild(this.shapesContainer),
                    t = this.svgElement;
                else {
                    t = createNS("svg");
                    var e = this.comp.data ? this.comp.data : this.globalData.compSize;
                    t.setAttribute("width", e.w),
                    t.setAttribute("height", e.h),
                    t.appendChild(this.shapesContainer),
                    this.layerElement.appendChild(t)
                }
                this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], !0),
                this.filterUniqueShapes(),
                this.shapeCont = t
            }
            ,
            HShapeElement.prototype.getTransformedPoint = function(t, e) {
                var i, a = t.length;
                for (i = 0; i < a; i += 1)
                    e = t[i].mProps.v.applyToPointArray(e[0], e[1], 0);
                return e
            }
            ,
            HShapeElement.prototype.calculateShapeBoundingBox = function(t, e) {
                var i, a, n, r, o, s = t.sh.v, l = t.transformers, c = s._length;
                if (!(c <= 1)) {
                    for (i = 0; i < c - 1; i += 1)
                        a = this.getTransformedPoint(l, s.v[i]),
                        n = this.getTransformedPoint(l, s.o[i]),
                        r = this.getTransformedPoint(l, s.i[i + 1]),
                        o = this.getTransformedPoint(l, s.v[i + 1]),
                        this.checkBounds(a, n, r, o, e);
                    s.c && (a = this.getTransformedPoint(l, s.v[i]),
                    n = this.getTransformedPoint(l, s.o[i]),
                    r = this.getTransformedPoint(l, s.i[0]),
                    o = this.getTransformedPoint(l, s.v[0]),
                    this.checkBounds(a, n, r, o, e))
                }
            }
            ,
            HShapeElement.prototype.checkBounds = function(t, e, i, a, n) {
                this.getBoundsOfCurve(t, e, i, a);
                var r = this.shapeBoundingBox;
                n.x = bm_min(r.left, n.x),
                n.xMax = bm_max(r.right, n.xMax),
                n.y = bm_min(r.top, n.y),
                n.yMax = bm_max(r.bottom, n.yMax)
            }
            ,
            HShapeElement.prototype.shapeBoundingBox = {
                left: 0,
                right: 0,
                top: 0,
                bottom: 0
            },
            HShapeElement.prototype.tempBoundingBox = {
                x: 0,
                xMax: 0,
                y: 0,
                yMax: 0,
                width: 0,
                height: 0
            },
            HShapeElement.prototype.getBoundsOfCurve = function(t, e, i, a) {
                for (var n, r, o, s, l, c, h, p = [[t[0], a[0]], [t[1], a[1]]], d = 0; d < 2; ++d)
                    if (r = 6 * t[d] - 12 * e[d] + 6 * i[d],
                    n = -3 * t[d] + 9 * e[d] - 9 * i[d] + 3 * a[d],
                    o = 3 * e[d] - 3 * t[d],
                    r |= 0,
                    o |= 0,
                    0 !== (n |= 0))
                        (l = r * r - 4 * o * n) < 0 || (0 < (c = (-r + bm_sqrt(l)) / (2 * n)) && c < 1 && p[d].push(this.calculateF(c, t, e, i, a, d)),
                        0 < (h = (-r - bm_sqrt(l)) / (2 * n)) && h < 1 && p[d].push(this.calculateF(h, t, e, i, a, d)));
                    else {
                        if (0 === r)
                            continue;
                        0 < (s = -o / r) && s < 1 && p[d].push(this.calculateF(s, t, e, i, a, d))
                    }
                this.shapeBoundingBox.left = bm_min.apply(null, p[0]),
                this.shapeBoundingBox.top = bm_min.apply(null, p[1]),
                this.shapeBoundingBox.right = bm_max.apply(null, p[0]),
                this.shapeBoundingBox.bottom = bm_max.apply(null, p[1])
            }
            ,
            HShapeElement.prototype.calculateF = function(t, e, i, a, n, r) {
                return bm_pow(1 - t, 3) * e[r] + 3 * bm_pow(1 - t, 2) * t * i[r] + 3 * (1 - t) * bm_pow(t, 2) * a[r] + bm_pow(t, 3) * n[r]
            }
            ,
            HShapeElement.prototype.calculateBoundingBox = function(t, e) {
                var i, a = t.length;
                for (i = 0; i < a; i += 1)
                    t[i] && t[i].sh ? this.calculateShapeBoundingBox(t[i], e) : t[i] && t[i].it && this.calculateBoundingBox(t[i].it, e)
            }
            ,
            HShapeElement.prototype.currentBoxContains = function(t) {
                return this.currentBBox.x <= t.x && this.currentBBox.y <= t.y && this.currentBBox.width + this.currentBBox.x >= t.x + t.width && this.currentBBox.height + this.currentBBox.y >= t.y + t.height
            }
            ,
            HShapeElement.prototype.renderInnerContent = function() {
                if (this._renderShapeFrame(),
                !this.hidden && (this._isFirstFrame || this._mdf)) {
                    var t = this.tempBoundingBox
                      , e = 999999;
                    if (t.x = e,
                    t.xMax = -e,
                    t.y = e,
                    t.yMax = -e,
                    this.calculateBoundingBox(this.itemsData, t),
                    t.width = t.xMax < t.x ? 0 : t.xMax - t.x,
                    t.height = t.yMax < t.y ? 0 : t.yMax - t.y,
                    this.currentBoxContains(t))
                        return;
                    var i = !1;
                    this.currentBBox.w !== t.width && (this.currentBBox.w = t.width,
                    this.shapeCont.setAttribute("width", t.width),
                    i = !0),
                    this.currentBBox.h !== t.height && (this.currentBBox.h = t.height,
                    this.shapeCont.setAttribute("height", t.height),
                    i = !0),
                    (i || this.currentBBox.x !== t.x || this.currentBBox.y !== t.y) && (this.currentBBox.w = t.width,
                    this.currentBBox.h = t.height,
                    this.currentBBox.x = t.x,
                    this.currentBBox.y = t.y,
                    this.shapeCont.setAttribute("viewBox", this.currentBBox.x + " " + this.currentBBox.y + " " + this.currentBBox.w + " " + this.currentBBox.h),
                    this.shapeCont.style.transform = this.shapeCont.style.webkitTransform = "translate(" + this.currentBBox.x + "px," + this.currentBBox.y + "px)")
                }
            }
            ,
            extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement),
            HTextElement.prototype.createContent = function() {
                if (this.isMasked = this.checkMasks(),
                this.isMasked) {
                    this.renderType = "svg",
                    this.compW = this.comp.data.w,
                    this.compH = this.comp.data.h,
                    this.svgElement.setAttribute("width", this.compW),
                    this.svgElement.setAttribute("height", this.compH);
                    var t = createNS("g");
                    this.maskedElement.appendChild(t),
                    this.innerElem = t
                } else
                    this.renderType = "html",
                    this.innerElem = this.layerElement;
                this.checkParenting()
            }
            ,
            HTextElement.prototype.buildNewText = function() {
                var t = this.textProperty.currentData;
                this.renderedLetters = createSizedArray(t.l ? t.l.length : 0);
                var e = this.innerElem.style;
                e.color = e.fill = t.fc ? this.buildColor(t.fc) : "rgba(0,0,0,0)",
                t.sc && (e.stroke = this.buildColor(t.sc),
                e.strokeWidth = t.sw + "px");
                var i, a, n = this.globalData.fontManager.getFontByName(t.f);
                if (!this.globalData.fontManager.chars)
                    if (e.fontSize = t.finalSize + "px",
                    e.lineHeight = t.finalSize + "px",
                    n.fClass)
                        this.innerElem.className = n.fClass;
                    else {
                        e.fontFamily = n.fFamily;
                        var r = t.fWeight
                          , o = t.fStyle;
                        e.fontStyle = o,
                        e.fontWeight = r
                    }
                var s, l, c, h = t.l;
                a = h.length;
                var p, d = this.mHelper, u = "", m = 0;
                for (i = 0; i < a; i += 1) {
                    if (this.globalData.fontManager.chars ? (this.textPaths[m] ? s = this.textPaths[m] : ((s = createNS("path")).setAttribute("stroke-linecap", "butt"),
                    s.setAttribute("stroke-linejoin", "round"),
                    s.setAttribute("stroke-miterlimit", "4")),
                    this.isMasked || (this.textSpans[m] ? c = (l = this.textSpans[m]).children[0] : ((l = createTag("div")).style.lineHeight = 0,
                    (c = createNS("svg")).appendChild(s),
                    styleDiv(l)))) : this.isMasked ? s = this.textPaths[m] ? this.textPaths[m] : createNS("text") : this.textSpans[m] ? (l = this.textSpans[m],
                    s = this.textPaths[m]) : (styleDiv(l = createTag("span")),
                    styleDiv(s = createTag("span")),
                    l.appendChild(s)),
                    this.globalData.fontManager.chars) {
                        var f, g = this.globalData.fontManager.getCharData(t.finalText[i], n.fStyle, this.globalData.fontManager.getFontByName(t.f).fFamily);
                        if (f = g ? g.data : null,
                        d.reset(),
                        f && f.shapes && (p = f.shapes[0].it,
                        d.scale(t.finalSize / 100, t.finalSize / 100),
                        u = this.createPathShape(d, p),
                        s.setAttribute("d", u)),
                        this.isMasked)
                            this.innerElem.appendChild(s);
                        else {
                            if (this.innerElem.appendChild(l),
                            f && f.shapes) {
                                document.body.appendChild(c);
                                var y = c.getBBox();
                                c.setAttribute("width", y.width + 2),
                                c.setAttribute("height", y.height + 2),
                                c.setAttribute("viewBox", y.x - 1 + " " + (y.y - 1) + " " + (y.width + 2) + " " + (y.height + 2)),
                                c.style.transform = c.style.webkitTransform = "translate(" + (y.x - 1) + "px," + (y.y - 1) + "px)",
                                h[i].yOffset = y.y - 1
                            } else
                                c.setAttribute("width", 1),
                                c.setAttribute("height", 1);
                            l.appendChild(c)
                        }
                    } else
                        s.textContent = h[i].val,
                        s.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"),
                        this.isMasked ? this.innerElem.appendChild(s) : (this.innerElem.appendChild(l),
                        s.style.transform = s.style.webkitTransform = "translate3d(0," + -t.finalSize / 1.2 + "px,0)");
                    this.isMasked ? this.textSpans[m] = s : this.textSpans[m] = l,
                    this.textSpans[m].style.display = "block",
                    this.textPaths[m] = s,
                    m += 1
                }
                for (; m < this.textSpans.length; )
                    this.textSpans[m].style.display = "none",
                    m += 1
            }
            ,
            HTextElement.prototype.renderInnerContent = function() {
                if (this.data.singleShape) {
                    if (!this._isFirstFrame && !this.lettersChangedFlag)
                        return;
                    this.isMasked && this.finalTransform._matMdf && (this.svgElement.setAttribute("viewBox", -this.finalTransform.mProp.p.v[0] + " " + -this.finalTransform.mProp.p.v[1] + " " + this.compW + " " + this.compH),
                    this.svgElement.style.transform = this.svgElement.style.webkitTransform = "translate(" + -this.finalTransform.mProp.p.v[0] + "px," + -this.finalTransform.mProp.p.v[1] + "px)")
                }
                if (this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag),
                this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {
                    var t, e, i, a, n, r = 0, o = this.textAnimator.renderedLetters, s = this.textProperty.currentData.l;
                    for (e = s.length,
                    t = 0; t < e; t += 1)
                        s[t].n ? r += 1 : (a = this.textSpans[t],
                        n = this.textPaths[t],
                        i = o[r],
                        r += 1,
                        i._mdf.m && (this.isMasked ? a.setAttribute("transform", i.m) : a.style.transform = a.style.webkitTransform = i.m),
                        a.style.opacity = i.o,
                        i.sw && i._mdf.sw && n.setAttribute("stroke-width", i.sw),
                        i.sc && i._mdf.sc && n.setAttribute("stroke", i.sc),
                        i.fc && i._mdf.fc && (n.setAttribute("fill", i.fc),
                        n.style.color = i.fc));
                    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {
                        var l = this.innerElem.getBBox();
                        this.currentBBox.w !== l.width && (this.currentBBox.w = l.width,
                        this.svgElement.setAttribute("width", l.width)),
                        this.currentBBox.h !== l.height && (this.currentBBox.h = l.height,
                        this.svgElement.setAttribute("height", l.height));
                        this.currentBBox.w === l.width + 2 && this.currentBBox.h === l.height + 2 && this.currentBBox.x === l.x - 1 && this.currentBBox.y === l.y - 1 || (this.currentBBox.w = l.width + 2,
                        this.currentBBox.h = l.height + 2,
                        this.currentBBox.x = l.x - 1,
                        this.currentBBox.y = l.y - 1,
                        this.svgElement.setAttribute("viewBox", this.currentBBox.x + " " + this.currentBBox.y + " " + this.currentBBox.w + " " + this.currentBBox.h),
                        this.svgElement.style.transform = this.svgElement.style.webkitTransform = "translate(" + this.currentBBox.x + "px," + this.currentBBox.y + "px)")
                    }
                }
            }
            ,
            extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement),
            HImageElement.prototype.createContent = function() {
                var t = this.globalData.getAssetsPath(this.assetData)
                  , e = new Image;
                this.data.hasMask ? (this.imageElem = createNS("image"),
                this.imageElem.setAttribute("width", this.assetData.w + "px"),
                this.imageElem.setAttribute("height", this.assetData.h + "px"),
                this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink", "href", t),
                this.layerElement.appendChild(this.imageElem),
                this.baseElement.setAttribute("width", this.assetData.w),
                this.baseElement.setAttribute("height", this.assetData.h)) : this.layerElement.appendChild(e),
                e.src = t,
                this.data.ln && this.baseElement.setAttribute("id", this.data.ln)
            }
            ,
            extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement),
            HCameraElement.prototype.setup = function() {
                var t, e, i = this.comp.threeDElements.length;
                for (t = 0; t < i; t += 1)
                    "3d" === (e = this.comp.threeDElements[t]).type && (e.perspectiveElem.style.perspective = e.perspectiveElem.style.webkitPerspective = this.pe.v + "px",
                    e.container.style.transformOrigin = e.container.style.mozTransformOrigin = e.container.style.webkitTransformOrigin = "0px 0px 0px",
                    e.perspectiveElem.style.transform = e.perspectiveElem.style.webkitTransform = "matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")
            }
            ,
            HCameraElement.prototype.createElements = function() {}
            ,
            HCameraElement.prototype.hide = function() {}
            ,
            HCameraElement.prototype.renderFrame = function() {
                var t, e, i = this._isFirstFrame;
                if (this.hierarchy)
                    for (e = this.hierarchy.length,
                    t = 0; t < e; t += 1)
                        i = this.hierarchy[t].finalTransform.mProp._mdf || i;
                if (i || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {
                    if (this.mat.reset(),
                    this.hierarchy)
                        for (t = e = this.hierarchy.length - 1; t >= 0; t -= 1) {
                            var a = this.hierarchy[t].finalTransform.mProp;
                            this.mat.translate(-a.p.v[0], -a.p.v[1], a.p.v[2]),
                            this.mat.rotateX(-a.or.v[0]).rotateY(-a.or.v[1]).rotateZ(a.or.v[2]),
                            this.mat.rotateX(-a.rx.v).rotateY(-a.ry.v).rotateZ(a.rz.v),
                            this.mat.scale(1 / a.s.v[0], 1 / a.s.v[1], 1 / a.s.v[2]),
                            this.mat.translate(a.a.v[0], a.a.v[1], a.a.v[2])
                        }
                    if (this.p ? this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]) : this.mat.translate(-this.px.v, -this.py.v, this.pz.v),
                    this.a) {
                        var n = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]]
                          , r = Math.sqrt(Math.pow(n[0], 2) + Math.pow(n[1], 2) + Math.pow(n[2], 2))
                          , o = [n[0] / r, n[1] / r, n[2] / r]
                          , s = Math.sqrt(o[2] * o[2] + o[0] * o[0])
                          , l = Math.atan2(o[1], s)
                          , c = Math.atan2(o[0], -o[2]);
                        this.mat.rotateY(c).rotateX(-l)
                    }
                    this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),
                    this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),
                    this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0),
                    this.mat.translate(0, 0, this.pe.v);
                    var h = !this._prevMat.equals(this.mat);
                    if ((h || this.pe._mdf) && this.comp.threeDElements) {
                        var p;
                        for (e = this.comp.threeDElements.length,
                        t = 0; t < e; t += 1)
                            "3d" === (p = this.comp.threeDElements[t]).type && (h && (p.container.style.transform = p.container.style.webkitTransform = this.mat.toCSS()),
                            this.pe._mdf && (p.perspectiveElem.style.perspective = p.perspectiveElem.style.webkitPerspective = this.pe.v + "px"));
                        this.mat.clone(this._prevMat)
                    }
                }
                this._isFirstFrame = !1
            }
            ,
            HCameraElement.prototype.prepareFrame = function(t) {
                this.prepareProperties(t, !0)
            }
            ,
            HCameraElement.prototype.destroy = function() {}
            ,
            HCameraElement.prototype.getBaseElement = function() {
                return null
            }
            ,
            HEffects.prototype.renderFrame = function() {}
            ;
            var animationManager = function() {
                var t = {}
                  , e = []
                  , i = 0
                  , a = 0
                  , n = 0
                  , r = !0
                  , o = !1;
                function s(t) {
                    for (var i = 0, n = t.target; i < a; )
                        e[i].animation === n && (e.splice(i, 1),
                        i -= 1,
                        a -= 1,
                        n.isPaused || h()),
                        i += 1
                }
                function l(t, i) {
                    if (!t)
                        return null;
                    for (var n = 0; n < a; ) {
                        if (e[n].elem == t && null !== e[n].elem)
                            return e[n].animation;
                        n += 1
                    }
                    var r = new AnimationItem;
                    return p(r, t),
                    r.setData(t, i),
                    r
                }
                function c() {
                    n += 1,
                    m()
                }
                function h() {
                    n -= 1
                }
                function p(t, i) {
                    t.addEventListener("destroy", s),
                    t.addEventListener("_active", c),
                    t.addEventListener("_idle", h),
                    e.push({
                        elem: i,
                        animation: t
                    }),
                    a += 1
                }
                function d(t) {
                    var s, l = t - i;
                    for (s = 0; s < a; s += 1)
                        e[s].animation.advanceTime(l);
                    i = t,
                    n && !o ? window.requestAnimationFrame(d) : r = !0
                }
                function u(t) {
                    i = t,
                    window.requestAnimationFrame(d)
                }
                function m() {
                    !o && n && r && (window.requestAnimationFrame(u),
                    r = !1)
                }
                return t.registerAnimation = l,
                t.loadAnimation = function(t) {
                    var e = new AnimationItem;
                    return p(e, null),
                    e.setParams(t),
                    e
                }
                ,
                t.setSpeed = function(t, i) {
                    var n;
                    for (n = 0; n < a; n += 1)
                        e[n].animation.setSpeed(t, i)
                }
                ,
                t.setDirection = function(t, i) {
                    var n;
                    for (n = 0; n < a; n += 1)
                        e[n].animation.setDirection(t, i)
                }
                ,
                t.play = function(t) {
                    var i;
                    for (i = 0; i < a; i += 1)
                        e[i].animation.play(t)
                }
                ,
                t.pause = function(t) {
                    var i;
                    for (i = 0; i < a; i += 1)
                        e[i].animation.pause(t)
                }
                ,
                t.stop = function(t) {
                    var i;
                    for (i = 0; i < a; i += 1)
                        e[i].animation.stop(t)
                }
                ,
                t.togglePause = function(t) {
                    var i;
                    for (i = 0; i < a; i += 1)
                        e[i].animation.togglePause(t)
                }
                ,
                t.searchAnimations = function(t, e, i) {
                    var a, n = [].concat([].slice.call(document.getElementsByClassName("lottie")), [].slice.call(document.getElementsByClassName("bodymovin"))), r = n.length;
                    for (a = 0; a < r; a += 1)
                        i && n[a].setAttribute("data-bm-type", i),
                        l(n[a], t);
                    if (e && 0 === r) {
                        i || (i = "svg");
                        var o = document.getElementsByTagName("body")[0];
                        o.innerHTML = "";
                        var s = createTag("div");
                        s.style.width = "100%",
                        s.style.height = "100%",
                        s.setAttribute("data-bm-type", i),
                        o.appendChild(s),
                        l(s, t)
                    }
                }
                ,
                t.resize = function() {
                    var t;
                    for (t = 0; t < a; t += 1)
                        e[t].animation.resize()
                }
                ,
                t.goToAndStop = function(t, i, n) {
                    var r;
                    for (r = 0; r < a; r += 1)
                        e[r].animation.goToAndStop(t, i, n)
                }
                ,
                t.destroy = function(t) {
                    var i;
                    for (i = a - 1; i >= 0; i -= 1)
                        e[i].animation.destroy(t)
                }
                ,
                t.freeze = function() {
                    o = !0
                }
                ,
                t.unfreeze = function() {
                    o = !1,
                    m()
                }
                ,
                t.getRegisteredAnimations = function() {
                    var t, i = e.length, a = [];
                    for (t = 0; t < i; t += 1)
                        a.push(e[t].animation);
                    return a
                }
                ,
                t
            }()
              , AnimationItem = function() {
                this._cbs = [],
                this.name = "",
                this.path = "",
                this.isLoaded = !1,
                this.currentFrame = 0,
                this.currentRawFrame = 0,
                this.totalFrames = 0,
                this.frameRate = 0,
                this.frameMult = 0,
                this.playSpeed = 1,
                this.playDirection = 1,
                this.playCount = 0,
                this.animationData = {},
                this.assets = [],
                this.isPaused = !0,
                this.autoplay = !1,
                this.loop = !0,
                this.renderer = null,
                this.animationID = createElementID(),
                this.assetsPath = "",
                this.timeCompleted = 0,
                this.segmentPos = 0,
                this.subframeEnabled = subframeEnabled,
                this.segments = [],
                this._idle = !0,
                this._completedLoop = !1,
                this.projectInterface = ProjectInterface(),
                this.imagePreloader = new ImagePreloader
            };
            extendPrototype([BaseEvent], AnimationItem),
            AnimationItem.prototype.setParams = function(t) {
                t.context && (this.context = t.context),
                (t.wrapper || t.container) && (this.wrapper = t.wrapper || t.container);
                var e = t.animType ? t.animType : t.renderer ? t.renderer : "svg";
                switch (e) {
                case "canvas":
                    this.renderer = new CanvasRenderer(this,t.rendererSettings);
                    break;
                case "svg":
                    this.renderer = new SVGRenderer(this,t.rendererSettings);
                    break;
                default:
                    this.renderer = new HybridRenderer(this,t.rendererSettings)
                }
                this.renderer.setProjectInterface(this.projectInterface),
                this.animType = e,
                "" === t.loop || null === t.loop || (!1 === t.loop ? this.loop = !1 : !0 === t.loop ? this.loop = !0 : this.loop = parseInt(t.loop)),
                this.autoplay = !("autoplay"in t) || t.autoplay,
                this.name = t.name ? t.name : "",
                this.autoloadSegments = !t.hasOwnProperty("autoloadSegments") || t.autoloadSegments,
                this.assetsPath = t.assetsPath,
                t.animationData ? this.configAnimation(t.animationData) : t.path && ("json" != t.path.substr(-4) && ("/" != t.path.substr(-1, 1) && (t.path += "/"),
                t.path += "data.json"),
                -1 != t.path.lastIndexOf("\\") ? this.path = t.path.substr(0, t.path.lastIndexOf("\\") + 1) : this.path = t.path.substr(0, t.path.lastIndexOf("/") + 1),
                this.fileName = t.path.substr(t.path.lastIndexOf("/") + 1),
                this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf(".json")),
                assetLoader.load(t.path, this.configAnimation.bind(this), function() {
                    this.trigger("data_failed")
                }
                .bind(this)))
            }
            ,
            AnimationItem.prototype.setData = function(t, e) {
                var i = {
                    wrapper: t,
                    animationData: e ? "object" === typeof e ? e : JSON.parse(e) : null
                }
                  , a = t.attributes;
                i.path = a.getNamedItem("data-animation-path") ? a.getNamedItem("data-animation-path").value : a.getNamedItem("data-bm-path") ? a.getNamedItem("data-bm-path").value : a.getNamedItem("bm-path") ? a.getNamedItem("bm-path").value : "",
                i.animType = a.getNamedItem("data-anim-type") ? a.getNamedItem("data-anim-type").value : a.getNamedItem("data-bm-type") ? a.getNamedItem("data-bm-type").value : a.getNamedItem("bm-type") ? a.getNamedItem("bm-type").value : a.getNamedItem("data-bm-renderer") ? a.getNamedItem("data-bm-renderer").value : a.getNamedItem("bm-renderer") ? a.getNamedItem("bm-renderer").value : "canvas";
                var n = a.getNamedItem("data-anim-loop") ? a.getNamedItem("data-anim-loop").value : a.getNamedItem("data-bm-loop") ? a.getNamedItem("data-bm-loop").value : a.getNamedItem("bm-loop") ? a.getNamedItem("bm-loop").value : "";
                "" === n || (i.loop = "false" !== n && ("true" === n || parseInt(n)));
                var r = a.getNamedItem("data-anim-autoplay") ? a.getNamedItem("data-anim-autoplay").value : a.getNamedItem("data-bm-autoplay") ? a.getNamedItem("data-bm-autoplay").value : !a.getNamedItem("bm-autoplay") || a.getNamedItem("bm-autoplay").value;
                i.autoplay = "false" !== r,
                i.name = a.getNamedItem("data-name") ? a.getNamedItem("data-name").value : a.getNamedItem("data-bm-name") ? a.getNamedItem("data-bm-name").value : a.getNamedItem("bm-name") ? a.getNamedItem("bm-name").value : "",
                "false" === (a.getNamedItem("data-anim-prerender") ? a.getNamedItem("data-anim-prerender").value : a.getNamedItem("data-bm-prerender") ? a.getNamedItem("data-bm-prerender").value : a.getNamedItem("bm-prerender") ? a.getNamedItem("bm-prerender").value : "") && (i.prerender = !1),
                this.setParams(i)
            }
            ,
            AnimationItem.prototype.includeLayers = function(t) {
                t.op > this.animationData.op && (this.animationData.op = t.op,
                this.totalFrames = Math.floor(t.op - this.animationData.ip));
                var e, i, a = this.animationData.layers, n = a.length, r = t.layers, o = r.length;
                for (i = 0; i < o; i += 1)
                    for (e = 0; e < n; ) {
                        if (a[e].id == r[i].id) {
                            a[e] = r[i];
                            break
                        }
                        e += 1
                    }
                if ((t.chars || t.fonts) && (this.renderer.globalData.fontManager.addChars(t.chars),
                this.renderer.globalData.fontManager.addFonts(t.fonts, this.renderer.globalData.defs)),
                t.assets)
                    for (n = t.assets.length,
                    e = 0; e < n; e += 1)
                        this.animationData.assets.push(t.assets[e]);
                this.animationData.__complete = !1,
                dataManager.completeData(this.animationData, this.renderer.globalData.fontManager),
                this.renderer.includeLayers(t.layers),
                expressionsPlugin && expressionsPlugin.initExpressions(this),
                this.loadNextSegment()
            }
            ,
            AnimationItem.prototype.loadNextSegment = function() {
                var t = this.animationData.segments;
                if (!t || 0 === t.length || !this.autoloadSegments)
                    return this.trigger("data_ready"),
                    void (this.timeCompleted = this.totalFrames);
                var e = t.shift();
                this.timeCompleted = e.time * this.frameRate;
                var i = this.path + this.fileName + "_" + this.segmentPos + ".json";
                this.segmentPos += 1,
                assetLoader.load(i, this.includeLayers.bind(this), function() {
                    this.trigger("data_failed")
                }
                .bind(this))
            }
            ,
            AnimationItem.prototype.loadSegments = function() {
                this.animationData.segments || (this.timeCompleted = this.totalFrames),
                this.loadNextSegment()
            }
            ,
            AnimationItem.prototype.imagesLoaded = function() {
                this.trigger("loaded_images"),
                this.checkLoaded()
            }
            ,
            AnimationItem.prototype.preloadImages = function() {
                this.imagePreloader.setAssetsPath(this.assetsPath),
                this.imagePreloader.setPath(this.path),
                this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this))
            }
            ,
            AnimationItem.prototype.configAnimation = function(t) {
                this.renderer && (this.animationData = t,
                this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip),
                this.renderer.configAnimation(t),
                t.assets || (t.assets = []),
                this.renderer.searchExtraCompositions(t.assets),
                this.assets = this.animationData.assets,
                this.frameRate = this.animationData.fr,
                this.firstFrame = Math.round(this.animationData.ip),
                this.frameMult = this.animationData.fr / 1e3,
                this.trigger("config_ready"),
                this.preloadImages(),
                this.loadSegments(),
                this.updaFrameModifier(),
                this.waitForFontsLoaded())
            }
            ,
            AnimationItem.prototype.waitForFontsLoaded = function() {
                this.renderer && (this.renderer.globalData.fontManager.loaded() ? this.checkLoaded() : setTimeout(this.waitForFontsLoaded.bind(this), 20))
            }
            ,
            AnimationItem.prototype.checkLoaded = function() {
                this.isLoaded || !this.renderer.globalData.fontManager.loaded() || !this.imagePreloader.loaded() && "canvas" === this.renderer.rendererType || (this.isLoaded = !0,
                dataManager.completeData(this.animationData, this.renderer.globalData.fontManager),
                expressionsPlugin && expressionsPlugin.initExpressions(this),
                this.renderer.initItems(),
                setTimeout(function() {
                    this.trigger("DOMLoaded")
                }
                .bind(this), 0),
                this.gotoFrame(),
                this.autoplay && this.play())
            }
            ,
            AnimationItem.prototype.resize = function() {
                this.renderer.updateContainerSize()
            }
            ,
            AnimationItem.prototype.setSubframe = function(t) {
                this.subframeEnabled = !!t
            }
            ,
            AnimationItem.prototype.gotoFrame = function() {
                this.currentFrame = this.subframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame,
                this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted && (this.currentFrame = this.timeCompleted),
                this.trigger("enterFrame"),
                this.renderFrame()
            }
            ,
            AnimationItem.prototype.renderFrame = function() {
                !1 !== this.isLoaded && this.renderer.renderFrame(this.currentFrame + this.firstFrame)
            }
            ,
            AnimationItem.prototype.play = function(t) {
                t && this.name != t || !0 === this.isPaused && (this.isPaused = !1,
                this._idle && (this._idle = !1,
                this.trigger("_active")))
            }
            ,
            AnimationItem.prototype.pause = function(t) {
                t && this.name != t || !1 === this.isPaused && (this.isPaused = !0,
                this._idle = !0,
                this.trigger("_idle"))
            }
            ,
            AnimationItem.prototype.togglePause = function(t) {
                t && this.name != t || (!0 === this.isPaused ? this.play() : this.pause())
            }
            ,
            AnimationItem.prototype.stop = function(t) {
                t && this.name != t || (this.pause(),
                this.playCount = 0,
                this._completedLoop = !1,
                this.setCurrentRawFrameValue(0))
            }
            ,
            AnimationItem.prototype.goToAndStop = function(t, e, i) {
                i && this.name != i || (e ? this.setCurrentRawFrameValue(t) : this.setCurrentRawFrameValue(t * this.frameModifier),
                this.pause())
            }
            ,
            AnimationItem.prototype.goToAndPlay = function(t, e, i) {
                this.goToAndStop(t, e, i),
                this.play()
            }
            ,
            AnimationItem.prototype.advanceTime = function(t) {
                if (!0 !== this.isPaused && !1 !== this.isLoaded) {
                    var e = this.currentRawFrame + t * this.frameModifier
                      , i = !1;
                    e >= this.totalFrames - 1 && this.frameModifier > 0 ? this.loop && this.playCount !== this.loop ? e >= this.totalFrames ? (this.playCount += 1,
                    this.checkSegments(e % this.totalFrames) || (this.setCurrentRawFrameValue(e % this.totalFrames),
                    this._completedLoop = !0,
                    this.trigger("loopComplete"))) : this.setCurrentRawFrameValue(e) : this.checkSegments(e > this.totalFrames ? e % this.totalFrames : 0) || (i = !0,
                    e = this.totalFrames - 1) : e < 0 ? this.checkSegments(e % this.totalFrames) || (!this.loop || this.playCount-- <= 0 && !0 !== this.loop ? (i = !0,
                    e = 0) : (this.setCurrentRawFrameValue(this.totalFrames + e % this.totalFrames),
                    this._completedLoop ? this.trigger("loopComplete") : this._completedLoop = !0)) : this.setCurrentRawFrameValue(e),
                    i && (this.setCurrentRawFrameValue(e),
                    this.pause(),
                    this.trigger("complete"))
                }
            }
            ,
            AnimationItem.prototype.adjustSegment = function(t, e) {
                this.playCount = 0,
                t[1] < t[0] ? (this.frameModifier > 0 && (this.playSpeed < 0 ? this.setSpeed(-this.playSpeed) : this.setDirection(-1)),
                this.timeCompleted = this.totalFrames = t[0] - t[1],
                this.firstFrame = t[1],
                this.setCurrentRawFrameValue(this.totalFrames - .001 - e)) : t[1] > t[0] && (this.frameModifier < 0 && (this.playSpeed < 0 ? this.setSpeed(-this.playSpeed) : this.setDirection(1)),
                this.timeCompleted = this.totalFrames = t[1] - t[0],
                this.firstFrame = t[0],
                this.setCurrentRawFrameValue(.001 + e)),
                this.trigger("segmentStart")
            }
            ,
            AnimationItem.prototype.setSegment = function(t, e) {
                var i = -1;
                this.isPaused && (this.currentRawFrame + this.firstFrame < t ? i = t : this.currentRawFrame + this.firstFrame > e && (i = e - t)),
                this.firstFrame = t,
                this.timeCompleted = this.totalFrames = e - t,
                -1 !== i && this.goToAndStop(i, !0)
            }
            ,
            AnimationItem.prototype.playSegments = function(t, e) {
                if (e && (this.segments.length = 0),
                "object" === typeof t[0]) {
                    var i, a = t.length;
                    for (i = 0; i < a; i += 1)
                        this.segments.push(t[i])
                } else
                    this.segments.push(t);
                this.segments.length && e && this.adjustSegment(this.segments.shift(), 0),
                this.isPaused && this.play()
            }
            ,
            AnimationItem.prototype.resetSegments = function(t) {
                this.segments.length = 0,
                this.segments.push([this.animationData.ip, this.animationData.op]),
                t && this.checkSegments(0)
            }
            ,
            AnimationItem.prototype.checkSegments = function(t) {
                return !!this.segments.length && (this.adjustSegment(this.segments.shift(), t),
                !0)
            }
            ,
            AnimationItem.prototype.destroy = function(t) {
                t && this.name != t || !this.renderer || (this.renderer.destroy(),
                this.imagePreloader.destroy(),
                this.trigger("destroy"),
                this._cbs = null,
                this.onEnterFrame = this.onLoopComplete = this.onComplete = this.onSegmentStart = this.onDestroy = null,
                this.renderer = null)
            }
            ,
            AnimationItem.prototype.setCurrentRawFrameValue = function(t) {
                this.currentRawFrame = t,
                this.gotoFrame()
            }
            ,
            AnimationItem.prototype.setSpeed = function(t) {
                this.playSpeed = t,
                this.updaFrameModifier()
            }
            ,
            AnimationItem.prototype.setDirection = function(t) {
                this.playDirection = t < 0 ? -1 : 1,
                this.updaFrameModifier()
            }
            ,
            AnimationItem.prototype.updaFrameModifier = function() {
                this.frameModifier = this.frameMult * this.playSpeed * this.playDirection
            }
            ,
            AnimationItem.prototype.getPath = function() {
                return this.path
            }
            ,
            AnimationItem.prototype.getAssetsPath = function(t) {
                var e = "";
                if (t.e)
                    e = t.p;
                else if (this.assetsPath) {
                    var i = t.p;
                    -1 !== i.indexOf("images/") && (i = i.split("/")[1]),
                    e = this.assetsPath + i
                } else
                    e = this.path,
                    e += t.u ? t.u : "",
                    e += t.p;
                return e
            }
            ,
            AnimationItem.prototype.getAssetData = function(t) {
                for (var e = 0, i = this.assets.length; e < i; ) {
                    if (t == this.assets[e].id)
                        return this.assets[e];
                    e += 1
                }
            }
            ,
            AnimationItem.prototype.hide = function() {
                this.renderer.hide()
            }
            ,
            AnimationItem.prototype.show = function() {
                this.renderer.show()
            }
            ,
            AnimationItem.prototype.getDuration = function(t) {
                return t ? this.totalFrames : this.totalFrames / this.frameRate
            }
            ,
            AnimationItem.prototype.trigger = function(t) {
                if (this._cbs && this._cbs[t])
                    switch (t) {
                    case "enterFrame":
                        this.triggerEvent(t, new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));
                        break;
                    case "loopComplete":
                        this.triggerEvent(t, new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));
                        break;
                    case "complete":
                        this.triggerEvent(t, new BMCompleteEvent(t,this.frameMult));
                        break;
                    case "segmentStart":
                        this.triggerEvent(t, new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));
                        break;
                    case "destroy":
                        this.triggerEvent(t, new BMDestroyEvent(t,this));
                        break;
                    default:
                        this.triggerEvent(t)
                    }
                "enterFrame" === t && this.onEnterFrame && this.onEnterFrame.call(this, new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),
                "loopComplete" === t && this.onLoopComplete && this.onLoopComplete.call(this, new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),
                "complete" === t && this.onComplete && this.onComplete.call(this, new BMCompleteEvent(t,this.frameMult)),
                "segmentStart" === t && this.onSegmentStart && this.onSegmentStart.call(this, new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),
                "destroy" === t && this.onDestroy && this.onDestroy.call(this, new BMDestroyEvent(t,this))
            }
            ;
            var Expressions = function() {
                var t = {};
                return t.initExpressions = function(t) {
                    var e = 0
                      , i = [];
                    t.renderer.compInterface = CompExpressionInterface(t.renderer),
                    t.renderer.globalData.projectInterface.registerComposition(t.renderer),
                    t.renderer.globalData.pushExpression = function() {
                        e += 1
                    }
                    ,
                    t.renderer.globalData.popExpression = function() {
                        0 === (e -= 1) && function() {
                            var t, e = i.length;
                            for (t = 0; t < e; t += 1)
                                i[t].release();
                            i.length = 0
                        }()
                    }
                    ,
                    t.renderer.globalData.registerExpressionProperty = function(t) {
                        -1 === i.indexOf(t) && i.push(t)
                    }
                }
                ,
                t
            }();
            expressionsPlugin = Expressions;
            var ExpressionManager = function() {
                var ob = {}
                  , Math = BMMath
                  , window = null
                  , document = null;
                function $bm_isInstanceOfArray(t) {
                    return t.constructor === Array || t.constructor === Float32Array
                }
                function isNumerable(t, e) {
                    return "number" === t || "boolean" === t || "string" === t || e instanceof Number
                }
                function $bm_neg(t) {
                    var e = typeof t;
                    if ("number" === e || "boolean" === e || t instanceof Number)
                        return -t;
                    if ($bm_isInstanceOfArray(t)) {
                        var i, a = t.length, n = [];
                        for (i = 0; i < a; i += 1)
                            n[i] = -t[i];
                        return n
                    }
                    return t.propType ? t.v : void 0
                }
                var easeInBez = BezierFactory.getBezierEasing(.333, 0, .833, .833, "easeIn").get
                  , easeOutBez = BezierFactory.getBezierEasing(.167, .167, .667, 1, "easeOut").get
                  , easeInOutBez = BezierFactory.getBezierEasing(.33, 0, .667, 1, "easeInOut").get;
                function sum(t, e) {
                    var i = typeof t
                      , a = typeof e;
                    if ("string" === i || "string" === a)
                        return t + e;
                    if (isNumerable(i, t) && isNumerable(a, e))
                        return t + e;
                    if ($bm_isInstanceOfArray(t) && isNumerable(a, e))
                        return (t = t.slice(0))[0] = t[0] + e,
                        t;
                    if (isNumerable(i, t) && $bm_isInstanceOfArray(e))
                        return (e = e.slice(0))[0] = t + e[0],
                        e;
                    if ($bm_isInstanceOfArray(t) && $bm_isInstanceOfArray(e)) {
                        for (var n = 0, r = t.length, o = e.length, s = []; n < r || n < o; )
                            ("number" === typeof t[n] || t[n]instanceof Number) && ("number" === typeof e[n] || e[n]instanceof Number) ? s[n] = t[n] + e[n] : s[n] = void 0 === e[n] ? t[n] : t[n] || e[n],
                            n += 1;
                        return s
                    }
                    return 0
                }
                var add = sum;
                function sub(t, e) {
                    var i = typeof t
                      , a = typeof e;
                    if (isNumerable(i, t) && isNumerable(a, e))
                        return "string" === i && (t = parseInt(t)),
                        "string" === a && (e = parseInt(e)),
                        t - e;
                    if ($bm_isInstanceOfArray(t) && isNumerable(a, e))
                        return (t = t.slice(0))[0] = t[0] - e,
                        t;
                    if (isNumerable(i, t) && $bm_isInstanceOfArray(e))
                        return (e = e.slice(0))[0] = t - e[0],
                        e;
                    if ($bm_isInstanceOfArray(t) && $bm_isInstanceOfArray(e)) {
                        for (var n = 0, r = t.length, o = e.length, s = []; n < r || n < o; )
                            ("number" === typeof t[n] || t[n]instanceof Number) && ("number" === typeof e[n] || e[n]instanceof Number) ? s[n] = t[n] - e[n] : s[n] = void 0 === e[n] ? t[n] : t[n] || e[n],
                            n += 1;
                        return s
                    }
                    return 0
                }
                function mul(t, e) {
                    var i, a, n, r = typeof t, o = typeof e;
                    if (isNumerable(r, t) && isNumerable(o, e))
                        return t * e;
                    if ($bm_isInstanceOfArray(t) && isNumerable(o, e)) {
                        for (n = t.length,
                        i = createTypedArray("float32", n),
                        a = 0; a < n; a += 1)
                            i[a] = t[a] * e;
                        return i
                    }
                    if (isNumerable(r, t) && $bm_isInstanceOfArray(e)) {
                        for (n = e.length,
                        i = createTypedArray("float32", n),
                        a = 0; a < n; a += 1)
                            i[a] = t * e[a];
                        return i
                    }
                    return 0
                }
                function div(t, e) {
                    var i, a, n, r = typeof t, o = typeof e;
                    if (isNumerable(r, t) && isNumerable(o, e))
                        return t / e;
                    if ($bm_isInstanceOfArray(t) && isNumerable(o, e)) {
                        for (n = t.length,
                        i = createTypedArray("float32", n),
                        a = 0; a < n; a += 1)
                            i[a] = t[a] / e;
                        return i
                    }
                    if (isNumerable(r, t) && $bm_isInstanceOfArray(e)) {
                        for (n = e.length,
                        i = createTypedArray("float32", n),
                        a = 0; a < n; a += 1)
                            i[a] = t / e[a];
                        return i
                    }
                    return 0
                }
                function mod(t, e) {
                    return "string" === typeof t && (t = parseInt(t)),
                    "string" === typeof e && (e = parseInt(e)),
                    t % e
                }
                var $bm_sum = sum
                  , $bm_sub = sub
                  , $bm_mul = mul
                  , $bm_div = div
                  , $bm_mod = mod;
                function clamp(t, e, i) {
                    if (e > i) {
                        var a = i;
                        i = e,
                        e = a
                    }
                    return Math.min(Math.max(t, e), i)
                }
                function radiansToDegrees(t) {
                    return t / degToRads
                }
                var radians_to_degrees = radiansToDegrees;
                function degreesToRadians(t) {
                    return t * degToRads
                }
                var degrees_to_radians = radiansToDegrees
                  , helperLengthArray = [0, 0, 0, 0, 0, 0];
                function length(t, e) {
                    if ("number" === typeof t || t instanceof Number)
                        return e = e || 0,
                        Math.abs(t - e);
                    e || (e = helperLengthArray);
                    var i, a = Math.min(t.length, e.length), n = 0;
                    for (i = 0; i < a; i += 1)
                        n += Math.pow(e[i] - t[i], 2);
                    return Math.sqrt(n)
                }
                function normalize(t) {
                    return div(t, length(t))
                }
                function rgbToHsl(t) {
                    var e, i, a = t[0], n = t[1], r = t[2], o = Math.max(a, n, r), s = Math.min(a, n, r), l = (o + s) / 2;
                    if (o == s)
                        e = i = 0;
                    else {
                        var c = o - s;
                        switch (i = l > .5 ? c / (2 - o - s) : c / (o + s),
                        o) {
                        case a:
                            e = (n - r) / c + (n < r ? 6 : 0);
                            break;
                        case n:
                            e = (r - a) / c + 2;
                            break;
                        case r:
                            e = (a - n) / c + 4
                        }
                        e /= 6
                    }
                    return [e, i, l, t[3]]
                }
                function hue2rgb(t, e, i) {
                    return i < 0 && (i += 1),
                    i > 1 && (i -= 1),
                    i < 1 / 6 ? t + 6 * (e - t) * i : i < .5 ? e : i < 2 / 3 ? t + (e - t) * (2 / 3 - i) * 6 : t
                }
                function hslToRgb(t) {
                    var e, i, a, n = t[0], r = t[1], o = t[2];
                    if (0 === r)
                        e = i = a = o;
                    else {
                        var s = o < .5 ? o * (1 + r) : o + r - o * r
                          , l = 2 * o - s;
                        e = hue2rgb(l, s, n + 1 / 3),
                        i = hue2rgb(l, s, n),
                        a = hue2rgb(l, s, n - 1 / 3)
                    }
                    return [e, i, a, t[3]]
                }
                function linear(t, e, i, a, n) {
                    if (void 0 !== a && void 0 !== n || (a = e,
                    n = i,
                    e = 0,
                    i = 1),
                    i < e) {
                        var r = i;
                        i = e,
                        e = r
                    }
                    if (t <= e)
                        return a;
                    if (t >= i)
                        return n;
                    var o = i === e ? 0 : (t - e) / (i - e);
                    if (!a.length)
                        return a + (n - a) * o;
                    var s, l = a.length, c = createTypedArray("float32", l);
                    for (s = 0; s < l; s += 1)
                        c[s] = a[s] + (n[s] - a[s]) * o;
                    return c
                }
                function random(t, e) {
                    if (void 0 === e && (void 0 === t ? (t = 0,
                    e = 1) : (e = t,
                    t = void 0)),
                    e.length) {
                        var i, a = e.length;
                        t || (t = createTypedArray("float32", a));
                        var n = createTypedArray("float32", a)
                          , r = BMMath.random();
                        for (i = 0; i < a; i += 1)
                            n[i] = t[i] + r * (e[i] - t[i]);
                        return n
                    }
                    return void 0 === t && (t = 0),
                    t + BMMath.random() * (e - t)
                }
                function createPath(t, e, i, a) {
                    var n, r = t.length, o = shape_pool.newElement();
                    o.setPathData(!!a, r);
                    var s, l, c = [0, 0];
                    for (n = 0; n < r; n += 1)
                        s = e && e[n] ? e[n] : c,
                        l = i && i[n] ? i[n] : c,
                        o.setTripleAt(t[n][0], t[n][1], l[0] + t[n][0], l[1] + t[n][1], s[0] + t[n][0], s[1] + t[n][1], n, !0);
                    return o
                }
                function initiateExpression(elem, data, property) {
                    var val = data.x, needsVelocity = /velocity(?![\w\d])/.test(val), _needsRandom = -1 !== val.indexOf("random"), elemType = elem.data.ty, transform, $bm_transform, content, effect, thisProperty = property;
                    thisProperty.valueAtTime = thisProperty.getValueAtTime,
                    Object.defineProperty(thisProperty, "value", {
                        get: function() {
                            return thisProperty.v
                        }
                    }),
                    elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate,
                    elem.comp.displayStartTime = 0;
                    var inPoint = elem.data.ip / elem.comp.globalData.frameRate, outPoint = elem.data.op / elem.comp.globalData.frameRate, width = elem.data.sw ? elem.data.sw : 0, height = elem.data.sh ? elem.data.sh : 0, name = elem.data.nm, loopIn, loop_in, loopOut, loop_out, smooth, toWorld, fromWorld, fromComp, toComp, fromCompToSurface, position, rotation, anchorPoint, scale, thisLayer, thisComp, mask, valueAtTime, velocityAtTime, __expression_functions = [], scoped_bm_rt;
                    if (data.xf) {
                        var i, len = data.xf.length;
                        for (i = 0; i < len; i += 1)
                            __expression_functions[i] = eval("(function(){ return " + data.xf[i] + "}())")
                    }
                    var expression_function = eval("[function _expression_function(){" + val + ";scoped_bm_rt=$bm_rt}]")[0]
                      , numKeys = property.kf ? data.k.length : 0
                      , active = !this.data || !0 !== this.data.hd
                      , wiggle = function(t, e) {
                        var i, a, n = this.pv.length ? this.pv.length : 1, r = createTypedArray("float32", n);
                        var o = Math.floor(5 * time);
                        for (i = 0,
                        a = 0; i < o; ) {
                            for (a = 0; a < n; a += 1)
                                r[a] += -e + 2 * e * BMMath.random();
                            i += 1
                        }
                        var s = 5 * time
                          , l = s - Math.floor(s)
                          , c = createTypedArray("float32", n);
                        if (n > 1) {
                            for (a = 0; a < n; a += 1)
                                c[a] = this.pv[a] + r[a] + (-e + 2 * e * BMMath.random()) * l;
                            return c
                        }
                        return this.pv + r[0] + (-e + 2 * e * BMMath.random()) * l
                    }
                    .bind(this);
                    function loopInDuration(t, e) {
                        return loopIn(t, e, !0)
                    }
                    function loopOutDuration(t, e) {
                        return loopOut(t, e, !0)
                    }
                    thisProperty.loopIn && (loopIn = thisProperty.loopIn.bind(thisProperty),
                    loop_in = loopIn),
                    thisProperty.loopOut && (loopOut = thisProperty.loopOut.bind(thisProperty),
                    loop_out = loopOut),
                    thisProperty.smooth && (smooth = thisProperty.smooth.bind(thisProperty)),
                    this.getValueAtTime && (valueAtTime = this.getValueAtTime.bind(this)),
                    this.getVelocityAtTime && (velocityAtTime = this.getVelocityAtTime.bind(this));
                    var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface), time, velocity, value, text, textIndex, textTotal, selectorValue;
                    function lookAt(t, e) {
                        var i = [e[0] - t[0], e[1] - t[1], e[2] - t[2]]
                          , a = Math.atan2(i[0], Math.sqrt(i[1] * i[1] + i[2] * i[2])) / degToRads;
                        return [-Math.atan2(i[1], i[2]) / degToRads, a, 0]
                    }
                    function easeOut(t, e, i, a, n) {
                        return applyEase(easeOutBez, t, e, i, a, n)
                    }
                    function easeIn(t, e, i, a, n) {
                        return applyEase(easeInBez, t, e, i, a, n)
                    }
                    function ease(t, e, i, a, n) {
                        return applyEase(easeInOutBez, t, e, i, a, n)
                    }
                    function applyEase(t, e, i, a, n, r) {
                        void 0 === n ? (n = i,
                        r = a) : e = (e - i) / (a - i);
                        var o = t(e = e > 1 ? 1 : e < 0 ? 0 : e);
                        if ($bm_isInstanceOfArray(n)) {
                            var s, l = n.length, c = createTypedArray("float32", l);
                            for (s = 0; s < l; s += 1)
                                c[s] = (r[s] - n[s]) * o + n[s];
                            return c
                        }
                        return (r - n) * o + n
                    }
                    function nearestKey(t) {
                        var e, i, a, n = data.k.length;
                        if (data.k.length && "number" !== typeof data.k[0])
                            if (i = -1,
                            (t *= elem.comp.globalData.frameRate) < data.k[0].t)
                                i = 1,
                                a = data.k[0].t;
                            else {
                                for (e = 0; e < n - 1; e += 1) {
                                    if (t === data.k[e].t) {
                                        i = e + 1,
                                        a = data.k[e].t;
                                        break
                                    }
                                    if (t > data.k[e].t && t < data.k[e + 1].t) {
                                        t - data.k[e].t > data.k[e + 1].t - t ? (i = e + 2,
                                        a = data.k[e + 1].t) : (i = e + 1,
                                        a = data.k[e].t);
                                        break
                                    }
                                }
                                -1 === i && (i = e + 1,
                                a = data.k[e].t)
                            }
                        else
                            i = 0,
                            a = 0;
                        var r = {};
                        return r.index = i,
                        r.time = a / elem.comp.globalData.frameRate,
                        r
                    }
                    function key(t) {
                        var e, i, a, n;
                        if (!data.k.length || "number" === typeof data.k[0])
                            throw new Error("The property has no keyframe at index " + t);
                        for (t -= 1,
                        e = {
                            time: data.k[t].t / elem.comp.globalData.frameRate,
                            value: []
                        },
                        a = (n = t !== data.k.length - 1 || data.k[t].h ? data.k[t].s : data.k[t].s || 0 === data.k[t].s ? data.k[t - 1].s : data.k[t].e).length,
                        i = 0; i < a; i += 1)
                            e[i] = n[i],
                            e.value[i] = n[i];
                        return e
                    }
                    function framesToTime(t, e) {
                        return e || (e = elem.comp.globalData.frameRate),
                        t / e
                    }
                    function timeToFrames(t, e) {
                        return t || 0 === t || (t = time),
                        e || (e = elem.comp.globalData.frameRate),
                        t * e
                    }
                    function seedRandom(t) {
                        BMMath.seedrandom(randSeed + t)
                    }
                    function sourceRectAtTime() {
                        return elem.sourceRectAtTime()
                    }
                    function substring(t, e) {
                        return "string" === typeof value ? void 0 === e ? value.substring(t) : value.substring(t, e) : ""
                    }
                    function substr(t, e) {
                        return "string" === typeof value ? void 0 === e ? value.substr(t) : value.substr(t, e) : ""
                    }
                    var index = elem.data.ind, hasParent = !(!elem.hierarchy || !elem.hierarchy.length), parent, randSeed = Math.floor(1e6 * Math.random()), globalData = elem.globalData;
                    function executeExpression(t) {
                        return value = t,
                        _needsRandom && seedRandom(randSeed),
                        this.frameExpressionId === elem.globalData.frameId && "textSelector" !== this.propType ? value : ("textSelector" === this.propType && (textIndex = this.textIndex,
                        textTotal = this.textTotal,
                        selectorValue = this.selectorValue),
                        thisLayer || (text = elem.layerInterface.text,
                        thisLayer = elem.layerInterface,
                        thisComp = elem.comp.compInterface,
                        toWorld = thisLayer.toWorld.bind(thisLayer),
                        fromWorld = thisLayer.fromWorld.bind(thisLayer),
                        fromComp = thisLayer.fromComp.bind(thisLayer),
                        toComp = thisLayer.toComp.bind(thisLayer),
                        mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null,
                        fromCompToSurface = fromComp),
                        transform || (transform = elem.layerInterface("ADBE Transform Group"),
                        $bm_transform = transform,
                        transform && (anchorPoint = transform.anchorPoint)),
                        4 !== elemType || content || (content = thisLayer("ADBE Root Vectors Group")),
                        effect || (effect = thisLayer(4)),
                        (hasParent = !(!elem.hierarchy || !elem.hierarchy.length)) && !parent && (parent = elem.hierarchy[0].layerInterface),
                        time = this.comp.renderedFrame / this.comp.globalData.frameRate,
                        needsVelocity && (velocity = velocityAtTime(time)),
                        expression_function(),
                        this.frameExpressionId = elem.globalData.frameId,
                        "shape" === scoped_bm_rt.propType && (scoped_bm_rt = scoped_bm_rt.v),
                        scoped_bm_rt)
                    }
                    return executeExpression
                }
                return ob.initiateExpression = initiateExpression,
                ob
            }()
              , expressionHelpers = function() {
                return {
                    searchExpressions: function(t, e, i) {
                        e.x && (i.k = !0,
                        i.x = !0,
                        i.initiateExpression = ExpressionManager.initiateExpression,
                        i.effectsSequence.push(i.initiateExpression(t, e, i).bind(i)))
                    },
                    getSpeedAtTime: function(t) {
                        var e = this.getValueAtTime(t)
                          , i = this.getValueAtTime(t + -.01)
                          , a = 0;
                        if (e.length) {
                            var n;
                            for (n = 0; n < e.length; n += 1)
                                a += Math.pow(i[n] - e[n], 2);
                            a = 100 * Math.sqrt(a)
                        } else
                            a = 0;
                        return a
                    },
                    getVelocityAtTime: function(t) {
                        if (void 0 !== this.vel)
                            return this.vel;
                        var e, i, a = this.getValueAtTime(t), n = this.getValueAtTime(t + -.001);
                        if (a.length)
                            for (e = createTypedArray("float32", a.length),
                            i = 0; i < a.length; i += 1)
                                e[i] = (n[i] - a[i]) / -.001;
                        else
                            e = (n - a) / -.001;
                        return e
                    },
                    getValueAtTime: function(t) {
                        return t *= this.elem.globalData.frameRate,
                        (t -= this.offsetTime) !== this._cachingAtTime.lastFrame && (this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < t ? this._cachingAtTime.lastIndex : 0,
                        this._cachingAtTime.value = this.interpolateValue(t, this._cachingAtTime),
                        this._cachingAtTime.lastFrame = t),
                        this._cachingAtTime.value
                    },
                    getStaticValueAtTime: function() {
                        return this.pv
                    },
                    setGroupProperty: function(t) {
                        this.propertyGroup = t
                    }
                }
            }();
            !function() {
                function t(t, e, i) {
                    if (!this.k || !this.keyframes)
                        return this.pv;
                    t = t ? t.toLowerCase() : "";
                    var a, n, r, o, s, l = this.comp.renderedFrame, c = this.keyframes, h = c[c.length - 1].t;
                    if (l <= h)
                        return this.pv;
                    if (i ? n = h - (a = e ? Math.abs(h - elem.comp.globalData.frameRate * e) : Math.max(0, h - this.elem.data.ip)) : ((!e || e > c.length - 1) && (e = c.length - 1),
                    a = h - (n = c[c.length - 1 - e].t)),
                    "pingpong" === t) {
                        if (Math.floor((l - n) / a) % 2 !== 0)
                            return this.getValueAtTime((a - (l - n) % a + n) / this.comp.globalData.frameRate, 0)
                    } else {
                        if ("offset" === t) {
                            var p = this.getValueAtTime(n / this.comp.globalData.frameRate, 0)
                              , d = this.getValueAtTime(h / this.comp.globalData.frameRate, 0)
                              , u = this.getValueAtTime(((l - n) % a + n) / this.comp.globalData.frameRate, 0)
                              , m = Math.floor((l - n) / a);
                            if (this.pv.length) {
                                for (o = (s = new Array(p.length)).length,
                                r = 0; r < o; r += 1)
                                    s[r] = (d[r] - p[r]) * m + u[r];
                                return s
                            }
                            return (d - p) * m + u
                        }
                        if ("continue" === t) {
                            var f = this.getValueAtTime(h / this.comp.globalData.frameRate, 0)
                              , g = this.getValueAtTime((h - .001) / this.comp.globalData.frameRate, 0);
                            if (this.pv.length) {
                                for (o = (s = new Array(f.length)).length,
                                r = 0; r < o; r += 1)
                                    s[r] = f[r] + (f[r] - g[r]) * ((l - h) / this.comp.globalData.frameRate) / 5e-4;
                                return s
                            }
                            return f + (l - h) / .001 * (f - g)
                        }
                    }
                    return this.getValueAtTime(((l - n) % a + n) / this.comp.globalData.frameRate, 0)
                }
                function e(t, e, i) {
                    if (!this.k)
                        return this.pv;
                    t = t ? t.toLowerCase() : "";
                    var a, n, r, o, s, l = this.comp.renderedFrame, c = this.keyframes, h = c[0].t;
                    if (l >= h)
                        return this.pv;
                    if (i ? n = h + (a = e ? Math.abs(elem.comp.globalData.frameRate * e) : Math.max(0, this.elem.data.op - h)) : ((!e || e > c.length - 1) && (e = c.length - 1),
                    a = (n = c[e].t) - h),
                    "pingpong" === t) {
                        if (Math.floor((h - l) / a) % 2 === 0)
                            return this.getValueAtTime(((h - l) % a + h) / this.comp.globalData.frameRate, 0)
                    } else {
                        if ("offset" === t) {
                            var p = this.getValueAtTime(h / this.comp.globalData.frameRate, 0)
                              , d = this.getValueAtTime(n / this.comp.globalData.frameRate, 0)
                              , u = this.getValueAtTime((a - (h - l) % a + h) / this.comp.globalData.frameRate, 0)
                              , m = Math.floor((h - l) / a) + 1;
                            if (this.pv.length) {
                                for (o = (s = new Array(p.length)).length,
                                r = 0; r < o; r += 1)
                                    s[r] = u[r] - (d[r] - p[r]) * m;
                                return s
                            }
                            return u - (d - p) * m
                        }
                        if ("continue" === t) {
                            var f = this.getValueAtTime(h / this.comp.globalData.frameRate, 0)
                              , g = this.getValueAtTime((h + .001) / this.comp.globalData.frameRate, 0);
                            if (this.pv.length) {
                                for (o = (s = new Array(f.length)).length,
                                r = 0; r < o; r += 1)
                                    s[r] = f[r] + (f[r] - g[r]) * (h - l) / .001;
                                return s
                            }
                            return f + (f - g) * (h - l) / .001
                        }
                    }
                    return this.getValueAtTime((a - (h - l) % a + h) / this.comp.globalData.frameRate, 0)
                }
                function i(t, e) {
                    if (!this.k)
                        return this.pv;
                    if (t = .5 * (t || .4),
                    (e = Math.floor(e || 5)) <= 1)
                        return this.pv;
                    var i, a, n = this.comp.renderedFrame / this.comp.globalData.frameRate, r = n - t, o = e > 1 ? (n + t - r) / (e - 1) : 1, s = 0, l = 0;
                    for (i = this.pv.length ? createTypedArray("float32", this.pv.length) : 0; s < e; ) {
                        if (a = this.getValueAtTime(r + s * o),
                        this.pv.length)
                            for (l = 0; l < this.pv.length; l += 1)
                                i[l] += a[l];
                        else
                            i += a;
                        s += 1
                    }
                    if (this.pv.length)
                        for (l = 0; l < this.pv.length; l += 1)
                            i[l] /= e;
                    else
                        i /= e;
                    return i
                }
                var a = TransformPropertyFactory.getTransformProperty;
                TransformPropertyFactory.getTransformProperty = function(t, e, i) {
                    var n = a(t, e, i);
                    return n.dynamicProperties.length ? n.getValueAtTime = function(t) {
                        console.warn("Transform at time not supported")
                    }
                    .bind(n) : n.getValueAtTime = function(t) {}
                    .bind(n),
                    n.setGroupProperty = expressionHelpers.setGroupProperty,
                    n
                }
                ;
                var n = PropertyFactory.getProp;
                PropertyFactory.getProp = function(a, r, o, s, l) {
                    var c = n(a, r, o, s, l);
                    c.kf ? c.getValueAtTime = expressionHelpers.getValueAtTime.bind(c) : c.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(c),
                    c.setGroupProperty = expressionHelpers.setGroupProperty,
                    c.loopOut = t,
                    c.loopIn = e,
                    c.smooth = i,
                    c.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(c),
                    c.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(c),
                    c.numKeys = 1 === r.a ? r.k.length : 0,
                    c.propertyIndex = r.ix;
                    var h = 0;
                    return 0 !== o && (h = createTypedArray("float32", 1 === r.a ? r.k[0].s.length : r.k.length)),
                    c._cachingAtTime = {
                        lastFrame: initialDefaultFrame,
                        lastIndex: 0,
                        value: h
                    },
                    expressionHelpers.searchExpressions(a, r, c),
                    c.k && l.addDynamicProperty(c),
                    c
                }
                ;
                var r = ShapePropertyFactory.getConstructorFunction()
                  , o = ShapePropertyFactory.getKeyframedConstructorFunction();
                function s() {}
                s.prototype = {
                    vertices: function(t, e) {
                        this.k && this.getValue();
                        var i = this.v;
                        void 0 !== e && (i = this.getValueAtTime(e, 0));
                        var a, n = i._length, r = i[t], o = i.v, s = createSizedArray(n);
                        for (a = 0; a < n; a += 1)
                            s[a] = "i" === t || "o" === t ? [r[a][0] - o[a][0], r[a][1] - o[a][1]] : [r[a][0], r[a][1]];
                        return s
                    },
                    points: function(t) {
                        return this.vertices("v", t)
                    },
                    inTangents: function(t) {
                        return this.vertices("i", t)
                    },
                    outTangents: function(t) {
                        return this.vertices("o", t)
                    },
                    isClosed: function() {
                        return this.v.c
                    },
                    pointOnPath: function(t, e) {
                        var i = this.v;
                        void 0 !== e && (i = this.getValueAtTime(e, 0)),
                        this._segmentsLength || (this._segmentsLength = bez.getSegmentsLength(i));
                        for (var a, n = this._segmentsLength, r = n.lengths, o = n.totalLength * t, s = 0, l = r.length, c = 0; s < l; ) {
                            if (c + r[s].addedLength > o) {
                                var h = s
                                  , p = i.c && s === l - 1 ? 0 : s + 1
                                  , d = (o - c) / r[s].addedLength;
                                a = bez.getPointInSegment(i.v[h], i.v[p], i.o[h], i.i[p], d, r[s]);
                                break
                            }
                            c += r[s].addedLength,
                            s += 1
                        }
                        return a || (a = i.c ? [i.v[0][0], i.v[0][1]] : [i.v[i._length - 1][0], i.v[i._length - 1][1]]),
                        a
                    },
                    vectorOnPath: function(t, e, i) {
                        t = 1 == t ? this.v.c ? 0 : .999 : t;
                        var a = this.pointOnPath(t, e)
                          , n = this.pointOnPath(t + .001, e)
                          , r = n[0] - a[0]
                          , o = n[1] - a[1]
                          , s = Math.sqrt(Math.pow(r, 2) + Math.pow(o, 2));
                        return 0 === s ? [0, 0] : "tangent" === i ? [r / s, o / s] : [-o / s, r / s]
                    },
                    tangentOnPath: function(t, e) {
                        return this.vectorOnPath(t, e, "tangent")
                    },
                    normalOnPath: function(t, e) {
                        return this.vectorOnPath(t, e, "normal")
                    },
                    setGroupProperty: expressionHelpers.setGroupProperty,
                    getValueAtTime: expressionHelpers.getStaticValueAtTime
                },
                extendPrototype([s], r),
                extendPrototype([s], o),
                o.prototype.getValueAtTime = function(t) {
                    return this._cachingAtTime || (this._cachingAtTime = {
                        shapeValue: shape_pool.clone(this.pv),
                        lastIndex: 0,
                        lastTime: initialDefaultFrame
                    }),
                    t *= this.elem.globalData.frameRate,
                    (t -= this.offsetTime) !== this._cachingAtTime.lastTime && (this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < t ? this._caching.lastIndex : 0,
                    this._cachingAtTime.lastTime = t,
                    this.interpolateShape(t, this._cachingAtTime.shapeValue, this._cachingAtTime)),
                    this._cachingAtTime.shapeValue
                }
                ,
                o.prototype.initiateExpression = ExpressionManager.initiateExpression;
                var l = ShapePropertyFactory.getShapeProp;
                ShapePropertyFactory.getShapeProp = function(t, e, i, a, n) {
                    var r = l(t, e, i, a, n);
                    return r.propertyIndex = e.ix,
                    r.lock = !1,
                    3 === i ? expressionHelpers.searchExpressions(t, e.pt, r) : 4 === i && expressionHelpers.searchExpressions(t, e.ks, r),
                    r.k && t.addDynamicProperty(r),
                    r
                }
            }(),
            function() {
                TextProperty.prototype.getExpressionValue = function(t, e) {
                    var i = this.calculateExpression(e);
                    if (t.t !== i) {
                        var a = {};
                        return this.copyData(a, t),
                        a.t = i.toString(),
                        a.__complete = !1,
                        a
                    }
                    return t
                }
                ,
                TextProperty.prototype.searchProperty = function() {
                    var t = this.searchKeyframes()
                      , e = this.searchExpressions();
                    return this.kf = t || e,
                    this.kf
                }
                ,
                TextProperty.prototype.searchExpressions = function() {
                    if (this.data.d.x)
                        return this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this),
                        this.addEffect(this.getExpressionValue.bind(this)),
                        !0
                }
            }();
            var ShapeExpressionInterface = function() {
                function t(t, p, d) {
                    var u, m = [], f = t ? t.length : 0;
                    for (u = 0; u < f; u += 1)
                        "gr" == t[u].ty ? m.push(e(t[u], p[u], d)) : "fl" == t[u].ty ? m.push(i(t[u], p[u], d)) : "st" == t[u].ty ? m.push(a(t[u], p[u], d)) : "tm" == t[u].ty ? m.push(n(t[u], p[u], d)) : "tr" == t[u].ty || ("el" == t[u].ty ? m.push(r(t[u], p[u], d)) : "sr" == t[u].ty ? m.push(o(t[u], p[u], d)) : "sh" == t[u].ty ? m.push(h(t[u], p[u], d)) : "rc" == t[u].ty ? m.push(s(t[u], p[u], d)) : "rd" == t[u].ty ? m.push(l(t[u], p[u], d)) : "rp" == t[u].ty && m.push(c(t[u], p[u], d)));
                    return m
                }
                function e(e, i, a) {
                    var n = function(t) {
                        switch (t) {
                        case "ADBE Vectors Group":
                        case "Contents":
                        case 2:
                            return n.content;
                        default:
                            return n.transform
                        }
                    };
                    n.propertyGroup = function(t) {
                        return 1 === t ? n : a(t - 1)
                    }
                    ;
                    var r = function(e, i, a) {
                        var n, r = function(t) {
                            for (var e = 0, i = n.length; e < i; ) {
                                if (n[e]._name === t || n[e].mn === t || n[e].propertyIndex === t || n[e].ix === t || n[e].ind === t)
                                    return n[e];
                                e += 1
                            }
                            if ("number" === typeof t)
                                return n[t - 1]
                        };
                        return r.propertyGroup = function(t) {
                            return 1 === t ? r : a(t - 1)
                        }
                        ,
                        n = t(e.it, i.it, r.propertyGroup),
                        r.numProperties = n.length,
                        r.propertyIndex = e.cix,
                        r._name = e.nm,
                        r
                    }(e, i, n.propertyGroup)
                      , o = function(t, e, i) {
                        function a(t) {
                            return 1 == t ? n : i(--t)
                        }
                        e.transform.mProps.o.setGroupProperty(a),
                        e.transform.mProps.p.setGroupProperty(a),
                        e.transform.mProps.a.setGroupProperty(a),
                        e.transform.mProps.s.setGroupProperty(a),
                        e.transform.mProps.r.setGroupProperty(a),
                        e.transform.mProps.sk && (e.transform.mProps.sk.setGroupProperty(a),
                        e.transform.mProps.sa.setGroupProperty(a));
                        function n(e) {
                            return t.a.ix === e || "Anchor Point" === e ? n.anchorPoint : t.o.ix === e || "Opacity" === e ? n.opacity : t.p.ix === e || "Position" === e ? n.position : t.r.ix === e || "Rotation" === e || "ADBE Vector Rotation" === e ? n.rotation : t.s.ix === e || "Scale" === e ? n.scale : t.sk && t.sk.ix === e || "Skew" === e ? n.skew : t.sa && t.sa.ix === e || "Skew Axis" === e ? n.skewAxis : void 0
                        }
                        return e.transform.op.setGroupProperty(a),
                        Object.defineProperties(n, {
                            opacity: {
                                get: ExpressionPropertyInterface(e.transform.mProps.o)
                            },
                            position: {
                                get: ExpressionPropertyInterface(e.transform.mProps.p)
                            },
                            anchorPoint: {
                                get: ExpressionPropertyInterface(e.transform.mProps.a)
                            },
                            scale: {
                                get: ExpressionPropertyInterface(e.transform.mProps.s)
                            },
                            rotation: {
                                get: ExpressionPropertyInterface(e.transform.mProps.r)
                            },
                            skew: {
                                get: ExpressionPropertyInterface(e.transform.mProps.sk)
                            },
                            skewAxis: {
                                get: ExpressionPropertyInterface(e.transform.mProps.sa)
                            },
                            _name: {
                                value: t.nm
                            }
                        }),
                        n.ty = "tr",
                        n.mn = t.mn,
                        n.propertyGroup = i,
                        n
                    }(e.it[e.it.length - 1], i.it[i.it.length - 1], n.propertyGroup);
                    return n.content = r,
                    n.transform = o,
                    Object.defineProperty(n, "_name", {
                        get: function() {
                            return e.nm
                        }
                    }),
                    n.numProperties = e.np,
                    n.propertyIndex = e.ix,
                    n.nm = e.nm,
                    n.mn = e.mn,
                    n
                }
                function i(t, e, i) {
                    function a(t) {
                        return "Color" === t || "color" === t ? a.color : "Opacity" === t || "opacity" === t ? a.opacity : void 0
                    }
                    return Object.defineProperties(a, {
                        color: {
                            get: ExpressionPropertyInterface(e.c)
                        },
                        opacity: {
                            get: ExpressionPropertyInterface(e.o)
                        },
                        _name: {
                            value: t.nm
                        },
                        mn: {
                            value: t.mn
                        }
                    }),
                    e.c.setGroupProperty(i),
                    e.o.setGroupProperty(i),
                    a
                }
                function a(t, e, i) {
                    function a(t) {
                        return 1 === t ? ob : i(t - 1)
                    }
                    function n(t) {
                        return 1 === t ? l : a(t - 1)
                    }
                    function r(i) {
                        Object.defineProperty(l, t.d[i].nm, {
                            get: ExpressionPropertyInterface(e.d.dataProps[i].p)
                        })
                    }
                    var o, s = t.d ? t.d.length : 0, l = {};
                    for (o = 0; o < s; o += 1)
                        r(o),
                        e.d.dataProps[o].p.setGroupProperty(n);
                    function c(t) {
                        return "Color" === t || "color" === t ? c.color : "Opacity" === t || "opacity" === t ? c.opacity : "Stroke Width" === t || "stroke width" === t ? c.strokeWidth : void 0
                    }
                    return Object.defineProperties(c, {
                        color: {
                            get: ExpressionPropertyInterface(e.c)
                        },
                        opacity: {
                            get: ExpressionPropertyInterface(e.o)
                        },
                        strokeWidth: {
                            get: ExpressionPropertyInterface(e.w)
                        },
                        dash: {
                            get: function() {
                                return l
                            }
                        },
                        _name: {
                            value: t.nm
                        },
                        mn: {
                            value: t.mn
                        }
                    }),
                    e.c.setGroupProperty(a),
                    e.o.setGroupProperty(a),
                    e.w.setGroupProperty(a),
                    c
                }
                function n(t, e, i) {
                    function a(t) {
                        return 1 == t ? n : i(--t)
                    }
                    function n(e) {
                        return e === t.e.ix || "End" === e || "end" === e ? n.end : e === t.s.ix ? n.start : e === t.o.ix ? n.offset : void 0
                    }
                    return n.propertyIndex = t.ix,
                    e.s.setGroupProperty(a),
                    e.e.setGroupProperty(a),
                    e.o.setGroupProperty(a),
                    n.propertyIndex = t.ix,
                    n.propertyGroup = i,
                    Object.defineProperties(n, {
                        start: {
                            get: ExpressionPropertyInterface(e.s)
                        },
                        end: {
                            get: ExpressionPropertyInterface(e.e)
                        },
                        offset: {
                            get: ExpressionPropertyInterface(e.o)
                        },
                        _name: {
                            value: t.nm
                        }
                    }),
                    n.mn = t.mn,
                    n
                }
                function r(t, e, i) {
                    function a(t) {
                        return 1 == t ? r : i(--t)
                    }
                    r.propertyIndex = t.ix;
                    var n = "tm" === e.sh.ty ? e.sh.prop : e.sh;
                    function r(e) {
                        return t.p.ix === e ? r.position : t.s.ix === e ? r.size : void 0
                    }
                    return n.s.setGroupProperty(a),
                    n.p.setGroupProperty(a),
                    Object.defineProperties(r, {
                        size: {
                            get: ExpressionPropertyInterface(n.s)
                        },
                        position: {
                            get: ExpressionPropertyInterface(n.p)
                        },
                        _name: {
                            value: t.nm
                        }
                    }),
                    r.mn = t.mn,
                    r
                }
                function o(t, e, i) {
                    function a(t) {
                        return 1 == t ? r : i(--t)
                    }
                    var n = "tm" === e.sh.ty ? e.sh.prop : e.sh;
                    function r(e) {
                        return t.p.ix === e ? r.position : t.r.ix === e ? r.rotation : t.pt.ix === e ? r.points : t.or.ix === e || "ADBE Vector Star Outer Radius" === e ? r.outerRadius : t.os.ix === e ? r.outerRoundness : !t.ir || t.ir.ix !== e && "ADBE Vector Star Inner Radius" !== e ? t.is && t.is.ix === e ? r.innerRoundness : void 0 : r.innerRadius
                    }
                    return r.propertyIndex = t.ix,
                    n.or.setGroupProperty(a),
                    n.os.setGroupProperty(a),
                    n.pt.setGroupProperty(a),
                    n.p.setGroupProperty(a),
                    n.r.setGroupProperty(a),
                    t.ir && (n.ir.setGroupProperty(a),
                    n.is.setGroupProperty(a)),
                    Object.defineProperties(r, {
                        position: {
                            get: ExpressionPropertyInterface(n.p)
                        },
                        rotation: {
                            get: ExpressionPropertyInterface(n.r)
                        },
                        points: {
                            get: ExpressionPropertyInterface(n.pt)
                        },
                        outerRadius: {
                            get: ExpressionPropertyInterface(n.or)
                        },
                        outerRoundness: {
                            get: ExpressionPropertyInterface(n.os)
                        },
                        innerRadius: {
                            get: ExpressionPropertyInterface(n.ir)
                        },
                        innerRoundness: {
                            get: ExpressionPropertyInterface(n.is)
                        },
                        _name: {
                            value: t.nm
                        }
                    }),
                    r.mn = t.mn,
                    r
                }
                function s(t, e, i) {
                    function a(t) {
                        return 1 == t ? r : i(--t)
                    }
                    var n = "tm" === e.sh.ty ? e.sh.prop : e.sh;
                    function r(e) {
                        return t.p.ix === e ? r.position : t.r.ix === e ? r.roundness : t.s.ix === e || "Size" === e || "ADBE Vector Rect Size" === e ? r.size : void 0
                    }
                    return r.propertyIndex = t.ix,
                    n.p.setGroupProperty(a),
                    n.s.setGroupProperty(a),
                    n.r.setGroupProperty(a),
                    Object.defineProperties(r, {
                        position: {
                            get: ExpressionPropertyInterface(n.p)
                        },
                        roundness: {
                            get: ExpressionPropertyInterface(n.r)
                        },
                        size: {
                            get: ExpressionPropertyInterface(n.s)
                        },
                        _name: {
                            value: t.nm
                        }
                    }),
                    r.mn = t.mn,
                    r
                }
                function l(t, e, i) {
                    var a = e;
                    function n(e) {
                        if (t.r.ix === e || "Round Corners 1" === e)
                            return n.radius
                    }
                    return n.propertyIndex = t.ix,
                    a.rd.setGroupProperty(function(t) {
                        return 1 == t ? n : i(--t)
                    }),
                    Object.defineProperties(n, {
                        radius: {
                            get: ExpressionPropertyInterface(a.rd)
                        },
                        _name: {
                            value: t.nm
                        }
                    }),
                    n.mn = t.mn,
                    n
                }
                function c(t, e, i) {
                    function a(t) {
                        return 1 == t ? r : i(--t)
                    }
                    var n = e;
                    function r(e) {
                        return t.c.ix === e || "Copies" === e ? r.copies : t.o.ix === e || "Offset" === e ? r.offset : void 0
                    }
                    return r.propertyIndex = t.ix,
                    n.c.setGroupProperty(a),
                    n.o.setGroupProperty(a),
                    Object.defineProperties(r, {
                        copies: {
                            get: ExpressionPropertyInterface(n.c)
                        },
                        offset: {
                            get: ExpressionPropertyInterface(n.o)
                        },
                        _name: {
                            value: t.nm
                        }
                    }),
                    r.mn = t.mn,
                    r
                }
                function h(t, e, i) {
                    var a = e.sh;
                    function n(t) {
                        if ("Shape" === t || "shape" === t || "Path" === t || "path" === t || "ADBE Vector Shape" === t || 2 === t)
                            return n.path
                    }
                    return a.setGroupProperty(function(t) {
                        return 1 == t ? n : i(--t)
                    }),
                    Object.defineProperties(n, {
                        path: {
                            get: function() {
                                return a.k && a.getValue(),
                                a
                            }
                        },
                        shape: {
                            get: function() {
                                return a.k && a.getValue(),
                                a
                            }
                        },
                        _name: {
                            value: t.nm
                        },
                        ix: {
                            value: t.ix
                        },
                        mn: {
                            value: t.mn
                        }
                    }),
                    n
                }
                return function(e, i, a) {
                    var n;
                    function r(t) {
                        if ("number" === typeof t)
                            return n[t - 1];
                        for (var e = 0, i = n.length; e < i; ) {
                            if (n[e]._name === t)
                                return n[e];
                            e += 1
                        }
                    }
                    return r.propertyGroup = a,
                    n = t(e, i, r),
                    r.numProperties = n.length,
                    r
                }
            }()
              , TextExpressionInterface = function(t) {
                var e;
                function i() {}
                return Object.defineProperty(i, "sourceText", {
                    get: function() {
                        t.textProperty.getValue();
                        var i = t.textProperty.currentData.t;
                        return void 0 !== i && (t.textProperty.currentData.t = void 0,
                        (e = new String(i)).value = i || new String(i)),
                        e
                    }
                }),
                i
            }
              , LayerExpressionInterface = function() {
                function t(t, e) {
                    var i = new Matrix;
                    if (i.reset(),
                    this._elem.finalTransform.mProp.applyToMatrix(i),
                    this._elem.hierarchy && this._elem.hierarchy.length) {
                        var a, n = this._elem.hierarchy.length;
                        for (a = 0; a < n; a += 1)
                            this._elem.hierarchy[a].finalTransform.mProp.applyToMatrix(i);
                        return i.applyToPointArray(t[0], t[1], t[2] || 0)
                    }
                    return i.applyToPointArray(t[0], t[1], t[2] || 0)
                }
                function e(t, e) {
                    var i = new Matrix;
                    if (i.reset(),
                    this._elem.finalTransform.mProp.applyToMatrix(i),
                    this._elem.hierarchy && this._elem.hierarchy.length) {
                        var a, n = this._elem.hierarchy.length;
                        for (a = 0; a < n; a += 1)
                            this._elem.hierarchy[a].finalTransform.mProp.applyToMatrix(i);
                        return i.inversePoint(t)
                    }
                    return i.inversePoint(t)
                }
                function i(t) {
                    var e = new Matrix;
                    if (e.reset(),
                    this._elem.finalTransform.mProp.applyToMatrix(e),
                    this._elem.hierarchy && this._elem.hierarchy.length) {
                        var i, a = this._elem.hierarchy.length;
                        for (i = 0; i < a; i += 1)
                            this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(e);
                        return e.inversePoint(t)
                    }
                    return e.inversePoint(t)
                }
                function a() {
                    return [1, 1, 1, 1]
                }
                return function(n) {
                    var r;
                    function o(t) {
                        switch (t) {
                        case "ADBE Root Vectors Group":
                        case "Contents":
                        case 2:
                            return o.shapeInterface;
                        case 1:
                        case 6:
                        case "Transform":
                        case "transform":
                        case "ADBE Transform Group":
                            return r;
                        case 4:
                        case "ADBE Effect Parade":
                        case "effects":
                        case "Effects":
                            return o.effect
                        }
                    }
                    o.toWorld = t,
                    o.fromWorld = e,
                    o.toComp = t,
                    o.fromComp = i,
                    o.sampleImage = a,
                    o.sourceRectAtTime = n.sourceRectAtTime.bind(n),
                    o._elem = n;
                    var s = getDescriptor(r = TransformExpressionInterface(n.finalTransform.mProp), "anchorPoint");
                    return Object.defineProperties(o, {
                        hasParent: {
                            get: function() {
                                return n.hierarchy.length
                            }
                        },
                        parent: {
                            get: function() {
                                return n.hierarchy[0].layerInterface
                            }
                        },
                        rotation: getDescriptor(r, "rotation"),
                        scale: getDescriptor(r, "scale"),
                        position: getDescriptor(r, "position"),
                        opacity: getDescriptor(r, "opacity"),
                        anchorPoint: s,
                        anchor_point: s,
                        transform: {
                            get: function() {
                                return r
                            }
                        },
                        active: {
                            get: function() {
                                return n.isInRange
                            }
                        }
                    }),
                    o.startTime = n.data.st,
                    o.index = n.data.ind,
                    o.source = n.data.refId,
                    o.height = 0 === n.data.ty ? n.data.h : 100,
                    o.width = 0 === n.data.ty ? n.data.w : 100,
                    o.inPoint = n.data.ip / n.comp.globalData.frameRate,
                    o.outPoint = n.data.op / n.comp.globalData.frameRate,
                    o._name = n.data.nm,
                    o.registerMaskInterface = function(t) {
                        o.mask = new MaskManagerInterface(t,n)
                    }
                    ,
                    o.registerEffectsInterface = function(t) {
                        o.effect = t
                    }
                    ,
                    o
                }
            }()
              , CompExpressionInterface = function(t) {
                function e(e) {
                    for (var i = 0, a = t.layers.length; i < a; ) {
                        if (t.layers[i].nm === e || t.layers[i].ind === e)
                            return t.elements[i].layerInterface;
                        i += 1
                    }
                    return null
                }
                return Object.defineProperty(e, "_name", {
                    value: t.data.nm
                }),
                e.layer = e,
                e.pixelAspect = 1,
                e.height = t.data.h || t.globalData.compSize.h,
                e.width = t.data.w || t.globalData.compSize.w,
                e.pixelAspect = 1,
                e.frameDuration = 1 / t.globalData.frameRate,
                e.displayStartTime = 0,
                e.numLayers = t.layers.length,
                e
            }
              , TransformExpressionInterface = function(t) {
                function e(t) {
                    switch (t) {
                    case "scale":
                    case "Scale":
                    case "ADBE Scale":
                    case 6:
                        return e.scale;
                    case "rotation":
                    case "Rotation":
                    case "ADBE Rotation":
                    case "ADBE Rotate Z":
                    case 10:
                        return e.rotation;
                    case "ADBE Rotate X":
                        return e.xRotation;
                    case "ADBE Rotate Y":
                        return e.yRotation;
                    case "position":
                    case "Position":
                    case "ADBE Position":
                    case 2:
                        return e.position;
                    case "ADBE Position_0":
                        return e.xPosition;
                    case "ADBE Position_1":
                        return e.yPosition;
                    case "ADBE Position_2":
                        return e.zPosition;
                    case "anchorPoint":
                    case "AnchorPoint":
                    case "Anchor Point":
                    case "ADBE AnchorPoint":
                    case 1:
                        return e.anchorPoint;
                    case "opacity":
                    case "Opacity":
                    case 11:
                        return e.opacity
                    }
                }
                if (Object.defineProperty(e, "rotation", {
                    get: ExpressionPropertyInterface(t.r || t.rz)
                }),
                Object.defineProperty(e, "zRotation", {
                    get: ExpressionPropertyInterface(t.rz || t.r)
                }),
                Object.defineProperty(e, "xRotation", {
                    get: ExpressionPropertyInterface(t.rx)
                }),
                Object.defineProperty(e, "yRotation", {
                    get: ExpressionPropertyInterface(t.ry)
                }),
                Object.defineProperty(e, "scale", {
                    get: ExpressionPropertyInterface(t.s)
                }),
                t.p)
                    var i = ExpressionPropertyInterface(t.p);
                return Object.defineProperty(e, "position", {
                    get: function() {
                        return t.p ? i() : [t.px.v, t.py.v, t.pz ? t.pz.v : 0]
                    }
                }),
                Object.defineProperty(e, "xPosition", {
                    get: ExpressionPropertyInterface(t.px)
                }),
                Object.defineProperty(e, "yPosition", {
                    get: ExpressionPropertyInterface(t.py)
                }),
                Object.defineProperty(e, "zPosition", {
                    get: ExpressionPropertyInterface(t.pz)
                }),
                Object.defineProperty(e, "anchorPoint", {
                    get: ExpressionPropertyInterface(t.a)
                }),
                Object.defineProperty(e, "opacity", {
                    get: ExpressionPropertyInterface(t.o)
                }),
                Object.defineProperty(e, "skew", {
                    get: ExpressionPropertyInterface(t.sk)
                }),
                Object.defineProperty(e, "skewAxis", {
                    get: ExpressionPropertyInterface(t.sa)
                }),
                Object.defineProperty(e, "orientation", {
                    get: ExpressionPropertyInterface(t.or)
                }),
                e
            }
              , ProjectInterface = function() {
                function t(t) {
                    this.compositions.push(t)
                }
                return function() {
                    function e(t) {
                        for (var e = 0, i = this.compositions.length; e < i; ) {
                            if (this.compositions[e].data && this.compositions[e].data.nm === t)
                                return this.compositions[e].prepareFrame && this.compositions[e].data.xt && this.compositions[e].prepareFrame(this.currentFrame),
                                this.compositions[e].compInterface;
                            e += 1
                        }
                    }
                    return e.compositions = [],
                    e.currentFrame = 0,
                    e.registerComposition = t,
                    e
                }
            }()
              , EffectsExpressionInterface = function() {
                function t(i, a, n, r) {
                    var o, s = [], l = i.ef.length;
                    for (o = 0; o < l; o += 1)
                        5 === i.ef[o].ty ? s.push(t(i.ef[o], a.effectElements[o], a.effectElements[o].propertyGroup, r)) : s.push(e(a.effectElements[o], i.ef[o].ty, r, c));
                    function c(t) {
                        return 1 === t ? h : n(t - 1)
                    }
                    var h = function(t) {
                        for (var e = i.ef, a = 0, n = e.length; a < n; ) {
                            if (t === e[a].nm || t === e[a].mn || t === e[a].ix)
                                return 5 === e[a].ty ? s[a] : s[a]();
                            a += 1
                        }
                        return s[0]()
                    };
                    return h.propertyGroup = c,
                    "ADBE Color Control" === i.mn && Object.defineProperty(h, "color", {
                        get: function() {
                            return s[0]()
                        }
                    }),
                    Object.defineProperty(h, "numProperties", {
                        get: function() {
                            return i.np
                        }
                    }),
                    h.active = h.enabled = 0 !== i.en,
                    h
                }
                function e(t, e, i, a) {
                    var n = ExpressionPropertyInterface(t.p);
                    return t.p.setGroupProperty && t.p.setGroupProperty(a),
                    function() {
                        return 10 === e ? i.comp.compInterface(t.p.v) : n()
                    }
                }
                return {
                    createEffectsInterface: function(e, i) {
                        if (e.effectsManager) {
                            var a, n = [], r = e.data.ef, o = e.effectsManager.effectElements.length;
                            for (a = 0; a < o; a += 1)
                                n.push(t(r[a], e.effectsManager.effectElements[a], i, e));
                            return function(t) {
                                for (var i = e.data.ef || [], a = 0, r = i.length; a < r; ) {
                                    if (t === i[a].nm || t === i[a].mn || t === i[a].ix)
                                        return n[a];
                                    a += 1
                                }
                            }
                        }
                    }
                }
            }()
              , MaskManagerInterface = function() {
                function t(t, e) {
                    this._mask = t,
                    this._data = e
                }
                Object.defineProperty(t.prototype, "maskPath", {
                    get: function() {
                        return this._mask.prop.k && this._mask.prop.getValue(),
                        this._mask.prop
                    }
                }),
                Object.defineProperty(t.prototype, "maskOpacity", {
                    get: function() {
                        return this._mask.op.k && this._mask.op.getValue(),
                        100 * this._mask.op.v
                    }
                });
                return function(e, i) {
                    var a, n = createSizedArray(e.viewData.length), r = e.viewData.length;
                    for (a = 0; a < r; a += 1)
                        n[a] = new t(e.viewData[a],e.masksProperties[a]);
                    return function(t) {
                        for (a = 0; a < r; ) {
                            if (e.masksProperties[a].nm === t)
                                return n[a];
                            a += 1
                        }
                    }
                }
            }()
              , ExpressionPropertyInterface = function() {
                var t = {
                    pv: 0,
                    v: 0,
                    mult: 1
                }
                  , e = {
                    pv: [0, 0, 0],
                    v: [0, 0, 0],
                    mult: 1
                };
                function i(t, e, i) {
                    Object.defineProperty(t, "velocity", {
                        get: function() {
                            return e.getVelocityAtTime(e.comp.currentFrame)
                        }
                    }),
                    t.numKeys = e.keyframes ? e.keyframes.length : 0,
                    t.key = function(a) {
                        if (t.numKeys) {
                            var n = "";
                            n = "s"in e.keyframes[a - 1] ? e.keyframes[a - 1].s : "e"in e.keyframes[a - 2] ? e.keyframes[a - 2].e : e.keyframes[a - 2].s;
                            var r = "unidimensional" === i ? new Number(n) : Object.assign({}, n);
                            return r.time = e.keyframes[a - 1].t / e.elem.comp.globalData.frameRate,
                            r
                        }
                        return 0
                    }
                    ,
                    t.valueAtTime = e.getValueAtTime,
                    t.speedAtTime = e.getSpeedAtTime,
                    t.velocityAtTime = e.getVelocityAtTime,
                    t.propertyGroup = e.propertyGroup
                }
                function a() {
                    return t
                }
                return function(n) {
                    return n ? "unidimensional" === n.propType ? function(e) {
                        e && "pv"in e || (e = t);
                        var a = 1 / e.mult
                          , n = e.pv * a
                          , r = new Number(n);
                        return r.value = n,
                        i(r, e, "unidimensional"),
                        function() {
                            return e.k && e.getValue(),
                            n = e.v * a,
                            r.value !== n && ((r = new Number(n)).value = n,
                            i(r, e, "unidimensional")),
                            r
                        }
                    }(n) : function(t) {
                        t && "pv"in t || (t = e);
                        var a = 1 / t.mult
                          , n = t.pv.length
                          , r = createTypedArray("float32", n)
                          , o = createTypedArray("float32", n);
                        return r.value = o,
                        i(r, t, "multidimensional"),
                        function() {
                            t.k && t.getValue();
                            for (var e = 0; e < n; e += 1)
                                r[e] = o[e] = t.v[e] * a;
                            return r
                        }
                    }(n) : a
                }
            }();
            function SliderEffect(t, e, i) {
                this.p = PropertyFactory.getProp(e, t.v, 0, 0, i)
            }
            function AngleEffect(t, e, i) {
                this.p = PropertyFactory.getProp(e, t.v, 0, 0, i)
            }
            function ColorEffect(t, e, i) {
                this.p = PropertyFactory.getProp(e, t.v, 1, 0, i)
            }
            function PointEffect(t, e, i) {
                this.p = PropertyFactory.getProp(e, t.v, 1, 0, i)
            }
            function LayerIndexEffect(t, e, i) {
                this.p = PropertyFactory.getProp(e, t.v, 0, 0, i)
            }
            function MaskIndexEffect(t, e, i) {
                this.p = PropertyFactory.getProp(e, t.v, 0, 0, i)
            }
            function CheckboxEffect(t, e, i) {
                this.p = PropertyFactory.getProp(e, t.v, 0, 0, i)
            }
            function NoValueEffect() {
                this.p = {}
            }
            function EffectsManager() {}
            function EffectsManager(t, e) {
                var i = t.ef || [];
                this.effectElements = [];
                var a, n, r = i.length;
                for (a = 0; a < r; a++)
                    n = new GroupEffect(i[a],e),
                    this.effectElements.push(n)
            }
            function GroupEffect(t, e) {
                this.init(t, e)
            }
            !function() {
                var t = function() {
                    function t(t, e) {
                        return this.textIndex = t + 1,
                        this.textTotal = e,
                        this.v = this.getValue() * this.mult,
                        this.v
                    }
                    return function(e, i) {
                        this.pv = 1,
                        this.comp = e.comp,
                        this.elem = e,
                        this.mult = .01,
                        this.propType = "textSelector",
                        this.textTotal = i.totalChars,
                        this.selectorValue = 100,
                        this.lastValue = [1, 1, 1],
                        this.k = !0,
                        this.x = !0,
                        this.getValue = ExpressionManager.initiateExpression.bind(this)(e, i, this),
                        this.getMult = t,
                        this.getVelocityAtTime = expressionHelpers.getVelocityAtTime,
                        this.kf ? this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this) : this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this),
                        this.setGroupProperty = expressionHelpers.setGroupProperty
                    }
                }()
                  , e = TextSelectorProp.getTextSelectorProp;
                TextSelectorProp.getTextSelectorProp = function(i, a, n) {
                    return 1 === a.t ? new t(i,a,n) : e(i, a, n)
                }
            }(),
            extendPrototype([DynamicPropertyContainer], GroupEffect),
            GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties,
            GroupEffect.prototype.init = function(t, e) {
                this.data = t,
                this.effectElements = [],
                this.initDynamicPropertyContainer(e);
                var i, a, n = this.data.ef.length, r = this.data.ef;
                for (i = 0; i < n; i += 1) {
                    switch (a = null,
                    r[i].ty) {
                    case 0:
                        a = new SliderEffect(r[i],e,this);
                        break;
                    case 1:
                        a = new AngleEffect(r[i],e,this);
                        break;
                    case 2:
                        a = new ColorEffect(r[i],e,this);
                        break;
                    case 3:
                        a = new PointEffect(r[i],e,this);
                        break;
                    case 4:
                    case 7:
                        a = new CheckboxEffect(r[i],e,this);
                        break;
                    case 10:
                        a = new LayerIndexEffect(r[i],e,this);
                        break;
                    case 11:
                        a = new MaskIndexEffect(r[i],e,this);
                        break;
                    case 5:
                        a = new EffectsManager(r[i],e,this);
                        break;
                    default:
                        a = new NoValueEffect(r[i],e,this)
                    }
                    a && this.effectElements.push(a)
                }
            }
            ;
            var lottiejs = {}
              , _isFrozen = !1;
            function setLocationHref(t) {
                locationHref = t
            }
            function searchAnimations() {
                !0 === standalone ? animationManager.searchAnimations(animationData, standalone, renderer) : animationManager.searchAnimations()
            }
            function setSubframeRendering(t) {
                subframeEnabled = t
            }
            function loadAnimation(t) {
                return !0 === standalone && (t.animationData = JSON.parse(animationData)),
                animationManager.loadAnimation(t)
            }
            function setQuality(t) {
                if ("string" === typeof t)
                    switch (t) {
                    case "high":
                        defaultCurveSegments = 200;
                        break;
                    case "medium":
                        defaultCurveSegments = 50;
                        break;
                    case "low":
                        defaultCurveSegments = 10
                    }
                else
                    !isNaN(t) && t > 1 && (defaultCurveSegments = t);
                roundValues(!(defaultCurveSegments >= 50))
            }
            function inBrowser() {
                return "undefined" !== typeof navigator
            }
            function installPlugin(t, e) {
                "expressions" === t && (expressionsPlugin = e)
            }
            function getFactory(t) {
                switch (t) {
                case "propertyFactory":
                    return PropertyFactory;
                case "shapePropertyFactory":
                    return ShapePropertyFactory;
                case "matrix":
                    return Matrix
                }
            }
            function checkReady() {
                "complete" === document.readyState && (clearInterval(readyStateCheckInterval),
                searchAnimations())
            }
            function getQueryVariable(t) {
                for (var e = queryString.split("&"), i = 0; i < e.length; i++) {
                    var a = e[i].split("=");
                    if (decodeURIComponent(a[0]) == t)
                        return decodeURIComponent(a[1])
                }
            }
            lottiejs.play = animationManager.play,
            lottiejs.pause = animationManager.pause,
            lottiejs.setLocationHref = setLocationHref,
            lottiejs.togglePause = animationManager.togglePause,
            lottiejs.setSpeed = animationManager.setSpeed,
            lottiejs.setDirection = animationManager.setDirection,
            lottiejs.stop = animationManager.stop,
            lottiejs.searchAnimations = searchAnimations,
            lottiejs.registerAnimation = animationManager.registerAnimation,
            lottiejs.loadAnimation = loadAnimation,
            lottiejs.setSubframeRendering = setSubframeRendering,
            lottiejs.resize = animationManager.resize,
            lottiejs.goToAndStop = animationManager.goToAndStop,
            lottiejs.destroy = animationManager.destroy,
            lottiejs.setQuality = setQuality,
            lottiejs.inBrowser = inBrowser,
            lottiejs.installPlugin = installPlugin,
            lottiejs.freeze = animationManager.freeze,
            lottiejs.unfreeze = animationManager.unfreeze,
            lottiejs.getRegisteredAnimations = animationManager.getRegisteredAnimations,
            lottiejs.__getFactory = getFactory,
            lottiejs.version = "5.5.4";
            var standalone = "__[STANDALONE]__"
              , animationData = "__[ANIMATIONDATA]__"
              , renderer = "";
            if (standalone) {
                var scripts = document.getElementsByTagName("script")
                  , index = scripts.length - 1
                  , myScript = scripts[index] || {
                    src: ""
                }
                  , queryString = myScript.src.replace(/^[^\?]+\??/, "");
                renderer = getQueryVariable("renderer")
            }
            var readyStateCheckInterval = setInterval(checkReady, 100);
            return lottiejs
        }
        ,
        void 0 === (__WEBPACK_AMD_DEFINE_RESULT__ = function() {
            return factory(root)
        }
        .call(exports, __webpack_require__, exports, module)) || (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))
    },
    1552: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = (i(24),
        i(87))
          , c = i(64)
          , h = i(107)
          , p = (i(85),
        i(19))
          , d = (i(31),
        i(73))
          , u = i(1632)
          , m = i.n(u)
          , f = o.a.View.extend({
            events: {
                "click .delete": "onDeleteCommentClicked"
            },
            initialize: function(t) {
                this.template = n.a.template(m.a),
                this.initializePageCommentView(t),
                this.showLikes = !!n.a.isUndefined(t.showLikes) || t.showLikes
            },
            initializePageCommentView: function(t) {
                if (this.conversation = t.conversation,
                !this.conversation)
                    throw "Conversation required in PageCommentView";
                this.conversationOwnerProfilePk = this.conversation.get("ownerProfilePk")
            },
            render: function() {
                var t = this.model.toJSON();
                t.nameDisplayValue = t.authorFullName || t.authorDisplayName,
                t.authorDisplayName === p.a.get("displayName") && (t.nameDisplayValue = p.a.get("fullName") || t.authorDisplayName),
                this.$el.addClass("media comment"),
                this.$el.html(this.template({
                    comment: t,
                    dayDisplay: l.a.howLongAgo(this.model.get("createDate")),
                    Localizer: s.a,
                    viewerProfilePk: p.a.get("profileId"),
                    conversationOwnerPk: this.conversationOwnerProfilePk,
                    url: c.default.url,
                    showLikes: this.showLikes
                })),
                this.showLikes && (this.likeView = new h.a({
                    el: this.$(".entry-like"),
                    uuid: this.model.get("conversationUuid"),
                    conversationUuid: this.model.get("conversationCommentUuid"),
                    liked: t.likedByUser,
                    numberOfLikes: t.numberOfLikes,
                    isComment: !0,
                    resourceType: this.conversation.get("resourceType")
                }),
                this.likeView.render())
            },
            onDeleteCommentClicked: function(t) {
                t.preventDefault();
                var e = this;
                new d.a({
                    modalTitle: s.a.localize("delete_comment"),
                    message: s.a.localize("delete_comment_confirmation"),
                    confirmationTextKey: "button_delete",
                    cancelTextKey: "button_cancel",
                    onSaveButtonClicked: function() {
                        return e.model.destroy(),
                        e.remove(),
                        !0
                    }
                }).render()
            }
        });
        f.Events = {
            COMMENT_DELETED: "COMMENT_DELETED"
        },
        e.a = f
    },
    1572: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            initialize: function() {}
        });
        e.a = n
    },
    1574: function(t, e) {
        !function(t, e, i) {
            L.drawVersion = "1.0.4",
            L.Draw = {},
            L.drawLocal = {
                draw: {
                    toolbar: {
                        actions: {
                            title: "Cancel drawing",
                            text: "Cancel"
                        },
                        finish: {
                            title: "Finish drawing",
                            text: "Finish"
                        },
                        undo: {
                            title: "Delete last point drawn",
                            text: "Delete last point"
                        },
                        buttons: {
                            polyline: "Draw a polyline",
                            polygon: "Draw a polygon",
                            rectangle: "Draw a rectangle",
                            circle: "Draw a circle",
                            marker: "Draw a marker",
                            circlemarker: "Draw a circlemarker"
                        }
                    },
                    handlers: {
                        circle: {
                            tooltip: {
                                start: "Click and drag to draw circle."
                            },
                            radius: "Radius"
                        },
                        circlemarker: {
                            tooltip: {
                                start: "Click map to place circle marker."
                            }
                        },
                        marker: {
                            tooltip: {
                                start: "Click map to place marker."
                            }
                        },
                        polygon: {
                            tooltip: {
                                start: "Click to start drawing shape.",
                                cont: "Click to continue drawing shape.",
                                end: "Click first point to close this shape."
                            }
                        },
                        polyline: {
                            error: "<strong>Error:</strong> shape edges cannot cross!",
                            tooltip: {
                                start: "Click to start drawing line.",
                                cont: "Click to continue drawing line.",
                                end: "Click last point to finish line."
                            }
                        },
                        rectangle: {
                            tooltip: {
                                start: "Click and drag to draw rectangle."
                            }
                        },
                        simpleshape: {
                            tooltip: {
                                end: "Release mouse to finish drawing."
                            }
                        }
                    }
                },
                edit: {
                    toolbar: {
                        actions: {
                            save: {
                                title: "Save changes",
                                text: "Save"
                            },
                            cancel: {
                                title: "Cancel editing, discards all changes",
                                text: "Cancel"
                            },
                            clearAll: {
                                title: "Clear all layers",
                                text: "Clear All"
                            }
                        },
                        buttons: {
                            edit: "Edit layers",
                            editDisabled: "No layers to edit",
                            remove: "Delete layers",
                            removeDisabled: "No layers to delete"
                        }
                    },
                    handlers: {
                        edit: {
                            tooltip: {
                                text: "Drag handles or markers to edit features.",
                                subtext: "Click cancel to undo changes."
                            }
                        },
                        remove: {
                            tooltip: {
                                text: "Click on a feature to remove."
                            }
                        }
                    }
                }
            },
            L.Draw.Event = {},
            L.Draw.Event.CREATED = "draw:created",
            L.Draw.Event.EDITED = "draw:edited",
            L.Draw.Event.DELETED = "draw:deleted",
            L.Draw.Event.DRAWSTART = "draw:drawstart",
            L.Draw.Event.DRAWSTOP = "draw:drawstop",
            L.Draw.Event.DRAWVERTEX = "draw:drawvertex",
            L.Draw.Event.EDITSTART = "draw:editstart",
            L.Draw.Event.EDITMOVE = "draw:editmove",
            L.Draw.Event.EDITRESIZE = "draw:editresize",
            L.Draw.Event.EDITVERTEX = "draw:editvertex",
            L.Draw.Event.EDITSTOP = "draw:editstop",
            L.Draw.Event.DELETESTART = "draw:deletestart",
            L.Draw.Event.DELETESTOP = "draw:deletestop",
            L.Draw.Event.TOOLBAROPENED = "draw:toolbaropened",
            L.Draw.Event.TOOLBARCLOSED = "draw:toolbarclosed",
            L.Draw.Event.MARKERCONTEXT = "draw:markercontext",
            L.Draw = L.Draw || {},
            L.Draw.Feature = L.Handler.extend({
                initialize: function(t, e) {
                    this._map = t,
                    this._container = t._container,
                    this._overlayPane = t._panes.overlayPane,
                    this._popupPane = t._panes.popupPane,
                    e && e.shapeOptions && (e.shapeOptions = L.Util.extend({}, this.options.shapeOptions, e.shapeOptions)),
                    L.setOptions(this, e);
                    var i = L.version.split(".");
                    1 === parseInt(i[0], 10) && parseInt(i[1], 10) >= 2 ? L.Draw.Feature.include(L.Evented.prototype) : L.Draw.Feature.include(L.Mixin.Events)
                },
                enable: function() {
                    this._enabled || (L.Handler.prototype.enable.call(this),
                    this.fire("enabled", {
                        handler: this.type
                    }),
                    this._map.fire(L.Draw.Event.DRAWSTART, {
                        layerType: this.type
                    }))
                },
                disable: function() {
                    this._enabled && (L.Handler.prototype.disable.call(this),
                    this._map.fire(L.Draw.Event.DRAWSTOP, {
                        layerType: this.type
                    }),
                    this.fire("disabled", {
                        handler: this.type
                    }))
                },
                addHooks: function() {
                    var t = this._map;
                    t && (L.DomUtil.disableTextSelection(),
                    t.getContainer().focus(),
                    this._tooltip = new L.Draw.Tooltip(this._map),
                    L.DomEvent.on(this._container, "keyup", this._cancelDrawing, this))
                },
                removeHooks: function() {
                    this._map && (L.DomUtil.enableTextSelection(),
                    this._tooltip.dispose(),
                    this._tooltip = null,
                    L.DomEvent.off(this._container, "keyup", this._cancelDrawing, this))
                },
                setOptions: function(t) {
                    L.setOptions(this, t)
                },
                _fireCreatedEvent: function(t) {
                    this._map.fire(L.Draw.Event.CREATED, {
                        layer: t,
                        layerType: this.type
                    })
                },
                _cancelDrawing: function(t) {
                    27 === t.keyCode && (this._map.fire("draw:canceled", {
                        layerType: this.type
                    }),
                    this.disable())
                }
            }),
            L.Draw.Polyline = L.Draw.Feature.extend({
                statics: {
                    TYPE: "polyline"
                },
                Poly: L.Polyline,
                options: {
                    allowIntersection: !0,
                    repeatMode: !1,
                    drawError: {
                        color: "#b00b00",
                        timeout: 2500
                    },
                    icon: new L.DivIcon({
                        iconSize: new L.Point(8,8),
                        className: "leaflet-div-icon leaflet-editing-icon"
                    }),
                    touchIcon: new L.DivIcon({
                        iconSize: new L.Point(20,20),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"
                    }),
                    guidelineDistance: 20,
                    maxGuideLineLength: 4e3,
                    shapeOptions: {
                        stroke: !0,
                        color: "#3388ff",
                        weight: 4,
                        opacity: .5,
                        fill: !1,
                        clickable: !0
                    },
                    metric: !0,
                    feet: !0,
                    nautic: !1,
                    showLength: !0,
                    zIndexOffset: 2e3,
                    factor: 1,
                    maxPoints: 0
                },
                initialize: function(t, e) {
                    L.Browser.touch && (this.options.icon = this.options.touchIcon),
                    this.options.drawError.message = L.drawLocal.draw.handlers.polyline.error,
                    e && e.drawError && (e.drawError = L.Util.extend({}, this.options.drawError, e.drawError)),
                    this.type = L.Draw.Polyline.TYPE,
                    L.Draw.Feature.prototype.initialize.call(this, t, e)
                },
                addHooks: function() {
                    L.Draw.Feature.prototype.addHooks.call(this),
                    this._map && (this._markers = [],
                    this._markerGroup = new L.LayerGroup,
                    this._map.addLayer(this._markerGroup),
                    this._poly = new L.Polyline([],this.options.shapeOptions),
                    this._tooltip.updateContent(this._getTooltipText()),
                    this._mouseMarker || (this._mouseMarker = L.marker(this._map.getCenter(), {
                        icon: L.divIcon({
                            className: "leaflet-mouse-marker",
                            iconAnchor: [20, 20],
                            iconSize: [40, 40]
                        }),
                        opacity: 0,
                        zIndexOffset: this.options.zIndexOffset
                    })),
                    this._mouseMarker.on("mouseout", this._onMouseOut, this).on("mousemove", this._onMouseMove, this).on("mousedown", this._onMouseDown, this).on("mouseup", this._onMouseUp, this).addTo(this._map),
                    this._map.on("mouseup", this._onMouseUp, this).on("mousemove", this._onMouseMove, this).on("zoomlevelschange", this._onZoomEnd, this).on("touchstart", this._onTouch, this).on("zoomend", this._onZoomEnd, this))
                },
                removeHooks: function() {
                    L.Draw.Feature.prototype.removeHooks.call(this),
                    this._clearHideErrorTimeout(),
                    this._cleanUpShape(),
                    this._map.removeLayer(this._markerGroup),
                    delete this._markerGroup,
                    delete this._markers,
                    this._map.removeLayer(this._poly),
                    delete this._poly,
                    this._mouseMarker.off("mousedown", this._onMouseDown, this).off("mouseout", this._onMouseOut, this).off("mouseup", this._onMouseUp, this).off("mousemove", this._onMouseMove, this),
                    this._map.removeLayer(this._mouseMarker),
                    delete this._mouseMarker,
                    this._clearGuides(),
                    this._map.off("mouseup", this._onMouseUp, this).off("mousemove", this._onMouseMove, this).off("zoomlevelschange", this._onZoomEnd, this).off("zoomend", this._onZoomEnd, this).off("touchstart", this._onTouch, this).off("click", this._onTouch, this)
                },
                deleteLastVertex: function() {
                    if (!(this._markers.length <= 1)) {
                        var t = this._markers.pop()
                          , e = this._poly
                          , i = e.getLatLngs()
                          , a = i.splice(-1, 1)[0];
                        this._poly.setLatLngs(i),
                        this._markerGroup.removeLayer(t),
                        e.getLatLngs().length < 2 && this._map.removeLayer(e),
                        this._vertexChanged(a, !1)
                    }
                },
                addVertex: function(t) {
                    this._markers.length >= 2 && !this.options.allowIntersection && this._poly.newLatLngIntersects(t) ? this._showErrorTooltip() : (this._errorShown && this._hideErrorTooltip(),
                    this._markers.push(this._createMarker(t)),
                    this._poly.addLatLng(t),
                    2 === this._poly.getLatLngs().length && this._map.addLayer(this._poly),
                    this._vertexChanged(t, !0))
                },
                completeShape: function() {
                    this._markers.length <= 1 || !this._shapeIsValid() || (this._fireCreatedEvent(),
                    this.disable(),
                    this.options.repeatMode && this.enable())
                },
                _finishShape: function() {
                    var t = this._poly._defaultShape ? this._poly._defaultShape() : this._poly.getLatLngs()
                      , e = this._poly.newLatLngIntersects(t[t.length - 1]);
                    !this.options.allowIntersection && e || !this._shapeIsValid() ? this._showErrorTooltip() : (this._fireCreatedEvent(),
                    this.disable(),
                    this.options.repeatMode && this.enable())
                },
                _shapeIsValid: function() {
                    return !0
                },
                _onZoomEnd: function() {
                    null !== this._markers && this._updateGuide()
                },
                _onMouseMove: function(t) {
                    var e = this._map.mouseEventToLayerPoint(t.originalEvent)
                      , i = this._map.layerPointToLatLng(e);
                    this._currentLatLng = i,
                    this._updateTooltip(i),
                    this._updateGuide(e),
                    this._mouseMarker.setLatLng(i),
                    L.DomEvent.preventDefault(t.originalEvent)
                },
                _vertexChanged: function(t, e) {
                    this._map.fire(L.Draw.Event.DRAWVERTEX, {
                        layers: this._markerGroup
                    }),
                    this._updateFinishHandler(),
                    this._updateRunningMeasure(t, e),
                    this._clearGuides(),
                    this._updateTooltip()
                },
                _onMouseDown: function(t) {
                    if (!this._clickHandled && !this._touchHandled && !this._disableMarkers) {
                        this._onMouseMove(t),
                        this._clickHandled = !0,
                        this._disableNewMarkers();
                        var e = t.originalEvent
                          , i = e.clientX
                          , a = e.clientY;
                        this._startPoint.call(this, i, a)
                    }
                },
                _startPoint: function(t, e) {
                    this._mouseDownOrigin = L.point(t, e)
                },
                _onMouseUp: function(t) {
                    var e = t.originalEvent
                      , i = e.clientX
                      , a = e.clientY;
                    this._endPoint.call(this, i, a, t),
                    this._clickHandled = null
                },
                _endPoint: function(e, i, a) {
                    if (this._mouseDownOrigin) {
                        var n = L.point(e, i).distanceTo(this._mouseDownOrigin)
                          , r = this._calculateFinishDistance(a.latlng);
                        this.options.maxPoints > 1 && this.options.maxPoints == this._markers.length + 1 ? (this.addVertex(a.latlng),
                        this._finishShape()) : r < 10 && L.Browser.touch ? this._finishShape() : Math.abs(n) < 9 * (t.devicePixelRatio || 1) && this.addVertex(a.latlng),
                        this._enableNewMarkers()
                    }
                    this._mouseDownOrigin = null
                },
                _onTouch: function(t) {
                    var e, i, a = t.originalEvent;
                    !a.touches || !a.touches[0] || this._clickHandled || this._touchHandled || this._disableMarkers || (e = a.touches[0].clientX,
                    i = a.touches[0].clientY,
                    this._disableNewMarkers(),
                    this._touchHandled = !0,
                    this._startPoint.call(this, e, i),
                    this._endPoint.call(this, e, i, t),
                    this._touchHandled = null),
                    this._clickHandled = null
                },
                _onMouseOut: function() {
                    this._tooltip && this._tooltip._onMouseOut.call(this._tooltip)
                },
                _calculateFinishDistance: function(t) {
                    var e;
                    if (this._markers.length > 0) {
                        var i;
                        if (this.type === L.Draw.Polyline.TYPE)
                            i = this._markers[this._markers.length - 1];
                        else {
                            if (this.type !== L.Draw.Polygon.TYPE)
                                return 1 / 0;
                            i = this._markers[0]
                        }
                        var a = this._map.latLngToContainerPoint(i.getLatLng())
                          , n = new L.Marker(t,{
                            icon: this.options.icon,
                            zIndexOffset: 2 * this.options.zIndexOffset
                        })
                          , r = this._map.latLngToContainerPoint(n.getLatLng());
                        e = a.distanceTo(r)
                    } else
                        e = 1 / 0;
                    return e
                },
                _updateFinishHandler: function() {
                    var t = this._markers.length;
                    t > 1 && this._markers[t - 1].on("click", this._finishShape, this),
                    t > 2 && this._markers[t - 2].off("click", this._finishShape, this)
                },
                _createMarker: function(t) {
                    var e = new L.Marker(t,{
                        icon: this.options.icon,
                        zIndexOffset: 2 * this.options.zIndexOffset
                    });
                    return this._markerGroup.addLayer(e),
                    e
                },
                _updateGuide: function(t) {
                    var e = this._markers ? this._markers.length : 0;
                    e > 0 && (t = t || this._map.latLngToLayerPoint(this._currentLatLng),
                    this._clearGuides(),
                    this._drawGuide(this._map.latLngToLayerPoint(this._markers[e - 1].getLatLng()), t))
                },
                _updateTooltip: function(t) {
                    var e = this._getTooltipText();
                    t && this._tooltip.updatePosition(t),
                    this._errorShown || this._tooltip.updateContent(e)
                },
                _drawGuide: function(t, e) {
                    var i, a, n, r = Math.floor(Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2))), o = this.options.guidelineDistance, s = this.options.maxGuideLineLength, l = r > s ? r - s : o;
                    for (this._guidesContainer || (this._guidesContainer = L.DomUtil.create("div", "leaflet-draw-guides", this._overlayPane)); l < r; l += this.options.guidelineDistance)
                        i = l / r,
                        a = {
                            x: Math.floor(t.x * (1 - i) + i * e.x),
                            y: Math.floor(t.y * (1 - i) + i * e.y)
                        },
                        (n = L.DomUtil.create("div", "leaflet-draw-guide-dash", this._guidesContainer)).style.backgroundColor = this._errorShown ? this.options.drawError.color : this.options.shapeOptions.color,
                        L.DomUtil.setPosition(n, a)
                },
                _updateGuideColor: function(t) {
                    if (this._guidesContainer)
                        for (var e = 0, i = this._guidesContainer.childNodes.length; e < i; e++)
                            this._guidesContainer.childNodes[e].style.backgroundColor = t
                },
                _clearGuides: function() {
                    if (this._guidesContainer)
                        for (; this._guidesContainer.firstChild; )
                            this._guidesContainer.removeChild(this._guidesContainer.firstChild)
                },
                _getTooltipText: function() {
                    var t, e, i = this.options.showLength;
                    return 0 === this._markers.length ? t = {
                        text: L.drawLocal.draw.handlers.polyline.tooltip.start
                    } : (e = i ? this._getMeasurementString() : "",
                    t = 1 === this._markers.length ? {
                        text: L.drawLocal.draw.handlers.polyline.tooltip.cont,
                        subtext: e
                    } : {
                        text: L.drawLocal.draw.handlers.polyline.tooltip.end,
                        subtext: e
                    }),
                    t
                },
                _updateRunningMeasure: function(t, e) {
                    var i, a, n = this._markers.length;
                    1 === this._markers.length ? this._measurementRunningTotal = 0 : (i = n - (e ? 2 : 1),
                    a = L.GeometryUtil.isVersion07x() ? t.distanceTo(this._markers[i].getLatLng()) * (this.options.factor || 1) : this._map.distance(t, this._markers[i].getLatLng()) * (this.options.factor || 1),
                    this._measurementRunningTotal += a * (e ? 1 : -1))
                },
                _getMeasurementString: function() {
                    var t, e = this._currentLatLng, i = this._markers[this._markers.length - 1].getLatLng();
                    return t = L.GeometryUtil.isVersion07x() ? i && e && e.distanceTo ? this._measurementRunningTotal + e.distanceTo(i) * (this.options.factor || 1) : this._measurementRunningTotal || 0 : i && e ? this._measurementRunningTotal + this._map.distance(e, i) * (this.options.factor || 1) : this._measurementRunningTotal || 0,
                    L.GeometryUtil.readableDistance(t, this.options.metric, this.options.feet, this.options.nautic, this.options.precision)
                },
                _showErrorTooltip: function() {
                    this._errorShown = !0,
                    this._tooltip.showAsError().updateContent({
                        text: this.options.drawError.message
                    }),
                    this._updateGuideColor(this.options.drawError.color),
                    this._poly.setStyle({
                        color: this.options.drawError.color
                    }),
                    this._clearHideErrorTimeout(),
                    this._hideErrorTimeout = setTimeout(L.Util.bind(this._hideErrorTooltip, this), this.options.drawError.timeout)
                },
                _hideErrorTooltip: function() {
                    this._errorShown = !1,
                    this._clearHideErrorTimeout(),
                    this._tooltip.removeError().updateContent(this._getTooltipText()),
                    this._updateGuideColor(this.options.shapeOptions.color),
                    this._poly.setStyle({
                        color: this.options.shapeOptions.color
                    })
                },
                _clearHideErrorTimeout: function() {
                    this._hideErrorTimeout && (clearTimeout(this._hideErrorTimeout),
                    this._hideErrorTimeout = null)
                },
                _disableNewMarkers: function() {
                    this._disableMarkers = !0
                },
                _enableNewMarkers: function() {
                    setTimeout(function() {
                        this._disableMarkers = !1
                    }
                    .bind(this), 50)
                },
                _cleanUpShape: function() {
                    this._markers.length > 1 && this._markers[this._markers.length - 1].off("click", this._finishShape, this)
                },
                _fireCreatedEvent: function() {
                    var t = new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);
                    L.Draw.Feature.prototype._fireCreatedEvent.call(this, t)
                }
            }),
            L.Draw.Polygon = L.Draw.Polyline.extend({
                statics: {
                    TYPE: "polygon"
                },
                Poly: L.Polygon,
                options: {
                    showArea: !1,
                    showLength: !1,
                    shapeOptions: {
                        stroke: !0,
                        color: "#3388ff",
                        weight: 4,
                        opacity: .5,
                        fill: !0,
                        fillColor: null,
                        fillOpacity: .2,
                        clickable: !0
                    },
                    metric: !0,
                    feet: !0,
                    nautic: !1,
                    precision: {}
                },
                initialize: function(t, e) {
                    L.Draw.Polyline.prototype.initialize.call(this, t, e),
                    this.type = L.Draw.Polygon.TYPE
                },
                _updateFinishHandler: function() {
                    var t = this._markers.length;
                    1 === t && this._markers[0].on("click", this._finishShape, this),
                    t > 2 && (this._markers[t - 1].on("dblclick", this._finishShape, this),
                    t > 3 && this._markers[t - 2].off("dblclick", this._finishShape, this))
                },
                _getTooltipText: function() {
                    var t, e;
                    return 0 === this._markers.length ? t = L.drawLocal.draw.handlers.polygon.tooltip.start : this._markers.length < 3 ? (t = L.drawLocal.draw.handlers.polygon.tooltip.cont,
                    e = this._getMeasurementString()) : (t = L.drawLocal.draw.handlers.polygon.tooltip.end,
                    e = this._getMeasurementString()),
                    {
                        text: t,
                        subtext: e
                    }
                },
                _getMeasurementString: function() {
                    var t = this._area
                      , e = "";
                    return t || this.options.showLength ? (this.options.showLength && (e = L.Draw.Polyline.prototype._getMeasurementString.call(this)),
                    t && (e += "<br>" + L.GeometryUtil.readableArea(t, this.options.metric, this.options.precision)),
                    e) : null
                },
                _shapeIsValid: function() {
                    return this._markers.length >= 3
                },
                _vertexChanged: function(t, e) {
                    var i;
                    !this.options.allowIntersection && this.options.showArea && (i = this._poly.getLatLngs(),
                    this._area = L.GeometryUtil.geodesicArea(i)),
                    L.Draw.Polyline.prototype._vertexChanged.call(this, t, e)
                },
                _cleanUpShape: function() {
                    var t = this._markers.length;
                    t > 0 && (this._markers[0].off("click", this._finishShape, this),
                    t > 2 && this._markers[t - 1].off("dblclick", this._finishShape, this))
                }
            }),
            L.SimpleShape = {},
            L.Draw.SimpleShape = L.Draw.Feature.extend({
                options: {
                    repeatMode: !1
                },
                initialize: function(t, e) {
                    this._endLabelText = L.drawLocal.draw.handlers.simpleshape.tooltip.end,
                    L.Draw.Feature.prototype.initialize.call(this, t, e)
                },
                addHooks: function() {
                    L.Draw.Feature.prototype.addHooks.call(this),
                    this._map && (this._mapDraggable = this._map.dragging.enabled(),
                    this._mapDraggable && this._map.dragging.disable(),
                    this._container.style.cursor = "crosshair",
                    this._tooltip.updateContent({
                        text: this._initialLabelText
                    }),
                    this._map.on("mousedown", this._onMouseDown, this).on("mousemove", this._onMouseMove, this).on("touchstart", this._onMouseDown, this).on("touchmove", this._onMouseMove, this),
                    e.addEventListener("touchstart", L.DomEvent.preventDefault, {
                        passive: !1
                    }))
                },
                removeHooks: function() {
                    L.Draw.Feature.prototype.removeHooks.call(this),
                    this._map && (this._mapDraggable && this._map.dragging.enable(),
                    this._container.style.cursor = "",
                    this._map.off("mousedown", this._onMouseDown, this).off("mousemove", this._onMouseMove, this).off("touchstart", this._onMouseDown, this).off("touchmove", this._onMouseMove, this),
                    L.DomEvent.off(e, "mouseup", this._onMouseUp, this),
                    L.DomEvent.off(e, "touchend", this._onMouseUp, this),
                    e.removeEventListener("touchstart", L.DomEvent.preventDefault),
                    this._shape && (this._map.removeLayer(this._shape),
                    delete this._shape)),
                    this._isDrawing = !1
                },
                _getTooltipText: function() {
                    return {
                        text: this._endLabelText
                    }
                },
                _onMouseDown: function(t) {
                    this._isDrawing = !0,
                    this._startLatLng = t.latlng,
                    L.DomEvent.on(e, "mouseup", this._onMouseUp, this).on(e, "touchend", this._onMouseUp, this).preventDefault(t.originalEvent)
                },
                _onMouseMove: function(t) {
                    var e = t.latlng;
                    this._tooltip.updatePosition(e),
                    this._isDrawing && (this._tooltip.updateContent(this._getTooltipText()),
                    this._drawShape(e))
                },
                _onMouseUp: function() {
                    this._shape && this._fireCreatedEvent(),
                    this.disable(),
                    this.options.repeatMode && this.enable()
                }
            }),
            L.Draw.Rectangle = L.Draw.SimpleShape.extend({
                statics: {
                    TYPE: "rectangle"
                },
                options: {
                    shapeOptions: {
                        stroke: !0,
                        color: "#3388ff",
                        weight: 4,
                        opacity: .5,
                        fill: !0,
                        fillColor: null,
                        fillOpacity: .2,
                        clickable: !0
                    },
                    showArea: !0,
                    metric: !0
                },
                initialize: function(t, e) {
                    this.type = L.Draw.Rectangle.TYPE,
                    this._initialLabelText = L.drawLocal.draw.handlers.rectangle.tooltip.start,
                    L.Draw.SimpleShape.prototype.initialize.call(this, t, e)
                },
                disable: function() {
                    this._enabled && (this._isCurrentlyTwoClickDrawing = !1,
                    L.Draw.SimpleShape.prototype.disable.call(this))
                },
                _onMouseUp: function(t) {
                    this._shape || this._isCurrentlyTwoClickDrawing ? this._isCurrentlyTwoClickDrawing && !function(t, e) {
                        for (; (t = t.parentElement) && !t.classList.contains(e); )
                            ;
                        return t
                    }(t.target, "leaflet-pane") || L.Draw.SimpleShape.prototype._onMouseUp.call(this) : this._isCurrentlyTwoClickDrawing = !0
                },
                _drawShape: function(t) {
                    this._shape ? this._shape.setBounds(new L.LatLngBounds(this._startLatLng,t)) : (this._shape = new L.Rectangle(new L.LatLngBounds(this._startLatLng,t),this.options.shapeOptions),
                    this._map.addLayer(this._shape))
                },
                _fireCreatedEvent: function() {
                    var t = new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);
                    L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this, t)
                },
                _getTooltipText: function() {
                    var t, e, i, a = L.Draw.SimpleShape.prototype._getTooltipText.call(this), n = this._shape, r = this.options.showArea;
                    return n && (t = this._shape._defaultShape ? this._shape._defaultShape() : this._shape.getLatLngs(),
                    e = L.GeometryUtil.geodesicArea(t),
                    i = r ? L.GeometryUtil.readableArea(e, this.options.metric) : ""),
                    {
                        text: a.text,
                        subtext: i
                    }
                }
            }),
            L.Draw.Marker = L.Draw.Feature.extend({
                statics: {
                    TYPE: "marker"
                },
                options: {
                    icon: new L.Icon.Default,
                    repeatMode: !1,
                    zIndexOffset: 2e3
                },
                initialize: function(t, e) {
                    this.type = L.Draw.Marker.TYPE,
                    this._initialLabelText = L.drawLocal.draw.handlers.marker.tooltip.start,
                    L.Draw.Feature.prototype.initialize.call(this, t, e)
                },
                addHooks: function() {
                    L.Draw.Feature.prototype.addHooks.call(this),
                    this._map && (this._tooltip.updateContent({
                        text: this._initialLabelText
                    }),
                    this._mouseMarker || (this._mouseMarker = L.marker(this._map.getCenter(), {
                        icon: L.divIcon({
                            className: "leaflet-mouse-marker",
                            iconAnchor: [20, 20],
                            iconSize: [40, 40]
                        }),
                        opacity: 0,
                        zIndexOffset: this.options.zIndexOffset
                    })),
                    this._mouseMarker.on("click", this._onClick, this).addTo(this._map),
                    this._map.on("mousemove", this._onMouseMove, this),
                    this._map.on("click", this._onTouch, this))
                },
                removeHooks: function() {
                    L.Draw.Feature.prototype.removeHooks.call(this),
                    this._map && (this._map.off("click", this._onClick, this).off("click", this._onTouch, this),
                    this._marker && (this._marker.off("click", this._onClick, this),
                    this._map.removeLayer(this._marker),
                    delete this._marker),
                    this._mouseMarker.off("click", this._onClick, this),
                    this._map.removeLayer(this._mouseMarker),
                    delete this._mouseMarker,
                    this._map.off("mousemove", this._onMouseMove, this))
                },
                _onMouseMove: function(t) {
                    var e = t.latlng;
                    this._tooltip.updatePosition(e),
                    this._mouseMarker.setLatLng(e),
                    this._marker ? (e = this._mouseMarker.getLatLng(),
                    this._marker.setLatLng(e)) : (this._marker = this._createMarker(e),
                    this._marker.on("click", this._onClick, this),
                    this._map.on("click", this._onClick, this).addLayer(this._marker))
                },
                _createMarker: function(t) {
                    return new L.Marker(t,{
                        icon: this.options.icon,
                        zIndexOffset: this.options.zIndexOffset
                    })
                },
                _onClick: function() {
                    this._fireCreatedEvent(),
                    this.disable(),
                    this.options.repeatMode && this.enable()
                },
                _onTouch: function(t) {
                    this._onMouseMove(t),
                    this._onClick()
                },
                _fireCreatedEvent: function() {
                    var t = new L.Marker.Touch(this._marker.getLatLng(),{
                        icon: this.options.icon
                    });
                    L.Draw.Feature.prototype._fireCreatedEvent.call(this, t)
                }
            }),
            L.Draw.CircleMarker = L.Draw.Marker.extend({
                statics: {
                    TYPE: "circlemarker"
                },
                options: {
                    stroke: !0,
                    color: "#3388ff",
                    weight: 4,
                    opacity: .5,
                    fill: !0,
                    fillColor: null,
                    fillOpacity: .2,
                    clickable: !0,
                    zIndexOffset: 2e3
                },
                initialize: function(t, e) {
                    this.type = L.Draw.CircleMarker.TYPE,
                    this._initialLabelText = L.drawLocal.draw.handlers.circlemarker.tooltip.start,
                    L.Draw.Feature.prototype.initialize.call(this, t, e)
                },
                _fireCreatedEvent: function() {
                    var t = new L.CircleMarker(this._marker.getLatLng(),this.options);
                    L.Draw.Feature.prototype._fireCreatedEvent.call(this, t)
                },
                _createMarker: function(t) {
                    return new L.CircleMarker(t,this.options)
                }
            }),
            L.Draw.Circle = L.Draw.SimpleShape.extend({
                statics: {
                    TYPE: "circle"
                },
                options: {
                    shapeOptions: {
                        stroke: !0,
                        color: "#3388ff",
                        weight: 4,
                        opacity: .5,
                        fill: !0,
                        fillColor: null,
                        fillOpacity: .2,
                        clickable: !0
                    },
                    showRadius: !0,
                    metric: !0,
                    feet: !0,
                    nautic: !1
                },
                initialize: function(t, e) {
                    this.type = L.Draw.Circle.TYPE,
                    this._initialLabelText = L.drawLocal.draw.handlers.circle.tooltip.start,
                    L.Draw.SimpleShape.prototype.initialize.call(this, t, e)
                },
                _drawShape: function(t) {
                    if (L.GeometryUtil.isVersion07x())
                        var e = this._startLatLng.distanceTo(t);
                    else
                        e = this._map.distance(this._startLatLng, t);
                    this._shape ? this._shape.setRadius(e) : (this._shape = new L.Circle(this._startLatLng,e,this.options.shapeOptions),
                    this._map.addLayer(this._shape))
                },
                _fireCreatedEvent: function() {
                    var t = new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);
                    L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this, t)
                },
                _onMouseMove: function(t) {
                    var e, i = t.latlng, a = this.options.showRadius, n = this.options.metric;
                    if (this._tooltip.updatePosition(i),
                    this._isDrawing) {
                        this._drawShape(i),
                        e = this._shape.getRadius().toFixed(1);
                        var r = "";
                        a && (r = L.drawLocal.draw.handlers.circle.radius + ": " + L.GeometryUtil.readableDistance(e, n, this.options.feet, this.options.nautic)),
                        this._tooltip.updateContent({
                            text: this._endLabelText,
                            subtext: r
                        })
                    }
                }
            }),
            L.Edit = L.Edit || {},
            L.Edit.Marker = L.Handler.extend({
                initialize: function(t, e) {
                    this._marker = t,
                    L.setOptions(this, e)
                },
                addHooks: function() {
                    var t = this._marker;
                    t.dragging.enable(),
                    t.on("dragend", this._onDragEnd, t),
                    this._toggleMarkerHighlight()
                },
                removeHooks: function() {
                    var t = this._marker;
                    t.dragging.disable(),
                    t.off("dragend", this._onDragEnd, t),
                    this._toggleMarkerHighlight()
                },
                _onDragEnd: function(t) {
                    var e = t.target;
                    e.edited = !0,
                    this._map.fire(L.Draw.Event.EDITMOVE, {
                        layer: e
                    })
                },
                _toggleMarkerHighlight: function() {
                    var t = this._marker._icon;
                    t && (t.style.display = "none",
                    L.DomUtil.hasClass(t, "leaflet-edit-marker-selected") ? (L.DomUtil.removeClass(t, "leaflet-edit-marker-selected"),
                    this._offsetMarker(t, -4)) : (L.DomUtil.addClass(t, "leaflet-edit-marker-selected"),
                    this._offsetMarker(t, 4)),
                    t.style.display = "")
                },
                _offsetMarker: function(t, e) {
                    var i = parseInt(t.style.marginTop, 10) - e
                      , a = parseInt(t.style.marginLeft, 10) - e;
                    t.style.marginTop = i + "px",
                    t.style.marginLeft = a + "px"
                }
            }),
            L.Marker.addInitHook(function() {
                L.Edit.Marker && (this.editing = new L.Edit.Marker(this),
                this.options.editable && this.editing.enable())
            }),
            L.Edit = L.Edit || {},
            L.Edit.Poly = L.Handler.extend({
                initialize: function(t) {
                    this.latlngs = [t._latlngs],
                    t._holes && (this.latlngs = this.latlngs.concat(t._holes)),
                    this._poly = t,
                    this._poly.on("revert-edited", this._updateLatLngs, this)
                },
                _defaultShape: function() {
                    return L.Polyline._flat ? L.Polyline._flat(this._poly._latlngs) ? this._poly._latlngs : this._poly._latlngs[0] : this._poly._latlngs
                },
                _eachVertexHandler: function(t) {
                    for (var e = 0; e < this._verticesHandlers.length; e++)
                        t(this._verticesHandlers[e])
                },
                addHooks: function() {
                    this._initHandlers(),
                    this._eachVertexHandler(function(t) {
                        t.addHooks()
                    })
                },
                removeHooks: function() {
                    this._eachVertexHandler(function(t) {
                        t.removeHooks()
                    })
                },
                updateMarkers: function() {
                    this._eachVertexHandler(function(t) {
                        t.updateMarkers()
                    })
                },
                _initHandlers: function() {
                    this._verticesHandlers = [];
                    for (var t = 0; t < this.latlngs.length; t++)
                        this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[t],this._poly.options.poly))
                },
                _updateLatLngs: function(t) {
                    this.latlngs = [t.layer._latlngs],
                    t.layer._holes && (this.latlngs = this.latlngs.concat(t.layer._holes))
                }
            }),
            L.Edit.PolyVerticesEdit = L.Handler.extend({
                options: {
                    icon: new L.DivIcon({
                        iconSize: new L.Point(8,8),
                        className: "leaflet-div-icon leaflet-editing-icon"
                    }),
                    touchIcon: new L.DivIcon({
                        iconSize: new L.Point(20,20),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"
                    }),
                    drawError: {
                        color: "#b00b00",
                        timeout: 1e3
                    }
                },
                initialize: function(t, e, i) {
                    L.Browser.touch && (this.options.icon = this.options.touchIcon),
                    this._poly = t,
                    i && i.drawError && (i.drawError = L.Util.extend({}, this.options.drawError, i.drawError)),
                    this._latlngs = e,
                    L.setOptions(this, i)
                },
                _defaultShape: function() {
                    return L.Polyline._flat ? L.Polyline._flat(this._latlngs) ? this._latlngs : this._latlngs[0] : this._latlngs
                },
                addHooks: function() {
                    var t = this._poly
                      , e = t._path;
                    t instanceof L.Polygon || (t.options.fill = !1,
                    t.options.editing && (t.options.editing.fill = !1)),
                    e && t.options.editing && t.options.editing.className && (t.options.original.className && t.options.original.className.split(" ").forEach(function(t) {
                        L.DomUtil.removeClass(e, t)
                    }),
                    t.options.editing.className.split(" ").forEach(function(t) {
                        L.DomUtil.addClass(e, t)
                    })),
                    t.setStyle(t.options.editing),
                    this._poly._map && (this._map = this._poly._map,
                    this._markerGroup || this._initMarkers(),
                    this._poly._map.addLayer(this._markerGroup))
                },
                removeHooks: function() {
                    var t = this._poly
                      , e = t._path;
                    e && t.options.editing && t.options.editing.className && (t.options.editing.className.split(" ").forEach(function(t) {
                        L.DomUtil.removeClass(e, t)
                    }),
                    t.options.original.className && t.options.original.className.split(" ").forEach(function(t) {
                        L.DomUtil.addClass(e, t)
                    })),
                    t.setStyle(t.options.original),
                    t._map && (t._map.removeLayer(this._markerGroup),
                    delete this._markerGroup,
                    delete this._markers)
                },
                updateMarkers: function() {
                    this._markerGroup.clearLayers(),
                    this._initMarkers()
                },
                _initMarkers: function() {
                    this._markerGroup || (this._markerGroup = new L.LayerGroup),
                    this._markers = [];
                    var t, e, i, a, n, r, o = this._defaultShape();
                    for (t = 0,
                    i = o.length; t < i; t++)
                        (a = this._createMarker(o[t], t)).on("click", this._onMarkerClick, this),
                        a.on("contextmenu", this._onContextMenu, this),
                        this._markers.push(a);
                    for (t = 0,
                    e = i - 1; t < i; e = t++)
                        (0 !== t || L.Polygon && this._poly instanceof L.Polygon) && (n = this._markers[e],
                        r = this._markers[t],
                        this._createMiddleMarker(n, r),
                        this._updatePrevNext(n, r))
                },
                _createMarker: function(t, e) {
                    var i = new L.Marker.Touch(t,{
                        draggable: !0,
                        icon: this.options.icon
                    });
                    return i._origLatLng = t,
                    i._index = e,
                    i.on("dragstart", this._onMarkerDragStart, this).on("drag", this._onMarkerDrag, this).on("dragend", this._fireEdit, this).on("touchmove", this._onTouchMove, this).on("touchend", this._fireEdit, this).on("MSPointerMove", this._onTouchMove, this).on("MSPointerUp", this._fireEdit, this),
                    this._markerGroup.addLayer(i),
                    i
                },
                _onMarkerDragStart: function() {
                    this._poly.fire("editstart")
                },
                _spliceLatLngs: function() {
                    var t = this._defaultShape()
                      , e = [].splice.apply(t, arguments);
                    return this._poly._convertLatLngs(t, !0),
                    this._poly.redraw(),
                    e
                },
                _removeMarker: function(t) {
                    var e = t._index;
                    this._markerGroup.removeLayer(t),
                    this._markers.splice(e, 1),
                    this._spliceLatLngs(e, 1),
                    this._updateIndexes(e, -1),
                    t.off("dragstart", this._onMarkerDragStart, this).off("drag", this._onMarkerDrag, this).off("dragend", this._fireEdit, this).off("touchmove", this._onMarkerDrag, this).off("touchend", this._fireEdit, this).off("click", this._onMarkerClick, this).off("MSPointerMove", this._onTouchMove, this).off("MSPointerUp", this._fireEdit, this)
                },
                _fireEdit: function() {
                    this._poly.edited = !0,
                    this._poly.fire("edit"),
                    this._poly._map.fire(L.Draw.Event.EDITVERTEX, {
                        layers: this._markerGroup,
                        poly: this._poly
                    })
                },
                _onMarkerDrag: function(t) {
                    var e = t.target
                      , i = this._poly
                      , a = L.LatLngUtil.cloneLatLng(e._origLatLng);
                    if (L.extend(e._origLatLng, e._latlng),
                    i.options.poly) {
                        var n = i._map._editTooltip;
                        if (!i.options.poly.allowIntersection && i.intersects()) {
                            L.extend(e._origLatLng, a),
                            e.setLatLng(a);
                            var r = i.options.color;
                            i.setStyle({
                                color: this.options.drawError.color
                            }),
                            n && n.updateContent({
                                text: L.drawLocal.draw.handlers.polyline.error
                            }),
                            setTimeout(function() {
                                i.setStyle({
                                    color: r
                                }),
                                n && n.updateContent({
                                    text: L.drawLocal.edit.handlers.edit.tooltip.text,
                                    subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext
                                })
                            }, 1e3)
                        }
                    }
                    e._middleLeft && e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev, e)),
                    e._middleRight && e._middleRight.setLatLng(this._getMiddleLatLng(e, e._next)),
                    this._poly._bounds._southWest = L.latLng(1 / 0, 1 / 0),
                    this._poly._bounds._northEast = L.latLng(-1 / 0, -1 / 0);
                    var o = this._poly.getLatLngs();
                    this._poly._convertLatLngs(o, !0),
                    this._poly.redraw(),
                    this._poly.fire("editdrag")
                },
                _onMarkerClick: function(t) {
                    var e = L.Polygon && this._poly instanceof L.Polygon ? 4 : 3
                      , i = t.target;
                    this._defaultShape().length < e || (this._removeMarker(i),
                    this._updatePrevNext(i._prev, i._next),
                    i._middleLeft && this._markerGroup.removeLayer(i._middleLeft),
                    i._middleRight && this._markerGroup.removeLayer(i._middleRight),
                    i._prev && i._next ? this._createMiddleMarker(i._prev, i._next) : i._prev ? i._next || (i._prev._middleRight = null) : i._next._middleLeft = null,
                    this._fireEdit())
                },
                _onContextMenu: function(t) {
                    var e = t.target;
                    this._poly,
                    this._poly._map.fire(L.Draw.Event.MARKERCONTEXT, {
                        marker: e,
                        layers: this._markerGroup,
                        poly: this._poly
                    }),
                    L.DomEvent.stopPropagation
                },
                _onTouchMove: function(t) {
                    var e = this._map.mouseEventToLayerPoint(t.originalEvent.touches[0])
                      , i = this._map.layerPointToLatLng(e)
                      , a = t.target;
                    L.extend(a._origLatLng, i),
                    a._middleLeft && a._middleLeft.setLatLng(this._getMiddleLatLng(a._prev, a)),
                    a._middleRight && a._middleRight.setLatLng(this._getMiddleLatLng(a, a._next)),
                    this._poly.redraw(),
                    this.updateMarkers()
                },
                _updateIndexes: function(t, e) {
                    this._markerGroup.eachLayer(function(i) {
                        i._index > t && (i._index += e)
                    })
                },
                _createMiddleMarker: function(t, e) {
                    var i, a, n, r = this._getMiddleLatLng(t, e), o = this._createMarker(r);
                    o.setOpacity(.6),
                    t._middleRight = e._middleLeft = o,
                    a = function() {
                        o.off("touchmove", a, this);
                        var n = e._index;
                        o._index = n,
                        o.off("click", i, this).on("click", this._onMarkerClick, this),
                        r.lat = o.getLatLng().lat,
                        r.lng = o.getLatLng().lng,
                        this._spliceLatLngs(n, 0, r),
                        this._markers.splice(n, 0, o),
                        o.setOpacity(1),
                        this._updateIndexes(n, 1),
                        e._index++,
                        this._updatePrevNext(t, o),
                        this._updatePrevNext(o, e),
                        this._poly.fire("editstart")
                    }
                    ,
                    n = function() {
                        o.off("dragstart", a, this),
                        o.off("dragend", n, this),
                        o.off("touchmove", a, this),
                        this._createMiddleMarker(t, o),
                        this._createMiddleMarker(o, e)
                    }
                    ,
                    i = function() {
                        a.call(this),
                        n.call(this),
                        this._fireEdit()
                    }
                    ,
                    o.on("click", i, this).on("dragstart", a, this).on("dragend", n, this).on("touchmove", a, this),
                    this._markerGroup.addLayer(o)
                },
                _updatePrevNext: function(t, e) {
                    t && (t._next = e),
                    e && (e._prev = t)
                },
                _getMiddleLatLng: function(t, e) {
                    var i = this._poly._map
                      , a = i.project(t.getLatLng())
                      , n = i.project(e.getLatLng());
                    return i.unproject(a._add(n)._divideBy(2))
                }
            }),
            L.Polyline.addInitHook(function() {
                this.editing || (L.Edit.Poly && (this.editing = new L.Edit.Poly(this),
                this.options.editable && this.editing.enable()),
                this.on("add", function() {
                    this.editing && this.editing.enabled() && this.editing.addHooks()
                }),
                this.on("remove", function() {
                    this.editing && this.editing.enabled() && this.editing.removeHooks()
                }))
            }),
            L.Edit = L.Edit || {},
            L.Edit.SimpleShape = L.Handler.extend({
                options: {
                    moveIcon: new L.DivIcon({
                        iconSize: new L.Point(8,8),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-move"
                    }),
                    resizeIcon: new L.DivIcon({
                        iconSize: new L.Point(8,8),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"
                    }),
                    touchMoveIcon: new L.DivIcon({
                        iconSize: new L.Point(20,20),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"
                    }),
                    touchResizeIcon: new L.DivIcon({
                        iconSize: new L.Point(20,20),
                        className: "leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"
                    })
                },
                initialize: function(t, e) {
                    L.Browser.touch && (this.options.moveIcon = this.options.touchMoveIcon,
                    this.options.resizeIcon = this.options.touchResizeIcon),
                    this._shape = t,
                    L.Util.setOptions(this, e)
                },
                addHooks: function() {
                    var t = this._shape;
                    this._shape._map && (this._map = this._shape._map,
                    t.setStyle(t.options.editing),
                    t._map && (this._map = t._map,
                    this._markerGroup || this._initMarkers(),
                    this._map.addLayer(this._markerGroup)))
                },
                removeHooks: function() {
                    var t = this._shape;
                    if (t.setStyle(t.options.original),
                    t._map) {
                        this._unbindMarker(this._moveMarker);
                        for (var e = 0, i = this._resizeMarkers.length; e < i; e++)
                            this._unbindMarker(this._resizeMarkers[e]);
                        this._resizeMarkers = null,
                        this._map.removeLayer(this._markerGroup),
                        delete this._markerGroup
                    }
                    this._map = null
                },
                updateMarkers: function() {
                    this._markerGroup.clearLayers(),
                    this._initMarkers()
                },
                _initMarkers: function() {
                    this._markerGroup || (this._markerGroup = new L.LayerGroup),
                    this._createMoveMarker(),
                    this._createResizeMarker()
                },
                _createMoveMarker: function() {},
                _createResizeMarker: function() {},
                _createMarker: function(t, e) {
                    var i = new L.Marker.Touch(t,{
                        draggable: !0,
                        icon: e,
                        zIndexOffset: 10
                    });
                    return this._bindMarker(i),
                    this._markerGroup.addLayer(i),
                    i
                },
                _bindMarker: function(t) {
                    t.on("dragstart", this._onMarkerDragStart, this).on("drag", this._onMarkerDrag, this).on("dragend", this._onMarkerDragEnd, this).on("touchstart", this._onTouchStart, this).on("touchmove", this._onTouchMove, this).on("MSPointerMove", this._onTouchMove, this).on("touchend", this._onTouchEnd, this).on("MSPointerUp", this._onTouchEnd, this)
                },
                _unbindMarker: function(t) {
                    t.off("dragstart", this._onMarkerDragStart, this).off("drag", this._onMarkerDrag, this).off("dragend", this._onMarkerDragEnd, this).off("touchstart", this._onTouchStart, this).off("touchmove", this._onTouchMove, this).off("MSPointerMove", this._onTouchMove, this).off("touchend", this._onTouchEnd, this).off("MSPointerUp", this._onTouchEnd, this)
                },
                _onMarkerDragStart: function(t) {
                    t.target.setOpacity(0),
                    this._shape.fire("editstart")
                },
                _fireEdit: function() {
                    this._shape.edited = !0,
                    this._shape.fire("edit")
                },
                _onMarkerDrag: function(t) {
                    var e = t.target
                      , i = e.getLatLng();
                    e === this._moveMarker ? this._move(i) : this._resize(i),
                    this._shape.redraw(),
                    this._shape.fire("editdrag")
                },
                _onMarkerDragEnd: function(t) {
                    t.target.setOpacity(1),
                    this._fireEdit()
                },
                _onTouchStart: function(t) {
                    if (L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this, t),
                    "function" == typeof this._getCorners) {
                        var e = this._getCorners()
                          , i = t.target
                          , a = i._cornerIndex;
                        i.setOpacity(0),
                        this._oppositeCorner = e[(a + 2) % 4],
                        this._toggleCornerMarkers(0, a)
                    }
                    this._shape.fire("editstart")
                },
                _onTouchMove: function(t) {
                    var e = this._map.mouseEventToLayerPoint(t.originalEvent.touches[0])
                      , i = this._map.layerPointToLatLng(e);
                    return t.target === this._moveMarker ? this._move(i) : this._resize(i),
                    this._shape.redraw(),
                    !1
                },
                _onTouchEnd: function(t) {
                    t.target.setOpacity(1),
                    this.updateMarkers(),
                    this._fireEdit()
                },
                _move: function() {},
                _resize: function() {}
            }),
            L.Edit = L.Edit || {},
            L.Edit.Rectangle = L.Edit.SimpleShape.extend({
                _createMoveMarker: function() {
                    var t = this._shape.getBounds().getCenter();
                    this._moveMarker = this._createMarker(t, this.options.moveIcon)
                },
                _createResizeMarker: function() {
                    var t = this._getCorners();
                    this._resizeMarkers = [];
                    for (var e = 0, i = t.length; e < i; e++)
                        this._resizeMarkers.push(this._createMarker(t[e], this.options.resizeIcon)),
                        this._resizeMarkers[e]._cornerIndex = e
                },
                _onMarkerDragStart: function(t) {
                    L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this, t);
                    var e = this._getCorners()
                      , i = t.target._cornerIndex;
                    this._oppositeCorner = e[(i + 2) % 4],
                    this._toggleCornerMarkers(0, i)
                },
                _onMarkerDragEnd: function(t) {
                    var e, i = t.target;
                    i === this._moveMarker && (e = this._shape.getBounds().getCenter(),
                    i.setLatLng(e)),
                    this._toggleCornerMarkers(1),
                    this._repositionCornerMarkers(),
                    L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this, t)
                },
                _move: function(t) {
                    for (var e, i = this._shape._defaultShape ? this._shape._defaultShape() : this._shape.getLatLngs(), a = this._shape.getBounds().getCenter(), n = [], r = 0, o = i.length; r < o; r++)
                        e = [i[r].lat - a.lat, i[r].lng - a.lng],
                        n.push([t.lat + e[0], t.lng + e[1]]);
                    this._shape.setLatLngs(n),
                    this._repositionCornerMarkers(),
                    this._map.fire(L.Draw.Event.EDITMOVE, {
                        layer: this._shape
                    })
                },
                _resize: function(t) {
                    var e;
                    this._shape.setBounds(L.latLngBounds(t, this._oppositeCorner)),
                    e = this._shape.getBounds(),
                    this._moveMarker.setLatLng(e.getCenter()),
                    this._map.fire(L.Draw.Event.EDITRESIZE, {
                        layer: this._shape
                    })
                },
                _getCorners: function() {
                    var t = this._shape.getBounds();
                    return [t.getNorthWest(), t.getNorthEast(), t.getSouthEast(), t.getSouthWest()]
                },
                _toggleCornerMarkers: function(t) {
                    for (var e = 0, i = this._resizeMarkers.length; e < i; e++)
                        this._resizeMarkers[e].setOpacity(t)
                },
                _repositionCornerMarkers: function() {
                    for (var t = this._getCorners(), e = 0, i = this._resizeMarkers.length; e < i; e++)
                        this._resizeMarkers[e].setLatLng(t[e])
                }
            }),
            L.Rectangle.addInitHook(function() {
                L.Edit.Rectangle && (this.editing = new L.Edit.Rectangle(this),
                this.options.editable && this.editing.enable())
            }),
            L.Edit = L.Edit || {},
            L.Edit.CircleMarker = L.Edit.SimpleShape.extend({
                _createMoveMarker: function() {
                    var t = this._shape.getLatLng();
                    this._moveMarker = this._createMarker(t, this.options.moveIcon)
                },
                _createResizeMarker: function() {
                    this._resizeMarkers = []
                },
                _move: function(t) {
                    if (this._resizeMarkers.length) {
                        var e = this._getResizeMarkerPoint(t);
                        this._resizeMarkers[0].setLatLng(e)
                    }
                    this._shape.setLatLng(t),
                    this._map.fire(L.Draw.Event.EDITMOVE, {
                        layer: this._shape
                    })
                }
            }),
            L.CircleMarker.addInitHook(function() {
                L.Edit.CircleMarker && (this.editing = new L.Edit.CircleMarker(this),
                this.options.editable && this.editing.enable()),
                this.on("add", function() {
                    this.editing && this.editing.enabled() && this.editing.addHooks()
                }),
                this.on("remove", function() {
                    this.editing && this.editing.enabled() && this.editing.removeHooks()
                })
            }),
            L.Edit = L.Edit || {},
            L.Edit.Circle = L.Edit.CircleMarker.extend({
                _createResizeMarker: function() {
                    var t = this._shape.getLatLng()
                      , e = this._getResizeMarkerPoint(t);
                    this._resizeMarkers = [],
                    this._resizeMarkers.push(this._createMarker(e, this.options.resizeIcon))
                },
                _getResizeMarkerPoint: function(t) {
                    var e = this._shape._radius * Math.cos(Math.PI / 4)
                      , i = this._map.project(t);
                    return this._map.unproject([i.x + e, i.y - e])
                },
                _resize: function(t) {
                    var e = this._moveMarker.getLatLng();
                    L.GeometryUtil.isVersion07x() ? radius = e.distanceTo(t) : radius = this._map.distance(e, t),
                    this._shape.setRadius(radius),
                    this._map.editTooltip && this._map._editTooltip.updateContent({
                        text: L.drawLocal.edit.handlers.edit.tooltip.subtext + "<br />" + L.drawLocal.edit.handlers.edit.tooltip.text,
                        subtext: L.drawLocal.draw.handlers.circle.radius + ": " + L.GeometryUtil.readableDistance(radius, !0, this.options.feet, this.options.nautic)
                    }),
                    this._shape.setRadius(radius),
                    this._map.fire(L.Draw.Event.EDITRESIZE, {
                        layer: this._shape
                    })
                }
            }),
            L.Circle.addInitHook(function() {
                L.Edit.Circle && (this.editing = new L.Edit.Circle(this),
                this.options.editable && this.editing.enable())
            }),
            L.Map.mergeOptions({
                touchExtend: !0
            }),
            L.Map.TouchExtend = L.Handler.extend({
                initialize: function(t) {
                    this._map = t,
                    this._container = t._container,
                    this._pane = t._panes.overlayPane
                },
                addHooks: function() {
                    L.DomEvent.on(this._container, "touchstart", this._onTouchStart, this),
                    L.DomEvent.on(this._container, "touchend", this._onTouchEnd, this),
                    L.DomEvent.on(this._container, "touchmove", this._onTouchMove, this),
                    this._detectIE() ? (L.DomEvent.on(this._container, "MSPointerDown", this._onTouchStart, this),
                    L.DomEvent.on(this._container, "MSPointerUp", this._onTouchEnd, this),
                    L.DomEvent.on(this._container, "MSPointerMove", this._onTouchMove, this),
                    L.DomEvent.on(this._container, "MSPointerCancel", this._onTouchCancel, this)) : (L.DomEvent.on(this._container, "touchcancel", this._onTouchCancel, this),
                    L.DomEvent.on(this._container, "touchleave", this._onTouchLeave, this))
                },
                removeHooks: function() {
                    L.DomEvent.off(this._container, "touchstart", this._onTouchStart, this),
                    L.DomEvent.off(this._container, "touchend", this._onTouchEnd, this),
                    L.DomEvent.off(this._container, "touchmove", this._onTouchMove, this),
                    this._detectIE() ? (L.DomEvent.off(this._container, "MSPointerDown", this._onTouchStart, this),
                    L.DomEvent.off(this._container, "MSPointerUp", this._onTouchEnd, this),
                    L.DomEvent.off(this._container, "MSPointerMove", this._onTouchMove, this),
                    L.DomEvent.off(this._container, "MSPointerCancel", this._onTouchCancel, this)) : (L.DomEvent.off(this._container, "touchcancel", this._onTouchCancel, this),
                    L.DomEvent.off(this._container, "touchleave", this._onTouchLeave, this))
                },
                _touchEvent: function(t, e) {
                    var i = {};
                    if (void 0 !== t.touches) {
                        if (!t.touches.length)
                            return;
                        i = t.touches[0]
                    } else {
                        if ("touch" !== t.pointerType)
                            return;
                        if (i = t,
                        !this._filterClick(t))
                            return
                    }
                    var a = this._map.mouseEventToContainerPoint(i)
                      , n = this._map.mouseEventToLayerPoint(i)
                      , r = this._map.layerPointToLatLng(n);
                    this._map.fire(e, {
                        latlng: r,
                        layerPoint: n,
                        containerPoint: a,
                        pageX: i.pageX,
                        pageY: i.pageY,
                        originalEvent: t
                    })
                },
                _filterClick: function(t) {
                    var e = t.timeStamp || t.originalEvent.timeStamp
                      , i = L.DomEvent._lastClick && e - L.DomEvent._lastClick;
                    return i && i > 100 && i < 500 || t.target._simulatedClick && !t._simulated ? (L.DomEvent.stop(t),
                    !1) : (L.DomEvent._lastClick = e,
                    !0)
                },
                _onTouchStart: function(t) {
                    this._map._loaded && this._touchEvent(t, "touchstart")
                },
                _onTouchEnd: function(t) {
                    this._map._loaded && this._touchEvent(t, "touchend")
                },
                _onTouchCancel: function(t) {
                    if (this._map._loaded) {
                        var e = "touchcancel";
                        this._detectIE() && (e = "pointercancel"),
                        this._touchEvent(t, e)
                    }
                },
                _onTouchLeave: function(t) {
                    this._map._loaded && this._touchEvent(t, "touchleave")
                },
                _onTouchMove: function(t) {
                    this._map._loaded && this._touchEvent(t, "touchmove")
                },
                _detectIE: function() {
                    var e = t.navigator.userAgent
                      , i = e.indexOf("MSIE ");
                    if (i > 0)
                        return parseInt(e.substring(i + 5, e.indexOf(".", i)), 10);
                    if (e.indexOf("Trident/") > 0) {
                        var a = e.indexOf("rv:");
                        return parseInt(e.substring(a + 3, e.indexOf(".", a)), 10)
                    }
                    var n = e.indexOf("Edge/");
                    return n > 0 && parseInt(e.substring(n + 5, e.indexOf(".", n)), 10)
                }
            }),
            L.Map.addInitHook("addHandler", "touchExtend", L.Map.TouchExtend),
            L.Marker.Touch = L.Marker.extend({
                _initInteraction: function() {
                    return this.addInteractiveTarget ? L.Marker.prototype._initInteraction.apply(this) : this._initInteractionLegacy()
                },
                _initInteractionLegacy: function() {
                    if (this.options.clickable) {
                        var t = this._icon
                          , e = ["dblclick", "mousedown", "mouseover", "mouseout", "contextmenu", "touchstart", "touchend", "touchmove"];
                        this._detectIE ? e.concat(["MSPointerDown", "MSPointerUp", "MSPointerMove", "MSPointerCancel"]) : e.concat(["touchcancel"]),
                        L.DomUtil.addClass(t, "leaflet-clickable"),
                        L.DomEvent.on(t, "click", this._onMouseClick, this),
                        L.DomEvent.on(t, "keypress", this._onKeyPress, this);
                        for (var i = 0; i < e.length; i++)
                            L.DomEvent.on(t, e[i], this._fireMouseEvent, this);
                        L.Handler.MarkerDrag && (this.dragging = new L.Handler.MarkerDrag(this),
                        this.options.draggable && this.dragging.enable())
                    }
                },
                _detectIE: function() {
                    var e = t.navigator.userAgent
                      , i = e.indexOf("MSIE ");
                    if (i > 0)
                        return parseInt(e.substring(i + 5, e.indexOf(".", i)), 10);
                    if (e.indexOf("Trident/") > 0) {
                        var a = e.indexOf("rv:");
                        return parseInt(e.substring(a + 3, e.indexOf(".", a)), 10)
                    }
                    var n = e.indexOf("Edge/");
                    return n > 0 && parseInt(e.substring(n + 5, e.indexOf(".", n)), 10)
                }
            }),
            L.LatLngUtil = {
                cloneLatLngs: function(t) {
                    for (var e = [], i = 0, a = t.length; i < a; i++)
                        Array.isArray(t[i]) ? e.push(L.LatLngUtil.cloneLatLngs(t[i])) : e.push(this.cloneLatLng(t[i]));
                    return e
                },
                cloneLatLng: function(t) {
                    return L.latLng(t.lat, t.lng)
                }
            },
            function() {
                var t = {
                    km: 2,
                    ha: 2,
                    m: 0,
                    mi: 2,
                    ac: 2,
                    yd: 0,
                    ft: 0,
                    nm: 2
                };
                L.GeometryUtil = L.extend(L.GeometryUtil || {}, {
                    geodesicArea: function(t) {
                        var e, i, a = t.length, n = 0, r = Math.PI / 180;
                        if (a > 2) {
                            for (var o = 0; o < a; o++)
                                e = t[o],
                                n += ((i = t[(o + 1) % a]).lng - e.lng) * r * (2 + Math.sin(e.lat * r) + Math.sin(i.lat * r));
                            n = 6378137 * n * 6378137 / 2
                        }
                        return Math.abs(n)
                    },
                    formattedNumber: function(t, e) {
                        var i = parseFloat(t).toFixed(e)
                          , a = L.drawLocal.format && L.drawLocal.format.numeric
                          , n = a && a.delimiters
                          , r = n && n.thousands
                          , o = n && n.decimal;
                        if (r || o) {
                            var s = i.split(".");
                            i = r ? s[0].replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1" + r) : s[0],
                            o = o || ".",
                            s.length > 1 && (i = i + o + s[1])
                        }
                        return i
                    },
                    readableArea: function(e, i, a) {
                        var n, r;
                        a = L.Util.extend({}, t, a);
                        return i ? (r = ["ha", "m"],
                        type = typeof i,
                        "string" === type ? r = [i] : "boolean" !== type && (r = i),
                        n = e >= 1e6 && -1 !== r.indexOf("km") ? L.GeometryUtil.formattedNumber(1e-6 * e, a.km) + " km\xb2" : e >= 1e4 && -1 !== r.indexOf("ha") ? L.GeometryUtil.formattedNumber(1e-4 * e, a.ha) + " ha" : L.GeometryUtil.formattedNumber(e, a.m) + " m\xb2") : n = (e /= .836127) >= 3097600 ? L.GeometryUtil.formattedNumber(e / 3097600, a.mi) + " mi\xb2" : e >= 4840 ? L.GeometryUtil.formattedNumber(e / 4840, a.ac) + " acres" : L.GeometryUtil.formattedNumber(e, a.yd) + " yd\xb2",
                        n
                    },
                    readableDistance: function(e, i, a, n, r) {
                        var o;
                        r = L.Util.extend({}, t, r);
                        switch (i ? "string" == typeof i ? i : "metric" : a ? "feet" : n ? "nauticalMile" : "yards") {
                        case "metric":
                            o = e > 1e3 ? L.GeometryUtil.formattedNumber(e / 1e3, r.km) + " km" : L.GeometryUtil.formattedNumber(e, r.m) + " m";
                            break;
                        case "feet":
                            e *= 3.28083,
                            o = L.GeometryUtil.formattedNumber(e, r.ft) + " ft";
                            break;
                        case "nauticalMile":
                            e *= .53996,
                            o = L.GeometryUtil.formattedNumber(e / 1e3, r.nm) + " nm";
                            break;
                        case "yards":
                        default:
                            o = (e *= 1.09361) > 1760 ? L.GeometryUtil.formattedNumber(e / 1760, r.mi) + " miles" : L.GeometryUtil.formattedNumber(e, r.yd) + " yd"
                        }
                        return o
                    },
                    isVersion07x: function() {
                        var t = L.version.split(".");
                        return 0 === parseInt(t[0], 10) && 7 === parseInt(t[1], 10)
                    }
                })
            }(),
            L.Util.extend(L.LineUtil, {
                segmentsIntersect: function(t, e, i, a) {
                    return this._checkCounterclockwise(t, i, a) !== this._checkCounterclockwise(e, i, a) && this._checkCounterclockwise(t, e, i) !== this._checkCounterclockwise(t, e, a)
                },
                _checkCounterclockwise: function(t, e, i) {
                    return (i.y - t.y) * (e.x - t.x) > (e.y - t.y) * (i.x - t.x)
                }
            }),
            L.Polyline.include({
                intersects: function() {
                    var t, e, i, a = this._getProjectedPoints(), n = a ? a.length : 0;
                    if (this._tooFewPointsForIntersection())
                        return !1;
                    for (t = n - 1; t >= 3; t--)
                        if (e = a[t - 1],
                        i = a[t],
                        this._lineSegmentsIntersectsRange(e, i, t - 2))
                            return !0;
                    return !1
                },
                newLatLngIntersects: function(t, e) {
                    return !!this._map && this.newPointIntersects(this._map.latLngToLayerPoint(t), e)
                },
                newPointIntersects: function(t, e) {
                    var i = this._getProjectedPoints()
                      , a = i ? i.length : 0
                      , n = i ? i[a - 1] : null
                      , r = a - 2;
                    return !this._tooFewPointsForIntersection(1) && this._lineSegmentsIntersectsRange(n, t, r, e ? 1 : 0)
                },
                _tooFewPointsForIntersection: function(t) {
                    var e = this._getProjectedPoints()
                      , i = e ? e.length : 0;
                    return !e || (i += t || 0) <= 3
                },
                _lineSegmentsIntersectsRange: function(t, e, i, a) {
                    var n, r, o = this._getProjectedPoints();
                    a = a || 0;
                    for (var s = i; s > a; s--)
                        if (n = o[s - 1],
                        r = o[s],
                        L.LineUtil.segmentsIntersect(t, e, n, r))
                            return !0;
                    return !1
                },
                _getProjectedPoints: function() {
                    if (!this._defaultShape)
                        return this._originalPoints;
                    for (var t = [], e = this._defaultShape(), i = 0; i < e.length; i++)
                        t.push(this._map.latLngToLayerPoint(e[i]));
                    return t
                }
            }),
            L.Polygon.include({
                intersects: function() {
                    var t, e, i, a, n = this._getProjectedPoints();
                    return !this._tooFewPointsForIntersection() && (!!L.Polyline.prototype.intersects.call(this) || (t = n.length,
                    e = n[0],
                    i = n[t - 1],
                    a = t - 2,
                    this._lineSegmentsIntersectsRange(i, e, a, 1)))
                }
            }),
            L.Control.Draw = L.Control.extend({
                options: {
                    position: "topleft",
                    draw: {},
                    edit: !1
                },
                initialize: function(t) {
                    if (L.version < "0.7")
                        throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");
                    var e;
                    L.Control.prototype.initialize.call(this, t),
                    this._toolbars = {},
                    L.DrawToolbar && this.options.draw && (e = new L.DrawToolbar(this.options.draw),
                    this._toolbars[L.DrawToolbar.TYPE] = e,
                    this._toolbars[L.DrawToolbar.TYPE].on("enable", this._toolbarEnabled, this)),
                    L.EditToolbar && this.options.edit && (e = new L.EditToolbar(this.options.edit),
                    this._toolbars[L.EditToolbar.TYPE] = e,
                    this._toolbars[L.EditToolbar.TYPE].on("enable", this._toolbarEnabled, this)),
                    L.toolbar = this
                },
                onAdd: function(t) {
                    var e, i = L.DomUtil.create("div", "leaflet-draw"), a = !1;
                    for (var n in this._toolbars)
                        this._toolbars.hasOwnProperty(n) && (e = this._toolbars[n].addToolbar(t)) && (a || (L.DomUtil.hasClass(e, "leaflet-draw-toolbar-top") || L.DomUtil.addClass(e.childNodes[0], "leaflet-draw-toolbar-top"),
                        a = !0),
                        i.appendChild(e));
                    return i
                },
                onRemove: function() {
                    for (var t in this._toolbars)
                        this._toolbars.hasOwnProperty(t) && this._toolbars[t].removeToolbar()
                },
                setDrawingOptions: function(t) {
                    for (var e in this._toolbars)
                        this._toolbars[e]instanceof L.DrawToolbar && this._toolbars[e].setOptions(t)
                },
                _toolbarEnabled: function(t) {
                    var e = t.target;
                    for (var i in this._toolbars)
                        this._toolbars[i] !== e && this._toolbars[i].disable()
                }
            }),
            L.Map.mergeOptions({
                drawControlTooltips: !0,
                drawControl: !1
            }),
            L.Map.addInitHook(function() {
                this.options.drawControl && (this.drawControl = new L.Control.Draw,
                this.addControl(this.drawControl))
            }),
            L.Toolbar = L.Class.extend({
                initialize: function(t) {
                    L.setOptions(this, t),
                    this._modes = {},
                    this._actionButtons = [],
                    this._activeMode = null;
                    var e = L.version.split(".");
                    1 === parseInt(e[0], 10) && parseInt(e[1], 10) >= 2 ? L.Toolbar.include(L.Evented.prototype) : L.Toolbar.include(L.Mixin.Events)
                },
                enabled: function() {
                    return null !== this._activeMode
                },
                disable: function() {
                    this.enabled() && this._activeMode.handler.disable()
                },
                addToolbar: function(t) {
                    var e, i = L.DomUtil.create("div", "leaflet-draw-section"), a = 0, n = this._toolbarClass || "", r = this.getModeHandlers(t);
                    for (this._toolbarContainer = L.DomUtil.create("div", "leaflet-draw-toolbar leaflet-bar"),
                    this._map = t,
                    e = 0; e < r.length; e++)
                        r[e].enabled && this._initModeHandler(r[e].handler, this._toolbarContainer, a++, n, r[e].title);
                    if (a)
                        return this._lastButtonIndex = --a,
                        this._actionsContainer = L.DomUtil.create("ul", "leaflet-draw-actions"),
                        i.appendChild(this._toolbarContainer),
                        i.appendChild(this._actionsContainer),
                        i
                },
                removeToolbar: function() {
                    for (var t in this._modes)
                        this._modes.hasOwnProperty(t) && (this._disposeButton(this._modes[t].button, this._modes[t].handler.enable, this._modes[t].handler),
                        this._modes[t].handler.disable(),
                        this._modes[t].handler.off("enabled", this._handlerActivated, this).off("disabled", this._handlerDeactivated, this));
                    this._modes = {};
                    for (var e = 0, i = this._actionButtons.length; e < i; e++)
                        this._disposeButton(this._actionButtons[e].button, this._actionButtons[e].callback, this);
                    this._actionButtons = [],
                    this._actionsContainer = null
                },
                _initModeHandler: function(t, e, i, a, n) {
                    var r = t.type;
                    this._modes[r] = {},
                    this._modes[r].handler = t,
                    this._modes[r].button = this._createButton({
                        type: r,
                        title: n,
                        className: a + "-" + r,
                        container: e,
                        callback: this._modes[r].handler.enable,
                        context: this._modes[r].handler
                    }),
                    this._modes[r].buttonIndex = i,
                    this._modes[r].handler.on("enabled", this._handlerActivated, this).on("disabled", this._handlerDeactivated, this)
                },
                _detectIOS: function() {
                    return /iPad|iPhone|iPod/.test(navigator.userAgent) && !t.MSStream
                },
                _createButton: function(t) {
                    var e = L.DomUtil.create("a", t.className || "", t.container)
                      , i = L.DomUtil.create("span", "sr-only", t.container);
                    e.href = "#",
                    e.appendChild(i),
                    t.title && (e.title = t.title,
                    i.innerHTML = t.title),
                    t.text && (e.innerHTML = t.text,
                    i.innerHTML = t.text);
                    var a = this._detectIOS() ? "touchstart" : "click";
                    return L.DomEvent.on(e, "click", L.DomEvent.stopPropagation).on(e, "mousedown", L.DomEvent.stopPropagation).on(e, "dblclick", L.DomEvent.stopPropagation).on(e, "touchstart", L.DomEvent.stopPropagation).on(e, "click", L.DomEvent.preventDefault).on(e, a, t.callback, t.context),
                    e
                },
                _disposeButton: function(t, e) {
                    var i = this._detectIOS() ? "touchstart" : "click";
                    L.DomEvent.off(t, "click", L.DomEvent.stopPropagation).off(t, "mousedown", L.DomEvent.stopPropagation).off(t, "dblclick", L.DomEvent.stopPropagation).off(t, "touchstart", L.DomEvent.stopPropagation).off(t, "click", L.DomEvent.preventDefault).off(t, i, e)
                },
                _handlerActivated: function(t) {
                    this.disable(),
                    this._activeMode = this._modes[t.handler],
                    L.DomUtil.addClass(this._activeMode.button, "leaflet-draw-toolbar-button-enabled"),
                    this._showActionsToolbar(),
                    this.fire("enable")
                },
                _handlerDeactivated: function() {
                    this._hideActionsToolbar(),
                    L.DomUtil.removeClass(this._activeMode.button, "leaflet-draw-toolbar-button-enabled"),
                    this._activeMode = null,
                    this.fire("disable")
                },
                _createActions: function(t) {
                    var e, i, a, n, r = this._actionsContainer, o = this.getActions(t), s = o.length;
                    for (i = 0,
                    a = this._actionButtons.length; i < a; i++)
                        this._disposeButton(this._actionButtons[i].button, this._actionButtons[i].callback);
                    for (this._actionButtons = []; r.firstChild; )
                        r.removeChild(r.firstChild);
                    for (var l = 0; l < s; l++)
                        "enabled"in o[l] && !o[l].enabled || (e = L.DomUtil.create("li", "", r),
                        n = this._createButton({
                            title: o[l].title,
                            text: o[l].text,
                            container: e,
                            callback: o[l].callback,
                            context: o[l].context
                        }),
                        this._actionButtons.push({
                            button: n,
                            callback: o[l].callback
                        }))
                },
                _showActionsToolbar: function() {
                    var t = this._activeMode.buttonIndex
                      , e = this._lastButtonIndex
                      , i = this._activeMode.button.offsetTop - 1;
                    this._createActions(this._activeMode.handler),
                    this._actionsContainer.style.top = i + "px",
                    0 === t && (L.DomUtil.addClass(this._toolbarContainer, "leaflet-draw-toolbar-notop"),
                    L.DomUtil.addClass(this._actionsContainer, "leaflet-draw-actions-top")),
                    t === e && (L.DomUtil.addClass(this._toolbarContainer, "leaflet-draw-toolbar-nobottom"),
                    L.DomUtil.addClass(this._actionsContainer, "leaflet-draw-actions-bottom")),
                    this._actionsContainer.style.display = "block",
                    this._map.fire(L.Draw.Event.TOOLBAROPENED)
                },
                _hideActionsToolbar: function() {
                    this._actionsContainer.style.display = "none",
                    L.DomUtil.removeClass(this._toolbarContainer, "leaflet-draw-toolbar-notop"),
                    L.DomUtil.removeClass(this._toolbarContainer, "leaflet-draw-toolbar-nobottom"),
                    L.DomUtil.removeClass(this._actionsContainer, "leaflet-draw-actions-top"),
                    L.DomUtil.removeClass(this._actionsContainer, "leaflet-draw-actions-bottom"),
                    this._map.fire(L.Draw.Event.TOOLBARCLOSED)
                }
            }),
            L.Draw = L.Draw || {},
            L.Draw.Tooltip = L.Class.extend({
                initialize: function(t) {
                    this._map = t,
                    this._popupPane = t._panes.popupPane,
                    this._visible = !1,
                    this._container = t.options.drawControlTooltips ? L.DomUtil.create("div", "leaflet-draw-tooltip", this._popupPane) : null,
                    this._singleLineLabel = !1,
                    this._map.on("mouseout", this._onMouseOut, this)
                },
                dispose: function() {
                    this._map.off("mouseout", this._onMouseOut, this),
                    this._container && (this._popupPane.removeChild(this._container),
                    this._container = null)
                },
                updateContent: function(t) {
                    return this._container ? (t.subtext = t.subtext || "",
                    0 !== t.subtext.length || this._singleLineLabel ? t.subtext.length > 0 && this._singleLineLabel && (L.DomUtil.removeClass(this._container, "leaflet-draw-tooltip-single"),
                    this._singleLineLabel = !1) : (L.DomUtil.addClass(this._container, "leaflet-draw-tooltip-single"),
                    this._singleLineLabel = !0),
                    this._container.innerHTML = (t.subtext.length > 0 ? '<span class="leaflet-draw-tooltip-subtext">' + t.subtext + "</span><br />" : "") + "<span>" + t.text + "</span>",
                    t.text || t.subtext ? (this._visible = !0,
                    this._container.style.visibility = "inherit") : (this._visible = !1,
                    this._container.style.visibility = "hidden"),
                    this) : this
                },
                updatePosition: function(t) {
                    var e = this._map.latLngToLayerPoint(t)
                      , i = this._container;
                    return this._container && (this._visible && (i.style.visibility = "inherit"),
                    L.DomUtil.setPosition(i, e)),
                    this
                },
                showAsError: function() {
                    return this._container && L.DomUtil.addClass(this._container, "leaflet-error-draw-tooltip"),
                    this
                },
                removeError: function() {
                    return this._container && L.DomUtil.removeClass(this._container, "leaflet-error-draw-tooltip"),
                    this
                },
                _onMouseOut: function() {
                    this._container && (this._container.style.visibility = "hidden")
                }
            }),
            L.DrawToolbar = L.Toolbar.extend({
                statics: {
                    TYPE: "draw"
                },
                options: {
                    polyline: {},
                    polygon: {},
                    rectangle: {},
                    circle: {},
                    marker: {},
                    circlemarker: {}
                },
                initialize: function(t) {
                    for (var e in this.options)
                        this.options.hasOwnProperty(e) && t[e] && (t[e] = L.extend({}, this.options[e], t[e]));
                    this._toolbarClass = "leaflet-draw-draw",
                    L.Toolbar.prototype.initialize.call(this, t)
                },
                getModeHandlers: function(t) {
                    return [{
                        enabled: this.options.polyline,
                        handler: new L.Draw.Polyline(t,this.options.polyline),
                        title: L.drawLocal.draw.toolbar.buttons.polyline
                    }, {
                        enabled: this.options.polygon,
                        handler: new L.Draw.Polygon(t,this.options.polygon),
                        title: L.drawLocal.draw.toolbar.buttons.polygon
                    }, {
                        enabled: this.options.rectangle,
                        handler: new L.Draw.Rectangle(t,this.options.rectangle),
                        title: L.drawLocal.draw.toolbar.buttons.rectangle
                    }, {
                        enabled: this.options.circle,
                        handler: new L.Draw.Circle(t,this.options.circle),
                        title: L.drawLocal.draw.toolbar.buttons.circle
                    }, {
                        enabled: this.options.marker,
                        handler: new L.Draw.Marker(t,this.options.marker),
                        title: L.drawLocal.draw.toolbar.buttons.marker
                    }, {
                        enabled: this.options.circlemarker,
                        handler: new L.Draw.CircleMarker(t,this.options.circlemarker),
                        title: L.drawLocal.draw.toolbar.buttons.circlemarker
                    }]
                },
                getActions: function(t) {
                    return [{
                        enabled: t.completeShape,
                        title: L.drawLocal.draw.toolbar.finish.title,
                        text: L.drawLocal.draw.toolbar.finish.text,
                        callback: t.completeShape,
                        context: t
                    }, {
                        enabled: t.deleteLastVertex,
                        title: L.drawLocal.draw.toolbar.undo.title,
                        text: L.drawLocal.draw.toolbar.undo.text,
                        callback: t.deleteLastVertex,
                        context: t
                    }, {
                        title: L.drawLocal.draw.toolbar.actions.title,
                        text: L.drawLocal.draw.toolbar.actions.text,
                        callback: this.disable,
                        context: this
                    }]
                },
                setOptions: function(t) {
                    for (var e in L.setOptions(this, t),
                    this._modes)
                        this._modes.hasOwnProperty(e) && t.hasOwnProperty(e) && this._modes[e].handler.setOptions(t[e])
                }
            }),
            L.EditToolbar = L.Toolbar.extend({
                statics: {
                    TYPE: "edit"
                },
                options: {
                    edit: {
                        selectedPathOptions: {
                            dashArray: "10, 10",
                            fill: !0,
                            fillColor: "#fe57a1",
                            fillOpacity: .1,
                            maintainColor: !1
                        }
                    },
                    remove: {},
                    poly: null,
                    featureGroup: null
                },
                initialize: function(t) {
                    t.edit && (void 0 === t.edit.selectedPathOptions && (t.edit.selectedPathOptions = this.options.edit.selectedPathOptions),
                    t.edit.selectedPathOptions = L.extend({}, this.options.edit.selectedPathOptions, t.edit.selectedPathOptions)),
                    t.remove && (t.remove = L.extend({}, this.options.remove, t.remove)),
                    t.poly && (t.poly = L.extend({}, this.options.poly, t.poly)),
                    this._toolbarClass = "leaflet-draw-edit",
                    L.Toolbar.prototype.initialize.call(this, t),
                    this._selectedFeatureCount = 0
                },
                getModeHandlers: function(t) {
                    var e = this.options.featureGroup;
                    return [{
                        enabled: this.options.edit,
                        handler: new L.EditToolbar.Edit(t,{
                            featureGroup: e,
                            selectedPathOptions: this.options.edit.selectedPathOptions,
                            poly: this.options.poly
                        }),
                        title: L.drawLocal.edit.toolbar.buttons.edit
                    }, {
                        enabled: this.options.remove,
                        handler: new L.EditToolbar.Delete(t,{
                            featureGroup: e
                        }),
                        title: L.drawLocal.edit.toolbar.buttons.remove
                    }]
                },
                getActions: function(t) {
                    var e = [{
                        title: L.drawLocal.edit.toolbar.actions.save.title,
                        text: L.drawLocal.edit.toolbar.actions.save.text,
                        callback: this._save,
                        context: this
                    }, {
                        title: L.drawLocal.edit.toolbar.actions.cancel.title,
                        text: L.drawLocal.edit.toolbar.actions.cancel.text,
                        callback: this.disable,
                        context: this
                    }];
                    return t.removeAllLayers && e.push({
                        title: L.drawLocal.edit.toolbar.actions.clearAll.title,
                        text: L.drawLocal.edit.toolbar.actions.clearAll.text,
                        callback: this._clearAllLayers,
                        context: this
                    }),
                    e
                },
                addToolbar: function(t) {
                    var e = L.Toolbar.prototype.addToolbar.call(this, t);
                    return this._checkDisabled(),
                    this.options.featureGroup.on("layeradd layerremove", this._checkDisabled, this),
                    e
                },
                removeToolbar: function() {
                    this.options.featureGroup.off("layeradd layerremove", this._checkDisabled, this),
                    L.Toolbar.prototype.removeToolbar.call(this)
                },
                disable: function() {
                    this.enabled() && (this._activeMode.handler.revertLayers(),
                    L.Toolbar.prototype.disable.call(this))
                },
                _save: function() {
                    this._activeMode.handler.save(),
                    this._activeMode && this._activeMode.handler.disable()
                },
                _clearAllLayers: function() {
                    this._activeMode.handler.removeAllLayers(),
                    this._activeMode && this._activeMode.handler.disable()
                },
                _checkDisabled: function() {
                    var t, e = 0 !== this.options.featureGroup.getLayers().length;
                    this.options.edit && (t = this._modes[L.EditToolbar.Edit.TYPE].button,
                    e ? L.DomUtil.removeClass(t, "leaflet-disabled") : L.DomUtil.addClass(t, "leaflet-disabled"),
                    t.setAttribute("title", e ? L.drawLocal.edit.toolbar.buttons.edit : L.drawLocal.edit.toolbar.buttons.editDisabled)),
                    this.options.remove && (t = this._modes[L.EditToolbar.Delete.TYPE].button,
                    e ? L.DomUtil.removeClass(t, "leaflet-disabled") : L.DomUtil.addClass(t, "leaflet-disabled"),
                    t.setAttribute("title", e ? L.drawLocal.edit.toolbar.buttons.remove : L.drawLocal.edit.toolbar.buttons.removeDisabled))
                }
            }),
            L.EditToolbar.Edit = L.Handler.extend({
                statics: {
                    TYPE: "edit"
                },
                initialize: function(t, e) {
                    if (L.Handler.prototype.initialize.call(this, t),
                    L.setOptions(this, e),
                    this._featureGroup = e.featureGroup,
                    !(this._featureGroup instanceof L.FeatureGroup))
                        throw new Error("options.featureGroup must be a L.FeatureGroup");
                    this._uneditedLayerProps = {},
                    this.type = L.EditToolbar.Edit.TYPE;
                    var i = L.version.split(".");
                    1 === parseInt(i[0], 10) && parseInt(i[1], 10) >= 2 ? L.EditToolbar.Edit.include(L.Evented.prototype) : L.EditToolbar.Edit.include(L.Mixin.Events)
                },
                enable: function() {
                    !this._enabled && this._hasAvailableLayers() && (this.fire("enabled", {
                        handler: this.type
                    }),
                    this._map.fire(L.Draw.Event.EDITSTART, {
                        handler: this.type
                    }),
                    L.Handler.prototype.enable.call(this),
                    this._featureGroup.on("layeradd", this._enableLayerEdit, this).on("layerremove", this._disableLayerEdit, this))
                },
                disable: function() {
                    this._enabled && (this._featureGroup.off("layeradd", this._enableLayerEdit, this).off("layerremove", this._disableLayerEdit, this),
                    L.Handler.prototype.disable.call(this),
                    this._map.fire(L.Draw.Event.EDITSTOP, {
                        handler: this.type
                    }),
                    this.fire("disabled", {
                        handler: this.type
                    }))
                },
                addHooks: function() {
                    var t = this._map;
                    t && (t.getContainer().focus(),
                    this._featureGroup.eachLayer(this._enableLayerEdit, this),
                    this._tooltip = new L.Draw.Tooltip(this._map),
                    this._tooltip.updateContent({
                        text: L.drawLocal.edit.handlers.edit.tooltip.text,
                        subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext
                    }),
                    t._editTooltip = this._tooltip,
                    this._updateTooltip(),
                    this._map.on("mousemove", this._onMouseMove, this).on("touchmove", this._onMouseMove, this).on("MSPointerMove", this._onMouseMove, this).on(L.Draw.Event.EDITVERTEX, this._updateTooltip, this))
                },
                removeHooks: function() {
                    this._map && (this._featureGroup.eachLayer(this._disableLayerEdit, this),
                    this._uneditedLayerProps = {},
                    this._tooltip.dispose(),
                    this._tooltip = null,
                    this._map.off("mousemove", this._onMouseMove, this).off("touchmove", this._onMouseMove, this).off("MSPointerMove", this._onMouseMove, this).off(L.Draw.Event.EDITVERTEX, this._updateTooltip, this))
                },
                revertLayers: function() {
                    this._featureGroup.eachLayer(function(t) {
                        this._revertLayer(t)
                    }, this)
                },
                save: function() {
                    var t = new L.LayerGroup;
                    this._featureGroup.eachLayer(function(e) {
                        e.edited && (t.addLayer(e),
                        e.edited = !1)
                    }),
                    this._map.fire(L.Draw.Event.EDITED, {
                        layers: t
                    })
                },
                _backupLayer: function(t) {
                    var e = L.Util.stamp(t);
                    this._uneditedLayerProps[e] || (t instanceof L.Polyline || t instanceof L.Polygon || t instanceof L.Rectangle ? this._uneditedLayerProps[e] = {
                        latlngs: L.LatLngUtil.cloneLatLngs(t.getLatLngs())
                    } : t instanceof L.Circle ? this._uneditedLayerProps[e] = {
                        latlng: L.LatLngUtil.cloneLatLng(t.getLatLng()),
                        radius: t.getRadius()
                    } : (t instanceof L.Marker || t instanceof L.CircleMarker) && (this._uneditedLayerProps[e] = {
                        latlng: L.LatLngUtil.cloneLatLng(t.getLatLng())
                    }))
                },
                _getTooltipText: function() {
                    return {
                        text: L.drawLocal.edit.handlers.edit.tooltip.text,
                        subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext
                    }
                },
                _updateTooltip: function() {
                    this._tooltip.updateContent(this._getTooltipText())
                },
                _revertLayer: function(t) {
                    var e = L.Util.stamp(t);
                    t.edited = !1,
                    this._uneditedLayerProps.hasOwnProperty(e) && (t instanceof L.Polyline || t instanceof L.Polygon || t instanceof L.Rectangle ? t.setLatLngs(this._uneditedLayerProps[e].latlngs) : t instanceof L.Circle ? (t.setLatLng(this._uneditedLayerProps[e].latlng),
                    t.setRadius(this._uneditedLayerProps[e].radius)) : (t instanceof L.Marker || t instanceof L.CircleMarker) && t.setLatLng(this._uneditedLayerProps[e].latlng),
                    t.fire("revert-edited", {
                        layer: t
                    }))
                },
                _enableLayerEdit: function(t) {
                    var e, i, a = t.layer || t.target || t;
                    this._backupLayer(a),
                    this.options.poly && (i = L.Util.extend({}, this.options.poly),
                    a.options.poly = i),
                    this.options.selectedPathOptions && ((e = L.Util.extend({}, this.options.selectedPathOptions)).maintainColor && (e.color = a.options.color,
                    e.fillColor = a.options.fillColor),
                    a.options.original = L.extend({}, a.options),
                    a.options.editing = e),
                    a instanceof L.Marker ? (a.editing && a.editing.enable(),
                    a.dragging.enable(),
                    a.on("dragend", this._onMarkerDragEnd).on("touchmove", this._onTouchMove, this).on("MSPointerMove", this._onTouchMove, this).on("touchend", this._onMarkerDragEnd, this).on("MSPointerUp", this._onMarkerDragEnd, this)) : a.editing.enable()
                },
                _disableLayerEdit: function(t) {
                    var e = t.layer || t.target || t;
                    e.edited = !1,
                    e.editing && e.editing.disable(),
                    delete e.options.editing,
                    delete e.options.original,
                    this._selectedPathOptions && (e instanceof L.Marker ? this._toggleMarkerHighlight(e) : (e.setStyle(e.options.previousOptions),
                    delete e.options.previousOptions)),
                    e instanceof L.Marker ? (e.dragging.disable(),
                    e.off("dragend", this._onMarkerDragEnd, this).off("touchmove", this._onTouchMove, this).off("MSPointerMove", this._onTouchMove, this).off("touchend", this._onMarkerDragEnd, this).off("MSPointerUp", this._onMarkerDragEnd, this)) : e.editing.disable()
                },
                _onMouseMove: function(t) {
                    this._tooltip.updatePosition(t.latlng)
                },
                _onMarkerDragEnd: function(t) {
                    var e = t.target;
                    e.edited = !0,
                    this._map.fire(L.Draw.Event.EDITMOVE, {
                        layer: e
                    })
                },
                _onTouchMove: function(t) {
                    var e = t.originalEvent.changedTouches[0]
                      , i = this._map.mouseEventToLayerPoint(e)
                      , a = this._map.layerPointToLatLng(i);
                    t.target.setLatLng(a)
                },
                _hasAvailableLayers: function() {
                    return 0 !== this._featureGroup.getLayers().length
                }
            }),
            L.EditToolbar.Delete = L.Handler.extend({
                statics: {
                    TYPE: "remove"
                },
                initialize: function(t, e) {
                    if (L.Handler.prototype.initialize.call(this, t),
                    L.Util.setOptions(this, e),
                    this._deletableLayers = this.options.featureGroup,
                    !(this._deletableLayers instanceof L.FeatureGroup))
                        throw new Error("options.featureGroup must be a L.FeatureGroup");
                    this.type = L.EditToolbar.Delete.TYPE;
                    var i = L.version.split(".");
                    1 === parseInt(i[0], 10) && parseInt(i[1], 10) >= 2 ? L.EditToolbar.Delete.include(L.Evented.prototype) : L.EditToolbar.Delete.include(L.Mixin.Events)
                },
                enable: function() {
                    !this._enabled && this._hasAvailableLayers() && (this.fire("enabled", {
                        handler: this.type
                    }),
                    this._map.fire(L.Draw.Event.DELETESTART, {
                        handler: this.type
                    }),
                    L.Handler.prototype.enable.call(this),
                    this._deletableLayers.on("layeradd", this._enableLayerDelete, this).on("layerremove", this._disableLayerDelete, this))
                },
                disable: function() {
                    this._enabled && (this._deletableLayers.off("layeradd", this._enableLayerDelete, this).off("layerremove", this._disableLayerDelete, this),
                    L.Handler.prototype.disable.call(this),
                    this._map.fire(L.Draw.Event.DELETESTOP, {
                        handler: this.type
                    }),
                    this.fire("disabled", {
                        handler: this.type
                    }))
                },
                addHooks: function() {
                    var t = this._map;
                    t && (t.getContainer().focus(),
                    this._deletableLayers.eachLayer(this._enableLayerDelete, this),
                    this._deletedLayers = new L.LayerGroup,
                    this._tooltip = new L.Draw.Tooltip(this._map),
                    this._tooltip.updateContent({
                        text: L.drawLocal.edit.handlers.remove.tooltip.text
                    }),
                    this._map.on("mousemove", this._onMouseMove, this))
                },
                removeHooks: function() {
                    this._map && (this._deletableLayers.eachLayer(this._disableLayerDelete, this),
                    this._deletedLayers = null,
                    this._tooltip.dispose(),
                    this._tooltip = null,
                    this._map.off("mousemove", this._onMouseMove, this))
                },
                revertLayers: function() {
                    this._deletedLayers.eachLayer(function(t) {
                        this._deletableLayers.addLayer(t),
                        t.fire("revert-deleted", {
                            layer: t
                        })
                    }, this)
                },
                save: function() {
                    this._map.fire(L.Draw.Event.DELETED, {
                        layers: this._deletedLayers
                    })
                },
                removeAllLayers: function() {
                    this._deletableLayers.eachLayer(function(t) {
                        this._removeLayer({
                            layer: t
                        })
                    }, this),
                    this.save()
                },
                _enableLayerDelete: function(t) {
                    (t.layer || t.target || t).on("click", this._removeLayer, this)
                },
                _disableLayerDelete: function(t) {
                    var e = t.layer || t.target || t;
                    e.off("click", this._removeLayer, this),
                    this._deletedLayers.removeLayer(e)
                },
                _removeLayer: function(t) {
                    var e = t.layer || t.target || t;
                    this._deletableLayers.removeLayer(e),
                    this._deletedLayers.addLayer(e),
                    e.fire("deleted")
                },
                _onMouseMove: function(t) {
                    this._tooltip.updatePosition(t.latlng)
                },
                _hasAvailableLayers: function() {
                    return 0 !== this._deletableLayers.getLayers().length
                }
            })
        }(window, document)
    },
    1575: function(t, e, i) {
        var a, n, r;
        n = [i(1235)],
        void 0 === (r = "function" === typeof (a = function(t) {
            if (t.Hotline)
                return t;
            var e = function t(e) {
                if (!(this instanceof t))
                    return new t(e);
                this._canvas = e = "string" === typeof e ? document.getElementById(e) : e,
                this._ctx = e.getContext("2d"),
                this._width = e.width,
                this._height = e.height,
                this._weight = 5,
                this._outlineWidth = 1,
                this._outlineColor = "black",
                this._min = 0,
                this._max = 1,
                this._data = [],
                this.useEntireMapLatLngs = !1,
                this.palette({
                    0: "green",
                    .5: "yellow",
                    1: "red"
                })
            };
            e.prototype = {
                width: function(t) {
                    return this._width = t,
                    this
                },
                height: function(t) {
                    return this._height = t,
                    this
                },
                weight: function(t) {
                    return this._weight = t,
                    this
                },
                outlineWidth: function(t) {
                    return this._outlineWidth = t,
                    this
                },
                outlineColor: function(t) {
                    return this._outlineColor = t,
                    this
                },
                palette: function(t) {
                    var e = document.createElement("canvas")
                      , i = e.getContext("2d")
                      , a = i.createLinearGradient(0, 0, 0, 256);
                    for (var n in e.width = 1,
                    e.height = 256,
                    t)
                        a.addColorStop(n, t[n]);
                    return i.fillStyle = a,
                    i.fillRect(0, 0, 1, 256),
                    this._palette = i.getImageData(0, 0, 1, 256).data,
                    this
                },
                min: function(t) {
                    return this._min = t,
                    this
                },
                max: function(t) {
                    return this._max = t,
                    this
                },
                data: function(t) {
                    return this._data = this.useEntireMapLatLngs ? this._data : t,
                    this
                },
                add: function(t) {
                    return this._data.push(t),
                    this
                },
                draw: function() {
                    var t = this._ctx;
                    return t.globalCompositeOperation = "source-over",
                    t.lineCap = "round",
                    this._drawOutline(t),
                    this._drawHotline(t),
                    this
                },
                getRGBForValue: function(t) {
                    var e = Math.min(Math.max((t - this._min) / (this._max - this._min), 0), .999)
                      , i = 4 * Math.floor(256 * e);
                    return [this._palette[i], this._palette[i + 1], this._palette[i + 2]]
                },
                _drawOutline: function(t) {
                    var e, i, a, n, r, o, s;
                    if (this._outlineWidth)
                        for (e = 0,
                        a = this._data.length; e < a; e++)
                            for (n = this._data[e],
                            t.lineWidth = this._weight + 2 * this._outlineWidth,
                            i = 1,
                            r = n.length; i < r; i++)
                                o = n[i - 1],
                                s = n[i],
                                t.strokeStyle = this._outlineColor,
                                t.beginPath(),
                                t.moveTo(o.x, o.y),
                                t.lineTo(s.x, s.y),
                                t.stroke()
                },
                _drawHotline: function(t) {
                    var e, i, a, n, r, o, s, l, c, h;
                    for (t.lineWidth = this._weight,
                    e = 0,
                    a = this._data.length; e < a; e++)
                        for (n = this._data[e],
                        i = 1,
                        r = n.length; i < r; i++)
                            o = n[i - 1],
                            s = n[i],
                            l = t.createLinearGradient(o.x, o.y, s.x, s.y),
                            c = this.getRGBForValue(o.z),
                            h = this.getRGBForValue(s.z),
                            l.addColorStop(0, "rgb(" + c.join(",") + ")"),
                            l.addColorStop(1, "rgb(" + h.join(",") + ")"),
                            t.strokeStyle = l,
                            t.beginPath(),
                            t.moveTo(o.x, o.y),
                            t.lineTo(s.x, s.y),
                            t.stroke()
                }
            };
            var i = t.Canvas.extend({
                _initContainer: function() {
                    t.Canvas.prototype._initContainer.call(this),
                    this._hotline = new e(this._container)
                },
                _update: function() {
                    t.Canvas.prototype._update.call(this),
                    this._hotline.width(this._container.width),
                    this._hotline.height(this._container.height)
                },
                _updatePoly: function(t) {
                    if (this._drawing) {
                        var e = t._parts;
                        e.length && (this._updateOptions(t),
                        this._hotline.data(e).draw())
                    }
                },
                _updateOptions: function(t) {
                    null != t.options.min && this._hotline.min(t.options.min),
                    null != t.options.max && this._hotline.max(t.options.max),
                    null != t.options.weight && this._hotline.weight(t.options.weight),
                    null != t.options.outlineWidth && this._hotline.outlineWidth(t.options.outlineWidth),
                    null != t.options.outlineColor && this._hotline.outlineColor(t.options.outlineColor),
                    t.options.palette && this._hotline.palette(t.options.palette)
                }
            })
              , a = function(e) {
                return t.Browser.canvas ? new i(e) : null
            }
              , n = {
                clipSegment: function(e, i, a, n, r) {
                    var o, s, l, c = n ? this._lastCode : t.LineUtil._getBitCode(e, a), h = t.LineUtil._getBitCode(i, a);
                    for (this._lastCode = h; ; ) {
                        if (!(c | h))
                            return [e, i];
                        if (c & h)
                            return !1;
                        o = c || h,
                        s = t.LineUtil._getEdgeIntersection(e, i, o, a, r),
                        l = t.LineUtil._getBitCode(s, a),
                        o === c ? (s.z = e.z,
                        e = s,
                        c = l) : (s.z = i.z,
                        i = s,
                        h = l)
                    }
                }
            };
            return t.Hotline = t.Polyline.extend({
                statics: {
                    Renderer: i,
                    renderer: a
                },
                options: {
                    renderer: a(),
                    min: 0,
                    max: 1,
                    palette: {
                        0: "green",
                        .5: "yellow",
                        1: "red"
                    },
                    weight: 5,
                    outlineColor: "black",
                    outlineWidth: 1,
                    useEntireMapLatLngs: !1
                },
                getRGBForValue: function(t) {
                    return this._renderer._hotline.getRGBForValue(t)
                },
                _projectLatlngs: function(e, i, a) {
                    var n, r, o = e[0]instanceof t.LatLng, s = e.length;
                    if (o) {
                        for (r = [],
                        n = 0; n < s; n++)
                            r[n] = this._map.latLngToLayerPoint(e[n]),
                            r[n].z = e[n].alt,
                            a.extend(r[n]);
                        i.push(r)
                    } else
                        for (n = 0; n < s; n++)
                            this._projectLatlngs(e[n], i, a);
                    this._renderer._hotline._data = i.slice(0),
                    this._renderer._hotline.useEntireMapLatLngs = this.options.useEntireMapLatLngs
                },
                _clipPoints: function() {
                    if (this.options.noClip)
                        this._parts = this._rings;
                    else {
                        this._parts = [];
                        var t, e, i, a, r, o, s, l = this._parts, c = this._renderer._bounds;
                        for (t = 0,
                        i = 0,
                        a = this._rings.length; t < a; t++)
                            for (e = 0,
                            r = (s = this._rings[t]).length; e < r - 1; e++)
                                (o = n.clipSegment(s[e], s[e + 1], c, e, !0)) && (l[i] = l[i] || [],
                                l[i].push(o[0]),
                                o[1] === s[e + 1] && e !== r - 2 || (l[i].push(o[1]),
                                i++))
                    }
                },
                _clickTolerance: function() {
                    return this.options.weight / 2 + this.options.outlineWidth + (t.Browser.touch ? 10 : 0)
                }
            }),
            t.hotline = function(e, i) {
                return new t.Hotline(e,i)
            }
            ,
            t
        }
        ) ? a.apply(e, n) : a) || (t.exports = r)
    },
    1576: function(t, e) {
        t.exports = '<button class="zoomIn map-control-item" aria-label="<%-\xa0Localizer.localize(\'zoom_in\')\xa0%>" xmlns="http://www.w3.org/1999/html">\n    <i class="icon-add"></i>\n</button>\n<button class="zoomOut map-control-item" aria-label="<%-\xa0Localizer.localize(\'zoom_out\')\xa0%>">\n    <i class="icon-minus"></i>\n</button>\n\n\n<div class="dropdown map-control-item">\n    <button class="dropdown-trigger" data-toggle="dropdown" aria-label="<%-\xa0Localizer.localize(\'map.control.layers\')\xa0%>">\n        <i class="icon-layers"></i>\n    </button>\n    <ul class="dropdown-menu">\n        <li class="map-provider-google"><a href="#"><%- Localizer.localize(\'map.control.google\') %></a></li>\n        <li class="map-provider-here"><a href="#"><%- Localizer.localize(\'map.control.here\') %></a></li>\n        <li class="map-provider-osm"><a href="#"><%- Localizer.localize(\'map.control.osm\') %></a></li>\n        <li class="map-provider-BAIDU_V_1_4" style="display: none;"><a href="#"><%- Localizer.localize(\'map.control.baidu\') %></a></li>\n        <li class="divider"></li>\n        <li class="map-type-road"><a href="#"><%- Localizer.localize(\'map.control.road\') %></a></li>\n        <li class="map-type-satellite"><a href="#"><%- Localizer.localize(\'map.control.satellite\') %></a></li>\n        <li class="divider"></li>\n        <% if (additionalMapLayers.length > 0) { %>\n            <% for (var i = 0; i < additionalMapLayers.length; i++) { %>\n                <li data-layer-name="<%- additionalMapLayers[i].value %>" class="additional-layers <%- additionalMapLayers[i].selected ? \'active\' : \'\' %>"><a href="#"><%- additionalMapLayers[i].text %></a></li>\n            <% } %>\n            <li class="divider"></li>\n        <% } %>\n        <li class="map-layer-terrain">\n            <label>\n                <input type="checkbox" style="display: none"><%- Localizer.localize(\'map.control.terrain\') %></input>\n            </label>\n        </li>\n        <li class="map-layer-trails">\n            <label>\n                <input type="checkbox" style="display: none"><%- Localizer.localize(\'map.control.trails\') %></input>\n            </label>\n        </li>\n        <li class="map-layer-labels">\n            <label>\n                <input type="checkbox" style="display: none"><%- Localizer.localize(\'map.control.labels\') %></input>\n            </label>\n        </li>\n        <% if (!hideHeatMaps) { %>\n        <li class="divider"></li>\n        <li class="map-layer-running-heatmap">\n            <label>\n                <input type="checkbox" style="display: none"><%- Localizer.localize(\'map.control.heatmap.running.heatmap\') %></input>\n            </label>\n        </li>\n        <li class="map-layer-cycling-heatmap">\n            <label>\n                <input type="checkbox" style="display: none"><%- Localizer.localize(\'map.control.heatmap.cycling.heatmap\') %></input>\n            </label>\n        </li>\n        <% } %>\n        <li class="map-coordinate-system" style="display: none">\n            <a href="#"><%- Localizer.localize(\'map.control.map_match\') %></a>\n        </li>\n    </ul>\n</div>\n'
    },
    1577: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(8)
          , o = i(1238)
          , s = i(88)
          , l = (i(1283),
        i(1273))
          , c = i(1578)
          , h = i.n(c)
          , p = {
            CHANGE: "CHANGE"
        }
          , d = l.a.extend({
            template: n.a.template(h.a),
            initialize: function(t) {
                this.diveNumber = t.diveNumber,
                this.tag = t.tag || "a",
                l.a.prototype.initialize.call(this, t)
            },
            render: function() {
                this.$el.removeClass("edit"),
                this.$el.addClass(this.formatClass + " inline-edit inline-edit-text-field"),
                this.$el.html(this.template({
                    Localizer: r.a,
                    value: this.value,
                    url: this.url,
                    diveNumber: this.diveNumber,
                    tag: this.tag
                })),
                this.diveNumberValidator = new o.a({
                    element: this.$("#inlineEditDiveNumber"),
                    minValue: 1,
                    required: !0,
                    typeFormat: "integer",
                    reporter: new s.a({
                        message: r.a.localize("enter_a_number"),
                        position: "bottom",
                        element: this.$("#inlineEditDiveNumber")
                    })
                })
            },
            processInput: function() {
                var t = this.$("#inlineEditText").text().trim()
                  , e = this.$("#inlineEditDiveNumber").text().trim();
                this.diveNumberValidator.validateInputNow(),
                0 === this.$(".error-tooltip-active").length && (this.value = t,
                this.maxLength && this.value.length > this.maxLength && (this.value = this.value.substring(0, this.maxLength)),
                this.trigger(p.CHANGE, this.value, e))
            },
            onInlineEditCancelled: function(t) {
                this.diveNumberValidator.reporter.remove(),
                l.a.prototype.onInlineEditCancelled.call(this, t)
            },
            setDiveNumber: function(t) {
                this.diveNumber = t
            }
        });
        d.Events = p,
        e.a = d
    },
    1578: function(t, e) {
        t.exports = '<<%- tag %> href="<%- url %>" class="inline-edit-target" title="<%- value %>">\n    <%- Localizer.localize(\'dive_number_label\') + \' \' + diveNumber + \': \' + value %>\n</<%- tag %>>\n\n<button class="inline-edit-trigger modal-trigger" aria-label="<%- Localizer.localize(\'edit\') %>">\n    <i class="icon-pencil"></i>\n</button>\n\n<div class="inline-edit-editable">\n    <div class="edit-dive-activity-dive-label"><%- Localizer.localize(\'dive_number_label\') %></div>\n    <div id="inlineEditDiveNumber"  class="inline-edit-editable-text dive-number" style="min-width: 15px;" contenteditable="true"><%- diveNumber %></div>\n    <div id="inlineEditText" class="inline-edit-editable-text dive-name" style="min-width: 15px;" contenteditable="true"><%- value %></div>\n    <span class="inline-edit-actions">\n        <button class="inline-edit-save icon-checkmark" aria-label="<%- Localizer.localize(\'button_save\') %>"></button>\n        <button class="inline-edit-cancel icon-close" aria-label="<%- Localizer.localize(\'button_cancel\') %>"></button>\n    </span>\n</div>\n'
    },
    1579: function(t, e, i) {
        (e = t.exports = i(29)(!0)).i(i(98), void 0),
        e.push([t.i, "/*  ======================\n      Gear Page\n      ======================  */\n.page.gear .gear-item {\n        position: relative;\n    }\n.page.gear .gear-item .avatar {\n        width: 163px;\n        height: 163px;\n        box-shadow: 0px 0px 0px 3px #fff, 0px 0px 0px 4px #eaeaea;\n    }\n.page.gear .gear-item i.avatar {\n        font-size: 130px;\n        text-align: center;\n        background-color: " + i(98).locals.lightui_surface_1 + ";\n        color: " + i(98).locals.iconSecondary + ";\n        line-height: 163px;\n        display: inline-block;\n    }\n.page.gear .gear-item .gear-body {\n        width: 260px;\n        min-height: 200px;\n        margin: 0 20px 0 10px;\n        position: relative;\n    }\n.page.gear .gear-item .gear-name {\n        margin-bottom: 11px;\n    }\n.page.gear .gear-item .gear-name .gear-name-truncate {\n        display: inline-block;\n        max-width: calc(100% - 25px);\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        vertical-align: top;\n    }\n.page.gear .gear-item .dropdown-trigger {\n        height: 16px;\n        vertical-align: middle;\n        line-height: 16px;\n    }\n.page.gear .gear-item .gear-max {\n        margin-top: 11px;\n        margin-bottom: 0;\n    }\n.page.gear .gear-item .gear-max.warning {\n        color: #ff9e0d;\n    }\n.page.gear .gear-item.warning .gear-max {\n        color: #ed7e00;\n    }\n.page.gear .gear-item.over .gear-max {\n        color: #bf0f24;\n    }\n.page.gear .gear-item .gear-max .data-bit {\n        color: " + i(98).locals.textDark + ";\n    }\n.page.gear .gear-item .gear-max-progress {\n        width: 60%;\n        background: #ddd;\n        border-radius: 5px;\n        overflow: hidden;\n        margin-top: 5px;\n    }\n.page.gear .gear-item .gear-max-progress-value {\n        background: #11a9ed;\n        height: 8px;\n    }\n.page.gear .gear-item.warning .gear-max-progress-value {\n        background: #ed7e00;\n    }\n.page.gear .gear-item.over .gear-max-progress-value {\n        background: #bf0f24;\n    }\n.page.gear #retired-gear-tab .gear-item .gear-max-progress-value {\n        background: #aaa;\n    }\n.page.gear .photo-editor {\n        border: 1px solid #ddd;\n        border-radius: 10px;\n        width: 218px;\n        height: 218px;\n        overflow: hidden;\n    }\n.page.gear .photo-editor [class*='icon-'] {\n        font-size: 170px;\n        width: 218px;\n        color: #ddd;\n        height: 218px;\n        line-height: 175px;\n        text-align: center;\n\n        background: #6e8594;\n        margin-top: 0;\n        vertical-align: top;\n        color: #2d4352;\n    }\n.page.gear .photo-editor .icon-gear {\n        font-size: 130px;\n        line-height: 178px;\n    }\n.page.gear .typeahead.dropdown-menu {\n        min-width: 218px;\n    }\n\n/*  ======================\n      Gear Widget\n      ======================  */\n.widget-gear .widget-view-title {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin-top: -11px;\n        margin-bottom: -8px;\n        line-height: 44px;\n    }\n.widget-gear .chart-gauge-gear {\n        height: 165px;\n    }\n.widget-gear .gear-chart-icon {\n        font-size: 90px;\n        width: 110px;\n        height: 110px;\n        line-height: 110px;\n    }\n.widget-gear .avatar {\n        margin: 10px 10px 0 3px;\n    }\n.widget-sheet-gear-activity-list .activity-list td:first-child a {\n        width: 80px;\n    }\n\n/*  ======================\n      Activities Widget and Activity Detail page - Gear List\n      ======================  */\n.gear-list {\n        margin: 0 0 11px;\n        padding: 0;\n        list-style: none;\n    }\n.gear-list li {\n        border-bottom: 1px solid #ddd;\n        padding: 8px 5px 8px 0;\n        cursor: pointer;\n        width: calc(100% - 5px);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n.gear-list li:hover {\n        background-color: #f5f5f5;\n    }\n.gear-list li:last-child {\n        border-bottom: none;\n    }\n.gear-list .gear-type {\n        margin-right: 10px;\n        font-size: 18px;\n        width: 18px;\n        height: 18px;\n        vertical-align: middle;\n    }\n.gear-list .gear-status {\n        font-family: 'connect-icons';\n        speak: none;\n        font-style: normal;\n        font-weight: normal;\n        -webkit-font-feature-settings: normal;\n                font-feature-settings: normal;\n        font-variant: normal;\n        text-transform: none;\n\n        /* Better Font Rendering =========== */\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n\n        /* Custom CSS to overwrite Bootstrap */\n        background-image: none;\n        display: inline-block;\n        margin: 0 10px;\n        position: relative;\n    }\n.gear-list .gear-status:after,\n    .gear-list .active:hover .gear-status:after {\n        width: 18px;\n        height: 18px;\n        line-height: 18px;\n        border-radius: 50%;\n        display: inline-block;\n        color: transparent;\n        text-align: center;\n        content: '\\E005'; /* plus icon */\n        background: #e6e6e6;\n        color: #fff;\n        font-size: 10px;\n        vertical-align: middle;\n        margin-top: -2px;\n    }\n.gear-list li:hover .gear-status:after {\n        background: #50b012; /* green */\n    }\n.gear-list .active .gear-status:after {\n        content: '\\2714'; /* checkmark icon */\n        background: #11a9ed; /* blue */\n        color: #fff;\n        font-size: 14px;\n    }\n.gear-list .active:hover .gear-status:after {\n        content: '\\E60C'; /* minus icon */\n        background: #ff0035; /* red */\n    }\n.gear-list .saving .gear-status:after,\n    .gear-list .saving:hover .gear-status:after {\n        background: transparent;\n        color: transparent;\n    }\n.gear-list .spinner {\n        display: none;\n    }\n.gear-list .saving .spinner {\n        display: inline-block;\n        position: absolute;\n        top: 5px;\n    }\n\n/*  ======================\n      Activity Detail Page\n      ======================  */\n.page.activity-detail .gear-images .avatar {\n        display: inline-block;\n        vertical-align: middle;\n    }\n.page.activity-detail .gear-names {\n        margin: 11px 0 0 0;\n        padding: 0;\n        list-style: none;\n    }\n.page.activity-detail .gear-indicator {\n        margin-right: 10px;\n    }\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/styles/gear.page.css"],
            names: [],
            mappings: "AAGI;;gCAE2B;AAC3B;QACI,mBAAkB;KACtB;AACA;QACI,aAAY;QACZ,cAAa;QACb,0DAAyD;KAC7D;AACA;QACI,iBAAgB;QAChB,mBAAkB;QAClB,8CAAmC;QACnC,mCAAoB;QACpB,mBAAkB;QAClB,sBAAqB;KACzB;AACA;QACI,aAAY;QACZ,kBAAiB;QACjB,sBAAqB;QACrB,mBAAkB;KACtB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,sBAAqB;QACrB,6BAA4B;QAC5B,iBAAgB;QAChB,oBAAmB;QACnB,wBAAuB;QACvB,oBAAmB;KACvB;AACA;QACI,aAAY;QACZ,uBAAsB;QACtB,kBAAiB;KACrB;AACA;QACI,iBAAgB;QAChB,iBAAgB;KACpB;AACA;QACI,eAAc;KAClB;AACA;QACI,eAAc;KAClB;AACA;QACI,eAAc;KAClB;AACA;QACI,mCAAe;KACnB;AACA;QACI,WAAU;QACV,iBAAgB;QAChB,mBAAkB;QAClB,iBAAgB;QAChB,gBAAe;KACnB;AACA;QACI,oBAAmB;QACnB,YAAW;KACf;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,iBAAgB;KACpB;AACA;QACI,uBAAsB;QACtB,oBAAmB;QACnB,aAAY;QACZ,cAAa;QACb,iBAAgB;KACpB;AACA;QACI,iBAAgB;QAChB,aAAY;QACZ,YAAW;QACX,cAAa;QACb,mBAAkB;QAClB,mBAAkB;;QAElB,oBAAmB;QACnB,cAAa;QACb,oBAAmB;QACnB,eAAc;KAClB;AACA;QACI,iBAAgB;QAChB,mBAAkB;KACtB;AACA;QACI,iBAAgB;KACpB;;AAEA;;gCAE2B;AAC3B;QACI,oBAAmB;QACnB,iBAAgB;QAChB,wBAAuB;QACvB,kBAAiB;QACjB,oBAAmB;QACnB,kBAAiB;KACrB;AACA;QACI,cAAa;KACjB;AACA;QACI,gBAAe;QACf,aAAY;QACZ,cAAa;QACb,mBAAkB;KACtB;AACA;QACI,wBAAuB;KAC3B;AACA;QACI,YAAW;KACf;;AAEA;;gCAE2B;AAE3B;QACI,iBAAgB;QAChB,WAAU;QACV,iBAAgB;KACpB;AACA;QACI,8BAA6B;QAC7B,uBAAsB;QACtB,gBAAe;QACf,wBAAuB;QACvB,iBAAgB;QAChB,wBAAuB;QACvB,oBAAmB;KACvB;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,oBAAmB;KACvB;AACA;QACI,mBAAkB;QAClB,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,uBAAsB;KAC1B;AACA;QACI,6BAA4B;QAC5B,YAAW;QACX,mBAAkB;QAClB,oBAAmB;QACnB,sCAAoB;gBAApB,8BAAoB;QAApB,qBAAoB;QACpB,qBAAoB;;QAEpB,uCAAsC;QACtC,oCAAmC;QACnC,mCAAkC;;QAElC,uCAAsC;QACtC,uBAAsB;QACtB,sBAAqB;QACrB,eAAc;QACd,mBAAkB;KACtB;AACA;;QAEI,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,mBAAkB;QAClB,sBAAqB;QACrB,mBAAkB;QAClB,mBAAkB;QAClB,iBAAgB,CAAE,eAAc;QAChC,oBAAmB;QACnB,YAAW;QACX,gBAAe;QACf,uBAAsB;QACtB,iBAAgB;KACpB;AACA;QACI,oBAAmB,CAAE,WAAU;KACnC;AACA;QACI,iBAAgB,CAAE,oBAAmB;QACrC,oBAAmB,CAAE,UAAS;QAC9B,YAAW;QACX,gBAAe;KACnB;AACA;QACI,iBAAgB,CAAE,gBAAe;QACjC,oBAAmB,CAAE,SAAQ;KACjC;AACA;;QAEI,wBAAuB;QACvB,mBAAkB;KACtB;AACA;QACI,cAAa;KACjB;AACA;QACI,sBAAqB;QACrB,mBAAkB;QAClB,SAAQ;KACZ;;AAEA;;gCAE2B;AAE3B;QACI,sBAAqB;QACrB,uBAAsB;KAC1B;AACA;QACI,mBAAkB;QAClB,WAAU;QACV,iBAAgB;KACpB;AACA;QACI,mBAAkB;KACtB",
            file: "gear.page.css",
            sourcesContent: ["@value ( textDark, iconSecondary, lightui_surface_1 ) from 'ui-connect/styles/colors.module.css';\n\n:global {\n    /*  ======================\n      Gear Page\n      ======================  */\n    .page.gear .gear-item {\n        position: relative;\n    }\n    .page.gear .gear-item .avatar {\n        width: 163px;\n        height: 163px;\n        box-shadow: 0px 0px 0px 3px #fff, 0px 0px 0px 4px #eaeaea;\n    }\n    .page.gear .gear-item i.avatar {\n        font-size: 130px;\n        text-align: center;\n        background-color: lightui_surface_1;\n        color: iconSecondary;\n        line-height: 163px;\n        display: inline-block;\n    }\n    .page.gear .gear-item .gear-body {\n        width: 260px;\n        min-height: 200px;\n        margin: 0 20px 0 10px;\n        position: relative;\n    }\n    .page.gear .gear-item .gear-name {\n        margin-bottom: 11px;\n    }\n    .page.gear .gear-item .gear-name .gear-name-truncate {\n        display: inline-block;\n        max-width: calc(100% - 25px);\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        vertical-align: top;\n    }\n    .page.gear .gear-item .dropdown-trigger {\n        height: 16px;\n        vertical-align: middle;\n        line-height: 16px;\n    }\n    .page.gear .gear-item .gear-max {\n        margin-top: 11px;\n        margin-bottom: 0;\n    }\n    .page.gear .gear-item .gear-max.warning {\n        color: #ff9e0d;\n    }\n    .page.gear .gear-item.warning .gear-max {\n        color: #ed7e00;\n    }\n    .page.gear .gear-item.over .gear-max {\n        color: #bf0f24;\n    }\n    .page.gear .gear-item .gear-max .data-bit {\n        color: textDark;\n    }\n    .page.gear .gear-item .gear-max-progress {\n        width: 60%;\n        background: #ddd;\n        border-radius: 5px;\n        overflow: hidden;\n        margin-top: 5px;\n    }\n    .page.gear .gear-item .gear-max-progress-value {\n        background: #11a9ed;\n        height: 8px;\n    }\n    .page.gear .gear-item.warning .gear-max-progress-value {\n        background: #ed7e00;\n    }\n    .page.gear .gear-item.over .gear-max-progress-value {\n        background: #bf0f24;\n    }\n    .page.gear #retired-gear-tab .gear-item .gear-max-progress-value {\n        background: #aaa;\n    }\n    .page.gear .photo-editor {\n        border: 1px solid #ddd;\n        border-radius: 10px;\n        width: 218px;\n        height: 218px;\n        overflow: hidden;\n    }\n    .page.gear .photo-editor [class*='icon-'] {\n        font-size: 170px;\n        width: 218px;\n        color: #ddd;\n        height: 218px;\n        line-height: 175px;\n        text-align: center;\n\n        background: #6e8594;\n        margin-top: 0;\n        vertical-align: top;\n        color: #2d4352;\n    }\n    .page.gear .photo-editor .icon-gear {\n        font-size: 130px;\n        line-height: 178px;\n    }\n    .page.gear .typeahead.dropdown-menu {\n        min-width: 218px;\n    }\n\n    /*  ======================\n      Gear Widget\n      ======================  */\n    .widget-gear .widget-view-title {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin-top: -11px;\n        margin-bottom: -8px;\n        line-height: 44px;\n    }\n    .widget-gear .chart-gauge-gear {\n        height: 165px;\n    }\n    .widget-gear .gear-chart-icon {\n        font-size: 90px;\n        width: 110px;\n        height: 110px;\n        line-height: 110px;\n    }\n    .widget-gear .avatar {\n        margin: 10px 10px 0 3px;\n    }\n    .widget-sheet-gear-activity-list .activity-list td:first-child a {\n        width: 80px;\n    }\n\n    /*  ======================\n      Activities Widget and Activity Detail page - Gear List\n      ======================  */\n\n    .gear-list {\n        margin: 0 0 11px;\n        padding: 0;\n        list-style: none;\n    }\n    .gear-list li {\n        border-bottom: 1px solid #ddd;\n        padding: 8px 5px 8px 0;\n        cursor: pointer;\n        width: calc(100% - 5px);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n    .gear-list li:hover {\n        background-color: #f5f5f5;\n    }\n    .gear-list li:last-child {\n        border-bottom: none;\n    }\n    .gear-list .gear-type {\n        margin-right: 10px;\n        font-size: 18px;\n        width: 18px;\n        height: 18px;\n        vertical-align: middle;\n    }\n    .gear-list .gear-status {\n        font-family: 'connect-icons';\n        speak: none;\n        font-style: normal;\n        font-weight: normal;\n        font-variant: normal;\n        text-transform: none;\n\n        /* Better Font Rendering =========== */\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n\n        /* Custom CSS to overwrite Bootstrap */\n        background-image: none;\n        display: inline-block;\n        margin: 0 10px;\n        position: relative;\n    }\n    .gear-list .gear-status:after,\n    .gear-list .active:hover .gear-status:after {\n        width: 18px;\n        height: 18px;\n        line-height: 18px;\n        border-radius: 50%;\n        display: inline-block;\n        color: transparent;\n        text-align: center;\n        content: '\\e005'; /* plus icon */\n        background: #e6e6e6;\n        color: #fff;\n        font-size: 10px;\n        vertical-align: middle;\n        margin-top: -2px;\n    }\n    .gear-list li:hover .gear-status:after {\n        background: #50b012; /* green */\n    }\n    .gear-list .active .gear-status:after {\n        content: '\\2714'; /* checkmark icon */\n        background: #11a9ed; /* blue */\n        color: #fff;\n        font-size: 14px;\n    }\n    .gear-list .active:hover .gear-status:after {\n        content: '\\e60c'; /* minus icon */\n        background: #ff0035; /* red */\n    }\n    .gear-list .saving .gear-status:after,\n    .gear-list .saving:hover .gear-status:after {\n        background: transparent;\n        color: transparent;\n    }\n    .gear-list .spinner {\n        display: none;\n    }\n    .gear-list .saving .spinner {\n        display: inline-block;\n        position: absolute;\n        top: 5px;\n    }\n\n    /*  ======================\n      Activity Detail Page\n      ======================  */\n\n    .page.activity-detail .gear-images .avatar {\n        display: inline-block;\n        vertical-align: middle;\n    }\n    .page.activity-detail .gear-names {\n        margin: 11px 0 0 0;\n        padding: 0;\n        list-style: none;\n    }\n    .page.activity-detail .gear-indicator {\n        margin-right: 10px;\n    }\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            textDark: "" + i(98).locals.textDark,
            iconSecondary: "" + i(98).locals.iconSecondary,
            lightui_surface_1: "" + i(98).locals.lightui_surface_1
        }
    },
    1580: function(t, e, i) {
        "use strict";
        var a = i(1737)
          , n = i(1581);
        e.a = function(t) {
            return null != t && Object(n.a)(t.length) && !Object(a.a)(t)
        }
    },
    1581: function(t, e, i) {
        "use strict";
        var a = 9007199254740991;
        e.a = function(t) {
            return "number" == typeof t && t > -1 && t % 1 == 0 && t <= a
        }
    },
    1582: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(121)
              , n = i(2031)
              , r = "object" == typeof exports && exports && !exports.nodeType && exports
              , o = r && "object" == typeof t && t && !t.nodeType && t
              , s = o && o.exports === r ? a.a.Buffer : void 0
              , l = (s ? s.isBuffer : void 0) || n.a;
            e.a = l
        }
        ).call(this, i(749)(t))
    },
    1583: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(459)
              , n = "object" == typeof exports && exports && !exports.nodeType && exports
              , r = n && "object" == typeof t && t && !t.nodeType && t
              , o = r && r.exports === n && a.a.process
              , s = function() {
                try {
                    var t = r && r.require && r.require("util").types;
                    return t || o && o.binding && o.binding("util")
                } catch (e) {}
            }();
            e.a = s
        }
        ).call(this, i(749)(t))
    },
    1584: function(t, e, i) {
        "use strict";
        e.a = function(t) {
            return function(e) {
                return t(e)
            }
        }
    },
    1585: function(t, e, i) {
        "use strict";
        var a = Object.prototype;
        e.a = function(t) {
            var e = t && t.constructor;
            return t === ("function" == typeof e && e.prototype || a)
        }
    },
    1586: function(t, e, i) {
        "use strict";
        e.a = function(t) {
            return t
        }
    },
    1587: function(t, e, i) {
        "use strict";
        var a = i(1305)
          , n = i(1588)
          , r = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/
          , o = /^\w*$/;
        e.a = function(t, e) {
            if (Object(a.a)(t))
                return !1;
            var i = typeof t;
            return !("number" != i && "symbol" != i && "boolean" != i && null != t && !Object(n.a)(t)) || o.test(t) || !r.test(t) || null != e && t in Object(e)
        }
    },
    1588: function(t, e, i) {
        "use strict";
        var a = i(398)
          , n = i(131)
          , r = "[object Symbol]";
        e.a = function(t) {
            return "symbol" == typeof t || Object(n.a)(t) && Object(a.a)(t) == r
        }
    },
    1589: function(t, e, i) {
        "use strict";
        var a = i(1378)
          , n = i(121)
          , r = Object(a.a)(n.a, "Map");
        e.a = r
    },
    1590: function(t, e, i) {
        "use strict";
        e.a = function(t, e) {
            return t === e || t !== t && e !== e
        }
    },
    1591: function(t, e, i) {
        "use strict";
        e.a = function(t, e) {
            for (var i = -1, a = e.length, n = t.length; ++i < a; )
                t[n + i] = e[i];
            return t
        }
    },
    1592: function(t, e, i) {
        "use strict";
        i(1235);
        var a = i(11)
          , n = i(1499)
          , r = i(1456);
        function o(t, e) {
            if ("function" !== typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : function(t, e) {
                for (var i = Object.getOwnPropertyNames(e), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(e, n);
                    r && r.configurable && void 0 === t[n] && Object.defineProperty(t, n, r)
                }
            }(t, e))
        }
        var s = function(t) {
            function e() {
                return function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e),
                function(t, e) {
                    if (!t)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !e || "object" !== typeof e && "function" !== typeof e ? t : e
                }(this, t.apply(this, arguments))
            }
            return o(e, t),
            e.prototype.createLeafletElement = function(t) {
                throw new Error("createLeafletElement() must be implemented")
            }
            ,
            e.prototype.updateLeafletElement = function(t, e) {
                e.position !== t.position && this.leafletElement.setPosition(e.position)
            }
            ,
            e.prototype.componentWillMount = function() {
                this.leafletElement = this.createLeafletElement(this.props)
            }
            ,
            e.prototype.componentDidMount = function() {
                this.leafletElement.addTo(this.context.map)
            }
            ,
            e.prototype.componentDidUpdate = function(t) {
                this.updateLeafletElement(t, this.props)
            }
            ,
            e.prototype.componentWillUnmount = function() {
                this.leafletElement.remove()
            }
            ,
            e.prototype.render = function() {
                return null
            }
            ,
            e
        }(a.Component);
        s.propTypes = {
            position: n.a
        },
        s.contextTypes = {
            map: r.a
        },
        e.a = s
    },
    1607: function(t, e) {
        t.exports = '<span class="react-placeholder <%- additionalClasses %>"></span>'
    },
    1629: function(t, e, i) {
        var a = i(2272);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    1630: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(13)
              , c = i(1245)
              , h = i.n(c)
              , p = i(2275)
              , d = i(1243)
              , u = i(1287)
              , m = i(2277)
              , f = i.n(m)
              , g = {
                AxisTypeChanged: "AxisTypeChanged"
            }
              , y = o.a.View.extend({
                step: !1,
                threshold: 9999,
                template: n.a.template(f.a),
                events: {
                    "change .x-axis-value": "onAxisSelected"
                },
                initialize: function(t) {
                    if (!t.backgroundSeries)
                        throw "BackgroundSeriesType required for ExpandedChartView";
                    this.series = t.series,
                    this.speedType = t.speedType,
                    this.primarySeries = null,
                    this.secondarySeries = null,
                    this.workoutSeries = null,
                    this.showWorkoutSeries = !1,
                    this.xAxisType = t.xAxisType || this.defaultXAxisType(),
                    this.activitySummary = t.activitySummary,
                    this.backgroundSeries = t.backgroundSeries,
                    this.turboThreshold = t.turboThreshold ? t.turboThreshold : 4e3,
                    this.zeroThreshold = t.zeroThreshold,
                    this.hideAxisTypes = t.hideAxisTypes || !1
                },
                resetAxisType: function() {
                    this.xAxisType = this.defaultXAxisType(),
                    n.a.each(this.series, function(t) {
                        n.a.each(t, function(t) {
                            t.setXAxisType(this.xAxisType)
                        }, this)
                    }, this)
                },
                measurementSystem: function() {
                    return l.a.measurementSystem
                },
                defaultXAxisType: function() {
                    return u.a.Duration
                },
                getXAxisTypes: function() {
                    return this.hideAxisTypes ? [] : [{
                        name: u.a.Duration,
                        label: s.a.localize("over_time")
                    }, {
                        name: u.a.Distance,
                        label: s.a.localize("over_distance")
                    }]
                },
                onPrimaryChanged: function() {
                    this.chartHeaderView.secondarySeries && !this.chartHeaderView.primarySeries && (this.chartHeaderView.primarySeries = this.chartHeaderView.secondarySeries,
                    this.chartHeaderView.secondarySeries = null),
                    this.updateSeries(),
                    this.chartHeaderView.shouldShowWorkoutTarget(this.showWorkoutSeries),
                    this.chartHeaderView.render()
                },
                onSecondaryChanged: function() {
                    this.updateSeries()
                },
                getSingleSeriesMin: function(t) {
                    var e;
                    return "undefined" != typeof t.expandedMin && (e = "function" == typeof t.expandedMin ? t.expandedMin.call(t) : t.expandedMin),
                    e
                },
                getSeriesMin: function(t) {
                    var e, i = !1;
                    return n.a.each(t, function(t) {
                        "undefined" != typeof t.expandedMin && (i || (e = 9999999,
                        i = !0),
                        e = Math.min(e, this.getSingleSeriesMin(t)))
                    }, this),
                    e
                },
                getWorkoutDataMin: function() {
                    var t = 99999999;
                    return n.a.each(this.workoutData, function(e) {
                        e[1] < t && (t = e[1])
                    }),
                    t
                },
                getSingleSeriesMax: function(t) {
                    var e;
                    return "undefined" != typeof t.expandedMax && (e = "function" == typeof t.expandedMax ? t.expandedMax.call(t) : t.expandedMax),
                    e
                },
                getSeriesMax: function(t) {
                    var e, i = !1;
                    return n.a.each(t, function(t) {
                        "undefined" != typeof t.expandedMax && (i || (e = -9999999,
                        i = !0),
                        e = Math.max(e, this.getSingleSeriesMax(t)))
                    }, this),
                    e
                },
                getWorkoutDataMax: function() {
                    var t = -99999999;
                    return n.a.each(this.workoutData, function(e) {
                        e[1] > t && (t = e[1])
                    }),
                    t
                },
                getSeriesAxisOptions: function(t, e) {
                    var i = this.getSeriesMin(t)
                      , a = this.getSeriesMax(t);
                    if (this.showWorkoutSeries) {
                        var r = this.getWorkoutDataMin()
                          , o = this.getWorkoutDataMax();
                        i = i <= r ? i : r,
                        a = a >= o ? a : o
                    }
                    var s = d.a.mapSeriesType(t[0]);
                    0 == e && this.getSeriesCount() > 1 && 1 == t.length && (s = "#6D8595");
                    var l = {
                        gridLineColor: "#dddddd",
                        title: {
                            text: null
                        },
                        labels: {
                            formatter: n.a.partial(this.yAxisLabelFormatter, this, e),
                            style: {
                                color: s,
                                fontSize: "12px"
                            },
                            step: 1
                        },
                        min: i,
                        max: a,
                        reversed: t[0].reversed,
                        plotLines: t[0].plotLines,
                        tickInterval: t[0].tickInterval,
                        opposite: e > 0
                    };
                    return e > 0 && (l.gridLineWidth = 0),
                    l
                },
                getSeriesYAxisOptions: function(t, e) {
                    return this.getSeriesAxisOptions(t, e)
                },
                getSeriesXAxisOptions: function() {
                    return {
                        labels: {
                            formatter: n.a.partial(this.xAxisLabelFormatter, this),
                            style: {
                                color: "#888888",
                                fontSize: "12px"
                            },
                            y: 20
                        },
                        tickLength: 0,
                        tickPixelInterval: 200,
                        maxPadding: 0
                    }
                },
                updateSeries: function() {
                    this.removeAllSeries(),
                    this.addAllSeries(),
                    this.highChartObj.redraw()
                },
                addBackgroundSeries: function() {
                    var t = [];
                    n.a.each(this.backgroundSeries, function(e) {
                        this.workoutSeries = this.createWorkoutChartSeries(e, 0),
                        this.chartHeaderView.primarySeries && (this.workoutSeries = null,
                        this.showWorkoutSeries = !1),
                        this.workoutSeries && (t.push(this.workoutSeries),
                        this.showWorkoutSeries = !0),
                        t.push(this.createChartSeries(e, 0))
                    }, this),
                    this.highChartObj.addAxis(this.getSeriesAxisOptions(this.backgroundSeries, 0), !1, !1, !1),
                    n.a.each(t, function(t) {
                        this.highChartObj.addSeries(t, !1)
                    }, this)
                },
                addPrimarySeries: function(t) {
                    var e = [];
                    n.a.each(t, function(t) {
                        e.push(this.createChartSeries(t, 1))
                    }, this),
                    this.highChartObj.addAxis(this.getSeriesAxisOptions(t, 1), !1, !1, !1),
                    n.a.each(e, function(t) {
                        this.highChartObj.addSeries(t, !1)
                    }, this),
                    this.primarySeries = t
                },
                addSecondarySeries: function(t) {
                    var e = [];
                    n.a.each(t, function(t) {
                        e.push(this.createChartSeries(t, 2))
                    }, this),
                    this.highChartObj.addAxis(this.getSeriesAxisOptions(t, 2), !1, !1, !1),
                    n.a.each(e, function(t) {
                        this.highChartObj.addSeries(t, !1)
                    }, this),
                    this.secondarySeries = t
                },
                onZoomReset: function() {
                    this.resetZoom()
                },
                onRangeSelected: function(t, e) {
                    this.setExtremes(t, e)
                },
                setExtremes: function(t, e) {
                    this.highChartObj.xAxis[0].setExtremes(t, e)
                },
                resetZoom: function() {
                    this.highChartObj.xAxis[0].setExtremes(null, null); // TX GCOverrides (semicolon only)
                    this.highChartObj.yAxis[0].setExtremes(null, null); // TX GCOverrides
                },
                xAxisLabelFormatter: function(t) {
                    return t.xAxisType == u.a.Distance ? this.value : l.a.personalizeDuration(this.value)
                },
                yAxisLabelFormatter: function(t, e) {
                    var i = null;
                    return 0 == e ? i = t.backgroundSeries : 1 == e && t.primarySeries ? i = t.primarySeries : t.secondarySeries && (i = t.secondarySeries),
                    null == i || 0 == i.length ? "" : (i = i[0]).yAxisFormattingFunction ? i.yAxisFormattingFunction(this.value, t.measurementSystem()) : i.formattingFunction(this.value, t.measurementSystem())
                },
                yUnit: function(t) {
                    return t.unit_key ? s.a.localize(n.a.result(t, "unit_key")) : ""
                },
                tooltipFormatter: function(t) {
                    var e = []
                      , i = this.point || this.points[0];
                    if (i) {
                        var a = i.x;
                        var dist = i.series.chart.userOptions.series[0].data[i.series.chart.hoverPoints[0].index].dist;  // TX GCOverrides - Zoomed Graph Tooltips                       
                        dist = l.a.formatDistance(dist, t.activitySummary.getActivityTypeKey())                          // TX GCOverrides
                           + " " + s.a.localize(l.a.getDistanceUnitKey(t.activitySummary.getActivityTypeKey()));         // TX GCOverrides

                        if (t.backgroundSeries && n.a.each(t.backgroundSeries, function(i) {
                            var n = i.getClosestPoint(a).data;
                            n && null !== n.y && (e.push("<b>" + i.formatToolTipRow(i, null, n.y, t.yUnit(i), null, null, null) + "</b><br/>")) // TX GCOverrides (formatting)
                        }, this),
                        t.workoutSeries && t.showWorkoutSeries) {
                            var r = t.workoutSeries
                              , o = t.backgroundSeries[0].getClosestPoint(a)
                              , c = r.data[o.index][1];
                            if (null !== c) {
                                var h = t.yUnit(t.backgroundSeries[0]);
                                0 === c ? (c = "--",
                                e.push(c + " " + h),
                                e.push("<br/>")) : (e.push(t.backgroundSeries[0].formatToolTipRow(r, null, c, h, null, null, null)),
                                e.push("<br/>"))
                            }
                        }
                        t.primarySeries && n.a.each(t.primarySeries, function(i) {
                            var n = i.getClosestPoint(a).data;
                            n && null !== n.y && (e.push(i.formatToolTipRow(i, null, n.y, t.yUnit(i), null, null, null)),
                            e.push("<br/>"))
                        }),
                        t.secondarySeries && n.a.each(t.secondarySeries, function(i) {
                            var n = i.getClosestPoint(a).data;
                            null !== n.y && (e.push(i.formatToolTipRow(i, null, n.y, t.yUnit(i), null, null, null)),
                            e.push("<br/>"))
                        }),
                        t.xAxisType === u.a.Distance ?                  // TX !!! GCOverrides - (whole block) zoomed graph tooltip
                            e.push(dist) : 
                            t.xAxisType === u.a.Duration ? 
                                e.push(l.a.personalizeDuration(i.x) + " " + s.a.localize(l.a.getDurationUnitKey()) + "<br/>" + dist) : 
                                t.xAxisType === y.XAxisTypes.SwimLengths ? 
                                    e.push(s.a.localize("swim_length_num", Math.floor(i.x) + 1)) : 
                                    t.xAxisType === y.XAxisTypes.SwimDistance ? 
                                        e.push(l.a.personalizeDistance(i.x, t.activitySummary.getActivityTypeKey(), t.activitySummary.get("unitOfPoolLength")) + " " + s.a.localize(l.a.getDistanceUnitKey(t.activitySummary.getActivityTypeKey(), null, t.activitySummary.get("unitOfPoolLength")))) : e.push(l.a.personalizeDuration(i.x) + " " + s.a.localize(l.a.getDurationUnitKey()))
                    }
                    return e.join("")
                },
                render: function() {
                    var t = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        series: this.getAvailableSeries(),
                        xAxisTypes: this.getXAxisTypes()
                    });
                    this.$el.html(t),
                    this.$(".x-axis-value").val(this.xAxisType),
                    this.chartHeaderView = new p.a({
                        el: this.$("#chart-header-placeholder"),
                        backgroundSeries: this.backgroundSeries,
                        availableSeries: this.getAvailableSeries(),
                        activitySummary: this.activitySummary,
                        activityDetails: this.model,
                        xAxisType: this.xAxisType
                    }),
                    this.chartHeaderView.on(p.a.Events.PrimaryChanged, this.onPrimaryChanged, this),
                    this.chartHeaderView.on(p.a.Events.SecondaryChanged, this.onSecondaryChanged, this),
                    this.chartHeaderView.on(p.a.Events.ZoomReset, this.onZoomReset, this),
                    this.chartHeaderView.on(p.a.Events.RangeSelected, this.onRangeSelected, this);
                    var e = this.getSeries();
                    this.chartHeaderView.shouldShowWorkoutTarget(this.showWorkoutSeries),
                    this.chartHeaderView.render();
                    var i = this.getSeriesYAxisOptions(this.backgroundSeries, 0)
                      , a = this;
                    this.highChartObj = new h.a.Chart({                             // TX GCOverrides - bookmark - zoomed graph tooltip
                        tooltip: {
                            backgroundColor: "rgba(255, 255, 255, 0.85)",
                            borderWidth: 1,                                         // TX GCOverrides 0 » 1
                            borderRadius: 0,
                            shadow: !0,                                             // TX GCOverrides !1 » !0
                            crosshairs: {
                                color: "#222222"
                            },
                            style: {
                                color: "#222222",
                                fontSize: "16px",
                                padding: 10
                            },
                            formatter: n.a.partial(this.tooltipFormatter, this),
                            shared: !0,
                            useHTML: !0
                        },
                        chart: {
                            renderTo: this.$(".zoomed-chart").get(0),
                            backgroundColor: "transparent",
                            spacing: [10, 80, 30, 0],
                            marginLeft: 120,
                            marginRight: 155,
                            zoomType: "xy",     // TX GCOverrides
                            panning: true,      // TX GCOverrides
                            panKey: 'shift',    // TX GCOverrides
                            alignTicks: !1,
                            resetZoomButton: {
                                theme: {
                                    display: "none"
                                }
                            },
                            style: {
                                cursor: "crosshair"
                            },
                            events: {
                                selection: function(t) {
                                    t.xAxis && a.chartHeaderView.showZoomButton()
                                }
                            }
                        },
                        credits: {
                            enabled: !1
                        },
                        title: {
                            text: null
                        },
                        yAxis: [i],
                        xAxis: this.getSeriesXAxisOptions(),
                        plotOptions: {
                            area: {
                                fillOpacity: .25,
                                marker: {
                                    enabled: !1,
                                    symbol: "circle",
                                    states: {
                                        hover: {
                                            fillColor: "#222222",
                                            lineWidth: 1,
                                            lineColor: "#222222",
                                            radius: 4
                                        }
                                    }
                                }
                            },
                            series: {
                                states: {
                                    hover: {
                                        lineWidth: 2
                                    }
                                },
                                step: this.step,
                                animation: !1
                            },
                            line: {
                                marker: {
                                    enabled: !1,
                                    symbol: "circle",
                                    states: {
                                        hover: {
                                            fillColor: "#222222",
                                            lineWidth: 1,
                                            lineColor: "#222222",
                                            radius: 4
                                        }
                                    }
                                }
                            },
                            column: {                       // TX GCOverrides !!!
                                borderWidth: 0,             // TX GCOverrides
                                pointWidth: null,           // TX GCOverrides
                                maxPointWidth: undefined,   // TX GCOverrides
                                pointPadding: 0,            // TX GCOverrides
                                groupPadding: 0             // TX GCOverrides
                            },                              // TX GCOverrides
                            scatter: {
                                marker: {
                                    radius: 3,
                                    symbol: "circle",
                                    enabled: !0
                                },
                                color: "#ff0000",
                                lineWidth: void 0
                            }
                        },
                        legend: {
                            enabled: !1
                        },
                        series: e,
                        exporting: {
                            enabled: !0         // TX GCOverrides (originally !1)
                        }
                    })
                },
                formatToolTipRow: function(t, e) {
                    if (t.formatValue)
                        return t.formatValue(null, e) + "<br>";
                    var i = this.measurementSystem();
                    return (e = t.formattingFunction(e, i)) + " " + s.a.localize(l.a.getSwimPaceUnitKey(i)) + "<br>"
                },
                getSeries: function() {
                    var t = [];
                    return n.a.each(this.backgroundSeries, function(e) {
                        t.push(this.createChartSeries(e, 0)),
                        this.workoutSeries = this.createWorkoutChartSeries(e, 0),
                        this.showWorkoutSeries = !1,
                        this.workoutSeries && (t.push(this.workoutSeries),
                        this.showWorkoutSeries = !0)
                    }, this),
                    t
                },
                createChartSeries: function(t, e) {
                    var i, a = t.defaultChartType, n = t.colorMapper, r = "scatter" == t.defaultChartType ? null : d.a.mapSeriesType(t), o = "scatter" == t.defaultChartType ? 0 : 2;
                    if (0 == e) {
                        if (this.getSeriesCount() > 1 && this.backgroundSeries.length < 2)
                            o = 0,
                            "scatter" !== t.defaultChartType ? (a = "area",
                            r = "#6D8595",
                            i = .25) : n = function(t) {
                                return "rgba(109,133,149, .5)"
                            }
                            ;
                        else if ("scatter" == t.defaultChartType && !t.colorMapper) {
                            var s = d.a.mapSeriesType(t);
                            n = function(t) {
                                return s
                            }
                        }
                    } else if (e > 0 && "scatter" == t.defaultChartType) {
                        var l = d.a.mapSeriesType(t);
                        n = function() {
                            return l
                        }
                    }
// TX !!!  just a bookmark to the zoomed graph plotting section                  
                    var c = t.generateData(n, !0);
// TX !!! DEBUG
    var cache = [];
    console.log("DEBUG createChartSeries this: " + JSON.stringify(this, function(key, value) {
        if (typeof value === 'object' && value !== null) {
            if (cache.indexOf(value) !== -1) return;
            cache.push(value);
        }
        return value;
    }));
    cache = null; 
// TX !!! DEBUG    
                    return {
                        turboThreshold: this.turboThreshold,
                        type: a,
                        yAxis: e,
                        color: r,
                        data: c,
                        threshold: this.zeroThreshold ? 0 : t.reversed ? this.threshold : null,
                        fillOpacity: i,
                        lineWidth: o
                    }
                },
                createWorkoutChartSeries: function(t, e) {
                    var i = d.a.Colors.workoutTargetGray;
                    if (this.workoutInfo = t.generateWorkoutData(),
                    this.workoutData = this.workoutInfo.workoutData,
                    this.workoutData && this.workoutData.length > 0)
                        return {
                            turboThreshold: this.turboThreshold,
                            type: "area",
                            yAxis: e,
                            color: i,
                            data: this.workoutData,
                            threshold: this.zeroThreshold ? 0 : t.reversed ? this.threshold : null,
                            fillOpacity: .45,
                            lineWidth: 1
                        }
                },
                getAvailableSeries: function() {
                    return this.series
                },
                onAxisSelected: function(e) {
                    this.xAxisType = t(e.currentTarget).val(),
                    n.a.each(this.series, function(t) {
                        n.a.each(t, function(t) {
                            t.setXAxisType(this.xAxisType)
                        }, this)
                    }, this),
                    this.removeAllSeries(),
                    this.addAllSeries(),
                    this.highChartObj.redraw(),
                    this.resetZoom(),
                    this.trigger(g.AxisTypeChanged, this.xAxisType),
                    this.chartHeaderView.xAxisType = this.xAxisType,
                    this.chartHeaderView.render()
                },
                removeAllSeries: function() {
                    this.highChartObj.series[2] && this.highChartObj.series[2].remove(!1),
                    this.highChartObj.series[1] && this.highChartObj.series[1].remove(!1),
                    this.highChartObj.series[0] && this.highChartObj.series[0].remove(!1),
                    this.highChartObj.yAxis[2] && this.highChartObj.yAxis[2].remove(!1),
                    this.highChartObj.yAxis[1] && this.highChartObj.yAxis[1].remove(!1),
                    this.highChartObj.yAxis[0] && this.highChartObj.yAxis[0].remove(!1),
                    this.primarySeries = null,
                    this.secondarySeries = null
                },
                addAllSeries: function() {
                    this.addBackgroundSeries(),
                    this.chartHeaderView.primarySeries && this.addPrimarySeries(this.chartHeaderView.primarySeries),
                    this.chartHeaderView.secondarySeries && this.addSecondarySeries(this.chartHeaderView.secondarySeries)
                },
                getSeriesCount: function() {
                    var t = 1;
                    return this.chartHeaderView.primarySeries && t++,
                    this.chartHeaderView.secondarySeries && t++,
                    t
                },
                getScatterCount: function() {
                    var t = 0;
                    return "scatter" == this.backgroundSeries.defaultChartType && t++,
                    this.chartHeaderView.primarySeries && "scatter" == this.chartHeaderView.primarySeries.defaultChartType && t++,
                    this.chartHeaderView.secondarySeries && "scatter" == this.chartHeaderView.secondarySeries.defaultChartType && t++,
                    t
                }
            });
            y.XAxisTypes = u.a,
            y.Events = g,
            e.a = y
        }
        ).call(this, i(10))
    },
    1631: function(t, e) {
        t.exports = '<%  var imageUrl = socialProfile.profileImageUrlSmall || \'//static.garmincdn.com/apps/connect/image/profile-pic-default_60.gif\' %>\n\x3c!--avatar--\x3e\n<div class="object-img pull-left">\n    <a class="profile" href="#" aria-label="<%-\xa0Localizer.localize(\'profile_and_account\')\xa0%>">\n        <img \n            class="media-object avatar avatar-tiny" \n            data-src="holder.js/64x64" \n            role="presentation" \n            src="<%- imageUrl %>"\n        >\n    </a>\n</div>\n\n\x3c!--comment content--\x3e\n<div class="media-body">\n    <textarea \n        placeholder="<%- Localizer.localize(\'enter_your_comment\') %>"  \n        aria-label="<%- Localizer.localize(\'enter_your_comment\') %>" \n        class="add-comment-textarea"  \n        maxlength="<%- maxLength %>"\n    ></textarea>\n    <div class="add-comment-button-wrapper text-right bottom-xs ">\n        <button class="btn btn-small add-comment-button" type="submit"><%- Localizer.localize(\'save\') %></button>\n    </div>\n</div>\n\x3c!--end comment content--\x3e\n\n'
    },
    1632: function(t, e) {
        t.exports = '<%\n    var commentPicUrl = comment.authorImageUrl || \'//static.garmincdn.com/apps/connect/image/profile-pic-default_60.gif\';\n    var likeTextKey = comment.likedByUser ? \'unlike\' : \'like\';\n%>\n\n\x3c!--avatar--\x3e\n<div class="object-img pull-left">\n    <a href="<%- url(\'/profile/\' + comment.authorDisplayName) %>" aria-label="<%- comment.nameDisplayValue %>">\n        <img class="media-object avatar avatar-tiny" data-src="holder.js/64x64" role="presentation" src="<%- commentPicUrl %>">\n    </a>\n</div>\n\n\x3c!--comment content--\x3e\n<div class="media-body">\n\n    <p class="">\n        <% if (comment.authorPro) { %>\n            \x3c!-- per UX, PRO is not translated --\x3e\n            <span class="label-pro"><i class="icon-checkmark"></i>PRO</span>\n        <% } %>\n        <a class="colored" href="<%- url(\'/profile/\' + comment.authorDisplayName) %>"><%- comment.nameDisplayValue %></a>\n    </p>\n    <p class="comment-body-text"><%- comment.body %></p>\n\n    \x3c!-- Delete Comment --\x3e\n    <% if (comment.userProfilePk == viewerProfilePk || conversationOwnerPk == viewerProfilePk) { %>\n    <button class="delete delete-js" title="<%- Localizer.localize(\'button_delete\') %>">\n        <i class="icon-close"></i>\n    </button>\n    <% } %>            \n    \n    <div class="feed-item-footer">\n        \n        \x3c!--date stamp--\x3e\n        <span class="date-stamp pull-left"><%- dayDisplay %></span>\n        \n        \x3c!--Liking--\x3e\n        <span class="entry-like pull-right"></span>\n        \n    </div>\n    \n</div>\n\x3c!--end comment content--\x3e\n'
    },
    1633: function(t, e) {
        t.exports = '<div class="border-wrapper">\n\n    <% if (showHeader) { %>\n    <h5 class="bottom-xs"><%- Localizer.localize(\'comments\') %></h5>\n    <% } %>\n\n    <div class="show-previous-comments" style="display:none;">\n        <a href="#"><%- Localizer.localize(\'show_previous_comments\') %><a/>\n    </div>\n\n    \x3c!--comment set--\x3e\n    <div class="comment-item">\n    \n    </div>\n    \n    <div class="comment-fade-out" style="display:none;"></div>\n\n</div>\n\n\x3c!--add comment--\x3e\n<div class="media add comment background-3">\n    <% if (isChallengeCommentDisabled && showLockedText) {%>\n        <%- Localizer.localize(\'lock.comment\') %>\n    <% } %>\n</div>\n\n            \n\n'
    },
    1640: function(t, e, i) {
        "use strict";
        var a = i(1378)
          , n = Object(a.a)(Object, "create");
        var r = function() {
            this.__data__ = n ? n(null) : {},
            this.size = 0
        };
        var o = function(t) {
            var e = this.has(t) && delete this.__data__[t];
            return this.size -= e ? 1 : 0,
            e
        }
          , s = "__lodash_hash_undefined__"
          , l = Object.prototype.hasOwnProperty;
        var c = function(t) {
            var e = this.__data__;
            if (n) {
                var i = e[t];
                return i === s ? void 0 : i
            }
            return l.call(e, t) ? e[t] : void 0
        }
          , h = Object.prototype.hasOwnProperty;
        var p = function(t) {
            var e = this.__data__;
            return n ? void 0 !== e[t] : h.call(e, t)
        }
          , d = "__lodash_hash_undefined__";
        var u = function(t, e) {
            var i = this.__data__;
            return this.size += this.has(t) ? 0 : 1,
            i[t] = n && void 0 === e ? d : e,
            this
        };
        function m(t) {
            var e = -1
              , i = null == t ? 0 : t.length;
            for (this.clear(); ++e < i; ) {
                var a = t[e];
                this.set(a[0], a[1])
            }
        }
        m.prototype.clear = r,
        m.prototype.delete = o,
        m.prototype.get = c,
        m.prototype.has = p,
        m.prototype.set = u;
        var f = m
          , g = i(1518)
          , y = i(1589);
        var v = function() {
            this.size = 0,
            this.__data__ = {
                hash: new f,
                map: new (y.a || g.a),
                string: new f
            }
        };
        var b = function(t) {
            var e = typeof t;
            return "string" == e || "number" == e || "symbol" == e || "boolean" == e ? "__proto__" !== t : null === t
        };
        var A = function(t, e) {
            var i = t.__data__;
            return b(e) ? i["string" == typeof e ? "string" : "hash"] : i.map
        };
        var _ = function(t) {
            var e = A(this, t).delete(t);
            return this.size -= e ? 1 : 0,
            e
        };
        var C = function(t) {
            return A(this, t).get(t)
        };
        var w = function(t) {
            return A(this, t).has(t)
        };
        var x = function(t, e) {
            var i = A(this, t)
              , a = i.size;
            return i.set(t, e),
            this.size += i.size == a ? 0 : 1,
            this
        };
        function S(t) {
            var e = -1
              , i = null == t ? 0 : t.length;
            for (this.clear(); ++e < i; ) {
                var a = t[e];
                this.set(a[0], a[1])
            }
        }
        S.prototype.clear = v,
        S.prototype.delete = _,
        S.prototype.get = C,
        S.prototype.has = w,
        S.prototype.set = x;
        e.a = S
    },
    1642: function(t, e, i) {
        "use strict";
        var a = i(1518);
        var n = function() {
            this.__data__ = new a.a,
            this.size = 0
        };
        var r = function(t) {
            var e = this.__data__
              , i = e.delete(t);
            return this.size = e.size,
            i
        };
        var o = function(t) {
            return this.__data__.get(t)
        };
        var s = function(t) {
            return this.__data__.has(t)
        }
          , l = i(1589)
          , c = i(1640)
          , h = 200;
        var p = function(t, e) {
            var i = this.__data__;
            if (i instanceof a.a) {
                var n = i.__data__;
                if (!l.a || n.length < h - 1)
                    return n.push([t, e]),
                    this.size = ++i.size,
                    this;
                i = this.__data__ = new c.a(n)
            }
            return i.set(t, e),
            this.size = i.size,
            this
        };
        function d(t) {
            var e = this.__data__ = new a.a(t);
            this.size = e.size
        }
        d.prototype.clear = n,
        d.prototype.delete = r,
        d.prototype.get = o,
        d.prototype.has = s,
        d.prototype.set = p;
        e.a = d
    },
    1644: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = n.a.Model.extend({
            initialize: function() {}
        })
          , o = i(58);
        e.a = n.a.Collection.extend({
            model: r,
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/clips"
            },
            initialize: function(t, e) {
                if ("undefined" === typeof e.activityId)
                    throw "ActivitySplits requires an activity ID";
                this.activityId = e.activityId
            },
            getHighlightedTimeRanges: function() {
                var t = [];
                return this.forEach(function(e) {
                    t.push({
                        start: o.a.parseISOUTC(e.get("startTimeGMT")).getTime(),
                        end: o.a.parseISOUTC(e.get("endTimeGMT")).getTime()
                    })
                }),
                t
            }
        })
    },
    1646: function(t, e, i) {
        "use strict";
        var a = i(398)
          , n = i(131)
          , r = "[object Arguments]";
        var o = function(t) {
            return Object(n.a)(t) && Object(a.a)(t) == r
        }
          , s = Object.prototype
          , l = s.hasOwnProperty
          , c = s.propertyIsEnumerable
          , h = o(function() {
            return arguments
        }()) ? o : function(t) {
            return Object(n.a)(t) && l.call(t, "callee") && !c.call(t, "callee")
        }
        ;
        e.a = h
    },
    1647: function(t, e, i) {
        "use strict";
        var a = function(t, e) {
            for (var i = -1, a = null == t ? 0 : t.length, n = 0, r = []; ++i < a; ) {
                var o = t[i];
                e(o, i, t) && (r[n++] = o)
            }
            return r
        }
          , n = i(1743)
          , r = Object.prototype.propertyIsEnumerable
          , o = Object.getOwnPropertySymbols
          , s = o ? function(t) {
            return null == t ? [] : (t = Object(t),
            a(o(t), function(e) {
                return r.call(t, e)
            }))
        }
        : n.a;
        e.a = s
    },
    1661: function(t, e) {
        this.L = this.L || {},
        this.L.Control = this.L.Control || {},
        this.L.Control.Geocoder = function(t) {
            "use strict";
            t = t && t.hasOwnProperty("default") ? t.default : t;
            var e = 0
              , i = /[&<>"'`]/g
              , a = /[&<>"'`]/
              , n = {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#x27;",
                "`": "&#x60;"
            };
            function r(t) {
                return n[t]
            }
            function o(i, a, n, r, o) {
                var s = "_l_geocoder_" + e++;
                a[o || "callback"] = s,
                window[s] = t.Util.bind(n, r);
                var l = document.createElement("script");
                l.type = "text/javascript",
                l.src = i + t.Util.getParamString(a),
                l.id = s,
                document.getElementsByTagName("head")[0].appendChild(l)
            }
            function s(e, i, a) {
                var n = new XMLHttpRequest;
                n.onreadystatechange = function() {
                    4 === n.readyState && (200 === n.status || 304 === n.status ? a(JSON.parse(n.response)) : a(""))
                }
                ,
                n.open("GET", e + t.Util.getParamString(i), !0),
                n.setRequestHeader("Accept", "application/json"),
                n.send(null)
            }
            function l(t, e) {
                return t.replace(/\{ *([\w_]+) *\}/g, function(t, n) {
                    var o, s = e[n];
                    return void 0 === s ? s = "" : "function" === typeof s && (s = s(e)),
                    null == (o = s) ? "" : o ? (o = "" + o,
                    a.test(o) ? o.replace(i, r) : o) : o + ""
                })
            }
            var c = {
                class: t.Class.extend({
                    options: {
                        serviceUrl: "https://nominatim.openstreetmap.org/",
                        geocodingQueryParams: {},
                        reverseQueryParams: {},
                        htmlTemplate: function(t) {
                            var e = t.address
                              , i = [];
                            return (e.road || e.building) && i.push("{building} {road} {house_number}"),
                            (e.city || e.town || e.village || e.hamlet) && i.push('<span class="' + (i.length > 0 ? "leaflet-control-geocoder-address-detail" : "") + '">{postcode} {city} {town} {village} {hamlet}</span>'),
                            (e.state || e.country) && i.push('<span class="' + (i.length > 0 ? "leaflet-control-geocoder-address-context" : "") + '">{state} {country}</span>'),
                            l(i.join("<br/>"), e)
                        }
                    },
                    initialize: function(e) {
                        t.Util.setOptions(this, e)
                    },
                    geocode: function(e, i, a) {
                        s(this.options.serviceUrl + "search", t.extend({
                            q: e,
                            limit: 5,
                            format: "json",
                            addressdetails: 1
                        }, this.options.geocodingQueryParams), t.bind(function(e) {
                            for (var n = [], r = e.length - 1; r >= 0; r--) {
                                for (var o = e[r].boundingbox, s = 0; s < 4; s++)
                                    o[s] = parseFloat(o[s]);
                                n[r] = {
                                    icon: e[r].icon,
                                    name: e[r].display_name,
                                    html: this.options.htmlTemplate ? this.options.htmlTemplate(e[r]) : void 0,
                                    bbox: t.latLngBounds([o[0], o[2]], [o[1], o[3]]),
                                    center: t.latLng(e[r].lat, e[r].lon),
                                    properties: e[r]
                                }
                            }
                            i.call(a, n)
                        }, this))
                    },
                    reverse: function(e, i, a, n) {
                        s(this.options.serviceUrl + "reverse", t.extend({
                            lat: e.lat,
                            lon: e.lng,
                            zoom: Math.round(Math.log(i / 256) / Math.log(2)),
                            addressdetails: 1,
                            format: "json"
                        }, this.options.reverseQueryParams), t.bind(function(e) {
                            var i, r = [];
                            e && e.lat && e.lon && (i = t.latLng(e.lat, e.lon),
                            r.push({
                                name: e.display_name,
                                html: this.options.htmlTemplate ? this.options.htmlTemplate(e) : void 0,
                                center: i,
                                bounds: t.latLngBounds(i, i),
                                properties: e
                            })),
                            a.call(n, r)
                        }, this))
                    }
                }),
                factory: function(e) {
                    return new t.Control.Geocoder.Nominatim(e)
                }
            }
              , h = {
                class: t.Control.extend({
                    options: {
                        showResultIcons: !1,
                        collapsed: !0,
                        expand: "touch",
                        position: "topright",
                        placeholder: "Search...",
                        errorMessage: "Nothing found.",
                        suggestMinLength: 3,
                        suggestTimeout: 250,
                        defaultMarkGeocode: !0
                    },
                    includes: t.Evented.prototype || t.Mixin.Events,
                    initialize: function(e) {
                        t.Util.setOptions(this, e),
                        this.options.geocoder || (this.options.geocoder = new c.class),
                        this._requestCount = 0
                    },
                    onAdd: function(e) {
                        var i, a = "leaflet-control-geocoder", n = t.DomUtil.create("div", a + " leaflet-bar"), r = t.DomUtil.create("button", a + "-icon", n), o = this._form = t.DomUtil.create("div", a + "-form", n);
                        return this._map = e,
                        this._container = n,
                        r.innerHTML = "&nbsp;",
                        r.type = "button",
                        (i = this._input = t.DomUtil.create("input", "", o)).type = "text",
                        i.placeholder = this.options.placeholder,
                        this._errorElement = t.DomUtil.create("div", a + "-form-no-error", n),
                        this._errorElement.innerHTML = this.options.errorMessage,
                        this._alts = t.DomUtil.create("ul", a + "-alternatives leaflet-control-geocoder-alternatives-minimized", n),
                        t.DomEvent.disableClickPropagation(this._alts),
                        t.DomEvent.addListener(i, "keydown", this._keydown, this),
                        this.options.geocoder.suggest && t.DomEvent.addListener(i, "input", this._change, this),
                        t.DomEvent.addListener(i, "blur", function() {
                            this.options.collapsed && !this._preventBlurCollapse && this._collapse(),
                            this._preventBlurCollapse = !1
                        }, this),
                        this.options.collapsed ? "click" === this.options.expand ? t.DomEvent.addListener(n, "click", function(t) {
                            0 === t.button && 2 !== t.detail && this._toggle()
                        }, this) : t.Browser.touch && "touch" === this.options.expand ? t.DomEvent.addListener(n, "touchstart mousedown", function(t) {
                            this._toggle(),
                            t.preventDefault(),
                            t.stopPropagation()
                        }, this) : (t.DomEvent.addListener(n, "mouseover", this._expand, this),
                        t.DomEvent.addListener(n, "mouseout", this._collapse, this),
                        this._map.on("movestart", this._collapse, this)) : (this._expand(),
                        t.Browser.touch ? t.DomEvent.addListener(n, "touchstart", function() {
                            this._geocode()
                        }, this) : t.DomEvent.addListener(n, "click", function() {
                            this._geocode()
                        }, this)),
                        this.options.defaultMarkGeocode && this.on("markgeocode", this.markGeocode, this),
                        this.on("startgeocode", function() {
                            t.DomUtil.addClass(this._container, "leaflet-control-geocoder-throbber")
                        }, this),
                        this.on("finishgeocode", function() {
                            t.DomUtil.removeClass(this._container, "leaflet-control-geocoder-throbber")
                        }, this),
                        t.DomEvent.disableClickPropagation(n),
                        n
                    },
                    _geocodeResult: function(e, i) {
                        if (i || 1 !== e.length)
                            if (e.length > 0) {
                                this._alts.innerHTML = "",
                                this._results = e,
                                t.DomUtil.removeClass(this._alts, "leaflet-control-geocoder-alternatives-minimized");
                                for (var a = 0; a < e.length; a++)
                                    this._alts.appendChild(this._createAlt(e[a], a))
                            } else
                                t.DomUtil.addClass(this._errorElement, "leaflet-control-geocoder-error");
                        else
                            this._geocodeResultSelected(e[0])
                    },
                    markGeocode: function(e) {
                        return e = e.geocode || e,
                        this._map.fitBounds(e.bbox),
                        this._geocodeMarker && this._map.removeLayer(this._geocodeMarker),
                        this._geocodeMarker = new t.Marker(e.center).bindPopup(e.html || e.name).addTo(this._map).openPopup(),
                        this
                    },
                    _geocode: function(t) {
                        var e = ++this._requestCount
                          , i = t ? "suggest" : "geocode"
                          , a = {
                            input: this._input.value
                        };
                        this._lastGeocode = this._input.value,
                        t || this._clearResults(),
                        this.fire("start" + i, a),
                        this.options.geocoder[i](this._input.value, function(n) {
                            e === this._requestCount && (a.results = n,
                            this.fire("finish" + i, a),
                            this._geocodeResult(n, t))
                        }, this)
                    },
                    _geocodeResultSelected: function(t) {
                        this.fire("markgeocode", {
                            geocode: t
                        })
                    },
                    _toggle: function() {
                        t.DomUtil.hasClass(this._container, "leaflet-control-geocoder-expanded") ? this._collapse() : this._expand()
                    },
                    _expand: function() {
                        t.DomUtil.addClass(this._container, "leaflet-control-geocoder-expanded"),
                        this._input.select(),
                        this.fire("expand")
                    },
                    _collapse: function() {
                        t.DomUtil.removeClass(this._container, "leaflet-control-geocoder-expanded"),
                        t.DomUtil.addClass(this._alts, "leaflet-control-geocoder-alternatives-minimized"),
                        t.DomUtil.removeClass(this._errorElement, "leaflet-control-geocoder-error"),
                        this._input.blur(),
                        this.fire("collapse")
                    },
                    _clearResults: function() {
                        t.DomUtil.addClass(this._alts, "leaflet-control-geocoder-alternatives-minimized"),
                        this._selection = null,
                        t.DomUtil.removeClass(this._errorElement, "leaflet-control-geocoder-error")
                    },
                    _createAlt: function(e, i) {
                        var a = t.DomUtil.create("li", "")
                          , n = t.DomUtil.create("a", "", a)
                          , r = this.options.showResultIcons && e.icon ? t.DomUtil.create("img", "", n) : null
                          , o = e.html ? void 0 : document.createTextNode(e.name);
                        return r && (r.src = e.icon),
                        a.setAttribute("data-result-index", i),
                        e.html ? n.innerHTML = n.innerHTML + e.html : n.appendChild(o),
                        t.DomEvent.addListener(a, "mousedown touchstart", function(i) {
                            this._preventBlurCollapse = !0,
                            t.DomEvent.stop(i),
                            this._geocodeResultSelected(e),
                            t.DomEvent.on(a, "click", function() {
                                this.options.collapsed ? this._collapse() : this._clearResults()
                            }, this)
                        }, this),
                        a
                    },
                    _keydown: function(e) {
                        var i = this
                          , a = function(e) {
                            i._selection && (t.DomUtil.removeClass(i._selection, "leaflet-control-geocoder-selected"),
                            i._selection = i._selection[e > 0 ? "nextSibling" : "previousSibling"]),
                            i._selection || (i._selection = i._alts[e > 0 ? "firstChild" : "lastChild"]),
                            i._selection && t.DomUtil.addClass(i._selection, "leaflet-control-geocoder-selected")
                        };
                        switch (e.keyCode) {
                        case 27:
                            this.options.collapsed && this._collapse();
                            break;
                        case 38:
                            a(-1);
                            break;
                        case 40:
                            a(1);
                            break;
                        case 13:
                            if (this._selection) {
                                var n = parseInt(this._selection.getAttribute("data-result-index"), 10);
                                this._geocodeResultSelected(this._results[n]),
                                this._clearResults()
                            } else
                                this._geocode()
                        }
                    },
                    _change: function() {
                        var e = this._input.value;
                        e !== this._lastGeocode && (clearTimeout(this._suggestTimeout),
                        e.length >= this.options.suggestMinLength ? this._suggestTimeout = setTimeout(t.bind(function() {
                            this._geocode(!0)
                        }, this), this.options.suggestTimeout) : this._clearResults())
                    }
                }),
                factory: function(e) {
                    return new t.Control.Geocoder(e)
                }
            }
              , p = {
                class: t.Class.extend({
                    initialize: function(t) {
                        this.key = t
                    },
                    geocode: function(e, i, a) {
                        o("https://dev.virtualearth.net/REST/v1/Locations", {
                            query: e,
                            key: this.key
                        }, function(e) {
                            var n = [];
                            if (e.resourceSets.length > 0)
                                for (var r = e.resourceSets[0].resources.length - 1; r >= 0; r--) {
                                    var o = e.resourceSets[0].resources[r]
                                      , s = o.bbox;
                                    n[r] = {
                                        name: o.name,
                                        bbox: t.latLngBounds([s[0], s[1]], [s[2], s[3]]),
                                        center: t.latLng(o.point.coordinates)
                                    }
                                }
                            i.call(a, n)
                        }, this, "jsonp")
                    },
                    reverse: function(e, i, a, n) {
                        o("//dev.virtualearth.net/REST/v1/Locations/" + e.lat + "," + e.lng, {
                            key: this.key
                        }, function(e) {
                            for (var i = [], r = e.resourceSets[0].resources.length - 1; r >= 0; r--) {
                                var o = e.resourceSets[0].resources[r]
                                  , s = o.bbox;
                                i[r] = {
                                    name: o.name,
                                    bbox: t.latLngBounds([s[0], s[1]], [s[2], s[3]]),
                                    center: t.latLng(o.point.coordinates)
                                }
                            }
                            a.call(n, i)
                        }, this, "jsonp")
                    }
                }),
                factory: function(e) {
                    return new t.Control.Geocoder.Bing(e)
                }
            }
              , d = {
                class: t.Class.extend({
                    options: {
                        serviceUrl: "https://www.mapquestapi.com/geocoding/v1"
                    },
                    initialize: function(e, i) {
                        this._key = decodeURIComponent(e),
                        t.Util.setOptions(this, i)
                    },
                    _formatName: function() {
                        var t, e = [];
                        for (t = 0; t < arguments.length; t++)
                            arguments[t] && e.push(arguments[t]);
                        return e.join(", ")
                    },
                    geocode: function(e, i, a) {
                        s(this.options.serviceUrl + "/address", {
                            key: this._key,
                            location: e,
                            limit: 5,
                            outFormat: "json"
                        }, t.bind(function(e) {
                            var n, r, o = [];
                            if (e.results && e.results[0].locations)
                                for (var s = e.results[0].locations.length - 1; s >= 0; s--)
                                    n = e.results[0].locations[s],
                                    r = t.latLng(n.latLng),
                                    o[s] = {
                                        name: this._formatName(n.street, n.adminArea4, n.adminArea3, n.adminArea1),
                                        bbox: t.latLngBounds(r, r),
                                        center: r
                                    };
                            i.call(a, o)
                        }, this))
                    },
                    reverse: function(e, i, a, n) {
                        s(this.options.serviceUrl + "/reverse", {
                            key: this._key,
                            location: e.lat + "," + e.lng,
                            outputFormat: "json"
                        }, t.bind(function(e) {
                            var i, r, o = [];
                            if (e.results && e.results[0].locations)
                                for (var s = e.results[0].locations.length - 1; s >= 0; s--)
                                    i = e.results[0].locations[s],
                                    r = t.latLng(i.latLng),
                                    o[s] = {
                                        name: this._formatName(i.street, i.adminArea4, i.adminArea3, i.adminArea1),
                                        bbox: t.latLngBounds(r, r),
                                        center: r
                                    };
                            a.call(n, o)
                        }, this))
                    }
                }),
                factory: function(e, i) {
                    return new t.Control.Geocoder.MapQuest(e,i)
                }
            }
              , u = {
                class: t.Class.extend({
                    options: {
                        serviceUrl: "https://api.tiles.mapbox.com/v4/geocode/mapbox.places-v1/",
                        geocodingQueryParams: {},
                        reverseQueryParams: {}
                    },
                    initialize: function(e, i) {
                        t.setOptions(this, i),
                        this.options.geocodingQueryParams.access_token = e,
                        this.options.reverseQueryParams.access_token = e
                    },
                    geocode: function(e, i, a) {
                        var n = this.options.geocodingQueryParams;
                        "undefined" !== typeof n.proximity && n.proximity.hasOwnProperty("lat") && n.proximity.hasOwnProperty("lng") && (n.proximity = n.proximity.lng + "," + n.proximity.lat),
                        s(this.options.serviceUrl + encodeURIComponent(e) + ".json", n, function(e) {
                            var n, r, o, s = [];
                            if (e.features && e.features.length)
                                for (var l = 0; l <= e.features.length - 1; l++)
                                    n = e.features[l],
                                    r = t.latLng(n.center.reverse()),
                                    o = n.hasOwnProperty("bbox") ? t.latLngBounds(t.latLng(n.bbox.slice(0, 2).reverse()), t.latLng(n.bbox.slice(2, 4).reverse())) : t.latLngBounds(r, r),
                                    s[l] = {
                                        name: n.place_name,
                                        bbox: o,
                                        center: r
                                    };
                            i.call(a, s)
                        })
                    },
                    suggest: function(t, e, i) {
                        return this.geocode(t, e, i)
                    },
                    reverse: function(e, i, a, n) {
                        s(this.options.serviceUrl + encodeURIComponent(e.lng) + "," + encodeURIComponent(e.lat) + ".json", this.options.reverseQueryParams, function(e) {
                            var i, r, o, s = [];
                            if (e.features && e.features.length)
                                for (var l = 0; l <= e.features.length - 1; l++)
                                    i = e.features[l],
                                    r = t.latLng(i.center.reverse()),
                                    o = i.hasOwnProperty("bbox") ? t.latLngBounds(t.latLng(i.bbox.slice(0, 2).reverse()), t.latLng(i.bbox.slice(2, 4).reverse())) : t.latLngBounds(r, r),
                                    s[l] = {
                                        name: i.place_name,
                                        bbox: o,
                                        center: r
                                    };
                            a.call(n, s)
                        })
                    }
                }),
                factory: function(e, i) {
                    return new t.Control.Geocoder.Mapbox(e,i)
                }
            }
              , m = {
                class: t.Class.extend({
                    options: {
                        serviceUrl: "https://api.what3words.com/v2/"
                    },
                    initialize: function(t) {
                        this._accessToken = t
                    },
                    geocode: function(e, i, a) {
                        s(this.options.serviceUrl + "forward", {
                            key: this._accessToken,
                            addr: e.split(/\s+/).join(".")
                        }, function(e) {
                            var n, r, o = [];
                            e.hasOwnProperty("geometry") && (n = t.latLng(e.geometry.lat, e.geometry.lng),
                            r = t.latLngBounds(n, n),
                            o[0] = {
                                name: e.words,
                                bbox: r,
                                center: n
                            }),
                            i.call(a, o)
                        })
                    },
                    suggest: function(t, e, i) {
                        return this.geocode(t, e, i)
                    },
                    reverse: function(e, i, a, n) {
                        s(this.options.serviceUrl + "reverse", {
                            key: this._accessToken,
                            coords: [e.lat, e.lng].join(",")
                        }, function(e) {
                            var i, r, o = [];
                            200 == e.status.status && (i = t.latLng(e.geometry.lat, e.geometry.lng),
                            r = t.latLngBounds(i, i),
                            o[0] = {
                                name: e.words,
                                bbox: r,
                                center: i
                            }),
                            a.call(n, o)
                        })
                    }
                }),
                factory: function(e) {
                    return new t.Control.Geocoder.What3Words(e)
                }
            }
              , f = {
                class: t.Class.extend({
                    options: {
                        serviceUrl: "https://maps.googleapis.com/maps/api/geocode/json",
                        geocodingQueryParams: {},
                        reverseQueryParams: {}
                    },
                    initialize: function(e, i) {
                        this._key = e,
                        t.setOptions(this, i),
                        this.options.serviceUrl = this.options.service_url || this.options.serviceUrl
                    },
                    geocode: function(e, i, a) {
                        var n = {
                            address: e
                        };
                        this._key && this._key.length && (n.key = this._key),
                        n = t.Util.extend(n, this.options.geocodingQueryParams),
                        s(this.options.serviceUrl, n, function(e) {
                            var n, r, o, s = [];
                            if (e.results && e.results.length)
                                for (var l = 0; l <= e.results.length - 1; l++)
                                    n = e.results[l],
                                    r = t.latLng(n.geometry.location),
                                    o = t.latLngBounds(t.latLng(n.geometry.viewport.northeast), t.latLng(n.geometry.viewport.southwest)),
                                    s[l] = {
                                        name: n.formatted_address,
                                        bbox: o,
                                        center: r,
                                        properties: n.address_components
                                    };
                            i.call(a, s)
                        })
                    },
                    reverse: function(e, i, a, n) {
                        var r = {
                            latlng: encodeURIComponent(e.lat) + "," + encodeURIComponent(e.lng)
                        };
                        r = t.Util.extend(r, this.options.reverseQueryParams),
                        this._key && this._key.length && (r.key = this._key),
                        s(this.options.serviceUrl, r, function(e) {
                            var i, r, o, s = [];
                            if (e.results && e.results.length)
                                for (var l = 0; l <= e.results.length - 1; l++)
                                    i = e.results[l],
                                    r = t.latLng(i.geometry.location),
                                    o = t.latLngBounds(t.latLng(i.geometry.viewport.northeast), t.latLng(i.geometry.viewport.southwest)),
                                    s[l] = {
                                        name: i.formatted_address,
                                        bbox: o,
                                        center: r,
                                        properties: i.address_components
                                    };
                            a.call(n, s)
                        })
                    }
                }),
                factory: function(e, i) {
                    return new t.Control.Geocoder.Google(e,i)
                }
            }
              , g = {
                class: t.Class.extend({
                    options: {
                        serviceUrl: "https://photon.komoot.de/api/",
                        reverseUrl: "https://photon.komoot.de/reverse/",
                        nameProperties: ["name", "street", "suburb", "hamlet", "town", "city", "state", "country"]
                    },
                    initialize: function(e) {
                        t.setOptions(this, e)
                    },
                    geocode: function(e, i, a) {
                        var n = t.extend({
                            q: e
                        }, this.options.geocodingQueryParams);
                        s(this.options.serviceUrl, n, t.bind(function(t) {
                            i.call(a, this._decodeFeatures(t))
                        }, this))
                    },
                    suggest: function(t, e, i) {
                        return this.geocode(t, e, i)
                    },
                    reverse: function(e, i, a, n) {
                        var r = t.extend({
                            lat: e.lat,
                            lon: e.lng
                        }, this.options.reverseQueryParams);
                        s(this.options.reverseUrl, r, t.bind(function(t) {
                            a.call(n, this._decodeFeatures(t))
                        }, this))
                    },
                    _decodeFeatures: function(e) {
                        var i, a, n, r, o, s, l = [];
                        if (e && e.features)
                            for (i = 0; i < e.features.length; i++)
                                n = (a = e.features[i]).geometry.coordinates,
                                r = t.latLng(n[1], n[0]),
                                s = (o = a.properties.extent) ? t.latLngBounds([o[1], o[0]], [o[3], o[2]]) : t.latLngBounds(r, r),
                                l.push({
                                    name: this._deocodeFeatureName(a),
                                    html: this.options.htmlTemplate ? this.options.htmlTemplate(a) : void 0,
                                    center: r,
                                    bbox: s,
                                    properties: a.properties
                                });
                        return l
                    },
                    _deocodeFeatureName: function(t) {
                        var e, i;
                        for (e = 0; !i && e < this.options.nameProperties.length; e++)
                            i = t.properties[this.options.nameProperties[e]];
                        return i
                    }
                }),
                factory: function(e) {
                    return new t.Control.Geocoder.Photon(e)
                }
            }
              , y = {
                class: t.Class.extend({
                    options: {
                        serviceUrl: "https://search.mapzen.com/v1",
                        geocodingQueryParams: {},
                        reverseQueryParams: {}
                    },
                    initialize: function(e, i) {
                        t.Util.setOptions(this, i),
                        this._apiKey = e,
                        this._lastSuggest = 0
                    },
                    geocode: function(e, i, a) {
                        var n = this;
                        s(this.options.serviceUrl + "/search", t.extend({
                            api_key: this._apiKey,
                            text: e
                        }, this.options.geocodingQueryParams), function(t) {
                            i.call(a, n._parseResults(t, "bbox"))
                        })
                    },
                    suggest: function(e, i, a) {
                        var n = this;
                        s(this.options.serviceUrl + "/autocomplete", t.extend({
                            api_key: this._apiKey,
                            text: e
                        }, this.options.geocodingQueryParams), t.bind(function(t) {
                            t.geocoding.timestamp > this._lastSuggest && (this._lastSuggest = t.geocoding.timestamp,
                            i.call(a, n._parseResults(t, "bbox")))
                        }, this))
                    },
                    reverse: function(e, i, a, n) {
                        var r = this;
                        s(this.options.serviceUrl + "/reverse", t.extend({
                            api_key: this._apiKey,
                            "point.lat": e.lat,
                            "point.lon": e.lng
                        }, this.options.reverseQueryParams), function(t) {
                            a.call(n, r._parseResults(t, "bounds"))
                        })
                    },
                    _parseResults: function(e, i) {
                        var a = [];
                        return t.geoJson(e, {
                            pointToLayer: function(e, i) {
                                return t.circleMarker(i)
                            },
                            onEachFeature: function(e, n) {
                                var r, o, s = {};
                                n.getBounds ? o = (r = n.getBounds()).getCenter() : (o = n.getLatLng(),
                                r = t.latLngBounds(o, o)),
                                s.name = n.feature.properties.label,
                                s.center = o,
                                s[i] = r,
                                s.properties = n.feature.properties,
                                a.push(s)
                            }
                        }),
                        a
                    }
                }),
                factory: function(e, i) {
                    return new t.Control.Geocoder.Mapzen(e,i)
                }
            }
              , v = {
                class: t.Class.extend({
                    options: {
                        service_url: "http://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"
                    },
                    initialize: function(e, i) {
                        t.setOptions(this, i),
                        this._accessToken = e
                    },
                    geocode: function(e, i, a) {
                        var n = {
                            SingleLine: e,
                            outFields: "Addr_Type",
                            forStorage: !1,
                            maxLocations: 10,
                            f: "json"
                        };
                        this._key && this._key.length && (n.token = this._key),
                        s(this.options.service_url + "/findAddressCandidates", n, function(e) {
                            var n, r, o, s = [];
                            if (e.candidates && e.candidates.length)
                                for (var l = 0; l <= e.candidates.length - 1; l++)
                                    n = e.candidates[l],
                                    r = t.latLng(n.location.y, n.location.x),
                                    o = t.latLngBounds(t.latLng(n.extent.ymax, n.extent.xmax), t.latLng(n.extent.ymin, n.extent.xmin)),
                                    s[l] = {
                                        name: n.address,
                                        bbox: o,
                                        center: r
                                    };
                            i.call(a, s)
                        })
                    },
                    suggest: function(t, e, i) {
                        return this.geocode(t, e, i)
                    },
                    reverse: function(e, i, a, n) {
                        var r = {
                            location: encodeURIComponent(e.lng) + "," + encodeURIComponent(e.lat),
                            distance: 100,
                            f: "json"
                        };
                        s(this.options.service_url + "/reverseGeocode", r, function(e) {
                            var i, r = [];
                            e && !e.error && (i = t.latLng(e.location.y, e.location.x),
                            r.push({
                                name: e.address.Match_addr,
                                center: i,
                                bounds: t.latLngBounds(i, i)
                            })),
                            a.call(n, r)
                        })
                    }
                }),
                factory: function(e, i) {
                    return new t.Control.Geocoder.ArcGis(e,i)
                }
            }
              , b = {
                class: t.Class.extend({
                    options: {
                        geocodeUrl: "http://geocoder.api.here.com/6.2/geocode.json",
                        reverseGeocodeUrl: "http://reverse.geocoder.api.here.com/6.2/reversegeocode.json",
                        app_id: "<insert your app_id here>",
                        app_code: "<insert your app_code here>",
                        geocodingQueryParams: {},
                        reverseQueryParams: {}
                    },
                    initialize: function(e) {
                        t.setOptions(this, e)
                    },
                    geocode: function(e, i, a) {
                        var n = {
                            searchtext: e,
                            gen: 9,
                            app_id: this.options.app_id,
                            app_code: this.options.app_code,
                            jsonattributes: 1
                        };
                        n = t.Util.extend(n, this.options.geocodingQueryParams),
                        this.getJSON(this.options.geocodeUrl, n, i, a)
                    },
                    reverse: function(e, i, a, n) {
                        var r = {
                            prox: encodeURIComponent(e.lat) + "," + encodeURIComponent(e.lng),
                            mode: "retrieveAddresses",
                            app_id: this.options.app_id,
                            app_code: this.options.app_code,
                            gen: 9,
                            jsonattributes: 1
                        };
                        r = t.Util.extend(r, this.options.reverseQueryParams),
                        this.getJSON(this.options.reverseGeocodeUrl, r, a, n)
                    },
                    getJSON: function(e, i, a, n) {
                        s(e, i, function(e) {
                            var i, r, o, s = [];
                            if (e.response.view && e.response.view.length)
                                for (var l = 0; l <= e.response.view[0].result.length - 1; l++)
                                    i = e.response.view[0].result[l].location,
                                    r = t.latLng(i.displayPosition.latitude, i.displayPosition.longitude),
                                    o = t.latLngBounds(t.latLng(i.mapView.topLeft.latitude, i.mapView.topLeft.longitude), t.latLng(i.mapView.bottomRight.latitude, i.mapView.bottomRight.longitude)),
                                    s[l] = {
                                        name: i.address.label,
                                        bbox: o,
                                        center: r
                                    };
                            a.call(n, s)
                        })
                    }
                }),
                factory: function(e) {
                    return new t.Control.Geocoder.HERE(e)
                }
            }
              , A = t.Util.extend(h.class, {
                Nominatim: c.class,
                nominatim: c.factory,
                Bing: p.class,
                bing: p.factory,
                MapQuest: d.class,
                mapQuest: d.factory,
                Mapbox: u.class,
                mapbox: u.factory,
                What3Words: m.class,
                what3words: m.factory,
                Google: f.class,
                google: f.factory,
                Photon: g.class,
                photon: g.factory,
                Mapzen: y.class,
                mapzen: y.factory,
                ArcGis: v.class,
                arcgis: v.factory,
                HERE: b.class,
                here: b.factory
            });
            return t.Util.extend(t.Control, {
                Geocoder: A,
                geocoder: h.factory
            }),
            A
        }(L)
    },
    1662: function(module, exports) {
        !function() {
            var p, aa = [];
            function ba(t) {
                return function() {
                    return aa[t].apply(this, arguments)
                }
            }
            function ca(t, e) {
                return aa[t] = e
            }
            var da = da || {}
              , fa = this;
            function ga(t) {
                return void 0 !== t
            }
            function ha(t, e, i) {
                t = t.split("."),
                i = i || fa,
                t[0]in i || !i.execScript || i.execScript("var " + t[0]);
                for (var a; t.length && (a = t.shift()); )
                    !t.length && ga(e) ? i[a] = e : i = i[a] ? i[a] : i[a] = {}
            }
            function ja(t) {
                t = t.split(".");
                for (var e, i = fa; e = t.shift(); ) {
                    if (null == i[e])
                        return null;
                    i = i[e]
                }
                return i
            }
            function ka() {}
            function ma() {
                throw Error("unimplemented abstract method")
            }
            function oa(t) {
                var e = typeof t;
                if ("object" == e) {
                    if (!t)
                        return "null";
                    if (t instanceof Array)
                        return "array";
                    if (t instanceof Object)
                        return e;
                    var i = Object.prototype.toString.call(t);
                    if ("[object Window]" == i)
                        return "object";
                    if ("[object Array]" == i || "number" == typeof t.length && "undefined" != typeof t.splice && "undefined" != typeof t.propertyIsEnumerable && !t.propertyIsEnumerable("splice"))
                        return "array";
                    if ("[object Function]" == i || "undefined" != typeof t.call && "undefined" != typeof t.propertyIsEnumerable && !t.propertyIsEnumerable("call"))
                        return "function"
                } else if ("function" == e && "undefined" == typeof t.call)
                    return "object";
                return e
            }
            function pa(t) {
                return "array" == oa(t)
            }
            function qa(t) {
                var e = oa(t);
                return "array" == e || "object" == e && "number" == typeof t.length
            }
            function ra(t) {
                return "string" == typeof t
            }
            function sa(t) {
                return "function" == oa(t)
            }
            function ta(t) {
                var e = typeof t;
                return "object" == e && null != t || "function" == e
            }
            var ua = "closure_uid_" + (1e9 * Math.random() >>> 0)
              , va = 0;
            function wa(t, e, i) {
                return t.call.apply(t.bind, arguments)
            }
            function xa(t, e, i) {
                if (!t)
                    throw Error();
                if (2 < arguments.length) {
                    var a = Array.prototype.slice.call(arguments, 2);
                    return function() {
                        var i = Array.prototype.slice.call(arguments);
                        return Array.prototype.unshift.apply(i, a),
                        t.apply(e, i)
                    }
                }
                return function() {
                    return t.apply(e, arguments)
                }
            }
            function ya(t, e, i) {
                return (ya = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? wa : xa).apply(null, arguments)
            }
            function za(t, e) {
                var i = Array.prototype.slice.call(arguments, 1);
                return function() {
                    var e = i.slice();
                    return e.push.apply(e, arguments),
                    t.apply(this, e)
                }
            }
            var Aa = Date.now || function() {
                return +new Date
            }
            ;
            function r(t, e) {
                ha(t, e, void 0)
            }
            function v(t, e) {
                function i() {}
                i.prototype = e.prototype,
                t.u = e.prototype,
                t.prototype = new i,
                t.prototype.constructor = t,
                t.Si = function(t, i, a) {
                    for (var n = Array(arguments.length - 2), r = 2; r < arguments.length; r++)
                        n[r - 2] = arguments[r];
                    return e.prototype[i].apply(t, n)
                }
            }
            var Ba = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
            function Ca(t, e) {
                for (var i, a, n = 1; n < arguments.length; n++) {
                    for (i in a = arguments[n])
                        t[i] = a[i];
                    for (var r = 0; r < Ba.length; r++)
                        i = Ba[r],
                        Object.prototype.hasOwnProperty.call(a, i) && (t[i] = a[i])
                }
            }
            var w = function() {
                return this
            }();
            function Da(t) {
                if (Error.captureStackTrace)
                    Error.captureStackTrace(this, Da);
                else {
                    var e = Error().stack;
                    e && (this.stack = e)
                }
                t && (this.message = String(t))
            }
            v(Da, Error),
            Da.prototype.name = "CustomError";
            var Ea = String.prototype.trim ? function(t) {
                return t.trim()
            }
            : function(t) {
                return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g, "")
            }
            ;
            function Fa(t, e) {
                return t < e ? -1 : t > e ? 1 : 0
            }
            var Ga = Array.prototype
              , Ha = Ga.indexOf ? function(t, e, i) {
                return Ga.indexOf.call(t, e, i)
            }
            : function(t, e, i) {
                if (i = null == i ? 0 : 0 > i ? Math.max(0, t.length + i) : i,
                ra(t))
                    return ra(e) && 1 == e.length ? t.indexOf(e, i) : -1;
                for (; i < t.length; i++)
                    if (i in t && t[i] === e)
                        return i;
                return -1
            }
              , Ia = Ga.forEach ? function(t, e, i) {
                Ga.forEach.call(t, e, i)
            }
            : function(t, e, i) {
                for (var a = t.length, n = ra(t) ? t.split("") : t, r = 0; r < a; r++)
                    r in n && e.call(i, n[r], r, t)
            }
            ;
            function Ka() {
                return Object.create(x, void 0)
            }
            var z = ya
              , La = String;
            function Ma(a) {
                return eval("" + a)
            }
            var Na = w.Object.freeze || function(t) {
                return t
            }
            ;
            function Oa(t) {
                for (var e, i = Object.keys(t), a = i.length; a--; )
                    e = t[i[a]],
                    Pa(e) && Oa(e);
                return Na(t)
            }
            function Qa(t) {
                var e, i = {};
                for (e in t)
                    i[e] = t[e];
                return i
            }
            var A = Ma()
              , x = Ma(null);
            function Ra(t, e) {
                return La(t).split(e !== A ? e : " ")
            }
            var Sa = "prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
            function B(t, e, i, a, n) {
                if (!(e = t instanceof e) && i)
                    throw new C(i,a,Ta(n) ? n : t);
                return e
            }
            function Ua(t, e) {
                if (!0 === (B(t, e) && t.constructor === e))
                    throw new TypeError("Illegal constructor " + Va(e))
            }
            var Pa = ta;
            function Wa(t) {
                for (var e in t)
                    return !1;
                return !0
            }
            function Xa(t, e, i, a, n) {
                if (!(e = Ya(t) === e) && i)
                    throw new C(i,a,Ta(n) ? n : t);
                return e
            }
            function Za(t, e, i, a) {
                return Xa(t, "Array", e, i, a)
            }
            function Ta(t) {
                return t !== A
            }
            r("H.lang.isObject", Pa),
            r("H.lang.isEmptyObject", Wa),
            r("H.lang.isArray", Za),
            r("H.lang.isString", ra);
            var $a = parseFloat
              , D = isNaN;
            function ab(t) {
                return t === +t
            }
            function bb(t) {
                return !D(+t)
            }
            function Ya(t) {
                var e = Object[Sa[0]][Sa[6]].call(t).match(/^\[object (\w+)\]$/);
                return e ? e[1] : typeof t
            }
            function Va(t, e, i, a) {
                var n = ""
                  , r = 2 > arguments.length;
                return r && (e = {
                    H: w.H
                },
                i = "",
                a = []),
                cb(e, !0, function(e, r) {
                    try {
                        var o, s = e[r];
                        if (r = db(e, s),
                        (o = !(Pa(s) && s.window === s && s.self === s)) && (o = !(Pa(s) && 0 < s.nodeType && sa(s.cloneNode))),
                        o && Pa(s)) {
                            if (s === t)
                                return n = i + "." + r,
                                !0;
                            if (0 > a.indexOf(s) && (a.push(s),
                            n = Va(t, s, i + "." + r, a)))
                                return !0
                        }
                    } catch (l) {}
                }),
                r && (n = n ? n.substr(1).replace("." + Sa[0] + ".", "#") : "~" + (sa(t) ? eb(t) + "()" : Ya(t))),
                n
            }
            function db(t, e) {
                var i = [];
                return cb(t, !1, function(t, a) {
                    t[a] === e && i.push(a)
                }),
                i.sort(fb)[0]
            }
            function fb(t, e) {
                return e.length - t.length
            }
            r("H.lang.isNumber", ab);
            var gb = Object[Sa[0]][Sa[2]];
            function cb(t, e, i) {
                var a, n;
                if (t) {
                    for (a in t)
                        if ((!e || gb.call(t, a)) && i(t, a, !0))
                            return;
                    for (n = Sa.length; n-- && (a = Sa[n],
                    e && !gb.call(t, a) || !i(t, a, !1)); )
                        ;
                }
            }
            function eb(t) {
                return (t = /^\s*function ([^\( ]+)/.exec(t)) ? t[1] : "anonymous"
            }
            function hb(t, e, i) {
                i[e] = "#" + e
            }
            var ib = "[object Undefined]" !== {}.toString.call(void 0);
            function jb(t, e) {
                var i, a = w.console;
                !ib && a && a.warn && (i = Va(t) + " is deprecated and will be removed soon. ",
                e && (i += e),
                a.warn(i))
            }
            function C(t, e, i) {
                var a, n = arguments.length;
                e = 1 < n ? +e : e,
                n = 2 < n ? La(i) : "",
                e !== A && ((a = (a = /^.*?\(([^\)]+)/.exec(("" + t).replace(/(\/\*([\s\S]*?)\*\/)|(\/\/(.*)$)/gm, ""))) ? Ra(a[1].replace(/\s+/g, ""), ",") : []).forEach(hb),
                a = a[e] || "#" + e),
                this.message = (t ? Va(t) : "") + (a || n ? " (" : "") + (a ? "Argument " + a : "") + (n ? (a ? " " : "") + n : "") + (a || n ? ")" : ""),
                this.stack = Error().stack
            }
            r("H.lang.InvalidArgumentError", C),
            C.prototype = Error(),
            C.prototype.name = "InvalidArgumentError";
            var kb = Math
              , lb = kb.min
              , mb = kb.max
              , nb = kb.round
              , pb = kb.floor
              , qb = kb.ceil
              , rb = kb.abs
              , sb = kb.log
              , tb = kb.sqrt
              , ub = kb.pow
              , vb = kb.exp
              , wb = kb.sin
              , xb = kb.asin
              , yb = kb.cos
              , zb = kb.tan
              , Ab = kb.atan
              , Bb = kb.atan2
              , Cb = kb.LN2
              , Db = kb.PI
              , Eb = Db / 2
              , Fb = Db / 4
              , Gb = 2 * Db
              , Hb = 3 * Db
              , Ib = Db / 180
              , Kb = 180 / Db
              , Lb = 1 / 0
              , Mb = ub(-2, 53)
              , Nb = Nb || function(t) {
                return sb(t) / Cb
            }
            ;
            function Ob(t, e) {
                var i;
                return 0 > (i = t % e) === 0 > e ? i : i + e
            }
            function Pb(t, e, i) {
                return e -= i = i || 0,
                (t -= i) - pb(t / e) * e + i
            }
            function Qb(t, e, i) {
                return (t -= 0) > i ? i : t < e ? e : t
            }
            function Rb(t, e, i, a) {
                return (a -= 0) || (a = 0),
                e < i ? t >= e - a && t <= i + a : t >= i - a && t <= e + a
            }
            function Sb(t, e, i, a, n, r) {
                return tb(ub((t - n) * (a - r) - (e - r) * (i - n), 2) / (ub(i - n, 2) + ub(a - r, 2)))
            }
            r("H.math.normalize", Pb),
            r("H.math.clamp", Qb);
            var Tb = {
                NONE: 0,
                Ri: 1,
                Li: 2,
                Qi: 3
            };
            function Ub(t, e, i, a, n) {
                for (var r, o, s, l = i.length, c = l, h = i[0], p = 0, d = 0, u = 0, m = a / 2 || 0, f = n ? 1 : 3; 1 != p && c > f; )
                    r = i[--c],
                    a = i[--c],
                    s = i[c ? c - 1 : (l + (c - 1)) % l],
                    o = i[c ? c - 2 : (l + (c - 2)) % l],
                    a >= t - m && a <= t + m && r >= e - m && r <= e + m || o >= t - m && o <= t + m && s >= e - m && s <= e + m ? p = 1 : p || a !== t ? !p && Rb(t, a, o, m) && ((a < t && o > t || a > t && o < t) && (d += (h = r + (t - a) / (o - a) * (s - r)) > e,
                    u += h < e),
                    p = Rb(e, r, s, m) && Sb(t, e, a, r, o, s) <= m ? 2 : 0) : (o === t && (r < e && s > e || r > e && s < e) || (h <= t && o > t || h >= t && o < t) && (r >= e ? ++d : ++u),
                    p = Rb(e, r, s, m) && Sb(t, e, a, r, o, s) <= m ? 2 : 0),
                    h = a;
                return !p && n && 0 !== u && 0 !== d % 2 && (p = 3),
                p
            }
            var Vb = {
                undefined: "GL",
                GL: "GL",
                OL: "OL",
                SL: "SL",
                SB: "SB",
                WE: "WE",
                WG: "WG"
            };
            function Wb(t, e, i) {
                var a = Qb(+t, -90, 90);
                if (e && D(a))
                    throw new C(e,i,t);
                return a
            }
            function Xb(t, e, i) {
                var a = +t;
                if ((-180 > a || 180 < a) && (a = Ob(a + 180, 360) - 180),
                e && D(a))
                    throw new C(e,i,t);
                return a
            }
            function Yb(t, e, i) {
                var a;
                if (t !== A && D(a = +t) && e)
                    throw new C(e,i,t);
                return a
            }
            function Zb(t, e, i) {
                var a = !Vb[t];
                if (e && a)
                    throw new C(e,i,t);
                return !a
            }
            function $b(t) {
                return !(!t || D(t.lat) || D(t.lng))
            }
            function ac(t, e) {
                return 0 !== (0 > t ^ 0 > e) && 180 < rb(e - t)
            }
            function bc() {
                Ua(this, bc)
            }
            function E(t, e) {
                var i;
                if (E.u.constructor.call(this),
                B(t, F, E, 0),
                e !== A && Za(e, E, 1)) {
                    for (i = 0; i < e.length; i++)
                        B(e[i], F, E, 1, "index " + i);
                    this.lb = e
                } else
                    this.lb = [];
                this.$a = t,
                this.a = []
            }
            r("H.geo.AltitudeContext", Vb),
            r("H.geo.isDBC", ac),
            r("H.geo.AbstractGeometry", bc),
            bc.prototype.getBounds = bc.prototype.S,
            bc.prototype.equals = bc.prototype.pa,
            bc.prototype.toString = function() {
                return this.Lb([this.qd, " "]).join("")
            }
            ,
            bc.prototype.toString = bc.prototype.toString,
            v(E, bc),
            r("H.geo.Polygon", E);
            var cc = {
                NORTH: 90,
                SOUTH: -90
            }, jc, mc, nc;
            function dc(t, e) {
                var i, a, n;
                return (n = t.S()) && ((i = t.l(!0)) && (a = t.f()) && (n = n.wb(fc([t.g(0), t.g(a - 1)], !0), !0)),
                360 === n.ab() && 1 === i % 2 && (n = n.b(e, 0))),
                n
            }
            function gc(t, e, i, a) {
                this.lat = Wb(t, gc, 0),
                this.lng = Xb(e, gc, 1),
                i !== A && (this.alt = Yb(i, gc, 2)),
                a !== A && Zb(a, gc, 3) && (this.ctx = a)
            }
            function hc(t, e, i) {
                var a = !!t && !(D(t.lat = Wb(t.lat)) || D(t.lng = Xb(t.lng)) || t.alt !== A && D(t.alt = Yb(t.alt)) || t.ctx !== A && !Zb(t.ctx));
                if (!a && e)
                    throw new C(e,i,t);
                return a
            }
            function ic(t) {
                if (!t)
                    throw new C(ic,0,t);
                return new gc(t.lat,t.lng,t.alt,t.ctx)
            }
            function kc(t, e) {
                var i = [];
                t && i.push(Va(t)),
                1 < arguments.length && i.push(e),
                this.message = i.join(" "),
                this.stack = Error().stack
            }
            function lc(t) {
                if (!ra(t))
                    throw new C(this.constructor,0);
                if (this.g = w.indexedDB || w.webkitIndexedDB || w.mozIndexedDB || w.msIndexedDB,
                !this.g)
                    throw new kc(this.constructor,"This browser does not support IndexedDB");
                this.l = t,
                this.a = [],
                this.c = [],
                this.pf = z(this.pf, this)
            }
            function tc(t, e, i) {
                var a;
                t.b ? t.a ? (t.a.push(e),
                i && t.c.push(i)) : t.f ? i && i(t.f) : e(t.b.result) : (t.b = t.g.open(uc + t.l, 1),
                t.b.onupgradeneeded = t.pf,
                a = t.b.onerror = function() {
                    clearTimeout(t.i),
                    t.f = this.error,
                    t.c.forEach(function(e) {
                        e(t.f)
                    }),
                    t.a = t.c = null
                }
                ,
                t.i = setTimeout(function() {
                    a.call({
                        error: Error("DbOpenTimeoutError")
                    })
                }, 500),
                t.b.onsuccess = function() {
                    clearTimeout(t.i),
                    t.a ? (t.a.forEach(function(t) {
                        t(this.result)
                    }, this),
                    t.a = t.c = null) : (t.b = t.f = null,
                    t.a = [],
                    t.c = [])
                }
                ,
                t.a.push(e),
                i && t.c.push(i))
            }
            function qc(t, e, i) {
                tc(t, function(i) {
                    i = i.transaction(["data"], t.Gh),
                    e(i.objectStore("data"))
                }, i)
            }
            function rc(t, e, i) {
                e && (t.onsuccess = function() {
                    e(this.result)
                }
                ),
                i && (t.onerror = function() {
                    i(this.error)
                }
                )
            }
            function pc(t) {
                var e = Object.prototype.toString.call(t);
                return "[object Blob]" === e || "[object ArrayBuffer]" === e || ra(t) || Pa(t)
            }
            function oc(t) {
                return ra(t) || ab(t)
            }
            function vc() {
                return mc || (mc = new lc("STATIC_DB")),
                mc
            }
            E.Direction = cc,
            E.prototype.hc = cc.NORTH,
            E.prototype.i = function(t) {
                return this.hc !== t && (this.c = x,
                this.a.length = 0,
                this.hc = t),
                this
            }
            ,
            E.prototype.setPoleCovering = E.prototype.i,
            E.prototype.o = function() {
                return this.hc
            }
            ,
            E.prototype.getPoleCovering = E.prototype.o,
            E.prototype.l = function() {
                return this.$a
            }
            ,
            E.prototype.getExterior = E.prototype.l,
            E.prototype.g = function(t) {
                if (!B(t, F))
                    throw new C(this.g,0,t);
                this.$a = t,
                this.c = x
            }
            ,
            E.prototype.setExterior = E.prototype.g,
            E.prototype.j = function() {
                return this.lb
            }
            ,
            E.prototype.getInteriors = E.prototype.j,
            E.prototype.b = function(t, e, i) {
                var a, n, r = arguments.length;
                for (a = 2; a < r; a++)
                    B(arguments[a], F, this.b, a);
                for (n = this.lb.splice.apply(this.lb, arguments),
                a = 2; a < r; a++)
                    arguments[a] = A;
                return this.a.splice.apply(this.a, arguments),
                n
            }
            ,
            E.prototype.spliceInteriors = E.prototype.b,
            E.prototype.v = function(t) {
                return this.b(t, 1)[0]
            }
            ,
            E.prototype.removeInteriorAt = E.prototype.v,
            E.prototype.m = function(t) {
                return 0 > (t = this.lb.indexOf(t)) ? A : this.b(t, 1)[0]
            }
            ,
            E.prototype.removeInterior = E.prototype.m,
            E.prototype.f = function(t) {
                if (!B(t, F))
                    throw new C(this.f,0,t);
                this.lb.push(t)
            }
            ,
            E.prototype.pushInterior = E.prototype.f,
            E.prototype.S = function() {
                var t = this.c;
                return t || (this.c = t = dc(this.$a, this.hc)),
                t
            }
            ,
            E.prototype.getBounds = E.prototype.S,
            p = E.prototype,
            p.ig = function(t) {
                var e = this.lb.length;
                if (0 > t || t >= e)
                    throw new ec(this.ig,t,[0, e - 1]);
                return (e = this.a[t]) || (this.a[t] = e = dc(this.lb[t], this.hc)),
                e
            }
            ,
            p.$a = x,
            p.lb = [],
            p.qd = "POLYGON",
            p.Lb = function(t) {
                var e, i = this.lb, a = i.length;
                if (this.$a.f()) {
                    for (t.push("("),
                    this.$a.Lb(t),
                    e = 0; e < a; e++)
                        i[e].f() && (t.push(","),
                        i[e].Lb(t));
                    t.push(")")
                } else
                    t.push("EMPTY");
                return t
            }
            ,
            v(gc, bc),
            r("H.geo.Point", gc),
            gc.prototype.pa = function(t) {
                return this === t || !!t && this.lat === t.lat && this.lng === t.lng && Vb[this.ctx] === Vb[t.ctx] && (this.alt || 0) === (t.alt || 0)
            }
            ,
            gc.prototype.equals = gc.prototype.pa,
            gc.prototype.distance = function(t) {
                var e, i;
                return this === t || this.lat === t.lat && this.lng === t.lng ? t = 0 : (e = this.lat * Ib,
                i = t.lat * Ib,
                t = 12742001.58 * xb(lb(1, tb(ub(wb((e - i) / 2), 2) + yb(e) * yb(i) * ub(wb((this.lng * Ib - t.lng * Ib) / 2), 2))))),
                t
            }
            ,
            gc.prototype.distance = gc.prototype.distance,
            gc.prototype.Gf = function(t, e, i) {
                var a, n, r, o, s, l;
                if (i) {
                    if (e /= 6371000.79) {
                        t *= Ib,
                        a = Ib * this.lat,
                        r = wb(a),
                        o = wb(e),
                        s = yb(e),
                        n = Ib * this.lng;
                        var c = yb(a);
                        a = xb(c * yb(t) * o + r * s),
                        c = ((n + (t = Bb(wb(t) * c * o, s - r * wb(a))) + Db) % (2 * Db) - Db) * Kb
                    }
                    return e ? new gc(a * Kb,(c + 540) % 360 - 180) : this
                }
                return 0 === ((t = (t % 360 + 360) % 360) + 90) % 180 ? (a = this.lng + e / (6371000.79 * Gb * yb(this.lat * Ib)) * (270 === t ? -360 : 360),
                new gc(this.lat,(a + 540) % 360 - 180)) : ((e /= 6371000.79) && (t *= Ib,
                n = this.lat * Ib,
                r = this.lng * Ib,
                s = (o = n + e * yb(t)) - n,
                a = sb(zb(o / 2 + Fb) / zb(n / 2 + Fb)),
                a = D(s / a) ? yb(n) : s / a,
                l = e * wb(t) / a,
                rb(o) > Eb && (o = 0 < o ? Db - o : -(Db + o))),
                e ? new gc(o * Kb,((r + l + Hb + (rb(n + s) > Eb ? Db : 0)) % Gb - Db) * Kb) : this)
            }
            ,
            gc.prototype.walk = gc.prototype.Gf,
            gc.prototype.S = function() {
                return new G(this.lat,this.lng,this.lat,this.lng)
            }
            ,
            gc.prototype.getBounds = gc.prototype.S,
            gc.validate = hc,
            gc.fromIPoint = ic,
            gc.prototype.qd = "POINT",
            gc.prototype.Lb = function(t) {
                return t.push("(", this.lng, " ", this.lat, ")"),
                t
            }
            ,
            v(kc, Error),
            r("H.lang.IllegalOperationError", kc),
            kc.prototype = Error(),
            kc.prototype.name = "IllegalOperationError",
            r("H.util.IndexedDBStorage", lc),
            p = lc.prototype,
            p.gd = function(t, e, i, a) {
                if (!oc(t))
                    throw new C(this.gd,0);
                if (!pc(e))
                    throw new C(this.gd,1);
                qc(this, function(n) {
                    rc(n.put(e, t), i, a)
                }, a)
            }
            ,
            p.get = function(t, e, i) {
                var a;
                if (!oc(t))
                    throw new C(this.get,0);
                if (!sa(e))
                    throw new C(this.get,1);
                return qc(this, function(n) {
                    rc(a = n.get(t), e, i)
                }, i),
                {
                    cancel: function() {
                        a && (a.onsuccess = sc)
                    }
                }
            }
            ,
            p.remove = function(t, e, i) {
                if (!oc(t))
                    throw new C(this.remove,0);
                qc(this, function(a) {
                    rc(a.delete(t), e, i)
                }, i)
            }
            ,
            p.clear = function(t, e) {
                qc(this, function(i) {
                    rc(i.clear(), t, e)
                }, e)
            }
            ,
            p.Gh = w.IDBTransaction && w.IDBTransaction.READ_WRITE || "readwrite",
            p.pf = function() {
                var t = this.b.result;
                t.objectStoreNames.contains("data") || t.createObjectStore("data")
            }
            ,
            lc.getInstance = vc;
            var uc = "H_";
            function wc() {
                var t, e, i;
                if (!Ta(nc))
                    if ("file:" === window.location.protocol && -1 < navigator.userAgent.toLowerCase().indexOf("firefox") && 128 <= window.location.href.length)
                        nc = !1;
                    else {
                        t = w.indexedDB || w.webkitIndexedDB || w.mozIndexedDB || w.msIndexedDB,
                        i = uc + "TEST_DB";
                        try {
                            e = t && t.open(i, 1)
                        } catch (a) {}
                        nc = !!e && null === e.onupgradeneeded,
                        e && t.deleteDatabase && t.deleteDatabase(i)
                    }
                return nc
            }
            function xc() {
                0 != yc && (zc[this[ua] || (this[ua] = ++va)] = this),
                this.pb = this.pb,
                this.Ta = this.Ta
            }
            lc.isSupported = wc;
            var yc = 0
              , zc = {};
            function Ac(t) {
                t && "function" == typeof t.J && t.J()
            }
            function Bc(t, e) {
                this.type = t,
                this.currentTarget = this.target = e,
                this.a = !1,
                this.ah = !0
            }
            function Cc(t, e, i) {
                Cc.u.constructor.call(this, t, i),
                this.data = e
            }
            function Dc(t, e, i) {
                Dc.u.constructor.call(this, t, i),
                this.message = e
            }
            function Ec(t, e, i) {
                this.g = i,
                this.c = t,
                this.f = e,
                this.b = 0,
                this.a = null
            }
            function Fc(t, e) {
                t.f(e),
                t.b < t.g && (t.b++,
                e.next = t.a,
                t.a = e)
            }
            function Gc() {
                this.b = this.a = null
            }
            xc.prototype.pb = !1,
            xc.prototype.J = function() {
                if (!this.pb && (this.pb = !0,
                this.D(),
                0 != yc)) {
                    var t = this[ua] || (this[ua] = ++va);
                    delete zc[t]
                }
            }
            ,
            xc.prototype.Eb = function(t, e) {
                this.pb ? t.call(e) : (this.Ta || (this.Ta = []),
                this.Ta.push(ga(e) ? ya(t, e) : t))
            }
            ,
            xc.prototype.D = function() {
                if (this.Ta)
                    for (; this.Ta.length; )
                        this.Ta.shift()()
            }
            ,
            Bc.prototype.stopPropagation = function() {
                this.a = !0
            }
            ,
            Bc.prototype.preventDefault = function() {
                this.ah = !1
            }
            ,
            r("H.util.Event", Bc),
            Bc.prototype.stopPropagation = Bc.prototype.stopPropagation,
            Bc.prototype.stopPropagation = Bc.prototype.stopPropagation,
            Bc.prototype.j = 1,
            Bc.prototype.CAPTURING_PHASE = Bc.prototype.j,
            Bc.prototype.i = 2,
            Bc.prototype.AT_TARGET = Bc.prototype.i,
            Bc.prototype.l = 3,
            Bc.prototype.BUBBLING_PHASE = Bc.prototype.l,
            Bc.prototype.o = 0,
            Bc.prototype.eventPhase = Bc.prototype.o,
            v(Cc, Bc),
            r("H.util.DataEvent", Cc),
            v(Dc, Bc),
            r("H.util.ErrorEvent", Dc),
            Ec.prototype.get = function() {
                var t;
                return 0 < this.b ? (this.b--,
                t = this.a,
                this.a = t.next,
                t.next = null) : t = this.c(),
                t
            }
            ;
            var Ic = new Ec(function() {
                return new Hc
            }
            ,function(t) {
                t.reset()
            }
            ,100), Jc, Pc, Sc;
            function Hc() {
                this.next = this.b = this.a = null
            }
            Gc.prototype.add = function(t, e) {
                var i = Ic.get();
                i.set(t, e),
                this.b ? this.b.next = i : this.a = i,
                this.b = i
            }
            ,
            Gc.prototype.remove = function() {
                var t = null;
                return this.a && (t = this.a,
                this.a = this.a.next,
                this.a || (this.b = null),
                t.next = null),
                t
            }
            ,
            Hc.prototype.set = function(t, e) {
                this.a = t,
                this.b = e,
                this.next = null
            }
            ,
            Hc.prototype.reset = function() {
                this.next = this.b = this.a = null
            }
            ;
            t: {
                var Kc = fa.navigator;
                if (Kc) {
                    var Lc = Kc.userAgent;
                    if (Lc) {
                        Jc = Lc;
                        break t
                    }
                }
                Jc = ""
            }
            function Mc() {
                return -1 != Jc.indexOf("Edge") || -1 != Jc.indexOf("Trident") || -1 != Jc.indexOf("MSIE")
            }
            function Nc() {
                return -1 != Jc.indexOf("Edge")
            }
            function Oc(t) {
                fa.setTimeout(function() {
                    throw t
                }, 0)
            }
            function Qc() {
                var t = fa.MessageChannel;
                if ("undefined" === typeof t && "undefined" !== typeof window && window.postMessage && window.addEventListener && -1 == Jc.indexOf("Presto") && (t = function() {
                    a = document.createElement("IFRAME");
                    a.style.display = "none",
                    a.src = "",
                    document.documentElement.appendChild(a);
                    var t = a.contentWindow;
                    a = t.document;
                    a.open(),
                    a.write(""),
                    a.close();
                    var e = "callImmediate" + Math.random()
                      , i = "file:" == t.location.protocol ? "*" : t.location.protocol + "//" + t.location.host
                      , a = ya(function(t) {
                        "*" != i && t.origin != i || t.data != e || this.port1.onmessage()
                    }, this);
                    t.addEventListener("message", a, !1),
                    this.port1 = {},
                    this.port2 = {
                        postMessage: function() {
                            t.postMessage(e, i)
                        }
                    }
                }
                ),
                "undefined" !== typeof t && !Mc()) {
                    var e = new t
                      , i = {}
                      , a = i;
                    return e.port1.onmessage = function() {
                        if (ga(i.next)) {
                            var t = (i = i.next).$f;
                            i.$f = null,
                            t()
                        }
                    }
                    ,
                    function(t) {
                        a.next = {
                            $f: t
                        },
                        a = a.next,
                        e.port2.postMessage(0)
                    }
                }
                return "undefined" !== typeof document && "onreadystatechange"in document.createElement("SCRIPT") ? function(t) {
                    var e = document.createElement("SCRIPT");
                    e.onreadystatechange = function() {
                        e.onreadystatechange = null,
                        e.parentNode.removeChild(e),
                        e = null,
                        t(),
                        t = null
                    }
                    ,
                    document.documentElement.appendChild(e)
                }
                : function(t) {
                    fa.setTimeout(t, 0)
                }
            }
            function Rc(t, e) {
                Sc || Tc(),
                Uc || (Sc(),
                Uc = !0),
                Vc.add(t, e)
            }
            function Tc() {
                if (fa.Promise && fa.Promise.resolve) {
                    var t = fa.Promise.resolve();
                    Sc = function() {
                        t.then(Wc)
                    }
                } else
                    Sc = function() {
                        var t = Wc;
                        !sa(fa.setImmediate) || fa.Window && fa.Window.prototype && fa.Window.prototype.setImmediate == fa.setImmediate ? (Pc || (Pc = Qc()),
                        Pc(t)) : fa.setImmediate(t)
                    }
            }
            var Uc = !1
              , Vc = new Gc;
            function Wc() {
                for (var t = null; t = Vc.remove(); ) {
                    try {
                        t.a.call(t.b)
                    } catch (e) {
                        Oc(e)
                    }
                    Fc(Ic, t)
                }
                Uc = !1
            }
            function Xc(t, e) {
                if (this.G = Yc,
                this.i = void 0,
                this.c = this.a = this.b = null,
                this.f = this.g = !1,
                t == Zc)
                    $c(this, ad, e);
                else
                    try {
                        var i = this;
                        t.call(e, function(t) {
                            $c(i, ad, t)
                        }, function(t) {
                            $c(i, bd, t)
                        })
                    } catch (a) {
                        $c(this, bd, a)
                    }
            }
            var Yc = 0
              , ad = 2
              , bd = 3;
            function cd() {
                this.next = this.c = this.b = this.f = this.a = null,
                this.g = !1
            }
            cd.prototype.reset = function() {
                this.c = this.b = this.f = this.a = null,
                this.g = !1
            }
            ;
            var dd = new Ec(function() {
                return new cd
            }
            ,function(t) {
                t.reset()
            }
            ,100);
            function ed(t, e, i) {
                var a = dd.get();
                return a.f = t,
                a.b = e,
                a.c = i,
                a
            }
            function Zc() {}
            function fd(t) {
                return new Xc(function(e, i) {
                    i(t)
                }
                )
            }
            function gd() {
                var t, e;
                return new hd(new Xc(function(i, a) {
                    t = i,
                    e = a
                }
                ),t,e)
            }
            function kd(t, e) {
                if (t.G == Yc)
                    if (t.b) {
                        var i = t.b;
                        if (i.a) {
                            for (var a = 0, n = null, r = null, o = i.a; o && (o.g || (a++,
                            o.a == t && (n = o),
                            !(n && 1 < a))); o = o.next)
                                n || (r = o);
                            n && (i.G == Yc && 1 == a ? kd(i, e) : (r ? ((a = r).next == i.c && (i.c = a),
                            a.next = a.next.next) : ld(i),
                            md(i, n, bd, e)))
                        }
                        t.b = null
                    } else
                        $c(t, bd, e)
            }
            function nd(t, e) {
                t.a || t.G != ad && t.G != bd || od(t),
                t.c ? t.c.next = e : t.a = e,
                t.c = e
            }
            function id(t, e, i, a) {
                var n = ed(null, null, null);
                return n.a = new Xc(function(t, r) {
                    n.f = e ? function(i) {
                        try {
                            var n = e.call(a, i);
                            t(n)
                        } catch (o) {
                            r(o)
                        }
                    }
                    : t,
                    n.b = i ? function(e) {
                        try {
                            var n = i.call(a, e);
                            !ga(n) && e instanceof jd ? r(e) : t(n)
                        } catch (o) {
                            r(o)
                        }
                    }
                    : r
                }
                ),
                n.a.b = t,
                nd(t, n),
                n.a
            }
            function $c(t, e, i) {
                if (t.G == Yc) {
                    if (t == i)
                        e = bd,
                        i = new TypeError("Promise cannot resolve to itself");
                    else {
                        var a;
                        if (i)
                            try {
                                a = !!i.$goog_Thenable
                            } catch (r) {
                                a = !1
                            }
                        else
                            a = !1;
                        if (a)
                            return t.G = 1,
                            e = i,
                            i = t.l,
                            a = t.j,
                            void (e instanceof Xc ? nd(e, ed(i || ka, a || null, t)) : e.then(i, a, t));
                        if (ta(i))
                            try {
                                var n = i.then;
                                if (sa(n))
                                    return void pd(t, i, n)
                            } catch (o) {
                                e = bd,
                                i = o
                            }
                    }
                    t.i = i,
                    t.G = e,
                    t.b = null,
                    od(t),
                    e != bd || i instanceof jd || qd(t, i)
                }
            }
            function pd(t, e, i) {
                function a(e) {
                    n || (n = !0,
                    t.j(e))
                }
                t.G = 1;
                var n = !1;
                try {
                    i.call(e, function(e) {
                        n || (n = !0,
                        t.l(e))
                    }, a)
                } catch (r) {
                    a(r)
                }
            }
            function od(t) {
                t.g || (t.g = !0,
                Rc(t.o, t))
            }
            function ld(t) {
                var e = null;
                return t.a && (e = t.a,
                t.a = e.next,
                e.next = null),
                t.a || (t.c = null),
                e
            }
            function md(t, e, i, a) {
                if (i == bd && e.b && !e.g)
                    for (; t && t.f; t = t.b)
                        t.f = !1;
                if (e.a)
                    e.a.b = null,
                    rd(e, i, a);
                else
                    try {
                        e.g ? e.f.call(e.c) : rd(e, i, a)
                    } catch (n) {
                        sd.call(null, n)
                    }
                Fc(dd, e)
            }
            function rd(t, e, i) {
                e == ad ? t.f.call(t.c, i) : t.b && t.b.call(t.c, i)
            }
            function qd(t, e) {
                t.f = !0,
                Rc(function() {
                    t.f && sd.call(null, e)
                })
            }
            Xc.prototype.then = function(t, e, i) {
                return id(this, sa(t) ? t : null, sa(e) ? e : null, i)
            }
            ,
            Xc.prototype.then = Xc.prototype.then,
            Xc.prototype.$goog_Thenable = !0,
            Xc.prototype.cancel = function(t) {
                this.G == Yc && Rc(function() {
                    kd(this, new jd(t))
                }, this)
            }
            ,
            Xc.prototype.l = function(t) {
                this.G = Yc,
                $c(this, ad, t)
            }
            ,
            Xc.prototype.j = function(t) {
                this.G = Yc,
                $c(this, bd, t)
            }
            ,
            Xc.prototype.o = function() {
                for (var t = null; t = ld(this); )
                    md(this, t, this.G, this.i);
                this.g = !1
            }
            ;
            var sd = Oc;
            function jd(t) {
                Da.call(this, t)
            }
            function hd(t, e, i) {
                this.sf = t,
                this.resolve = e,
                this.reject = i
            }
            function td(t, e, i) {
                this.type = t,
                this.data = e,
                this.$d = gd(),
                this.resolve = z(this.resolve, this),
                this.reject = z(this.reject, this),
                this.c = ud,
                i !== A && (this.c = i),
                this.Fe().add(this)
            }
            v(jd, Da),
            jd.prototype.name = "cancel";
            var ud = 1
              , vd = {
                Ni: 0,
                NORMAL: ud,
                Mi: 2
            };
            function wd(t) {
                for (var e in this.kc = {},
                vd)
                    this.kc[vd[e]] = [];
                this.ae = t,
                this.ae.addEventListener("allocatable", z(this.eg, this))
            }
            td.prototype.then = function(t, e, i) {
                return this.$d.sf.then(t, e, i)
            }
            ,
            Ca(td.prototype, {
                resolve: function(t) {
                    this.state = 3,
                    this.$d.resolve(t)
                },
                reject: function(t) {
                    this.state = 5,
                    this.$d.reject(t)
                },
                state: 0,
                cancel: function() {
                    this.$d.sf.cancel(),
                    3 > this.state && (this.Sc(),
                    this.Fe().remove(this),
                    this.state = 4)
                },
                Sc: ma,
                De: ma,
                Th: function(t) {
                    this.state = this.De(t) ? 1 : 5
                }
            }),
            r("H.util.JobManager", wd);
            var xd = Object.keys(vd).map(function(t) {
                return vd[t]
            }).sort().reverse();
            function ec(t, e, i) {
                var a = [];
                1 < arguments.length && a.push(e),
                2 < arguments.length && a.push("out of [" + i[0] + "..." + i[1] + "]"),
                this.message = (t ? Va(t) : "") + (a.length ? " (" + a.join(" ") + ")" : ""),
                this.stack = Error().stack
            }
            Ca(wd.prototype, {
                add: function(t) {
                    B(t, td, this.add, 0),
                    this.kc[t.c].push(t),
                    this.eg()
                },
                contains: function(t) {
                    return -1 < this.kc[t.c].indexOf(t)
                },
                remove: function(t) {
                    var e = t.c;
                    return -1 < (t = this.kc[e].indexOf(t)) && (this.kc[e].splice(t, 1),
                    !0)
                },
                eg: function() {
                    xd.forEach(function(t) {
                        this.kc[t] = this.kc[t].filter(function(t) {
                            var e, i;
                            if ((e = this.ae.se(t)) === x)
                                return !0;
                            i = z(this.ae.ye, this.ae, e, t),
                            t.then(i, i),
                            t.Th(e)
                        }, this)
                    }, this)
                }
            }),
            r("H.lang.OutOfRangeError", ec),
            ec.prototype = Error(),
            ec.prototype.name = "OutOfRangeError";
            var yd = "closure_listenable_" + (1e6 * Math.random() | 0);
            function zd(t) {
                return !(!t || !t[yd])
            }
            var Ad = 0;
            function Bd(t, e, i, a, n) {
                this.listener = t,
                this.a = null,
                this.src = e,
                this.type = i,
                this.ya = !!a,
                this.Dd = n,
                this.key = ++Ad,
                this.Hc = this.wd = !1
            }
            function Cd(t) {
                t.Hc = !0,
                t.listener = null,
                t.a = null,
                t.src = null,
                t.Dd = null
            }
            function Dd(t) {
                this.src = t,
                this.a = {},
                this.b = 0
            }
            function Fd(t, e) {
                var i = e.type;
                if (!(i in t.a))
                    return !1;
                var a, n = t.a[i], r = Ha(n, e);
                return (a = 0 <= r) && Ga.splice.call(n, r, 1),
                a && (Cd(e),
                0 == t.a[i].length && (delete t.a[i],
                t.b--)),
                a
            }
            function Ed(t, e, i, a) {
                for (var n = 0; n < t.length; ++n) {
                    var r = t[n];
                    if (!r.Hc && r.listener == e && r.ya == !!i && r.Dd == a)
                        return n
                }
                return -1
            }
            Dd.prototype.add = function(t, e, i, a, n) {
                var r = t.toString();
                (t = this.a[r]) || (t = this.a[r] = [],
                this.b++);
                var o = Ed(t, e, a, n);
                return -1 < o ? (e = t[o],
                i || (e.wd = !1)) : ((e = new Bd(e,this.src,r,!!a,n)).wd = i,
                t.push(e)),
                e
            }
            ,
            Dd.prototype.remove = function(t, e, i, a) {
                if (!((t = t.toString())in this.a))
                    return !1;
                var n = this.a[t];
                return -1 < (e = Ed(n, e, i, a)) && (Cd(n[e]),
                Ga.splice.call(n, e, 1),
                0 == n.length && (delete this.a[t],
                this.b--),
                !0)
            }
            ,
            Dd.prototype.Ea = function(t) {
                t = t && t.toString();
                var e, i = 0;
                for (e in this.a)
                    if (!t || e == t) {
                        for (var a = this.a[e], n = 0; n < a.length; n++)
                            ++i,
                            Cd(a[n]);
                        delete this.a[e],
                        this.b--
                    }
                return i
            }
            ;
            var Gd = -1 != Jc.indexOf("Opera") || -1 != Jc.indexOf("OPR")
              , Hd = Mc()
              , Id = -1 != Jc.indexOf("Gecko") && !(-1 != Jc.toLowerCase().indexOf("webkit") && !Nc()) && !(-1 != Jc.indexOf("Trident") || -1 != Jc.indexOf("MSIE")) && !Nc()
              , Jd = -1 != Jc.toLowerCase().indexOf("webkit") && !Nc();
            function Kd() {
                var t = Jc;
                return Id ? /rv\:([^\);]+)(\)|;)/.exec(t) : Hd && Nc() ? /Edge\/([\d\.]+)/.exec(t) : Hd ? /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t) : Jd ? /WebKit\/(\S+)/.exec(t) : void 0
            }
            function Ld() {
                var t = fa.document;
                return t ? t.documentMode : void 0
            }
            var Md = function() {
                if (Gd && fa.opera)
                    return sa(t = fa.opera.version) ? t() : t;
                var t = ""
                  , e = Kd();
                return e && (t = e ? e[1] : ""),
                Hd && !Nc() && (e = Ld()) > parseFloat(t) ? String(e) : t
            }()
              , Nd = {};
            function Od(t) {
                var e;
                if (!(e = Nd[t])) {
                    e = 0;
                    for (var i = Ea(String(Md)).split("."), a = Ea(String(t)).split("."), n = Math.max(i.length, a.length), r = 0; 0 == e && r < n; r++) {
                        var o = i[r] || ""
                          , s = a[r] || ""
                          , l = /(\d*)(\D*)/g
                          , c = /(\d*)(\D*)/g;
                        do {
                            var h = l.exec(o) || ["", "", ""]
                              , p = c.exec(s) || ["", "", ""];
                            if (0 == h[0].length && 0 == p[0].length)
                                break;
                            e = Fa(0 == h[1].length ? 0 : parseInt(h[1], 10), 0 == p[1].length ? 0 : parseInt(p[1], 10)) || Fa(0 == h[2].length, 0 == p[2].length) || Fa(h[2], p[2])
                        } while (0 == e)
                    }
                    e = Nd[t] = 0 <= e
                }
                return e
            }
            var Pd = fa.document, Qd = Ld(), Rd = !Pd || !Hd || !Qd && Nc() ? void 0 : Qd || ("CSS1Compat" == Pd.compatMode ? parseInt(Md, 10) : 5), Td;
            (Td = !Hd) || (Td = Hd && (Nc() || 9 <= Rd));
            var Ud = Td
              , Vd = Hd && !Od("9");
            function Wd(t) {
                return Wd[" "](t),
                t
            }
            function Xd(t, e) {
                if (Bc.call(this, t ? t.type : ""),
                this.currentTarget = this.target = null,
                this.keyCode = 0,
                this.b = this.state = null,
                t) {
                    this.type = t.type,
                    this.target = t.target || t.srcElement,
                    this.currentTarget = e;
                    var i = t.relatedTarget;
                    if (i && Id)
                        try {
                            Wd(i.nodeName)
                        } catch (a) {}
                    this.keyCode = t.keyCode || 0,
                    this.state = t.state,
                    this.b = t,
                    t.defaultPrevented && this.preventDefault()
                }
            }
            !Jd || Od("528"),
            Id && Od("1.9b") || Hd && Od("8") || Gd && Od("9.5") || Jd && Od("528"),
            Id && !Od("8") || Hd && Od("9"),
            Wd[" "] = ka,
            v(Xd, Bc),
            Xd.prototype.stopPropagation = function() {
                Xd.u.stopPropagation.call(this),
                this.b.stopPropagation ? this.b.stopPropagation() : this.b.cancelBubble = !0
            }
            ,
            Xd.prototype.preventDefault = function() {
                Xd.u.preventDefault.call(this);
                var t = this.b;
                if (t.preventDefault)
                    t.preventDefault();
                else if (t.returnValue = !1,
                Vd)
                    try {
                        (t.ctrlKey || 112 <= t.keyCode && 123 >= t.keyCode) && (t.keyCode = -1)
                    } catch (e) {}
            }
            ;
            var Yd = "closure_lm_" + (1e6 * Math.random() | 0)
              , Zd = {}
              , $d = 0;
            function ae(t, e, i, a, n) {
                if (pa(e)) {
                    for (var r = 0; r < e.length; r++)
                        ae(t, e[r], i, a, n);
                    return null
                }
                return i = be(i),
                zd(t) ? t.Ob.add(String(e), i, !1, a, n) : ce(t, e, i, !1, a, n)
            }
            function ce(t, e, i, a, n, r) {
                if (!e)
                    throw Error("Invalid event type");
                var o = !!n
                  , s = de(t);
                return s || (t[Yd] = s = new Dd(t)),
                (i = s.add(e, i, a, n, r)).a ? i : (a = ee(),
                i.a = a,
                a.src = t,
                a.listener = i,
                t.addEventListener ? t.addEventListener(e.toString(), a, o) : t.attachEvent(fe(e.toString()), a),
                $d++,
                i)
            }
            function ee() {
                var t = ge
                  , e = Ud ? function(i) {
                    return t.call(e.src, e.listener, i)
                }
                : function(i) {
                    if (!(i = t.call(e.src, e.listener, i)))
                        return i
                }
                ;
                return e
            }
            function he(t, e, i, a, n) {
                if (pa(e)) {
                    for (var r = 0; r < e.length; r++)
                        he(t, e[r], i, a, n);
                    return null
                }
                return i = be(i),
                zd(t) ? t.Ob.add(String(e), i, !0, a, n) : ce(t, e, i, !0, a, n)
            }
            function ie(t, e, i, a, n) {
                if (pa(e)) {
                    for (var r = 0; r < e.length; r++)
                        ie(t, e[r], i, a, n);
                    return null
                }
                return i = be(i),
                zd(t) ? t.Ob.remove(String(e), i, a, n) : !!t && (!!((t = de(t)) && (e = t.a[e.toString()],
                t = -1,
                e && (t = Ed(e, i, !!a, n)),
                i = -1 < t ? e[t] : null)) && je(i))
            }
            function je(t) {
                if ("number" == typeof t || !t || t.Hc)
                    return !1;
                var e = t.src;
                if (zd(e))
                    return Fd(e.Ob, t);
                var i = t.type
                  , a = t.a;
                return e.removeEventListener ? e.removeEventListener(i, a, t.ya) : e.detachEvent && e.detachEvent(fe(i), a),
                $d--,
                (i = de(e)) ? (Fd(i, t),
                0 == i.b && (i.src = null,
                e[Yd] = null)) : Cd(t),
                !0
            }
            function fe(t) {
                return t in Zd ? Zd[t] : Zd[t] = "on" + t
            }
            function ke(t, e, i, a) {
                var n = !0;
                if ((t = de(t)) && (e = t.a[e.toString()]))
                    for (e = e.concat(),
                    t = 0; t < e.length; t++) {
                        var r = e[t];
                        r && r.ya == i && !r.Hc && (r = le(r, a),
                        n = n && !1 !== r)
                    }
                return n
            }
            function le(t, e) {
                var i = t.listener
                  , a = t.Dd || t.src;
                return t.wd && je(t),
                i.call(a, e)
            }
            function ge(t, e) {
                if (t.Hc)
                    return !0;
                if (!Ud) {
                    var i = e || ja("window.event")
                      , a = new Xd(i,this)
                      , n = !0;
                    if (!(0 > i.keyCode || void 0 != i.returnValue)) {
                        t: {
                            var r = !1;
                            if (0 == i.keyCode)
                                try {
                                    i.keyCode = -1;
                                    break t
                                } catch (l) {
                                    r = !0
                                }
                            (r || void 0 == i.returnValue) && (i.returnValue = !0)
                        }
                        for (i = [],
                        r = a.currentTarget; r; r = r.parentNode)
                            i.push(r);
                        r = t.type;
                        for (var o = i.length - 1; !a.a && 0 <= o; o--) {
                            a.currentTarget = i[o];
                            var s = ke(i[o], r, !0, a);
                            n = n && s
                        }
                        for (o = 0; !a.a && o < i.length; o++)
                            a.currentTarget = i[o],
                            s = ke(i[o], r, !1, a),
                            n = n && s
                    }
                    return n
                }
                return le(t, new Xd(e,this))
            }
            function de(t) {
                return (t = t[Yd])instanceof Dd ? t : null
            }
            var me = "__closure_events_fn_" + (1e9 * Math.random() >>> 0);
            function be(t) {
                return sa(t) ? t : (t[me] || (t[me] = function(e) {
                    return t.handleEvent(e)
                }
                ),
                t[me])
            }
            function I() {
                xc.call(this),
                this.Ob = new Dd(this),
                this.ph = this,
                this.Me = null
            }
            function ne(t) {
                var e = (t = t || {}).callback;
                this.a = t.label,
                sa(e) && (this.callback = e),
                this.g = !!t.disabled,
                ne.u.constructor.call(this)
            }
            v(I, xc),
            I.prototype[yd] = !0,
            p = I.prototype,
            p.jb = function() {
                return this.Me
            }
            ,
            p.ia = function(t) {
                this.Me = t
            }
            ,
            p.addEventListener = function(t, e, i, a) {
                ae(this, t, e, i, a)
            }
            ,
            p.removeEventListener = function(t, e, i, a) {
                ie(this, t, e, i, a)
            }
            ,
            p.dispatchEvent = function(t) {
                var e;
                if (i = this.jb())
                    for (e = []; i; i = i.jb())
                        e.push(i);
                var i = this.ph
                  , a = t.type || t;
                if (ra(t))
                    t = new Bc(t,i);
                else if (t instanceof Bc)
                    t.target = t.target || i;
                else {
                    var n = t;
                    Ca(t = new Bc(a,i), n)
                }
                var r;
                n = !0;
                if (e)
                    for (var o = e.length - 1; !t.a && 0 <= o; o--)
                        n = (r = t.currentTarget = e[o]).dc(a, !0, t) && n;
                if (t.a || (n = (r = t.currentTarget = i).dc(a, !0, t) && n,
                t.a || (n = r.dc(a, !1, t) && n)),
                e)
                    for (o = 0; !t.a && o < e.length; o++)
                        n = (r = t.currentTarget = e[o]).dc(a, !1, t) && n;
                return n
            }
            ,
            p.D = function() {
                I.u.D.call(this),
                this.Ob && this.Ob.Ea(void 0),
                this.Me = null
            }
            ,
            p.dc = function(t, e, i) {
                if (!(t = this.Ob.a[String(t)]))
                    return !0;
                t = t.concat();
                for (var a = !0, n = 0; n < t.length; ++n) {
                    var r = t[n];
                    if (r && !r.Hc && r.ya == e) {
                        var o = r.listener
                          , s = r.Dd || r.src;
                        r.wd && Fd(this.Ob, r),
                        a = !1 !== o.call(s, i) && a
                    }
                }
                return a && 0 != i.ah
            }
            ,
            r("H.util.EventTarget", I),
            I.prototype.ia = I.prototype.ia,
            I.prototype.setParentEventTarget = I.prototype.ia,
            I.prototype.jb = I.prototype.jb,
            I.prototype.getParentEventTarget = I.prototype.jb,
            I.prototype.addEventListener = I.prototype.addEventListener,
            I.prototype.addEventListener = I.prototype.addEventListener,
            I.prototype.removeEventListener = I.prototype.removeEventListener,
            I.prototype.removeEventListener = I.prototype.removeEventListener,
            I.prototype.dispatchEvent = I.prototype.dispatchEvent,
            I.prototype.dispatchEvent = I.prototype.dispatchEvent,
            I.prototype.J = I.prototype.J,
            I.prototype.dispose = I.prototype.J,
            I.prototype.Eb = I.prototype.Eb,
            I.prototype.addOnDisposeCallback = I.prototype.Eb,
            I.prototype.th = I.prototype.dc,
            I.prototype.dc = function(t, e, i) {
                var a, n, r, o = !0;
                return a = i[i.currentTarget === i.target ? "AT_TARGET" : e ? "CAPTURING_PHASE" : (n = !0,
                "BUBBLING_PHASE")],
                (!n || "pointerenter" !== (r = i.type) && "pointerleave" !== r) && (i.eventPhase = a,
                o = I.prototype.th.apply(this, arguments),
                n && this.jb && null === this.jb() && delete i.eventPhase),
                o
            }
            ,
            v(ne, I),
            r("H.util.ContextItem", ne),
            ne.prototype.b = function() {
                return this.a
            }
            ,
            ne.prototype.getLabel = ne.prototype.b,
            ne.prototype.Sa = function(t) {
                return this.a !== t && (this.a = t,
                this.dispatchEvent("update")),
                this
            }
            ,
            ne.prototype.setLabel = ne.prototype.Sa,
            ne.prototype.c = function() {
                return this.g
            }
            ,
            ne.prototype.isDisabled = ne.prototype.c,
            ne.prototype.qa = function(t) {
                return t ^ this.g && (this.g = t,
                this.dispatchEvent("update")),
                this
            }
            ,
            ne.prototype.setDisabled = ne.prototype.qa;
            var oe = new ne;
            function pe() {
                if (w.document) {
                    var t = document.createElement("canvas");
                    return t.width = t.height = 1,
                    t.getContext("2d")
                }
                return null
            }
            ne.SEPARATOR = oe;
            var qe = /^rgba\(([^,]+),([^,]+),([^,]+),([^)]+)\)$/;
            function re(t) {
                var e = se[t]
                  , i = w.RegExp;
                return e || (w.Uint8ClampedArray || (w.Uint8ClampedArray = function(t) {
                    return t instanceof Number ? Array(t) : t.map(function(t) {
                        return Qb(nb(t), 0, 255)
                    })
                }
                ),
                "none" === t ? e = new Uint8ClampedArray([0, 0, 0, 0]) : (te.fillStyle = "black",
                te.fillStyle = t,
                qe.test(te.fillStyle) ? e = new Uint8ClampedArray([i.$1, i.$2, i.$3, 255 * i.$4]) : (te.clearRect(0, 0, 1, 1),
                te.fillRect(0, 0, 1, 1),
                e = te.getImageData(0, 0, 1, 1).data)),
                se[t] = e),
                e
            }
            function ue(t) {
                return "none" !== t && 0 < re(t)[3]
            }
            var se = Ka()
              , ve = !!w.VBArray;
            function we(t, e) {
                return t !== A ? t : e
            }
            function xe(t) {
                return /^<svg/.test(t) ? "data:image/svg+xml;charset=utf-8," + encodeURIComponent(t) : t
            }
            function ye() {
                this.xb = 0
            }
            r("H.util.eval", function(a) {
                return eval(a)
            }),
            r("H.util.provide", function(t) {
                ha(t, void 0)
            }),
            ye.prototype.next = function(t) {
                if (4294967295 === this.xb)
                    throw new ec(t,this.xb,[0, 4294967295]);
                return this.xb++
            }
            ;
            var ze = new ye
              , Ae = z(ze.next, ze);
            function Be() {
                return !0
            }
            function Ce() {
                return !1
            }
            function sc() {}
            var De = Na([]);
            function Ee(t) {
                return "CANVAS" === t.tagName ? [t] : t.getElementsByTagName("CANVAS")
            }
            function Fe(t, e, i) {
                var a;
                if (e = t.ownerDocument === e ? t.cloneNode(!0) : e.importNode(t, !0),
                i)
                    for (t = Ee(t),
                    a = (i = Ee(e)).length; a--; )
                        i[a].getContext("2d").drawImage(t[a], 0, 0);
                return e
            }
            function Ge(t) {
                t.parentNode.removeChild(t)
            }
            var te = pe()
              , He = pe();
            function Ie(t) {
                var e = t.complete
                  , i = 0 < t.naturalWidth;
                if (e && !i && ve)
                    try {
                        He.drawImage(t, 0, 0),
                        i = !0
                    } catch (a) {}
                return e && i
            }
            var Je = w.BlobBuilder || w.WebKitBlobBuilder || w.MozBlobBuilder;
            function Ke(t, e) {
                var i, a = e || "";
                return Je ? ((i = new Je).append(t),
                a = i.getBlob(a)) : a = new Blob([t],{
                    type: a
                }),
                a
            }
            function Le() {}
            r("H.map.provider.Invalidations", Le),
            Le.MARK_INITIAL = Mb,
            Le.prototype.c = function(t, e) {
                e !== Me.NONE && (this.a = t,
                e & Me.SPATIAL && (this.m = t),
                e & Me.VISUAL && (this.v = t),
                e & Me.ADD && (this.l = t),
                e & Me.REMOVE && (this.o = t),
                e & Me.Z_ORDER && (this.s = t))
            }
            ,
            Le.prototype.update = Le.prototype.c,
            Le.prototype.B = function() {
                return this.a
            }
            ,
            Le.prototype.getMark = Le.prototype.B,
            Le.prototype.a = Mb,
            Le.prototype.A = function(t) {
                return this.a > t
            }
            ,
            Le.prototype.isAny = Le.prototype.A,
            Le.prototype.v = Mb,
            Le.prototype.b = function(t) {
                return this.v > t
            }
            ,
            Le.prototype.isVisual = Le.prototype.b,
            Le.prototype.m = Mb,
            Le.prototype.g = function(t) {
                return this.m > t
            }
            ,
            Le.prototype.isSpatial = Le.prototype.g,
            Le.prototype.l = Mb,
            Le.prototype.j = function(t) {
                return this.l > t
            }
            ,
            Le.prototype.isAdd = Le.prototype.j,
            Le.prototype.o = Mb,
            Le.prototype.f = function(t) {
                return this.o > t
            }
            ,
            Le.prototype.isRemove = Le.prototype.f,
            Le.prototype.s = Mb,
            Le.prototype.i = function(t) {
                return this.s > t
            }
            ,
            Le.prototype.isZOrder = Le.prototype.i;
            var Me = {
                NONE: 0,
                VISUAL: 1,
                SPATIAL: 2,
                ADD: 4,
                REMOVE: 8,
                Z_ORDER: 16
            };
            function Ne(t, e, i) {
                Ne.u.constructor.call(this, t),
                this.oldValue = i,
                this.newValue = e
            }
            function K(t) {
                var e;
                Ua(this, K),
                K.u.constructor.call(this),
                this.zb = Oe.next(),
                t && (ab(t[e = "min"]) && (this.Ga = t[e]),
                ab(t[e = "max"]) && (this.ea = t[e]),
                (e = "visibility")in t && (this.T = !!t[e]),
                (e = "zIndex")in t && (this.I = +t[e] || 0),
                (e = "provider")in t && (this.l = t[e],
                this.ua(Me.ADD)),
                (e = "data")in t && this.g(t[e]))
            }
            Le.Flag = Me,
            v(Ne, Bc),
            r("H.util.ChangeEvent", Ne),
            v(K, I),
            r("H.map.Object", K);
            var Oe = new ye
              , Pe = {
                ANY: 0,
                OVERLAY: 1,
                SPATIAL: 2,
                MARKER: 3,
                DOM_MARKER: 4,
                GROUP: 5
            };
            function Qe(t) {
                var e, i, a, n = t.U;
                return n || (e = (i = t.I) !== A,
                (n = t.Da) ? (n = Qe(n).slice())[0] |= e : n = [0 | e],
                n.push(i || 0, (a = t.fh) !== A ? a : t.zb),
                t.U = n),
                n
            }
            function Re(t, e, i) {
                if (!i || t[0] | e[0])
                    for (var a, n = t.length, r = e.length, o = lb(n, r), s = 1, l = 1 + i; s < o; s += l)
                        if (a = t[s] - e[s])
                            return a;
                return i ? 0 : n - r
            }
            function Se(t, e) {
                return t.Xa(e)
            }
            function G(t, e, i, a) {
                Te(this, Wb(t, G, 0), Xb(e, G, 1), Wb(i, G, 2), Xb(a, G, 3))
            }
            function Te(t, e, i, a, n) {
                return t.ga = i,
                t.ha = n,
                e < a && (i = e,
                e = a,
                a = i),
                t.ka = e,
                t.ja = a,
                t.i = t.f = t.o = null,
                t
            }
            function Ve(t, e) {
                var i = e - t;
                return i + (0 > i ? 360 : 0)
            }
            function Ue(t, e) {
                var i = t + e / 2;
                return i - (180 < i ? 360 : 0)
            }
            function We(t, e, i, a, n, r, o, s, l) {
                var c, h, p;
                return i = lb(i, o),
                t = mb(t, n),
                c = Ue(e, n = Ve(e, a)),
                p = Ue(r, o = Ve(r, s)) - c,
                180 > (p += 0 > p - 1e-6 ? 360 : 0) - 1e-6 ? (c = e,
                h = s) : (p = 360 - p,
                c = r,
                h = a),
                360 <= (p = p + n / 2 + o / 2) + 5e-7 ? (c = -180,
                h = 180) : p - 5e-7 < n ? (c = e,
                h = a) : p - 5e-7 < o && (c = r,
                h = s),
                l ? Te(l, t, c, i, h) : new G(t,c,i,h)
            }
            function Xe(t, e, i) {
                return i || (hc(t, Xe, 0),
                hc(e, Xe, 1)),
                new G(t.lat,t.lng,e.lat,e.lng)
            }
            function fc(t, e) {
                if (!qa(t))
                    throw new C(fc,0,t);
                var i, a = 1, n = t.length, r = null;
                if (0 < n)
                    for (r = Xe(i = t[0], i, e); a < n; a++)
                        i = t[a],
                        r.b(i.lat, i.lng, e, r);
                return r
            }
            function Ye(t, e) {
                if (!(e || t && null != t.length))
                    throw new C(Ye,0,t);
                var i, a = 3, n = t.length;
                if (0 < n)
                    for (i = new G(t[0],t[1],t[0],t[1]); a < n; a += 3)
                        i.b(t[a], t[a + 1], e, i);
                return i
            }
            function Ze(t, e) {
                if (e && (!t || null == t.length))
                    throw new C(Ze,0,t);
                var i, a = 1, n = t.length;
                if (0 < n)
                    for (i = new G(t[0].ka,t[0].ga,t[0].ja,t[0].ha); a < n; a++)
                        i.wb(t[a], e, i);
                return i
            }
            function $e(t, e, i, a, n) {
                this.j = t || 10,
                this.a = this.b = this.l = null,
                this.c = a || 0,
                this.f = n || 0,
                this.g = e || 1,
                this.i = i || 1,
                this.a = this.l = new af(null,0,this.c - this.g,this.f - this.i,this.c + this.g,this.f + this.i),
                this.b = null
            }
            function bf(t, e) {
                for (var i, a, n, r, o, s, l, c, h, p, d = 0, u = 4; u--; ) {
                    for (p = u + 4,
                    o = [],
                    i = +!(u % 3),
                    s = e[u],
                    c = (a = t[u]).length; c--; ) {
                        if (r = (n = a[c]).Y)
                            for (h = r.length; h--; )
                                ((l = r[h][u]) > s) - i && (s = l);
                        for (h = 4; h--; )
                            (r = n[h]) && (i ? r[p] < s && o.push(r) : r[p] > s && o.push(r))
                    }
                    d += o.length,
                    e[u] = s,
                    t[u] = o
                }
                return d && (e = bf(t, e)),
                e
            }
            function df(t, e, i) {
                var a, n;
                if (a = t.b)
                    for (n = 4; n--; )
                        if (n % 3 ? e[n] >= a[n] : e[n] <= a[n]) {
                            if (!i) {
                                t.b = null;
                                break
                            }
                            a[n] = e[n]
                        }
            }
            function ef(t, e, i, a, n, r, o) {
                var s = e[8]
                  , l = e[9];
                o && (n < s || n < e[5] && i >= s) && (r < l || r < e[6] && a >= l) ? i = ef(t, e = e[s = (a >= l ? 2 : 0) | i >= s] || (e[s] = new af(e,s)), i, a, n, r, o - 1) : (i = new ff(e,i,a,n,r),
                (e.Y || (e.Y = [])).push(i),
                df(t, i, !0),
                cf(t, e));
                return i
            }
            function cf(t, e) {
                var i, a = t.a;
                if (e) {
                    if ((i = e) !== a)
                        for (a = i; i = i.a; )
                            (i.Y || 3 > !i[0] + !i[1] + !i[2] + !i[3]) && (a = i)
                } else
                    for (; !a.Y && 2 < !a[0] + !a[1] + !a[2] + !a[3] && (i = a[0] || a[1] || a[2] || a[3]); )
                        a = i;
                t.a = a
            }
            function gf(t, e, i, a, n, r, o) {
                var s, l, c = e.Y;
                l = e[7];
                var h, p = e[8], d = e[5], u = e[4], m = e[9], f = e[6];
                if (c)
                    if (s = c.length,
                    a > l || r < d || n > u || o < f)
                        for (; s--; )
                            d = (l = c[s])[3],
                            u = l[0],
                            f = l[1],
                            h = l[2],
                            d > r || f < a || u > o || h < n || i.push(l);
                    else
                        for (; s--; )
                            i.push(c[s]);
                r >= p && (n <= m && e[1] && gf(t, e[1], i, a, n, r, o),
                o >= m && e[3] && gf(t, e[3], i, a, n, r, o)),
                a <= p && (n <= m && e[0] && gf(t, e[0], i, a, n, r, o),
                o >= m && e[2] && gf(t, e[2], i, a, n, r, o))
            }
            function af(t, e, i, a, n, r) {
                t ? (this.a = t,
                this.b = e,
                1 & e ? (i = t[8],
                n = t[5]) : (i = t[7],
                n = t[8]),
                2 & e ? (a = t[9],
                r = t[6]) : (a = t[4],
                r = t[9])) : this.b = this.a = null,
                this[7] = i,
                this[5] = n,
                this[8] = (i + n) / 2,
                this[4] = a,
                this[6] = r,
                this[9] = (a + r) / 2
            }
            function ff(t, e, i, a, n) {
                this.id = ++hf,
                this.a = t,
                this[0] = i,
                this[1] = a,
                this[2] = n,
                this[3] = e
            }
            K.Type = Pe,
            K.prototype.yb = {
                Hh: "visibilitychange",
                Ih: "zindexchange"
            },
            K.prototype.ta = function() {
                return this.zb
            }
            ,
            K.prototype.getId = K.prototype.ta,
            K.prototype.Ga = -1 / 0,
            K.prototype.ea = 1 / 0,
            K.prototype.Ld = function() {
                return this.ea
            }
            ,
            K.prototype.getMax = K.prototype.Ld,
            K.prototype.Xd = function() {
                return this.Ga
            }
            ,
            K.prototype.getMin = K.prototype.Xd,
            K.prototype.T = !0,
            K.prototype.setVisibility = function(t) {
                var e = this.T;
                return (t = !!t) ^ e && (this.T = t,
                this.invalidate(Me.VISUAL),
                this.dispatchEvent(new Ne(this.yb.Hh,t,e))),
                this
            }
            ,
            K.prototype.setVisibility = K.prototype.setVisibility,
            K.prototype.getVisibility = function(t) {
                for (var e, i = this; (e = i.T) && t && (i = i.Da); )
                    ;
                return e
            }
            ,
            K.prototype.getVisibility = K.prototype.getVisibility,
            K.prototype.I = A,
            K.prototype.he = function() {
                return this.I
            }
            ,
            K.prototype.getZIndex = K.prototype.he,
            K.prototype.Ha = function(t) {
                var e = this.I;
                return t !== e && (this.K(),
                this.I = t,
                this.invalidate(Me.Z_ORDER),
                this.dispatchEvent(new Ne(this.yb.Ih,t,e))),
                this
            }
            ,
            K.prototype.setZIndex = K.prototype.Ha,
            K.prototype.U = A,
            K.prototype.K = function() {
                this.U = A
            }
            ,
            K.compareZOrder = Se,
            K.prototype.Xa = function(t) {
                return this.je - t.je || Re(Qe(this), Qe(t), !1)
            }
            ,
            K.prototype.compareZOrder = K.prototype.Xa,
            p = K.prototype,
            p.previousSibling = x,
            p.nextSibling = x,
            p.fh = A,
            p.Da = x,
            p.Zh = function() {
                return this.Da
            }
            ,
            K.prototype.getParentGroup = K.prototype.Zh,
            K.prototype.ee = function() {
                for (var t, e = this; t = e.Da; )
                    e = t;
                return e
            }
            ,
            K.prototype.getRootGroup = K.prototype.ee,
            K.prototype.contains = function(t) {
                return this === t
            }
            ,
            K.prototype.contains = K.prototype.contains,
            K.prototype.ia = function(t) {
                if (this.Da)
                    throw new kc(this.ia,"Not allowed for a child of a group");
                K.u.ia.call(this, t)
            }
            ,
            K.prototype.setParentEventTarget = K.prototype.ia,
            K.prototype.l = x,
            K.prototype.Pa = function() {
                return this.l
            }
            ,
            K.prototype.getProvider = K.prototype.Pa,
            K.prototype.F = function(t, e) {
                var i, a, n = this.l;
                if (i = n !== t) {
                    if (e && (n && !B(n, L) || t && !B(t, L)))
                        throw new kc(e,"Only LocalObjectProvider allows an object transfers");
                    a = this.type !== Pe.GROUP,
                    n && (this.invalidate(Me.REMOVE),
                    a && n.a(this)),
                    (this.l = t) && (a && t.V(this),
                    this.Fb = x,
                    this.invalidate(Me.ADD))
                }
                return i
            }
            ,
            K.prototype.j = function() {
                return this.Fb || (this.Fb = new Le)
            }
            ,
            K.prototype.getInvalidations = K.prototype.j,
            K.prototype.ua = function(t) {
                var e, i = this.Pa();
                return (e = !!i) && i.invalidateObject(this, t),
                e
            }
            ,
            K.prototype.invalidate = K.prototype.ua,
            K.prototype.D = function() {
                this.Da && this.Da.a(this),
                K.u.D.call(this)
            }
            ,
            K.prototype.getData = function() {
                return this.P
            }
            ,
            K.prototype.getData = K.prototype.getData,
            K.prototype.g = function(t) {
                return this.P = t,
                this
            }
            ,
            K.prototype.setData = K.prototype.g,
            v(G, bc),
            r("H.geo.Rect", G),
            G.prototype.qd = "POLYGON",
            G.prototype.Lb = function(t) {
                var e = this.ka
                  , i = this.ga
                  , a = this.ja
                  , n = this.ha;
                return t.push("(", i, " ", e, ",", n, " ", e, ",", n, " ", a, ",", i, " ", a, ",", i, " ", e, ")"),
                t
            }
            ,
            G.prototype.pa = function(t) {
                return this === t || !!t && this.ka === t.ka && this.ga === t.ga && this.ja === t.ja && this.ha === t.ha
            }
            ,
            G.prototype.equals = G.prototype.pa,
            G.prototype.clone = function() {
                return new G(this.ka,this.ga,this.ja,this.ha)
            }
            ,
            G.prototype.clone = G.prototype.clone,
            G.prototype.tb = function() {
                return this.i || (this.i = new gc(this.ka,this.ga)),
                this.i
            }
            ,
            G.prototype.getTopLeft = G.prototype.tb,
            G.prototype.rb = function() {
                return this.f || (this.f = new gc(this.ja,this.ha)),
                this.f
            }
            ,
            G.prototype.getBottomRight = G.prototype.rb,
            G.prototype.F = function() {
                return this.ka
            }
            ,
            G.prototype.getTop = G.prototype.F,
            G.prototype.s = function() {
                return this.ja
            }
            ,
            G.prototype.getBottom = G.prototype.s,
            G.prototype.B = function() {
                return this.ga
            }
            ,
            G.prototype.getLeft = G.prototype.B,
            G.prototype.A = function() {
                return this.ha
            }
            ,
            G.prototype.getRight = G.prototype.A,
            G.prototype.Oa = function() {
                return this.o || (this.o = new gc(this.ja + (this.ka - this.ja) / 2,Ue(this.ga, this.ab()))),
                this.o
            }
            ,
            G.prototype.getCenter = G.prototype.Oa,
            G.prototype.ab = function() {
                return Ve(this.ga, this.ha)
            }
            ,
            G.prototype.getWidth = G.prototype.ab,
            G.prototype.c = function() {
                return this.ka - this.ja
            }
            ,
            G.prototype.getHeight = G.prototype.c,
            G.prototype.g = function() {
                return this.ga > this.ha
            }
            ,
            G.prototype.isCDB = G.prototype.g,
            G.prototype.ed = function() {
                return !this.ab() && !this.c()
            }
            ,
            G.prototype.isEmpty = G.prototype.ed,
            G.prototype.S = function() {
                return new G(this.ka,this.ga,this.ja,this.ha)
            }
            ,
            G.prototype.l = function(t, e, i) {
                var a = this.Oa();
                return i || (t = Wb(t, this.l, 0),
                e = Xb(e, this.l, 1)),
                (t = (e = this.b(t, e, i)).Oa()).lat === a.lat && t.lng === a.lng && this.c() === e.c() && this.ab() === e.ab()
            }
            ,
            G.prototype.containsLatLng = G.prototype.l,
            G.prototype.Vc = function(t, e) {
                return e || hc(t, this.Vc, 0),
                this.l(t.lat, t.lng, e)
            }
            ,
            G.prototype.containsPoint = G.prototype.Vc,
            G.prototype.j = function(t, e) {
                var i, a, n = this.Oa();
                if (!e && !B(t, G))
                    throw new C(this.j,0,t);
                return (i = (a = this.wb(t, e)).Oa()).lat === n.lat && i.lng === n.lng && this.c() === a.c() && this.ab() === a.ab()
            }
            ,
            G.prototype.containsRect = G.prototype.j,
            G.prototype.b = function(t, e, i, a) {
                if (!i) {
                    if (D(t = Wb(t)))
                        throw new C(this.b,0,t);
                    if (D(e = Xb(e)))
                        throw new C(this.b,1,e)
                }
                return We(this.ka, this.ga, this.ja, this.ha, t, e, t, e, a)
            }
            ,
            G.prototype.mergeLatLng = G.prototype.b,
            G.prototype.m = function(t, e, i) {
                return e || hc(t, this.m, 0),
                this.b(t.lat, t.lng, e, i)
            }
            ,
            G.prototype.mergePoint = G.prototype.m,
            G.prototype.wb = function(t, e, i) {
                if (!e && !B(t, G))
                    throw new C(this.wb,0,t);
                return We(this.ka, this.ga, this.ja, this.ha, t.ka, t.ga, t.ja, t.ha, i)
            }
            ,
            G.prototype.mergeRect = G.prototype.wb,
            G.prototype.a = function(t, e, i, a, n, r) {
                return n || (t = Wb(t, this.a, 0),
                e = Xb(e, this.a, 1),
                i = Wb(i, this.a, 2),
                a = Xb(a, this.a, 3)),
                We(this.ka, this.ga, this.ja, this.ha, t, e, i, a, r)
            }
            ,
            G.prototype.mergeTopLeftBottomRight = G.prototype.a,
            G.prototype.xc = function(t, e) {
                if (!e && !B(t, G))
                    throw new C(this.xc,0,t);
                var i = this.ga <= this.ha
                  , a = t.ga <= t.ha
                  , n = this.ga < t.ha
                  , r = t.ga < this.ha;
                return this.ja <= t.ka && t.ja <= this.ka && (!i && (!a || n || r) || !a && (n || r) || n && r)
            }
            ,
            G.prototype.intersects = G.prototype.xc,
            G.merge = We,
            G.fromPoints = Xe,
            G.coverPoints = fc,
            G.coverLatLngAlts = Ye,
            G.coverRects = Ze,
            G.prototype.v = function(t, e) {
                hc(t, this.v, 0);
                var i, a = this.ga, n = this.ka, r = this.ha, o = this.ja, s = this.Oa().lng, l = t.lat - o - (n - o) / 2;
                a = -180 > (a = a + (0 > (i = 180 < (i = t.lng - s) || -180 > i ? -(s + t.lng) : i) ? 2 * i : 0)) ? 360 + a : a,
                r = 180 < (r = r + (0 < i ? 2 * i : 0)) ? r - 360 : r;
                return 90 <= (n = 0 < l ? n + 2 * l : n) && (n = 90),
                -90 >= (o = 0 > l ? o + 2 * l : o) && (o = -90),
                e ? Te(e, n, a, o, r) : new G(n,a,o,r)
            }
            ,
            G.prototype.resizeToCenter = G.prototype.v,
            $e.prototype.remove = function(t) {
                var e, i = t.a, a = i.Y;
                if (a && (-1 !== (e = a.indexOf(t)) && (a.splice(e, 1),
                !a.length))) {
                    delete i.Y;
                    for (var n = this.a; (a = i.a) && !(i.Y || i[0] || i[1] || i[2] || i[3]); )
                        i === n && (n = a),
                        delete i.a,
                        delete a[i.b],
                        i = a;
                    this.a = n,
                    cf(this)
                }
                return (e = 0 <= e) && df(this, t, !1),
                e
            }
            ,
            $e.prototype.bb = function(t, e, i, a) {
                var n = [];
                return gf(this, this.a, n, t, e, i, a),
                n
            }
            ;
            var hf = 0;
            function jf(t) {
                this.i = new $e(+t || 10,180,90,0,0),
                this.g = [],
                this.b = this.f = this.a = null
            }
            function kf(t, e, i, a, n, r) {
                return r ? (r = new ff(null,n,-e,i + 360,-a),
                t.g.push(r),
                t.b && t.b.a(e, i, a, n, !0, t.b)) : (r = ef(r = t.i, r.l, i, -e, n, -a, r.j),
                t.f && t.f.a(e, i, a, n, !0, t.f)),
                ++t.c,
                t.a = null,
                r
            }
            function lf(t, e, i, a, n) {
                var r, o, s, l = (t = t.g).length, c = [];
                if (l)
                    for (o = i + 360,
                    s = n + 360; l--; )
                        mf(r = t[l], e, i, a, n) ? c.push(r) : mf(r, e, o, a, s) && c.push(r);
                return c
            }
            function mf(t, e, i, a, n) {
                var r = t[0]
                  , o = t[1]
                  , s = t[2];
                return !(t[3] > n || o < i || r > a || s < e)
            }
            function nf(t, e) {
                var i, a, n, r;
                if (a = e.length) {
                    for (i = t.length,
                    n = {}; i--; )
                        n[t[i].id] = 1;
                    for (; a--; )
                        (r = e[a]).id in n || t.push(r)
                }
            }
            function of(t, e) {
                var i, a = t.i, n = e.tb(), r = e.rb(), o = -n.lat, s = (n = n.lng,
                -r.lat);
                r = r.lng;
                return e.g() ? (nf(i = a.bb(-180, o, r, s), a.bb(n, o, 180, s)),
                nf(i, lf(t, o, r, s, n + 360))) : nf(i = a.bb(n, o, r, s), lf(t, o, n, s, r)),
                i
            }
            function F(t, e) {
                F.u.constructor.call(this),
                t && pf(t, F, 0),
                this.na = t || [],
                this.j = e,
                this.b = qf(this, 0, this.na.length)
            }
            function qf(t, e, i) {
                t = t.na;
                var a = 0;
                for (e = mb(e, 0),
                i = lb(i, t.length),
                i -= 2,
                e += 1; e < i; )
                    a += tf(t[e], t[e += 3]);
                return a
            }
            function uf(t, e, i, a, n) {
                var r = t.na.length;
                e = Wb(e, n),
                i = Xb(i, n),
                t.na.push(Wb(e, n), Xb(i, n), a === A ? 0 : Yb(a, n)),
                r && (t.b += tf(t.na[r - 2], i)),
                delete t.a,
                delete t.m
            }
            jf.prototype.c = 0,
            jf.prototype.S = function() {
                var t, e, i;
                if (!this.a) {
                    var a, n, r, o, s, l;
                    if (i = [],
                    a = !this.f)
                        !(n = (t = this.i).b) && ((a = t.a).Y || a[0] || a[1] || a[2] || a[3]) && (n = bf([n = [a], n, n, n], [a[6], a[7], a[4], a[5]]),
                        t.b = n),
                        a = t = n;
                    if (a && (this.f = new G(-t[0],t[3],-t[2],t[1])),
                    (e = this.f) && i.push(e),
                    !this.b && (l = (o = this.g).length)) {
                        for (t = 90,
                        a = 360,
                        n = -90,
                        r = 0; l--; )
                            s = o[l],
                            t = lb(t, s[0]),
                            a = lb(a, s[3]),
                            n = mb(n, s[2]),
                            r = mb(r, s[1]);
                        this.b = new G(-t,a,-n,r - 360)
                    }
                    (e = this.b) && i.push(e),
                    (e = i[0]) && (i[1] && (e = e.wb(i[1], !0)),
                    this.a = e)
                }
                return this.a
            }
            ,
            jf.prototype.remove = function(t) {
                var e, i = !1;
                return t.a ? (i = this.i.remove(t),
                this.f = null) : (i = 0 <= (t = (e = this.g).indexOf(t))) && (e.splice(t, 1),
                this.b = null),
                i && (--this.c,
                this.a = null),
                i
            }
            ,
            v(F, bc),
            r("H.geo.LineString", F),
            F.prototype.o = function(t, e, i) {
                uf(this, t, e, i, this.o)
            }
            ,
            F.prototype.pushLatLngAlt = F.prototype.o,
            F.prototype.i = function(t, e, i) {
                var a;
                return i && pf(i, this.i, 2),
                void 0 === e && (e = this.na.length),
                e && (this.b -= qf(this, t - 3, t + e + 3)),
                a = i ? this.na.splice.apply(this.na, [t, e].concat(i)) : this.na.splice(t, e),
                i && (this.b += qf(this, t - 3, t + i.length + 3)),
                e && !i && (this.b += qf(this, t - 3, t - 3)),
                delete this.a,
                delete this.m,
                a
            }
            ,
            F.prototype.spliceLatLngAlts = F.prototype.i,
            F.prototype.v = function(t, e, i, a) {
                this.i(t, 0, [e, i, a])
            }
            ,
            F.prototype.insertLatLngAlt = F.prototype.v,
            F.prototype.s = function(t) {
                this.i(t, 3)
            }
            ,
            F.prototype.removeLatLngAlt = F.prototype.s,
            F.prototype.c = function(t) {
                uf(this, t.lat, t.lng, t.alt, this.c)
            }
            ,
            F.prototype.pushPoint = F.prototype.c,
            F.prototype.C = function(t, e) {
                this.v(3 * t, e.lat, e.lng, e.alt)
            }
            ,
            F.prototype.insertPoint = F.prototype.C,
            F.prototype.N = function(t) {
                this.s(3 * t)
            }
            ,
            F.prototype.removePoint = F.prototype.N,
            F.prototype.g = function(t, e) {
                var i = 3 * t
                  , a = (r = this.na)[i]
                  , n = r[i + 1]
                  , r = r[i + 2];
                return e && (e.lat = a,
                e.lng = n,
                e.alt = r,
                void 0 !== r && this.j && (e.ctx = this.j)),
                e || new gc(a,n,r,null != r ? this.j : void 0)
            }
            ,
            F.prototype.extractPoint = F.prototype.g,
            F.prototype.B = function(t, e, i) {
                var a = this.na;
                e = e || 0,
                i = we(i, a.length / 3);
                for (var n = 3 * e; e < i; )
                    t(a[n++], a[n++], a[n++], e++)
            }
            ,
            F.prototype.eachLatLngAlt = F.prototype.B;
            var tf = ac;
            function pf(t, e, i) {
                for (var a, n = t.length, r = !(n % 3); r && n; )
                    r = !(D(t[--n] = Yb((a = t[n]) === A ? 0 : a)) || D(t[--n] = Xb(t[n])) || D(t[--n] = Wb(t[n])));
                if (!r && e)
                    throw new C(e,i,t)
            }
            function vf(t) {
                var e = new F
                  , i = 0
                  , a = t.length;
                if (a % 2)
                    throw new C(vf,0,t);
                for (; i < a; )
                    uf(e, t[i++], t[i++], 0, vf);
                return e
            }
            function wf(t, e) {
                return t.ke - e.ke
            }
            function xf(t) {
                var e, i, a, n, r, o, s, l = t.m;
                if (!l)
                    for (l = t.m = new jf,
                    e = 0,
                    i = (t = t.na).length,
                    a = 0; a < i; a += 3) {
                        if (n = t[a],
                        r = t[a + 1],
                        a) {
                            var c = void 0
                              , h = void 0
                              , p = void 0
                              , d = void 0;
                            s < r ? (c = s,
                            p = r) : (c = r,
                            p = s),
                            o < n ? (h = n,
                            d = o) : (h = o,
                            d = n),
                            (o = kf(l, h, c, d, p, 180 < p - c)).ke = e++
                        }
                        o = n,
                        s = r
                    }
                return l
            }
            function yf(t, e) {
                var i, a, n, r, o, s, l, c, h = t.na, p = -2, d = [];
                for (n = (i = of(xf(t), e).sort(wf)).length,
                r = 0; r < n; r++)
                    o = 3 * (a = (a = i[r]).ke),
                    a > p + 1 && (s = [h[o], h[o + 1]],
                    d.push(s)),
                    p = a,
                    s.push(h[o + 3], h[o + 4]);
                if (t.b) {
                    for (h = [],
                    n = d.length,
                    r = 0; r < n; r++)
                        if (p = (s = d[r]).length) {
                            for (a = [],
                            i = 0; i < p; i += 2)
                                o = s[i],
                                l = s[i + 1],
                                a.push(o, l),
                                c = s[i - 1],
                                i && ac(l, c) && (h.push(a),
                                c += 0 > c ? 360 : -360,
                                (a = []).push(s[i - 2], c, o, l));
                            h.push(a)
                        }
                    d = h
                }
                return d
            }
            function zf(t) {
                var e, i, a, n;
                if (t) {
                    for (e = Af,
                    n = B(t, zf); e--; )
                        if (i = Bf[e],
                        t.hasOwnProperty(i))
                            if (a = t[i],
                            n)
                                this[i] = a;
                            else {
                                if ((a = Cf[e](a)) === Df)
                                    throw new C(zf,0,i + ": " + t[i]);
                                a !== this[i] && a !== A && (this[i] = a)
                            }
                    (e = n ? t.b : this.lineWidth && ue(this.strokeColor)) || (this.b = e),
                    (e = n ? t.c : ue(this.fillColor)) || (this.c = e),
                    (e = n ? t.a : "none" !== this.strokeColor && this.lineWidth) || (this.a = e)
                }
                Na(this)
            }
            F.isDBC = tf,
            F.prototype.l = function(t) {
                var e = this.b;
                return t && (e += ac((t = this.na)[t.length - 2], t[1])),
                e
            }
            ,
            F.prototype.getDBCs = F.prototype.l,
            F.prototype.f = function() {
                return this.na.length / 3
            }
            ,
            F.prototype.getPointCount = F.prototype.f,
            F.prototype.A = function() {
                return this.na
            }
            ,
            F.prototype.getLatLngAltArray = F.prototype.A,
            F.prototype.a = x,
            F.prototype.S = function() {
                var t;
                if (!(t = this.a)) {
                    var e, i, a, n, r, o = (t = this.na).length, s = 3, l = x, c = We;
                    if (3 <= o)
                        for (l = new G(e = i = t[0],a = n = t[1],i,n); s < o; s += 3)
                            e = t[s - 3],
                            a = t[s - 2],
                            i = t[s],
                            (a > (n = t[s + 1]) && 180 < n - a || a < n && -180 > a - n || n < a && 180 > rb(n - a)) && (r = a,
                            a = n,
                            n = r),
                            e < i && (r = e,
                            e = i,
                            i = r),
                            c(l.ka, l.ga, l.ja, l.ha, e, a, i, n, l);
                    t = this.a = l
                }
                return t
            }
            ,
            F.prototype.getBounds = F.prototype.S,
            F.prototype.F = function() {
                return this.a !== x
            }
            ,
            F.prototype.hasBounds = F.prototype.F,
            F.fromLatLngArray = vf,
            F.prototype.pa = function(t) {
                var e, i, a = this === t;
                if (!a && (a = B(t, F)))
                    for (e = this.na,
                    t = t.na,
                    a = (i = e.length) === t.length; a && i--; )
                        a = e[i] == t[i];
                return a
            }
            ,
            F.prototype.equals = F.prototype.pa,
            F.prototype.qd = "LINESTRING",
            F.prototype.Lb = function(t) {
                var e, i = this.na, a = i.length;
                if (a) {
                    for (t.push("("),
                    e = 0; e < a; e += 3)
                        e && t.push(","),
                        t.push(i[e + 1], " ", i[e]);
                    t.push(")")
                } else
                    t.push("EMPTY");
                return t
            }
            ,
            r("H.geo.Strip", F),
            r("H.map.SpatialStyle", zf),
            zf.prototype.c = !0,
            zf.prototype.b = !0,
            zf.prototype.a = !0;
            var Bf = [];
            zf.prototype[Bf[0] = "strokeColor"] = "rgba(0,85,170,.6)",
            zf.prototype[Bf[1] = "fillColor"] = "rgba(0,85,170,.4)",
            zf.prototype[Bf[2] = "lineWidth"] = 2,
            zf.prototype[Bf[3] = "lineCap"] = "round",
            zf.prototype[Bf[4] = "lineJoin"] = "miter",
            zf.prototype[Bf[5] = "miterLimit"] = 10,
            zf.prototype[Bf[6] = "lineDash"] = De,
            zf.prototype[Bf[7] = "lineDashOffset"] = 0;
            var Af = Bf.length;
            zf.prototype.pa = function(t) {
                var e, i;
                if (!(e = this === t) && t) {
                    for (e = 0; e < Af && this[i = Bf[e]] === t[i]; e++)
                        ;
                    e = e === Af
                }
                return e
            }
            ,
            zf.prototype.equals = zf.prototype.pa,
            zf.prototype.f = function(t) {
                var e;
                return t ? Ca(e = {}, this, t) : e = this,
                new zf(e)
            }
            ,
            zf.prototype.getCopy = zf.prototype.f;
            var Df = Na({})
              , Cf = [function(t) {
                return t ? La(t) : Df
            }
            , function(t) {
                return t ? La(t) : Df
            }
            , function(t) {
                return 0 <= t && 100 >= t ? +t : Df
            }
            , function(t) {
                return "butt" === (t = La(t)) || "square" === t || "round" === t ? t : Df
            }
            , function(t) {
                return "round" === t || "bevel" === t || "miter" === t ? t : Df
            }
            , function(t) {
                return 0 < t && 100 >= t ? +t : Df
            }
            , function(t) {
                return t && t.every && t.every(bb) ? t : Df
            }
            , function(t) {
                return D(+t) ? Df : +t
            }
            ];
            zf.MAX_LINE_WIDTH = 100;
            var Ef = new zf;
            function Ff(t) {
                var e, i, a;
                if (t) {
                    for (i in e = B(t, Ff),
                    t)
                        i in this && ((a = t[i]) !== this[i] && ("fillColor" === i || 0 < (a = +a)) && (this[i] = a));
                    (t = e ? t.fd : !!(ue(this.fillColor) && this.width && this.width)) || (this.fd = t)
                }
                Na(this)
            }
            function Gf(t, e) {
                var i;
                Gf.u.constructor.call(this, e),
                e && this.O(e.style),
                t && (this.B = !0),
                e && (i = e.arrows) && this.Vb(i)
            }
            function Hf(t, e) {
                var i, a = !1, n = !1;
                if (e.length) {
                    for (a = 0; a < e.length; a++)
                        if (e[a] !== If) {
                            n = !0;
                            break
                        }
                    a = t.style,
                    a = n ? a.b || a.c && t.B || (i = t.s || !1) && a.a && i.fd : a.c
                }
                return a && t.getVisibility(!0)
            }
            function Jf(t, e) {
                Jf.u.constructor.call(this, t, e)
            }
            function Kf(t, e, i, a) {
                var n, r, o = [], s = e.length;
                for (n = 0; n < s; n++)
                    (r = e[n]).length && o.push(Lf(t, r, i, a));
                return o
            }
            function Lf(t, e, i, a) {
                var n, r = [], o = e.length, s = 0;
                for (t.Va = 0,
                n = n || 0; s < o; )
                    r.push(Mf(t, e[s++], e[s++], n, a));
                return i && r.push(Mf(t, e[0], e[1], n, a)),
                r
            }
            function Mf(t, e, i, a, n) {
                var r = t.Va;
                return r && 180 < rb(r - i) && (i += 0 > r ? -360 : 360),
                t.Va = i,
                n.f(e, i + a)
            }
            function Nf(t, e, i) {
                for (var a, n, r, o = e, s = t.length + e; o--; ) {
                    for (n = (e = t[o]).length,
                    a = Array(n); n--; )
                        r = e[n],
                        a[n] = new M(r.x + i,r.y);
                    t[--s] = a
                }
            }
            zf.DEFAULT_STYLE = Ef,
            r("H.map.ArrowStyle", Ff),
            Ff.prototype.fd = !0,
            Ca(Ff.prototype, {
                fillColor: "rgba(255,255,255,.75)",
                width: 1.2,
                length: 1.6,
                frequency: 5
            }),
            Ff.prototype.pa = function(t) {
                var e = this === t;
                return !e && t && (e = t.width === this.width && t.fillColor === this.fillColor && t.length === this.length && t.frequency === this.frequency),
                e
            }
            ,
            Ff.prototype.equals = Ff.prototype.pa,
            v(Gf, K),
            r("H.map.Spatial", Gf),
            Gf.prototype.type = Pe.SPATIAL,
            Gf.prototype.je = 0,
            Gf.prototype.style = Ef,
            Gf.prototype.Na = function() {
                return this.style
            }
            ,
            Gf.prototype.getStyle = Gf.prototype.Na,
            Gf.prototype.O = function(t) {
                var e = this.style
                  , i = !0;
                return t ? this.style = B(t, zf) ? t : new zf(t) : this.style ? delete this.style : i = !1,
                i && (this.dispatchEvent(new Ne("stylechange",this.style,e)),
                this.invalidate(Me.VISUAL)),
                this
            }
            ,
            Gf.prototype.setStyle = Gf.prototype.O,
            Gf.prototype.jc = function() {
                return this.s
            }
            ,
            Gf.prototype.getArrows = Gf.prototype.jc,
            Gf.prototype.Vb = function(t) {
                var e = this.s
                  , i = !1;
                return !t && e ? (delete this.s,
                i = !0) : !t || e && e.pa(t) || (this.s = new Ff(t),
                i = !0),
                i && "none" !== this.style.strokeColor && this.ua(1),
                this
            }
            ,
            Gf.prototype.setArrows = Gf.prototype.Vb,
            Gf.prototype.B = !1,
            Gf.prototype.be = function() {
                return this.B
            }
            ,
            Gf.prototype.isClosed = Gf.prototype.be,
            Gf.prototype.getGeometriesForTile = Gf.prototype.ec,
            Gf.prototype.ba = function() {
                return x
            }
            ,
            Gf.prototype.getLabels = Gf.prototype.ba,
            v(Jf, Gf),
            r("H.map.GeoShape", Jf),
            Jf.prototype.getStrip = Jf.prototype.b,
            Jf.prototype.setStrip = Jf.prototype.f,
            Jf.prototype.getBounds = Jf.prototype.S;
            var Of = new F([0, 0, 0, 0, 0, 0, 0, 0, 0]);
            function Pf(t) {
                Ua(this, Pf),
                Pf.u.constructor.call(this),
                this.ma = Qf(this, t, this.constructor, 0)
            }
            function Qf(t, e, i, a) {
                var n, r = [];
                if (!Za(e))
                    throw new C(i,a);
                for (n = 0; n < e.length; n++) {
                    if (!t.c(e[n]))
                        throw new C(i,a);
                    r.push(t.l(e[n]))
                }
                return r
            }
            function Rf(t) {
                Rf.u.constructor.call(this, t)
            }
            function Sf(t, e, i) {
                this.Ra = t,
                e !== A && (this.a = e),
                i !== A && (this.b = i)
            }
            v(Pf, bc),
            r("H.geo.MultiGeometry", Pf),
            Pf.prototype.splice = function(t, e, i) {
                return t = [t],
                e !== A && t.push(e),
                i && (e = Qf(this, i, this.splice, 2),
                t = t.concat(e)),
                this.a = x,
                this.ma.splice.apply(this.ma, t)
            }
            ,
            Pf.prototype.splice = Pf.prototype.splice,
            Pf.prototype.f = function(t) {
                var e = this.ma.length;
                if (!(0 <= t && t < e))
                    throw new ec(this.f,t,[0, e - 1]);
                return this.a = x,
                this.ma.splice(t, 1)[0]
            }
            ,
            Pf.prototype.removeAt = Pf.prototype.f,
            Pf.prototype.remove = function(t) {
                var e;
                return 0 <= (t = this.ma.indexOf(t)) && (e = this.ma.splice(t, 1)[0],
                this.a = x),
                e || x
            }
            ,
            Pf.prototype.remove = Pf.prototype.remove,
            Pf.prototype.j = function() {
                return this.ma
            }
            ,
            Pf.prototype.getGeometries = Pf.prototype.j,
            Pf.prototype.push = function(t) {
                var e = Qf(this, [t], this.push, 0)[0];
                this.a && (this.a = this.a.wb(t.S())),
                this.ma.push(e)
            }
            ,
            Pf.prototype.push = Pf.prototype.push,
            Pf.prototype.S = function() {
                var t, e, i;
                if (!(t = this.a) && (t = x,
                this.ma.length))
                    for (t = this.ma[0].S(),
                    i = 1; i < this.ma.length; i++)
                        (e = this.ma[i].S()) && (t = t ? t.wb(e) : e);
                return this.a = t
            }
            ,
            Pf.prototype.getBounds = Pf.prototype.S,
            Pf.prototype.a = x,
            Pf.prototype.c = function(t) {
                return B(t, this.b)
            }
            ,
            Pf.prototype.l = function(t) {
                return t
            }
            ,
            Pf.prototype.pa = function(t) {
                var e, i, a = this === t;
                if (!a && (a = B(t, this.constructor)))
                    for (e = this.ma,
                    t = t.ma,
                    a = (i = e.length) === t.length; a && i--; )
                        a = e[i].pa(t[i]);
                return a
            }
            ,
            Pf.prototype.equals = Pf.prototype.pa,
            Pf.prototype.Lb = function(t) {
                var e, i, a = this.ma, n = a.length, r = !1;
                if (n) {
                    for (t.push("("),
                    e = 0; e < n; e++)
                        (i = 0 < e && r) && t.push(","),
                        a[e].Lb(t),
                        "EMPTY" === t[t.length - 1] ? t.splice(-1 - i, 1 + i) : r = !0;
                    r ? t.push(")") : t.splice(-1, 1, "EMPTY")
                } else
                    t.push("EMPTY");
                return t
            }
            ,
            Pf.prototype.toString = function() {
                return this.Lb(["MULTI", this.b.prototype.qd, " "]).join("")
            }
            ,
            v(Rf, Pf),
            r("H.geo.MultiPolygon", Rf),
            Rf.prototype.b = E,
            Sf.prototype.a = Lb,
            Sf.prototype.b = Lb;
            var If = Oa(new Sf([]))
              , Tf = Na([]);
            function Uf(t, e) {
                Uf.u.constructor.call(this, !0, e),
                B(t, F) ? this.c(new E(t)) : this.c(t)
            }
            function Vf(t, e, i, a) {
                var n, r, o, s, l = 0, c = !0;
                if (n = Xf(t, e.$a, i, a, e.S())) {
                    if (r = new Sf(n),
                    s = (o = e.lb).length)
                        for (r.a = r.Ra.length; l < s; l++)
                            (n = Xf(t, o[l], i, a, e.ig(l))) && (r.Ra = r.Ra.concat(n));
                    for (s = r.Ra.length,
                    l = 0; l < s; l++)
                        if (r.Ra[l] !== Tf) {
                            c = !1;
                            break
                        }
                    c && (r = l % 2 ? If : A)
                }
                return r
            }
            function Xf(t, e, i, a, n) {
                var r, o = i.j(), s = Yf(e, n);
                if (t = Kf(t, s, !0, r = i.B()),
                360 === n.ab() && 1 === e.l(!0) % 2) {
                    var l, c, h;
                    for (e = t,
                    t = i.j(),
                    e[0][1].x > e[0][e[0].length - 1].x && (e[0] = e[0].reverse()),
                    c = [],
                    l = e[0].length - 1,
                    s = 0; s < l; s++)
                        h = e[0][s],
                        c[s] = new M(h.x - 2 * r.w,h.y),
                        c[s + l] = new M(h.x - r.w,h.y),
                        c[s + 2 * l] = new M(h.x,h.y),
                        c[s + 3 * l] = new M(h.x + r.w,h.y),
                        c[s + 4 * l] = new M(h.x + 2 * r.w,h.y);
                    e[0] = c,
                    (r = r.f(a, 0)).y = 2 * t[a === cc.NORTH ? "top" : "bottom"],
                    a = r.clone(),
                    r.x = e[0][e[0].length - 1].x + 1,
                    a.x = e[0][0].x - 1,
                    e[0].push(r, a),
                    t = e
                }
                if (Zf(e = t, a = o.left, r = o.top, t = o.right, o = o.bottom, !0).length) {
                    if (!i.s().j(n)) {
                        for (i = e,
                        n = [new M(a,r), new M(t,r), new M(t,o), new M(a,o)],
                        o = [],
                        a = i.length; a--; ) {
                            e = i[a],
                            c = s = void 0,
                            r = $f(n),
                            e = $f(e);
                            var p = h = void 0
                              , d = void 0
                              , u = void 0
                              , m = void 0
                              , f = void 0
                              , g = d = t = void 0;
                            switch (l = t = void 0,
                            t = {},
                            l = s = 1,
                            c = ~~(1 * (c = 0))) {
                            case 1:
                                l = s = 0;
                                break;
                            case 2:
                                s = 0,
                                l = 1;
                                break;
                            case 3:
                                s = 1,
                                l = 0
                            }
                            c = l,
                            l = s;
                            var y = u = void 0;
                            d = h = s = void 0;
                            if (e && r) {
                                for (e.zd = ag(e.x, e.y, null, bg(e)),
                                r.zd = ag(r.x, r.y, null, bg(r)),
                                h = e; h.next; h = h.next)
                                    if (!h.bb)
                                        for (p = r; p.next; p = p.next)
                                            !p.bb && (d = dg(h, u = cg(h.next), p, y = cg(p.next), t)) && (d = t.Kh,
                                            g = t.Zf,
                                            eg(d = ag(m = t.Hi, f = t.Ii, null, null, null, null, 1, 0, 0, d), h, u),
                                            eg(u = ag(m, f, null, null, null, null, 1, 0, 0, g), p, y),
                                            d.df = u,
                                            u.df = d);
                                for (t = fg(e, r),
                                l && (t = 1 - t),
                                h = e; h; h = h.next)
                                    h.bb && (h.Ce = t,
                                    t = 1 - t);
                                for (t = fg(r, e),
                                c && (t = 1 - t),
                                p = r; p.next; p = p.next)
                                    p.bb && (p.Ce = t,
                                    t = 1 - t);
                                for (gg(e),
                                gg(r); (t = hg(e)) != e; ) {
                                    for (h = null; !t.ie; t = t.df) {
                                        for (l = t.Ce; h = ag(t.x, t.y, h),
                                        t.ie = 1,
                                        t = l ? t.next : t.nb; )
                                            if (t.bb) {
                                                t.ie = 1;
                                                break
                                            }
                                        if (!t)
                                            break
                                    }
                                    h.ef = s,
                                    s = h
                                }
                                r = s
                            } else
                                r = void 0;
                            if (r)
                                for (e = ig(r),
                                o.push(e); r.ef; )
                                    e = ig(r = r.ef),
                                    o.push(e)
                        }
                        e = o
                    }
                } else
                    i = jg(a, r, e[0]),
                    e[1] && (i ^= jg(a, r, e[1])),
                    e = i ? [Tf] : A;
                return e
            }
            function jg(t, e, i) {
                var a, n, r, o, s, l, c, h;
                for (n = o = i[0].x,
                r = s = i[0].y,
                a = 1,
                h = i.length; a < h; a++)
                    (l = i[a].x) > o ? o = l : l < n && (n = l),
                    (c = i[a].y) > s ? s = c : c < r && (r = c);
                return n <= t && t <= o && r <= e && e <= s && 1 === fg({
                    x: t,
                    y: e
                }, i.concat(i[0]))
            }
            function ig(t) {
                var e, i, a, n = [], r = t;
                do {
                    i = nb(100 * (r.ti ? r.ti : r.x)) / 100,
                    a = nb(100 * (r.ui ? r.ui : r.y)) / 100,
                    (!e || .01 < tb(ub(e.x - i, 2) + ub(e.y - a, 2))) && (e = new M(i,a),
                    n.push(e)),
                    r = r.next
                } while (r && r !== t);return n
            }
            function Wf(t) {
                var e = t.Ub;
                return e === A && (e = t.m ? cc.NORTH : t.Ca().hc),
                e
            }
            function Yf(t, e) {
                var i, a, n = e.ab();
                i = [[]];
                var r, o, s, l = [], c = (a = t.na).length, h = !1;
                for (r = 0; r < c; r += 3)
                    o = a[r],
                    s = a[r + 1],
                    h || 180 != rb(s) || (l.push(o),
                    l.push(s),
                    l.push(o),
                    l.push(-s),
                    h = !0),
                    l.push(o),
                    l.push(s);
                if (a = l,
                360 > n && -180 == e.ga && (e = new G(e.ka,180,e.ja,e.ha)),
                360 > n && 180 == e.ha && (e = new G(e.ka,e.ga,e.ja,-180)),
                e.g()) {
                    for (o = (n = a).length,
                    a = -1,
                    l = 0; l < o - 2; l += 2)
                        if (ac(n[l + 1], n[l + 3])) {
                            a = l + 2;
                            break
                        }
                    -1 === a && ac(n[o - 1], n[1]) && (a = o),
                    -1 !== a && (c = n[a - 2],
                    l = n[a - 1],
                    r = n[a % o],
                    h = n[(a + 1) % o],
                    180 !== rb(c) && 180 !== rb(r) && (s = rb(r - c),
                    o = rb(h - l),
                    o += 180 < o ? -360 : 0,
                    h = rb(180 - h),
                    h += 180 < h ? -360 : 0,
                    o && h && (s /= rb(o) / rb(h),
                    c = r + (r > c ? -s : s),
                    l = 0 < l ? 180 : -180,
                    n.splice(a, 0, c, l, c, -l)))),
                    a = n
                }
                return i[0] = kg([].concat(a), e.ga),
                360 > e.ab() && e.Vc(new gc(e.ka,180)) && (a = kg([].concat(a), e.ha),
                i.push(a)),
                i
            }
            function kg(t, e) {
                var i, a = [], n = Number.POSITIVE_INFINITY, r = -1, o = t.length;
                for (a = 0; a < o; a += 2)
                    i = rb(t[a + 1] - e),
                    (i += 180 < i ? 360 - i : i) < n && (n = i,
                    r = a);
                return 0 < a ? (a = t.splice(r, t.length - r)).concat(t) : t
            }
            function lg(t, e, i) {
                lg.u.constructor.call(this, Of, i),
                this.Za(t),
                this.wa(e),
                i && "precision"in i && this.sa(i.precision)
            }
            function mg(t) {
                t.i !== x && lg.u.c.call(t, ng(t))
            }
            function ng(t) {
                var e = t.o
                  , i = e.lat
                  , a = t.Ba
                  , n = 0
                  , r = new F;
                if (90 === rb(i))
                    for (i = e.Gf(0, a, !0).lat; 360 > n; n += 120)
                        r.o(i, n - 180, A);
                else
                    for (t = 360 / (t = t.a); 360 > n; n += t)
                        r.c(e.Gf(n, a, !0));
                return e = new E(r),
                0 > i && e.i(cc.SOUTH),
                e
            }
            function og(t) {
                og.u.constructor.call(this, t)
            }
            function pg(t, e) {
                pg.u.constructor.call(this, !1, e),
                this.c(t)
            }
            function qg(t, e) {
                if (!B(t, F) || 2 > t.f())
                    throw new C(e,0)
            }
            function rg(t, e, i, a) {
                var n, r = yf(e, i.s());
                r.length && (r = (t = Kf(t, r, !1, e = i.B())).length) && (n = i.j(),
                e = e.w,
                i.x || Nf(t, r, -e),
                i.x === (1 << i.z) - 1 && Nf(t, r, e),
                (i = Zf(t, n.left, n.top, n.right, n.bottom, !1)).length && a.push(new Sf(i)))
            }
            function sg(t) {
                sg.u.constructor.call(this, t)
            }
            function tg(t, e, i) {
                var a, n = 6;
                if (e) {
                    for (a = ' expected close to: "' + e; n--; )
                        -1 !== (e = t.a.next()) && (a += String.fromCharCode(e));
                    a += '"'
                }
                throw new C(ug,0,"- Malformed WKT: " + (a ? i + a : "unexpected end of stream"))
            }
            v(Uf, Jf),
            r("H.map.Polygon", Uf),
            Uf.prototype.i = x,
            Uf.prototype.Ca = function() {
                return this.i
            }
            ,
            Uf.prototype.getGeometry = Uf.prototype.Ca,
            Uf.prototype.c = function(t) {
                var e;
                return t === x || B(t, E) ? e = !1 : (B(t, Rf, this.c, 0),
                e = !0),
                this.m = e,
                e = this.i,
                this.i = t,
                e !== x && this.ua(Me.SPATIAL),
                this
            }
            ,
            Uf.prototype.setGeometry = Uf.prototype.c,
            Uf.prototype.b = function() {
                var t = B(this.i, E) ? this.i : this.i.ma[0];
                return jb(this.b, "See H.map.Polygon#getGeometry"),
                t.$a
            }
            ,
            Uf.prototype.getStrip = Uf.prototype.b,
            Uf.prototype.f = function(t) {
                var e;
                if (jb(this.f, "See H.map.Polygon#setGeometry"),
                B(t, F, this.f, 0),
                3 > t.f())
                    throw new C(this.f,0);
                return e = this.b(),
                this.c(new E(t)),
                this.dispatchEvent(new Ne("stripchange",this.b(),e)),
                this
            }
            ,
            Uf.prototype.setStrip = Uf.prototype.f,
            Uf.prototype.S = function() {
                return this.Ca().S()
            }
            ,
            Uf.prototype.getBounds = Uf.prototype.S,
            Uf.prototype.ec = function(t) {
                var e, i, a, n, r = this.Ca();
                if (this.m)
                    for (n = 0,
                    a = (r = r.ma).length; n < a; n++)
                        (i = Vf(this, r[n], t, r[n].hc)) && (e || (e = []),
                        e.push(i));
                else
                    (i = Vf(this, r, t, Wf(this))) && (e = [i]);
                return e
            }
            ,
            Uf.prototype.getGeometriesForTile = Uf.prototype.ec,
            Uf.prototype.kb = x,
            Uf.prototype.A = function(t) {
                return t = t ? cc.NORTH : cc.SOUTH,
                jb(this.A, "See H.geo.Polygon#setPoleCovering"),
                this.Ub !== t && (this.Ub = t,
                this.m || this.ua(Me.SPATIAL)),
                this
            }
            ,
            Uf.prototype.setNorthPoleCovering = Uf.prototype.A,
            Uf.prototype.Ya = function() {
                return jb(this.Ya, "See H.geo.Polygon#getPoleCovering"),
                Wf(this) === cc.NORTH
            }
            ,
            Uf.prototype.getNorthPoleCovering = Uf.prototype.Ya,
            Uf.prototype.Tb = function() {
                var t, e, i, a = this.Ca();
                if (jb(Uf.prototype.Tb),
                this.m)
                    for (i = (t = a.ma).length,
                    a = [],
                    e = 0; e < i; e++)
                        a = a.concat(Yf(t[e].$a, t[e].S()));
                else
                    a = Yf(a.$a, a.S());
                return a
            }
            ,
            Uf.prototype.clip = Uf.prototype.Tb,
            v(lg, Uf),
            r("H.map.Circle", lg),
            lg.prototype.Za = function(t) {
                (t = ic(t)).pa(this.o) || (this.o = t,
                mg(this))
            }
            ,
            lg.prototype.setCenter = lg.prototype.Za,
            lg.prototype.Oa = function() {
                return this.o
            }
            ,
            lg.prototype.getCenter = lg.prototype.Oa,
            lg.prototype.wa = function(t) {
                if (D(t = Qb(t, 0, 6371000.79 * Db / 2)))
                    throw new C(this.wa,0,t);
                this.Ba !== t && (this.Ba = t,
                mg(this))
            }
            ,
            lg.prototype.setRadius = lg.prototype.wa,
            lg.prototype.Zd = function() {
                return this.Ba
            }
            ,
            lg.prototype.getRadius = lg.prototype.Zd,
            lg.prototype.a = 60,
            lg.prototype.sa = function(t) {
                if (!ab(t))
                    throw new C(this.sa,0,t);
                this.a !== (t = Qb(nb(t), 4, 360)) && (this.a = t,
                mg(this))
            }
            ,
            lg.prototype.setPrecision = lg.prototype.sa,
            lg.prototype.Yd = function() {
                return this.a
            }
            ,
            lg.prototype.getPrecision = lg.prototype.Yd,
            lg.prototype.A = function() {
                return this
            }
            ,
            lg.prototype.setNorthPoleCovering = lg.prototype.A,
            lg.prototype.c = function() {
                return this
            }
            ,
            lg.prototype.setGeometry = lg.prototype.c,
            lg.prototype.Ca = function() {
                return this.i || lg.u.c.call(this, ng(this)),
                this.i
            }
            ,
            lg.prototype.getGeometry = lg.prototype.Ca,
            lg.prototype.f = function() {
                return this
            }
            ,
            lg.prototype.setStrip = lg.prototype.f,
            lg.prototype.b = function() {
                return this.Ca().$a
            }
            ,
            lg.prototype.getStrip = lg.prototype.b,
            v(og, Pf),
            r("H.geo.MultiLineString", og),
            og.prototype.b = F,
            v(pg, Jf),
            r("H.map.Polyline", pg),
            pg.prototype.S = function() {
                return this.a.S()
            }
            ,
            pg.prototype.getBounds = pg.prototype.S,
            pg.prototype.f = function(t) {
                var e;
                return jb(this.f, "See H.map.Polyline#setGeometry"),
                qg(t, this.f),
                e = this.b(),
                this.c(t),
                this.dispatchEvent(new Ne("stripchange",this.b(),e)),
                this
            }
            ,
            pg.prototype.setStrip = pg.prototype.f,
            pg.prototype.b = function() {
                return jb(this.b, "See H.map.Polyline#getGeometry"),
                B(this.a, F) ? this.a : this.a.ma[0]
            }
            ,
            pg.prototype.getStrip = pg.prototype.b,
            pg.prototype.a = x,
            pg.prototype.c = function(t) {
                var e, i, a, n = this.c;
                if (B(t, og)) {
                    if (!(i = (e = t.ma).length))
                        throw new C(n,0);
                    for (a = 0; a < i; a++)
                        qg(e[a], n)
                } else
                    qg(t, n);
                return this.m = !!e,
                this.a = t,
                this.ua(Me.SPATIAL),
                this
            }
            ,
            pg.prototype.setGeometry = pg.prototype.c,
            pg.prototype.Ca = function() {
                return this.a
            }
            ,
            pg.prototype.getGeometry = pg.prototype.Ca,
            pg.prototype.i = function(t) {
                var e = this.a;
                return yf(this.m ? e.ma[0] : e, t)
            }
            ,
            pg.prototype.clip = pg.prototype.i,
            pg.prototype.ec = function(t) {
                var e;
                e = this.a;
                var i, a = [];
                if (this.m)
                    for (i = (e = e.ma).length; i--; )
                        rg(this, e[i], t, a);
                else
                    rg(this, e, t, a);
                return a.length ? a : A
            }
            ,
            pg.prototype.getGeometriesForTile = pg.prototype.ec,
            v(sg, Pf),
            r("H.geo.MultiPoint", sg),
            sg.prototype.c = function(t) {
                return hc(t)
            }
            ,
            sg.prototype.l = function(t) {
                return B(t, gc) ? t : ic(t)
            }
            ,
            sg.prototype.b = gc;
            var vg = {
                Eh: " ",
                Ch: "(",
                Dh: ")",
                sh: ",",
                wh: ""
            };
            function wg(t, e) {
                var i = t.next()
                  , a = e ? ")" : "(";
                i !== a && tg(t, i, '"' + a + '"')
            }
            function xg(t) {
                return "," === yg(t) && (t.next(),
                !0)
            }
            function zg(t, e, i, a, n) {
                var r, o, s = 2 + e + i;
                for (o = 1; o <= s; o++)
                    (i = t.next()) ? (r = +i) !== r ? tg(t, i, "number") : 1 === o ? a[n + 1] = r : 2 === o ? a[n + 0] = r : 3 === o && (a[n + 2] = r) : tg(t, i);
                e || (a[n + 2] = 0)
            }
            Object.keys(vg).reduce(function(t, e) {
                return t[vg[e]] = !0,
                t
            }, Ka());
            var Ag = [];
            function Bg(t, e, i, a) {
                return a || wg(t, 0),
                zg(t, e, i, Ag, 0),
                a || wg(t, 1),
                new gc(Ag[0],Ag[1],e ? Ag[2] : A)
            }
            function Cg(t, e, i) {
                var a = [];
                wg(t, 0);
                do {
                    zg(t, e, i, a, a.length)
                } while (xg(t));return wg(t, 1),
                new F(a)
            }
            function Dg(t, e, i) {
                var a, n;
                if (wg(t, 0),
                a = Cg(t, e, i),
                xg(t)) {
                    n = [];
                    do {
                        n.push(Cg(t, e, i))
                    } while (xg(t))
                }
                return wg(t, 1),
                new E(a,n)
            }
            var Eg = []
              , Fg = [Dg]
              , Gg = [Bg]
              , Hg = {
                POINT: Gg,
                LINESTRING: [Cg],
                POLYGON: Fg,
                MULTIPOINT: [Bg, sg],
                MULTILINESTRING: [Cg, og],
                MULTIPOLYGON: [Dg, Rf],
                GEOMETRY: Eg,
                GEOMETRYCOLLECTION: Eg,
                CIRCULARSTRING: Eg,
                COMPOUNDCURVE: Eg,
                CURVEPOLYGON: Eg,
                MULTICURVE: Eg,
                MULTISURFACE: Eg,
                CURVE: Eg,
                SURFACE: Eg,
                POLYHEDRALSURFACE: Eg,
                TIN: Eg,
                TRIANGLE: Eg
            }
              , Ig = {
                Z: 1,
                M: 2,
                ZM: 3
            };
            function ug(t) {
                var e, i, a, n, r;
                if (i = (t = new Jg(t)).next(),
                (e = Hg[i.toUpperCase()]) || tg(t, i, "type name"),
                e !== Eg) {
                    if (i = yg(t),
                    (a = 1 & (i = Ig[i.toUpperCase()])) | (n = i >> 1) && t.next(),
                    "EMPTY" === (i = yg(t)))
                        t.next(),
                        (a = e[1]) ? r = new a([]) : e !== Gg && (r = new F([]),
                        e === Fg && (r = new E(r)));
                    else if ("(" === i) {
                        var o, s;
                        if (r = e[0],
                        e = e[1]) {
                            if (o = [],
                            wg(t, 0),
                            r === Bg) {
                                s = "(" !== yg(t);
                                do {
                                    o.push(r(t, a, n, s))
                                } while (xg(t))
                            } else
                                do {
                                    o.push(r(t, a, n))
                                } while (xg(t));wg(t, 1),
                            a = new e(o)
                        } else
                            a = r(t, a, n);
                        r = a
                    } else
                        tg(t, i, '"Z", "M", "ZM", "(" or "EMPTY"');
                    t.next() && tg(t, i, "end of stream")
                }
                return r || x
            }
            function Jg(t) {
                this.a = t
            }
            function yg(t) {
                var e = t.b;
                if (e === A) {
                    for (e = t.a; e.a() === Kg; )
                        e.next();
                    if (Lg[e.a()])
                        e = (e = e.next()) === Mg ? "" : String.fromCharCode(e);
                    else {
                        e.m();
                        do {
                            e.next()
                        } while (!Lg[e.a()]);e = String.fromCharCode.apply(null, e.l())
                    }
                    t.b = e
                }
                return e
            }
            Jg.prototype.next = function() {
                var t = yg(this);
                return "" !== t && delete this.b,
                t
            }
            ;
            var Kg = 32
              , Mg = -1
              , Ng = {
                Eh: Kg,
                Ch: 40,
                Dh: 41,
                sh: 44,
                wh: Mg
            }
              , Lg = Object.keys(Ng).reduce(function(t, e) {
                return t[Ng[e]] = !0,
                t
            }, Ka());
            function Og() {}
            function Pg(t) {
                this.f = String(t),
                this.g = 0,
                this.b = [],
                this.c = !1
            }
            function Qg(t) {
                var e, i = "" + Ae();
                if (t = t || {},
                this.min = t.min || 0,
                this.max = t.max || 22,
                e = t.uri) {
                    if (/_/.test(e))
                        throw new C(Qg,0,"uri " + e)
                } else
                    e = i;
                this.uri = e || i,
                this.uid = i,
                t.getCopyrights && Xa(t.getCopyrights, "Function", Qg) && (this.getCopyrights = t.getCopyrights),
                Qg.u.constructor.call(this)
            }
            function Rg(t, e) {
                t.dispatchEvent(new Bc(t.F.la,e))
            }
            function Sg(t) {
                var e;
                if (Ua(this, Sg),
                Sg.u.constructor.call(this, t),
                t && "tileSize"in t) {
                    if (e = sb(+t.tileSize) / Cb,
                    isNaN(e) || e % 1 || 0 > e || 30 < e)
                        throw new C(Sg,0,"tileSize: " + t.tileSize);
                    this.tileSize = +t.tileSize
                }
            }
            function Tg(t, e) {
                return Nb(t) - 8 - nb(Nb(e))
            }
            function Ug() {}
            function Vg(t, e, i) {
                if (e && this.c(e),
                i && !sa(i))
                    throw new C(Vg,2,i);
                this.a = 0,
                this.filter = i,
                this.Y = {},
                this.f = this.b = null,
                this.i(t)
            }
            function Wg(t, e) {
                return e && (t.b = Yg(t, e, t.b)),
                e
            }
            function Zg(t) {
                for (; t.a > t.l && t.f; )
                    Xg(t, t.f, !0)
            }
            function Yg(t, e, i) {
                return i !== e && ((e.xb || e.Xb) && Xg(t, e),
                (e.xb = i) && (e.Xb = i.Xb,
                i.Xb = e),
                e.Xb || (t.b = e),
                e.xb || (t.f = e),
                t.a += e.size),
                e
            }
            function Xg(t, e, i) {
                var a = e.Xb
                  , n = e.xb;
                (a || n || e == t.b && e == t.f) && (a ? a.xb = n : t.b = n,
                n ? n.Xb = a : t.f = a,
                t.a -= e.size,
                i && (t.j && t.j(e.id, e.data, e.size),
                delete t.Y[e.id])),
                e.xb = e.Xb = null
            }
            function $g(t, e, i, a) {
                this.key = "",
                this.x = t,
                this.y = e,
                this.z = i,
                this.data = a,
                this.valid = !0
            }
            function N(t) {
                Ua(this, N),
                N.u.constructor.call(this, t),
                this.a = {},
                this.Ha = new ah,
                this.m = z(this.m, this),
                this.g = bh
            }
            r("H.util.ICharStream", Og),
            Og.prototype.next = function() {}
            ,
            Og.prototype.m = function() {}
            ,
            Og.prototype.l = function() {}
            ,
            Og.prototype.a = function() {}
            ,
            r("H.util.CharStream", Pg),
            Pg.prototype.next = function() {
                var t = this.f.charCodeAt(this.g++);
                t = isNaN(t) ? -1 : t;
                return this.c && this.b.push(t),
                t
            }
            ,
            Pg.prototype.m = function() {
                this.c = !0,
                this.b = []
            }
            ,
            Pg.prototype.l = function() {
                var t = this.b.slice();
                return this.c = !1,
                this.b = [],
                t
            }
            ,
            Pg.prototype.a = function(t) {
                return t = this.f.charCodeAt(this.g + (t || 0)),
                isNaN(t) ? -1 : t
            }
            ,
            r("H.util.wkt.toGeometry", function(t) {
                return ug(new Pg(t))
            }),
            v(Qg, I),
            r("H.map.provider.Provider", Qg),
            Qg.prototype.F = {
                la: "update"
            },
            Qg.prototype.D = function() {
                I.prototype.D.call(this)
            }
            ,
            Qg.prototype.Ia = function() {
                return null
            }
            ,
            Qg.prototype.getCopyrights = Qg.prototype.Ia,
            Qg.prototype.s = Ce,
            Qg.prototype.providesSpatials = Qg.prototype.s,
            Qg.prototype.ba = Ce,
            Qg.prototype.providesOverlays = Qg.prototype.ba,
            Qg.prototype.l = Ce,
            Qg.prototype.providesMarkers = Qg.prototype.l,
            Qg.prototype.i = Ce,
            Qg.prototype.providesDomMarkers = Qg.prototype.i,
            v(Sg, Qg),
            r("H.map.provider.TileProvider", Sg),
            Sg.getZoomLevelOffset = Tg,
            Sg.prototype.A = function(t, e, i) {
                return this.uri.concat("_", t, "_", e, "_", i)
            }
            ,
            Sg.prototype.getTileKey = Sg.prototype.A,
            Sg.prototype.Va = 256,
            Sg.prototype.tileSize = Sg.prototype.Va,
            r("H.util.ICache", Ug),
            Ug.prototype.add = function() {}
            ,
            Ug.prototype.add = Ug.prototype.add,
            Ug.prototype.get = function() {}
            ,
            Ug.prototype.get = Ug.prototype.get,
            Ug.prototype.g = function() {}
            ,
            Ug.prototype.drop = Ug.prototype.g,
            Ug.prototype.forEach = function() {}
            ,
            Ug.prototype.forEach = Ug.prototype.forEach,
            Ug.prototype.Ea = function() {}
            ,
            Ug.prototype.removeAll = Ug.prototype.Ea,
            Ug.prototype.c = function() {}
            ,
            Ug.prototype.registerOnDrop = Ug.prototype.c,
            r("H.util.Cache", Vg),
            Vg.prototype.add = function(t, e, i) {
                var a, n;
                if (!ab(i = +i) || 0 > i)
                    throw new C(this.add,2,i);
                return t = String(t),
                a = this.Y[t],
                n = !0,
                this.filter && (n = this.filter(t, e, i)),
                a ? n ? (this.a += i - a.size,
                a.size = i,
                a.data = e,
                Wg(this, a)) : Xg(this, a, !0) : n && (this.Y[t] = Yg(this, {
                    id: t,
                    data: e,
                    size: i,
                    xb: null,
                    Xb: null
                }, this.b)),
                Zg(this),
                n
            }
            ,
            Vg.prototype.add = Vg.prototype.add,
            Vg.prototype.c = function(t) {
                if (!sa(t))
                    throw new C(this.c,0,t);
                this.j = t
            }
            ,
            Vg.prototype.registerOnDrop = Vg.prototype.c,
            Vg.prototype.get = function(t, e) {
                var i = e ? this.Y[t] : Wg(this, this.Y[t]);
                return i && i.data
            }
            ,
            Vg.prototype.get = Vg.prototype.get,
            Vg.prototype.g = function(t) {
                var e;
                (e = this.Y[t]) && Xg(this, e, !0)
            }
            ,
            Vg.prototype.drop = Vg.prototype.g,
            Vg.prototype.forEach = function(t, e, i) {
                var a, n;
                for (n in this.Y)
                    a = this.Y[n],
                    (!i || i(n, a.data, a.size)) && t.call(e, n, a.data, a.size)
            }
            ,
            Vg.prototype.forEach = Vg.prototype.forEach,
            Vg.prototype.Ea = function(t) {
                var e, i;
                for (i in this.Y)
                    e = this.Y[i],
                    (!t || t(i, e.data, e.size)) && Xg(this, this.Y[i], !0)
            }
            ,
            Vg.prototype.removeAll = Vg.prototype.Ea,
            Vg.prototype.i = function(t) {
                if (!(0 < +t))
                    throw new C(Vg.prototype.i,0,t);
                return this.l = +t,
                Zg(this),
                this
            }
            ,
            Vg.prototype.setMaxSize = Vg.prototype.i,
            Vg.prototype.m = function() {
                return this.l
            }
            ,
            Vg.prototype.getMaxSize = Vg.prototype.m,
            Vg.prototype.o = function() {
                return this.a
            }
            ,
            Vg.prototype.getCurrentSize = Vg.prototype.o,
            r("H.map.provider.Tile", $g),
            v(N, Sg),
            r("H.map.provider.RemoteTileProvider", N),
            N.prototype.v = function() {
                return 1
            }
            ,
            N.prototype.getEntryWeight = N.prototype.v;
            var bh = new Vg(65536);
            function ch(t, e, i, a, n, r) {
                var o = t.B();
                return a = ~~a,
                t.requestInternal(e, i, a, function(s, l) {
                    o.gd(t.A(e, i, a), l && {
                        raw: l.zi,
                        timestamp: w.Date.now()
                    }, n, r)
                }, r, 0)
            }
            N.prototype.Ba = function() {
                return this.g
            }
            ,
            N.prototype.getCache = N.prototype.Ba,
            N.prototype.N = ba(0),
            N.prototype.m = function(t) {
                var e = this.uri;
                return !t.indexOf(e) && "_" === t.charAt(e.length)
            }
            ,
            N.prototype.cacheFilter = N.prototype.m,
            N.prototype.sa = function(t, e) {
                e.valid = !1
            }
            ,
            N.prototype.j = function(t) {
                var e, i = this.getCache();
                for (e in t ? i.Ea(this.m) : i.forEach(this.sa, this, this.m),
                this.a)
                    this.a[e].cancel();
                this.a = {},
                Rg(this)
            }
            ,
            N.prototype.reload = N.prototype.j,
            N.prototype.Rc = function() {
                return !1
            }
            ,
            N.prototype.canStore = N.prototype.Rc,
            N.prototype.MAX_STORE_TIME = 1 / 0,
            N.prototype.B = function() {
                return this.Ha
            }
            ,
            N.prototype.getStorage = N.prototype.B,
            N.prototype.Ga = function(t, e) {
                e(t)
            }
            ,
            N.prototype.requestInternal = N.prototype.c,
            N.prototype.o = function(t, e, i, a) {
                var n, r, o, s, l = this, c = this.getCache(), h = this.a, p = this.B();
                if (D(t = +t))
                    throw new C(this.o,0,t);
                if (D(e = +e))
                    throw new C(this.o,0,e);
                if (D(i = +i))
                    throw new C(this.o,0,i);
                return i = ~~i,
                n = this.getTileKey(t, e, i),
                (r = c.get(n)) && r.valid || a || this.a[n] || (h[n] = dh,
                o = function(a) {
                    var o;
                    a && (o = w.Date.now() - a.timestamp),
                    a && o < l.MAX_STORE_TIME ? l.Ga(a.raw, function(o) {
                        delete l.a[n],
                        (r = l.createTileInternal(t, e, i, o, {})).key = n,
                        c.add(n, r, l.v(a)),
                        Rg(l, r)
                    }) : (o && p.remove(n),
                    r = void 0,
                    l.a[n] = l.requestInternal(t, e, i, function(a, o) {
                        (r = l.createTileInternal(t, e, i, a, o)).key = n,
                        c.add(n, r, l.v(a)),
                        delete l.a[n],
                        Rg(l, r)
                    }, function() {
                        delete l.a[n]
                    }),
                    r && delete l.a[n])
                }
                ,
                (s = p.get(n, o, function() {
                    s = l.Ha.get(n, o)
                })) && h[n] === dh && (h[n] = s)),
                r
            }
            ,
            N.prototype.requestTile = N.prototype.o;
            var dh = {
                cancel: function() {}
            };
            function ah() {}
            function eh(t) {
                if (!t || !sa(t.requestData))
                    throw new C(eh,0,"options.requestData");
                eh.u.constructor.call(this, t),
                this.ea = t.requestData,
                this.O = !!t.providesDomMarkers
            }
            function M(t, e) {
                this.x = +t,
                this.y = +e
            }
            function gh(t) {
                if (!t)
                    throw new C(gh,0,t);
                return B(t, M) ? t : new M(t.x,t.y)
            }
            function hh() {}
            N.prototype.createTileInternal = function(t, e, i, a) {
                return new $g(t,e,i,a)
            }
            ,
            N.prototype.K = function(t) {
                var e = this.a[t];
                e && (e.cancel(),
                delete this.a[t])
            }
            ,
            N.prototype.cancelTileByKey = N.prototype.K,
            N.prototype.T = function(t, e, i) {
                this.cancelTileByKey(this.getTileKey(t, e, i))
            }
            ,
            N.prototype.cancelTile = N.prototype.T,
            N.prototype.D = function() {
                var t;
                for (t in N.u.D.call(this),
                this.getCache().Ea(this.m),
                this.a)
                    this.a[t].cancel(),
                    delete this.a[t]
            }
            ,
            N.NullStorage = ah,
            ah.prototype.get = function(t, e) {
                return e(),
                dh
            }
            ,
            ah.prototype.get = ah.prototype.get,
            ah.prototype.gd = function(t, e, i) {
                i && i()
            }
            ,
            ah.prototype.put = ah.prototype.gd,
            ah.prototype.clear = function(t) {
                t && t()
            }
            ,
            ah.prototype.clear = ah.prototype.clear,
            ah.prototype.remove = function(t, e) {
                e && e()
            }
            ,
            ah.prototype.remove = ah.prototype.remove,
            v(eh, N),
            r("H.map.provider.MarkerTileProvider", eh),
            eh.prototype.v = function(t) {
                return t ? t.length + 1 : 1
            }
            ,
            eh.prototype.getEntryWeight = eh.prototype.v,
            eh.prototype.c = function(t, e, i, a, n) {
                var r = this;
                return this.ea(t, e, i, function(n) {
                    for (var o, s, l = [], c = n.length; c--; )
                        (s = n[c]).Di = r.getTileKey(t, e, i),
                        s.ia(r),
                        o = s.sb(),
                        (B(s, fh) || o.getState() === o.Pc.READY) && l.push(n[c]);
                    a(l)
                }, n)
            }
            ,
            eh.prototype.requestInternal = eh.prototype.c,
            eh.prototype.C = function(t, e) {
                var i;
                e !== Me.NONE && ((i = this.g.get(t.Di)) && (i.valid = !1),
                Rg(this, i))
            }
            ,
            eh.prototype.invalidateObject = eh.prototype.C,
            eh.prototype.i = function() {
                return this.O
            }
            ,
            eh.prototype.providesDomMarkers = eh.prototype.i,
            eh.prototype.l = Be,
            eh.prototype.providesMarkers = eh.prototype.l,
            r("H.math.Point", M),
            M.prototype.set = M,
            M.prototype.set = M.prototype.set,
            M.prototype.clone = function(t) {
                return t ? (t.x = this.x,
                t.y = this.y) : t = new M(this.x,this.y),
                t
            }
            ,
            M.prototype.clone = M.prototype.clone,
            M.prototype.add = function(t) {
                return this.x += t.x,
                this.y += t.y,
                this
            }
            ,
            M.prototype.add = M.prototype.add,
            M.prototype.b = function(t) {
                return this.x -= t.x,
                this.y -= t.y,
                this
            }
            ,
            M.prototype.sub = M.prototype.b,
            M.prototype.scale = function(t, e) {
                return this.x *= t,
                this.y *= void 0 === e ? t : e,
                this
            }
            ,
            M.prototype.scale = M.prototype.scale,
            M.prototype.round = function() {
                return this.x = nb(this.x),
                this.y = nb(this.y),
                this
            }
            ,
            M.prototype.round = M.prototype.round,
            M.prototype.floor = function() {
                return this.x = pb(this.x),
                this.y = pb(this.y),
                this
            }
            ,
            M.prototype.floor = M.prototype.floor,
            M.prototype.ceil = function() {
                return this.x = qb(this.x),
                this.y = qb(this.y),
                this
            }
            ,
            M.prototype.ceil = M.prototype.ceil,
            M.prototype.pa = function(t) {
                return !(!t || this.x !== t.x || this.y !== t.y)
            }
            ,
            M.prototype.equals = M.prototype.pa,
            M.prototype.a = function(t, e) {
                var i, a = e.x - t.x, n = e.y - t.y, r = t;
                return (a || n) && (r = 0 >= (i = ((this.x - t.x) * a + (this.y - t.y) * n) / (a * a + n * n)) ? t : 1 <= i ? e : new M(t.x + i * a,t.y + i * n)),
                r
            }
            ,
            M.prototype.getNearest = M.prototype.a,
            M.prototype.distance = function(t) {
                return tb(ub(this.x - t.x, 2) + ub(this.y - t.y, 2))
            }
            ,
            M.prototype.distance = M.prototype.distance,
            M.fromIPoint = gh,
            hh.prototype.zc = function() {}
            ,
            r("H.geo.IProjection.prototype.latLngToPoint", hh.prototype.zc),
            hh.prototype.Aa = function() {}
            ,
            r("H.geo.IProjection.prototype.xyToGeo", hh.prototype.Aa),
            hh.prototype.Fc = function() {}
            ,
            r("H.geo.IProjection.prototype.pointToGeo", hh.prototype.Fc),
            hh.prototype.qb = function() {}
            ,
            r("H.geo.IProjection.prototype.geoToPoint", hh.prototype.qb);
            var ih = {};
            function jh(t, e) {
                this.projection = t || ih,
                this.g = 0,
                this.c = this.exp = sb(e || 256) / Cb,
                kh(this),
                this.y = this.x = 0
            }
            r("H.geo.mercator", ih),
            ih.a = function(t) {
                return lb(1, mb(0, .5 - sb(zb(Fb + Eb * t / 180)) / Db / 2))
            }
            ,
            ih.b = function(t) {
                return t / 360 + .5
            }
            ,
            ih.zc = function(t, e, i) {
                return i ? (i.x = ih.b(e),
                i.y = ih.a(t)) : i = new M(ih.b(e),ih.a(t)),
                i
            }
            ,
            ih.latLngToPoint = ih.zc,
            ih.qb = function(t, e) {
                return ih.zc(t.lat, t.lng, e)
            }
            ,
            ih.geoToPoint = ih.qb,
            ih.f = function(t) {
                return 0 >= t ? 90 : 1 <= t ? -90 : Kb * (2 * Ab(vb(Db * (1 - 2 * t))) - Eb)
            }
            ,
            ih.c = function(t, e) {
                return e ? 0 >= t ? -180 : 1 <= t ? 180 : 360 * Ob(t, 1) - 180 : 360 * (1 === t ? 1 : Ob(t, 1)) - 180
            }
            ,
            ih.Aa = function(t, e, i, a) {
                return i ? (i.lat = ih.f(e),
                i.lng = ih.c(t, a)) : i = new gc(ih.f(e),ih.c(t, a)),
                i
            }
            ,
            ih.xyToGeo = ih.Aa,
            ih.Fc = function(t, e, i) {
                return ih.Aa(t.x, t.y, e, i)
            }
            ,
            ih.pointToGeo = ih.Fc,
            r("H.geo.PixelProjection", jh);
            var lh = rb(28) + rb(-8);
            function kh(t) {
                t.c > lh && (t.c = lh),
                t.w = ub(2, t.c),
                t.h = ub(2, t.c)
            }
            function mh(t) {
                mh.u.constructor.call(this),
                t = t || {},
                this.min = 0,
                this.max = 22,
                this.Oh = !!t.dark,
                t.min && this.B(t.min),
                t.max && this.s(t.max),
                this.pixelProjection = new jh(t.projection,t.minWorldSize)
            }
            function nh(t, e) {
                var i = e || {};
                if (!t)
                    throw new C(oh,0,t);
                this.l = z(this.l, this),
                this.f = t,
                t.addEventListener(Qg.prototype.F.la, this.l, !1, this),
                this.tileSize = t.tileSize,
                this.N = {},
                mh.call(this, {
                    min: t.min,
                    max: t.max,
                    minWorldSize: this.tileSize,
                    projection: i.bj,
                    dark: i.dark
                })
            }
            function rh(t, e, i, a, n) {
                a = pb(a);
                var r = ub(2, a)
                  , o = e.left
                  , s = e.top
                  , l = e.right;
                i = l + (i ? r + (l === e.left ? 0 : 1) : 1);
                var c, h, p = e.bottom, d = [];
                for (n && (c = o + (1 + l - o) / 2 + n.x / t.tileSize - .5,
                h = s + (1 + p - s) / 2 + n.y / t.tileSize - .5); o < i; ) {
                    for (s = e.top; s <= p; )
                        t = o % r,
                        d.push([t, s, a, n ? rb(c - o) + rb(h - s) : 0]),
                        s++;
                    o++
                }
                return d
            }
            function sh(t, e, i) {
                var a;
                return i = pb(i),
                t.pixelProjection.Ja(i),
                e = t.j(e),
                a = t.i(e, i),
                rh(t, a, e.left > e.right, i)
            }
            function th(t, e) {
                return e[3] - t[3]
            }
            function uh(t, e) {
                this.opacity = 1,
                uh.u.constructor.call(this, t, e)
            }
            jh.prototype.Ja = function(t) {
                if (D(t))
                    throw new C(this.Ja,0,t);
                var e = this.x / this.w
                  , i = this.y / this.h;
                this.g = t,
                this.c = this.exp + t,
                kh(this),
                this.x = e * this.w,
                this.y = i * this.h
            }
            ,
            jh.prototype.rescale = jh.prototype.Ja,
            jh.prototype.mg = function() {
                return this.g || 0
            }
            ,
            jh.prototype.getZoomScale = jh.prototype.mg,
            jh.prototype.geoToPixel = function(t, e) {
                var i = this.projection.zc(t.lat, t.lng, e);
                return i.x = i.x * this.w - this.x,
                i.y = i.y * this.h - this.y,
                i
            }
            ,
            jh.prototype.geoToPixel = jh.prototype.geoToPixel,
            jh.prototype.a = function(t, e, i) {
                return this.projection.Aa((t.x + this.x) / this.w, (t.y + this.y) / this.h, e, i)
            }
            ,
            jh.prototype.pixelToGeo = jh.prototype.a,
            jh.prototype.Aa = function(t, e, i, a) {
                return this.projection.Aa((t + this.x) / this.w, (e + this.y) / this.h, i, a)
            }
            ,
            jh.prototype.xyToGeo = jh.prototype.Aa,
            jh.prototype.f = function(t, e, i) {
                return (t = this.projection.zc(t, e, i)).x = t.x * this.w - this.x,
                t.y = t.y * this.h - this.y,
                t
            }
            ,
            jh.prototype.latLngToPixel = jh.prototype.f,
            jh.prototype.b = function(t) {
                return new M(t.x * this.w - this.x,t.y * this.h - this.y)
            }
            ,
            jh.prototype.pointToPixel = jh.prototype.b,
            v(mh, I),
            r("H.map.layer.Layer", mh),
            mh.prototype.a = {
                la: "update",
                Uf: "minchange",
                Tf: "maxchange"
            },
            mh.prototype.K = function(t) {
                return this.min <= t && t <= this.max
            }
            ,
            mh.prototype.isValid = mh.prototype.K,
            mh.prototype.B = function(t) {
                var e = this.min;
                if (t !== e) {
                    if (D(t))
                        throw new C(mh.prototype.B,0,"min is NaN");
                    if (!(t <= this.max))
                        throw new C(mh.prototype.B,0,"min > max");
                    this.min = t,
                    this.dispatchEvent(new Ne(this.a.Uf,t,e)),
                    this.l()
                }
                return this
            }
            ,
            mh.prototype.setMin = mh.prototype.B,
            mh.prototype.s = function(t) {
                var e = this.max;
                if (t !== e) {
                    if (D(t))
                        throw new C(mh.prototype.s,0,"max is NaN");
                    if (!(t >= this.min))
                        throw new C(mh.prototype.s,0,"max < min");
                    this.max = t,
                    this.dispatchEvent(new Ne(this.a.Tf,t,e)),
                    this.l()
                }
                return this
            }
            ,
            mh.prototype.setMax = mh.prototype.s,
            mh.prototype.l = function() {
                this.dispatchEvent(this.a.la)
            }
            ,
            mh.prototype.D = function() {
                mh.u.D.call(this)
            }
            ,
            mh.prototype.Ia = function() {
                return null
            }
            ,
            mh.prototype.getCopyrights = mh.prototype.Ia,
            v(nh, mh),
            r("H.map.layer.BaseTileLayer", nh),
            nh.prototype.Pa = function() {
                return this.f
            }
            ,
            nh.prototype.getProvider = nh.prototype.Pa,
            nh.prototype.j = function(t, e) {
                var i, a, n = this.pixelProjection;
                if (!B(t, G))
                    throw new C(this.j,0,t);
                return D(e) || (i = n.mg(),
                n.Ja(e)),
                a = ph(n.geoToPixel(t.tb()), n.geoToPixel(t.rb())),
                !D(i) && n.Ja(i),
                a
            }
            ,
            nh.prototype.geoRectToRect = nh.prototype.j,
            nh.prototype.i = function(t, e) {
                if (!B(t, qh))
                    throw new C(this.i,0,t);
                if (D(e = +e))
                    throw new C(this.i,1,e);
                var i, a, n = ub(2, pb(e)), r = this.tileSize;
                return (i = pb(t.left / r)) === n && --i,
                (a = pb(t.right / r)) === n && --a,
                new qh(i,Qb(pb(t.top / r), 0, n - 1),a,Qb(pb(t.bottom / r), 0, n - 1))
            }
            ,
            nh.prototype.getTileBounds = nh.prototype.i,
            nh.prototype.A = function(t, e, i, a) {
                return this.f.requestTile(t, e, i, a)
            }
            ,
            nh.prototype.m = function(t, e, i) {
                this.f.cancelTile(t, e, i)
            }
            ,
            nh.prototype.cancelTile = nh.prototype.m,
            nh.prototype.Ia = function(t, e) {
                return this.f.getCopyrights ? this.f.getCopyrights(t, e) : null
            }
            ,
            nh.prototype.getCopyrights = nh.prototype.Ia,
            nh.prototype.o = function(t, e, i, a, n, r) {
                if (!B(t, qh))
                    throw new C(this.o,0,t);
                if (D(i = +i))
                    throw new C(this.o,1,i);
                var o, s, l = [], c = this.f;
                r = null != r ? r : "__default__";
                var h = c.requestTile;
                if (a || (o = {}),
                t = (e = rh(this, t, e, i, n)).length)
                    for (a || e.sort(th),
                    i = t; i--; )
                        n = e[i],
                        a || (o[c.A.apply(c, n)] = !0),
                        n[3] = +a,
                        (s = h.apply(c, n)) && l.push(s);
                if (!a) {
                    var p;
                    for (p in a = o,
                    o = this.N[r] || {})
                        o.hasOwnProperty(p) && o[p] && !a[p] && this.f.cancelTileByKey(p);
                    this.N[r] = a
                }
                return {
                    total: t,
                    tiles: l
                }
            }
            ,
            nh.prototype.getProviderTiles = nh.prototype.o,
            v(uh, nh),
            r("H.map.layer.MarkerTileLayer", uh);
            var vh = {
                markers: [],
                total: 0,
                requested: 0
            };
            function wh(t, e, i, a, n) {
                var r, o;
                for (r = pb(i),
                t.pixelProjection.Ja(r),
                e = t.j(e),
                r = t.i(e, r),
                i = t.o(r, r.left > r.right, ~~i, a, n),
                t = i.tiles,
                i = i.total,
                a = t.length,
                n = [],
                o = 0; o < a; o++)
                    for (e = (r = t[o]).data.length; e--; )
                        n.push(r.data[e]);
                return {
                    markers: n,
                    total: t.length,
                    requested: i
                }
            }
            function xh(t, e) {
                xh.u.constructor.call(this, Of, e),
                this.o(t)
            }
            function yh(t) {
                var e, i, a, n, r = t.a;
                return t = [e = r.ka, i = r.ga, A, e, n = r.ha, A, a = r.ja, n, A, a, i, A],
                180 <= r.ab() && (t.splice(9, 0, a, i = r.Oa().lng, A),
                t.splice(3, 0, e, i, A)),
                new E(new F(t))
            }
            function zh(t, e, i) {
                if (!t || !e || !i)
                    throw new C(zh,null,"Must specify name, version and revision parameter");
                this.name = t,
                this.version = e,
                this.revision = i
            }
            uh.prototype.c = function(t, e, i, a) {
                return this.f.providesDomMarkers() ? vh : wh(this, t, e, i, a)
            }
            ,
            uh.prototype.requestMarkers = uh.prototype.c,
            uh.prototype.b = function(t, e, i, a) {
                return this.f.providesDomMarkers() ? wh(this, t, e, i, a) : vh
            }
            ,
            uh.prototype.requestDomMarkers = uh.prototype.b,
            v(xh, Uf),
            r("H.map.Rect", xh),
            xh.prototype.o = function(t) {
                if (!B(t, G))
                    throw new C(this.o,0,t);
                t.pa(this.kb) || (this.kb = this.a = t,
                this.i !== x && xh.u.c.call(this, yh(this)))
            }
            ,
            xh.prototype.setBounds = xh.prototype.o,
            xh.prototype.S = function() {
                return this.a
            }
            ,
            xh.prototype.getBounds = xh.prototype.S,
            xh.prototype.A = function() {
                return this
            }
            ,
            xh.prototype.setNorthPoleCovering = xh.prototype.A,
            xh.prototype.c = function() {
                return this
            }
            ,
            xh.prototype.setGeometry = xh.prototype.c,
            xh.prototype.Ca = function() {
                return this.i || xh.u.c.call(this, yh(this)),
                this.i
            }
            ,
            xh.prototype.getGeometry = xh.prototype.Ca,
            xh.prototype.f = function() {
                return this
            }
            ,
            xh.prototype.setStrip = xh.prototype.f,
            xh.prototype.b = function() {
                return this.Ca().$a
            }
            ,
            xh.prototype.getStrip = xh.prototype.b,
            r("H.util.BuildInfo", zh),
            zh.prototype.toString = function() {
                return this.name + ";" + this.version + ";" + this.revision
            }
            ;
            var Ah = {};
            function Bh(t, e, i) {
                if (!t)
                    throw new C(Bh,1,"Must specify a name parameter");
                return Ah[t] || (Ah[t] = new zh(t,e,i))
            }
            function Ch() {
                Ch.u.constructor.call(this),
                this.a = Dh(this),
                this.f = Ka(),
                this.c = z(this.c, this),
                this.a.addEventListener("message", this.c)
            }
            zh.get = Bh,
            v(Ch, I),
            Ch.prototype.D = function() {
                this.a.terminate()
            }
            ,
            Ch.prototype.i = function(t) {
                var e = t.type
                  , i = !!this.f[e]
                  , a = t.data
                  , n = Eh++
                  , r = a && a.Ei ? a.Ei : A
                  , o = !0;
                return i ? (this.b[n] = t,
                Fh(this, e, n, a && a.message, r)) : (t.reject(new C(this.i,0,"processor_not_found")),
                o = !1),
                o
            }
            ,
            Ch.prototype.c = function(t) {
                t = t.data;
                var e = this.b[t.taskId]
                  , i = t.taskId
                  , a = t.data
                  , n = this;
                if (2 === t.type)
                    new Gh(Hh,a).then(function(t) {
                        n.a.postMessage(["3", i, [t]], [t])
                    }, function() {
                        n.a.postMessage(["3", i, [null, "ERROR"]])
                    });
                else {
                    if (e) {
                        switch (t.type) {
                        case 1:
                            e.resolve(a);
                            break;
                        case 0:
                            e.reject(a)
                        }
                        delete this.b[i]
                    }
                    this.dispatchEvent(new Bc(this.g.IDLE))
                }
            }
            ,
            Ch.prototype.b = {};
            var Eh = 0, Mh;
            function Ih(t, e, i) {
                var a, n = Eh++;
                return t.b[n] = a = gd(),
                Fh(t, e, n, i),
                a.sf
            }
            function Fh(t, e, i, a, n) {
                a === A || qa(a) || (a = [a]);
                try {
                    t.a.postMessage([e, i, a], n)
                } catch (r) {
                    (t = t.b[i]).reject(r.message)
                }
            }
            function Dh(a) {
                var b = w.H.__bootstrap__, c, b = sa(b) ? ("" + b).replace(/^[^{]+{((.|[\r\n])+?)}\s*$/, "$1") : "" + b;
                if (w.Worker && w.URL)
                    try {
                        c = new w.Worker(w.URL.createObjectURL(Ke(b, "application/javascript")))
                    } catch (d) {}
                return c || (a = new Jh(a),
                function() {
                    eval("var self = arguments[0];" + b)
                }(a),
                c = new Kh(a)),
                c
            }
            function Kh(t) {
                I.call(this),
                this.a = t
            }
            function Jh(a) {
                I.call(this),
                this.a = a,
                this.addEventListener = z(this.addEventListener, this),
                this.removeEventListener = z(this.removeEventListener, this),
                this.postMessage = z(this.postMessage, this),
                this.eval = z(eval, this)
            }
            function Lh() {
                var t = Mh;
                return t || (t = Mh = this,
                I.call(t),
                this.b()),
                t
            }
            function Nh(t, e, i) {
                td.call(this, t, e, i)
            }
            function Oh(t, e) {
                var i = (a = e || {}).contextType
                  , a = a.contextAttributes;
                if (Oh.u.constructor.call(this, e),
                B(t, Function, Oh, 0, "invalid render callback"),
                i) {
                    if (-1 === Ph.indexOf(i))
                        throw new C(Oh,1,"invalid context type");
                    this.v = i
                }
                a && (this.F = a),
                this.g = t
            }
            Ch.prototype.g = {
                IDLE: "idle",
                ERROR: "error"
            },
            Ch.prototype.l = function(t, e) {
                var i = this.j || (this.j = new Bc(this.g.ERROR));
                i.data = e,
                delete this.f[t],
                this.dispatchEvent(i)
            }
            ,
            Ch.prototype.importScripts = function(t) {
                Ih(this, "0", t)
            }
            ,
            v(Kh, I),
            Kh.prototype.postMessage = function(t) {
                w.setTimeout(z(this.b, this, t), 0)
            }
            ,
            Kh.prototype.b = function(t) {
                var e = new Bc("message");
                e.data = t,
                this.a.dispatchEvent(e)
            }
            ,
            Kh.prototype.terminate = function() {
                this.a.J(),
                this.J()
            }
            ,
            v(Jh, I),
            Jh.prototype.postMessage = function(t) {
                var e = new Bc("message");
                e.data = t,
                w.setTimeout(z(this.a.c, this.a, e), 0)
            }
            ,
            v(Lh, I),
            Lh.prototype.D = function() {
                Lh.u.D.call(this),
                this.b()
            }
            ,
            Ca(Lh.prototype, {
                b: function() {
                    var t, e = this.Hf;
                    if (e)
                        for (t = e.length; t--; )
                            e[t].J();
                    this.Hf = [],
                    this.Ed = Ka(),
                    this.Zg = Ka()
                },
                se: function(t) {
                    var e, i, a;
                    if (t = t.type,
                    !(a = this.Zg[t]))
                        throw new kc(this.se,'Unknown type "' + t + '"');
                    return (i = (e = this.Hf)[0]) || (i = e[0] = new Ch,
                    this.Eb(za(Ac, i)),
                    Wa(this.Ed) || i.importScripts(w.Object.keys(this.Ed))),
                    (e = i).f[t] || (e.f[t] = a,
                    Ih(e, "1", [t, sa(a) ? a + "" : a]).then(sc, z(e.l, e, t))),
                    i
                },
                ye: function() {},
                md: function(t, e) {
                    var i = this.Zg
                      , a = i[t];
                    if (a) {
                        if (e !== a)
                            throw new kc(this.md,'Type "' + t + '" is already registered')
                    } else
                        i[t] = e
                },
                importScripts: function(t) {
                    [].concat(t).forEach(function(t) {
                        this.Ed[t] || (this.Ed[t] = !0,
                        this.Hf.forEach(function(e) {
                            e.importScripts(t)
                        }))
                    }, this)
                }
            }),
            v(Nh, td),
            Ca(Nh.prototype, {
                Fe: function() {
                    var t = new wd(new Lh);
                    return function() {
                        return t
                    }
                }(),
                Sc: sc,
                De: function(t) {
                    return t.i(this)
                }
            }),
            v(Oh, mh),
            r("H.map.layer.CanvasLayer", Oh);
            var Ph = Ra("2d webgl webgl2 experimental-webgl");
            function Qh(t, e) {
                Qh.u.constructor.call(this, e),
                B(t, Function, Qh, 0, "invalid render callback"),
                this.f = t
            }
            function Rh(t, e) {
                var i, a = t;
                if (!B(a, Element)) {
                    if (Sh.innerHTML = a,
                    !(a = Sh.firstElementChild))
                        throw new C(Rh,0,"No element data");
                    Sh.removeChild(a),
                    i = !0,
                    Sh.innerHTML = ""
                }
                this.c = 0 !== Ee(a).length,
                this.i = i ? a : Fe(a, w.document, this.c),
                e && ((i = "onAttach")in e && Xa(a = e[i], "Function", Rh, 1, i) && (this.ff = a),
                (i = "onDetach")in e && Xa(a = e[i], "Function", Rh, 1, i) && (this.f = a))
            }
            Oh.prototype.v = "2d",
            Oh.prototype.ca = function(t, e) {
                return this.f && this.f.canvas === t || (this.f = t.getContext(this.v, this.F)),
                this.g(this.f, e)
            }
            ,
            Oh.prototype.D = function() {
                Oh.u.D.call(this),
                this.f = A
            }
            ,
            v(Qh, mh),
            r("H.map.layer.DomLayer", Qh),
            Qh.prototype.ca = function(t, e) {
                return this.f(t, e)
            }
            ,
            r("H.map.DomIcon", Rh);
            var Sh = document.createElement("DIV");
            function Th(t, e) {
                this.w = +t,
                this.h = +e
            }
            function Uh(t, e) {
                var i, a, n, r, o, s, l;
                r = t;
                var c = e || [];
                if (t !== Vh.NONE) {
                    if (i = a = c.length,
                    -1 === this.c.indexOf(r))
                        throw new C(Uh,0,t);
                    if (!c)
                        throw new C(Uh,1,c);
                    for (; a--; )
                        if (D(c[a]))
                            throw new C(Uh,1,c);
                    if (r === Vh.RECT && 3 < i && (c = [c[0], c[1], c[2], c[1], c[2], c[3], c[0], c[3]],
                    r = Vh.POLYGON),
                    r === Vh.CIRCLE && 2 < i && 0 < (n = c[2])) {
                        for (r = c[0],
                        o = c[1],
                        s = 360 / (a = lb(2 * qb(n), 40)),
                        c = []; a--; )
                            l = s * a * Ib,
                            c.push(r + wb(l) * n, o + yb(l) * n);
                        r = Vh.POLYGON
                    }
                    if (r !== Vh.POLYGON || !i || c.length % 2)
                        throw new C(Uh,1,c);
                    this.b = c
                }
            }
            Rh.prototype.ff = null,
            Rh.prototype.f = null,
            Rh.prototype.c = !1,
            r("H.math.Size", Th),
            r("H.map.HitArea", Uh);
            var Vh = {
                NONE: 0,
                RECT: 1,
                CIRCLE: 2,
                POLYGON: 3
            };
            function Wh(t, e) {
                var i;
                Ua(this, Wh),
                Wh.u.constructor.call(this, e),
                this.a(t),
                e && "icon"in e && (i = e.icon),
                this.$b(i || Xh(this))
            }
            function Xh(t) {
                var e = t.i;
                return e || (e = t.constructor.prototype.i = t.c(Yh)),
                e
            }
            Uh.ShapeType = Vh,
            Uh.prototype.c = [Vh.RECT, Vh.CIRCLE, Vh.POLYGON],
            Uh.prototype.a = function(t, e, i) {
                return this.b ? Ub(t, e, this.b, i, !0) : Tb.NONE
            }
            ,
            Uh.prototype.hitTest = Uh.prototype.a,
            v(Wh, K),
            r("H.map.AbstractMarker", Wh),
            Wh.prototype.getPosition = function() {
                return B(this.b, sg) ? this.b.ma[0] : this.b
            }
            ,
            Wh.prototype.getPosition = Wh.prototype.getPosition,
            Wh.prototype.f = function(t) {
                return hc(t, this.f, 0),
                this.a(t),
                this
            }
            ,
            Wh.prototype.setPosition = Wh.prototype.f,
            Wh.prototype.Ca = function() {
                return this.b
            }
            ,
            Wh.prototype.getGeometry = Wh.prototype.Ca,
            Wh.prototype.a = function(t) {
                var e = this.b;
                return B(t, gc) || B(t, sg) ? this.b = t : (hc(t, this.a, 0),
                this.b = ic(t)),
                e && this.ua(Me.SPATIAL),
                this
            }
            ,
            Wh.prototype.setGeometry = Wh.prototype.a,
            Wh.prototype.S = function() {
                return this.b.S()
            }
            ,
            Wh.prototype.sb = function() {
                return this.icon
            }
            ,
            Wh.prototype.getIcon = Wh.prototype.sb,
            Wh.prototype.$b = function(t) {
                var e = this.icon
                  , i = !e;
                if (e !== t) {
                    if (!B(t, this.pg))
                        throw C.apply(e = new C, i ? [this.constructor, 1, "icon"] : [this.a, 0, t]),
                        e;
                    this.icon = t,
                    i || this.ua(Me.VISUAL)
                }
                return this
            }
            ,
            Wh.prototype.setIcon = Wh.prototype.$b;
            var Yh = {
                svg: '<svg xmlns="http://www.w3.org/2000/svg" width="28px" height="36px"><path d="M 19 31 C 19 32.7 16.3 34 13 34 C 9.7 34 7 32.7 7 31 C 7 29.3 9.7 28 13 28 C 16.3 28 19 29.3 19 31 Z" fill="#000" fill-opacity=".2"/><path d="M 13 0 C 9.5 0 6.3 1.3 3.8 3.8 C 1.4 7.8 0 9.4 0 12.8 C 0 16.3 1.4 19.5 3.8 21.9 L 13 31 L 22.2 21.9 C 24.6 19.5 25.9 16.3 25.9 12.8 C 25.9 9.4 24.6 6.1 22.1 3.8 C 19.7 1.3 16.5 0 13 0 Z" fill="#fff"/><path d="M 13 2.2 C 6 2.2 2.3 7.2 2.1 12.8 C 2.1 16.1 3.1 18.4 5.2 20.5 L 13 28.2 L 20.8 20.5 C 22.9 18.4 23.8 16.2 23.8 12.8 C 23.6 7.07 20 2.2 13 2.2 Z" fill="#18d"/></svg>',
                size: new Th(28,36),
                anchor: new M(14,32),
                hitArea: new Uh(3,[0, 16, 0, 7, 8, 0, 18, 0, 26, 7, 26, 16, 18, 34, 8, 34])
            };
            function fh(t, e) {
                fh.u.constructor.call(this, t, e)
            }
            function Zh(t, e) {
                var i = e || {};
                "status"in i && (this.status = +i.status),
                "statusText"in i && (this.statusText = i.statusText),
                this.ok = 200 <= this.status && 300 > this.status,
                this.b = !1,
                t ? "string" === typeof t && (this.a = t) : this.a = ""
            }
            function $h(t, e, i) {
                function a() {
                    var t = z(c.b, c)
                      , e = +l.timeout || 0;
                    ai ? (bi(c, "timeout", t),
                    n.timeout = e) : e && (c.f = setTimeout(function() {
                        n.abort(),
                        c.b({
                            type: "timeout"
                        })
                    }, e)),
                    bi(c, "error", t),
                    bi(c, "load", t),
                    n.send(l.data)
                }
                var n, r, o, s = i && i.headers || {}, l = {}, c = this;
                if (!sa(e))
                    throw new C($h,1,"function required");
                t += "",
                Ca(s, ci.headers, s),
                Ca(l, ci, i || {}),
                l.headers = s,
                this.c = e,
                this.a = n = new XMLHttpRequest,
                e = l.method;
                try {
                    for (r in n.open(e, t, !0),
                    s)
                        s.hasOwnProperty(r) && (o = s[r]) && n.setRequestHeader(r, o);
                    n.withCredentials = !!l.withCredentials,
                    a()
                } catch (h) {
                    if (di)
                        this.b({
                            type: "cors"
                        });
                    else {
                        this.a = n = new XDomainRequest;
                        try {
                            n.open(e, t),
                            n.onprogress = function() {}
                            ,
                            a()
                        } catch (p) {
                            this.b({
                                type: "cors"
                            })
                        }
                    }
                }
            }
            v(fh, Wh),
            r("H.map.DomMarker", fh),
            fh.prototype.type = Pe.DOM_MARKER,
            fh.prototype.je = 2,
            fh.prototype.c = function(t) {
                var e = new Rh(t.svg,t);
                return t = t.anchor,
                e.i.style.margin = -t.y + "px 0 0 -" + t.x + "px",
                e
            }
            ,
            fh.prototype.pg = Rh,
            r("H.net.Response", Zh),
            Zh.prototype.type = "default",
            Zh.prototype.type = Zh.prototype.type,
            Zh.prototype.status = 200,
            Zh.prototype.status = Zh.prototype.status,
            Zh.prototype.statusText = "OK",
            Zh.prototype.statusText = Zh.prototype.statusText,
            Zh.b = function(t) {
                if (t.b)
                    return fd(new TypeError("Already read"));
                t.b = !0
            }
            ,
            Zh.error = function() {
                return Zh.a || (Zh.a = new Zh(null,{
                    status: 0,
                    statusText: ""
                }),
                Zh.a.type = "error"),
                Zh.a
            }
            ,
            Zh.error = Zh.error,
            Zh.prototype.text = function() {
                var t = Zh.b(this);
                return t || (t = this.a ? new Xc(Zc,this.a) : fd("Unsupported response body")),
                t
            }
            ,
            Zh.prototype.json = function() {
                return this.text().then(w.JSON.parse)
            }
            ,
            w.Response && w.Response.error && (Zh = w.Response),
            r("H.net.Xhr", $h);
            var ci = {
                method: "GET",
                headers: {},
                data: null
            }
              , di = "withCredentials"in new XMLHttpRequest
              , ai = "timeout"in new XMLHttpRequest;
            function bi(t, e, i) {
                di ? t.a.addEventListener(e, i) : t.a["on" + e] = i
            }
            function ei(t, e, i) {
                di ? t.a.removeEventListener(e, i) : t.a["on" + e] = null
            }
            function fi() {
                var t = fi.a;
                return t || (t = this,
                fi.a = t,
                I.call(t),
                this.a()),
                t
            }
            function Gh(t, e, i, a) {
                var n = gi;
                if (!this.b[t])
                    throw new C(Gh,0,"Mime type is not supported");
                this.g = t,
                this.a = a,
                n.href = e,
                td.call(this, n.protocol + "//" + n.hostname, e, i)
            }
            $h.prototype.g = function() {
                this.a && (this.a.abort(),
                this.a && this.b({
                    type: "abort"
                }))
            }
            ,
            $h.prototype.abort = $h.prototype.g,
            $h.prototype.b = function(t) {
                var e, i, a = t.type;
                t = this.a,
                this.f && clearTimeout(this.f),
                "load" === a ? t instanceof XMLHttpRequest && 200 !== t.status && (e = "network") : e = 4 === t.readyState && 0 === t.status && "error" == a ? "cors" : "error" != a ? a : "network",
                ei(this, "timeout", a = this.b),
                ei(this, "error", a),
                ei(this, "load", a),
                i = 0 === t.status || e && "network" !== e ? Zh.error() : new Zh(t.responseText,t),
                e = this.c,
                delete this.b,
                delete this.c,
                delete this.a,
                e(i)
            }
            ,
            v(fi, I),
            fi.prototype.D = function() {
                fi.u.D.call(this),
                this.a()
            }
            ,
            Ca(fi.prototype, {
                a: function() {
                    this.oi = 10,
                    this.pi = 6,
                    this.Jc = Ka(),
                    this.uf = Ka(),
                    this.xf = 0
                },
                se: function(t) {
                    t = t.type;
                    var e, i = this.Jc[t] || 0;
                    return this.xf < this.oi && i < this.pi ? (e = this.Fi(),
                    this.xf++,
                    this.Jc[t] = i + 1,
                    this.uf[e] = t,
                    e) : x
                },
                ye: function(t) {
                    var e = this.uf[t];
                    if (!Ta(e) || !this.Jc[e])
                        throw new kc(this.ye,"Unknown requestId");
                    this.xf--,
                    this.Jc[e]--,
                    this.Jc[e] || delete this.Jc[e],
                    delete this.uf[t],
                    this.dispatchEvent("allocatable")
                },
                di: -1,
                Fi: function() {
                    return ++this.di
                }
            }),
            v(Gh, td),
            Gh.prototype.De = function() {
                return this.f = this.b[this.g].call(this),
                !0
            }
            ,
            Gh.prototype.Sc = function() {
                this.f && (this.f.abort(),
                this.f = null)
            }
            ,
            Gh.prototype.b = {
                "application/json": function() {
                    var t = this
                      , e = this.a || {};
                    return (e.headers || (e.headers = {})).Accept = "application/json",
                    new $h(this.data,function(e) {
                        200 <= e.status && 300 > e.status ? t.resolve(e.json()) : t.reject(e)
                    }
                    ,e)
                },
                "text/plain": function() {
                    var t = this;
                    return new $h(this.data,function(e) {
                        200 <= e.status && 300 > e.status ? t.resolve(e.text()) : t.reject(e)
                    }
                    ,this.a)
                },
                image: function() {
                    var t = w.document.createElement("img")
                      , e = this.a && this.a.crossOrigin
                      , i = this;
                    return t.onload = z(this.resolve, this, t),
                    t.onerror = function() {
                        i.reject(Zh.error())
                    }
                    ,
                    t.src = this.data,
                    Ta(e) && (t.crossOrigin = e),
                    {
                        abort: function() {
                            t.onerror = t.onload = null,
                            ve && Ie(t) || t.removeAttribute("src")
                        }
                    }
                }
            },
            function() {
                var t;
                try {
                    (t = new XMLHttpRequest).open("get", "/", !0)
                } catch (e) {
                    t = {}
                }
                "response"in t && (Gh.prototype.b.arraybuffer = function() {
                    var t = new XMLHttpRequest
                      , e = this;
                    return t.open("GET", this.data),
                    t.responseType = "arraybuffer",
                    t.onerror = t.ontimeout = function() {
                        e.reject(Zh.error())
                    }
                    ,
                    t.onload = function() {
                        e.resolve(t.response)
                    }
                    ,
                    t.send(),
                    t
                }
                )
            }(),
            Gh.prototype.Fe = function() {
                var t = new wd(new fi);
                return function() {
                    return t
                }
            }();
            var Hh = "arraybuffer"
              , gi = w.document.createElement("a");
            function hi(t) {
                if (!(e = ii[t]))
                    if (t in ji)
                        e = ii[t] = t;
                    else {
                        var e = ki.length
                          , i = ""
                          , a = t.substr(0, 1).toUpperCase() + t.substr(1)
                          , n = ""
                          , r = !1;
                        li && (r = (n = li + a)in ji);
                        for (; e-- && !r; )
                            r = (n = (i = ki[e]) + a)in ji;
                        if (r && (li = i),
                        !(e = r ? n : null))
                            throw Error("Could not find any variant of CSS property [" + t + "]");
                        ii[t] = e
                    }
                return e
            }
            r("H.dom.cssPrefixer.prefix", hi);
            var ki = ["O", "Ms", "ms", "Moz", "Webkit"]
              , ii = {}
              , li = ""
              , ji = document.createElement("span").style;
            function mi(t, e, i, a, n) {
                switch (e && (this.c = e),
                Ta(i) && (this.te = !!i),
                this.te && a && (this.b = new Th(a.w,a.h)),
                n && (this.f = {
                    crossOrigin: "anonymous"
                }),
                ni[Ya(t)]) {
                case 2:
                    this.ic = t,
                    oi(this, 1);
                    break;
                case 1:
                    if (Ie(t)) {
                        this.ic = t,
                        pi(this),
                        oi(this, 1);
                        break
                    }
                    t = t.src;
                case 0:
                    if (t) {
                        t = xe(t),
                        this.a = new Gh("image",t,A,this.f),
                        this.a.then(z(this.i, this), z(this.g, this));
                        break
                    }
                default:
                    throw oi(this, -1),
                    new C(mi,0,"No image data")
                }
            }
            function oi(t, e) {
                t.G = e,
                delete t.a,
                t.c && t.c(e, t)
            }
            function pi(t) {
                if (t.te) {
                    var e = t.ic
                      , i = qi(t)
                      , a = i && i.w || +e.width
                      , n = i && i.h || +e.height;
                    B(e, w.HTMLCanvasElement) ? i = e : ((i = e.ownerDocument.createElement("CANVAS")).width = a,
                    i.height = n,
                    i.getContext("2d").drawImage(e, 0, 0, a, n)),
                    t.ic = i
                }
            }
            p = mi.prototype,
            p.G = 0,
            p.getState = function() {
                return this.G
            }
            ,
            p.te = !0,
            p.ic = x,
            p.getData = function() {
                return this.ic
            }
            ;
            var ni = {
                String: 0,
                HTMLImageElement: 1,
                HTMLCanvasElement: 2
            };
            function qi(t) {
                var e, i, a, n, r = t.b;
                return r || (0 === (r = (e = t.ic).naturalWidth || e.width) && ve && 1 === ni[Ya(e)] && (i = !0,
                (a = e.parentNode) && (n = e.nextSibling),
                document.body.appendChild(e)),
                t.b = r = new Th(e.naturalWidth || e.width,e.naturalHeight || e.height),
                i && (a ? a.insertBefore(e, n) : document.body.removeChild(e))),
                r
            }
            function ri(t, e) {
                var i, a, n, r;
                if (this.uid = si.next(),
                ri.u.constructor.call(this),
                e) {
                    if ((i = "size")in e) {
                        if (!(a = e[i]) || isNaN(a.w) || isNaN(a.h))
                            throw new C(ri,1,i);
                        this.b = new Th(a.w,a.h)
                    }
                    if ((i = "anchor")in e) {
                        if (!(a = e[i]) || isNaN(a.x) || isNaN(a.y))
                            throw new C(ri,1,i);
                        this.a = new M(a.x,a.y)
                    }
                    (i = "hitArea")in e && (B(a = e[i], Uh, ri, 1),
                    this.g = e[i]),
                    (i = "asCanvas")in e && (n = e[i]),
                    (i = "crossOrigin")in e && (r = e[i])
                }
                i = new mi(t,z(this.i, this),n,this.b,r),
                0 !== (a = this.G = i.getState()) ? this.i(a, i) : this.f = i
            }
            mi.prototype.b = x,
            mi.prototype.i = function(t) {
                this.ic = t,
                pi(this),
                oi(this, 1)
            }
            ,
            mi.prototype.g = function() {
                oi(this, -1)
            }
            ,
            mi.prototype.cancel = function() {
                this.a && this.a.cancel()
            }
            ,
            v(ri, I),
            r("H.map.Icon", ri);
            var si = new ye;
            ri.prototype.Pc = {
                ERROR: -1,
                LOADING: 0,
                READY: 1
            },
            ri.prototype.State = ri.prototype.Pc,
            ri.prototype.getState = function() {
                return this.G
            }
            ,
            ri.prototype.getState = ri.prototype.getState,
            ri.prototype.i = function(t, e) {
                if (this.c = e.getData(),
                1 === t) {
                    var i = this.b;
                    i || (i = this.b = 1 === e.G ? qi(e) : x),
                    this.a || (this.a = new M(i.w / 2 | 0,i.h))
                }
                this.f && (this.G = t,
                delete this.f,
                this.dispatchEvent("statechange"))
            }
            ,
            ri.prototype.c = x,
            ri.prototype.Pb = function() {
                return this.c
            }
            ,
            ri.prototype.getBitmap = ri.prototype.Pb,
            ri.prototype.b = x,
            ri.prototype.o = function() {
                return this.b
            }
            ,
            ri.prototype.getSize = ri.prototype.o,
            ri.prototype.a = x,
            ri.prototype.j = function() {
                return this.a
            }
            ,
            ri.prototype.getAnchor = ri.prototype.j,
            ri.prototype.g = x,
            ri.prototype.l = function() {
                return this.g
            }
            ,
            ri.prototype.getHitArea = ri.prototype.l,
            ri.prototype.D = function() {
                ri.u.D.call(this),
                this.c ? (this.c.removeAttribute("src"),
                delete this.c) : (this.f.cancel(),
                delete this.f)
            }
            ;
            var ti = he;
            r("H.util.events.listenOnce", ti),
            r("H.util.events.dispatchEvent", function(t, e) {
                return t.dispatchEvent(e)
            }),
            r("H.util.events.fireListeners", function(t, e, i, a) {
                return zd(t) ? t.dc(e, i, a) : ke(t, e, i, a)
            });
            var ui = ae;
            r("H.util.events.listen", ui);
            var vi = ie;
            r("H.util.events.unlisten", vi);
            var wi = le
              , le = function(t, e) {
                var i, a, n, r = !0;
                return i = e[e.currentTarget === e.target ? "AT_TARGET" : t.ya ? "CAPTURING_PHASE" : (a = !0,
                "BUBBLING_PHASE")],
                (!a || "pointerenter" !== (n = e.type) && "pointerleave" !== n) && (e.eventPhase = i,
                r = wi(t, e),
                a && t.src && t.src.jb && null === t.src.jb() && delete e.eventPhase),
                r
            };
            function xi(t, e) {
                xi.u.constructor.call(this, t, e)
            }
            function yi(t, e, i, a) {
                yi.u.constructor.call(this, t, e, i),
                this.modifiers = a
            }
            function zi() {
                this.Y = [],
                zi.u.constructor.call(this)
            }
            function Ai(t, e, i) {
                var a;
                if (t = t.Y.length,
                i)
                    a = t;
                else if (D(a = 0 > (a = +e) ? mb(0, t + a) : lb(t, a)))
                    throw new ec(zi,e,[0, t - 1]);
                return a
            }
            function Ci(t, e) {
                var i = t.Y.splice(e, 1)[0];
                return t.dispatchEvent(new Bi(t,t.a.Nc,e,null,i,null)),
                i
            }
            function Bi(t, e, i, a, n, r) {
                Bi.u.constructor.call(this, e, t),
                this.idx = i,
                this.added = a,
                this.removed = n,
                this.moved = r
            }
            function Di(t) {
                if (Di.u.constructor.call(this),
                this.dispatchEvent = z(this.dispatchEvent, this),
                t)
                    for (var e = 0, i = t.length; e < i; e++)
                        this.add(t[e])
            }
            function Ei(t, e) {
                sa(t) && (this.i = t),
                ab(e) && (this.a = e)
            }
            v(xi, Wh),
            r("H.map.Marker", xi),
            p = xi.prototype,
            p.type = Pe.MARKER,
            p.je = 1,
            p.ua = function(t) {
                var e;
                return t === Me.VISUAL && 1 !== this.Yg && 1 !== this.icon.getState() || (e = xi.u.ua.call(this, t)),
                e || !1
            }
            ,
            p.Yg = 0,
            p.pg = ri,
            p.Le = !1,
            p.Hg = function() {
                this.ua(Me.VISUAL)
            }
            ,
            p.$b = function(t) {
                var e = this.icon;
                return this.Le && (e.removeEventListener("statechange", this.Hg, !1, this),
                delete this.Le),
                e && (this.Yg = e.getState()),
                xi.u.$b.call(this, t),
                0 === t.getState() && (this.Le = !0,
                ti(t, "statechange", this.Hg, !1, this)),
                this
            }
            ,
            xi.prototype.setIcon = xi.prototype.$b,
            xi.prototype.c = function(t) {
                return new ri(t.svg,t)
            }
            ,
            v(yi, Ne),
            r("H.map.ChangeEvent", yi),
            yi.prototype.b = 1,
            yi.prototype.FOV = yi.prototype.b,
            yi.prototype.PITCH = 2,
            yi.prototype.PITCH = yi.prototype.PITCH,
            yi.prototype.POSITION = 4,
            yi.prototype.POSITION = yi.prototype.POSITION,
            yi.prototype.c = 8,
            yi.prototype.ROLL = yi.prototype.c,
            yi.prototype.f = 16,
            yi.prototype.SIZE = yi.prototype.f,
            yi.prototype.g = 32,
            yi.prototype.YAW = yi.prototype.g,
            yi.prototype.ZOOM = 64,
            yi.prototype.ZOOM = yi.prototype.ZOOM,
            v(zi, I),
            r("H.util.OList", zi),
            zi.prototype.add = function(t, e) {
                var i = Ai(this, e, D(e));
                this.Y.splice(i, 0, t),
                this.dispatchEvent(new Bi(this,this.a.Lc,i,t,null,null))
            }
            ,
            zi.prototype.add = zi.prototype.add,
            zi.prototype.b = function(t) {
                return this.get(t),
                Ci(this, t)
            }
            ,
            zi.prototype.removeAt = zi.prototype.b,
            zi.prototype.remove = function(t) {
                return 0 <= (t = this.indexOf(t)) && (Ci(this, t),
                !0)
            }
            ,
            zi.prototype.remove = zi.prototype.remove,
            zi.prototype.set = function(t, e) {
                var i = this.get(t);
                return t = Ai(this, t, !1),
                i = this.Y[t],
                this.Y[t] = e,
                this.dispatchEvent(new Bi(this,this.a.td,t,e,i,null)),
                i
            }
            ,
            zi.prototype.set = zi.prototype.set,
            zi.prototype.indexOf = function(t) {
                return this.Y.indexOf(t)
            }
            ,
            zi.prototype.indexOf = zi.prototype.indexOf,
            zi.prototype.get = function(t) {
                var e = Ai(this, t, !1)
                  , i = this.Y;
                if (e >= i.length)
                    throw new ec(this.get,t,[0, i.length - 1]);
                return i[e]
            }
            ,
            zi.prototype.get = zi.prototype.get,
            zi.prototype.g = function() {
                return this.Y.length
            }
            ,
            zi.prototype.getLength = zi.prototype.g,
            zi.prototype.c = function() {
                return [].concat(this.Y)
            }
            ,
            zi.prototype.asArray = zi.prototype.c,
            zi.prototype.f = function() {
                for (var t = this.Y.length; t--; )
                    Ci(this, t)
            }
            ,
            zi.prototype.flush = zi.prototype.f,
            zi.prototype.D = function() {
                this.f(),
                zi.u.D.call(this)
            }
            ,
            zi.prototype.a = {
                Lc: "add",
                Nc: "remove",
                td: "set",
                Pi: "move"
            },
            v(Bi, Bc),
            v(Di, zi),
            r("H.map.DataModel", Di),
            Di.prototype.add = function(t, e) {
                B(t, mh, this.add, 0),
                Di.u.add.call(this, t, e),
                t.addEventListener(t.a.la, this.dispatchEvent, !1)
            }
            ,
            Di.prototype.add = Di.prototype.add,
            Di.prototype.set = function(t, e) {
                var i;
                return B(e, mh, this.set, 0),
                i = Di.u.set.call(this, t, e),
                e.addEventListener(e.a.la, this.dispatchEvent, !1),
                i.removeEventListener(i.a.la, this.dispatchEvent, !1),
                i
            }
            ,
            Di.prototype.set = Di.prototype.set,
            Di.prototype.b = function(t) {
                var e;
                return (e = Di.u.b.call(this, t)) && e.removeEventListener(e.a.la, this.dispatchEvent, !1),
                e
            }
            ,
            Di.prototype.removeAt = Di.prototype.b,
            Di.prototype.remove = function(t) {
                var e;
                return (e = Di.u.remove.call(this, t)) && t.removeEventListener(t.a.la, this.dispatchEvent, !1),
                e
            }
            ,
            Di.prototype.remove = Di.prototype.remove,
            Di.prototype.f = function() {
                for (var t = this.Y.length; t--; )
                    this.b(t);
                Di.u.f.call(this)
            }
            ,
            Di.prototype.flush = Di.prototype.f,
            r("H.util.Request", Ei),
            Ei.State = {
                PENDING: 0,
                PROCESSING: 1,
                COMPLETE: 2,
                CANCELLED: 3,
                ERROR: 4
            };
            var Fi = {
                Vf: 0,
                ne: 1,
                le: 2,
                Ji: 3,
                ERROR: 4
            }, Gi = [0, 1, 2, 3, 4], Ni;
            function Hi(t, e) {
                t.b < t.a && (Ta(e) || (e = Fi.le),
                e === Fi.Vf || e === Fi.ne || t.G !== Fi.Vf && t.G !== Fi.ne || (t.b++,
                e !== Fi.le && t.g++,
                t.L(t.b < t.a ? Fi.ne : Fi.le)))
            }
            function Ii() {}
            function Ji(t, e) {
                var i = t.b
                  , a = i.ownerDocument;
                Ji.u.constructor.call(this),
                this.a = t,
                this.b = i = i.appendChild(Ki(a, "DIV", "position:absolute;bottom:4.55em;left:0.5em;z-index:1;height:0px;direction:ltr")),
                this.ve = Ki(a, "DIV", "position:absolute;top:0px;pointer-events:none;", Li),
                this.m = i.appendChild(this.ve).firstChild.firstChild.style,
                i = i.appendChild(Ki(a, "DIV", "-webkit-touch-callout: none;-webkit-user-select:none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select:none;whiteSpace:nowrap;position:relative;top:2.73em;padding-left:1px")),
                this.i = i.appendChild(Ki(a, "SPAN")),
                this.i.setAttribute("unselectable", "on"),
                this.l = i.appendChild(Ki(a, "A", "color:inherit", "Terms of use")),
                this.l.target = "_blank",
                this.s = i = i.appendChild(Ki(a, "SPAN", "color:inherit", " | ")),
                this.B = i.appendChild(function() {
                    var t = Ki(a, "A", "color:inherit", "Report image");
                    return t.target = "_blank",
                    t
                }()),
                this.o = Qa(Mi),
                this.g(e),
                this.f = z(this.f, this),
                this.c = z(this.c, this),
                this.a.addEventListener(this.a.v.Sf, this.f),
                this.a.fa.addEventListener("add", this.c),
                this.a.fa.addEventListener("remove", this.c),
                this.a.fa.addEventListener("set", this.c),
                this.c()
            }
            Ei.prototype.G = 0,
            Ei.prototype.getState = function() {
                return this.G
            }
            ,
            Ei.prototype.getState = Ei.prototype.getState,
            Ei.prototype.L = function(t) {
                if (0 > Gi.indexOf(t))
                    throw new C(this.L,0,t);
                (this.G !== t || 1 === t && 1 < this.a) && (this.G = t,
                this.i && this.i(this))
            }
            ,
            Ei.prototype.a = 1,
            Ei.prototype.m = function() {
                return this.a
            }
            ,
            Ei.prototype.getTotal = Ei.prototype.m,
            Ei.prototype.b = 0,
            Ei.prototype.o = function() {
                return this.b
            }
            ,
            Ei.prototype.getProcessed = Ei.prototype.o,
            Ei.prototype.g = 0,
            Ei.prototype.j = function() {
                return this.g
            }
            ,
            Ei.prototype.getFailed = Ei.prototype.j,
            Ei.prototype.cancel = function() {
                3 !== this.G && (this.Sc(),
                this.L(3))
            }
            ,
            Ei.prototype.cancel = Ei.prototype.cancel,
            r("H.util.ICapturable", Ii),
            Ii.prototype.ya = function() {}
            ,
            Ii.prototype.capture = Ii.prototype.ya,
            r("H.util.Disposable", xc),
            xc.prototype.Eb = xc.prototype.Eb,
            xc.prototype.addOnDisposeCallback = xc.prototype.Eb,
            r("H.util.dispose", Ac),
            v(Ji, xc),
            r("H.map.Imprint", Ji);
            var Mi = {
                font: "11px Arial,sans-serif",
                href: "https://legal.here.com/{LN}/terms/serviceterms/{CN}",
                invert: !1,
                reportHref: "https://wego.here.com/",
                locale: "en-US"
            };
            function Ki(t, e, i, a) {
                return t = t.createElement(e),
                i && (t.style.cssText = i),
                a && (t.innerHTML = a),
                t
            }
            Ji.prototype.g = function(t) {
                var e, i;
                for (e in t || (this.o = Qa(Mi)),
                i = this.o)
                    t && e in t && (i[e] = t[e]);
                t = i.invert,
                this.m.fill = t ? "#FFF" : "rgba(0,0,0, 0.7)",
                this.b.style.color = t ? "#FFF" : "#333",
                this.sg = t,
                t = i.locale,
                Oi[t] || (t = "en-US",
                i.locale = t),
                this.l.innerHTML = Oi[t],
                t = t.split("-"),
                this.l.href = i.href.replace("{LN}", t[0]).replace("{CN}", t[1].toLowerCase()),
                this.b.style.font = i.font
            }
            ,
            Ji.prototype.setOptions = Ji.prototype.g,
            Ji.prototype.v = function() {
                return this.b
            }
            ,
            Ji.prototype.getElement = Ji.prototype.v,
            Ji.prototype.f = function() {
                var t, e = Mi.reportHref, i = this.a, a = this.B, n = this.s;
                i.g().type !== Pi ? n.style.display = "none" : (t = (i = i.c.Ab()).position,
                n.style.display = "inline",
                a.href = e + [t.lat, t.lng, 22, i.yaw, 90 + i.pitch].join() + ",panorama.day,report"),
                this.i.innerHTML = this.j + " " + this.Ia() + " | "
            }
            ,
            Ji.prototype.c = function() {
                this.f(),
                setTimeout(this.f, 5e3)
            }
            ;
            var Li = '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="3.64em" height="2.72em" viewBox="7 10 33 18" style="position: relative; left: 2px;"><g><path id="triangle_22_" d="M14.1,28l-3.6,3.6L7,28L14.1,28z"/><path id="here_21_" d="M19.4,19.9c-0.7-0.9-0.7-1.4-0.2-1.8c0.6-0.6,1.1-0.3,1.8,0.3L19.4,19.9z M27,10.3c0.6-0.6,1.1-0.3,1.8,0.3l-1.5,1.5C26.5,11.2,26.6,10.7,27,10.3z M31.6,11.8c-0.7,1-1.9,2.7-3.2,1.4l3.2-3.2c-0.3-0.3-0.5-0.6-0.7-0.7c-1.7-1.7-3.7-1.7-5.2-0.2c-1,1-1.3,2.2-1,3.3l-1-1.1c-0.3,0.2-1.5,1.2-0.6,2.9l-1.1-1l-1.5,1.5l2.1,2.1C21,15.5,19.3,15.6,18,17c-1.5,1.5-1.4,3.2-0.3,4.7l-0.2-0.2c-1.5-1.5-3-0.9-3.8-0.2c-0.6,0.6-1,1.4-0.8,2l-3.1-3.1L8,21.8l6.2,6.2h3.3l-2.2-2.2c-1.2-1.2-1.2-1.8-0.6-2.4c0.5-0.5,1.2-0.2,2.3,0.9l2.2,2.2l1.7-1.7l-2.1-2.1c1.5,1.1,3.3,1.2,4.9-0.4c0,0,0,0,0,0l0,0c1-0.9,1.3-1.8,1.3-1.8l-1.3-0.8c-0.7,1-1.9,2.7-3.1,1.5l3.2-3.2l2,2l1.7-1.7l-2.5-2.5c-1.2-1.2-0.5-2.3,0-2.7c0.2,0.5,0.6,0.9,1,1.4c1.6,1.6,3.7,1.9,5.5,0.1c0,0,0,0,0,0l0,0c1-0.9,1.3-1.8,1.3-1.8L31.6,11.8z"/></g></svg>'
              , Qi = "1987&ndash;" + mb(2015, (new Date).getFullYear()) + " HERE";
            function Ri(t, e, i, a) {
                Si(z(function(t) {
                    t ? this.sg ? i("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAeCAYAAABe3VzdAAADNklEQVRYR82XW6hVVRSGv7+rmJfSMKSnSkMEfY7EogcJC7tilGRopBAiSaI+SBARQSCIIqgFISih2YW0oAgLCsKXojA0RB+81VugZEFZv/yHuWTt7d7Hfc4+6+h4OWefNfcc3xlj/v+YS1zjoab5bE8DZgGngB8keSg5GwO0PQ54F3i2BnQIWCLpx14hGwG0fT3wOfBwB5DzwOOSDvQC2RTgM8Ae4D/gaeA3YDdwN5AWvyxp+6gD2r4OmAq8AbwInAMmA/OAT4CbgBWStvYClzUjWkHbrwHLgF8LVHJ8DDxah7P9JHCil7M40oA/A7OBC8ANtSqlrQOVs30/8CWQat8r6cxg1RwRQNvPA88Bk4D7gJzBV4A5teSp5MlS4VuA/ZIeu1Kr+wa0/QTwIRDlRhT5eTswBvi2CKOd42AULilndNAYCcA7gK+BmbVMiyXtsh3Qt4FFBTgW8w6wXtLfV4LrSyS2FwAvAWOBX+JtwF0laUDmS/oun23fDNwJnJb0Ty9g1ZphVdB2qrK2LdFfBbb685/AIxXkUKDqa4cMaDs2kjalRe8Fola57J3qRQSJviGHA3gMuAdYI2lDUfDOArQLWAd8VTuTOW9vjUoFy6TIGYpS9wKfAjuK5wVuSfn91iKcvZJeHy5ci0hsZwzNk5Qh3xIFbLyks7aPAtPLgv+L4VZwDwLvA6uKz6XdfcVAi22PBz4q4+lVSRurXW2vKYKIZfwEHCmmXC35HngAyITYD0ys2t8XWflyBfhmvKm24QCk7aVFCPVc7WMszzKucknI+NoHPCUppt13VICZm2nNwjoksByY0SXL72Vi3FieZ97mgrpyqF432H9xScW2O0H+W6oSE/4D2FYuA9kzlUzVTwO3Ad9IOtx3ydo2aLGZLpABm5KW2Z4AfAbMLfsEcpGkKLqRuMwHu0CukrSpCCrvGlF6hBEVL5MUw24kOhp1B8gc+FTqgxpkFLuzSbjk6jpJOkC2tDPeKCkVbDRkO67fDTTC2VK7vgfyBUlfNEpV2zyAK4HNXRLmZfshScdHC6g9T+WDGU2XpkdZdNXhWs6g7dXAhmsJ7jKR2M77bG4kV7Wt9TZfBLgYEC7PSpcIAAAAAElFTkSuQmCC") : i("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAeCAYAAABe3VzdAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIMSURBVFiFzdZPiE1RGADwXzPTTPIMQoodVpbKgpoUG5qExUi8DSVJQv4slJJsbNjYWFhNETWLUUosRDRLUVLCYhIiojFojHkW997uvefNGIuZc99Xp/fOO6/Or++c75xDi0d7hDlWYQNqeB9hvv+OGq6jUWjPsKZKVBbtuKOMy9p3bKqOlsROCWYc27AWr9PfJnCgKlgbluNqivmGDmzBrxR3sCocnMEw7sqXdEAzboeK9uLTFPVbed8VcesxglFJtqNEHbcxlIL68ChADuCSpEgauBULt11SDI3C5yJJdrLCCNsQumMBl+J5AKinY4slBfNTfsRcxJwYsK0YxD3J0r1RPut6Cv/twgp0xoDBBc3LNhr0RwJktNifAn7gsnLmsuxVinyVTn4i7dcLoH4sU96Tp2Pi2uSVehN75Gdev+QO7pIXztmZnLwTvf+AzU+/v5Rn50+A24gP2IW5M4mbJ7+ejgVjJ/EpHXuCa8p77nGK68FX5eWfsTgfTJoh92qu1vAaa+CtPJuDZuEh3CHZUyHyxSSYrL3DWKE/gStm8aybDDkmKYperJM/BrJMnsJuHMLq2YJNh/wsX7JuPAyQfTFg0yGPFMZreCCv4n2xgTQjxyXP+CxquK8iXBYhMlzOtliQBVg4RVuCG/iSto/YHAuWxWFTHyXDWBkbNFkc1cK4LI5rYVwW57QY7i/pZeJv8QQJRQAAAABJRU5ErkJggg==") : ((t = this.ve.cloneNode(!0)).firstChild.setAttribute("style", "font:" + e),
                    i(xe(t.innerHTML)))
                }, t), a)
            }
            function Si(t, e) {
                var i = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(Li)
                  , a = Ni;
                Ta(a) ? t(a) : new Gh("image",i).then(function(e) {
                    te.drawImage(e, 0, 0);
                    try {
                        te.getImageData(0, 0, 1, 1),
                        a = !1
                    } catch (i) {
                        a = 18 === i.code
                    } finally {
                        Ni = a,
                        t(a)
                    }
                }, e)
            }
            Ji.prototype.Ia = function() {
                var t, e, i, a, n = (t = this.a).getZoom(), r = t.ba(), o = (t = t.fa).Y.length, s = {}, l = 0, c = [Qi];
                if (r)
                    for (; l < o; l++)
                        if (i = t.get(l).getCopyrights(r, n))
                            for (e = 0; e < i.length; e++)
                                s[a = i[e].label] || (c.push(a),
                                s[a] = 1);
                return c.join(", ")
            }
            ,
            Ji.prototype.getCopyrights = Ji.prototype.Ia,
            Ji.prototype.Na = function() {
                return this.b.style
            }
            ,
            Ji.prototype.getStyle = Ji.prototype.Na,
            Ji.prototype.j = String.fromCharCode(169),
            Ji.prototype.D = function() {
                this.a.removeEventListener(this.a.v.Sf, this.f),
                this.a.fa.removeEventListener("add", this.c),
                this.a.fa.removeEventListener("remove", this.c),
                this.a.fa.removeEventListener("set", this.c),
                this.b.parentNode && Ge(this.b)
            }
            ,
            Ji.prototype.ya = function(t, e, i, a) {
                var n, r = t.getContext("2d"), o = window.getComputedStyle(this.i), s = $a(o.getPropertyValue("font-size"));
                n = this.ve.childNodes[0];
                var l = this.b.ownerDocument
                  , c = this.a.b
                  , h = +t.height
                  , p = nb(this.b.offsetLeft * e)
                  , d = nb(h - (c.offsetHeight - this.b.offsetTop) * e)
                  , u = (c = n.getBoundingClientRect ? n.getBoundingClientRect() : {}).width * e
                  , m = c.height * e
                  , f = sc;
                sa(a) && (f = function() {
                    a("capture_error")
                }
                ),
                n = this.j + " " + function(t) {
                    return (t = Ki(l, "div", null, t)).textContent || t.innerText || ""
                }(this.Ia()),
                r.font = s * e + "px " + o.getPropertyValue("font-family"),
                r.fillStyle = o.getPropertyValue("color"),
                r.textBaseline = "top",
                r.fillText(n, p, d + nb(c.height * e)),
                Ri(this, r.font, function(e) {
                    new Gh("image",e).then(function(e) {
                        r.drawImage(e, p, d, u, m),
                        i(t)
                    }, f)
                }, f)
            }
            ,
            Ji.prototype.capture = Ji.prototype.ya,
            Ji.prototype.sg = !1;
            var Oi = {
                "de-DE": "Nutzungsbedingungen",
                "en-US": "Terms of use",
                "en-GB": "Terms of use",
                "es-ES": "Condiciones de uso",
                "fi-FI": "Palveluehdot",
                "fr-FR": "Conditions d'utilisation",
                "it-IT": "Condizioni di utilizzo",
                "nl-NL": "Dienstvoorwaarden",
                "pl-PL": "Warunki \u015bwiadczenia us\u0142ugi",
                "pt-BR": "Termos de servi\xe7o",
                "pt-PT": "Termos do servi\xe7o",
                "ru-RU": "\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f",
                "tr-TR": "Servis Ko\u015fullar\u0131",
                "zh-CN": "\u4f7f\u7528\u6761\u6b3e"
            };
            function Ti(t, e) {
                if (D(this.x = +t))
                    throw new C(Ti,0,t);
                if (D(this.y = +e))
                    throw new C(Ti,1,e)
            }
            function Ui(t) {
                return tb(t.a(t))
            }
            function Vi(t) {
                t = t || {},
                this.j = t.minSpeed || 3,
                this.l = t.vectorTolerance || 3,
                this.i = t.maxSpeed || 300,
                this.m = t.timeTolerance || 50,
                this.b = [],
                this.f = this.g = !1,
                this.c = this.a = null
            }
            function Wi(t, e) {
                var i, a;
                return e ? (t.bifocal && e.bifocal ? (i = Xi(t),
                a = Xi(e)) : e.bifocal ? (i = Yi(t),
                a = Yi(e).distance(i) > Yi(e, !0).distance(i) ? Yi(e, !0) : Yi(e)) : t.bifocal && !e.bifocal ? (a = Yi(e),
                i = Yi(t).distance(a) > Yi(t, !0).distance(a) ? Yi(t, !0) : Yi(t)) : (i = t,
                a = e),
                i = new Ti(i.x - a.x,i = i.y - a.y)) : i = new Ti(0,0),
                i
            }
            function Zi(t) {
                var e;
                return !t || D(t.bx) || D(t.by) ? 0 : (e = t.bx - t.x,
                t = t.by - t.y,
                tb(e * e + t * t))
            }
            function Xi(t) {
                var e, i;
                return !t || D(t.bx) || D(t.by) || (e = t.x - t.bx,
                i = t.y - t.by,
                e = new M(t.x - e / 2,t.y - i / 2)),
                e
            }
            function Yi(t, e) {
                return e ? new M(t.bx,t.by) : new M(t.x,t.y)
            }
            function $i(t) {
                var e = t.b.length
                  , i = 0
                  , a = new Ti(0,0);
                if (t.f)
                    for (; --e && i < t.l; )
                        a = a.add(Wi(t.b[e], t.b[e - 1])),
                        i++;
                else
                    a = Wi(t.a, t.c);
                return 0 !== (e = Ui(t = a)) ? new Ti(t.x / e,t.y / e) : t
            }
            function aj(t) {
                var e;
                e = e || Date.now();
                var i = t.b.length
                  , a = t.b[i - 1]
                  , n = 0
                  , r = 0;
                if (t.f) {
                    for (; --i && n < t.l; )
                        r += Ui(Wi(t.b[i], t.b[i - 1])),
                        n++;
                    i = r / n
                } else
                    a = t.a,
                    i = Ui(Wi(t.a, t.c));
                return i = i >= t.j && e - a.ts <= t.m ? i > t.i ? t.i : i : 0
            }
            function bj(t, e, i, a) {
                bj.u.constructor.call(this),
                this.ac = t,
                this.za = a,
                this.a = t.appendChild(this.createElement(t.ownerDocument)),
                cj(this, e, i)
            }
            function cj(t, e, i) {
                t.size ? (t.size.w = e,
                t.size.h = i) : t.size = new Th(e,i),
                t.eh(t.a, t.a.style, e, i, t.za)
            }
            function dj(t, e) {
                t.Se !== e && (t.dh(e),
                t.Se = e)
            }
            function ej(t) {
                this.a = t
            }
            function fj(t, e) {
                fj.u.constructor.call(this, t),
                this.Nb = !(!e || !e.Nb),
                this.l = !(!e || !e.noWrap),
                this.g = {}
            }
            Ti.prototype.add = function(t) {
                return new Ti(this.x + t.x,this.y + t.y)
            }
            ,
            Ti.prototype.a = function(t) {
                if (!B(t, Ti))
                    throw new C(this.a,0,t);
                return (t = this.b(t)).x + t.y
            }
            ,
            Ti.prototype.b = function(t) {
                if (!B(t, Ti))
                    throw new C(this.b,0,t);
                return new Ti(this.x * t.x,this.y * t.y)
            }
            ,
            Ti.prototype.Ja = function(t) {
                return new Ti(this.x * t,this.y * t)
            }
            ,
            p = Vi.prototype,
            p.start = function(t, e) {
                if (D(t))
                    throw new C(this.start,0,t);
                this.g && this.clear(),
                this.o = t,
                this.g = !0,
                this.f = !!e
            }
            ,
            p.gh = function(t, e, i, a, n) {
                var r = D(t) ? 0 : D(e) ? 1 : null != i && D(i) ? 2 : null != a && D(a) ? 3 : null != n && D(n) ? 4 : A;
                if (0 <= r)
                    throw new C(this.gh,r,arguments[r]);
                this.g && (n = n || (new Date).getTime(),
                this.c = this.a,
                this.a = {
                    x: t,
                    y: e,
                    bx: null != i ? i : NaN,
                    by: null != a ? a : NaN,
                    ts: n,
                    bifocal: null != i && null != a
                },
                this.f && this.b.push(this.a))
            }
            ,
            p.clear = function() {
                this.b = [],
                this.f = this.g = !1,
                this.a = this.c = null
            }
            ,
            p.Fd = function(t) {
                if (D(t))
                    throw new C(this.Fd,0,t);
                return !!(this.o & t)
            }
            ,
            p.mb = function() {
                return this.g
            }
            ,
            p.Ge = ba(1),
            p.hg = function(t) {
                var e, i;
                if (e = this.a,
                D(t))
                    throw new C(this.hg,0,t);
                return e && this.c && (0 !== (e = Zi(this.c)) && (i = Zi(this.a),
                t = sb(ub(2, t) * (i / e)) / Cb)),
                t
            }
            ,
            v(bj, xc),
            p = bj.prototype,
            p.tg = !0,
            p.setVisibility = function(t) {
                t !== this.tg && (this.a.style.display = t ? "block" : "none",
                this.tg = t)
            }
            ,
            p.Se = 1,
            p.Bd = function() {
                return this.Se
            }
            ,
            p.D = function() {
                this.clear(),
                this.ac.removeChild(this.a),
                cj(this, 0, 0),
                this.a = this.ac = null,
                bj.u.D.call(this)
            }
            ,
            p.Te = 0,
            p.Ib = function() {
                ++this.Te
            }
            ,
            v(ej, xc),
            ej.prototype.od = function(t) {
                var e = this.b;
                t !== e && (this.b = t,
                t.Ib(),
                e && (--e.Te || e.J()))
            }
            ,
            ej.prototype.D = function() {
                var t = this.b;
                --t.Te || t.J()
            }
            ,
            v(fj, ej),
            fj.prototype.od = function(t) {
                fj.u.od.call(this, t),
                this.i = t.ac.ownerDocument
            }
            ;
            var gj = function(t, e) {
                var i = e.Ca();
                return B(i, Pf) ? i.ma : (t[0] = i,
                t)
            }
            .bind(null, []);
            function hj(t, e) {
                return Re(Qe(t[1]), Qe(e[1]), !0) || t[5] - e[5] || Re(Qe(t[1]), Qe(e[1]), !1)
            }
            function jj(t, e) {
                jj.u.constructor.apply(this, arguments),
                this.f = 0,
                this.c = [],
                this.Ee = z(this.Ee, this)
            }
            fj.prototype.ca = function(t, e, i, a, n, r) {
                var o, s, l, c, h, p, d, u, m, f = this.a;
                if (this.m = o = this.g,
                this.g = s = {},
                a >= f.min && a <= f.max && (t = (c = (l = this.fg(t, a, n, r)).markers).length)) {
                    for (a = [],
                    dj(n = this.b, f.opacity),
                    f = 0; f < t; f++)
                        for (r = c[f],
                        p = (h = gj(r)).length; p--; )
                            (d = i.geoToPixel(h[p])) && (this.l || (u = i.w,
                            d.x -= nb(d.x / u) * u),
                            d.add(e),
                            (u = o[m = r.ta() + "_" + p]) ? delete o[m] : u = {
                                marker: r
                            },
                            s[m] = u,
                            a.push([u, r, r.sb(), n, d.x, d.y]));
                    for (a.sort(hj),
                    t = a.length,
                    f = 0; f < t; f++)
                        this.wg.apply(this, a[f])
                }
                return !l || l.requested && l.requested === l.total || !l.requested && c.length === l.total ? ij.DONE : ij.PENDING
            }
            ,
            v(jj, fj),
            p = jj.prototype,
            p.fg = function() {
                return this.a.b.apply(this.a, arguments)
            }
            ,
            p.ca = function() {
                var t;
                this.Ee(),
                this.o = 0,
                t = jj.u.ca.apply(this, arguments);
                var e, i = this.b, a = this.m;
                for (e in a)
                    kj(this, i, a[e]);
                return 0 === this.c.length && t ? ij.DONE : ij.PENDING
            }
            ,
            p.od = function(t) {
                jj.u.od.call(this, t),
                this.j = t.za
            }
            ,
            p.Ee = function() {
                for (var t, e, i, a = this.c.length; a--; )
                    t = (i = this.c[a]).sd,
                    (e = i.sd.sb()).ff(i, e, t);
                this.c.length = 0
            }
            ,
            p.wg = function(t, e, i, a, n, r) {
                var o, s = e.j();
                this.Nb || (n = nb(n),
                r = nb(r)),
                t.detail && (s.b(t.bi) ? kj(this, a, t) : o = t.detail),
                o || (t.detail = o = Fe(i.i, this.i, i.c),
                this.f++,
                sa(i.ff) && this.c.push(o)),
                t.bi = s.a,
                o.style.zIndex = this.o++,
                o.sd = e,
                a.bc(o, n, r, 0, 0)
            }
            ;
            var lj, mj = "pointer-events", nj, oj;
            ve && (ve && jc !== x && (jc = (oj = /(MSIE\s+|rv\:)([^\);]+)(\)|;)/.exec(navigator.userAgent)) ? +oj[2] : x),
            nj = jc,
            9 === nj ? mj = "display" : 10 === nj && (mj = "visibility"));
            function kj(t, e, i) {
                e.clear(e = i.detail),
                delete e.sd,
                t.f--,
                (i = (t = i.marker).sb()).f && i.f(e, i, t)
            }
            function pj(t, e) {
                if (!t)
                    throw new C(pj,0,t);
                pj.u.constructor.call(this, t),
                this.f = {},
                this.g = e && e.Nb,
                this.l = e && e.noWrap,
                this.i = qj++
            }
            lj = mj,
            jj.prototype.Ma = function(t, e, i) {
                var a, n, r, o, s, l, c, h, p, d = this.j, u = De;
                if (this.f) {
                    for (t /= d,
                    e /= d,
                    a = (d = this.i).documentElement,
                    t += (r = (n = this.b.a).getBoundingClientRect()).left,
                    e += r.top; (s = l = d.elementFromPoint(t, e)) && s !== n && s !== a && l !== c; ) {
                        for (; (h = s.parentNode) && (!sa(h.contains) || !h.contains(n)); )
                            s = h;
                        if (h === n && (s !== l || "svg" !== s.nodeName) && 0 > u.indexOf(p = s.sd) && (u === De && (u = []),
                        u.push(p),
                        i))
                            break;
                        o || (o = []),
                        c = s.style,
                        o.push({
                            bg: c.getPropertyValue(lj),
                            $h: c.getPropertyPriority(lj),
                            style: c
                        }),
                        c.setProperty(lj, "visibility" === lj ? "hidden" : "none", "important"),
                        c = l
                    }
                    if (o)
                        for (e = o.length; e--; )
                            (t = o[e]).style.removeProperty(lj),
                            ra(t.bg) && t.style.setProperty(lj, t.bg, t.$h)
                }
                return u
            }
            ,
            jj.prototype.dd = function() {
                return 2
            }
            ,
            jj.prototype.D = function() {
                this.c.length = 0;
                var t, e = this.b, i = this.g;
                for (t in i)
                    kj(this, e, i[t]);
                this.b.J(),
                jj.u.D.call(this)
            }
            ,
            v(pj, ej);
            var qj = 0;
            pj.prototype.ca = function(t, e, i, a, n, r) {
                var o = nb(a)
                  , s = this.a
                  , l = o + (i.exp - s.pixelProjection.exp)
                  , c = s.max;
                a = s.tileSize;
                var h, p = s.opacity, d = this.b, u = d.Bd();
                h = d.size.w;
                var m = i.w
                  , f = i.x
                  , g = i.y
                  , y = {};
                if (o < s.min || o > c)
                    return ij.DONE;
                for (t = (n = s.requestTiles(t, l, n, r, this.i)).total,
                r = (n = n.tiles).length,
                this.j = i,
                this.m = e,
                this.c = l,
                u !== p && dj(d, p),
                i = a = a * m / (ub(2, l) * a),
                this.g || (a % 1 && (f /= m = i / (a = pb(a)),
                g /= m,
                m = ub(2, l) * a),
                f = pb(f),
                g = pb(g)),
                this.o = i,
                l = -a,
                o = h + a,
                s = 0; s < r; s++) {
                    if ((c = (h = n[s]).data) && (i = e.x - (f - h.x * a),
                    p = e.y - (g - h.y * a),
                    d.bc(c, i, p, a, a),
                    !this.l)) {
                        for (u = i; (u -= m) > l; )
                            d.bc(c, u, p, a, a);
                        for (u = i; (u += m) < o; )
                            d.bc(c, u, p, a, a)
                    }
                    y[this.c + "_" + h.x + "_" + h.y] = h
                }
                return this.f = y,
                r === t ? ij.DONE : ij.PENDING
            }
            ,
            pj.prototype.Ma = function(t, e, i) {
                if (Ta(this.c)) {
                    var a, n, r = this.o, o = r / this.a.tileSize, s = this.j, l = this.m;
                    t = s.x + (t - l.x),
                    e = s.y + (e - l.y),
                    a = pb(s.w / r);
                    var c = s = pb(t / r);
                    l = pb(e / r);
                    rb(c) >= a && (c %= a),
                    0 > c && (c = a + c),
                    (a = this.f[this.c + "_" + c + "_" + l]) && a.Ma && (n = a.Ma((t - r * s) / o, (e - r * l) / o, i))
                }
                return n || De
            }
            ,
            pj.prototype.dd = function() {
                return 0
            }
            ;
            var rj, sj = function() {
                function t() {}
                for (var e, i, a, n = Ra("o ms moz webkit "), r = 5; r-- && !e; )
                    e = n[r],
                    e = (i = w[e + (e ? "R" : "r") + "equestAnimationFrame"]) && !D(i.call(window, t)) && (a = w[e + (e ? "C" : "c") + "ancelAnimationFrame"]);
                return rj = e ? function(t) {
                    return i.call(w, t)
                }
                : function(t) {
                    return w.setTimeout(t, 25)
                }
                ,
                e ? function(t) {
                    return a.call(w, t)
                }
                : function(t) {
                    return w.clearTimeout(t)
                }
            }(), tj = w.performance && w.performance.now ? function() {
                return w.performance.now()
            }
            : function() {
                return w.Date.now()
            }
            ;
            function qh(t, e, i, a) {
                this.left = +t,
                this.top = +e,
                this.right = +i,
                this.bottom = +a
            }
            function ph(t, e) {
                return new qh(t.x,t.y,e.x,e.y)
            }
            r("H.math.Rect", qh),
            qh.prototype.set = qh,
            qh.prototype.set = qh.prototype.set,
            qh.prototype.tb = function() {
                return this.i || (this.i = new M(this.left,this.top))
            }
            ,
            qh.prototype.getTopLeft = qh.prototype.tb,
            qh.prototype.rb = function() {
                return this.f || (this.f = new M(this.right,this.bottom))
            }
            ,
            qh.prototype.getBottomRight = qh.prototype.rb,
            qh.prototype.a = function(t, e) {
                return this.left <= t && this.right >= t && this.top <= e && this.bottom >= e
            }
            ,
            qh.prototype.containsXY = qh.prototype.a,
            qh.fromPoints = ph,
            qh.prototype.clone = function() {
                return new qh(this.left,this.top,this.right,this.bottom)
            }
            ,
            qh.prototype.clone = qh.prototype.clone;
            var ij = {
                PENDING: 0,
                ACTIVE: 1,
                DONE: 2
            };
            function uj(t, e) {
                var i, a, n = e || {};
                if (!B(t, Element))
                    throw new C(uj,0,t);
                i = t.ownerDocument.createElement("div"),
                this.b = t,
                uj.u.constructor.call(this),
                this.padding = new qh(0,0,0,0),
                this.center = new M(0,0),
                this.margin = 0,
                this.element = i,
                i.style.zIndex = 0,
                i.style.height = i.style.width = "100%",
                i.style.position = "relative" === t.style.position ? "absolute" : "relative",
                this.resize(),
                t.appendChild(i),
                (a = n.padding) !== A && this.f(a.top, a.right, a.bottom, a.left),
                this.c((a = n.margin) !== A ? a : 0),
                (a = n.fixedCenter) !== A && (this.g = !!a)
            }
            function vj(t) {
                var e = t.padding;
                t.center.set((t.width + e.left - e.right) / 2 << 0, (t.height + e.top - e.bottom) / 2 << 0)
            }
            function wj(t, e, i, a) {
                var n = new qh(0,0,0,0);
                if (wj.u.constructor.call(this),
                this.za = a.pixelRatio,
                this.wa = {
                    1: n.clone(),
                    2: n.clone(),
                    4: n.clone()
                },
                this.g = t,
                !t)
                    throw new C(wj,0,t);
                if (xj(this),
                t.addEventListener(t.a.la, this.Dc, !1, this),
                this.N = z(this.N, this),
                this.C = z(this.C, this),
                this.B = z(this.B, this),
                t.startInteraction = this.N,
                t.interaction = this.C,
                t.endInteraction = this.B,
                this.I = e,
                !e)
                    throw new C(wj,1,e);
                if (this.O = z(this.O, this),
                this.j = z(this.j, this),
                this.s = z(this.s, this),
                e.startControl = this.O,
                e.control = this.j,
                e.endControl = this.s,
                e.addEventListener(e.c.la, this.zb, !1, this),
                this.Ga = i,
                !i)
                    throw new C(wj,2,i)
            }
            function xj(t) {
                var e = (s = t.g).width
                  , i = s.height
                  , a = (o = s.padding).top
                  , n = o.left
                  , r = o.bottom
                  , o = o.right
                  , s = s.margin
                  , l = -(e + n - o) / 2 << 0
                  , c = -(i + a - r) / 2 << 0
                  , h = (e = e + l,
                i = i + c,
                t.wa);
                t = t.za,
                h[1].set((l - s) * t, (c - s) * t, (e + s) * t, (i + s) * t),
                h[2].set(l * t, c * t, e * t, i * t),
                h[4].set((l + n) * t, (c + a) * t, (e - o) * t, (i - r) * t)
            }
            function zj(t, e) {
                t.style.transition = "opacity 1.5s",
                t.addEventListener("transitionend", function() {
                    e()
                }, !1),
                t.style.opacity = 0
            }
            r("H.map.render.RenderState", ij),
            v(uj, I),
            r("H.map.ViewPort", uj),
            uj.prototype.a = {
                la: "update",
                Oc: "sync"
            },
            uj.prototype.g = !0,
            uj.prototype.c = function(t) {
                if (this.margin !== +t) {
                    if (D(this.margin = +t))
                        throw new C(this.c,0,t);
                    vj(this),
                    this.dispatchEvent(this.a.la)
                }
            }
            ,
            uj.prototype.setMargin = uj.prototype.c,
            uj.prototype.f = function(t, e, i, a) {
                var n = this.padding;
                if (n.top !== t || n.right !== e || n.bottom !== i || n.left !== a) {
                    if (D(t + e + i + a))
                        throw new C(this.f);
                    n.top = t,
                    n.right = e,
                    n.bottom = i,
                    n.left = a,
                    vj(this),
                    this.dispatchEvent(this.a.la)
                }
            }
            ,
            uj.prototype.setPadding = uj.prototype.f,
            uj.prototype.resize = function() {
                var t = this.b.offsetWidth
                  , e = this.b.offsetHeight;
                this.width === t && this.height === e || (this.m = new Th(this.width,this.height),
                this.width = t,
                this.height = e,
                vj(this),
                this.dispatchEvent(this.a.la))
            }
            ,
            uj.prototype.resize = uj.prototype.resize,
            uj.prototype.D = function() {
                w.clearTimeout(this.i),
                this.i = null,
                this.b.removeChild(this.element),
                this.element = this.b = null,
                uj.u.D.call(this)
            }
            ,
            uj.prototype.startInteraction = uj.prototype.o,
            uj.prototype.interaction = uj.prototype.j,
            uj.prototype.endInteraction = uj.prototype.l,
            v(wj, I),
            r("H.map.render.RenderEngine", wj),
            wj.prototype.getBBox = wj.prototype.v,
            wj.prototype.Dc = function() {
                xj(this)
            }
            ,
            wj.prototype.D = function() {
                var t = this.I
                  , e = this.g;
                t.removeEventListener(t.c.la, this.zb, !1, this),
                t.startControl === this.O && (t.startControl = yj.prototype.B),
                t.control === this.j && (t.control = yj.prototype.v),
                t.endControl === this.s && (t.endControl = yj.prototype.s),
                e.removeEventListener(e.a.la, this.Dc, !1, this),
                e.startInteraction === this.N && (e.startInteraction = uj.prototype.o),
                e.interaction === this.C && (e.interaction = uj.prototype.j),
                e.endInteraction === this.B && (e.endInteraction = uj.prototype.l)
            }
            ,
            wj.prototype.getCamForBounds = wj.prototype.P,
            wj.prototype.ya = function() {
                return null
            }
            ,
            wj.prototype.setPointer = wj.prototype.sa;
            var Aj = {
                ZOOM: 1,
                HEADING: 2,
                TILT: 4,
                INCLINE: 8,
                COORD: 16
            };
            wj.InteractionModifiers = Aj,
            wj.prototype.ee = {
                Xf: "render"
            };
            var Bj = {
                P2D: 0,
                PANORAMA: 1
            };
            function Cj(t, e, i, a, n, r) {
                var o = n || "2d";
                Cj.u.constructor.apply(this, arguments),
                this.b = this.a.getContext(o, r),
                this.c = "2d" === o,
                this.f = o,
                this.g = r
            }
            function Dj() {
                I.call(this),
                this.reset()
            }
            function Ej(t) {
                Ej.u.constructor.call(this, Dj.prototype.g.Mf),
                this.offset = t
            }
            function Fj(t) {
                return {
                    x: 91.401472 * t.b,
                    y: 91.401472 * t.c,
                    z: t.f
                }
            }
            function Gj(t) {
                return t = Fj(t),
                tb(t.x * t.x + t.y * t.y + t.z * t.z)
            }
            function Hj(t) {
                var e = Fj(t);
                return t = Gj(t) || 1,
                {
                    x: e.x / t,
                    y: e.y / t,
                    z: e.z / t
                }
            }
            function Ij(t, e) {
                var i = e || {};
                B(t, Jj, Ij, 0),
                Ij.u.constructor.call(this, t),
                this.Nb = !!i.Nb,
                this.g = e && e.noWrap,
                this.i = i.yi || 0,
                this.c = [],
                this.f = {}
            }
            wj.EngineType = Bj,
            v(Cj, bj),
            p = Cj.prototype,
            p.createElement = function(t) {
                var e = (t = t.createElement("CANVAS")).style;
                return e.position = "absolute",
                e.top = e.left = 0,
                t
            }
            ,
            p.eh = function(t, e, i, a, n) {
                t.width = mb(i, 1),
                t.height = mb(a, 1),
                e.width = nb(i / n) + "px",
                e.height = nb(a / n) + "px"
            }
            ,
            p.dh = function(t) {
                this.b.globalAlpha = t
            }
            ,
            p.bc = function(t, e, i, a, n) {
                this.c && this.b.drawImage(t, e, i, a, n)
            }
            ,
            p.clear = function(t) {
                var e, i;
                this.c && (t ? this.b.clearRect(e = t.left, i = t.top, t.right - e, t.bottom - i) : this.a.width = this.size.w)
            }
            ,
            p.D = function() {
                this.a.width = this.a.height = 0,
                this.b = x,
                Cj.u.D.call(this)
            }
            ,
            v(Dj, I),
            Dj.prototype.start = function(t, e) {
                this.a && this.reset(),
                D(t) || D(e) || (this.atX = t,
                this.atY = e),
                this.a = !0
            }
            ,
            Dj.prototype.g = {
                Mf: "animationupdate"
            },
            v(Ej, Bc),
            Dj.prototype.mb = function() {
                return this.a
            }
            ,
            Dj.prototype.set = function(t, e, i) {
                !this.a || this.b === t && this.c === e && this.f === i || (this.b = t,
                this.c = e,
                this.f = i,
                this.dispatchEvent(new Ej(Fj(this))))
            }
            ,
            Dj.prototype.reset = function() {
                this.a = !1,
                this.atY = this.atX = null,
                this.f = this.c = this.b = 0
            }
            ,
            Dj.prototype.D = function() {
                this.reset(),
                Dj.u.D.call(this)
            }
            ,
            v(Ij, ej),
            Ij.prototype.ca = function(t, e, i, a, n) {
                var r, o, s, l, c, h, p, d, u, m, f, g, y, v, b = this.a, A = 0;
                if (a -= this.i,
                this.c.length = 0,
                r = this.f,
                this.f = o = {},
                a >= b.min && a <= b.max && (t = (l = (s = b.C(t, a, n)).overlays).length))
                    for (l.sort(Se),
                    a = this.b,
                    n = this.Nb,
                    v = b.opacity,
                    b = 0; b < t; b++)
                        h = (c = l[b]).S(),
                        p = i.geoToPixel(h.tb()),
                        d = i.geoToPixel(h.rb()),
                        h = i.w,
                        p.x >= d.x && (p.x -= h),
                        this.g || (A = -((p.x + d.x) / h >> 1) * h),
                        p.x += A,
                        p.add(e),
                        d.x += A,
                        d.add(e),
                        n || (p.round(),
                        d.round()),
                        (h = r[u = c.ta()]) ? delete r[u] : h = {
                            vi: c
                        },
                        o[u] = h,
                        m = p.x,
                        p = p.y,
                        g = (f = d.x) - m,
                        y = (d = d.y) - p,
                        dj(a, c.Bd() * v),
                        a.bc(c.Pb(), m, p, g, y),
                        h.Ae ? h.Ae.set(m, p, f, d) : h.Ae = new qh(m,p,f,d),
                        this.c.push(h);
                return !s || s.requested && s.requested === s.total || !s.requested && l.length === s.total ? ij.DONE : ij.PENDING
            }
            ,
            Ij.prototype.Ma = function(t, e, i) {
                for (var a, n, r = this.c, o = r.length; o--; )
                    if ((a = r[o]).Ae.a(t, e))
                        if (a = a.vi,
                        n)
                            n.push(a);
                        else if (n = [a],
                        i)
                            break;
                return n || De
            }
            ,
            Ij.prototype.dd = function() {
                return 0
            }
            ,
            Ij.prototype.D = function() {
                this.c = null,
                Ij.u.D.call(this)
            }
            ;
            var Kj = {
                zoom: {
                    min: -8,
                    max: 28
                },
                camera: {
                    alt: {
                        min: 0,
                        max: 0
                    },
                    pitch: {
                        min: 0,
                        max: 0
                    },
                    roll: {
                        min: 0,
                        max: 0
                    },
                    yaw: {
                        min: 0,
                        max: 0
                    },
                    fov: {
                        min: 70,
                        max: 70
                    }
                },
                interaction: {
                    ZOOM: 1,
                    Ki: 16
                },
                capture: !0
            };
            function Lj(t, e) {
                this.c = [],
                Lj.u.constructor.apply(this, arguments)
            }
            function Mj(t) {
                var e = 2;
                Mj.u.constructor.call(this, t),
                B(this.a, Oh) && (e = "2d" === t.v ? 0 : 1),
                this.c = e
            }
            function Nj(t) {
                return -t * (t - 2)
            }
            function Oj(t, e, i, a) {
                if (!sa(this.i = t))
                    throw new C(Oj,0,t);
                if (D(this.g = +e))
                    throw new C(Oj,1,e);
                if (!sa(this.f = i) && null != i)
                    throw new C(Oj,2,i);
                if (!sa(this.c = a) && null != a)
                    throw new C(Oj,3,a);
                this.id = Pj.next(),
                this.a = !1
            }
            r("H.map.render.p2d.capabilities", Kj),
            v(Lj, fj),
            p = Lj.prototype,
            p.fg = function() {
                return this.a.c.apply(this.a, arguments)
            }
            ,
            p.ca = function() {
                return this.c = [],
                Lj.u.ca.apply(this, arguments)
            }
            ,
            p.wg = function(t, e, i, a, n, r) {
                e = (o = i.b).w;
                var o = o.h
                  , s = i.a;
                this.Nb ? (n -= s.x,
                r -= s.y) : (n = nb(n - s.x),
                r = nb(r - s.y)),
                a.bc(i.Pb(), n, r, e, o),
                t.detail ? t.detail.set(n, r, n + e, r + o) : t.detail = new qh(n,r,n + e,r + o),
                this.c.push(t)
            }
            ,
            p.Ma = function(t, e, i) {
                for (var a, n, r, o = this.c, s = o.length, l = De; s-- && !((n = (a = o[s]).detail).a(t, e) && (a = a.marker,
                (!(r = a.sb().g) || r.a(t - n.left, e - n.top, 0)) && 0 > l.indexOf(a) && (l === De && (l = []),
                l.push(a),
                i))); )
                    ;
                return l
            }
            ,
            p.dd = function() {
                return 0
            }
            ,
            p.D = function() {
                this.c = null,
                Lj.u.D.call(this)
            }
            ,
            v(Mj, ej),
            Mj.prototype.ca = function(t, e, i, a, n, r) {
                var o = this.a
                  , s = this.b
                  , l = !(B(s, Cj) && "2d" === s.f);
                return a >= o.min && a <= o.max ? (l && s.setVisibility(!0),
                o.ca(s.a, {
                    bounds: t,
                    zoom: a,
                    screenCenter: e,
                    priorityCenter: r,
                    projection: i,
                    cacheOnly: n,
                    size: s.size,
                    pixelRatio: s.za
                })) : (l && s.setVisibility(!1),
                ij.DONE)
            }
            ,
            Mj.prototype.dd = function() {
                return this.c
            }
            ,
            r("H.util.animation.ease.LINEAR", function(t) {
                return t
            }),
            r("H.util.animation.ease.EASE_IN_QUAD", function(t) {
                return t * t
            }),
            r("H.util.animation.ease.EASE_OUT_QUAD", Nj),
            r("H.util.animation.ease.EASE_IN_OUT_QUINT", function(t) {
                return 1 > (t *= 2) ? ub(t, 5) / 2 : ub(t -= 2, 5) / 2 + 1
            }),
            r("H.util.animation.ease.EASE_OUT_CIRC", function(t) {
                return tb(2 * t - t * t)
            }),
            r("H.util.animation.Animation", Oj);
            var Pj = new ye;
            function Qj(t, e) {
                if (D(this.b = +t))
                    throw new C(Qj,0,t);
                this.a = 0,
                e && this.f(e)
            }
            function Rj(t, e, i, a) {
                Rj.u.constructor.apply(this, arguments)
            }
            function Sj(t, e) {
                this.a = t,
                this.b = e
            }
            function Tj(t, e, i) {
                var a, n, r, o, s, l = [], c = {
                    ac: t.a,
                    width: e.w,
                    height: e.h,
                    za: t.b
                };
                for (t = 0; t < i.length; t++) {
                    switch (a = (e = i[t]).dd(),
                    Ca(o = {}, c),
                    n = e.b,
                    a) {
                    case 0:
                        if (B(e.a, Oh) && (o.xe = e.a.F),
                        a = r && "2d" === r.f) {
                            a = o.xe;
                            var h = r.g;
                            a = h === a || (h && !a ? !h.alpha && !h.willReadFrequently : a && !h ? !a.alpha && !a.willReadFrequently : !a.alpha === !a.alpha && !h.willReadFrequently === !a.willReadFrequently)
                        }
                        a ? s = !1 : n && !s ? (r = n,
                        s = !1) : (r = new Cj(o.ac,o.width,o.height,o.za,"2d",o.xe),
                        s = !0);
                        break;
                    case 2:
                        r = n || new Rj(o.ac,o.width,o.height,o.za),
                        s = !n;
                        break;
                    default:
                        r = n || new Cj(o.ac,o.width,o.height,o.za,e.a.v,o.xe),
                        s = !n
                    }
                    l[l.length - 1] !== r && (r.a.style.zIndex = l.length,
                    l.push(r)),
                    e.od(r)
                }
                return l
            }
            function yj() {
                yj.u.constructor.call(this),
                this.a = {},
                this.g = {
                    position: new gc(0,0),
                    pitch: 0,
                    yaw: 0,
                    roll: 0,
                    fov: 70
                },
                this.b = 0
            }
            Oj.prototype.start = function() {
                var t, e, i = this, a = rj;
                e = function() {
                    var n = tj()
                      , r = n - i.Kb
                      , o = 1 < (o = r / i.g) ? 1 : o;
                    i.c && (o = i.c(o)),
                    i.i(o, r, n - t, n),
                    t = n,
                    1 <= o ? i.stop() : i.b = a(e)
                }
                ,
                i.Kb = tj(),
                t = i.Kb,
                i.a = !0,
                i.b = a(e)
            }
            ,
            Oj.prototype.start = Oj.prototype.start,
            Oj.prototype.stop = function(t) {
                sj(this.b),
                this.a = !1,
                t || this.f && this.f(this)
            }
            ,
            Oj.prototype.stop = Oj.prototype.stop,
            Oj.prototype.mb = function() {
                return this.a
            }
            ,
            Oj.prototype.isRunning = Oj.prototype.mb,
            r("H.util.kinetics.KineticMove", Qj),
            Qj.prototype.f = function(t) {
                return this.a = t,
                this
            }
            ,
            Qj.prototype.setInitialSpeed = Qj.prototype.f,
            Qj.prototype.i = function() {
                return Math.abs(this.a / this.b)
            }
            ,
            Qj.prototype.getDuration = Qj.prototype.i,
            Qj.prototype.c = function(t) {
                return this.a + this.b * t
            }
            ,
            Qj.prototype.getCurrentSpeed = Qj.prototype.c,
            Qj.prototype.g = function(t) {
                return this.a * t + this.b * t * t / 2
            }
            ,
            Qj.prototype.getCurrentPath = Qj.prototype.g,
            v(Rj, bj),
            p = Rj.prototype,
            p.createElement = function(t) {
                return (t = t.createElement("DIV")).style.position = "absolute",
                t
            }
            ,
            p.eh = function(t, e, i, a) {
                e.width = i + "px",
                e.height = a + "px"
            }
            ,
            p.dh = function(t) {
                this.a.style.opacity = t
            }
            ,
            p.bc = function(t, e, i) {
                var a = this.za
                  , n = t.style;
                n[hi("transform")] = "matrix(1,0,0,1," + e / a + "," + i / a + ")",
                t.parentNode !== this.a && (n.position = "absolute",
                this.a.appendChild(t))
            }
            ,
            p.clear = function(t) {
                t ? this.a.removeChild(t) : this.a.innerHTML = ""
            }
            ,
            v(yj, I),
            r("H.map.ViewModel", yj),
            yj.prototype.c = {
                la: "update",
                Oc: "sync"
            },
            yj.prototype.i = Ra("position pitch yaw roll fov zoom");
            var Uj = Ra("fov pitch position roll yaw zoom").reduce(function(t, e) {
                return t[e] = yi.prototype[e.toUpperCase()],
                t
            }, {});
            function Vj(t, e, i, a) {
                var n, r, o, s = a.length;
                for (t.f = 0,
                t.o = {},
                t.j = {}; s--; )
                    o = i[n = a[s]],
                    r = e[n],
                    null != o ? (t.o[n] = r,
                    t.j[n] = o,
                    e[n] = o,
                    ($b(o) && $b(r) && (o.lat !== r.lat || o.lng !== r.lng) || !$b(o) && o !== r) && (t.f |= Uj[n])) : delete e[n];
                return e
            }
            function Xj(t, e) {
                var i = e.zoom;
                Vj(t, t.g, e, t.i),
                i !== t.b && (t.f |= Uj.zoom),
                t.o.zoom = t.b,
                t.j.zoom = i,
                t.b = null != i ? i : t.b,
                t.g.zoom = t.b,
                t.a = {},
                t.dispatchEvent(new yi(t.c.Oc,t.j,t.o,t.f))
            }
            function Wj(t) {
                Wj.u.constructor.call(this, yj.prototype.c.la),
                this.requested = t
            }
            function O(t, e, i, a) {
                var n;
                O.u.constructor.call(this, t, e, i, a),
                this.K = new M(0,0),
                (n = a.renderBaseBackground) && (this.Bh = n.lower,
                this.Ah = n.higher),
                this.zh = !!a.enableSubpixelRendering,
                this.yb = !!a.noWrap,
                this.Vb = Yj,
                this.he = this.b = 0,
                this.jc = this.Yd = !1,
                this.l = new M(.5,.5),
                this.i = sb(this.za) / Cb,
                this.f = new Vi,
                this.c = a = new Dj,
                this.Tb = z(this.Tb, this),
                a.addEventListener(a.g.Mf, this.Tb),
                this.a = new jh,
                a = t.element,
                this.Ba = t = a.ownerDocument.createElement("div"),
                t.style.position = "absolute",
                t.style.width = t.style.height = "100%",
                t.style.zIndex = 0,
                a.insertBefore(t, a.firstChild),
                this.Nf = new Sj(this.Ba,this.za),
                this.m = [],
                Zj(this),
                i.addEventListener("update", this.Gg, !1, this),
                i.addEventListener(i.a.Lc, this.hf, !1, this),
                i.addEventListener(i.a.Nc, this.jf, !1, this),
                i.addEventListener(i.a.td, this.Ig, !1, this),
                this.Ub = z(O.prototype.Ub, this),
                this.G = ak,
                this.kh(),
                this.b = bk(this, this.I.getZoom() + this.i),
                ck(this),
                dk(this, e.Ab().position, this.b),
                ek(this),
                this.Dc()
            }
            yj.prototype.Ab = function() {
                return Vj(this, {}, this.g, this.i)
            }
            ,
            yj.prototype.getCameraData = yj.prototype.Ab,
            yj.prototype.Jb = function(t) {
                var e, i = t.animate;
                if (!t)
                    throw new C(this.Jb,0,t);
                if ((e = t.position) && !$b(e))
                    throw new C(this.Jb,0,"position");
                return this.a.zoom = D(t.zoom) ? D(this.a.zoom) ? this.b : this.a.zoom : t.zoom,
                e = this.a.zoom,
                t = Vj(this, {}, t, this.i),
                this.a = {
                    animate: i,
                    zoom: e,
                    camera: t
                },
                this.dispatchEvent(new Wj(this.a)),
                this
            }
            ,
            yj.prototype.setCameraData = yj.prototype.Jb,
            yj.prototype.l = function(t, e) {
                if (D(t = +t))
                    throw new C(this.l,0,t);
                this.a = {
                    animate: e,
                    zoom: t,
                    camera: this.a.camera || this.g
                },
                this.dispatchEvent(new Wj(this.a))
            }
            ,
            yj.prototype.setZoom = yj.prototype.l,
            yj.prototype.getZoom = function() {
                return this.b
            }
            ,
            yj.prototype.getZoom = yj.prototype.getZoom,
            yj.prototype.m = function() {
                var t = this.a.camera;
                return t.zoom = ab(this.a.zoom) ? this.a.zoom : t.zoom,
                t
            }
            ,
            yj.prototype.getRequestedCameraData = yj.prototype.m,
            yj.prototype.startControl = yj.prototype.B,
            yj.prototype.control = yj.prototype.v,
            yj.prototype.endControl = yj.prototype.s,
            v(Wj, Bc),
            v(O, wj),
            r("H.map.render.p2d.RenderEngine", O),
            O.prototype.type = Bj.P2D,
            O.prototype.type = O.prototype.type;
            var ak = 2;
            function fk(t, e, i) {
                return rb(e = i - e) < t.a.w / 2 ? e : e - t.a.w * i / rb(i)
            }
            function Zj(t) {
                var e, i = t.Ga.c(), a = 0, n = i.length;
                for ([t.U = {}, t.F = {}, t.ea = {}, t.ba = {}].forEach(function(t) {
                    t.Yc = [],
                    t.Fa = []
                }),
                t.T = i; a < n; a++)
                    qk(t, a, e = i[a], 1),
                    0 === a && rk(t, e, !0);
                ck(t)
            }
            function rk(t, e, i) {
                (i = i ? e.addEventListener : e.removeEventListener).call(e, e.a.Uf, t.Kg, !1, t),
                i.call(e, e.a.Tf, t.Kg, !1, t)
            }
            function qk(t, e, i, a) {
                var n, r, o, s, l;
                i && (l = {
                    Nb: t.zh,
                    yi: t.i,
                    noWrap: t.yb
                },
                i.ca ? B(i, Oh) ? r = new Mj(i) : B(i, Qh) && (s = new Mj(i)) : (i.requestOverlays && (n = new Ij(i,l)),
                i.requestTiles && (r = new pj(i,l)),
                i.requestMarkers && (o = new Lj(i,l)),
                i.requestDomMarkers && (s = new jj(i,l)))),
                a = a || 0,
                t.U.Fa.splice(e, a, n),
                t.F.Fa.splice(e, a, r),
                t.ea.Fa.splice(e, a, o),
                t.ba.Fa.splice(e, a, s),
                t.T = t.Ga.c(),
                t.m = Tj(t.Nf, tk(t), uk(t))
            }
            function uk(t) {
                return [].concat(t.F.Fa).concat(t.U.Fa).concat(t.ea.Fa).concat(t.ba.Fa).filter(Ta)
            }
            function ck(t) {
                var e;
                if (0 < t.T.length)
                    e = t.T[0].max,
                    t.be = t.T[0].min,
                    t.Zd = e;
                else {
                    var i = (e = t.ih.zoom).max;
                    t.be = e.min,
                    t.Zd = i
                }
                (e = vk(t, t.b)) !== t.b && (t.b = e,
                t.a.Ja(e),
                ek(t))
            }
            function hk(t, e) {
                var i, a, n = e.requested;
                return a = (i = n.camera) && i.position,
                i = vk(t, vk(t, n.zoom) + t.i),
                a = wk({
                    position: new gc(a.lat,a.lng)
                }),
                t.b = n.animate ? t.b : i,
                a.zoom = i,
                a
            }
            function dk(t, e, i) {
                var a = t.a;
                a.Ja(i),
                t.l = a.projection.qb(e),
                a.x = a.w * t.l.x,
                a.y = a.h * t.l.y
            }
            function vk(t, e) {
                var i = t.ih.zoom;
                return Qb(e, mb(i.min, t.be), lb(i.max, t.Zd))
            }
            function wk(t) {
                return t.yaw = t.pitch = t.roll = 0,
                t.fov = 70,
                t
            }
            function xk(t, e, i, a, n) {
                for (var r, o = e.length; o-- && !((r = e[o]) && r.Ma && (t = t.concat(r.Ma(i, a, n)),
                t.length && n)); )
                    ;
                return t
            }
            function tk(t) {
                return {
                    w: (t = t.wa[2]).right - t.left,
                    h: t.bottom - t.top
                }
            }
            function yk(t) {
                tj() - t.Xd < t.Vb && !t.Yb ? t.uh = rj(t.Ub) : (t.Yb && (sk(t),
                zk(t)),
                t.G = ak)
            }
            function sk(t) {
                t.U.Yc.length = 0,
                t.F.Yc.length = 0,
                t.ea.Yc.length = 0,
                t.ba.Yc.length = 0
            }
            function zk(t, e) {
                t.dispatchEvent({
                    type: t.ee.Xf,
                    target: e || t
                })
            }
            function ok(t) {
                t.Xd = tj(),
                t.G === ak && (t.Yb = !1,
                t.G = 1,
                yk(t))
            }
            function Bk(t) {
                return wk({
                    position: t.a.projection.Fc(t.l)
                })
            }
            function ek(t, e) {
                var i = Bk(t);
                e && (i.position = e),
                t.Fb = i,
                t.Fb.zoom = t.b - t.i
            }
            function Ck(t, e, i) {
                jk(t, e * t.za, i * t.za),
                t.K.set(0, 0),
                ek(t),
                ok(t)
            }
            function jk(t, e, i) {
                var a = t.a
                  , n = t.l;
                a.x = t.yb ? mb(0, lb(a.w, a.x + e)) : Ob(a.x + e, a.w),
                a.y = mb(0, lb(a.w, a.y + i)),
                n.x = a.x / a.w,
                n.y = a.y / a.h
            }
            function kk(t, e, i, a) {
                var n = t.za
                  , r = t.g.center;
                i === +i && a === +a ? (i = (i - r.x) * n,
                a = (a - r.y) * n,
                t.K.set(i, a),
                jk(t, i, a),
                t.a.Ja(e),
                jk(t, -i, -a)) : (t.K.set(0, 0),
                t.a.Ja(e)),
                t.b = e,
                ek(t),
                ok(t)
            }
            function gk(t) {
                pk(t, !0),
                t.c.mb() && t.s(!0),
                t.f.mb() && t.B(!0),
                pk(t, !0)
            }
            function Dk(t, e) {
                if (e) {
                    var i = {};
                    i.Xg = e.power,
                    i.Be = e.ease,
                    i.duration = e.duration,
                    t.o = i
                }
            }
            function bk(t, e) {
                return vk(t, vk(t, e - t.i) + t.i)
            }
            function Fk(t, e) {
                var i, a, n, r, o = t.l, s = t.a.projection.qb(e.camera.position), l = (c = t.a.b(s)).y, c = c.x, h = e.zoom, p = (o = (d = t.a.b(o)).y,
                d.x), d = t.b, u = Gj(t.c), m = t.c.atX, f = t.c.atY, g = 0;
                c = fk(t, p, c),
                o = tb((c = c - p) * c + (l = l - o) * l + (d = h - d) * d);
                0 !== u && 0 !== o && (i = c / o,
                a = l / o,
                n = d / o,
                r = u * u / (2 * o),
                ik(t, function(e, o) {
                    var l, c, p;
                    1 !== e ? ((p = n * (c = (l = u * o - r * o * o / 2) - g)) && (p = bk(t, t.b + p),
                    kk(t, bk(t, p), m, f)),
                    Ck(t, nb(i * c), nb(a * c)),
                    g = l) : (t.l = s,
                    kk(t, bk(t, h), m, f),
                    ek(t),
                    ok(t))
                }, 2 * o / u))
            }
            function Ek(t, e, i) {
                i = i || 0,
                e.z && kk(t, bk(t, t.b + e.z * i), t.c.atX, t.c.atY),
                Ck(t, e.x * i, e.y * i)
            }
            function ik(t, e, i, a, n) {
                t.A && t.A.mb() && t.A.stop(!0),
                t.A = new Oj(e,i,a,n),
                t.A.start()
            }
            function pk(t, e) {
                t.A && t.A.mb() && t.A.stop(e)
            }
            O.prototype.ih = Kj,
            O.prototype.getState = function() {
                return this.G
            }
            ,
            O.prototype.getState = O.prototype.getState,
            O.prototype.zb = function(t) {
                var e, i, a, n, r, o = this, s = (l = t.requested).animate, l = l.camera.position, c = o.a.geoToPixel(l), h = c.x, p = c.y, d = this.b, u = this.l, m = 0;
                gk(this),
                this.K.set(0, 0),
                t = hk(this, t),
                e = t.zoom,
                r = t.position,
                s ? (i = e - d,
                a = {
                    x: u.x,
                    y: u.y
                },
                s = this.a.b(a).x,
                ((n = this.a.projection.qb(l)).x !== this.l.x || n.y !== this.l.y || e !== this.b) && (h = fk(this, s, h),
                ik(this, function(t) {
                    var r, s = t - m;
                    e !== d && (c = o.a.b(n),
                    r = o.a.b(a),
                    h = fk(o, r.x, c.x),
                    p = c.y - r.y),
                    m = t,
                    jk(o, h * s, p * s),
                    kk(o, d += i * s),
                    ek(o),
                    ok(o)
                }, this.Ua, function() {
                    dk(o, r, e),
                    kk(o, e),
                    ek(o, r),
                    ok(o)
                }, this.Xa))) : (pk(this),
                dk(this, r, e),
                kk(this, e),
                ek(this, r)),
                ok(this)
            }
            ,
            O.prototype.Ua = 300,
            O.prototype.lh = function(t) {
                var e = ab(t);
                if (!e || e && 0 > t)
                    throw new C(this.lh,1,"positive number required");
                this.Ua = t
            }
            ,
            O.prototype.setAnimationDuration = O.prototype.lh,
            O.prototype.xh = function() {
                return this.Ua
            }
            ,
            O.prototype.getAnimationDuration = O.prototype.xh,
            O.prototype.Xa = Nj,
            O.prototype.mh = function(t) {
                if (!sa(t))
                    throw new C(this.mh,1,"function required");
                this.Xa = t
            }
            ,
            O.prototype.setAnimationEase = O.prototype.mh,
            O.prototype.yh = function() {
                return this.Xa
            }
            ,
            O.prototype.getAnimationEase = O.prototype.yh,
            O.prototype.kh = function() {
                this.Xa = Nj,
                this.Ua = 300
            }
            ,
            O.prototype.resetAnimationDefaults = O.prototype.kh,
            p = O.prototype,
            p.Gg = function() {
                ok(this)
            }
            ,
            p.hf = function(t) {
                var e = t.added;
                qk(this, t = t.idx, e),
                0 === t && (ck(this),
                rk(this, e, !0)),
                sk(this),
                ok(this)
            }
            ,
            p.jf = function(t, e) {
                var i, a = t.removed, n = t.idx;
                this.Xd = tj(),
                (i = this.U.Fa.splice(n, 1)[0]) && i.J(),
                (i = this.F.Fa.splice(n, 1)[0]) && i.J(),
                (i = this.ea.Fa.splice(n, 1)[0]) && i.J(),
                (i = this.ba.Fa.splice(n, 1)[0]) && i.J(),
                this.T = this.Ga.c(),
                0 === n && (rk(this, a, !1),
                ck(this)),
                this.m = Tj(this.Nf, tk(this), uk(this)),
                sk(this),
                e || ok(this)
            }
            ,
            p.Ig = function(t) {
                this.jf(t, !0),
                this.hf(t)
            }
            ,
            p.Kg = function() {
                ck(this),
                ok(this)
            }
            ,
            p.Ka = function(t, e) {
                var i = this.g.center
                  , a = this.za;
                return this.a.Aa((t - i.x) * a, (e - i.y) * a, null, this.yb)
            }
            ,
            O.prototype.screenToGeo = O.prototype.Ka,
            O.prototype.sa = sc,
            O.prototype.setPointer = O.prototype.sa,
            O.prototype.Za = function(t, e) {
                var i = this.Ka(t, e)
                  , a = this.I.Ab();
                return a.position = i,
                a
            }
            ,
            O.prototype.screenToCameraData = O.prototype.Za,
            O.prototype.Ya = function(t) {
                var e = this.za
                  , i = (a = this.g.center).x * e
                  , a = a.y * e;
                t = this.a.geoToPixel(t);
                var n = this.a.w;
                return new M(this.yb ? nb((t.x + i) / e) : nb((t.x - nb(t.x / n) * n + i) / e),nb((t.y + a) / e))
            }
            ,
            O.prototype.geoToScreen = O.prototype.Ya,
            O.prototype.v = function(t, e) {
                var i = this.wa[t || 4]
                  , a = this.a
                  , n = i.left - e
                  , r = a.Aa(n, i.top - e)
                  , o = i.right + e;
                i = a.Aa(o, i.bottom + e);
                return o - n >= a.w && (r.lng = -(i.lng = 180)),
                Xe(r, i)
            }
            ,
            O.prototype.getBBox = O.prototype.v,
            O.prototype.Ma = function(t, e, i) {
                var a = []
                  , n = this.za;
                return t *= n,
                e *= n,
                a = xk(a, this.ba.Fa, t, e, i),
                i && a.length ? a : (a = xk(a, this.ea.Fa, t, e, i),
                i && a.length ? a : (a = xk(a, this.F.Fa, t, e, i),
                i && a.length ? a : xk(a, this.U.Fa, t, e, i)))
            }
            ,
            O.prototype.getObjectsAt = O.prototype.Ma,
            O.prototype.kb = x,
            O.prototype.Dc = function() {
                var t, e, i, a, n, r = this.m.length, o = this.wa;
                for (this.g.g || (i = o[2].clone()),
                O.u.Dc.call(this),
                t = tk(this),
                this.K.set(0, 0),
                a = t.w,
                n = t.h; r--; )
                    (e = (t = this.m[r]).size).w === a && e.h === n || cj(t, a, n);
                this.kb = new Th(a,n),
                i && (r = o[2],
                jk(this, i.left - r.left, i.top - r.top),
                ek(this)),
                ok(this)
            }
            ,
            O.prototype.Ha = function() {
                return Kj
            }
            ,
            O.prototype.getCapabilities = O.prototype.Ha,
            O.prototype.Ub = function() {
                var t, e, i, a = this.F.Fa, n = this.g.center.clone().scale(this.za).round(), r = this.v(1, 0), o = this.v(1, 256), s = this.b, l = s - this.i, c = Ak, h = this.a;
                t = this.Bh;
                var p = this.Ah
                  , d = a[0];
                a = this.K;
                for (e = this.m.length; e--; )
                    B(i = this.m[e], Cj) && i.clear();
                if (d) {
                    if (t)
                        for (; t; )
                            e = s - t,
                            d.ca(r, n, h, e, !0, a),
                            --t;
                    if (p && this.jc)
                        for (i = 1; i <= p && (e = s + i,
                        h.Ja(e),
                        t = this.v(2, 0),
                        h.Ja(s),
                        !d.ca(t, n, h, e, !0, a)); i++)
                            ;
                }
                this.Vb = Yj,
                r = this.jh(r, n, s, !1, a, c.Yf, this.F, this.U),
                n = this.jh(o, n, l, !1, a, c.Qf, this.ea, this.ba),
                this.Yb = r && n,
                this.Fb && (Xj(this.I, this.Fb),
                this.Fb = null),
                this.kb && ((n = this.g).dispatchEvent(new yi(n.a.Oc,n.m,this.kb,yi.prototype.SIZE)),
                this.kb = x),
                s < this.he ? this.jc = !0 : this.Yd && (this.jc = !1),
                this.he = s,
                this.Yd = r,
                yk(this)
            }
            ,
            O.prototype.jh = function(t, e, i, a, n, r, o) {
                var s, l, c, h, p, d = Array.prototype.slice.call(arguments, 6), u = d.length, m = d[0].Fa.length, f = u * m, g = Ak, y = !!f;
                for (c = 0; c < f; c++)
                    r === g.Yf ? (p = c % u,
                    h = Math.floor(c / u)) : r === g.Qf && (p = Math.floor(c / m),
                    h = c % m),
                    s = d[p].Fa[h],
                    l = d[p].Yc,
                    s && ((s = s.ca(t, e, this.a, i, a, n)) === ij.ACTIVE && (this.Vb = 1 / 0),
                    s !== ij.DONE || l[h] || (zk(this, this.T[h]),
                    l[h] = !0),
                    l[h] || (y = !1));
                return y
            }
            ,
            O.prototype.D = function() {
                var t = this.Ga
                  , e = this.Ga.c()[0]
                  , i = this.g;
                sj(this.uh),
                pk(this, !0),
                t.removeEventListener("update", this.Gg, !1, this),
                t.removeEventListener(t.a.Lc, this.hf, !1, this),
                t.removeEventListener(t.a.Nc, this.jf, !1, this),
                t.removeEventListener(t.a.td, this.Ig, !1, this),
                e && rk(this, e, !1),
                uk(this).forEach(function(t) {
                    t.J()
                }),
                i.element && i.element.removeChild(this.Ba),
                this.Ba = null,
                this.G = 3,
                O.u.D.call(this)
            }
            ,
            O.prototype.rd = function(t, e, i) {
                kk(this, t = vk(this, vk(this, t) + this.i), e, i)
            }
            ,
            O.prototype.zoomAt = O.prototype.rd,
            O.prototype.P = function(t, e) {
                var i, a, n, r, o, s = this.Ha().zoom.max, l = t.Oa();
                return t.ed() || ((i = new jh(this.a.projection)).Ja(s),
                a = i.geoToPixel(t.tb()).round(),
                n = i.geoToPixel(t.rb()).round(),
                s = i.w,
                t.g() && (a.x -= s),
                e ? (r = i.geoToPixel(l),
                o = 2 * mb(r.x - a.x, n.x - r.x),
                r = 2 * mb(r.y - a.y, n.y - r.y)) : (o = n.x - a.x,
                r = n.y - a.y,
                l = i.a(a.add(n).scale(.5))),
                i = (a = this.wa[4]).right - a.left,
                a = a.bottom - a.top,
                s = -8 + lb(sb(i / o * s) / Cb, sb(a / r * s) / Cb) - this.i),
                {
                    zoom: vk(this, s),
                    position: l
                }
            }
            ,
            O.prototype.getCamForBounds = O.prototype.P,
            O.prototype.N = function(t, e) {
                gk(this),
                Dk(this, e),
                this.f.start(t, !!e)
            }
            ,
            O.prototype.startInteraction = O.prototype.N,
            O.prototype.C = function(t, e, i, a, n) {
                var r = !1;
                this.f.mb() && (this.f.gh(t, e, i, a, n),
                this.f.Fd(Aj.COORD) && (0 < Ui(n = Wi((n = this.f).a, n.c)) && (Ck(this, -n.x, -n.y),
                r = !0)),
                this.f.Fd(Aj.ZOOM) && t === +t && e === +e && i === +i && a === +a && (e = Xi(this.f.a),
                (t = this.f.hg(this.b)) !== this.b && (kk(this, t = bk(this, t), e.x, e.y),
                r = !0)),
                r && ok(this))
            }
            ,
            O.prototype.interaction = O.prototype.C,
            O.prototype.B = function(t) {
                var e, i, a, n, r = this;
                this.f.mb() && !t && (this.o && (t = aj(this.f),
                a = $i(this.f),
                n = this.o.duration,
                e = (this.o.Xg || 1) * t,
                i = new Qj(-e / n,e),
                !D(a.x) && !D(a.y) && 0 < e && r.f.Fd(Aj.COORD) && ik(this, function(t) {
                    e = i.c(t * n),
                    D(e) || Ck(r, nb(-a.x * e), nb(-a.y * e))
                }, n, void 0, this.o.Be)),
                this.o = null,
                this.f.clear())
            }
            ,
            O.prototype.endInteraction = O.prototype.B,
            O.prototype.O = function(t, e, i) {
                gk(this),
                this.c.start(e, i),
                Dk(this, t)
            }
            ,
            O.prototype.startControl = O.prototype.O,
            O.prototype.j = function(t, e, i, a, n, r, o) {
                if (D(i = +o || +i))
                    throw new C(this.j,2,i);
                if (D(t))
                    throw new C(this.j,0,t);
                if (D(e))
                    throw new C(this.j,2,e);
                this.c.mb() && this.c.set(t, e, i)
            }
            ,
            O.prototype.control = O.prototype.j,
            O.prototype.s = function(t, e) {
                var i, a, n, r, o, s, l, c = this;
                this.c.mb() && (pk(this, !0),
                1 <= (i = (a = tj()) - this.Ld) && Ek(this, Fj(this.c), i),
                !this.o || t || e ? "function" === typeof e && (e(i = {
                    camera: Bk(this),
                    zoom: this.b - this.i
                }),
                i.zoom += this.i,
                Fk(this, i)) : (i = Gj(this.c),
                o = Hj(this.c),
                s = this.o.duration,
                n = (this.o.Xg || 1) * i,
                r = new Qj(-n / s,n),
                !D(o.x) && !D(o.y) && 0 < n && ik(this, function(t, e, i, h) {
                    a && (i = h - a,
                    a = 0),
                    n = r.c(t * s) * i,
                    D(n) || ((l = o.z * n) && kk(c, bk(c, c.b + l), c.c.atX, c.c.atY),
                    Ck(c, nb(o.x * n), nb(o.y * n)))
                }, s, void 0, this.o.Be)),
                this.c.reset())
            }
            ,
            O.prototype.endControl = O.prototype.s,
            O.prototype.Tb = function(t) {
                var e = this
                  , i = t.offset;
                this.K.set(0, 0),
                i.x || i.y || i.z ? (this.Ld = tj(),
                ik(this, function(t, a, n, r) {
                    e.Ld = r,
                    Ek(e, i, n)
                }, Number.POSITIVE_INFINITY)) : pk(this, !0)
            }
            ,
            O.prototype.enter = sc,
            O.prototype.enter = O.prototype.enter,
            O.prototype.Va = function(t) {
                var e = this.I.Ab();
                this.zb({
                    requested: {
                        camera: e,
                        zoom: e.zoom,
                        animate: !0
                    }
                }),
                zj(this.Ba, t)
            }
            ,
            O.prototype.exit = O.prototype.Va,
            O.prototype.ya = function(t, e, i, a) {
                var n = this.Ba.ownerDocument.createElement("canvas")
                  , r = n.getContext("2d")
                  , o = this.za;
                for (n.width = (i - t) * o,
                n.height = (a - e) * o,
                i = 0; i < this.m.length; i++)
                    B(a = this.m[i], Cj) && r.drawImage(a.a, -t * o, -e * o);
                return n
            }
            ;
            var Ak = {
                Qf: 0,
                Yf: 1
            }
              , Yj = 1e3;
            function P(t) {
                var e = {};
                this.O = e.previousSibling = e.nextSibling = e,
                this.kb = new ye,
                P.u.constructor.call(this, t),
                t && "objects"in t && this.m(t.objects)
            }
            function Gk(t, e, i) {
                t.F(i.l)
            }
            function Hk(t) {
                t.K()
            }
            function Ik(t, e, i) {
                t.ua(i.A)
            }
            function Jk(t) {
                this.push(t)
            }
            function Kk(t) {
                var e;
                for (e in Ua(this, Kk),
                Kk.u.constructor.call(this, t),
                this.C = t = [],
                Pe)
                    t[Pe[e]] = new Le
            }
            function L(t) {
                t = t || {},
                L.u.constructor.call(this, t),
                this.f = t = new P({
                    provider: this,
                    min: t.min,
                    max: t.max
                }),
                t.ia(this),
                this.A = new jf,
                this.v = new jf,
                this.j = new jf,
                this.B = new jf
            }
            function Mk(t, e, i, a, n) {
                var r, o, s;
                if (e.c) {
                    for (t = e !== t.j,
                    n = !n,
                    o = 0,
                    i = (e = of(e, i)).length,
                    r = 0; r < i; r++) {
                        s = e[r].Lf;
                        for (var l = nb(a), c = s, h = void 0; (h = c.Ga <= l && c.ea >= l) && (c = c.Da); )
                            ;
                        h && (n || s.getVisibility(!0)) && (t || 1 === s.sb().getState()) && (e[o++] = s)
                    }
                    e.length = o
                } else
                    e = De;
                return e
            }
            function Nk(t, e, i, a, n, r) {
                var o;
                for (o = []; a <= n; a++)
                    o = o.concat(sh(t, i, a));
                for (t = o.length,
                Ei.call(this, r, t),
                this.l = i = [],
                this.f = z(this.f, this),
                this.c = z(this.c, this),
                this.L(1); t--; )
                    r = o[t],
                    i.push(ch(e, r[0], r[1], r[2], this.f, this.c))
            }
            function Ok(t, e) {
                var i = this;
                if (!sa(e))
                    throw new C(Pk,1,e);
                if (!sa(t.next || sa(t.cycle)))
                    throw new C(Ok,2,'Argument "mode" must implement H.util.AsyncQueue.Mode');
                this.b = [],
                this.c = [],
                this.g = t,
                this.i = e,
                this.l = function() {
                    Qk(i)
                }
                ,
                this.a = null,
                this.f = function() {
                    i.a || (i.a = w.setTimeout(i.l, 1))
                }
            }
            function Qk(t) {
                var e, i = t.c, a = 0, n = t.g;
                for (n.Kb = tj(),
                t.a = null; a < i.length; )
                    (e = i[a]).rg ? i.splice(a, 1) : a++;
                for (; e = n.next(t.b, t.c); )
                    e.cancelled ? e.done(null, "cancelled") : (i.push(e),
                    t.i(e, e.data))
            }
            function Sk() {
                Rk(this, null, null, null)
            }
            function Rk(t, e, i, a) {
                return t.data = e,
                t.cancelled = !1,
                t.rg = !1,
                t.b = i,
                t.c = a,
                t.a = null,
                t
            }
            function Tk(t, e) {
                Tk.u.constructor.call(this, new Uk(t), e)
            }
            function Uk(t) {
                if (isNaN(t) || 0 > t)
                    throw new C(Tk,1,'Argument "maxTime" must be a positive number');
                this.a = t,
                this.Kb = tj()
            }
            function Zf(t, e, i, a, n, r) {
                var o, s, l, c, h, p, d, u, m, f = t.length;
                if (f)
                    for (o = []; f--; )
                        for (p = (u = t[f]).length,
                        d = 0,
                        l = 1; l < p; l++)
                            (m = Vk(u[l - 1], u[l], i, e, a, n)) && (c = m[0],
                            h = m[1],
                            d && d.pa(c) ? s.push(h) : o.push(s = m),
                            d = h,
                            r && (l = p,
                            f = 0));
                else
                    o = t;
                return o
            }
            function Vk(t, e, i, a, n, r) {
                var o = t.x;
                t = -t.y;
                var s, l, c, h = e.x;
                if (e = -e.y,
                i = -i,
                r = -r,
                o > h) {
                    if (h > n || o < a)
                        return;
                    l = o,
                    c = t,
                    o = h,
                    t = e,
                    h = l,
                    e = c,
                    l = 1
                } else if (o > n || h < a)
                    return;
                if (t > e) {
                    if (e > i || t < r)
                        return;
                    s = 1,
                    t = -t,
                    e = -e,
                    c = r,
                    r = -i,
                    i = -c
                } else if (t > i || e < r)
                    return;
                if (o < a) {
                    if ((t += (a - o) * (e - t) / (h - o)) > i)
                        return;
                    o = a
                }
                if (t < r) {
                    if ((o += (r - t) * (h - o) / (e - t)) > n)
                        return;
                    t = r
                }
                return h > n && (e = t + (n - o) * (e - t) / (h - o),
                h = n),
                e > i && (h = o + (i - t) * (h - o) / (e - t),
                e = i),
                s && (t = -t,
                e = -e),
                l ? [new M(h,-e), new M(o,-t)] : [new M(o,-t), new M(h,-e)]
            }
            function ag(t, e, i, a, n, r, o, s, l, c) {
                return t = {
                    x: t,
                    y: e,
                    next: i || null,
                    nb: a || null,
                    ef: n || null,
                    df: r || null,
                    bb: o || 0,
                    Ce: s || 0,
                    ie: l || 0,
                    alpha: c || 0
                },
                a && (t.nb.next = t),
                i && (t.next.nb = t),
                t
            }
            function cg(t) {
                for (; t && t.bb; )
                    t = t.next;
                return t
            }
            function bg(t) {
                if (t)
                    for (; t.next; )
                        t = t.next;
                return t
            }
            function hg(t) {
                var e = t;
                if (e)
                    do {
                        e = e.next
                    } while (e != t && (!e.bb || e.bb && e.ie));return e
            }
            function gg(t) {
                var e = bg(t);
                e.nb.next = t,
                t.nb = e.nb
            }
            function dg(t, e, i, a, n, r) {
                var o, s, l, c = e.x - t.x, h = e.y - t.y;
                o = a.x - i.x;
                var p = a.y - i.y;
                return (s = c * p - h * o) ? (o = ((i.x - t.x) * p - (i.y - t.y) * o) / s,
                s = (h * (i.x - t.x) - c * (i.y - t.y)) / s,
                0 > o || 1 < o || 0 > s || 1 < s ? 0 : (0 === o ? l = t : 1 === o ? l = e : 0 === s ? l = i : 1 === s && (l = a),
                l && !r ? (l.x += 2480549651603763e-20,
                l.y += 7321997314118067e-20,
                l.zd && (l.zd.x = l.x,
                l.zd.y = l.y),
                dg(t, e, i, a, n)) : (n.Hi = t.x + o * c,
                n.Ii = t.y + o * h,
                n.Kh = o,
                n.Zf = s,
                1))) : 0
            }
            function fg(t, e, i) {
                var a, n, r, o, s, l, c, h = 0, p = {};
                for (a = ag(-137438953472, i = i || t.y),
                Array.isArray(e) ? (n = e[o = 0],
                s = function() {
                    return e[++o]
                }
                ) : (l = n = e,
                s = function() {
                    return l = l.next
                }
                ); c = s(); ) {
                    if (r = dg(a, t, n, c, p, !0),
                    0 === (n = p.Zf) || 1 === n)
                        return fg(t, e, i + 6e-5);
                    r && h++,
                    n = c
                }
                return h % 2
            }
            function eg(t, e, i) {
                for (e = e.next; e !== i && e.alpha <= t.alpha; )
                    e = e.next;
                t.next = e,
                t.nb = e.nb,
                t.next.nb = t,
                t.nb.next = t
            }
            function $f(t) {
                for (var e, i = null, a = 0, n = t.length; a < n; a++)
                    ((e = ag(t[a].x, t[a].y, i)).next = i) && (i.nb = e),
                    i = e;
                return i
            }
            function Wk(t, e, i, a) {
                return (t -= i) * t + (e -= a) * e
            }
            function Xk(t, e, i, a, n) {
                var r, o, s, l = 0, c = a, h = t[a].x, p = t[a].y, d = t[n].x, u = t[n].y, m = a + 1, f = Wk(h, p, d, u);
                if (f)
                    for (; m < n; )
                        (r = 0 > (s = (((r = (o = t[m++]).x) - h) * (d - h) + ((o = o.y) - p) * (u - p)) / f) ? Wk(r, o, h, p) : 1 < s ? Wk(r, o, d, u) : Wk(r, o, h + s * (d - h), p + s * (u - p))) > l && (l = r,
                        c = m - 1);
                else
                    for (; m < n; )
                        (r = Wk(r = (o = t[m++]).x, o = o.y, h, p)) > l && (l = r,
                        c = m - 1);
                return l >= e || 0 < i && c - a ? (--i,
                1 < c - a ? (a = Xk(t, e, i, a, c)).splice(a.length - 1, 1) : a = [t[a]],
                a = 1 < n - c ? a.concat(Xk(t, e, i, c, n)) : a.concat(t.slice(c, n + 1))) : a = [t[a], t[n]],
                a
            }
            function Yk(t, e, i, a, n, r, o, s) {
                Yk.u.constructor.call(this, e, i, a, null),
                this.key = t,
                this.C = s,
                this.b = n,
                1 !== r && (this.Wb = r),
                this.g = {},
                this.zL = o,
                this.F = qb(zf.MAX_LINE_WIDTH / 2 * this.Wb + 1)
            }
            function Zk(t) {
                return t.C.getInvalidations(Pe.SPATIAL)
            }
            function $k(t) {
                var e, i, a, n, r, o, s = Zk(t), l = s.a, c = t.f, h = c === l;
                if (!(h || s.j(c) || s.g(c))) {
                    if (h = t.a,
                    e = t.g,
                    s.f(c))
                        for (i = h.length; i--; )
                            (a = h[i]).j().f(c) && (h.splice(i, 1),
                            n = n || al(t, a.ta()));
                    if (s.i(c)) {
                        for (i = h.length; i--; )
                            if ((a = h[i]).j().i(c) && (r = 1,
                            (a = e[a.ta()]) && a.a)) {
                                n = 1;
                                break
                            }
                        r && h.sort(bl)
                    }
                    if (!n && s.b(c))
                        for (i = h.length; i--; )
                            if (h[i].j().b(c)) {
                                o = 1;
                                break
                            }
                    t.N !== c || o || (t.N = l,
                    t.c !== c || n || (t.c = l)),
                    t.f = l,
                    h = !0
                }
                return h
            }
            function cl(t, e) {
                this.b = t,
                this.a = e
            }
            function al(t, e) {
                var i = t.g
                  , a = i[e];
                if (a)
                    return delete i[e],
                    a.a
            }
            function bl(t, e) {
                return Re(Qe(t), Qe(e), !1)
            }
            v(P, K),
            r("H.map.Group", P),
            P.prototype.type = Pe.GROUP,
            P.prototype.F = function(t, e) {
                var i;
                return this.B = !0,
                i = P.u.F.call(this, t, e),
                this.B = !1,
                i && this.forEach(Gk, !0),
                i
            }
            ,
            P.prototype.setProvider = P.prototype.F,
            P.prototype.contains = function(t) {
                var e = this === t;
                if (!e && this.b && B(t, K))
                    for (; !e && t; )
                        t === this ? e = !0 : t = t.Da;
                return e
            }
            ,
            P.prototype.contains = P.prototype.contains,
            P.prototype.K = function() {
                this.U = A,
                this.forEach(Hk, !0)
            }
            ,
            P.prototype.resetZInfo = P.prototype.K,
            P.prototype.B = !1,
            P.prototype.ua = function(t) {
                var e = P.u.ua.call(this, t);
                return e && !this.B && (this.A = t,
                this.forEach(Ik, !0),
                delete this.A),
                e
            }
            ,
            P.prototype.invalidate = P.prototype.ua,
            P.prototype.forEach = function(t, e, i) {
                var a, n, r, o;
                if (this.b)
                    for (n = (a = this.O).nextSibling,
                    r = 0; n !== a; )
                        o = n.nextSibling,
                        t.call(i, n, r++, this),
                        e && B(n, P) && n.forEach(t, e, i),
                        n = o
            }
            ,
            P.prototype.forEach = P.prototype.forEach,
            P.prototype.s = function(t) {
                var e = [];
                return this.forEach(Jk, t, e),
                e
            }
            ,
            P.prototype.getObjects = P.prototype.s,
            P.prototype.S = function() {
                var t = null;
                return this.b && this.forEach(function(e) {
                    (e = e.S()) && (t = t ? t.wb(e) : e)
                }),
                t
            }
            ,
            P.prototype.getBounds = P.prototype.S,
            P.prototype.b = 0,
            P.prototype.Ba = function() {
                return this.b
            }
            ,
            P.prototype.getChildCount = P.prototype.Ba,
            P.prototype.V = function(t) {
                var e, i = this.O, a = i.previousSibling;
                if (B(t, K, this.V, 0),
                t.contains(this))
                    throw new kc(this.V,"The new object contains the parent group");
                if ((e = t.Da) !== this) {
                    if (e) {
                        e = t.previousSibling;
                        var n = t.nextSibling;
                        e.nextSibling = n,
                        n.previousSibling = e
                    }
                    t.Da = this,
                    K.u.ia.call(t, this),
                    a.nextSibling = t,
                    t.previousSibling = a,
                    t.nextSibling = i,
                    i.previousSibling = t,
                    this.b++
                }
                return i = t.F(this.l, this.V),
                t.fh = this.kb.next(),
                t.K(),
                i || t.ua(Me.Z_ORDER),
                t
            }
            ,
            P.prototype.addObject = P.prototype.V,
            P.prototype.m = function(t) {
                var e, i;
                for (Za(t, this.m, 0),
                e = t.length,
                i = 0; i < e; i++)
                    this.V(t[i])
            }
            ,
            P.prototype.addObjects = P.prototype.m,
            P.prototype.a = function(t) {
                if (!t || t.Da !== this)
                    throw new kc(this.a,"object not found");
                var e = t.previousSibling
                  , i = t.nextSibling;
                return e.nextSibling = i,
                i.previousSibling = e,
                t.Da = null,
                K.u.ia.call(t, null),
                delete t.previousSibling,
                delete t.nextSibling,
                B(t.l, L) && t.F(null, this.a),
                this.b--,
                t
            }
            ,
            P.prototype.removeObject = P.prototype.a,
            P.prototype.v = function(t) {
                var e, i;
                for (Za(t, this.v, 0),
                e = t.length,
                i = 0; i < e; i++)
                    this.a(t[i])
            }
            ,
            P.prototype.removeObjects = P.prototype.v,
            P.prototype.Ea = function() {
                var t = this.s();
                this.v(t)
            }
            ,
            P.prototype.removeAll = P.prototype.Ea,
            v(Kk, Qg),
            r("H.map.provider.ObjectProvider", Kk),
            Kk.prototype.N = function(t) {
                return this.C[t || Pe.ANY]
            }
            ,
            Kk.prototype.getInvalidations = Kk.prototype.N,
            Kk.prototype.o = function(t, e) {
                var i, a;
                e !== Me.NONE && (i = (a = this.C[Pe.ANY]).a + 1,
                a.c(i, e),
                (a = this.C[t.type]).c(i, e),
                t.j().c(i, e),
                Rg(this, t))
            }
            ,
            Kk.prototype.invalidateObject = Kk.prototype.o,
            Kk.prototype.requestOverlays = Kk.prototype.K,
            Kk.prototype.requestSpatials = Kk.prototype.m,
            Kk.prototype.requestSpatialsByTile = Kk.prototype.g,
            Kk.prototype.P = !1,
            Kk.prototype.requestMarkers = Kk.prototype.c,
            Kk.prototype.requestDomMarkers = Kk.prototype.b,
            v(L, Kk),
            r("H.map.provider.LocalObjectProvider", L),
            L.prototype.I = function() {
                return this.f
            }
            ,
            L.prototype.getRootGroup = L.prototype.I,
            L.prototype.o = function(t, e) {
                e & Me.SPATIAL && this.V(t),
                L.u.o.call(this, t, e)
            }
            ,
            L.prototype.invalidateObject = L.prototype.o,
            L.prototype.V = function(t) {
                var e;
                if (B(t, K, this.V, 0),
                t.l !== this)
                    throw new kc(this.V,"foreign object");
                this.a(t),
                e = B(t, xi) ? this.j : B(t, fh) ? this.B : B(t, Lk) ? this.A : this.v;
                var i = t.S()
                  , a = i.tb()
                  , n = i.rb();
                (e = (i = i.g()) ? kf(e, a.lat, n.lng, n.lat, a.lng, i) : kf(e, a.lat, a.lng, n.lat, n.lng, i)).Lf = t,
                t.Ua = e
            }
            ,
            L.prototype.a = function(t) {
                var e;
                if (t)
                    if (t.l !== this) {
                        if (B(t, K))
                            throw new kc(this.a,"foreign object")
                    } else
                        (e = t.Ua) && ((B(t, xi) ? this.j : B(t, fh) ? this.B : B(t, Lk) ? this.A : this.v).remove(e),
                        delete e.Lf,
                        delete t.Ua)
            }
            ,
            L.prototype.removeObject = L.prototype.a,
            L.prototype.ba = function() {
                return 0 < this.A.c
            }
            ,
            L.prototype.providesOverlays = L.prototype.ba,
            L.prototype.K = function(t, e, i) {
                return Mk(this, this.A, t, e, i).filter(function(t) {
                    return t.Pb()
                })
            }
            ,
            L.prototype.requestOverlays = L.prototype.K,
            L.prototype.s = function() {
                return 0 < this.v.c
            }
            ,
            L.prototype.providesSpatials = L.prototype.s,
            L.prototype.m = function(t, e, i) {
                return Mk(this, this.v, t, e, i)
            }
            ,
            L.prototype.requestSpatials = L.prototype.m,
            L.prototype.g = function(t, e) {
                return Mk(this, this.v, t.s(), t.zL, e)
            }
            ,
            L.prototype.requestSpatialsByTile = L.prototype.g,
            L.prototype.l = function() {
                return 0 < this.j.c
            }
            ,
            L.prototype.providesMarkers = L.prototype.l,
            L.prototype.c = function(t, e, i) {
                return Mk(this, this.j, t, e, i)
            }
            ,
            L.prototype.requestMarkers = L.prototype.c,
            L.prototype.i = function() {
                return 0 < this.B.c
            }
            ,
            L.prototype.providesDomMarkers = L.prototype.i,
            L.prototype.b = function(t, e, i) {
                return Mk(this, this.B, t, e, i)
            }
            ,
            L.prototype.requestDomMarkers = L.prototype.b,
            L.prototype.D = function() {
                this.f.Ea(),
                L.u.D.call(this)
            }
            ,
            v(Nk, Ei),
            Nk.prototype.f = function() {
                Hi(this, 2)
            }
            ,
            Nk.prototype.c = function() {
                Hi(this, 4)
            }
            ,
            Nk.prototype.Sc = function() {
                for (var t = this.l, e = t.length; e--; )
                    t[e].cancel();
                this.l = x
            }
            ,
            r("H.util.AsyncQueue", Ok),
            Ok.prototype.push = function(t, e) {
                if (!sa(e))
                    throw new C(this.push,1,e);
                var i = Rk(new Sk, t, this.f, e);
                return this.b.push(i),
                this.f(),
                i
            }
            ,
            Ok.prototype.push = Ok.prototype.push,
            Ok.Task = Sk,
            Sk.prototype.done = function(t, e) {
                this.rg = !0,
                this.b(),
                this.c(this, t, e)
            }
            ,
            Sk.prototype.done = Sk.prototype.done,
            Sk.prototype.cancel = function() {
                this.a && this.a(),
                this.cancelled = !0
            }
            ,
            Sk.prototype.cancel = Sk.prototype.cancel,
            Sk.prototype.f = function(t) {
                return this.a = t,
                this
            }
            ,
            Sk.prototype.setCancelFn = Sk.prototype.f,
            v(Tk, Ok),
            r("H.util.SequentialQueue", Tk),
            Uk.prototype.next = function(t) {
                return t.length && tj() - this.Kb < this.a ? t.shift() : null
            }
            ,
            v(Yk, $g),
            r("H.map.provider.SpatialTile", Yk),
            Yk.prototype.f = Mb,
            Yk.prototype.N = Mb,
            Yk.prototype.c = Mb,
            Yk.prototype.yc = function() {
                var t = Zk(this)
                  , e = t.a
                  , i = this.c
                  , a = i === e;
                return a || (this.C.P && !t.b(i) ? a = !0 : $k(this) && (a = this.c === e)),
                a
            }
            ,
            Yk.prototype.isCanvasValid = Yk.prototype.yc,
            Object.defineProperty(Yk.prototype, "valid", {
                get: function() {
                    return this.yc()
                },
                set: sc,
                configurable: !0
            }),
            Yk.prototype.a = De,
            Yk.prototype.I = function() {
                return this.a
            }
            ,
            Yk.prototype.getObjects = Yk.prototype.I;
            var dl = {};
            function fl(t, e, i, a, n, r, o, s, l) {
                var c, h, p, d = t.Ra, u = -o;
                if (o = r + o,
                s = s || 0,
                l === A && (l = d.length),
                n && t === If)
                    e.fillRect(0, 0, r, r);
                else if (l > s) {
                    for (e.beginPath(),
                    r = s; r < l; r++) {
                        if (p = (h = d[r]).length,
                        h === Tf)
                            e.moveTo(u, u),
                            e.lineTo(u, o),
                            e.lineTo(o, o),
                            e.lineTo(o, u);
                        else
                            for (c = h[0],
                            e.moveTo(c.x, c.y),
                            s = 1; s < p; s++)
                                c = h[s],
                                e.lineTo(c.x, c.y);
                        i && e.closePath()
                    }
                    i && n && e.fill(t.a !== Lb ? "evenodd" : "nonzero"),
                    a && e.stroke()
                }
            }
            function el(t, e, i) {
                var a;
                t.strokeStyle = e.strokeColor,
                t.lineWidth = e.lineWidth * i,
                t.lineCap = e.lineCap,
                t.lineJoin = e.lineJoin,
                t.miterLimit = e.miterLimit,
                t.setLineDash && (a = e.lineDash) !== De && (t.setLineDash(a),
                t.lineDashOffset = e.lineDashOffset)
            }
            function gl(t, e) {
                t.fillStyle = e.fillColor
            }
            function hl(t, e, i, a, n, r) {
                var o = n * a.width / 2
                  , s = (n = n * a.length / 2) / 2;
                a = 2 * n * a.frequency;
                var l = tb(ub(n, 2) + ub(o, 2));
                t = new qh(l,l,t = t.b - l,t),
                i = i.Ra;
                var c, h, p, d, u, m, f, g, y, v, b, A = Db / 2;
                for (r = r || 0,
                l = i.length; l-- > r; ) {
                    if (m = 0,
                    d = h = (c = i[l]).length) {
                        for (d = (p = c).length,
                        u = 0; --d; )
                            u += p[d].distance(p[d - 1]);
                        d = (p = u) >= a
                    }
                    if (d)
                        for (u = (d = p / ((d = lb(pb(p / a), 1e3)) + 1)) / 2; --h; ) {
                            for (f = (g = c[h]).distance(y = c[h - 1]); u <= m + f; )
                                b = g.x + (y.x - g.x) * (v = (u - m) / f),
                                v = g.y + (y.y - g.y) * v,
                                t.a(b, v) && (e.save(),
                                e.translate(b, v),
                                e.rotate(-Ab((y.y - g.y) / (g.x - y.x)) + (g.x < y.x ? A : -A)),
                                e.beginPath(),
                                e.moveTo(-o, -n),
                                e.lineTo(0, n),
                                e.lineTo(o, -n),
                                e.lineTo(0, -s),
                                e.closePath(),
                                e.fill(),
                                e.restore()),
                                u += d;
                            m += f
                        }
                }
            }
            Yk.prototype.j = function() {
                var t, e = this.b + "_" + this.Wb, i = dl[e];
                return i || (i = -this.F,
                t = this.b - i,
                i = dl[e] = new qh(i,i,t,t)),
                i
            }
            ,
            Yk.prototype.getPxClipRect = Yk.prototype.j,
            Yk.prototype.s = function() {
                var t, e, i = this.K;
                return i || (e = this.B(),
                i = 0,
                t = this.b,
                this.z && (t -= i += this.j().top),
                i = this.K = Xe(e.a(new M(i,i)), e.a(new M(t,t)))),
                i
            }
            ,
            Yk.prototype.getGeoClipRect = Yk.prototype.s,
            Yk.prototype.B = function() {
                var t, e = this.P;
                return e || (t = this.b,
                (e = this.P = new jh(A,t)).Ja(this.z),
                e.x = this.x * t,
                e.y = this.y * t),
                e
            }
            ,
            Yk.prototype.getPxProj = Yk.prototype.B,
            Yk.prototype.Wb = 1,
            Yk.prototype.pb = function() {
                return this.Wb
            }
            ,
            Yk.prototype.getPixelRatio = Yk.prototype.pb,
            Yk.prototype.o = function() {
                var t = this.data;
                return this.data = null,
                this.c = Mb,
                t
            }
            ,
            Yk.prototype.releaseCanvas = Yk.prototype.o,
            Yk.prototype.m = function() {
                this.g = {},
                delete this.a,
                this.f = Mb
            }
            ,
            Yk.prototype.releaseData = Yk.prototype.m,
            Yk.prototype.ca = function(t) {
                var e, i, a, n, r, o, s, l, c, h = t.getContext("2d"), p = s = 0;
                if (e = Zk(this),
                i = this.f,
                a = this.a,
                !$k(this)) {
                    for (s = a.length; s--; )
                        ((n = (o = a[s]).j()).f(i) || n.g(i)) && al(this, o.ta());
                    this.a = this.C.requestSpatialsByTile(this, !1, !1).sort(bl),
                    this.f = e.a
                }
                if (this.c < this.f) {
                    if (i = (e = this.a).length)
                        for (t.width = t.height = this.b,
                        h.clearRect(0, 0, this.b, this.b),
                        a = this.g,
                        n = 0; n < i; n++)
                            if (l = (s = a[r = (o = e[n]).ta()]) ? s.b : o.getGeometriesForTile(this)) {
                                if (s)
                                    o.j().b(this.c) && (s.a = Hf(o, l)),
                                    s = s.a;
                                else {
                                    s = Hf(o, l),
                                    c = l;
                                    for (var d = o.B ? 2 : 0, u = c.length, m = void 0, f = m = void 0, g = void 0; u--; )
                                        if ((m = c[u]) !== If)
                                            for (m = (f = m.Ra).length; m--; )
                                                4 < (g = f[m]).length && (f[m] = Xk(g, .36, d || 0, 0, g.length - 1));
                                    this.g[r] = new cl(l,s)
                                }
                                if (s) {
                                    for (h.save(),
                                    c = o.B ? this.T : this.O,
                                    r = 0; r < l.length; r++)
                                        c.call(this, o, l[r], o.Na(), h);
                                    if (l = o.getLabels(this))
                                        for (o = h,
                                        r = l.length,
                                        c = c = u = d = d = void 0; r--; )
                                            for (c = (d = l[r]).size,
                                            o.font = c + "px " + d.font,
                                            o.fillStyle = d.color,
                                            o.textAlign = "center",
                                            o.translate(d.x, d.y),
                                            o.rotate(d.angle),
                                            c = d.lineHeight || 1.375 * c,
                                            u = (d = d.lines).length; u--; )
                                                o.fillText(d[u], 0, u * c);
                                    h.restore()
                                }
                                p |= s
                            }
                    this.data = p ? t : null,
                    this.N = this.c = this.f
                } else
                    this.data && (p = 1);
                return 0 < p
            }
            ,
            Yk.prototype.render = Yk.prototype.ca,
            Yk.prototype.O = function(t, e, i, a) {
                var n;
                i.b && (el(a, i, this.Wb),
                fl(e, a, !1, !0, !1, this.b, this.F)),
                i.a && (n = t.s) && n.fd && (gl(a, n),
                hl(this, a, e, n, i.lineWidth))
            }
            ,
            Yk.prototype.T = function(t, e, i, a) {
                var n, r, o = i.c, s = i.b, l = this.b, c = this.F;
                e === If ? o && (gl(a, i),
                a.fillRect(0, 0, l, l)) : (s && el(a, i, this.Wb),
                i.a && (n = t.s) && (r = i.lineWidth,
                n.fd || (n = null)),
                (t = e.b) === Lb ? ((s || o) && (gl(a, i),
                fl(e, a, !0, s, o, l, this.F)),
                n && (gl(a, n),
                hl(this, a, e, n, r, 0))) : (o && (gl(a, i),
                fl(e, a, !0, !1, o, l, c, 0, t)),
                s && fl(e, a, !1, s, !1, l, c, t),
                n && (gl(a, n),
                hl(this, a, e, n, r, t))))
            }
            ;
            var il = [];
            function jl(t, e) {
                var i, a;
                jl.u.constructor.call(this, e),
                this.m = t,
                this.B = i = e.pixelRatio,
                this.tileSize = a = 1 << nb(Nb((e.tileSize || 256) * i)),
                this.C = Tg(a, i),
                this.Qe = z(this.Qe, this),
                this.gf = z(this.gf, this),
                this.Re = z(this.Re, this),
                this.Pe = z(this.Pe, this),
                this.g = z(this.g, this),
                this.m.addEventListener(Qg.prototype.F.la, this.g, !1, this),
                this.b = [],
                this.c = new Vg(e.tileCacheSize || 256,this.Qe),
                this.f = new Vg(e.dataCacheSize || 512,this.gf),
                this.v = new Tk(20,this.Re),
                this.a = {},
                this.j = tj()
            }
            function Pk(t) {
                var e = "getURL";
                if (!t || !sa(t[e]))
                    throw new C(Pk,0,"options." + e);
                if (Pk.u.constructor.call(this, t),
                this.P = this[e] = t[e],
                this[e = "tileSize"] = t[e] || 256,
                this.I = {
                    crossOrigin: t.crossOrigin
                },
                this.b = w.URL || w.webkitURL,
                Ta(this.I.crossOrigin))
                    t = !!this.I.crossOrigin;
                else {
                    t = this.P(0, 0, 0);
                    e = window.location;
                    var i = document.createElement("a");
                    i.href = t,
                    t = i.hostname === e.hostname && i.port === e.port && i.protocol === e.protocol
                }
                (this.O = t && !!Gh.prototype.b[Hh] && !!this.b) && this.g.c(z(this.ea, this))
            }
            function oh(t, e) {
                var i = e || {}
                  , a = i.opacity;
                this.opacity = Ta(a) ? a : 1,
                nh.call(this, t, i)
            }
            function Jj(t, e) {
                var i = e || {};
                i.tileSize = i.tileSize || 256,
                i.pixelRatio = i.pixelRatio || 1,
                i.max = 28,
                this.f = new jl(t,i),
                this.i = new oh(this.f,{
                    opacity: 1
                }),
                i.minWorldSize = this.f.tileSize,
                Jj.u.constructor.call(this, i),
                this.opacity = this.i.opacity,
                this.tileSize = this.i.tileSize,
                this.j = t,
                this.o = z(this.o, this),
                this.f.addEventListener(this.f.F.la, this.o),
                t.addEventListener("update", this.o)
            }
            Yk.prototype.Ma = function(t, e, i) {
                for (var a, n, r, o, s, l, c, h = this.a, p = h.length, d = De, u = this.Wb; p--; )
                    if ((n = h[p]).getVisibility(!0) && (r = this.g[n.ta()]) && (o = r.b)) {
                        for (l = "none" !== (a = n.Na()).fillColor && n.B,
                        c = "none" === a.strokeColor ? 0 : a.lineWidth * u,
                        a = o.length; a--; ) {
                            var m;
                            if (s = o[a],
                            !(m = l && s === If) && (m = l || c)) {
                                m = t;
                                var f = e
                                  , g = l
                                  , y = c
                                  , v = s.a
                                  , b = s.b
                                  , A = b !== Lb
                                  , _ = void 0
                                  , C = void 0
                                  , w = (s = s.Ra).length
                                  , x = void 0
                                  , S = void 0
                                  , T = void 0
                                  , E = void 0
                                  , k = void 0
                                  , L = (C = x = void 0,
                                0)
                                  , P = 0
                                  , I = (C = void 0,
                                !1);
                                for (E = 0; E < w; E++)
                                    if (_ = !(C = E >= b) && E >= v,
                                    (x = s[E]) === Tf && g)
                                        _ ? L++ : P++;
                                    else {
                                        for (T = x.length,
                                        il.length = 2 * T,
                                        k = 0; k < T; k++)
                                            S = x[k],
                                            il[2 * k] = S.x,
                                            il[2 * k + 1] = S.y;
                                        if (x = g && !C,
                                        C = A && !C ? 0 : y,
                                        x || C) {
                                            if (2 === (C = Ub(m, f, il, C, x)) || 1 === C) {
                                                I = !0;
                                                break
                                            }
                                            if (3 === C)
                                                if (_)
                                                    L++;
                                                else if (P++,
                                                v === Lb)
                                                    break
                                        }
                                    }
                                m = I || 0 < P && !(L % 2)
                            }
                            if (m) {
                                d === De && (d = []),
                                d.push(n);
                                break
                            }
                        }
                        if (i && d.length)
                            break
                    }
                return d
            }
            ,
            v(jl, Sg),
            r("H.map.provider.SpatialTileProvider", jl),
            jl.prototype.g = function(t) {
                t.target.type === Pe.SPATIAL && Rg(this, t.target)
            }
            ,
            jl.prototype.o = function(t, e, i, a) {
                var n, r = this.getTileKey(t, e, i);
                if (n = this.c.get(r, a)) {
                    if (a || n.yc())
                        return n;
                    a || this.c.g(r)
                }
                if ((n = this.f.get(r, a)) && (a || $k(n)))
                    return t = this.b.pop() || document.createElement("canvas"),
                    n.ca(t) || this.b.push(t),
                    this.c.add(r, n, 1),
                    n;
                a || ((n = this.a[r]) ? n.count++ : ((n = this.v.push([r, t, e, i], this.Pe)).count = 1,
                this.a[r] = n))
            }
            ,
            jl.prototype.requestTile = jl.prototype.o,
            jl.prototype.T = function(t, e, i) {
                this.K(this.getTileKey(t, e, i))
            }
            ,
            jl.prototype.cancelTile = jl.prototype.T,
            jl.prototype.K = function(t) {
                var e;
                (e = this.a[t]) && (e.count--,
                e.count || (e.cancel(),
                delete this.a[t]))
            }
            ,
            jl.prototype.cancelTileByKey = jl.prototype.K,
            p = jl.prototype,
            p.Re = function(t, e) {
                var i = e[0]
                  , a = e[1]
                  , n = e[2]
                  , r = e[3];
                a = (i = this.c.get(i) || new Yk(i,a,n,r,this.tileSize,this.B,r + this.C,this.m)).data || this.b.pop() || document.createElement("canvas");
                i.ca(a) || this.b.push(a),
                e.push(i),
                t.done(i)
            }
            ,
            p.Pe = function(t, e) {
                var i = t.data[0];
                e && this.c.add(i, e, 1),
                delete this.a[i],
                Rg(this)
            }
            ,
            p.Qe = function(t, e) {
                e.data && this.b.push(e.o()),
                this.f.add(t, e, 1)
            }
            ,
            p.gf = function(t, e) {
                e.m()
            }
            ,
            p.D = function() {
                for (var t in this.a)
                    this.a[t].cancel();
                this.c.Ea(),
                this.f.Ea(),
                this.b.length = 0,
                jl.u.D.call(this)
            }
            ,
            v(Pk, N),
            r("H.map.provider.ImageTileProvider", Pk),
            Pk.prototype.v = function() {
                return this.tileSize
            }
            ,
            Pk.prototype.getEntryWeight = Pk.prototype.v,
            Pk.prototype.c = function(t, e, i, a, n, r) {
                var o, s, l = this, c = this.P(t, e, i);
                return t = null,
                c ? (s = w.setTimeout(function() {
                    l.O ? (o = new Gh(Hh,c,r)).then(function(t) {
                        var e = new Image;
                        e.onload = z(a, null, e, {
                            zi: t
                        }),
                        e.onerror = z(n, null, "bad url");
                        try {
                            e.src = l.b.createObjectURL(l.f(t))
                        } catch (i) {}
                    }, n) : o = new Gh("image",c,r,l.I).then(a, n)
                }, 150),
                t = {
                    cancel: function() {
                        o ? o.cancel() : w.clearTimeout(s)
                    }
                }) : a(null),
                t
            }
            ,
            Pk.prototype.requestInternal = Pk.prototype.c,
            Pk.prototype.Ga = function(t, e) {
                var i = new Image;
                i.onload = function() {
                    e(this)
                }
                ,
                i.src = this.b.createObjectURL(this.f(t))
            }
            ,
            Pk.prototype.f = function(t) {
                var e = w.BlobBuilder || w.WebKitBlobBuilder || w.MozBlobBuilder
                  , i = Pk.prototype;
                return i.f = e ? function(t) {
                    var i = new e;
                    return i.append(t),
                    i.getBlob("application/octet-stream")
                }
                : function(t) {
                    return new Blob([t],{
                        type: "application/octet-stream"
                    })
                }
                ,
                i.f(t)
            }
            ,
            Pk.prototype.ea = function(t, e) {
                var i = e.data;
                i && i instanceof HTMLImageElement && this.b.revokeObjectURL(i.src)
            }
            ,
            v(oh, nh),
            r("H.map.layer.TileLayer", oh),
            oh.prototype.g = function(t, e, i, a, n) {
                if (!B(t, G))
                    throw new C(this.g,0,t);
                if (D(e = +e))
                    throw new C(this.g,1,e);
                var r;
                return e = pb(e),
                this.pixelProjection.Ja(e),
                t = this.j(t),
                r = this.i(t, e),
                this.o(r, t.left > t.right, e, i, a, n)
            }
            ,
            oh.prototype.requestTiles = oh.prototype.g,
            v(Jj, mh),
            r("H.map.layer.ObjectLayer", Jj),
            Jj.prototype.o = function(t) {
                t.currentTarget !== this.f && t.target.type === Pe.SPATIAL || this.l()
            }
            ,
            Jj.prototype.Pa = function() {
                return this.j
            }
            ,
            Jj.prototype.getProvider = Jj.prototype.Pa;
            var kl = {
                markers: De,
                total: 0
            };
            Jj.prototype.c = function(t, e, i) {
                var a, n = this.j;
                return n.providesMarkers() && (a = n.requestMarkers(t, e, !0, i)).length ? {
                    markers: a,
                    total: a.length
                } : kl
            }
            ,
            Jj.prototype.requestMarkers = Jj.prototype.c,
            Jj.prototype.b = function(t, e, i) {
                var a, n = this.j;
                return n.providesDomMarkers() && (a = n.requestDomMarkers(t, e, !0, i)).length ? {
                    markers: a,
                    total: a.length
                } : kl
            }
            ,
            Jj.prototype.requestDomMarkers = Jj.prototype.b;
            var ll = {
                tiles: De,
                total: 0
            };
            Jj.prototype.g = function(t, e, i, a) {
                var n;
                return this.j.providesSpatials() ? (n = this.i.g(t, e, i, a),
                i || (i = this.f,
                33 < (n = tj()) - i.j && (Qk(i.v),
                i.j = n),
                n = this.i.g(t, e, !0, a))) : n = ll,
                n
            }
            ,
            Jj.prototype.requestTiles = Jj.prototype.g,
            Jj.prototype.A = function(t, e, i, a) {
                return this.i.A(t, e, i, a)
            }
            ,
            Jj.prototype.requestTile = Jj.prototype.A,
            Jj.prototype.m = function(t, e, i) {
                this.i.m(t, e, i)
            }
            ,
            Jj.prototype.cancelTile = Jj.prototype.m;
            var ml = {
                overlays: De,
                total: 0
            };
            function Q(t, e, i) {
                if (Q.u.constructor.call(this),
                this.O = z(Q.prototype.O, this),
                this.l = nl(i, Q),
                this.c = i = new yj,
                this.F = !1,
                i.addEventListener(i.c.Oc, this.Za, !1, this),
                !B(t, Element))
                    throw new C(Q,0,t);
                var a = (i = this.b = t.ownerDocument.createElement("div")).style;
                if (a.position = "relative",
                a.height = i.style.width = "100%",
                a.overflow = "hidden",
                a.webkitTapHighlightColor = "transparent",
                "transparent" !== a.webkitTapHighlightColor && (a.webkitTapHighlightColor = "rgba(0,0,0,0)"),
                t.appendChild(i),
                this.va = new uj(this.b,this.l),
                this.va.addEventListener(this.va.a.Oc, this.Za, !1, this),
                (t = this.fa = new Di(this.l.layers)).addEventListener(t.a.td, this.Ba, !1, this),
                t.addEventListener(t.a.Lc, this.Ba, !1, this),
                t.addEventListener(t.a.Nc, this.Ba, !1, this),
                this.B = new L({
                    max: 28
                }),
                this.ea = new Jj(this.B,this.l),
                this.re(this.ea),
                this.i = null,
                this.fa.add(e, 0),
                this.f = this.P(this.l.engineType || ol.P2D, this.l),
                e = this.l.center || new gc(0,0),
                t = +this.l.zoom || 0,
                i = this.l.bounds,
                this.C = z(this.C, this),
                this.T = z(this.T, this),
                B(i, G) ? this.sa(i) : (this.Ga(e),
                this.Ha(t)),
                (e = this.l.imprint) !== A && "object" !== typeof e)
                    throw new C(Q,1,"imprint");
                this.j = null === e ? e : new Ji(this,e),
                e = this.l.autoColor,
                this.I = e === A || !!e,
                pl(this)
            }
            function nl(t, e) {
                var i;
                if (t) {
                    if ((i = t.pixelRatio) === A)
                        t.pixelRatio = 1;
                    else if (!(0 < i))
                        throw new C(e,0,"pixelRatio: " + i)
                } else
                    t = {
                        pixelRatio: 1
                    };
                return t.renderBaseBackground || (t.renderBaseBackground = {
                    lower: 3,
                    higher: 2
                }),
                t
            }
            function pl(t) {
                t.j && t.I && t.j.g({
                    invert: t.i.Oh
                })
            }
            function ql(t, e, i) {
                t.dispatchEvent(i ? new yi(t.v.Rf,i.newValue,i.oldValue,i.modifiers) : t.v.Rf + e)
            }
            function rl(t) {
                Ei.call(this, t)
            }
            Jj.prototype.C = function(t, e, i) {
                var a = this.j
                  , n = ml;
                return a.providesOverlays && a.providesOverlays() && (e = (t = a.requestOverlays(t, e, !0, i)).length) && (n = {
                    overlays: t,
                    total: e
                }),
                n
            }
            ,
            Jj.prototype.requestOverlays = Jj.prototype.C,
            Jj.prototype.D = function() {
                this.f.J(),
                this.i.J(),
                this.j.dispose(),
                Jj.u.D.call(this)
            }
            ,
            v(Q, I),
            r("H.Map", Q),
            Q.prototype.D = function() {
                this.I = !1,
                this.j && this.j.J(),
                this.ea.J(),
                this.B.J(),
                this.fa.J(),
                this.c.J(),
                this.va.J(),
                this.f.J(),
                Ge(this.b),
                this.b = null,
                I.prototype.D.call(this)
            }
            ,
            Q.prototype.Vb = function() {
                return this.b
            }
            ,
            Q.prototype.getElement = Q.prototype.Vb,
            Q.prototype.A = function() {
                return this.l.pixelRatio
            }
            ,
            Q.prototype.getPixelRatio = Q.prototype.A,
            Q.prototype.Ba = function(t) {
                var e = t.added
                  , i = t.removed;
                e && sa(e.Pa) && e.Pa().ia(this),
                i && sa(i.Pa) && i.Pa().ia(null),
                0 === t.idx && (this.dispatchEvent(new Ne(this.v.oh,this.i = t.type !== this.fa.a.Nc ? e : 0 < this.fa.Y.length ? this.fa.get(0) : x,t.type !== this.fa.a.Lc ? i : 1 < this.fa.Y.length ? this.fa.get(1) : x)),
                pl(this))
            }
            ,
            Q.prototype.Za = function(t) {
                t.modifiers && (this.F || (ql(this, "start"),
                this.F = !0),
                ql(this, "", t)),
                this.F && (this.Ya && w.clearTimeout(this.Ya),
                this.Ya = w.setTimeout(this.T, 333))
            }
            ,
            Q.prototype.T = function() {
                ql(this, "end"),
                this.F = !1
            }
            ,
            Q.prototype.Ga = function(t, e) {
                return this.c.Jb({
                    animate: !!e,
                    position: t
                }),
                this
            }
            ,
            Q.prototype.setCenter = Q.prototype.Ga,
            Q.prototype.Oa = function() {
                var t = this.c.Ab();
                return t ? ic(t.position) : x
            }
            ,
            Q.prototype.getCenter = Q.prototype.Oa,
            Q.prototype.Ha = function(t, e) {
                return this.c.l(t, !!e),
                this
            }
            ,
            Q.prototype.setZoom = Q.prototype.Ha,
            Q.prototype.getZoom = function() {
                return this.c.getZoom()
            }
            ,
            Q.prototype.getZoom = Q.prototype.getZoom,
            Q.prototype.rd = function(t, e, i) {
                this.f.rd(t, e, i)
            }
            ,
            Q.prototype.zoomAt = Q.prototype.rd,
            Q.prototype.sa = function(t, e) {
                if (!B(t, G))
                    throw new C(this.sa,0,t);
                var i = this.f.P(t, !1);
                return i.zoom = pb(i.zoom),
                i.animate = e,
                this.c.Jb(i),
                this
            }
            ,
            Q.prototype.setViewBounds = Q.prototype.sa,
            Q.prototype.ba = function() {
                return this.f.v(4, 0)
            }
            ,
            Q.prototype.getViewBounds = Q.prototype.ba,
            Q.prototype.U = function(t) {
                if (!B(t, G))
                    throw new C(this.U,0,t);
                return this.f.P(t, !0)
            }
            ,
            Q.prototype.getCameraDataForBounds = Q.prototype.U,
            Q.prototype.Ub = function() {
                return this.va
            }
            ,
            Q.prototype.getViewPort = Q.prototype.Ub,
            Q.prototype.Tb = function() {
                return this.c
            }
            ,
            Q.prototype.getViewModel = Q.prototype.Tb,
            Q.prototype.kb = function() {
                return this.fa
            }
            ,
            Q.prototype.getLayers = Q.prototype.kb,
            Q.prototype.Fb = function() {
                return this.j
            }
            ,
            Q.prototype.getImprint = Q.prototype.Fb,
            Q.prototype.ya = function(t, e, i, a, n, r) {
                function o(e) {
                    y || (y = !0,
                    t(e))
                }
                var s, l, c, h = this.g(), p = h.Ha(), d = this.j, u = this.l.pixelRatio;
                e = e || [];
                var m, f, g = this.va, y = !1;
                if (!sa(t))
                    throw new C(this.ya,0,t);
                i = i || 0,
                a = a || 0,
                n = n || g.width,
                r = r || g.height,
                m = mb(0, lb(i, n)),
                f = mb(0, lb(a, r)),
                i = lb(g.width, mb(i, n)),
                a = lb(g.height, mb(a, r)),
                p.capture ? (s = h.ya(m, f, i, a),
                l = s.getContext("2d"),
                s.style.width = s.width / u + "px",
                s.style.height = s.height / u + "px",
                c = new Tk(10,function(t, e) {
                    y ? t.cancel() : (l.save(),
                    e.capture(s, u, function(e) {
                        l.restore(),
                        t.done(e)
                    }, function(e) {
                        t.done(null, e),
                        o(null)
                    }))
                }
                ),
                (e = e.concat(d).filter(function(t) {
                    return sa(t && t.capture)
                })).length ? (h = e.pop(),
                e.forEach(function(t) {
                    c.push(t, sc)
                }),
                c.push(h, z(o, this, s)),
                Qk(c)) : o(s)) : t(null)
            }
            ,
            Q.prototype.capture = Q.prototype.ya,
            Q.prototype.g = function() {
                return this.m || this.f
            }
            ,
            Q.prototype.getEngine = Q.prototype.g,
            Q.prototype.N = function(t) {
                return this.f.type === t || this.wa || (this.wa = !0,
                this.m = this.P(t),
                this.m.addEventListener("render", this.C)),
                this
            }
            ,
            Q.prototype.setEngineType = Q.prototype.N,
            Q.prototype.C = function(t) {
                t.target === this.m && (this.m.removeEventListener("render", this.C),
                this.m.enter(),
                this.f.Va(this.O))
            }
            ,
            Q.prototype.O = function() {
                var t = this.f.type;
                this.f.J(),
                this.f = this.m,
                this.m = A,
                this.wa = !1,
                this.dispatchEvent(new Ne(this.v.vh,this.f.type,t))
            }
            ,
            Q.prototype.P = function(t, e) {
                var i = e ? nl(e, this.P) : this.l;
                if (t === ol.PANORAMA)
                    return this.j && this.I && this.j.g({
                        invert: !0
                    }),
                    new w.H.map.render.panorama.RenderEngine(this.va,this.c,this.fa,i);
                if (t === ol.P2D)
                    return pl(this),
                    new O(this.va,this.c,this.fa,i);
                throw new C(this.N,0,t)
            }
            ,
            Q.prototype.K = function(t, e, i, a, n) {
                var r;
                if (e = Ta(e) ? B(e, G, this.K, 1, e) && e : this.ba(),
                !((i = Ta(i) ? +i : this.getZoom()) <= (a = Ta(a) ? +a : this.getZoom())))
                    throw new C(this.K,A,"!(min <= max)");
                if (!B(n = n || this.i, nh))
                    throw new C(this.K,4);
                if (!(r = n.Pa()) || !B(r, N) || !r.Rc())
                    throw new kc(this.constructor,"Storing is not supported");
                return new Nk(n,r,e,i,a,t)
            }
            ,
            Q.prototype.storeContent = Q.prototype.K,
            v(rl, Ei),
            rl.prototype.f = function() {
                Hi(this, 2)
            }
            ,
            rl.prototype.c = function() {
                Hi(this, 4)
            }
            ,
            Q.prototype.yb = function(t) {
                return t = new rl(t),
                vc().clear(z(t.f, t), z(t.c, t)),
                t
            }
            ,
            Q.prototype.clearContent = Q.prototype.yb,
            Q.prototype.re = function(t, e) {
                return -1 === this.fa.indexOf(t) && this.fa.add(t, D(e) ? this.fa.Y.length - 1 : e),
                this
            }
            ,
            Q.prototype.addLayer = Q.prototype.re,
            Q.prototype.tf = function(t) {
                var e = this.fa.indexOf(t);
                return t !== this.i && t !== this.ea && -1 !== e && this.fa.b(e),
                this
            }
            ,
            Q.prototype.removeLayer = Q.prototype.tf,
            Q.prototype.Zb = function(t) {
                return this.i !== t && (this.fa.set(0, t),
                this.i = t),
                this
            }
            ,
            Q.prototype.setBaseLayer = Q.prototype.Zb,
            Q.prototype.zb = function() {
                return this.i
            }
            ,
            Q.prototype.getBaseLayer = Q.prototype.zb,
            Q.prototype.o = function(t) {
                if (!hc(t))
                    throw new C(this.o,0,t);
                return (t = this.f.Ya(t)) ? gh(t) : x
            }
            ,
            Q.prototype.geoToScreen = Q.prototype.o,
            Q.prototype.Ka = function(t, e) {
                var i;
                if (i = +D(t) || 2 * D(e))
                    throw new C(this.Ka,i - 1,arguments[i - 1]);
                return (i = this.f.Ka(t, e)) ? ic(i) : x
            }
            ,
            Q.prototype.screenToGeo = Q.prototype.Ka,
            Q.prototype.Va = function(t, e) {
                return this.f.Za(t, e)
            }
            ,
            Q.prototype.screenToCameraData = Q.prototype.Va,
            Q.prototype.V = function(t) {
                if (!B(t, K))
                    throw new C(this.V,0,t);
                return this.B.f.V(t),
                t
            }
            ,
            Q.prototype.addObject = Q.prototype.V,
            Q.prototype.a = function(t) {
                if (!B(t, K))
                    throw new C(this.a,0,t);
                return this.B.f.a(t),
                t
            }
            ,
            Q.prototype.removeObject = Q.prototype.a,
            Q.prototype.jc = function() {
                return this.B.f.s(!0)
            }
            ,
            Q.prototype.getObjects = Q.prototype.jc,
            Q.prototype.Ua = function(t) {
                var e, i;
                if (!qa(t))
                    throw new C(this.Ua,0,t);
                for (e = t.length,
                i = 0; i < e; i++)
                    this.V(t[i]);
                return this
            }
            ,
            Q.prototype.addObjects = Q.prototype.Ua,
            Q.prototype.Xa = function(t) {
                if (!B(t, P) && !qa(t))
                    throw new C(this.Xa,0,t);
                return t.forEach(this.a, this),
                this
            }
            ,
            Q.prototype.removeObjects = Q.prototype.Xa,
            Q.prototype.s = function(t, e) {
                var i;
                if (i = +D(t) || 2 * D(e))
                    throw new C(this.s,i - 1,arguments[i - 1]);
                return this.f.Ma(t, e, !0)[0] || x
            }
            ,
            Q.prototype.getObjectAt = Q.prototype.s,
            Q.prototype.Ma = function(t, e) {
                var i;
                if (i = +D(t) || 2 * D(e))
                    throw new C(this.s,i - 1,arguments[i - 1]);
                return this.f.Ma(t, e, !1)
            }
            ,
            Q.prototype.getObjectsAt = Q.prototype.Ma;
            var Pi = 1
              , ol = {
                P2D: 0,
                PANORAMA: Pi
            };
            function Lk(t, e, i) {
                this.c = z(this.c, this),
                K.call(this, i),
                this.i(t),
                this.m(e, i && i.crossOrigin),
                this.f(i && "opacity"in i ? i.opacity : 1)
            }
            function sl() {
                return Bh("mapsjs-core", "0.17.0", "e7c502b")
            }
            Q.EngineType = ol,
            Q.prototype.v = {
                Oi: "mapviewchangestart",
                Rf: "mapviewchange",
                Sf: "mapviewchangeend",
                oh: "baselayerchange",
                vh: "enginechange"
            },
            v(Lk, K),
            r("H.map.Overlay", Lk),
            Lk.prototype.type = Pe.OVERLAY,
            Lk.prototype.S = function() {
                return this.a
            }
            ,
            Lk.prototype.getBounds = Lk.prototype.S,
            Lk.prototype.i = function(t) {
                var e = this.a
                  , i = !e;
                return B(t, G, Lk, 0, t),
                !i && e.pa(t) || (this.a = t,
                i || this.ua(Me.SPATIAL)),
                this
            }
            ,
            Lk.prototype.setBounds = Lk.prototype.i,
            Lk.prototype.Pb = function() {
                return this.b.getData()
            }
            ,
            Lk.prototype.getBitmap = Lk.prototype.Pb,
            Lk.prototype.m = function(t, e) {
                var i = this.b;
                return i && 1 !== i.getState() && i.cancel(),
                this.b = new mi(t,this.c,!0,A,e),
                this
            }
            ,
            Lk.prototype.setBitmap = Lk.prototype.m,
            Lk.prototype.c = function(t, e) {
                this.b = e,
                1 === t && this.ua(Me.VISUAL)
            }
            ,
            Lk.prototype.Bd = function() {
                return this.o
            }
            ,
            Lk.prototype.getOpacity = Lk.prototype.Bd,
            Lk.prototype.f = function(t) {
                var e = this.o
                  , i = 2 > e;
                if (!(0 <= (t -= 0) && 1 >= t))
                    throw new C(this.f,0);
                return t !== e && (this.o = t,
                i && this.ua(Me.VISUAL)),
                this
            }
            ,
            Lk.prototype.setOpacity = Lk.prototype.f,
            r("H.buildInfo", sl),
            r("H.getScriptPath", function() {
                var t;
                if (Ta(t = w.H.scriptPath) || (t = tl),
                !t)
                    throw Error("Cant't detect script path: H.scriptPath is missing");
                return t
            });
            var tl, ul = w.document.currentScript, vl;
            ul || (ul = w.document.querySelector('script[src*="H-"]'),
            ul || (vl = w.document.getElementsByTagName("script"),
            ul = vl[vl.length - 1])),
            tl = ul ? ul.src.replace(/\/[^\/]*$/, "/") : "",
            this.mapsjs = H
        }(),
        H.__bootstrap__ = 'var m,q=this;function aa(a,b,c){a=a.split(".");c=c||q;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]?c=c[d]:c=c[d]={}:c[d]=b}function ea(){}function fa(){throw Error("unimplemented abstract method");}\nfunction ga(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";\nelse if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ha(a){return"string"==typeof a}function r(a){return"function"==ga(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ka="closure_uid_"+(1E9*Math.random()>>>0),la=0;function ma(a,b,c){return a.call.apply(a.bind,arguments)}\nfunction qa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function sa(a,b,c){sa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ma:qa;return sa.apply(null,arguments)}\nfunction ta(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function u(a,b){aa(a,b,void 0)}function ua(a,b){function c(){}c.prototype=b.prototype;a.W=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.eb=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function v(){}u("H.util.ICache",v);v.prototype.add=function(){};v.prototype.add=v.prototype.add;v.prototype.get=function(){};v.prototype.get=v.prototype.get;v.prototype.j=function(){};v.prototype.drop=v.prototype.j;v.prototype.forEach=function(){};v.prototype.forEach=v.prototype.forEach;v.prototype.i=function(){};v.prototype.removeAll=v.prototype.i;v.prototype.g=function(){};v.prototype.registerOnDrop=v.prototype.g;var va="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<va.length;f++)c=va[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var y=function(){return this}();function xa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,xa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}ua(xa,Error);xa.prototype.name="CustomError";var Aa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,"")};function Ba(a,b){return a<b?-1:a>b?1:0};var Ca=Array.prototype,Da=Ca.indexOf?function(a,b,c){return Ca.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(ha(a))return ha(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var Ea=sa,Fa=String;function Ga(a){return eval(""+a)}var Ha=y.Object.freeze||function(a){return a};function Ia(a){var b={},c;for(c in a)b[c]=a[c];return b}var z=Ga(),Ja=Ga(null);function Ka(a){return Fa(a).split(","!==z?",":" ")}var Ma="prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Na(a,b,c,d){if(!(b=a instanceof b)&&c)throw new B(c,d,void 0!==z?void 0:a);return b}u("H.lang.isObject",ia);\nfunction Oa(a){for(var b in a)return!1;return!0}u("H.lang.isEmptyObject",Oa);function Pa(a,b,c,d){var e;if(!(e="Array"===Qa(a))&&b)throw new B(b,c,d!==z?d:a);return e}u("H.lang.isArray",function(a,b,c,d){return Pa(a,b,c,d)});u("H.lang.isString",ha);var Ra=isNaN;function Sa(a){return a===+a}u("H.lang.isNumber",Sa);function Qa(a){var b=Object[Ma[0]][Ma[6]].call(a).match(/^\\[object (\\w+)\\]$/);return b?b[1]:typeof a}\nfunction Ta(a,b,c,d){var e="",f=2>arguments.length;f&&(b={H:y.H},c="",d=[]);Ua(b,!0,function(b,f){try{var k=b[f];f=Va(b,k);var l;if(l=!(ia(k)&&k.window===k&&k.self===k))l=!(ia(k)&&0<k.nodeType&&r(k.cloneNode));if(l&&ia(k)){if(k===a)return e=c+"."+f,!0;if(0>d.indexOf(k)&&(d.push(k),e=Ta(a,k,c+"."+f,d)))return!0}}catch(n){}});f&&(e=e?e.substr(1).replace("."+Ma[0]+".","#"):"~"+(r(a)?Wa(a)+"()":Qa(a)));return e}\nfunction Va(a,b){var c=[];Ua(a,!1,function(a,e){a[e]===b&&c.push(e)});return c.sort(Xa)[0]}function Xa(a,b){return b.length-a.length}var Ya=Object[Ma[0]][Ma[2]];function Ua(a,b,c){var d,e;if(a){for(d in a)if((!b||Ya.call(a,d))&&c(a,d,!0))return;for(e=Ma.length;e--&&(d=Ma[e],b&&!Ya.call(a,d)||!c(a,d,!1)););}}function Wa(a){return(a=/^\\s*function ([^\\( ]+)/.exec(a))?a[1]:"anonymous"}function Za(a,b,c){c[b]="#"+b}({}).toString.call(void 0);function C(a,b,c){b&&this.g(b);if(c&&!r(c))throw new B(C,2,c);this.b=0;this.filter=c;this.a={};this.f=this.c=null;this.l(a)}u("H.util.Cache",C);C.prototype.add=function(a,b,c){var d,e;c=+c;if(!Sa(c)||0>c)throw new B(this.add,2,c);a=String(a);d=this.a[a];e=!0;this.filter&&(e=this.filter(a,b,c));d?e?(this.b+=c-d.size,d.size=c,d.data=b,$a(this,d)):bb(this,d,!0):e&&(this.a[a]=cb(this,{id:a,data:b,size:c,F:null,J:null},this.c));db(this);return e};C.prototype.add=C.prototype.add;\nC.prototype.g=function(a){if(!r(a))throw new B(this.g,0,a);this.v=a};C.prototype.registerOnDrop=C.prototype.g;C.prototype.get=function(a,b){var c=b?this.a[a]:$a(this,this.a[a]);return c&&c.data};C.prototype.get=C.prototype.get;C.prototype.j=function(a){var b;(b=this.a[a])&&bb(this,b,!0)};C.prototype.drop=C.prototype.j;C.prototype.forEach=function(a,b,c){var d,e;for(e in this.a)d=this.a[e],(c?c(e,d.data,d.size):1)&&a.call(b,e,d.data,d.size)};C.prototype.forEach=C.prototype.forEach;\nC.prototype.i=function(a){var b,c;for(c in this.a)b=this.a[c],(a?a(c,b.data,b.size):1)&&bb(this,this.a[c],!0)};C.prototype.removeAll=C.prototype.i;C.prototype.l=function(a){if(!(0<+a))throw new B(C.prototype.l,0,a);this.o=+a;db(this);return this};C.prototype.setMaxSize=C.prototype.l;C.prototype.C=function(){return this.o};C.prototype.getMaxSize=C.prototype.C;C.prototype.B=function(){return this.b};C.prototype.getCurrentSize=C.prototype.B;function $a(a,b){b&&(a.c=cb(a,b,a.c));return b}\nfunction db(a){for(;a.b>a.o&&a.f;)bb(a,a.f,!0)}function cb(a,b,c){if(c!==b){(b.F||b.J)&&bb(a,b);if(b.F=c)b.J=c.J,c.J=b;b.J||(a.c=b);b.F||(a.f=b);a.b+=b.size}return b}function bb(a,b,c){var d=b.J,e=b.F;if(d||e||b==a.c&&b==a.f)d?d.F=e:a.c=e,e?e.J=d:a.f=d,a.b-=b.size,c&&(a.v&&a.v(b.id,b.data,b.size),delete a.a[b.id]);b.F=b.J=null};function E(){}u("H.service.extension.dataView.ITable",E);E.prototype.getMeta=E.prototype.Aa;E.prototype.getRowCount=E.prototype.i;E.prototype.getRow=E.prototype.c;E.prototype.getColumnNames=E.prototype.f;E.prototype.getColumn=E.prototype.g;E.prototype.getCell=E.prototype.b;E.prototype.concat=E.prototype.a;function eb(){}u("H.service.extension.dataView.IRow",eb);eb.prototype.getColumnNames=eb.prototype.f;eb.prototype.getCell=eb.prototype.c;eb.prototype.getTable=eb.prototype.b;function fb(a,b){this.a=a;this.g=b}u("H.service.extension.dataView.ObjRow",fb);fb.prototype.f=function(){return this.a.f()};fb.prototype.getColumnNames=fb.prototype.f;fb.prototype.c=function(a){return this.a.b(this.g,a)};fb.prototype.getCell=fb.prototype.c;fb.prototype.b=function(){return this.a};fb.prototype.getTable=fb.prototype.b;function gb(){}u("H.service.extension.dataView.IColumn",gb);gb.prototype.getCell=gb.prototype.a;function hb(a,b){this.c=a;this.b=b}u("H.service.extension.dataView.ObjColumn",hb);hb.prototype.a=function(a){return this.c.b(a,this.b)};hb.prototype.getCell=hb.prototype.a;function B(a,b,c){var d=arguments.length,e;b=1<d?+b:b;d=2<d?Fa(c):"";b!==z&&(e=(e=/^.*?\\(([^\\)]+)/.exec((""+a).replace(/(\\/\\*([\\s\\S]*?)\\*\\/)|(\\/\\/(.*)$)/gm,"")))?Ka(e[1].replace(/\\s+/g,"")):[],e.forEach(Za),e=e[b]||"#"+b);this.message=(a?Ta(a):"")+(e||d?" (":"")+(e?"Argument "+e:"")+(d?(e?" ":"")+d:"")+(e||d?")":"");this.stack=Error().stack}u("H.lang.InvalidArgumentError",B);B.prototype=Error();B.prototype.name="InvalidArgumentError";function F(a,b,c){var d;b=b||(a&&a.length?Object.keys(a[0]):z);this.K=a;if(b)for(this.R=b,this.qa=a=Object.create(Ja,void 0),d=b.length;d--;)a[b[d]]=!0;c!==z&&(this.ta=c)}u("H.service.extension.dataView.ObjTable",F);m=F.prototype;m.ta=z;m.K=z;m.R=z;m.qa=z;m.Aa=function(){return this.ta};F.prototype.getMeta=F.prototype.Aa;F.prototype.i=function(){return this.K?this.K.length:0};F.prototype.getRowCount=F.prototype.i;F.prototype.c=function(a){var b=this.K;return b&&b[a]?new fb(this,a):z};\nF.prototype.getRow=F.prototype.c;F.prototype.f=function(){return this.R||ib};F.prototype.getColumnNames=F.prototype.f;F.prototype.g=function(a){return this.qa[a]?new hb(this,a):z};F.prototype.getColumn=F.prototype.g;F.prototype.b=function(a,b){var c=this.K;return(c=c&&this.qa[b]&&c[a])&&c[b]};F.prototype.getCell=F.prototype.b;\nF.prototype.a=function(){var a=arguments.length,b,c=this.R,d=""+this.R,e=(this.K||[]).slice(),f;for(b=0;b<a;b++){f=arguments[b];if(!(f instanceof F))throw new B(this.a,b);if(f.K){if(c&&""+f.R!==d)throw new B(this.a,b,"Incompatible columns!");e=e.concat(f.K)}}return new F(e,this.R,this.ta)};F.prototype.concat=F.prototype.a;function J(a,b){this.x=+a;this.y=+b}u("H.math.Point",J);J.prototype.set=J;J.prototype.set=J.prototype.set;J.prototype.clone=function(a){a?(a.x=this.x,a.y=this.y):a=new J(this.x,this.y);return a};J.prototype.clone=J.prototype.clone;J.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};J.prototype.add=J.prototype.add;J.prototype.f=function(a){this.x-=a.x;this.y-=a.y;return this};J.prototype.sub=J.prototype.f;J.prototype.c=function(a,b){this.x*=a;this.y*=void 0===b?a:b;return this};\nJ.prototype.scale=J.prototype.c;J.prototype.round=function(){this.x=jb(this.x);this.y=jb(this.y);return this};J.prototype.round=J.prototype.round;J.prototype.floor=function(){this.x=kb(this.x);this.y=kb(this.y);return this};J.prototype.floor=J.prototype.floor;J.prototype.ceil=function(){this.x=lb(this.x);this.y=lb(this.y);return this};J.prototype.ceil=J.prototype.ceil;J.prototype.Ca=function(a){return!(!a||this.x!==a.x||this.y!==a.y)};J.prototype.equals=J.prototype.Ca;\nJ.prototype.a=function(a,b){var c=b.x-a.x,d=b.y-a.y,e,f=a;if(c||d)e=((this.x-a.x)*c+(this.y-a.y)*d)/(c*c+d*d),0>=e?f=a:1<=e?f=b:f=new J(a.x+e*c,a.y+e*d);return f};J.prototype.getNearest=J.prototype.a;J.prototype.b=function(a){return mb(nb(this.x-a.x,2)+nb(this.y-a.y,2))};J.prototype.distance=J.prototype.b;function ob(a){if(!a)throw new B(ob,0,a);return Na(a,J)?a:new J(a.x,a.y)}J.fromIPoint=ob;function pb(a,b,c,d,e,f){var g,h,k=a.length,l,n,p,w,G,D,I;if(k)for(g=[];k--;)for(D=a[k],w=D.length,G=0,l=1;l<w;l++){if(I=qb(D[l-1],D[l],c,b,d,e))n=I[0],p=I[1],G&&G.Ca(n)?h.push(p):g.push(h=I),G=p,f&&(l=w,k=0)}else g=a;return g}\nfunction qb(a,b,c,d,e,f){var g=a.x;a=-a.y;var h=b.x;b=-b.y;var k,l,n;c=-c;f=-f;if(g>h){if(h>e||g<d)return;l=g;n=a;g=h;a=b;h=l;b=n;l=1}else if(g>e||h<d)return;if(a>b){if(b>c||a<f)return;k=1;a=-a;b=-b;n=f;f=-c;c=-n}else if(a>c||b<f)return;if(g<d){if((a+=(d-g)*(b-a)/(h-g))>c)return;g=d}if(a<f){if((g+=(f-a)*(h-g)/(b-a))>e)return;a=f}h>e&&(b=a+(e-g)*(b-a)/(h-g),h=e);b>c&&(h=g+(c-a)*(h-g)/(b-a),b=c);k&&(a=-a,b=-b);return l?[new J(h,-b),new J(g,-a)]:[new J(g,-a),new J(h,-b)]}\nfunction rb(a,b,c,d,e,f,g,h,k,l){a={x:a,y:b,next:c||null,D:d||null,Da:e||null,ua:f||null,I:g||0,ra:h||0,na:k||0,alpha:l||0};d&&(a.D.next=a);c&&(a.next.D=a);return a}function sb(a){for(;a&&a.I;)a=a.next;return a}function tb(a){if(a)for(;a.next;)a=a.next;return a}function ub(a){var b=a;if(b){do b=b.next;while(b!=a&&(!b.I||b.I&&b.na))}return b}function vb(a){var b=tb(a);b.D.next=a;a.D=b.D}\nfunction wb(a,b,c,d,e,f){var g,h,k,l=b.x-a.x,n=b.y-a.y;g=d.x-c.x;var p=d.y-c.y;h=l*p-n*g;if(!h)return 0;g=((c.x-a.x)*p-(c.y-a.y)*g)/h;h=(n*(c.x-a.x)-l*(c.y-a.y))/h;if(0>g||1<g||0>h||1<h)return 0;0===g?k=a:1===g?k=b:0===h?k=c:1===h&&(k=d);if(k&&!f)return k.x+=2.480549651603763E-5,k.y+=7.321997314118067E-5,k.ia&&(k.ia.x=k.x,k.ia.y=k.y),wb(a,b,c,d,e);e.Za=a.x+g*l;e.$a=a.y+g*n;e.Ja=g;e.xa=h;return 1}\nfunction xb(a,b,c){var d,e=0,f={},g,h,k,l,n,p;c=c||a.y;d=rb(-137438953472,c);Array.isArray(b)?(k=0,g=b[k],l=function(){return b[++k]}):(n=g=b,l=function(){return n=n.next});for(;p=l();){h=wb(d,a,g,p,f,!0);g=f.xa;if(0===g||1===g)return xb(a,b,c+6E-5);h&&e++;g=p}return e%2}function yb(a,b,c){for(b=b.next;b!==c&&b.alpha<=a.alpha;)b=b.next;a.next=b;a.D=b.D;a.next.D=a;a.D.next=a}function zb(a){for(var b,c=null,d=0,e=a.length;d<e;d++){b=rb(a[d].x,a[d].y,c);if(b.next=c)c.D=b;c=b}return c};function Ab(a,b){var c=[];a&&c.push(Ta(a));1<arguments.length&&c.push(b);this.message=c.join(" ");this.stack=Error().stack}ua(Ab,Error);u("H.lang.IllegalOperationError",Ab);Ab.prototype=Error();Ab.prototype.name="IllegalOperationError";function Bb(a){if(!ha(a))throw new B(this.constructor,0);this.i=y.indexedDB||y.webkitIndexedDB||y.mozIndexedDB||y.msIndexedDB;if(!this.i)throw new Ab(this.constructor,"This browser does not support IndexedDB");this.o=a;this.a=[];this.c=[];this.g=Ea(this.g,this)}var Cb,Db;u("H.util.IndexedDBStorage",Bb);\nBb.prototype.get=function(a,b,c){var d;if(!Eb(a))throw new B(this.get,0);if(!r(b))throw new B(this.get,1);Fb(this,function(e){d=e.get(a);Gb(d,b,c)},c);return{cancel:function(){d&&(d.onsuccess=Hb)}}};Bb.prototype.remove=function(a,b,c){if(!Eb(a))throw new B(this.remove,0);Fb(this,function(d){Gb(d["delete"](a),b,c)},c)};Bb.prototype.l=y.IDBTransaction&&y.IDBTransaction.READ_WRITE||"readwrite";Bb.prototype.g=function(){var a=this.b.result;a.objectStoreNames.contains("data")||a.createObjectStore("data")};\nfunction Ib(a,b,c){var d;a.b?a.a?(a.a.push(b),c&&a.c.push(c)):a.f?c&&c(a.f):b(a.b.result):(a.b=a.i.open(Jb+a.o,1),a.b.onupgradeneeded=a.g,d=a.b.onerror=function(){clearTimeout(a.j);a.f=this.error;a.c.forEach(function(b){b(a.f)});a.a=a.c=null},a.j=setTimeout(function(){d.call({error:Error("DbOpenTimeoutError")})},500),a.b.onsuccess=function(){clearTimeout(a.j);a.a?(a.a.forEach(function(a){a(this.result)},this),a.a=a.c=null):(a.b=a.f=null,a.a=[],a.c=[])},a.a.push(b),c&&a.c.push(c))}\nfunction Fb(a,b,c){Ib(a,function(c){c=c.transaction(["data"],a.l);b(c.objectStore("data"))},c)}function Gb(a,b,c){b&&(a.onsuccess=function(){b(this.result)});c&&(a.onerror=function(){c(this.error)})}function Eb(a){return ha(a)||Sa(a)}Bb.getInstance=function(){Cb||(Cb=new Bb("STATIC_DB"));return Cb};var Jb="H_";\nBb.isSupported=function(){var a,b,c;if(Db===z)if("file:"===window.location.protocol&&-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&128<=window.location.href.length)Db=!1;else{a=y.indexedDB||y.webkitIndexedDB||y.mozIndexedDB||y.msIndexedDB;c=Jb+"TEST_DB";try{b=a&&a.open(c,1)}catch(d){}Db=!!b&&null===b.onupgradeneeded;b&&a.deleteDatabase&&a.deleteDatabase(c)}return Db};function L(){0!=Kb&&(Lb[this[ka]||(this[ka]=++la)]=this);this.g=this.g;this.c=this.c}var Kb=0,Lb={};L.prototype.g=!1;L.prototype.S=function(){if(!this.g&&(this.g=!0,this.ja(),0!=Kb)){var a=this[ka]||(this[ka]=++la);delete Lb[a]}};L.prototype.f=function(a,b){this.g?a.call(b):(this.c||(this.c=[]),this.c.push(void 0!==b?sa(a,b):a))};L.prototype.ja=function(){if(this.c)for(;this.c.length;)this.c.shift()()};function N(a,b){this.type=a;this.currentTarget=this.target=b;this.a=!1;this.Ea=!0}N.prototype.c=function(){this.a=!0};N.prototype.f=function(){this.Ea=!1};u("H.util.Event",N);N.prototype.c=N.prototype.c;N.prototype.stopPropagation=N.prototype.c;N.prototype.j=1;N.prototype.CAPTURING_PHASE=N.prototype.j;N.prototype.g=2;N.prototype.AT_TARGET=N.prototype.g;N.prototype.i=3;N.prototype.BUBBLING_PHASE=N.prototype.i;N.prototype.l=0;N.prototype.eventPhase=N.prototype.l;function Mb(a,b,c){Mb.W.constructor.call(this,a,c);this.data=b}ua(Mb,N);u("H.util.DataEvent",Mb);function Nb(a,b,c){Nb.W.constructor.call(this,a,c);this.message=b}ua(Nb,N);u("H.util.ErrorEvent",Nb);var P=Math,Ob=P.min,Pb=P.max,jb=P.round,kb=P.floor,lb=P.ceil,Qb=P.abs,Rb=P.log,mb=P.sqrt,nb=P.pow,Sb=P.exp,Tb=P.sin,Ub=P.asin,Vb=P.cos,Wb=P.tan,Xb=P.atan,Yb=P.atan2,Zb=P.LN2,Q=P.PI,$b=Q/2,ac=Q/4,bc=2*Q,cc=3*Q,dc=Q/180,ec=180/Q,fc=1/0;nb(-2,53);function gc(a,b){var c;return 0>(c=a%b)===0>b?c:c+b}u("H.math.normalize",function(a,b,c){b-=c=c||0;a-=c;return a-kb(a/b)*b+c});function kc(a,b,c){return(a-=0)>c?c:a<b?b:a}u("H.math.clamp",kc);\nfunction lc(a,b,c){var d=0;(d-=0)||(d=0);return b<c?a>=b-d&&a<=c+d:a>=c-d&&a<=b+d}function mc(a,b,c,d,e,f){return mb(nb((a-e)*(d-f)-(b-f)*(c-e),2)/(nb(c-e,2)+nb(d-f,2)))}\nfunction nc(a,b,c){for(var d=c.length,e=d,f,g,h,k,l=c[0],n=0,p=0,w=0;1!=n&&1<e;){g=c[--e];f=c[--e];k=c[e?e-1:(d+(e-1))%d];h=c[e?e-2:(d+(e-2))%d];if(f>=a-0&&f<=a+0&&g>=b-0&&g<=b+0||h>=a-0&&h<=a+0&&k>=b-0&&k<=b+0)n=1;else if(!n&&f===a)h===a&&(g<b&&k>b||g>b&&k<b)||(l<=a&&h>a||l>=a&&h<a)&&(g>=b?++p:++w),n=lc(b,g,k)&&0>=mc(a,b,f,g,h,k)?2:0;else if(!n&&lc(a,f,h)){if(f<a&&h>a||f>a&&h<a)l=g+(a-f)/(h-f)*(k-g),p+=l>b,w+=l<b;n=lc(b,g,k)&&0>=mc(a,b,f,g,h,k)?2:0}l=f}!n&&0!==w&&0!==p%2&&(n=3);return n};function oc(a,b,c){this.f=c;this.c=a;this.g=b;this.b=0;this.a=null}oc.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};function pc(a,b){a.g(b);a.b<a.f&&(a.b++,b.next=a.a,a.a=b)};function qc(){this.b=this.a=null}var sc=new oc(function(){return new rc},function(a){a.reset()},100);qc.prototype.add=function(a,b){var c=sc.get();c.set(a,b);this.b?this.b.next=c:this.a=c;this.b=c};qc.prototype.remove=function(){var a=null;this.a&&(a=this.a,this.a=this.a.next,this.a||(this.b=null),a.next=null);return a};function rc(){this.next=this.b=this.a=null}rc.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};rc.prototype.reset=function(){this.next=this.b=this.a=null};var R;a:{var tc=q.navigator;if(tc){var uc=tc.userAgent;if(uc){R=uc;break a}}R=""};function vc(){return-1!=R.indexOf("Edge")||-1!=R.indexOf("Trident")||-1!=R.indexOf("MSIE")};function wc(){return-1!=R.indexOf("Edge")};function xc(a){q.setTimeout(function(){throw a;},0)}var yc;\nfunction zc(){var a=q.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==R.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=sa(function(a){if(("*"==d||a.origin==\nd)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!vc()){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.ya;c.ya=null;a()}};return function(a){d.next={ya:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");\nb.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){q.setTimeout(a,0)}};function Ac(a,b){Bc||Cc();Dc||(Bc(),Dc=!0);Ec.add(a,b)}var Bc;function Cc(){if(q.Promise&&q.Promise.resolve){var a=q.Promise.resolve();Bc=function(){a.then(Fc)}}else Bc=function(){var a=Fc;!r(q.setImmediate)||q.Window&&q.Window.prototype&&q.Window.prototype.setImmediate==q.setImmediate?(yc||(yc=zc()),yc(a)):q.setImmediate(a)}}var Dc=!1,Ec=new qc;function Fc(){for(var a=null;a=Ec.remove();){try{a.a.call(a.b)}catch(b){xc(b)}pc(sc,a)}Dc=!1};function Gc(a,b){this.a=Hc;this.j=void 0;this.f=this.b=this.c=null;this.g=this.i=!1;if(a==Ic)Jc(this,Kc,b);else try{var c=this;a.call(b,function(a){Jc(c,Kc,a)},function(a){Jc(c,Lc,a)})}catch(d){Jc(this,Lc,d)}}var Hc=0,Kc=2,Lc=3;function Mc(){this.next=this.c=this.b=this.f=this.a=null;this.g=!1}Mc.prototype.reset=function(){this.c=this.b=this.f=this.a=null;this.g=!1};var Nc=new oc(function(){return new Mc},function(a){a.reset()},100);function Oc(a,b,c){var d=Nc.get();d.f=a;d.b=b;d.c=c;return d}\nfunction Ic(){}function Pc(a){return new Gc(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},h=0,k;k=a[h];h++)Qc(k,ta(f,h),g);else b(e)})}function Rc(){var a,b,c=new Gc(function(c,e){a=c;b=e});return new Sc(c,a,b)}Gc.prototype.then=function(a,b,c){return Tc(this,r(a)?a:null,r(b)?b:null,c)};Gc.prototype.then=Gc.prototype.then;Gc.prototype.$goog_Thenable=!0;function Qc(a,b,c,d){a instanceof Gc?Uc(a,Oc(b||ea,c||null,d)):a.then(b,c,d)}\nGc.prototype.cancel=function(a){this.a==Hc&&Ac(function(){var b=new Vc(a);Wc(this,b)},this)};function Wc(a,b){if(a.a==Hc)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.g||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.a==Hc&&1==d?Wc(c,b):(f?(d=f,d.next==c.f&&(c.f=d),d.next=d.next.next):Xc(c),Yc(c,e,Lc,b)))}a.c=null}else Jc(a,Lc,b)}function Uc(a,b){a.b||a.a!=Kc&&a.a!=Lc||Zc(a);a.f?a.f.next=b:a.b=b;a.f=b}\nfunction Tc(a,b,c,d){var e=Oc(null,null,null);e.a=new Gc(function(a,g){e.f=b?function(c){try{var e=b.call(d,c);a(e)}catch(l){g(l)}}:a;e.b=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof Vc?g(b):a(e)}catch(l){g(l)}}:g});e.a.c=a;Uc(a,e);return e.a}Gc.prototype.l=function(a){this.a=Hc;Jc(this,Kc,a)};Gc.prototype.o=function(a){this.a=Hc;Jc(this,Lc,a)};\nfunction Jc(a,b,c){if(a.a==Hc){if(a==c)b=Lc,c=new TypeError("Promise cannot resolve to itself");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d){a.a=1;Qc(c,a.l,a.o,a);return}if(ia(c))try{var f=c.then;if(r(f)){$c(a,c,f);return}}catch(g){b=Lc,c=g}}a.j=c;a.a=b;a.c=null;Zc(a);b!=Lc||c instanceof Vc||ad(a,c)}}function $c(a,b,c){function d(b){f||(f=!0,a.o(b))}function e(b){f||(f=!0,a.l(b))}a.a=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function Zc(a){a.i||(a.i=!0,Ac(a.v,a))}\nfunction Xc(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.f=null);return b}Gc.prototype.v=function(){for(var a=null;a=Xc(this);)Yc(this,a,this.a,this.j);this.i=!1};function Yc(a,b,c,d){if(c==Lc&&b.b&&!b.g)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,bd(b,c,d);else try{b.g?b.f.call(b.c):bd(b,c,d)}catch(e){cd.call(null,e)}pc(Nc,b)}function bd(a,b,c){b==Kc?a.f.call(a.c,c):a.b&&a.b.call(a.c,c)}function ad(a,b){a.g=!0;Ac(function(){a.g&&cd.call(null,b)})}var cd=xc;\nfunction Vc(a){xa.call(this,a)}ua(Vc,xa);Vc.prototype.name="cancel";function Sc(a,b,c){this.la=a;this.resolve=b;this.reject=c};function dd(a,b,c){this.type=a;this.data=b;this.G=Rc();this.resolve=Ea(this.resolve,this);this.reject=Ea(this.reject,this);this.a=ed;c!==z&&(this.a=c);this.Pa().add(this)}var ed=1,fd={bb:0,NORMAL:ed,ab:2};dd.prototype.then=function(a,b,c){return this.G.la.then(a,b,c)};\nwa(dd.prototype,{resolve:function(a){this.state=3;this.G.resolve(a)},reject:function(a){this.state=5;this.G.reject(a)},state:0,cancel:function(){this.G.la.cancel();3>this.state&&(this.Ka(),this.Pa().remove(this),this.state=4)},Ka:fa,Na:fa,Ma:function(a){this.state=this.Na(a)?1:5}});function gd(a){this.O={};for(var b in fd)this.O[fd[b]]=[];this.ma=a;this.ma.addEventListener("allocatable",Ea(this.za,this))}u("H.util.JobManager",gd);var hd=Object.keys(fd).map(function(a){return fd[a]}).sort().reverse();\nwa(gd.prototype,{add:function(a){Na(a,dd,this.add,0);this.O[a.a].push(a);this.za()},contains:function(a){return-1<this.O[a.a].indexOf(a)},remove:function(a){var b=a.a;a=this.O[b].indexOf(a);return-1<a?(this.O[b].splice(a,1),!0):!1},za:function(){hd.forEach(function(a){this.O[a]=this.O[a].filter(function(a){var c,d;if((c=this.ma.cb(a))!==Ja)d=Ea(this.ma.fb,this.ma,c,a),a.then(d,d),a.Ma(c);else return!0},this)},this)}});function id(a,b,c){var d=[];1<arguments.length&&d.push(b);2<arguments.length&&d.push("out of ["+c[0]+"..."+c[1]+"]");this.message=(a?Ta(a):"")+(d.length?" ("+d.join(" ")+")":"");this.stack=Error().stack}u("H.lang.OutOfRangeError",id);id.prototype=Error();id.prototype.name="OutOfRangeError";var jd="closure_listenable_"+(1E6*Math.random()|0),kd=0;function ld(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.ga=!!d;this.ka=e;++kd;this.V=this.fa=!1}function md(a){a.V=!0;a.listener=null;a.a=null;a.src=null;a.ka=null};function nd(a){this.src=a;this.a={};this.b=0}nd.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g=od(a,b,d,e);-1<g?(b=a[g],c||(b.fa=!1)):(b=new ld(b,this.src,f,!!d,e),b.fa=c,a.push(b));return b};nd.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.a))return!1;var e=this.a[a];b=od(e,b,c,d);return-1<b?(md(e[b]),Ca.splice.call(e,b,1),0==e.length&&(delete this.a[a],this.b--),!0):!1};\nfunction pd(a,b){var c=b.type;if(c in a.a){var d=a.a[c],e=Da(d,b),f;(f=0<=e)&&Ca.splice.call(d,e,1);f&&(md(b),0==a.a[c].length&&(delete a.a[c],a.b--))}}function od(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.V&&f.listener==b&&f.ga==!!c&&f.ka==d)return e}return-1};var qd=-1!=R.indexOf("Opera")||-1!=R.indexOf("OPR"),rd=vc(),sd=-1!=R.indexOf("Gecko")&&!(-1!=R.toLowerCase().indexOf("webkit")&&!wc())&&!(-1!=R.indexOf("Trident")||-1!=R.indexOf("MSIE"))&&!wc(),td=-1!=R.toLowerCase().indexOf("webkit")&&!wc();function ud(){var a=R;if(sd)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(rd&&wc())return/Edge\\/([\\d\\.]+)/.exec(a);if(rd)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(td)return/WebKit\\/(\\S+)/.exec(a)}\nfunction vd(){var a=q.document;return a?a.documentMode:void 0}var wd=function(){if(qd&&q.opera){var a=q.opera.version;return r(a)?a():a}var a="",b=ud();b&&(a=b?b[1]:"");return rd&&!wc()&&(b=vd(),b>parseFloat(a))?String(b):a}(),xd={};\nfunction yd(a){var b;if(!(b=xd[a])){b=0;for(var c=Aa(String(wd)).split("."),d=Aa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",k=/(\\d*)(\\D*)/g,l=/(\\d*)(\\D*)/g;do{var n=k.exec(g)||["","",""],p=l.exec(h)||["","",""];if(0==n[0].length&&0==p[0].length)break;b=Ba(0==n[1].length?0:parseInt(n[1],10),0==p[1].length?0:parseInt(p[1],10))||Ba(0==n[2].length,0==p[2].length)||Ba(n[2],p[2])}while(0==b)}b=xd[a]=0<=b}return b}\nvar zd=q.document,Ad=vd(),Bd=!zd||!rd||!Ad&&wc()?void 0:Ad||("CSS1Compat"==zd.compatMode?parseInt(wd,10):5);var Cd;(Cd=!rd)||(Cd=rd&&(wc()||9<=Bd));var Dd=Cd,Ed=rd&&!yd("9");!td||yd("528");sd&&yd("1.9b")||rd&&yd("8")||qd&&yd("9.5")||td&&yd("528");sd&&!yd("8")||rd&&yd("9");function Fd(a){Fd[" "](a);return a}Fd[" "]=ea;function Gd(a,b){N.call(this,a?a.type:"");this.b=this.state=this.currentTarget=this.target=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var c=a.relatedTarget;if(c&&sd)try{Fd(c.nodeName)}catch(d){}this.state=a.state;this.b=a;a.defaultPrevented&&this.f()}}ua(Gd,N);Gd.prototype.c=function(){Gd.W.c.call(this);this.b.stopPropagation?this.b.stopPropagation():this.b.cancelBubble=!0};\nGd.prototype.f=function(){Gd.W.f.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ed)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Hd="closure_lm_"+(1E6*Math.random()|0),Id={},Jd=0;function Kd(a,b,c,d,e){if("array"==ga(b))for(var f=0;f<b.length;f++)Kd(a,b[f],c,d,e);else if(c=Ld(c),a&&a[jd])a.M.add(String(b),c,!1,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,g=Md(a);g||(a[Hd]=g=new nd(a));c=g.add(b,c,!1,d,e);c.a||(d=Nd(),c.a=d,d.src=a,d.listener=c,a.addEventListener?a.addEventListener(b.toString(),d,f):a.attachEvent(Od(b.toString()),d),Jd++)}}\nfunction Nd(){var a=Pd,b=Dd?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Qd(a,b,c,d,e){if("array"==ga(b))for(var f=0;f<b.length;f++)Qd(a,b[f],c,d,e);else(c=Ld(c),a&&a[jd])?a.M.remove(String(b),c,d,e):a&&(a=Md(a))&&(b=a.a[b.toString()],a=-1,b&&(a=od(b,c,!!d,e)),(c=-1<a?b[a]:null)&&Rd(c))}\nfunction Rd(a){if("number"!=typeof a&&a&&!a.V){var b=a.src;if(b&&b[jd])pd(b.M,a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.ga):b.detachEvent&&b.detachEvent(Od(c),d);Jd--;(c=Md(b))?(pd(c,a),0==c.b&&(c.src=null,b[Hd]=null)):md(a)}}}function Od(a){return a in Id?Id[a]:Id[a]="on"+a}function Sd(a,b,c,d){var e=!0;if(a=Md(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.ga==c&&!f.V&&(f=Td(f,d),e=e&&!1!==f)}return e}\nfunction Td(a,b){var c=a.listener,d=a.ka||a.src;a.fa&&Rd(a);return c.call(d,b)}\nfunction Pd(a,b){if(a.V)return!0;if(!Dd){var c;if(!(c=b))a:{c=["window","event"];for(var d=q,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Gd(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.a&&0<=h;h--){c.currentTarget=e[h];var k=Sd(e[h],f,!0,c),d=d&&k}for(h=0;!c.a&&h<e.length;h++)c.currentTarget=\ne[h],k=Sd(e[h],f,!1,c),d=d&&k}return d}return Td(a,new Gd(b,this))}function Md(a){a=a[Hd];return a instanceof nd?a:null}var Ud="__closure_events_fn_"+(1E9*Math.random()>>>0);function Ld(a){if(r(a))return a;a[Ud]||(a[Ud]=function(b){return a.handleEvent(b)});return a[Ud]};function S(){L.call(this);this.M=new nd(this);this.j=this;this.i=null}ua(S,L);S.prototype[jd]=!0;m=S.prototype;m.N=function(){return this.i};m.sa=function(a){this.i=a};m.addEventListener=function(a,b,c,d){Kd(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Qd(this,a,b,c,d)};\nm.X=function(a){var b,c=this.N();if(c)for(b=[];c;c=c.N())b.push(c);var c=this.j,d=a.type||a;if(ha(a))a=new N(a,c);else if(a instanceof N)a.target=a.target||c;else{var e=a;a=new N(d,c);wa(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.a&&0<=g;g--)f=a.currentTarget=b[g],e=f.T(d,!0,a)&&e;a.a||(f=a.currentTarget=c,e=f.T(d,!0,a)&&e,a.a||(e=f.T(d,!1,a)&&e));if(b)for(g=0;!a.a&&g<b.length;g++)f=a.currentTarget=b[g],e=f.T(d,!1,a)&&e;return e};\nm.ja=function(){S.W.ja.call(this);if(this.M){var a=this.M,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,md(d[e]);delete a.a[c];a.b--}}this.i=null};m.T=function(a,b,c){a=this.M.a[String(a)];if(!a)return!0;a=a.concat();for(var d=!0,e=0;e<a.length;++e){var f=a[e];if(f&&!f.V&&f.ga==b){var g=f.listener,h=f.ka||f.src;f.fa&&pd(this.M,f);d=!1!==g.call(h,c)&&d}}return d&&0!=c.Ea};u("H.util.EventTarget",S);S.prototype.sa=S.prototype.sa;S.prototype.setParentEventTarget=S.prototype.sa;S.prototype.N=S.prototype.N;S.prototype.getParentEventTarget=S.prototype.N;S.prototype.addEventListener=S.prototype.addEventListener;S.prototype.addEventListener=S.prototype.addEventListener;S.prototype.removeEventListener=S.prototype.removeEventListener;S.prototype.removeEventListener=S.prototype.removeEventListener;S.prototype.X=S.prototype.X;S.prototype.dispatchEvent=S.prototype.X;\nS.prototype.S=S.prototype.S;S.prototype.dispose=S.prototype.S;S.prototype.f=S.prototype.f;S.prototype.addOnDisposeCallback=S.prototype.f;S.prototype.l=S.prototype.T;S.prototype.T=function(a,b,c){var d,e,f,g=!0;d=c[c.currentTarget===c.target?"AT_TARGET":b?"CAPTURING_PHASE":(e=!0,"BUBBLING_PHASE")];if(!e||"pointerenter"!==(f=c.type)&&"pointerleave"!==f)c.eventPhase=d,g=S.prototype.l.apply(this,arguments),e&&this.N&&null===this.N()&&delete c.eventPhase;return g};function T(a){a=a||{};var b=a.callback;this.b=a.label;r(b)&&(this.callback=b);this.a=!!a.disabled;T.W.constructor.call(this)}ua(T,S);u("H.util.ContextItem",T);T.prototype.o=function(){return this.b};T.prototype.getLabel=T.prototype.o;T.prototype.C=function(a){this.b!==a&&(this.b=a,this.X("update"));return this};T.prototype.setLabel=T.prototype.C;T.prototype.v=function(){return this.a};T.prototype.isDisabled=T.prototype.v;T.prototype.B=function(a){a^this.a&&(this.a=a,this.X("update"));return this};\nT.prototype.setDisabled=T.prototype.B;var Vd=new T;T.SEPARATOR=Vd;function Wd(){if(y.document){var a=document.createElement("canvas");a.width=a.height=1;a.getContext("2d")}}u("H.util.eval",function(a){return eval(a)});u("H.util.provide",function(a){aa(a,void 0)});function Xd(){this.F=0}Xd.prototype.next=function(a){if(4294967295===this.F)throw new id(a,this.F,[0,4294967295]);return this.F++};var Yd=new Xd;Ea(Yd.next,Yd);function Hb(){}var ib=Ha([]);Wd();Wd();var ae={undefined:"GL",GL:"GL",OL:"OL",SL:"SL",SB:"SB",WE:"WE",WG:"WG"};u("H.geo.AltitudeContext",ae);function be(a,b,c){var d=kc(+a,-90,90);if(b&&Ra(d))throw new B(b,c,a);return d}function de(a,b,c){var d=+a;if(-180>d||180<d)d=gc(d+180,360)-180;if(b&&Ra(d))throw new B(b,c,a);return d}function ee(a,b,c){var d;if(a!==z&&Ra(d=+a)&&b)throw new B(b,c,a);return d}function fe(a,b,c){var d=!ae[a];if(b&&d)throw new B(b,c,a);return!d}u("H.geo.isDBC",function(a,b){return 0!==(0>a^0>b)&&180<Qb(b-a)});function ge(){var a=ge;if(!0===(Na(this,a)&&this.constructor===a))throw new TypeError("Illegal constructor "+Ta(a));}u("H.geo.AbstractGeometry",ge);ge.prototype.getBounds=ge.prototype.B;ge.prototype.equals=ge.prototype.j;ge.prototype.toString=function(){return this.da([this.ea," "]).join("")};ge.prototype.toString=ge.prototype.toString;function U(a,b,c,d){this.lat=be(a,U,0);this.lng=de(b,U,1);c!==z&&(this.alt=ee(c,U,2));d!==z&&fe(d,U,3)&&(this.ctx=d)}ua(U,ge);u("H.geo.Point",U);U.prototype.j=function(a){return this===a||!!a&&this.lat===a.lat&&this.lng===a.lng&&ae[this.ctx]===ae[a.ctx]&&(this.alt||0)===(a.alt||0)};U.prototype.equals=U.prototype.j;\nU.prototype.a=function(a){var b,c;this===a||this.lat===a.lat&&this.lng===a.lng?a=0:(b=this.lat*dc,c=a.lat*dc,a=1.274200158E7*Ub(Ob(1,mb(nb(Tb((b-c)/2),2)+Vb(b)*Vb(c)*nb(Tb((this.lng*dc-a.lng*dc)/2),2)))));return a};U.prototype.distance=U.prototype.a;\nU.prototype.b=function(a,b,c){var d,e,f,g,h,k;if(c){if(b/=6371000.79){a*=dc;d=dc*this.lat;f=Tb(d);g=Tb(b);h=Vb(b);e=dc*this.lng;var l=Vb(d);d=Ub(l*Vb(a)*g+f*h);a=Yb(Tb(a)*l*g,h-f*Tb(d));l=((e+a+Q)%(2*Q)-Q)*ec}return b?new U(d*ec,(l+540)%360-180):this}a=(a%360+360)%360;if(0===(a+90)%180)return d=this.lng+b/(6371000.79*bc*Vb(this.lat*dc))*(270===a?-360:360),new U(this.lat,(d+540)%360-180);if(b/=6371000.79)a*=dc,e=this.lat*dc,f=this.lng*dc,g=e+b*Vb(a),h=g-e,d=Rb(Wb(g/2+ac)/Wb(e/2+ac)),d=Ra(h/d)?Vb(e):\nh/d,k=b*Tb(a)/d,Qb(g)>$b&&(g=0<g?Q-g:-(Q+g));return b?new U(g*ec,((f+k+cc+(Qb(e+h)>$b?Q:0))%bc-Q)*ec):this};U.prototype.walk=U.prototype.b;U.prototype.B=function(){return new V(this.lat,this.lng,this.lat,this.lng)};U.prototype.getBounds=U.prototype.B;function he(a,b,c){var d=!!a&&!(Ra(a.lat=be(a.lat))||Ra(a.lng=de(a.lng))||a.alt!==z&&Ra(a.alt=ee(a.alt))||a.ctx!==z&&!fe(a.ctx));if(!d&&b)throw new B(b,c,a);return d}U.validate=he;\nfunction ie(a){if(!a)throw new B(ie,0,a);return new U(a.lat,a.lng,a.alt,a.ctx)}U.fromIPoint=ie;U.prototype.ea="POINT";U.prototype.da=function(a){a.push("(",this.lng," ",this.lat,")");return a};function je(){}je.prototype.U=function(){};u("H.geo.IProjection.prototype.latLngToPoint",je.prototype.U);je.prototype.L=function(){};u("H.geo.IProjection.prototype.xyToGeo",je.prototype.L);je.prototype.b=function(){};u("H.geo.IProjection.prototype.pointToGeo",je.prototype.b);je.prototype.a=function(){};u("H.geo.IProjection.prototype.geoToPoint",je.prototype.a);var W={};u("H.geo.mercator",W);W.c=function(a){return Ob(1,Pb(0,.5-Rb(Wb(ac+$b*a/180))/Q/2))};W.f=function(a){return a/360+.5};W.U=function(a,b,c){c?(c.x=W.f(b),c.y=W.c(a)):c=new J(W.f(b),W.c(a));return c};W.latLngToPoint=W.U;W.a=function(a,b){return W.U(a.lat,a.lng,b)};W.geoToPoint=W.a;W.i=function(a){return 0>=a?90:1<=a?-90:ec*(2*Xb(Sb(Q*(1-2*a)))-$b)};W.g=function(a,b){return b?0>=a?-180:1<=a?180:360*gc(a,1)-180:360*(1===a?1:gc(a,1))-180};\nW.L=function(a,b,c,d){c?(c.lat=W.i(b),c.lng=W.g(a,d)):c=new U(W.i(b),W.g(a,d));return c};W.xyToGeo=W.L;W.b=function(a,b,c){return W.L(a.x,a.y,b,c)};W.pointToGeo=W.b;function X(a,b){this.projection=a||W;this.i=0;this.b=this.exp=Rb(b||256)/Zb;ke(this);this.y=this.x=0}u("H.geo.PixelProjection",X);var le=Qb(28)+Qb(-8);X.prototype.a=function(a){if(Ra(a))throw new B(this.a,0,a);var b=this.x/this.w,c=this.y/this.h;this.i=a;this.b=this.exp+a;ke(this);this.x=b*this.w;this.y=c*this.h};X.prototype.rescale=X.prototype.a;function ke(a){a.b>le&&(a.b=le);a.w=nb(2,a.b);a.h=nb(2,a.b)}X.prototype.g=function(){return this.i||0};X.prototype.getZoomScale=X.prototype.g;\nX.prototype.j=function(a,b){var c=this.projection.U(a.lat,a.lng,b);c.x=c.x*this.w-this.x;c.y=c.y*this.h-this.y;return c};X.prototype.geoToPixel=X.prototype.j;X.prototype.f=function(a,b,c){return this.projection.L((a.x+this.x)/this.w,(a.y+this.y)/this.h,b,c)};X.prototype.pixelToGeo=X.prototype.f;X.prototype.L=function(a,b,c,d){return this.projection.L((a+this.x)/this.w,(b+this.y)/this.h,c,d)};X.prototype.xyToGeo=X.prototype.L;\nX.prototype.c=function(a,b,c){a=this.projection.U(a,b,c);a.x=a.x*this.w-this.x;a.y=a.y*this.h-this.y;return a};X.prototype.latLngToPixel=X.prototype.c;X.prototype.l=function(a){return new J(a.x*this.w-this.x,a.y*this.h-this.y)};X.prototype.pointToPixel=X.prototype.l;u("H.util.Disposable",L);L.prototype.f=L.prototype.f;L.prototype.addOnDisposeCallback=L.prototype.f;u("H.util.dispose",function(a){a&&"function"==typeof a.S&&a.S()});function me(a,b,c,d){this.key="";this.x=a;this.y=b;this.a=c;this.Y=d;this.G=Rc()}me.prototype.then=function(a,b,c){return this.G.la.then(a,b,c)};me.prototype.resolve=function(a){this.G.resolve(a)};me.prototype.reject=function(a){this.G.reject(a)};me.prototype.cancel=function(){this.G.la.cancel()};function Z(a,b,c,d,e,f){if(a&&b)this.P(a),this.l(b),this.o(c),this.C(e),this.B(f),this.v(d);else throw Error(\'Parameters "scheme" and "host" must be specified\');}u("H.service.Url",Z);\nfunction ne(a,b){var c=a,d=y.document,e,f,g,h,k=d&&d.createElement("a"),l="";d?(b&&(f=(e=d.getElementsByTagName("base")[0])&&e.href,g=d.head,h=e||g.appendChild(d.createElement("base")),h.href=b),k.href=c,l=k.href,b&&(e?e.href=f:g.removeChild(h))):/[\\w]+:\\/\\//.test(c)&&(l=c);g=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(l);c=g[1];k=g[4];d=g[5];h=g[6];e=g[7];f=g[8];!g[2]&&k&&/@/.test(k)&&(k=k.split("@")[1]);g=k;h=h&&0<h.length?h.substr(1):"";var k=\n{},n;if(e)for(l=/([?&]?([^=&+]+))(=([^&]+))?/g;n=l.exec(e);)k[decodeURIComponent(n[2])]=n[4]?decodeURIComponent(n[4]):void 0;return new Z(c,g,h,k,isNaN(+d)?void 0:+d,f&&0<f.length?f.substr(1):"")}Z.parse=ne;var oe=0;Z.prototype.clone=function(){oe++;var a={},b;for(b in this.a)a[b]=this.a[b];return new Z(this.j,this.g,this.b,a,this.i,this.c)};Z.prototype.clone=Z.prototype.clone;\nZ.prototype.P=function(a){if(!a||"string"!==typeof a)throw Error(\'The "scheme" parameter must be a non-empty string.\');this.j=a;return this};Z.prototype.setScheme=Z.prototype.P;Z.prototype.oa=function(){return this.j};Z.prototype.getScheme=Z.prototype.oa;Z.prototype.l=function(a){if(!a||"string"!==typeof a||"-"===a.charAt(0)||"."===a.charAt(0)||"."===a.charAt(a.length-1))throw Error(\'The "host" parameter is not a valid host name.\');this.g=a;return this};Z.prototype.setHost=Z.prototype.l;\nZ.prototype.ba=function(){return this.g};Z.prototype.getHost=Z.prototype.ba;Z.prototype.o=function(a){this.b=a||void 0;return this};Z.prototype.setPath=Z.prototype.o;Z.prototype.ca=function(){return this.b};Z.prototype.getPath=Z.prototype.ca;Z.prototype.v=function(a){if(a)if("object"==typeof a)this.a=a;else throw Error(\'Parameter "params" must be an object.\');else this.a={};return this};Z.prototype.setQuery=Z.prototype.v;Z.prototype.pa=function(){return!pe(this)};Z.prototype.hasQuery=Z.prototype.pa;\nZ.prototype.ea=function(){return this.a};Z.prototype.getQuery=Z.prototype.ea;Z.prototype.C=function(a){if(a&&isNaN(parseInt(a,10)))throw Error(\'Parameter "port" must be a number or undefined\');this.i=+a||void 0;return this};Z.prototype.setPort=Z.prototype.C;Z.prototype.da=function(){return this.i};Z.prototype.getPort=Z.prototype.da;Z.prototype.B=function(a){this.c=a||void 0;return this};Z.prototype.setAnchor=Z.prototype.B;Z.prototype.aa=function(){return this.c};Z.prototype.getAnchor=Z.prototype.aa;\nZ.prototype.f=function(a){if("object"!==typeof a)throw Error(\'Parameter "other" must be an object.\');var b=this.a,c;for(c in a)a.hasOwnProperty(c)&&"function"!==typeof a[c]&&(b[c]=a[c]);return this};Z.prototype.mergeQuery=Z.prototype.f;Z.prototype.Z=function(a){if(!a||"string"!==typeof a)throw Error(\'Parameter "subDomain" must be a non-empty string\');"."===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.l(a+"."+this.g)};Z.prototype.addSubDomain=Z.prototype.Z;\nZ.prototype.$=function(a){if(!a||"string"!==typeof a)throw Error(\'Parameter "subPath" must be a non-empty string\');return this.o((this.b?this.b+"/":"")+a)};Z.prototype.addSubPath=Z.prototype.$;Z.prototype.toString=function(){return[this.j+"://",this.g,this.i?":"+this.i:"",this.b||!pe(this)||this.c?"/":"",this.b?encodeURI(this.b):"",qe(this),this.c?"#"+encodeURIComponent(this.c):""].join("")};Z.prototype.toString=Z.prototype.toString;\nfunction qe(a){var b=[],c,d=a.a,e;for(c in d)d.hasOwnProperty(c)&&"function"!==typeof d[c]&&(e=a.a[c],b.push(encodeURIComponent(c)+(void 0===e?"":"="+encodeURIComponent(e))));return 0<b.length?"?"+b.join("&"):""}function pe(a){var b,c=0;for(b in a.a)if(a.a.hasOwnProperty(b)&&"function"!==typeof a.a[b]&&(c++,0<c))break;return!c};var re={};function se(a){try{importScripts.apply(self,arguments)}catch(b){this.postError("invalid_script")}}function te(a){re[a]=null;this.postMessage(a)}function ue(a,b,c){var d;if(r(b))d=b;else try{d=self.eval("("+b+")"),r(d)||(d=null)}catch(e){}d?(re[a]=d,c||this.postMessage(a)):this.postError("invalid_processor")}function ve(a){this.b=a&&a[0];this.a=a&&a[1];this.c=a&&a[2]||[]}ve.prototype.postError=function(a){this.postMessage(a,z,0)};\nve.prototype.postMessage=function(a,b,c){self.postMessage({processor:this.b,taskId:this.a,type:c===z?1:c,data:a},b||z)};function we(a,b,c){var d;if(!ha(a))throw new B(we,0,"InvalidArgument");if(!r(b))throw new B(we,1,"InvalidArgument");d=xe++;ye[d]={b:c||ze,a:b};(new ve(["3",d,[]])).postMessage(a,[],2)}var ye={},xe=0;\nfunction Ae(a,b){var c,d,e=a;if(ye[this.a])if(d=ye[this.a],c=d.a,delete ye[this.a],b)c(null,b);else{if(d.b===Be){d=new Uint8Array(a);for(var e=d.byteLength,f="",g=0,h,k,l,n;g<e;)h=d[g++],192>h||(k=d[g++],224>h?h=(h&31)<<6|k&63:(l=d[g++],240>h?h=(h&15)<<12|(k&63)<<6|l&63:(n=d[g++],h=(h&7)<<18|(k&63)<<12|(l&63)<<6|n&63))),65536>h?f+=String.fromCharCode(h):(h-=65536,f+=String.fromCharCode((h>>10)+55296,(h&1023)+56320));e=f}c(e)}}var ze=0,Be=1;function V(a,b,c,d){Ce(this,be(a,V,0),de(b,V,1),be(c,V,2),de(d,V,3))}ua(V,ge);u("H.geo.Rect",V);V.prototype.ea="POLYGON";V.prototype.da=function(a){var b=this.A,c=this.m,d=this.u,e=this.s;a.push("(",c," ",b,",",e," ",b,",",e," ",d,",",c," ",d,",",c," ",b,")");return a};V.prototype.j=function(a){return this===a||!!a&&this.A===a.A&&this.m===a.m&&this.u===a.u&&this.s===a.s};V.prototype.equals=V.prototype.j;V.prototype.clone=function(){return new V(this.A,this.m,this.u,this.s)};\nV.prototype.clone=V.prototype.clone;function Ce(a,b,c,d,e){a.m=c;a.s=e;b<d&&(c=b,b=d,d=c);a.A=b;a.u=d;a.C=a.o=a.v=null;return a}V.prototype.$=function(){this.C||(this.C=new U(this.A,this.m));return this.C};V.prototype.getTopLeft=V.prototype.$;V.prototype.Z=function(){this.o||(this.o=new U(this.u,this.s));return this.o};V.prototype.getBottomRight=V.prototype.Z;V.prototype.Ga=function(){return this.A};V.prototype.getTop=V.prototype.Ga;V.prototype.oa=function(){return this.u};V.prototype.getBottom=V.prototype.oa;\nV.prototype.pa=function(){return this.m};V.prototype.getLeft=V.prototype.pa;V.prototype.Fa=function(){return this.s};V.prototype.getRight=V.prototype.Fa;V.prototype.f=function(){this.v||(this.v=new U(this.u+(this.A-this.u)/2,De(this.m,this.a())));return this.v};V.prototype.getCenter=V.prototype.f;V.prototype.a=function(){return Ee(this.m,this.s)};V.prototype.getWidth=V.prototype.a;V.prototype.c=function(){return this.A-this.u};V.prototype.getHeight=V.prototype.c;\nV.prototype.Ha=function(){return this.m>this.s};V.prototype.isCDB=V.prototype.Ha;V.prototype.Ia=function(){return!this.a()&&!this.c()};V.prototype.isEmpty=V.prototype.Ia;V.prototype.B=function(){return new V(this.A,this.m,this.u,this.s)};V.prototype.i=function(a,b,c){var d=this.f();c||(a=be(a,this.i,0),b=de(b,this.i,1));b=this.b(a,b,c);a=b.f();return a.lat===d.lat&&a.lng===d.lng&&this.c()===b.c()&&this.a()===b.a()};V.prototype.containsLatLng=V.prototype.i;\nV.prototype.ha=function(a,b){b||he(a,this.ha,0);return this.i(a.lat,a.lng,b)};V.prototype.containsPoint=V.prototype.ha;V.prototype.P=function(a,b){var c=this.f(),d,e;if(!b&&!Na(a,V))throw new B(this.P,0,a);e=this.l(a,b);d=e.f();return d.lat===c.lat&&d.lng===c.lng&&this.c()===e.c()&&this.a()===e.a()};V.prototype.containsRect=V.prototype.P;\nV.prototype.b=function(a,b,c,d){if(!c){if(Ra(a=be(a)))throw new B(this.b,0,a);if(Ra(b=de(b)))throw new B(this.b,1,b);}return Fe(this.A,this.m,this.u,this.s,a,b,a,b,d)};V.prototype.mergeLatLng=V.prototype.b;V.prototype.ba=function(a,b,c){b||he(a,this.ba,0);return this.b(a.lat,a.lng,b,c)};V.prototype.mergePoint=V.prototype.ba;V.prototype.l=function(a,b,c){if(!b&&!Na(a,V))throw new B(this.l,0,a);return Fe(this.A,this.m,this.u,this.s,a.A,a.m,a.u,a.s,c)};V.prototype.mergeRect=V.prototype.l;\nV.prototype.g=function(a,b,c,d,e,f){e||(a=be(a,this.g,0),b=de(b,this.g,1),c=be(c,this.g,2),d=de(d,this.g,3));return Fe(this.A,this.m,this.u,this.s,a,b,c,d,f)};V.prototype.mergeTopLeftBottomRight=V.prototype.g;V.prototype.aa=function(a,b){if(!b&&!Na(a,V))throw new B(this.aa,0,a);var c=this.m<=this.s,d=a.m<=a.s,e=this.m<a.s,f=a.m<this.s;return this.u<=a.A&&a.u<=this.A&&(!c&&(!d||e||f)||!d&&(e||f)||e&&f)};V.prototype.intersects=V.prototype.aa;function Ee(a,b){var c=b-a;return c+(0>c?360:0)}\nfunction De(a,b){var c=a+b/2;return c-(180<c?360:0)}function Fe(a,b,c,d,e,f,g,h,k){var l,n,p;c=Ob(c,g);a=Pb(a,e);e=Ee(b,d);l=De(b,e);g=Ee(f,h);p=De(f,g)-l;p+=0>p-1E-6?360:0;180>p-1E-6?(l=b,n=h):(p=360-p,l=f,n=d);p=p+e/2+g/2;360<=p+5E-7?(l=-180,n=180):p-5E-7<e?(l=b,n=d):p-5E-7<g&&(l=f,n=h);return k?Ce(k,a,l,c,n):new V(a,l,c,n)}V.merge=Fe;function Ge(a,b,c){c||(he(a,Ge,0),he(b,Ge,1));return new V(a.lat,a.lng,b.lat,b.lng)}V.fromPoints=Ge;\nfunction He(a,b){var c=ga(a);if("array"!=c&&("object"!=c||"number"!=typeof a.length))throw new B(He,0,a);var c=1,d=a.length,e,f=null;if(0<d)for(e=a[0],f=Ge(e,e,b);c<d;c++)e=a[c],f.b(e.lat,e.lng,b,f);return f}V.coverPoints=He;function Ie(a,b){if(!(b||a&&null!=a.length))throw new B(Ie,0,a);var c=3,d=a.length,e;if(0<d)for(e=new V(a[0],a[1],a[0],a[1]);c<d;c+=3)e.b(a[c],a[c+1],b,e);return e}V.coverLatLngAlts=Ie;\nfunction Je(a,b){if(b&&(!a||null==a.length))throw new B(Je,0,a);var c=1,d=a.length,e;if(0<d)for(e=new V(a[0].A,a[0].m,a[0].u,a[0].s);c<d;c++)e.l(a[c],b,e);return e}V.coverRects=Je;V.prototype.ca=function(a,b){he(a,this.ca,0);var c=this.m,d=this.A,e=this.s,f=this.u,g=this.f().lng,h=a.lat-f-(d-f)/2,k=a.lng-g,k=180<k||-180>k?-(g+a.lng):k,c=c+(0>k?2*k:0),c=-180>c?360+c:c,e=e+(0<k?2*k:0),e=180<e?e-360:e,d=0<h?d+2*h:d;90<=d&&(d=90);f=0>h?f+2*h:f;-90>=f&&(f=-90);return b?Ce(b,d,c,f,e):new V(d,c,f,e)};\nV.prototype.resizeToCenter=V.prototype.ca;function Ke(a,b,c,d){var e=!!c,f,g,h=0,k=0,l=0,n=0,p=0,w,G,D,I=-1;f=y.Float32Array;var M,x=[];if(b){b=Ka(b);a=Ka(a);e&&(g=Ka(c));c=b.length;d=d?1E-7:1E-5;for(M=new f(3*c);h<c;)f=b[h],G=+f,w=+a[h],e&&(D=+g[h]),Le.test(f)?0<=I&&(0<h-I&&x.push(I,h+1),I=-1):0>I&&(I=h),h++,n=M[k++]=n+w*d,l=M[k++]=l+G*d,e&&(p=M[k]=p+D),k++;0<=I&&1<c-I&&x.push(I,c)}else M=new f(0);return{path:M,outlineIndices:x}}var Le=/^-?0\\d/;\nfunction Me(a,b){for(var c=0,d=a.length/3,e=new y.Array(d),f=0;c<d;)e[c++]=b.c(a[f],a[++f]),f+=2;return e};function Ne(a,b){var c=180/(1<<b),d=a.lat+90,e=(a.lng+180)%360,f=0;180==d&&f--;f+=Math.floor(d/c);c=0+Math.floor(e/c);return[f,c]}var Oe=1/Math.pow(10,10);function Pe(a,b){var c=[],d=a.$(),e=a.Z(),f,g;180==e.lng&&(e.lng-=Oe);d=Ne(d,b);e=Ne(e,b);for(g=d[0];g>=e[0];g--)for(f=d[1];f<=e[1];f++)c.push(g,f);return c};function Qe(a,b){this.b={};this.v=ne(a.serverUrl);this.l=b;this.C=a.layerConfigs||[];this.o=a.projected;this.a=a.tileSize||256;this.B=!1!==a.batchTiles;this.P=a.onlyOutline;this.j=new X(Ja,this.a);this.i=new X(Ja,this.a);this.i.a(22-Math.log(this.a)/Math.LN2+8)}ua(Qe,L);m=Qe.prototype;m.Wa=function(a,b,c){var d,e;d={x:a*this.a,y:b*this.a};e={x:a*this.a+(this.a-1),y:b*this.a+(this.a-1)};this.j.a(c);d=this.j.f(d);e=this.j.f(e);d=new V(d.lat,d.lng,e.lat,e.lng);return Re(this,d,this.C,{x:a,y:b,z:c})};\nm.Va=function(a,b,c,d,e){return Re(this,new V(a,b,c,d),e)};\nfunction Re(a,b,c,d){var e=d||{};c=Se(c);var f=Te(c),g,h=[],k=[],l,n,p={},w,G,D;for(G=0;G<c.length;G++)for(l=c[G].layerId,n=c[G].level,p[l]=c[G].columns,g=Pe(b,n),D=0;D<g.length-1;D+=2)d=[l,g[D+1],g[D],n].join("_"),w=a.b[d]||a.l.get(d),w||(w=new me(g[D+1],g[D],n,l),w.key=d,a.b[d]=w,k.push(w)),h.push(w);k.length&&(a.B?Ue(a,k):Ve(a,k));return Pc(h.map(function(a){return a.then(Ea(this.Oa,this,a.Y,f)).then(Ea(this.Ua,this,a,e)).then(Ea(this.Ya,this,p[a.Y]))},a))}\nm.Oa=function(a,b,c){var d=c.Rows,e=d.length,f,g,h,k;if(e&&(f=b[a])){b=new F(c.Rows);g=[];for(h=0;h<e;h++)k=d[h],f(b.c(h),a)&&g.push(k);a={Rows:g};if(c=c.Meta)a.Meta=c}else a=c;return a};function Ve(a,b){function c(b,c,d){d?(delete a.b[b.key],b.reject(d)):We(a,b,c)}var d,e,f;for(d=0;d<b.length;d++)f=b[d],e=a.v.clone().f({tilex:f.x}).f({tiley:f.y}).f({level:f.a}).f({layer:f.Y}),new we(e.toString(),Ea(c,null,f),Be)}function Ue(a,b){var c=b.length,d,e;for(d=0;d<c;d+=15)e=b.slice(d,d+15),Xe(a,e)}\nfunction Xe(a,b){var c=a.v.clone(),d=[],e=[],f=[],g=c.a;b.length&&(b.forEach(function(a){d.push(a.x,a.y);e.push(a.a);f.push(a.Y)}),g.tilexy=d.join(","),g.layers=f.join(","),g.levels=e.join(","),c.v(g),new we(c.toString(),function(c,d){d?b.forEach(function(b){delete a.b[b.key];b.reject("error")}):We(a,b,c)},Be))}\nfunction We(a,b,c){var d,e,f,g;if(Pa(b,void 0,void 0,void 0))for(e=c.indexOf("[")+1,g=0;g<b.length;g++)f=c.indexOf("]},{",e+3)+2,f<e&&(f=c.lastIndexOf("]}")),d=c.substr(e,f-e),e=f+1,Ye(a,b[g],d);else Ye(a,b,c)}function Ye(a,b,c){var d=0;try{d=c.length,delete a.b[b.key],a.l.add(b.key,b,2*d),b.resolve(JSON.parse(c))}catch(e){b.reject(e.message)}}function Te(a){var b={},c,d,e;for(e=0;e<a.length;e++)c=a[e],c.rowFilter&&(d=c.layerId,d=d!==z?d:c.layer,b[d]=Ea(c.rowFilter,c.rowFilterContext));return b}\nm.Ua=function(a,b,c){var d,e,f,g=!1,h,k,l=[],n=[],p=[];a=/^ADAS/.test(a.Y);for(var w=this.P,G=a?"HPY":"LAT",D=a?"HPX":"LON",I=a?"HPZ":"ZLEVEL",M,x,na,ya=0,Zd=c.Rows,ja,oa,gf=Zd.length,$d=this.i;ya<gf;ya++){x=Zd[ya];if(x[G]&&x[D]&&(f=Ke(x[G],x[D],x[I],a),x.geometry=f,delete x[G],delete x[D],delete x[I],x.INNER_LON)){x.INNER_LAT=x.INNER_LAT.split(";");x.INNER_LON=x.INNER_LON.split(";");M=[];na=x.INNER_LON.length;for(f=0;f<na;f++)M.push(Ke(x.INNER_LAT[f],x.INNER_LON[f],"",a));x.interiors=M;delete x.INNER_LAT;\ndelete x.INNER_LON}if(this.o){ja=x.$$projected$$;if(!ja){f=x.geometry;na=(M=x.interiors)?M.length:0;h=Me(f.path,$d);oa=[h];x.$$projected$$=ja={Ta:oa};oa.length+=na;g|=Ze(oa,h,f.outlineIndices);if(na)for(ja.Qa=1,f=0;f<na;f++)x=M[f],h=Me(x.path,$d),oa[1+f]=h,g|=Ze(oa,h,x.outlineIndices);g&&(ja.va=1+na)}if(ja){h=[];oa=ja.Ta;M=na=x=oa.length;for(f=w?ja.va:0;f<x;f++){k=oa[f];var ba=f>=ja.va,ca=void 0,da=void 0,A=void 0,t=void 0,K=e=d=e=void 0,K=void 0,La=[],t=K=A=void 0,K=[],A=void 0,t=0,pa=this.i.g()-\nb.z,ca=(b.x<<pa)*this.a,da=(b.y<<pa)*this.a,K=50<<pa;e=this.a<<pa;if(1===k.length)K=[ca,da,ca+e,da,ca+e,da+e,ca,da+e],nc(k[0].x,k[0].y,K)&&(K=new Int32Array(2),K[0]=k[0].x-ca>>pa,K[1]=k[0].y-da>>pa,La.push(K));else if(A=da-K,t=ca+e+K,e=da+e+K,d=ca-K,K=[new J(d,A),new J(t,A),new J(t,e),new J(d,e),new J(d,A)],ba)for(K=pb([k],d,A,t,e,!1),A=K.length,t=0;t<A;t+=1)La.push($e(K[t],2*K[t].length,ca,da,pa,!0));else if(af(K,k))La.push($e(K,2*K.length,ca,da,pa,!0));else{var A=k,ba=zb(K),A=zb(A),O=void 0,Y=void 0,\nra=void 0,za=void 0,hc=void 0,ic=void 0,ce=ra=t=void 0;d=t=void 0;t={};e=d=1;var ab=0,ab=~~(1*ab);switch(ab){case 1:e=d=0;break;case 2:d=0;e=1;break;case 3:d=1,e=0}var ab=e,jc=za=void 0,ra=O=e=void 0;if(A&&ba){A.ia=rb(A.x,A.y,null,tb(A));ba.ia=rb(ba.x,ba.y,null,tb(ba));for(O=A;O.next;O=O.next)if(!O.I)for(Y=ba;Y.next;Y=Y.next)!Y.I&&(za=sb(O.next),jc=sb(Y.next),ra=wb(O,za,Y,jc,t))&&(ra=t.Ja,ce=t.xa,hc=t.Za,ic=t.$a,ra=rb(hc,ic,null,null,null,null,1,0,0,ra),yb(ra,O,za),za=rb(hc,ic,null,null,null,null,\n1,0,0,ce),yb(za,Y,jc),ra.ua=za,za.ua=ra);t=xb(A,ba);d&&(t=1-t);for(O=A;O;O=O.next)O.I&&(O.ra=t,t=1-t);t=xb(ba,A);ab&&(t=1-t);for(Y=ba;Y.next;Y=Y.next)Y.I&&(Y.ra=t,t=1-t);vb(A);for(vb(ba);(t=ub(A))!=A;){for(O=null;!t.na;t=t.ua){for(d=t.ra;;){O=rb(t.x,t.y,O);t.na=1;t=d?t.next:t.D;if(!t)break;if(t.I){t.na=1;break}}if(!t)break}O.Da=e;e=O}A=e}else A=void 0;t=2*k.length;if(!A&&af(k,K))La.push($e(k,t,ca,da,pa,!0));else for(;A;)La.push($e(A,t,ca,da,pa)),A=A.Da}k=La;if(f===ja.Qa){if(!h.length)break;M=h.length}f===\nja.va&&(na=h.length);k.length&&h.push.apply(h,k)}h.length&&(l[ya]=h,w?n[ya]=p[ya]=fc:(n[ya]=M,p[ya]=na))}}}return{Xa:c,La:l,Ra:n,Sa:p}};function Ze(a,b,c){for(var d=c.length,e=0,f,g,h=b.length;e<d;)f=c[e++],g=c[e++],a.push(g-f===h?b:b.slice(f,g));return 0<c.length}function af(a,b){for(var c=!1,d=[],e=0,f=b.length;e<f;e++)d.push(b[e].x,b[e].y);nc(a[0].x,a[0].y,d)&&(pb([b],a[0].x,a[0].y,a[2].x,a[2].y,!0).length||(c=!0));return c}\nfunction $e(a,b,c,d,e,f){var g=0,h=0,k=a,l=!!f,n=new Int32Array(b);for(l&&(a=k[0]);a;)n[g]=a.x-c>>e,g+=1,n[g]=a.y-d>>e,g+=1,g===b&&(f=new Int32Array(2*b),f.set(n),n=f),h+=1,a=l?k[h]:a.next;f=new Int32Array(g);f.set(Array.prototype.slice.apply(n,[0,g]));return f}\nm.Ya=function(a,b){for(var c=b.Xa,d=b.La,e=b.Ra,f=b.Sa,g=[],h,k={Rows:g},l,n=a?a.length:0,p=0,w,G=c.Rows,D=G.length,I;p<D;p+=1)if(d[p]||!this.o){h={};w=G[p];if(n)for(l=0;l<n;l+=1)w.hasOwnProperty(a[l])&&(h[a[l]]=w[a[l]]);else for(I in w)"$$projected$$"!==I&&(h[I]=w[I]);d[p]&&(h.$HProjGeometry={paths:d[p],interiorsIndex:e[p],outlinesIndex:f[p]});w.geometry&&(h.geometry=w.geometry);g.push(h)}c.Meta&&(k.Meta=c.Meta);return k};\nm.ja=function(){for(var a in this.b)this.b.hasOwnProperty(a)&&(this.b[a].reject("disposed"),delete this.b[a])};function Se(a){var b=[],c,d;for(d=0;d<a.length;d++){c=Ia(a[d]);if(c.rowFilter&&(c.rowFilter=eval("("+c.rowFilter+")"),!r(c.rowFilter)))throw Error("Invalid row filter for layer "+c.layerId);b.push(c)}return b};u("H.service.extension.worker.processor",function(a,b,c){function d(a){e.postMessage(a)}var e=this,f=bf[a],g;g=function(a){e.postError(a.toString())};if(0===b)f||(bf[a]=new Qe(c,cf)),this.postMessage();else if(f)switch(b){case 1:try{f.Wa.apply(f,c).then(d,g)}catch(h){this.postError(h.message)}break;case 2:try{f.Va.apply(f,c).then(d,g)}catch(k){this.postError(k.message)}break;case 3:f.S();delete bf[a];Oa(bf)&&cf.i();break;default:e.postError("Unsupported command")}else e.postError("TileProvider is not initialized")});\nvar cf=new C(26214400),bf=Object.create(Ja,void 0);function df(a,b,c){var d=a[b];a=a[b+1];this.Ba=[];this.wa=0;this.a=[a-c,d-c,a+c,d+c]}df.prototype.ha=function(a,b){var c=a[b],d=a[b+1],e=this.a;return e[1]<=c&&c<=e[3]&&e[0]<=d&&d<=e[2]};var ef=new J(0,0);function ff(a,b,c,d,e){d[e]=b;d[e+1]=a}var hf=new X;function jf(a,b,c,d,e){hf.c(a,b,ef);d[e]=ef.x;d[e+1]=ef.y}\nu("H.clustering.dynamicgrid.worker",function(a,b,c,d,e){var f=e?ff:jf,g=0;e=!!self.ArrayBuffer;var h=a.byteLength?new Float64Array(a):a,k=h.length/3,l,n;a=[];var p,w=[],G=[],D=e?new Float64Array(2*k):[],k=0,I,M=0;for(hf.a(d);g<h.length;){I=h[g++];n=h[g++];l=h[g++];f(l,n,d,D,M);for(l=a.length;l--;)if(n=a[l],n.ha(D,M)){p=n;break}p||(p=new df(D,M,b),a.push(p));l=M/2;p.wa+=I||1;p.Ba.push(l);p=null;M+=2}for(l=a.length;l--;)n=a[l],b=n.wa>=c,f=n.Ba,d=f.length,b?(w.push(d),w=w.concat(f)):(k+=d,G=G.concat(f));\nc=[k].concat(G).concat(w);c=e?(new Uint32Array(c)).buffer:c;this.postMessage(c,[c])});self.addEventListener("message",function(a){a=new ve(a.data);var b=re[a.b];if(b)try{b.apply(a,a.c)}catch(c){a.postError(c.message)}else a.postError("processor_not_found")});(function(){var a,b;a=new ve;b=function(b,d){ue.apply(a,[b,d,!0])};b("0",se);b("1",ue);b("2",te);b("3",Ae)})();\n'
    },
    1663: function(t, e) {
        H.util.eval('N.prototype.N=ca(0,function(a){var b=this.g,c,d=this;a!==x?(B(a,Vg,N.prototype.N,0),c=a):c=bh;c!==b&&b.Ea(function(a,b,g){return d.m(a)?(c.add(a,b,g),!0):!1});this.g=c});function S(a,b,c,d,e,f){if(a&&b)this.ce(a),this.nd(b),this.mc(c),this.j(e),this.l(f),this.zf(d);else throw Error(\'Parameters "scheme" and "host" must be specified\');}r("H.service.Url",S);\nfunction km(a,b){var c=a,d=w.document,e,f,g,h,k=d&&d.createElement("a"),l="";d?(b&&(f=(e=d.getElementsByTagName("base")[0])&&e.href,g=d.head,h=e||g.appendChild(d.createElement("base")),h.href=b),k.href=c,l=k.href,b&&(e?e.href=f:g.removeChild(h))):/[\\w]+:\\/\\//.test(c)&&(l=c);g=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(l);c=g[1];k=g[4];d=g[5];h=g[6];e=g[7];f=g[8];!g[2]&&k&&/@/.test(k)&&(k=k.split("@")[1]);g=k;h=h&&0<h.length?h.substr(1):"";var k=\n{},m;if(e)for(l=/([?&]?([^=&+]+))(=([^&]+))?/g;m=l.exec(e);)k[decodeURIComponent(m[2])]=m[4]?decodeURIComponent(m[4]):void 0;return new S(c,g,h,k,isNaN(+d)?void 0:+d,f&&0<f.length?f.substr(1):"")}S.parse=km;var lm=0;S.prototype.clone=function(){lm++;var a={},b;for(b in this.b)a[b]=this.b[b];return new S(this.g,this.vc,this.c,a,this.f,this.a)};S.prototype.clone=S.prototype.clone;\nS.prototype.ce=function(a){if(!a||"string"!==typeof a)throw Error(\'The "scheme" parameter must be a non-empty string.\');this.g=a;return this};S.prototype.setScheme=S.prototype.ce;S.prototype.B=function(){return this.g};S.prototype.getScheme=S.prototype.B;S.prototype.nd=function(a){if(!a||"string"!==typeof a||"-"===a.charAt(0)||"."===a.charAt(0)||"."===a.charAt(a.length-1))throw Error(\'The "host" parameter is not a valid host name.\');this.vc=a;return this};S.prototype.setHost=S.prototype.nd;\nS.prototype.o=function(){return this.vc};S.prototype.getHost=S.prototype.o;S.prototype.mc=function(a){this.c=a||void 0;return this};S.prototype.setPath=S.prototype.mc;S.prototype.m=function(){return this.c};S.prototype.getPath=S.prototype.m;S.prototype.zf=function(a){if(a)if("object"==typeof a)this.b=a;else throw Error(\'Parameter "params" must be an object.\');else this.b={};return this};S.prototype.setQuery=S.prototype.zf;S.prototype.i=function(){return!mm(this)};S.prototype.hasQuery=S.prototype.i;\nS.prototype.s=function(){return this.b};S.prototype.getQuery=S.prototype.s;S.prototype.j=function(a){if(a&&isNaN(parseInt(a,10)))throw Error(\'Parameter "port" must be a number or undefined\');this.f=+a||void 0;return this};S.prototype.setPort=S.prototype.j;S.prototype.v=function(){return this.f};S.prototype.getPort=S.prototype.v;S.prototype.l=function(a){this.a=a||void 0;return this};S.prototype.setAnchor=S.prototype.l;S.prototype.A=function(){return this.a};S.prototype.getAnchor=S.prototype.A;\nS.prototype.$=function(a){if("object"!==typeof a)throw Error(\'Parameter "other" must be an object.\');var b=this.b,c;for(c in a)a.hasOwnProperty(c)&&"function"!==typeof a[c]&&(b[c]=a[c]);return this};S.prototype.mergeQuery=S.prototype.$;S.prototype.xa=function(a){if(!a||"string"!==typeof a)throw Error(\'Parameter "subDomain" must be a non-empty string\');"."===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.nd(a+"."+this.vc)};S.prototype.addSubDomain=S.prototype.xa;\nS.prototype.R=function(a){if(!a||"string"!==typeof a)throw Error(\'Parameter "subPath" must be a non-empty string\');return this.mc((this.c?this.c+"/":"")+a)};S.prototype.addSubPath=S.prototype.R;S.prototype.toString=function(){return[this.g+"://",this.vc,this.f?":"+this.f:"",this.c||!mm(this)||this.a?"/":"",this.c?encodeURI(this.c):"",nm(this),this.a?"#"+encodeURIComponent(this.a):""].join("")};S.prototype.toString=S.prototype.toString;\nfunction nm(a){var b=[],c,d=a.b,e;for(c in d)d.hasOwnProperty(c)&&"function"!==typeof d[c]&&(e=a.b[c],b.push(encodeURIComponent(c)+(void 0===e?"":"="+encodeURIComponent(e))));return 0<b.length?"?"+b.join("&"):""}function mm(a){var b,c=0;for(b in a.b)if(a.b.hasOwnProperty(b)&&"function"!==typeof a.b[b]&&(c++,0<c))break;return!c};function om(a){function b(b){d.contains(e)&&d.removeChild(e);l&&clearTimeout(l);delete om.a[f];b&&a.Zc&&a.Zc.call(k,b)}if(!a.url||!a.oc)throw Error(\'Parameter "options" must specify at least a URL and a callback.\');if("function"!==typeof a.oc)throw Error("Parmaters options.callback must be a function");var c=a.Ui||document,d=c.getElementsByTagName("head")[0],e=c.createElement("script"),c=a.url instanceof S?a.url:km(a.url,a.Ti),f=om.c++,g=a.xd||"callback",h=a.oc,k={},l=null;k.id=f;k.cancel=function(){b("cancelled")};\n0!==a.timeout&&(l=w.setTimeout(function(){b("timeout")},a.timeout||3E4));om.a[f]=function(a){b();h.call(k,a)};e.type="text/javascript";e.src=c.toString()+(c.i()?"&":"?")+g+"="+(a.rf?"H.service.jsonp.handleResponse("+f+")":encodeURI("H.service.jsonp.handleResponse("+f+")"));d.appendChild(e);return k}r("H.service.jsonp",om);om.b=function(a){return(a=om.a[a])?a:function(){}};om.handleResponse=om.b;om.c=0;om.a={};function pm(a){a=a||{};this.F=a.subDomain;this.c=a.path;this.N=a.callbackKey;this.f=a.baseUrl}r("H.service.AbstractRestService",pm);pm.prototype.W=function(a,b,c,d,e){this.a=(e||this.f).clone();this.F&&this.a.xa(this.F);this.c&&this.a.mc(this.c);c&&this.a.ce("https");return this};pm.prototype.configure=pm.prototype.W;pm.prototype.aa=function(){return this.a};\nfunction qm(a,b,c,d){if(!sa(c))throw Error("onResult callback needed");if(!sa(d))throw Error("onError callback needed");return om({url:b,oc:function(a){c(a)},Zc:function(a){d(Error("["+a+"] "+b+" request failed"))},xd:a.N})};function U(a){a=rm(sm,a);this.v(a.baseUrl);this.c(a.useCIT);this.g(a.useHTTPS);tm(this,a.app_id,a.app_code);this.a={}}r("H.service.Platform",U);function tm(a,b,c){a.l=b;a.i=c;a.f.$({app_id:b,app_code:c})}U.prototype.W=function(a){if(a.configure)return a.configure(this.l,this.i,this.B,this.s,this.f);throw Error("Object is not configurable");};U.prototype.configure=U.prototype.W;U.prototype.g=function(a){this.B=a;this.f.ce(a?"https":"http")};U.prototype.setUseHTTPS=U.prototype.g;\nU.prototype.c=function(a){this.s=a;this.f.nd((a?"cit.":"")+this.A)};U.prototype.setUseCIT=U.prototype.c;U.prototype.v=function(a){this.A=a.vc;this.f=a=a.clone();a.$({xnlp:"CL_JSMv3."+sl().version});this.c(this.s);this.g(this.B);tm(this,this.l,this.i)};U.prototype.setBaseUrl=U.prototype.v;U.prototype.C=function(){return this.f};U.prototype.getBaseUrl=U.prototype.C;var sm={app_id:null,app_code:null,useHTTPS:!1,useCIT:!1,baseUrl:new S("http","api.here.com")};\nr("H.service.setOptions",function(a,b){sm[a]=b});r("H.service.getOptions",function(a){return sm[a]});function rm(a,b){var c=b||{},d;for(d in a)!a.hasOwnProperty(d)||d in c||(c[d]=a[d]),b&&b.hasOwnProperty(d)&&(c[d]=b[d]);return c};function um(a){a=rm(sm.trafficIncidents,a);a.callbackKey="jsoncallback";um.u.constructor.call(this,a)}v(um,pm);r("H.service.TrafficIncidentsService",um);um.prototype.W=function(a,b,c,d,e){um.u.W.apply(this,[a,b,c,d,e]);this.f&&(this.a=this.f.clone());return this};um.prototype.configure=um.prototype.W;um.prototype.g=function(a,b,c){a=this.aa().clone().R("incidents.json").$(a);return qm(this,a,b,c)};um.prototype.requestIncidents=um.prototype.g;\num.prototype.b=function(a,b,c,d,e,f){a=this.aa().clone().R(["incidents/json",c,a,b].join("/")).$(f||{});return qm(this,a,d,e)};um.prototype.requestIncidentsByTile=um.prototype.b;sm.trafficIncidents={subDomain:"traffic",path:"traffic/6.1"};U.prototype.o=function(){return this.W(new um)};U.prototype.getTrafficIncidentsService=U.prototype.o;function vm(){this.Ff={}}function wm(a){var b,c=a.boxes,d,e;this.label=a.label;this.min=a.minLevel;this.max=a.maxLevel;this.b=[];if(c&&(b=c.length))for(d=c[0],e=new G(d[0],d[1],d[2],d[3]),this.b.push(e),this.a=new G(d[0],d[1],d[2],d[3]),a=1;a<b;a++)d=c[a],e=new G(d[0],d[1],d[2],d[3]),this.b.push(e),this.a.wb(e,!1,this.a)}wm.prototype.xc=function(a,b){var c;if(a>=this.min&&a<=this.max)if((c=this.b.length)&&this.a){if(this.a.xc(b))for(;c--;)if(this.b[c].xc(b))return!0}else return!0;return!1};function xm(a){var b=0,c,d,e=a.length;if(0===e)return b;for(c=0;c<e;c++)d=a.charCodeAt(c),b=(b<<5)-b+d,b|=0;return b}var ym=Function("return this")();function zm(a,b){function c(){k=Aa();te.font=g;h=Math.round(te.measureText("BESbswyMi").width);-1===e.indexOf(h)?b():3E5<k-d?b("timeout"):(l=50*++f,ym.setTimeout(c,Math.min(l,d+3E5-k)))}var d=Aa(),e=Am(),f=0,g="35px "+a+","+Bm.join(","),h,k,l;-1!==Bm.indexOf(a)?b():ym.setTimeout(c,50)}\nfunction Cm(a,b){function c(a){a?b(a):0===--d&&b()}var d=a.length;a.forEach(function(a){zm(a,c)})}var Bm=Ra("monospace serif");function Am(){var a=[];Bm.forEach(function(b){te.font="35px "+b;a.push(Math.round(te.measureText("BESbswyMi").width))});return a}function Dm(a,b){var c=b||document,d=c.createElement("style"),e;d.appendChild(c.createTextNode(""));c.head.appendChild(d);e=d.sheet;a.forEach(function(a,b){e.insertRule(a,b)});return d}function Em(){}\nEm.prototype.pop=function(a){this[a]||(this[a]=[]);return this[a].pop()||ym.document.createElement("canvas")};Em.prototype.push=function(a,b){this[b]||(this[b]=[]);this[b].push(a)};var Fm=new Em;function Gm(a,b,c,d,e,f,g){var h=this;g=g||{};f=f?f:{};var k=a.aa().clone().R(b+"/"+a.Cb()+"/"+c).$(f),l=a.i;this.service_=a;this.tileBaseUrl_=k;Pk.call(this,{tileSize:d,max:512===d?19:20,min:512===d?2:0,getURL:function(a,b,c){var f=h.tileBaseUrl_.clone();l&&f.xa(l[(c+b+a)%l.length]);f.R(c+"/"+a+"/"+b+"/"+d+"/"+e);return f.toString()},crossOrigin:g.crossOrigin,uri:k.toString().replace(/_/g,"")+d});this.tileType_=b;this.scheme_=c;this.params_=f;this.copyrightKey_=c.split(".")[0];this.C=z(this.C,this);\nthis.getCopyrights=this.Ia;this.U=wc();a.addEventListener("versionupdate",this.C)}v(Gm,Pk);Gm.prototype.MAX_STORE_TIME=2592E6;Gm.prototype.D=function(){Pk.prototype.D.call(this);this.service_.removeEventListener("versionupdate",this.C)};Gm.prototype.Ia=function(a,b){var c=this.service_.Ia().Ff[this.copyrightKey_],d,e=c?c.length:0,f=[];for(d=0;d<e;d++)c[d].xc(b,a)&&f.push(c[d]);return f};\nGm.prototype.C=function(){var a=this.service_;this.tileBaseUrl_=a.aa().clone().R(this.tileType_+"/"+a.Cb()+"/"+this.scheme_).$(this.params_);this.j(!1)};Gm.prototype.Rc=function(){return this.U};r("H.service.MapTileProvider.prototype.canStore",Gm.prototype.Rc);Gm.prototype.B=function(){return this.Rc()?vc():N.prototype.B.call(this)};r("H.service.MapTileProvider.prototype.getStorage",Gm.prototype.B);function Hm(a){a=rm(sm.maptile,a);I.call(this);this.f=a.baseUrl;this.c=a.path;this.m=a.subDomain;this.i=a.shards;this.ra=(this.s=!!a.ignoreTypes)?null:a.type;this.g=a.version;this.j=new vm;this.o={};this.Ad=0}v(Hm,I);r("H.service.MapTileService",Hm);function Im(a,b){for(var c={},d=a[b+"s"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+"s"]=c}\nHm.prototype.W=function(a,b,c,d,e){this.a=(this.f||e).clone();this.m&&this.a.xa(this.m);this.ra&&this.a.xa(this.ra);this.c&&this.a.mc(this.c);"newest"===this.g&&Jm(this);return this};Hm.prototype.configure=Hm.prototype.W;Hm.prototype.aa=function(){return this.a};Hm.prototype.A=function(){return this.ra};Hm.prototype.getType=Hm.prototype.A;Hm.prototype.Cb=function(){return this.g};Hm.prototype.getVersion=Hm.prototype.Cb;\nHm.prototype.Ia=function(){this.Ad||(this.g&&"newest"!==this.g||"traffic"===this.ra)&&Km(this);return this.j};Hm.prototype.getCopyrights=Hm.prototype.Ia;\nfunction Jm(a){var b=a.aa().clone().R("info").$({output:"json"});a.i&&b.xa(a.i[0]);om({url:b,xd:"callback_func",oc:function(b){b=JSON.parse(b.replace(/,\\s?\\]/g,"]")).response;var d;Im(b,"map");Im(b,"scheme");Im(b,"tiletype");Im(b,"format");Im(b,"resolution");Im(b,"language");if("newest"===a.g&&"traffic"!==a.ra)for(d in b.maps)b.maps[d].hash&&b.maps[d].newest&&(a.g=b.maps[d].hash,a.dispatchEvent("versionupdate"));a.l=b;a.dispatchEvent("infoupdate")},Zc:function(a){throw Error("["+a+"]: Could not fetch meta-info from map tile service @ "+\nb.toString());},rf:!0})}function Km(a){var b=a.aa().clone().R("copyright").R(a.Cb()).$({output:"json"});a.i&&b.xa(a.i[0]);a.Ad=1;om({url:b,xd:"callback_func",oc:function(b){this.Ad=2;b=JSON.parse(b);var d=a.j,e;for(e in b)if(b.hasOwnProperty(e))for(var f=b[e],g=d.Ff[e]||(d.Ff[e]=[]),h=void 0,k=f.length,h=0;h<k;h++)g.push(new wm(f[h]));a.dispatchEvent("copyrightupdate")},Zc:function(a){this.Ad=-1;throw Error("["+a+"]: Could not fetch copyrights from map tile service @"+b.toString());},rf:!0})}\nHm.prototype.B=function(){return this.l};Hm.prototype.getInfo=Hm.prototype.B;Hm.prototype.v=function(a,b,c,d,e,f){var g;g=xm(this.aa().clone().R(a+"/"+this.Cb()+"/"+b+"/"+c+"/"+d).$(e?e:{}).toString());var h=this.o[g];h||(h=new Gm(this,a,b,c,d,e,f),this.o[g]=h);return h};Hm.prototype.createTileProvider=Hm.prototype.v;Hm.prototype.b=function(a,b,c,d,e,f,g,h){a=this.v(a,b,c,d,e,h);return new oh(a,{opacity:f,dark:!!g})};Hm.prototype.createTileLayer=Hm.prototype.b;\nsm.maptile={type:"base",version:"newest",subDomain:"maps",path:"maptile/2.1",shards:["1","2","3","4"]};U.prototype.b=function(a){var b;b=rm(sm.maptile,a);var c;c=""+(b.ignoreTypes?"":b.type);c+=b.path;c+=b.subDomain;c+=b.baseUrl;c+=b.shards?b.shards.join(""):"";b=xm(c);c=this.a[b];c||(c=this.W(new Hm(a)),this.a[b]=c);return c};U.prototype.getMapTileService=U.prototype.b;function Lm(a){this.f=a;this.hb=this.a("general","default")||Mm;this.c=new Vg(200)}Lm.prototype.b=function(a,b){var c,d,e,f,g;for(g=1;g<arguments.length;g++)for(c in d=arguments[g],d)if(d.hasOwnProperty(c))for(e in a[c]||(a[c]={}),f=d[c],f)f.hasOwnProperty(e)&&void 0!==f[e]&&(a[c][e]=f[e]);return a};Lm.prototype.Na=function(a,b){var c=this.a("spaceToGroup",b);return Nm(this,a,c?c+"":void 0)};\nfunction Nm(a,b,c){var d,e,f;f=(b?b+"_":"")+(c?c:"default");d=a.hb;(e=a.c.get(f))?d=e:(b&&c?(d=Nm(a,b,void 0),e=Nm(a,void 0,c),b=a.a("venues",b,"groups",c),d=a.b({},a.hb,d,e,b)):b&&!c?d=a.b({},a.hb,a.a("venues",b,"default")):!b&&c&&(d=a.b({},a.hb,a.a("general","groups",c))),a.c.add(f,d,1));return d}Lm.prototype.a=function(a){for(var b=this.f,c=arguments,d=c.length,e=0;e!==d;)if(b=b[c[e++]],!b)return;return b};\nvar Mm={space:{fillColor:"rgba(198, 175, 255, .7)",strokeColor:"rgb(162, 141, 216)",lineWidth:.5},spaceLabel:{fillColor:"rgb(78,66,111)"},floor:{fillColor:"rgba(249, 244, 253, .7)",strokeColor:"rgba(255, 255, 255, .7)",lineWidth:1}};function Om(a,b,c,d,e,f,g,h){this.Ta=[];this.A={};Yk.call(this,a,b,c,d,e,f,g,h)}v(Om,Yk);function Pm(){}Pm.prototype.Ib=function(){};r("H.service.remote.IObject.prototype.retain",Pm.prototype.Ib);Pm.prototype.v=function(){};r("H.service.remote.IObject.prototype.release",Pm.prototype.v);function Qm(a,b){var c={};this.I=a;Ca(c,b||c);Kk.call(this,c);this.lc={};Rm(this)}v(Qm,Kk);r("H.service.remote.ObjectProvider",Qm);Qm.prototype.J=function(){Kk.prototype.J.call(this)};function Rm(a){a=a.N(Pe.SPATIAL);a.c(a.a+1,Me.ADD)}var Sm=[];Qm.prototype.c=function(){return Sm};Qm.prototype.requestMarkers=Qm.prototype.c;Qm.prototype.b=function(){return Sm};Qm.prototype.requestDomMarkers=Qm.prototype.b;Qm.prototype.l=Be;Qm.prototype.providesMarkers=Qm.prototype.l;Qm.prototype.i=Be;\nQm.prototype.providesDomMarkers=Qm.prototype.i;Qm.prototype.s=function(){return!0};Qm.prototype.providesSpatials=Qm.prototype.s;Qm.prototype.m=function(){return Sm};Qm.prototype.requestSpatials=Qm.prototype.m;function Tm(a){return a.getVisibility(!0)}Qm.prototype.g=function(a,b){var c=Um(this,a,Vm);b&&(c=c.filter(Tm));return c};Qm.prototype.requestSpatialsByTile=Qm.prototype.g;function Um(a,b,c){var d=b.i&&b.i[c],e;!d&&(e=b.v)&&(delete b.v,(b.i=a=a.I.parse(a,b,e))&&(d=a[c]));return d||Sm}\nQm.prototype.V=function(a){var b=a.ta();if(this.lc[b])throw new kc(this.V,"Remote object "+b+" already added");return this.lc[b]=a};Qm.prototype.a=function(a){delete this.lc[a.ta()]};var Vm="spatials";function Wm(a,b,c){Qm.call(this,b,c);this.f=a;this.responseQueue_=[];Xm(this.f)||(this.Vd=z(this.Vd,this),this.f.addEventListener("statechange",this.Vd));this.v=a.m;this.j=0;this.B={onSpaceCreated:c&&c.onSpaceCreated,floorLevel:0,styler:null};this.requestSpatialsByTile=z(this.g,this)}v(Wm,Qm);Wm.prototype.T=function(a,b,c,d){this.vf?this.Ug.apply(this,arguments):d||this.responseQueue_.push({Ci:a,response:c,Vh:b});d&&(a.A[b]=!0)};function Ym(a){return a.getVisibility(!0)}\nWm.prototype.g=function(a,b,c){var d;this.$g||Zm(this);d=a.a;b&&(d=d.filter(Ym));if(!c){b=this.j;var e,f,g,h;if(!a.A[b]&&Xm(this.f)){e=this.f.aa();c=a.x;f=a.y;h=g=a.z;for(var k=1,l;h--;)l=1<<h,k*=4,k+=(c&l&&1)|(f&l&&2);h=k.toString(4).substr(1);e=e.clone().R("0/tiles-ia").R("L"+b).R(h+".json");this.v&&e.xa(this.v[(c+f+g)%this.v.length]);c=new Gh("text/plain",e.toString());c.then(z(this.T,this,a,b),sc);a.A[b]=!0}a.A[this.j]=!0}a.l&&(d=d.concat(a.l),delete a.l);return d};\nr("H.service.venues.ObjectProvider.prototype.requestSpatialsByTile",Wm.prototype.g);p=Wm.prototype;p.Kc=function(a){var b,c,d;for(b in this.lc)for(c in d=this.lc[b].C,d)d[c].Kc(a);Rm(this);Rg(this);this.j=a};p.Ug=function(a,b,c,d){if(!d&&(this.B.floorLevel=b,b=(b=this.I.parse(this,a,c,this.B))&&b.spatials))for(a.l=a.l?a.l.concat(b):b,a=b.length;a--;)b[a].ua(Me.ADD)};p.Vd=function(){Xm(this.f)&&($m(this),this.f.removeEventListener("statechange",this.Vd))};\nfunction $m(a){Xm(a.f)&&a.vf&&a.dispatchEvent("reload")}function Zm(a){a.$g=!0;an(a,function(b,c){c?a.dispatchEvent("error"):(a.B.styler=b,bn(a,z(a.si,a)))})}p.si=function(a){a?this.dispatchEvent("error"):(this.responseQueue_.forEach(function(a){this.Ug(a.Ci,a.Vh,a.response)},this),this.responseQueue_=null,this.vf=!0,$m(this))};p.$g=!1;p.vf=!1;function an(a,b){(new Gh("application/json",a.f.l.clone().R("styles/styles.json").toString())).then(function(a){b(new Lm(a))},function(a){b(null,a)})}\nvar cn=0;\nfunction bn(a,b){var c=a.f.l.clone().R("fonts"),d=document,e=[],f,g=[];2===cn?b():(dn.forEach(function(a){g.push("FiraGO-Regular".replace("{name}",a))}),1!==cn&&(dn.forEach(function(a,b){f=c.clone().R(g[b]);e.push(\'@font-face {font-family: "FiraGO-Regular";src: url("{url}.woff2") format("woff2"),url("{url}.woff") format("woff"),url("{url}.ttf") format("truetype");font-weight: normal;font-style: normal;}\'.replace(/\\{name\\}/g,a).replace(/\\{url\\}/g,f.toString()))}),a.A=Dm(e,d),cn=1),Cm(g,function(c){cn=c?\n0:2;c&&a.A&&Ge(a.A);b(c)}))}var dn=[""];function en(a,b,c,d){P.call(this,fn(a));this.i=c;this.f=d;this.o={};this.Za=b;this.c=0}v(en,P);r("H.service.venues.Building",en);en.prototype.ta=function(){return this.Za};en.prototype.getId=en.prototype.ta;en.prototype.wa=function(){return this.Da};en.prototype.getVenue=en.prototype.wa;en.prototype.sa=function(){return this.i};en.prototype.getMinLevel=en.prototype.sa;en.prototype.Ya=function(){return this.f};en.prototype.getMaxLevel=en.prototype.Ya;en.prototype.Va=function(){return this.c};\nen.prototype.getCurrentLevel=en.prototype.Va;en.prototype.Kc=function(a){var b,c,d;if(!isNaN(a)&&(b=this.i,c=this.f,a!==this.c))for(this.c=a;b<=c;b++)(d=this.o[b])&&d.setVisibility(b===a);return this.c};en.prototype.ad=function(a){return this.o[a]};en.prototype.getFloor=en.prototype.ad;en.prototype.ba=function(a,b){this.i=Math.min(this.i,a);this.f=Math.max(this.f,b)};en.prototype.adjustMinMaxLevels=en.prototype.ba;function gn(a,b){P.call(this,fn(a));this.C={};this.f=b;a.V(this)}v(gn,P);r("H.service.venues.Venue",gn);gn.prototype.N=function(a){return this.C[a]};gn.prototype.getBuilding=gn.prototype.N;gn.prototype.c=function(){return this.C};gn.prototype.getBuildings=gn.prototype.c;gn.prototype.ta=function(){return this.f};gn.prototype.getId=gn.prototype.ta;function hn(a,b,c,d){d=d||jn;this.Ic={};d.provider=a;this.invalidate=sc;hn.u.constructor.call(this,b,d);delete this.invalidate;c&&(this.f=c);this.ua(Me.ADD)}v(hn,Gf);r("H.service.remote.Spatial",hn);var jn={};hn.prototype.ta=function(){return this.f||Gf.prototype.ta.call(this)};hn.prototype.getId=hn.prototype.ta;hn.prototype.Ib=Function();hn.prototype.retain=hn.prototype.Ib;hn.prototype.v=Function();hn.prototype.release=hn.prototype.v;function kn(a,b){this.a=a;b&&(this.b=b)}var ln=new kn([]);\nhn.prototype.ec=function(a){return(this.Ic[a.key]||ln).a};hn.prototype.getGeometriesForTile=hn.prototype.ec;hn.prototype.ba=function(a){return(this.Ic[a.key]||ln).b};hn.prototype.getLabels=hn.prototype.ba;function mn(a,b,c,d){a.Ic[b.key]=new kn(c,d)};function nn(a,b,c){this.ra=c&&c.type||"";hn.call(this,a,!0,b);this.g(c)}v(nn,hn);r("H.service.venues.Space",nn);nn.prototype.i=function(){return this.ra};nn.prototype.getType=nn.prototype.i;nn.prototype.c=function(){return"floor/polygon"===this.ra};nn.prototype.isFloorSpace=nn.prototype.c;nn.prototype.b=function(a){a&&(this.ai=new zf(a))};nn.prototype.initLabelStyle=nn.prototype.b;nn.prototype.ad=function(){var a=this.Da;return this.isFloorSpace()?a:a&&a.Da};nn.prototype.getFloor=nn.prototype.ad;\nnn.prototype.a=0;nn.prototype.Ib=function(){++this.a};nn.prototype.retain=nn.prototype.Ib;nn.prototype.v=function(){var a=--this.a,b;a||(b=this.ad(),this.isFloorSpace()?b.ib&&(b.a(b.ib),b.ib=null,on(b)):b&&(delete b.i[this.ta()],b.c.a(this),on(b)));return 1>a};nn.prototype.release=nn.prototype.v;function pn(){}pn.prototype.parse=function(){};r("H.service.remote.IParser.prototype.parse",pn.prototype.parse);function qn(a,b,c){P.call(this,fn(a));this.f=c;this.ib=new nn(a,b.id,b);this.V(this.ib);this.c=new P(fn(a));this.V(this.c);this.i={}}v(qn,P);r("H.service.venues.Floor",qn);qn.prototype.sa=function(){return this.f};qn.prototype.getLevel=qn.prototype.sa;qn.prototype.o=function(){return this.ib};qn.prototype.getFloorSpace=qn.prototype.o;qn.prototype.ba=function(){return this.c};qn.prototype.getSpaces=qn.prototype.ba;qn.prototype.N=function(){return this.Da};qn.prototype.getBuilding=qn.prototype.N;\nqn.prototype.getData=function(){return this.ib&&this.ib.getData()};qn.prototype.getData=qn.prototype.getData;qn.prototype.g=function(a){this.ib.g(a);return this};qn.prototype.setData=qn.prototype.g;qn.prototype.jg=function(a){return this.i[a]};qn.prototype.getSpace=qn.prototype.jg;function on(a){if(!a.c.b&&!a.ib){var b=a.N(),c=a.f;c===b.c&&(b.c=0);delete b.o[c];b.a(a);b.b||(a=b.Da,delete a.C[b.ta()],a.a(b),a.b||a.Pa().a(a))}};function rn(){}var sn;rn.prototype.a=Math.PI/180;function tn(a,b){return a&&a.category&&a.category[b||"id"]}function un(a){var b,c;return a.sort(function(a,e){b=a.object.type;c=e.object.type;return b>c?-1:b<c?1:0})}\nrn.prototype.parse=function(a,b,c,d){var e=d.floorLevel,f=d.onSpaceCreated;d=d.styler;var g=[],h,k,l,m,n,q,t,u,y,J={};sn=!1;c=c.replace(/\'\'( )?/g,\'$1\\\\"\');try{c=ym.JSON.parse(c)}catch(T){sn=!0}if(c.length)for(c=un(c),h=c.length;h--;){k=c[h];l=k.area;n=l.length;t=u=q=void 0;(u=0<n)||(sn=!0,u=void 0);if(u)for(q=Array(n/2);n;)t=l[--n],u=l[--n],q[n/2]=new M(u,t);l=q?{Ra:[q]}:A;k=k.object;u=y=x;if(1!==k.type)switch(n=k.type.replace("/polygon",""),n){case "floor":n=q=k.buildingId;(u=a.lc[n])||(u=new gn(a,\nn),u.ia(a));t=k.buildingMinLevel;y=k.buildingMaxLevel;(n=u.N(q))?n.adjustMinMaxLevels(t,y):(n=new en(a,q,t,y),q=u,u=n,q.C[u.ta()]=u,q.V(u),n.Kc(a.j));0>b.Ta.indexOf(n)&&b.Ta.push(n);(q=n.ad(e))?(n=q.ib,u=n.ec(b),u.length&&(l?l.Ra=u[0].Ra.concat(l.Ra):l=u[0])):(u=q=new qn(a,k,e),t=u.f,u.setVisibility(t===n.c),n.o[t]=u,n.V(u),n=q.ib,f&&f(n),t=tn(q.getData(),"profileKey"),y=d.Na(t,void 0),n.O(y.floor));J[k.id]=q;0>g.indexOf(n)&&g.push(n);l&&mn(n,b,[l]);break;case "hollow":u="hollow-area";case "space":if(m=\nk.id,q=J[/_d$/.test(k.outerAreaId)?k.outerAreaId:k.outerAreaId+"_d"])n=q.jg(m),t=tn(q.getData(),"profileKey"),u=u||tn(n?n.getData():k),n||(y=n=new nn(a,m,k),q.i[y.ta()]=y,q.c.V(y),y=d.Na(t,u),n.O(y.space),f&&f(n)),n.Ib(),(k=k.label)&&k.firstLinePos?(y=y||d.Na(t,u),q=n.ai,q=[{lines:Ra(k.text,"\\n"),angle:k.rotation*this.a,font:"FiraGO-Regular",size:k.font.size,lineHeight:k.font.lineHeight,color:q&&q.fillColor||y.spaceLabel.fillColor,x:k.firstLinePos[0],y:k.firstLinePos[1]}],"nokiapuretextac_rg-webfont"===\nk.font.face&&(q[0].size=Math.floor(k.font.size/1.26))):q=null,g.push(n),l&&mn(n,b,[l],q)}}else sn=!0;return sn?void 0:{spatials:g}};r("H.service.venues.Parser.prototype.parse",rn.prototype.parse);function vn(a,b){var c=b||{};if(!(a&&a instanceof wn))throw Error("InvalidArgument: service required");this.Ye=z(this.Ye,this);this.b=new Wm(a,new rn,{min:16,max:20,onSpaceCreated:c.onSpaceCreated});this.b.ia(this);this.Xe=z(this.Xe,this);this.b.addEventListener("update",this.Xe);this.lf=z(this.lf,this);this.b.addEventListener("reload",this.lf);this.kf=z(this.kf,this);this.b.addEventListener("error",this.kf);this.Ze=c.pixelRatio||c.pixelratio||1;this.tileSize=256;this.f=Tg(this.tileSize,this.Ze);\nN.call(this,{min:16,max:20});this.N(new Vg(c.tileCacheSize||256,z(this.Ye,this)))}v(vn,N);r("H.service.venues.TileProvider",vn);p=vn.prototype;p.Ze=1;p.Xe=function(){this.dispatchEvent("update")};p.kf=function(){this.dispatchEvent("error")};p.lf=function(){this.j(!0)};p.Ye=function(a,b){var c,d,e;c=b.a;for(e=c.length;e--;)d=c[e],delete d.Ic[b.key],d.v();b.data&&Fm.push(b.o(),this.tileSize);b.m()};p.Kc=function(a){this.b.Kc(a)};vn.prototype.setCurrentLevel=vn.prototype.Kc;vn.prototype.C=function(){return this.b.j};\nvn.prototype.getCurrentLevel=vn.prototype.C;vn.prototype.c=function(a,b,c,d){var e;this.g.get(this.getTileKey(a,b,c))?d(null,null):e=ym.setTimeout(function(){d(null,null)},500);return{cancel:function(){ym.clearTimeout(e)}}};vn.prototype.requestInternal=vn.prototype.c;vn.prototype.P=function(a,b,c){var d=Fm.pop(this.tileSize),e=this.g.get(this.getTileKey(a,b,c));e||(e=new Om(this.A(a,b,c),a,b,c,this.tileSize,this.Ze,c+this.f,this.b));e.ca(d)||Fm.push(d,this.tileSize);return e};\nvn.prototype.createTileInternal=vn.prototype.P;function wn(a){var b=sm.venues;a=rm(b,a||{});I.call(this);this.f=b.baseUrl;this.c=a.path;this.g=a.subDomain;this.m=b.shards}v(wn,I);r("H.service.venues.Service",wn);var xn={ERROR:-1,INIT:0,READY:1};wn.State=xn;\nwn.prototype.W=function(a,b,c,d,e){this.a=(this.f||e).clone();this.l=this.a.clone().xa("js").R("statics/venues").zf();this.g&&this.a.xa(this.g);this.ra&&this.a.xa(this.ra);this.c&&this.a.mc(this.c);a=sm.venueSignature;b=this.a.clone();b.xa(a.subDomain);b.R(a.path);b.R(a.version);this.v=b;this.o=this.a.clone();this.G===xn.INIT&&this.b();return this};wn.prototype.configure=wn.prototype.W;function Xm(a){return a.G===xn.READY}wn.prototype.aa=function(){return Xm(this)?this.a:void 0};\nwn.prototype.b=function(){var a=this;(new Gh("application/json",this.v.toString())).then(function(b){var c=b.SignatureTokens,d=(b=new Date(b.Expires))?b.getTime()-Aa()-36E5:0;a.a.$(c);b&&4E9>d&&ym.setTimeout(z(a.b,a),Math.max(d,0));yn(a,xn.READY)},function(){yn(a,xn.ERROR,"Error fetching signature")})};\nwn.prototype.j=function(a,b,c){var d=sm.venuesDiscovery;a=this.o.clone().xa(d.subDomain).R(d.path).R(d.version).$(rm(a,d.params));(new Gh("application/json",a.toString())).then(b,function(a){a.json().then(function(a){c(a.status.message)},function(){c(a.statusText)})})};wn.prototype.discover=wn.prototype.j;wn.prototype.i=function(a){return new oh(new vn(this,a))};wn.prototype.createTileLayer=wn.prototype.i;wn.prototype.G=xn.INIT;wn.prototype.getState=function(){return this.G};\nwn.prototype.getState=wn.prototype.getState;function yn(a,b,c){var d=new Bc("statechange",a);c&&(d.errorCode=c);a.G=b;a.dispatchEvent(d)}U.prototype.m=function(a){return this.W(new wn(a))};U.prototype.getVenueService=U.prototype.m;var zn={subDomain:"venue.maps",path:"",shards:Ra("1 2 3 4").map(function(a){return"static-"+a})};sm.venues=zn;sm.venueSignature={version:"v1",subDomain:"signature",path:"venues/signature"};sm.venuesDiscovery={version:"v1",subDomain:"discovery",path:"venues/discovery"};var An={};function fn(a){An.provider=a;return An};function Bn(){this.a={}}Bn.prototype.sb=function(a,b){var c=a+b,d,e,f;if(!(d=this.a[c])){f={size:{w:26,h:32},anchor:{x:13,y:30}};if("CLOSURE"!==a)switch(d=Cn,a){case "CONGESTION":d=d.replace("{{icon}}",Dn);break;case "ROADWORKS":d=d.replace("{{icon}}",En);break;case "ACCIDENT":d=d.replace("{{icon}}",Fn);break;default:d=d.replace("{{icon}}",Gn)}else d=Hn,f.anchor.y=16;e=In[b]||In.BLOCKING;d=d.replace("{{color}}",e);this.a[c]=d=new ri(d,f)}return d};\nvar In={BLOCKING:"#323232",VERYHIGH:"#d5232f",HIGH:"#ffa100"},Dn=\'<path d="m 18,15 0,0 c 0,-0.1 0,-0.2 0,-0.4 l 0,-0.2 c 0,-0.1 0,-0.2 0,-0.4 0,0 0,0 0,0 0.6,0 1.1,-0.4 1.1,-1 0,-0.5 -0.5,-1 -1,-1 -0.7,0 -1.1,0.5 -1.1,1 -0.1,0 -0.3,-0.1 -0.4,-0.1 l -0.6,0 -0.3,-0.5 C 15.2,11.6 14.3,11 13.3,11 L 18,11 17.2,9.6 C 17,9.3 16.7,9 16.3,9 L 12.8,9 C 12.4,9 12,9.3 11.8,9.6 L 11.1,11 9.8,11 C 9.7,11 9.6,11 9.5,11 9.2,11 9,10.9 9,10.6 L 9,10.4 C 9,10.2 9.2,9.9 9.5,9.9 l 1.2,0 0.6,-1.04 c 0.3,-0.5 0.9,-0.9 1.5,-0.9 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1.04 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 18.3,16 18,15.8 18,15.6 L 18,15 z M 8,18.1 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.6,0 -1.1,0.5 -1.1,1 0,0.6 0.5,1.1 1.1,1.1 m 7,0 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.5,0 -1,0.5 -1,1 0,0.6 0.5,1.1 1,1.1 M 14.2,13.6 C 14,13.3 13.7,13 13.3,13 L 9.8,13 C 9.4,13 9,13.3 8.8,13.6 L 8.1,15 15,15 14.2,13.6 z m -8.2,1 0,-0.2 c 0,-0.2 0.2,-0.5 0.5,-0.5 l 1.1,0 0.7,-1 C 8.6,12.4 9.2,12 9.8,12 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 15.3,20 15,19.8 15,19.6 L 15,19 8,19 8,19.6 C 8,19.8 7.8,20 7.5,20 l -1,0 C 6.2,20 6,19.8 6,19.6 l 0,-3.4 c 0,-0.4 0.2,-0.8 0.6,-1.1 l -0.1,0 C 6.2,15.1 6,14.9 6,14.6" fill="#ffffff" />\',\nEn=\'<path d="m 9.24,13.2 -3.7,6.8 1.3,0 2.8,-5.1 1.36,1.5 0,3.6 1.1,0 0,-4 -1.4,-1.6 -1.46,-1.2 z M 14.2,9.5 c 0.7,0 1.3,-0.5 1.3,-1.21 0,-0.7 -0.6,-1.2 -1.3,-1.2 -0.7,0 -1.2,0.5 -1.2,1.2 0,0.71 0.5,1.21 1.2,1.21 m -4.46,0.5 1.06,0 -0.96,2.1 -1,-0.8 0.9,-1.3 z m 2.56,4 -1,-0.7 1,-1.9 0,2.6 z m 6.9,1.7 c -0.4,-0.5 -1.5,-1.1 -2.3,0 -0.2,0.3 -0.6,0.7 -0.9,1.2 l -2.7,-2.1 0,-5 -0.8,-0.7 -3.26,0 -1.5,2.3 7.86,6 C 14.7,18.6 13.8,20 13.8,20 l 6,0 1.5,-1.6 c 0,0 -1.7,-2.2 -2.1,-2.7" fill="#ffffff" />\',Fn=\n\'<path d="m 10.2,15.9 c 0.4,-0.5 1,-0.5 1.4,0 0.5,0.4 0.5,1 0,1.4 -0.4,0.4 -1,0.4 -1.4,0 -0.45,-0.4 -0.45,-1 0,-1.4 m 4.9,-5 c 0.4,-0.4 1.1,-0.4 1.5,0 0.4,0.4 0.4,1.1 0,1.5 -0.4,0.4 -1.1,0.4 -1.5,0 -0.4,-0.4 -0.4,-1.1 0,-1.5 m 2.6,3.8 c 0.1,0.3 0,0.7 -0.3,1 l -1.9,1 c 0,0 0,0.8 0,1.1 0,0.3 0,0.2 -0.1,0.3 -0.1,0.1 -0.3,0.2 -0.5,0.2 l -2.6,-0.3 4.9,-4.9 0.5,1.6 z m -6.5,5 0.1,0.2 c 0.2,0.1 0.5,0.1 0.7,0 l 0.8,-0.9 1.8,0.1 c 1.1,0 1.4,0 1.7,-0.6 l 0.1,-1.3 1.8,-0.8 c 0.4,-0.4 0.6,-1.1 0.4,-1.7 l -0.3,-1.1 0.8,-0.8 c 0.2,-0.2 0.2,-0.5 0,-0.7 L 19,12 c -0.2,-0.2 -0.5,-0.2 -0.7,0 l -0.1,0.1 c 0.1,-0.5 -0.1,-0.9 -0.4,-1.3 L 15.5,8.44 C 15.3,8.26 15,8.26 14.8,8.44 l -0.7,0.74 c -0.2,0.19 -0.2,0.49 0,0.68 l 0.3,0.34 -4.92,5 -0.36,-0.4 C 8.93,14.6 8.63,14.6 8.45,14.8 L 7.7,15.6 c -0.18,0.1 -0.18,0.4 0,0.6 l 2.4,2.4 c 0.3,0.3 0.7,0.4 1.2,0.4 l -0.1,0.1 c -0.2,0.2 -0.2,0.5 0,0.7 m 5.6,-0.8 3.9,0 1.6,-2 -5.5,2 z m -8.08,0 -3.28,-1.8 0.9,1.8 2.38,0 z" fill="#ffffff" />\',\nGn=\'<path d="m 12.9,15.1 c 0.6,0 1.1,-0.5 1.1,-1 l 0.4,-5.9 c 0,-0.6 -0.6,-1.04 -1.5,-1.04 -0.8,0 -1.4,0.44 -1.4,1.04 l 0.3,5.9 c 0,0.5 0.6,1 1.1,1 m 0,1.3 c -0.7,0 -1.3,0.6 -1.3,1.3 0,0.8 0.6,1.4 1.3,1.4 0.8,0 1.4,-0.6 1.4,-1.4 0,-0.7 -0.6,-1.3 -1.4,-1.3" fill="#ffffff" />\',Cn=\'<svg width="26" height="32" xmlns="http://www.w3.org/2000/svg"><path d="m 16.8,29.4 c 0,-1.1 -1.8,-2 -4,-2 -2.2,0 -4.01,0.9 -4.01,2 0,1.1 1.81,2 4.01,2 2.2,0 4,-0.9 4,-2" style="fill:#878787"/><path d="m 24.1,17.8 c 1.6,-1.6 1.6,-3.8 0,-5.7 L 15.8,1.9 C 15,0.998 14,0.498 12.9,0.498 11.8,0.498 10.7,1.1 10,1.9 L 1.7,12.1 c -1.6,1.9 -1.6,4.1 0,5.7 L 12.9,29 24.1,17.8 z" stroke="#fff" stroke-width="1" fill="{{color}}" />{{icon}}</svg>\',\nHn=\'<svg width="26" height="32" xmlns="http://www.w3.org/2000/svg"><circle cx="13" cy="15" r="11" fill="{{color}}" stroke="#ffffff" stroke-width="1"/><rect x="6" y="13" width="14" height="5" fill="#ffffff" /></svg>\';function Jn(a,b,c){c=c?c:{};c.criticality||(c.criticality="major,critical");if(!(a instanceof um))throw Error("IllegalArgument: service");eh.call(this,{max:20,min:8,requestData:z(this.wa,this)});this.I=new Bn;this.P=a;this.b=c;this.j=z(this.j,this);this.U=setInterval(this.j,b||18E4)}v(Jn,eh);r("H.service.TrafficIncidentsProvider",Jn);Jn.prototype.f={minor:"HIGH","low impact":"HIGH",major:"VERYHIGH",critical:"BLOCKING"};\nJn.prototype.wa=function(a,b,c,d,e){var f=this,g=this.f,h=this.I;return this.P.b(a,b,c,function(a){var b=[];a=a.TRAFFIC_ITEMS;var c,e,q,t;if(a)for(a=a.TRAFFIC_ITEM,t=a.length;t--;){c=a[t];e=c.TRAFFIC_ITEM_TYPE_DESC;switch(e){case "ACCIDENT":case "CONGESTION":q=e;break;case "CONSTRUCTION":q="ROADWORKS";break;default:q="OTHER"}q=h.sb(q,g[c.CRITICALITY.DESCRIPTION]);e=c.LOCATION.GEOLOC.ORIGIN;e=new xi({lat:e.LATITUDE,lng:e.LONGITUDE},{provider:f,icon:q});e.g(c);b.push(e)}d(b)},e,this.b)};\nJn.prototype.J=function(){eh.prototype.J.call(this);clearInterval(this.U)};function Kn(a){var b;if(a)for(this.a={},b=a.length;b--;)this.a[a[b]]=!0;this.hh={}}var Ln;Kn.prototype.a={};Kn.prototype.parse=function(a,b,c){var d,e,f,g,h,k;Ln=!1;try{c=ym.JSON.parse(c)}catch(l){Ln=!0}if(c&&(d=c.metadata))for(e in k={spatials:[]},d){if(c=!this.a[e]&&(f=Mn[e]))(g=d[e])||(Ln=!0,g=void 0),c=g;if(c)for(c=g.length;c--;){var m;(m=g[c])||(Ln=!0,m=void 0);(h=m)&&f(b,a,this,e,h,k)}}else Ln=!0;return Ln?void 0:k};r("H.service.metaInfo.Parser.prototype.parse",Kn.prototype.parse);\nvar Mn={"street labels":function(a,b,c,d,e,f){var g;(g=e.vertices)||(Ln=!0,g=void 0);if(g){var h=g.length,k,l,m;(l=0<h)||(Ln=!0,l=void 0);if(l)for(k=Array(h/2);h;)m=g[--h],l=g[--h],k[h/2]=new M(l,m);k=k?{Ra:[k]}:A;h=+e["font size"]/a.Wb;g=c.hh[h];g||(Nn.lineWidth=h,g=c.hh[h]=c.hb.f(Nn));On(a,b,k,!1,g,e,d,f)}delete e.vertices},"city center labels":function(a,b,c,d,e,f){On(a,b,Pn(e,new Sf([])),!0,c.hb,e,d,f)},labels:function(a,b,c,d,e,f){var g;(g=e["bounding boxes"])||(Ln=!0,g=void 0);if(g){for(var h=\ng.length,k=new Sf([]),l;h--;){var m;(m=g[h])||(Ln=!0,m=void 0);(l=m)&&Pn(l,k)}On(a,b,k,!0,c.hb,e,d,f)}delete e["bounding boxes"]},buildings:function(a,b,c,d,e,f){var g=e.id,h=b.lc[g],k,l,m,n=[],q=[];(k=e)||(Ln=!0,k=void 0);if(k&&((l=k.vertices)||(Ln=!0,l=void 0),l)){var t;(t=k.polygons)||(Ln=!0,t=void 0);(m=t)&&n.push.apply(n,Qn(l,m));(k=k.outlines)||(Ln=!0,k=void 0);(m=k)&&q.push.apply(q,Qn(l,m))}m=n.length;n.push.apply(n,q);q=new Sf(n,Lb,m);(n=n.length)||(Ln=!0,n=void 0);n&&(h?(mn(h,a,[q]),f.spatials.push(h)):\n(h=On(a,b,q,!0,c.hb,e,d,f,g),b.V(h)))}};Mn["transit stops"]=Mn.POIs=Mn.labels;var Rn=["box 2","box 1","annotation box","icon box"];function Pn(a,b){for(var c=Rn.length,d,e;c--;)if(d=Rn[c],e=a[d]){var f=e[0],g=e[1],h=e[2];e=e[3];b.Ra.push([new M(f,g),new M(f+h,g),new M(f+h,g+e),new M(f,g+e)]);delete a[d]}return b}\nfunction Qn(a,b){var c=b.length,d,e,f,g,h;if(0<c)for(e=Array(c);c--;)if((d=b[c])||(Ln=!0,d=void 0),d&&(g=d.length,0<g))for(e[c]=f=Array(g);g--;)h=2*d[g],f[g]=new M(a[h],a[h+1]);return e||[]}var Sn={};function On(a,b,c,d,e,f,g,h,k){Sn.style=e;d=new hn(b,d,k,Sn);c&&mn(d,a,[c]);Tn(f);f.category=g;d.g(f);h.spatials.push(d);d.ia(b);return d}Kn.prototype.hb=new zf({strokeColor:"transparent",fillColor:"transparent",lineWidth:0});var Nn={};\nfunction Tn(a){var b,c=!1;switch(typeof a){case "object":if(a instanceof Array)for(b=a.length;b--;)Tn(a[b])?c=!0:delete a[b];else if(a)for(b in a)Tn(a[b])?c=!0:delete a[b];break;case "number":c=!0;break;default:c=!!a}return c};function Un(a,b,c){c=c||{};b=b||{};var d=c.tileType||"maptile",e=c.aj||"normal.day";N.call(this,{min:0,max:20});!0===b.pois&&(b.pois="!F");this.b=b;if(!(a&&a instanceof Vn))throw Error("InvalidArgument: service required");this.O=a;this.I=z(this.I,this);this.O.addEventListener("versionupdate",this.I);this.f=a.aa().clone().R(d+"/"+a.Cb()+"/"+e).$(this.ea).$(b);this.Ua=a.g||null;this.wa=c.pixelRatio||c.pixelratio||1;this.tileSize=c.tileSize||256;this.tileType=d;this.scheme=e;this.C=new Qm(new Kn(c.categoryFilter));\nthis.C.ia(this);this.U=z(this.U,this);this.C.addEventListener("update",this.U);N.call(this,{min:0,max:20});this.N(new Vg(c.tileCacheSize||256,z(this.Xa,this)))}v(Un,N);r("H.service.metaInfo.TileProvider",Un);Un.prototype.Xa=function(a,b){for(var c=b.a,d=c.length,e;d--;)e=c[d],delete e.Ic[b.key],e.v();b.data&&(Fm.push(b.o(),this.tileSize),b.m())};Un.prototype.U=function(){this.dispatchEvent("update")};\nUn.prototype.c=function(a,b,c,d,e){var f=this.f.clone(),g=this.Ua,h=this.tileSize,k=this.getTileKey(a,b,c),k=this.g.get(k),l,m,n;k&&!k.yc()?(d(Fm.pop(this.tileSize),null),l={cancel:function(){}}):(g&&f.xa(g[(c+b+a)%g.length]),f.R(c+"/"+a+"/"+b+"/"+h+"/png8"),m=ym.setTimeout(function(){n=(new Gh("text/plain",f.toString())).then(function(a){d(null,a)},e)},500));return l||{cancel:function(){n?n.cancel():ym.clearTimeout(m)}}};Un.prototype.requestInternal=Un.prototype.c;\nUn.prototype.P=function(a,b,c,d,e){var f=this.C,g;g=d||Fm.pop(this.tileSize);if(d)a=this.g.get(this.getTileKey(a,b,c)),a.ca(d);else if(d=a=new Yk(this.A(a,b,c),a,b,c,this.tileSize,this.wa,c+0,f),delete d.i,d.v=e,a.ca(g))for(e=a.a,g=e.length;g--;)e[g].Ib();else Fm.push(g,this.tileSize);return a};Un.prototype.createTileInternal=Un.prototype.P;Un.prototype.J=function(){this.C.J();this.O.removeEventListener("versionupdate",this.I);N.prototype.J.call(this)};\nUn.prototype.I=function(){var a=this.O;this.f=a.aa().clone().R(this.tileType+"/"+a.Cb()+"/"+this.scheme).$(this.ea).$(this.b);this.j(!1)};Un.prototype.ea={metadata:"metaonly",mgen:"2"};function Vn(a){a=rm(sm.maptile,a||{});I.call(this);this.f=a.baseUrl;this.c=a.path;this.i=a.subDomain;this.g=a.shards;this.ra=(this.v=!!a.ignoreTypes)?null:a.type;this.b=a.version;this.m=new vm}v(Vn,I);r("H.service.metaInfo.Service",Vn);function Wn(a,b){for(var c={},d=a[b+"s"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+"s"]=c}Vn.prototype.W=function(a,b,c,d,e){this.a=(this.f||e).clone();this.i&&this.a.xa(this.i);this.ra&&this.a.xa(this.ra);this.c&&this.a.mc(this.c);"newest"===this.b&&Xn(this);return this};\nVn.prototype.configure=Vn.prototype.W;Vn.prototype.aa=function(){return this.a};Vn.prototype.Cb=function(){return this.b};Vn.prototype.getVersion=Vn.prototype.Cb;Vn.prototype.Ia=function(){return this.m};Vn.prototype.getCopyrights=Vn.prototype.Ia;\nfunction Xn(a){var b=a.aa().clone().R("info").$({output:"json"});a.g&&b.xa(a.g[0]);om({url:b,xd:"callback_func",oc:function(b){b=JSON.parse(b.replace(/,\\s?\\]/g,"]")).response;var d;Wn(b,"map");Wn(b,"scheme");Wn(b,"tiletype");Wn(b,"format");Wn(b,"resolution");Wn(b,"language");if("newest"===a.b&&"traffic"!==a.ra)for(d in b.maps)b.maps[d].hash&&b.maps[d].newest&&(a.b=b.maps[d].hash,a.dispatchEvent("versionupdate"));a.l=b;a.dispatchEvent("infoupdate")},Zc:function(a){throw Error("["+a+"]: Could not fetch meta-info from map tile service @"+\nb.toString());},rf:!0})}Vn.prototype.s=function(){return this.l};Vn.prototype.getInfo=Vn.prototype.s;Vn.prototype.o=function(a,b,c,d,e,f){return new Un(this,d,{tileSize:a,pixelRatio:b,categoryFilter:c,tileType:e,scheme:f})};Vn.prototype.createTileProvider=Vn.prototype.o;Vn.prototype.j=function(a,b,c,d,e,f){a=this.o(a,b,c,d,e,f);return new oh(a)};Vn.prototype.createTileLayer=Vn.prototype.j;\nU.prototype.j=function(a){var b;b=rm(sm.metainfotile,a||{});var c;c=""+(b.ignoreTypes?"":b.type);c+=b.path;c+=b.subDomain;c+=b.baseUrl;c+=b.shards?b.shards.join(""):"";b=xm(c);c=this.a["meta"+b];c||(c=this.W(new Vn(a)),this.a["meta"+b]=c);return c};U.prototype.getMetaInfoService=U.prototype.j;sm.metainfotile={type:"base",version:"newest",subDomain:"maps",path:"maptile/2.1",shards:["1","2","3","4"]};U.prototype.F=function(a,b,c,d,e,f){var g=this.b(),h=this.b({type:"aerial"}),k=this.b({type:"traffic"}),l=this.b({type:"pano"}),m=this.j(),n=this.o(),q=this.m(),t={},u={crossOrigin:"anonymous"},y;"object"===typeof a&&(f=a,u.crossOrigin="crossOrigin"in f?f.crossOrigin:"anonymous",a=f.tileSize,b=f.ppi,c=f.lg,d=f.lg2,e=f.style,f=f.pois);a=a||256;y=320===b?2:1;320===b&&(t.ppi=b);c&&(t.lg=c);d&&(t.lg2=d);e&&(t.style=e);f&&(t.pois=f);b=new Jn(n,void 0,c?t:null);this.U=new uh(b);return{normal:{xbase:g.b("xbasetile",\n"normal.day",a,"png8",t,1,!1,u),xbasenight:g.b("xbasetile","normal.night",a,"png8",t,1,!1,u),base:g.b("basetile","normal.day",a,"png8",t,1,!1,u),basenight:g.b("basetile","normal.night",a,"png8",t,1,!1,u),map:g.b("maptile","normal.day",a,"png8",t,1,!1,u),mapnight:g.b("maptile","normal.night",a,"png8",t,1,!1,u),traffic:k.b("traffictile","normal.day",a,"png8",t,1,!1,u),trafficnight:k.b("traffictile","normal.night",a,"png8",t,1,!1,u),transit:g.b("maptile","normal.day.transit",a,"png8",t,1,!1,u),panorama:l.b("rctile",\n"normal.day",a,"png8",t,1,!1,u),panoramanight:l.b("rctile","normal.night",a,"png8",t,1,!1,u),labels:g.b("labeltile","normal.day",a,"png",t,1,!1,u),metaInfo:m.j(a,y,["buildings"],t)},satellite:{xbase:h.b("xbasetile","hybrid.day",a,"jpg",t,1,!0,u),base:h.b("basetile","hybrid.day",a,"jpg",t,1,!0,u),map:h.b("maptile","hybrid.day",a,"jpg",t,1,!0,u),traffic:k.b("traffictile","hybrid.day",a,"jpg",t,1,!0,u),panorama:l.b("rctile","hybrid.day",a,"jpg",t,1,!0,u),labels:h.b("labeltile","hybrid.day",a,"png",t,\n1,!0,u)},terrain:{xbase:h.b("xbasetile","terrain.day",a,"jpg",t,1,!1,u),base:h.b("basetile","terrain.day",a,"jpg",t,1,!1,u),map:h.b("maptile","terrain.day",a,"jpg",t,1,!1,u),traffic:k.b("traffictile","terrain.day",a,"jpg",t,1,!1,u),panorama:l.b("rctile","terrain.day",a,"jpg",t,1,!1,u),labels:h.b("labeltile","terrain.day",a,"png",t,1,!1,u)},incidents:this.U,venues:q.i({tileSize:a,pixelRatio:y})}};U.prototype.createDefaultLayers=U.prototype.F;function Yn(a){a=rm(sm.routing,a);a.callbackKey="jsoncallback";Yn.u.constructor.call(this,a)}v(Yn,pm);r("H.service.RoutingService",Yn);Yn.prototype.W=function(a,b,c,d,e){Yn.u.W.apply(this,[a,b,c,d,e]);this.f&&(this.a=this.f.clone(),this.a.$({app_id:a,app_code:b}));return this};Yn.prototype.configure=Yn.prototype.W;Yn.prototype.g=function(a,b,c){a=this.aa().clone().R("calculateroute.json").$(a);qm(this,a,b,c)};Yn.prototype.calculateRoute=Yn.prototype.g;\nYn.prototype.b=function(a,b,c){a=this.aa().clone().xa("isoline").R("calculateisoline.json").$(a);qm(this,a,b,c)};Yn.prototype.calculateIsoline=Yn.prototype.b;sm.routing={subDomain:"route",path:"routing/7.2"};U.prototype.O=function(a){return this.W(new Yn(a))};U.prototype.getRoutingService=U.prototype.O;function Zn(a){a=rm(sm.geocoding,a);a.callbackKey="jsoncallback";Zn.u.constructor.call(this,a);this.b=a.reverseSubDomain}v(Zn,pm);r("H.service.GeocodingService",Zn);Zn.prototype.W=function(a,b,c,d,e){Zn.u.W.apply(this,[a,b,c,d,e]);this.f&&(this.a=this.f.clone(),this.a.$({app_id:a,app_code:b}));return this};Zn.prototype.configure=Zn.prototype.W;Zn.prototype.g=function(a,b,c){a=this.aa().clone().R("geocode.json").$(a);return qm(this,a,b,c)};Zn.prototype.geocode=Zn.prototype.g;\nZn.prototype.l=function(a,b,c){a=this.aa().clone().R("reversegeocode.json").$(a);this.b&&a.xa(this.b);return qm(this,a,b,c)};Zn.prototype.reverseGeocode=Zn.prototype.l;Zn.prototype.i=function(a,b,c){a=this.aa().clone().R("search.json").$(a);return qm(this,a,b,c)};Zn.prototype.search=Zn.prototype.i;sm.geocoding={subDomain:"geocoder",path:"6.2",reverseSubDomain:"reverse"};U.prototype.I=function(a){return this.W(new Zn(a))};U.prototype.getGeocodingService=U.prototype.I;function $n(a){a=rm(sm.places,a);a.callbackKey="callback";$n.u.constructor.call(this,a)}v($n,pm);r("H.service.PlacesService",$n);$n.EntryPoint={SEARCH:"discover/search",SUGGEST:"suggest",EXPLORE:"discover/explore",AROUND:"discover/around",HERE:"discover/here",CATEGORIES:"categories/places"};$n.prototype.b=function(a,b,c,d){b=b||{};a=this.aa().clone().R(a).$(b);return qm(this,a,c,d)};$n.prototype.request=$n.prototype.b;$n.prototype.m=function(a,b,c){return this.b("discover/search",a,b,c)};\n$n.prototype.search=$n.prototype.m;$n.prototype.v=function(a,b,c){return this.b("suggest",a,b,c)};$n.prototype.suggest=$n.prototype.v;$n.prototype.l=function(a,b,c){return this.b("discover/explore",a,b,c)};$n.prototype.explore=$n.prototype.l;$n.prototype.g=function(a,b,c){return this.b("discover/around",a,b,c)};$n.prototype.around=$n.prototype.g;$n.prototype.j=function(a,b,c){return this.b("discover/here",a,b,c)};$n.prototype.here=$n.prototype.j;\n$n.prototype.i=function(a,b,c){return this.b("categories/places",a,b,c)};$n.prototype.categories=$n.prototype.i;$n.prototype.o=function(a,b,c,d){a=km(a);d&&a.$(d);return qm(this,a,b,c)};$n.prototype.follow=$n.prototype.o;sm.places={subDomain:"places",path:"places/v1"};U.prototype.P=function(){return this.W(new $n)};U.prototype.getPlacesService=U.prototype.P;function ao(a){a=rm(sm.enterpriseRouting,a);a.callbackKey="jsoncallback";if(!B(a.baseUrl,S))throw new C(ao,0,"Invalid base url");this.i=a;ao.u.constructor.call(this,a)}v(ao,pm);r("H.service.EnterpriseRoutingService",ao);ao.prototype.j=function(a,b,c){a=this.aa().clone().R("calculateroute.json").$(a);qm(this,a,b,c)};ao.prototype.calculateRoute=ao.prototype.j;ao.prototype.g=function(a,b,c){a=this.aa().clone().R("getroute.json").$(a);qm(this,a,b,c)};ao.prototype.getRoute=ao.prototype.g;\nao.prototype.b=function(a,b,c){a=this.aa().clone().R("getlinkinfo.json").$(a);qm(this,a,b,c)};ao.prototype.getLinkInfo=ao.prototype.b;ao.prototype.l=function(a,b,c){a=this.aa().clone().R("calculateisoline.json").$(a);qm(this,a,b,c)};ao.prototype.calculateIsoline=ao.prototype.l;ao.prototype.W=function(a,b,c,d,e){var f,g=sm.enterpriseRouting;this.i.baseUrl===g.baseUrl&&e&&(f=e.clone(),f.nd(g.host||g.baseUrl.vc),d&&f.xa(g.citSubDomain));return pm.prototype.W.apply(this,[a,b,c,d,f])};\nao.prototype.configure=ao.prototype.W;var bo={subDomain:"route",path:"routing/6.2",baseUrl:new S("http","nlp.nokia.com"),host:"nlp.nokia.com",citSubDomain:"st"};sm.enterpriseRouting=bo;U.prototype.K=function(a){return this.W(new ao(a))};U.prototype.getEnterpriseRoutingService=U.prototype.K;function co(){}r("H.service.extension.dataView.ITable",co);co.prototype.getMeta=co.prototype.cd;co.prototype.getRowCount=co.prototype.g;co.prototype.getRow=co.prototype.Qb;co.prototype.getColumnNames=co.prototype.c;co.prototype.getColumn=co.prototype.l;co.prototype.getCell=co.prototype.f;co.prototype.concat=co.prototype.concat;function eo(){}r("H.service.extension.dataView.IRow",eo);eo.prototype.getColumnNames=eo.prototype.c;eo.prototype.getCell=eo.prototype.a;eo.prototype.getTable=eo.prototype.uc;function fo(a,b){this.b=a;this.f=b}r("H.service.extension.dataView.ObjRow",fo);fo.prototype.c=function(){return this.b.c()};fo.prototype.getColumnNames=fo.prototype.c;fo.prototype.a=function(a){return this.b.f(this.f,a)};fo.prototype.getCell=fo.prototype.a;fo.prototype.uc=function(){return this.b};fo.prototype.getTable=fo.prototype.uc;function go(){}r("H.service.extension.dataView.IColumn",go);go.prototype.getCell=go.prototype.a;function ho(a,b){this.c=a;this.b=b}r("H.service.extension.dataView.ObjColumn",ho);ho.prototype.a=function(a){return this.c.f(a,this.b)};ho.prototype.getCell=ho.prototype.a;function io(a,b,c){var d;b=b||(a&&a.length?Object.keys(a[0]):A);this.cb=a;if(b)for(this.qc=b,this.we=a=Ka(),d=b.length;d--;)a[b[d]]=!0;c!==A&&(this.cf=c)}r("H.service.extension.dataView.ObjTable",io);p=io.prototype;p.cf=A;p.cb=A;p.qc=A;p.we=A;p.cd=function(){return this.cf};io.prototype.getMeta=io.prototype.cd;io.prototype.g=function(){return this.cb?this.cb.length:0};io.prototype.getRowCount=io.prototype.g;io.prototype.Qb=function(a){var b=this.cb;return b&&b[a]?new fo(this,a):A};\nio.prototype.getRow=io.prototype.Qb;io.prototype.c=function(){return this.qc||De};io.prototype.getColumnNames=io.prototype.c;io.prototype.l=function(a){return this.we[a]?new ho(this,a):A};io.prototype.getColumn=io.prototype.l;io.prototype.f=function(a,b){var c=this.cb;return(c=c&&this.we[b]&&c[a])&&c[b]};io.prototype.getCell=io.prototype.f;\nio.prototype.concat=function(){var a=arguments.length,b,c=this.qc,d=""+this.qc,e=(this.cb||[]).slice(),f;for(b=0;b<a;b++){f=arguments[b];if(!(f instanceof io))throw new C(this.concat,b);if(f.cb){if(c&&""+f.qc!==d)throw new C(this.concat,b,"Incompatible columns!");e=e.concat(f.cb)}}return new io(e,this.qc,this.cf)};io.prototype.concat=io.prototype.concat;function jo(a,b){a.cb?a.cb.push(b):a.cb=[b];return a.cb.length-1};function ko(a,b,c,d){if(!a||!ra(we(a.layerId,a.layer))||!ab(a.level)||Ta(a.rowFilter)&&!sa(a.rowFilter)||Ta(a.rowFilterContext)&&!Pa(a.rowFilterContext))throw new C(b,c,Ta(d)?d:a);};function lo(a,b,c){var d;B(a,mo,lo,0,"has invalid type");B(b,G,lo,1,"has invalid type");if(!Za(c))throw new C(lo,2,"has invalid type");for(d=0;d<c.length;d++)ko(c[d],lo,2,"has invalid type");lo.u.constructor.call(this);this.a=b;this.b=c;(new Lh).md(no,"H.service.extension.worker.processor");a=a.aa().clone().R(oo+"."+po).$({meta:"1"});new Nh(no,{message:[qo,0,{serverUrl:a.toString()}]})}v(lo,I);r("H.service.extension.platformData.SearchRequest",lo);\nlo.prototype.send=function(){var a=no,b=qo,c=[],d,e,f,g=this;for(f=0;f<this.b.length;f++)d=this.b[f],c.push({layerId:we(d.layerId,d.layer),level:d.level,rowFilter:Ta(d.rowFilter)?d.rowFilter+"":A,rowFilterContext:d.rowFilterContext,columns:d.columns});e=[this.a.ka,this.a.ga,this.a.ja,this.a.ha,c];this.c=w.setTimeout(function(){(new Nh(a,{message:[b,2,e]})).then(z(ro,g),z(so,g))},1)};lo.prototype.send=lo.prototype.send;lo.prototype.cancel=function(){w.clearTimeout(this.c)};lo.prototype.cancel=lo.prototype.cancel;\nfunction ro(a){var b,c;for(c=0;c<a.length;c++){b=a[c].Rows;for(var d=b.length,e=void 0;d--;)e=b[d],e.geometry&&(e.geometry=[e.geometry.path]);b=new io(b,null,a[c].Meta);this.dispatchEvent(new Cc("data",b))}this.dispatchEvent(new Bc("end"))}function so(a){this.dispatchEvent(new Dc("error",a))}var no="pde",qo="pdeSearchRequestProvider";function to(a,b,c){var d=uo,e=a===d.POLYGON,f=a===d.POLYLINE;this.b=b;this.c=c||sc;(this.a=f||e)?this.l=e:this.g=a===d.MARKER;this.f=this.a?"$HProjGeometry":"geometry"}\nto.prototype.parse=function(a,b,c){var d,e,f,g,h,k={},l=[],m,n,q,t;m=0;for(n=c.length;m<n;m++)if(d=c[m],q=d.Rows,d=q.length)for(e=Object.keys(q[0]).filter(function(a){return"geometry"!==a&&"$HProjGeometry"!==a}),e=new io(q,e),t=0;t<d;t++)if(f=q[t],h=f[this.f]){if(delete f[this.f],f=e.Qb(t))try{this.a?g=vo(this,a,b,f,h):g=wo(this,a,f,h.path),g.ia(a),l.push(g)}catch(u){this.c(u.message)}}else this.c("Layer must contain geometries");k[this.a?"spatials":this.g?"markers":"domMarkers"]=l;return k};\nfunction vo(a,b,c,d,e){var f=[],g=e.paths,h=g.length,k=0,l=a.b&&a.b(d);for(a=new hn(b,a.l,A,{style:l||a.i,data:d});k!==h;)f.push(xo(g[k++]));mn(a,c,[new Sf(f,e.interiorsIndex,e.outlinesIndex)]);return a}function wo(a,b,c,d){d=new gc(d[0],d[1]);var e=a.b&&a.b(c);a.g?(a={icon:e,data:c,provider:b},a=new xi(d,a)):(a={icon:e,data:c,provider:b},a=new fh(d,a));return a}function xo(a){for(var b=0,c=a.length,d=[];b<c;)d.push(new M(a[b++],a[b++]));return d};function yo(a){a=a||{};var b=a.tileCacheSize||1024,c=a.resultType,d=a.styleCallback,e=uo;Ta(a.min)||(a.min=12);yo.u.constructor.call(this,a);if(-1===zo.indexOf(c))throw new C(yo,2,"invalid resultType");this.b=c;if(d&&!sa(d))throw new C(yo,2,"invalid style callback");this.ea=d;this.U=a.pixelRatio||1;this.f=z(this.f,this);this.N(new Vg(b,z(this.fi,this)));this.createTileInternal=c===e.POLYLINE||c===e.POLYGON?z(this.Nh,this):z(this.Mh,this)}v(yo,N);r("H.service.extension.TileProvider",yo);\nyo.prototype.I=!1;var Ao=ri.prototype.Pc.READY;yo.prototype.o=function(a,b,c,d){return this.I?yo.u.o.call(this,a,b,c,d):A};yo.prototype.requestTile=yo.prototype.o;yo.prototype.f=function(a){a=ra(a)?a:a+"";this.dispatchEvent(new Dc("error",a,this))};yo.prototype.l=function(){return this.b===uo.MARKER};yo.prototype.providesMarkers=yo.prototype.l;yo.prototype.i=function(){return this.b===uo.DOM_MARKER};yo.prototype.providesDomMarkers=yo.prototype.i;\nyo.prototype.s=function(){return this.b===uo.POLYLINE||this.b===uo.POLYGON};yo.prototype.providesSpatials=yo.prototype.s;function Bo(a){a.C||(a.O||(a.O=a.P(a.b,a.ea,a.f)),a.C=new Qm(a.O),a.C.ia(a),a.C.addEventListener(a.F.la,z(a.ei,a)),a.C.P=!0);return a.C}p=yo.prototype;\np.Mh=function(a,b,c,d){var e=this.getTileKey(a,b,c),e=this.g.get(e),f=this.b==uo.DOM_MARKER,g=[],h=Bo(this);e?e.valid=!0:(a=e=new $g(a,b,c,x),delete a.i,a.v=d);d=f?Um(h,e,"domMarkers"):Um(h,e,"markers");for(b=d.length;b--;)a=d[b],a.If=e,(f||a.sb().getState()===Ao)&&g.push(a);e.data=g;return e};p.ei=function(a){if(a=a.target.If)a.valid=!1};\np.Nh=function(a,b,c,d){var e=Bo(this),f,g=this.getTileKey(a,b,c),h=this.g.get(g);f=Fm.pop(this.tileSize);h||(a=h=new Yk(g,a,b,c,this.tileSize,this.U,c,e),delete a.i,a.v=d);h.ca(f)||Fm.push(f,this.tileSize);return h};p.fi=function(a,b){var c,d;c=uo;if(this.b===c.POLYLINE||this.b===c.POLYGON){c=b.a;for(d=c.length;d--;)delete c[d].Ic[b.key];b.data&&(Fm.push(b.o(),this.tileSize),b.m())}else for(c=b.data,d=c.length;d--;)delete c[d].If};p.D=function(){yo.u.D.call(this);Bo(this).J()};\nvar uo={MARKER:0,DOM_MARKER:1,POLYLINE:2,POLYGON:3};yo.ResultType=uo;var zo=[uo.MARKER,uo.DOM_MARKER,uo.POLYLINE,uo.POLYGON];function Do(a,b,c){var d=this,e=b&&b.rowFilter,f=c.resultType,g=uo;Do.u.constructor.call(this,c);B(a,mo,Do,0);ko(b,Do,1,"invalid layer config");e?(c=Qa(b),c.rowFilter=e.toString()):c=Qa(b);delete c.layer;c.layerId=we(b.layerId,b.layer);(new Lh).md("pde","H.service.extension.worker.processor");a=a.aa().clone().R(oo+"."+po).$({meta:1});(new Nh("pde",{message:[this.uid,0,{tileSize:this.tileSize,projected:!0,onlyOutline:f===g.POLYLINE,serverUrl:a.toString(),layerConfigs:[c]}]})).then(function(){d.I=\n!0;Rg(d)},this.f)}v(Do,yo);r("H.service.extension.platformData.TileProvider",Do);Do.prototype.P=function(a,b,c){a=new to(a,b,c);a.i=Eo;return a};var Eo=new zf({strokeColor:"transparent",fillColor:"transparent",lineWidth:0,lineJoin:"round",lineCap:"round"});\nDo.prototype.c=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h,g=this.g.get(g),k={cancel:sc},l=!0,m,n=uo;g&&(this.b===n.POLYLINE||this.b===n.POLYGON?g.yc()||(d(Fm.pop(this.tileSize),null),l=!1):(d(x),l=!1));l&&(m=ym.setTimeout(function(){h=new Nh("pde",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500),k.cancel=function(){h?h.cancel():ym.clearTimeout(m)});return k};Do.prototype.requestInternal=Do.prototype.c;Do.prototype.D=function(){Do.u.D.call(this);new Nh("pde",{message:[this.uid,3]})};\nDo.ResultType=uo;function Fo(a,b,c,d,e,f){Go(Fo,1,b,c);Go(Fo,2,d,e);(this.f=a.length)?(this.m=a,this.o=b,this.i=c,this.b=0,this.c=z(this.c,this),this.j=d,this.l=e,this.a=Ka(),Ca(this.a,Ho,f||{}),this.g={},w.setTimeout(this.c,0)):b(De,!0)}var Ho={duration:100,Yh:"geometry",Xh:"WKT",Ai:"searchAttributes",cg:A};\nFo.prototype.c=function(){var a,b,c,d=[];a=!1;for(var e=tj(),f;this.b<this.f;){b=this.m[this.b];a=b.attributes;f=b.layerId||this.a.cg;b.distance&&(a[this.a.Ai]={nearest:new gc(b.nearestLat,b.nearestLon),distance:b.distance});if(b=b[this.a.Yh]){try{c=ug(new Pg(b))}catch(g){this.i(new w.Error(g.message));a=!0;break}a[this.a.Xh]=c}(b=this.g[f])||(b=this.g[f]=this.j({layerId:f,columnNames:Object.keys(a)}));a=this.l(b,a);d.push(a);this.b++;if((a=this.b===this.f)||tj()-e>=this.a.duration){this.o(d,a);break}}a?\nthis.g=x:this.fe=w.setTimeout(this.c,0)};Fo.prototype.cancel=function(){w.clearTimeout(this.fe);this.b<this.f&&this.i(new w.Error("parsing canceled"))};r("H.service.extension.util.AsyncParser.prototype.cancel",Fo.prototype.cancel);function Io(a){this.a=a}Io.prototype.cancel=function(){for(var a=this.a,b=a.length;b--;)a[b].cancel();a.length=0};function Go(a,b,c,d){if(!sa(c))throw new C(a,b,"has invalid type");if(!sa(d))throw new C(a,b+1,"has invalid type");};function mo(a){a=rm(sm.pde,a||{});mo.u.constructor.call(this,a)}v(mo,pm);r("H.service.extension.platformData.Service",mo);\nmo.prototype.b=function(a,b,c,d,e){var f="text/plain";if(!a)throw new C(this.b,0,a);if(!b)throw new C(this.b,1,b);if(!d)throw new C(this.b,3,d);if(!e)throw new C(this.b,4,e);a=this.aa().clone().R(a+"."+b).$(c);b===Jo.JSON&&(f="application/json");b=new Gh(f,a.toString());b.then(d,function(a){"error"===a.type?e(a.statusText||"Unable to load data"):a.json().then(function(a){e(a.error_description||a.message)},function(){e(a.statusText)})});return b};mo.prototype.request=mo.prototype.b;\nsm.pde={subDomain:"pde",path:"1"};var oo="tiles";mo.EntryPoint={DOC_ATTRIBUTES:"doc/attributes",DOC_LAYER:"doc/layer",DOC_LAYERS:"doc/layers",DOC_MAPS:"doc/maps",DOC_INDEXES:"doc/indexes",SEARCH_BBOX:"search/bbox",SEARCH_CORRIDOR:"search/corridor",SEARCH_PROXIMITY:"search/proximity",SEARCH_QUADKEY:"search/quadkey",SERVICE_CONFIGURATION:"serviceconfiguration",STATIC:"static",TILE:"tile",TILES:oo,FILE:"file",INDEX:"index"};var po="json",Jo={TXT:"txt",JSON:po,HTML:"html",BIN:"bin"};\nmo.EntryPointType=Jo;mo.prototype.j=function(a,b){var c=b&&b.resultType,d=new Do(this,a,b),e,f=uo;c==f.MARKER||c===f.DOM_MARKER?e=new uh(d):e=new oh(d);return e};mo.prototype.createTileLayer=mo.prototype.j;function Ko(a,b,c,d,e){var f=[],g,h=c.layer_id||c.layer_ids;a=a.b(b,po,c,function(a){g=new Fo(a.geometries,d,e,function(a){return new io([],a.columnNames,a)},function(a,b){return a.Qb(jo(a,b))},{cg:h});f.push(g)},function(a){e(new w.Error(a))});f.push(a);return new Io(f)}\nfunction Lo(a,b,c){if(!Za(a))throw new C(c,0,"has invalid type");if(!Za(b))throw new C(c,1,"has invalid type");if(a.length!==b.length||!a.length)throw new C(c,1,"specify one key attribute for each given layer id in the same order");}\nmo.prototype.l=function(a,b,c,d,e,f){function g(a,b){b&&h--;d(a,!h)}var h,k=[];Lo(a,b,this.l);Go(this.l,3,d,e);B(c,G,this.l,2);c={bbox:c.ka+","+c.ga+";"+c.ja+","+c.ha};f&&Ca(c,f);a=c.layer_id?[c.layer_id]:a;f=0;for(h=a.length;f<h;f++)c.layer_id=a[f],c.key_attribute=b[f],k.push(Ko(this,"search/bbox",c,g,e));return new Io(k)};mo.prototype.searchByBoundingBox=mo.prototype.l;\nmo.prototype.i=function(a,b,c,d,e,f,g){Lo(a,b,this.i);B(c,gc,this.i,1,"has invalid type");if(!ab(d))throw new C(this.i,2,"has invalid type");Go(this.i,4,e,f);a={layer_ids:a.join(","),key_attributes:b.join(","),proximity:c.lat+","+c.lng+","+d};g&&Ca(a,g);return Ko(this,"search/proximity",a,e,f)};mo.prototype.searchByProximity=mo.prototype.i;\nmo.prototype.g=function(a,b,c,d,e,f,g){var h="";Lo(a,b,this.g);if(!ra(c)&&!B(c,F))throw new C(this.g,1,"has invalid type");if(!ab(d))throw new C(this.g,2,"has invalid type");Go(this.g,4,e,f);a={layer_ids:a.join(","),key_attributes:b.join(","),radius:d};if(ra(c))a.route_id=c;else{d=c.na;c=0;for(b=d.length;c<b;c+=3)h+=d[c]+","+d[c+1],c<b-3&&(h+=";");a.corridor=h}g&&Ca(a,g);return Ko(this,"search/corridor",a,e,f)};mo.prototype.searchByCorridor=mo.prototype.g;\nU.prototype.T=function(a){var b;b=rm(sm.pde,a||{});var c;c=""+(b.path||"");c+=b.subDomain||"";c+=b.baseUrl?b.baseUrl.toString():"";b=xm(c);c=this.a["pde"+b];c||(c=this.W(new mo(a)),this.a["pde"+b]=c);return c};U.prototype.getPlatformDataService=U.prototype.T;function Mo(a){a=rm(sm.gfe,a);Mo.u.constructor.call(this,a)}v(Mo,pm);r("H.service.extension.geofencing.Service",Mo);sm.gfe={subDomain:"gfe",path:"2"};U.prototype.pb=function(a){return this.W(new Mo(a))};U.prototype.getGeofencingService=U.prototype.pb;Mo.prototype.W=function(a,b,c,d,e){Mo.u.W.apply(this,[a,b,c,d,e]);this.f&&(this.a=this.f.clone());return this};Mo.prototype.configure=Mo.prototype.W;\nMo.prototype.b=function(a,b,c,d){var e;if(!a)throw new C(this.b,0,a);if(!sa(c))throw new TypeError("onResult must be a function");if(!sa(d))throw new TypeError("onError must be a function");e=function(a){d(new w.Error(a))};a=this.aa().clone().R(a+".json").$(b);a=new Gh("application/json",a.toString());a.then(c,function(a){"error"===a.type?e(a.statusText||"Unable to load data"):a.json().then(function(a){e(a.error_description||a.issues[0].message)},e)});return a};Mo.prototype.request=Mo.prototype.b;\nMo.EntryPoint={SEARCH_PROXIMITY:"search/proximity"};r("H.service.extension.customLocation.Permission",{READ:"read",WRITE:"write",EXPORT:"export"});r("H.service.extension.customLocation.Storage",{READONLY:"readonly",UPDATABLE:"updatable"});function No(){if(Oo)throw new kc(No);}r("H.service.extension.customLocation.Table",No);var Oo=!0;function Po(a,b){var c,d,e,f;Oo=!1;c=new No;Oo=!0;c.j=Oa(w.JSON.parse(w.JSON.stringify(a)));d=a.columnNames;e=Ka();for(f=d.length;f--;)e[d[f]]=f;c.o=e;c.b=d.length;if(e=b){if(e.length%d.length)throw new C(Po,1,"Invalid number of cells");}else e=[];c.a=e;return c}No.prototype.cd=function(){return this.j};No.prototype.getMeta=No.prototype.cd;No.prototype.g=function(){return this.a.length/this.b};\nNo.prototype.getRowCount=No.prototype.g;No.prototype.Qb=function(a){return a<this.a.length/this.b?new Qo(this,a):A};No.prototype.getRow=No.prototype.Qb;No.prototype.v=function(){var a=this.a.length/this.b,b,c=new w.Array(a);for(b=0;b<a;b++)c[b]=new Qo(this,b);return c};No.prototype.getRows=No.prototype.v;No.prototype.qe=function(a){var b=this.b,c=this.a,d=c.length/this.b;if(!a||a.length%b)throw new C(this.qe,0,"Invalid number of cells");this.a=c.concat(a);return d};No.prototype.addCells=No.prototype.qe;\nNo.prototype.m=function(){for(var a=this.b,b=this.a,c=this.a.length/this.b;a--;)b.push(x);return this.Qb(c)};No.prototype.addRow=No.prototype.m;No.prototype.c=function(){return this.j.columnNames};No.prototype.getColumnNames=No.prototype.c;No.prototype.l=function(a){return this.o[a]===A?A:new Ro(this,a)};No.prototype.getColumn=No.prototype.l;No.prototype.f=function(a,b){return this.a[a*this.b+this.o[b]]};No.prototype.getCell=No.prototype.f;\nNo.prototype.i=function(a,b,c){b=this.o[b];if(a>=this.a.length/this.b)throw new C(this.i,0,"Row index out of bounds");if(b===A)throw new C(this.i,0,"Column unknown");this.a[a*this.b+b]=c};No.prototype.setCell=No.prototype.i;\nNo.prototype.concat=function(){var a=arguments.length,b,c=""+this.c(),d=this.a?this.a.slice():[],e;for(b=0;b<a;b++){e=arguments[b];if(!(e instanceof No))throw new C(this.concat,b);if(""+e.c()!==c)throw new C(this.concat,b,"Incompatible columns!");e.a&&(d=d.concat(e.a))}return Po(this.j,d)};No.prototype.concat=No.prototype.concat;var So=/(\\n|\\t|\\r|")/;\nNo.prototype.Df=function(a,b){var c,d=this.b,e=this.c(),f=[],g,h=[],k=this.a,l=-1,m;for(c=0;c<d;c++)if(!a||a.test(e[c]))"WKT"===e[c]&&(l=f.length),f.push(c);if(!(g=f.length))throw new C(this.Df,1,"No columns filtered");To(this,h,e,0,d,f,g,l);if(b)for(m=b.length,c=0;c<m;c++)h.push("\\n"),e=b[c],To(this,h,k,e,d,f,g,l);else for(m=this.g(),e=0;e<m;e++)h.push("\\n"),To(this,h,k,e,d,f,g,l);return h.join("")};\nfunction To(a,b,c,d,e,f,g,h){var k,l;for(k=0;k<g;k++)if(k&&b.push("\\t"),l=c[d*e+f[k]],k!==h){if(l!==x){l=String(l);if(So.test(l))throw new C(a.Df,0,\'Invalid character (\\\\n, \\\\r, \\\\t, or ") in row \'+d+" column "+a.j.columnNames[f[k]]);b.push(l)}}else b.push(l)}function Ro(a,b){this.c=a;this.b=b}No.Column=Ro;Ro.prototype.a=function(a){return this.c.f(a,this.b)};Ro.prototype.getCell=Ro.prototype.a;Ro.prototype.f=function(a,b){this.c.i(a,this.b,b)};Ro.prototype.setCell=Ro.prototype.f;\nfunction Qo(a,b){this.b=a;this.Ve=b}No.Row=Qo;Qo.prototype.c=function(){return this.b.c()};Qo.prototype.getColumnNames=Qo.prototype.c;Qo.prototype.a=function(a){return this.b.f(this.Ve,a)};Qo.prototype.getCell=Qo.prototype.a;Qo.prototype.f=function(a,b){this.b.i(this.Ve,a,b)};Qo.prototype.setCell=Qo.prototype.f;Qo.prototype.uc=function(){return this.b};Qo.prototype.getTable=Qo.prototype.uc;function Uo(a){var b=Vo;if(!a||!ra(a.layerId)||Ta(a.rowFilter)&&!sa(a.rowFilter)||Ta(a.rowFilterContext)&&!Pa(a.rowFilterContext))throw new C(b,1,Ta("invalid layer config")?"invalid layer config":a);}function Wo(a){return ra(a)&&/^[A-Z][A-Z0-9_]*$/.test(a)}function Xo(a){for(var b=a&&a.length,c=2<=b&&"WKT"===a[--b]&&"GEOMETRY_ID"===a[--b];c&&b--;)c=Wo(a[b]);return c}\nfunction Yo(a,b){var c="",d,e,f,g,h,k=[];if(!b){g={};k=[];if(a.geometries)for(e=0;e<a.geometries.length;e++)f=a.geometries[e],g[f.layerId]||(g[f.layerId]=[]),g[f.layerId].push(f);for(d in g)k.push({layerId:d,geometries:g[d]});for(d=0;d<k.length;d++)c+=Yo(k[d],k[d].layerId)}else if(a.geometries&&a.geometries.length)for(h=Object.keys(a.geometries[0].attributes),c=c+("Meta:\\t"+b+"\\n")+h.join("\\t"),c+="\\tWKT\\n",d=0;d<a.geometries.length;d++){g=a.geometries[d].attributes;f=a.geometries[d].geometry;for(e=\n0;e<h.length;e++)k.push(g[h[e]]);c+=k.join("\\t");c+="\\t"+f+"\\n";k=[]}return c};function Zo(a){if(a===A)a="\\t";else if(!/^[^"\\r\\n]$/.test(a))throw new C(Zo,0);this.b=String(a).charCodeAt(0);this.We=z(this.We,this);this.G=$o}var $o=0;p=Zo.prototype;p.getState=function(){return this.G};function ap(a,b,c){var d=a.G;if(d!==b)throw 1===d&&(a.G=$o),new kc(c,"Requires state: "+["READY","PARSE","PAUSE"][b]+" but found "+["READY","PARSE","PAUSE"][d]);}p.We=function(a){this.G=$o;throw new C(Zo.prototype.parse,0,"Malformed DSV at row "+this.a.o+" column "+this.a.c+": "+a);};\nfunction bp(a,b){var c=[];a.parse(b,function(a,b,f){1>a&&(c[b]=f);return 0<a});a.G=$o;return c}p.parse=function(a,b,c){ap(this,$o,Zo.prototype.parse);a=a.trim();this.a=new cp(a,this.b,this.We);this.c=b;this.Fg=c||Ce;this.G=2;this.wf()};p.Fg=Ce;\np.wf=function(){var a=this.a,b,c,d=[],e,f,g;ap(this,2,Zo.prototype.wf);this.G=1;do{if(!a.B){this.G=$o;break}if(c>a.c){if(void 0!==f&&f!==c){this.a.b("The number of columns must be the same for all rows");return}f=c}b=a.o;c=a.c;e=a.g;g=this.Fg(b,c,a);if(a.g>e)for(;-1!==a.next(););else{for(;-1!==(e=a.next());)d.push(e);g=String.fromCharCode.apply(x,d);d.length=0}dp(a);this.c(b,c,g)&&(this.G=2)}while(1===this.G);2!=this.G&&void 0!==f&&0<c&&f!==c&&this.a.b("The number of columns must be the same for all rows")};\nfunction cp(a,b,c){this.f=new Pg(a);this.v=b;this.B=!0;this.g=this.o=this.c=0;dp(this);this.b=c;this.i=[];this.j=!1}cp.prototype.g=0;var ep={me:10,Pf:13,oe:34,Mc:-1};function dp(a){var b=a.f.a();a.s=!1;(a.A=34===b)&&a.f.next()}function fp(a,b){var c=a.f;a.s=!0;switch(b){case a.v:a.c++;break;case ep.Pf:c.next(),c.a()!==ep.me&&a.b("CR without LF");case ep.me:a.c=0;a.o++;break;case ep.Mc:a.B=!1;break;default:a.b("End of field expected")}c.next();return ep.Mc}\ncp.prototype.a=function(){var a,b;if(this.s)b=ep.Mc;else if(a=this.f,b=a.a(),this.A)switch(b){case ep.oe:a.next();b=a.a();b!==ep.oe&&(b=fp(this,b));break;case ep.Mc:this.b("Closing quotation mark expected")}else switch(b){case ep.oe:this.b("Unexpected quotation mark");case this.v:case ep.Pf:case ep.me:case ep.Mc:b=fp(this,b)}return b};cp.prototype.m=function(){this.j=!0;this.i=[]};cp.prototype.l=function(){var a=this.i.slice();this.j=!1;this.i=[];return a};\ncp.prototype.next=function(){var a=this.a();-1!==a&&this.f.next();this.j&&this.i.push(a);this.g++;return a};function gp(a,b,c,d){d=d||{};if(!b)throw new C(gp,1,"has to be a function");if(!c)throw new C(gp,2,"has to be a function");this.c=b;this.g=c;this.a=[];this.i=d.duration||hp;this.b=z(this.b,this);this.f={};var e;a=a.split("Meta:\\t").slice(1);for(b=0;b<a.length;b++)d=a[b].split("\\n"),c=d[0].split("\\t")[0],d=d.slice(1).join("\\n"),this.sc[c]=new Zo,this.Ke[c]=bp(this.sc[c],d),e={layerId:c,columnNames:this.Ke[c]},this.Ne.push(c),this.f[c]=Po(e),this.Kb[c]=tj(),ip(this,d,c),this.b(c)}var hp=100;p=gp.prototype;\np.Ke={};p.Ne=[];p.sc={};p.Kb={};p.Ue={};function ip(a,b,c){var d=[],e=a.Ke[c].length-1,f=a.f[c];try{a.sc[c].parse(b,function(b,g,l){var m=!1;0<b&&(d[g]=l,g===e&&(a.a.push(f.Qb(f.qe(d))),tj()-a.Kb[c]>a.i&&(m=!0)));return m},function(a,b,c){if(0<a&&b===e)return ug(c)})}catch(g){a.g(g)}}p.cancel=function(){for(var a in this.Ue)w.clearTimeout(this.Ue[a])};r("H.service.extension.customLocation.AsyncParser.prototype.cancel",gp.prototype.cancel);\ngp.prototype.b=function(a){var b=this,c;this.Ue[a]=w.setTimeout(function(){if(2===b.sc[a].getState())b.Kb[a]=tj(),b.c(b.a,!1),b.a=[],b.sc[a].wf(),b.b(a);else{c=!0;for(var d=0;d<b.Ne.length;d++)if(b.sc[b.Ne[d]].getState()!==$o){c=!1;break}c&&(0<b.a.length&&b.c(b.a,!0),b.a=[])}},0)};function V(a){a=rm(sm.cle,a);V.u.constructor.call(this,a)}v(V,pm);r("H.service.extension.customLocation.Service",V);V.prototype.W=function(a,b,c,d,e){V.u.W.apply(this,[a,b,c,d,e]);this.f&&(this.a=this.f.clone());return this};V.prototype.configure=V.prototype.W;V.prototype.Ta=function(a,b){var c=b&&b.resultType,d=new Vo(this,a,b),e,f=uo;c==f.MARKER||c===f.DOM_MARKER?e=new uh(d):e=new oh(d);return e};V.prototype.createTileLayer=V.prototype.Ta;U.prototype.N=function(a){return this.W(new V(a))};\nU.prototype.getCustomLocationService=U.prototype.N;function jp(a,b,c,d){var e;a=a===kp?"changes":"file";var f=b[a],g=ra(f),h=!g&&B(f,Blob);if(!g&&!h)throw new C(d,0,"Invalid "+a+" parameter");if(lp)h?e=f:e=Ke(f,"text/plain"),d=new w.FormData,d.append(a,e,e.name||a+".wkt"),c.method="POST",c.data=d,delete b[a];else if(h)throw new C(d,0,"Sending Blob data is not supported by the browser");}var lp=w.FormData&&!!w.FormData.prototype.append;\nV.prototype.b=function(a,b,c,d,e){function f(a){e(new w.Error(a))}var g="text/plain",h=mp,k=a===h.LAYERS_UPLOAD||a===h.LAYERS_MODIFY||a===h.LAYERS_IMPORT,l=c,h={data:A,method:"GET"};if(!a)throw new C(this.b,0,a);if(!b)throw new C(this.b,1,b);Go(this.b,3,d,e);k&&(B(c,Object,this.b,2,"Invalid request parameters"),l=Qa(c),jp(a,l,h,this.b));a=this.aa().clone().R(a+"."+b).$(l);b===np.JSON&&(g="application/json");b=new Gh(g,a.toString(),ud,h);b.then(function(a){var b=a.issues;b&&a.error_id&&a.response_code?\nf(b[0].message):d(a)},function(a){"error"===a.type||404===a.status?f(a.statusText||"Unable to load data"):a.json().then(function(a){f(a.error_description||a.issues[0].message)},f)});return b};V.prototype.request=V.prototype.b;\nvar kp="layers/modify",mp={LAYERS_DELETE:"layers/delete",LAYERS_GRANT:"layers/access/grant",LAYERS_LIST:"layers/list",LAYERS_MODIFY:kp,LAYERS_UPLOAD:"layers/upload",LAYERS_IMPORT:"layers/import",SEARCH_ALL:"search/all",SEARCH_BBOX:"search/bbox",SEARCH_CORRIDOR:"search/corridor",SEARCH_PROXIMITY:"search/proximity",SEARCH_QUADKEY:"search/quadkey",SEARCH_TILE:"tiled/tile"};V.EntryPoint=mp;var np={TXT:"txt",JSON:"json"};V.EntryPointType=np;sm.cle={subDomain:"cle",path:"2"};\nV.prototype.l=function(a,b,c){var d=this;return this.b("search/all","txt",{filter:\'WKT==""\',layer_id:a},function(e){var f=e.replace(/[\\r\\n]+$/g,"").split("\\t");d.b("layers/list","json",{layer_id:a,detail_level:"all"},function(a){a=a.layers[0];a.columnNames=f;b(Po(a))},c)},c)};V.prototype.getLayer=V.prototype.l;\nV.prototype.A=function(a,b,c,d){function e(){return++g<f?h.b("layers/access/grant","json",{layer_id:a,granted_app_id:b[g].grantedAppId,permissions:b[g].permissions.join(",")},e,d):h.l(a,c,d)}var f=b&&b.length,g=-1,h=this;return e()};V.prototype.grantAccess=V.prototype.A;V.prototype.s=function(a,b,c){return this.b("layers/delete","json",{layer_ids:a},b,c)};V.prototype.deleteLayer=V.prototype.s;\nV.prototype.v=function(a,b,c){function d(){setTimeout(function(){l.l(h,function(a){setTimeout(e.bind(null,a),n)},function(){64E3>m?(m+=n,d()):c(w.Error("Timeout"))})},n);n*=2}function e(d){var e=JSON.stringify(d.c()),f=a.grants,g;e!==JSON.stringify(k)?(g="Results into different column names on the backend: "+e,setTimeout(function(){l.s(h,function(){c(w.Error(g))},function(a){c(w.Error(g+". "+a.message))})},n)):f&&f.length?l.A(h,f,b,c):b(d)}var f,g,h,k,l=this,m=0,n=1E3;g=!a||!Wo(h=a.layerId)&&(f="layerId")||\n!Xo(k=a.columnNames)&&(f="columnNames")?0:sa(b)?sa(c)?-1:2:1;if(0<=g)throw new C(l.v,g,f||arguments[g]);return l.l(h,function(){c(w.Error("Layer exists already"))},function(){var b={layer_id:h,file:k.join("\\t")},e=a.level,f=a.storage;e!==A&&(b.level=e);f!==A&&(b.storage=f);l.b("layers/upload","json",b,d,c)})};V.prototype.createLayer=V.prototype.v;\nfunction op(a,b,c,d,e){var f=[],g;a=a.b(b,"json",c,function(a){a.geometries.length?(a=Yo(a,c.layer_id),g=new gp(a,d,e),f.push(g)):d(De,!0)},e);f.push(a);return new Io(f)}V.prototype.i=function(a,b,c,d,e,f){if(!Za(a))throw new C(this.i,0,"has invalid type");B(b,gc,this.i,1,"has invalid type");if(!ab(c))throw new C(this.i,2,"has invalid type");Go(this.i,3,d,e);a={layer_ids:a.join(","),proximity:b.lat+","+b.lng+","+c};f&&Ca(a,f);return op(this,"search/proximity",a,d,e)};\nV.prototype.searchByProximity=V.prototype.i;V.prototype.g=function(a,b,c,d,e,f){var g,h="";if(!Za(a))throw new C(this.g,0,"has invalid type");if(!ra(b)&&!B(b,F))throw new C(this.g,1,"has invalid type");if(!ab(c))throw new C(this.g,2,"has invalid type");Go(this.g,3,d,e);a={layer_ids:a.join(","),radius:c};if(ra(b))a.route_id=b;else{g=b.na;b=0;for(c=g.length;b<c;b+=3)h+=g[b]+","+g[b+1],b<c-3&&(h+=",");a.corridor=h}f&&Ca(a,f);return op(this,"search/corridor",a,d,e)};V.prototype.searchByCorridor=V.prototype.g;\nV.prototype.j=function(a,b,c,d,e){function f(a,b){b&&h--;c(a,!h)}var g=[],h;if(!Za(a))throw new C(this.j,0,"has invalid type");B(b,G,this.j,1,"has invalid type");Go(this.j,2,c,d);b={bbox:b.ka+","+b.ga+";"+b.ja+","+b.ha};e&&Ca(b,e);a=b.layer_id?[b.layer_id]:a;e=0;for(h=a.length;e<h;e++)b.layer_id=a[e],g.push(op(this,"search/bbox",b,f,d));return new Io(g)};V.prototype.searchByBoundingBox=V.prototype.j;\nV.prototype.o=function(a,b,c,d){var e,f,g=[];if(!ra(a))throw new C(this.o,0,"has invalid type");Go(this.o,1,b,c);e={layer_id:a};d&&Ca(e,d);d=this.b("search/all","json",e,function(d){d.geometries.length?(d=Yo(d,a),f=new gp(d,b,c),g.push(f)):b(De,!0)},c);g.push(d);return new Io(g)};V.prototype.searchAll=V.prototype.o;var pp={"delete":/^GEOMETRY_ID$/,append:/^(?!GEOMETRY_ID$)/,update:null};\nfunction qp(a,b,c,d,e,f){function g(){ea++;d(this,ea===J)}function h(a){ea++;e(a,this,ea===J)}var k="append"!==b,l,m,n,q,t,u={},y=Ka(),J=0,T=[],ea=0;if(!Za(c))throw new C(f,0,c);Go(f,1,d,e);for(l=c.length;l--;){m=c[l];if(B(m,Qo))if(n=m.uc().cd().layerId,q=m.a("GEOMETRY_ID"),k){if(q===x||""===String(q))t=\'GEOMETRY_ID must not be null or ""\';u[q=n+"_"+q]&&(t="same GEOMETRY_ID for multiple rows");u[q]=m}else q!==x&&""!==String(q)&&(t=\'GEOMETRY_ID must be null or ""\');else t="Invalid type";if(t)throw new C(f,\n0,"- Invalid row at index "+l+", "+t);q=y[n];q||(q=y[n]=[],J++);q.push(m)}for(n in y){q=y[n];c=[];for(l=q.length;l--;)c.push(q[l].Ve);T.push(a.b(kp,"json",{layer_id:n,action:b,changes:q[0].uc().Df(pp[b],c)},z(g,q),z(h,q)))}return new Io(T)}V.prototype.m=function(a,b,c){return qp(this,"append",a,b,c,this.m)};V.prototype.appendRows=V.prototype.m;V.prototype.C=function(a,b,c){return qp(this,"update",a,b,c,this.C)};V.prototype.updateRows=V.prototype.C;\nV.prototype.B=function(a,b,c){return qp(this,"delete",a,b,c,this.B)};V.prototype.deleteRows=V.prototype.B;function Vo(a,b,c){var d=this,e=b&&b.rowFilter,f,g,h,k,l=uo;Vo.u.constructor.call(this,c);B(a,V,Vo,0);h=c.resultType;Uo(b);e?(f=Qa(b),f.rowFilter=e.toString()):f=b;(new Lh).md("cle","H.service.extension.worker.processor");k=b.layerId;a.b("layers/list","json",{detail_level:"all",layer_id:k},function(b){b=b.layers;var c;for(c=0;c<b.length;c++)if(b[c].layerId===k){f.level=b[c].level;break}g=a.aa().clone().R("tiled/tile.json").$({meta:1});(new Nh("cle",{message:[d.uid,0,{tileSize:d.tileSize,projected:!0,\nonlyOutline:h===l.POLYLINE,serverUrl:g.toString(),layerConfigs:[f],batchTiles:!1}]})).then(function(){d.I=!0;Rg(d)},d.f)},function(a){d.f(a.message)})}v(Vo,yo);r("H.service.extension.customLocation.TileProvider",Vo);Vo.prototype.P=function(a,b,c){return new to(a,b,c)};\nVo.prototype.c=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h,g=this.g.get(g),k={cancel:sc},l=!0,m,n=uo;g&&(this.b===n.POLYLINE||this.b===n.POLYGON?g.yc()||(d(Fm.pop(this.tileSize),null),l=!1):(d(x),l=!1));l&&(m=ym.setTimeout(function(){h=new Nh("cle",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500),k.cancel=function(){h?h.cancel():ym.clearTimeout(m)});return k};Vo.prototype.requestInternal=Vo.prototype.c;Vo.prototype.D=function(){Vo.u.D.call(this);new Nh("cle",{message:[this.uid,3]})};function rp(a){a=rm(sm.cre,a);rp.u.constructor.call(this,a)}v(rp,pm);r("H.service.extension.customRoute.Service",rp);sm.cre={subDomain:"cre",path:"2"};U.prototype.Ta=function(a){return this.W(new rp(a))};U.prototype.getCustomRoutingService=U.prototype.Ta;\nrp.prototype.b=function(a,b,c){function d(a){c(new w.Error(a))}Go(this.b,1,b,c);a=this.aa().clone().R("calculateroute.json").$(a);(new Gh("application/json",a.toString())).then(b,function(a){"error"===a.type?d(a.statusText||"Unable to load data"):a.json().then(function(a){d(a.error_description||a.issues[0].message)},d)})};rp.prototype.calculateRoute=rp.prototype.b;r("H.service.buildInfo",function(){return Bh("mapsjs-service","0.17.0","378d765")});\n')
    },
    1673: function(t, e, i) {
        "use strict";
        e.a = {
            "BENCH_PRESS/BARBELL_BENCH_PRESS": "Ex66",
            "BENCH_PRESS/BARBELL_FLOOR_PRESS": "Ex63",
            "BENCH_PRESS/CLOSE_GRIP_BARBELL_BENCH_PRESS": "Ex65",
            "BENCH_PRESS/DUMBBELL_BENCH_PRESS": "Ex174",
            "BENCH_PRESS/DUMBBELL_FLOOR_PRESS": "Ex43",
            "BENCH_PRESS/INCLINE_DUMBBELL_BENCH_PRESS": "Ex175",
            "BENCH_PRESS/KETTLEBELL_CHEST_PRESS": "Ex414",
            "BENCH_PRESS/PARTIAL_LOCKOUT": "Ex6083",
            "CARDIO/CARDIO_CORE_CRAWL": "Ex788",
            "CARDIO/JUMPING_JACKS": "Ex533",
            "CARDIO/JUMP_ROPE": "Ex783",
            "CARDIO/SQUAT_JACKS": "Ex6113",
            "CORE/ARM_AND_LEG_EXTENSION_ON_KNEES": "PL-IN-0039",
            "CORE/BARBELL_ROLLOUT": "Ex6015",
            "CORE/BICEP_CURL_WITH_LEG_EXTENSION": "PL-IN-0025",
            "CORE/BICEP_CURL_WITH_LEG_EXTENSION_WITH_WEIGHTS": "GCE_BICEP_CURL_WITH_LEG_EXTENSION_WITH_WEIGHTS",
            "CORE/BICYCLE": "PL-IN-0034",
            "CORE/CAT_COW": "PL-IN-0038",
            "CORE/CORKSCREW": "PL-IN-0016",
            "CORE/CRISS_CROSS": "PL-IN-0009",
            "CORE/DOUBLE_LEG_STRETCH": "PL-IN-0008",
            "CORE/KNEELING_AB_WHEEL": "Ex6066",
            "CORE/KNEE_FOLDS": "PL-IN-0001",
            "CORE/LOWER_LIFT": "PL-IN-0011",
            "CORE/LOWER_LIFT_WITH_WEIGHTS": "GCE_LOWER_LIFT_WITH_WEIGHTS",
            "CORE/NECK_PULL": "PL-IN-0017",
            "CORE/PELVIC_CLOCKS": "PL-IN-0015",
            "CORE/ROLLING": "PL-IN-0006",
            "CORE/ROLL_OVER": "PL-IN-0004",
            "CORE/ROLL_UP": "PL-IN-0003",
            "CORE/ROWING_1": "PL-IN-0018",
            "CORE/ROWING_1_WITH_WEIGHTS": "GCE_ROWING_1_WITH_WEIGHTS",
            "CORE/ROWING_2": "PL-IN-0019",
            "CORE/ROWING_2_WITH_WEIGHTS": "GCE_ROWING_2_WITH_WEIGHTS",
            "CORE/RUSSIAN_TWIST": "Ex726",
            "CORE/SCISSORS": "PL-IN-0010",
            "CORE/SCISSORS_WITH_WEIGHTS": "GCE_SCISSORS_WITH_WEIGHTS",
            "CORE/SINGLE_LEG_CIRCLES": "PL-IN-0005",
            "CORE/SINGLE_LEG_STRETCH": "GCE_SINGLE_LEG_STRETCH",
            "CORE/SINGLE_LEG_STRETCH_WITH_WEIGHTS": "GCE_SINGLE_LEG_STRETCH_WITH_WEIGHTS",
            "CORE/SNAKE_TWIST_1_AND_2": "PL-IN-0043",
            "CORE/SWAN": "PL-IN-0027",
            "CORE/SWIMMING": "PL-IN-0028",
            "CORE/SWISS_BALL_JACKKNIFE": "Ex803",
            "CORE/SWISS_BALL_ROLLOUT": "Ex595",
            "CORE/TEASER": "PL-IN-0050",
            "CORE/THE_HUNDRED": "PL-IN-0002",
            "CORE/WEIGHTED_CRISS_CROSS": "GCE_WEIGHTED_CRISS_CROSS",
            "CORE/WEIGHTED_DOUBLE_LEG_STRETCH": "GCE_WEIGHTED_DOUBLE_LEG_STRETCH",
            "CORE/WEIGHTED_THE_HUNDRED": "GCE_WEIGHTED_THE_HUNDRED",
            "CRUNCH/BICYCLE_CRUNCH": "Ex629",
            "CRUNCH/CABLE_CRUNCH": "Ex6024",
            "CRUNCH/CRUNCH": "Ex969",
            "CRUNCH/HANGING_KNEE_RAISE_OBLIQUE_CRUNCH": "Ex867",
            "CRUNCH/KNEELING_CABLE_CRUNCH": "Ex300",
            "CRUNCH/REVERSE_CRUNCH": "Ex719",
            "CRUNCH/REVERSE_CRUNCH_ON_A_BENCH": "Ex841",
            "CRUNCH/SKATER_CRUNCH_CROSS": "Ex624",
            "CRUNCH/STRAIGHT_LEG_CRUNCH_WITH_BALL": "PL-IN-0012",
            "CRUNCH/SWISS_BALL_CRUNCH": "Ex973",
            "CURL/ALTERNATING_DUMBBELL_BICEPS_CURL": "Ex146",
            "CURL/ALTERNATING_INCLINE_DUMBBELL_BICEPS_CURL": "Ex181",
            "CURL/BARBELL_BICEPS_CURL": "Ex137",
            "CURL/DEAD_HANG_BICEPS_CURL": "Ex6035",
            "CURL/DUMBBELL_HAMMER_CURL": "Ex6040",
            "CURL/FORWARD_BEND_BICEPS_CURL": "Ex136",
            "CURL/ONE_ARM_CONCENTRATION_CURL": "Ex48",
            "CURL/SEATED_ALTERNATING_DUMBBELL_BICEPS_CURL": "Ex180",
            "CURL/STANDING_ALTERNATING_DUMBBELL_CURLS": "Ex6116",
            "CURL/STANDING_DUMBBELL_BICEPS_CURL": "Ex147",
            "DEADLIFT/BARBELL_DEADLIFT": "Ex339",
            "DEADLIFT/BARBELL_STRAIGHT_LEG_DEADLIFT": "Ex6017",
            "DEADLIFT/DUMBBELL_DEADLIFT": "Ex37",
            "DEADLIFT/DUMBBELL_STRAIGHT_LEG_DEADLIFT": "Ex368",
            "DEADLIFT/SINGLE_LEG_DEADLIFT_WITH_BARBELL": "Ex81",
            "FLYE/ARM_ROTATIONS": "PL-IN-0023",
            "FLYE/DUMBBELL_FLYE": "Ex50",
            "FLYE/HUG_A_TREE": "PL-IN-0020",
            "HIP_RAISE/BARBELL_HIP_THRUST_ON_FLOOR": "Ex104",
            "HIP_RAISE/CLAMS": "PL-IN-0035",
            "HIP_RAISE/HIP_RAISE": "Ex422",
            "HIP_RAISE/KETTLEBELL_SWING": "Ex353",
            "HIP_RAISE/LEG_CIRCLES": "PL-IN-0033",
            "HIP_RAISE/LEG_LIFT": "PL-IN-0031",
            "HIP_RAISE/LEG_LIFT_IN_EXTERNAL_ROTATION": "PL-IN-0032",
            "HIP_RAISE/SINGLE_LEG_HIP_RAISE": "Ex417",
            "HIP_STABILITY/EXTERNAL_HIP_RAISE": "Ex730",
            "HIP_SWING/ONE_ARM_SWING": "Ex1120",
            "HIP_SWING/SINGLE_ARM_DUMBBELL_SWING": "Ex6096",
            "HYPEREXTENSION/COBRA": "PL-IN-0026",
            "HYPEREXTENSION/SWISS_BALL_HYPEREXTENSION": "Ex1092",
            "LATERAL_RAISE/ARM_CIRCLES": "Ex508",
            "LATERAL_RAISE/CABLE_FRONT_RAISE": "Ex270",
            "LATERAL_RAISE/SHAVING_THE_HEAD": "PL-IN-0021",
            "LEG_CURL/GOOD_MORNING": "Ex384",
            "LEG_RAISE/HANGING_LEG_RAISE": "Ex6057",
            "LUNGE/ALTERNATING_DUMBBELL_LUNGE": "Ex371",
            "LUNGE/ALTERNATING_DUMBBELL_LUNGE_WITH_REACH": "Ex432",
            "LUNGE/BARBELL_BULGARIAN_SPLIT_SQUAT": "Ex388",
            "LUNGE/BARBELL_SIDE_LUNGE": "Ex442",
            "LUNGE/DUMBBELL_REVERSE_LUNGE": "Ex375",
            "LUNGE/LOW_LUNGE_WITH_ISOMETRIC_ADDUCTION": "Ex438",
            "LUNGE/LUNGE": "Ex9054",
            "LUNGE/LUNGE_WITH_ARM_REACH": "Ex673",
            "LUNGE/OVERHEAD_DUMBBELL_LUNGE": "Ex1123",
            "LUNGE/OVERHEAD_DUMBBELL_SPLIT_SQUAT": "Ex1126",
            "LUNGE/REVERSE_SLIDING_LUNGE": "Ex6135",
            "LUNGE/RUNNERS_LUNGE_TO_BALANCE": "Ex446",
            "LUNGE/SHIFTING_SIDE_LUNGE": "Ex447",
            "LUNGE/SIDE_TO_SIDE_LUNGE_CHOPS": "Ex451",
            "LUNGE/WALKING_LUNGE": "Ex659",
            "MOVE/ARCH_AND_CURL": "GCE_ARCH_AND_CURL",
            "MOVE/ARM_CIRCLES_WITH_BALL_BAND_AND_WEIGHT": "GCE_ARM_CIRCLES_WITH_BALL_BAND_AND_WEIGHT",
            "MOVE/ARM_STRETCH": "GCE_ARM_STRETCH",
            "MOVE/BACK_MASSAGE": "GCE_BACK_MASSAGE",
            "MOVE/BELLY_BREATHING": "GCE_BELLY_BREATHING",
            "MOVE/BRIDGE_WITH_BALL": "GCE_BRIDGE_WITH_BALL",
            "MOVE/DIAMOND_LEG_CRUNCH": "GCE_DIAMOND_LEG_CRUNCH",
            "MOVE/DIAMOND_LEG_LIFT": "GCE_DIAMOND_LEG_LIFT",
            "MOVE/EIGHT_POINT_SHOULDER_OPENER": "YG-IN-0142",
            "MOVE/FOOTWORK": "GCE_FOOTWORK",
            "MOVE/FOOTWORK_ON_DISC": "GCE_FOOTWORK_ON_DISC",
            "MOVE/FOOT_ROLLING": "GCE_FOOT_ROLLING",
            "MOVE/FORWARD_FOLD": "GCE_FORWARD_FOLD",
            "MOVE/FROG_WITH_BAND": "GCE_FROG_WITH_BAND",
            "MOVE/HALF_ROLL_UP": "GCE_HALF_ROLL_UP",
            "MOVE/HAMSTRING_CURL": "GCE_HAMSTRING_CURL",
            "MOVE/HAMSTRING_STRETCH": "GCE_HAMSTRING_STRETCH",
            "MOVE/HIP_STRETCH": "GCE_HIP_STRETCH",
            "MOVE/HUG_A_TREE_WITH_BALL_BAND_AND_WEIGHT": "GCE_HUG_A_TREE_WITH_BALL_BAND_AND_WEIGHT",
            "MOVE/KNEE_CIRCLES": "GCE_KNEE_CIRCLES",
            "MOVE/KNEE_FOLDS_ON_DISC": "GCE_KNEE_FOLDS_ON_DISC",
            "MOVE/LATERAL_FLEXION": "GCE_LATERAL_FLEXION",
            "MOVE/LEG_STRETCH_WITH_BAND": "GCE_LEG_STRETCH_WITH_BAND",
            "MOVE/LEG_STRETCH_WITH_LEG_CIRCLES": "GCE_LEG_STRETCH_WITH_LEG_CIRCLES",
            "MOVE/LOWER_LIFT_ON_DISC": "GCE_LOWER_LIFT_ON_DISC",
            "MOVE/LUNGES_WITH_KNEE_LIFT": "GCE_LUNGES_WITH_KNEE_LIFT",
            "MOVE/LUNGE_SQUAT": "GCE_LUNGE_SQUAT",
            "MOVE/MERMAID_STRETCH": "GCE_MERMAID_STRETCH",
            "MOVE/NEUTRAL_PELVIC_POSITION": "GCE_NEUTRAL_PELVIC_POSITION",
            "MOVE/PELVIC_CLOCKS_ON_DISC": "GCE_PELVIC_CLOCKS_ON_DISC",
            "MOVE/PILATES_PLIE_SQUATS_PARALLEL_TURNED_OUT_FLAT_AND_HEELS_WITH_CHAIR": "GCE_PILATES_PLIE_SQUATS_PARALLEL_TURNED_OUT_FLAT_AND_HEELS_WITH_CHAIR",
            "MOVE/PIRIFORMIS_STRETCH": "GCE_PIRIFORMIS_STRETCH",
            "MOVE/PLANK_KNEE_CROSSES": "GCE_PLANK_KNEE_CROSSES",
            "MOVE/PLANK_KNEE_PULLS": "GCE_PLANK_KNEE_PULLS",
            "MOVE/PLANK_UP_DOWNS": "GCE_PLANK_UP_DOWNS",
            "MOVE/PRAYER_MUDRA": "YG-IN-0157",
            "MOVE/PSOAS_LUNGE_STRETCH": "GCE_PSOAS_LUNGE_STRETCH",
            "MOVE/RIBCAGE_BREATHING": "GCE_RIBCAGE_BREATHING",
            "MOVE/ROLL_DOWN": "GCE_ROLL_DOWN",
            "MOVE/ROLL_UP_WITH_WEIGHT_AND_BAND": "GCE_ROLL_UP_WITH_WEIGHT_AND_BAND",
            "MOVE/SAW": "GCE_SAW",
            "MOVE/SCAPULAR_STABILIZATION": "GCE_SCAPULAR_STABILIZATION",
            "MOVE/SCISSORS_ON_DISC": "GCE_SCISSORS_ON_DISC",
            "MOVE/SEATED_HIP_STRETCHUP": "GCE_SEATED_HIP_STRETCHUP",
            "MOVE/SEATED_TWIST": "GCE_SEATED_TWIST",
            "MOVE/SHAVING_THE_HEAD_WITH_BALL_BAND_AND_WEIGHT": "GCE_SHAVING_THE_HEAD_WITH_BALL_BAND_AND_WEIGHT",
            "MOVE/SPINAL_TWIST": "BBtOq4F",
            "MOVE/SPINAL_TWIST_STRETCH": "BBtOq4F",
            "MOVE/SPINE_STRETCH_FORWARD": "GCE_SPINE_STRETCH_FORWARD",
            "MOVE/SQUATS_STANDING": "GCE_SQUATS_STANDING",
            "MOVE/SQUATS_WITH_BALL": "GCE_SQUATS_WITH_BALL",
            "MOVE/STANDING_SIDE_STRETCH": "GCE_STANDING_SIDE_STRETCH",
            "MOVE/STANDING_SINGLE_LEG_FORWARD_BEND_WITH_IT_BAND_OPENER": "YG-IN-0055",
            "MOVE/STAND_AND_HANG": "GCE_STAND_AND_HANG",
            "MOVE/STRAIGHT_LEG_CRUNCH_WITH_LEGS_CROSSED_WITH_BALL": "GCE_STRAIGHT_LEG_CRUNCH_WITH_LEGS_CROSSED_WITH_BALL",
            "MOVE/STRAIGHT_LEG_CRUNCH_WITH_LEG_LIFT_WITH_BALL": "GCE_STRAIGHT_LEG_CRUNCH_WITH_LEG_LIFT_WITH_BALL",
            "MOVE/STRAIGHT_LEG_DIAGONAL_CRUNCH_WITH_BALL": "GCE_STRAIGHT_LEG_DIAGONAL_CRUNCH_WITH_BALL",
            "MOVE/TAILBONE_CURL": "GCE_TAILBONE_CURL",
            "MOVE/THROAT_LOCK": "YG-IN-0164",
            "MOVE/TICK_TOCK_SIDE_ROLL": "GCE_TICK_TOCK_SIDE_ROLL",
            "MOVE/TWIST": "GCE_TWIST",
            "MOVE/V_LEG_CRUNCHES": "GCE_V_LEG_CRUNCHES",
            "MOVE/V_SIT": "GCE_V_SIT",
            "PLANK/BRIDGE_ONE_LEG_BRIDGE": "PL-IN-0048",
            "PLANK/BRIDGE_WITH_GLUTE_LOWER_LIFT": "PL-IN-0049",
            "PLANK/CROSS_BODY_MOUNTAIN_CLIMBER": "Ex6033",
            "PLANK/ELEVATOR_ABS": "Ex728",
            "PLANK/MOUNTAIN_CLIMBER": "Ex684",
            "PLANK/MOUNTAIN_CLIMBER_ON_SLIDING_DISCS": "Ex833",
            "PLANK/MOUNTAIN_CLIMBER_WITH_FEET_ON_BOSU_BALL": "Ex968",
            "PLANK/PLANK": "Ex695",
            "PLANK/PLANK_WITH_ARM_RAISE": "Ex705",
            "PLANK/PLANK_WITH_ARM_VARIATIONS": "PL-IN-0040",
            "PLANK/PLANK_WITH_LEG_LIFT": "PL-IN-0041",
            "PLANK/PLANK_WITH_OBLIQUE_CRUNCH": "Ex708",
            "PLANK/REVERSE_PLANK_WITH_LEG_PULL": "PL-IN-0044",
            "PLANK/SIDE_PLANK": "PL-IN-0042",
            "PLANK/SIDE_PLANK_AND_ROW": "Ex768",
            "PLANK/SIDE_PLANK_WITH_FEET_ON_BENCH": "Ex627",
            "PLANK/WEIGHTED_PLANK": "Ex862",
            "PLANK/_45_DEGREE_PLANK": "Ex961",
            "PLYO/ALTERNATING_JUMP_LUNGE": "Ex377",
            "PLYO/BARBELL_JUMP_SQUAT": "Ex118",
            "PLYO/BODY_WEIGHT_JUMP_SQUAT": "Ex357",
            "PLYO/MEDICINE_BALL_SLAM": "Ex746",
            "PLYO/SIDE_TO_SIDE_SHUFFLE_JUMP": "Ex1110",
            "POSE/ALL_FOURS": "YG-IN-0026",
            "POSE/ANKLE_TO_KNEE": "YG-IN-0013",
            "POSE/BABY_COBRA": "YG-IN-0093",
            "POSE/BOAT": "YG-IN-0023",
            "POSE/BOUND_ANGLE": "YG-IN-0011",
            "POSE/BOUND_SEATED_SINGLE_LEG_FORWARD_BEND": "YG-IN-0030",
            "POSE/BOW": "YG-IN-0098",
            "POSE/BOWED_HALF_MOON": "YG-IN-0070",
            "POSE/BRIDGE": "YG-IN-0101",
            "POSE/CAT": "YG-IN-0027",
            "POSE/CHAIR": "YG-IN-0078",
            "POSE/CHILDS": "YG-IN-0035",
            "POSE/CORPSE": "YG-IN-0151",
            "POSE/COW": "YG-IN-0028",
            "POSE/COW_FACE": "YG-IN-0014",
            "POSE/DEVOTIONAL_WARRIOR": "YG-IN-0063",
            "POSE/DOLPHIN": "YG-IN-0118",
            "POSE/DOLPHIN_PLANK": "YG-IN-0116",
            "POSE/DOWNWARD_FACING_DOG": "YG-IN-0085",
            "POSE/DOWN_DOG_KNEE_TO_NOSE": "YG-IN-0088",
            "POSE/DOWN_DOG_SPLIT": "YG-IN-0086",
            "POSE/DOWN_DOG_SPLIT_OPEN_HIP_BENT_KNEE": "BBtOfma",
            "POSE/DOWN_DOG_SPLIT_POSE_OPEN_HIP_BENT_KNEE": "YG-IN-0087",
            "POSE/EAGLE": "YG-IN-0082",
            "POSE/EASY_SEATED": "YG-IN-0002",
            "POSE/EXTENDED_PUPPY": "YG-IN-0037",
            "POSE/EXTENDED_SIDE_ANGLE": "YG-IN-0064",
            "POSE/FISH": "YG-IN-0100",
            "POSE/FOUR_LIMBED_STAFF": "YG-IN-0110",
            "POSE/FULL_SPLIT": "YG-IN-0021",
            "POSE/GATE": "YG-IN-0052",
            "POSE/HALF_CHAIR_HALF_ANKLE_TO_KNEE": "YG-IN-0077",
            "POSE/HALF_MOON": "YG-IN-0069",
            "POSE/HEAD_TO_KNEE": "YG-IN-0033",
            "POSE/HERON": "YG-IN-0039",
            "POSE/HEROS": "YG-IN-0009",
            "POSE/HIGH_LUNGE": "YG-IN-0057",
            "POSE/KNEES_CHEST_CHIN": "YG-IN-0096",
            "POSE/LIZARD": "YG-IN-0053",
            "POSE/LOCUST": "YG-IN-0097",
            "POSE/LOW_LUNGE": "YG-IN-0049",
            "POSE/LOW_LUNGE_TWIST": "YG-IN-0050",
            "POSE/LOW_LUNGE_WITH_KNEE_DOWN": "YG-IN-0051",
            "POSE/MERMAID": "YG-IN-0017",
            "POSE/MOUNTAIN": "YG-IN-0040",
            "POSE/ONE_LEGGED_DOWNWARD_FACING_DOG_POSE_OPEN_HIP_BENT_KNEE": "YG-IN-0087",
            "POSE/ONE_LEGGED_DOWNWARD_FACING_POSE_OPEN_HIP_BENT_KNEE": "YG-IN-0087",
            "POSE/ONE_LEGGED_PIGEON": "YG-IN-0016",
            "POSE/PEACEFUL_WARRIOR": "YG-IN-0062",
            "POSE/PLOW": "YG-IN-0136",
            "POSE/RECLINED_HAND_TO_FOOT": "YG-IN-0150",
            "POSE/REVOLVED_HALF_MOON": "YG-IN-0071",
            "POSE/REVOLVED_HEAD_TO_KNEE": "YG-IN-0034",
            "POSE/REVOLVED_TRIANGLE": "YG-IN-0068",
            "POSE/RUNNERS_LUNGE": "YG-IN-0020",
            "POSE/SEATED_EASY_SIDE_BEND": "YG-IN-0003",
            "POSE/SEATED_EASY_TWIST": "YG-IN-0004",
            "POSE/SEATED_LONG_LEG_FORWARD_BEND": "YG-IN-0032",
            "POSE/SEATED_WIDE_LEG_FORWARD_BEND": "YG-IN-0031",
            "POSE/SHOULDER_STAND": "YG-IN-0140",
            "POSE/SIDE_BOAT": "YG-IN-0025",
            "POSE/SPHINX": "YG-IN-0092",
            "POSE/SQUAT_OPEN_ARM_TWIST": "YG-IN-0090",
            "POSE/SQUAT_PALM_PRESS": "YG-IN-0089",
            "POSE/STAFF": "YG-IN-0001",
            "POSE/STANDING_ARMS_UP": "YG-IN-0041",
            "POSE/STANDING_FORWARD_BEND": "YG-IN-0046",
            "POSE/STANDING_FORWARD_BEND_HALFWAY_UP": "YG-IN-0048",
            "POSE/STANDING_SIDE_OPENER": "YG-IN-0042",
            "POSE/STANDING_SINGLE_LEG_FORWARD_BEND": "YG-IN-0054",
            "POSE/STANDING_SPLIT": "YG-IN-0081",
            "POSE/STANDING_WIDE_LEG_FORWARD_BEND": "YG-IN-0043",
            "POSE/STANDING_WIDE_LEG_FORWARD_BEND_WITH_TWIST": "YG-IN-0044",
            "POSE/SUPINE_SPINAL_TWIST": "YG-IN-0149",
            "POSE/TABLE_TOP": "YG-IN-0115",
            "POSE/THREAD_THE_NEEDLE": "YG-IN-0036",
            "POSE/THUNDERBOLT": "YG-IN-0005",
            "POSE/THUNDERBOLT_POSE_BOTH_SIDES_ARM_STRETCH": "GCE_THUNDERBOLT_POSE_BOTH_SIDES_ARM_STRETCH",
            "POSE/TREE": "YG-IN-0072",
            "POSE/TRIANGLE": "YG-IN-0067",
            "POSE/UPWARD_FACING_PLANK": "YG-IN-0114",
            "POSE/UP_DOG": "YG-IN-0095",
            "POSE/WARRIOR_ONE": "YG-IN-0059",
            "POSE/WARRIOR_THREE": "YG-IN-0061",
            "POSE/WARRIOR_TWO": "YG-IN-0060",
            "POSE/WHEEL": "YG-IN-0103",
            "POSE/WIDE_SIDE_LUNGE": "YG-IN-0056",
            "PULL_UP/CHIN_UP": "Ex6030",
            "PULL_UP/LAT_PULLDOWN": "Ex313",
            "PULL_UP/PULL_UP": "Ex882",
            "PULL_UP/STANDING_CABLE_PULLOVER": "Ex305",
            "PULL_UP/WIDE_GRIP_LAT_PULLDOWN": "Ex316",
            "PUSH_UP/PILATES_PUSHUP": "PL-IN-0045",
            "PUSH_UP/PUSH_UP": "Ex419",
            "PUSH_UP/T_PUSH_UP": "Ex460",
            "ROW/ALTERNATING_DUMBBELL_ROW": "Ex6003",
            "ROW/CABLE_ROW_STANDING": "Ex260",
            "ROW/DUMBBELL_ROW": "Ex153",
            "ROW/FACE_PULL": "Ex262",
            "ROW/INVERTED_ROW": "Ex6061",
            "ROW/ONE_ARM_BENT_OVER_ROW": "Ex29",
            "ROW/RENEGADE_ROW": "Ex703",
            "ROW/REVERSE_GRIP_BARBELL_ROW": "Ex141",
            "ROW/SINGLE_ARM_NEUTRAL_GRIP_DUMBBELL_ROW_AND_ROTATION": "Ex6098",
            "RUN/JOG": "Ex9004",
            "RUN/RUN": "Ex9002",
            "SHOULDER_PRESS/ALTERNATING_DUMBBELL_SHOULDER_PRESS": "Ex1004",
            "SHOULDER_PRESS/BARBELL_FRONT_SQUAT_TO_PUSH_PRESS": "Ex492",
            "SHOULDER_PRESS/DUMBBELL_PUSH_PRESS": "Ex221",
            "SHOULDER_PRESS/DUMBBELL_SHOULDER_PRESS": "Ex211",
            "SHOULDER_PRESS/SINGLE_ARM_DUMBBELL_SHOULDER_PRESS": "Ex1006",
            "SHOULDER_PRESS/SINGLE_ARM_STEP_UP_AND_PRESS": "Ex478",
            "SHOULDER_PRESS/SMITH_MACHINE_OVERHEAD_PRESS": "Ex575",
            "SHRUG/BARBELL_UPRIGHT_ROW": "Ex144",
            "SIT_UP/GET_UP_SIT_UP": "Ex735",
            "SIT_UP/SIT_UP": "Ex6111",
            "SIT_UP/V_UP": "Ex822",
            "SQUAT/BACK_SQUAT_WITH_BODY_BAR": "Ex354",
            "SQUAT/BARBELL_BACK_SQUAT": "Ex116",
            "SQUAT/BARBELL_FRONT_SQUAT": "Ex90",
            "SQUAT/BARBELL_STEP_UP": "Ex379",
            "SQUAT/CROSSOVER_DUMBBELL_STEP_UP": "Ex1069",
            "SQUAT/DUMBBELL_FRONT_SQUAT": "Ex364",
            "SQUAT/DUMBBELL_SPLIT_SQUAT": "Ex158",
            "SQUAT/DUMBBELL_SQUAT": "Ex366",
            "SQUAT/DUMBBELL_STEP_UP": "Ex380",
            "SQUAT/GOBLET_SQUAT": "Ex160",
            "SQUAT/PILATES_PLIE_SQUATS_PARALLEL_TURNED_OUT_FLAT_AND_HEELS": "PL-IN-0046",
            "SQUAT/PRISONER_SQUAT": "Ex335",
            "SQUAT/RELEVE_STRAIGHT_LEG_AND_KNEE_BENT_WITH_ONE_LEG_VARIATION": "PL-IN-0047",
            "SQUAT/SQUAT": "Ex334",
            "SQUAT/SQUAT_AND_SIDE_KICK": "Ex1001",
            "SQUAT/SQUAT_JUMPS_IN_N_OUT": "Ex376",
            "SQUAT/WIDE_STANCE_GOBLET_SQUAT": "Ex35",
            "TOTAL_BODY/BURPEE": "Ex9056",
            "TOTAL_BODY/SQUAT_THRUSTS": "Ex511",
            "TRICEPS_EXTENSION/ALTERNATING_DUMBBELL_LYING_TRICEPS_EXTENSION": "Ex412",
            "TRICEPS_EXTENSION/CABLE_LYING_TRICEPS_EXTENSION": "Ex6025",
            "TRICEPS_EXTENSION/DUMBBELL_KICKBACK": "Ex348",
            "TRICEPS_EXTENSION/DUMBBELL_LYING_TRICEPS_EXTENSION": "Ex1075",
            "TRICEPS_EXTENSION/EZ_BAR_OVERHEAD_TRICEPS_EXTENSION": "Ex6045",
            "TRICEPS_EXTENSION/INCLINE_DIP": "Ex330",
            "TRICEPS_EXTENSION/REVERSE_GRIP_PRESSDOWN": "Ex278",
            "TRICEPS_EXTENSION/ROPE_PRESSDOWN": "Ex279",
            "TRICEPS_EXTENSION/SEATED_SINGLE_ARM_OVERHEAD_DUMBBELL_EXTENSION": "Ex1162",
            "TRICEPS_EXTENSION/SINGLE_LEG_DIP": "Ex643",
            "TRICEPS_EXTENSION/TRICEPS_EXTENSION_ON_FLOOR": "Ex60",
            "TRICEPS_EXTENSION/TRICEPS_PRESS": "PL-IN-0024",
            "TRICEPS_EXTENSION/TRICEPS_PRESSDOWN": "Ex284",
            "WARM_UP/OPPOSITE_ARM_AND_LEG_BALANCE": "Ex691"
        }
    },
    1675: function(t, e, i) {
        "use strict";
        i.d(e, "a", function() {
            return a
        });
        var a = function(t, e) {
            var i = Array.prototype.slice.call(t.querySelectorAll("thead tr"))
              , a = Array.prototype.slice.call(t.querySelectorAll("tbody tr"))
              , n = Array.prototype.slice.call(t.querySelectorAll("tfoot tr"))
              , r = String.fromCharCode(11)
              , o = String.fromCharCode(0)
              , s = '","'
              , l = '"\r\n"'
              , c = '"';
            if (i.length && (c += u(i.map(m))),
            a.length && (i.length && (c += l),
            c += u(a.map(m))),
            n.length && (c += l,
            c += u(n.map(m))),
            c += '"',
            navigator.msSaveBlob) {
                var h = new Blob([c],{
                    type: "text/csv;charset=utf-8;"
                });
                navigator.msSaveBlob(h, e)
            } else {
                var p = "data:application/csv;charset=utf-8," + encodeURIComponent(c)
                  , d = document.createElement("a");
                d.href = p,
                d.download = e,
                d.click()
            }
            function u(t) {
                return t.join(o).split(o).join(l).split(r).join(s)
            }
            function m(t) {
                var e = t.getElementsByTagName("td");
                return e.length || (e = t.getElementsByTagName("th")),
                Array.prototype.slice.call(e).map(f).join(r)
            }
            function f(t) {
                return t.innerText.replace('"', '""').trim()
            }
        }
    },
    1678: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(1316);
        e.a = r.a.extend({
            defaultSport: "CYCLING",
            maxPowerWatts: 2e3,
            numberOfPowerZones: 7,
            propertiesNames: {
                functionalThresholdPower: "functionalThresholdPower"
            },
            url: function() {
                return "/modern/proxy/biometric-service/powerZones"
            },
            sync: function(t, e, i) {
                return "read" === t ? i.url = "/modern/proxy/biometric-service/powerZones/sport/" + this.defaultSport : "create" === t && (t = "update"),
                n.a.sync(t, e, i)
            },
            setFunctionalThresholdPower: function(t) {
                this.set(this.propertiesNames.functionalThresholdPower, t)
            },
            getFunctionalThresholdPower: function() {
                return this.get(this.propertiesNames.functionalThresholdPower)
            },
            getZoneName: function(t) {
                return "zone" + t + "Floor"
            },
            getZoneValue: function(t) {
                return this.get(this.getZoneName(t))
            },
            setZoneValue: function(t, e) {
                t < this.numberOfPowerZones + 1 && this.set(this.getZoneName(t), e)
            },
            getZonesWithCeilingDefined: function() {
                return [{
                    ceiling: this.get(this.getZoneName(2)),
                    display: "Zone 1",
                    floor: this.get(this.getZoneName(1)),
                    number: "1"
                }, {
                    ceiling: this.get(this.getZoneName(3)),
                    display: "Zone 2",
                    floor: this.get(this.getZoneName(2)),
                    number: "2"
                }, {
                    ceiling: this.get(this.getZoneName(4)),
                    display: "Zone 3",
                    floor: this.get(this.getZoneName(3)),
                    number: "3"
                }, {
                    ceiling: this.get(this.getZoneName(5)),
                    display: "Zone 4",
                    floor: this.get(this.getZoneName(4)),
                    number: "4"
                }, {
                    ceiling: this.get(this.getZoneName(6)),
                    display: "Zone 5",
                    floor: this.get(this.getZoneName(5)),
                    number: "5"
                }, {
                    ceiling: this.get(this.getZoneName(7)),
                    display: "Zone 6",
                    floor: this.get(this.getZoneName(6)),
                    number: "6"
                }, {
                    ceiling: 2e3,
                    display: "Zone 7",
                    floor: this.get(this.getZoneName(7)),
                    number: "7"
                }]
            }
        })
    },
    1685: function(t, e, i) {
        "use strict";
        var a = i(13)
          , n = i(8)
          , r = {
            running: "interval_active_type_running",
            cycling: "interval_active_type_cycling",
            swimming: "interval_active_type_swimming",
            other: "interval_type_other"
        }
          , o = {
            INTERVAL_WARMUP: "interval_type_warmup",
            INTERVAL_REST: "interval_type_rest",
            INTERVAL_COOLDOWN: "interval_type_cooldown",
            INTERVAL_RECOVERY: "interval_type_recovery",
            INTERVAL_OTHER: "interval_type_other"
        }
          , s = ["running", "indoor_running", "street_running", "cycling", "bmx", "cyclocross", "indoor_cycling", "track_cycling", "gravel_cycling", "obstacle_run", "track_running", "trail_running", "recumbent_cycling", "treadmill_running", "mountain_biking", "road_biking", "downhill_biking", "virtual_ride", "virtual_run"];
        e.a = {
            getMasterColumnConfig: function(t) {
                var e = a.a.getSpeedTypeFromActivityType(t.activityTypeKey)
                  , i = e === a.a.SpeedTypes.Speed ? a.a.getAvgSpeedLabelKey() : a.a.getAvgSwimPaceLabelKey(t.isSwimmingActivity)
                  , r = e === a.a.SpeedTypes.Speed ? a.a.getAvgMovingSpeedLabelKey() : a.a.getAvgMovingPaceLabelKey()
                  , o = e === a.a.SpeedTypes.Speed ? a.a.getMaxSpeedLabelKey() : a.a.getMaxSwimPaceLabelKey(t.isSwimmingActivity)
                  , s = a.a.getElevGainLabelKey(t.activityTypeKey)
                  , l = a.a.getElevLossLabelKey(t.activityTypeKey)
                  , c = [{
                    order: 1,
                    fieldName: "intervalIndex",
                    displayLabel: "activity.interval",
                    class: "",
                    personalizer: null
                }, {
                    order: 2,
                    fieldName: "type",
                    displayLabel: "label_interval_type",
                    class: ""
                }, {
                    order: 3,
                    fieldName: "lapIndex",
                    displayLabel: "activity.interval.lap",
                    class: ""
                }, {
                    order: 4,
                    fieldName: "duration",
                    displayLabel: "label_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 5,
                    fieldName: "duration",
                    displayLabel: "label_cum_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 6,
                    fieldName: "distance",
                    displayLabel: "label_distance",
                    class: "",
                    personalizer: a.a.personalizeDistance,
                    personalizerParams: t.personalizerParams.getDistanceParams
                }, {
                    order: 99,
                    fieldName: "lapIndexes",
                    displayLabel: "lap_indexes"
                }, {
                    order: -1,
                    fieldName: "averageSpeed",
                    displayLabel: i,
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: t.personalizerParams.getSpeedParams
                }, {
                    order: -1,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "elevationGain",
                    displayLabel: s,
                    class: "",
                    personalizer: a.a.personalizeElevation
                }, {
                    order: -1,
                    fieldName: "elevationLoss",
                    displayLabel: l,
                    class: "",
                    personalizer: a.a.personalizeElevation
                }, {
                    order: -1,
                    fieldName: "averageStrokeCadence",
                    displayLabel: "label_avg_stroke_rate",
                    class: "",
                    personalizer: null
                }, {
                    order: -1,
                    fieldName: "maxStrokeCadence",
                    displayLabel: "label_max_stroke_rate",
                    class: "",
                    personalizer: null
                }, {
                    order: -1,
                    fieldName: "averageStrokeDistance",
                    displayLabel: "label_avg_distance_per_stroke",
                    class: "",
                    personalizer: function(e) {
                        return a.a.personalizeDistanceValue(a.a.isPaddleBoardingActivity(t.activityTypeKey) ? a.a.convertDistancePerStroke(e) : e)
                    }
                }];
                return c.push({
                    order: -1,
                    fieldName: "averageRunCadence",
                    displayLabel: "label_avg_run_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: t.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "averageBikeCadence",
                    displayLabel: "label_avg_bike_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: t.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "maxBikeCadence",
                    displayLabel: "label_max_bike_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: t.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "averageSwimCadence",
                    displayLabel: "label_avg_swim_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: t.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "minSwimCadence",
                    displayLabel: "label_max_swim_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: t.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "groundContactTime",
                    displayLabel: "label_avg_ground_contact_time",
                    class: "",
                    personalizer: a.a.personalizeGroundContactTime
                }),
                c.push({
                    order: -1,
                    fieldName: "groundContactBalanceLeft",
                    displayLabel: "label_avg_gct_balance",
                    class: "",
                    personalizer: function(t) {
                        var e = t
                          , i = 100 - e;
                        return n.a.localize(a.a.getPowerBalanceUnitKey(), a.a.formatDecimalNumber(e, 1), a.a.formatDecimalNumber(i, 1))
                    }
                }),
                c.push({
                    order: -1,
                    fieldName: "strideLength",
                    displayLabel: "label_avg_stride_length",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeAvgStrideLength
                }),
                c.push({
                    order: -1,
                    fieldName: "verticalOscillation",
                    displayLabel: "label_avg_vertical_oscillation",
                    class: "",
                    personalizer: a.a.personalizeVerticalOscillation
                }),
                c.push({
                    order: -1,
                    fieldName: "verticalRatio",
                    displayLabel: "label_avg_vertical_ratio",
                    class: "",
                    personalizer: a.a.personalizeVerticalRatio
                }),
                c.push({
                    order: -1,
                    fieldName: "normalizedPower",
                    displayLabel: "label_normalized_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "leftBalance",
                    displayLabel: "label_left_balance",
                    class: "",
                    personalizer: a.a.personalizeLeftRightBalance
                }),
                c.push({
                    order: -1,
                    fieldName: "rightBalance",
                    displayLabel: "label_right_balance",
                    class: "",
                    personalizer: a.a.personalizeLeftRightBalance
                }),
                c.push({
                    order: -1,
                    fieldName: "leftTorqueEffectiveness",
                    displayLabel: "label_left_torque_eff",
                    class: "",
                    personalizer: a.a.personalizeTorqueEffectiveness
                }),
                c.push({
                    order: -1,
                    fieldName: "rightTorqueEffectiveness",
                    displayLabel: "label_right_torque_eff",
                    class: "",
                    personalizer: a.a.personalizeTorqueEffectiveness
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPedalSmoothness",
                    displayLabel: "label_left_pedal_smoothness",
                    class: "",
                    personalizer: a.a.personalizePedalSmoothness
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPedalSmoothness",
                    displayLabel: "label_right_pedal_smoothness",
                    class: "",
                    personalizer: a.a.personalizePedalSmoothness
                }),
                c.push({
                    order: -1,
                    fieldName: "averagePower",
                    displayLabel: "label_avg_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "averagePower",
                    displayLabel: "label_avg_power_kg",
                    class: "",
                    personalizer: null,
                    nullCallback: t.getWeightLink
                }),
                c.push({
                    order: -1,
                    fieldName: "maxPower",
                    displayLabel: "label_max_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "maxPower",
                    displayLabel: "label_max_power_kg",
                    class: "",
                    personalizer: null,
                    nullCallback: t.getWeightLink
                }),
                c.push({
                    order: -1,
                    fieldName: "maxPowerTwentyMinutes",
                    displayLabel: "label_max_avg_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "standingTime",
                    displayLabel: "label_cd_total_standing_time",
                    class: "",
                    personalizer: a.a.personalizeStandingTime
                }),
                c.push({
                    order: -1,
                    fieldName: "averageStandingPower",
                    displayLabel: "label_cd_avg_standing_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "maxStandingPower",
                    displayLabel: "label_cd_max_standing_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "seatedTime",
                    displayLabel: "label_cd_total_seated_time",
                    class: "",
                    personalizer: a.a.personalizeStandingTime
                }),
                c.push({
                    order: -1,
                    fieldName: "averageSeatedPower",
                    displayLabel: "label_cd_avg_seated_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "maxSeatedPower",
                    displayLabel: "label_cd_max_seated_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhaseStart",
                    displayLabel: "label_cd_l_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhaseEnd",
                    displayLabel: "label_cd_l_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhaseStart",
                    displayLabel: "label_cd_r_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhaseEnd",
                    displayLabel: "label_cd_r_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhaseArcLength",
                    displayLabel: "label_cd_l_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhaseArcLength",
                    displayLabel: "label_cd_r_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhasePeakStart",
                    displayLabel: "label_cd_l_peak_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhasePeakEnd",
                    displayLabel: "label_cd_l_peak_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhasePeakStart",
                    displayLabel: "label_cd_r_peak_power_phase_start",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhasePeakEnd",
                    displayLabel: "label_cd_r_peak_power_phase_end",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseAngle
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPowerPhasePeakArcLength",
                    displayLabel: "label_cd_l_peak_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPowerPhasePeakArcLength",
                    displayLabel: "label_cd_r_peak_power_phase_arc_length",
                    class: "",
                    personalizer: a.a.personalizePowerPhaseArcLength
                }),
                c.push({
                    order: -1,
                    fieldName: "leftPlatformCenterOffset",
                    displayLabel: "label_cd_l_pco_average",
                    class: "",
                    personalizer: a.a.personalizePlatformCenterOffset
                }),
                c.push({
                    order: -1,
                    fieldName: "rightPlatformCenterOffset",
                    displayLabel: "label_cd_r_pco_average",
                    class: "",
                    personalizer: a.a.personalizePlatformCenterOffset
                }),
                c.push({
                    order: -1,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }),
                c.push({
                    order: -1,
                    fieldName: "averageTemperature",
                    displayLabel: "label_avg_temperature",
                    class: "",
                    personalizer: a.a.personalizeTemperature
                }),
                "open_water_swimming" !== t.activityTypeKey && c.push({
                    order: -1,
                    fieldName: "maxSpeed",
                    displayLabel: o,
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: t.personalizerParams.getSpeedParams
                }),
                c.push({
                    order: -1,
                    fieldName: "maxRunCadence",
                    displayLabel: "label_max_run_cadence",
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: t.personalizerParams.getCadence
                }),
                c.push({
                    order: -1,
                    fieldName: "movingDuration",
                    displayLabel: "label_moving_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }),
                c.push({
                    order: -1,
                    fieldName: "averageMovingSpeed",
                    displayLabel: r,
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: t.personalizerParams.getSpeedParams
                }),
                t.canDisplayVectorAirInfo && (c.push({
                    order: -1,
                    fieldName: "avgCda",
                    displayLabel: "cda_unit",
                    class: "",
                    personalizer: a.a.formatVectorAirCdA
                }),
                c.push({
                    order: -1,
                    fieldName: "avgWattsPerCda",
                    displayLabel: "wcda_unit",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                })),
                c.push({
                    order: -1,
                    fieldName: "avgFlow",
                    displayLabel: "label_flow",
                    class: "",
                    personalizer: a.a.peronalizeMTBFlow
                }),
                c.push({
                    order: -1,
                    fieldName: "grit",
                    displayLabel: "label_grit",
                    class: "",
                    personalizer: a.a.peronalizeMTBGrit
                }),
                c
            },
            getIntervalType: function(t, e) {
                if (this.isActiveInterval(t)) {
                    var i = r[e];
                    return i ? n.a.localize(i) : n.a.localize(r.other)
                }
                return o[t] ? n.a.localize(o[t]) : "--"
            },
            isActiveInterval: function(t) {
                return -1 !== t.indexOf("ACTIVE")
            },
            isActivityTypeIntervalsSupported: function(t) {
                return !(!t || !t.get("activityTypeDTO")) && s.includes(t.get("activityTypeDTO").typeKey)
            }
        }
    },
    1689: function(t, e, i) {
        "use strict";
        var a = function(t, e, i, a) {
            var n = -1
              , r = null == t ? 0 : t.length;
            for (a && r && (i = t[++n]); ++n < r; )
                i = e(i, t[n], n, t);
            return i
        }
          , n = i(1854)
          , r = i(1642)
          , o = i(1409)
          , s = 1
          , l = 2;
        var c = function(t, e, i, a) {
            var n = i.length
              , c = n
              , h = !a;
            if (null == t)
                return !c;
            for (t = Object(t); n--; ) {
                var p = i[n];
                if (h && p[2] ? p[1] !== t[p[0]] : !(p[0]in t))
                    return !1
            }
            for (; ++n < c; ) {
                var d = (p = i[n])[0]
                  , u = t[d]
                  , m = p[1];
                if (h && p[2]) {
                    if (void 0 === u && !(d in t))
                        return !1
                } else {
                    var f = new r.a;
                    if (a)
                        var g = a(u, m, d, t, e, f);
                    if (!(void 0 === g ? Object(o.a)(m, u, s | l, a, f) : g))
                        return !1
                }
            }
            return !0
        }
          , h = i(1318);
        var p = function(t) {
            return t === t && !Object(h.a)(t)
        }
          , d = i(1410);
        var u = function(t) {
            for (var e = Object(d.a)(t), i = e.length; i--; ) {
                var a = e[i]
                  , n = t[a];
                e[i] = [a, n, p(n)]
            }
            return e
        };
        var m = function(t, e) {
            return function(i) {
                return null != i && i[t] === e && (void 0 !== e || t in Object(i))
            }
        };
        var f = function(t) {
            var e = u(t);
            return 1 == e.length && e[0][2] ? m(e[0][0], e[0][1]) : function(i) {
                return i === t || c(i, t, e)
            }
        }
          , g = i(1370);
        var y = function(t, e, i) {
            var a = null == t ? void 0 : Object(g.a)(t, e);
            return void 0 === a ? i : a
        }
          , v = i(1442)
          , b = i(1587)
          , A = i(1333)
          , _ = 1
          , C = 2;
        var w = function(t, e) {
            return Object(b.a)(t) && p(e) ? m(Object(A.a)(t), e) : function(i) {
                var a = y(i, t);
                return void 0 === a && a === e ? Object(v.a)(i, t) : Object(o.a)(e, a, _ | C)
            }
        }
          , x = i(1586)
          , S = i(1305);
        var T = function(t) {
            return function(e) {
                return null == e ? void 0 : e[t]
            }
        };
        var E = function(t) {
            return function(e) {
                return Object(g.a)(e, t)
            }
        };
        var k = function(t) {
            return Object(b.a)(t) ? T(Object(A.a)(t)) : E(t)
        };
        var L = function(t) {
            return "function" == typeof t ? t : null == t ? x.a : "object" == typeof t ? Object(S.a)(t) ? w(t[0], t[1]) : f(t) : k(t)
        };
        var P = function(t, e, i, a, n) {
            return n(t, function(t, n, r) {
                i = a ? (a = !1,
                t) : e(i, t, n, r)
            }),
            i
        };
        var I = function(t, e, i) {
            var r = Object(S.a)(t) ? a : P
              , o = arguments.length < 3;
            return r(t, L(e, 4), i, o, n.a)
        }
          , z = i(1857)
          , B = i(1853)
          , D = 4;
        var M = function(t) {
            return Object(B.a)(t, D)
        }
          , O = i(11)
          , R = Object.assign || function(t) {
            for (var e = 1; e < arguments.length; e++) {
                var i = arguments[e];
                for (var a in i)
                    Object.prototype.hasOwnProperty.call(i, a) && (t[a] = i[a])
            }
            return t
        }
        ;
        function N(t, e) {
            if ("function" !== typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : function(t, e) {
                for (var i = Object.getOwnPropertyNames(e), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(e, n);
                    r && r.configurable && void 0 === t[n] && Object.defineProperty(t, n, r)
                }
            }(t, e))
        }
        var V = /^on(.+)$/i
          , j = function(t) {
            function e(i, a) {
                !function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e);
                var n = function(t, e) {
                    if (!t)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !e || "object" !== typeof e && "function" !== typeof e ? t : e
                }(this, t.call(this, i, a));
                return n._leafletEvents = {},
                n
            }
            return N(e, t),
            e.prototype.componentWillMount = function() {
                this._leafletEvents = this.extractLeafletEvents(this.props)
            }
            ,
            e.prototype.componentDidMount = function() {
                this.bindLeafletEvents(this._leafletEvents)
            }
            ,
            e.prototype.componentWillReceiveProps = function(t) {
                var e = this.extractLeafletEvents(t);
                this._leafletEvents = this.bindLeafletEvents(e, this._leafletEvents)
            }
            ,
            e.prototype.componentWillUnmount = function() {
                var t = this.leafletElement;
                t && Object(z.a)(this._leafletEvents, function(e, i) {
                    t.off(i, e)
                })
            }
            ,
            e.prototype.extractLeafletEvents = function(t) {
                return I(Object(d.a)(t), function(e, i) {
                    if (V.test(i)) {
                        var a = i.replace(V, function(t, e) {
                            return e.toLowerCase()
                        });
                        null != t[i] && (e[a] = t[i])
                    }
                    return e
                }, {})
            }
            ,
            e.prototype.bindLeafletEvents = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                  , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                  , i = this.leafletElement;
                if (null == i || null == i.on)
                    return {};
                var a = M(e);
                return Object(z.a)(e, function(e, n) {
                    t[n] && e === t[n] || (delete a[n],
                    i.off(n, e))
                }),
                Object(z.a)(t, function(t, n) {
                    e[n] && t === e[n] || (a[n] = t,
                    i.on(n, t))
                }),
                a
            }
            ,
            e.prototype.fireLeafletEvent = function(t, e) {
                var i = this.leafletElement;
                i && i.fire(t, e)
            }
            ,
            e.prototype.getOptions = function(t) {
                var e = null == t.pane ? this.context.pane : t.pane;
                return e ? R({}, t, {
                    pane: e
                }) : t
            }
            ,
            e
        }(O.Component);
        e.a = j
    },
    1725: function(t, e, i) {
        (e = t.exports = i(29)(!0)).i(i(98), void 0),
        e.i(i(1234), void 0),
        e.push([t.i, ".page.activity-detail .activity-type-icon {\n        width: 60px;\n        height: 60px;\n        line-height: 60px;\n        margin-top: -4px;\n        margin-right: 11px;\n        font-size: 35px;\n        box-shadow: 0 0 0 2px #ccc;\n        text-align: center;\n        border-radius: 50%;\n        background-color: " + i(98).locals.lightui_surface_1 + ";\n        color: " + i(98).locals.iconSecondary + ";\n    }\n.page.activity-detail .page-header-content {\n        width: calc(100% - 50px);\n    }\n.page.activity-edit .page-header-content {\n        width: auto;\n    }\n.page.activity-detail .page-feature {\n        position: relative;\n    }\n.page.activity-edit .page-feature {\n        min-height: 22px;\n        height: auto;\n    }\n.page.activity-detail .page-header-content .page-title .data-bit {\n        margin-top: -4px;\n    }\n.page.activity-detail .page-header-content .page-title .inline-edit-editable,\n    .page.activity-detail .page-header-content .page-title .page-title-overflow {\n        max-width: calc(100% - 110px);\n    }\n.page.activity-detail .page-header-content .page-title .page-title-overflow {\n        display: inline-block;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    }\n.page.activity-detail .page-header-content .page-title .inline-edit-editable-text.page-title-overflow {\n        text-overflow: inherit;\n        max-width: 100%;\n    }\n.page.activity-detail .page-header-content .date-block {\n        margin-top: -36px;\n        position: relative;\n        z-index: 1;\n    }\n.page.activity-detail .activity-detail-title input {\n        margin-top: -4px;\n        line-height: 15px;\n        padding: 0 4px;\n        box-shadow: inset 0 2px #eee;\n    }\n.page.activity-detail .activity-title-time {\n        cursor: pointer;\n        border-bottom: 1px dotted #999;\n    }\n.page.activity-detail .icon-personal-records {\n        color: #ff9e0d;\n        vertical-align: middle;\n    }\n.page.activity-detail .page-title .icon-personal-records {\n        font-size: 18px;\n        height: 18px;\n        width: 18px;\n        line-height: 18px;\n        margin-top: -18px;\n        margin-left: 8px;\n    }\n.page.activity-detail .multisport-nav .icon-personal-records {\n        font-size: 16px;\n        height: 16px;\n        width: 16px;\n        line-height: 16px;\n        margin-top: -5px;\n        margin-left: 3px;\n    }\n.page.activity-detail .overflow-nav-container.overflow .multisport-nav {\n        padding-left: 30px;\n    }\n.page.activity-detail .multisport-nav > li:first-child {\n        position: relative;\n        margin-right: 20px;\n        margin-left: 10px;\n    }\n.page.activity-detail .multisport-nav > li:first-child:after {\n        content: '';\n        display: block;\n        border-left: 1px solid #eee;\n        padding: 0;\n        margin: 10px;\n        height: 75px;\n        width: 0;\n        position: absolute;\n        left: 100%;\n        top: 0;\n    }\n.page.activity-detail .multisport-nav > li:first-child a {\n        padding-left: 20px;\n        padding-right: 20px;\n    }\n.page.activity-detail .multisport-nav > li:first-child .time {\n        font-weight: 600;\n    }\n.page.activity-detail .event-type,\n    .page.activity-detail .course-type {\n        margin-right: 10px;\n    }\n.page.activity-detail .event-type .dropdown-menu {\n        z-index: 2;\n    }\n.page.activity-detail .stats .data-block {\n        margin-bottom: 11px;\n    }\n.page.activity-detail .stats h3 {\n        border-bottom: 1px solid #ddd;\n        font-size: 14px;\n        margin-bottom: 11px;\n    }\n.page.activity-detail .stats .stat-block {\n        margin-bottom: 33px;\n    }\n.modal .rd-color {\n        display: inline-block;\n        height: 20px;\n        width: 20px;\n        vertical-align: middle;\n        border-radius: 20px;\n        margin-right: 10px;\n        margin-top: -2px;\n    }\n.page.activity-detail .mtbStat .data-block {\n        display: inline-block;\n        margin-left: 20px;\n        margin-bottom: 20px;\n    }\n.page.activity-detail .mtbStat .trophy-container {\n        width: 20px;\n        height: 20px;\n        position: absolute;\n        margin-left: 30px;\n    }\n.page.activity-detail .has-tooltip.jump-icon {\n        margin-top: 7px;\n    }\n.page.activity-detail .mtbStat .trophy-container > .icon-personal-records {\n        color: black;\n    }\n.page.activity-detail .leaflet-popup.jump-map-tooltip {\n        opacity: 0.9 !important;\n    }\n.jump-tooltip-container {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: column;\n                flex-direction: column;\n        font-size: 12px;\n    }\n.jump-tooltip-container .tooltip-row {\n        text-align: left;\n    }\n.page.activity-detail .leaflet-popup-content-wrapper,\n    .leaflet-popup-content {\n        border-radius: 3px !important;\n    }\n/*  ======================\n        More about Training Effect\n        ====================== */\n.modal-training-effect .te-feedback {\n        float: left;\n        clear: right;\n        width: 330px;\n    }\n.modal-training-effect .te-score {\n        float: right;\n        width: 175px;\n    }\n.modal-training-effect hr {\n        clear: both;\n    }\n/*FIX OVERLAPPING PILLS ON SMALL WINDOWS AND SIDEBAR OPEN*/\n@media (max-width: 1540px) {\n        .page.activity-detail .stats .btn-group .btn-small {\n            padding: 3px 6px;\n            font-size: 10px;\n        }\n    }\n/*  ======================\n        Primary Stats\n        ====================== */\n.page.activity-detail .nav.multisport-nav {\n        margin-bottom: 26px;\n    }\n.page.activity-detail .stats-primary .data-block {\n        display: inline-block;\n        float: left;\n        box-sizing: border-box;\n        width: 50%;\n        padding-right: 20px;\n    }\n.page.activity-detail .stats-primary .data-label {\n        display: block;\n        margin-top: 6px;\n        line-height: 16px;\n    }\n@media (min-width: 992px) {\n         {\n        /* Detect 3 .data-block elements */\n        /* Detect 4 .data-block elements */\n        /* Detect 5 .data-block elements */\n}\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(3),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(3) ~ .data-block {\n            width: 33%;\n        }\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(4),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(4) ~ .data-block {\n            width: 25%;\n        }\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) ~ .data-block {\n            width: 20%;\n        }\n    }\n@media (min-width: 992px) and (max-width: 1199px) {\n         {\n        /* Detect 5 .data-block elements */\n}\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) .data-bit,\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) ~ .data-block .data-bit {\n            font-size: 22px;\n            line-height: 24px;\n        }\n    }\n/*  ======================\n        Time in Zones\n        ====================== */\n.tab-time-in-zones .table-heart-rate-zones,\n    .tab-time-in-zones .table-power-zones {\n        width: 100%;\n    }\n.tab-time-in-zones * {\n        box-sizing: border-box;\n    }\n.tab-time-in-zones .stat-block > h3 {\n        margin-bottom: 10px;\n    }\n.tab-time-in-zones .heart-rate-zones .zone-1 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-1 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-1 .zone-time {\n        background: #6d8594;\n    }\n.tab-time-in-zones .heart-rate-zones .zone-2 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-2 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-2 .zone-time {\n        background: #39a9ec;\n    }\n.tab-time-in-zones .heart-rate-zones .zone-3 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-3 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-3 .zone-time {\n        background: #50af12;\n    }\n.tab-time-in-zones .heart-rate-zones .zone-4 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-4 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-4 .zone-time {\n        background: #f79d0c;\n    }\n.tab-time-in-zones .heart-rate-zones .zone-5 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-5 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-5 .zone-time {\n        background: #f4253c;\n    }\n.tab-time-in-zones .power-zones .zone-1 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-1 .zone-name,\n    .tab-time-in-zones .power-zones .zone-1 .zone-time {\n        background: #6d8594; /*FAD117; */\n    }\n.tab-time-in-zones .power-zones .zone-2 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-2 .zone-name,\n    .tab-time-in-zones .power-zones .zone-2 .zone-time {\n        background: #39a9ec; /*8264DB; */\n    }\n.tab-time-in-zones .power-zones .zone-3 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-3 .zone-name,\n    .tab-time-in-zones .power-zones .zone-3 .zone-time {\n        background: #50af12; /*6D8594; */\n    }\n.tab-time-in-zones .power-zones .zone-4 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-4 .zone-name,\n    .tab-time-in-zones .power-zones .zone-4 .zone-time {\n        background: #fad117; /*39A9EC; */\n    }\n.tab-time-in-zones .power-zones .zone-5 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-5 .zone-name,\n    .tab-time-in-zones .power-zones .zone-5 .zone-time {\n        background: #f79d0c; /*50AF12; */\n    }\n.tab-time-in-zones .power-zones .zone-6 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-6 .zone-name,\n    .tab-time-in-zones .power-zones .zone-6 .zone-time {\n        background: #f4253c; /*F79D0C; */\n    }\n.tab-time-in-zones .power-zones .zone-7 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-7 .zone-name,\n    .tab-time-in-zones .power-zones .zone-7 .zone-time {\n        background: #8264db; /*F4253C; */\n    }\n.tab-time-in-zones .table-heart-rate-zones tr td,\n    .tab-time-in-zones .table-power-zones tr td {\n        border-right: 1px solid #fff;\n        border-bottom: 1px solid #fff;\n        padding: 0px;\n    }\n.tab-time-in-zones .table-heart-rate-zones td > div,\n    .tab-time-in-zones .table-power-zones td > div {\n        padding: 12px 20px;\n    }\n.tab-time-in-zones td.zone-name {\n        width: 30px;\n    }\n.tab-time-in-zones td.zone-name > div {\n        background: rgba(255, 255, 255, 0.6);\n        /*opacity: 20;*/\n        border: none;\n    }\n.tab-time-in-zones td.zone-time {\n        width: 30px;\n    }\n.tab-time-in-zones td.zone-time > div {\n        background: rgba(255, 255, 255, 0.6);\n        text-align: right;\n        border: none;\n        /*opacity: 20;*/\n    }\n.tab-time-in-zones td.zone-percent {\n        position: relative;\n    }\n.tab-time-in-zones td.zone-percent > div {\n        position: absolute;\n        top: 0px;\n        bottom: 0px;\n        padding: 12px 0px;\n    }\n.tab-time-in-zones td.zone-percent > div > span {\n        /*width: 700px;*/\n        display: block;\n        position: absolute;\n        left: 100%;\n        padding-left: 10px;\n    }\n.tab-time-in-zones .heart-rate-zones {\n        margin-bottom: 20px;\n    }\n/*  ======================\n        Charts\n        ======================  */\n.page.activity-detail .chart-header-item {\n        font-size: 14px;\n    }\n.page.activity-detail .chart-list-customize:hover {\n        color: inherit;\n        text-decoration: none;\n    }\n.page.activity-detail .chart-header .chart-zoom-toggle {\n        padding: 0 3px;\n        margin-left: 20px;\n        margin-right: 5px;\n        vertical-align: middle;\n    }\n.page.activity-detail .overlay-item {\n        float: left;\n        margin-left: 30px;\n    }\n.page.activity-detail .chart-name .chart-title {\n        margin-right: 10px;\n    }\n.page.activity-detail .chart-name,\n    .page.activity-detail .chart-max-avg-power,\n    .page.activity-detail .chart-lap-avg-pace {\n        display: inline-block;\n    }\n.page.activity-detail .chart-max-avg-power,\n    .page.activity-detail .chart-lap-avg-pace {\n        margin-left: 30px;\n    }\n.page.activity-detail .chart-max-avg-power .custom-max-avg-power {\n        padding: 0 20px;\n        white-space: nowrap;\n    }\n.page.activity-detail .chart-zoom .overlay-item button {\n        font-size: 18px;\n        font-weight: 100;\n    }\n.page.activity-detail .chart-toggle-options .time-toggle {\n        margin-right: -5px;\n        background-color: " + i(98).locals.primary + ";\n        color: " + i(98).locals.textLight + ";\n        border-right: 0 transparent;\n        border-radius: 4px 0 0 4px;\n    }\n.page.activity-detail .chart-toggle-options .distance-toggle {\n        border-left: 0 transparent;\n        border-radius: 0 4px 4px 0;\n    }\n.page.activity-detail .chart-toggle-options .length-rests-toggle {\n        margin-right: -5px;\n        border-right: 0 transparent;\n        border-radius: 4px 0 0 4px;\n    }\n.page.activity-detail .activity-charts-container .btn-customize-charts {\n        background: transparent;\n        color: black;\n        box-shadow: none;\n        border: 1px solid #ccc;\n        padding: 5px 10px;\n    }\n.page.activity-detail .chart-toggle-options button,\n    .page.activity-detail .customize-charts-controls .reorder-widgets-set,\n    .page.activity-detail .customize-charts-controls .reorder-widgets-cancel {\n        border-radius: 2px;\n        border: 1px solid #ccc;\n        background: transparent;\n        color: black;\n        box-shadow: none;\n    }\n.page.activity-detail .customize-charts-controls .reorder-widgets-set {\n        background-color: #11a9ed;\n        color: " + i(98).locals.textLight + ";\n    }\n.page.activity-detail .customize-charts-list {\n        top: -6px;\n        left: -1px;\n        min-width: 200px;\n        border-radius: 10px;\n        background: white;\n        padding-left: 20px;\n        padding-right: 10px;\n        padding-top: 10px;\n    }\n.page.activity-detail .customize-charts-header {\n        margin-top: -5px;\n        margin-left: -10px;\n    }\n.page.activity-detail .dropdown-menu label {\n        margin-bottom: 10px;\n    }\n.page.activity-detail .sortable-checkboxes .chart-off {\n        display: none;\n    }\n.page.activity-detail .sortable-checkboxes.sort-mode .sortable-checkbox:not(:checked) + .chart-off {\n        display: block;\n        top: 1px;\n    }\n.widget .heart-rate .chart-color-circle,\n    .page.activity-detail .chart-color-circle {\n        background-color: #e8e8e8;\n        border-radius: 50%;\n        height: 11px;\n        width: 11px;\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: 5px;\n        margin-top: -3px;\n    }\n.page.activity-detail .no-overlay .chart-color-circle {\n        display: none;\n    }\n.page.activity-detail .chart-zoom .chart-color-circle {\n        height: 16px;\n        width: 16px;\n        margin-top: -4px;\n    }\n.page.activity-detail .stress .chart-color-circle {\n        background-color: #ff9e0d;\n    }\n.page.activity-detail .movement .chart-color-circle {\n        background-color: #b0e1f7;\n    }\n.page.activity-detail .speed .chart-color-circle {\n        background-color: #11a9ed;\n    }\n.page.activity-detail .elevation .chart-color-circle {\n        background-color: #4cb200;\n    }\n.page.activity-detail .breath-rate .chart-color-circle {\n        background-color: #5036a3;\n    }\n.widget .heart-rate .chart-color-circle,\n    .page.activity-detail .heart-rate .chart-color-circle {\n        background-color: #ff0035;\n    }\n.page.activity-detail .performance-condition .chart-color-circle {\n        background-color: #6e8594;\n    }\n.page.activity-detail .cadence .chart-color-circle,\n    .page.activity-detail .stride-length .chart-color-circle {\n        background-color: #ff9e0d;\n    }\n.page.activity-detail .power .chart-color-circle,\n    .page.activity-detail .power-balance .chart-color-circle {\n        background-color: #cf23b8;\n    }\n.page.activity-detail .power-phase-start .chart-color-circle {\n        background-color: #11a9ed;\n    }\n.page.activity-detail .power-phase-end .chart-color-circle {\n        background-color: #50b012;\n    }\n.page.activity-detail .pco-left .chart-color-circle {\n        background-color: #bf0f24;\n    }\n.page.activity-detail .pco-right .chart-color-circle {\n        background-color: #ed7e00;\n    }\n.page.activity-detail .temperature .chart-color-circle {\n        background-color: #6e8594;\n    }\n.page.activity-detail .vertical-o .chart-color-circle,\n    .page.activity-detail .vertical-r .chart-color-circle {\n        background-color: #cf25bb;\n    }\n.page.activity-detail .reset-zoom,\n    .page.activity-detail .chart-zoom .x-axis-value {\n        position: relative;\n        left: 50%;\n        -webkit-transform: translateX(-50%);\n        transform: translateX(-50%);\n    }\n/*  ======================\n        Swim Intervals\n        ======================  */\n.page.activity-detail .modal-body h2,\n    .page.activity-detail .modal-body h5 {\n        display: inline-block;\n    }\n.page.activity-detail .swim-interval .interval-title {\n        font-weight: 600;\n        margin: 22px 0 11px 0;\n    }\n.page.activity-detail .swim-interval .interval-title .distance,\n    .page.activity-detail .swim-interval .interval-title .time {\n        font-weight: 400;\n        font-size: 14px;\n        display: inline-block;\n        margin-left: 8px;\n    }\n.page.activity-detail .swim-length {\n        width: 110px;\n        height: 55px;\n        line-height: 40px;\n        float: left;\n        text-align: center;\n        background-color: #fafafa;\n        margin-right: -1px;\n        margin-bottom: 8px;\n        border: 1px solid #ddd;\n        overflow: hidden;\n    }\n.page.activity-detail .swim-length.first {\n        border-radius: 30px 0 0 30px;\n    }\n.page.activity-detail .swim-length.last {\n        border-radius: 0 30px 30px 0;\n        margin-right: 5px;\n    }\n.page.activity-detail .swim-length.first .type {\n        padding-left: 15px;\n    }\n.page.activity-detail .swim-length.last .type {\n        padding-right: 15px;\n    }\n.page.activity-detail .swim-length.first.last {\n        border-radius: 30px;\n    }\n.page.activity-detail .swim-length .type,\n    .page.activity-detail .swim-length .first.last .type {\n        height: 15px;\n        line-height: 15px;\n        font-size: 9px;\n        text-transform: uppercase;\n        color: rgba(255, 255, 255, 0.7);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        padding: 0 5px;\n    }\n.page.activity-detail .swim-length .number {\n        background: #ddd;\n        display: inline-block;\n        vertical-align: middle;\n        width: 22px;\n        height: 22px;\n        line-height: 22px;\n        font-size: 12px;\n        border-radius: 50%;\n        color: #444;\n        float: left;\n        margin-top: 10px;\n        margin-left: 15px;\n    }\n.page.activity-detail .swim-length .time {\n        font-weight: 100;\n        font-size: 18px;\n        color: #222;\n        float: right;\n        margin-right: 15px;\n    }\n.page.activity-detail .swim-length.freestyle .type {\n        background: #cf23b8;\n    }\n.page.activity-detail .swim-length.butterfly .type {\n        background: #11a9ed;\n    }\n.page.activity-detail .swim-length.backstroke .type {\n        background: #50b012;\n    }\n.page.activity-detail .swim-length.breaststroke .type {\n        background: #ff0035;\n    }\n.page.activity-detail .swim-length.drill .type {\n        background: #ed7e00;\n    }\n.page.activity-detail .swim-length.drill .number {\n        display: none;\n    }\n.page.activity-detail .swim-length.drill .time {\n        float: none;\n        margin-right: 0;\n    }\n.page.activity-detail .swim-length.mixed .type,\n    .page.activity-detail .swim-length.unknown .type {\n        background: #888;\n    }\n.page.activity-detail .swim-rest {\n        float: left;\n        margin-bottom: 8px;\n        line-height: 40px;\n        background: #ddd;\n        border-radius: 30px;\n        overflow: hidden;\n        width: 90px;\n        text-align: center;\n        border: 1px solid #ddd;\n    }\n.page.activity-detail .swim-rest .type {\n        height: 15px;\n        line-height: 15px;\n        font-size: 9px;\n        text-transform: uppercase;\n        color: #eee;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        padding: 0 5px;\n        background: #bbb;\n    }\n.page.activity-detail .swim-rest .time {\n        font-size: 18px;\n        font-weight: 100;\n    }\n/*  ======================\n        Player\n        ======================  */\n.page.activity-detail .map-controls.player {\n        margin-left: calc(50% - 16px);\n        width: 33px;\n    }\n.page.activity-detail .map-controls button.disabled {\n        display: none;\n    }\n@media (max-width: 415px) {\n        .page.activity-detail #map-controls {\n            display: -webkit-flex;\n            display: flex;\n            -webkit-flex-direction: column;\n                    flex-direction: column;\n        }\n\n        .page.activity-detail #map-controls .map-control-item {\n            margin-bottom: 5px;\n        }\n    }\n/*  ======================\n        Laps checkbox\n        ======================  */\n.page.activity-detail .map-control-item.laps {\n        width: auto;\n        white-space: nowrap;\n    }\n.page.activity-detail .map-control-item.laps label {\n        line-height: 33px;\n        padding-right: 10px;\n    }\n.page.activity-detail .map-control-item.laps label input {\n        margin-top: 11px;\n        margin-right: 5px;\n        margin-left: 10px;\n    }\n/*  ======================\n        Mobile Scroll Toggle\n        ======================  */\n.page.activity-detail .map-control-item.scrolling {\n        clear: left;\n        width: auto;\n        margin-top: 6px;\n        padding-right: 10px;\n        padding-left: 10px;\n        white-space: nowrap;\n    }\n/*  ======================\n        Weather\n        ======================  */\n.page.activity-detail .weather *,\n    .page.activity-detail .weather.large * {\n        transition: 150ms cubic-bezier(0.175, 0.885, 0.305, 1.24);\n        -webkit-transform-style: preserve-3d;\n        transform-style: preserve-3d;\n    }\n.page.activity-detail .weather {\n        right: 10px;\n        left: auto;\n        cursor: pointer;\n        margin-bottom: 5px;\n    }\n.page.activity-detail .weather .map-control-item {\n        margin-right: 0;\n        width: auto;\n        padding: 0 5px;\n        overflow: hidden;\n    }\n.page.activity-detail .weather span {\n        display: inline-block;\n        vertical-align: middle;\n        position: relative;\n        margin: 0 2px;\n    }\n.page.activity-detail .weather .trigger {\n        top: 5px;\n        left: -4px;\n    }\n.page.activity-detail .weather .trigger i {\n        color: " + i(98).locals.iconSecondary + ";\n        font-size: 11px;\n        height: 11px;\n        width: 11px;\n        line-height: 11px;\n        margin-top: 0;\n    }\n.page.activity-detail .weather .temperature {\n        font-size: 22px;\n        font-weight: 100;\n        line-height: 33px;\n    }\n.page.activity-detail .weather .humidity-percentage {\n        font-size: 22px;\n        font-weight: 100;\n        line-height: 33px;\n    }\n.page.activity-detail .weather .weather-icon {\n        margin-right: 5px;\n    }\n.page.activity-detail .weather .weather-icon img {\n        height: 31px;\n        width: 31px;\n    }\n.page.activity-detail .weather .wind {\n        width: 21px;\n        height: 21px;\n        line-height: 21px;\n        text-align: center;\n        font-size: 12px;\n        border: 1px solid #222;\n        border-radius: 50%;\n        margin-right: 0;\n    }\n.page.activity-detail .weather .wind:before {\n        content: '';\n        display: block;\n        width: 0;\n        height: 15px;\n        border-width: 7px 3px;\n        border-style: solid;\n        border-color: #222 transparent transparent transparent;\n        position: absolute;\n        top: -4px;\n        left: 8px;\n    }\n/*\n    .page.activity-detail .wind-n:before {\n        nothing needed - north is the default\n    }\n    */\n.page.activity-detail .wind-nne:before {\n        -webkit-transform: rotate(22.5deg);\n        transform: rotate(22.5deg);\n    }\n.page.activity-detail .wind-ne:before {\n        -webkit-transform: rotate(45deg);\n        transform: rotate(45deg);\n    }\n.page.activity-detail .wind-ene:before {\n        -webkit-transform: rotate(77.5deg);\n        transform: rotate(77.5deg);\n    }\n.page.activity-detail .wind-e:before {\n        -webkit-transform: rotate(90deg);\n        transform: rotate(90deg);\n    }\n.page.activity-detail .wind-ese:before {\n        -webkit-transform: rotate(112.5deg);\n        transform: rotate(112.5deg);\n    }\n.page.activity-detail .wind-se:before {\n        -webkit-transform: rotate(135deg);\n        transform: rotate(135deg);\n    }\n.page.activity-detail .wind-sse:before {\n        -webkit-transform: rotate(157.5deg);\n        transform: rotate(157.5deg);\n    }\n.page.activity-detail .wind-s:before {\n        -webkit-transform: rotate(180deg);\n        transform: rotate(180deg);\n    }\n.page.activity-detail .wind-ssw:before {\n        -webkit-transform: rotate(202.5deg);\n        transform: rotate(202.5deg);\n    }\n.page.activity-detail .wind-sw:before {\n        -webkit-transform: rotate(225deg);\n        transform: rotate(225deg);\n    }\n.page.activity-detail .wind-wsw:before {\n        -webkit-transform: rotate(247.5deg);\n        transform: rotate(247.5deg);\n    }\n.page.activity-detail .wind-w:before {\n        -webkit-transform: rotate(270deg);\n        transform: rotate(270deg);\n    }\n.page.activity-detail .wind-wnw:before {\n        -webkit-transform: rotate(292.5deg);\n        transform: rotate(292.5deg);\n    }\n.page.activity-detail .wind-nw:before {\n        -webkit-transform: rotate(315deg);\n        transform: rotate(315deg);\n    }\n.page.activity-detail .wind-nnw:before {\n        -webkit-transform: rotate(337.5deg);\n        transform: rotate(337.5deg);\n    }\n.page.activity-detail .weather .map-control-item .details {\n        display: none;\n    }\n.page.activity-detail .weather.weather-large .map-control-item {\n        height: 70px;\n        border-radius: 35px;\n        padding-right: 10px;\n    }\n.page.activity-detail .weather.weather-large .trigger {\n        top: -4px;\n        left: -3px;\n        -webkit-transform: rotate(180deg);\n        transform: rotate(180deg);\n    }\n.page.activity-detail .weather.weather-large .temperature {\n        font-size: 32px;\n        margin-left: 8px;\n    }\n.page.activity-detail .weather.weather-large .humidity-percentage {\n        font-size: 32px;\n        margin-left: 8px;\n    }\n.page.activity-detail .weather.weather-large .weather-icon img {\n        width: 70px;\n        height: 70px;\n    }\n.page.activity-detail .weather.weather-large .wind {\n        font-size: 18px;\n        width: 35px;\n        height: 35px;\n        line-height: 35px;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n.page.activity-detail .weather.weather-large .wind:before {\n        border-width: 11px 4px;\n        height: 25px;\n        left: 13px;\n        top: -6px;\n    }\n.page.activity-detail .weather.weather-large .details {\n        display: inline-block;\n        margin: 4px 8px 8px 0;\n    }\n.page.activity-detail .weather .details ul {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n        font-size: 12px;\n    }\n.page.activity-detail .weather .details li {\n        margin: 0;\n        padding: 0;\n        line-height: 1.4;\n    }\n.page.activity-detail .weather .details .source {\n        font-size: 9px;\n        color: " + i(98).locals.textMedium + ";\n    }\n@media (max-width: " + i(1234).locals.endXS + ") {\n        .page.activity-detail .weather.weather-large .map-control-item {\n            max-width: 270px;\n        }\n\n        .page.activity-detail .weather .weather-icon {\n            max-width: 40px;\n        }\n\n        .page.activity-detail .weather.weather-large .temperature {\n            font-size: 20px;\n            margin-left: 5px;\n        }\n\n        .page.activity-detail .weather.weather-large .weather-icon img {\n            width: 35px;\n            height: 35px;\n        }\n\n        .page.activity-detail .weather.weather-large .wind {\n            font-size: 16px;\n            width: 25px;\n            height: 25px;\n            line-height: 25px;\n        }\n\n        .page.activity-detail .weather.weather-large .wind:before {\n            height: 20px;\n            left: 9px;\n            top: -8px;\n        }\n\n        .page.activity-detail .weather.weather-large .details {\n            margin: 4px 4px 4px 0;\n        }\n    }\n/*  ======================\n        Splits and intervals table\n        ======================  */\n.page.activity-detail .tab-overflow {\n        overflow: scroll;\n    }\n.page.activity-detail .splits-table th,\n    .page.activity-detail .intervals-table th {\n        white-space: nowrap;\n        padding-left: 20px;\n        text-align: right;\n    }\n.page.activity-detail .splits-table th:nth-child(1),\n    .page.activity-detail .splits-table th:nth-child(2),\n    .page.activity-detail .intervals-table th:nth-child(2) {\n        text-align: center;\n    }\n.page.activity-detail .intervals-table th:nth-child(2) {\n        padding-right: 20px;\n    }\n.page.activity-detail .splits-table td,\n    .page.activity-detail .intervals-table td {\n        text-align: right;\n        white-space: nowrap;\n    }\n.page.activity-detail .splits-table td:nth-child(1),\n    .page.activity-detail .splits-table td:nth-child(2),\n    .page.activity-detail .intervals-table td:nth-child(2) {\n        text-align: center;\n    }\n.page.activity-detail .splits-table tfoot,\n    .page.activity-detail .intervals-table tfoot {\n        font-weight: bold;\n    }\n.page.activity-detail .activity-intervals-tab-content-placeholder {\n        overflow: auto;\n        min-height: 190px;\n    }\n/*  ======================\n        Gases and Tanks table\n        ======================  */\n.page.activity-detail .gases-and-tanks-table th,\n    .page.activity-detail .gases-and-tanks-table td {\n        white-space: nowrap;\n        padding-left: 10px;\n        padding-right: 10px;\n        text-align: center;\n    }\n/* Embed modal */\n.embed-activity-input[type='text'] {\n        margin-bottom: 11px;\n        width: 97%;\n        cursor: pointer;\n    }\n.embed-activity-iframe {\n        margin-left: 30px;\n    }\n.modal.activity-detail-embed .modal-body {\n        max-height: 600px;\n    }\n/* Create / Find segment button */\n.page.activity-detail .activity-segments-container {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: column;\n                flex-direction: column;\n    }\n.page.activity-detail .create-segment .icon-add {\n        font-size: 12px;\n        height: 12px;\n        width: 12px;\n        line-height: 12px;\n        margin-top: 4px;\n        margin-right: 5px;\n    }\n.page.activity-detail .segment-match-container {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: column;\n                flex-direction: column;\n    }\n.page.activity-detail .segment-match-container .segment-match-actions {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-justify-content: flex-end;\n                justify-content: flex-end;\n    }\n/* Segments table */\n.page.activity-detail .segments-table {\n        table-layout: fixed;\n    }\n.page.activity-detail .segments-table .segment-name {\n        min-width: 190px;\n    }\n.page.activity-detail .segments-table .segment-rank {\n        width: 40px;\n    }\n.page.activity-detail .segments-table .segment-link {\n        vertical-align: middle;\n        width: 100%;\n    }\n.page.activity-detail .segments-table .segment-time {\n        width: 75px;\n    }\n.page.activity-detail .segments-table .segment-pace {\n        width: 90px;\n    }\n.page.activity-detail .segments-table .segment-fav,\n    .page.activity-detail .segments-table .segment-visible {\n        width: 25px;\n    }\n.page.activity-detail .segments-table .icon-star.fav {\n        vertical-align: middle;\n    }\n.page.activity-detail .segments-table .icon-eye {\n        vertical-align: middle;\n        font-size: 18px;\n        color: #c7c7c7;\n        cursor: pointer;\n    }\n.page.activity-detail .segments-table .icon-eye.active {\n        color: " + i(98).locals.iconSecondaryDark + ";\n    }\n@media (max-width: " + i(1234).locals.endSM + ") {\n        .page.activity-detail .segments-table {\n            /* Creates a horizontally scrollable table that moves independently from the page when the page is too narrow */\n            display: block;\n            overflow-x: auto;\n            max-width: 90vw;\n        }\n    }\n/* Additional info */\n.page.activity-detail .additional-info > div {\n        text-align: center;\n    }\n.page.activity-detail .additional-info .device-image img {\n        width: 50%;\n    }\n.page.activity-detail .additional-info .device-name {\n        font-weight: 600;\n    }\n/* mbtester - admin */\n.page.activity-detail .additional-info .admin {\n        background: #e6ff84;\n    }\n.page.activity-detail .power-curve-excluded {\n        margin-top: 40px;\n    }\n.page.activity-detail .power-curve-excluded .heading {\n        font-size: 18px;\n    }\n.page.activity-detail .power-curve-excluded .sub-heading {\n        margin: 20px 0px 10px 0px;\n    }\n/*  ======================\n        Manual Activity Page / Edit Activity\n        ======================  */\n.page.activity-edit .time-zone-select {\n        font-size: 12px;\n        margin-left: 5px;\n        cursor: pointer;\n    }\n.page.activity-edit .time-zone-select > a {\n        display: inline-block;\n        line-height: 11px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n.page.activity-edit .avg-pace-speed {\n        width: auto;\n    }\n.page.activity-edit .advanced-edit-actions-container {\n        display: -webkit-flex;\n        display: flex;\n        width: 210px;\n        -webkit-justify-content: space-between;\n                justify-content: space-between;\n    }\n/*  ======================\n        Multisport\n        ======================  */\n.page.activity-detail .multisport-nav > li {\n        text-align: center;\n    }\n.page.activity-detail .multisport-nav > li > a {\n        padding-bottom: 10px;\n    }\n.page.activity-detail .multisport-nav > li > a > .icon > i {\n        display: block;\n        margin: 0 auto;\n        font-size: 36px;\n        width: 36px;\n        height: 36px;\n        line-height: 36px;\n    }\n.page.activity-detail .multisport-nav > li > a > .icon > .icon-activity-transition {\n        font-size: 20px;\n    }\n.page.activity-detail .multisport-nav > li > a > .avg-stat {\n        font-size: 10px;\n        line-height: 1;\n        height: 10px;\n    }\n.page.activity-detail .multisport-nav .dropdown-menu i {\n        font-size: 16px;\n        width: 16px;\n        height: 16px;\n        line-height: 16px;\n        margin-right: 10px;\n    }\n.page.activity-detail .multisport-nav .dropdown-menu {\n        text-align: left;\n    }\n/*  ======================\n        Connect IQ Label\n        ======================  */\n.ciq-label {\n        color: " + i(98).locals.textMedium + ";\n        font-size: 12px;\n        width: 12px;\n        height: 11px;\n        line-height: 11px;\n        margin-left: 5px;\n        vertical-align: middle;\n    }\n/*  ======================\n        Media queries for responsive breakpoints\n        ======================  */\n@media (max-width: 1158px) {\n        .page.activity-detail .activity.stats .row-fluid [class*='span'] {\n            width: 100%;\n            margin-left: 0;\n        }\n    }\n/*  ======================\n        Cycling Dynamics Tab\n        ======================  */\n.cycling-dynamics .custom-max-avg-power {\n        display: inline-block;\n        margin-top: -10px;\n    }\n.cycling-dynamics .max-avg-label {\n        margin-right: 5px;\n    }\n.cycling-dynamics .cycling-tab-controls {\n        min-height: 30px;\n    }\n.cycling-dynamics .cycling-tab-controls .input-small {\n        margin-bottom: 0;\n    }\n/*  ======================\n        Platform Center Offset\n        ======================  */\n.cycling-dynamics .pco-content {\n        padding: 0 21px;\n    }\n.cycling-dynamics .pco-content .chart-container {\n        margin: 0 auto;\n        height: 160px;\n    }\n.platform-center-offset > canvas {\n        width: 160px;\n        height: 160px;\n        background-position: 0 0;\n        background-repeat: no-repeat;\n    }\n.platform-center-offset-left > canvas {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/platform-center-offset-left.svg');\n    }\n.platform-center-offset-right > canvas {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/platform-center-offset-right.svg');\n    }\n/*  ======================\n        Peak Power Phase\n        ======================  */\n.power-phase {\n        width: 100%;\n        padding-bottom: 10px;\n        margin-bottom: 20px;\n        border-bottom: 1px solid #ddd;\n    }\n.power-phase-charts {\n        width: 660px;\n        height: 260px;\n        margin: 0 auto;\n    }\n.power-phase-charts > div {\n        width: 325px;\n    }\n.power-phase-charts > div:first-child {\n        float: left;\n    }\n.power-phase-charts > div:last-child {\n        float: right;\n    }\n.power-phase-charts .chart-container {\n        /* Dynamic Highchart Graphic */\n        margin-top: -273px;\n        margin-left: 17px;\n    }\n.power-phase-charts .chart-container sup {\n        font-size: 22px;\n        top: -12px;\n    }\n.power-phase-graphic {\n        /* Background Image */\n        display: inline-block;\n        width: 250px;\n        height: 250px;\n        margin: 0 0 22px 0;\n        background-position: 0 0;\n        background-repeat: no-repeat;\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/power-phase.svg');\n    }\n@media (max-width: 1310px) {\n        .cycling-dynamics .custom-max-avg-power {\n            display: block;\n            margin-top: 10px;\n        }\n        .cycling-dynamics #avg-power-range-value {\n            float: none;\n            display: inline-block;\n        }\n    }\n@media (max-width: 640px) {\n        .power-phase-charts {\n            width: 100%;\n        }\n        .power-phase-charts > div {\n            width: 195px;\n        }\n        .power-phase-charts .chart-container {\n            margin-top: -225px;\n            margin-left: -18px;\n        }\n        .power-phase-graphic {\n            width: 200px; /* chart design is small */\n            height: 200px;\n        }\n    }\n@media (max-width: 520px) {\n        .power-phase {\n            border-width: 0;\n        }\n        .power-phase-charts {\n            height: 520px;\n        }\n        .power-phase-charts > div:first-child,\n        .power-phase-charts > div:last-child {\n            float: none;\n            width: 325px;\n            margin: 0 auto 30px auto;\n        }\n        .power-phase .chart-container {\n            margin-top: -274px;\n            margin-left: 19px;\n        }\n        .power-phase-graphic {\n            width: 250px; /* chart design is medium & stacked */\n            height: 250px;\n        }\n    }\n/*  ======================\n        Seated & Standing Position\n        ======================  */\n.cycling-dynamics .seated-standing {\n        padding-left: 20px;\n        padding-right: 20px;\n        margin-bottom: 0;\n        border-left: 1px solid #ddd;\n    }\n.position-seated > span,\n    .position-standing > span {\n        margin: auto auto 0 auto;\n        max-width: 80%;\n        vertical-align: bottom;\n        display: block;\n        width: 200px;\n        height: 160px;\n        background-position: center;\n        background-repeat: no-repeat;\n        margin-left: auto;\n        margin-right: auto;\n    }\n.position-seated > span {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/seated.svg');\n    }\n.position-standing > span {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/standing.svg');\n    }\n/*  ======================\n        Media Queries provided by Joshua Johnston (front-end team)\n        ======================  */\n@media (max-width: 1175px) {\n        .pco-content .span6,\n        .seated-standing .span6 {\n            width: 100%; /* stack these graphics early */\n            margin: 0 auto;\n        }\n    }\n@media (max-width: 767px) {\n        .cycling-dynamics .seated-standing {\n            border-left: 0;\n        }\n    }\n@media (max-width: 653px) {\n        .cycling-dynamics .cycling-tab-controls {\n            max-height: 85px;\n        }\n    }\n/*  ======================\n        Activity List Table in Modal\n        ======================  */\n.modal .activity-list .activity-title {\n        width: 250px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        display: inline-block;\n        vertical-align: middle;\n        white-space: nowrap;\n        line-height: 1.3;\n    }\n/*ACTIVITY LIKING*/\n.page-navigation-action .like-link:hover {\n        background: transparent;\n    }\n/*NO PRIVILEGES PAGE*/\n.no-privileges h3 {\n        line-height: 2rem;\n    }\n.no-privileges .locked-activity {\n        font-size: 80px;\n        color: #e5e5e5;\n        display: block;\n        padding-right: 65px;\n    }\n.ciq-info {\n        max-width: 250px;\n        margin: 33px auto 0;\n    }\n.page.activity-detail .ciq-info .app-name a {\n        font-weight: 600;\n    }\n.page.activity-detail .ciq-info .aspect {\n        position: relative;\n        width: 100%;\n        max-width: 80px;\n        margin: 15px auto;\n    }\n.page.activity-detail .ciq-info .aspect-square {\n        padding-top: 100%;\n    }\n.page.activity-detail .ciq-info .aspect-element {\n        height: 100%;\n        width: 100%;\n        position: absolute;\n        top: 0;\n    }\n@media (max-width: 1156px) and (min-width: 414px) {\n        .activity.stats .row-fluid .span3 {\n            width: 48% !important;\n            margin: 0;\n            display: inline-block;\n            float: left;\n        }\n        .activity.stats .row-fluid .span3 {\n            margin-left: 2% !important;\n        }\n    }\n/*iPhone 6+ and smaller*/\n@media screen and (max-device-width: 415px) {\n         {\n\n        /* Layout */\n\n        /* Page Navigation */\n\n        /* Dropdown Menus */\n\n        /* Icons */\n\n        /* Unique Icon Styles */\n\n        /* Type */\n\n        /* Charts */\n}\n        .page.activity-detail .page-header-content .page-title .page-title-overflow {\n            max-width: calc(100% - 50px);\n        }\n        .page.activity-detail .page-title .icon-personal-records {\n            height: 25px;\n        }\n        .page.activity-detail .activity-type-icon {\n            width: 40px;\n            height: 40px;\n            line-height: 40px;\n            margin-top: 0;\n            margin-right: 6px;\n            font-size: 20px;\n            box-shadow: 0 0 0 2px #ccc;\n        }\n        .page.activity-detail .page-header-content .date-block {\n            clear: both;\n        }\n        .chart-header .span4 {\n            display: inline-block;\n        }\n        .page.activity-detail .highcharts-container {\n            /*TO PREVENT THE CARTS FROM BREAKING PAST THE CONTAINER*/\n            margin-left: -10px;\n        }\n        .chart-header .span9 {\n            width: 100%;\n            display: inline-block;\n        }\n        .chart-header .span3 {\n            display: none;\n        }\n        .chart-header .span3 button {\n            font-size: 12px;\n            vertical-align: middle;\n            line-height: 15px;\n        }\n        .row-fluid.chart-header [class*='span'] {\n            float: left;\n        }\n        .page.activity-detail .page-header-content .date-block {\n            margin-top: -24px;\n        }\n        .page.activity-detail .page-header-content {\n            width: calc(100% - 60px);\n        }\n        .page.activity-detail .page-dropdown {\n            display: inline-block;\n        }\n        .page.activity-detail .page-navigation .dropdown-menu {\n            right: -1px;\n            top: -6px;\n        }\n        .page.activity-detail .inline-edit-trigger {\n            width: 28px;\n            height: 28px;\n        }\n        .page.activity-detail .inline-edit-save[class*='icon-'],\n        .page.activity-detail .inline-edit-cancel[class*='icon-'] {\n            height: 28px;\n            width: 28px;\n        }\n        .page.activity-detail .page-title .inline-edit-actions button {\n            margin-top: 7px;\n        }\n        .page.activity-detail .page-navigation-action,\n        .page.activity-detail .page-navigation-action:last-child {\n            padding: 3px 7px;\n        }\n        .page.activity-detail .inline-edit-trigger,\n        .page.activity-detail .page-navigation-action,\n        .page.activity-detail .page-dropdown .dropdown-menu [class^='icon-'] {\n            font-size: 16px;\n        }\n        .page.activity-detail .page-dropdown .dropdown-menu [class^='icon-'] {\n            right: 7px;\n            top: 1px;\n        }\n        .page.activity-detail .page-dropdown .dropdown-menu > li > a [class^='icon-'] {\n            font-size: 14px;\n        }\n        .page.activity-detail .dropdown .icon-pointer-down {\n            font-size: 10px;\n        }\n        .page.activity-detail .page-navigation .icon-share,\n        .page.activity-detail .page-dropdown .dropdown-menu .icon-share {\n            font-size: 18px;\n        }\n        .page.activity-detail .help-icon {\n            font-size: 18px;\n            height: 20px;\n            width: 20px;\n        }\n        .page.activity-detail .page-intro .date-block,\n        .page.activity-detail .like,\n        .page.activity-detail .dropdown-menu > li {\n            font-size: 14px;\n        }\n        .page.activity-detail .dropdown-menu > li > a {\n            line-height: 22px;\n        }\n        .page.activity-detail .event-type,\n        .page.activity-detail .course-type,\n        .page.activity-detail .gear-indicator {\n            white-space: nowrap;\n        }\n        .page.activity-detail .chart-header-main .span4 {\n            display: none;\n        }\n        .page.activity-detail .chart-header-main .span4.chart-x-axis-toggle {\n            display: inline-block;\n            width: 100%;\n        }\n        .page.activity-detail .chart-header {\n            margin-top: 11px;\n        }\n    }\n/*ACTIVITY - REP COUNTING*/\n.rep-counting-table td {\n        vertical-align: middle;\n    }\n.page.activity-detail table.rep-counting-table {\n        margin-bottom: 10px;\n    }\n[data-activity-type='pilates'] .workout-name {\n        width: 70%;\n    }\n[data-activity-type='yoga'] .workout-name {\n        width: 70%;\n    }\n.table.rep-counting-table td {\n        border-top: 1px solid #e5e5e5;\n    }\n/*\n    For the play video button\n    .page.activity-detail .rep-counting-table td a [class*=\"icon-\"] {\n        width: 20px;\n        height: 20px;\n        line-height: 20px;\n        margin-right: 5.5px;\n        font-size: 12px;\n        text-align: center;\n        box-shadow: 0 0 0 1px #ccc;\n        border-radius: 50%;\n        color: #888;\n        background: #fafafa;\n    }*/\n.page.activity-detail .rep-counting-table td .input-append {\n        margin-bottom: 0;\n    }\n.page.activity-detail .rep-counting-table td .input-small {\n        width: 50px;\n    }\n.page.activity-edit .rep-counting-table th:first-child,\n    .page.activity-edit .rep-counting-table th:last-child,\n    .page.activity-edit .rep-counting-table td:first-child,\n    .page.activity-edit .rep-counting-table td:last-child {\n        width: 15px;\n        color: " + i(98).locals.textMedium + ";\n    }\n.page.activity-detail .rep-counting-table th:nth-child(3),\n    .page.activity-detail .rep-counting-table th:nth-child(4),\n    .page.activity-detail .rep-counting-table th:nth-child(5),\n    .page.activity-detail .rep-counting-table th:nth-child(6),\n    .page.activity-detail .rep-counting-table td:nth-child(3),\n    .page.activity-detail .rep-counting-table td:nth-child(4),\n    .page.activity-detail .rep-counting-table td:nth-child(5),\n    .page.activity-detail .rep-counting-table td:nth-child(6) {\n        text-align: center;\n    }\n.page.activity-detail .rep-counting-table th:first-child,\n    .page.activity-detail .rep-counting-table td:first-child {\n        text-align: center;\n    }\n.page.activity-detail .rep-counting-table td:first-child p {\n        border: 1px solid #888;\n        border-radius: 50%;\n        height: 20px;\n        width: 20px;\n        line-height: 20px;\n        font-size: 10px;\n        color: " + i(98).locals.textMedium + ";\n        margin: 0 auto;\n    }\n.page.activity-detail .rep-counting-table td:last-child a {\n        font-size: 12px;\n        font-family: 'Open Sans', 'HelveticaNeue-Light', 'Helvetica Neue Light', 'Helvetica Neue', Helvetica, Arial,\n            sans-serif;\n        line-height: 22px;\n    }\n.page.activity-edit .page-navigation .btn {\n        margin-top: 0;\n    }\n/*DRAG & DROP -\n    HINT FOR WHERE THE EXERCISE IS GOING TO GO*/\n.rep-placehold-row {\n        height: 60px;\n    }\n.rep-placehold:before {\n        float: left;\n        left: -12px;\n    }\n.rep-placehold:after {\n        float: right;\n        right: -13px;\n    }\n/*FOR A BORDER WHEN USER HOVERS OVER THE DRAG HANDLE*/\n.rep-counting-table tr {\n        border-left: 1px solid rgba(170, 170, 170, 0);\n        border-right: 1px solid rgba(170, 170, 170, 0);\n        border-bottom: 1px solid rgba(170, 170, 170, 0);\n    }\n.rep-counting-table .hover-rep-row {\n        border: 1px solid rgba(170, 170, 170, 0.4);\n    }\n/*FOR A THICKER BORDER WHEN USER IS DRAGGING*/\n.rep-counting-table .ui-sortable-helper {\n        box-shadow: 0px 0px 0px 2px rgba(170, 170, 170, 0.75);\n        border-top: transparent;\n        background: #ffffff;\n    }\n/*ADD RED BORDER FOR ERROR ON EXERCISE NAME*/\n.chosen-container-single .chosen-single.error {\n        color: #bf0f24;\n        border-color: #bf0f24;\n    }\n/*  ======================\n        Activity Compare Page\n        ======================  */\n.activity-compare .summary [class^='icon-'],\n    .activity-compare .summary [class*=' icon-'] {\n        text-align: center;\n        border-radius: 50%;\n        color: " + i(98).locals.iconSecondary + ";\n        background: #fafafa;\n        width: 40px;\n        height: 40px;\n        line-height: 40px;\n        font-size: 22px;\n        box-shadow: 0 0 0 2px #ccc;\n        display: block;\n        margin: 0 auto 10px auto;\n    }\n.activity-compare .summary {\n        margin-bottom: 0;\n    }\n.activity-compare thead th,\n    .activity-compare td {\n        text-align: center;\n        border-left: 2px solid #ddd;\n    }\n.activity-compare .laps th,\n    .activity-compare .laps td {\n        border-left-color: #f0f0f0;\n    }\n.activity-compare .laps th:nth-child(3n + 2),\n    .activity-compare .laps td:nth-child(3n + 2) {\n        border-left-color: #ddd;\n    }\n.activity-compare .laps th:nth-child(1) {\n        text-align: left;\n    }\n.activity-compare .four-up .summary thead th,\n    .activity-compare .four-up .summary td {\n        vertical-align: top;\n    }\n.activity-compare .row-label {\n        text-align: left;\n    }\n.activity-compare .laps th {\n        font-weight: normal;\n        color: " + i(98).locals.textMedium + ";\n    }\n.activity-compare .four-up th {\n        width: 20%;\n    }\n.activity-compare .three-up th {\n        width: 25%;\n    }\n.activity-compare .two-up th {\n        width: 33.3%;\n    }\n.activity-compare th:first-child,\n    .activity-compare td:first-child {\n        border-left: none;\n    }\n/*  ======================\n      Battery Status\n    ======================  */\n.page.activity-detail [class^='icon-battery-status-'],\n    .page.activity-detail .icon-caution {\n        margin-left: 5px;\n        font-size: 16px;\n        line-height: 18px;\n    }\n/*  ======================\n      Activity Playlist\n    ======================  */\n.page.activity-detail .playlist-card {\n        max-height: 350px;\n        overflow-y: auto;\n        overflow-x: auto;\n        border: 1px solid #e5e5e5;\n        border-radius: 4px;\n        padding: 11px;\n    }\n.page.activity-detail .list-number {\n        border: 1px solid #c7c7c7;\n        border-radius: 50%;\n        height: 24px;\n        width: 24px;\n        text-align: center;\n        padding-top: 2px;\n        background: #fff;\n    }\n.page.activity-detail .playlist-privacy {\n        float: right;\n        margin-right: 20px;\n        margin-top: -25px;\n        font-size: 12px;\n        color: " + i(98).locals.textMedium + ';\n    }\n/*  ======================\n      Responsive Table Standards - applies to rep-counting table\n      ======================  */\n@media (max-width: 1125px) {\n        .minimize-main-nav .span8.exercise-table-edit {\n            width: 65.95744680851064%;\n        }\n        .span8.exercise-table-edit {\n            width: 100%;\n        }\n    }\n@media (max-width: 855px) {\n         {\n        /* Forcing table to not behave in its usual manner.*/\n\n        /* Hiding table headers (but not display: none for accessibility purposes)*/\n\n        /* Forcing td to behave like a row.*/\n\n        /*Forcing content "before" to behave like a table heading.*/\n\n        /* Label the data*/\n}\n        .rep-counting-table,\n        .rep-counting-table thead,\n        .rep-counting-table tbody,\n        .rep-counting-table th,\n        .rep-counting-table td,\n        .rep-counting-table tr {\n            display: block;\n        }\n        .rep-counting-table-edit {\n            margin-top: 15px;\n        }\n        .rep-counting-table thead tr {\n            position: absolute;\n            top: -9999px;\n            left: -9999px;\n        }\n\n        .page.activity-detail .rep-counting-table tr {\n            border-bottom: 4px solid #888;\n        }\n        .rep-counting-table td {\n            border: none;\n            border-bottom: 1px solid #eee;\n            position: relative;\n            padding-left: 40%;\n        }\n        .rep-counting-table td:before {\n            position: absolute;\n            font-weight: bold;\n            /* Top/left values mimic padding */\n            top: 6px;\n            left: 6px;\n            width: 45%;\n            padding-right: 10px;\n            white-space: nowrap;\n        }\n        .rep-counting-table td:before {\n            /*Handling truncation of before content.*/\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n        .page.activity-edit .rep-counting-table.rep-counting-table-edit td:first-child,\n        .page.activity-edit .rep-counting-table.rep-counting-table-edit td:last-child {\n            width: auto;\n            height: 20px;\n        }\n\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:first-child,\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(3),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(4),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(5),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(6),\n        .page.activity-detail .rep-counting-table td:first-child:before,\n        .page.activity-detail .rep-counting-table td:nth-child(3):before,\n        .page.activity-detail .rep-counting-table td:nth-child(4):before,\n        .page.activity-detail .rep-counting-table td:nth-child(5):before,\n        .page.activity-detail .rep-counting-table td:nth-child(6):before,\n        .page.activity-detail .rep-counting-table td:nth-child(3),\n        .page.activity-detail .rep-counting-table td:nth-child(4),\n        .page.activity-detail .rep-counting-table td:nth-child(5),\n        .page.activity-detail .rep-counting-table td:nth-child(6) {\n            text-align: left;\n        }\n        .page.activity-detail .rep-counting-table td:first-child:before {\n            content: attr(data-title-1);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(2):before {\n            content: attr(data-title-2);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(3):before {\n            content: attr(data-title-3);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(4):before {\n            content: attr(data-title-4);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(5):before {\n            content: attr(data-title-5);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(6):before {\n            content: attr(data-title-6);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(7):before {\n            content: attr(data-title-7);\n        }\n    }\n.page.activity-detail .chosen-single .icon-pointer-down {\n        font-size: 8px;\n    }\n.activity-compare .summary th h1 {\n        display: inline-block;\n    }\n.activity-compare .summary th .data-label {\n        display: block;\n        font-weight: 300;\n        line-height: 25px;\n    }\n.activity-compare .laps .stat {\n        border-bottom: 1px dotted inherit;\n    }\n.activity-compare .four-up .laps .stat {\n        width: 6.6%;\n    }\n.activity-compare .three-up .laps .stat {\n        width: 8.2%;\n    }\n.activity-compare .two-up .laps .stat {\n        width: 11.2%;\n    }\n.activity-compare .toggle-detail {\n        width: 100%;\n        background: ' + i(98).locals.secondary + ";\n        color: " + i(98).locals.textLight + ";\n        padding: 2px 0;\n        text-decoration: none;\n        display: block;\n        text-align: center;\n        font-size: 12px;\n    }\n@media screen and (max-device-width: 1024px) {\n         {\n\n        /*\n            td:not(:first-child) {\n                counter-increment: rowNumber;\n            }\n            td:not(:first-child):before {\n                content: counter(rowNumber);\n                text-align: left;\n                font-weight: normal;\n                top: auto;\n                width: auto;\n                color: #bbb;\n            }\n        */\n}\n        .activity-compare .laps-table-header,\n        .activity-compare .laps.table {\n            display: none;\n        }\n        .activity-compare .table-responsive thead tr {\n            position: relative;\n            top: auto;\n            left: auto;\n        }\n        .activity-compare .table-responsive th {\n            width: 100%;\n        }\n        .activity-compare .summary [class^='icon-'],\n        .activity-compare .summary [class*=' icon-'] {\n            width: 26px;\n            height: 26px;\n            line-height: 26px;\n            font-size: 15px;\n            margin-bottom: 5px;\n        }\n        .activity-compare .table-responsive th,\n        .activity-compare .table-responsive td {\n            padding-left: 0;\n            border-left: none;\n        }\n        .activity-compare .table-responsive .row-label {\n            padding-left: 10px;\n        }\n        .table-responsive,\n        .table-responsive thead,\n        .table-responsive tbody,\n        .table-responsive th,\n        .table-responsive td,\n        .table-responsive tr {\n            display: block;\n        }\n    }\n/* start from resource-js */\n.page.activity-detail .activity-map-canvas {\n        height: 400px;\n        margin-top: 5px;\n        z-index: 0;\n    }\n.page.activity-detail .activity-map-canvas .baiduLogo {\n        z-index: 400;\n    }\n.page.activity-detail html {\n        height: 100%;\n    }\n.page.activity-detail body {\n        height: 100%;\n        margin: 0;\n        padding: 0;\n    }\n.page.activity-detail .is_stuck .activity-map-canvas {\n        margin-top: 58px;\n        height: 200px;\n        overflow: hidden;\n    }\n.page.activity-detail .stats .data-block {\n        margin-bottom: 11px;\n    }\n.page.activity-detail .stats h3 {\n        border-bottom: 1px solid #ddd;\n        font-size: 14px;\n        margin-bottom: 11px;\n    }\n.page.activity-detail .stats .stat-block {\n        margin-bottom: 33px;\n    }\n.page.activity-detail .kevin-temp {\n        background-color: yellow;\n        color: red;\n        font-weight: bold;\n    }\n.page.activity-detail .modal.fullscreen.expanded-chart .modal-body {\n        overflow: hidden;\n    }\n.page.activity-detail .pointer-events-none {\n        pointer-events: none;\n    }\n.full-screen-map {\n        position: fixed;\n        z-index: 1000; /* IE needs a big number */\n        left: 0;\n        top: 0;\n    }\n/* Not preferred, but this will allow us to use full-screen-map everywhere */\n.full-screen-map .leaflet-container {\n        position: fixed !important;\n        height: 100% !important;\n        width: 100% !important;\n    }\n/* end from resource-js */\n#activity-map-canvas.short {\n        height: 210px;\n    }\n/* ===============\n          Dive Log\n       =============== */\n.page.activity-detail .dive-canvas {\n        position: relative;\n        height: 230px;\n        min-width: 551px;\n    }\n.page.activity-detail .dive-canvas .canvas {\n        width: 100%;\n        height: 100%;\n    }\n.page.activity-detail .dive-log-stat {\n        position: absolute;\n        z-index: 1;\n        width: 150px;\n        height: 20px;\n        text-align: center;\n    }\n.page.activity-detail .dive-log-label {\n        color: #999999;\n    }\n.page.activity-detail .avg-depth-label {\n        color: #ff9f10;\n    }\n.page.activity-detail .deco-dive-label {\n        color: #d0021b;\n    }\n.page.activity-detail .dive-log-stat.right {\n        right: 0;\n    }\n.page.activity-detail .dive-log-stat.center {\n        margin-left: auto;\n        margin-right: auto;\n        left: 0;\n        right: 0;\n    }\n.page.activity-detail .dive-log-value {\n        font-size: 24px;\n    }\n.page.activity-detail .dive-log-label {\n        font-size: 12px;\n    }\n.page.activity-detail .surface-interval-stat {\n        top: 16px;\n    }\n.page.activity-detail .time-in-stat {\n        top: 83px;\n    }\n.page.activity-detail .max-depth-stat {\n        top: 150px;\n    }\n.page.activity-detail .avg-depth-stat {\n        top: 83px;\n    }\n.page.activity-detail .bottom-time-stat {\n        top: 150px;\n    }\n.page.activity-detail .time-out-stat {\n        top: 83px;\n    }\n.page.activity-detail .deco-dive-stat {\n        top: 150px;\n    }\n.page.activity-detail .deco-dive-value {\n        width: 20px;\n        height: 20px;\n        line-height: 20px;\n        font-size: 11px;\n        text-align: center;\n        border-radius: 50%;\n        color: #fbebed;\n        background: #d0021b;\n        font-style: normal;\n        margin: 0 auto;\n        font-weight: 600;\n    }\n.page.activity-detail .apnea-dives-table .apnea-map {\n        width: 85px;\n        height: 62px;\n    }\n/* hide attribution - could break if we update google mutant */\n.page .apnea-dives-table .apnea-map .gmnoprint,\n    .page .apnea-dives-table .apnea-map .leaflet-google-mutant.leaflet-top.leaflet-left .gm-style img,\n    .page .apnea-dives-table .apnea-map .leaflet-control-attribution {\n        display: none;\n    }\n/* ===============\n        Activity Details Dive App\n       =============== */\n.dive-app-link-info {\n        text-align: center;\n        margin-top: 30px;\n    }\n.dive-app-icon {\n        height: 56px;\n        letter-spacing: 0px;\n        width: 56px;\n    }\n.garmin-dive {\n        margin: 0px;\n        font-size: 18px;\n        font-weight: 300;\n        height: 27px;\n        letter-spacing: 0px;\n        line-height: 27px;\n    }\n.dive-data-info {\n        margin: 0px;\n        font-size: 14px;\n        height: 21px;\n        letter-spacing: 0px;\n        line-height: 21px;\n    }\n.dive-app-store {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-wrap: nowrap;\n                flex-wrap: nowrap;\n        margin-top: 25px;\n        -webkit-justify-content: center;\n                justify-content: center;\n    }\n.dive-store-apple {\n        margin-right: 5px;\n    }\n@media (max-width: 610px) {\n        .page.activity-detail .dive-canvas {\n            height: 170px;\n            min-width: 380px;\n        }\n\n        .page.activity-detail .dive-log-value {\n            font-size: 20px;\n        }\n\n        .page.activity-detail .dive-log-label {\n            display: block;\n            margin-top: -2px;\n        }\n\n        .page.activity-detail .dive-log-value.deco-dive-value {\n            font-size: 11px;\n        }\n\n        .page.activity-detail .surface-interval-stat {\n            top: 5px;\n        }\n\n        .page.activity-detail .time-in-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .max-depth-stat {\n            top: 107px;\n        }\n\n        .page.activity-detail .avg-depth-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .bottom-time-stat {\n            top: 106px;\n        }\n\n        .page.activity-detail .time-out-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .dive-log-stat {\n            width: 105px;\n            height: 20px;\n        }\n\n        .page.activity-detail .deco-dive-stat {\n            top: 106px;\n        }\n    }\n.page.activity-detail .note-container h3 {\n        font-size: 17px;\n        margin: 0 0 8px;\n    }\n.page.activity-detail .video-container.border-wrapper,\n    .page.activity-detail .note-container.border-wrapper {\n        border-top: none;\n    }\n.page.activity-detail .wrapper-top-container {\n        border-bottom: none;\n    }\n.page.activity-detail .edit-dive-activity-dive-label {\n        display: inline;\n    }\n.page.activity-detail .diving.inline-edit-text-field {\n        top: 12px;\n    }\n.page.activity-detail #trainingEffectStatsPlaceholder .stat-block .data-block .trainingEffectLabelContainer {\n        display: -webkit-flex;\n        display: flex;\n    }\n.page.activity-detail #trainingEffectStatsPlaceholder .stat-block .data-block .trainingEffectStatChip {\n        border-radius: 50%;\n        height: 8px;\n        width: 8px;\n        margin-top: 7px;\n        margin-right: 8px;\n    }\n.modal-body .chart-color-circle {\n        background-color: #e8e8e8;\n        border-radius: 50%;\n        height: 11px;\n        width: 11px;\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: 5px;\n        margin-top: -3px;\n    }\n/* ===============\n          Advanced Activity Editing\n       =============== */\n.page.activity-advanced-edit .tab-content {\n        margin-bottom: 10px;\n    }\n.page.activity-advanced-edit .activity-edit-container {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: row;\n                flex-direction: row;\n        -webkit-flex-wrap: wrap;\n                flex-wrap: wrap;\n        -webkit-justify-content: flex-start;\n                justify-content: flex-start;\n        padding-left: 60px;\n    }\n.page.activity-advanced-edit .activity-edit-container .item {\n        margin-right: 20px;\n    }\n.page.activity-advanced-edit .button-container {\n        width: 50%;\n    }\n.page.activity-advanced-edit .flex-row {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: row;\n                flex-direction: row;\n        -webkit-flex-wrap: wrap;\n                flex-wrap: wrap;\n        width: 100%;\n    }\n.page.activity-advanced-edit .flex-column {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: column;\n                flex-direction: column;\n        -webkit-flex-basis: 100%;\n                flex-basis: 100%;\n        -webkit-flex: 1 1;\n                flex: 1 1;\n        margin: 5px 5px 5px 5px;\n    }\n.page.activity-advanced-edit .advanced-learn-more {\n        margin-top: 20px;\n    }\n.page.activity-advanced-edit .data-bit.no-wrap {\n        white-space: nowrap;\n    }\n.page.activity-advanced-edit .trim-band {\n        opacity: 0.8;\n    }\n.page.activity-advanced-edit .trim-slider {\n        margin-top: -8px;\n        margin-left: 18px;\n        margin-right: 8px;\n    }\n/*  ======================\n        Activity Intervals Edit\n        ======================  */\n.page.activity-intervals-edit .edit-intervals-title {\n        text-transform: uppercase;\n        margin-bottom: 15px;\n        margin-left: 10px;\n    }\n.page.activity-intervals-edit .edit-intervals-button-container {\n        display: -webkit-flex;\n        display: flex;\n        width: 30%;\n        -webkit-justify-content: space-between;\n                justify-content: space-between;\n    }\n.page.activity-intervals-edit .edit-intervals-learn-more span {\n        font-size: 12px;\n        font-weight: normal;\n        color: rgb(108, 108, 108);\n        line-height: 18px;\n    }\n.page.activity-intervals-edit .edit-intervals-button-container button {\n        box-shadow: none;\n        border-radius: 4px;\n        border: none;\n        font-size: 14px;\n        font-weight: 300;\n        text-align: center;\n        text-shadow: 0 1px 0 #0c7cad;\n        color: #fafafa;\n    }\n.page.activity-intervals-edit .edit-intervals-button-container button.reverse {\n        border: 1px solid rgb(228, 228, 228);\n        color: rgb(0, 0, 0);\n        font-weight: normal;\n        text-shadow: none;\n    }\n/*  ======================\n        Sticky Header\n        ======================  */\n.activity-advanced-edit .sticky-header {\n        background: #fff;\n        z-index: 5;\n    }\n.activity-advanced-edit .sticky-header.stuck,\n    .main-nav-hover .activity-advanced-edit .sticky-header.stuck {\n        position: fixed;\n        z-index: 3;\n    }\n.loading-overlay.spinner-container {\n        content: '';\n        display: block;\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(255, 255, 255, 0.9);\n        z-index: 999;\n    }\n.spinner-container .absolute-center {\n        position: fixed;\n        z-index: 999;\n        height: 2em;\n        width: 2em;\n        overflow: show;\n        margin: auto;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n    }\n.activity-detail .spinner-container .h5.text-center {\n        width: 200px;\n        margin-left: -63px;\n    }\n#advanced-activity-tab-placeholder .tooltip-error {\n        z-index: 40 !important; /* sticky header issue */\n    }\n.gasTypeSelect {\n        padding-top: 5px;\n    }\n@media print {\n        .main-nav,\n        header.header,\n        .takeover-container,\n        .system-message {\n            display: none;\n        }\n\n        body,\n        html,\n        .main-body,\n        .main-body .content {\n            overflow: visible;\n        }\n    }\n/*  ======================\n        Responsiveness Upgrades\n        ======================  */\n.page.activity-detail #activityToolbarViewPlaceholder,\n    .page.activity-detail #activityIntroViewPlaceholder {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-justify-content: space-between;\n                justify-content: space-between;\n    }\n.page.activity-detail #gearStatusViewPlaceholder {\n        white-space: nowrap;\n    }\n@media (max-width: 1049px) {\n        .page.activity-detail #activityToolbarViewPlaceholder,\n        .page.activity-detail #activityIntroViewPlaceholder {\n            margin: 0 0 10px;\n        }\n\n        .page.activity-detail #activityToolbarViewPlaceholder {\n            -webkit-justify-content: flex-start;\n                    justify-content: flex-start;\n        }\n\n        .page.activity-detail .privacy-consent,\n        .page.activity-detail #gear-menu-list {\n            float: left;\n            left: 0;\n            min-width: 240px;\n        }\n\n        .page.activity-detail .privacy-consent {\n            min-width: 280px;\n        }\n\n        .page.activity-detail .privacy-state-current,\n        .page.activity-detail #gear-menu-list .icon-gear {\n            float: left;\n            left: 5px;\n        }\n    }\n@media (max-width: 767px) {\n        .page.activity-detail #activityToolbarViewPlaceholder,\n        .page.activity-detail #activityIntroViewPlaceholder {\n            margin: 0;\n        }\n    }\n@media (max-width: 415px) {\n        .page.activity-detail .trophy-container .inline-edit-trigger {\n            margin-top: 0;\n        }\n\n        .page.activity-detail .date-block .dropdown {\n            display: block;\n        }\n\n        .page.activity-detail .event-type,\n        .page.activity-detail .course-type {\n            margin-right: 0;\n        }\n\n        .page.activity-detail .dropdown-backdrop {\n            display: inline;\n        }\n\n        .page.activity-detail #device-info ul.dropdown-menu {\n            left: -50px;\n        }\n    }\n@media (min-width: 1050px) {\n        .page.activity-edit .dynamic .row-fluid {\n            display: -webkit-flex;\n            display: flex;\n            -webkit-flex-wrap: wrap;\n                    flex-wrap: wrap;\n        }\n\n        .page.activity-edit .dynamic .row-fluid .stat-block {\n            width: 25%;\n        }\n\n        .page.activity-edit .dynamic .row-fluid .stat-block h3 {\n            margin-right: 8%;\n        }\n    }\n.page.activity-edit .page-sidebar.sideBar .video-container,\n    .page.activity-edit .page-sidebar.sideBar .note-container {\n        padding: 10px;\n    }\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/styles/activity.page.css"],
            names: [],
            mappings: "AAII;QACI,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,iBAAgB;QAChB,mBAAkB;QAClB,gBAAe;QACf,2BAA0B;QAC1B,mBAAkB;QAClB,mBAAkB;QAClB,8CAAmC;QACnC,mCAAoB;KACxB;AACA;QACI,yBAAwB;KAC5B;AACA;QACI,YAAW;KACf;AACA;QACI,mBAAkB;KACtB;AACA;QACI,iBAAgB;QAChB,aAAY;KAChB;AACA;QACI,iBAAgB;KACpB;AACA;;QAEI,8BAA6B;KACjC;AACA;QACI,sBAAqB;QACrB,iBAAgB;QAChB,oBAAmB;QACnB,wBAAuB;KAC3B;AACA;QACI,uBAAsB;QACtB,gBAAe;KACnB;AACA;QACI,kBAAiB;QACjB,mBAAkB;QAClB,WAAU;KACd;AACA;QACI,iBAAgB;QAChB,kBAAiB;QACjB,eAAc;QACd,6BAA4B;KAChC;AACA;QACI,gBAAe;QACf,+BAA8B;KAClC;AACA;QACI,eAAc;QACd,uBAAsB;KAC1B;AACA;QACI,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,kBAAiB;QACjB,iBAAgB;KACpB;AACA;QACI,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,iBAAgB;QAChB,iBAAgB;KACpB;AACA;QACI,mBAAkB;KACtB;AACA;QACI,mBAAkB;QAClB,mBAAkB;QAClB,kBAAiB;KACrB;AACA;QACI,YAAW;QACX,eAAc;QACd,4BAA2B;QAC3B,WAAU;QACV,aAAY;QACZ,aAAY;QACZ,SAAQ;QACR,mBAAkB;QAClB,WAAU;QACV,OAAM;KACV;AACA;QACI,mBAAkB;QAClB,oBAAmB;KACvB;AACA;QACI,iBAAgB;KACpB;AACA;;QAEI,mBAAkB;KACtB;AACA;QACI,WAAU;KACd;AACA;QACI,oBAAmB;KACvB;AACA;QACI,8BAA6B;QAC7B,gBAAe;QACf,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,sBAAqB;QACrB,aAAY;QACZ,YAAW;QACX,uBAAsB;QACtB,oBAAmB;QACnB,mBAAkB;QAClB,iBAAgB;KACpB;AAEA;QACI,sBAAqB;QACrB,kBAAiB;QACjB,oBAAmB;KACvB;AAEA;QACI,YAAW;QACX,aAAY;QACZ,mBAAkB;QAClB,kBAAiB;KACrB;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,aAAY;KAChB;AAEA;QACI,wBAAuB;KAC3B;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,+BAAsB;gBAAtB,uBAAsB;QACtB,gBAAe;KACnB;AAEA;QACI,iBAAgB;KACpB;AAEA;;QAII,8BAA6B;KACjC;AAEA;;iCAE4B;AAC5B;QACI,YAAW;QACX,aAAY;QACZ,aAAY;KAChB;AACA;QACI,aAAY;QACZ,aAAY;KAChB;AACA;QACI,YAAW;KACf;AAEA,2DAA0D;AAC1D;QACI;YACI,iBAAgB;YAChB,gBAAe;SACnB;KACJ;AAEA;;iCAE4B;AAC5B;QACI,oBAAmB;KACvB;AACA;QACI,sBAAqB;QACrB,YAAW;QACX,uBAAsB;QACtB,WAAU;QACV,oBAAmB;KACvB;AACA;QACI,eAAc;QACd,gBAAe;QACf,kBAAiB;KACrB;AAEA;QA3NJ;QA4NQ,mCAAkC;QAKlC,mCAAkC;QAKlC,mCAAkC;CAi1E1C;QA11EQ;;YAEI,WAAU;SACd;QAEA;;YAEI,WAAU;SACd;QAEA;;YAEI,WAAU;SACd;KACJ;AAEA;QA7OJ;QA8OQ,mCAAkC;CAy0E1C;QAx0EQ;;YAEI,gBAAe;YACf,kBAAiB;SACrB;KACJ;AAEA;;iCAE4B;AAC5B;;QAEI,YAAW;KACf;AACA;QACI,uBAAsB;KAC1B;AACA;QACI,oBAAmB;KACvB;AACA;;;QAGI,oBAAmB;KACvB;AACA;;;QAGI,oBAAmB;KACvB;AACA;;;QAGI,oBAAmB;KACvB;AACA;;;QAGI,oBAAmB;KACvB;AACA;;;QAGI,oBAAmB;KACvB;AAEA;;;QAGI,oBAAmB,CAAE,YAAW;KACpC;AACA;;;QAGI,oBAAmB,CAAE,YAAW;KACpC;AACA;;;QAGI,oBAAmB,CAAE,YAAW;KACpC;AACA;;;QAGI,oBAAmB,CAAE,YAAW;KACpC;AACA;;;QAGI,oBAAmB,CAAE,YAAW;KACpC;AACA;;;QAGI,oBAAmB,CAAE,YAAW;KACpC;AACA;;;QAGI,oBAAmB,CAAE,YAAW;KACpC;AACA;;QAEI,6BAA4B;QAC5B,8BAA6B;QAC7B,aAAY;KAChB;AACA;;QAEI,mBAAkB;KACtB;AACA;QACI,YAAW;KACf;AACA;QACI,qCAAoC;QACpC,gBAAe;QACf,aAAY;KAChB;AACA;QACI,YAAW;KACf;AACA;QACI,qCAAoC;QACpC,kBAAiB;QACjB,aAAY;QACZ,gBAAe;KACnB;AACA;QACI,mBAAkB;KACtB;AACA;QACI,mBAAkB;QAClB,SAAQ;QACR,YAAW;QACX,kBAAiB;KACrB;AACA;QACI,iBAAgB;QAChB,eAAc;QACd,mBAAkB;QAClB,WAAU;QACV,mBAAkB;KACtB;AACA;QACI,oBAAmB;KACvB;AAEA;;kCAE6B;AAC7B;QACI,gBAAe;KACnB;AACA;QACI,eAAc;QACd,sBAAqB;KACzB;AACA;QACI,eAAc;QACd,kBAAiB;QACjB,kBAAiB;QACjB,uBAAsB;KAC1B;AACA;QACI,YAAW;QACX,kBAAiB;KACrB;AACA;QACI,mBAAkB;KACtB;AACA;;;QAGI,sBAAqB;KACzB;AACA;;QAEI,kBAAiB;KACrB;AACA;QACI,gBAAe;QACf,oBAAmB;KACvB;AACA;QACI,gBAAe;QACf,iBAAgB;KACpB;AACA;QACI,mBAAkB;QAClB,8CAAyB;QACzB,mCAAgB;QAChB,4BAA2B;QAC3B,2BAA0B;KAC9B;AAEA;QACI,2BAA0B;QAC1B,2BAA0B;KAC9B;AAEA;QACI,mBAAkB;QAClB,4BAA2B;QAC3B,2BAA0B;KAC9B;AAEA;QACI,wBAAuB;QACvB,aAAY;QACZ,iBAAgB;QAChB,uBAAsB;QACtB,kBAAiB;KACrB;AAEA;;;QAGI,mBAAkB;QAClB,uBAAsB;QACtB,wBAAuB;QACvB,aAAY;QACZ,iBAAgB;KACpB;AAEA;QACI,0BAAyB;QACzB,mCAAgB;KACpB;AAEA;QACI,UAAS;QACT,WAAU;QACV,iBAAgB;QAChB,oBAAmB;QACnB,kBAAiB;QACjB,mBAAkB;QAClB,oBAAmB;QACnB,kBAAiB;KACrB;AAEA;QACI,iBAAgB;QAChB,mBAAkB;KACtB;AAEA;QACI,oBAAmB;KACvB;AAEA;QACI,cAAa;KACjB;AAEA;QACI,eAAc;QACd,SAAQ;KACZ;AAEA;;QAEI,0BAAyB;QACzB,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,sBAAqB;QACrB,uBAAsB;QACtB,kBAAiB;QACjB,iBAAgB;KACpB;AACA;QACI,cAAa;KACjB;AACA;QACI,aAAY;QACZ,YAAW;QACX,iBAAgB;KACpB;AAEA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AAEA;;QAEI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;;QAEI,0BAAyB;KAC7B;AACA;;QAEI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;QACI,0BAAyB;KAC7B;AACA;;QAEI,0BAAyB;KAC7B;AACA;;QAEI,mBAAkB;QAClB,UAAS;QACT,oCAAmC;QAEnC,4BAA2B;KAC/B;AAEA;;kCAE6B;AAC7B;;QAEI,sBAAqB;KACzB;AAEA;QACI,iBAAgB;QAChB,sBAAqB;KACzB;AACA;;QAEI,iBAAgB;QAChB,gBAAe;QACf,sBAAqB;QACrB,iBAAgB;KACpB;AACA;QACI,aAAY;QACZ,aAAY;QACZ,kBAAiB;QACjB,YAAW;QACX,mBAAkB;QAClB,0BAAyB;QACzB,mBAAkB;QAClB,mBAAkB;QAClB,uBAAsB;QACtB,iBAAgB;KACpB;AACA;QACI,6BAA4B;KAChC;AACA;QACI,6BAA4B;QAC5B,kBAAiB;KACrB;AACA;QACI,mBAAkB;KACtB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;;QAEI,aAAY;QACZ,kBAAiB;QACjB,eAAc;QACd,0BAAyB;QACzB,gCAA+B;QAC/B,iBAAgB;QAChB,wBAAuB;QACvB,oBAAmB;QACnB,eAAc;KAClB;AACA;QACI,iBAAgB;QAChB,sBAAqB;QACrB,uBAAsB;QACtB,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,gBAAe;QACf,mBAAkB;QAClB,YAAW;QACX,YAAW;QACX,iBAAgB;QAChB,kBAAiB;KACrB;AACA;QACI,iBAAgB;QAChB,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,mBAAkB;KACtB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AACA;QACI,cAAa;KACjB;AACA;QACI,YAAW;QACX,gBAAe;KACnB;AACA;;QAEI,iBAAgB;KACpB;AACA;QACI,YAAW;QACX,mBAAkB;QAClB,kBAAiB;QACjB,iBAAgB;QAChB,oBAAmB;QACnB,iBAAgB;QAChB,YAAW;QACX,mBAAkB;QAClB,uBAAsB;KAC1B;AACA;QACI,aAAY;QACZ,kBAAiB;QACjB,eAAc;QACd,0BAAyB;QACzB,YAAW;QACX,iBAAgB;QAChB,wBAAuB;QACvB,oBAAmB;QACnB,eAAc;QACd,iBAAgB;KACpB;AACA;QACI,gBAAe;QACf,iBAAgB;KACpB;AAEA;;kCAE6B;AAC7B;QACI,8BAA6B;QAC7B,YAAW;KACf;AACA;QACI,cAAa;KACjB;AAEA;QACI;YACI,sBAAa;YAAb,cAAa;YACb,+BAAsB;oBAAtB,uBAAsB;SAC1B;;QAEA;YACI,mBAAkB;SACtB;KACJ;AAEA;;kCAE6B;AAC7B;QACI,YAAW;QACX,oBAAmB;KACvB;AACA;QACI,kBAAiB;QACjB,oBAAmB;KACvB;AACA;QACI,iBAAgB;QAChB,kBAAiB;QACjB,kBAAiB;KACrB;AAEA;;kCAE6B;AAC7B;QACI,YAAW;QACX,YAAW;QACX,gBAAe;QACf,oBAAmB;QACnB,mBAAkB;QAClB,oBAAmB;KACvB;AAEA;;kCAE6B;AAC7B;;QAGI,0DAAyD;QACzD,qCAAoC;QACpC,6BAA4B;KAChC;AACA;QACI,YAAW;QACX,WAAU;QACV,gBAAe;QACf,mBAAkB;KACtB;AACA;QACI,gBAAe;QACf,YAAW;QACX,eAAc;QACd,iBAAgB;KACpB;AACA;QACI,sBAAqB;QACrB,uBAAsB;QACtB,mBAAkB;QAClB,cAAa;KACjB;AACA;QACI,SAAQ;QACR,WAAU;KACd;AACA;QACI,mCAAoB;QACpB,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,cAAa;KACjB;AACA;QACI,gBAAe;QACf,iBAAgB;QAChB,kBAAiB;KACrB;AACA;QACI,gBAAe;QACf,iBAAgB;QAChB,kBAAiB;KACrB;AACA;QACI,kBAAiB;KACrB;AACA;QACI,aAAY;QACZ,YAAW;KACf;AACA;QACI,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,mBAAkB;QAClB,gBAAe;QACf,uBAAsB;QACtB,mBAAkB;QAClB,gBAAe;KACnB;AACA;QACI,YAAW;QACX,eAAc;QACd,SAAQ;QACR,aAAY;QACZ,sBAAqB;QACrB,oBAAmB;QACnB,uDAAsD;QACtD,mBAAkB;QAClB,UAAS;QACT,UAAS;KACb;AACA;;;;MAIC;AACD;QACI,mCAAkC;QAElC,2BAA0B;KAC9B;AACA;QACI,iCAAgC;QAEhC,yBAAwB;KAC5B;AACA;QACI,mCAAkC;QAElC,2BAA0B;KAC9B;AACA;QACI,iCAAgC;QAEhC,yBAAwB;KAC5B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,oCAAmC;QAEnC,4BAA2B;KAC/B;AACA;QACI,cAAa;KACjB;AAEA;QACI,aAAY;QACZ,oBAAmB;QACnB,oBAAmB;KACvB;AACA;QACI,UAAS;QACT,WAAU;QACV,kCAAiC;QAEjC,0BAAyB;KAC7B;AACA;QACI,gBAAe;QACf,iBAAgB;KACpB;AACA;QACI,gBAAe;QACf,iBAAgB;KACpB;AACA;QACI,YAAW;QACX,aAAY;KAChB;AACA;QACI,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,iBAAgB;QAChB,kBAAiB;KACrB;AACA;QACI,uBAAsB;QACtB,aAAY;QACZ,WAAU;QACV,UAAS;KACb;AACA;QACI,sBAAqB;QACrB,sBAAqB;KACzB;AACA;QACI,UAAS;QACT,WAAU;QACV,iBAAgB;QAChB,gBAAe;KACnB;AACA;QACI,UAAS;QACT,WAAU;QACV,iBAAgB;KACpB;AACA;QACI,eAAc;QACd,mCAAiB;KACrB;AAEA;QACI;YACI,iBAAgB;SACpB;;QAEA;YACI,gBAAe;SACnB;;QAEA;YACI,gBAAe;YACf,iBAAgB;SACpB;;QAEA;YACI,YAAW;YACX,aAAY;SAChB;;QAEA;YACI,gBAAe;YACf,YAAW;YACX,aAAY;YACZ,kBAAiB;SACrB;;QAEA;YACI,aAAY;YACZ,UAAS;YACT,UAAS;SACb;;QAEA;YACI,sBAAqB;SACzB;KACJ;AAEA;;kCAE6B;AAC7B;QACI,iBAAgB;KACpB;AACA;;QAEI,oBAAmB;QACnB,mBAAkB;QAClB,kBAAiB;KACrB;AACA;;;QAGI,mBAAkB;KACtB;AACA;QACI,oBAAmB;KACvB;AACA;;QAEI,kBAAiB;QACjB,oBAAmB;KACvB;AACA;;;QAGI,mBAAkB;KACtB;AACA;;QAEI,kBAAiB;KACrB;AACA;QACI,eAAc;QACd,kBAAiB;KACrB;AACA;;kCAE6B;AAC7B;;QAEI,oBAAmB;QACnB,mBAAkB;QAClB,oBAAmB;QACnB,mBAAkB;KACtB;AAEA,iBAAgB;AAChB;QACI,oBAAmB;QACnB,WAAU;QACV,gBAAe;KACnB;AACA;QACI,kBAAiB;KACrB;AACA;QACI,kBAAiB;KACrB;AAEA,kCAAiC;AAEjC;QACI,sBAAa;QAAb,cAAa;QACb,+BAAsB;gBAAtB,uBAAsB;KAC1B;AAEA;QACI,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,gBAAe;QACf,kBAAiB;KACrB;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,+BAAsB;gBAAtB,uBAAsB;KAC1B;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,kCAAyB;gBAAzB,0BAAyB;KAC7B;AAEA,oBAAmB;AACnB;QACI,oBAAmB;KACvB;AACA;QACI,iBAAgB;KACpB;AACA;QACI,YAAW;KACf;AACA;QACI,uBAAsB;QACtB,YAAW;KACf;AACA;QACI,YAAW;KACf;AACA;QACI,YAAW;KACf;AACA;;QAEI,YAAW;KACf;AACA;QACI,uBAAsB;KAC1B;AACA;QACI,uBAAsB;QACtB,gBAAe;QACf,eAAc;QACd,gBAAe;KACnB;AACA;QACI,mCAAwB;KAC5B;AAEA;QACI;YACI,gHAA+G;YAC/G,eAAc;YACd,iBAAgB;YAChB,gBAAe;SACnB;KACJ;AAEA,qBAAoB;AACpB;QACI,mBAAkB;KACtB;AACA;QACI,WAAU;KACd;AACA;QACI,iBAAgB;KACpB;AACA,sBAAqB;AACrB;QACI,oBAAmB;KACvB;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,0BAAyB;KAC7B;AAEA;;kCAE6B;AAC7B;QACI,gBAAe;QACf,iBAAgB;QAChB,gBAAe;KACnB;AACA;QACI,sBAAqB;QACrB,kBAAiB;QACjB,iBAAgB;QAChB,wBAAuB;QACvB,oBAAmB;KACvB;AACA;QACI,YAAW;KACf;AACA;QACI,sBAAa;QAAb,cAAa;QACb,aAAY;QACZ,uCAA8B;gBAA9B,+BAA8B;KAClC;AAEA;;kCAE6B;AAC7B;QACI,mBAAkB;KACtB;AACA;QACI,qBAAoB;KACxB;AACA;QACI,eAAc;QACd,eAAc;QACd,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,kBAAiB;KACrB;AACA;QACI,gBAAe;KACnB;AACA;QACI,gBAAe;QACf,eAAc;QACd,aAAY;KAChB;AACA;QACI,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,mBAAkB;KACtB;AACA;QACI,iBAAgB;KACpB;AAEA;;kCAE6B;AAC7B;QACI,mCAAiB;QACjB,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,iBAAgB;QAChB,uBAAsB;KAC1B;AAEA;;kCAE6B;AAC7B;QACI;YACI,YAAW;YACX,eAAc;SAClB;KACJ;AAEA;;kCAE6B;AAC7B;QACI,sBAAqB;QACrB,kBAAiB;KACrB;AACA;QACI,kBAAiB;KACrB;AACA;QACI,iBAAgB;KACpB;AACA;QACI,iBAAgB;KACpB;AAEA;;kCAE6B;AAC7B;QACI,gBAAe;KACnB;AACA;QACI,eAAc;QACd,cAAa;KACjB;AACA;QACI,aAAY;QACZ,cAAa;QACb,yBAAwB;QACxB,6BAA4B;KAChC;AACA;QACI,sIAAqI;KACzI;AACA;QACI,uIAAsI;KAC1I;AAEA;;kCAE6B;AAC7B;QACI,YAAW;QACX,qBAAoB;QACpB,oBAAmB;QACnB,8BAA6B;KACjC;AACA;QACI,aAAY;QACZ,cAAa;QACb,eAAc;KAClB;AACA;QACI,aAAY;KAChB;AACA;QACI,YAAW;KACf;AACA;QACI,aAAY;KAChB;AACA;QACI,+BAA8B;QAC9B,mBAAkB;QAClB,kBAAiB;KACrB;AACA;QACI,gBAAe;QACf,WAAU;KACd;AACA;QACI,sBAAqB;QACrB,sBAAqB;QACrB,aAAY;QACZ,cAAa;QACb,mBAAkB;QAClB,yBAAwB;QACxB,6BAA4B;QAC5B,sHAAqH;KACzH;AACA;QACI;YACI,eAAc;YACd,iBAAgB;SACpB;QACA;YACI,YAAW;YACX,sBAAqB;SACzB;KACJ;AACA;QACI;YACI,YAAW;SACf;QACA;YACI,aAAY;SAChB;QACA;YACI,mBAAkB;YAClB,mBAAkB;SACtB;QACA;YACI,aAAY,CAAE,2BAA0B;YACxC,cAAa;SACjB;KACJ;AACA;QACI;YACI,gBAAe;SACnB;QACA;YACI,cAAa;SACjB;QACA;;YAEI,YAAW;YACX,aAAY;YACZ,yBAAwB;SAC5B;QACA;YACI,mBAAkB;YAClB,kBAAiB;SACrB;QACA;YACI,aAAY,CAAE,sCAAqC;YACnD,cAAa;SACjB;KACJ;AAEA;;kCAE6B;AAC7B;QACI,mBAAkB;QAClB,oBAAmB;QACnB,iBAAgB;QAChB,4BAA2B;KAC/B;AACA;;QAEI,yBAAwB;QACxB,eAAc;QACd,uBAAsB;QACtB,eAAc;QACd,aAAY;QACZ,cAAa;QACb,4BAA2B;QAC3B,6BAA4B;QAC5B,kBAAiB;QACjB,mBAAkB;KACtB;AACA;QACI,iHAAgH;KACpH;AACA;QACI,mHAAkH;KACtH;AAEA;;kCAE6B;AAC7B;QACI;;YAEI,YAAW,CAAE,gCAA+B;YAC5C,eAAc;SAClB;KACJ;AACA;QACI;YACI,eAAc;SAClB;KACJ;AACA;QACI;YACI,iBAAgB;SACpB;KACJ;AAEA;;kCAE6B;AAC7B;QACI,aAAY;QACZ,wBAAuB;QACvB,iBAAgB;QAChB,sBAAqB;QACrB,uBAAsB;QACtB,oBAAmB;QACnB,iBAAgB;KACpB;AAEA,mBAAkB;AAClB;QACI,wBAAuB;KAC3B;AAEA,sBAAqB;AACrB;QACI,kBAAiB;KACrB;AACA;QACI,gBAAe;QACf,eAAc;QACd,eAAc;QACd,oBAAmB;KACvB;AACA;QACI,iBAAgB;QAChB,oBAAmB;KACvB;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI,mBAAkB;QAClB,YAAW;QACX,gBAAe;QACf,kBAAiB;KACrB;AAEA;QACI,kBAAiB;KACrB;AAEA;QACI,aAAY;QACZ,YAAW;QACX,mBAAkB;QAClB,OAAM;KACV;AAEA;QACI;YACI,sBAAqB;YACrB,UAAS;YACT,sBAAqB;YACrB,YAAW;SACf;QACA;YACI,2BAA0B;SAC9B;KACJ;AACA,yBAAwB;AACxB;QAp9CJ;;QA8/CQ,YAAW;;QAKX,qBAAoB;;QAKpB,oBAAmB;;QASnB,WAAU;;QAiCV,wBAAuB;;QAWvB,UAAS;;QAeT,YAAW;CA2+BnB;QAlmCQ;YACI,6BAA4B;SAChC;QACA;YACI,aAAY;SAChB;QACA;YACI,YAAW;YACX,aAAY;YACZ,kBAAiB;YACjB,cAAa;YACb,kBAAiB;YACjB,gBAAe;YACf,2BAA0B;SAC9B;QACA;YACI,YAAW;SACf;QACA;YACI,sBAAqB;SACzB;QACA;YACI,yDAAwD;YACxD,mBAAkB;SACtB;QACA;YACI,YAAW;YACX,sBAAqB;SACzB;QACA;YACI,cAAa;SACjB;QACA;YACI,gBAAe;YACf,uBAAsB;YACtB,kBAAiB;SACrB;QACA;YACI,YAAW;SACf;QAGA;YACI,kBAAiB;SACrB;QAGA;YACI,yBAAwB;SAC5B;QAGA;YACI,sBAAqB;SACzB;QACA;YACI,YAAW;YACX,UAAS;SACb;QAGA;YACI,YAAW;YACX,aAAY;SAChB;QACA;;YAEI,aAAY;YACZ,YAAW;SACf;QACA;YACI,gBAAe;SACnB;QACA;;YAEI,iBAAgB;SACpB;QACA;;;YAGI,gBAAe;SACnB;QACA;YACI,WAAU;YACV,SAAQ;SACZ;QACA;YACI,gBAAe;SACnB;QACA;YACI,gBAAe;SACnB;QAGA;;YAEI,gBAAe;SACnB;QACA;YACI,gBAAe;YACf,aAAY;YACZ,YAAW;SACf;QAGA;;;YAGI,gBAAe;SACnB;QACA;YACI,kBAAiB;SACrB;QACA;;;YAGI,oBAAmB;SACvB;QAGA;YACI,cAAa;SACjB;QACA;YACI,sBAAqB;YACrB,YAAW;SACf;QACA;YACI,iBAAgB;SACpB;KACJ;AAEA,2BAA0B;AAC1B;QACI,uBAAsB;KAC1B;AACA;QACI,oBAAmB;KACvB;AAEA;QACI,WAAU;KACd;AAEA;QACI,WAAU;KACd;AAEA;QACI,8BAA6B;KACjC;AACA;;;;;;;;;;;;;OAaE;AACF;QACI,iBAAgB;KACpB;AACA;QACI,YAAW;KACf;AAEA;;;;QAII,YAAW;QACX,mCAAiB;KACrB;AACA;;;;;;;;QAQI,mBAAkB;KACtB;AACA;;QAEI,mBAAkB;KACtB;AACA;QACI,uBAAsB;QACtB,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,gBAAe;QACf,mCAAiB;QACjB,eAAc;KAClB;AAEA;QACI,gBAAe;QACf;uBACc;QACd,kBAAiB;KACrB;AACA;QACI,cAAa;KACjB;AAEA;gDAC2C;AAC3C;QACI,aAAY;KAChB;AACA;QACI,YAAW;QACX,YAAW;KACf;AACA;QACI,aAAY;QACZ,aAAY;KAChB;AACA,sDAAqD;AACrD;QACI,8CAA6C;QAC7C,+CAA8C;QAC9C,gDAA+C;KACnD;AACA;QACI,2CAA0C;KAC9C;AACA,8CAA6C;AAC7C;QACI,sDAAqD;QACrD,wBAAuB;QACvB,oBAAmB;KACvB;AACA,6CAA4C;AAC5C;QACI,eAAc;QACd,sBAAqB;KACzB;AACA;;kCAE6B;AAC7B;;QAEI,mBAAkB;QAClB,mBAAkB;QAClB,mCAAoB;QACpB,oBAAmB;QACnB,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,gBAAe;QACf,2BAA0B;QAC1B,eAAc;QACd,yBAAwB;KAC5B;AACA;QACI,iBAAgB;KACpB;AACA;;QAEI,mBAAkB;QAClB,4BAA2B;KAC/B;AACA;;QAEI,2BAA0B;KAC9B;AACA;;QAEI,wBAAuB;KAC3B;AACA;QACI,iBAAgB;KACpB;AACA;;QAEI,oBAAmB;KACvB;AACA;QACI,iBAAgB;KACpB;AACA;QACI,oBAAmB;QACnB,mCAAiB;KACrB;AACA;QACI,WAAU;KACd;AACA;QACI,WAAU;KACd;AACA;QACI,aAAY;KAChB;AACA;;QAEI,kBAAiB;KACrB;AAEA;;8BAEyB;AACzB;;QAEI,iBAAgB;QAChB,gBAAe;QACf,kBAAiB;KACrB;AAEA;;8BAEyB;AACzB;QACI,kBAAiB;QACjB,iBAAgB;QAChB,iBAAgB;QAChB,0BAAyB;QACzB,mBAAkB;QAClB,cAAa;KACjB;AACA;QACI,0BAAyB;QACzB,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,mBAAkB;QAClB,iBAAgB;QAChB,iBAAgB;KACpB;AAEA;QACI,aAAY;QACZ,mBAAkB;QAClB,kBAAiB;QACjB,gBAAe;QACf,mCAAiB;KACrB;AAEA;;gCAE2B;AAE3B;QACI;YACI,0BAAyB;SAC7B;QACA;YACI,YAAW;SACf;KACJ;AAEA;QA7zDJ;QA8zDQ,qDAAoD;;QAapD,4EAA2E;;QAW3E,qCAAoC;;QAQpC,4DAA2D;;QAwC3D,mBAAkB;CAirB1B;QAxvBQ;;;;;;YAMI,eAAc;SAClB;QACA;YACI,iBAAgB;SACpB;QAGA;YACI,mBAAkB;YAClB,aAAY;YACZ,cAAa;SACjB;;QAEA;YACI,8BAA6B;SACjC;QAGA;YACI,aAAY;YACZ,8BAA6B;YAC7B,mBAAkB;YAClB,kBAAiB;SACrB;QAGA;YACI,mBAAkB;YAClB,kBAAiB;YACjB,mCAAkC;YAClC,SAAQ;YACR,UAAS;YACT,WAAU;YACV,oBAAmB;YACnB,oBAAmB;SACvB;QACA;YACI,0CAAyC;YACzC,iBAAgB;YAChB,wBAAuB;YACvB,oBAAmB;SACvB;QACA;;YAEI,YAAW;YACX,aAAY;SAChB;;QAEA;;;;;;;;;;;;;;YAcI,iBAAgB;SACpB;QAGA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;QACA;YACI,4BAA2B;SAC/B;KACJ;AAEA;QACI,eAAc;KAClB;AACA;QACI,sBAAqB;KACzB;AACA;QACI,eAAc;QACd,iBAAgB;QAChB,kBAAiB;KACrB;AACA;QACI,kCAAiC;KACrC;AACA;QACI,YAAW;KACf;AACA;QACI,YAAW;KACf;AACA;QACI,aAAY;KAChB;AACA;QACI,YAAW;QACX,wCAAqB;QACrB,mCAAgB;QAChB,eAAc;QACd,sBAAqB;QACrB,eAAc;QACd,mBAAkB;QAClB,gBAAe;KACnB;AAEA;QAh8DJ;;QAs+DQ;;;;;;;;;;;;UAYC;CAqkBT;QAtnBQ;;YAEI,cAAa;SACjB;QACA;YACI,mBAAkB;YAClB,UAAS;YACT,WAAU;SACd;QACA;YACI,YAAW;SACf;QACA;;YAEI,YAAW;YACX,aAAY;YACZ,kBAAiB;YACjB,gBAAe;YACf,mBAAkB;SACtB;QACA;;YAEI,gBAAe;YACf,kBAAiB;SACrB;QACA;YACI,mBAAkB;SACtB;QACA;;;;;;YAMI,eAAc;SAClB;KAeJ;AAEA,4BAA2B;AAE3B;QACI,cAAa;QACb,gBAAe;QACf,WAAU;KACd;AAEA;QACI,aAAY;KAChB;AAEA;QACI,aAAY;KAChB;AACA;QACI,aAAY;QACZ,UAAS;QACT,WAAU;KACd;AAEA;QACI,iBAAgB;QAChB,cAAa;QACb,iBAAgB;KACpB;AAEA;QACI,oBAAmB;KACvB;AACA;QACI,8BAA6B;QAC7B,gBAAe;QACf,oBAAmB;KACvB;AACA;QACI,oBAAmB;KACvB;AAEA;QACI,yBAAwB;QACxB,WAAU;QACV,kBAAiB;KACrB;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI,qBAAoB;KACxB;AAEA;QACI,gBAAe;QACf,cAAa,CAAE,2BAA0B;QACzC,QAAO;QACP,OAAM;KACV;AAEA,6EAA4E;AAC5E;QACI,2BAA0B;QAC1B,wBAAuB;QACvB,uBAAsB;KAC1B;AAEA,0BAAyB;AAEzB;QACI,cAAa;KACjB;AAEA;;yBAEoB;AAEpB;QACI,mBAAkB;QAClB,cAAa;QACb,iBAAgB;KACpB;AAEA;QACI,YAAW;QACX,aAAY;KAChB;AAEA;QACI,mBAAkB;QAClB,WAAU;QACV,aAAY;QACZ,aAAY;QACZ,mBAAkB;KACtB;AAEA;QACI,eAAc;KAClB;AAEA;QACI,eAAc;KAClB;AAEA;QACI,eAAc;KAClB;AAEA;QACI,SAAQ;KACZ;AAEA;QACI,kBAAiB;QACjB,mBAAkB;QAClB,QAAO;QACP,SAAQ;KACZ;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,UAAS;KACb;AAEA;QACI,UAAS;KACb;AAEA;QACI,WAAU;KACd;AAEA;QACI,UAAS;KACb;AAEA;QACI,WAAU;KACd;AAEA;QACI,UAAS;KACb;AAEA;QACI,WAAU;KACd;AAEA;QACI,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,gBAAe;QACf,mBAAkB;QAClB,mBAAkB;QAClB,eAAc;QACd,oBAAmB;QACnB,mBAAkB;QAClB,eAAc;QACd,iBAAgB;KACpB;AAEA;QACI,YAAW;QACX,aAAY;KAChB;AAEA,+DAA8D;AAC9D;;;QAGI,cAAa;KACjB;AAEA;;yBAEoB;AAEpB;QACI,mBAAkB;QAClB,iBAAgB;KACpB;AAEA;QACI,aAAY;QACZ,oBAAmB;QACnB,YAAW;KACf;AAEA;QACI,YAAW;QACX,gBAAe;QACf,iBAAgB;QAChB,aAAY;QACZ,oBAAmB;QACnB,kBAAiB;KACrB;AAEA;QACI,YAAW;QACX,gBAAe;QACf,aAAY;QACZ,oBAAmB;QACnB,kBAAiB;KACrB;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,0BAAiB;gBAAjB,kBAAiB;QACjB,iBAAgB;QAChB,gCAAuB;gBAAvB,wBAAuB;KAC3B;AAEA;QACI,kBAAiB;KACrB;AAEA;QACI;YACI,cAAa;YACb,iBAAgB;SACpB;;QAEA;YACI,gBAAe;SACnB;;QAEA;YACI,eAAc;YACd,iBAAgB;SACpB;;QAEA;YACI,gBAAe;SACnB;;QAEA;YACI,SAAQ;SACZ;;QAEA;YACI,UAAS;SACb;;QAEA;YACI,WAAU;SACd;;QAEA;YACI,UAAS;SACb;;QAEA;YACI,WAAU;SACd;;QAEA;YACI,UAAS;SACb;;QAEA;YACI,aAAY;YACZ,aAAY;SAChB;;QAEA;YACI,WAAU;SACd;KACJ;AAEA;QACI,gBAAe;QACf,gBAAe;KACnB;AAEA;;QAEI,iBAAgB;KACpB;AAEA;QACI,oBAAmB;KACvB;AAEA;QACI,gBAAe;KACnB;AAEA;QACI,UAAS;KACb;AAEA;QACI,sBAAa;QAAb,cAAa;KACjB;AAEA;QACI,mBAAkB;QAClB,YAAW;QACX,WAAU;QACV,gBAAe;QACf,kBAAiB;KACrB;AAEA;QACI,0BAAyB;QACzB,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,sBAAqB;QACrB,uBAAsB;QACtB,kBAAiB;QACjB,iBAAgB;KACpB;AAEA;;yBAEoB;AAEpB;QACI,oBAAmB;KACvB;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,4BAAmB;gBAAnB,oBAAmB;QACnB,wBAAe;gBAAf,gBAAe;QACf,oCAA2B;gBAA3B,4BAA2B;QAC3B,mBAAkB;KACtB;AAEA;QACI,mBAAkB;KACtB;AAEA;QACI,WAAU;KACd;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,4BAAmB;gBAAnB,oBAAmB;QACnB,wBAAe;gBAAf,gBAAe;QACf,YAAW;KACf;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,+BAAsB;gBAAtB,uBAAsB;QACtB,yBAAgB;gBAAhB,iBAAgB;QAChB,kBAAO;gBAAP,UAAO;QACP,wBAAuB;KAC3B;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI,oBAAmB;KACvB;AAEA;QACI,aAAY;KAChB;AAEA;QACI,iBAAgB;QAChB,kBAAiB;QACjB,kBAAiB;KACrB;AAEA;;kCAE6B;AAE7B;QACI,0BAAyB;QACzB,oBAAmB;QACnB,kBAAiB;KACrB;AAEA;QACI,sBAAa;QAAb,cAAa;QACb,WAAU;QACV,uCAA8B;gBAA9B,+BAA8B;KAClC;AAEA;QACI,gBAAe;QACf,oBAAmB;QACnB,0BAAyB;QACzB,kBAAiB;KACrB;AAEA;QACI,iBAAgB;QAChB,mBAAkB;QAClB,aAAY;QACZ,gBAAe;QACf,iBAAgB;QAChB,mBAAkB;QAClB,6BAA4B;QAC5B,eAAc;KAClB;AAEA;QACI,qCAAoC;QACpC,oBAAmB;QACnB,oBAAmB;QACnB,kBAAiB;KACrB;AAEA;;kCAE6B;AAC7B;QACI,iBAAgB;QAChB,WAAU;KACd;AAEA;;QAEI,gBAAe;QACf,WAAU;KACd;AAEA;QACI,YAAW;QACX,eAAc;QACd,gBAAe;QACf,OAAM;QACN,QAAO;QACP,YAAW;QACX,aAAY;QACZ,qCAAoC;QACpC,aAAY;KAChB;AAEA;QACI,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,WAAU;QACV,eAAc;QACd,aAAY;QACZ,OAAM;QACN,QAAO;QACP,UAAS;QACT,SAAQ;KACZ;AAEA;QACI,aAAY;QACZ,mBAAkB;KACtB;AAEA;QACI,uBAAsB,CAAE,yBAAwB;KACpD;AAEA;QACI,iBAAgB;KACpB;AAEA;QACI;;;;YAII,cAAa;SACjB;;QAEA;;;;YAII,kBAAiB;SACrB;KACJ;AAEA;;kCAE6B;AAC7B;;QAEI,sBAAa;QAAb,cAAa;QACb,uCAA8B;gBAA9B,+BAA8B;KAClC;AAEA;QACI,oBAAmB;KACvB;AAEA;QACI;;YAEI,iBAAgB;SACpB;;QAEA;YACI,oCAA2B;oBAA3B,4BAA2B;SAC/B;;QAEA;;YAEI,YAAW;YACX,QAAO;YACP,iBAAgB;SACpB;;QAEA;YACI,iBAAgB;SACpB;;QAEA;;YAEI,YAAW;YACX,UAAS;SACb;KACJ;AAEA;QACI;;YAEI,UAAS;SACb;KACJ;AAEA;QACI;YACI,cAAa;SACjB;;QAEA;YACI,eAAc;SAClB;;QAEA;;YAEI,gBAAe;SACnB;;QAEA;YACI,gBAAe;SACnB;;QAEA;YACI,YAAW;SACf;KACJ;AAEA;QACI;YACI,sBAAa;YAAb,cAAa;YACb,wBAAe;oBAAf,gBAAe;SACnB;;QAEA;YACI,WAAU;SACd;;QAEA;YACI,iBAAgB;SACpB;KACJ;AAEA;;QAEI,cAAa;KACjB",
            file: "activity.page.css",
            sourcesContent: ["@value ( primary, secondary, textLight, textMedium, textDark, iconSecondary, iconSecondaryHover, iconSecondaryDark, lightui_surface_1 ) from 'ui-connect/styles/colors.module.css';\n@value ( endXS, endSM ) from 'ui-connect/styles/variables.module.css';\n\n:global {\n    .page.activity-detail .activity-type-icon {\n        width: 60px;\n        height: 60px;\n        line-height: 60px;\n        margin-top: -4px;\n        margin-right: 11px;\n        font-size: 35px;\n        box-shadow: 0 0 0 2px #ccc;\n        text-align: center;\n        border-radius: 50%;\n        background-color: lightui_surface_1;\n        color: iconSecondary;\n    }\n    .page.activity-detail .page-header-content {\n        width: calc(100% - 50px);\n    }\n    .page.activity-edit .page-header-content {\n        width: auto;\n    }\n    .page.activity-detail .page-feature {\n        position: relative;\n    }\n    .page.activity-edit .page-feature {\n        min-height: 22px;\n        height: auto;\n    }\n    .page.activity-detail .page-header-content .page-title .data-bit {\n        margin-top: -4px;\n    }\n    .page.activity-detail .page-header-content .page-title .inline-edit-editable,\n    .page.activity-detail .page-header-content .page-title .page-title-overflow {\n        max-width: calc(100% - 110px);\n    }\n    .page.activity-detail .page-header-content .page-title .page-title-overflow {\n        display: inline-block;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    }\n    .page.activity-detail .page-header-content .page-title .inline-edit-editable-text.page-title-overflow {\n        text-overflow: inherit;\n        max-width: 100%;\n    }\n    .page.activity-detail .page-header-content .date-block {\n        margin-top: -36px;\n        position: relative;\n        z-index: 1;\n    }\n    .page.activity-detail .activity-detail-title input {\n        margin-top: -4px;\n        line-height: 15px;\n        padding: 0 4px;\n        box-shadow: inset 0 2px #eee;\n    }\n    .page.activity-detail .activity-title-time {\n        cursor: pointer;\n        border-bottom: 1px dotted #999;\n    }\n    .page.activity-detail .icon-personal-records {\n        color: #ff9e0d;\n        vertical-align: middle;\n    }\n    .page.activity-detail .page-title .icon-personal-records {\n        font-size: 18px;\n        height: 18px;\n        width: 18px;\n        line-height: 18px;\n        margin-top: -18px;\n        margin-left: 8px;\n    }\n    .page.activity-detail .multisport-nav .icon-personal-records {\n        font-size: 16px;\n        height: 16px;\n        width: 16px;\n        line-height: 16px;\n        margin-top: -5px;\n        margin-left: 3px;\n    }\n    .page.activity-detail .overflow-nav-container.overflow .multisport-nav {\n        padding-left: 30px;\n    }\n    .page.activity-detail .multisport-nav > li:first-child {\n        position: relative;\n        margin-right: 20px;\n        margin-left: 10px;\n    }\n    .page.activity-detail .multisport-nav > li:first-child:after {\n        content: '';\n        display: block;\n        border-left: 1px solid #eee;\n        padding: 0;\n        margin: 10px;\n        height: 75px;\n        width: 0;\n        position: absolute;\n        left: 100%;\n        top: 0;\n    }\n    .page.activity-detail .multisport-nav > li:first-child a {\n        padding-left: 20px;\n        padding-right: 20px;\n    }\n    .page.activity-detail .multisport-nav > li:first-child .time {\n        font-weight: 600;\n    }\n    .page.activity-detail .event-type,\n    .page.activity-detail .course-type {\n        margin-right: 10px;\n    }\n    .page.activity-detail .event-type .dropdown-menu {\n        z-index: 2;\n    }\n    .page.activity-detail .stats .data-block {\n        margin-bottom: 11px;\n    }\n    .page.activity-detail .stats h3 {\n        border-bottom: 1px solid #ddd;\n        font-size: 14px;\n        margin-bottom: 11px;\n    }\n    .page.activity-detail .stats .stat-block {\n        margin-bottom: 33px;\n    }\n    .modal .rd-color {\n        display: inline-block;\n        height: 20px;\n        width: 20px;\n        vertical-align: middle;\n        border-radius: 20px;\n        margin-right: 10px;\n        margin-top: -2px;\n    }\n\n    .page.activity-detail .mtbStat .data-block {\n        display: inline-block;\n        margin-left: 20px;\n        margin-bottom: 20px;\n    }\n\n    .page.activity-detail .mtbStat .trophy-container {\n        width: 20px;\n        height: 20px;\n        position: absolute;\n        margin-left: 30px;\n    }\n\n    .page.activity-detail .has-tooltip.jump-icon {\n        margin-top: 7px;\n    }\n\n    .page.activity-detail .mtbStat .trophy-container > .icon-personal-records {\n        color: black;\n    }\n\n    .page.activity-detail .leaflet-popup.jump-map-tooltip {\n        opacity: 0.9 !important;\n    }\n\n    .jump-tooltip-container {\n        display: flex;\n        flex-direction: column;\n        font-size: 12px;\n    }\n\n    .jump-tooltip-container .tooltip-row {\n        text-align: left;\n    }\n\n    .page.activity-detail .leaflet-popup-content-wrapper,\n    .leaflet-popup-content {\n        -webkit-border-radius: 3px !important;\n        -moz-border-radius: 3px !important;\n        border-radius: 3px !important;\n    }\n\n    /*  ======================\n        More about Training Effect\n        ====================== */\n    .modal-training-effect .te-feedback {\n        float: left;\n        clear: right;\n        width: 330px;\n    }\n    .modal-training-effect .te-score {\n        float: right;\n        width: 175px;\n    }\n    .modal-training-effect hr {\n        clear: both;\n    }\n\n    /*FIX OVERLAPPING PILLS ON SMALL WINDOWS AND SIDEBAR OPEN*/\n    @media (max-width: 1540px) {\n        .page.activity-detail .stats .btn-group .btn-small {\n            padding: 3px 6px;\n            font-size: 10px;\n        }\n    }\n\n    /*  ======================\n        Primary Stats\n        ====================== */\n    .page.activity-detail .nav.multisport-nav {\n        margin-bottom: 26px;\n    }\n    .page.activity-detail .stats-primary .data-block {\n        display: inline-block;\n        float: left;\n        box-sizing: border-box;\n        width: 50%;\n        padding-right: 20px;\n    }\n    .page.activity-detail .stats-primary .data-label {\n        display: block;\n        margin-top: 6px;\n        line-height: 16px;\n    }\n\n    @media (min-width: 992px) {\n        /* Detect 3 .data-block elements */\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(3),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(3) ~ .data-block {\n            width: 33%;\n        }\n        /* Detect 4 .data-block elements */\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(4),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(4) ~ .data-block {\n            width: 25%;\n        }\n        /* Detect 5 .data-block elements */\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5),\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) ~ .data-block {\n            width: 20%;\n        }\n    }\n\n    @media (min-width: 992px) and (max-width: 1199px) {\n        /* Detect 5 .data-block elements */\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) .data-bit,\n        .page.activity-detail .stats-primary .data-block:first-child:nth-last-child(5) ~ .data-block .data-bit {\n            font-size: 22px;\n            line-height: 24px;\n        }\n    }\n\n    /*  ======================\n        Time in Zones\n        ====================== */\n    .tab-time-in-zones .table-heart-rate-zones,\n    .tab-time-in-zones .table-power-zones {\n        width: 100%;\n    }\n    .tab-time-in-zones * {\n        box-sizing: border-box;\n    }\n    .tab-time-in-zones .stat-block > h3 {\n        margin-bottom: 10px;\n    }\n    .tab-time-in-zones .heart-rate-zones .zone-1 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-1 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-1 .zone-time {\n        background: #6d8594;\n    }\n    .tab-time-in-zones .heart-rate-zones .zone-2 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-2 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-2 .zone-time {\n        background: #39a9ec;\n    }\n    .tab-time-in-zones .heart-rate-zones .zone-3 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-3 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-3 .zone-time {\n        background: #50af12;\n    }\n    .tab-time-in-zones .heart-rate-zones .zone-4 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-4 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-4 .zone-time {\n        background: #f79d0c;\n    }\n    .tab-time-in-zones .heart-rate-zones .zone-5 .zone-percent > div,\n    .tab-time-in-zones .heart-rate-zones .zone-5 .zone-name,\n    .tab-time-in-zones .heart-rate-zones .zone-5 .zone-time {\n        background: #f4253c;\n    }\n\n    .tab-time-in-zones .power-zones .zone-1 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-1 .zone-name,\n    .tab-time-in-zones .power-zones .zone-1 .zone-time {\n        background: #6d8594; /*FAD117; */\n    }\n    .tab-time-in-zones .power-zones .zone-2 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-2 .zone-name,\n    .tab-time-in-zones .power-zones .zone-2 .zone-time {\n        background: #39a9ec; /*8264DB; */\n    }\n    .tab-time-in-zones .power-zones .zone-3 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-3 .zone-name,\n    .tab-time-in-zones .power-zones .zone-3 .zone-time {\n        background: #50af12; /*6D8594; */\n    }\n    .tab-time-in-zones .power-zones .zone-4 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-4 .zone-name,\n    .tab-time-in-zones .power-zones .zone-4 .zone-time {\n        background: #fad117; /*39A9EC; */\n    }\n    .tab-time-in-zones .power-zones .zone-5 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-5 .zone-name,\n    .tab-time-in-zones .power-zones .zone-5 .zone-time {\n        background: #f79d0c; /*50AF12; */\n    }\n    .tab-time-in-zones .power-zones .zone-6 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-6 .zone-name,\n    .tab-time-in-zones .power-zones .zone-6 .zone-time {\n        background: #f4253c; /*F79D0C; */\n    }\n    .tab-time-in-zones .power-zones .zone-7 .zone-percent > div,\n    .tab-time-in-zones .power-zones .zone-7 .zone-name,\n    .tab-time-in-zones .power-zones .zone-7 .zone-time {\n        background: #8264db; /*F4253C; */\n    }\n    .tab-time-in-zones .table-heart-rate-zones tr td,\n    .tab-time-in-zones .table-power-zones tr td {\n        border-right: 1px solid #fff;\n        border-bottom: 1px solid #fff;\n        padding: 0px;\n    }\n    .tab-time-in-zones .table-heart-rate-zones td > div,\n    .tab-time-in-zones .table-power-zones td > div {\n        padding: 12px 20px;\n    }\n    .tab-time-in-zones td.zone-name {\n        width: 30px;\n    }\n    .tab-time-in-zones td.zone-name > div {\n        background: rgba(255, 255, 255, 0.6);\n        /*opacity: 20;*/\n        border: none;\n    }\n    .tab-time-in-zones td.zone-time {\n        width: 30px;\n    }\n    .tab-time-in-zones td.zone-time > div {\n        background: rgba(255, 255, 255, 0.6);\n        text-align: right;\n        border: none;\n        /*opacity: 20;*/\n    }\n    .tab-time-in-zones td.zone-percent {\n        position: relative;\n    }\n    .tab-time-in-zones td.zone-percent > div {\n        position: absolute;\n        top: 0px;\n        bottom: 0px;\n        padding: 12px 0px;\n    }\n    .tab-time-in-zones td.zone-percent > div > span {\n        /*width: 700px;*/\n        display: block;\n        position: absolute;\n        left: 100%;\n        padding-left: 10px;\n    }\n    .tab-time-in-zones .heart-rate-zones {\n        margin-bottom: 20px;\n    }\n\n    /*  ======================\n        Charts\n        ======================  */\n    .page.activity-detail .chart-header-item {\n        font-size: 14px;\n    }\n    .page.activity-detail .chart-list-customize:hover {\n        color: inherit;\n        text-decoration: none;\n    }\n    .page.activity-detail .chart-header .chart-zoom-toggle {\n        padding: 0 3px;\n        margin-left: 20px;\n        margin-right: 5px;\n        vertical-align: middle;\n    }\n    .page.activity-detail .overlay-item {\n        float: left;\n        margin-left: 30px;\n    }\n    .page.activity-detail .chart-name .chart-title {\n        margin-right: 10px;\n    }\n    .page.activity-detail .chart-name,\n    .page.activity-detail .chart-max-avg-power,\n    .page.activity-detail .chart-lap-avg-pace {\n        display: inline-block;\n    }\n    .page.activity-detail .chart-max-avg-power,\n    .page.activity-detail .chart-lap-avg-pace {\n        margin-left: 30px;\n    }\n    .page.activity-detail .chart-max-avg-power .custom-max-avg-power {\n        padding: 0 20px;\n        white-space: nowrap;\n    }\n    .page.activity-detail .chart-zoom .overlay-item button {\n        font-size: 18px;\n        font-weight: 100;\n    }\n    .page.activity-detail .chart-toggle-options .time-toggle {\n        margin-right: -5px;\n        background-color: primary;\n        color: textLight;\n        border-right: 0 transparent;\n        border-radius: 4px 0 0 4px;\n    }\n\n    .page.activity-detail .chart-toggle-options .distance-toggle {\n        border-left: 0 transparent;\n        border-radius: 0 4px 4px 0;\n    }\n\n    .page.activity-detail .chart-toggle-options .length-rests-toggle {\n        margin-right: -5px;\n        border-right: 0 transparent;\n        border-radius: 4px 0 0 4px;\n    }\n\n    .page.activity-detail .activity-charts-container .btn-customize-charts {\n        background: transparent;\n        color: black;\n        box-shadow: none;\n        border: 1px solid #ccc;\n        padding: 5px 10px;\n    }\n\n    .page.activity-detail .chart-toggle-options button,\n    .page.activity-detail .customize-charts-controls .reorder-widgets-set,\n    .page.activity-detail .customize-charts-controls .reorder-widgets-cancel {\n        border-radius: 2px;\n        border: 1px solid #ccc;\n        background: transparent;\n        color: black;\n        box-shadow: none;\n    }\n\n    .page.activity-detail .customize-charts-controls .reorder-widgets-set {\n        background-color: #11a9ed;\n        color: textLight;\n    }\n\n    .page.activity-detail .customize-charts-list {\n        top: -6px;\n        left: -1px;\n        min-width: 200px;\n        border-radius: 10px;\n        background: white;\n        padding-left: 20px;\n        padding-right: 10px;\n        padding-top: 10px;\n    }\n\n    .page.activity-detail .customize-charts-header {\n        margin-top: -5px;\n        margin-left: -10px;\n    }\n\n    .page.activity-detail .dropdown-menu label {\n        margin-bottom: 10px;\n    }\n\n    .page.activity-detail .sortable-checkboxes .chart-off {\n        display: none;\n    }\n\n    .page.activity-detail .sortable-checkboxes.sort-mode .sortable-checkbox:not(:checked) + .chart-off {\n        display: block;\n        top: 1px;\n    }\n\n    .widget .heart-rate .chart-color-circle,\n    .page.activity-detail .chart-color-circle {\n        background-color: #e8e8e8;\n        border-radius: 50%;\n        height: 11px;\n        width: 11px;\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: 5px;\n        margin-top: -3px;\n    }\n    .page.activity-detail .no-overlay .chart-color-circle {\n        display: none;\n    }\n    .page.activity-detail .chart-zoom .chart-color-circle {\n        height: 16px;\n        width: 16px;\n        margin-top: -4px;\n    }\n\n    .page.activity-detail .stress .chart-color-circle {\n        background-color: #ff9e0d;\n    }\n    .page.activity-detail .movement .chart-color-circle {\n        background-color: #b0e1f7;\n    }\n    .page.activity-detail .speed .chart-color-circle {\n        background-color: #11a9ed;\n    }\n    .page.activity-detail .elevation .chart-color-circle {\n        background-color: #4cb200;\n    }\n    .page.activity-detail .breath-rate .chart-color-circle {\n        background-color: #5036a3;\n    }\n\n    .widget .heart-rate .chart-color-circle,\n    .page.activity-detail .heart-rate .chart-color-circle {\n        background-color: #ff0035;\n    }\n    .page.activity-detail .performance-condition .chart-color-circle {\n        background-color: #6e8594;\n    }\n    .page.activity-detail .cadence .chart-color-circle,\n    .page.activity-detail .stride-length .chart-color-circle {\n        background-color: #ff9e0d;\n    }\n    .page.activity-detail .power .chart-color-circle,\n    .page.activity-detail .power-balance .chart-color-circle {\n        background-color: #cf23b8;\n    }\n    .page.activity-detail .power-phase-start .chart-color-circle {\n        background-color: #11a9ed;\n    }\n    .page.activity-detail .power-phase-end .chart-color-circle {\n        background-color: #50b012;\n    }\n    .page.activity-detail .pco-left .chart-color-circle {\n        background-color: #bf0f24;\n    }\n    .page.activity-detail .pco-right .chart-color-circle {\n        background-color: #ed7e00;\n    }\n    .page.activity-detail .temperature .chart-color-circle {\n        background-color: #6e8594;\n    }\n    .page.activity-detail .vertical-o .chart-color-circle,\n    .page.activity-detail .vertical-r .chart-color-circle {\n        background-color: #cf25bb;\n    }\n    .page.activity-detail .reset-zoom,\n    .page.activity-detail .chart-zoom .x-axis-value {\n        position: relative;\n        left: 50%;\n        -webkit-transform: translateX(-50%);\n        -ms-transform: translateX(-50%);\n        transform: translateX(-50%);\n    }\n\n    /*  ======================\n        Swim Intervals\n        ======================  */\n    .page.activity-detail .modal-body h2,\n    .page.activity-detail .modal-body h5 {\n        display: inline-block;\n    }\n\n    .page.activity-detail .swim-interval .interval-title {\n        font-weight: 600;\n        margin: 22px 0 11px 0;\n    }\n    .page.activity-detail .swim-interval .interval-title .distance,\n    .page.activity-detail .swim-interval .interval-title .time {\n        font-weight: 400;\n        font-size: 14px;\n        display: inline-block;\n        margin-left: 8px;\n    }\n    .page.activity-detail .swim-length {\n        width: 110px;\n        height: 55px;\n        line-height: 40px;\n        float: left;\n        text-align: center;\n        background-color: #fafafa;\n        margin-right: -1px;\n        margin-bottom: 8px;\n        border: 1px solid #ddd;\n        overflow: hidden;\n    }\n    .page.activity-detail .swim-length.first {\n        border-radius: 30px 0 0 30px;\n    }\n    .page.activity-detail .swim-length.last {\n        border-radius: 0 30px 30px 0;\n        margin-right: 5px;\n    }\n    .page.activity-detail .swim-length.first .type {\n        padding-left: 15px;\n    }\n    .page.activity-detail .swim-length.last .type {\n        padding-right: 15px;\n    }\n    .page.activity-detail .swim-length.first.last {\n        border-radius: 30px;\n    }\n    .page.activity-detail .swim-length .type,\n    .page.activity-detail .swim-length .first.last .type {\n        height: 15px;\n        line-height: 15px;\n        font-size: 9px;\n        text-transform: uppercase;\n        color: rgba(255, 255, 255, 0.7);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        padding: 0 5px;\n    }\n    .page.activity-detail .swim-length .number {\n        background: #ddd;\n        display: inline-block;\n        vertical-align: middle;\n        width: 22px;\n        height: 22px;\n        line-height: 22px;\n        font-size: 12px;\n        border-radius: 50%;\n        color: #444;\n        float: left;\n        margin-top: 10px;\n        margin-left: 15px;\n    }\n    .page.activity-detail .swim-length .time {\n        font-weight: 100;\n        font-size: 18px;\n        color: #222;\n        float: right;\n        margin-right: 15px;\n    }\n    .page.activity-detail .swim-length.freestyle .type {\n        background: #cf23b8;\n    }\n    .page.activity-detail .swim-length.butterfly .type {\n        background: #11a9ed;\n    }\n    .page.activity-detail .swim-length.backstroke .type {\n        background: #50b012;\n    }\n    .page.activity-detail .swim-length.breaststroke .type {\n        background: #ff0035;\n    }\n    .page.activity-detail .swim-length.drill .type {\n        background: #ed7e00;\n    }\n    .page.activity-detail .swim-length.drill .number {\n        display: none;\n    }\n    .page.activity-detail .swim-length.drill .time {\n        float: none;\n        margin-right: 0;\n    }\n    .page.activity-detail .swim-length.mixed .type,\n    .page.activity-detail .swim-length.unknown .type {\n        background: #888;\n    }\n    .page.activity-detail .swim-rest {\n        float: left;\n        margin-bottom: 8px;\n        line-height: 40px;\n        background: #ddd;\n        border-radius: 30px;\n        overflow: hidden;\n        width: 90px;\n        text-align: center;\n        border: 1px solid #ddd;\n    }\n    .page.activity-detail .swim-rest .type {\n        height: 15px;\n        line-height: 15px;\n        font-size: 9px;\n        text-transform: uppercase;\n        color: #eee;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        padding: 0 5px;\n        background: #bbb;\n    }\n    .page.activity-detail .swim-rest .time {\n        font-size: 18px;\n        font-weight: 100;\n    }\n\n    /*  ======================\n        Player\n        ======================  */\n    .page.activity-detail .map-controls.player {\n        margin-left: calc(50% - 16px);\n        width: 33px;\n    }\n    .page.activity-detail .map-controls button.disabled {\n        display: none;\n    }\n\n    @media (max-width: 415px) {\n        .page.activity-detail #map-controls {\n            display: flex;\n            flex-direction: column;\n        }\n\n        .page.activity-detail #map-controls .map-control-item {\n            margin-bottom: 5px;\n        }\n    }\n\n    /*  ======================\n        Laps checkbox\n        ======================  */\n    .page.activity-detail .map-control-item.laps {\n        width: auto;\n        white-space: nowrap;\n    }\n    .page.activity-detail .map-control-item.laps label {\n        line-height: 33px;\n        padding-right: 10px;\n    }\n    .page.activity-detail .map-control-item.laps label input {\n        margin-top: 11px;\n        margin-right: 5px;\n        margin-left: 10px;\n    }\n\n    /*  ======================\n        Mobile Scroll Toggle\n        ======================  */\n    .page.activity-detail .map-control-item.scrolling {\n        clear: left;\n        width: auto;\n        margin-top: 6px;\n        padding-right: 10px;\n        padding-left: 10px;\n        white-space: nowrap;\n    }\n\n    /*  ======================\n        Weather\n        ======================  */\n    .page.activity-detail .weather *,\n    .page.activity-detail .weather.large * {\n        -webkit-transition: 150ms cubic-bezier(0.175, 0.885, 0.305, 1.24);\n        transition: 150ms cubic-bezier(0.175, 0.885, 0.305, 1.24);\n        -webkit-transform-style: preserve-3d;\n        transform-style: preserve-3d;\n    }\n    .page.activity-detail .weather {\n        right: 10px;\n        left: auto;\n        cursor: pointer;\n        margin-bottom: 5px;\n    }\n    .page.activity-detail .weather .map-control-item {\n        margin-right: 0;\n        width: auto;\n        padding: 0 5px;\n        overflow: hidden;\n    }\n    .page.activity-detail .weather span {\n        display: inline-block;\n        vertical-align: middle;\n        position: relative;\n        margin: 0 2px;\n    }\n    .page.activity-detail .weather .trigger {\n        top: 5px;\n        left: -4px;\n    }\n    .page.activity-detail .weather .trigger i {\n        color: iconSecondary;\n        font-size: 11px;\n        height: 11px;\n        width: 11px;\n        line-height: 11px;\n        margin-top: 0;\n    }\n    .page.activity-detail .weather .temperature {\n        font-size: 22px;\n        font-weight: 100;\n        line-height: 33px;\n    }\n    .page.activity-detail .weather .humidity-percentage {\n        font-size: 22px;\n        font-weight: 100;\n        line-height: 33px;\n    }\n    .page.activity-detail .weather .weather-icon {\n        margin-right: 5px;\n    }\n    .page.activity-detail .weather .weather-icon img {\n        height: 31px;\n        width: 31px;\n    }\n    .page.activity-detail .weather .wind {\n        width: 21px;\n        height: 21px;\n        line-height: 21px;\n        text-align: center;\n        font-size: 12px;\n        border: 1px solid #222;\n        border-radius: 50%;\n        margin-right: 0;\n    }\n    .page.activity-detail .weather .wind:before {\n        content: '';\n        display: block;\n        width: 0;\n        height: 15px;\n        border-width: 7px 3px;\n        border-style: solid;\n        border-color: #222 transparent transparent transparent;\n        position: absolute;\n        top: -4px;\n        left: 8px;\n    }\n    /*\n    .page.activity-detail .wind-n:before {\n        nothing needed - north is the default\n    }\n    */\n    .page.activity-detail .wind-nne:before {\n        -webkit-transform: rotate(22.5deg);\n        -ms-transform: rotate(22.5deg);\n        transform: rotate(22.5deg);\n    }\n    .page.activity-detail .wind-ne:before {\n        -webkit-transform: rotate(45deg);\n        -ms-transform: rotate(45deg);\n        transform: rotate(45deg);\n    }\n    .page.activity-detail .wind-ene:before {\n        -webkit-transform: rotate(77.5deg);\n        -ms-transform: rotate(77.5deg);\n        transform: rotate(77.5deg);\n    }\n    .page.activity-detail .wind-e:before {\n        -webkit-transform: rotate(90deg);\n        -ms-transform: rotate(90deg);\n        transform: rotate(90deg);\n    }\n    .page.activity-detail .wind-ese:before {\n        -webkit-transform: rotate(112.5deg);\n        -ms-transform: rotate(112.5deg);\n        transform: rotate(112.5deg);\n    }\n    .page.activity-detail .wind-se:before {\n        -webkit-transform: rotate(135deg);\n        -ms-transform: rotate(135deg);\n        transform: rotate(135deg);\n    }\n    .page.activity-detail .wind-sse:before {\n        -webkit-transform: rotate(157.5deg);\n        -ms-transform: rotate(157.5deg);\n        transform: rotate(157.5deg);\n    }\n    .page.activity-detail .wind-s:before {\n        -webkit-transform: rotate(180deg);\n        -ms-transform: rotate(180deg);\n        transform: rotate(180deg);\n    }\n    .page.activity-detail .wind-ssw:before {\n        -webkit-transform: rotate(202.5deg);\n        -ms-transform: rotate(202.5deg);\n        transform: rotate(202.5deg);\n    }\n    .page.activity-detail .wind-sw:before {\n        -webkit-transform: rotate(225deg);\n        -ms-transform: rotate(225deg);\n        transform: rotate(225deg);\n    }\n    .page.activity-detail .wind-wsw:before {\n        -webkit-transform: rotate(247.5deg);\n        -ms-transform: rotate(247.5deg);\n        transform: rotate(247.5deg);\n    }\n    .page.activity-detail .wind-w:before {\n        -webkit-transform: rotate(270deg);\n        -ms-transform: rotate(270deg);\n        transform: rotate(270deg);\n    }\n    .page.activity-detail .wind-wnw:before {\n        -webkit-transform: rotate(292.5deg);\n        -ms-transform: rotate(292.5deg);\n        transform: rotate(292.5deg);\n    }\n    .page.activity-detail .wind-nw:before {\n        -webkit-transform: rotate(315deg);\n        -ms-transform: rotate(315deg);\n        transform: rotate(315deg);\n    }\n    .page.activity-detail .wind-nnw:before {\n        -webkit-transform: rotate(337.5deg);\n        -ms-transform: rotate(337.5deg);\n        transform: rotate(337.5deg);\n    }\n    .page.activity-detail .weather .map-control-item .details {\n        display: none;\n    }\n\n    .page.activity-detail .weather.weather-large .map-control-item {\n        height: 70px;\n        border-radius: 35px;\n        padding-right: 10px;\n    }\n    .page.activity-detail .weather.weather-large .trigger {\n        top: -4px;\n        left: -3px;\n        -webkit-transform: rotate(180deg);\n        -ms-transform: rotate(180deg);\n        transform: rotate(180deg);\n    }\n    .page.activity-detail .weather.weather-large .temperature {\n        font-size: 32px;\n        margin-left: 8px;\n    }\n    .page.activity-detail .weather.weather-large .humidity-percentage {\n        font-size: 32px;\n        margin-left: 8px;\n    }\n    .page.activity-detail .weather.weather-large .weather-icon img {\n        width: 70px;\n        height: 70px;\n    }\n    .page.activity-detail .weather.weather-large .wind {\n        font-size: 18px;\n        width: 35px;\n        height: 35px;\n        line-height: 35px;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n    .page.activity-detail .weather.weather-large .wind:before {\n        border-width: 11px 4px;\n        height: 25px;\n        left: 13px;\n        top: -6px;\n    }\n    .page.activity-detail .weather.weather-large .details {\n        display: inline-block;\n        margin: 4px 8px 8px 0;\n    }\n    .page.activity-detail .weather .details ul {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n        font-size: 12px;\n    }\n    .page.activity-detail .weather .details li {\n        margin: 0;\n        padding: 0;\n        line-height: 1.4;\n    }\n    .page.activity-detail .weather .details .source {\n        font-size: 9px;\n        color: textMedium;\n    }\n\n    @media (max-width: endXS) {\n        .page.activity-detail .weather.weather-large .map-control-item {\n            max-width: 270px;\n        }\n\n        .page.activity-detail .weather .weather-icon {\n            max-width: 40px;\n        }\n\n        .page.activity-detail .weather.weather-large .temperature {\n            font-size: 20px;\n            margin-left: 5px;\n        }\n\n        .page.activity-detail .weather.weather-large .weather-icon img {\n            width: 35px;\n            height: 35px;\n        }\n\n        .page.activity-detail .weather.weather-large .wind {\n            font-size: 16px;\n            width: 25px;\n            height: 25px;\n            line-height: 25px;\n        }\n\n        .page.activity-detail .weather.weather-large .wind:before {\n            height: 20px;\n            left: 9px;\n            top: -8px;\n        }\n\n        .page.activity-detail .weather.weather-large .details {\n            margin: 4px 4px 4px 0;\n        }\n    }\n\n    /*  ======================\n        Splits and intervals table\n        ======================  */\n    .page.activity-detail .tab-overflow {\n        overflow: scroll;\n    }\n    .page.activity-detail .splits-table th,\n    .page.activity-detail .intervals-table th {\n        white-space: nowrap;\n        padding-left: 20px;\n        text-align: right;\n    }\n    .page.activity-detail .splits-table th:nth-child(1),\n    .page.activity-detail .splits-table th:nth-child(2),\n    .page.activity-detail .intervals-table th:nth-child(2) {\n        text-align: center;\n    }\n    .page.activity-detail .intervals-table th:nth-child(2) {\n        padding-right: 20px;\n    }\n    .page.activity-detail .splits-table td,\n    .page.activity-detail .intervals-table td {\n        text-align: right;\n        white-space: nowrap;\n    }\n    .page.activity-detail .splits-table td:nth-child(1),\n    .page.activity-detail .splits-table td:nth-child(2),\n    .page.activity-detail .intervals-table td:nth-child(2) {\n        text-align: center;\n    }\n    .page.activity-detail .splits-table tfoot,\n    .page.activity-detail .intervals-table tfoot {\n        font-weight: bold;\n    }\n    .page.activity-detail .activity-intervals-tab-content-placeholder {\n        overflow: auto;\n        min-height: 190px;\n    }\n    /*  ======================\n        Gases and Tanks table\n        ======================  */\n    .page.activity-detail .gases-and-tanks-table th,\n    .page.activity-detail .gases-and-tanks-table td {\n        white-space: nowrap;\n        padding-left: 10px;\n        padding-right: 10px;\n        text-align: center;\n    }\n\n    /* Embed modal */\n    .embed-activity-input[type='text'] {\n        margin-bottom: 11px;\n        width: 97%;\n        cursor: pointer;\n    }\n    .embed-activity-iframe {\n        margin-left: 30px;\n    }\n    .modal.activity-detail-embed .modal-body {\n        max-height: 600px;\n    }\n\n    /* Create / Find segment button */\n\n    .page.activity-detail .activity-segments-container {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .page.activity-detail .create-segment .icon-add {\n        font-size: 12px;\n        height: 12px;\n        width: 12px;\n        line-height: 12px;\n        margin-top: 4px;\n        margin-right: 5px;\n    }\n\n    .page.activity-detail .segment-match-container {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .page.activity-detail .segment-match-container .segment-match-actions {\n        display: flex;\n        justify-content: flex-end;\n    }\n\n    /* Segments table */\n    .page.activity-detail .segments-table {\n        table-layout: fixed;\n    }\n    .page.activity-detail .segments-table .segment-name {\n        min-width: 190px;\n    }\n    .page.activity-detail .segments-table .segment-rank {\n        width: 40px;\n    }\n    .page.activity-detail .segments-table .segment-link {\n        vertical-align: middle;\n        width: 100%;\n    }\n    .page.activity-detail .segments-table .segment-time {\n        width: 75px;\n    }\n    .page.activity-detail .segments-table .segment-pace {\n        width: 90px;\n    }\n    .page.activity-detail .segments-table .segment-fav,\n    .page.activity-detail .segments-table .segment-visible {\n        width: 25px;\n    }\n    .page.activity-detail .segments-table .icon-star.fav {\n        vertical-align: middle;\n    }\n    .page.activity-detail .segments-table .icon-eye {\n        vertical-align: middle;\n        font-size: 18px;\n        color: #c7c7c7;\n        cursor: pointer;\n    }\n    .page.activity-detail .segments-table .icon-eye.active {\n        color: iconSecondaryDark;\n    }\n\n    @media (max-width: endSM) {\n        .page.activity-detail .segments-table {\n            /* Creates a horizontally scrollable table that moves independently from the page when the page is too narrow */\n            display: block;\n            overflow-x: auto;\n            max-width: 90vw;\n        }\n    }\n\n    /* Additional info */\n    .page.activity-detail .additional-info > div {\n        text-align: center;\n    }\n    .page.activity-detail .additional-info .device-image img {\n        width: 50%;\n    }\n    .page.activity-detail .additional-info .device-name {\n        font-weight: 600;\n    }\n    /* mbtester - admin */\n    .page.activity-detail .additional-info .admin {\n        background: #e6ff84;\n    }\n\n    .page.activity-detail .power-curve-excluded {\n        margin-top: 40px;\n    }\n\n    .page.activity-detail .power-curve-excluded .heading {\n        font-size: 18px;\n    }\n\n    .page.activity-detail .power-curve-excluded .sub-heading {\n        margin: 20px 0px 10px 0px;\n    }\n\n    /*  ======================\n        Manual Activity Page / Edit Activity\n        ======================  */\n    .page.activity-edit .time-zone-select {\n        font-size: 12px;\n        margin-left: 5px;\n        cursor: pointer;\n    }\n    .page.activity-edit .time-zone-select > a {\n        display: inline-block;\n        line-height: 11px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n    .page.activity-edit .avg-pace-speed {\n        width: auto;\n    }\n    .page.activity-edit .advanced-edit-actions-container {\n        display: flex;\n        width: 210px;\n        justify-content: space-between;\n    }\n\n    /*  ======================\n        Multisport\n        ======================  */\n    .page.activity-detail .multisport-nav > li {\n        text-align: center;\n    }\n    .page.activity-detail .multisport-nav > li > a {\n        padding-bottom: 10px;\n    }\n    .page.activity-detail .multisport-nav > li > a > .icon > i {\n        display: block;\n        margin: 0 auto;\n        font-size: 36px;\n        width: 36px;\n        height: 36px;\n        line-height: 36px;\n    }\n    .page.activity-detail .multisport-nav > li > a > .icon > .icon-activity-transition {\n        font-size: 20px;\n    }\n    .page.activity-detail .multisport-nav > li > a > .avg-stat {\n        font-size: 10px;\n        line-height: 1;\n        height: 10px;\n    }\n    .page.activity-detail .multisport-nav .dropdown-menu i {\n        font-size: 16px;\n        width: 16px;\n        height: 16px;\n        line-height: 16px;\n        margin-right: 10px;\n    }\n    .page.activity-detail .multisport-nav .dropdown-menu {\n        text-align: left;\n    }\n\n    /*  ======================\n        Connect IQ Label\n        ======================  */\n    .ciq-label {\n        color: textMedium;\n        font-size: 12px;\n        width: 12px;\n        height: 11px;\n        line-height: 11px;\n        margin-left: 5px;\n        vertical-align: middle;\n    }\n\n    /*  ======================\n        Media queries for responsive breakpoints\n        ======================  */\n    @media (max-width: 1158px) {\n        .page.activity-detail .activity.stats .row-fluid [class*='span'] {\n            width: 100%;\n            margin-left: 0;\n        }\n    }\n\n    /*  ======================\n        Cycling Dynamics Tab\n        ======================  */\n    .cycling-dynamics .custom-max-avg-power {\n        display: inline-block;\n        margin-top: -10px;\n    }\n    .cycling-dynamics .max-avg-label {\n        margin-right: 5px;\n    }\n    .cycling-dynamics .cycling-tab-controls {\n        min-height: 30px;\n    }\n    .cycling-dynamics .cycling-tab-controls .input-small {\n        margin-bottom: 0;\n    }\n\n    /*  ======================\n        Platform Center Offset\n        ======================  */\n    .cycling-dynamics .pco-content {\n        padding: 0 21px;\n    }\n    .cycling-dynamics .pco-content .chart-container {\n        margin: 0 auto;\n        height: 160px;\n    }\n    .platform-center-offset > canvas {\n        width: 160px;\n        height: 160px;\n        background-position: 0 0;\n        background-repeat: no-repeat;\n    }\n    .platform-center-offset-left > canvas {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/platform-center-offset-left.svg');\n    }\n    .platform-center-offset-right > canvas {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/platform-center-offset-right.svg');\n    }\n\n    /*  ======================\n        Peak Power Phase\n        ======================  */\n    .power-phase {\n        width: 100%;\n        padding-bottom: 10px;\n        margin-bottom: 20px;\n        border-bottom: 1px solid #ddd;\n    }\n    .power-phase-charts {\n        width: 660px;\n        height: 260px;\n        margin: 0 auto;\n    }\n    .power-phase-charts > div {\n        width: 325px;\n    }\n    .power-phase-charts > div:first-child {\n        float: left;\n    }\n    .power-phase-charts > div:last-child {\n        float: right;\n    }\n    .power-phase-charts .chart-container {\n        /* Dynamic Highchart Graphic */\n        margin-top: -273px;\n        margin-left: 17px;\n    }\n    .power-phase-charts .chart-container sup {\n        font-size: 22px;\n        top: -12px;\n    }\n    .power-phase-graphic {\n        /* Background Image */\n        display: inline-block;\n        width: 250px;\n        height: 250px;\n        margin: 0 0 22px 0;\n        background-position: 0 0;\n        background-repeat: no-repeat;\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/power-phase.svg');\n    }\n    @media (max-width: 1310px) {\n        .cycling-dynamics .custom-max-avg-power {\n            display: block;\n            margin-top: 10px;\n        }\n        .cycling-dynamics #avg-power-range-value {\n            float: none;\n            display: inline-block;\n        }\n    }\n    @media (max-width: 640px) {\n        .power-phase-charts {\n            width: 100%;\n        }\n        .power-phase-charts > div {\n            width: 195px;\n        }\n        .power-phase-charts .chart-container {\n            margin-top: -225px;\n            margin-left: -18px;\n        }\n        .power-phase-graphic {\n            width: 200px; /* chart design is small */\n            height: 200px;\n        }\n    }\n    @media (max-width: 520px) {\n        .power-phase {\n            border-width: 0;\n        }\n        .power-phase-charts {\n            height: 520px;\n        }\n        .power-phase-charts > div:first-child,\n        .power-phase-charts > div:last-child {\n            float: none;\n            width: 325px;\n            margin: 0 auto 30px auto;\n        }\n        .power-phase .chart-container {\n            margin-top: -274px;\n            margin-left: 19px;\n        }\n        .power-phase-graphic {\n            width: 250px; /* chart design is medium & stacked */\n            height: 250px;\n        }\n    }\n\n    /*  ======================\n        Seated & Standing Position\n        ======================  */\n    .cycling-dynamics .seated-standing {\n        padding-left: 20px;\n        padding-right: 20px;\n        margin-bottom: 0;\n        border-left: 1px solid #ddd;\n    }\n    .position-seated > span,\n    .position-standing > span {\n        margin: auto auto 0 auto;\n        max-width: 80%;\n        vertical-align: bottom;\n        display: block;\n        width: 200px;\n        height: 160px;\n        background-position: center;\n        background-repeat: no-repeat;\n        margin-left: auto;\n        margin-right: auto;\n    }\n    .position-seated > span {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/seated.svg');\n    }\n    .position-standing > span {\n        background-image: url('https://static.garmincdn.com/com.garmin.connect/ui/images/activities/cycling/standing.svg');\n    }\n\n    /*  ======================\n        Media Queries provided by Joshua Johnston (front-end team)\n        ======================  */\n    @media (max-width: 1175px) {\n        .pco-content .span6,\n        .seated-standing .span6 {\n            width: 100%; /* stack these graphics early */\n            margin: 0 auto;\n        }\n    }\n    @media (max-width: 767px) {\n        .cycling-dynamics .seated-standing {\n            border-left: 0;\n        }\n    }\n    @media (max-width: 653px) {\n        .cycling-dynamics .cycling-tab-controls {\n            max-height: 85px;\n        }\n    }\n\n    /*  ======================\n        Activity List Table in Modal\n        ======================  */\n    .modal .activity-list .activity-title {\n        width: 250px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        display: inline-block;\n        vertical-align: middle;\n        white-space: nowrap;\n        line-height: 1.3;\n    }\n\n    /*ACTIVITY LIKING*/\n    .page-navigation-action .like-link:hover {\n        background: transparent;\n    }\n\n    /*NO PRIVILEGES PAGE*/\n    .no-privileges h3 {\n        line-height: 2rem;\n    }\n    .no-privileges .locked-activity {\n        font-size: 80px;\n        color: #e5e5e5;\n        display: block;\n        padding-right: 65px;\n    }\n    .ciq-info {\n        max-width: 250px;\n        margin: 33px auto 0;\n    }\n\n    .page.activity-detail .ciq-info .app-name a {\n        font-weight: 600;\n    }\n\n    .page.activity-detail .ciq-info .aspect {\n        position: relative;\n        width: 100%;\n        max-width: 80px;\n        margin: 15px auto;\n    }\n\n    .page.activity-detail .ciq-info .aspect-square {\n        padding-top: 100%;\n    }\n\n    .page.activity-detail .ciq-info .aspect-element {\n        height: 100%;\n        width: 100%;\n        position: absolute;\n        top: 0;\n    }\n\n    @media (max-width: 1156px) and (min-width: 414px) {\n        .activity.stats .row-fluid .span3 {\n            width: 48% !important;\n            margin: 0;\n            display: inline-block;\n            float: left;\n        }\n        .activity.stats .row-fluid .span3 {\n            margin-left: 2% !important;\n        }\n    }\n    /*iPhone 6+ and smaller*/\n    @media screen and (max-device-width: 415px) {\n        .page.activity-detail .page-header-content .page-title .page-title-overflow {\n            max-width: calc(100% - 50px);\n        }\n        .page.activity-detail .page-title .icon-personal-records {\n            height: 25px;\n        }\n        .page.activity-detail .activity-type-icon {\n            width: 40px;\n            height: 40px;\n            line-height: 40px;\n            margin-top: 0;\n            margin-right: 6px;\n            font-size: 20px;\n            box-shadow: 0 0 0 2px #ccc;\n        }\n        .page.activity-detail .page-header-content .date-block {\n            clear: both;\n        }\n        .chart-header .span4 {\n            display: inline-block;\n        }\n        .page.activity-detail .highcharts-container {\n            /*TO PREVENT THE CARTS FROM BREAKING PAST THE CONTAINER*/\n            margin-left: -10px;\n        }\n        .chart-header .span9 {\n            width: 100%;\n            display: inline-block;\n        }\n        .chart-header .span3 {\n            display: none;\n        }\n        .chart-header .span3 button {\n            font-size: 12px;\n            vertical-align: middle;\n            line-height: 15px;\n        }\n        .row-fluid.chart-header [class*='span'] {\n            float: left;\n        }\n\n        /* Layout */\n        .page.activity-detail .page-header-content .date-block {\n            margin-top: -24px;\n        }\n\n        /* Page Navigation */\n        .page.activity-detail .page-header-content {\n            width: calc(100% - 60px);\n        }\n\n        /* Dropdown Menus */\n        .page.activity-detail .page-dropdown {\n            display: inline-block;\n        }\n        .page.activity-detail .page-navigation .dropdown-menu {\n            right: -1px;\n            top: -6px;\n        }\n\n        /* Icons */\n        .page.activity-detail .inline-edit-trigger {\n            width: 28px;\n            height: 28px;\n        }\n        .page.activity-detail .inline-edit-save[class*='icon-'],\n        .page.activity-detail .inline-edit-cancel[class*='icon-'] {\n            height: 28px;\n            width: 28px;\n        }\n        .page.activity-detail .page-title .inline-edit-actions button {\n            margin-top: 7px;\n        }\n        .page.activity-detail .page-navigation-action,\n        .page.activity-detail .page-navigation-action:last-child {\n            padding: 3px 7px;\n        }\n        .page.activity-detail .inline-edit-trigger,\n        .page.activity-detail .page-navigation-action,\n        .page.activity-detail .page-dropdown .dropdown-menu [class^='icon-'] {\n            font-size: 16px;\n        }\n        .page.activity-detail .page-dropdown .dropdown-menu [class^='icon-'] {\n            right: 7px;\n            top: 1px;\n        }\n        .page.activity-detail .page-dropdown .dropdown-menu > li > a [class^='icon-'] {\n            font-size: 14px;\n        }\n        .page.activity-detail .dropdown .icon-pointer-down {\n            font-size: 10px;\n        }\n\n        /* Unique Icon Styles */\n        .page.activity-detail .page-navigation .icon-share,\n        .page.activity-detail .page-dropdown .dropdown-menu .icon-share {\n            font-size: 18px;\n        }\n        .page.activity-detail .help-icon {\n            font-size: 18px;\n            height: 20px;\n            width: 20px;\n        }\n\n        /* Type */\n        .page.activity-detail .page-intro .date-block,\n        .page.activity-detail .like,\n        .page.activity-detail .dropdown-menu > li {\n            font-size: 14px;\n        }\n        .page.activity-detail .dropdown-menu > li > a {\n            line-height: 22px;\n        }\n        .page.activity-detail .event-type,\n        .page.activity-detail .course-type,\n        .page.activity-detail .gear-indicator {\n            white-space: nowrap;\n        }\n\n        /* Charts */\n        .page.activity-detail .chart-header-main .span4 {\n            display: none;\n        }\n        .page.activity-detail .chart-header-main .span4.chart-x-axis-toggle {\n            display: inline-block;\n            width: 100%;\n        }\n        .page.activity-detail .chart-header {\n            margin-top: 11px;\n        }\n    }\n\n    /*ACTIVITY - REP COUNTING*/\n    .rep-counting-table td {\n        vertical-align: middle;\n    }\n    .page.activity-detail table.rep-counting-table {\n        margin-bottom: 10px;\n    }\n\n    [data-activity-type='pilates'] .workout-name {\n        width: 70%;\n    }\n\n    [data-activity-type='yoga'] .workout-name {\n        width: 70%;\n    }\n\n    .table.rep-counting-table td {\n        border-top: 1px solid #e5e5e5;\n    }\n    /*\n    For the play video button\n    .page.activity-detail .rep-counting-table td a [class*=\"icon-\"] {\n        width: 20px;\n        height: 20px;\n        line-height: 20px;\n        margin-right: 5.5px;\n        font-size: 12px;\n        text-align: center;\n        box-shadow: 0 0 0 1px #ccc;\n        border-radius: 50%;\n        color: #888;\n        background: #fafafa;\n    }*/\n    .page.activity-detail .rep-counting-table td .input-append {\n        margin-bottom: 0;\n    }\n    .page.activity-detail .rep-counting-table td .input-small {\n        width: 50px;\n    }\n\n    .page.activity-edit .rep-counting-table th:first-child,\n    .page.activity-edit .rep-counting-table th:last-child,\n    .page.activity-edit .rep-counting-table td:first-child,\n    .page.activity-edit .rep-counting-table td:last-child {\n        width: 15px;\n        color: textMedium;\n    }\n    .page.activity-detail .rep-counting-table th:nth-child(3),\n    .page.activity-detail .rep-counting-table th:nth-child(4),\n    .page.activity-detail .rep-counting-table th:nth-child(5),\n    .page.activity-detail .rep-counting-table th:nth-child(6),\n    .page.activity-detail .rep-counting-table td:nth-child(3),\n    .page.activity-detail .rep-counting-table td:nth-child(4),\n    .page.activity-detail .rep-counting-table td:nth-child(5),\n    .page.activity-detail .rep-counting-table td:nth-child(6) {\n        text-align: center;\n    }\n    .page.activity-detail .rep-counting-table th:first-child,\n    .page.activity-detail .rep-counting-table td:first-child {\n        text-align: center;\n    }\n    .page.activity-detail .rep-counting-table td:first-child p {\n        border: 1px solid #888;\n        border-radius: 50%;\n        height: 20px;\n        width: 20px;\n        line-height: 20px;\n        font-size: 10px;\n        color: textMedium;\n        margin: 0 auto;\n    }\n\n    .page.activity-detail .rep-counting-table td:last-child a {\n        font-size: 12px;\n        font-family: 'Open Sans', 'HelveticaNeue-Light', 'Helvetica Neue Light', 'Helvetica Neue', Helvetica, Arial,\n            sans-serif;\n        line-height: 22px;\n    }\n    .page.activity-edit .page-navigation .btn {\n        margin-top: 0;\n    }\n\n    /*DRAG & DROP -\n    HINT FOR WHERE THE EXERCISE IS GOING TO GO*/\n    .rep-placehold-row {\n        height: 60px;\n    }\n    .rep-placehold:before {\n        float: left;\n        left: -12px;\n    }\n    .rep-placehold:after {\n        float: right;\n        right: -13px;\n    }\n    /*FOR A BORDER WHEN USER HOVERS OVER THE DRAG HANDLE*/\n    .rep-counting-table tr {\n        border-left: 1px solid rgba(170, 170, 170, 0);\n        border-right: 1px solid rgba(170, 170, 170, 0);\n        border-bottom: 1px solid rgba(170, 170, 170, 0);\n    }\n    .rep-counting-table .hover-rep-row {\n        border: 1px solid rgba(170, 170, 170, 0.4);\n    }\n    /*FOR A THICKER BORDER WHEN USER IS DRAGGING*/\n    .rep-counting-table .ui-sortable-helper {\n        box-shadow: 0px 0px 0px 2px rgba(170, 170, 170, 0.75);\n        border-top: transparent;\n        background: #ffffff;\n    }\n    /*ADD RED BORDER FOR ERROR ON EXERCISE NAME*/\n    .chosen-container-single .chosen-single.error {\n        color: #bf0f24;\n        border-color: #bf0f24;\n    }\n    /*  ======================\n        Activity Compare Page\n        ======================  */\n    .activity-compare .summary [class^='icon-'],\n    .activity-compare .summary [class*=' icon-'] {\n        text-align: center;\n        border-radius: 50%;\n        color: iconSecondary;\n        background: #fafafa;\n        width: 40px;\n        height: 40px;\n        line-height: 40px;\n        font-size: 22px;\n        box-shadow: 0 0 0 2px #ccc;\n        display: block;\n        margin: 0 auto 10px auto;\n    }\n    .activity-compare .summary {\n        margin-bottom: 0;\n    }\n    .activity-compare thead th,\n    .activity-compare td {\n        text-align: center;\n        border-left: 2px solid #ddd;\n    }\n    .activity-compare .laps th,\n    .activity-compare .laps td {\n        border-left-color: #f0f0f0;\n    }\n    .activity-compare .laps th:nth-child(3n + 2),\n    .activity-compare .laps td:nth-child(3n + 2) {\n        border-left-color: #ddd;\n    }\n    .activity-compare .laps th:nth-child(1) {\n        text-align: left;\n    }\n    .activity-compare .four-up .summary thead th,\n    .activity-compare .four-up .summary td {\n        vertical-align: top;\n    }\n    .activity-compare .row-label {\n        text-align: left;\n    }\n    .activity-compare .laps th {\n        font-weight: normal;\n        color: textMedium;\n    }\n    .activity-compare .four-up th {\n        width: 20%;\n    }\n    .activity-compare .three-up th {\n        width: 25%;\n    }\n    .activity-compare .two-up th {\n        width: 33.3%;\n    }\n    .activity-compare th:first-child,\n    .activity-compare td:first-child {\n        border-left: none;\n    }\n\n    /*  ======================\n      Battery Status\n    ======================  */\n    .page.activity-detail [class^='icon-battery-status-'],\n    .page.activity-detail .icon-caution {\n        margin-left: 5px;\n        font-size: 16px;\n        line-height: 18px;\n    }\n\n    /*  ======================\n      Activity Playlist\n    ======================  */\n    .page.activity-detail .playlist-card {\n        max-height: 350px;\n        overflow-y: auto;\n        overflow-x: auto;\n        border: 1px solid #e5e5e5;\n        border-radius: 4px;\n        padding: 11px;\n    }\n    .page.activity-detail .list-number {\n        border: 1px solid #c7c7c7;\n        border-radius: 50%;\n        height: 24px;\n        width: 24px;\n        text-align: center;\n        padding-top: 2px;\n        background: #fff;\n    }\n\n    .page.activity-detail .playlist-privacy {\n        float: right;\n        margin-right: 20px;\n        margin-top: -25px;\n        font-size: 12px;\n        color: textMedium;\n    }\n\n    /*  ======================\n      Responsive Table Standards - applies to rep-counting table\n      ======================  */\n\n    @media (max-width: 1125px) {\n        .minimize-main-nav .span8.exercise-table-edit {\n            width: 65.95744680851064%;\n        }\n        .span8.exercise-table-edit {\n            width: 100%;\n        }\n    }\n\n    @media (max-width: 855px) {\n        /* Forcing table to not behave in its usual manner.*/\n        .rep-counting-table,\n        .rep-counting-table thead,\n        .rep-counting-table tbody,\n        .rep-counting-table th,\n        .rep-counting-table td,\n        .rep-counting-table tr {\n            display: block;\n        }\n        .rep-counting-table-edit {\n            margin-top: 15px;\n        }\n\n        /* Hiding table headers (but not display: none for accessibility purposes)*/\n        .rep-counting-table thead tr {\n            position: absolute;\n            top: -9999px;\n            left: -9999px;\n        }\n\n        .page.activity-detail .rep-counting-table tr {\n            border-bottom: 4px solid #888;\n        }\n\n        /* Forcing td to behave like a row.*/\n        .rep-counting-table td {\n            border: none;\n            border-bottom: 1px solid #eee;\n            position: relative;\n            padding-left: 40%;\n        }\n\n        /*Forcing content \"before\" to behave like a table heading.*/\n        .rep-counting-table td:before {\n            position: absolute;\n            font-weight: bold;\n            /* Top/left values mimic padding */\n            top: 6px;\n            left: 6px;\n            width: 45%;\n            padding-right: 10px;\n            white-space: nowrap;\n        }\n        .rep-counting-table td:before {\n            /*Handling truncation of before content.*/\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n        .page.activity-edit .rep-counting-table.rep-counting-table-edit td:first-child,\n        .page.activity-edit .rep-counting-table.rep-counting-table-edit td:last-child {\n            width: auto;\n            height: 20px;\n        }\n\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:first-child,\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(3),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(4),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(5),\n        .page.activity-detail .rep-counting-table.rep-counting-table-edit td:nth-child(6),\n        .page.activity-detail .rep-counting-table td:first-child:before,\n        .page.activity-detail .rep-counting-table td:nth-child(3):before,\n        .page.activity-detail .rep-counting-table td:nth-child(4):before,\n        .page.activity-detail .rep-counting-table td:nth-child(5):before,\n        .page.activity-detail .rep-counting-table td:nth-child(6):before,\n        .page.activity-detail .rep-counting-table td:nth-child(3),\n        .page.activity-detail .rep-counting-table td:nth-child(4),\n        .page.activity-detail .rep-counting-table td:nth-child(5),\n        .page.activity-detail .rep-counting-table td:nth-child(6) {\n            text-align: left;\n        }\n\n        /* Label the data*/\n        .page.activity-detail .rep-counting-table td:first-child:before {\n            content: attr(data-title-1);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(2):before {\n            content: attr(data-title-2);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(3):before {\n            content: attr(data-title-3);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(4):before {\n            content: attr(data-title-4);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(5):before {\n            content: attr(data-title-5);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(6):before {\n            content: attr(data-title-6);\n        }\n        .page.activity-detail .rep-counting-table td:nth-child(7):before {\n            content: attr(data-title-7);\n        }\n    }\n\n    .page.activity-detail .chosen-single .icon-pointer-down {\n        font-size: 8px;\n    }\n    .activity-compare .summary th h1 {\n        display: inline-block;\n    }\n    .activity-compare .summary th .data-label {\n        display: block;\n        font-weight: 300;\n        line-height: 25px;\n    }\n    .activity-compare .laps .stat {\n        border-bottom: 1px dotted inherit;\n    }\n    .activity-compare .four-up .laps .stat {\n        width: 6.6%;\n    }\n    .activity-compare .three-up .laps .stat {\n        width: 8.2%;\n    }\n    .activity-compare .two-up .laps .stat {\n        width: 11.2%;\n    }\n    .activity-compare .toggle-detail {\n        width: 100%;\n        background: secondary;\n        color: textLight;\n        padding: 2px 0;\n        text-decoration: none;\n        display: block;\n        text-align: center;\n        font-size: 12px;\n    }\n\n    @media screen and (max-device-width: 1024px) {\n        .activity-compare .laps-table-header,\n        .activity-compare .laps.table {\n            display: none;\n        }\n        .activity-compare .table-responsive thead tr {\n            position: relative;\n            top: auto;\n            left: auto;\n        }\n        .activity-compare .table-responsive th {\n            width: 100%;\n        }\n        .activity-compare .summary [class^='icon-'],\n        .activity-compare .summary [class*=' icon-'] {\n            width: 26px;\n            height: 26px;\n            line-height: 26px;\n            font-size: 15px;\n            margin-bottom: 5px;\n        }\n        .activity-compare .table-responsive th,\n        .activity-compare .table-responsive td {\n            padding-left: 0;\n            border-left: none;\n        }\n        .activity-compare .table-responsive .row-label {\n            padding-left: 10px;\n        }\n        .table-responsive,\n        .table-responsive thead,\n        .table-responsive tbody,\n        .table-responsive th,\n        .table-responsive td,\n        .table-responsive tr {\n            display: block;\n        }\n\n        /*\n            td:not(:first-child) {\n                counter-increment: rowNumber;\n            }\n            td:not(:first-child):before {\n                content: counter(rowNumber);\n                text-align: left;\n                font-weight: normal;\n                top: auto;\n                width: auto;\n                color: #bbb;\n            }\n        */\n    }\n\n    /* start from resource-js */\n\n    .page.activity-detail .activity-map-canvas {\n        height: 400px;\n        margin-top: 5px;\n        z-index: 0;\n    }\n\n    .page.activity-detail .activity-map-canvas .baiduLogo {\n        z-index: 400;\n    }\n\n    .page.activity-detail html {\n        height: 100%;\n    }\n    .page.activity-detail body {\n        height: 100%;\n        margin: 0;\n        padding: 0;\n    }\n\n    .page.activity-detail .is_stuck .activity-map-canvas {\n        margin-top: 58px;\n        height: 200px;\n        overflow: hidden;\n    }\n\n    .page.activity-detail .stats .data-block {\n        margin-bottom: 11px;\n    }\n    .page.activity-detail .stats h3 {\n        border-bottom: 1px solid #ddd;\n        font-size: 14px;\n        margin-bottom: 11px;\n    }\n    .page.activity-detail .stats .stat-block {\n        margin-bottom: 33px;\n    }\n\n    .page.activity-detail .kevin-temp {\n        background-color: yellow;\n        color: red;\n        font-weight: bold;\n    }\n\n    .page.activity-detail .modal.fullscreen.expanded-chart .modal-body {\n        overflow: hidden;\n    }\n\n    .page.activity-detail .pointer-events-none {\n        pointer-events: none;\n    }\n\n    .full-screen-map {\n        position: fixed;\n        z-index: 1000; /* IE needs a big number */\n        left: 0;\n        top: 0;\n    }\n\n    /* Not preferred, but this will allow us to use full-screen-map everywhere */\n    .full-screen-map .leaflet-container {\n        position: fixed !important;\n        height: 100% !important;\n        width: 100% !important;\n    }\n\n    /* end from resource-js */\n\n    #activity-map-canvas.short {\n        height: 210px;\n    }\n\n    /* ===============\n          Dive Log\n       =============== */\n\n    .page.activity-detail .dive-canvas {\n        position: relative;\n        height: 230px;\n        min-width: 551px;\n    }\n\n    .page.activity-detail .dive-canvas .canvas {\n        width: 100%;\n        height: 100%;\n    }\n\n    .page.activity-detail .dive-log-stat {\n        position: absolute;\n        z-index: 1;\n        width: 150px;\n        height: 20px;\n        text-align: center;\n    }\n\n    .page.activity-detail .dive-log-label {\n        color: #999999;\n    }\n\n    .page.activity-detail .avg-depth-label {\n        color: #ff9f10;\n    }\n\n    .page.activity-detail .deco-dive-label {\n        color: #d0021b;\n    }\n\n    .page.activity-detail .dive-log-stat.right {\n        right: 0;\n    }\n\n    .page.activity-detail .dive-log-stat.center {\n        margin-left: auto;\n        margin-right: auto;\n        left: 0;\n        right: 0;\n    }\n\n    .page.activity-detail .dive-log-value {\n        font-size: 24px;\n    }\n\n    .page.activity-detail .dive-log-label {\n        font-size: 12px;\n    }\n\n    .page.activity-detail .surface-interval-stat {\n        top: 16px;\n    }\n\n    .page.activity-detail .time-in-stat {\n        top: 83px;\n    }\n\n    .page.activity-detail .max-depth-stat {\n        top: 150px;\n    }\n\n    .page.activity-detail .avg-depth-stat {\n        top: 83px;\n    }\n\n    .page.activity-detail .bottom-time-stat {\n        top: 150px;\n    }\n\n    .page.activity-detail .time-out-stat {\n        top: 83px;\n    }\n\n    .page.activity-detail .deco-dive-stat {\n        top: 150px;\n    }\n\n    .page.activity-detail .deco-dive-value {\n        width: 20px;\n        height: 20px;\n        line-height: 20px;\n        font-size: 11px;\n        text-align: center;\n        border-radius: 50%;\n        color: #fbebed;\n        background: #d0021b;\n        font-style: normal;\n        margin: 0 auto;\n        font-weight: 600;\n    }\n\n    .page.activity-detail .apnea-dives-table .apnea-map {\n        width: 85px;\n        height: 62px;\n    }\n\n    /* hide attribution - could break if we update google mutant */\n    .page .apnea-dives-table .apnea-map .gmnoprint,\n    .page .apnea-dives-table .apnea-map .leaflet-google-mutant.leaflet-top.leaflet-left .gm-style img,\n    .page .apnea-dives-table .apnea-map .leaflet-control-attribution {\n        display: none;\n    }\n\n    /* ===============\n        Activity Details Dive App\n       =============== */\n\n    .dive-app-link-info {\n        text-align: center;\n        margin-top: 30px;\n    }\n\n    .dive-app-icon {\n        height: 56px;\n        letter-spacing: 0px;\n        width: 56px;\n    }\n\n    .garmin-dive {\n        margin: 0px;\n        font-size: 18px;\n        font-weight: 300;\n        height: 27px;\n        letter-spacing: 0px;\n        line-height: 27px;\n    }\n\n    .dive-data-info {\n        margin: 0px;\n        font-size: 14px;\n        height: 21px;\n        letter-spacing: 0px;\n        line-height: 21px;\n    }\n\n    .dive-app-store {\n        display: flex;\n        flex-wrap: nowrap;\n        margin-top: 25px;\n        justify-content: center;\n    }\n\n    .dive-store-apple {\n        margin-right: 5px;\n    }\n\n    @media (max-width: 610px) {\n        .page.activity-detail .dive-canvas {\n            height: 170px;\n            min-width: 380px;\n        }\n\n        .page.activity-detail .dive-log-value {\n            font-size: 20px;\n        }\n\n        .page.activity-detail .dive-log-label {\n            display: block;\n            margin-top: -2px;\n        }\n\n        .page.activity-detail .dive-log-value.deco-dive-value {\n            font-size: 11px;\n        }\n\n        .page.activity-detail .surface-interval-stat {\n            top: 5px;\n        }\n\n        .page.activity-detail .time-in-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .max-depth-stat {\n            top: 107px;\n        }\n\n        .page.activity-detail .avg-depth-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .bottom-time-stat {\n            top: 106px;\n        }\n\n        .page.activity-detail .time-out-stat {\n            top: 56px;\n        }\n\n        .page.activity-detail .dive-log-stat {\n            width: 105px;\n            height: 20px;\n        }\n\n        .page.activity-detail .deco-dive-stat {\n            top: 106px;\n        }\n    }\n\n    .page.activity-detail .note-container h3 {\n        font-size: 17px;\n        margin: 0 0 8px;\n    }\n\n    .page.activity-detail .video-container.border-wrapper,\n    .page.activity-detail .note-container.border-wrapper {\n        border-top: none;\n    }\n\n    .page.activity-detail .wrapper-top-container {\n        border-bottom: none;\n    }\n\n    .page.activity-detail .edit-dive-activity-dive-label {\n        display: inline;\n    }\n\n    .page.activity-detail .diving.inline-edit-text-field {\n        top: 12px;\n    }\n\n    .page.activity-detail #trainingEffectStatsPlaceholder .stat-block .data-block .trainingEffectLabelContainer {\n        display: flex;\n    }\n\n    .page.activity-detail #trainingEffectStatsPlaceholder .stat-block .data-block .trainingEffectStatChip {\n        border-radius: 50%;\n        height: 8px;\n        width: 8px;\n        margin-top: 7px;\n        margin-right: 8px;\n    }\n\n    .modal-body .chart-color-circle {\n        background-color: #e8e8e8;\n        border-radius: 50%;\n        height: 11px;\n        width: 11px;\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: 5px;\n        margin-top: -3px;\n    }\n\n    /* ===============\n          Advanced Activity Editing\n       =============== */\n\n    .page.activity-advanced-edit .tab-content {\n        margin-bottom: 10px;\n    }\n\n    .page.activity-advanced-edit .activity-edit-container {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: flex-start;\n        padding-left: 60px;\n    }\n\n    .page.activity-advanced-edit .activity-edit-container .item {\n        margin-right: 20px;\n    }\n\n    .page.activity-advanced-edit .button-container {\n        width: 50%;\n    }\n\n    .page.activity-advanced-edit .flex-row {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        width: 100%;\n    }\n\n    .page.activity-advanced-edit .flex-column {\n        display: flex;\n        flex-direction: column;\n        flex-basis: 100%;\n        flex: 1;\n        margin: 5px 5px 5px 5px;\n    }\n\n    .page.activity-advanced-edit .advanced-learn-more {\n        margin-top: 20px;\n    }\n\n    .page.activity-advanced-edit .data-bit.no-wrap {\n        white-space: nowrap;\n    }\n\n    .page.activity-advanced-edit .trim-band {\n        opacity: 0.8;\n    }\n\n    .page.activity-advanced-edit .trim-slider {\n        margin-top: -8px;\n        margin-left: 18px;\n        margin-right: 8px;\n    }\n\n    /*  ======================\n        Activity Intervals Edit\n        ======================  */\n\n    .page.activity-intervals-edit .edit-intervals-title {\n        text-transform: uppercase;\n        margin-bottom: 15px;\n        margin-left: 10px;\n    }\n\n    .page.activity-intervals-edit .edit-intervals-button-container {\n        display: flex;\n        width: 30%;\n        justify-content: space-between;\n    }\n\n    .page.activity-intervals-edit .edit-intervals-learn-more span {\n        font-size: 12px;\n        font-weight: normal;\n        color: rgb(108, 108, 108);\n        line-height: 18px;\n    }\n\n    .page.activity-intervals-edit .edit-intervals-button-container button {\n        box-shadow: none;\n        border-radius: 4px;\n        border: none;\n        font-size: 14px;\n        font-weight: 300;\n        text-align: center;\n        text-shadow: 0 1px 0 #0c7cad;\n        color: #fafafa;\n    }\n\n    .page.activity-intervals-edit .edit-intervals-button-container button.reverse {\n        border: 1px solid rgb(228, 228, 228);\n        color: rgb(0, 0, 0);\n        font-weight: normal;\n        text-shadow: none;\n    }\n\n    /*  ======================\n        Sticky Header\n        ======================  */\n    .activity-advanced-edit .sticky-header {\n        background: #fff;\n        z-index: 5;\n    }\n\n    .activity-advanced-edit .sticky-header.stuck,\n    .main-nav-hover .activity-advanced-edit .sticky-header.stuck {\n        position: fixed;\n        z-index: 3;\n    }\n\n    .loading-overlay.spinner-container {\n        content: '';\n        display: block;\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(255, 255, 255, 0.9);\n        z-index: 999;\n    }\n\n    .spinner-container .absolute-center {\n        position: fixed;\n        z-index: 999;\n        height: 2em;\n        width: 2em;\n        overflow: show;\n        margin: auto;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n    }\n\n    .activity-detail .spinner-container .h5.text-center {\n        width: 200px;\n        margin-left: -63px;\n    }\n\n    #advanced-activity-tab-placeholder .tooltip-error {\n        z-index: 40 !important; /* sticky header issue */\n    }\n\n    .gasTypeSelect {\n        padding-top: 5px;\n    }\n\n    @media print {\n        .main-nav,\n        header.header,\n        .takeover-container,\n        .system-message {\n            display: none;\n        }\n\n        body,\n        html,\n        .main-body,\n        .main-body .content {\n            overflow: visible;\n        }\n    }\n\n    /*  ======================\n        Responsiveness Upgrades\n        ======================  */\n    .page.activity-detail #activityToolbarViewPlaceholder,\n    .page.activity-detail #activityIntroViewPlaceholder {\n        display: flex;\n        justify-content: space-between;\n    }\n\n    .page.activity-detail #gearStatusViewPlaceholder {\n        white-space: nowrap;\n    }\n\n    @media (max-width: 1049px) {\n        .page.activity-detail #activityToolbarViewPlaceholder,\n        .page.activity-detail #activityIntroViewPlaceholder {\n            margin: 0 0 10px;\n        }\n\n        .page.activity-detail #activityToolbarViewPlaceholder {\n            justify-content: flex-start;\n        }\n\n        .page.activity-detail .privacy-consent,\n        .page.activity-detail #gear-menu-list {\n            float: left;\n            left: 0;\n            min-width: 240px;\n        }\n\n        .page.activity-detail .privacy-consent {\n            min-width: 280px;\n        }\n\n        .page.activity-detail .privacy-state-current,\n        .page.activity-detail #gear-menu-list .icon-gear {\n            float: left;\n            left: 5px;\n        }\n    }\n\n    @media (max-width: 767px) {\n        .page.activity-detail #activityToolbarViewPlaceholder,\n        .page.activity-detail #activityIntroViewPlaceholder {\n            margin: 0;\n        }\n    }\n\n    @media (max-width: 415px) {\n        .page.activity-detail .trophy-container .inline-edit-trigger {\n            margin-top: 0;\n        }\n\n        .page.activity-detail .date-block .dropdown {\n            display: block;\n        }\n\n        .page.activity-detail .event-type,\n        .page.activity-detail .course-type {\n            margin-right: 0;\n        }\n\n        .page.activity-detail .dropdown-backdrop {\n            display: inline;\n        }\n\n        .page.activity-detail #device-info ul.dropdown-menu {\n            left: -50px;\n        }\n    }\n\n    @media (min-width: 1050px) {\n        .page.activity-edit .dynamic .row-fluid {\n            display: flex;\n            flex-wrap: wrap;\n        }\n\n        .page.activity-edit .dynamic .row-fluid .stat-block {\n            width: 25%;\n        }\n\n        .page.activity-edit .dynamic .row-fluid .stat-block h3 {\n            margin-right: 8%;\n        }\n    }\n\n    .page.activity-edit .page-sidebar.sideBar .video-container,\n    .page.activity-edit .page-sidebar.sideBar .note-container {\n        padding: 10px;\n    }\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            primary: "" + i(98).locals.primary,
            secondary: "" + i(98).locals.secondary,
            textLight: "" + i(98).locals.textLight,
            textMedium: "" + i(98).locals.textMedium,
            textDark: "" + i(98).locals.textDark,
            iconSecondary: "" + i(98).locals.iconSecondary,
            iconSecondaryHover: "" + i(98).locals.iconSecondaryHover,
            iconSecondaryDark: "" + i(98).locals.iconSecondaryDark,
            lightui_surface_1: "" + i(98).locals.lightui_surface_1,
            endXS: "" + i(1234).locals.endXS,
            endSM: "" + i(1234).locals.endSM
        }
    },
    1726: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            idAttribute: "userOptionalFeaturePK",
            url: function() {
                var t = "/proxy/userprofile-service/userprofile/optional-feature/segment-leaderboard/";
                return this.hasChanged("userOptionType") && (t += this.mapUserOptionType()),
                t + this.displayName
            },
            initialize: function(t) {
                if (this.displayName = t.displayName,
                !this.displayName)
                    throw "displayName required for SegmentOptionalFeature"
            },
            isOptedIn: function() {
                return "OPT_IN" === this.get("userOptionType")
            },
            mapUserOptionType: function() {
                return "OPT_IN" === this.get("userOptionType") ? "opt-in/" : "opt-out/"
            }
        });
        e.a = n
    },
    1727: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            idAttribute: "segmentPk",
            urlRoot: "/proxy/course-service/segment/user/"
        });
        e.a = n
    },
    1728: function(t, e, i) {
        "use strict";
        (function(t, a, n) {
            i(0);
            var r = i(9)
              , o = i.n(r)
              , s = i(8)
              , l = i(13)
              , c = (i(1288),
            i(64))
              , h = i(53)
              , p = i(80)
              , d = i(99)
              , u = i(32)
              , m = i(1729)
              , f = i(19)
              , g = i(1731)
              , y = i.n(g)
              , v = i(74)
              , b = i.n(v)
              , A = (i(1259),
            i(2023),
            "//static.garmincdn.com/com.garmin.connect/content/images/garmin-connect-fb2.gif")
              , _ = {
                Up: "up",
                Down: "down"
            }
              , C = {
                facebook: "facebook",
                weibo: "weibo",
                twitter: "twitter"
            }
              , w = "lap_swimming"
              , x = "open_water_swimming"
              , S = "swimming"
              , T = d.a.extend({
                events: {
                    "click #shareToFacebookFromShareStaticMapImageView": "clickShareFacebookButton",
                    "click #shareToWeiboFromShareStaticMapImageView": "clickShareSinaWeiboButton",
                    "click #shareToTwitterFromShareStaticMapImageView": "clickShareTwitterButton",
                    "click #shareToEmailFromShareStaticMapImageView": "clickShareEmailButton",
                    "click #shareToMoreFromShareStaticMapImageView": "clickShareMoreButton",
                    "click #activity-detail-embed": "clickEmbedButton"
                },
                initialize: function(t) {
                    p.a.userInChina() || (this.privacy = t.privacy,
                    this.url = t.url,
                    this.locale = t.locale,
                    this.customClasses = t.customClasses,
                    this.mapProviderPreference = t.mapProviderPreference,
                    this.customClasses || (this.customClasses = ""),
                    this.slideDirection = t.slideDirection || _.Down,
                    this.template = o.a.template(y.a),
                    this.widgetPageUrl = window.parent.location.href,
                    this.preferredLocale = t.locale,
                    this.setActivity(t.currentActivity),
                    this.imageUrl = A,
                    this.mapImageWidth = 300,
                    this.mapImageHeight = 300,
                    this.socialPlatform = null,
                    this.fileFormat = null,
                    this.popupShareWindow = null,
                    this.hasMap = t.hasMap,
                    this.addThisSharingEnabled = "true" === t.addThisSharingEnabled)
                },
                setActivity: function(t) {
                    t.has("activityTypeDTO") ? (this.activityType = t.get("activityTypeDTO").typeKey,
                    this.distance = t.get("summaryDTO").distance,
                    this.duration = t.get("summaryDTO").duration,
                    this.averageSpeed = t.get("summaryDTO").averageSpeed,
                    this.elevationGain = t.get("summaryDTO").elevationGain) : (this.activityType = t.get("activityType").typeKey,
                    this.distance = t.get("distance"),
                    this.duration = t.get("duration"),
                    this.averageSpeed = t.get("averageSpeed"),
                    this.elevationGain = t.get("elevationGain")),
                    this.activity = t,
                    this.activityDetailsInfo = this.getActivityDetailsInfo(),
                    this.activityId = this.activity.id
                },
                render: function() {
                    var t = this;
                    if (!p.a.userInChina()) {
                        var e = this.template({
                            Localizer: s.a,
                            privacy: this.privacy,
                            url: this.url,
                            locale: this.locale,
                            customClasses: this.customClasses,
                            directionClass: this.slideDirection == _.Up ? "bottom-up" : "",
                            showIcon: this.slideDirection != _.Up,
                            userInChina: p.a.userInChina(),
                            addThisSharingEnabled: this.addThisSharingEnabled
                        });
                        this.$el.html(e),
                        this.$el.addClass("dropdown share addthis_toolbox"),
                        this.$el.addClass(this.customClasses),
                        this.$el.attr("addthis:url", this.url);
                        var i = this.$(".dropdown-trigger");
                        i.attr("disabled", "disabled"),
                        i.addClass("disabled"),
                        this.addThisSharingEnabled ? b()(["//s7.addthis.com/js/250/addthis_widget.js#username=grmnconnect&async=1"], function() {
                            t.setPrivacy(t.privacy),
                            addthis && (addthis.init(),
                            addthis.toolbox(".addthis_toolbox"))
                        }) : this.setPrivacy(this.privacy)
                    }
                },
                setPrivacy: function(t) {
                    this.privacy = t;
                    var e = this.$(".dropdown-trigger");
                    "public" == t ? (e.removeAttr("disabled"),
                    e.removeClass("disabled"),
                    e.attr("title", s.a.localize("share"))) : (e.attr("disabled", "disabled"),
                    e.addClass("disabled"),
                    e.attr("title", s.a.localize("share.disabled")))
                },
                setUrl: function(t) {
                    this.url = t
                },
                getActivityDetailsInfo: function() {
                    return s.a.localize("label_distance") + " " + l.a.personalizeDistance(this.distance, this.activityType) + " " + s.a.localize(l.a.getDistanceUnitKey(this.activityType, this.distance)) + " | " + s.a.localize("label_time") + " " + l.a.personalizeDuration(this.duration) + " | " + s.a.localize(l.a.getSpeedTypeLabelKey(this.activityType)) + " " + l.a.personalizeSpeed(this.averageSpeed, this.activityType, this.distance) + " " + s.a.localize(l.a.getSpeedTypeKey(this.activityType, this.distance)) + " | " + s.a.localize("label_elevation_gain") + " " + l.a.personalizeElevation(this.elevationGain) + " " + s.a.localize(l.a.getElevationUnitKey())
                },
                clickShareFacebookButton: function() {
                    this.socialPlatform = C.facebook,
                    this.OpenPopupShareWindow(),
                    this.pushSocialShareAnalyticsEvents(),
                    this.earnBadgeWhenSharing()
                },
                clickShareSinaWeiboButton: function() {
                    this.socialPlatform = C.weibo,
                    this.OpenPopupShareWindow(),
                    this.pushSocialShareAnalyticsEvents(),
                    this.earnBadgeWhenSharing()
                },
                clickShareTwitterButton: function() {
                    this.socialPlatform = C.twitter,
                    this.OpenPopupShareWindow(),
                    this.pushSocialShareAnalyticsEvents(),
                    this.earnBadgeWhenSharing()
                },
                clickShareEmailButton: function() {
                    this.earnBadgeWhenSharing()
                },
                clickShareMoreButton: function() {
                    this.earnBadgeWhenSharing()
                },
                pushSocialShareAnalyticsEvents: function() {
                    h.a.push({
                        event: "track_event",
                        category: "Activity Share",
                        action: "Share on " + this.socialPlatform
                    })
                },
                clickEmbedButton: function() {
                    var t = new m.a({
                        activityId: this.activityId,
                        noOfChildren: this.activity.has("activityTypeDTO") ? this.activity.get("childIds").length : 0,
                        activityName: this.activity.get("activityName"),
                        hasMap: this.hasMap
                    });
                    new u.a({
                        modalTitle: s.a.localize("embed"),
                        view: t.render(),
                        showFooter: !1,
                        customClasses: "activity-detail-embed"
                    }).render(),
                    this.earnBadgeWhenSharing()
                },
                earnBadgeWhenSharing: function() {
                    f.a.isUserLoggedIn() && t.ajax({
                        url: c.default.url("/proxy/badge-service/badge/earn"),
                        type: "POST",
                        contentType: "application/json",
                        data: JSON.stringify({
                            badgeId: 32,
                            badgeAssocDataId: this.activityId
                        })
                    })
                },
                OpenPopupShareWindow: function() {
                    this.popupShareWindow = window.open("", "", "width=600, height=300"),
                    this.popupShareWindow.document.write('<br /><br /><p style="text-align:center; font-size:18px;"><img src="//static.garmincdn.com/shared/global/media/images/ajax-loader.gif" alt="" /><br />Processing, please wait...</p>'),
                    this.fileFormat = "png",
                    this.getEncodedPolylineJson()
                },
                getEncodedPolylineJson: function() {
                    if (void 0 == this.cachedPolylines && (this.cachedPolylines = []),
                    void 0 == this.cachedPolylines[this.activityId] || null == this.cachedPolylines[this.activityId]) {
                        var e;
                        e = this.activityType == S || this.activityType == w || this.activityType == x ? "/proxy/activity-service/activity/" + this.activityId + "/swimDetails" : "/proxy/activity-service/activity/" + this.activityId + "/details";
                        var i = this;
                        a.ajax({
                            url: e,
                            type: "GET",
                            dataType: "json",
                            success: function(e, a, n) {
                                i.cachedPolylines[i.activityId] = e,
                                t.isEmptyObject(e) || t.isEmptyObject(e.geoPolylineDTO) ? i.redirectPopupShareWindow() : i.getPolylineJson(e)
                            },
                            error: function(t, e, a) {
                                i.redirectPopupShareWindow()
                            }
                        })
                    } else
                        this.getPolylineJson(this.cachedPolylines[this.activityId])
                },
                getPolylineJson: function(t) {
                    if (null != t.geoPolylineDTO && t.geoPolylineDTO.polyline.length > 0) {
                        for (var e = t.geoPolylineDTO.polyline, i = [], a = 0; a < e.length; a++) {
                            var r = e[a]
                              , o = new n.Map.Point(r.lat,r.lon,0);
                            i.push(o)
                        }
                        this.points = i,
                        this.getStaticMapImageFromMapProvider()
                    } else
                        this.imageUrl = A,
                        this.redirectPopupShareWindow()
                },
                getStaticMapImageFromMapProvider: function() {
                    var t = this.mapProviderPreference ? this.mapProviderPreference.get("value") : "google";
                    this.isPolylineInChina() && p.a.userInChina() && (t = n.Map.Utils.PROVIDER_TYPE_BAIDU),
                    t == n.Map.Utils.PROVIDER_TYPE_BAIDU ? this.downloadBaiduStaticMapImage() : t == n.Map.Utils.PROVIDER_TYPE_OSM ? this.setOsmStaticMapImageUrl() && this.downloadAndUploadGoogleStaticMapImage() : (t = n.Map.Utils.PROVIDER_TYPE_GOOGLE,
                    this.downloadAndUploadGoogleStaticMapImage())
                },
                isPolylineInChina: function() {
                    for (var t = [54.27, 123, 51.07, 117.8, 46.5, 115.3, 43.6, 103.9, 46.38, 93.3, 47.93, 91.4, 49.75, 87.5, 45.34, 79.5, 39.8, 73.2, 35.6, 75.4, 30.2, 79.9, 27.3, 89, 25.4, 97.3, 22.1, 98.7, 20.8, 102.2, 22.2, 105.5, 20.8, 108, 18.9, 106.8, 14.3, 109.9, 8.3, 105.9, 3.1, 103.7, .73, 108.5, 3.3, 111, 7.7, 116.3, 18.4, 119.9, 23.46, 118.23, 25.9, 121.62, 29.97, 123.71, 37.6, 123.7, 39.8, 123.8, 42.6, 131, 46.5, 134.5, 48.55, 135.1, 48.98, 130.9, 52.43, 127.4], e = [], i = 0; i < t.length; i += 2)
                        e.push({
                            lat: t[i],
                            lng: t[i + 1]
                        });
                    var a = Math.round(this.points.length / 2)
                      , n = {
                        lat: this.points[a].lat.toString().match(/-{0,1}\d+\.\d{0,5}/),
                        lng: this.points[a].lon.toString().match(/-{0,1}\d+\.\d{0,5}/)
                    };
                    return this.isPointInPoly(n, e)
                },
                isPointInPoly: function(t, e) {
                    for (var i = !1, a = -1, n = e.length, r = n - 1; ++a < n; r = a)
                        (e[a].lat <= t.lat && t.lat < e[r].lat || e[r].lat <= t.lat && t.lat < e[a].lat) && t.lng < (e[r].lng - e[a].lng) * (t.lat - e[a].lat) / (e[r].lat - e[a].lat) + e[a].lng && (i = !i);
                    return i
                },
                downloadBaiduStaticMapImage: function() {
                    var t = n.Map.Baidu.Constants.WGS84;
                    this.activity.has("gcj02") && 1 == this.activity.get("gcj02") && (t = n.Map.Baidu.Constants.GCJ02);
                    for (var e = this.points.length, i = this.getIterationGap(2048, e), a = [], r = 0; r < e - i; r += i) {
                        var o = this.points[r].lat.toString().match(/-{0,1}\d+\.\d{0,5}/)
                          , s = this.points[r].lon.toString().match(/-{0,1}\d+\.\d{0,5}/)
                          , l = new BMap.Point(s,o);
                        a.push(l)
                    }
                    var c = this;
                    n.Map.Baidu.Convertor.convertMultiple(a, function(t) {
                        for (var e = "&paths=", i = 180, a = -180, n = 90, r = -90, o = t.length, s = c.getIterationGap(2048, o), l = 0; l < o - s; l += s) {
                            var h = t[l].lat.toString().match(/-{0,1}\d+\.\d{0,5}/)
                              , p = t[l].lng.toString().match(/-{0,1}\d+\.\d{0,5}/);
                            h < n && (n = h),
                            h > r && (r = h),
                            p < i && (i = p),
                            p > a && (a = p),
                            null != h && null != p && h.length > 0 && p.length > 0 && (e += p + "," + h + ";")
                        }
                        var d = "&center=" + ((parseFloat(a) + parseFloat(i)) / 2).toString().match(/-{0,1}\d+\.\d{0,5}/) + "," + ((parseFloat(r) + parseFloat(n)) / 2).toString().match(/-{0,1}\d+\.\d{0,5}/)
                          , u = "&markers=" + (t[0].lng.toString().match(/-{0,1}\d+\.\d{0,5}/) + "," + t[0].lat.toString().match(/-{0,1}\d+\.\d{0,5}/)) + "|" + (t[o - 1].lng.toString().match(/-{0,1}\d+\.\d{0,5}/) + "," + t[o - 1].lat.toString().match(/-{0,1}\d+\.\d{0,5}/)) + "&markerStyles=l,S,green|l,E,red";
                        c.staticMapImageUrl = "https://sapi.map.baidu.com/staticimage?v=2.0&ak=KQMz9KcIzBwWNUgbHWUHZGSD&s=1&width=" + c.mapImageWidth + "&height=" + c.mapImageHeight + d + u + e + "&pathStyles=0xff0000,2,0.8",
                        c.downloadAndUploadStaticMapImage()
                    }, t)
                },
                setOsmStaticMapImageUrl: function() {
                    return !this.isPolylineInChina()
                },
                getIterationGap: function(t, e) {
                    var i = parseInt((t - 400) / 22, 10);
                    return e < i ? 1 : parseInt(e / i, 10) + 1
                },
                downloadAndUploadStaticMapImage: function() {
                    var t = this;
                    a.ajax({
                        url: "/modern/proxy/image-service/imageservice/downloadAndUploadStaticMapImage",
                        data: {
                            urlStr: encodeURIComponent(this.staticMapImageUrl),
                            activityId: this.activityId,
                            fileFormat: this.fileFormat
                        },
                        type: "GET",
                        dataType: "JSON",
                        success: function(e, i, n) {
                            if (t.activityName = a(".js-activityNameEditPlaceholder a").text().trim(),
                            e.hasOwnProperty("status") && 1 == e.status) {
                                document.documentMode;
                                t.imageUrl = e.imageUrl
                            }
                            t.redirectPopupShareWindow()
                        },
                        error: function(e, i, n) {
                            t.activityName = a(".js-activityNameEditPlaceholder a").text().trim(),
                            t.redirectPopupShareWindow()
                        }
                    })
                },
                downloadAndUploadGoogleStaticMapImage: function() {
                    var t = this;
                    a.ajax({
                        url: "/proxy/activity-service/activity/" + this.activityId + "/share",
                        type: "GET",
                        dataType: "JSON",
                        success: function(e, i, n) {
                            var r = e;
                            t.activityName = a(".js-activityNameEditPlaceholder a").text().trim(),
                            r.hasOwnProperty("status") && 1 == r.status && (t.imageUrl = r.imageUrl),
                            t.redirectPopupShareWindow()
                        },
                        error: function(e, i, n) {
                            t.activityName = a(".js-activityNameEditPlaceholder a").text().trim(),
                            t.redirectPopupShareWindow()
                        }
                    })
                },
                redirectPopupShareWindow: function() {
                    var t = this.widgetPageUrl.split("/")
                      , e = t[0]
                      , i = t[2];
                    this.isGarminLogo = this.imageUrl == A ? "1" : "0";
                    var a = e + "//" + i + "/modern/activity/" + this.activityId + "/share/" + this.isGarminLogo + "?lang=" + this.preferredLocale
                      , n = null;
                    this.socialPlatform == C.facebook ? n = "https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(a) + "&p[title]=Garmin%20Connect&display=popup" : this.socialPlatform == C.weibo ? n = "http://service.weibo.com/share/share.php?url=" + encodeURIComponent(a) + "&pic=" + encodeURIComponent(this.imageUrl) + "&title=" + encodeURIComponent(this.activity.get("activityName").trim() + ": " + this.activityDetailsInfo) : this.socialPlatform == C.twitter && (n = "http://twitter.com/share?text=" + encodeURIComponent(this.activity.get("activityName").trim()) + "&url=" + encodeURIComponent(a)),
                    this.popupShareWindow.location.replace(n)
                }
            });
            T.SlideDirection = _,
            T.SocialPlatorm = C,
            e.a = T
        }
        ).call(this, i(10), i(10), i(1259))
    },
    1729: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(64)
          , c = i(1730)
          , h = i.n(c);
        e.a = o.a.View.extend({
            template: n.a.template(h.a),
            initialize: function(t) {
                return this.activityId = t.activityId,
                this.hasMap = t.hasMap,
                this.calculateHeight(t.noOfChildren),
                this.activityName = t.activityName,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    NavUtil: l.default,
                    height: this.height,
                    activityId: this.activityId,
                    activityName: this.getActivityName()
                })),
                this
            },
            getActivityName: function() {
                var t = s.a.localize("untitled");
                return this.activityName && (t = this.activityName.replace(/"/g, "&quot;").replace(/'/g, "&#39;")),
                t
            },
            calculateHeight: function(t) {
                var e = this.hasMap || !1
                  , i = 500;
                if (0 !== t) {
                    for (var a = 0; a < t; a += 1)
                        i += 0 === a ? 26 : 18;
                    this.height = e ? i : i - 219
                } else
                    this.height = e ? i : i - 230
            }
        })
    },
    1730: function(t, e) {
        t.exports = '<input\n        type="text"\n        value="&lt;iframe src=\'<%- NavUtil.getHostUrl() + NavUtil.url(\'/activity/embed/\' + activityId) %>\' title=\'<%- activityName %>\' width=\'465\' height=\'<%- height %>\' frameborder=\'0\'&gt;&lt;/iframe&gt;"\n        class="embed-activity-input"\n        onclick="this.focus();this.select()"\n        readonly="readonly">\n\n<iframe\n        class="embed-activity-iframe"\n        width="465"\n        height="<%- height %>"\n        title="<%- activityName %>"\n        frameborder="0"\n        src="<%- NavUtil.getHostUrl() + NavUtil.url(\'/activity/embed/\' + activityId) %>">\n</iframe>'
    },
    1731: function(t, e) {
        t.exports = '<button class="dropdown-trigger" data-toggle="dropdown">\n    <i class="icon-share"/>\n</button>\n<ul class="dropdown-menu pull-right <%- directionClass %>">\n    <% if (showIcon) { %>\n    <li class="clearfix">\n        <i class="icon-share pull-right"></i>\n    </li>\n    <% } %> \n    \n    <% if (userInChina) { %>\n    <li>\n        <a id="shareToWeiboFromShareStaticMapImageView" class="addthis_button_sinaweibo" title="<%- Localizer.localize(\'share_sinaweibo\') %>">\n            <span class="at-icon-wrapper" style="background-color: rgb(230, 22, 45); line-height: 16px; height: 16px; width: 16px;">\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"\n                        class="at-icon at-icon-sinaweibo" style="width: 16px; height: 16px;">\n                    <g>\n                    <path\n                            d="M14.24 23.808c-3.64.367-6.785-1.307-7.022-3.734-.236-2.43 2.525-4.693 6.164-5.06 3.642-.367 6.786 1.307 7.02 3.734.24 2.43-2.522 4.696-6.16 5.06m7.28-8.063c-.31-.096-.523-.157-.362-.57.352-.898.39-1.672.006-2.227-.713-1.036-2.667-.98-4.907-.028 0 0-.705.312-.523-.253.343-1.125.29-2.065-.243-2.61-1.214-1.238-4.446.045-7.216 2.86C6.205 15.023 5 17.26 5 19.192c0 3.694 4.664 5.942 9.226 5.942 5.98 0 9.96-3.53 9.96-6.333.003-1.695-1.402-2.657-2.665-3.055M25.494 8.983a5.76 5.76 0 0 0-5.542-1.823.855.855 0 0 0-.646 1.015.84.84 0 0 0 1 .657c1.398-.303 2.912.138 3.938 1.295a4.254 4.254 0 0 1 .865 4.113c-.144.45.1.93.542 1.076a.84.84 0 0 0 1.06-.55v-.002a5.973 5.973 0 0 0-1.218-5.78"></path><path d="M23.276 11.018a2.8 2.8 0 0 0-2.698-.885.74.74 0 0 0-.56.876c.086.396.472.65.86.563.467-.102.977.046 1.32.432.343.388.437.915.29 1.378a.742.742 0 0 0 .466.928.724.724 0 0 0 .913-.474c.3-.947.113-2.026-.59-2.818M14.44 19.41c-.126.223-.408.328-.627.235-.218-.09-.285-.34-.16-.555.127-.215.397-.32.612-.234.22.08.298.33.176.555m-1.16 1.512c-.353.57-1.11.82-1.676.558-.56-.26-.726-.922-.374-1.48.35-.555 1.078-.802 1.642-.56.57.25.753.905.407 1.482m1.322-4.04c-1.733-.46-3.69.42-4.443 1.97-.77 1.583-.025 3.34 1.723 3.914 1.815.595 3.95-.318 4.695-2.023.734-1.67-.182-3.39-1.976-3.86">\n                            </path></g></svg>\n            </span>\n            <%- Localizer.localize(\'share_sinaweibo\') %>\n        </a>\n    </li>\n        <% if (addThisSharingEnabled) { %>\n        <li>\n            <a class="addthis_button_baidu"><%- Localizer.localize(\'share_baidu\') %></a>\n        </li>\n        <li>\n            <a class="addthis_button_qzone"><%- Localizer.localize(\'share_qzone\') %></a>\n        </li>\n        <li>\n            <a class="addthis_button_email"><%- Localizer.localize(\'share_email\') %></a>\n        </li>\n        <li>\n            <a class="addthis_button_expanded"><%- Localizer.localize(\'share_more\') %></a>\n        </li>\n        <% } %>\n    <% } else { %>\n    <li>\n        <a id="shareToFacebookFromShareStaticMapImageView" class="at300b" title="<%- Localizer.localize(\'share.facebook\') %>" href="#">\n            <span class="at-icon-wrapper"\n                  style="line-height: 16px; height: 16px; width: 16px; background-color: rgb(59, 89, 152); display: inline-block; overflow: hidden;">\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"\n                     class="at-icon at-icon-facebook" style="width: 16px; height: 16px; fill: #fff; border: 0;">\n                    <g>\n                    <path\n                            d="M22 5.16c-.406-.054-1.806-.16-3.43-.16-3.4 0-5.733 1.825-5.733 5.17v2.882H9v3.913h3.837V27h4.604V16.965h3.823l.587-3.913h-4.41v-2.5c0-1.123.347-1.903 2.198-1.903H22V5.16z"\n                            fill-rule="evenodd"></path></g></svg>\n            </span>\n            <%- Localizer.localize(\'share.facebook\') %>\n        </a>\n    </li>\n    <li>\n        <a id="shareToTwitterFromShareStaticMapImageView" class="at300b" title="<%- Localizer.localize(\'share.twitter\') %>" href="#">\n            <span class="at-icon-wrapper"\n                  style="line-height: 16px; height: 16px; width: 16px; background-color: rgb(29, 161, 242); display: inline-block; overflow: hidden;">\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"\n                     class="at-icon at-icon-twitter" style="width: 16px; height: 16px; fill: #fff; border: 0;">\n                    <g>\n                    <path\n                            d="M27.996 10.116c-.81.36-1.68.602-2.592.71a4.526 4.526 0 0 0 1.984-2.496 9.037 9.037 0 0 1-2.866 1.095 4.513 4.513 0 0 0-7.69 4.116 12.81 12.81 0 0 1-9.3-4.715 4.49 4.49 0 0 0-.612 2.27 4.51 4.51 0 0 0 2.008 3.755 4.495 4.495 0 0 1-2.044-.564v.057a4.515 4.515 0 0 0 3.62 4.425 4.52 4.52 0 0 1-2.04.077 4.517 4.517 0 0 0 4.217 3.134 9.055 9.055 0 0 1-5.604 1.93A9.18 9.18 0 0 1 6 23.85a12.773 12.773 0 0 0 6.918 2.027c8.3 0 12.84-6.876 12.84-12.84 0-.195-.005-.39-.014-.583a9.172 9.172 0 0 0 2.252-2.336"\n                            fill-rule="evenodd"></path></g></svg>\n            </span>\n            <%- Localizer.localize(\'share.twitter\') %>\n        </a>\n    </li>\n        <% if (addThisSharingEnabled) { %>\n        <li>\n            <a class="addthis_button_email at300b" id="shareToEmailFromShareStaticMapImageView" target="_blank" title="<%- Localizer.localize(\'share_email\') %>"\n            href="#">\n                <span class="at-icon-wrapper"\n                    style="line-height: 16px; height: 16px; width: 16px; background-color: rgb(132, 132, 132);">\n                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"\n                        class="at-icon at-icon-email" style="width: 16px; height: 16px;">\n                        <g>\n                        <g fill-rule="evenodd"></g>\n                        <path\n                                d="M27 22.757c0 1.24-.988 2.243-2.19 2.243H7.19C5.98 25 5 23.994 5 22.757V13.67c0-.556.39-.773.855-.496l8.78 5.238c.782.467 1.95.467 2.73 0l8.78-5.238c.472-.28.855-.063.855.495v9.087z"></path>\n                        <path\n                                d="M27 9.243C27 8.006 26.02 7 24.81 7H7.19C5.988 7 5 8.004 5 9.243v.465c0 .554.385 1.232.857 1.514l9.61 5.733c.267.16.8.16 1.067 0l9.61-5.733c.473-.283.856-.96.856-1.514v-.465z"></path></g></svg>\n                </span>\n                <%- Localizer.localize(\'share_email\') %>\n            </a>\n        </li>\n        <li>\n            <a class="addthis_button_expanded at300m" href="#" id="shareToMoreFromShareStaticMapImageView" target="_blank" title="<%- Localizer.localize(\'share_more\') %>">\n                <span class="at-icon-wrapper"\n                    style="line-height: 16px; height: 16px; width: 16px; background-color: rgb(255, 101, 80);">\n                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"\n                        title="Expanded" alt="Expanded"\n                        class="at-icon at-icon-addthis" style="width: 16px; height: 16px;">\n                        <g>\n                        <path d="M18 14V8h-4v6H8v4h6v6h4v-6h6v-4h-6z" fill-rule="evenodd"></path></g></svg>\n                </span>\n                <%- Localizer.localize(\'share_more\') %>\n            </a>\n        </li>\n        <% } %>\n    <% } %>\n    <li class="divider"></li>\n    <li>\n        <a id="activity-detail-embed" href="#" data-toggle="modal"><%- Localizer.localize(\'embed\') %></a>\n    </li>\n</ul>\n'
    },
    1732: function(t, e) {
        t.exports = '<%\n    var privacyClasses = {\n        \'private\': \'icon-locked\',\n        \'subscribers\': \'icon-privacy-connections\',\n        \'groups\': \'icon-privacy-connections-and-groups\',\n        \'public\': \'icon-unlocked\'\n    };\n\n    var privacyIconClass = privacyClasses[privacy];\n%> \n\n\n    <button class="dropdown-trigger page-navigation-action" \n            data-toggle="dropdown"\n            aria-label="<%- Localizer.localize(\'privacy.alert.heading\') %>">\n        <i class="<%- privacyIconClass %> privacy-indicator"></i>\n    </button>\n    \n    <ul class="<%- customConsentClass %> dropdown-menu pull-right">\n        <li class="clearfix">\n            <i class="<%- privacyIconClass %> privacy-state-current pull-right"></i>\n        </li>\n        <li data-privacy="private">\n            <a href="#">\n                <i class="icon-locked"></i> <%- Localizer.localize(\'privacy.private.title\') %> <br/>\n                <% if(onlyMeConsent) { %>\n                    <span class="<%- customConsentClass %>"><%- onlyMeConsent %></span>\n                <% } %>\n            </a>\n        </li>\n        <li data-privacy="subscribers">\n            <a href="#">\n                <i class="icon-privacy-connections"></i> <%- Localizer.localize(\'privacy.connections.title\') %><br/>\n                <% if(connectionsConsent) { %>\n                    <span class="<%- customConsentClass %>"><%- connectionsConsent %></span>\n                <% } %>\n            </a>\n        </li>\n        <li data-privacy="groups">\n            <a href="#">\n                 <i class="icon-privacy-connections-and-groups"></i> <%- Localizer.localize(\'privacy.connections.and.groups.title\') %><br/>\n                <% if(groupsConsent) { %>\n                    <span class="<%- customConsentClass %>"><%- groupsConsent %></span>\n                <% } %>\n            </a>\n        </li>\n        <li data-privacy="public">\n            <a href="#">\n                <i class="icon-unlocked"></i> <%- Localizer.localize(\'privacy.public.title\') %> <br/>\n                <% if(everyoneConsent) { %>\n                    <span class="<%- customConsentClass %>"><%- everyoneConsent %></span>\n                <% } %>\n            </a>\n        </li>\n    </ul>\n'
    },
    1733: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(13)
          , l = i(8)
          , c = i(15)
          , h = i.n(c)
          , p = i(58)
          , d = i(21)
          , u = i(1734)
          , m = i.n(u)
          , f = i(1735)
          , g = i.n(f)
          , y = {
            grayLineWidth: 4,
            point1: {
                x: 0,
                y: 67
            },
            point2: {
                x: 150,
                y: 67
            },
            point3: {
                x: 200,
                y: 200
            },
            orangeLineWidth: 2,
            orangeLineY: 134
        }
          , v = {
            grayLineWidth: 3,
            point1: {
                x: 0,
                y: 50
            },
            point2: {
                x: 105,
                y: 50
            },
            point3: {
                x: 142,
                y: 150
            },
            orangeLineWidth: 2,
            orangeLineY: 100
        }
          , b = {
            grayLineWidth: 1,
            point1: {
                x: 0,
                y: 25
            },
            point2: {
                x: 70,
                y: 25
            },
            point3: {
                x: 95,
                y: 118
            },
            orangeLineWidth: 1,
            orangeLineY: 72
        };
        e.a = o.a.View.extend({
            template: n.a.template(g.a),
            initialize: function(t) {
                this.surfaceInterval = t.surfaceInterval,
                this.timeIn = t.timeIn,
                this.maxDepth = t.maxDepth,
                this.avgDepth = t.avgDepth,
                this.bottomTime = t.bottomTime,
                this.isDecoDive = t.isDecoDive,
                this.timeOut = t.timeOut
            },
            render: function() {
                var t = this.template({});
                return this.$el.html(t),
                this.renderCanvas(),
                this.renderDiveLogStats(),
                this
            },
            renderCanvas: function() {
                var t = this.$("#canvas")[0]
                  , e = t.getContext("2d");
                t.style.width = "100%",
                t.style.height = "100%",
                t.width = t.offsetWidth,
                t.height = t.offsetHeight,
                0 !== t.width && (this.drawLeftSide(t, e),
                e.save(),
                this.drawRightSide(t, e),
                e.restore())
            },
            drawLeftSide: function(t, e) {
                var i = this.getDrawOptions(t.width);
                e.strokeStyle = "#999999",
                e.lineWidth = i.grayLineWidth,
                e.beginPath(),
                e.moveTo(i.point1.x, i.point1.y),
                e.lineTo(i.point2.x, i.point2.y),
                e.lineTo(i.point3.x, i.point3.y),
                e.lineTo(t.width / 2, i.point3.y),
                e.stroke(),
                e.strokeStyle = "#ff9f10",
                e.lineWidth = i.orangeLineWidth,
                e.beginPath(),
                e.moveTo(0, i.orangeLineY),
                e.lineTo(t.width / 2, i.orangeLineY),
                e.stroke()
            },
            drawRightSide: function(t, e) {
                e.translate(t.width, 0),
                e.scale(-1, 1),
                this.drawLeftSide(t, e)
            },
            renderDiveLogStats: function() {
                var t = this.$("#canvas")[0].width
                  , e = n.a.template(m.a)
                  , i = this.$(".dive-canvas")
                  , a = e({
                    className: "surface-interval",
                    additionalClasses: "",
                    value: this.getSurfaceIntervalValue(t, this.surfaceInterval),
                    label: this.getSurfaceIntervalLabel(t)
                });
                i.append(a);
                var r = p.a.parseISO(this.timeIn)
                  , o = e({
                    className: "time-in",
                    additionalClasses: "",
                    value: d.a.formatTime(r),
                    label: l.a.localize("time_in_label")
                });
                i.append(o);
                var c = e({
                    className: "max-depth",
                    additionalClasses: "",
                    value: s.a.personalizeDepth(this.maxDepth) + " " + l.a.localize(s.a.getDepthUnitKey()),
                    label: l.a.localize("max_depth")
                });
                i.append(c);
                var u = e({
                    className: "avg-depth",
                    additionalClasses: "center",
                    value: s.a.personalizeDepth(this.avgDepth) + " " + l.a.localize(s.a.getDepthUnitKey()),
                    label: l.a.localize("avg_depth_abbr")
                });
                i.append(u);
                var f = e({
                    className: "bottom-time",
                    additionalClasses: "center",
                    value: s.a.personalizeDuration(this.bottomTime, !1),
                    label: l.a.localize("bottom_time")
                });
                if (i.append(f),
                this.isDecoDive) {
                    var g = e({
                        className: "deco-dive",
                        additionalClasses: "right decompression-dive-icon",
                        value: "D",
                        label: l.a.localize("deco_dive_label")
                    });
                    i.append(g)
                }
                var y = new h.a(r).add(this.bottomTime, "s").toDate()
                  , v = e({
                    className: "time-out",
                    additionalClasses: "right",
                    value: d.a.formatTime(y),
                    label: l.a.localize("time_out_label")
                });
                i.append(v)
            },
            getSurfaceIntervalValue: function(t, e) {
                return this.isWidget(t) ? l.a.localize("surface_interval_abbrev") + ": " + s.a.personalizeDuration(e, !1) : s.a.personalizeDuration(e, !1)
            },
            getSurfaceIntervalLabel: function(t) {
                return this.isWidget(t) ? "" : l.a.localize("surface_interval")
            },
            getDrawOptions: function(t) {
                return this.isWidget(t) ? b : t >= 300 && t <= 550 ? v : y
            },
            isWidget: function(t) {
                return t < 300
            },
            destroy: function() {
                this.remove()
            }
        })
    },
    1734: function(t, e) {
        t.exports = '<div class="dive-log-stat <%- className %>-stat font-thin <%- additionalClasses %>">\n    <div class="<%- className %>-value dive-log-value">\n        <%- value %>\n    </div>\n    <span class="<%- className %>-label dive-log-label">\n        <%- label %>\n    </span>\n</div>'
    },
    1735: function(t, e) {
        t.exports = '<div class="dive-canvas">\n    <canvas id="canvas" class="canvas"></canvas>\n    \x3c!-- diveLogStatView.html --\x3e\n\n</div>\n'
    },
    1736: function(t, e, i) {
        "use strict";
        e.a = function(t, e) {
            for (var i = -1, a = null == t ? 0 : t.length; ++i < a && !1 !== e(t[i], i, t); )
                ;
            return t
        }
    },
    1737: function(t, e, i) {
        "use strict";
        var a = i(398)
          , n = i(1318)
          , r = "[object AsyncFunction]"
          , o = "[object Function]"
          , s = "[object GeneratorFunction]"
          , l = "[object Proxy]";
        e.a = function(t) {
            if (!Object(n.a)(t))
                return !1;
            var e = Object(a.a)(t);
            return e == o || e == s || e == r || e == l
        }
    },
    1738: function(t, e, i) {
        "use strict";
        var a = Function.prototype.toString;
        e.a = function(t) {
            if (null != t) {
                try {
                    return a.call(t)
                } catch (e) {}
                try {
                    return t + ""
                } catch (e) {}
            }
            return ""
        }
    },
    1739: function(t, e, i) {
        "use strict";
        e.a = function(t, e) {
            for (var i = -1, a = null == t ? 0 : t.length, n = Array(a); ++i < a; )
                n[i] = e(t[i], i, t);
            return n
        }
    },
    1740: function(t, e, i) {
        "use strict";
        var a = i(121).a.Uint8Array;
        e.a = a
    },
    1741: function(t, e, i) {
        "use strict";
        var a = i(1742)
          , n = i(1647)
          , r = i(1410);
        e.a = function(t) {
            return Object(a.a)(t, r.a, n.a)
        }
    },
    1742: function(t, e, i) {
        "use strict";
        var a = i(1591)
          , n = i(1305);
        e.a = function(t, e, i) {
            var r = e(t);
            return Object(n.a)(t) ? r : Object(a.a)(r, i(t))
        }
    },
    1743: function(t, e, i) {
        "use strict";
        e.a = function() {
            return []
        }
    },
    1744: function(t, e, i) {
        "use strict";
        var a = i(1745);
        e.a = function(t, e, i) {
            "__proto__" == e && a.a ? Object(a.a)(t, e, {
                configurable: !0,
                enumerable: !0,
                value: i,
                writable: !0
            }) : t[e] = i
        }
    },
    1745: function(t, e, i) {
        "use strict";
        var a = i(1378)
          , n = function() {
            try {
                var t = Object(a.a)(Object, "defineProperty");
                return t({}, "", {}),
                t
            } catch (e) {}
        }();
        e.a = n
    },
    1746: function(t, e, i) {
        "use strict";
        var a = i(1591)
          , n = i(425)
          , r = i(1647)
          , o = i(1743)
          , s = Object.getOwnPropertySymbols ? function(t) {
            for (var e = []; t; )
                Object(a.a)(e, Object(r.a)(t)),
                t = Object(n.a)(t);
            return e
        }
        : o.a;
        e.a = s
    },
    1747: function(t, e, i) {
        "use strict";
        var a = i(1742)
          , n = i(1746)
          , r = i(1855);
        e.a = function(t) {
            return Object(a.a)(t, r.a, n.a)
        }
    },
    1755: function(t, e, i) {
        "use strict";
        var a = i(81)
          , n = i(19)
          , r = i(1315)
          , o = a.a.extend({
            totalCourses: 0,
            model: r.a,
            url: function() {
                return "/proxy/course-service/course/owner/" + n.a.get("displayName")
            },
            initialize: function(t, e) {
                e.verb = "GET",
                this.initializePagedCollection(e)
            },
            parse: function(t) {
                return this.totalCourses = t.length,
                t
            },
            comparator: function(t) {
                return t.get("courseName").toLowerCase()
            },
            getTotalCourseCount: function() {
                return this.totalCourses
            },
            findCourse: function(t) {
                return this.find(function(e) {
                    return e.get("courseId") === t
                })
            }
        });
        e.a = o
    },
    1772: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            initialize: function(t) {
                this.latestDate = t ? t.latestDate : new Date
            },
            url: function() {
                if (0 === this.latestDate.length)
                    throw new Error("Date must be given.");
                return "/proxy/weight-service/weight/latest?date=" + this.latestDate + "&ignorePriority=true"
            },
            setLatestDate: function(t) {
                this.latestDate = t
            }
        });
        e.a = n
    },
    1773: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(0)
              , n = i.n(a)
              , r = (i(15),
            i(21),
            n.a.Model.extend({
                initialize: function(t) {},
                url: function() {
                    var t = "/proxy/weight-service/weight";
                    return "undefined" != typeof this.get("isFirst") && (t += "/first"),
                    t
                },
                destroy: function(e) {
                    var i = "/proxy/biometric-service/biometric/" + this.get("date")
                      , a = t.extend({
                        url: i
                    }, e || {});
                    return n.a.Model.prototype.destroy.call(this, a)
                },
                save: function(e, i) {
                    var a = t.extend({
                        url: "/proxy/weight-service/user-weight"
                    }, i || {});
                    return n.a.Model.prototype.save.call(this, e, a)
                }
            }));
            e.a = r
        }
        ).call(this, i(9))
    },
    1798: function(t, e, i) {
        "use strict";
        var a = i(1437);
        e.a = a.a.extend({
            url: "/web-data/exercises/Pilates.json"
        })
    },
    1799: function(t, e, i) {
        "use strict";
        var a = i(1437);
        e.a = a.a.extend({
            url: "/web-data/exercises/Yoga.json"
        })
    },
    1800: function(t, e) {
        t.exports = '<span class="dropdown-toggle" data-toggle="dropdown">\n    <%- label %>: <span class="type"><%- selectedItem.name %></span>\n    <i class="icon-pointer-down"></i>\n</span>\n<ul class="dropdown-menu pull-left" role="menu" aria-label="<%- Localizer.localize(\'select.one\') %>">\n        <% for (var i = 0; i < items.length; i++) { %>\n        <% var item = items[i]; %>\n            <li data-value="<%- item.value %>" role="none">\n                <a href="#" role="menuitem"><%- item.name %></a>\n            </li>\n            <% if (typeof item.children != \'undefined\') { %>\n                <% for (var j = 0; j < item.children.length; j++) { %>\n                <%  var childItem = item.children[j]; %>\n                    <li data-value="<%- childItem.value %>" role="none">\n                        <a href="#" class="dropdown-tier" role="menuitem"><%- childItem.name %></a>\n                    </li>\n                <% } %>\n            <% } %>\n        <% } %>\n</ul>'
    },
    1804: function(t, e) {
        t.exports = "<p><%- Localizer.localize('help.running.dynamics.cadence.chart.label') %></p>\n<table class=\"table\">\n    <thead>\n    <tr>\n        <th><%- Localizer.localize('help.running.dynamics.color.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.percent.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.cadence.range') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td><span class=\"rd-color background-61\"></span><%- Localizer.localize('color_purple') %></td>\n        <td>&gt; 95</td>\n        <td>&gt; 183 spm</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-21\"></span><%- Localizer.localize('color_blue') %></td>\n        <td>70 \u2013 95</td>\n        <td>174 \u2013 183 spm</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-40\"></span><%- Localizer.localize('color_green') %></td>\n        <td>30 - 69</td>\n        <td>164 - 173 spm</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n        <td>5 - 29</td>\n        <td>153 - 163 spm</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n        <td>&lt; 5</td>\n        <td>&lt; 153 spm</td>\n    </tr>\n    </tbody>\n</table>\n<p><%- Localizer.localize('help.running.dynamics.cadence.chart.cadence.research') %></p>\n"
    },
    1805: function(t, e) {
        t.exports = "<p><%- Localizer.localize('help.running.dynamics.vert.oscillation.chart.label') %></p>\n<table class=\"table\">\n    <thead>\n    <tr>\n        <th><%- Localizer.localize('help.running.dynamics.color.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.percent.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.vo.range') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td><span class=\"rd-color background-61\"></span><%- Localizer.localize('color_purple') %></td>\n        <td>&gt; <%- additionalData.Purple.zone %></td>\n        <td>&lt; <%- additionalData.Purple.range %> <%- Localizer.localize('vert_oscillation_unit') %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-21\"></span><%- Localizer.localize('color_blue') %></td>\n        <td><%- additionalData.Blue.zone %></td>\n        <td><%- additionalData.Blue.range %> <%- Localizer.localize('vert_oscillation_unit') %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-40\"></span><%- Localizer.localize('color_green') %></td>\n        <td><%- additionalData.Green.zone %></td>\n        <td><%- additionalData.Green.range %> <%- Localizer.localize('vert_oscillation_unit') %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n        <td><%- additionalData.Orange.zone %></td>\n        <td><%- additionalData.Orange.range %> <%- Localizer.localize('vert_oscillation_unit') %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n        <td>&lt; <%- additionalData.Red.zone %></td>\n        <td>&gt; <%- additionalData.Red.range %> <%- Localizer.localize('vert_oscillation_unit') %></td>\n    </tr>\n    </tbody>\n</table>\n<p><%- Localizer.localize('help.running.dynamics.vert.oscillation.chart.research') %></p>\n"
    },
    1806: function(t, e) {
        t.exports = "<p><%- Localizer.localize('help.running.dynamics.ground.contact.chart.label') %></p>\n<table class=\"table\">\n    <thead>\n    <tr>\n        <th><%- Localizer.localize('help.running.dynamics.color.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.percent.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.gct.range') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td><span class=\"rd-color background-61\"></span><%- Localizer.localize('color_purple') %></td>\n        <td>&gt; 95</td>\n        <td>&lt; 218 ms</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-21\"></span><%- Localizer.localize('color_blue') %></td>\n        <td>70 \u2013 95</td>\n        <td>218-248 ms</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-40\"></span><%- Localizer.localize('color_green') %></td>\n        <td>30 - 69</td>\n        <td>249 - 277 ms</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n        <td>5 - 29</td>\n        <td>278 - 308 ms</td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n        <td>&lt; 5</td>\n        <td>&gt; 308 ms</td>\n    </tr>\n    </tbody>\n</table>\n<p><%- Localizer.localize('help.running.dynamics.ground.contact.chart.research') %></p>\n"
    },
    1807: function(t, e) {
        t.exports = "<p><%- Localizer.localize('help.running.dynamics.gct.balance.label') %></p>\n    <table class=\"table\">\n        <thead>\n        <tr>\n            <th><%- Localizer.localize('help.running.dynamics.color.zone') %></th>\n            <th><%- Localizer.localize('help.running.dynamics.percent.zone') %></th>\n            <th><abbr title=\"<%- Localizer.localize('help.running.dynamics.gct') %>\"><%- Localizer.localize('help.running.dynamics.gct.abbr') %></abbr> <%- Localizer.localize('help.running.dynamics.balance.range') %></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr>\n            <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n            <td>&gt; 95</td>\n            <td>&gt; <%- Localizer.localize('power_balance_right_format', 52.2) %></td>\n        </tr>\n        <tr>\n            <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n            <td>70 \u2013 95</td>\n            <td><%- Localizer.localize('power_balance_right_format', 50.8) %> - <%- Localizer.localize('power_balance_right_format', 52.2) %></td>\n        </tr>\n        <tr>\n            <td><span class=\"rd-color background-40\"></span><%- Localizer.localize('color_green') %></td>\n            <td>30 - 69</td>\n            <td><%- Localizer.localize('power_balance_right_format', 50.7) %> - <%- Localizer.localize('power_balance_left_format', 50.7) %></td>\n        </tr>\n        <tr>\n            <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n            <td>5 - 29</td>\n            <td><%- Localizer.localize('power_balance_left_format', 50.8) %> - <%- Localizer.localize('power_balance_left_format', 52.2) %></td>\n        </tr>\n        <tr>\n            <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n            <td>&lt; 5</td>\n            <td>&gt; <%- Localizer.localize('power_balance_left_format', 52.2) %></td>\n        </tr>\n        </tbody>\n    </table>\n<p><%= Localizer.localize('help.running.dynamics.gct.balance.research') %></p>\n"
    },
    1808: function(t, e) {
        t.exports = "<p><%- Localizer.localize('help.running.dynamics.vert.ratio.chart.label') %></p>\n<table class=\"table\">\n    <thead>\n    <tr>\n        <th><%- Localizer.localize('help.running.dynamics.color.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.percent.zone') %></th>\n        <th><%- Localizer.localize('help.running.dynamics.vr.range') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td><span class=\"rd-color background-61\"></span><%- Localizer.localize('color_purple') %></td>\n        <td>&gt; <%- additionalData.Purple.zone %></td>\n        <td>&lt; <%- additionalData.Purple.range %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-21\"></span><%- Localizer.localize('color_blue') %></td>\n        <td><%- additionalData.Blue.zone %></td>\n        <td><%- additionalData.Blue.range %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-40\"></span><%- Localizer.localize('color_green') %></td>\n        <td><%- additionalData.Green.zone %></td>\n        <td><%- additionalData.Green.range %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-70\"></span><%- Localizer.localize('color_orange') %></td>\n        <td><%- additionalData.Orange.zone %></td>\n        <td><%- additionalData.Orange.range %></td>\n    </tr>\n    <tr>\n        <td><span class=\"rd-color background-51\"></span><%- Localizer.localize('color_red') %></td>\n        <td>&lt; <%- additionalData.Red.zone %></td>\n        <td>&gt; <%- additionalData.Red.range %></td>\n    </tr>\n    </tbody>\n</table>\n<p><%- Localizer.localize('help.running.dynamics.vert.ratio.chart.research') %></p>\n"
    },
    1809: function(t, e) {
        t.exports = '<table class="table table-bordered table-condensed">\n    <thead>\n    <tr>\n        <th></th>\n        <th><%- Localizer.localize(\'training_desc\') %></th>\n        <th><%- Localizer.localize(\'training_freq\') %></th>\n        <th><%- Localizer.localize(\'training_duration\') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <th align="center">0</th>\n        <td><%- Localizer.localize(\'training_desc_1\') %></td>\n        <td>&nbsp;&nbsp;-</td>\n        <td>&nbsp;&nbsp;-</td>\n    </tr>\n\n    <tr>\n        <th align="center">1</th>\n        <td style="vertical-align:middle" rowspan="3"><%- Localizer.localize(\'training_desc_2\') %></td>\n        <td style="vertical-align:middle" rowspan="2"><%- Localizer.localize(\'training_freq_1\') %></td>\n        <td><%- Localizer.localize(\'training_duration_1\') %></td>\n    </tr>\n    <tr>\n        <th align="center">2</th>\n        <td><%- Localizer.localize(\'training_duration_2\') %></td>\n    </tr>\n    <tr>\n        <th align="center">3</th>\n        <td><%- Localizer.localize(\'training_freq_2\') %></td>\n        <td><%- Localizer.localize(\'training_duration_3\') %></td>\n    </tr>\n    <tr>\n        <th align="center">4</th>\n        <td style="vertical-align:middle" rowspan="4"><%- Localizer.localize(\'training_desc_3\') %></td>\n        <td style="vertical-align:middle" rowspan="3"><%- Localizer.localize(\'training_freq_3\') %></td>\n        <td><%- Localizer.localize(\'training_duration_4\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">5</th>\n        <td><%- Localizer.localize(\'training_duration_5\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">6</th>\n        <td><%- Localizer.localize(\'training_duration_6\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">7</th>\n        <td><%- Localizer.localize(\'training_freq_4\') %></td>\n        <td><%- Localizer.localize(\'training_duration_7\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">8</th>\n        <td style="vertical-align:middle" rowspan="3"><%- Localizer.localize(\'training_desc_4\') %></td>\n        <td><%- Localizer.localize(\'training_freq_5\') %></td>\n        <td><%- Localizer.localize(\'training_duration_8\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">9</th>\n        <td style="vertical-align:middle" rowspan="2"><%- Localizer.localize(\'training_freq_6\') %></td>\n        <td><%- Localizer.localize(\'training_duration_9\') %></td>\n    </tr>\n\n    <tr>\n        <th align="center">10</th>\n        <td><%- Localizer.localize(\'training_duration_10\') %></td>\n    </tr>\n\n    </tbody>\n</table>\n\n<p style="font-size:12px;"><%= Localizer.localize(\'activity_class_helper\') %></p>\n\n'
    },
    1810: function(t, e) {
        t.exports = "<p>\n    <%- Localizer.localize('help.performance.condition.description') %>\n</p>\n<table class=\"table\">\n    <thead>\n        <tr>\n            <th><%- Localizer.localize('help.performance.condition') %></th>\n            <th><%- Localizer.localize('help.performance.condition.score') %></th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td><%- Localizer.localize('help.performance.condition.rating.excellent') %></td>\n            <td><%- Localizer.localize('help.performance.condition.rating.excellent.score') %></td>\n        </tr>\n        <tr>\n            <td><%- Localizer.localize('help.performance.condition.rating.good') %></td>\n            <td><%- Localizer.localize('help.performance.condition.rating.good.score') %></td>\n        </tr>\n        <tr>\n            <td><%- Localizer.localize('help.performance.condition.rating.baseline') %></td>\n            <td><%- Localizer.localize('help.performance.condition.rating.baseline.score') %></td>\n        </tr>\n        <tr>\n            <td><%- Localizer.localize('help.performance.condition.rating.fair') %></td>\n            <td><%- Localizer.localize('help.performance.condition.rating.fair.score') %></td>\n        </tr>\n        <tr>\n            <td><%- Localizer.localize('help.performance.condition.rating.poor') %></td>\n            <td><%- Localizer.localize('help.performance.condition.rating.poor.score') %></td>\n        </tr>\n    </tbody>\n</table>"
    },
    1811: function(t, e) {
        t.exports = "<h4><%- Localizer.localize('help_vector_air_drag_cda') %></h4>\n    <div><%= Localizer.localize('help_vector_air_drag_cda_intro_paragraph') %></div>\n    <ul class=\"nav nav-tabs\">\n        <li class=\"active\"><a href=\"#drag-road\" data-toggle=\"tab\"><%- Localizer.localize('help_vector_air_drag_cda_road_cyclist_label') %></a></li>\n        <li><a href=\"#drag-tt\" data-toggle=\"tab\"><%- Localizer.localize('help_vector_air_drag_cda_time_trialist_tab_label') %></a></li>\n    </ul>\n\n    <div class=\"tab-content\">\n\n        \x3c!-- Road Cyclist tab --\x3e\n        <div class=\"tab-pane active\" id=\"drag-road\">\n            <h4 class=\"bottom-xs\"><%- Localizer.localize('help_vector_air_drag_cda_aerodynamic_zones_label') %></h4>\n\n            <table class=\"vo2-estimates-table table table-bordered\">\n                <tbody>\n                <tr>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_road_cyclist_label') %></th>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_percentile_label') %></th>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_cda_range') %></th>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-superior\"></span><%- Localizer.localize('help_vector_air_drag_cda_superior_label') %></td>\n                    <td>&gt; <%- additionalData.roadCyclist.Purple.zone %></td>\n                    <td>&lt; <%- additionalData.roadCyclist.Purple.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-excellent\"></span><%- Localizer.localize('help_vector_air_drag_cda_excellent_label') %></td>\n                    <td><%- additionalData.roadCyclist.Blue.zone %></td>\n                    <td><%- additionalData.roadCyclist.Blue.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-good\"></span><%- Localizer.localize('help_vector_air_drag_cda_good_label') %></td>\n                    <td><%- additionalData.roadCyclist.Green.zone %></td>\n                    <td><%- additionalData.roadCyclist.Green.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-fair\"></span><%- Localizer.localize('help_vector_air_drag_cda_fair_label') %></td>\n                    <td><%- additionalData.roadCyclist.Orange.zone %></td>\n                    <td><%- additionalData.roadCyclist.Orange.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-poor\"></span><%- Localizer.localize('help_vector_air_drag_cda_poor_label') %></td>\n                    <td>&lt; <%- additionalData.roadCyclist.Red.zone %></td>\n                    <td>&gt; <%- additionalData.roadCyclist.Red.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                </tbody>\n            </table>\n        </div>\n        \x3c!-- End: Road Cyclist tab --\x3e\n\n        \x3c!-- Time Trialist Cyclist tab --\x3e\n        <div class=\"tab-pane\" id=\"drag-tt\">\n            <h4 class=\"bottom-xs\"><%- Localizer.localize('help_vector_air_drag_cda_aerodynamic_zones_label') %></h4>\n\n            <table class=\"vo2-estimates-table table table-bordered\">\n                <tbody>\n                <tr>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_time_trial_cyclist') %></th>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_percentile_label') %></th>\n                    <th><%- Localizer.localize('help_vector_air_drag_cda_cda_range') %></th>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-superior\"></span><%- Localizer.localize('help_vector_air_drag_cda_superior_label') %></td>\n                    <td>&gt; <%- additionalData.timeTrialist.Purple.zone %></td>\n                    <td>&lt; <%- additionalData.timeTrialist.Purple.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-excellent\"></span><%- Localizer.localize('help_vector_air_drag_cda_excellent_label') %></td>\n                    <td><%- additionalData.timeTrialist.Blue.zone %></td>\n                    <td><%- additionalData.timeTrialist.Blue.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-good\"></span><%- Localizer.localize('help_vector_air_drag_cda_good_label') %></td>\n                    <td><%- additionalData.timeTrialist.Green.zone %></td>\n                    <td><%- additionalData.timeTrialist.Green.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-fair\"></span><%- Localizer.localize('help_vector_air_drag_cda_fair_label') %></td>\n                    <td><%- additionalData.timeTrialist.Orange.zone %></td>\n                    <td><%- additionalData.timeTrialist.Orange.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                <tr>\n                    <td><span class=\"vo2-poor\"></span><%- Localizer.localize('help_vector_air_drag_cda_poor_label') %></td>\n                    <td>&lt; <%- additionalData.timeTrialist.Red.zone %></td>\n                    <td>&gt; <%- additionalData.timeTrialist.Red.range %> <%- Localizer.localize('cda_unit') %></td>\n                </tr>\n\n                </tbody>\n            </table>\n        </div>\n        \x3c!-- End Balance tab --\x3e\n\n        <div><%- Localizer.localize('help_vector_air_drag_cda_footer_paragraph') %></div>\n    </div>"
    },
    1812: function(t, e) {
        t.exports = "<h4><%- Localizer.localize('label_respiration_rate') %></h4>\n\n<ul class=\"nav nav-tabs\">\n    <li class=\"active\"><a href=\"#tracking-respiration-rate\" data-toggle=\"tab\"><%- Localizer.localize('label_respiration_tracking') %></a></li>\n    <li><a href=\"#breathing-during-runs\" data-toggle=\"tab\"><%- Localizer.localize('label_breathing_during_runs') %></a></li>\n</ul>\n    \n<div class=\"tab-content\">\n    \x3c!-- Respiration Tracking tab --\x3e\n    <div class=\"tab-pane active\" id=\"tracking-respiration-rate\">\n       <h5><%- Localizer.localize('respiration_tracking_header_message1') %></h5>\n       <p><%- Localizer.localize('respiration_tracking_message1') %></p>\n       <h5><%- Localizer.localize('respiration_tracking_header_message2') %></h5>\n       <p><%- Localizer.localize('respiration_tracking_message2') %></p>\n       <h5><%- Localizer.localize('respiration_tracking_header_message3') %></h5>\n       <p><%- Localizer.localize('respiration_tracking_message3') %></p>\n    </div>\n    \x3c!-- End Respiration Tracking tab --\x3e\n\n    \x3c!-- Breathing During Runs tab --\x3e\n    <div class=\"tab-pane\" id=\"breathing-during-runs\">\n        <h5><%- Localizer.localize('breathing_header_message') %></h3>\n        <h5><%- Localizer.localize('breathing_category1') %></h5>\n        <p><%- Localizer.localize('breathing_message1') %></p>\n        <h5><%- Localizer.localize('breathing_category2') %></h5>\n        <p><%- Localizer.localize('breathing_message2') %></p>\n        <h5><%- Localizer.localize('breathing_category3') %></h5>\n        <p><%- Localizer.localize('breathing_message3') %></p>\n        <h5><%- Localizer.localize('breathing_category4') %></h5>\n        <p><%- Localizer.localize('breathing_message4') %></p>\n    </div>\n    \x3c!-- End Breathing During Runs tab --\x3e\n</div>\n    "
    },
    1813: function(t, e) {
        t.exports = "<h2><%- Localizer.localize('label_grit') %></h2>\n\n<h5><%- Localizer.localize('grit_help', additionalData.ActivitiesUtil.GritColorRanges.max_1, additionalData.ActivitiesUtil.GritColorRanges.max_3) %></h5>\n\n<table>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.ActivitiesUtil.GritColorRanges.color_1 %>\"></span></td>\n        <td><%- Localizer.localize('grit_easy', additionalData.ActivitiesUtil.GritColorRanges.max_1 + '-' + additionalData.ActivitiesUtil.GritColorRanges.max_2) %></td>\n    </tr>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.ActivitiesUtil.GritColorRanges.color_2 %>\"></span></td>\n        <td><%- Localizer.localize('grit_moderate', additionalData.ActivitiesUtil.GritColorRanges.max_2 + '-' + additionalData.ActivitiesUtil.GritColorRanges.max_3) %></td>\n    </tr>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.ActivitiesUtil.GritColorRanges.color_3 %>\"></span></td>\n        <td><%- Localizer.localize('grit_hard', additionalData.ActivitiesUtil.GritColorRanges.max_3 + '+') %></td>\n    </tr>        \n</table>\n\n<p></p>\n<p><%- Localizer.localize('grit_help_2') %></p>\n\n<h4><%- Localizer.localize('label_grit_in_connect') %></h4>\n<p><%- Localizer.localize('grit_in_connect') %></p>"
    },
    1814: function(t, e) {
        t.exports = "<h2><%- Localizer.localize('label_flow') %></h2>\n\n<h5><%- Localizer.localize('flow_help') %></h5>\n\n<table>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.ActivitiesUtil.FlowColorRanges.color_1 %>\"></span></td>\n        <td><%- Localizer.localize('flow_smooth', additionalData.ActivitiesUtil.FlowColorRanges.max_1 + '-' + additionalData.ActivitiesUtil.FlowColorRanges.max_2) %></td>\n    </tr>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.ActivitiesUtil.FlowColorRanges.color_2 %>\"></span></td>\n        <td><%- Localizer.localize('flow_moderate', additionalData.ActivitiesUtil.FlowColorRanges.max_2 + '-' + additionalData.ActivitiesUtil.FlowColorRanges.max_3) %></td>\n    </tr>\n    <tr>\n        <td><span class=\"chart-color-circle\" style=\"background-color: <%- additionalData.ActivitiesUtil.FlowColorRanges.color_3 %>\"></span></td>\n        <td><%- Localizer.localize('flow_rough', additionalData.ActivitiesUtil.FlowColorRanges.max_3 + '+') %></td>\n    </tr>        \n</table>\n\n<p></p>\n<p><%- Localizer.localize('flow_help_2') %></p>\n\n<h4><%- Localizer.localize('label_flow_in_connect') %></h4>\n<p><%- Localizer.localize('flow_in_connect') %></p>"
    },
    1822: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(13)
          , c = i(1823)
          , h = i.n(c);
        e.a = o.a.View.extend({
            template: n.a.template(h.a),
            initialize: function(t) {},
            render: function() {
                var t = this.model.get("videoUrl");
                if (t) {
                    var e = t.indexOf("?v=")
                      , i = t.substring(e + 3)
                      , a = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        videoId: i
                    });
                    this.$el.html(a),
                    this.$el.show()
                }
            }
        })
    },
    1823: function(t, e) {
        t.exports = '<div class="video-outer">\n    <iframe width="560" height="315" src="//www.youtube-nocookie.com/embed/<%- videoId %>?rel=0&amp;autohide=1&amp;showinfo=0&amp;modestbranding=1&amp;theme=light" frameborder="0" allowfullscreen=""></iframe>\n</div>'
    },
    1824: function(t, e, i) {
        "use strict";
        (function(t, a) {
            var n = i(9)
              , r = i.n(n)
              , o = i(0)
              , s = i.n(o)
              , l = i(8)
              , c = i(13)
              , h = i(1471)
              , p = i(31)
              , d = i(44)
              , u = (i(21),
            i(58))
              , m = i(1825)
              , f = i(1826)
              , g = i.n(f)
              , y = s.a.View.extend({
                template: r.a.template(g.a),
                initialize: function(e) {
                    this.timer = null,
                    this.player = e.player,
                    this.activityDetails = e.activityDetails,
                    this.videoClips = e.videoClips.toJSON(),
                    this.youtubePlayer = new m.a,
                    this.youtubePlayer.bind(m.a.Events.PLAYER_LOADED, function() {
                        this.log("YouTubePlayer.Events.PLAYER_LOADED fired!"),
                        t("#activityYouTubePlaceholder").show(),
                        this.$el.show()
                    }, this),
                    this.youtubePlayer.bind(m.a.Events.STATE_CHANGED, this.stateChanged, this),
                    this.youtubePlayer.bind(m.a.Events.ERROR, this.onError, this),
                    r.a.bind(this.checkClipInfo, this)
                },
                cleanUp: function() {
                    this.log("Clean up"),
                    this.stopTimer();
                    try {
                        this.youtubePlayer.stopVideo()
                    } catch (t) {
                        this.log("Exception thrown stopping video. Err: " + t.message)
                    }
                    this.youtubePlayer.destroy(),
                    this.youtubePlayer = null,
                    this.player && (this.player.stopPlaying(),
                    this.player.stopListening())
                },
                startTimer: function() {
                    var t = this;
                    null != this.timer && this.stopTimer(),
                    this.log("startTimer()"),
                    this.timer = setInterval(function() {
                        t.checkClipInfo()
                    }, 500)
                },
                stopTimer: function() {
                    null != this.timer && (this.log("stopTimer()"),
                    clearInterval(this.timer),
                    this.timer = null)
                },
                checkClipInfo: function() {
                    var t = this.youtubePlayer.getCurrentTime()
                      , e = 1e3 * t;
                    this.log("seconds: " + t + ", millisecondsIntoVideo: " + e + " into video.");
                    for (var i = null, a = 0; a < this.videoClips.length; a++)
                        if (e >= this.videoClips[a].clipStartOffset && e <= this.videoClips[a].clipEndOffset) {
                            i = this.videoClips[a];
                            break
                        }
                    if (null != i) {
                        this.log("clip: " + ++a + ", startOffset: " + i.clipStartOffset + ", endOffset: " + i.clipEndOffset);
                        var n = u.a.parseISOUTC(i.startTimeGMT).getTime()
                          , r = u.a.parseISOUTC(i.endTimeGMT).getTime()
                          , o = (e - i.clipStartOffset) / (i.clipEndOffset - i.clipStartOffset)
                          , s = n + o * (r - n);
                        this.log("startDateMilliseconds: " + n + ", endDateMilliseconds: " + r + ", percentDone: " + o + ", activityTimeMilliseconds: " + s);
                        for (var l = "sumDistance" == this.player.get("xAxisType"), h = this.activityDetails.getData("directTimestamp", l ? "sumDistance" : "sumDuration"), p = null, d = 0; d < h.length; d++)
                            if (h[d][1] >= s) {
                                p = h[d][0];
                                break
                            }
                        p && (l && (p = c.a.convertDistance(p, "running")),
                        this.log((l ? "distance: " : "duration: ") + p),
                        this.player.set("x", p))
                    }
                },
                onError: function(t) {
                    this.log("Error with video: " + t)
                },
                stateChanged: function(t) {
                    if (!this.isPlayerRunning())
                        switch (t) {
                        case m.a.States.PAUSED:
                            this.stopTimer(),
                            this.enablePlayButton(!0);
                            break;
                        case m.a.States.PLAYING:
                            this.startTimer(),
                            this.enablePlayButton(!1);
                            break;
                        case m.a.States.ENDED:
                            this.stopTimer(),
                            this.enablePlayButton(!0);
                            break;
                        case m.a.States.UN_STARTED:
                        }
                },
                enablePlayButton: function(t) {
                    t ? (a(".play").show(),
                    a(":button.chart-header-item").attr("disabled", !1)) : (a(".play").hide(),
                    a(":button.chart-header-item").attr("disabled", !0))
                },
                isPlayerRunning: function() {
                    return this.player.get("mode") === h.a.Modes.Playing
                },
                render: function() {
                    var t = this.model.get("videoUrl");
                    if (t) {
                        this.player.initPlayer();
                        var e = p.a.getLocale();
                        e = d.a.getFullLocale(e);
                        var i = t.indexOf("?v=")
                          , a = t.substring(i + 3);
                        this.youtubePlayer.loadPlayer("ytplayer", a, {
                            controls: 1,
                            modestbranding: 0,
                            rel: 0,
                            showinfo: 1,
                            autohide: 0,
                            hl: e,
                            fs: 1,
                            theme: "light"
                        });
                        var n = this.template({
                            Localizer: l.a
                        });
                        this.$(".video-outer").html(n)
                    }
                },
                log: function(t) {
                    "undefined" !== typeof console && "undefined" !== typeof console.log && console.log((new Date).toString() + " - " + t)
                }
            });
            e.a = y
        }
        ).call(this, i(10), i(10))
    },
    1825: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(10)
              , n = i.n(a)
              , r = i(0)
              , o = {
                PLAYER_LOADED: "PLAYER_LOADED",
                STATE_CHANGED: "STATE_CHANGED",
                ERROR: "ERROR"
            }
              , s = {
                UN_STARTED: -1,
                ENDED: 0,
                PLAYING: 1,
                PAUSED: 2,
                BUFFERING: 3,
                CUED: 5
            }
              , l = i.n(r).a.Model.extend({
                initialize: function() {
                    this.loaded = !1,
                    this.player = null,
                    t.bind(this.onReady, this)
                },
                loadPlayer: function(t, e, i) {
                    "undefined" != typeof YT && "undefined" != typeof YT.Player && (YT.loading = 0);
                    var a = this;
                    window.onYouTubeIframeAPIReady = function() {
                        a._loadPlayer(t, e, i)
                    }
                    ,
                    n.a.getScript("//www.youtube.com/iframe_api")
                },
                _loadPlayer: function(t, e, i) {
                    var a = this;
                    setTimeout(function() {
                        0 == a.loaded && a.onReady()
                    }, 2e3),
                    this.player = new YT.Player(t,{
                        videoId: e,
                        playerVars: i,
                        events: {
                            onReady: function(t) {
                                a.onReady()
                            },
                            onStateChange: function(t) {
                                a.trigger(o.STATE_CHANGED, t.data)
                            },
                            onError: function(t) {
                                a.trigger(o.ERROR, t.data)
                            }
                        }
                    })
                },
                onReady: function() {
                    this.loaded = !0,
                    this.trigger(o.PLAYER_LOADED)
                },
                destroy: function() {
                    this.player && (this.player.destroy(),
                    this.player = null),
                    delete window.onYouTubeIframeAPIReady
                },
                isVideoPlaying: function() {
                    return this.getPlayerState() === s.PLAYING
                },
                getDuration: function() {
                    return this.player && this.loaded ? this.player.getDuration() : -1
                },
                pauseVideo: function() {
                    this.player && this.loaded && this.player.pauseVideo()
                },
                stopVideo: function() {
                    this.player && this.loaded && this.isVideoPlaying() && this.player.stopVideo()
                },
                playVideo: function() {
                    this.player && this.loaded && this.player.playVideo()
                },
                getCurrentTime: function() {
                    return this.player && this.loaded ? this.player.getCurrentTime() : -1
                },
                seekTo: function(t, e) {
                    this.player && this.loaded && this.player.seekTo(t, e)
                },
                getPlayerState: function() {
                    return this.player && this.loaded ? this.player.getPlayerState() : s.UN_STARTED
                }
            });
            l.Events = o,
            l.States = s,
            l.ErrorCodes = {
                INVALID_PARAMETER: 2,
                INVALID_CONTENT_HTML5: 5,
                VIDEO_NOT_FOUND: 100,
                EMBEDDED_PLAYER_NOT_ALLOWED: 101,
                OTHER: 150
            },
            e.a = l
        }
        ).call(this, i(9))
    },
    1826: function(t, e) {
        t.exports = '<div class="video-outer">\n    <div width="560" height="315" id="ytplayer"></div>\n</div>'
    },
    1838: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(64)
          , o = n.a.Model.extend({
            urlRoot: r.default.url("/proxy/course-service/course/metadata"),
            idAttribute: "courseId"
        });
        e.a = o
    },
    1841: function(t, e) {
        t.exports = '<% if (useSelect) { %>\n<select \n    name="activityType" \n    id="activityType" \n    class="<%- className %>"\n    aria-label="<%- Localizer.localize(\'select.one\') %>"\n>\n    <% for (var i = 0; i < items.length; i++) { %>\n    <% var item = items[i]; %>\n    <% if(options.showTypeUncategorized === false && item.value === \'uncategorized\') { continue; } %>\n\n    <% if(item.value !== this.value) { %>\n    <option value="<%- item.value %>"><%- item.name || Localizer.localize(item.nameKey) %></option>\n    <% } else { %>\n    <option value="<%- item.value %>" selected><%- item.name || Localizer.localize(item.nameKey) %></option>\n    <% } %>\n\n    <% if (typeof item.children !== \'undefined\') { %>\n        <optgroup label="">\n            <% for (var j = 0; j < item.children.length; j++) { %>\n                <% var childItem = item.children[j]; %>\n\n                <% if(childItem.value !== this.value) { %>\n                <option value="<%- childItem.value %>"><%- childItem.name || Localizer.localize(childItem.nameKey) %></option>\n                <% } else { %>\n                <option value="<%- childItem.value %>" selected><%- childItem.name || Localizer.localize(childItem.nameKey) %></option>\n                <% } %>\n            <% } %>\n        </optgroup>\n        <% if ((i+1) < items.length) { %>\n            <optgroup role="separator" label="----------------------------------"></optgroup>\n        <% } %>\n    <% } %>\n\n    <% } %>\n</select>\n<% } else { %>\n<span class="dropdown">\n    <span class="dropdown-toggle" data-toggle="dropdown" data-value="<%- selectedItem.value %>">\n        <span class="type"><%- selectedItem.name || Localizer.localize(selectedItem.nameKey) %></span>\n        <i class="icon-pointer-down"></i>\n    </span>\n    <ul class="dropdown-menu pull-left" role="menu" aria-label="<%- Localizer.localize(\'select.one\') %>">\n        <% for (var i = 0; i < items.length; i++) { %>\n            <% var item = items[i]; %>\n            <% if(options.showTypeUncategorized === false && item.value === \'uncategorized\') { continue; } %>\n            <li role="none" data-value="<%- item.value %>">\n                <a href="#" role="menuitem"><%- item.name || Localizer.localize(item.nameKey) %></a>\n            </li>\n            <% if (typeof item.children !== \'undefined\') { %>\n                <% for (var j = 0; j < item.children.length; j++) { %>\n                    <% var childItem = item.children[j]; %>\n                    <li role="none" data-value="<%- childItem.value %>">\n                        <a href="#" class="dropdown-tier" role="menuitem"><%- childItem.name || Localizer.localize(childItem.nameKey) %></a>\n                    </li>\n                <% } %>\n            <% } %>\n            <% if ((i+1) < items.length) { %>\n                <li role="separator" class="divider"></li>\n            <% } %>\n        <% } %>\n    </ul>\n</span>\n<% } %>\n'
    },
    1844: function(t, e, i) {
        "use strict";
        var a = i(56)
          , n = i(57)
          , r = i(63)
          , o = i(61)
          , s = i(62)
          , l = i(11)
          , c = i.n(l)
          , h = i(79)
          , p = i(83)
          , d = function(t) {
            function e(t) {
                var i;
                return Object(a.a)(this, e),
                (i = Object(r.a)(this, Object(o.a)(e).call(this, t))).closeMe = function() {
                    var t = i.props.onClose;
                    i.setState({
                        show: !1
                    }),
                    t && t()
                }
                ,
                i.state = {
                    show: !1
                },
                i
            }
            return Object(s.a)(e, t),
            Object(n.a)(e, [{
                key: "componentDidMount",
                value: function() {
                    var t = this
                      , e = this.props.renderTimeoutVal;
                    setTimeout(function() {
                        t.setState({
                            show: !0
                        })
                    }, e)
                }
            }, {
                key: "render",
                value: function() {
                    var t = this.props
                      , e = t.messageKey
                      , i = t.autoClose
                      , a = t.nameSpace;
                    return c.a.createElement(h.Notification, {
                        open: this.state.show,
                        onClose: this.closeMe,
                        autoClose: i
                    }, c.a.createElement(p.a, {
                        ns: a,
                        tag: "div",
                        content: e
                    }))
                }
            }]),
            e
        }(c.a.Component);
        d.defaultProps = {
            onClose: function() {},
            autoClose: !0,
            renderTimeoutVal: 1e3,
            nameSpace: "activity"
        },
        e.a = d
    },
    1845: function(t, e, i) {
        "use strict";
        i.d(e, "a", function() {
            return h
        });
        var a = i(3)
          , n = i(0)
          , r = i.n(n)
          , o = i(58)
          , s = i(1328)
          , l = i(40)
          , c = {
            data: null,
            compareData: null,
            type: "",
            getValueByPropertyName: function(t, e, i) {
                var a = e ? t instanceof r.a.Model ? t.get(e) : t[e] : t;
                return i && "function" === typeof i && (a = i(a)),
                a
            },
            conversion: function() {},
            getColor: function(t) {
                return t
            },
            getHighlightColor: function(t) {
                return t
            }
        }
          , h = {
            videoClips: "videoClips",
            typedSplits: "typedSplits"
        }
          , p = {};
        p.types = h,
        p.videoClips = Object(a.a)({}, c, {
            type: h.videoClips,
            conversion: function(t) {
                return t ? o.a.parseISOUTC(t).getTime() : t
            },
            getReverseData2VersionOfData: function(t) {
                t = t;
                if (this.compareData)
                    for (var e = 0; e < this.compareData.length; e += 1)
                        if (this.compareData[e][1] === t || this.compareData[e][1] > t) {
                            t = this.compareData[e][0];
                            break
                        }
                return t
            },
            getOverlayRanges: function() {
                var t = this;
                return this.data.map(function(e) {
                    return {
                        start: t.getReverseData2VersionOfData(t.getValueByPropertyName(e, "startTimeGMT", t.conversion)),
                        end: t.getReverseData2VersionOfData(t.getValueByPropertyName(e, "endTimeGMT", t.conversion))
                    }
                })
            },
            getColor: function(t) {
                var e = Object(s.a)(t);
                return "rgb(".concat(e[0], ", ").concat(e[1], ", ").concat(e[2], ", .5)")
            },
            getHighlightColor: function(t) {
                var e = Object(s.a)(t);
                return "rgb(".concat(e[0], ", ").concat(e[1], ", ").concat(e[2], ", .85)")
            }
        }),
        p.typedSplits = Object(a.a)({}, c, {
            type: h.typedSplits,
            conversion: function(t) {
                return t ? o.a.parseISOUTC(t).getTime() : t
            },
            getReverseData2VersionOfData: function(t) {
                t = t;
                if (this.compareData)
                    for (var e = 0; e < this.compareData.length; e += 1)
                        if (this.compareData[e][1] === t || this.compareData[e][1] > t) {
                            t = this.compareData[e][0];
                            break
                        }
                return t
            },
            getOverlayRanges: function() {
                var t = this;
                return this.data.map(function(e) {
                    return {
                        start: t.getReverseData2VersionOfData(t.getValueByPropertyName(e, "startTimeGMT", t.conversion)),
                        end: t.getReverseData2VersionOfData(t.getValueByPropertyName(e, "endTimeGMT", t.conversion))
                    }
                })
            },
            getColor: function(t) {
                return l.red_light_3
            },
            getHighlightColor: function(t) {
                return l.color_201
            }
        }),
        e.b = p
    },
    1846: function(t, e, i) {
        "use strict";
        var a = i(1267)
          , n = i(1243)
          , r = i(1257);
        e.a = a.a.extend({
            initialize: function(t) {
                this.fillColor = n.a.mapSeriesType(t.primarySeries[0]),
                this.seriesType = t.primarySeries.defaultChartType,
                this.scatterLineRadius = t.primarySeries.scatterLineRadius,
                a.a.prototype.initialize.apply(this, arguments)
            },
            primarySeriesType: r.a.Temperature,
            fillColor: n.a.mapSeriesType(r.a.Temperature),
            chartTitle: function() {
                return this.getPrimarySeriesLabel()
            },
            yLabel: function() {
                return this.getPrimarySeriesLabel()
            }
        })
    },
    1853: function(t, e, i) {
        "use strict";
        var a = i(1642)
          , n = i(1736)
          , r = i(1405)
          , o = i(1429)
          , s = i(1410);
        var l = function(t, e) {
            return t && Object(o.a)(e, Object(s.a)(e), t)
        }
          , c = i(1855);
        var h = function(t, e) {
            return t && Object(o.a)(e, Object(c.a)(e), t)
        }
          , p = i(2032);
        var d = function(t, e) {
            var i = -1
              , a = t.length;
            for (e || (e = Array(a)); ++i < a; )
                e[i] = t[i];
            return e
        }
          , u = i(1647);
        var m = function(t, e) {
            return Object(o.a)(t, Object(u.a)(t), e)
        }
          , f = i(1746);
        var g = function(t, e) {
            return Object(o.a)(t, Object(f.a)(t), e)
        }
          , y = i(1741)
          , v = i(1747)
          , b = i(1519)
          , A = Object.prototype.hasOwnProperty;
        var _ = function(t) {
            var e = t.length
              , i = new t.constructor(e);
            return e && "string" == typeof t[0] && A.call(t, "index") && (i.index = t.index,
            i.input = t.input),
            i
        }
          , C = i(1740);
        var w = function(t) {
            var e = new t.constructor(t.byteLength);
            return new C.a(e).set(new C.a(t)),
            e
        };
        var x = function(t, e) {
            var i = e ? w(t.buffer) : t.buffer;
            return new t.constructor(i,t.byteOffset,t.byteLength)
        }
          , S = /\w*$/;
        var T = function(t) {
            var e = new t.constructor(t.source,S.exec(t));
            return e.lastIndex = t.lastIndex,
            e
        }
          , E = i(222)
          , k = E.a ? E.a.prototype : void 0
          , L = k ? k.valueOf : void 0;
        var P = function(t) {
            return L ? Object(L.call(t)) : {}
        };
        var I = function(t, e) {
            var i = e ? w(t.buffer) : t.buffer;
            return new t.constructor(i,t.byteOffset,t.length)
        }
          , z = "[object Boolean]"
          , B = "[object Date]"
          , D = "[object Map]"
          , M = "[object Number]"
          , O = "[object RegExp]"
          , R = "[object Set]"
          , N = "[object String]"
          , V = "[object Symbol]"
          , j = "[object ArrayBuffer]"
          , F = "[object DataView]"
          , G = "[object Float32Array]"
          , U = "[object Float64Array]"
          , H = "[object Int8Array]"
          , K = "[object Int16Array]"
          , W = "[object Int32Array]"
          , Q = "[object Uint8Array]"
          , Y = "[object Uint8ClampedArray]"
          , Z = "[object Uint16Array]"
          , $ = "[object Uint32Array]";
        var q = function(t, e, i) {
            var a = t.constructor;
            switch (e) {
            case j:
                return w(t);
            case z:
            case B:
                return new a(+t);
            case F:
                return x(t, i);
            case G:
            case U:
            case H:
            case K:
            case W:
            case Q:
            case Y:
            case Z:
            case $:
                return I(t, i);
            case D:
                return new a;
            case M:
            case N:
                return new a(t);
            case O:
                return T(t);
            case R:
                return new a;
            case V:
                return P(t)
            }
        }
          , X = i(1318)
          , J = Object.create
          , tt = function() {
            function t() {}
            return function(e) {
                if (!Object(X.a)(e))
                    return {};
                if (J)
                    return J(e);
                t.prototype = e;
                var i = new t;
                return t.prototype = void 0,
                i
            }
        }()
          , et = i(425)
          , it = i(1585);
        var at = function(t) {
            return "function" != typeof t.constructor || Object(it.a)(t) ? {} : tt(Object(et.a)(t))
        }
          , nt = i(1305)
          , rt = i(1582)
          , ot = i(131)
          , st = "[object Map]";
        var lt = function(t) {
            return Object(ot.a)(t) && Object(b.a)(t) == st
        }
          , ct = i(1584)
          , ht = i(1583)
          , pt = ht.a && ht.a.isMap
          , dt = pt ? Object(ct.a)(pt) : lt
          , ut = "[object Set]";
        var mt = function(t) {
            return Object(ot.a)(t) && Object(b.a)(t) == ut
        }
          , ft = ht.a && ht.a.isSet
          , gt = ft ? Object(ct.a)(ft) : mt
          , yt = 1
          , vt = 2
          , bt = 4
          , At = "[object Arguments]"
          , _t = "[object Function]"
          , Ct = "[object GeneratorFunction]"
          , wt = "[object Object]"
          , xt = {};
        xt[At] = xt["[object Array]"] = xt["[object ArrayBuffer]"] = xt["[object DataView]"] = xt["[object Boolean]"] = xt["[object Date]"] = xt["[object Float32Array]"] = xt["[object Float64Array]"] = xt["[object Int8Array]"] = xt["[object Int16Array]"] = xt["[object Int32Array]"] = xt["[object Map]"] = xt["[object Number]"] = xt[wt] = xt["[object RegExp]"] = xt["[object Set]"] = xt["[object String]"] = xt["[object Symbol]"] = xt["[object Uint8Array]"] = xt["[object Uint8ClampedArray]"] = xt["[object Uint16Array]"] = xt["[object Uint32Array]"] = !0,
        xt["[object Error]"] = xt[_t] = xt["[object WeakMap]"] = !1;
        e.a = function t(e, i, o, c, u, f) {
            var A, C = i & yt, w = i & vt, x = i & bt;
            if (o && (A = u ? o(e, c, u, f) : o(e)),
            void 0 !== A)
                return A;
            if (!Object(X.a)(e))
                return e;
            var S = Object(nt.a)(e);
            if (S) {
                if (A = _(e),
                !C)
                    return d(e, A)
            } else {
                var T = Object(b.a)(e)
                  , E = T == _t || T == Ct;
                if (Object(rt.a)(e))
                    return Object(p.a)(e, C);
                if (T == wt || T == At || E && !u) {
                    if (A = w || E ? {} : at(e),
                    !C)
                        return w ? g(e, h(A, e)) : m(e, l(A, e))
                } else {
                    if (!xt[T])
                        return u ? e : {};
                    A = q(e, T, C)
                }
            }
            f || (f = new a.a);
            var k = f.get(e);
            if (k)
                return k;
            if (f.set(e, A),
            gt(e))
                return e.forEach(function(a) {
                    A.add(t(a, i, o, a, e, f))
                }),
                A;
            if (dt(e))
                return e.forEach(function(a, n) {
                    A.set(n, t(a, i, o, n, e, f))
                }),
                A;
            var L = x ? w ? v.a : y.a : w ? keysIn : s.a
              , P = S ? void 0 : L(e);
            return Object(n.a)(P || e, function(a, n) {
                P && (a = e[n = a]),
                Object(r.a)(A, n, t(a, i, o, n, e, f))
            }),
            A
        }
    },
    1854: function(t, e, i) {
        "use strict";
        var a = function(t) {
            return function(e, i, a) {
                for (var n = -1, r = Object(e), o = a(e), s = o.length; s--; ) {
                    var l = o[t ? s : ++n];
                    if (!1 === i(r[l], l, r))
                        break
                }
                return e
            }
        }()
          , n = i(1410);
        var r = function(t, e) {
            return t && a(t, e, n.a)
        }
          , o = i(1580);
        var s = function(t, e) {
            return function(i, a) {
                if (null == i)
                    return i;
                if (!Object(o.a)(i))
                    return t(i, a);
                for (var n = i.length, r = e ? n : -1, s = Object(i); (e ? r-- : ++r < n) && !1 !== a(s[r], r, s); )
                    ;
                return i
            }
        }(r);
        e.a = s
    },
    1855: function(t, e, i) {
        "use strict";
        var a = i(1860)
          , n = i(1318)
          , r = i(1585);
        var o = function(t) {
            var e = [];
            if (null != t)
                for (var i in Object(t))
                    e.push(i);
            return e
        }
          , s = Object.prototype.hasOwnProperty;
        var l = function(t) {
            if (!Object(n.a)(t))
                return o(t);
            var e = Object(r.a)(t)
              , i = [];
            for (var a in t)
                ("constructor" != a || !e && s.call(t, a)) && i.push(a);
            return i
        }
          , c = i(1580);
        e.a = function(t) {
            return Object(c.a)(t) ? Object(a.a)(t, !0) : l(t)
        }
    },
    1857: function(t, e, i) {
        "use strict";
        var a = i(1736)
          , n = i(1854)
          , r = i(1586);
        var o = function(t) {
            return "function" == typeof t ? t : r.a
        }
          , s = i(1305);
        e.a = function(t, e) {
            return (Object(s.a)(t) ? a.a : n.a)(t, o(e))
        }
    },
    1860: function(t, e, i) {
        "use strict";
        var a = function(t, e) {
            for (var i = -1, a = Array(t); ++i < t; )
                a[i] = e(i);
            return a
        }
          , n = i(1646)
          , r = i(1305)
          , o = i(1582)
          , s = i(1404)
          , l = i(1862)
          , c = Object.prototype.hasOwnProperty;
        e.a = function(t, e) {
            var i = Object(r.a)(t)
              , h = !i && Object(n.a)(t)
              , p = !i && !h && Object(o.a)(t)
              , d = !i && !h && !p && Object(l.a)(t)
              , u = i || h || p || d
              , m = u ? a(t.length, String) : []
              , f = m.length;
            for (var g in t)
                !e && !c.call(t, g) || u && ("length" == g || p && ("offset" == g || "parent" == g) || d && ("buffer" == g || "byteLength" == g || "byteOffset" == g) || Object(s.a)(g, f)) || m.push(g);
            return m
        }
    },
    1862: function(t, e, i) {
        "use strict";
        var a = i(398)
          , n = i(1581)
          , r = i(131)
          , o = {};
        o["[object Float32Array]"] = o["[object Float64Array]"] = o["[object Int8Array]"] = o["[object Int16Array]"] = o["[object Int32Array]"] = o["[object Uint8Array]"] = o["[object Uint8ClampedArray]"] = o["[object Uint16Array]"] = o["[object Uint32Array]"] = !0,
        o["[object Arguments]"] = o["[object Array]"] = o["[object ArrayBuffer]"] = o["[object Boolean]"] = o["[object DataView]"] = o["[object Date]"] = o["[object Error]"] = o["[object Function]"] = o["[object Map]"] = o["[object Number]"] = o["[object Object]"] = o["[object RegExp]"] = o["[object Set]"] = o["[object String]"] = o["[object WeakMap]"] = !1;
        var s = function(t) {
            return Object(r.a)(t) && Object(n.a)(t.length) && !!o[Object(a.a)(t)]
        }
          , l = i(1584)
          , c = i(1583)
          , h = c.a && c.a.isTypedArray
          , p = h ? Object(l.a)(h) : s;
        e.a = p
    },
    1893: function(t, e, i) {
        "use strict";
        var a = i(1857)
          , n = i(1235)
          , r = function() {
            return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "").split(" ").filter(Boolean)
        };
        e.a = function(t, e, i) {
            null != t && i !== e && (null != e && e.length > 0 && Object(a.a)(r(e), function(e) {
                n.DomUtil.removeClass(t, e)
            }),
            null != i && i.length > 0 && Object(a.a)(r(i), function(e) {
                n.DomUtil.addClass(t, e)
            }))
        }
    },
    1911: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(13)
              , c = i(31)
              , h = i(1773)
              , p = i(1238)
              , d = i(34)
              , u = i(88)
              , m = i(60)
              , f = i(91)
              , g = i(2114)
              , y = i.n(g)
              , v = {
                WEIGHT_SUCCESS: "WEIGHT_SUCCESS",
                WEIGHT_ERROR: "WEIGHT_ERROR",
                WEIGHT_LOADED: "WEIGHT_LOADED"
            }
              , b = o.a.View.extend(d.a).extend({
                template: n.a.template(y.a),
                events: {
                    "click .btn-form": "onSaveButtonClicked"
                },
                propertyFiles: ["/main/js/properties/units/units", "/main/js/properties/common/common", "/main/js/properties/reportswidget/reportswidget", "/main/js/properties/userprofile/userprofile"],
                initialize: function(t) {
                    this.displaySaveButton = !n.a.isUndefined(t.displaySaveButton) && t.displaySaveButton,
                    this.displayWeightLabel = !!n.a.isUndefined(t.displayWeightLabel) || t.displayWeightLabel,
                    this.maxView = !!n.a.isUndefined(t.maxView) || t.maxView,
                    this.prompt = t.prompt,
                    this.title = t.title || null,
                    this.weightDate = t.weightDate || null,
                    this.parser = new f.a
                },
                render: function() {
                    var t = s.a.localize("weight_unit_statute");
                    this.isMetric() && (t = s.a.localize("weight_unit_metric"));
                    var e = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        weightLabel: t,
                        maxLength: 5,
                        displaySaveButton: this.displaySaveButton,
                        maxView: this.maxView,
                        prompt: this.prompt,
                        title: this.title
                    });
                    this.$el.html(e),
                    this.displayWeightLabel || this.$(".weight-label").hide(),
                    this.setupWeightValidator(),
                    this.trigger(v.WEIGHT_LOADED)
                },
                destroy: function() {
                    this.$(".tooltip-error").remove()
                },
                setupWeightValidator: function() {
                    var t = this
                      , e = new u.a({
                        message: s.a.localize("invalid_weight_message_short"),
                        element: this.$("input#user-weight"),
                        container: this.$el
                    });
                    this.weightValidator = new p.a({
                        element: this.$("input#user-weight"),
                        minValue: m.a.minWeight,
                        maxValue: m.a.maxWeight,
                        required: !0,
                        reporter: e,
                        parser: {
                            parse: function(e) {
                                if ("decimal_comma" === c.a.getNumberFormat() && e.includes("."))
                                    throw "invalid number";
                                if ("decimal_period" === c.a.getNumberFormat() && e.includes(","))
                                    throw "invalid number";
                                return t.parser.parse(e)
                            }
                        }
                    })
                },
                isMetric: function() {
                    return c.a.getMeasurementSystem() === l.a.MeasurementSystems.METRIC
                },
                onSaveButtonClicked: function(e) {
                    if (e && e.preventDefault(),
                    this.weightValidator.validateInputNow())
                        return !1;
                    var i = (new f.a).parse(this.$("#user-weight").val())
                      , a = l.a.convertWeightToKg(i);
                    if (t.trim(a).length > 0) {
                        var r = n.a.isNull(this.weightDate) ? t.datepicker.formatDate("yy-mm-dd", new Date) : this.weightDate
                          , o = new h.a({
                            value: a,
                            unitKey: "kg",
                            date: r
                        })
                          , s = this;
                        return o.save(o.attributes, {
                            success: function(t, e, i) {
                                s.$(".alert-error").hide(),
                                s.trigger(v.WEIGHT_SUCCESS, t.get("value"))
                            },
                            error: function(t, e, i) {
                                s.$(".alert-error").show(),
                                s.trigger(v.WEIGHT_ERROR, {
                                    model: t,
                                    response: e,
                                    options: i
                                })
                            }
                        }),
                        !0
                    }
                    return !1
                }
            });
            b.Events = v,
            e.a = b
        }
        ).call(this, i(10))
    },
    1940: function(t, e, i) {
        "use strict";
        var a = i(56)
          , n = i(57)
          , r = i(63)
          , o = i(61)
          , s = i(62)
          , l = i(11)
          , c = i.n(l)
          , h = i(79)
          , p = i(83)
          , d = i(1629)
          , u = i.n(d)
          , m = function(t) {
            function e() {
                return Object(a.a)(this, e),
                Object(r.a)(this, Object(o.a)(e).apply(this, arguments))
            }
            return Object(s.a)(e, t),
            Object(n.a)(e, [{
                key: "getExecutionScoreContent",
                value: function() {
                    return c.a.createElement(c.a.Fragment, null, c.a.createElement(h.DialogTitle, null, c.a.createElement(p.a, {
                        ns: "main_container",
                        content: "help.title"
                    })), c.a.createElement(h.DialogContent, null, c.a.createElement("div", null, c.a.createElement("span", {
                        className: u.a.h3
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "title_execution_score"
                    })), c.a.createElement("p", {
                        className: u.a.headerText
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "hitting_training_targets_description"
                    })), c.a.createElement("div", {
                        className: u.a.executionScoreExample
                    }, c.a.createElement("div", {
                        className: u.a.gridAlignCenter
                    }, c.a.createElement(h.DataBlock, {
                        size: "xsmall"
                    }, c.a.createElement(h.DataField, null, "30m"), c.a.createElement(h.DataLabel, null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "time_in_target_zone"
                    }))), c.a.createElement("hr", {
                        className: u.a.fractionEqual
                    }), c.a.createElement(h.DataBlock, {
                        size: "xsmall"
                    }, c.a.createElement(h.DataField, null, "60m"), c.a.createElement(h.DataLabel, null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "total_measured_time"
                    })))), c.a.createElement("div", {
                        className: u.a.result
                    }, c.a.createElement("div", {
                        className: u.a.middle
                    }, c.a.createElement(h.DataBlock, {
                        size: "xsmall"
                    }, c.a.createElement(h.DataField, null, c.a.createElement("span", {
                        className: [u.a.dot, u.a.yellow, u.a.scoreDot].join(" ")
                    }), c.a.createElement("span", {
                        className: u.a.scoreSmall
                    }, "50%")), c.a.createElement(h.DataLabel, null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "title_execution_score"
                    })))))), c.a.createElement("span", {
                        className: u.a.h4
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "using_your_score_in_workouts"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "using_your_score_in_workouts_description"
                    })), c.a.createElement("div", {
                        className: "marBottomSM"
                    }, c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.green].join(" ")
                    }), c.a.createElement("strong", null, c.a.createElement(p.a, {
                        ns: "common",
                        content: "good"
                    })), c.a.createElement("div", {
                        className: "marLeftSM"
                    }, "100% - 67%")), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.yellow].join(" ")
                    }), c.a.createElement("strong", null, c.a.createElement(p.a, {
                        ns: "common",
                        content: "average"
                    })), c.a.createElement("div", {
                        className: "marLeftSM"
                    }, "66% - 34%")), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.red].join(" ")
                    }), c.a.createElement("strong", null, c.a.createElement(p.a, {
                        ns: "weightwidget",
                        content: "low"
                    })), c.a.createElement("div", {
                        className: "marLeftSM"
                    }, "33% - 0%"))), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "improve_future_training_score"
                    })), c.a.createElement("h5", {
                        className: u.a.h5
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "staying_on_target"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "staying_on_target_description"
                    })))))
                }
            }, {
                key: "getSelfEvaluationContent",
                value: function() {
                    return c.a.createElement(c.a.Fragment, null, c.a.createElement(h.DialogTitle, null, c.a.createElement(p.a, {
                        ns: "main_container",
                        content: "help.title"
                    })), c.a.createElement(h.DialogContent, null, c.a.createElement("span", {
                        className: u.a.h3
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "self_evaluation"
                    })), c.a.createElement("span", {
                        className: u.a.h5
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "self_evaluation_description"
                    })), c.a.createElement("div", {
                        className: "marBottomSM"
                    }), c.a.createElement(h.Accordion, null, c.a.createElement(h.AccordionItem, {
                        index: "feel"
                    }, c.a.createElement(h.AccordionItemSummary, null, c.a.createElement("span", {
                        className: u.a.selfEvaluationAccordionTitle
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "how_did_you_feel"
                    }))), c.a.createElement(h.AccordionItemDetails, null, c.a.createElement("span", {
                        className: u.a.h3
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "rating_your_feelings"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "rating_your_feelings_description"
                    })), c.a.createElement("span", {
                        className: u.a.h5
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "perspective_on_performance"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "perspective_on_performance_description"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "perspective_on_performance_scale_description"
                    })))), c.a.createElement(h.AccordionItem, {
                        index: "effort"
                    }, c.a.createElement(h.AccordionItemSummary, null, c.a.createElement("span", {
                        className: u.a.selfEvaluationAccordionTitle
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "perceived_effort"
                    }))), c.a.createElement(h.AccordionItemDetails, null, c.a.createElement("span", {
                        className: u.a.h3
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "how_hard_did_you_work"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "how_hard_did_you_work_description"
                    })), c.a.createElement("span", {
                        className: u.a.h4
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "tracking_effort"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "tracking_effort_description"
                    })), c.a.createElement("p", null, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "perceived_effort_breakdown"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.blue].join(" ")
                    }), "1 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "very_light"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.lightblue].join(" ")
                    }), "2 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "light"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.green].join(" ")
                    }), "3 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "moderate"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.green].join(" ")
                    }), "4 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "somewhat_hard"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.lime].join(" ")
                    }), "5-6 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "hard"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.yellow].join(" ")
                    }), "7-8 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "very_hard"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.orange].join(" ")
                    }), "9 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "extremely_hard"
                    })), c.a.createElement("div", {
                        className: "marBottomXS"
                    }, c.a.createElement("i", {
                        className: [u.a.dot, u.a.red].join(" ")
                    }), "10 -\xa0", c.a.createElement(p.a, {
                        ns: "activity",
                        content: "maximum"
                    })))))))
                }
            }, {
                key: "render",
                value: function() {
                    var t = this.props
                      , e = t.openModal
                      , i = t.onCloseModal
                      , a = t.content;
                    return c.a.createElement("div", {
                        className: u.a.selfEvaluationTitleContainer
                    }, c.a.createElement(h.Dialog, {
                        open: e,
                        onClose: i
                    }, "execution-score" === a ? this.getExecutionScoreContent() : this.getSelfEvaluationContent()))
                }
            }]),
            e
        }(c.a.PureComponent);
        e.a = m
    },
    1941: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(8)
          , o = i(13)
          , s = i(1267)
          , l = i(1243)
          , c = i(1257)
          , h = s.a.extend({
            fillColor: l.a.mapSeriesType(c.a.Elevation),
            primarySeriesType: c.a.Elevation,
            formattingFunction: n.a.bind(o.a.formatElevation, o.a),
            chartTitle: function() {
                var t = this.activitySummary.get("activityTypeDTO").typeKey
                  , e = o.a.getSpeedTypeFromActivityType(t);
                return r.a.localize(e === o.a.SpeedTypes.Flying ? o.a.getElevationLabelKey(t) : "label_elevation")
            }
        });
        e.a = h
    },
    1942: function(t, e, i) {
        "use strict";
        var a = i(13)
          , n = i(1267);
        e.a = n.a.extend({
            measurementSystem: function() {
                var t = this.activitySummary.get("unitOfPoolLength").unitKey;
                return a.a.poolUnitKeyToMeasurementSystem(t)
            },
            step: !0,
            onPlayerTimeChanged: function() {
                this.currentXAxisLabelText && (this.currentXAxisLabelText.destroy(),
                this.currentXAxisLabelText = null),
                this.currentXAxisLabelBox && (this.currentXAxisLabelBox.destroy(),
                this.currentXAxisLabelBox = null),
                this.highChartObj.xAxis[0].removePlotLine(this.plotLineId);
                var t = this.playerModel.get("x");
                this.highChartObj.xAxis[0].addPlotLine({
                    color: "#222222",
                    value: t,
                    width: 1,
                    id: this.plotLineId,
                    zIndex: 3
                });
                for (var e = this.highChartObj.series[0].points, i = e.length, a = 0; a < i && !(e[a].x >= t); a++)
                    ;
                var n = e[Math.min(e.length - 2, a - 1)];
                n && (this.highChartObj.tooltip.refresh(n),
                this.currentPlotLinePoint = n,
                this.renderXAxisPlotLineLabel())
            }
        })
    },
    1943: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(1273)
          , o = i(2288)
          , s = i.n(o);
        e.a = r.a.extend({
            template: n.a.template(s.a)
        })
    },
    1944: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(13)
              , c = i(53)
              , h = i(32)
              , p = i(1945)
              , d = i(2290)
              , u = i.n(d);
            e.a = o.a.View.extend({
                template: n.a.template(u.a),
                events: {
                    "click .toggle-add-gear": "onAddGearBtnClicked"
                },
                initialize: function(t) {
                    this.selectedGear = t.selectedGear,
                    this.readOnly = t.readOnly,
                    this.isEditPage = t.isEditPage,
                    this.listenTo(this.selectedGear, "add", this.render),
                    this.listenTo(this.selectedGear, "remove", this.render)
                },
                render: function() {
                    var t = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        gearCount: this.selectedGear.length,
                        readOnly: this.readOnly,
                        isEditPage: this.isEditPage
                    });
                    this.$el.html(t)
                },
                onAddGearBtnClicked: function(e) {
                    if (e.preventDefault(),
                    this.pushClickAddGearAnalyticsEvents(),
                    this.readOnly) {
                        var i = this.$("a").attr("href")
                          , a = t(i).offset().top - 50;
                        t("html, body").stop().animate({
                            scrollTop: a
                        }, 500)
                    } else {
                        var n = new p.a({
                            model: this.model,
                            selectedGear: this.selectedGear
                        })
                          , r = new h.a({
                            modalTitle: s.a.localize("label_edit_gear"),
                            view: n,
                            showFooter: !1
                        });
                        n.on("ON_DEPENDENCIES_LOADED", function() {
                            n.render(),
                            r.render()
                        }, this),
                        n.load()
                    }
                },
                pushClickAddGearAnalyticsEvents: function() {
                    c.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Click Add Gear From Header"
                    })
                }
            })
        }
        ).call(this, i(10))
    },
    1945: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(13)
              , c = i(1453)
              , h = i(1341)
              , p = i(58)
              , d = i(21)
              , u = i(34)
              , m = i(64)
              , f = i(2289)
              , g = i.n(f);
            i(1535);
            e.a = o.a.View.extend(u.a).extend({
                template: n.a.template(g.a),
                events: {
                    "click .add-gear-link": "onAddOrManageGearClicked",
                    "click .manage-gear-link": "onAddOrManageGearClicked",
                    "click li": "onGearToggled"
                },
                initialize: function(t) {
                    this.selectedGear = t.selectedGear,
                    this.availableGear = new c.a([],{
                        criteria: {
                            availableGearDate: d.a.formatISODate(p.a.parseISO(this.model.get("startTimeGMT"))),
                            userProfilePk: this.model.getOwnerId()
                        }
                    })
                },
                provideDependencies: function(t, e) {
                    t.addModel({
                        model: this.availableGear,
                        required: !0
                    })
                },
                render: function() {
                    var t = this.availableGear.toJSON();
                    n.a.each(t, function(t) {
                        var e = this.availableGear.get(t.uuid);
                        t.fullDisplayName = h.a.getFullGearDisplayNameByModel(e)
                    }, this),
                    t = n.a.sortBy(t, function(t) {
                        return t.fullDisplayName
                    });
                    var e = n.a.filter(t, function(t) {
                        return "shoes" === t.gearTypeName.toLowerCase()
                    })
                      , i = n.a.filter(t, function(t) {
                        return "bike" === t.gearTypeName.toLowerCase()
                    })
                      , a = n.a.reject(t, function(t) {
                        return "shoes" === t.gearTypeName.toLowerCase() || "bike" === t.gearTypeName.toLowerCase()
                    })
                      , r = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        shoes: e,
                        bikes: i,
                        others: a,
                        gearCount: t.length
                    });
                    this.$el.html(r),
                    this.updateSelections()
                },
                linkGearToActivity: function(e) {
                    t.ajax({
                        type: "POST",
                        cache: !1,
                        beforeSend: function(t) {
                            t.setRequestHeader("X-HTTP-Method-Override", "PUT")
                        },
                        url: "/modern/proxy/gear-service/gear/link/" + e + "/activity/" + this.model.id,
                        success: n.a.bind(this.onLinkUnlinkSuccess, this, e, !0),
                        error: n.a.bind(this.onLinkUnlinkError, this, e, !0)
                    })
                },
                unlinkGearFromActivity: function(e) {
                    t.ajax({
                        type: "POST",
                        cache: !1,
                        beforeSend: function(t) {
                            t.setRequestHeader("X-HTTP-Method-Override", "PUT")
                        },
                        url: "/modern/proxy/gear-service/gear/unlink/" + e + "/activity/" + this.model.id,
                        success: n.a.bind(this.onLinkUnlinkSuccess, this, e, !1),
                        error: n.a.bind(this.onLinkUnlinkError, this, e, !1)
                    })
                },
                onLinkUnlinkSuccess: function(t, e) {
                    if (this.linkPending = !1,
                    this.getGearListItem(t).removeClass("saving"),
                    e) {
                        var i = this.availableGear.get(t);
                        this.selectedGear.add(i)
                    } else
                        this.selectedGear.remove(t);
                    this.updateSelections()
                },
                onLinkUnlinkError: function(t, e) {
                    this.linkPending = !1,
                    this.getGearListItem(t).removeClass("saving")
                },
                onGearToggled: function(e) {
                    if (!this.linkPending) {
                        this.linkPending = !0;
                        var i = t(e.currentTarget)
                          , a = i.attr("id").substr(10);
                        i.hasClass("active") ? this.unlinkGearFromActivity(a) : this.linkGearToActivity(a),
                        i.addClass("saving")
                    }
                },
                onAddOrManageGearClicked: function(t) {
                    m.default.anchorTagHandler(t) && this.trigger("ON_CLOSE")
                },
                updateSelections: function() {
                    this.$("li").removeClass("active"),
                    this.selectedGear.each(function(t) {
                        this.getGearListItem(t.id).addClass("active")
                    }, this)
                },
                getGearListItem: function(t) {
                    return this.$("#edit-gear-" + t)
                }
            })
        }
        ).call(this, i(10))
    },
    2002: function(t, e) {
        t.exports = '    <div class="loading-mask" style="display: none;">\n        <div class="open-express">\n            <h3 class="bottom-m"><%- Localizer.localize(\'agent.connecting\') %></h3>\n            <p><%- Localizer.localize(\'agent.wait\') %></p>\n        </div>\n        <div class="still-waiting text-left alert alert-info bottom-none" style="display: none;">\n            <p><%- Localizer.localize(\'send.to.device.message\') %></p>\n            <p><%= Localizer.localize(\'send.to.device.message2\') %></p>\n        </div>\n    </div>\n\n    <div class="message message-error margin-small-all queue-error" style="display: none">\n        <p><%- Localizer.localize(\'queue.error\') %></p>\n    </div>\n\n    <% if (hasDevices) { %>\n        <div id="send-body">\n            <span class="header-content-placeholder"></span>\n            <span class="additional-content-placeholder"></span>\n\n            <% if (devices && devices.length > 0) { %>\n            <select class="bottom-l select selected-device" aria-label="<%- Localizer.localize(\'select.one\') %>">\n                <% for (var i = 0; i < devices.length; i++) { %>\n                <option value="<%- devices[i].get(\'deviceId\') %>"><%- devices[i].get(\'displayName\') %></option>\n                <% }; %>\n            </select>\n            <p><a href="#" class="btn btn-large device-selected"><%- Localizer.localize(\'queue.send.now\') %></a></p>\n            <% } else { %>\n            <div><%- Localizer.localize(\'no.devices.found\') %></div>\n            <% } %>\n\n\n            <div class="need-help">\n                <a href="#" class="colored need-help-link open-help"><%- Localizer.localize(\'agent.need.help\') %></a>\n                <a href="#" class="colored close-help" style="display: none;"><%- Localizer.localize(\'agent.close.help\') %></a>\n            </div>\n            <div class="send-help text-left" style="display: none;">\n                <h4><%- Localizer.localize(\'agent.help.title\') %></h4>\n                <p><%- Localizer.localize(\'agent.help.reason\') %></p>\n                <ul>\n                    <li><%- Localizer.localize(\'device.not.supported\') %></li>\n                    <li><%- Localizer.localize(\'device.not.setup\') %></li>\n                </ul>\n                <p><%= Localizer.localize(\'agent.download.info\') %></p>\n                <hr>\n                <h4><%- Localizer.localize(\'agent.help.title2\') %></h4>\n                <p><%- Localizer.localize(\'device.send.course.title\') %></p>\n                <ul>\n                    <li><%- Localizer.localize(\'device.send.course.info\') %></li>\n                    <li><%- Localizer.localize(\'device.send.course.info2\') %></li>\n                    <li><%- Localizer.localize(\'device.send.course.info3\') %></li>\n                </ul>\n\n            </div>\n        </div>\n\n    <% } else { %>\n\n    <div id="download-body">\n        <p><%- Localizer.localize(\'agent.additional.info\') %></p>\n        <div class="text-center">\n            <p><a href="/modern/activity-sync" class="btn btn-large"><%- Localizer.localize(\'agent.download\') %></a></p>\n        </div>\n        <div class="text-center get-started-overview top-m">\n            <div class="get-started-item">\n                <div class="get-started-img download"></div>\n                <span><%- Localizer.localize(\'agent.download.install\') %></span>\n            </div>\n            <div class="get-started-item">\n                <div class="get-started-img plug-in"></div>\n                <span><%- Localizer.localize(\'agent.plugin\') %></span>\n            </div>\n            <div class="get-started-item">\n                <div class="get-started-img link-device"></div>\n                <span><%- Localizer.localize(\'agent.link.device\') %></span>\n            </div>\n            <div class="get-started-item">\n                <div class="get-started-img connect"></div>\n                <span><%- Localizer.localize(\'gc\') %></span>\n            </div>\n        </div>\n    </div>\n    <% }  %>\n\n'
    },
    2003: function(t, e) {
        t.exports = "<div class=\"send-help text-left\">\n    <h4><%-Localizer.localize('agent.help.title')%></h4>\n    <p><%-Localizer.localize('agent.help.reason')%></p>\n    <ul>\n        <li><%-Localizer.localize('device.not.supported')%></li>\n        <li><%-Localizer.localize('device.not.setup')%></li>\n    </ul>\n    <p><%=Localizer.localize('agent.download.info')%></p>\n    <h4><%-Localizer.localize('agent.help.title2')%></h4>\n    <p><%-Localizer.localize('segment_send_to_device_what_does')%></p>\n</div>"
    },
    2014: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(2015)
          , l = i.n(s)
          , c = o.a.View.extend({
            template: n.a.template(l.a),
            events: {},
            initialize: function(t) {
                return this.width = t.width,
                this.height = t.height,
                this.poster = t.poster,
                this.sources = t.sources,
                this.subtitles = t.subtitles,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    width: this.width,
                    height: this.height,
                    poster: this.poster,
                    sources: this.sources,
                    subtitles: this.subtitles
                })),
                this
            }
        });
        c.Events = {},
        e.a = c
    },
    2015: function(t, e) {
        t.exports = '<video id="video" width="<%- width %>" crossorigin="anonymous"  controls controlslist="nodownload" preload="metadata" poster="<%- poster %>" >\n    <% sources.forEach(function(source) { %>\n        <source src="<%- source.src %>" type="<%- source.type %>">\n    <% }); %>\n    <% subtitles.forEach(function(track) { %>\n        <track label="<%- track.language %>" kind="subtitles" srclang="<%- track.srcLang %>" src="<%-track.src %>" <% if (track.default) { print(\'default\');} %>>\n    <% }); %>\n</video>'
    },
    2022: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(1727)
          , o = n.a.Collection.extend({
            model: r.a,
            url: function() {
                return "/proxy/segment-service/segment/list/" + this.activityId
            },
            initialize: function(t, e) {
                if ("undefined" === typeof e.activityId)
                    throw "SegmentResultsByActvityId requires an activity ID";
                this.activityId = e.activityId
            },
            comparator: function(t) {
                return t.get("timeEnteredSegment")
            },
            findByUuid: function(t) {
                return this.find(function(e) {
                    return e.get("segmentUuid") == t
                })
            }
        });
        e.a = o
    },
    2027: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            url: function() {
                return "/proxy/segment-service/leaderboard/activity/" + this.activityId + "/segment/" + this.segmentUuid + "/rank/" + this.displayName
            },
            initialize: function(t) {
                if (this.activityId = t.activityId,
                this.segmentUuid = t.segmentUuid,
                this.displayName = t.displayName,
                "undefined" == typeof this.activityId || null == this.activityId)
                    throw "Activity ID required in SegmentUserLeaderboard.";
                if (!this.segmentUuid)
                    throw "segmentUuid required in SegmentUserLeaderboard.";
                if (!this.displayName)
                    throw "displayName required in SegmentUserLeaderboard."
            }
        });
        e.a = n
    },
    2030: function(t, e, i) {
        "use strict";
        var a = i(1235)
          , n = i(20)
          , r = i.n(n)
          , o = i(1309)
          , s = i(1272);
        function l(t, e) {
            if ("function" !== typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : function(t, e) {
                for (var i = Object.getOwnPropertyNames(e), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(e, n);
                    r && r.configurable && void 0 === t[n] && Object.defineProperty(t, n, r)
                }
            }(t, e))
        }
        var c = function(t) {
            function e() {
                return function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e),
                function(t, e) {
                    if (!t)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !e || "object" !== typeof e && "function" !== typeof e ? t : e
                }(this, t.apply(this, arguments))
            }
            return l(e, t),
            e.prototype.createLeafletElement = function(t) {
                return new a.GridLayer(this.getOptions(t))
            }
            ,
            e.prototype.updateLeafletElement = function(t, e) {
                var i = e.opacity
                  , a = e.zIndex;
                i !== t.opacity && this.leafletElement.setOpacity(i),
                a !== t.zIndex && this.leafletElement.setZIndex(a)
            }
            ,
            e.prototype.render = function() {
                return null
            }
            ,
            e
        }(o.a);
        c.propTypes = {
            children: s.a,
            opacity: r.a.number,
            zIndex: r.a.number
        },
        e.a = c
    },
    2031: function(t, e, i) {
        "use strict";
        e.a = function() {
            return !1
        }
    },
    2032: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(121)
              , n = "object" == typeof exports && exports && !exports.nodeType && exports
              , r = n && "object" == typeof t && t && !t.nodeType && t
              , o = r && r.exports === n ? a.a.Buffer : void 0
              , s = o ? o.allocUnsafe : void 0;
            e.a = function(t, e) {
                if (e)
                    return t.slice();
                var i = t.length
                  , a = s ? s(i) : new t.constructor(i);
                return t.copy(a),
                a
            }
        }
        ).call(this, i(749)(t))
    },
    2112: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(21)
          , l = o.a.Collection.extend({
            model: o.a.Model,
            initialize: function(t) {
                n.a.isUndefined(t) || n.a.isUndefined(t.dates) ? this.searchDatesArray = [] : n.a.isArray(t.dates) ? this.searchDatesArray = t.dates : this.searchDatesArray = [t.dates]
            },
            url: function() {
                if (0 == this.searchDatesArray.length)
                    throw new Error("Dates must be given.");
                return "/proxy/biometric-service/biometric/weightByDate?" + this.buildParameterList()
            },
            setSearchDates: function(t) {
                this.searchDatesArray = t
            },
            addSearchDate: function(t) {
                this.searchDatesArray.push(t)
            },
            buildParameterList: function() {
                for (var t = "", e = 0; e < this.searchDatesArray.length; e++) {
                    var i = this.searchDatesArray[e];
                    n.a.isDate(i) && (i = s.a.formatISODate(i)),
                    t += "date=" + i,
                    e + 1 < this.searchDatesArray.length && (t += "&")
                }
                return t
            }
        });
        e.a = l
    },
    2114: function(t, e) {
        t.exports = '<div class="<%- maxView ? \'\' : \'text-center\' %>">\n    <div class="alert alert-error" style="display: none;"><%- Localizer.localize(\'ftp.weight.error\') %></div>\n    <% if (title) {  %>\n        <h6 class="font-thin top-m"><%- title %></h6>\n        <% if (prompt) { %>\n            <p class="font-thin top-s"><%- prompt %></p>\n        <% }             %>\n    <% } else if (prompt) { %>\n        <div class="bottom-m"><%- prompt %></div>\n    <% }        %>\n    <form action="" class="form-horizontal">\n        <div class="row-fluid">\n            <div class="control-group">\n                <label class="control-label weight-label" for="user-weight"><%- Localizer.localize(\'ftp.weight\') %></label>\n                <div class="<%- maxView ? \'controls controls-row\' : \'\' %>">\n                    <span class="input-append">\n                        <input type="text" id="user-weight" placeholder="" class="input-mini" maxlength="<%- maxLength %>" autofocus>\n                        <span class="add-on"><%- weightLabel %></span>\n                    </span>\n                    <% if (displaySaveButton) { %>\n                        <button class="btn btn-form"><%- Localizer.localize(\'save\') %></button>\n                    <% } %>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n'
    },
    2119: function(t, e, i) {
        "use strict";
        i(9);
        var a, n = i(15), r = i.n(n), o = i(8), s = i(13), l = i(1312), c = i(1774), h = (i(21),
        i(1243)), p = i(1245), d = i.n(p), u = i(1270), m = i.n(u), f = i(1459), g = i.n(f);
        m()(d.a),
        g()(d.a),
        (a = d.a).wrap(a.Legend.prototype, "colorizeItem", function(t, e, i) {
            e.options.legendColor && (e.color = e.options.legendColor),
            t.apply(this, Array.prototype.slice.call(arguments, 1))
        });
        var y = h.a.Colors.powerCurveGrey
          , v = {
            DisplayMessage: "DisplayMessage",
            HideFilter: "HideFilter",
            DisplayEmptyChart: "DisplayEmptyChart",
            POWER_TOGGLE: "POWER_TOGGLE"
        }
          , b = l.a.extend({
            initialize: function(t) {
                l.a.prototype.initialize.call(this, t),
                this.wattsToggle = t.wattsToggle,
                this.viewerUserBiometrics = t.viewerUserBiometrics,
                this.lifeTimePowerCurveTotals = t.lifeTimePowerCurveTotals,
                this.powerCurveStartDate = r()(t.startDate),
                this.histroicalData = [],
                this.currentData = [],
                this.displayEmptyChartView = !1,
                this.displayEmptyData = !1
            },
            createExportDataRowHeader: function() {},
            determineYAxisTitle: function() {
                return ""
            },
            postRender: function() {
                this.displayEmptyChartView ? (this.chartObj && this.chartObj.destroy(),
                this.trigger(v.DisplayEmptyChart, this.displayEmptyData),
                this.displayEmptyData && this.trigger(v.DisplayMessage, {
                    msg: "",
                    emptyState: !1
                }),
                this.trigger(v.HideFilter, !0)) : this.$el.find(".highcharts-container").css("top", "-25px")
            },
            customizeOptions: function() {
                var t = this;
                this.options.xAxis = {
                    labels: {
                        useHTML: !0,
                        formatter: function() {
                            return '<span style="text-align: center; vertical-align: middle;"><span style="margin-right: auto; float: right; color: #6E8594; width: 100%;">\u25cf</span><br />' + this.value + "</span>"
                        },
                        y: 10
                    },
                    min: .5,
                    max: this.categories.length - 1.5,
                    tickLength: 0,
                    categories: this.categories,
                    crosshair: {
                        width: 1,
                        color: h.a.Colors.powerCurveCrosshairGrey,
                        zIndex: 0
                    },
                    tickInterval: 1,
                    minPadding: 0,
                    maxPadding: 0,
                    startOnTick: !1,
                    endOnTick: !1
                },
                this.options.yAxis = {
                    title: {
                        text: ""
                    },
                    labels: {
                        formatter: function() {
                            return t.convertToWattsPerKg(this.value) + " " + ("watts-kg-trend" == t.wattsToggle ? o.a.localize("label_power_kg") : o.a.localize("max_avg_power_unit"))
                        },
                        x: -5
                    }
                },
                this.options.tooltip = {
                    crosshairs: !0,
                    animation: !1,
                    shared: !0,
                    useHTML: !0,
                    positioner: function(e, i, a) {
                        var n = {
                            x: a.plotX,
                            y: t.chartObj.margin[0] - i
                        }
                          , r = e / 2;
                        return a.plotX + e > t.chartObj.plotWidth ? n.x = a.plotX + t.chartObj.plotLeft - e : a.plotX - r <= 0 ? n.x = a.plotX + t.chartObj.plotLeft : n.x = a.plotX + t.chartObj.plotLeft - r,
                        n
                    },
                    formatter: function() {
                        var e = '<span style="color: #6E8594">\u25cf</span> <b>' + o.a.localize("interval_time") + ":</b> " + this.x;
                        return this.points.sort(function(t, e) {
                            return t.y == e.y ? 0 : t.y < e.y ? 1 : -1
                        }).forEach(function(i, a) {
                            var n = "";
                            if (i.series.symbol)
                                switch (i.series.symbol) {
                                case "circle":
                                    n = "\u25cf";
                                    break;
                                case "diamond":
                                    n = "\u2666";
                                    break;
                                case "square":
                                    n = "\u25a0";
                                    break;
                                case "triangle":
                                    n = "\u25b2";
                                    break;
                                case "triangle-down":
                                    n = "\u25bc"
                                }
                            e += '<br /><span style="color: ' + i.series.color + '">' + n + "</span> <b>" + i.series.name + ":</b> " + t.convertToWattsPerKg(i.y) + " " + ("watts-kg-trend" == t.wattsToggle ? o.a.localize("label_power_kg") : o.a.localize("max_avg_power_unit"))
                        }),
                        e
                    }
                },
                this.options.plotOptions = {
                    series: {
                        lineWidth: 1,
                        marker: {
                            enabled: !1,
                            symbol: "circle",
                            lineColor: "white",
                            lineWidth: 1,
                            radius: 2
                        },
                        animation: !1
                    }
                },
                this.options.legend = {
                    enabled: !0,
                    symbolHeight: 12,
                    symbolWidth: 12,
                    itemStyle: {
                        fontSize: "12px",
                        fontWeight: "normal"
                    }
                },
                this.options.chart.marginTop = 70
            },
            compileStats: function() {},
            setCategories: function() {},
            convertToWattsPerKg: function(t) {
                var e = this.viewerUserBiometrics.biometricProfile.weight;
                return "watts-kg-trend" === this.wattsToggle ? s.a.convertToWattsPerKg(t, e) : t
            },
            initializeChartSeries: function() {
                this.chartSeries = {},
                this.histroicalData = [],
                this.currentData = [];
                var t, e = [];
                if (this.lifeTimePowerCurveTotals.get("entries"))
                    for (var i = 0; i < this.lifeTimePowerCurveTotals.get("entries").length; i++)
                        null !== this.lifeTimePowerCurveTotals.get("entries")[i].activityDate && (e.push(s.a.personalizeSeconds(this.lifeTimePowerCurveTotals.get("entries")[i].duration, o.a)),
                        this.histroicalData.push({
                            y: this.lifeTimePowerCurveTotals.get("entries")[i].power
                        }));
                if (this.histroicalData.length > 0 && (this.chartSeries[0] = {
                    name: o.a.localize("record_label"),
                    color: y,
                    data: this.histroicalData,
                    fillOpacity: .5,
                    lineColor: h.a.Colors.powerCurveDarkerGrey,
                    marker: {
                        fillColor: h.a.Colors.powerCurveDarkerGrey
                    },
                    legendColor: h.a.Colors.powerCurveDarkerGrey,
                    drawCustomLegend: !0
                }),
                t = 0 === this.histroicalData.length,
                this.metricList.get("entries"))
                    for (i = 0; i < this.metricList.get("entries").length; i++)
                        null !== this.metricList.get("entries")[i].activityDate && (t && e.push(s.a.personalizeSeconds(this.metricList.get("entries")[i].duration, o.a)),
                        this.currentData.push({
                            y: this.metricList.get("entries")[i].power
                        }));
                this.categories = e,
                this.chartSeries[1] = {
                    name: this.getMetricPeriodName(),
                    color: h.a.Colors.powerCurveBlue,
                    data: this.currentData,
                    fillOpacity: .3,
                    lineColor: h.a.Colors.blue,
                    marker: {
                        fillColor: h.a.Colors.blue
                    },
                    legendColor: h.a.Colors.blue,
                    drawCustomLegend: !0
                },
                0 === this.histroicalData.length ? this.displayEmptyChartView = !0 : 0 === this.currentData.length ? 0 === this.histroicalData.length ? (this.displayEmptyChartView = !0,
                this.displayEmptyData = !0) : this.trigger(v.DisplayMessage, {
                    msg: o.a.localize("no_power_data_for_period", this.getMetricPeriodName().toLowerCase()),
                    emptyState: !1
                }) : this.trigger(v.DisplayMessage, {
                    msg: "",
                    emptyState: !1
                })
            },
            getMetricPeriodName: function() {
                var t = null;
                switch (this.metricPeriod) {
                case c.a.weekly:
                    t = o.a.localize("four_weeks");
                    break;
                case c.a.monthly:
                    t = o.a.localize("three_months");
                    break;
                case c.a.yearly:
                    t = o.a.localize("twelve_months");
                    break;
                default:
                    t = this.metricPeriod
                }
                return t
            },
            toggle: function(t) {
                this.wattsToggle = t,
                l.a.prototype.initExportData.call(this),
                l.a.prototype.render.call(this),
                this.trigger(v.POWER_TOGGLE)
            },
            showWeightPrompt: function(t) {
                return {
                    displayWeightPrompt: null === this.viewerUserBiometrics.biometricProfile.weight && "watts-kg-trend" === t,
                    weightDate: r()().format("YYYY-MM-DD")
                }
            }
        });
        b.Events = v,
        e.a = b
    },
    2120: function(t, e) {
        t.exports = '<h6 id="te-feedback-header"><%- feedbackTitle %></h6>\n<p id="te-feedback-content"><%- feedbackContent %></p>'
    },
    2121: function(t, e) {
        t.exports = '<% if (aerobicTrainingEffect !== null) {      %>\n    <div id="te-aerobic-feedback" class="te-feedback"></div>\n    <div class="rounded-gauge te-score" id="te-aerobic-score"></div>\n<% } %>\n\n<% if (aerobicTrainingEffect !== null && anaerobicTrainingEffect !== null ) {      %>\n    <hr class="top-s bottom-s">\n<% } %>\n\n<% if (anaerobicTrainingEffect !== null) {      %>\n    <div id="te-anaerobic-feedback" class="te-feedback"></div>\n    <div class="rounded-gauge te-score" id="te-anaerobic-score"></div>\n<% } %>\n'
    },
    2122: function(t, e) {
        t.exports = "<p><strong><%- Localizer.localize('AEROBIC_TRAINING_EFFECT') %></strong> <%- Localizer.localize('AEROBIC_TE_DESCRIPTION') %></p>\n<% if (anaerobicTrainingEffect !== null) {      %>\n    <p><strong><%- Localizer.localize('ANAEROBIC_TRAINING_EFFECT') %></strong> <%- Localizer.localize('ANAEROBIC_TE_DESCRIPTION') %></p>\n<% } %>\n\n<div class=\"fine-print\">\n    <%= Localizer.localize('TRAINING_EFFECT_REPORT_FOOTER') %>\n</div>"
    },
    2123: function(t, e) {
        t.exports = "<table class=\"table table-bordered table-training-effect\">\n    <thead>\n    <tr>\n        <th><%- Localizer.localize('trainingEffect.help.status') %></th>\n        <th><%- Localizer.localize('trainingEffect.help.score') %></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score5') %></td>\n        <td>5</td>\n    </tr>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score4') %></td>\n        <td>4</td>\n    </tr>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score3') %></td>\n        <td>3</td>\n    </tr>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score2') %></td>\n        <td>2</td>\n    </tr>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score1') %></td>\n        <td>1</td>\n    </tr>\n    <tr>\n        <td><%- Localizer.localize('trainingEffect.help.score0') %></td>\n        <td>0</td>\n    </tr>\n    </tbody>\n</table>"
    },
    2124: function(t, e) {
        t.exports = '\n\x3c!-- Temporary file until FR 945 is announced, delete this file\nand its references once the features for FR 945 goes LIVE\nCA-51051 --\x3e\n\n\n<% if (isWidget === false) { %>\n    <ul class="nav nav-tabs">\n        <li class="active"><a href="#te-this-activity-placeholder" data-toggle="tab"><%- Localizer.localize(\'label.this.activity\') %></a></li>\n        <li><a href="#te-learn-placeholder" data-toggle="tab"><%- Localizer.localize(\'agent.learn.more\') %></a></li>\n        <li><a href="#te-scores-placeholder" data-toggle="tab"><%- Localizer.localize(\'label.scoring.scale\') %></a></li>\n    </ul>\n\n    <div class="tab-content">\n        <div class="tab-pane active" id="te-this-activity-placeholder"></div>\n\n        <div class="tab-pane" id="te-learn-placeholder"></div>\n        \n        <div class="tab-pane" id="te-scores-placeholder"></div>\n    </div>\n<% } else { %>\n    <ul class="nav nav-tabs">\n        <li class="active"><a href="#te-learn-placeholder" data-toggle="tab"><%- Localizer.localize(\'agent.learn.more\') %></a></li>\n        <li><a href="#te-scores-placeholder" data-toggle="tab"><%- Localizer.localize(\'label.scoring.scale\') %></a></li>\n    </ul>\n\n    <div class="tab-content">\n        <div class="tab-pane active" id="te-learn-placeholder"></div>\n\n        <div class="tab-pane" id="te-scores-placeholder"></div>\n    </div>\n\n<% } %>'
    },
    2125: function(t, e, i) {
        "use strict";
        i(9);
        var a = i(0)
          , n = i.n(a)
          , r = i(8)
          , o = i(1462)
          , s = i(32)
          , l = i(1364)
          , c = n.a.View.extend({
            initialize: function(t) {
                this.aerobicScore = t.aerobicScore,
                this.aerobicScoreMessage = t.aerobicScoreMessage,
                this.anaerobicScore = t.anaerobicScore,
                this.anaerobicScoreMessage = t.anaerobicScoreMessage,
                this.primaryBenefit = t.primaryBenefit,
                this.isWidget = t.isWidget
            },
            render: function() {
                this.teHelpModalView && this.teHelpModalView.destroy(),
                this.teHelpModalView = new o.a({
                    reactComponent: window.TrainingEffectModal,
                    props: {
                        aerobicTEStats: {
                            score: this.aerobicScore,
                            feedBackTitle: r.a.localize(l.a.Types.Aerobic + "_TRAINING_EFFECT"),
                            feedBackContent: l.a.getFeedback(l.a.Types.Aerobic, this.aerobicScore, this.aerobicScoreMessage),
                            label: r.a.localize("label.aerobic.te")
                        },
                        anaerobicTEStats: {
                            score: this.anaerobicScore,
                            feedBackTitle: r.a.localize(l.a.Types.Anaerobic + "_TRAINING_EFFECT"),
                            feedBackContent: l.a.getFeedback(l.a.Types.Anaerobic, this.anaerobicScore, this.anaerobicScoreMessage),
                            label: r.a.localize("label.anaerobic.te")
                        },
                        primaryBenefit: this.primaryBenefit,
                        isWidget: this.isWidget
                    }
                }),
                new s.a({
                    view: this.teHelpModalView,
                    showFooter: !1,
                    customClasses: "",
                    modalTitle: r.a.localize("help.title")
                }).render()
            }
        });
        e.a = c
    },
    2126: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            url: function() {
                return "/proxy/fitnessstats-service/" + this.dataType + "/" + (this.startDate ? "?startDate=" + this.startDate : "") + (this.endDate ? "&endDate=" + this.endDate : "")
            },
            initialize: function(t) {
                this.dataType = t.dataType,
                this.startDate = t.startDate,
                this.endDate = t.endDate
            }
        });
        e.a = n
    },
    2127: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(101)
          , o = i(0)
          , s = i.n(o).a.Model.extend({
            url: function() {
                return "/proxy/fitnessstats-service/activity" + r.a.toQueryString({
                    aggregation: this.aggregation,
                    userFirstDay: this.firstDayOfWeek ? this.firstDayOfWeek.dayName : void 0,
                    startDate: this.startDate,
                    endDate: this.endDate,
                    groupByActivityType: this.groupByActivityType,
                    metric: this.metric,
                    excludedActivitySubType: this.excludedActivitySubType,
                    activityType: this.activityType
                })
            },
            initialize: function(t) {
                if (!this.notNullAndNotUndefined(t))
                    throw "aggregation required for AggregatedActivityMetricStats";
                this.aggregation = t.aggregation,
                this.startDate = t.startDate,
                this.endDate = t.endDate,
                this.metric = t.metric,
                this.activityType = t.activityType,
                this.groupByActivityType = t.groupByActivityType,
                this.excludedActivitySubType = t.excludedActivitySubType,
                this.firstDayOfWeek = t.firstDayOfWeek
            },
            notNullAndNotUndefined: function(t) {
                return !n.a.isNull(t) && !n.a.isUndefined(t)
            },
            parse: function(t) {
                this.aggregateStats = t
            },
            setDisplayName: function(t) {
                this.displayName = t
            },
            getTotalStatSum: function(t, e) {
                for (var i = 0, a = 0; a < this.aggregateStats.length; a++)
                    i += this.aggregateStats[a].stats[t][e].sum;
                return i
            },
            getTotalBottomTimeInSeconds: function() {
                return this.getTotalStatSum("diving", "bottomTime") / 1e3
            }
        });
        e.a = s
    },
    2138: function(t, e) {
        t.exports = '<div id="open-express">\n    <h3 id="wireless-message-header" class="bottom-m wireless-message" style="display: none;"></h3>\n    <h3 class="bottom-m non-wireless-message" style="display: none;"><%- Localizer.localize(\'agent.connecting\') %></h3>\n    <p><%- Localizer.localize(\'agent.wait\') %></p>\n</div>\n<div id="sync-message" class="still-waiting text-left alert alert-info bottom-none" style="display: none;">\n</div>\n'
    },
    2191: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = (i(0),
        i(8),
        i(13),
        i(1302))
          , o = i(1800)
          , s = i.n(o)
          , l = r.a.extend({
            template: n.a.template(s.a)
        });
        e.a = l
    },
    224: function(t, e, i) {
        "use strict";
        var a = i(1235)
          , n = i(20)
          , r = i.n(n)
          , o = i(1309)
          , s = i(1272)
          , l = i(1347)
          , c = i(1289);
        function h(t, e) {
            if ("function" !== typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : function(t, e) {
                for (var i = Object.getOwnPropertyNames(e), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(e, n);
                    r && r.configurable && void 0 === t[n] && Object.defineProperty(t, n, r)
                }
            }(t, e))
        }
        var p = function(t) {
            function e() {
                return function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e),
                function(t, e) {
                    if (!t)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !e || "object" !== typeof e && "function" !== typeof e ? t : e
                }(this, t.apply(this, arguments))
            }
            return h(e, t),
            e.prototype.getChildContext = function() {
                return {
                    popupContainer: this.leafletElement
                }
            }
            ,
            e.prototype.createLeafletElement = function(t) {
                return new a.Marker(t.position,this.getOptions(t))
            }
            ,
            e.prototype.updateLeafletElement = function(t, e) {
                e.position !== t.position && this.leafletElement.setLatLng(e.position),
                e.icon !== t.icon && this.leafletElement.setIcon(e.icon),
                e.zIndexOffset !== t.zIndexOffset && this.leafletElement.setZIndexOffset(e.zIndexOffset),
                e.opacity !== t.opacity && this.leafletElement.setOpacity(e.opacity),
                e.draggable !== t.draggable && (!0 === e.draggable ? this.leafletElement.dragging.enable() : this.leafletElement.dragging.disable())
            }
            ,
            e
        }(o.a);
        p.propTypes = {
            children: s.a,
            draggable: r.a.bool,
            icon: r.a.instanceOf(a.Icon),
            opacity: r.a.number,
            position: l.a.isRequired,
            zIndexOffset: r.a.number
        },
        p.childContextTypes = {
            popupContainer: c.a
        },
        e.a = p
    },
    227: function(t, e, i) {
        "use strict";
        var a = i(1235)
          , n = i(20)
          , r = i.n(n)
          , o = i(1357)
          , s = i(1272)
          , l = i(1431);
        function c(t, e) {
            if ("function" !== typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : function(t, e) {
                for (var i = Object.getOwnPropertyNames(e), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(e, n);
                    r && r.configurable && void 0 === t[n] && Object.defineProperty(t, n, r)
                }
            }(t, e))
        }
        var h = function(t) {
            function e() {
                return function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e),
                function(t, e) {
                    if (!t)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !e || "object" !== typeof e && "function" !== typeof e ? t : e
                }(this, t.apply(this, arguments))
            }
            return c(e, t),
            e.prototype.createLeafletElement = function(t) {
                return new a.Polyline(t.positions,this.getOptions(t))
            }
            ,
            e.prototype.updateLeafletElement = function(t, e) {
                e.positions !== t.positions && this.leafletElement.setLatLngs(e.positions),
                this.setStyleIfChanged(t, e)
            }
            ,
            e
        }(o.a);
        h.propTypes = {
            children: s.a,
            positions: r.a.oneOfType([l.a, r.a.arrayOf(l.a)]).isRequired
        },
        e.a = h
    },
    2270: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        e.a = n.a.Model.extend({
            url: function() {
                return "/proxy/device-service/deviceservice/app-info/" + this.applicationInstallId
            },
            initialize: function(t, e) {
                e.applicationInstallId && (this.applicationInstallId = e.applicationInstallId)
            },
            setAfterLoad: function(t) {
                this.applicationInstallId = t
            }
        })
    },
    2271: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = "INTERVAL_ACTIVE"
          , r = i.n(a).a.Collection.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/split_summaries"
            },
            initialize: function(t, e) {
                if ("undefined" === typeof e.activityId)
                    throw "SplitSummaries requires an activity ID";
                this.activityId = e.activityId
            },
            parse: function(t) {
                return t ? t.splitSummaries : []
            },
            getActiveIntervalSummary: function() {
                return this.getSplitSummary(n)
            },
            getSplitSummary: function(t) {
                return this.find(function(e) {
                    return e.get("splitType") === t
                })
            }
        });
        e.a = r
    },
    2272: function(t, e, i) {
        (e = t.exports = i(29)(!0)).i(i(98), void 0),
        e.push([t.i, ".WorkoutExecutionMetrics_executionScore__lPz_V {\n    margin-bottom: 10px;\n}\n.WorkoutExecutionMetrics_wrapper__8MYXw {\n    position: relative;\n    background-color: " + i(98).locals.lightui_surface_1 + ";\n    border-radius: 4px;\n    padding: 22px 10px;\n}\n.WorkoutExecutionMetrics_statsSectionExecutionScore__2MTU- {\n    margin-bottom: 0;\n}\n.WorkoutExecutionMetrics_statsSectionExecutionScore__2MTU- .WorkoutExecutionMetrics_wrapper__8MYXw {\n    background: none;\n    padding: 0;\n}\n.WorkoutExecutionMetrics_dot__1Vr1q {\n    display: inline-block;\n    position: relative;\n    top: 2px;\n    width: 14px;\n    height: 14px;\n    margin-right: 8px;\n    border-radius: 50%;\n}\n.WorkoutExecutionMetrics_upperDot__1k7gE {\n    top: -2px;\n}\n.WorkoutExecutionMetrics_middleDot__777dO {\n    position: static;\n}\n.WorkoutExecutionMetrics_scoreDot__-thCb {\n    margin-right: 3px;\n    top: 1px;\n}\n.WorkoutExecutionMetrics_dot__1Vr1q.WorkoutExecutionMetrics_red__q5iYG {\n    background-color: " + i(98).locals.red_primary + ";\n}\n.WorkoutExecutionMetrics_dot__1Vr1q.WorkoutExecutionMetrics_orange__8BzKA {\n    background-color: " + i(98).locals.color_614 + ";\n}\n.WorkoutExecutionMetrics_dot__1Vr1q.WorkoutExecutionMetrics_yellow__3rY21 {\n    background-color: " + i(98).locals.yellow_primary + ";\n}\n.WorkoutExecutionMetrics_dot__1Vr1q.WorkoutExecutionMetrics_green__36TdT {\n    background-color: " + i(98).locals.green_primary + ";\n}\n.WorkoutExecutionMetrics_dot__1Vr1q.WorkoutExecutionMetrics_blue__1J6x_ {\n    background-color: " + i(98).locals.color_201 + ";\n}\n.WorkoutExecutionMetrics_dot__1Vr1q.WorkoutExecutionMetrics_lightblue__2aw8R {\n    background-color: " + i(98).locals.teal_light_1 + ";\n}\n.WorkoutExecutionMetrics_dot__1Vr1q.WorkoutExecutionMetrics_lime__11qkq {\n    background-color: " + i(98).locals.lime_primary + ";\n}\n.WorkoutExecutionMetrics_score__2HFfO {\n    margin-right: 4px;\n    font-size: 26px;\n    font-weight: 300;\n    line-height: 26px;\n    color: #222222;\n}\n.WorkoutExecutionMetrics_scoreSmall__2yHAk {\n    font-size: 16px;\n    color: #222222;\n    line-height: 26px;\n}\n.WorkoutExecutionMetrics_label__22A0k {\n    color: #888888;\n    font-size: 12px;\n    line-height: 22px;\n}\n.WorkoutExecutionMetrics_helpIcon__2EXyR {\n    margin-left: 4px;\n}\n.WorkoutExecutionMetrics_executionScore__lPz_V .WorkoutExecutionMetrics_modalContainer__2OPAd h3,\n.WorkoutExecutionMetrics_selfEvaluationTitleContainer__1xYvv h3 {\n    border: none !important;\n    margin-bottom: 0 !important;\n}\n.WorkoutExecutionMetrics_executionScoreExample__3AiZe {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    text-align: center;\n    max-width: 270px;\n    margin: 0 auto 20px auto;\n}\n.WorkoutExecutionMetrics_fractionEqual__2Ho9K {\n    position: relative;\n    display: inline-block;\n    overflow: visible;\n    width: 100%;\n    margin: 4px 0;\n    border-top: 1px solid #000;\n}\n.WorkoutExecutionMetrics_fractionEqual__2Ho9K:after {\n    content: '=';\n    display: inline-block;\n    position: absolute;\n    top: -12px;\n    right: -16px;\n}\n.WorkoutExecutionMetrics_result__2iSXK {\n    display: table;\n    height: 100%;\n    padding-left: 24px;\n    text-align: left;\n}\n.WorkoutExecutionMetrics_result__2iSXK .WorkoutExecutionMetrics_middle__vzYEK {\n    display: table-cell;\n    vertical-align: middle;\n}\n.WorkoutExecutionMetrics_headerText__2fAig {\n    font-size: 18px;\n    font-weight: 300;\n}\n.WorkoutExecutionMetrics_h3__om1bE,\n.WorkoutExecutionMetrics_h4__XMfm6,\n.WorkoutExecutionMetrics_h5__w1sQr {\n    display: block;\n    margin-bottom: 8px;\n}\n.WorkoutExecutionMetrics_h3__om1bE {\n    font-size: 22px;\n    font-weight: 300;\n    line-height: 33px;\n}\n.WorkoutExecutionMetrics_h4__XMfm6 {\n    font-size: 18px;\n    font-weight: 300;\n    line-height: 27px;\n}\n.WorkoutExecutionMetrics_h5__w1sQr {\n    font-size: 16px;\n    font-weight: 300;\n    line-height: 24px;\n}\n/*edit*/\n.WorkoutExecutionMetrics_slider-handle__130T8 {\n    border: 2px solid rgb(25, 118, 210);\n    background-image: none !important;\n    background-color: " + i(98).locals.yellow_primary + ";\n}\n.WorkoutExecutionMetrics_htitle__5Y3Hz {\n    font-size: 14px;\n    font-weight: 600;\n    margin-bottom: 5px;\n}\n.WorkoutExecutionMetrics_currentValue__lCNu2 {\n    font-size: 12px;\n    text-align: center;\n    margin-bottom: 10px;\n}\n.WorkoutExecutionMetrics_sliderLabelNone__8Em2F,\n.WorkoutExecutionMetrics_sliderLabelMaximum__1Idqt {\n    font-size: 12px;\n    color: rgb(108, 108, 108);\n}\n.WorkoutExecutionMetrics_sliderLabelMaximum__1Idqt {\n    float: right;\n}\n.WorkoutExecutionMetrics_face__27pAT {\n    display: inline-block;\n    position: relative;\n    float: left;\n    width: 20px;\n    height: 20px;\n    background-repeat: no-repeat;\n    background-position: center center;\n    background-size: 100% 100%;\n    margin-right: 4px;\n}\n.WorkoutExecutionMetrics_selfEvaluationAccordionTitle__3rY1L {\n    text-transform: capitalize;\n}\n.WorkoutExecutionMetrics_face__27pAT.WorkoutExecutionMetrics_very_weak__o9PtI {\n    background-image: url('/web-images/activity/very_weak.svg');\n}\n.WorkoutExecutionMetrics_face__27pAT.WorkoutExecutionMetrics_weak__RCXZj {\n    background-image: url('/web-images/activity/weak.svg');\n}\n.WorkoutExecutionMetrics_face__27pAT.WorkoutExecutionMetrics_normal__2VoSA {\n    background-image: url('/web-images/activity/normal.svg');\n}\n.WorkoutExecutionMetrics_face__27pAT.WorkoutExecutionMetrics_strong__37ACH {\n    background-image: url('/web-images/activity/strong.svg');\n}\n.WorkoutExecutionMetrics_face__27pAT.WorkoutExecutionMetrics_very_strong__2An7P {\n    background-image: url('/web-images/activity/very_strong.svg');\n}\n.WorkoutExecutionMetrics_clear__3vV6G {\n    clear: both;\n}\n.WorkoutExecutionMetrics_checkbox__U9GI6 {\n    position: relative;\n}\n.WorkoutExecutionMetrics_feelIconContainer__wU3uu {\n    max-width: 40px;\n    max-height: 40px;\n    display: inline-block;\n    margin: 0 5px;\n}\n.WorkoutExecutionMetrics_feelStaticIconContainer__3a7vg {\n    margin: 0 5px 0 0;\n}\n.WorkoutExecutionMetrics_feelCheckboxLabel__2lDeU {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-align-items: center;\n            align-items: center;\n}\n.WorkoutExecutionMetrics_checkbox__U9GI6 .WorkoutExecutionMetrics_face__27pAT {\n    top: 1px;\n}\n.WorkoutExecutionMetrics_customCheckbox__3ezYq {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    z-index: 1;\n    width: 16px;\n    height: 16px;\n}\n.WorkoutExecutionMetrics_customCheckbox__3ezYq ~ .WorkoutExecutionMetrics_feelCheckboxLabel__2lDeU .WorkoutExecutionMetrics_customCheckboxSpan__3Kw1B {\n    float: left;\n    position: relative;\n    display: inline-block;\n    border: 1px solid " + i(98).locals.darkui_accent_2 + ";\n    border-radius: 50%;\n    width: 16px;\n    height: 16px;\n    margin-right: 5px;\n    vertical-align: middle;\n    cursor: pointer;\n}\n.WorkoutExecutionMetrics_customCheckbox__3ezYq:checked ~ .WorkoutExecutionMetrics_feelCheckboxLabel__2lDeU .WorkoutExecutionMetrics_customCheckboxSpan__3Kw1B:after {\n    position: relative;\n    left: -1px;\n    top: -2px;\n    content: ' ';\n    display: inline-block;\n    border: 4px solid " + i(98).locals.color_201 + ";\n    border-radius: 50%;\n    width: 11px;\n    height: 11px;\n    color: " + i(98).locals.color_131 + ";\n}\n.WorkoutExecutionMetrics_gridAlignCenter__2_6xf {\n    display: grid;\n    -webkit-align-items: center;\n            align-items: center;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/Activity/WorkoutExecutionMetrics/WorkoutExecutionMetrics.css"],
            names: [],
            mappings: "AAEA;IACI,oBAAmB;CACvB;AAEA;IACI,mBAAkB;IAClB,8CAAmC;IACnC,mBAAkB;IAClB,mBAAkB;CACtB;AAEA;IACI,iBAAgB;CACpB;AAEA;IACI,iBAAgB;IAChB,WAAU;CACd;AAEA;IACI,sBAAqB;IACrB,mBAAkB;IAClB,SAAQ;IACR,YAAW;IACX,aAAY;IACZ,kBAAiB;IACjB,mBAAkB;CACtB;AAEA;IACI,UAAS;CACb;AAEA;IACI,iBAAgB;CACpB;AAEA;IACI,kBAAiB;IACjB,SAAQ;CACZ;AAEA;IACI,8CAA6B;CACjC;AAEA;IACI,8CAA2B;CAC/B;AAEA;IACI,8CAAgC;CACpC;AACA;IACI,8CAA+B;CACnC;AAEA;IACI,8CAA2B;CAC/B;AAEA;IACI,+CAA8B;CAClC;AAEA;IACI,8CAA8B;CAClC;AAEA;IACI,kBAAiB;IACjB,gBAAe;IACf,iBAAgB;IAChB,kBAAiB;IACjB,eAAc;CAClB;AAEA;IACI,gBAAe;IACf,eAAc;IACd,kBAAiB;CACrB;AAEA;IACI,eAAc;IACd,gBAAe;IACf,kBAAiB;CACrB;AAEA;IACI,iBAAgB;CACpB;AACA;;IAEI,wBAAuB;IACvB,4BAA2B;CAC/B;AACA;IACI,cAAa;IACb,sCAAqC;IACrC,mBAAkB;IAClB,iBAAgB;IAChB,yBAAwB;CAC5B;AAEA;IACI,mBAAkB;IAClB,sBAAqB;IACrB,kBAAiB;IACjB,YAAW;IACX,cAAa;IACb,2BAA0B;CAC9B;AAEA;IACI,aAAY;IACZ,sBAAqB;IACrB,mBAAkB;IAClB,WAAU;IACV,aAAY;CAChB;AAEA;IACI,eAAc;IACd,aAAY;IACZ,mBAAkB;IAClB,iBAAgB;CACpB;AAEA;IACI,oBAAmB;IACnB,uBAAsB;CAC1B;AAEA;IACI,gBAAe;IACf,iBAAgB;CACpB;AAEA;;;IAGI,eAAc;IACd,mBAAkB;CACtB;AAEA;IACI,gBAAe;IACf,iBAAgB;IAChB,kBAAiB;CACrB;AAEA;IACI,gBAAe;IACf,iBAAgB;IAChB,kBAAiB;CACrB;AAEA;IACI,gBAAe;IACf,iBAAgB;IAChB,kBAAiB;CACrB;AAEA,QAAO;AAEP;IACI,oCAAmC;IACnC,kCAAiC;IACjC,8CAAgC;CACpC;AAEA;IACI,gBAAe;IACf,iBAAgB;IAChB,mBAAkB;CACtB;AAEA;IACI,gBAAe;IACf,mBAAkB;IAClB,oBAAmB;CACvB;AAEA;;IAEI,gBAAe;IACf,0BAAyB;CAC7B;AAEA;IACI,aAAY;CAChB;AAEA;IACI,sBAAqB;IACrB,mBAAkB;IAClB,YAAW;IACX,YAAW;IACX,aAAY;IACZ,6BAA4B;IAC5B,mCAAkC;IAClC,2BAA0B;IAC1B,kBAAiB;CACrB;AAEA;IACI,2BAA0B;CAC9B;AAEA;IACI,4DAA2D;CAC/D;AAEA;IACI,uDAAsD;CAC1D;AAEA;IACI,yDAAwD;CAC5D;AAEA;IACI,yDAAwD;CAC5D;AAEA;IACI,8DAA6D;CACjE;AAEA;IACI,YAAW;CACf;AAEA;IACI,mBAAkB;CACtB;AACA;IACI,gBAAe;IACf,iBAAgB;IAChB,sBAAqB;IACrB,cAAa;CACjB;AACA;IACI,kBAAiB;CACrB;AACA;IACI,sBAAa;IAAb,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;CACvB;AAEA;IACI,SAAQ;CACZ;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,gBAAe;IACf,WAAU;IACV,YAAW;IACX,aAAY;CAChB;AAEA;IACI,YAAW;IACX,mBAAkB;IAClB,sBAAqB;IACrB,8CAAiC;IACjC,mBAAkB;IAClB,YAAW;IACX,aAAY;IACZ,kBAAiB;IACjB,uBAAsB;IACtB,gBAAe;CACnB;AAEA;IACI,mBAAkB;IAClB,WAAU;IACV,UAAS;IACT,aAAY;IACZ,sBAAqB;IACrB,8CAA2B;IAC3B,mBAAkB;IAClB,YAAW;IACX,aAAY;IACZ,mCAAgB;CACpB;AAEA;IACI,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;CACvB",
            file: "WorkoutExecutionMetrics.css",
            sourcesContent: ["@value (color_131, darkui_accent_2, lightui_surface_1, red_primary, color_614, color_201, lightui_surface_4, yellow_primary, lime_primary, green_primary, color_106, teal_light_1) from 'ui-connect/styles/colors.module.css';\n\n.executionScore {\n    margin-bottom: 10px;\n}\n\n.wrapper {\n    position: relative;\n    background-color: lightui_surface_1;\n    border-radius: 4px;\n    padding: 22px 10px;\n}\n\n.statsSectionExecutionScore {\n    margin-bottom: 0;\n}\n\n.statsSectionExecutionScore .wrapper {\n    background: none;\n    padding: 0;\n}\n\n.dot {\n    display: inline-block;\n    position: relative;\n    top: 2px;\n    width: 14px;\n    height: 14px;\n    margin-right: 8px;\n    border-radius: 50%;\n}\n\n.upperDot {\n    top: -2px;\n}\n\n.middleDot {\n    position: static;\n}\n\n.scoreDot {\n    margin-right: 3px;\n    top: 1px;\n}\n\n.dot.red {\n    background-color: red_primary;\n}\n\n.dot.orange {\n    background-color: color_614;\n}\n\n.dot.yellow {\n    background-color: yellow_primary;\n}\n.dot.green {\n    background-color: green_primary;\n}\n\n.dot.blue {\n    background-color: color_201;\n}\n\n.dot.lightblue {\n    background-color: teal_light_1;\n}\n\n.dot.lime {\n    background-color: lime_primary;\n}\n\n.score {\n    margin-right: 4px;\n    font-size: 26px;\n    font-weight: 300;\n    line-height: 26px;\n    color: #222222;\n}\n\n.scoreSmall {\n    font-size: 16px;\n    color: #222222;\n    line-height: 26px;\n}\n\n.label {\n    color: #888888;\n    font-size: 12px;\n    line-height: 22px;\n}\n\n.helpIcon {\n    margin-left: 4px;\n}\n.executionScore .modalContainer h3,\n.selfEvaluationTitleContainer h3 {\n    border: none !important;\n    margin-bottom: 0 !important;\n}\n.executionScoreExample {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    text-align: center;\n    max-width: 270px;\n    margin: 0 auto 20px auto;\n}\n\n.fractionEqual {\n    position: relative;\n    display: inline-block;\n    overflow: visible;\n    width: 100%;\n    margin: 4px 0;\n    border-top: 1px solid #000;\n}\n\n.fractionEqual:after {\n    content: '=';\n    display: inline-block;\n    position: absolute;\n    top: -12px;\n    right: -16px;\n}\n\n.result {\n    display: table;\n    height: 100%;\n    padding-left: 24px;\n    text-align: left;\n}\n\n.result .middle {\n    display: table-cell;\n    vertical-align: middle;\n}\n\n.headerText {\n    font-size: 18px;\n    font-weight: 300;\n}\n\n.h3,\n.h4,\n.h5 {\n    display: block;\n    margin-bottom: 8px;\n}\n\n.h3 {\n    font-size: 22px;\n    font-weight: 300;\n    line-height: 33px;\n}\n\n.h4 {\n    font-size: 18px;\n    font-weight: 300;\n    line-height: 27px;\n}\n\n.h5 {\n    font-size: 16px;\n    font-weight: 300;\n    line-height: 24px;\n}\n\n/*edit*/\n\n.slider-handle {\n    border: 2px solid rgb(25, 118, 210);\n    background-image: none !important;\n    background-color: yellow_primary;\n}\n\n.htitle {\n    font-size: 14px;\n    font-weight: 600;\n    margin-bottom: 5px;\n}\n\n.currentValue {\n    font-size: 12px;\n    text-align: center;\n    margin-bottom: 10px;\n}\n\n.sliderLabelNone,\n.sliderLabelMaximum {\n    font-size: 12px;\n    color: rgb(108, 108, 108);\n}\n\n.sliderLabelMaximum {\n    float: right;\n}\n\n.face {\n    display: inline-block;\n    position: relative;\n    float: left;\n    width: 20px;\n    height: 20px;\n    background-repeat: no-repeat;\n    background-position: center center;\n    background-size: 100% 100%;\n    margin-right: 4px;\n}\n\n.selfEvaluationAccordionTitle {\n    text-transform: capitalize;\n}\n\n.face.very_weak {\n    background-image: url('/web-images/activity/very_weak.svg');\n}\n\n.face.weak {\n    background-image: url('/web-images/activity/weak.svg');\n}\n\n.face.normal {\n    background-image: url('/web-images/activity/normal.svg');\n}\n\n.face.strong {\n    background-image: url('/web-images/activity/strong.svg');\n}\n\n.face.very_strong {\n    background-image: url('/web-images/activity/very_strong.svg');\n}\n\n.clear {\n    clear: both;\n}\n\n.checkbox {\n    position: relative;\n}\n.feelIconContainer {\n    max-width: 40px;\n    max-height: 40px;\n    display: inline-block;\n    margin: 0 5px;\n}\n.feelStaticIconContainer {\n    margin: 0 5px 0 0;\n}\n.feelCheckboxLabel {\n    display: flex;\n    align-items: center;\n}\n\n.checkbox .face {\n    top: 1px;\n}\n\n.customCheckbox {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    z-index: 1;\n    width: 16px;\n    height: 16px;\n}\n\n.customCheckbox ~ .feelCheckboxLabel .customCheckboxSpan {\n    float: left;\n    position: relative;\n    display: inline-block;\n    border: 1px solid darkui_accent_2;\n    border-radius: 50%;\n    width: 16px;\n    height: 16px;\n    margin-right: 5px;\n    vertical-align: middle;\n    cursor: pointer;\n}\n\n.customCheckbox:checked ~ .feelCheckboxLabel .customCheckboxSpan:after {\n    position: relative;\n    left: -1px;\n    top: -2px;\n    content: ' ';\n    display: inline-block;\n    border: 4px solid color_201;\n    border-radius: 50%;\n    width: 11px;\n    height: 11px;\n    color: color_131;\n}\n\n.gridAlignCenter {\n    display: grid;\n    align-items: center;\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            color_131: "" + i(98).locals.color_131,
            darkui_accent_2: "" + i(98).locals.darkui_accent_2,
            lightui_surface_1: "" + i(98).locals.lightui_surface_1,
            red_primary: "" + i(98).locals.red_primary,
            color_614: "" + i(98).locals.color_614,
            color_201: "" + i(98).locals.color_201,
            lightui_surface_4: "" + i(98).locals.lightui_surface_4,
            yellow_primary: "" + i(98).locals.yellow_primary,
            lime_primary: "" + i(98).locals.lime_primary,
            green_primary: "" + i(98).locals.green_primary,
            color_106: "" + i(98).locals.color_106,
            teal_light_1: "" + i(98).locals.teal_light_1,
            executionScore: "WorkoutExecutionMetrics_executionScore__lPz_V",
            wrapper: "WorkoutExecutionMetrics_wrapper__8MYXw",
            statsSectionExecutionScore: "WorkoutExecutionMetrics_statsSectionExecutionScore__2MTU-",
            dot: "WorkoutExecutionMetrics_dot__1Vr1q",
            upperDot: "WorkoutExecutionMetrics_upperDot__1k7gE",
            middleDot: "WorkoutExecutionMetrics_middleDot__777dO",
            scoreDot: "WorkoutExecutionMetrics_scoreDot__-thCb",
            red: "WorkoutExecutionMetrics_red__q5iYG",
            orange: "WorkoutExecutionMetrics_orange__8BzKA",
            yellow: "WorkoutExecutionMetrics_yellow__3rY21",
            green: "WorkoutExecutionMetrics_green__36TdT",
            blue: "WorkoutExecutionMetrics_blue__1J6x_",
            lightblue: "WorkoutExecutionMetrics_lightblue__2aw8R",
            lime: "WorkoutExecutionMetrics_lime__11qkq",
            score: "WorkoutExecutionMetrics_score__2HFfO",
            scoreSmall: "WorkoutExecutionMetrics_scoreSmall__2yHAk",
            label: "WorkoutExecutionMetrics_label__22A0k",
            helpIcon: "WorkoutExecutionMetrics_helpIcon__2EXyR",
            modalContainer: "WorkoutExecutionMetrics_modalContainer__2OPAd",
            selfEvaluationTitleContainer: "WorkoutExecutionMetrics_selfEvaluationTitleContainer__1xYvv",
            executionScoreExample: "WorkoutExecutionMetrics_executionScoreExample__3AiZe",
            fractionEqual: "WorkoutExecutionMetrics_fractionEqual__2Ho9K",
            result: "WorkoutExecutionMetrics_result__2iSXK",
            middle: "WorkoutExecutionMetrics_middle__vzYEK",
            headerText: "WorkoutExecutionMetrics_headerText__2fAig",
            h3: "WorkoutExecutionMetrics_h3__om1bE",
            h4: "WorkoutExecutionMetrics_h4__XMfm6",
            h5: "WorkoutExecutionMetrics_h5__w1sQr",
            "slider-handle": "WorkoutExecutionMetrics_slider-handle__130T8",
            htitle: "WorkoutExecutionMetrics_htitle__5Y3Hz",
            currentValue: "WorkoutExecutionMetrics_currentValue__lCNu2",
            sliderLabelNone: "WorkoutExecutionMetrics_sliderLabelNone__8Em2F",
            sliderLabelMaximum: "WorkoutExecutionMetrics_sliderLabelMaximum__1Idqt",
            face: "WorkoutExecutionMetrics_face__27pAT",
            selfEvaluationAccordionTitle: "WorkoutExecutionMetrics_selfEvaluationAccordionTitle__3rY1L",
            very_weak: "WorkoutExecutionMetrics_very_weak__o9PtI",
            weak: "WorkoutExecutionMetrics_weak__RCXZj",
            normal: "WorkoutExecutionMetrics_normal__2VoSA",
            strong: "WorkoutExecutionMetrics_strong__37ACH",
            very_strong: "WorkoutExecutionMetrics_very_strong__2An7P",
            clear: "WorkoutExecutionMetrics_clear__3vV6G",
            checkbox: "WorkoutExecutionMetrics_checkbox__U9GI6",
            feelIconContainer: "WorkoutExecutionMetrics_feelIconContainer__wU3uu",
            feelStaticIconContainer: "WorkoutExecutionMetrics_feelStaticIconContainer__3a7vg",
            feelCheckboxLabel: "WorkoutExecutionMetrics_feelCheckboxLabel__2lDeU",
            customCheckbox: "WorkoutExecutionMetrics_customCheckbox__3ezYq",
            customCheckboxSpan: "WorkoutExecutionMetrics_customCheckboxSpan__3Kw1B",
            gridAlignCenter: "WorkoutExecutionMetrics_gridAlignCenter__2_6xf"
        }
    },
    2273: function(t, e, i) {
        "use strict";
        var a = i(1262)
          , n = {
            LatLng: /^((-|)([0-9]|[1-8][0-9])((\.|,)\d{0,6})?), *((-|)([0-9]|[1-9][0-9]|1[0-7][0-9])((\.|,)\d{0,6})?)$/i
        }
          , r = a.a.extend({
            initialize: function(t) {
                t.regularExpression = n.LatLng,
                this.initializeRegularExpressionValidator(t)
            }
        });
        r.RegularExpressions = n,
        e.a = r
    },
    2274: function(t, e, i) {
        "use strict";
        var a = {
            lat: null,
            lng: null
        };
        function n() {}
        n.parseLatLngString = function(t) {
            if (!t || t.length < 3)
                return a;
            var e = t.split(",");
            if (e.length < 2)
                return a;
            e.map(function(t) {
                return t.trim()
            });
            var i = parseFloat(e[0]).toFixed(6)
              , n = parseFloat(e[1]).toFixed(6);
            return isNaN(i) || isNaN(n) ? a : {
                lat: i,
                lng: n
            }
        }
        ,
        e.a = n
    },
    2275: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(13)
              , c = i(1243)
              , h = i(1287)
              , p = i(1397)
              , d = i(2276)
              , u = i.n(d)
              , m = {
                PrimaryChanged: "PrimaryChanged",
                SecondaryChanged: "SecondaryChanged",
                ZoomReset: "ZoomReset",
                RangeSelected: "RangeSelected"
            }
              , f = o.a.View.extend({
                template: n.a.template(u.a),
                events: {
                    "click #primary-dropdown li": "onPrimaryDropdownClicked",
                    "click #secondary-dropdown li": "onSecondaryDropdownClicked",
                    "click .reset-zoom": "onResetZoomClicked"
                },
                initialize: function(t) {
                    if (this.activitySummary = t.activitySummary,
                    this.activityDetails = t.activityDetails,
                    this.backgroundSeries = t.backgroundSeries,
                    this.availableSeries = t.availableSeries,
                    this.xAxisType = t.xAxisType,
                    this.showWorkoutSeries = !1,
                    this.primarySeries = this.determinePrimarySeries(),
                    this.secondarySeries = this.determineSecondarySeries(),
                    this.zoomButtonDisplayed = !1,
                    !this.backgroundSeries)
                        throw "BackgroundSeriesType required for ExpandedChartHeaderView"
                },
                render: function() {
                    this.chartRangeSelector && (this.stopListening(this.chartRangeSelector),
                    this.chartRangeSelector = null);
                    var t = n.a.reject(this.availableSeries, this.isBackground, this)
                      , e = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        series: t,
                        backgroundSeries: this.backgroundSeries,
                        primarySeries: this.primarySeries,
                        secondarySeries: this.secondarySeries,
                        backgroundColor: this.determineBackgroundSeriesColor(),
                        backgroundSeriesLabel: this.determineBackgroundSeriesLabel(),
                        primaryColor: this.determinePrimarySeriesColor(),
                        primarySeriesLabel: this.determinePrimarySeriesLabel(),
                        secondaryColor: this.determineSecondarySeriesColor(),
                        secondarySeriesLabel: this.determineSecondarySeriesLabel(),
                        workoutSeriesColor: c.a.Colors.workoutTargetGray,
                        showWorkoutSeries: this.showWorkoutSeries,
                        cm: c.a
                    });
                    this.$el.html(e);
                    var i = n.a.find(this.availableSeries, function(t) {
                        return !!t[0].chartRangeSelectorType
                    });
                    i && this.addRangeSelector(i),
                    this.zoomButtonDisplayed && this.showZoomButton()
                },
                determineBackgroundSeriesColor: function() {
                    return (this.primarySeries || this.secondarySeries) && 1 === this.backgroundSeries.length ? "#6D8595" : c.a.mapSeriesType(this.backgroundSeries[0], !0)
                },
                determineBackgroundSeriesLabel: function() {
                    return this.backgroundSeries[0].getLabel()
                },
                determinePrimarySeriesColor: function() {
                    return this.primarySeries ? c.a.mapSeriesType(this.primarySeries[0], !0) : ""
                },
                determinePrimarySeriesLabel: function() {
                    return this.primarySeries ? this.primarySeries[0].getLabel() : s.a.localize("chart_no_overlay")
                },
                determineSecondarySeriesColor: function() {
                    return this.secondarySeries ? c.a.mapSeriesType(this.secondarySeries[0], !0) : ""
                },
                determineSecondarySeriesLabel: function() {
                    return this.secondarySeries ? this.secondarySeries[0].getLabel() : s.a.localize("chart_no_overlay")
                },
                findSeries: function(t) {
                    return n.a.find(this.availableSeries, function(e) {
                        return e[0].getUniqueName() == t
                    }, this)
                },
                isEqual: function(t, e) {
                    if (t.length !== e.length)
                        return !1;
                    for (var i = 0; i < t.length; i++)
                        if (t[i].getUniqueName() !== e[i].getUniqueName())
                            return !1;
                    return !0
                },
                isBackground: function(t) {
                    return this.isEqual(t, this.backgroundSeries)
                },
                isPrimary: function(t) {
                    return this.isEqual(t, this.primarySeries)
                },
                determineBackgroundSeries: function() {
                    return this.backgroundSeries
                },
                determinePrimarySeries: function() {
                    return null
                },
                determineSecondarySeries: function() {
                    return null
                },
                onPrimaryDropdownClicked: function(e) {
                    e.preventDefault();
                    var i = t(e.currentTarget).attr("data-value");
                    this.primarySeries = this.findSeries(i),
                    this.render(),
                    this.trigger(m.PrimaryChanged, this.primarySeries)
                },
                onSecondaryDropdownClicked: function(e) {
                    e.preventDefault();
                    var i = t(e.currentTarget).attr("data-value");
                    this.secondarySeries = this.findSeries(i),
                    this.render(),
                    this.trigger(m.SecondaryChanged, this.secondarySeries)
                },
                onResetZoomClicked: function() {
                    this.hideZoomButton(),
                    this.trigger(m.ZoomReset)
                },
                addRangeSelector: function(t) {
                    t = t[0],
                    this.chartRangeSelector || t.chartRangeSelectorType && (this.chartRangeSelector = new t.chartRangeSelectorType({
                        el: this.$(".chart-range-selector"),
                        activityDetails: this.activityDetails,
                        activitySummary: this.activitySummary,
                        xAxisType: this.xAxisType
                    }),
                    this.listenTo(this.chartRangeSelector, p.a.Events.RangeSelected, this.onRangeSelected),
                    this.listenTo(this.chartRangeSelector, p.a.Events.RangeReset, this.onRangeReset),
                    this.chartRangeSelector.render())
                },
                onRangeSelected: function(t, e) {
                    var i = 0
                      , a = 0;
                    this.xAxisType == h.a.Duration ? (i = t,
                    a = e) : (i = l.a.convertDistance(t),
                    a = l.a.convertDistance(e)),
                    this.trigger(m.RangeSelected, i, a),
                    this.showZoomButton()
                },
                onRangeReset: function() {
                    this.hideZoomButton(),
                    this.trigger(m.ZoomReset)
                },
                showZoomButton: function() {
                    this.$(".reset-zoom").css("visibility", "visible"),
                    this.zoomButtonDisplayed = !0
                },
                hideZoomButton: function() {
                    this.$(".reset-zoom").css("visibility", "hidden"),
                    this.zoomButtonDisplayed = !1
                },
                shouldShowWorkoutTarget: function(t) {
                    this.showWorkoutSeries = t
                }
            });
            f.Events = m,
            e.a = f
        }
        ).call(this, i(10))
    },
    2276: function(t, e) {
        t.exports = '<div class="span4 clearfix">\n    <h5><span class="chart-color-circle" style="background-color:<%- backgroundColor %>"></span><%- backgroundSeriesLabel %></h5>\n    <div class="chart-range-selector chart-header-item" style="display: none"></div>\n</div>\n<div class="span2 clearfix">\n    <button class="reset-zoom btn btn-small" style="visibility: hidden;"><%- Localizer.localize(\'chart_reset_zoom\') %></button>\n</div>\n<div class="span6 clearfix">\n    <div class="pull-right overlay-options">\n        <% if (series.length > 0) { %>\n        <div class="overlay-item dropdown">\n            <button class="dropdown-toggle" data-toggle="dropdown" aria-label="<%- Localizer.localize(\'icon_toggle\') %>">\n                <span class="<%- primarySeries ? \'chart-color-circle\' : \'\' %>" style="background-color:<%- primaryColor %>"></span><%- primarySeriesLabel %><i class="icon-pointer-down"></i>\n            </button>\n            <ul id="primary-dropdown" class="dropdown-menu pull-right" role="menu" aria-label="<%- Localizer.localize(\'manualActivity.activityType.info\') %>">\n                <li class="<%- primarySeries == null ? \'active\' : \'\' %>" role="none">\n                    <a href="#" role="menuitem"><%- Localizer.localize(\'chart_no_overlay\') %></a></li>\n                <% for (var i = 0; i < series.length; i++) { %>\n                <%      var seriesRow = series[i][0]; %>\n                    <% if (primarySeries && seriesRow.getUniqueName() == primarySeries[0].getUniqueName()) { %>\n                        <li class="active" data-value="<%- seriesRow.getUniqueName() %>" aria-label="<%- seriesRow.getUniqueName() %>" role="none">\n                            <a href="#" role="menuitem"><%- seriesRow.getLabel() %></a></li>\n                    <% } else { %>\n                        <li data-value="<%- seriesRow.getUniqueName() %>" role="none" aria-label="<%- seriesRow.getUniqueName() %>">\n                            <a href="#" role="menuitem"><%- seriesRow.getLabel() %></a></li>\n                    <% } %>\n                <% } %>\n            </ul>\n        </div>\n        <% } %>\n        <% if (series.length > 1 && primarySeries) { %>\n        <div class="overlay-item dropdown">\n            <button class="dropdown-toggle" data-toggle="dropdown" aria-label="<%- Localizer.localize(\'icon_toggle\') %>">\n                <span class="<%- secondarySeries ? \'chart-color-circle\' : \'\' %>" style="background-color:<%- secondaryColor %>"></span><%- secondarySeriesLabel %><i class="icon-pointer-down"></i>\n            </button>\n            <ul id="secondary-dropdown" class="dropdown-menu pull-right" role="menu" aria-label="<%- Localizer.localize(\'manualActivity.activityType.info\') %>">\n                <li class="<%- secondarySeries == null ? \'active\' : \'\' %>" role="none">\n                    <a href="#" role="menuitem"><%- Localizer.localize(\'chart_no_overlay\') %></a>\n                </li>\n                <% for (var i = 0; i < series.length; i++) { %>\n                <%      var seriesRow = series[i][0]; %>\n                    <% if (secondarySeries && seriesRow.getUniqueName() == secondarySeries[0].getUniqueName()) { %>\n                    <li class="active" data-value="<%- seriesRow.getUniqueName() %>" role="none" aria-label="<%- seriesRow.getUniqueName() %>">\n                        <a href="#" role="menuitem"><%- seriesRow.getLabel() %></a>\n                    </li>\n                    <% } else { %>\n                    <li data-value="<%- seriesRow.getUniqueName() %>" role="none" aria-label="<%- seriesRow.getUniqueName() %>">\n                        <a href="#" role="menuitem"><%- seriesRow.getLabel() %></a>\n                    </li>\n                    <% } %>\n                <% } %>\n            </ul>\n        </div>\n        <% } %>\n    </div>\n    <% if (showWorkoutSeries) { %>\n        <div class="pull-right">\n            <h5><span class="chart-color-circle" style="background-color:<%- workoutSeriesColor %>"></span><%- Localizer.localize(\'workout_target\') %></h5>  \n        </div>\n    <% } %>\n</div>\n\n'
    },
    2277: function(t, e) {
        t.exports = '<div id=\'chart-header-placeholder\' class="row-fluid"></div>\n<div class="no-padding">\n    <div class="zoomed-chart" style="width:100%; height:calc(100% - 320px);"></div>\n</div>\n\n<% if (xAxisTypes.length) { %>\n\n<select class="input-medium x-axis-value" aria-label="<%- Localizer.localize(\'manualActivity.activityType.info\') %>">\n    <% for (var i = 0; i < xAxisTypes.length; i++) {    %>\n    <%  var xAxisType = xAxisTypes[i];                  %>\n    <option value="<%- xAxisType.name %>"><%- xAxisType.label %></option>\n    <% }                                                %>\n\n</select>\n\n<% } %>\n'
    },
    2278: function(t, e, i) {
        "use strict";
        var a = {
            green: "#00B050",
            yellow: "#daf200",
            orange: "#E9AE00",
            red: "#F02751"
        }
          , n = [{
            max: 0,
            color: a.green
        }, {
            max: 1,
            color: a.yellow
        }, {
            max: 4,
            color: a.orange
        }, {
            max: 8,
            color: a.red
        }];
        e.a = {
            buildStops: function(t, e) {
                e = e || n;
                for (var i = [], a = 0; a < e.length; a++) {
                    var r = e[a].max / t;
                    r <= 1 && i.push([r, e[a].color])
                }
                return i
            },
            Colors: a,
            GradientRangeMaxes: n
        }
    },
    2279: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(8)
          , o = n.a.View.extend({
            initialize: function(t) {},
            render: function() {
                this.$el.addClass(this.customClasses),
                this.$el.html(this.template({
                    Localizer: r.a
                })),
                this.$el.show()
            }
        });
        o.Events = {
            OnChartToggle: "OnChartToggle"
        },
        e.a = o
    },
    2280: function(t, e) {
        t.exports = '<% if (chartTitles.length) { %>\n<div class="row-fluid chart-header">\n    <div class="span9">\n        <div class="chart-name chart-header-item">\n            <% var i, chartTitle, seriesColor; %>\n            <% for (i = 0; i < chartTitles.length; i++) { %>\n                <% chartTitle = chartTitles[i].chartTitle; %>\n                <% seriesColor = chartTitles[i].seriesColor; %>\n                <span class="chart-color-circle" style="background-color:<%- seriesColor %>"></span><span class="chart-title"><%- chartTitle %></span>\n            <% } %>\n            <% if (helpKey) { %>\n                <a href="#" class="help-icon" data-toggle="modal" data-help-key="<%- helpKey %>" role="button" aria-label="<%- Localizer.localize(\'help.title\') %>">\n                    <i class="icon-help"></i>\n                </a>\n            <% } %>\n        </div>\n        <div class="chart-range-selector chart-header-item" style="display: none">\n\n        </div>\n        <div class="chart-selector chart-header-item" style="display:none"></div>\n    </div>\n    <div class="span3">\n        <% if (canExpandChart) { %>\n        <div class="pull-right">\n            <button class="chart-zoom-toggle" aria-label="<%- Localizer.localize(\'course_map_elevation_chart_expand\') %>"><i class="icon-full-screen"></i>\n            </button>\n        </div>\n        <% } %>\n        <div class="workout-target-label pull-right hidden">\n            <span class="chart-color-circle" style="background-color:<%- workoutSeriesColor %>"></span><%- Localizer.localize(\'workout_target\') %>\n        </div>\n    </div>\n</div>\n<% } %>\n<div class="chart-placeholder bottom-s"></div>\n'
    },
    2281: function(t, e, i) {
        var a, n;
        n = function(t) {
            !function(t) {
                var e = t.merge
                  , i = t.addEvent
                  , a = t.extend
                  , n = t.each
                  , r = t.isString
                  , o = t.isNumber
                  , s = t.defined
                  , l = t.isObject
                  , c = t.inArray
                  , h = t.erase
                  , p = t.find
                  , d = t.format
                  , u = t.pick
                  , m = t.objectEach
                  , f = t.uniqueKey
                  , g = t.doc
                  , y = t.splat
                  , v = t.destroyObjectProperties
                  , b = t.grep
                  , A = t.Tooltip.prototype
                  , _ = t.Series.prototype
                  , C = t.Chart.prototype
                  , w = {
                    arrow: {
                        tagName: "marker",
                        render: !1,
                        id: "arrow",
                        refY: 5,
                        refX: 5,
                        markerWidth: 10,
                        markerHeight: 10,
                        children: [{
                            tagName: "path",
                            d: "M 0 0 L 10 5 L 0 10 Z",
                            strokeWidth: 0
                        }]
                    }
                }
                  , x = {
                    markerSetter: function(t) {
                        return function(e) {
                            this.attr(t, "url(#" + e + ")")
                        }
                    }
                };
                a(x, {
                    markerEndSetter: x.markerSetter("marker-end"),
                    markerStartSetter: x.markerSetter("marker-start")
                }),
                t.SVGRenderer.prototype.definition = function(t) {
                    var e = this;
                    return function t(i, a) {
                        var r;
                        return n(y(i), function(i) {
                            var n = e.createElement(i.tagName)
                              , o = {};
                            m(i, function(t, e) {
                                "tagName" !== e && "children" !== e && "textContent" !== e && (o[e] = t)
                            }),
                            n.attr(o),
                            n.add(a || e.defs),
                            i.textContent && n.element.appendChild(g.createTextNode(i.textContent)),
                            t(i.children || [], n),
                            r = n
                        }),
                        r
                    }(t)
                }
                ,
                t.SVGRenderer.prototype.addMarker = function(i, a) {
                    var n = {
                        id: i
                    }
                      , r = {
                        stroke: a.color || "none",
                        fill: a.color || "rgba(0, 0, 0, 0.75)"
                    };
                    return n.children = t.map(a.children, function(t) {
                        return e(r, t)
                    }),
                    (a = this.definition(e({
                        markerWidth: 20,
                        markerHeight: 20,
                        refX: 0,
                        refY: 0,
                        orient: "auto"
                    }, a, n))).id = i,
                    a
                }
                ;
                var S = t.MockPoint = function(t, e) {
                    this.mock = !0,
                    this.series = {
                        visible: !0,
                        chart: t,
                        getPlotBox: _.getPlotBox
                    },
                    this.init(t, e)
                }
                  , T = t.mockPoint = function(t, e) {
                    return new S(t,e)
                }
                ;
                S.prototype = {
                    init: function(t, e) {
                        var i = e.xAxis
                          , a = (i = s(i) ? t.xAxis[i] || t.get(i) : null,
                        e.yAxis);
                        t = s(a) ? t.yAxis[a] || t.get(a) : null,
                        i ? (this.x = e.x,
                        this.series.xAxis = i) : this.plotX = e.x,
                        t ? (this.y = e.y,
                        this.series.yAxis = t) : this.plotY = e.y
                    },
                    translate: function() {
                        var t = (e = this.series).xAxis
                          , e = e.yAxis;
                        t && (this.plotX = t.toPixels(this.x, !0)),
                        e && (this.plotY = e.toPixels(this.y, !0)),
                        this.isInside = this.isInsidePane()
                    },
                    alignToBox: function(t) {
                        t && this.translate(),
                        t = this.plotX;
                        var e, i = this.plotY;
                        return this.series.chart.inverted && (e = t,
                        t = i,
                        i = e),
                        [t, i, 0, 0]
                    },
                    getLabelConfig: function() {
                        return {
                            x: this.x,
                            y: this.y,
                            point: this
                        }
                    },
                    isInsidePane: function() {
                        var t = this.plotX
                          , e = this.plotY
                          , i = this.series.xAxis
                          , a = this.series.yAxis
                          , n = !0;
                        return i && (n = s(t) && 0 <= t && t <= i.len),
                        a && (n = n && s(e) && 0 <= e && e <= a.len),
                        n
                    }
                },
                t.defaultOptions.annotations = [];
                var E = t.Annotation = function(t, i) {
                    this.chart = t,
                    this.labels = [],
                    this.shapes = [],
                    this.userOptions = i,
                    this.options = e(this.defaultOptions, i),
                    this.init(t, i)
                }
                ;
                E.prototype = {
                    shapesWithoutBackground: ["connector"],
                    attrsMap: {
                        backgroundColor: "fill",
                        borderColor: "stroke",
                        borderWidth: "stroke-width",
                        dashStyle: "dashstyle",
                        strokeWidth: "stroke-width",
                        stroke: "stroke",
                        fill: "fill",
                        zIndex: "zIndex",
                        width: "width",
                        height: "height",
                        borderRadius: "r",
                        r: "r",
                        padding: "padding"
                    },
                    defaultOptions: {
                        visible: !0,
                        labelOptions: {
                            align: "center",
                            allowOverlap: !1,
                            backgroundColor: "rgba(0, 0, 0, 0.75)",
                            borderColor: "black",
                            borderRadius: 3,
                            borderWidth: 1,
                            className: "",
                            crop: !1,
                            formatter: function() {
                                return s(this.y) ? this.y : "Annotation label"
                            },
                            overflow: "justify",
                            padding: 5,
                            shadow: !1,
                            shape: "callout",
                            style: {
                                fontSize: "11px",
                                fontWeight: "normal",
                                color: "contrast"
                            },
                            useHTML: !1,
                            verticalAlign: "bottom",
                            x: 0,
                            y: -16
                        },
                        shapeOptions: {
                            stroke: "rgba(0, 0, 0, 0.75)",
                            strokeWidth: 1,
                            fill: "rgba(0, 0, 0, 0.75)",
                            r: 0
                        },
                        zIndex: 6
                    },
                    init: function() {
                        var t = this;
                        n(this.options.labels || [], this.initLabel, this),
                        n(this.options.shapes || [], this.initShape, this),
                        this.labelCollector = function() {
                            return b(t.labels, function(t) {
                                return !t.options.allowOverlap
                            })
                        }
                        ,
                        this.chart.labelCollectors.push(this.labelCollector)
                    },
                    redraw: function() {
                        this.group || this.render(),
                        this.redrawItems(this.shapes),
                        this.redrawItems(this.labels)
                    },
                    redrawItems: function(t) {
                        for (var e = t.length; e--; )
                            this.redrawItem(t[e])
                    },
                    render: function() {
                        var t = this.chart.renderer
                          , e = this.group = t.g("annotation").attr({
                            zIndex: this.options.zIndex,
                            visibility: this.options.visible ? "visible" : "hidden"
                        }).add();
                        this.shapesGroup = t.g("annotation-shapes").add(e),
                        this.labelsGroup = t.g("annotation-labels").attr({
                            translateX: 0,
                            translateY: 0
                        }).add(e),
                        this.shapesGroup.clip(this.chart.plotBoxClip)
                    },
                    setVisible: function(t) {
                        var e = this.options;
                        t = u(t, !e.visible),
                        this.group.attr({
                            visibility: t ? "visible" : "hidden"
                        }),
                        e.visible = t
                    },
                    destroy: function() {
                        var t = this.chart
                          , e = function(t) {
                            t.destroy()
                        };
                        h(this.chart.labelCollectors, this.labelCollector),
                        n(this.labels, e),
                        n(this.shapes, e),
                        v(this, t)
                    },
                    initShape: function(t) {
                        var i = this.chart.renderer;
                        t = e(this.options.shapeOptions, t);
                        var n = this.attrsFromOptions(t)
                          , r = i[t.type] ? t.type : "rect";
                        (i = i[r](0, -9e9, 0, 0)).points = [],
                        i.type = r,
                        i.options = t,
                        i.itemType = "shape",
                        "path" === r && a(i, {
                            markerStartSetter: x.markerStartSetter,
                            markerEndSetter: x.markerEndSetter,
                            markerStart: x.markerStart,
                            markerEnd: x.markerEnd
                        }),
                        i.attr(n),
                        t.className && i.addClass(t.className),
                        this.shapes.push(i)
                    },
                    initLabel: function(t) {
                        t = e(this.options.labelOptions, t);
                        var i = this.attrsFromOptions(t)
                          , a = this.chart.renderer.label("", 0, -9e9, t.shape, null, null, t.useHTML, null, "annotation-label");
                        a.points = [],
                        a.options = t,
                        a.itemType = "label",
                        a.labelrank = t.labelrank,
                        a.annotation = this,
                        a.attr(i),
                        "contrast" === (i = t.style).color && (i.color = this.chart.renderer.getContrast(-1 < c(t.shape, this.shapesWithoutBackground) ? "#FFFFFF" : t.backgroundColor)),
                        a.css(i).shadow(t.shadow),
                        t.className && a.addClass(t.className),
                        this.labels.push(a)
                    },
                    redrawItem: function(t) {
                        var e, i = this.linkPoints(t), a = t.options, n = this.chart.time;
                        i.length ? (t.parentGroup || this.renderItem(t),
                        "label" === t.itemType && (e = a.format || a.text,
                        t.attr({
                            text: e ? d(e, i[0].getLabelConfig(), n) : a.formatter.call(i[0])
                        })),
                        "path" === t.type ? this.redrawPath(t) : this.alignItem(t, !t.placed)) : this.destroyItem(t)
                    },
                    destroyItem: function(t) {
                        h(this[t.itemType + "s"], t),
                        t.destroy()
                    },
                    pointItem: function(t, e) {
                        return e && null !== e.series || (l(t) ? e = T(this.chart, t) : r(t) && (e = this.chart.get(t) || null)),
                        e
                    },
                    linkPoints: function(e) {
                        var i, a, n = e.options.points || e.options.point && t.splat(e.options.point), r = e.points, o = n && n.length;
                        for (i = 0; i < o; i++) {
                            if (!(a = this.pointItem(n[i], r[i])))
                                return e.points = [];
                            r[i] = a
                        }
                        return r
                    },
                    alignItem: function(t, e) {
                        var i = this.itemAnchor(t, t.points[0])
                          , a = this.itemPosition(t, i);
                        a ? (t.alignAttr = a,
                        t.placed = !0,
                        a.anchorX = i.absolutePosition.x,
                        a.anchorY = i.absolutePosition.y,
                        t[e ? "attr" : "animate"](a)) : (t.placed = !1,
                        t.attr({
                            x: 0,
                            y: -9e9
                        }))
                    },
                    redrawPath: function(t, e) {
                        var i, a, n = t.points, r = t["stroke-width"] || 1, o = ["M"], s = 0, l = 0, c = n && n.length;
                        if (c)
                            do {
                                a = n[s],
                                i = this.itemAnchor(t, a).absolutePosition,
                                o[++l] = i.x,
                                o[++l] = i.y,
                                0 === (i = l % 5) && (o[i + 1] === o[i + 4] && (o[i + 1] = o[i + 4] = Math.round(o[i + 1]) - r % 2 / 2),
                                o[i + 2] === o[i + 5] && (o[i + 2] = o[i + 5] = Math.round(o[i + 2]) + r % 2 / 2)),
                                s < c - 1 && (o[++l] = "L"),
                                a = a.series.visible
                            } while (++s < c && a);a ? t[e ? "attr" : "animate"]({
                            d: o
                        }) : t.attr({
                            d: "M 0 -9000000000"
                        }),
                        t.placed = a
                    },
                    renderItem: function(t) {
                        t.add("label" === t.itemType ? this.labelsGroup : this.shapesGroup),
                        this.setItemMarkers(t)
                    },
                    setItemMarkers: function(t) {
                        var i = t.options
                          , a = this.chart
                          , r = a.options.defs
                          , o = i.fill
                          , l = s(o) && "none" !== o ? o : i.stroke;
                        n(["markerStart", "markerEnd"], function(n) {
                            var o, s, c, h = i[n];
                            if (h) {
                                for (c in r)
                                    if (h === (o = r[c]).id && "marker" === o.tagName) {
                                        s = o;
                                        break
                                    }
                                s && (h = t[n] = a.renderer.addMarker((i.id || f()) + "-" + s.id, e(s, {
                                    color: l
                                })),
                                t.attr(n, h.attr("id")))
                            }
                        })
                    },
                    itemAnchor: function(t, i) {
                        return t = i.series.getPlotBox(),
                        {
                            relativePosition: i = {
                                x: (i = i.mock ? i.alignToBox(!0) : A.getAnchor.call({
                                    chart: this.chart
                                }, i))[0],
                                y: i[1],
                                height: i[2] || 0,
                                width: i[3] || 0
                            },
                            absolutePosition: e(i, {
                                x: i.x + t.translateX,
                                y: i.y + t.translateY
                            })
                        }
                    },
                    itemPosition: function(t, e) {
                        var i, n = this.chart, r = t.points[0], o = t.options, l = e.absolutePosition, c = e.relativePosition;
                        return (e = r.series.visible && S.prototype.isInsidePane.call(r)) && (s(o.distance) || o.positioner ? i = (o.positioner || A.getPosition).call({
                            chart: n,
                            distance: u(o.distance, 16)
                        }, t.width, t.height, {
                            plotX: c.x,
                            plotY: c.y,
                            negative: r.negative,
                            ttBelow: r.ttBelow,
                            h: c.height || c.width
                        }) : (r = {
                            x: l.x,
                            y: l.y,
                            width: 0,
                            height: 0
                        },
                        i = this.alignedPosition(a(o, {
                            width: t.width,
                            height: t.height
                        }), r),
                        "justify" === t.options.overflow && (i = this.alignedPosition(this.justifiedOptions(t, o, i), r))),
                        o.crop && (o = i.x - n.plotLeft,
                        r = i.y - n.plotTop,
                        e = n.isInsidePlot(o, r) && n.isInsidePlot(o + t.width, r + t.height))),
                        e ? i : null
                    },
                    alignedPosition: function(t, e) {
                        var i, a, n = t.align, r = t.verticalAlign, o = (e.x || 0) + (t.x || 0), s = (e.y || 0) + (t.y || 0);
                        return "right" === n ? i = 1 : "center" === n && (i = 2),
                        i && (o += (e.width - (t.width || 0)) / i),
                        "bottom" === r ? a = 1 : "middle" === r && (a = 2),
                        a && (s += (e.height - (t.height || 0)) / a),
                        {
                            x: Math.round(o),
                            y: Math.round(s)
                        }
                    },
                    justifiedOptions: function(t, e, i) {
                        var a = this.chart
                          , n = e.align
                          , r = e.verticalAlign
                          , o = t.box ? 0 : t.padding || 0
                          , s = t.getBBox();
                        t = {
                            align: n,
                            verticalAlign: r,
                            x: e.x,
                            y: e.y,
                            width: t.width,
                            height: t.height
                        },
                        e = i.x - a.plotLeft;
                        var l = i.y - a.plotTop;
                        return 0 > (i = e + o) && ("right" === n ? t.align = "left" : t.x = -i),
                        (i = e + s.width - o) > a.plotWidth && ("left" === n ? t.align = "right" : t.x = a.plotWidth - i),
                        0 > (i = l + o) && ("bottom" === r ? t.verticalAlign = "top" : t.y = -i),
                        (i = l + s.height - o) > a.plotHeight && ("top" === r ? t.verticalAlign = "bottom" : t.y = a.plotHeight - i),
                        t
                    },
                    attrsFromOptions: function(t) {
                        var e, i, a = this.attrsMap, n = {};
                        for (e in t)
                            (i = a[e]) && (n[i] = t[e]);
                        return n
                    }
                },
                t.extend(C, {
                    addAnnotation: function(t, e) {
                        var i = new E(this,t);
                        return this.annotations.push(i),
                        this.options.annotations.push(t),
                        u(e, !0) && i.redraw(),
                        i
                    },
                    removeAnnotation: function(t) {
                        var e = this.annotations
                          , i = p(e, function(e) {
                            return e.options.id === t
                        });
                        i && (h(this.options.annotations, i.userOptions),
                        h(e, i),
                        i.destroy())
                    },
                    drawAnnotations: function() {
                        var t = this.plotBoxClip
                          , e = this.plotBox;
                        t ? t.attr(e) : this.plotBoxClip = this.renderer.clipRect(e),
                        n(this.annotations, function(t) {
                            t.redraw()
                        })
                    }
                }),
                C.callbacks.push(function(t) {
                    t.annotations = [],
                    n(t.options.annotations, function(e) {
                        t.annotations.push(new E(t,e))
                    }),
                    t.drawAnnotations(),
                    i(t, "redraw", t.drawAnnotations),
                    i(t, "destroy", function() {
                        var e = t.plotBoxClip;
                        e && e.destroy && e.destroy()
                    })
                }),
                i(t.Chart, "afterGetContainer", function() {
                    this.options.defs = e(w, this.options.defs || {}),
                    m(this.options.defs, function(t) {
                        "marker" === t.tagName && !1 !== t.render && this.renderer.addMarker(t.id, t)
                    }, this)
                }),
                t.SVGRenderer.prototype.symbols.connector = function(t, e, i, a, n) {
                    var r = n && n.anchorX;
                    n = n && n.anchorY;
                    var s, l, c = i / 2;
                    return o(r) && o(n) && (s = ["M", r, n],
                    0 > (l = e - n) && (l = -a - l),
                    l < i && (c = r < t + i / 2 ? l : i - l),
                    n > e + a ? s.push("L", t + c, e + a) : n < e ? s.push("L", t + c, e) : r < t ? s.push("L", t, e + a / 2) : r > t + i && s.push("L", t + i, e + a / 2)),
                    s || []
                }
            }(t)
        }
        ,
        "object" === typeof t && t.exports ? t.exports = n : void 0 === (a = function() {
            return n
        }
        .call(e, i, e, t)) || (t.exports = a)
    },
    2282: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1267)
          , r = i(1243)
          , o = i(1257);
        e.a = n.a.extend({
            primarySeriesType: o.a.HeartRate,
            fillColor: r.a.mapSeriesType(o.a.HeartRate),
            chartTitle: function() {
                return a.a.localize("label_heart_rate")
            }
        })
    },
    2283: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(13)
          , r = i(1267)
          , o = i(1243)
          , s = i(1257);
        e.a = r.a.extend({
            primarySeriesType: s.a.Speed,
            fillColor: o.a.mapSeriesType(s.a.Speed),
            chartTitle: function() {
                var t = this.activitySummary.get("activityTypeDTO").typeKey
                  , e = n.a.getSpeedTypeFromActivityType(t);
                return a.a.localize(e === n.a.SpeedTypes.Flying ? n.a.getSpeedTypeLabelKey(t) : "label_speed")
            }
        })
    },
    2284: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(8)
          , o = i(13)
          , s = i(1267)
          , l = i(1243)
          , c = i(1257);
        e.a = s.a.extend({
            chartSelector: c.a.Pace.chartSelector,
            primarySeriesType: c.a.Pace,
            fillColor: l.a.mapSeriesType(c.a.Pace),
            formattingFunction: n.a.bind(o.a.formatPace, o.a),
            chartTitle: function() {
                return r.a.localize("label_pace")
            },
            getActivityTypeKey: function(t) {
                var e = t || this;
                return e && e.activitySummary.get("activityTypeDTO") && e.activitySummary.get("activityTypeDTO").typeKey ? e.activitySummary.get("activityTypeDTO").typeKey : ""
            }
        })
    },
    2285: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1267)
          , r = i(1243)
          , o = i(1257);
        e.a = n.a.extend({
            chartRangeSelectorType: o.a.PowerWatts.chartRangeSelectorType,
            primarySeriesType: o.a.PowerWatts,
            fillColor: r.a.mapSeriesType(o.a.PowerWatts),
            chartTitle: function() {
                return a.a.localize("label_full_power", a.a.localize("label_power_unit"))
            },
            yLabel: function() {
                return a.a.localize("label_power")
            }
        })
    },
    2286: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(13)
          , r = i(1267)
          , o = i(1243)
          , s = i(1257);
        e.a = r.a.extend({
            primarySeriesType: s.a.OpenWaterSwimSpeed,
            fillColor: o.a.mapSeriesType(s.a.OpenWaterSwimSpeed),
            chartTitle: function() {
                var t = this.activitySummary.get("activityTypeDTO").typeKey
                  , e = n.a.getSpeedTypeFromActivityType(t);
                return a.a.localize(e === n.a.SpeedTypes.Flying ? n.a.getSpeedTypeLabelKey(t) : "label_speed")
            }
        })
    },
    2287: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1267)
          , r = i(1243)
          , o = i(1257);
        e.a = n.a.extend({
            primarySeriesType: o.a.OpenWaterSwimPace,
            fillColor: r.a.mapSeriesType(o.a.OpenWaterSwimPace),
            reversed: !0,
            chartTitle: function() {
                return a.a.localize("label_swim_pace")
            }
        })
    },
    2288: function(t, e) {
        t.exports = '<span href="<%- url %>" class="inline-edit-target page-title-overflow"><%- value %>\n<% if (label) {     %>\n<%- label %>\n<% }                %>\n</span>\n\n<button class="inline-edit-trigger modal-trigger" aria-label="<%- Localizer.localize(\'edit\') %>">\n    <i class="icon-pencil"></i>\n</button>\n\n<div class="inline-edit-editable">\n    <div class="inline-edit-editable-text page-title-overflow" contenteditable="true"><%- value %></div>\n    <span class="inline-edit-actions">\n        <button class="inline-edit-save icon-checkmark" aria-label="<%- Localizer.localize(\'button_save\') %>"></button>\n        <button class="inline-edit-cancel icon-close" aria-label="<%- Localizer.localize(\'button_cancel\') %>"></button>\n    </span>\n</div>\n    '
    },
    2289: function(t, e) {
        t.exports = '<% if (gearCount == 0) { %>\n    <h5 class="font-thin text-center"><%- Localizer.localize(\'label_no_gear_available\') %></h5>\n<% } %>\n\n<% if (shoes && shoes.length > 0) { %>\n<h6 class="bottom-none"><%- Localizer.localize(\'gear_type_shoes\') %></h6>\n<ul class="gear-list">\n\n    <% for (var i = 0; i < shoes.length; i++) { %>\n    <%  var shoe = shoes[i];                        %>\n    <li class="active" title="<%- shoe.displayName %>" id="<%- \'edit-gear-\' + shoe.uuid %>">\n        <span class="gear-status">\n            <div class="small spinner blue" title="Loading..."></div>\n        </span>\n        <i class="icon-steps gear-type"></i>\n\n        <% if (shoe.gearStatusName === \'retired\') { %>\n            <span class="label"><%- Localizer.localize(\'label_status_retired\') %>\n        <% } %>\n        </span> <%- shoe.fullDisplayName %>\n    </li>\n    <% }                                            %>\n</ul>\n<% } %>\n\n<% if (bikes && bikes.length > 0) { %>\n<h6 class="bottom-none"><%- Localizer.localize(\'gear_type_bikes\') %></h6>\n<ul class="gear-list">\n    <% for (var i = 0; i < bikes.length; i++) { %>\n    <%  var bike = bikes[i];                        %>\n    <li class="active" title="<%- bike.fullDisplayName %>" id="<%- \'edit-gear-\' + bike.uuid %>">\n        <span class="gear-status"><div class="small spinner blue" title="Loading..."></div></span>\n        <i class="icon-activity-cycling gear-type"></i>\n\n        <% if (bike.gearStatusName === \'retired\') { %>\n            <span class="label"><%- Localizer.localize(\'label_status_retired\') %>\n        <% } %>\n        </span> <%- bike.fullDisplayName %>\n    </li>\n    <% }                                            %>\n</ul>\n<% } %>\n\n<% if (others && others.length > 0) { %>\n<h6 class="bottom-none"><%- Localizer.localize(\'gear_type_other\') %></h6>\n<ul class="gear-list">\n    <% for (var i = 0; i < others.length; i++) { %>\n    <%  var other = others[i];                        %>\n    <li class="active" title="<%- other.fullDisplayName %>" id="<%- \'edit-gear-\' + other.uuid %>">\n        <span class="gear-status"><div class="small spinner blue" title="Loading..."></div></span>\n        <i class="icon-gear gear-type"></i>\n\n        <% if (other.gearStatusName === \'retired\') { %>\n            <span class="label"><%- Localizer.localize(\'label_status_retired\') %>\n        <% } %>\n        </span> <%- other.fullDisplayName %>\n    </li>\n    <% }                                            %>\n</ul>\n<% } %>\n\n<div class="text-center top-xs">\n\n    <% if (gearCount > 0) { %>\n    <a href="/modern/gear" class="manage-gear-link colored"><%- Localizer.localize(\'label_manage_gear\') %></a>\n    <% } else { %>\n    <a href="/modern/gear/add" class="add-gear-link colored"><%- Localizer.localize(\'label_add_gear\') %></a>\n    <% }        %>\n\n</div>\n\n'
    },
    2290: function(t, e) {
        t.exports = '<% if (gearCount) { %>\n    <%- Localizer.localize(\'label_gear\') %>:\n    <a class="toggle-add-gear" href="#attached-gear" <% if(!isEditPage) { print(\'data-scroll="smooth"\'); } %> ><span class="new-items-alert"><%- gearCount %></span></a>\n<% } else if (!readOnly) { %>\n    <%- Localizer.localize(\'label_gear\') %>:\n    <a class="toggle-add-gear colored" href="#"><%- Localizer.localize(\'add\') %></a>\n<% }  %>\n'
    },
    2291: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(13)
          , c = i(2292)
          , h = i.n(c)
          , p = o.a.View.extend({
            template: n.a.template(h.a),
            initialize: function(t) {
                this.repCountingActivity = t.repCountingActivity,
                this.times = {
                    total: null,
                    rest: null,
                    duration: null
                },
                this.isPilatesActivity = t.isPilatesActivity
            },
            render: function() {
                var t = this.model
                  , e = this.repCountingActivity.get("exerciseSets") && this.repCountingActivity.get("exerciseSets").length > 0 ? this.repCountingActivity.getTotalTime() : t.duration
                  , i = t.duration;
                e < i && (e = i),
                this.times.duration = this.repCountingActivity.getWorkTime(),
                this.times.total = e,
                this.isPilatesActivity || (this.times.rest = this.repCountingActivity.getRestTime()),
                this.$el.html(this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    totalTime: this.times.total,
                    workTime: this.times.duration,
                    restTime: this.times.rest,
                    isPilatesActivity: this.isPilatesActivity
                }))
            },
            updateTime: function(t) {
                var e = this.$("." + t.durationOrRest + "-time-value");
                this.times[t.durationOrRest] += t.delta,
                e.html(l.a.personalizeDuration(this.times[t.durationOrRest])),
                e = this.$(".total-time-value"),
                this.times.total = t.total,
                e.html(l.a.personalizeDuration(this.times.total))
            },
            updateAllTimes: function(t) {
                var e = this.$(".rest-time-value")
                  , i = this.$(".duration-time-value");
                this.times.rest += t.restDelta,
                this.times.duration += t.durationDelta,
                e.html(l.a.personalizeDuration(this.times.rest)),
                i.html(l.a.personalizeDuration(this.times.duration));
                var a = this.$(".total-time-value");
                this.times.total = t.total,
                a.html(l.a.personalizeDuration(this.times.total))
            }
        });
        e.a = p
    },
    2292: function(t, e) {
        t.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit total-time-value"><%- Personalizer.personalizeDuration(totalTime) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_time_total\') %></span>\n    </div>\n\n    <% if(!isPilatesActivity) { %>\n    <div class="data-block small">\n        <div class="data-bit duration-time-value"><%- Personalizer.personalizeDuration(workTime) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_work_time\') %></span>\n    </div>\n\n    <div class="data-block small">\n        <div class="data-bit rest-time-value"><%- Personalizer.personalizeDuration(restTime) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_rest_time\') %></span>\n    </div>\n    <% } %>\n</div>'
    },
    2293: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(13)
          , c = i(49)
          , h = i(2294)
          , p = i.n(h)
          , d = o.a.View.extend({
            template: n.a.template(p.a),
            initialize: function(t) {
                this.repCountingActivity = t.repCountingActivity,
                this.volume = 0,
                this.reps = null,
                this.sets = null,
                this.isPilatesActivity = t.isPilatesActivity,
                this.isYogaActivity = t.isYogaActivity
            },
            render: function() {
                this.isPilatesActivity || (this.volume = this.repCountingActivity.getTotalVolume()),
                this.reps = this.repCountingActivity.getTotalRepCount(),
                this.sets = this.repCountingActivity.getActiveSetCount() || 1,
                this.avgTimePerPose = this.repCountingActivity.getAverageTimePerActiveExercise(),
                this.$el.html(this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    isMetric: l.a.measurementSystem === l.a.MeasurementSystems.METRIC,
                    totalReps: this.reps,
                    activeSets: this.sets,
                    totalVolume: this.formatTotalVolume(),
                    isPilatesActivity: this.isPilatesActivity,
                    isYogaActivity: this.isYogaActivity,
                    label: this.getLabel(),
                    avgTimePerPose: this.avgTimePerPose
                })),
                this.renderTooltip()
            },
            renderTooltip: function() {
                new c.a({
                    el: this.$(".icon-help-volume"),
                    content: s.a.localize("tooltip_volume"),
                    placement: "right"
                }),
                this.isPilatesActivity && (new c.a({
                    el: this.$(".icon-help-reps"),
                    content: s.a.localize("reps_help_label"),
                    placement: "right"
                }),
                new c.a({
                    el: this.$(".icon-help-moves"),
                    content: s.a.localize("moves_help_label"),
                    placement: "right"
                }))
            },
            formatTotalVolume: function() {
                return this.volume > 0 ? l.a.convertWeight(this.volume) : l.a.zeroDash(0)
            },
            updateVolume: function(t) {
                this.volume += t.volumeDelta,
                this.$(".total-volume").html(this.formatTotalVolume())
            },
            updateReps: function(t) {
                this.reps += t.repDelta,
                this.$(".total-reps").html(this.reps)
            },
            updateSets: function(t) {
                this.sets += t.setDelta,
                this.$(".total-sets").html(this.sets)
            },
            getLabel: function() {
                return this.isPilatesActivity ? s.a.localize("label_total_moves") : this.isYogaActivity ? s.a.localize("label_total_poses") : s.a.localize("label_total_sets")
            }
        });
        e.a = d
    },
    2294: function(t, e) {
        t.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'workout_details\') %></h3>\n    <% if(!isYogaActivity) { %>\n    <div class="data-block small">\n        <div class="data-bit total-reps"><%- Personalizer.zeroDash(totalReps) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_total_reps\') %></span>\n        <% if(isPilatesActivity) { %>\n            <span class="help-icon" aria-label="<%- Localizer.localize(\'reps_help_label\') %>">\n                <span class="icon-help icon-help-reps"></span>\n            </span>\n        <% } %>\n    </div>\n    <% } %>\n\n    <div class="data-block small">\n        <div class="data-bit total-sets"><%- Personalizer.personalizeActiveSets(activeSets) %></div>\n        <span class="data-label"><%- label %></span>\n        <% if(isPilatesActivity) { %>\n            <span class="help-icon" aria-label="<%- Localizer.localize(\'moves_help_label\') %>">\n                <span class="icon-help icon-help-moves"></span>\n            </span>\n        <% } %>\n    </div>\n\n    <% if(!isPilatesActivity && !isYogaActivity) { %>\n    <div class="data-block small">\n        <div class="data-bit">\n            <span class="total-volume"><%- totalVolume %></span>\n            <% if(isMetric) { %>\n                <%- Localizer.localize(\'weight_unit_metric\') %>\n            <% } else { %>\n                <%- Localizer.localize(\'weight_unit_statute\') %>\n            <% } %>\n        </div>\n        <span class="data-label"><%- Localizer.localize(\'label_volume\') %></span>\n\n        <span class="help-icon" aria-label="<%- Localizer.localize(\'tooltip_volume\') %>">\n            <span class="icon-help icon-help-volume"></span>\n        </span>\n    </div>\n    <% } %>\n\n    <% if(isYogaActivity) { %>\n        <div class="data-block small">\n            <div class="data-bit total-reps"><%- Personalizer.personalizeStandingTime(avgTimePerPose) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_avg_time_per_pose\') %></span>\n        </div>\n    <% } %>\n</div>'
    },
    2295: function(t, e, i) {
        "use strict";
        i.d(e, "a", function() {
            return n
        });
        var a = i(1);
        function n(t) {
            return {
                type: a.gf,
                meta: {
                    cacheTime: t ? null : 12e4
                }
            }
        }
    },
    2296: function(t, e, i) {
        "use strict";
        i.d(e, "c", function() {
            return o
        }),
        i.d(e, "b", function() {
            return s
        }),
        i.d(e, "a", function() {
            return l
        });
        var a = {
            WARMUP: "interval_type_warmup",
            ACTIVE: "",
            REST: "interval_type_rest",
            COOLDOWN: "interval_type_cooldown",
            RECOVERY: "interval_type_recovery",
            OTHER: "interval_type_other"
        }
          , n = {
            ALL: "interval_type_all",
            WARMUP: "interval_type_warmup",
            ACTIVE: "",
            RECOVERY: "interval_type_recovery",
            COOLDOWN: "interval_type_cooldown",
            REST: "interval_type_rest"
        }
          , r = {
            running: "interval_active_type_running",
            cycling: "interval_active_type_cycling",
            swimming: "interval_active_type_swimming"
        }
          , o = function(t) {
            return t && (a.ACTIVE = r[t] || "Other"),
            a
        }
          , s = function(t) {
            return t && -1 === t.indexOf("ACTIVE") ? t : "ACTIVE"
        }
          , l = function(t) {
            return n.ACTIVE = r[t] || "Other",
            n
        }
    },
    2297: function(t, e, i) {
        var a = i(4513);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    2298: function(t, e, i) {
        "use strict";
        i.d(e, "a", function() {
            return r
        });
        var a = i(1411)
          , n = i(1279)
          , r = (i(13),
        i(37),
        function(t, e, i) {
            var r = t.activityTypeDTO.typeKey
              , o = []
              , s = n.a.getSpeedModelforActivity(t)
              , l = new a.a(t,s,e,i);
            switch (r) {
            case "apnea_diving":
            case "apnea_hunting":
                return t.maxDepth && o.push(l.getDeepestDive()),
                o.push(l.getSessionBottomTime()),
                o.push(l.getNumberOfApneaDives()),
                o.push(l.getDiveSurfaceTime()),
                t.diveSettings && t.diveSettings.waterType && o.push(l.getDiveWaterType()),
                {
                    activityStatMetrics: o
                };
            case "atv":
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                o.push(l.getAverageSpeedOrPace()),
                o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "auto_racing":
                return o.push(l.getBestLapTime()),
                o.push(l.getMaxSpeed()),
                o.push(l.getNumberOfRaceLap()),
                o.push(l.getAverageSpeedOrPace()),
                o.push(l.getTotalTime()),
                {
                    activityStatMetrics: o
                };
            case "backcountry_skiing_snowboarding_ws":
                return o.push(l.getDistance()),
                o.push(l.getElevationGain()),
                o.push(l.getElevationLoss()),
                o.push(l.getDuration()),
                o.push(l.getAverageHR()),
                {
                    activityStatMetrics: o
                };
            case "bouldering":
                return o.push(l.getTotalClimbRoutes()),
                o.push(l.getMaxDifficulity()),
                o.push(l.getClimbTime()),
                o.push(l.getCalories()),
                o.push(l.getAverageHR()),
                {
                    activityStatMetrics: o
                };
            case "indoor_climbing":
                return o.push(l.getTotalClimbRoutes()),
                o.push(l.getMaxDifficulity()),
                o.push(l.getClimbTime()),
                o.push(l.getClimbAscent()),
                o.push(l.getNumberOfSends()),
                {
                    activityStatMetrics: o
                };
            case "skate_skiing_ws":
            case "cross_country_skiing_ws":
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                o.push(l.getAverageSpeedOrPace()),
                t.averagePower && o.push(l.getAveragePower()),
                o.push(l.getAverageHR()),
                {
                    activityStatMetrics: o
                };
            case "ccr_diving":
            case "diving":
            case "gauge_diving":
            case "multi_gas_diving":
            case "single_gas_diving":
                return o.push(l.getMaxDepth()),
                o.push(l.getSessionBottomTime()),
                o.push(l.getMinWaterTemperature()),
                o.push(l.getGasType()),
                o.push(l.getSurfaceInterval()),
                {
                    activityStatMetrics: o
                };
            case "floor_climbing":
                return o.push(l.getTime()),
                o.push(l.getCalories()),
                o.push(l.getFloorsClimbed()),
                o.push(l.getFloorsPerMin()),
                {
                    activityStatMetrics: o
                };
            case "hiking":
            case "indoor_cardio":
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                o.push(l.getAverageSpeedOrPace()),
                o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "cycling":
            case "bmx":
            case "downhill_biking":
            case "gravel_cycling":
            case "indoor_cycling":
            case "mountain_biking":
            case "recumbent_cycling":
            case "road_biking":
            case "track_cycling":
            case "virtual_ride":
            case "cyclocross":
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                o.push(l.getAverageSpeedOrPace()),
                o.push(l.getElevationGain()),
                t.averagePower && o.push(l.getAveragePower()),
                {
                    activityStatMetrics: o
                };
            case "lap_swimming":
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                o.push(l.getAverageSpeedOrPace()),
                t.calories && o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "multi_sport":
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                o.push(l.getAverageSpeedOrPace()),
                o.push(l.getElevationGain()),
                t.averageHR && o.push(l.getAverageHR()),
                t.calories && o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "offshore_grinding":
                return o.push(l.getMaxSpeed()),
                o.push(l.getDuration()),
                o.push(l.getAverageHR()),
                t.averagePower && o.push(l.getAveragePower()),
                t.averageBikeCadence && o.push(l.getAverageCadence()),
                {
                    activityStatMetrics: o
                };
            case "onshore_grinding":
                return o.push(l.getDuration()),
                o.push(l.getAverageHR()),
                t.averagePower && o.push(l.getAveragePower()),
                t.averageBikeCadence && o.push(l.getAverageCadence()),
                o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "open_water_swimming":
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                s.avgSpeedOrPace && o.push(l.getAverageSpeedOrPace()),
                t.calories && o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "pilates":
                return o.push(l.getTime()),
                o.push(l.getCalories()),
                o.push(l.getAverageHR()),
                {
                    activityStatMetrics: o
                };
            case "resort_skiing_snowboarding_ws":
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                o.push(l.getElevationLoss()),
                o.push(l.getMaxSpeed()),
                o.push(l.getNumberOfRuns()),
                {
                    activityStatMetrics: o
                };
            case "strength_training":
                return o.push(l.getStrengthTotalTime()),
                o.push(l.getWorkoutTime()),
                o.push(l.getAverageHR()),
                o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "yoga":
                return o.push(l.getYogaPoses()),
                o.push(l.getTime()),
                o.push(l.getAvgRespirationRate()),
                o.push(l.getAverageHR()),
                o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                };
            case "breathwork":
                return o.push(l.getTime()),
                o.push(l.getAvgRespirationRate()),
                o.push(l.getAverageHR()),
                o.push(l.getStressChange()),
                {
                    activityStatMetrics: o
                };
            case "surfing":
                return o.push(l.getSurfTotalWaves()),
                o.push(l.getSurfLongestWave()),
                o.push(l.getSurfMaxSpeed()),
                o.push(l.getSurfTime()),
                o.push(l.getSurfSessionTime()),
                {
                    activityStatMetrics: o
                };
            default:
                return o.push(l.getDistance()),
                o.push(l.getDuration()),
                o.push(l.getAverageSpeedOrPace()),
                o.push(l.getElevationGain()),
                t.calories && o.push(l.getCalories()),
                {
                    activityStatMetrics: o
                }
            }
        }
        )
    },
    2345: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(13)
          , c = i(1245)
          , h = i.n(c)
          , p = i(1261)
          , d = i.n(p)
          , u = i(1243)
          , m = i(1364);
        d()(h.a);
        var f = o.a.View.extend({
            className: "te-gauge-chart",
            maxVal: 5,
            wChart: 175,
            hChart: 160,
            initialize: function(t) {
                return this.teType = t.teType ? t.teType : m.a.Types.Aerobic,
                this.data = t.data ? t.data : 0,
                this.teType === m.a.Types.Aerobic ? this.teTitle = s.a.localize("label.aerobic.te") : this.teTitle = s.a.localize("label.anaerobic.te"),
                t.options ? this.options = n.a.extend({}, this.getDefaultOptions(), t.options) : this.options = n.a.extend({}, this.getDefaultOptions()),
                this
            },
            render: function() {
                var t = "te-" + this.teType.toLowerCase() + "-gauge-chart";
                return this.$el.attr("id", t),
                this.$el.highcharts(this.options),
                this.formatGauge(),
                this
            },
            getDefaultOptions: function() {
                return {
                    chart: {
                        type: "solidgauge",
                        width: this.wChart,
                        height: this.hChart,
                        margin: [0, 0, 0, 0],
                        style: {
                            fontFamily: "'Open Sans', sans-serif"
                        }
                    },
                    title: null,
                    tooltip: {
                        enabled: !1
                    },
                    pane: {
                        size: "100%",
                        center: ["50%", "60%"],
                        startAngle: -130,
                        endAngle: 130,
                        background: {
                            borderWidth: 20,
                            backgroundColor: "transparent",
                            shape: "arc",
                            borderColor: u.a.Colors.baseGrey,
                            outerRadius: "90%",
                            innerRadius: "90%"
                        }
                    },
                    yAxis: {
                        min: 0,
                        max: this.maxVal,
                        lineWidth: 0,
                        tickPositions: []
                    },
                    plotOptions: {
                        solidgauge: {
                            animation: !1,
                            dataLabels: {
                                borderWidth: 0,
                                useHTML: !0,
                                format: "<div class='training-effect-score'><span class='data-bit'>" + l.a.personalizeTrainingEffect(this.data) + "</span><span class='data-label'>" + this.teTitle + "</span></div>",
                                y: -68
                            }
                        }
                    },
                    series: [{
                        data: [{
                            y: this.data,
                            radius: "90%",
                            innerRadius: "90%"
                        }]
                    }],
                    credits: {
                        enabled: !1
                    },
                    exporting: {
                        enabled: !1
                    }
                }
            },
            formatGauge: function() {
                var t = this.$el.find(".highcharts-container").find("svg");
                if (t.length > 0) {
                    var e = t[0].getElementsByTagName("path");
                    e.length >= 3 && (e[0].setAttributeNS(null, "stroke-linejoin", "round"),
                    e[2].setAttributeNS(null, "stroke-linejoin", "round"),
                    e[2].setAttributeNS(null, "stroke", m.a.getTrainingEffectColor(this.data)),
                    e[2].setAttributeNS(null, "stroke-width", "20"))
                }
            }
        })
          , g = i(2120)
          , y = i.n(g)
          , v = o.a.View.extend({
            initialize: function(t) {
                this.template = n.a.template(y.a),
                this.teType = t.teType,
                this.teValue = t.teValue,
                this.teMessage = t.teMessage
            },
            render: function() {
                var t = s.a.localize(this.teType + "_TRAINING_EFFECT");
                return t = m.a.getFeedback(this.teType, this.teValue, this.teMessage),
                this.$el.html(this.template({
                    feedbackTitle: t.feedbackTitle,
                    feedbackContent: t.feedbackContent
                })),
                this
            }
        })
          , b = i(2121)
          , A = i.n(b)
          , _ = o.a.View.extend({
            template: n.a.template(A.a),
            initialize: function(t) {
                return this.aerobicTrainingEffect = t.aerobicTrainingEffect,
                this.aerobicTrainingEffectMessage = t.aerobicTrainingEffectMessage,
                this.anaerobicTrainingEffect = t.anaerobicTrainingEffect,
                this.anaerobicTrainingEffectMessage = t.anaerobicTrainingEffectMessage,
                this
            },
            render: function() {
                if (this.$el.html(this.template({
                    Localizer: s.a,
                    aerobicTrainingEffect: this.aerobicTrainingEffect,
                    anaerobicTrainingEffect: this.anaerobicTrainingEffect
                })),
                null !== this.anaerobicTrainingEffect) {
                    var t = new v({
                        teType: m.a.Types.Anaerobic,
                        teValue: this.anaerobicTrainingEffect,
                        teMessage: this.anaerobicTrainingEffectMessage
                    })
                      , e = new f({
                        teType: m.a.Types.Anaerobic,
                        data: this.anaerobicTrainingEffect
                    });
                    this.$("#te-anaerobic-feedback").html(t.render().el),
                    this.$("#te-anaerobic-score").html(e.render().el)
                }
                if (null !== this.aerobicTrainingEffect) {
                    var i = new v({
                        teType: m.a.Types.Aerobic,
                        teValue: this.aerobicTrainingEffect,
                        teMessage: this.aerobicTrainingEffectMessage
                    })
                      , a = new f({
                        teType: m.a.Types.Aerobic,
                        data: this.aerobicTrainingEffect
                    });
                    this.$("#te-aerobic-feedback").html(i.render().el),
                    this.$("#te-aerobic-score").html(a.render().el)
                }
                return this
            }
        })
          , C = i(2122)
          , w = i.n(C)
          , x = o.a.View.extend({
            initialize: function(t) {
                this.template = n.a.template(w.a),
                this.aerobicTrainingEffect = t.aerobicTrainingEffect,
                this.anaerobicTrainingEffect = t.anaerobicTrainingEffect
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a,
                    aerobicTrainingEffect: this.aerobicTrainingEffect,
                    anaerobicTrainingEffect: this.anaerobicTrainingEffect
                })),
                this
            }
        })
          , S = i(2123)
          , T = i.n(S)
          , E = o.a.View.extend({
            initialize: function() {
                this.template = n.a.template(T.a)
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a
                })),
                this
            }
        })
          , k = i(2124)
          , L = i.n(k)
          , P = o.a.View.extend({
            initialize: function(t) {
                this.template = n.a.template(L.a),
                this.aerobicTrainingEffect = t.aerobicTrainingEffect,
                this.aerobicTrainingEffectMessage = t.aerobicTrainingEffectMessage,
                this.anaerobicTrainingEffect = t.anaerobicTrainingEffect,
                this.anaerobicTrainingEffectMessage = t.anaerobicTrainingEffectMessage,
                this.isWidget = t.isWidget
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    isWidget: this.isWidget
                })),
                !1 === this.isWidget && (this.thisActivityView = new _({
                    aerobicTrainingEffect: this.aerobicTrainingEffect,
                    aerobicTrainingEffectMessage: this.aerobicTrainingEffectMessage,
                    anaerobicTrainingEffect: this.anaerobicTrainingEffect,
                    anaerobicTrainingEffectMessage: this.anaerobicTrainingEffectMessage
                }),
                this.$("#te-this-activity-placeholder").html(this.thisActivityView.render().el)),
                this.learnMoreView = new x({
                    aerobicTrainingEffect: this.aerobicTrainingEffect,
                    anaerobicTrainingEffect: this.anaerobicTrainingEffect
                }),
                this.scoringScaleView = new E({}),
                this.$("#te-learn-placeholder").html(this.learnMoreView.render().el),
                this.$("#te-scores-placeholder").html(this.scoringScaleView.render().el)
            }
        });
        e.a = P
    },
    2366: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = n.a.Model.extend({});
        e.a = n.a.Collection.extend({
            model: r,
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/workouts"
            },
            initialize: function(t) {
                this.activityId = t.activityId
            }
        })
    },
    2557: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(132);
        e.a = n.a.Collection.extend({
            model: r.default
        })
    },
    2558: function(t, e, i) {
        "use strict";
        var a = i(56)
          , n = i(57)
          , r = i(63)
          , o = i(61)
          , s = i(62)
          , l = i(11)
          , c = i.n(l)
          , h = i(1940)
          , p = i(79)
          , d = i(83)
          , u = i(1629)
          , m = i.n(u)
          , f = 67
          , g = 33
          , y = function(t) {
            function e(t) {
                var i;
                return Object(a.a)(this, e),
                (i = Object(r.a)(this, Object(o.a)(e).call(this, t))).onHelpClicked = function() {
                    i.setState({
                        showHelpModal: !0
                    })
                }
                ,
                i.closeModal = function() {
                    i.setState({
                        showHelpModal: !1
                    })
                }
                ,
                i.state = {
                    showHelpModal: !1
                },
                i
            }
            return Object(s.a)(e, t),
            Object(n.a)(e, [{
                key: "getDotColor",
                value: function() {
                    var t, e = this.props.score;
                    switch (!0) {
                    case e > f:
                        t = "green";
                        break;
                    case e < g:
                        t = "red";
                        break;
                    default:
                        t = "yellow"
                    }
                    return t
                }
            }, {
                key: "getScoreLabel",
                value: function() {
                    var t = this.props.score;
                    return t > f ? c.a.createElement(d.a, {
                        ns: "common",
                        content: "good"
                    }) : t < g ? c.a.createElement(d.a, {
                        ns: "reportswidget",
                        content: "TRAINING_LOAD_LOW"
                    }) : c.a.createElement(d.a, {
                        ns: "common",
                        content: "average"
                    })
                }
            }, {
                key: "render",
                value: function() {
                    var t = this.getDotColor()
                      , e = this.props.isInStatsSection;
                    return c.a.createElement("div", {
                        className: "".concat(m.a.executionScore, " ").concat(e ? m.a.statsSectionExecutionScore : "")
                    }, c.a.createElement("div", {
                        className: m.a.wrapper
                    }, e ? c.a.createElement("div", null, c.a.createElement("h3", null, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "title_execution_score"
                    }), c.a.createElement("span", {
                        className: m.a.helpIcon
                    }, c.a.createElement(p.HelpIcon, {
                        onClick: this.onHelpClicked
                    }))), c.a.createElement("span", {
                        className: [m.a.dot, m.a[t], m.a.upperDot].join(" ")
                    }), c.a.createElement("span", {
                        className: m.a.score
                    }, this.props.score, "%"), c.a.createElement(p.DataLabel, null, this.getScoreLabel())) : c.a.createElement(c.a.Fragment, null, c.a.createElement("span", {
                        className: [m.a.dot, m.a[t], m.a.upperDot].join(" ")
                    }), c.a.createElement("span", {
                        className: m.a.score
                    }, this.props.score, "%"), c.a.createElement("span", {
                        className: m.a.label
                    }, c.a.createElement(d.a, {
                        ns: "activity",
                        content: "title_execution_score"
                    })), c.a.createElement("span", {
                        className: m.a.helpIcon
                    }, c.a.createElement(p.HelpIcon, {
                        onClick: this.onHelpClicked
                    })))), c.a.createElement("div", {
                        className: m.a.modalContainer
                    }, c.a.createElement(h.a, {
                        openModal: this.state.showHelpModal,
                        onCloseModal: this.closeModal,
                        content: "execution-score"
                    })))
                }
            }]),
            e
        }(c.a.Component);
        e.a = y
    },
    2559: function(t, e, i) {
        "use strict";
        var a = {
            getData: function(t, e) {
                for (var i, a = [], n = t.generateData(void 0, !0), r = 0, o = n.length; r < o; r++) {
                    var s = n[r][1];
                    s === e ? (a.push([n[r][0], s]),
                    this.isSinglePoint(r, o, n, e) && (r === o - 1 ? (i = (n[r][0] + (n[r][0] + (n[r][0] - n[r - 1][0]))) / 2,
                    a.push([i, s])) : a.push([(n[r + 1][0] + n[r][0]) / 2, s]))) : a.push([n[r][0], null])
                }
                return a
            },
            isSinglePoint: function(t, e, i, a) {
                if (0 === t) {
                    if (i[t + 1][1] !== a)
                        return !0
                } else {
                    if (t !== e - 1)
                        return i[t + 1][1] !== a && i[t - 1][1] !== a;
                    if (i[t - 1][1] !== a)
                        return !0
                }
            }
        };
        e.a = a
    },
    2560: function(t, e) {
        t.exports = '<div class="jump-tooltip-container">\n    <div class="tooltip-row"><%- label %></div>\n    <% if (jump.distance !== null) { %>\n        <div class="tooltip-row"><%- Localizer.localize(\'label_jumps_distance\') %>: <%- Personalizer.personalizeMTBHeight(jump.distance, Localizer) %></div>\n    <% } %>    \n    <% if (jump.hangTime !== null) { %>\n        <div class="tooltip-row"><%- Localizer.localize(\'label_jumps_hangtime\') %>: <%- Personalizer.personalizeMTBSeconds(jump.hangTime, Localizer) %></div>\n    <% } %>\n    <% if (jump.speed !== null) { %>\n        <div class="tooltip-row"><%- Localizer.localize(\'label_jumps_speed\') %>: <%- Personalizer.personalizeMTBSpeed(jump.speed, activityTypeKey, Localizer) %></div>\n    <% } %>\n</div>'
    },
    2561: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(0)
              , n = i.n(a)
              , r = (i(21),
            n.a.Model.extend({
                url: function() {
                    return "/proxy/activity-service/activity/" + this.activityId + "/relative"
                },
                initialize: function(e) {
                    if (this.activityId = e.activityId,
                    t.isUndefined(this.activityId))
                        throw "activityId required for ActivityRelative"
                }
            }));
            e.a = r
        }
        ).call(this, i(9))
    },
    2562: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            idAttribute: "imageId",
            initialize: function(t) {
                this.activityId = t.activityId,
                this.imageId = t.imageId
            },
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/image/" + this.imageId
            }
        });
        e.a = n
    },
    2563: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(4402)
              , c = i.n(l)
              , h = {
                SAVE_EDIT_PHOTOS: "SAVE_EDIT_PHOTOS",
                CANCEL_EDIT_PHOTOS: "CANCEL_EDIT_PHOTOS"
            }
              , p = o.a.View.extend({
                events: {
                    "click .delete-photo-icon": "onDeleteClicked",
                    "click .save-edit-carousel": "onSaveClicked",
                    "click .cancel-edit-carousel": "onCancelClicked"
                },
                initialize: function(t) {
                    this.template = n.a.template(c.a),
                    this.images = t.images,
                    this.deleteQueue = []
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: s.a,
                        images: this.images
                    })),
                    this.initPhotoEdit(),
                    this
                },
                onDeleteClicked: function(t) {
                    t.preventDefault(),
                    t.stopPropagation();
                    var e = t.target.getAttribute("data-photo-id");
                    if (this.deleteQueue.push(e),
                    this.orderQueue && this.orderQueue.length > 0) {
                        var i = this
                          , a = [];
                        this.images.forEach(function(t) {
                            a[i.orderQueue.indexOf(t.imageId)] = t
                        }),
                        this.images = a;
                        for (var n = this.orderQueue.length - 1; n >= 0; n--)
                            this.orderQueue[n] === e && this.orderQueue.splice(n, 1)
                    }
                    this.images = this.images.filter(function(t) {
                        return t.imageId !== e
                    }),
                    this.render(),
                    this.enableDisableSaveBtn()
                },
                onSaveClicked: function() {
                    this.trigger(h.SAVE_EDIT_PHOTOS, this.orderQueue, this.deleteQueue)
                },
                onCancelClicked: function() {
                    this.trigger(h.CANCEL_EDIT_PHOTOS)
                },
                initPhotoEdit: function() {
                    var e = this;
                    this.$(".js-edit-images").sortable({
                        items: "div.edit-image-div",
                        placeholder: "drag-drop-placeholder",
                        revert: 200,
                        scroll: !1,
                        tolerance: "pointer",
                        cursorAt: {
                            left: 50,
                            top: 50
                        },
                        update: function() {
                            this.orderQueue = [],
                            this.$(".js-edit-images div").each(function() {
                                var i = t(this);
                                e.orderQueue.push(i.data("photo-id"))
                            }),
                            this.enableDisableSaveBtn()
                        }
                        .bind(this)
                    })
                },
                enableDisableSaveBtn: function() {
                    this.$(".btn-save-carousel").addClass("save-edit-carousel"),
                    this.$(".btn-save-carousel").removeAttr("disabled")
                },
                destroy: function() {
                    this.off(),
                    this.remove()
                }
            });
            p.Events = h,
            e.a = p
        }
        ).call(this, i(10))
    },
    2564: function(t, e, i) {
        var a = i(4472);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    2565: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(4476)
          , c = i.n(l);
        e.a = o.a.View.extend({
            template: n.a.template(c.a),
            tagName: "tr",
            initialize: function(t) {
                this.isLapSwimming = t.isLapSwimming,
                this.settings = t.settings,
                this.setAttributes()
            },
            setAttributes: function() {
                this.isLapSwimming || this.$el.addClass(this.settings.headerClass)
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a,
                    model: this.model,
                    isLapSwimming: this.isLapSwimming
                })),
                this
            }
        })
    },
    2566: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(2640)
              , c = i(4477)
              , h = i.n(c)
              , p = {
                DisplayWeightEntryPopup: "DisplayWeightEntryPopup",
                WeightChangedFromSplitsRow: "WeightChangedFromSplitsRow"
            }
              , d = ["distance", "calories", "averageHR", "maxHR"]
              , u = o.a.View.extend({
                template: n.a.template(h.a),
                tagName: "tr",
                events: {
                    'click a[href="#weight-popup"]': "onNoWeightLinkClicked"
                },
                initialize: function(t) {
                    return this.isLapSwimming = t.isLapSwimming,
                    this.settings = t.settings,
                    this.childIndex = t.childIndex,
                    this.cellClass = t.cellClass || {},
                    this.setAttributes(),
                    this
                },
                setAttributes: function() {
                    var t = this.settings || []
                      , e = this.isLapSwimming || !1;
                    if (e) {
                        var i = "";
                        t.isParent ? t.isRest ? i += t.restClass + t.restIndex : (i += t.parentClass + t.lapIndex + " ",
                        t.isParentExpanded && (i += "active")) : i += t.childClass + t.parentIndex + (t.childIndex === t.childCount ? " last" : ""),
                        this.$el.addClass(i)
                    }
                    if (e && !t.isParent) {
                        var a = "";
                        t.isParentExpanded ? a += "display: table-row;" : a += "display: none;",
                        this.$el.attr("style", a)
                    }
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: s.a,
                        model: this.model,
                        isLapSwimming: this.isLapSwimming,
                        sm: l.a,
                        settings: this.settings,
                        columnHiddenForRest: this.columnHiddenForRest,
                        cellClass: this.cellClass
                    })),
                    this
                },
                setActive: function(t) {
                    t ? this.$el.addClass("active") : this.$el.removeClass("active")
                },
                columnHiddenForRest: function(e) {
                    return t.inArray(e, d) > -1
                },
                onNoWeightLinkClicked: function(t) {
                    t.preventDefault(),
                    t.stopPropagation(),
                    this.trigger(p.DisplayWeightEntryPopup, {
                        context: this,
                        successCallback: this.noWeightCallback
                    }, this)
                },
                noWeightCallback: function(t) {
                    this.trigger(p.WeightChangedFromSplitsRow, t)
                }
            });
            u.Events = p,
            e.a = u
        }
        ).call(this, i(10))
    },
    2567: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(8)
          , o = i(0)
          , s = i.n(o)
          , l = i(4478)
          , c = i.n(l);
        e.a = s.a.View.extend({
            template: n.a.template(c.a),
            tagName: "tfoot",
            initialize: function(t) {
                this.isLapSwimming = t.isLapSwimming,
                this.isAutoRacingActivity = t.isAutoRacingActivity,
                this.isResortSkiActivity = t.isResortSkiActivity,
                this.isCrosscountrySkiActivity = t.isCrosscountrySkiActivity,
                this.cellClass = t.cellClass || {}
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: r.a,
                    model: this.model,
                    isLapSwimming: this.isLapSwimming,
                    isAutoRacingActivity: this.isAutoRacingActivity,
                    isResortSkiActivity: this.isResortSkiActivity,
                    isCrosscountrySkiActivity: this.isCrosscountrySkiActivity,
                    cellClass: this.cellClass
                })),
                this
            }
        })
    },
    2568: function(t, e, i) {
        var a = i(4482);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    2569: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(8)
              , o = i(13)
              , s = i(44)
              , l = i(31);
            function c(t, e) {
                var i = e || 0;
                if (t)
                    for (var a = e, n = t.length; a < n; a += 1)
                        if (void 0 === t[e]) {
                            i = a;
                            break
                        }
                return i
            }
            function h(t, e, i, a, r) {
                var o, s, l, h;
                if (t && (e && (h = n.a.find(e, function(e) {
                    return e.getAppId() === t.appID
                })),
                h)) {
                    s = h.getAppId();
                    var p = n.a.find(h.fitContributionsJSON.datafields, function(e) {
                        return e.id === t.developerFieldNumber
                    });
                    p && p[i] && (o = a[s],
                    r ? function(t, e, i, a, r) {
                        var o;
                        if (t) {
                            var s = n.a.find(t.data, function(t) {
                                return !(!t || !t.developerFieldNumber) && t.developerFieldNumber === r.developerFieldNumber
                            });
                            if (s)
                                s.values.push(r.value);
                            else {
                                var l = i["sort-order"];
                                void 0 !== t.data[l] && (l = c(t.data, l + 1)),
                                o = r.value,
                                r.hasOwnProperty("values") || (r.values = [],
                                delete r.value),
                                r.values.push(o),
                                t.data[l] = r
                            }
                        } else
                            o = r.value,
                            r.hasOwnProperty("values") || (r.values = [],
                            delete r.value),
                            r.values.push(o),
                            a.data = [],
                            a.data[i["sort-order"]] = r,
                            e[a.getAppId()] = a
                    }(o, a, p, h, t) : o ? (l = p["sort-order"],
                    void 0 !== o.data[l] && (l = c(o.data, l + 1)),
                    void 0 !== o.data[l] ? o.data.push(t) : o.data[l] = t) : (h.data = [],
                    h.data[p["sort-order"]] = t,
                    a[s] = h))
                }
                return a
            }
            var p = function(t) {
                if (!t)
                    throw "data is required";
                t.models ? this.data = function(t) {
                    var e, i = [];
                    if (t)
                        for (var a = 0, n = t.models.length; a < n; a += 1)
                            t.models[a] && ((e = t.models[a].toJSON()).getAppId = function() {
                                if (this.hasOwnProperty("appID"))
                                    return this.appID;
                                if (this.hasOwnProperty("appId"))
                                    return this.appId;
                                if (this.model) {
                                    if (this.model.hasOwnProperty("appId"))
                                        return this.model.appId;
                                    if (this.model.hasOwnProperty("appID"))
                                        return this.model.appID
                                }
                                return ""
                            }
                            ,
                            e.getLocalizerString = function(t) {
                                return this.getAppId() + t
                            }
                            ,
                            i.push(e));
                    return i
                }(t) : this.data = t
            };
            p.prototype.personalizeValue = function(t, e) {
                return 0 === t ? t : t ? isNaN(parseFloat(t)) ? t : o.a.formatValueByPrecision(t, e, !1) : "--"
            }
            ,
            p.prototype.loadCIQLocalizedData = function() {
                if (this.data)
                    for (var t, e, i, a, o = s.a.getFullLocale(l.a.get("locale")), c = {}, h = 0, p = this.data.length; h < p; h += 1) {
                        var d = this.data[h]
                          , u = d.fitContributionsJSON;
                        u && u.strings && (t = u.strings) && ((a = t[o]) || (a = t.default),
                        a && (e = d.getAppId(),
                        n.a.each(n.a.keys(a), function(t) {
                            i = a[t],
                            n.a.isNull(i) || n.a.isUndefined(i) || (0 === ("" + i).trim().length && (i = " "),
                            c[e + t] = i)
                        }),
                        r.a.loadAdditionalData(c)))
                    }
            }
            ,
            p.prototype.getVisibleAndSortedCollection = function(e, i) {
                var a, r = {}, o = i === this.VisibilityArea.lap;
                if (e)
                    for (var s = 0, l = e.length; s < l; s += 1)
                        if (a = t.extend(!0, {}, e[s]))
                            if (o) {
                                var c = a.connectIQMeasurement;
                                if (c && !n.a.isEmpty(c))
                                    for (var p = 0, d = c.length; p < d; p += 1)
                                        c[p] && h(c[p], this.data, i, r, o)
                            } else
                                h(a, this.data, i, r);
                return r
            }
            ,
            p.prototype.VisibilityArea = {
                stats: "activity-visible",
                lap: "lap-visible",
                charts: "chart-visible"
            },
            p.prototype.getHelpTooltipTemplate = function(t) {
                var e = r.a.localize("label_connect_iq") + "&#8482;"
                  , i = t.name || ""
                  , a = t.developerDisplayName || ""
                  , n = e;
                return i && (n += " " + i),
                a && (n += "<br/><small>" + a + "</small>"),
                '<a href="javascript:void(0);" class="ciq-label has-tooltip" data-html="true" title="' + n + '"><i class="icon-connect-iq"></i></a>'
            }
            ,
            e.a = p
        }
        ).call(this, i(10))
    },
    2570: function(t, e) {
        t.exports = '<div class="device-image bottom-xs">\n    <img src="<%- accessory.imageUrl || \'//static.garmincdn.com/com.garmin.connect/content/images/device-images/default-device.png\' %>">\n</div>\n<div class="device-name"><%- accessory.name %></div>\n<div class="software-version"><%- Localizer.localize(\'software\') %>: <%- accessory.softwareVersion %></div>\n'
    },
    2640: function(t, e, i) {
        "use strict";
        var a = {
            FREESTYLE: "freestyle",
            BACKSTROKE: "backstroke",
            BREASTSTROKE: "breaststroke",
            BUTTERFLY: "butterfly",
            DRILL: "drill",
            MIXED: "mixed",
            IM: "unknown",
            INVALID: "unknown"
        }
          , n = {
            FREESTYLE: "swim.stroke.freestyle",
            BACKSTROKE: "swim.stroke.backstroke",
            BREASTSTROKE: "swim.stroke.breaststroke",
            BUTTERFLY: "swim.stroke.butterfly",
            DRILL: "swim.stroke.drill",
            MIXED: "swim.stroke.mixed",
            IM: "swim.stroke.unknown",
            INVALID: "swim.stroke.unknown",
            REST: "swim.rest"
        };
        e.a = {
            mapClass: function(t) {
                var e = a[t];
                return "undefined" == typeof e ? a.INVALID : e
            },
            mapKey: function(t) {
                var e = n[t];
                return "undefined" == typeof e ? n.INVALID : e
            }
        }
    },
    2641: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(0)
          , r = i.n(n).a.Collection.extend({
            url: function() {
                return "/proxy/personalrecord-service/personalrecord/prByActivityId/" + this.activityId
            },
            initialize: function(t, e) {
                this.activityId = e.activityId
            }
        })
          , o = i(24)
          , s = i(49)
          , l = (i(19),
        s.a.extend({
            initialize: function(t) {
                this.prsFetched = !1,
                this.prsFetching = !1,
                s.a.prototype.initialize.apply(this, arguments),
                this.collection = new r([],{
                    activityId: t.activityId
                }),
                this.modelSynchronizer = new o.a,
                this.modelSynchronizer.addModel({
                    model: this.collection,
                    required: !0
                }),
                this.modelSynchronizer.on(o.a.Events.SYNCHRONIZED, this.onPrsFetched, this)
            },
            show: function() {
                this.prsFetching || (this.prsFetched ? s.a.prototype.show.apply(this, arguments) : (this.prsFetching = !0,
                this.modelSynchronizer.fetchModels()))
            },
            onPrsFetched: function() {
                this.content = this.formatPrs(),
                this.render(),
                this.prsFetching = !1,
                this.prsFetched = !0,
                this.show()
            },
            formatPrs: function() {
                if (0 == this.collection.length)
                    return "";
                var t = "";
                return this.collection.each(function(e) {
                    t += a.a.localize(e.get("prTypeLabelKey")) + "<br/>"
                }, this),
                t
            }
        }));
        e.a = l
    },
    2954: function(t, e, i) {
        "use strict";
        var a = i(1235)
          , n = i(20)
          , r = i.n(n)
          , o = i(2030)
          , s = i(1272);
        function l(t, e) {
            if ("function" !== typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : function(t, e) {
                for (var i = Object.getOwnPropertyNames(e), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(e, n);
                    r && r.configurable && void 0 === t[n] && Object.defineProperty(t, n, r)
                }
            }(t, e))
        }
        var c = function(t) {
            function e() {
                return function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e),
                function(t, e) {
                    if (!t)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !e || "object" !== typeof e && "function" !== typeof e ? t : e
                }(this, t.apply(this, arguments))
            }
            return l(e, t),
            e.prototype.createLeafletElement = function(t) {
                return new a.TileLayer(t.url,this.getOptions(t))
            }
            ,
            e.prototype.updateLeafletElement = function(e, i) {
                t.prototype.updateLeafletElement.call(this, e, i),
                i.url !== e.url && this.leafletElement.setUrl(i.url)
            }
            ,
            e
        }(o.a);
        c.propTypes = {
            children: s.a,
            opacity: r.a.number,
            url: r.a.string.isRequired,
            zIndex: r.a.number
        },
        e.a = c
    },
    2955: function(t, e, i) {
        "use strict";
        var a = i(1235)
          , n = i(20)
          , r = i.n(n)
          , o = i(11)
          , s = i.n(o)
          , l = i(1592)
          , c = i(1272)
          , h = i(1499)
          , p = i(1430)
          , d = i(1456)
          , u = Object.assign || function(t) {
            for (var e = 1; e < arguments.length; e++) {
                var i = arguments[e];
                for (var a in i)
                    Object.prototype.hasOwnProperty.call(i, a) && (t[a] = i[a])
            }
            return t
        }
        ;
        function m(t, e) {
            if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function")
        }
        function f(t, e) {
            if (!t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== typeof e && "function" !== typeof e ? t : e
        }
        function g(t, e) {
            if ("function" !== typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : function(t, e) {
                for (var i = Object.getOwnPropertyNames(e), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(e, n);
                    r && r.configurable && void 0 === t[n] && Object.defineProperty(t, n, r)
                }
            }(t, e))
        }
        var y = {
            checked: r.a.bool,
            children: r.a.node.isRequired,
            removeLayer: r.a.func,
            removeLayerControl: r.a.func
        }
          , v = u({}, y, {
            addBaseLayer: r.a.func,
            addOverlay: r.a.func,
            name: r.a.string.isRequired
        })
          , b = function(t) {
            function e() {
                return m(this, e),
                f(this, t.apply(this, arguments))
            }
            return g(e, t),
            e.prototype.getChildContext = function() {
                return {
                    layerContainer: {
                        addLayer: this.addLayer.bind(this),
                        removeLayer: this.removeLayer.bind(this)
                    }
                }
            }
            ,
            e.prototype.componentWillReceiveProps = function(t) {
                var e = t.checked;
                !0 !== e || null != this.props.checked && !1 !== this.props.checked ? !0 !== this.props.checked || null != e && !1 !== e || this.context.map.removeLayer(this.layer) : this.context.map.addLayer(this.layer)
            }
            ,
            e.prototype.componentWillUnmount = function() {
                this.props.removeLayerControl(this.layer)
            }
            ,
            e.prototype.addLayer = function() {
                throw new Error("Must be implemented in extending class")
            }
            ,
            e.prototype.removeLayer = function(t) {
                this.props.removeLayer(t)
            }
            ,
            e.prototype.render = function() {
                return this.props.children || null
            }
            ,
            e
        }(o.Component);
        b.propTypes = y,
        b.contextTypes = {
            map: d.a
        },
        b.childContextTypes = {
            layerContainer: p.a
        };
        var A = function(t) {
            function e() {
                return m(this, e),
                f(this, t.apply(this, arguments))
            }
            return g(e, t),
            e.prototype.addLayer = function(t) {
                this.layer = t;
                var e = this.props
                  , i = e.addBaseLayer
                  , a = e.checked;
                i(t, e.name, a)
            }
            ,
            e
        }(b);
        A.propTypes = v;
        var _ = function(t) {
            function e() {
                return m(this, e),
                f(this, t.apply(this, arguments))
            }
            return g(e, t),
            e.prototype.addLayer = function(t) {
                this.layer = t;
                var e = this.props
                  , i = e.addOverlay
                  , a = e.checked;
                i(t, e.name, a)
            }
            ,
            e
        }(b);
        _.propTypes = v;
        var C = function(t) {
            function e() {
                return m(this, e),
                f(this, t.apply(this, arguments))
            }
            return g(e, t),
            e.prototype.createLeafletElement = function(t) {
                t.children;
                var e = function(t, e) {
                    var i = {};
                    for (var a in t)
                        e.indexOf(a) >= 0 || Object.prototype.hasOwnProperty.call(t, a) && (i[a] = t[a]);
                    return i
                }(t, ["children"]);
                return new a.Control.Layers(void 0,void 0,e)
            }
            ,
            e.prototype.componentWillMount = function() {
                t.prototype.componentWillMount.call(this),
                this.controlProps = {
                    addBaseLayer: this.addBaseLayer.bind(this),
                    addOverlay: this.addOverlay.bind(this),
                    removeLayer: this.removeLayer.bind(this),
                    removeLayerControl: this.removeLayerControl.bind(this)
                }
            }
            ,
            e.prototype.componentWillUnmount = function() {
                var e = this;
                setTimeout(function() {
                    t.prototype.componentWillUnmount.call(e)
                }, 0)
            }
            ,
            e.prototype.addBaseLayer = function(t, e) {
                arguments.length > 2 && void 0 !== arguments[2] && arguments[2] && this.context.map.addLayer(t),
                this.leafletElement.addBaseLayer(t, e)
            }
            ,
            e.prototype.addOverlay = function(t, e) {
                arguments.length > 2 && void 0 !== arguments[2] && arguments[2] && this.context.map.addLayer(t),
                this.leafletElement.addOverlay(t, e)
            }
            ,
            e.prototype.removeLayer = function(t) {
                this.context.map.removeLayer(t)
            }
            ,
            e.prototype.removeLayerControl = function(t) {
                this.leafletElement.removeLayer(t)
            }
            ,
            e.prototype.render = function() {
                var t = this
                  , e = o.Children.map(this.props.children, function(e) {
                    return e ? Object(o.cloneElement)(e, t.controlProps) : null
                });
                return s.a.createElement("div", {
                    style: {
                        display: "none"
                    }
                }, e)
            }
            ,
            e
        }(l.a);
        C.propTypes = {
            baseLayers: r.a.object,
            children: c.a,
            overlays: r.a.object,
            position: h.a
        },
        C.contextTypes = {
            layerContainer: p.a,
            map: d.a
        },
        e.a = C,
        C.BaseLayer = A,
        C.Overlay = _
    },
    2956: function(t, e, i) {
        "use strict";
        var a = i(1235)
          , n = i(20)
          , r = i.n(n)
          , o = i(1592)
          , s = i(1499);
        function l(t, e) {
            if ("function" !== typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : function(t, e) {
                for (var i = Object.getOwnPropertyNames(e), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(e, n);
                    r && r.configurable && void 0 === t[n] && Object.defineProperty(t, n, r)
                }
            }(t, e))
        }
        var c = function(t) {
            function e() {
                return function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e),
                function(t, e) {
                    if (!t)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !e || "object" !== typeof e && "function" !== typeof e ? t : e
                }(this, t.apply(this, arguments))
            }
            return l(e, t),
            e.prototype.createLeafletElement = function(t) {
                return new a.Control.Attribution(t)
            }
            ,
            e
        }(o.a);
        c.propTypes = {
            position: s.a,
            prefix: r.a.string
        },
        e.a = c
    },
    2957: function(t, e, i) {
        "use strict";
        var a = i(1235)
          , n = i(1309)
          , r = i(1430);
        function o(t, e) {
            if ("function" !== typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : function(t, e) {
                for (var i = Object.getOwnPropertyNames(e), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(e, n);
                    r && r.configurable && void 0 === t[n] && Object.defineProperty(t, n, r)
                }
            }(t, e))
        }
        var s = function(t) {
            function e() {
                return function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e),
                function(t, e) {
                    if (!t)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !e || "object" !== typeof e && "function" !== typeof e ? t : e
                }(this, t.apply(this, arguments))
            }
            return o(e, t),
            e.prototype.getChildContext = function() {
                return {
                    layerContainer: this.leafletElement
                }
            }
            ,
            e.prototype.createLeafletElement = function() {
                return new a.LayerGroup(this.getOptions(this.props))
            }
            ,
            e
        }(n.a);
        s.childContextTypes = {
            layerContainer: r.a
        },
        e.a = s
    },
    2958: function(t, e, i) {
        "use strict";
        var a = i(1235)
          , n = i(20)
          , r = i.n(n)
          , o = i(1592)
          , s = i(1499);
        function l(t, e) {
            if ("function" !== typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : function(t, e) {
                for (var i = Object.getOwnPropertyNames(e), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(e, n);
                    r && r.configurable && void 0 === t[n] && Object.defineProperty(t, n, r)
                }
            }(t, e))
        }
        var c = function(t) {
            function e() {
                return function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e),
                function(t, e) {
                    if (!t)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !e || "object" !== typeof e && "function" !== typeof e ? t : e
                }(this, t.apply(this, arguments))
            }
            return l(e, t),
            e.prototype.createLeafletElement = function(t) {
                return new a.Control.Scale(t)
            }
            ,
            e
        }(o.a);
        c.propTypes = {
            imperial: r.a.bool,
            maxWidth: r.a.number,
            metric: r.a.bool,
            position: s.a,
            updateWhenIdle: r.a.bool
        },
        e.a = c
    },
    2959: function(t, e, i) {
        "use strict";
        var a = i(1235)
          , n = i(1357)
          , r = i(1272)
          , o = i(1289)
          , s = i(1430);
        function l(t, e) {
            if ("function" !== typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : function(t, e) {
                for (var i = Object.getOwnPropertyNames(e), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(e, n);
                    r && r.configurable && void 0 === t[n] && Object.defineProperty(t, n, r)
                }
            }(t, e))
        }
        var c = function(t) {
            function e() {
                return function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e),
                function(t, e) {
                    if (!t)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !e || "object" !== typeof e && "function" !== typeof e ? t : e
                }(this, t.apply(this, arguments))
            }
            return l(e, t),
            e.prototype.getChildContext = function() {
                return {
                    layerContainer: this.leafletElement,
                    popupContainer: this.leafletElement
                }
            }
            ,
            e.prototype.createLeafletElement = function(t) {
                return new a.FeatureGroup(this.getOptions(t))
            }
            ,
            e.prototype.componentDidMount = function() {
                t.prototype.componentDidMount.call(this),
                this.setStyle(this.props)
            }
            ,
            e
        }(n.a);
        c.childContextTypes = {
            children: r.a,
            layerContainer: s.a,
            popupContainer: o.a
        },
        e.a = c
    },
    4320: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Collection.extend({
            url: function() {
                return "/proxy/personalrecord-service/personalrecord/prs/" + this.displayName
            },
            initialize: function(t, e) {
                this.displayName = e.displayName
            }
        });
        e.a = n
    },
    4321: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        e.a = n.a.Collection.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/connectIQDisplayInfo"
            },
            initialize: function(t, e) {
                if ("undefined" === typeof e.activityId)
                    throw "ConnectIQPresentationData requires an activity ID";
                this.activityId = e.activityId
            }
        })
    },
    4322: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        e.a = n.a.Model.extend({
            url: "/web-data/thirdPartyUploads/ThirdPartyUploads.json"
        })
    },
    4323: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.get("activityId") + "/weather"
            },
            parse: function(t) {
                return t.temp = this.convertToCelsius(t.temp),
                t.apparentTemp = this.convertToCelsius(t.apparentTemp),
                t
            },
            convertToCelsius: function(t) {
                return null != t ? 5 * (t - 32) / 9 : null
            }
        });
        e.a = n
    },
    4324: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(0)
              , n = i.n(a);
            e.a = n.a.Model.extend({
                urlRoot: function() {
                    return "/proxy/userpreference-service/"
                },
                idAttribute: "key",
                initialize: function(t) {
                    this.set({
                        key: "ActivityDetails.charts.hidden"
                    }, {})
                },
                getHiddenCharts: function() {
                    var e = [];
                    if (this.get("value")) {
                        var i = this.get("value").split("|");
                        t.each(i, function(t) {
                            t && "EMPTY" !== t && e.push(t)
                        })
                    } else
                        this.set("value", "EMPTY");
                    return e
                },
                hideChart: function(t) {
                    if (t && !this.isChartFound(t)) {
                        var e = this.get("value");
                        "EMPTY" === e && (e = ""),
                        this.set("value", e + t + "|")
                    }
                },
                showChart: function(t) {
                    if (t && this.isChartFound(t)) {
                        var e = this.getHiddenCharts()
                          , i = null
                          , a = e.indexOf(t);
                        e.splice(a, 1),
                        "|" !== (i = e.join("|")).slice(-1) && "" !== i.trim() && (i += "|"),
                        this.set("value", 0 === i.trim().length ? "EMPTY" : i.trim())
                    }
                },
                shouldChartBeHidden: function(t) {
                    return this.isChartFound(t)
                },
                isChartFound: function(t) {
                    return this.getHiddenCharts().indexOf(t) > -1
                }
            })
        }
        ).call(this, i(9))
    },
    4325: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        e.a = n.a.Model.extend({
            url: "/web-data/activity-charts-order/activity-charts-order-master.json"
        })
    },
    4326: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(65)
              , c = i(2558)
              , h = i(4327)
              , p = i.n(h)
              , d = {
                NOTE_SAVED: "NOTE_SAVED"
            }
              , u = o.a.View.extend({
                template: n.a.template(p.a),
                attributes: {
                    class: "border-wrapper note-container clearfix"
                },
                events: {
                    "click .add-note-button": "onSaveClicked",
                    "click .edit-note-button": "onEditClicked",
                    "focus textarea": "onTextareaFocus",
                    "blur textarea": "onTextareaBlur",
                    "keyup textarea": "onTextareaKeyup",
                    "click .cancel-note-button": "onCancelClicked",
                    "click .delete-note-button": "onDeleteClicked"
                },
                initialize: function(t) {
                    if (!t.model)
                        throw "A model is required!";
                    return this.containerClass = t.containerClass || "",
                    this.positionOfControls = t.positionOfControls || "bottom",
                    this.hasDeleteTextControl = t.hasDeleteTextControl || !1,
                    this.hasCancelButton = t.hasCancelButton || !1,
                    this.hasHeader = t.hasHeader || !1,
                    this.headerText = t.headerText || "notes",
                    this.placeholderText = t.placeholderText || "",
                    this.charMaxLength = t.charMaxLength || "4000",
                    this.isNoteDisabled = t.isNoteDisabled,
                    this.canEditNote = t.canEditNote,
                    this.showEditLink = this.isNoteDisabled && this.canEditNote,
                    this.autoExtendHeight = t.autoExtendHeight || !0,
                    this.maxHeight = t.maxHeight || 250,
                    this.modelAttribute = t.modelAttribute || "description",
                    this.description = t.model.get(this.modelAttribute) || "",
                    this.hasWorkoutExecutionScore = t.hasWorkoutExecutionScore,
                    this.setAttributes(),
                    this
                },
                setAttributes: function() {
                    this.containerClass && this.$el.addClass(this.containerClass)
                },
                render: function() {
                    return this.$el.empty(),
                    this.$el.html(this.template({
                        Localizer: s.a,
                        placeholderText: this.placeholderText,
                        charMaxLength: this.charMaxLength,
                        isNoteDisabled: this.isNoteDisabled,
                        canEditNote: this.canEditNote,
                        description: this.description,
                        showEditLink: this.showEditLink,
                        positionOfControls: this.positionOfControls,
                        hasDeleteTextControl: this.hasDeleteTextControl,
                        hasCancelButton: this.hasCancelButton,
                        hasHeader: this.hasHeader,
                        headerText: this.headerText
                    })),
                    this.maxHeight && this.resizeTextarea(),
                    this.hasWorkoutExecutionScore && this.hasWorkoutExecutionScore > 0 && this.displayExecutionScore(),
                    this
                },
                destroy: function() {
                    this.off()
                },
                onSaveClicked: function(t) {
                    t.preventDefault();
                    var e = this.$("textarea")
                      , i = e.val();
                    if (this.hasDescriptionChanged(e) && this.model) {
                        this.description = i,
                        this.model.set(this.modelAttribute, i),
                        this.model.save();
                        var a = i.length > 0;
                        this.showEditLink = a,
                        this.isNoteDisabled = a,
                        this.trigger(d.NOTE_SAVED)
                    }
                    this.render()
                },
                onCancelClicked: function(t) {
                    t.preventDefault(),
                    this.isNoteDisabled = !0,
                    this.showEditLink = !0,
                    this.toggleTextareaDisplayState("cancel"),
                    this.toggleActionButtons("edit"),
                    this.render()
                },
                onDeleteClicked: function(t) {
                    t.preventDefault();
                    var e = this.$("textarea");
                    this.description = "",
                    this.hasDescriptionChanged(e) && this.model && (this.model.set(this.modelAttribute, this.description),
                    this.model.save(),
                    this.isNoteDisabled = !0,
                    this.showEditLink = !0,
                    this.trigger(d.NOTE_SAVED)),
                    this.render()
                },
                onEditClicked: function(t) {
                    t.preventDefault();
                    var e = this.$("textarea");
                    e && e.length > 0 && this.toggleTextareaDisplayState("default"),
                    this.toggleActionButtons("save"),
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                onTextareaFocus: function(e) {
                    e.stopPropagation();
                    var i = t(e.currentTarget);
                    this.canSaveDescription(i) && this.canEditNote && (this.toggleActionButtons("save"),
                    this.toggleTextareaDisplayState("default")),
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                onTextareaBlur: function(e) {
                    e.stopPropagation(),
                    this.isDescriptionOriginallyEmpty(t(e.currentTarget)) && this.toggleActionButtons("default")
                },
                onTextareaKeyup: function() {
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                toggleActionButtons: function(t) {
                    var e, i = "none", a = "none";
                    switch (t) {
                    case "save":
                        i = "inline-block",
                        e = "block";
                        break;
                    case "edit":
                        a = "inline-block"
                    }
                    this.$(".delete-note-button").css({
                        display: a
                    }),
                    this.$(".edit-note-button").css({
                        display: a
                    }),
                    this.$(".add-note-button-wrapper").css({
                        display: e
                    }),
                    this.$(".add-note-button").css({
                        display: i
                    }),
                    this.$(".cancel-note-button").css({
                        display: i
                    })
                },
                toggleTextareaDisplayState: function(t) {
                    var e = this.$("textarea");
                    if (e)
                        switch (t) {
                        case "cancel":
                        case "save":
                            e.attr({
                                readonly: "readonly",
                                disabled: "disabled"
                            }),
                            e.addClass("read-only");
                            break;
                        default:
                            e.removeAttr("readonly"),
                            e.removeAttr("disabled"),
                            e.removeClass("read-only")
                        }
                    this.maxHeight && this.resizeTextarea()
                },
                hasDescriptionChanged: function(t) {
                    return !!(t = t || this.$("textarea")) && t.val() !== this.description
                },
                isDescriptionOriginallyEmpty: function(t) {
                    return !!(t = t || this.$("textarea")) && (0 === t.val().length && 0 === this.description.length)
                },
                isTextareaDisabled: function(t) {
                    return !(t = t || this.$("textarea")) || !this.$("textarea").attr("disabled")
                },
                canSaveDescription: function(t) {
                    return !(!(t = t || this.$("textarea")) || !this.isTextareaDisabled(t) || !this.hasDescriptionChanged(t) && !this.isDescriptionOriginallyEmpty(t))
                },
                canResizeTextarea: function() {
                    var t = this.$("textarea");
                    return !(!this.autoExtendHeight || "250px" === t.css("height"))
                },
                resizeTextarea: function() {
                    var t = this.$("textarea");
                    return t && t.prop("scrollHeight") > 70 && t.css({
                        height: this.maxHeight + "px"
                    }),
                    !0
                },
                updatePlaceholderText: function(t) {
                    t && this.$(".noteTextarea").attr("placeholder", s.a.localize(t))
                },
                displayExecutionScore: function() {
                    (new l.a).renderComponent(c.a, this.$(".executionScore")[0], {
                        score: this.hasWorkoutExecutionScore
                    })
                }
            });
            u.Events = d,
            e.a = u
        }
        ).call(this, i(10))
    },
    4327: function(t, e) {
        t.exports = '<% if (positionOfControls === \'top\' && canEditNote) { %>\n<div class="pull-right">\n    <a href="#" class="edit-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'edit\') %></a>\n    <% if (hasDeleteTextControl) { %>\n        &nbsp;&nbsp;&nbsp;&nbsp;\n        <a href="#" class="delete-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'button_delete\') %></a>\n    <% } %>\n</div>\n<% } %>\n\n<div class="executionScore"></div>\n\n<% if (hasHeader) { %>\n    <h3><%- Localizer.localize(headerText) %></h3>\n<% } %>\n    <textarea class="noteTextarea" \n        <% if (isNoteDisabled) { print(\'disabled="disabled"\'); print(\'readonly="readonly"\'); print(\'class="read-only"\'); } %>\n        rows="3" \n        spellcheck="false" \n        <% if (charMaxLength) { print(\'maxlength="\' + charMaxLength + \'"\'); } %>\n        placeholder="<%- placeholderText ? Localizer.localize(placeholderText) : \'\' %>"\n        aria-label="<%- placeholderText ? Localizer.localize(placeholderText) : Localizer.localize(headerText) %>"\n    ><%- description ? description : \'\' %></textarea>\n\n<% if (canEditNote) { %>\n    <% if (positionOfControls === \'bottom\') { %>\n        <div class="pull-right">\n        <a href="#" class="edit-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'edit\') %></a>\n        <% if (hasDeleteTextControl) { %>\n            &nbsp;&nbsp;&nbsp;&nbsp;\n            <a href="#" class="delete-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'button_delete\') %></a>\n        <% } %>\n        </div>\n    <% } %>\n    <div class="add-note-button-wrapper pull-right" style="display: <%- showEditLink ? \'none\' : \'block\' %>">\n        <% if (hasCancelButton) { %>\n        <button class="btn btn-small btn-secondary cancel-note-button"><%- Localizer.localize(\'button_cancel\') %></button>\n        &nbsp;\n        <% } %>\n        <button class="btn btn-small add-note-button" type="submit"><%- Localizer.localize(\'save\') %></button>\n    </div>\n<% } %>\n'
    },
    4328: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(13)
              , c = i(2273)
              , h = i(2274)
              , p = i(4329)
              , d = i.n(p)
              , u = {
                NOTE_SAVED: "NOTE_SAVED"
            }
              , m = o.a.View.extend({
                template: n.a.template(d.a),
                attributes: {
                    class: "border-wrapper note-container clearfix"
                },
                events: {
                    "click .add-note-button": "onSaveClicked",
                    "click .edit-note-button": "onEditClicked",
                    "focus textarea": "onTextareaFocus",
                    "blur textarea": "onTextareaBlur",
                    "keyup textarea": "onTextareaKeyup",
                    "click .cancel-note-button": "onCancelClicked",
                    "click .delete-note-button": "onDeleteClicked"
                },
                initialize: function(t) {
                    if (!t.model)
                        throw "A model is required!";
                    return this.Latitude = t.Latitude,
                    this.Lat = this.setLatLonFormat(t.model.get(this.Latitude)),
                    this.Longitude = t.Longitude,
                    this.Lon = this.setLatLonFormat(t.model.get(this.Longitude)),
                    this.hasLatLong = !(!this.Lat || !this.Lon),
                    this.containerClass = t.containerClass || "",
                    this.positionOfControls = t.positionOfControls || "bottom",
                    this.hasDeleteTextControl = t.hasDeleteTextControl || !1,
                    this.hasCancelButton = t.hasCancelButton || !1,
                    this.headerText = t.headerText,
                    this.isNoteDisabled = t.isNoteDisabled,
                    this.canEditNote = t.canEditNote,
                    this.placeholderText = t.placeholderText || "",
                    this.charMaxLength = t.charMaxLength || "4000",
                    this.showEditLink = this.isNoteDisabled && this.canEditNote,
                    this.autoExtendHeight = t.autoExtendHeight || !0,
                    this.maxHeight = t.maxHeight || 250,
                    this.elementId = "diveEntryExit_" + Math.floor(1e3 * Math.random()),
                    this.setAttributes(),
                    this
                },
                setLatLonFormat: function(t) {
                    return t ? t.toFixed(6) : t
                },
                setAttributes: function() {
                    this.containerClass && this.$el.addClass(this.containerClass)
                },
                render: function() {
                    return this.$el.empty(),
                    this.$el.html(this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        placeholderText: this.placeholderText,
                        charMaxLength: this.charMaxLength,
                        isNoteDisabled: this.isNoteDisabled,
                        canEditNote: this.canEditNote,
                        showEditLink: this.showEditLink,
                        positionOfControls: this.positionOfControls,
                        hasDeleteTextControl: this.hasDeleteTextControl,
                        hasCancelButton: this.hasCancelButton,
                        headerText: this.headerText,
                        hasLatLong: this.hasLatLong,
                        Latitude: this.Lat,
                        Longitude: this.Lon,
                        elementId: this.elementId
                    })),
                    this.maxHeight && this.resizeTextarea(),
                    this.validator = new c.a({
                        element: this.$("textarea")
                    }),
                    this
                },
                destroy: function() {
                    this.off()
                },
                onSaveClicked: function(t) {
                    t.preventDefault();
                    var e = this.$("textarea").val().replace(/\s/g, "")
                      , i = h.a.parseLatLngString(e);
                    if (!this.validator.validateInputNow()) {
                        this.Lat = i.lat || 0 === i.lat ? i.lat.toString() : null,
                        this.Lon = i.lng || 0 === i.lng ? i.lng.toString() : null,
                        this.model.set(this.Latitude, this.Lat),
                        this.model.set(this.Longitude, this.Lon),
                        this.model.save();
                        var a = e.length > 0;
                        this.showEditLink = a,
                        this.isNoteDisabled = a,
                        this.trigger(u.NOTE_SAVED)
                    }
                    this.render()
                },
                onCancelClicked: function(t) {
                    t.preventDefault(),
                    this.isNoteDisabled = !0,
                    this.showEditLink = !0,
                    this.toggleTextareaDisplayState("cancel"),
                    this.toggleActionButtons("edit"),
                    this.render()
                },
                onDeleteClicked: function(t) {
                    t.preventDefault(),
                    this.Lat = null,
                    this.Lon = null,
                    this.model.set(this.Latitude, this.Lat),
                    this.model.set(this.Longitude, this.Lon),
                    this.model.save(),
                    this.isNoteDisabled = !0,
                    this.showEditLink = !0,
                    this.trigger(u.NOTE_SAVED),
                    this.render()
                },
                onEditClicked: function(t) {
                    t.preventDefault();
                    var e = this.$("textarea");
                    e && e.length > 0 && this.toggleTextareaDisplayState("default"),
                    this.toggleActionButtons("save"),
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                onTextareaFocus: function(e) {
                    e.stopPropagation();
                    var i = t(e.currentTarget);
                    this.canSaveDescription(i) && this.canEditNote && (this.toggleActionButtons("save"),
                    this.toggleTextareaDisplayState("default")),
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                onTextareaKeyup: function() {
                    this.canResizeTextarea() && this.resizeTextarea()
                },
                toggleActionButtons: function(t) {
                    var e = "none"
                      , i = "none"
                      , a = "none";
                    switch (t) {
                    case "save":
                        e = "inline-block",
                        a = "block";
                        break;
                    case "edit":
                        i = "inline-block"
                    }
                    this.$(".delete-note-button").css({
                        display: i
                    }),
                    this.$(".edit-note-button").css({
                        display: i
                    }),
                    this.$(".add-note-button-wrapper").css({
                        display: a
                    }),
                    this.$(".add-note-button").css({
                        display: e
                    }),
                    this.$(".cancel-note-button").css({
                        display: e
                    })
                },
                toggleTextareaDisplayState: function(t) {
                    var e = this.$("textarea");
                    if (e)
                        switch (t) {
                        case "cancel":
                        case "save":
                            e.attr({
                                readonly: "readonly",
                                disabled: "disabled"
                            }),
                            e.addClass("read-only");
                            break;
                        default:
                            e.removeAttr("readonly"),
                            e.removeAttr("disabled"),
                            e.removeClass("read-only")
                        }
                    this.maxHeight && this.resizeTextarea()
                },
                isTextareaDisabled: function(t) {
                    return !(t = t || this.$("textarea")) || !this.$("textarea").attr("disabled")
                },
                canSaveDescription: function(t) {
                    return !(!(t = t || this.$("textarea")) || !this.isTextareaDisabled(t))
                },
                canResizeTextarea: function() {
                    var t = this.$("textarea");
                    return !(!this.autoExtendHeight || "250px" === t.css("height"))
                },
                resizeTextarea: function() {
                    var t = this.$("textarea");
                    return t && t.prop("scrollHeight") > 70 && t.css({
                        height: this.maxHeight + "px"
                    }),
                    !0
                },
                updatePlaceholderText: function(t) {
                    t && this.$(".noteTextarea").attr("placeholder", s.a.localize(t))
                }
            });
            m.Events = u,
            e.a = m
        }
        ).call(this, i(10))
    },
    4329: function(t, e) {
        t.exports = '<% if (positionOfControls === \'top\' && canEditNote) { %>\n<div class="pull-right">\n    <a href="#" class="edit-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'edit\') %></a>\n    <% if (hasDeleteTextControl) { %>\n        &nbsp;&nbsp;&nbsp;&nbsp;\n        <a href="#" class="delete-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'button_delete\') %></a>\n    <% } %>\n</div>\n<% } %>\n\n\x3c!-- Display Lat / Long if it is provided --\x3e\n<% if (hasLatLong) { %>\n<h3><%- Localizer.localize(headerText) %></h3>\n<textarea \n    id="<%- elementId %>" \n    <% if (isNoteDisabled) { \n        print(\'disabled="disabled"\'); \n        print(\'readonly="readonly"\'); \n        print(\'class="read-only"\');\n    } %> \n    rows="3" \n    spellcheck="false" \n    <% if (charMaxLength) { \n        print(\'maxlength="\' + charMaxLength + \'"\'); \n    } %>\n    placeholder="<%- placeholderText ? Localizer.localize(placeholderText) : \'\' %>"\n    aria-label="<%- placeholderText ? Localizer.localize(placeholderText) : Localizer.localize(headerText) %>"\n><%- Personalizer.personalizeLatLon(Latitude, Longitude) %></textarea>\n\n\x3c!-- Only Display the canEditNote if Lat / Long are provided --\x3e\n    <% if (canEditNote) { %>\n        <% if (positionOfControls === \'bottom\') { %>\n            <div class="pull-right">\n                <a href="#" class="edit-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'edit\') %></a>\n            <% if (hasDeleteTextControl) { %>\n                &nbsp;&nbsp;&nbsp;&nbsp;\n                <a href="#" class="delete-note-button colored" style="display: <%- showEditLink ? \'inline-block\' : \'none\' %>"><%- Localizer.localize(\'button_delete\') %></a>\n            <% } %>\n            </div>\n        <% } %>\n        <div class="add-note-button-wrapper pull-right" style="display: <%- showEditLink ? \'none\' : \'block\' %>">\n            <% if (hasCancelButton) { %>\n            <button class="btn btn-small btn-secondary cancel-note-button"><%- Localizer.localize(\'button_cancel\') %></button>\n            &nbsp;\n            <% } %>\n            <button class="btn btn-small add-note-button" type="submit"><%- Localizer.localize(\'save\') %></button>\n        </div>\n    <% } %>\n<% } %>'
    },
    4330: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(3)
              , n = i(14)
              , r = i(9)
              , o = i.n(r)
              , s = i(0)
              , l = i.n(s)
              , c = i(8)
              , h = i(13)
              , p = i(37)
              , d = i(32)
              , u = i(1257)
              , m = i(1447)
              , f = i(1630)
              , g = i(4331)
              , y = i(4332)
              , v = i(4333)
              , b = i(4334)
              , A = (i(4335),
            i(1267))
              , _ = i(1941)
              , C = i(4337)
              , w = i(4338)
              , x = i(4339)
              , S = i(4340)
              , T = i(2282)
              , E = i(2283)
              , k = i(2284)
              , L = i(4341)
              , P = i(4342)
              , I = i(4343)
              , z = i(4344)
              , B = i(2285)
              , D = i(4345)
              , M = i(4346)
              , O = i(4347)
              , R = i(4348)
              , N = i(4349)
              , V = i(4350)
              , j = i(4351)
              , F = i(2286)
              , G = i(2287)
              , U = i(4352)
              , H = i(4353)
              , K = i(4354)
              , W = i(4355)
              , Q = i(4356)
              , Y = i(4357)
              , Z = i(1846)
              , $ = i(4358)
              , q = i(4359)
              , X = i(4360)
              , J = i(4361)
              , tt = i(4362)
              , et = i(4363)
              , it = i(4364)
              , at = i(4365)
              , nt = i(4366)
              , rt = i(4367)
              , ot = i(4368)
              , st = i(4369)
              , lt = i(4370)
              , ct = i(4371)
              , ht = i(4372)
              , pt = i(4373)
              , dt = i(4374)
              , ut = i(4375)
              , mt = i(4377)
              , ft = i.n(mt)
              , gt = i(4378)
              , yt = i.n(gt)
              , vt = i(53)
              , bt = i(93)
              , At = i(1299)
              , _t = (i(1385),
            i(1245))
              , Ct = i.n(_t)
              , wt = i(4379)
              , xt = i.n(wt)
              , St = i(40);
            xt()(Ct.a);
            var Tt = {
                DisplayWeightEntryPopup: "DisplayWeightEntryPopup",
                WeightChangedFromChart: "WeightChangedFromChart",
                AxisTypeChanged: "AxisTypeChanged",
                PowerRangeChanged: "PowerRangeChanged",
                ResetZoom: "ResetZoom"
            }
              , Et = 17
              , kt = l.a.View.extend({
                template: o.a.template(ft.a),
                customizeMenuItemTemplate: o.a.template(yt.a),
                events: {
                    "click #btnResetZoom": "onResetZoomClicked",
                    "click .chart-toggle-options .time-toggle": "onTimeToggle",
                    "click .chart-toggle-options .distance-toggle": "onDistanceToggle",
                    "click .chart-toggle-options .length-rests-toggle": "onLengthRestsToggle",
                    "click .btn-customize-charts": "onCustomizeCharts",
                    "click .reorder-widgets": "onReorderWidgetsClicked",
                    "click .reorder-widgets-cancel": "onCancelReorderClicked",
                    "change .reOrderCheckbox input[type=checkbox]": "onToggleCheckbox",
                    "click .reorder-widgets-set": "onSetOrderClicked"
                },
                initialize: function(e) {
                    this.player = e.player,
                    this.charts = [],
                    this.overlayData = e.overlayData,
                    this.groundContactLastSelectedChart = e.groundContactLastSelectedChart,
                    this.verticalOscRatioLastSelectedChart = e.verticalOscRatioLastSelectedChart,
                    this.powerChartLastSelectedChart = e.powerChartLastSelectedChart,
                    this.isOwner = e.isOwner,
                    this.hasPowerData = e.hasPowerData,
                    this.activityHiddenChartsModel = e.activityHiddenChartsModel,
                    this.canDisplayVectorAirInfo = e.canDisplayVectorAirInfo,
                    this.jumps = e.jumps,
                    this.activityWorkouts = e.activityWorkouts,
                    this.activityChartsOrder = e.activityChartsOrder,
                    this.chartsOrderUserPref = e.chartsOrderUserPref,
                    this.activityTypes = e.activityTypes,
                    this.viewerIsAuthenticated = e.viewerIsAuthenticated,
                    this.tankSensor = e.tankSensor,
                    this.indoorClimbDifficulty = e.indoorClimbDifficulty,
                    t(document).on("click", function(t) {
                        this.$(".dropdown.page-dropdown").is(t.target) || 0 !== this.$(".dropdown.page-dropdown").has(t.target).length || 0 !== this.$(".open").has(t.target).length || this.$(".activity-charts-container .customize-charts-wrapper .dropdown").removeClass("open")
                    }
                    .bind(this))
                },
                setActivity: function(t, e, i, a, n, r) {
                    this.activityDetails = e,
                    this.activitySplits = i,
                    this.activityTypedSplits = a,
                    this.activitySplitSummaries = n,
                    this.model = t,
                    this.usersWeight = r,
                    o.a.each(this.charts, function(t) {
                        t && "function" === typeof t.destroy && t.destroy()
                    }),
                    this.charts = [],
                    this.chartSwitchers = [],
                    this.rendered = !1,
                    this.xAxisType = this.isLapSwimming() ? A.a.XAxisTypes.SwimDuration : A.a.XAxisTypes.Duration,
                    this.speedType = h.a.getSpeedTypeFromActivityType(this.model.get("activityTypeDTO").typeKey),
                    this.updatePlayerMinMax()
                },
                updatePlayerMinMax: function() {
                    var t, e, i;
                    this.xAxisType == A.a.XAxisTypes.Duration ? (i = (t = this.activityDetails.get("sumDuration"))[0],
                    e = t[t.length - 1]) : (t = this.activityDetails.get("sumDistance")) && (i = h.a.convertDistance(t[0], this.model.getActivityTypeKey()),
                    e = h.a.convertDistance(t[t.length - 1], this.model.getActivityTypeKey())),
                    this.player.set("xAxisType", this.xAxisType),
                    this.player.set("max", e || 0),
                    this.player.set("min", i || 0)
                },
                render: function() {
                    !this.rendered && this.activityDetails.get("sumDuration") && (this.customizeMenuSetup = !1,
                    this.updatePlayerMinMax(),
                    this.setDefaultChartsOrder(),
                    this.setOverlayCompareData(),
                    this.renderCharts(),
                    this.rendered = !0)
                },
                renderConnectIQView: function(t) {
                    this.setupConnectIQCharts(t)
                },
                setDefaultChartsOrder: function() {
                    var t = this.model.get("activityTypeDTO").parentTypeId;
                    this.parentActivityType = t === Et ? this.model.getActivityTypeKey() : this.getActivityTypeByParentTypeId(t).typeKey,
                    this.defaultChartsOrder = this.activityChartsOrder.get(this.parentActivityType),
                    this.chartsOrderUserPrefJSON = this.chartsOrderUserPref ? JSON.parse(this.chartsOrderUserPref.getValue()) : null,
                    this.chartsOrderUserPrefJSON && this.chartsOrderUserPrefJSON[this.parentActivityType] && (this.defaultChartsOrder = this.chartsOrderUserPrefJSON[this.parentActivityType])
                },
                getAdditionalUserCharts: function() {
                    var t = this;
                    return this.charts.filter(function(e) {
                        return !t.defaultChartsOrder.some(function(t) {
                            return e.primarySeries[0].seriesKey === t.key
                        })
                    })
                },
                getActivityTypeByParentTypeId: function(t) {
                    return this.activityTypes.toJSON().find(function(e) {
                        return e.typeId === t
                    })
                },
                setOverlayCompareData: function() {
                    var t = this;
                    if (this.overlayData) {
                        this.overlayData.compareData = this.activityDetails.getData("directTimestamp", this.xAxisType, void 0, function(e) {
                            return "sumDistance" === t.xAxisType ? h.a.convertDistance(e) : e
                        })
                    }
                },
                findChartSwitcher: function(t) {
                    for (var e = 0; e < this.chartSwitchers.length; e++) {
                        var i = this.chartSwitchers[e];
                        if (o.a.find(i.chartViews, function(e) {
                            return e === t
                        }))
                            return i
                    }
                    return null
                },
                isInChartSwitcher: function(t) {
                    return !!this.findChartSwitcher(t)
                },
                isDuplicateChart: function(t, e) {
                    return e.find(function(e) {
                        return e.chart.primarySeries[0].seriesKey === t
                    })
                },
                toggleCharts: function(t, e) {
                    if (t) {
                        var i = o.a.find(this.charts, function(e) {
                            return e.primarySeries[0].seriesKey === t
                        })
                          , a = this.findChartSwitcher(i);
                        if (this.activityHiddenChartsModel) {
                            if (a) {
                                var n = a.getChartViews().map(function(t) {
                                    return t.primarySeries[0].seriesKey
                                });
                                e ? o.a.each(n, function(t) {
                                    this.activityHiddenChartsModel.showChart(t)
                                }, this) : o.a.each(n, function(t) {
                                    this.activityHiddenChartsModel.hideChart(t)
                                }, this)
                            } else
                                e ? this.activityHiddenChartsModel.showChart(t) : this.activityHiddenChartsModel.hideChart(t);
                            this.activityHiddenChartsModel.save()
                        }
                        a ? e ? a.show() : a.hide() : i && (e ? (i.isRendered() || i.render(),
                        i.show()) : i.hide())
                    }
                    this.pushCustomizeVisibleChartsAnalyticsEvents()
                },
                pushCustomizeVisibleChartsAnalyticsEvents: function() {
                    vt.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: "Customize List Of Visible Charts"
                    })
                },
                pushChartReorderToAnalytics: function() {
                    vt.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: "Reorder charts on an activity"
                    })
                },
                paceChartToggleToAnalytics: function() {
                    vt.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: "Toggle Lap Avaerage Pace view"
                    })
                },
                isLapSwimming: function() {
                    return this.model.isLapSwimming()
                },
                isFloorClimbing: function() {
                    return this.model.isFloorClimbing()
                },
                isDiving: function() {
                    return this.model.isDiving()
                },
                isBackcountrySki: function() {
                    return this.model.isBackcountrySki()
                },
                isSurfingActivity: function() {
                    return this.model.isSurfingActivity()
                },
                getAvailableSeries: function() {
                    var t = [];
                    return o.a.each(this.charts, function(e) {
                        t.push(e.primarySeries)
                    }),
                    t
                },
                initSortableWidgets: function() {
                    var t = this;
                    this.$(".sortable-checkboxes").sortable({
                        forcePlaceholderSize: !0,
                        handle: ".drag-handle",
                        tolerance: "pointer",
                        stop: function(e, i) {
                            var a = t.$(".sortable-checkboxes").sortable("refreshPositions").children();
                            t.newSortOrder = [],
                            o.a.each(a, function(e) {
                                var i = e.dataset.which;
                                i && t.newSortOrder.push(i),
                                t.$(".customize-charts-controls .reorder-widgets-set").prop("disabled", !1)
                            })
                        }
                    })
                },
                renderCharts: function() {
                    this.isLapSwimming() ? this.setupLapSwimmingCharts() : this.model.isParent() ? this.setupMultisportCharts() : this.isSurfingActivity() ? this.setupSurfCharts() : this.setupCharts(),
                    this.renderChartActions(),
                    this.setXAxisSelectors(),
                    this.drawCharts()
                },
                setupLapSwimmingCharts: function() {
                    this.speedType == h.a.SpeedTypes.Speed ? this.speedChartView = this.addSeries(u.a.SwimSpeed, H.a) : this.paceChartView = this.addSeries(u.a.SwimPace, K.a),
                    this.addSeries(u.a.SwimStrokes, W.a),
                    this.addSeries(u.a.SwimSwolf, Q.a),
                    this.addSeries(u.a.HeartRateLapSwimming, T.a),
                    this.addSeries(u.a.PerformanceCondition, at.a)
                },
                setupMultisportCharts: function() {
                    this.addSeries(u.a.Elevation, _.a),
                    this.addSeries(u.a.HeartRate, T.a),
                    this.addSeries(u.a.PerformanceCondition, at.a),
                    this.addSeries(u.a.Temperature, z.a)
                },
                setupSurfCharts: function() {
                    this.addSeries(u.a.SurfElevation, _.a),
                    this.addSeries(u.a.SurfSpeed, E.a),
                    this.addSeries(u.a.SurfHeartRate, T.a),
                    this.addSeries(u.a.Temperature, z.a)
                },
                addSeries: function(t, e, i) {
                    var a = []
                      , n = !1
                      , r = []
                      , s = null;
                    if (o.a.isArray(t) ? a = t : a.push(t),
                    o.a.each(a, function(t) {
                        (s = new t({
                            activitySummary: this.model,
                            activityDetails: this.activityDetails,
                            xAxisType: this.xAxisType,
                            usersWeight: this.usersWeight,
                            activitySplits: this.activitySplits,
                            activityTypedSplits: this.activityTypedSplits,
                            activitySplitSummaries: this.activitySplitSummaries,
                            activityWorkouts: this.activityWorkouts,
                            tankSensor: this.tankSensor,
                            props: i
                        })).hasData() && (n = !0,
                        r.push(s))
                    }, this),
                    n) {
                        var l = new e({
                            primarySeries: r,
                            playerModel: this.player,
                            showXAxisPlotLineLabel: !1,
                            xAxisType: this.xAxisType,
                            activityDetails: this.activityDetails,
                            activitySplits: this.activitySplits,
                            activitySummary: this.model,
                            overlayData: this.overlayData,
                            jumps: this.formatJumpData(this.jumps)
                        });
                        return l.on(A.a.Events.ON_CHART_ZOOMED, this.onChartZoomed, this),
                        l.on(A.a.Events.ON_ZOOM_RESET, this.resetZoom, this),
                        l.on(A.a.Events.ON_EXPANDED_CHART_CLICKED, this.onExpandedChartClicked, this),
                        l.on(A.a.Events.ON_CHART_FOCUSED, this.onChartGainedFocus, this),
                        l.on(A.a.Events.ON_RANGE_SELECTED, this.onPowerRangeSelected, this),
                        l.on(A.a.Events.ON_CHART_SELECTOR_TOGGLE, this.onChartSelectorToggle, this),
                        this.charts.push(l),
                        l
                    }
                },
                renderChartActions: function() {
                    var t = this.template({
                        Localizer: c.a,
                        availableCharts: this.getAvailableChartTitles(),
                        isLapSwimming: this.isLapSwimming(),
                        canDisplayDistanceTimeToggleView: this.canDisplayDistanceTimeToggleView(),
                        viewerIsAuthenticated: this.viewerIsAuthenticated
                    });
                    this.$el.html(t),
                    this.initSortableWidgets()
                },
                setXAxisSelectors: function() {
                    this.$timeToggleEl = this.$(".chart-toggle-options .time-toggle"),
                    this.$distanceToggleEl = this.$(".chart-toggle-options .distance-toggle"),
                    this.$lengthRestsToggleEl = this.$(".chart-toggle-options .length-rests-toggle"),
                    this.isLapSwimming() && (this.$timeToggleEl.css("border-radius", "0"),
                    this.$timeToggleEl.css("border-right", "1px solid #CCC"))
                },
                getAvailableChartTitles: function() {
                    var t = []
                      , e = this.getHiddenCharts();
                    return this.getAvailableCharts().forEach(function(i) {
                        var a = i.chart.chartTitle()
                          , n = i.chart.primarySeries[0].seriesKey
                          , r = {
                            title: a,
                            seriesKey: n,
                            hide: !1
                        };
                        e.find(function(t) {
                            return t === n
                        }) && (r.hide = !0),
                        t.push(r)
                    }),
                    t
                },
                getHiddenCharts: function() {
                    var t = [];
                    return this.activityHiddenChartsModel.get("value") && (t = this.activityHiddenChartsModel.get("value").split("|")),
                    t
                },
                getAvailableCharts: function() {
                    var t = []
                      , e = this;
                    if (this.additionalUserCharts = this.getAdditionalUserCharts(),
                    this.defaultChartsOrder.forEach(function(i) {
                        e.charts.forEach(function(a) {
                            var n = a.primarySeries[0].seriesKey;
                            n !== i.key || e.isInChartSwitcher(a) || e.isDuplicateChart(n, t) || t.push({
                                index: i.index,
                                chart: a
                            })
                        })
                    }),
                    this.chartSwitchers.forEach(function(i) {
                        var a = i.chartViews[0].primarySeries[0].seriesKey
                          , n = e.defaultChartsOrder.find(function(t) {
                            return a === t.key
                        });
                        n && t.push({
                            index: n.index,
                            chart: i.chartViews[0]
                        })
                    }),
                    this.additionalUserCharts && this.additionalUserCharts.length > 0) {
                        var i = this.defaultChartsOrder.length
                          , a = this.defaultChartsOrder[i - 1].index;
                        this.additionalUserCharts.forEach(function(e) {
                            t.push({
                                index: a,
                                chart: e
                            }),
                            a += 1
                        })
                    }
                    return o.a.sortBy(t, "index")
                },
                drawCharts: function(t) {
                    var e = []
                      , i = this;
                    t ? this.charts = t : (this.defaultChartsOrder.forEach(function(t) {
                        i.charts.forEach(function(i) {
                            i.primarySeries[0].seriesKey === t.key && e.push(i)
                        })
                    }),
                    this.charts = this.additionalUserCharts && this.additionalUserCharts.length > 0 ? [].concat(e, Object(n.a)(this.additionalUserCharts)) : e),
                    this.charts.forEach(function(t) {
                        t && (i.$("#charts-container").append(t.el),
                        t.shouldBeVisible() && i.shouldChartRender(t) && t.render())
                    }),
                    this.drawSwitcherCharts()
                },
                drawSwitcherCharts: function() {
                    this.renderPowerCharts(),
                    this.renderPPStartCharts(),
                    this.renderPPEndCharts(),
                    this.renderVerticalCharts(),
                    this.renderGroundContactCharts(),
                    this.canDisplayVectorAirInfo && this.renderVectorAirDragCdACharts(),
                    this.renderTankPressureCharts()
                },
                renderPowerCharts: function() {
                    var t = this.getSelectedPowerChart();
                    this.powerChartView && this.powerChartKgView && this.isOwner ? this.shouldChartRender(t) && t.isRendered() && t.render() : this.powerChartView && (this.shouldChartRender(this.powerChartView) && this.powerChartView.render(),
                    this.powerChartView.shouldBeVisible = function() {
                        return !0
                    }
                    )
                },
                renderPPStartCharts: function() {
                    this.ppStartChartView && this.peakPPStartChartView && this.shouldChartRender(this.ppStartChartView) && this.ppStartChartView.render()
                },
                renderPPEndCharts: function() {
                    this.ppEndChartView && this.peakPPEndChartView && this.shouldChartRender(this.ppEndChartView) && this.ppEndChartView.render()
                },
                renderVerticalCharts: function() {
                    if (this.verticalOscillationChartView && this.verticalRatioChartView) {
                        var t = this.getSelectedVerticalChart();
                        this.shouldChartRender(t) && t.isRendered() && t.render()
                    } else
                        this.verticalOscillationChartView && (this.shouldChartRender(this.verticalOscillationChartView) && this.verticalOscillationChartView.render(),
                        this.verticalOscillationChartView.shouldBeVisible = function() {
                            return !0
                        }
                        ),
                        this.verticalRatioChartView && this.shouldChartRender(this.verticalRatioChartView) && this.verticalRatioChartView.render()
                },
                renderGroundContactCharts: function() {
                    if (this.groundContactTimeChartView && this.groundContactTimeBalanceChartView) {
                        var t = this.getSelectedGroundContactChart();
                        this.shouldChartRender(t) && t.render()
                    } else
                        this.groundContactTimeChartView && this.shouldChartRender(this.groundContactTimeChartView) && (this.groundContactTimeChartView.render(),
                        this.groundContactTimeChartView.shouldBeVisible = function() {
                            return !0
                        }
                        ),
                        this.groundContactTimeBalanceChartView && this.shouldChartRender(this.groundContactTimeBalanceChartView) && this.groundContactTimeBalanceChartView.render()
                },
                renderVectorAirDragCdACharts: function() {
                    this.vectorAirDragCdaView && this.vectorAirDragWattsCdaView ? this.shouldChartRender(this.vectorAirDragCdaView) && this.vectorAirDragCdaView.render() : (this.vectorAirDragCdaView && (this.shouldChartRender(this.vectorAirDragCdaView) && this.vectorAirDragCdaView.render(),
                    this.vectorAirDragCdaView.shouldBeVisible = function() {
                        return !0
                    }
                    ),
                    this.vectorAirDragWattsCdaView && (this.shouldChartRender(this.vectorAirDragWattsCdaView) && this.vectorAirDragWattsCdaView.render(),
                    this.vectorAirDragWattsCdaView.shouldBeVisible = function() {
                        return !0
                    }
                    ))
                },
                renderTankPressureCharts: function() {
                    this.tankPressureChartViews && this.tankPressureChartViews.length && this.shouldChartRender(this.tankPressureChartViews[0]) && (this.tankPressureChartViews[0].render(),
                    this.tankPressureChartViews[0].shouldBeVisible = function() {
                        return !0
                    }
                    )
                },
                shouldChartRender: function(t) {
                    return !this.activityHiddenChartsModel || !this.activityHiddenChartsModel.shouldChartBeHidden(t.primarySeries[0].seriesKey)
                },
                setupCharts: function() {
                    var t = (new Date).getTime();
                    this.canShowClimbAscentChart() && this.addSeries(u.a.ClimbAscent, C.a, {
                        indoorClimbDifficulty: this.indoorClimbDifficulty
                    }),
                    this.addSeries([u.a.DiveDepth, u.a.DecoCeiling, u.a.SetPointDepth], x.a),
                    this.canDisplayElevationChart() && this.addSeries(u.a.Elevation, _.a),
                    this.canDisplayAscentDescentChart() && this.addSeries(u.a.Elevation, w.a),
                    this.setupSpeedPaceChartView(),
                    this.isBreathworkActivity() || this.addSeries(u.a.HeartRate, T.a),
                    this.addSeries(u.a.PerformanceCondition, at.a),
                    this.canDisplayAscentChart() && this.addSeries(u.a.Ascent, nt.a),
                    this.addSeries(u.a.StrideLength, Y.a),
                    this.setupCadenceChartView(),
                    this.addSeries(u.a.Position, $.a),
                    this.setupPowerCharts(),
                    this.addSeries(u.a.LeftRightPowerBalance, M.a),
                    this.addSeries(u.a.LeftPCO, Z.a),
                    this.addSeries(u.a.RightPCO, Z.a),
                    this.setupPPStartCharts(),
                    this.setupPPEndCharts(),
                    this.setupVerticalCharts(),
                    this.setupGroundContactCharts(),
                    this.addSeries(u.a.RespirationRate, ht.a),
                    this.isBreathworkActivity() && (this.addSeries(u.a.Stress, pt.a),
                    this.addSeries(u.a.HeartRate, T.a)),
                    this.isYogaActivity() && this.addSeries(u.a.Stress, pt.a),
                    this.addSeries(u.a.StrokeRate, it.a),
                    this.addSeries(u.a.DistancePerStroke, et.a),
                    this.canDisplayVectorAirInfo && (this.setupVectorAirDragCdACharts(),
                    this.setupVectorAirWindSpeed()),
                    this.addSeries(u.a.Temperature, z.a),
                    this.setupTankCharts(),
                    this.addSeries(u.a.Gforce, N.a),
                    this.addSeries(u.a.Flow, ct.a),
                    this.addSeries(u.a.Grit, lt.a);
                    var e = (new Date).getTime();
                    console && console.log("Chart load time: " + (e - t).toString() + "ms")
                },
                setupTankCharts: function() {
                    var t = this;
                    this.tankSensor && this.tankSensor.get("tankSensors") && this.tankSensor.get("tankSensors").length && (this.tankPressureChartViews = [],
                    this.tankSensor.get("tankSensors").forEach(function(e, i) {
                        e.records.length > 0 && t.tankPressureChartViews.push(t.addSeries(u.a.TankPressure, S.a, {
                            tankSensor: e
                        }))
                    }),
                    this.tankPressureChartViews.length > 1 && this.chartSwitchers.push(new ut.a({
                        titleKey: "label_tank_pressure",
                        chartViews: this.tankPressureChartViews,
                        activeChart: this.tankPressureChartViews[0],
                        shouldChartRender: this.shouldChartRender.bind(this)
                    })))
                },
                setupVectorAirDragCdACharts: function() {
                    this.vectorAirDragCdaView = this.addSeries(u.a.VectorAirDragCdA, rt.a),
                    this.vectorAirDragWattsCdaView = this.addSeries(u.a.VectorAirDragWattsPerCdA, ot.a),
                    this.vectorAirDragCdaView && this.vectorAirDragWattsCdaView && this.chartSwitchers.push(new ut.a({
                        chartViews: [this.vectorAirDragCdaView, this.vectorAirDragWattsCdaView],
                        activeChart: this.vectorAirDragCdaView
                    }))
                },
                setupVectorAirWindSpeed: function() {
                    this.addSeries(u.a.VectorAirWindSpeed, st.a)
                },
                setupSpeedPaceChartView: function() {
                    switch (this.speedType) {
                    case h.a.SpeedTypes.Flying:
                    case h.a.SpeedTypes.Speed:
                    case h.a.SpeedTypes.RowingSpeed:
                        this.speedChartView = this.addSeries(u.a.Speed, E.a);
                        break;
                    case h.a.SpeedTypes.Pace:
                    case h.a.SpeedTypes.RowingPace:
                        this.setupPaceChartView();
                        break;
                    case h.a.SpeedTypes.SwimSpeed:
                        this.speedChartView = this.addSeries(u.a.OpenWaterSwimSpeed, F.a);
                        break;
                    case h.a.SpeedTypes.SwimPace:
                        this.paceChartView = this.addSeries(u.a.OpenWaterSwimPace, G.a);
                        break;
                    case h.a.SpeedTypes.FloorClimbingPace:
                        this.paceChartView = this.addSeries(u.a.FloorClimbingPace, L.a)
                    }
                },
                setupPaceChartView: function() {
                    var t = this;
                    this.shouldRenderPaceChartSwitcher() ? (this.paceChartView = this.addSeries(u.a.Pace, k.a),
                    this.lapAveragePaceChartView = this.addSeries(u.a.LapAveragePace, dt.a),
                    this.paceChartView && this.lapAveragePaceChartView && this.chartSwitchers.push(new ut.a({
                        shouldChartRender: this.shouldChartRender.bind(this),
                        chartViews: [this.paceChartView, this.lapAveragePaceChartView],
                        activeChart: this.paceChartView,
                        preChartSelectionHandler: function(e) {
                            return e === t.lapAveragePaceChartView && t.paceChartToggleToAnalytics(),
                            !0
                        }
                    }))) : this.paceChartView = this.addSeries(u.a.Pace, k.a)
                },
                setupCadenceChartView: function() {
                    this.speedType == h.a.SpeedTypes.Speed || this.speedType == h.a.SpeedTypes.NauticalSpeed ? this.addSeries(u.a.BikeCadence, P.a) : this.speedType == h.a.SpeedTypes.Pace ? this.addSeries(u.a.RunCadence, I.a) : this.speedType == h.a.SpeedTypes.SwimPace && this.addSeries(u.a.OpenWaterSwimStrokes, U.a)
                },
                setupPowerCharts: function() {
                    this.powerChartView = this.addSeries(u.a.PowerWatts, B.a),
                    this.powerChartKgView = this.addSeries(u.a.PowerKg, D.a);
                    var t = this.getSelectedPowerChart()
                      , e = this;
                    this.powerChartView && this.powerChartKgView && this.isOwner ? (this.powerChartSwitcher = new ut.a({
                        shouldChartRender: this.shouldChartRender.bind(this),
                        chartViews: [this.powerChartView, this.powerChartKgView],
                        activeChart: t,
                        persistSelectedModel: this.powerChartLastSelectedChart,
                        preChartSelectionHandler: function(t) {
                            return !(!e.usersWeight && t === e.powerChartKgView) || (e.triggerWeightEntryPopup(this, t),
                            !1)
                        }
                    }),
                    this.chartSwitchers.push(this.powerChartSwitcher)) : this.charts = o.a.reject(this.charts, function(t) {
                        return t === this.powerChartKgView
                    }, this),
                    this.setProperPowerChartIfNoWeight(t)
                },
                setupPPStartCharts: function() {
                    this.ppStartChartView = this.addSeries([u.a.LeftPPStart, u.a.RightPPStart], q.a),
                    this.peakPPStartChartView = this.addSeries([u.a.LeftPeakPPStart, u.a.RightPeakPPStart], J.a),
                    this.ppStartChartView && this.peakPPStartChartView && this.chartSwitchers.push(new ut.a({
                        shouldChartRender: this.shouldChartRender.bind(this),
                        chartViews: [this.ppStartChartView, this.peakPPStartChartView],
                        activeChart: this.ppStartChartView
                    }))
                },
                setupPPEndCharts: function() {
                    this.ppEndChartView = this.addSeries([u.a.LeftPPEnd, u.a.RightPPEnd], X.a),
                    this.peakPPEndChartView = this.addSeries([u.a.LeftPeakPPEnd, u.a.RightPeakPPEnd], tt.a),
                    this.ppEndChartView && this.peakPPEndChartView && this.chartSwitchers.push(new ut.a({
                        shouldChartRender: this.shouldChartRender.bind(this),
                        chartViews: [this.ppEndChartView, this.peakPPEndChartView],
                        activeChart: this.ppEndChartView
                    }))
                },
                setupVerticalCharts: function() {
                    if (this.verticalOscillationChartView = this.addSeries(u.a.VerticalOscillation, O.a),
                    this.verticalRatioChartView = this.addSeries(u.a.VerticalRatio, R.a),
                    this.verticalOscillationChartView && this.verticalRatioChartView) {
                        var t = this.getSelectedVerticalChart();
                        this.chartSwitchers.push(new ut.a({
                            shouldChartRender: this.shouldChartRender.bind(this),
                            chartViews: [this.verticalOscillationChartView, this.verticalRatioChartView],
                            activeChart: t,
                            persistSelectedModel: this.verticalOscRatioLastSelectedChart
                        }))
                    }
                },
                setupGroundContactCharts: function() {
                    if (this.groundContactTimeChartView = this.addSeries(u.a.GroundContactTime, V.a),
                    this.groundContactTimeBalanceChartView = this.addSeries(u.a.GroundContactTimeBalance, j.a),
                    this.groundContactTimeChartView && this.groundContactTimeBalanceChartView) {
                        var t = this.getSelectedGroundContactChart();
                        this.chartSwitchers.push(new ut.a({
                            shouldChartRender: this.shouldChartRender.bind(this),
                            chartViews: [this.groundContactTimeChartView, this.groundContactTimeBalanceChartView],
                            activeChart: t,
                            persistSelectedModel: this.groundContactLastSelectedChart
                        }))
                    }
                },
                setupConnectIQCharts: function(t) {
                    var e, i, a, n, r = this.activityDetails.getConnectIQMeasurements();
                    if (r && (e = t.getVisibleAndSortedCollection(r, t.VisibilityArea.charts)),
                    e)
                        for (var s in e)
                            if (e[s]) {
                                n = e[s];
                                for (var l = 0, h = n.data.length; l < h; l += 1)
                                    if (n.data[l] && (i = o.a.find(n.fitContributionsJSON.datafields, function(t) {
                                        return t.id === n.data[l].developerFieldNumber
                                    }))) {
                                        a = this.getConnectIQSerie(n, i, l);
                                        var p = this.addSeries(a, A.a.extend({
                                            model: n,
                                            presentationData: i,
                                            primarySeriesType: a,
                                            fillColor: i["fill-color"],
                                            customHelpTemplate: t.getHelpTooltipTemplate(n),
                                            chartTitle: function() {
                                                return c.a.localize(this.model.getLocalizerString(this.presentationData["chart-title-key"]))
                                            }
                                        }));
                                        p && (this.$("#charts-container").append(p.el),
                                        p.render(),
                                        bt.a.renderTooltips.call(p))
                                    }
                            }
                },
                getConnectIQSerie: function(t, e, i) {
                    var a = t.data[i].key
                      , n = m.a.extend({
                        name: a,
                        mainChartFilter: m.a.prototype.filterNulls,
                        defaultChartType: "line",
                        model: t,
                        presentationData: e,
                        seriesKey: a,
                        label: t.getLocalizerString(e["chart-title-key"]),
                        unit_key: t.getLocalizerString(e["unit-label-key"]),
                        formattingFunction: function(t) {
                            return this.presentationData && "number" === typeof this.presentationData.precision ? h.a.formatValueByPrecision(t, this.presentationData.precision) : t
                        },
                        chartColor: function() {
                            return this.presentationData["fill-color"]
                        }
                    });
                    return u.a[a] = n,
                    n
                },
                onAxisTypeChanged: function(t) {
                    this.xAxisType = t,
                    this.setOverlayCompareData(),
                    this.updatePlayerMinMax(),
                    o.a.each(this.charts, function(e) {
                        e.minX = null,
                        e.maxX = null,
                        e.setXAxisType(t),
                        e.shouldBeVisible() ? e.visible ? this.isInChartSwitcher(e) || this.shouldChartRender(e) && e.render() : this.shouldChartRender(e) && (e.render(),
                        e.show()) : e.hide()
                    }, this),
                    o.a.each(this.chartSwitchers, function(t) {
                        t.visible && t.show()
                    }),
                    t === A.a.XAxisTypes.SwimDistance && this.pushChangeXAxisToOverDistanceAnalyticsEvents(),
                    this.hideResetZoom(),
                    this.trigger(Tt.AxisTypeChanged, this.xAxisType)
                },
                pushChangeXAxisToOverDistanceAnalyticsEvents: function() {
                    vt.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: "Change X-Axis To Over Distance"
                    })
                },
                onChartZoomed: function(t, e, i) {
                    o.a.each(this.charts, function(a) {
                        a != t && a.setExtremes(e, i)
                    }, this),
                    this.showResetZoom()
                },
                onChartGainedFocus: function(t) {
                    o.a.each(this.charts, function(e) {
                        e.clearXAxisPlotLineLabel(),
                        t === e ? (e.showXAxisPlotLineLabel = !0,
                        t.renderXAxisPlotLineLabel()) : e.showXAxisPlotLineLabel = !1
                    }, this)
                },
                onResetZoomClicked: function(t) {
                    t.preventDefault(),
                    o.a.each(this.charts, function(t) {
                        t.setChartRangeSelector(null, null, null, -1)
                    }, this),
                    this.resetZoom()
                },
                isTemperatureSeriesInGritOrFlow: function(t, e) {
                    return (t.primarySeries[0].name === u.a.Grit.prototype.name || t.primarySeries[0].name === u.a.Flow.prototype.name) && e.name === u.a.Temperature.prototype.name
                },
                onExpandedChartClicked: function(t) {
                    var e = this.getExpandedChartView(t)
                      , i = []
                      , a = this.getAvailableSeries();
                    o.a.each(a, function(e) {
                        var a = [];
                        (this.usersWeight || e[0].name !== u.a.PowerKg.prototype.name) && (o.a.each(e, function(e) {
                            this.isTemperatureSeriesInGritOrFlow(t, e) || a.push(e)
                        }, this),
                        a.length && i.push(a))
                    }, this);
                    var n = o.a.find(i, function(e) {
                        if (e.length !== t.primarySeries.length)
                            return !1;
                        for (var i = 0; i < e.length; i++)
                            if (e[i].name !== t.primarySeries[i].name)
                                return !1;
                        return !0
                    })
                      , r = new e({
                        model: this.activityDetails,
                        activitySummary: this.model,
                        backgroundSeries: n,
                        xAxisType: t.xAxisType,
                        speedType: this.speedType,
                        series: i,
                        zeroThreshold: t.zeroThreshold,
                        hideAxisTypes: this.isDiving()
                    })
                      , s = new d.a({
                        view: r,
                        customClasses: "chart-zoom fullscreen expanded-chart",
                        showFooter: !1,
                        modalTitle: c.a.localize("chart_expanded_chart_title"),
                        onCloseButtonClicked: r.resetAxisType.bind(r)
                    });
                    s.render(),
                    s.$el.appendTo(this.$el)
                },
                getExpandedChartView: function(t) {
                    return this.model.isLapSwimming() ? g.a : "Position" === t.primarySeries[0].name ? y.a : t.primarySeries[0].isGradient ? v.a : this.isBreathworkActivity() || this.isYogaActivity() ? b.a : f.a
                },
                onPowerRangeSelected: function(t) {
                    this.trigger(Tt.PowerRangeChanged, t, !1)
                },
                onChartSelectorToggle: function(t) {
                    t === p.a.PACE_CHART_SELECTOR_TYPES.LAP_AVG ? (this.paceChartView.hide(),
                    this.lapAveragePaceChartView.render(),
                    this.lapAveragePaceChartView.show()) : (this.paceChartView.render(),
                    this.paceChartView.show(),
                    this.lapAveragePaceChartView.hide()),
                    this.charts.forEach(function(e) {
                        e && "function" === typeof e.setActiveChartSelector && e.setActiveChartSelector(t)
                    })
                },
                onChartRangeChanged: function(t, e, i, a) {
                    var n = null
                      , r = null;
                    "sumDistance" === this.xAxisType && (n = h.a.convertDistance(t),
                    r = h.a.convertDistance(e)),
                    o.a.each(this.charts, function(o) {
                        o.setChartRangeSelector(t, e, i, a),
                        -1 === a ? (o.resetZoom(),
                        this.hideResetZoom()) : n && r ? o.setExtremes(n, r, !0) : o.setExtremes(t, e, !0)
                    }, this)
                },
                resetZoom: function() {
                    o.a.each(this.charts, function(t) {
                        t.resetZoom()
                    });
                    this.trigger(Tt.ResetZoom, -1),
                    this.hideResetZoom()
                },
                hideResetZoom: function() {
                    this.$("#btnResetZoom").css("visibility", "hidden")
                },
                showResetZoom: function() {
                    this.$("#btnResetZoom").css("visibility", "visible")
                },
                setSpeedType: function(t, e) {
                    var i = t;
                    if (this.speedType = t,
                    this.speedChartView || this.paceChartView)
                        switch ("Speed" === e && t === h.a.SpeedTypes.Flying && (i = h.a.SpeedTypes.Speed),
                        i) {
                        case h.a.SpeedTypes.RowingSpeed:
                        case h.a.SpeedTypes.Speed:
                            this.speedChartView = this.addSeries(u.a.Speed, E.a),
                            this.replaceChart(this.paceChartView, this.speedChartView);
                            break;
                        case h.a.SpeedTypes.RowingPace:
                        case h.a.SpeedTypes.Pace:
                            this.paceChartView = this.addSeries(u.a.Pace, k.a),
                            this.replaceChart(this.speedChartView, this.paceChartView);
                            break;
                        case h.a.SpeedTypes.SwimSpeed:
                            this.isLapSwimming() ? this.speedChartView = this.addSeries(u.a.SwimSpeed, H.a) : this.speedChartView = this.addSeries(u.a.OpenWaterSwimSpeed, F.a),
                            this.replaceChart(this.paceChartView, this.speedChartView);
                            break;
                        case h.a.SpeedTypes.SwimPace:
                            this.isLapSwimming() ? this.paceChartView = this.addSeries(u.a.SwimPace, K.a) : this.paceChartView = this.addSeries(u.a.OpenWaterSwimPace, G.a),
                            this.replaceChart(this.speedChartView, this.paceChartView)
                        }
                },
                replaceChart: function(t, e) {
                    t.visible || e.hide(),
                    e.$el.insertAfter(t.el),
                    e.render(),
                    this.charts = o.a.reject(this.charts, function(e) {
                        return e === t
                    }),
                    t.off(),
                    t.stopListening(),
                    t.remove(),
                    t = null
                },
                getSelectedGroundContactChart: function() {
                    var t = this.groundContactTimeBalanceChartView;
                    if (!this.groundContactLastSelectedChart)
                        return t;
                    switch (this.groundContactLastSelectedChart.get("value")) {
                    case u.a.GroundContactTime.prototype.name:
                        return this.groundContactTimeChartView;
                    default:
                        return t
                    }
                },
                getSelectedVerticalChart: function() {
                    var t = this.verticalRatioChartView;
                    if (!this.verticalOscRatioLastSelectedChart)
                        return t;
                    switch (this.verticalOscRatioLastSelectedChart.get("value")) {
                    case u.a.VerticalOscillation.prototype.name:
                        return this.verticalOscillationChartView;
                    default:
                        return t
                    }
                },
                getSelectedPowerChart: function() {
                    var t = this.powerChartView;
                    if (!this.powerChartLastSelectedChart || !this.usersWeight)
                        return t;
                    switch (this.powerChartLastSelectedChart.get("value")) {
                    case u.a.PowerKg.prototype.name:
                        return this.powerChartKgView;
                    default:
                        return t
                    }
                },
                setProperPowerChartIfNoWeight: function(t) {
                    !this.usersWeight && this.isOwner && this.hasPowerData && (t || this.getSelectedPowerChart()) === this.powerChartKgView && (this.powerChartLastSelectedChart && this.powerChartLastSelectedChart instanceof l.a.Model && (this.powerChartLastSelectedChart.set({
                        value: u.a.PowerWatts.prototype.name
                    }),
                    this.powerChartLastSelectedChart.save(),
                    this.powerChartSwitcher.setActiveChart(this.powerChartView)),
                    t && this.triggerWeightEntryPopup(this.powerChartSwitcher, this.powerChartKgView))
                },
                setAndApplyWeight: function(t, e, i) {
                    this.usersWeight && this.usersWeight === t || (this.usersWeight = t,
                    e = e || this.powerChartKgView,
                    o.a.each(e.primarySeries, function(e) {
                        o.a.has(e, "usersWeight") && e.usersWeight !== t && (e.usersWeight = t)
                    }),
                    i && (i.setActiveChart(e),
                    i.persistSelectedChart(e)))
                },
                triggerWeightEntryPopup: function(t, e) {
                    var i = this;
                    this.trigger(Tt.DisplayWeightEntryPopup, {
                        context: this,
                        successCallback: function(a) {
                            i.setAndApplyWeight(a, e, t),
                            i.trigger(Tt.WeightChangedFromChart, a)
                        }
                    }, this)
                },
                reflowCharts: function() {
                    for (var t, e = 0, i = this.charts.length; e < i; e += 1)
                        (t = this.charts[e]) && t.shouldBeVisible() && t.highChartObj && t.highChartObj.reflow()
                },
                canDisplayElevationChart: function() {
                    return !this.isFloorClimbing() && !this.isDiving() && !this.isBackcountrySki() && !this.isBreathworkActivity() && !this.isIndoorClimbingActivity()
                },
                canDisplayAscentDescentChart: function() {
                    return this.isBackcountrySki()
                },
                canDisplayAscentChart: function() {
                    return this.isFloorClimbing()
                },
                canShowClimbAscentChart: function() {
                    return this.isIndoorClimbingActivity()
                },
                canDisplayDistanceTimeToggleView: function() {
                    return !this.isDiving()
                },
                shouldRenderPaceChartSwitcher: function() {
                    var t = this.activityTypes.getParentType(this.model.getActivityTypeKey());
                    return !!t && "running" === t.get("typeKey")
                },
                formatJumpData: function(t) {
                    var e = this;
                    return t.each(function(t) {
                        var i = At.a.findClosest(e.activityDetails.get("directTimestamp"), t.get("timestamp"));
                        t.set("durationIntoActivity", e.activityDetails.get("sumDuration")[i]),
                        t.set("distanceIntoActivity", h.a.convertDistance(e.activityDetails.get("sumDistance")[i], e.model.getActivityTypeKey())),
                        e.activityDetails.get("directGrit") && t.set("directGrit", e.activityDetails.get("directGrit")[i]),
                        e.activityDetails.get("directFlow") && t.set("directFlow", e.activityDetails.get("directFlow")[i])
                    }),
                    t
                },
                isBreathworkActivity: function() {
                    return p.a.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey)
                },
                isYogaActivity: function() {
                    return p.a.isYogaActivity(this.model.get("activityTypeDTO").typeKey)
                },
                isIndoorClimbingActivity: function() {
                    return p.a.isIndoorClimbingActivity(this.model.get("activityTypeDTO").typeKey)
                },
                onTimeToggle: function() {
                    this.$timeToggleEl.css("background-color", St.blue_primary),
                    this.$timeToggleEl.css("color", St.textLight),
                    this.$distanceToggleEl.css("background-color", "transparent"),
                    this.$distanceToggleEl.css("color", St.color_100),
                    this.$lengthRestsToggleEl.css("background-color", St.textLight),
                    this.$lengthRestsToggleEl.css("color", St.color_100),
                    this.isLapSwimming() ? this.onAxisTypeChanged(A.a.XAxisTypes.SwimDuration) : this.onAxisTypeChanged(A.a.XAxisTypes.Duration)
                },
                onDistanceToggle: function() {
                    this.$timeToggleEl.css("background-color", St.textLight),
                    this.$timeToggleEl.css("color", St.color_100),
                    this.$distanceToggleEl.css("background-color", St.blue_primary),
                    this.$distanceToggleEl.css("color", St.textLight),
                    this.$lengthRestsToggleEl.css("background-color", St.textLight),
                    this.$lengthRestsToggleEl.css("color", St.color_100),
                    this.isLapSwimming() ? this.onAxisTypeChanged(A.a.XAxisTypes.SwimDistance) : this.onAxisTypeChanged(A.a.XAxisTypes.Distance)
                },
                onLengthRestsToggle: function() {
                    this.$lengthRestsToggleEl.css("background-color", St.blue_primary),
                    this.$lengthRestsToggleEl.css("color", St.textLight),
                    this.$timeToggleEl.css("background-color", St.textLight),
                    this.$timeToggleEl.css("color", St.color_100),
                    this.$distanceToggleEl.css("background-color", St.textLight),
                    this.$distanceToggleEl.css("color", St.color_100),
                    this.$distanceToggleEl.css("border-left", "1px solid #CCC"),
                    this.onAxisTypeChanged(A.a.XAxisTypes.SwimLengths)
                },
                onReorderWidgetsClicked: function(t) {
                    t.preventDefault(),
                    this.toggleReorderButtons()
                },
                onCustomizeCharts: function(t) {
                    t.preventDefault(),
                    this.$(".activity-charts-container .customize-charts-wrapper .dropdown").toggleClass("open")
                },
                onToggleCheckbox: function(t) {
                    t.preventDefault();
                    var e = this.$(t.currentTarget).val()
                      , i = this.$(t.currentTarget)[0].checked;
                    this.toggleCharts(e, i)
                },
                onSetOrderClicked: function(t) {
                    t.preventDefault();
                    var e = []
                      , i = this;
                    this.newSortOrder.forEach(function(t) {
                        i.charts.forEach(function(i) {
                            i.primarySeries[0].seriesKey === t && e.push(i)
                        }),
                        "directLeftPowerPhaseStart" === t ? e.push(i.findChartSeries("directLeftPowerPhasePeakStart")) : "directLeftPowerPhaseEnd" === t ? e.push(i.findChartSeries("directLeftPowerPhasePeakEnd")) : "directVerticalOscillation" === t ? e.push(i.findChartSeries("directVerticalRatio")) : "directGroundContactTime" === t && e.push(i.findChartSeries("directGroundContactBalanceLeft"))
                    }),
                    this.pushChartReorderToAnalytics(),
                    this.toggleReorderButtons(),
                    this.redrawCharts(e),
                    this.saveChartOrder()
                },
                findChartSeries: function(t) {
                    return this.charts.find(function(e) {
                        return e.primarySeries[0].seriesKey === t
                    })
                },
                toggleReorderButtons: function() {
                    var t = this.$(".sortable-checkbox");
                    this.$(".sortable-checkboxes").toggleClass("sort-mode"),
                    t.prop("disabled") ? t.prop("disabled", !1).show() : t.prop("disabled", !0).hide(),
                    this.$(".reorder-widgets").toggle(),
                    this.$(".reOrderCheckbox .drag-handle").toggle(),
                    this.$(".customize-charts-controls .reorder-widgets-set").toggle(),
                    this.$(".customize-charts-controls .reorder-widgets-set").prop("disabled", !0),
                    this.$(".reorder-widgets-cancel").toggle()
                },
                redrawCharts: function(t) {
                    this.$("#charts-container").children().detach(),
                    this.drawCharts(t)
                },
                saveChartOrder: function() {
                    var t = this
                      , e = this.activityChartsOrder.toJSON();
                    this.chartsOrderUserPrefJSON && this.chartsOrderUserPrefJSON[this.parentActivityType] && (e = this.chartsOrderUserPrefJSON);
                    var i, n = Object(a.a)({}, e), r = [], s = this, l = Object(a.a)({}, this.newSortOrder);
                    e[this.parentActivityType].forEach(function(t) {
                        var e, i = !1;
                        for (var a in l)
                            if (t.key === l[a]) {
                                r.push({
                                    index: +a,
                                    key: l[a]
                                }),
                                i = !0;
                                break
                            }
                        i || (e = "directLeftPowerPhasePeakStart" === t.key ? s.findSwitcherChart(r, "directLeftPowerPhaseStart").index : "directLeftPowerPhasePeakEnd" === t.key ? s.findSwitcherChart(r, "directLeftPowerPhaseEnd").index : "directVerticalRatio" === t.key ? s.findSwitcherChart(r, "directVerticalOscillation").index : "directGroundContactBalanceLeft" === t.key ? s.findSwitcherChart(r, "directGroundContactTime").index : t.index,
                        r.push({
                            index: e,
                            key: t.key
                        }))
                    });
                    var c = function(i) {
                        e[t.parentActivityType].some(function(t) {
                            return l[i] === t.key
                        }) || r.push({
                            index: +i,
                            key: l[i]
                        })
                    };
                    for (var h in l)
                        c(h);
                    n[this.parentActivityType] = o.a.sortBy(r, "index"),
                    i = Object(a.a)({}, e, n),
                    this.chartsOrderUserPref.save({
                        value: JSON.stringify(i)
                    })
                },
                findSwitcherChart: function(t, e) {
                    return t.find(function(t) {
                        return t.key === e
                    })
                },
                onCancelReorderClicked: function() {
                    this.toggleReorderButtons()
                }
            });
            kt.Events = Tt,
            e.a = kt
        }
        ).call(this, i(10))
    },
    4331: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(13)
          , r = i(1630);
        e.a = r.a.extend({
            step: !0,
            measurementSystem: function() {
                var t = this.activitySummary.get("unitOfPoolLength").unitKey;
                return n.a.poolUnitKeyToMeasurementSystem(t)
            },
            defaultXAxisType: function() {
                return r.a.XAxisTypes.SwimDuration
            },
            xAxisLabelFormatter: function(t) {
                return t.xAxisType === r.a.XAxisTypes.SwimLengths ? this.value : t.xAxisType === r.a.XAxisTypes.SwimDistance ? n.a.personalizeDistance(this.value, t.activitySummary.getActivityTypeKey(), t.activitySummary.get("unitOfPoolLength")) : n.a.personalizeDuration(this.value)
            },
            getXAxisTypes: function() {
                return [{
                    name: r.a.XAxisTypes.SwimDuration,
                    label: a.a.localize("over_time")
                }, {
                    name: r.a.XAxisTypes.SwimLengths,
                    label: a.a.localize("over_lengths")
                }, {
                    name: r.a.XAxisTypes.SwimDistance,
                    label: a.a.localize("over_distance")
                }]
            }
        })
    },
    4332: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = (i(0),
        i(8))
          , o = i(13)
          , s = i(1630)
          , l = i(1287)
          , c = i(1243)
          , h = i(2559);
        e.a = s.a.extend({
            getSeriesYAxisOptions: function(t, e) {
                return {
                    categories: [r.a.localize("label_sitting"), r.a.localize("label_standing")],
                    title: {
                        text: null
                    }
                }
            },
            addBackgroundSeries: function() {
                this.highChartObj.addAxis(this.getSeriesYAxisOptions(this.backgroundSeries, 0), !1, !1, !1);
                for (var t = this.getSeries(), e = 0, i = t.length; e < i; e += 1)
                    t[e] && this.highChartObj.addSeries(t[e], !1)
            },
            getSeries: function() {
                var t = this.backgroundSeries[0];
                return [{
                    name: "Standing",
                    type: "line",
                    data: h.a.getData(t, 1),
                    color: this.getSeriesColor() || c.a.Colors.hatorade,
                    linecap: "square",
                    lineWidth: 15,
                    states: {
                        hover: !1
                    },
                    turboThreshold: 4e3,
                    threshold: 9999
                }, {
                    name: "Seated",
                    type: "line",
                    data: h.a.getData(t, 0),
                    color: this.getSeriesColor() || c.a.Colors.blue,
                    linecap: "square",
                    lineWidth: 15,
                    states: {
                        hover: !1
                    },
                    turboThreshold: 4e3,
                    threshold: 9999
                }]
            },
            getSeriesColor: function() {
                return this.getSeriesCount() > 1 ? c.a.Colors.expandGrey : null
            },
            tooltipFormatter: function(t) {
                var e = []
                  , i = this.point || this.points[0];
                if (i) {
                    var a = i.x;
                    t.backgroundSeries && n.a.each(t.backgroundSeries, function(n) {
                        var r = n.getClosestPoint(a);
                        null !== r[0] && (e.push(n.formatToolTipRow(n, null, r[1], t.yUnit(n), null, null, null, i)),
                        e.push("<br/>"))
                    }, this),
                    t.primarySeries && n.a.each(t.primarySeries, function(i) {
                        var n = i.getClosestPoint(a);
                        null !== n.x && (e.push(i.formatToolTipRow(i, null, n.y, t.yUnit(i))),
                        e.push("<br/>"))
                    }),
                    t.secondarySeries && n.a.each(t.secondarySeries, function(i) {
                        var n = i.getClosestPoint(a);
                        null !== n.x && (e.push(i.formatToolTipRow(i, null, n.y, t.yUnit(i))),
                        e.push("<br/>"))
                    }),
                    t.xAxisType === l.a.Distance ? e.push(o.a.formatDistance(i.x, t.activitySummary.getActivityTypeKey()) + " " + r.a.localize(o.a.getDistanceUnitKey(t.activitySummary.getActivityTypeKey()))) : t.xAxisType === l.a.Duration ? e.push(o.a.personalizeDuration(i.x) + " " + r.a.localize(o.a.getDurationUnitKey())) : t.xAxisType === s.a.XAxisTypes.SwimLengths ? e.push(r.a.localize("swim_length_num", Math.floor(i.x) + 1)) : t.xAxisType === s.a.XAxisTypes.SwimDistance ? e.push(o.a.personalizeDistance(i.x, t.activitySummary.getActivityTypeKey(), t.activitySummary.get("unitOfPoolLength")) + " " + r.a.localize(o.a.getDistanceUnitKey(t.activitySummary.getActivityTypeKey(), null, t.activitySummary.get("unitOfPoolLength")))) : e.push(o.a.personalizeDuration(i.x) + " " + r.a.localize(o.a.getDurationUnitKey()))
                }
                return e.join("")
            }
        })
    },
    4333: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(1630)
              , n = i(2278);
            e.a = a.a.extend({
                createChartSeries: function(e, i) {
                    var r = a.a.prototype.createChartSeries.call(this, e, i);
                    return r && 0 === i ? t.extend({}, r, {
                        cropThreshold: 4e3,
                        marker: {
                            enabled: !1,
                            states: {
                                hover: {
                                    enabled: !1
                                }
                            }
                        },
                        color: {
                            linearGradient: {
                                x1: 0,
                                y1: 1,
                                x2: 0,
                                y2: 0
                            },
                            stops: n.a.buildStops(this.getSingleSeriesMax(e), e.gradientRangeMaxes),
                            fillOpacity: r.fillOpacity
                        }
                    }) : r
                }
            })
        }
        ).call(this, i(10))
    },
    4334: function(t, e, i) {
        "use strict";
        var a = i(1630)
          , n = i(13)
          , r = i(1281)
          , o = i(40);
        e.a = a.a.extend({
            createChartSeries: function() {
                var t = a.a.prototype.createChartSeries.apply(this, arguments);
                return t.data.forEach(function(t) {
                    +n.a.personalizeStress(t.y) <= r.b && (t.color = o.color_218)
                }),
                t
            }
        })
    },
    4335: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(1302)
          , o = i(4336)
          , s = i.n(o);
        r.a.extend({
            scrollable: !1,
            template: n.a.template(s.a),
            initialize: function(t) {
                t.scrollable = !1,
                r.a.prototype.initialize.call(this, t)
            }
        })
    },
    4336: function(t, e) {
        t.exports = '<div class="dropdown">\n    <button class="dropdown-toggle chart-header-item" data-toggle="dropdown">\n        <%- selectedItem.name %>\n        <i class="icon-pointer-down"></i>\n    </button>\n    <ul class="dropdown-menu pull-left" role="menu" aria-label="<%- Localizer.localize(\'select.one\') %>">\n        <% for (var i = 0; i < items.length; i++) { %>\n        <% var item = items[i]; %>\n        <li data-value="<%- item.value %>" role="none">\n            <a href="#" role="menuitem"><%- item.name %></a>\n        </li>\n        <% } %>\n    </ul>\n</div>'
    },
    4337: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(8)
          , o = i(13)
          , s = i(1267)
          , l = i(1243)
          , c = i(1257)
          , h = s.a.extend({
            fillColor: l.a.mapSeriesType(c.a.ClimbAscent),
            primarySeriesType: c.a.ClimbAscent,
            formattingFunction: n.a.bind(o.a.formatElevation, o.a),
            chartTitle: function() {
                return r.a.localize("label_climb_ascent")
            }
        });
        e.a = h
    },
    4338: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(13)
          , r = i(1941)
          , o = i(1845)
          , s = r.a.extend({
            getChartTitles: function() {
                if (this.overlayData && this.overlayData.type === o.a.typedSplits) {
                    var t = this.activitySummary.get("activityTypeDTO").typeKey;
                    return [{
                        chartTitle: a.a.localize(n.a.getElevGainLabelKey(t)),
                        seriesColor: this.overlayData.getColor()
                    }, {
                        chartTitle: a.a.localize(n.a.getElevLossLabelKey(t)),
                        seriesColor: this.overlayData.getHighlightColor()
                    }]
                }
                return r.a.prototype.getChartTitles.apply(this)
            },
            typedSplitsSupported: function() {
                return !0
            }
        });
        e.a = s
    },
    4339: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(8)
          , o = i(13)
          , s = i(1267)
          , l = i(1243)
          , c = i(1257)
          , h = s.a.extend({
            fillColor: l.a.mapSeriesType(c.a.DiveDepth),
            primarySeriesType: c.a.DiveDepth,
            formattingFunction: n.a.bind(o.a.formatMetersFt, o.a),
            chartTitle: function() {
                return r.a.localize("label_depth_profile")
            },
            createHighChartsSeriesObjects: function() {
                var t = [];
                return n.a.each(this.primarySeries, function(e) {
                    var i = e.generateData(void 0, !0, this.overlayData);
                    t.push(this.createSeries(e, i)),
                    t.length > 2 && (t[2].type = "scatter")
                }, this),
                t
            },
            fillOpacity: .5,
            styleTooltip: function() {
                return {
                    color: "#222",
                    padding: "3px",
                    opacity: 1,
                    zIndex: 5,
                    textAlign: "center",
                    lineHeight: "14px"
                }
            }
        });
        e.a = h
    },
    4340: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1267)
          , r = i(1243)
          , o = i(1257)
          , s = n.a.extend({
            fillColor: r.a.mapSeriesType(o.a.TankPressure),
            primarySeriesType: o.a.TankPressure,
            seriesType: "line",
            lineWidth: 2,
            chartTitle: function(t) {
                return t ? this.primarySeries[0].props.tankSensor.name : a.a.localize("label_tank_pressure")
            },
            shouldBeVisible: function() {
                return !1
            }
        });
        e.a = s
    },
    4341: function(t, e, i) {
        "use strict";
        i(9);
        var a = i(8)
          , n = (i(13),
        i(1257))
          , r = i(1243)
          , o = i(1267);
        e.a = o.a.extend({
            fillColor: r.a.mapSeriesType(n.a.FloorClimbingPace),
            primarySeriesType: n.a.FloorClimbingPace,
            chartTitle: function() {
                return a.a.localize("label_pace")
            }
        })
    },
    4342: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1267)
          , r = i(1243)
          , o = i(1257)
          , s = i(13);
        e.a = n.a.extend({
            primarySeriesType: o.a.BikeCadence,
            fillColor: r.a.mapSeriesType(o.a.BikeCadence),
            chartTitle: function() {
                var t = this.activitySummary.get("activityTypeDTO").typeKey;
                return s.a.getBikeCadenceChartKey(t, a.a)
            }
        })
    },
    4343: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1267)
          , r = i(1243)
          , o = i(1257);
        e.a = n.a.extend({
            primarySeriesType: o.a.RunCadence,
            fillColor: r.a.mapSeriesType(o.a.RunCadence),
            seriesType: "scatter",
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_run_cadence")
            }
        })
    },
    4344: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1267)
          , r = i(1243)
          , o = i(1257);
        e.a = n.a.extend({
            primarySeriesType: o.a.Temperature,
            fillColor: r.a.mapSeriesType(o.a.Temperature),
            chartTitle: function() {
                return a.a.localize("label_temperature")
            },
            yLabel: function() {
                return a.a.localize("label_temperature")
            }
        })
    },
    4345: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1267)
          , r = i(1243)
          , o = i(1257);
        e.a = n.a.extend({
            chartRangeSelectorType: o.a.PowerKg.chartRangeSelectorType,
            primarySeriesType: o.a.PowerKg,
            fillColor: r.a.mapSeriesType(o.a.PowerKg),
            chartTitle: function() {
                return a.a.localize("label_full_power", a.a.localize("label_power_kg"))
            },
            yLabel: function() {
                return a.a.localize("label_power_kg")
            }
        })
    },
    4346: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(13)
          , r = i(1267)
          , o = i(1243)
          , s = i(1257);
        e.a = r.a.extend({
            primarySeriesType: s.a.LeftRightPowerBalance,
            seriesType: "scatter",
            fillColor: o.a.mapSeriesType(s.a.LeftRightPowerBalance),
            lineWidth: void 0,
            min: 0,
            max: 100,
            conversionFunction: function(t) {
                return 100 - t
            },
            chartTitle: function() {
                return a.a.localize("label_left_right_balance")
            },
            yUnit: function() {
                return ""
            },
            yLabel: function() {
                return ""
            },
            formatAvgPlotLineLabel: function() {
                var t = n.a.formatDecimalNumber(this.avgValue, 1);
                return this.primarySeries[0].yAxisFormattingFunction(t)
            }
        })
    },
    4347: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1243)
          , r = i(1267)
          , o = i(1257);
        e.a = r.a.extend({
            primarySeriesType: o.a.VerticalOscillation,
            seriesType: "scatter",
            fillColor: n.a.mapSeriesType(o.a.VerticalOscillation),
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_vert_oscillation")
            }
        })
    },
    4348: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1243)
          , r = i(1267)
          , o = i(1257);
        e.a = r.a.extend({
            primarySeriesType: o.a.VerticalRatio,
            seriesType: "scatter",
            fillColor: n.a.mapSeriesType(o.a.VerticalRatio),
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_vert_ratio")
            }
        })
    },
    4349: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1267)
          , r = i(1243)
          , o = i(1257);
        e.a = n.a.extend({
            primarySeriesType: o.a.Gforce,
            fillColor: r.a.mapSeriesType(o.a.Gforce),
            chartTitle: function() {
                return a.a.localize("label_g_force")
            },
            yLabel: function() {
                return a.a.localize("label_g_force")
            }
        })
    },
    4350: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1243)
          , r = i(1267)
          , o = i(1257);
        e.a = r.a.extend({
            primarySeriesType: o.a.GroundContactTime,
            seriesType: "scatter",
            fillColor: n.a.mapSeriesType(o.a.GroundContactTime),
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_ground_contact_time")
            }
        })
    },
    4351: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(13)
          , r = i(1267)
          , o = i(1243)
          , s = i(1257);
        e.a = r.a.extend({
            primarySeriesType: s.a.GroundContactTimeBalance,
            seriesType: "scatter",
            fillColor: o.a.mapSeriesType(s.a.GroundContactTimeBalance),
            lineWidth: void 0,
            conversionFunction: function(t) {
                return t
            },
            chartTitle: function() {
                return a.a.localize("label_ground_contact_time_balance")
            },
            yUnit: function() {
                return ""
            },
            yLabel: function() {
                return ""
            },
            formatAvgPlotLineLabel: function(t) {
                var e = n.a.getGroundContactBalance(t.getAvgValue());
                return a.a.localize("chart_plotline_label", a.a.localize(n.a.getPowerBalanceUnitKey(), e.left, e.right), "")
            }
        })
    },
    4352: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1267)
          , r = i(1243)
          , o = i(1257);
        e.a = n.a.extend({
            primarySeriesType: o.a.OpenWaterSwimStrokes,
            fillColor: r.a.mapSeriesType(o.a.OpenWaterSwimStrokes),
            chartTitle: function() {
                return a.a.localize("label_strokes")
            }
        })
    },
    4353: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(13)
          , r = i(1942)
          , o = i(1243)
          , s = i(1257);
        e.a = r.a.extend({
            seriesType: "area",
            primarySeriesType: s.a.SwimSpeed,
            fillColor: o.a.mapSeriesType(s.a.SwimSpeed),
            lineWidth: 1,
            yUnit: function() {
                return a.a.localize(n.a.getSwimSpeedUnitKey(this.measurementSystem()))
            },
            chartTitle: function() {
                var t = this.activitySummary.get("activityTypeDTO").typeKey
                  , e = n.a.getSpeedTypeFromActivityType(t);
                return a.a.localize(e === n.a.SpeedTypes.Flying ? n.a.getSpeedTypeLabelKey(t) : "label_speed")
            }
        })
    },
    4354: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(13)
          , r = i(1942)
          , o = i(1243)
          , s = i(1257);
        e.a = r.a.extend({
            seriesType: "area",
            primarySeriesType: s.a.SwimPace,
            fillColor: o.a.mapSeriesType(s.a.SwimPace),
            reversed: !0,
            lineWidth: 1,
            yUnit: function() {
                return a.a.localize(n.a.getSwimPaceUnitKey(this.measurementSystem()))
            },
            formatAvgPlotLineLabel: function(t) {
                var e = t.activitySummary.get("unitOfPoolLength").unitKey
                  , i = n.a.poolUnitKeyToMeasurementSystem(e)
                  , r = t.getAvgValue(i);
                return a.a.localize("chart_plotline_label", n.a.formatPace(r), this.yUnit(t))
            },
            min: function() {
                return this.primarySeries[0].calculateMin(!0)
            },
            max: function() {
                return this.primarySeries[0].calculateMax(60) + 1
            },
            chartTitle: function() {
                return a.a.localize("label_swim_pace")
            }
        })
    },
    4355: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(8)
              , n = i(13)
              , r = i(1942)
              , o = i(1243)
              , s = i(1257);
            e.a = r.a.extend({
                seriesType: "area",
                primarySeriesType: s.a.SwimStrokes,
                fillColor: o.a.mapSeriesType(s.a.SwimStrokes),
                formattingFunction: t.bind(n.a.personalizeCadence, n.a),
                chartTitle: function() {
                    return a.a.localize("label_strokes")
                },
                min: function() {
                    return this.primarySeries[0].calculateMin(!0) - 1
                },
                max: function() {
                    return this.primarySeries[0].calculateMax() + 1
                }
            })
        }
        ).call(this, i(9))
    },
    4356: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(8)
              , n = i(13)
              , r = i(1942)
              , o = i(1243)
              , s = i(1257);
            e.a = r.a.extend({
                seriesType: "area",
                primarySeriesType: s.a.SwimSwolf,
                fillColor: o.a.mapSeriesType(s.a.SwimSwolf),
                formattingFunction: t.bind(n.a.personalizeCadence, n.a),
                chartTitle: function() {
                    return a.a.localize("label_swolf")
                },
                min: function() {
                    return this.primarySeries[0].calculateMin(!0) + 1
                },
                max: function() {
                    return this.primarySeries[0].calculateMax() + 1
                }
            })
        }
        ).call(this, i(9))
    },
    4357: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1267)
          , r = i(1243)
          , o = i(1257);
        e.a = n.a.extend({
            primarySeriesType: o.a.StrideLength,
            fillColor: r.a.mapSeriesType(o.a.StrideLength),
            seriesType: "scatter",
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_stride_length")
            }
        })
    },
    4358: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(8)
          , o = i(13)
          , s = i(1257)
          , l = i(1243)
          , c = i(2559)
          , h = i(1287)
          , p = i(1267);
        e.a = p.a.extend({
            primarySeriesType: s.a.Position,
            seriesType: "line",
            fillColor: l.a.mapSeriesType(s.a.Position),
            chartTitle: function() {
                return r.a.localize("label_position")
            },
            createHighChartsYAxisObjects: function() {
                return {
                    categories: [r.a.localize("label_sitting"), r.a.localize("label_standing")],
                    labels: {
                        y: 5,
                        x: 2,
                        align: "left",
                        formatter: function() {
                            return '<span class="y-axis-label">' + this.value + "</span>"
                        },
                        style: {
                            whiteSpace: "nowrap"
                        }
                    },
                    title: {
                        text: null
                    },
                    gridLineWidth: 0
                }
            },
            createHighChartsSeriesObjects: function() {
                var t = this.primarySeries[0];
                return [{
                    name: "Standing",
                    type: this.getChartType(),
                    data: c.a.getData(t, 1),
                    color: l.a.Colors.hatorade,
                    linecap: "square",
                    lineWidth: 15
                }, {
                    name: "Seated",
                    type: this.getChartType(),
                    data: c.a.getData(t, 0),
                    color: l.a.Colors.blue,
                    linecap: "square",
                    lineWidth: 15
                }]
            },
            tooltipFormatter: function(t) {
                var e = this.point || this.points[0];
                if (e) {
                    if (null === e.x)
                        return !1;
                    var i = e.x
                      , a = [];
                    return n.a.each(t.primarySeries, function(n) {
                        var s = n.getClosestPoint(i)
                          , l = ""
                          , c = t.yLabel()
                          , p = ""
                          , d = s[1]
                          , u = ""
                          , m = t.yUnit(n);
                        t.xAxisType === h.a.Distance ? (l = r.a.localize("distance"),
                        u = r.a.localize(o.a.getDistanceUnitKey(null, null)),
                        p = o.a.personalizeDistance(s[0])) : (l = r.a.localize("label_time"),
                        u = r.a.localize(o.a.getDurationUnitKey()),
                        p = o.a.personalizeDuration(s[0])),
                        a.push(n.formatToolTipRow(n, c, d, m, l, p, u, e))
                    }, this),
                    a.join("<br/>")
                }
            }
        })
    },
    4359: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1846);
        e.a = n.a.extend({
            chartTitle: function() {
                return a.a.localize("label_cd_power_phase_start")
            }
        })
    },
    4360: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1846);
        e.a = n.a.extend({
            chartTitle: function() {
                return a.a.localize("label_cd_power_phase_end")
            }
        })
    },
    4361: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1846);
        e.a = n.a.extend({
            chartTitle: function() {
                return a.a.localize("label_cd_peak_power_phase_start")
            }
        })
    },
    4362: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1846);
        e.a = n.a.extend({
            chartTitle: function() {
                return a.a.localize("label_cd_peak_power_phase_end")
            }
        })
    },
    4363: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(13)
          , r = i(1267)
          , o = i(1243)
          , s = i(1257);
        e.a = r.a.extend({
            primarySeriesType: s.a.DistancePerStroke,
            fillColor: o.a.mapSeriesType(s.a.DistancePerStroke),
            seriesType: "scatter",
            lineWidth: 0,
            dashStyle: "shortdot",
            scatterLineColor: "rgba(0,0,0,1)",
            scatterLineRadius: 2,
            chartTitle: function() {
                return a.a.localize("label_stroke_distance")
            },
            formatAvgPlotLineLabel: function(t) {
                var e = t.getAvgValue()
                  , i = "distance.meter";
                return "rowing" !== this.getActivityTypeKey(t) && n.a.measurementSystem !== n.a.MeasurementSystems.METRIC && (e = n.a.convertDistancePerStroke(e),
                i = "height_unit_ft"),
                a.a.localize("chart_plotline_label", n.a.formatDistancePerStroke(e), a.a.localize(i))
            },
            yAxisLabelFormatter: function(t) {
                return "rowing" !== t.getActivityTypeKey(t) && t.primarySeries[0].yAxisFormattingFunction ? t.primarySeries[0].yAxisFormattingFunction(this.value, t.measurementSystem()) : t.primarySeries[0].formattingFunction(this.value, t.measurementSystem())
            },
            getActivityTypeKey: function(t) {
                var e = t || this;
                return e && e.activitySummary.get("activityTypeDTO") && e.activitySummary.get("activityTypeDTO").typeKey ? e.activitySummary.get("activityTypeDTO").typeKey : ""
            }
        })
    },
    4364: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1267)
          , r = i(1243)
          , o = i(1257);
        e.a = n.a.extend({
            primarySeriesType: o.a.StrokeRate,
            fillColor: r.a.mapSeriesType(o.a.StrokeRate),
            chartTitle: function() {
                return a.a.localize("label_chart_stroke_rate")
            }
        })
    },
    4365: function(t, e, i) {
        "use strict";
        i(0);
        var a = i(8)
          , n = (i(13),
        i(1267))
          , r = i(1243)
          , o = i(1257)
          , s = n.a.extend({
            primarySeriesType: o.a.PerformanceCondition,
            lineWidth: 2,
            zeroThreshold: !0,
            fillColor: r.a.mapSeriesType(o.a.PerformanceCondition),
            chartTitle: function() {
                return a.a.localize("label_performance_condition")
            }
        });
        e.a = s
    },
    4366: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(8)
          , o = i(13)
          , s = i(1257)
          , l = i(1243)
          , c = i(1267);
        e.a = c.a.extend({
            fillColor: l.a.mapSeriesType(s.a.Ascent),
            primarySeriesType: s.a.Ascent,
            formattingFunction: n.a.bind(o.a.formatElevation, o.a),
            chartTitle: function() {
                return r.a.localize("label_ascent")
            }
        })
    },
    4367: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1243)
          , r = i(1267)
          , o = i(1257);
        e.a = r.a.extend({
            primarySeriesTypes: o.a.VectorAirDragCdA,
            fillColor: n.a.mapSeriesType(o.a.VectorAirDragCdA),
            chartTitle: function() {
                return a.a.localize("label_vector_air_drag_cda")
            }
        })
    },
    4368: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1243)
          , r = i(1267)
          , o = i(1257);
        e.a = r.a.extend({
            primarySeriesTypes: o.a.VectorAirDragCdA,
            fillColor: n.a.mapSeriesType(o.a.VectorAirDragCdA),
            chartTitle: function() {
                return a.a.localize("label_vector_air_drag_watts_cda")
            }
        })
    },
    4369: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(13)
          , o = i(8)
          , s = i(1243)
          , l = i(1267)
          , c = i(1257)
          , h = i(1379);
        e.a = l.a.extend({
            primarySeriesType: c.a.VectorAirWindSpeed,
            lineWidth: 2,
            spacingBottom: 40,
            fillColor: s.a.mapSeriesType(c.a.VectorAirWindSpeed),
            initializeView: function() {
                this.windDirectionDegreeUtil = new h.a
            },
            chartTitle: function() {
                return o.a.localize("label_vector_air_wind_speed")
            },
            createHighChartsSeriesObjects: function() {
                var t = this.primarySeries[0];
                return this.createSeries(t, t.generateData(void 0, !0, this.overlayData))
            },
            createSeries: function(t, e, i) {
                var a = this;
                this.backgroundSeries = t.buildSecondSeriesData();
                for (var s = this.backgroundSeries.length, c = this.$el.width(), h = l.a.prototype.createSeries(t, e, i), p = [], d = Math.round(c / 28), u = Math.round(s / d), m = 0; m < s; m += u)
                    this.backgroundSeries[m] && p.push(this.backgroundSeries[m]);
                return [h, {
                    turboThreshold: 4e3,
                    name: "label_vector_air_wind_direction",
                    valueUnit: function(t) {
                        var e = a.windDirectionDegreeUtil.getWindDirectionFromDegree(t);
                        return e && e.directionType ? "&deg;&nbsp;" + o.a.localize(e.directionType) : "&deg;&nbsp;"
                    },
                    valueFormatter: n.a.bind(r.a.formatWholeNumber, r.a),
                    yValueKey: "direction",
                    type: "windbarb",
                    data: p,
                    linkedTo: ":previous",
                    yOffset: 20,
                    getExtremesFromAll: !0,
                    color: "#999999"
                }]
            },
            shareTooltip: function() {
                return !0
            },
            highChartsRenderChartEvent: function() {
                for (var t = this.series[1].data, e = 0, i = t.length; e < i; e += 1)
                    t[e] && t[e].graphic.attr({
                        d: "M4.6,0L2.3,5.3L0,0l2.3,1.3L4.6,0z",
                        fill: t[e].color
                    })
            }
        })
    },
    4370: function(t, e, i) {
        "use strict";
        (function(t, a) {
            var n = i(8)
              , r = i(13)
              , o = i(1267)
              , s = i(1257)
              , l = i(1243)
              , c = i(2278)
              , h = i(64)
              , p = i(2560)
              , d = i.n(p);
            e.a = o.a.extend({
                className: "grit-chart",
                lineWidth: 2,
                primarySeriesType: s.a.Grit,
                fillColor: l.a.mapSeriesType(s.a.Grit),
                chartTitle: function() {
                    return n.a.localize("label_grit")
                },
                createHighChartsSeriesObjects: function() {
                    var t = this.primarySeries[0];
                    return this.createSeries(t, t.generateData(void 0, !0, this.overlayData), this.fillOpacity)
                },
                createSeries: function(t, e, i) {
                    return [{
                        type: "spline",
                        turboThreshold: 4e3,
                        cropThreshold: 4e3,
                        data: e,
                        marker: {
                            enabled: !1,
                            states: {
                                hover: {
                                    enabled: !1
                                }
                            }
                        },
                        color: {
                            linearGradient: {
                                x1: 0,
                                y1: 1,
                                x2: 0,
                                y2: 0
                            },
                            stops: c.a.buildStops(this.getChartMaxValue(), t.gradientRangeMaxes),
                            fillOpacity: i
                        }
                    }]
                },
                createAnnotations: function() {
                    var e = this
                      , i = h.default.url("/images/feature/mtb/jump.svg")
                      , a = [{
                        labels: []
                    }]
                      , o = this.xAxisType
                      , s = null;
                    return this.jumps && this.jumps.length > 0 && this.jumps.each(function(l, c) {
                        s = t.template(d.a)({
                            Localizer: n.a,
                            Personalizer: r.a,
                            jump: l.toJSON(),
                            label: n.a.localize("label_grit") + ": " + r.a.peronalizeMTBGrit(l.get("directGrit")),
                            activityTypeKey: e.activitySummary.get("activityTypeDTO").typeKey
                        }),
                        l.set("grit-html", s),
                        a[0].labels.push({
                            point: {
                                xAxis: 0,
                                yAxis: 1,
                                x: "sumDuration" === o ? l.get("durationIntoActivity") : l.get("distanceIntoActivity"),
                                y: 260
                            },
                            text: '<span><img class="has-tooltip jump-icon" data-container="body" data-toggle="tooltip" data-placement="top" data-html="true" data-index="' + c + '" title="" src=' + i + ">&nbsp;&nbsp;&nbsp;</img></span>",
                            useHTML: !0,
                            shape: "connector"
                        })
                    }),
                    a
                },
                getMarginBottom: function() {
                    return 16
                },
                highChartsRenderChartEvent: function() {
                    var t = 0
                      , e = this;
                    return this.$(".has-tooltip.jump-icon").each(function() {
                        t = +a(this).attr("data-index"),
                        a(this).tooltip({
                            html: !0,
                            title: e.jumps.at(t).get("grit-html")
                        })
                    }),
                    this
                }
            })
        }
        ).call(this, i(9), i(10))
    },
    4371: function(t, e, i) {
        "use strict";
        (function(t, a) {
            var n = i(8)
              , r = i(64)
              , o = i(13)
              , s = i(1267)
              , l = i(1257)
              , c = i(1243)
              , h = i(2278)
              , p = i(2560)
              , d = i.n(p);
            e.a = s.a.extend({
                lineWidth: 2,
                primarySeriesType: l.a.Flow,
                fillColor: c.a.mapSeriesType(l.a.Flow),
                chartTitle: function() {
                    return n.a.localize("label_flow")
                },
                createHighChartsSeriesObjects: function() {
                    var t = this.primarySeries[0];
                    return this.createSeries(t, t.generateData(void 0, !0, this.overlayData), this.fillOpacity)
                },
                createSeries: function(t, e, i) {
                    return [{
                        type: "spline",
                        turboThreshold: 4e3,
                        cropThreshold: 4e3,
                        data: e,
                        marker: {
                            enabled: !1,
                            states: {
                                hover: {
                                    enabled: !1
                                }
                            }
                        },
                        color: {
                            linearGradient: {
                                x1: 0,
                                y1: 1,
                                x2: 0,
                                y2: 0
                            },
                            stops: h.a.buildStops(this.getChartMaxValue(), t.gradientRangeMaxes),
                            fillOpacity: i
                        }
                    }]
                },
                createAnnotations: function() {
                    var e = this
                      , i = r.default.url("/images/feature/mtb/jump.svg")
                      , a = [{
                        labels: []
                    }]
                      , s = this.xAxisType
                      , l = null;
                    return this.jumps && this.jumps.length > 0 && this.jumps.each(function(r, c) {
                        l = t.template(d.a)({
                            Localizer: n.a,
                            Personalizer: o.a,
                            jump: r.toJSON(),
                            label: n.a.localize("label_flow") + ": " + o.a.peronalizeMTBFlow(r.get("directFlow")),
                            activityTypeKey: e.activitySummary.get("activityTypeDTO").typeKey
                        }),
                        r.set("flow-html", l),
                        a[0].labels.push({
                            point: {
                                xAxis: 0,
                                yAxis: 1,
                                x: "sumDuration" === s ? r.get("durationIntoActivity") : r.get("distanceIntoActivity"),
                                y: 260
                            },
                            text: '<span><img class="has-tooltip jump-icon" data-container="body" data-toggle="tooltip" data-placement="top" data-html="true" data-index="' + c + '" title="" src=' + i + ">&nbsp;&nbsp;&nbsp;</img></span>",
                            useHTML: !0,
                            shape: "connector"
                        })
                    }),
                    a
                },
                getMarginBottom: function() {
                    return 16
                },
                highChartsRenderChartEvent: function() {
                    var t = 0
                      , e = this;
                    return this.$(".has-tooltip.jump-icon").each(function() {
                        t = +a(this).attr("data-index"),
                        a(this).tooltip({
                            html: !0,
                            title: e.jumps.at(t).get("flow-html")
                        })
                    }),
                    this
                }
            })
        }
        ).call(this, i(9), i(10))
    },
    4372: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1257)
          , r = i(1243)
          , o = i(1267);
        e.a = o.a.extend({
            fillColor: r.a.mapSeriesType(n.a.RespirationRate),
            primarySeriesType: n.a.RespirationRate,
            chartTitle: function() {
                return a.a.localize("label_respiration_rate")
            }
        })
    },
    4373: function(t, e, i) {
        "use strict";
        var a = i(8)
          , n = i(1257)
          , r = i(1243)
          , o = i(1267)
          , s = i(13)
          , l = i(1281)
          , c = i(40);
        e.a = o.a.extend({
            seriesType: "column",
            fillColor: r.a.mapSeriesType(n.a.Stress),
            primarySeriesType: n.a.Stress,
            chartTitle: function() {
                return a.a.localize("label_stress")
            },
            createSeries: function() {
                var t = o.a.prototype.createSeries.apply(this, arguments);
                return t.data.forEach(function(t) {
                    +s.a.personalizeStress(t.y) <= l.b && (t.color = c.blue_light_1)
                }),
                t
            }
        })
    },
    4374: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(8)
          , o = i(13)
          , s = i(1267)
          , l = i(1243)
          , c = i(1257);
        e.a = s.a.extend({
            chartSelector: c.a.LapAveragePace.chartSelector,
            primarySeriesType: c.a.LapAveragePace,
            fillColor: l.a.mapSeriesType(c.a.Pace),
            formattingFunction: n.a.bind(o.a.formatPace, o.a),
            chartTitle: function() {
                return r.a.localize("pace_chart_lap_avg")
            },
            getActivityTypeKey: function(t) {
                var e = t || this;
                return e && e.activitySummary.get("activityTypeDTO") && e.activitySummary.get("activityTypeDTO").typeKey ? e.activitySummary.get("activityTypeDTO").typeKey : ""
            }
        })
    },
    4375: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(1470)
              , c = i(1267)
              , h = i(4376)
              , p = i.n(h)
              , d = o.a.View.extend({
                events: {
                    "click .chart-toggle-menu-item": "onChartSelected",
                    "click .dropdown .help-icon": ""
                },
                template: n.a.template(p.a),
                initialize: function(t) {
                    this.titleKey = t.titleKey,
                    this.chartViews = t.chartViews,
                    this.visible = !0,
                    this.persistSelectedModel = t.persistSelectedModel,
                    this.preChartSelectionHandler = t.preChartSelectionHandler,
                    this.shouldChartRender = t.shouldChartRender || function(t) {
                        return !0
                    }
                    ,
                    this.setActiveChart(t.activeChart)
                },
                setActiveChart: function(t) {
                    this.activeChart && (n.a.each(this.chartViews, function(t) {
                        t.hide()
                    }),
                    this.stopListening()),
                    this.activeChart = t,
                    this.listenTo(this.activeChart, c.a.Events.ON_CHART_RENDERED, this.onChartRendered, this),
                    this.activeChart.show(),
                    this.shouldChartRender(this.activeChart) && this.activeChart.render()
                },
                show: function() {
                    this.visible = !0,
                    this.setActiveChart(this.activeChart)
                },
                hide: function() {
                    this.visible = !1,
                    this.activeChart.hide(),
                    this.stopListening()
                },
                render: function() {
                    this.$el.html(this.template({
                        chartViews: this.chartViews,
                        activeChart: this.activeChart,
                        seriesColor: this.activeChart.primarySeries[0].getColor(!0),
                        helpTooltip: this.activeChart.primarySeries[0].helpTooltip,
                        helpKey: this.activeChart.primarySeries[0].helpKey,
                        Localizer: s.a,
                        title: this.titleKey ? s.a.localize(this.titleKey) : ""
                    })),
                    this.$el.show()
                },
                onChartSelected: function(e) {
                    e.preventDefault();
                    var i = t(e.currentTarget).attr("data-chartid")
                      , a = this.findChart(i);
                    if (a && a !== this.activeChart) {
                        var n = !0;
                        this.preChartSelectionHandler && "function" === typeof this.preChartSelectionHandler && (n = this.preChartSelectionHandler.call(this, a)),
                        n && (this.setActiveChart(a),
                        this.persistSelectedChart(a))
                    }
                },
                findChart: function(t) {
                    return n.a.find(this.chartViews, function(e) {
                        return t === e.cid
                    })
                },
                onChartRendered: function() {
                    this.setElement(this.activeChart.$(".chart-name")),
                    this.render()
                },
                onShowHelpClicked: function(e) {
                    e.preventDefault();
                    var i = t(e.currentTarget).attr("data-help-key")
                      , a = null;
                    this.activeChart.primarySeries[0].helpKeyAdditionalData && (a = "function" === typeof this.activeChart.primarySeries[0].helpKeyAdditionalData ? this.activeChart.primarySeries[0].helpKeyAdditionalData() : this.activeChart.primarySeries[0].helpKeyAdditionalData),
                    new l.a({
                        key: i,
                        additionalData: a
                    }).render()
                },
                persistSelectedChart: function(t) {
                    this.persistSelectedModel && this.persistSelectedModel instanceof o.a.Model && (this.persistSelectedModel.set({
                        value: t.primarySeries[0].name || t.primarySeries[0].prototype.name
                    }),
                    this.persistSelectedModel.save())
                },
                getChartViews: function() {
                    return this.chartViews
                }
            });
            e.a = d
        }
        ).call(this, i(10))
    },
    4376: function(t, e) {
        t.exports = '<div class="dropdown">\n    <span class="chart-color-circle" style="background-color:<%- seriesColor %>"></span>\n    <% if (title) { %>\n        <%- title %>&nbsp;&nbsp;\n    <% } %>\n    <button class="dropdown-toggle chart-header-item" data-toggle="dropdown">\n        <%- activeChart.chartTitle(true) %>\n        <i class="icon-pointer-down"></i>\n    </button>\n    <% if (helpTooltip) { %>\n    <a href="javascript:void(0);" class="help-icon has-tooltip" data-html="true"\n       title="<%- Localizer.localize(helpTooltip) %>" aria-label="<%- Localizer.localize(helpTooltip) %>"><i class="icon-help"></i></a>\n    <% } else if (helpKey) { %>\n    <a href="#" class="help-icon" data-toggle="modal" data-help-key="<%- helpKey %>" role="button" aria-label="<%- Localizer.localize(\'help.title\') %>"><i\n            class="icon-help"></i></a>\n    <% } %>\n\n    <ul class="dropdown-menu" role="menu" aria-label="<%- activeChart.chartTitle(true) %>">\n        <% for (var i = 0; i < chartViews.length; i++) { %>\n        <%  var chartView = chartViews[i]; %>\n        <li class="<%- activeChart === chartView ? \'active\' : \'\' %> chart-toggle-menu-item" data-chartid="<%- chartView.cid %>" role="none">\n            <a tabindex="-1" href="#" role="menuitem"><%- chartView.chartTitle(true) %></a></li>\n        <% } %>\n    </ul>\n</div>\n'
    },
    4377: function(t, e) {
        t.exports = '<div class="span12 activity-charts-container">\n    <div class="row-fluid chart-header chart-header-main bottom-s">\n        <% if (viewerIsAuthenticated) { %>\n        <div class="span3 customize-charts-wrapper">\n            <div class="dropdown page-dropdown">\n                <button class="btn btn-small dropdown-trigger btn-customize-charts"><%- Localizer.localize(\'customize_charts\') %><i class="icon-pointer-down"></i></button>\n                <div class="customize-charts-list dropdown-menu pull-right">\n                    <label class="customize-charts-header"><%- Localizer.localize(\'customize_charts\') %></label>\n                    <div class="sortable-checkboxes ui-sortable">\n                        <% for (let index = 0; index < availableCharts.length; index++) { %>\n                            <label class="reOrderCheckbox" data-which="<%= availableCharts[index].seriesKey %>">\n                                <span class="drag-handle pull-left ui-sortable-handle" style="display:none;"><i class="icon-drag-handle"></i></span>\n                                <input type="checkbox" class="default-widget sortable-checkbox" name="settings-checkbox" value="<%- availableCharts[index].seriesKey %>" <%- !availableCharts[index].hide ? \'checked\' : \'\'%>/>\n                                <span class="chart-off pull-right label"><%- Localizer.localize(\'off\') %></span>\n                                <%- availableCharts[index].title %>\n                            </label>\n                        <% } %>\n                    </div>\n                    <div class="controls controls-row customize-charts-controls top-xs bottom-xs">\n                        <a href="#" class="colored reorder-widgets" style="display: inline;"><%- Localizer.localize(\'reorder_charts\') %></a>\n                        <button class="btn btn-small reorder-widgets-set" style="display: none;"><%- Localizer.localize(\'set_charts_order\') %></button>\n                        <button class="btn btn-small btn-secondary reorder-widgets-cancel" style="display: none;"><%- Localizer.localize(\'cancel_btn\') %></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <% } %>\n        <div class="span4">\n            <button id="btnResetZoom" class="reset-zoom btn btn-small" style="visibility: hidden"><%- Localizer.localize(\'chart_reset_zoom\') %></button>\n        </div>\n        <% if (canDisplayDistanceTimeToggleView) { %>\n            <div class="<%- viewerIsAuthenticated ? \'span5\' : \'span8\' %>">\n                <div class="pull-right chart-toggle-options">\n                    <% if (isLapSwimming) { %>\n                        <button class="btn btn-small length-rests-toggle"><%- Localizer.localize(\'over_lengths\') %></button>\n                    <% } %>\n                    <button class="btn btn-small time-toggle"><%- Localizer.localize(\'label_time\') %></button>\n                    <button class="btn btn-small distance-toggle"><%- Localizer.localize(\'label_distance\') %></button>\n                </div>\n            </div>\n        <% } %>\n    </div>\n\n    <div id="charts-container"></div>\n</div>'
    },
    4378: function(t, e) {
        t.exports = '<li class="multiple ">\n    <label data-seriestype="<%- seriesType %>">\n        <input type="checkbox" class="checkbox"><%- chartName %>\n    </label>\n</li>'
    },
    4379: function(t, e, i) {
        var a, n;
        n = function(t) {
            var e = function(t) {
                var e = t.each
                  , i = t.defined
                  , a = t.seriesTypes
                  , n = t.stableSort;
                return {
                    getPlotBox: function() {
                        return t.Series.prototype.getPlotBox.call(this.options.onSeries && this.chart.get(this.options.onSeries) || this)
                    },
                    translate: function() {
                        a.column.prototype.translate.apply(this);
                        var t, r, o, s, l, c, h = this.options, p = this.chart, d = this.points, u = d.length - 1, m = (m = h.onSeries) && p.get(m), f = (h = h.onKey || "y",
                        m && m.options.step), g = m && m.points, y = g && g.length, v = p.inverted, b = this.xAxis, A = this.yAxis, _ = 0;
                        if (m && m.visible && y)
                            for (_ = (m.pointXOffset || 0) + (m.barW || 0) / 2,
                            t = m.currentDataGrouping,
                            s = g[y - 1].x + (t ? t.totalRange : 0),
                            n(d, function(t, e) {
                                return t.x - e.x
                            }),
                            h = "plot" + h[0].toUpperCase() + h.substr(1); y-- && d[u] && (o = g[y],
                            (t = d[u]).y = o.y,
                            !(o.x <= t.x && void 0 !== o[h] && (t.x <= s && (t.plotY = o[h],
                            o.x < t.x && !f && (l = g[y + 1]) && void 0 !== l[h] && (c = (t.x - o.x) / (l.x - o.x),
                            t.plotY += c * (l[h] - o[h]),
                            t.y += c * (l.y - o.y))),
                            u--,
                            y++,
                            0 > u))); )
                                ;
                        e(d, function(t, e) {
                            var a;
                            t.plotX += _,
                            (void 0 === t.plotY || v) && (0 <= t.plotX && t.plotX <= b.len ? v ? (t.plotY = b.translate(t.x, 0, 1, 0, 1),
                            t.plotX = i(t.y) ? A.translate(t.y, 0, 0, 0, 1) : 0) : t.plotY = p.chartHeight - b.bottom - (b.opposite ? b.height : 0) + b.offset - A.top : t.shapeArgs = {}),
                            (r = d[e - 1]) && r.plotX === t.plotX && (void 0 === r.stackIndex && (r.stackIndex = 0),
                            a = r.stackIndex + 1),
                            t.stackIndex = a
                        }),
                        this.onSeries = m
                    }
                }
            }(t);
            !function(t, e) {
                var i = t.each;
                (0,
                t.seriesType)("windbarb", "column", {
                    lineWidth: 2,
                    onSeries: null,
                    states: {
                        hover: {
                            lineWidthPlus: 0
                        }
                    },
                    tooltip: {
                        pointFormat: '<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.value}</b> ({point.beaufort})<br/>'
                    },
                    vectorLength: 20,
                    yOffset: -20,
                    xOffset: 0
                }, {
                    pointArrayMap: ["value", "direction"],
                    parallelArrays: ["x", "value", "direction"],
                    beaufortName: "Calm;Light air;Light breeze;Gentle breeze;Moderate breeze;Fresh breeze;Strong breeze;Near gale;Gale;Strong gale;Storm;Violent storm;Hurricane".split(";"),
                    beaufortFloor: [0, .3, 1.6, 3.4, 5.5, 8, 10.8, 13.9, 17.2, 20.8, 24.5, 28.5, 32.7],
                    trackerGroups: ["markerGroup"],
                    pointAttribs: function(t, e) {
                        var i = this.options;
                        t = t.color || this.color;
                        var a = this.options.lineWidth;
                        return e && (t = i.states[e].color || t,
                        a = (i.states[e].lineWidth || a) + (i.states[e].lineWidthPlus || 0)),
                        {
                            stroke: t,
                            "stroke-width": a
                        }
                    },
                    markerAttribs: function() {},
                    getPlotBox: e.getPlotBox,
                    windArrow: function(t) {
                        var e, i = 1.943844 * t.value, a = this.options.vectorLength / 20, n = -10;
                        if (t.isNull)
                            return [];
                        if (0 === t.beaufortLevel)
                            return this.chart.renderer.symbols.circle(-10 * a, -10 * a, 20 * a, 20 * a);
                        if (t = ["M", 0, 7 * a, "L", -1.5 * a, 7 * a, 0, 10 * a, 1.5 * a, 7 * a, 0, 7 * a, 0, -10 * a],
                        0 < (e = (i - i % 50) / 50))
                            for (; e--; )
                                t.push(-10 === n ? "L" : "M", 0, n * a, "L", 5 * a, n * a + 2, "L", 0, n * a + 4),
                                i -= 50,
                                n += 7;
                        if (0 < (e = (i - i % 10) / 10))
                            for (; e--; )
                                t.push(-10 === n ? "L" : "M", 0, n * a, "L", 7 * a, n * a),
                                i -= 10,
                                n += 3;
                        if (0 < (e = (i - i % 5) / 5))
                            for (; e--; )
                                t.push(-10 === n ? "L" : "M", 0, n * a, "L", 4 * a, n * a),
                                i -= 5,
                                n += 3;
                        return t
                    },
                    translate: function() {
                        var t = this.beaufortFloor
                          , a = this.beaufortName;
                        e.translate.call(this),
                        i(this.points, function(e) {
                            for (var i = 0; i < t.length && !(t[i] > e.value); i++)
                                ;
                            e.beaufortLevel = i - 1,
                            e.beaufort = a[i - 1]
                        })
                    },
                    drawPoints: function() {
                        var t = this.chart
                          , e = this.yAxis
                          , a = t.inverted
                          , n = this.options.vectorLength / 2;
                        i(this.points, function(i) {
                            var r = i.plotX
                              , o = i.plotY;
                            t.isInsidePlot(r, 0, !1) ? (i.graphic || (i.graphic = this.chart.renderer.path().add(this.markerGroup)),
                            i.graphic.attr({
                                d: this.windArrow(i),
                                translateX: r + this.options.xOffset,
                                translateY: o + this.options.yOffset,
                                rotation: i.direction
                            }).attr(this.pointAttribs(i))) : i.graphic && (i.graphic = i.graphic.destroy()),
                            i.tooltipPos = [r + this.options.xOffset + (a && !this.onSeries ? n : 0), o + this.options.yOffset - (a ? 0 : n + e.pos - t.plotTop)]
                        }, this)
                    },
                    animate: function(e) {
                        e ? this.markerGroup.attr({
                            opacity: .01
                        }) : (this.markerGroup.animate({
                            opacity: 1
                        }, t.animObject(this.options.animation)),
                        this.animate = null)
                    },
                    invertGroups: t.noop
                }, {
                    isValid: function() {
                        return t.isNumber(this.value) && 0 <= this.value
                    }
                })
            }(t, e)
        }
        ,
        "object" === typeof t && t.exports ? t.exports = n : void 0 === (a = function() {
            return n
        }
        .call(e, i, e, t)) || (t.exports = a)
    },
    4380: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(13)
          , c = i(19)
          , h = i(1473)
          , p = i(4381)
          , d = i.n(p);
        e.a = o.a.View.extend({
            template: n.a.template(d.a),
            initialize: function(t) {
                if (this.conversation = t.conversation,
                !this.conversation)
                    throw "conversation required for ActivityCommentsView"
            },
            render: function() {
                var t = this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    model: this.model.toJSON()
                });
                this.$el.html(t),
                this.pageCommentsView = new h.a({
                    showHeader: !1,
                    conversation: this.conversation,
                    viewerDisplayName: c.a.get("displayName"),
                    el: this.el
                })
            }
        })
    },
    4381: function(t, e) {
        t.exports = '<div class="border-wrapper">\n\n</div>\n\n\n'
    },
    4382: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(13)
              , c = i(31)
              , h = i(2561)
              , p = i(551)
              , d = i(1273)
              , u = i(1943)
              , m = i(1577)
              , f = i(2641)
              , g = i(1514)
              , y = i(4383)
              , v = i(1944)
              , b = i(2191)
              , A = i(1529)
              , _ = i(58)
              , C = i(21)
              , w = i(64)
              , x = i(1253)
              , S = i(37)
              , T = i(53)
              , E = i(93)
              , k = i(4385)
              , L = i.n(k)
              , P = {
                ActivityTypeChanged: "ActivityTypeChanged",
                PrepareToNavigate: "PrepareToNavigate",
                ActivityNameChanged: "ActivityNameChanged",
                EventTypeChanged: "EventTypeChanged"
            }
              , I = o.a.View.extend({
                template: n.a.template(L.a),
                events: {
                    "click .page-previous": "onPreviousButtonClicked",
                    "click .page-next": "onNextButtonClicked",
                    "click .course-name": "onCourseNameClicked"
                },
                initialize: function(t) {
                    if (this.previousId = null,
                    this.nextId = null,
                    this.readOnly = t.readOnly,
                    this.activityTypes = t.activityTypes,
                    this.eventTypes = t.eventTypes,
                    this.userBiometrics = t.userBiometrics,
                    this.userCourses = t.userCourses,
                    this.course = t.course,
                    this.selectedGear = t.selectedGear,
                    this.selectedActivity = this.model,
                    this.activityTimeZone = t.activityTimeZone,
                    this.isRepCounting = t.isRepCounting,
                    "undefined" != typeof t.activityTypeReadOnly ? this.activityTypeReadOnly = t.activityTypeReadOnly : this.activityTypeReadOnly = !0,
                    c.a.viewerIsAuthenticated) {
                        if (!this.activityTypes)
                            throw "Activity Types required for ActivityIntroView";
                        if (!this.eventTypes)
                            throw "Event Types required for ActivityIntroView";
                        if (!this.userBiometrics)
                            throw "UserBiometrics required for ActivityIntroView"
                    }
                    this.model.on("error", this.onActivitySaveFailure, this),
                    this.model.on("sync", this.onActivitySaveSuccess, this),
                    this.setupPreviousAndNext()
                },
                updateModels: function(t, e, i) {
                    this.selectedActivity = t,
                    this.selectedGear = e,
                    this.course = i
                },
                render: function() {
                    var t = this.model.toJSON();
                    t.activityName = t.activityName || s.a.localize("untitled");
                    var e = C.a.formatFriendlyDateAndTime(_.a.parseISO(t.startTimeLocal));
                    t.activityTimeDisplayValue = e.substring(e.indexOf("@") + 1, e.length),
                    t.activityDateDisplayValue = e.substring(0, e.indexOf("@") + 1),
                    t.timeZoneDisplayValue = this.activityTimeZone,
                    t.ownerNameDisplayValue = this.model.get("metadataDTO").userInfoDto.fullname || this.model.get("metadataDTO").userInfoDto.displayname;
                    var i = null;
                    this.course && (i = this.course.toJSON());
                    var a = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        activity: t,
                        url: w.default.url,
                        activityTypeClassMapper: x.a,
                        activityTypeReadOnly: this.activityTypeReadOnly,
                        readOnly: this.readOnly,
                        course: i,
                        isRepCounting: this.isRepCounting
                    });
                    if (this.$el.html(a),
                    !this.readOnly) {
                        var n = {
                            el: this.$(".activity-name-edit"),
                            value: this.model.get("activityName") || s.a.localize("untitled"),
                            disableEditOnClickText: !0,
                            maxLength: 75
                        };
                        if (S.a.isDivingActivity(this.model.get("activityTypeDTO").typeKey) && (this.$(".date-block").hide(),
                        n.formatClass = "diving",
                        n.tag = "span"),
                        S.a.isAutoRacingActivity(this.model.get("activityTypeDTO").typeKey) && (this.$(".date-block").hide(),
                        n.formatClass = "auto_racing",
                        n.tag = "span"),
                        S.a.isDivingActivity(this.model.get("activityTypeDTO").typeKey) && !S.a.isApneaDiving(this.model.get("activityTypeDTO").typeKey) ? (n.diveNumber = this.model.get("diveNumber"),
                        this.inlineEditView = new m.a(n),
                        this.inlineEditView.bind(d.a.Events.CHANGE, this.onDivingActivityNameAndNumberConfirmed, this)) : (this.inlineEditView = new u.a(n),
                        this.inlineEditView.bind(d.a.Events.CHANGE, this.onActivityNameConfirmed, this)),
                        this.inlineEditView.bind(d.a.Events.CANCEL, this.onActivityNameCancelled, this),
                        this.inlineEditView.bind(d.a.Events.EDIT, this.onEnterEditActivityName, this),
                        this.inlineEditView.render(),
                        !this.activityTypeReadOnly) {
                            var r = this.model.get("activityTypeDTO").typeId
                              , o = S.a.formatActivityTypesForDropdownList(this.activityTypes, !0);
                            S.a.isActivityTypeFound("value", r, this.activityTypes, !0) || (r = this.activityTypes.findByTypeKey(S.a.unknownActivityTypeDefault).get("typeId")),
                            t.metadataDTO.isAtpActivity && (o = S.a.filterActivityTypesByParent(o, ["running", "walking"])),
                            this.inlineActivityTypeDropDownListView = new g.a({
                                el: this.$("#activityTypeDropdownPlaceholder"),
                                items: o,
                                value: r,
                                className: "input-large",
                                formatClass: ""
                            }),
                            this.inlineActivityTypeDropDownListView.bind(g.a.Events.CHANGE, this.onActivityTypeChanged, this),
                            this.inlineActivityTypeDropDownListView.render()
                        }
                        S.a.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey) || (this.inlineEventTypeDropDownListView = new b.a({
                            el: this.$("#event-type-dropdown"),
                            items: this.getEventTypesForDropDownList(),
                            value: this.model.get("eventTypeDTO").typeId,
                            label: s.a.localize("event_type"),
                            formatClass: "",
                            scrollable: !1
                        }),
                        this.inlineEventTypeDropDownListView.bind(b.a.Events.CHANGE, this.onEventTypeChanged, this),
                        this.inlineEventTypeDropDownListView.render());
                        var c = t.associatedCourseId || -1;
                        S.a.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey) || this.userCourses.models.length > 0 && (this.inlineCourseDropDownListView = new y.a({
                            el: this.$("#course-dropdown"),
                            items: this.getCourseForDropDownList(),
                            value: c,
                            label: s.a.localize("course_label"),
                            formatClass: "",
                            scrollable: !1
                        }),
                        this.inlineCourseDropDownListView.bind(b.a.Events.CHANGE, this.onCourseChanged, this),
                        this.inlineCourseDropDownListView.render())
                    }
                    this.selectedGear && (this.activityGearView && this.activityGearView.stopListening(),
                    S.a.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey) || (this.activityGearView = new v.a({
                        el: this.$("#gearStatusViewPlaceholder"),
                        selectedGear: this.selectedGear,
                        model: this.selectedActivity,
                        readOnly: this.readOnly
                    }),
                    this.activityGearView.render())),
                    E.a.renderTooltips.call(this),
                    this.renderPrTrophy(),
                    this.updateNextAndPreviousButtons()
                },
                renderPrTrophy: function() {
                    this.model.get("personalRecord") && !this.readOnly && (t('<i class="icon-personal-records has-tooltip" data-placement="bottom" data-html="true" title=""></i>').appendTo(".trophy-container"),
                    this.prsTooltipView && (this.prsTooltipView.off(),
                    this.prsTooltipView.stopListening(),
                    this.prsTooltipView.remove()),
                    this.prsTooltipView = new f.a({
                        el: this.$(".icon-personal-records"),
                        activityId: this.model.id
                    }))
                },
                hidePrTrophy: function() {
                    this.$(".icon-personal-records").remove(),
                    this.prsTooltipView && (this.prsTooltipView.remove(),
                    this.prsTooltipView = null)
                },
                disableNextButton: function() {
                    this.$(".page-next").addClass("disabled")
                },
                enableNextButton: function() {
                    this.$(".page-next").removeClass("disabled")
                },
                disablePreviousButton: function() {
                    this.$(".page-previous").addClass("disabled")
                },
                enablePreviousButton: function() {
                    this.$(".page-previous").removeClass("disabled")
                },
                setupPreviousAndNext: function() {
                    this.activityRelative = new h.a({
                        activityId: this.model.id
                    });
                    var t = this;
                    this.activityRelative.fetch({
                        success: function() {
                            t.previousId = t.activityRelative.get("previousActivityId"),
                            t.nextId = t.activityRelative.get("nextActivityId"),
                            t.updateNextAndPreviousButtons()
                        }
                    })
                },
                updateNextAndPreviousButtons: function() {
                    this.previousId ? this.enablePreviousButton() : this.disablePreviousButton(),
                    this.nextId ? this.enableNextButton() : this.disableNextButton()
                },
                onNextButtonClicked: function() {
                    this.nextId && (this.trigger(P.PrepareToNavigate),
                    w.default.navigate("/activity/" + this.nextId),
                    this.pushActivityNavigationToAnalytics())
                },
                onPreviousButtonClicked: function() {
                    this.previousId && (this.trigger(P.PrepareToNavigate),
                    w.default.navigate("/activity/" + this.previousId),
                    this.pushActivityNavigationToAnalytics())
                },
                pushActivityNavigationToAnalytics: function() {
                    T.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: "Activity Navigation"
                    })
                },
                onActivityNameConfirmed: function(e) {
                    (e = t.trim(e)) != s.a.localize("untitled") && (this.model.set("activityName", e),
                    this.model.save()),
                    this.inlineEditView.render(),
                    this.renderPrTrophy(),
                    this.trigger(P.ActivityNameChanged, e)
                },
                onDivingActivityNameAndNumberConfirmed: function(t, e) {
                    this.model.set("activityName", t),
                    this.model.set("diveNumber", e),
                    this.model.save(),
                    this.inlineEditView.setDiveNumber(e),
                    this.inlineEditView.render(),
                    this.renderPrTrophy(),
                    this.trigger(P.ActivityNameChanged, t, e)
                },
                onActivityNameCancelled: function() {
                    this.renderPrTrophy()
                },
                onEnterEditActivityName: function() {
                    this.hidePrTrophy()
                },
                onActivityTypeChanged: function(t) {
                    var e = this.activityTypes.findByTypeId(t)
                      , i = !this.activityTypes.isSameParentActivityType(e, new p.a(this.model.get("activityTypeDTO")));
                    this.model.set("activityTypeDTO", e.toJSON());
                    var a = this.userBiometrics.getWeightInKg();
                    if (e && this.model.get("autoCalcCalories")) {
                        var n = A.a.autoCalcCalories(e.get("typeKey"), a, this.model.get("duration"), this.model.get("distance"));
                        n && this.model.set("calories", n)
                    }
                    this.model.save(),
                    this.setActivityTypeIcon(e),
                    this.trigger(P.ActivityTypeChanged, e.get("typeKey"), i)
                },
                onEventTypeChanged: function(t) {
                    var e = this.eventTypes.findByTypeId(t);
                    this.model.set("eventTypeDTO", e.toJSON()),
                    this.model.save(),
                    this.trigger(P.EventTypeChanged, t)
                },
                onCourseChanged: function(t) {
                    t && -1 != t ? this.model.set("associatedCourseId", t) : this.model.set("associatedCourseId", null),
                    this.model.save()
                },
                getEventTypesForDropDownList: function() {
                    var t = [];
                    return this.eventTypes.each(function(e) {
                        var i = e.get("typeKey");
                        "all" != i && t.push({
                            name: s.a.localize(i),
                            value: e.get("typeId")
                        })
                    }, this),
                    t = n.a.sortBy(t, function(t) {
                        return t.name
                    })
                },
                getCourseForDropDownList: function() {
                    var t = [];
                    return t.push({
                        name: "--",
                        value: -1
                    }),
                    this.userCourses.each(function(e) {
                        t.push({
                            name: e.get("courseName"),
                            value: e.id
                        })
                    }, this),
                    t
                },
                setActivityTypeIcon: function(t) {
                    var e = this.$(".activity-type-icon")
                      , i = e.attr("class").split(" ");
                    n.a.each(i, function(t) {
                        "icon-activity-" == t.substr(0, 14) && e.removeClass(t)
                    }),
                    e.addClass("icon-activity-" + x.a.map(t.get("typeKey")))
                },
                onActivitySaveSuccess: function() {
                    this.model.startTracking()
                },
                onActivitySaveFailure: function() {
                    alert(s.a.localize("error_saving_activity"))
                },
                onCourseNameClicked: function(t) {
                    w.default.anchorTagHandler(t),
                    t.stopPropagation()
                }
            });
            I.Events = P,
            e.a = I
        }
        ).call(this, i(10))
    },
    4383: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(1302)
          , o = i(4384)
          , s = i.n(o)
          , l = r.a.extend({
            scrollable: !1,
            template: n.a.template(s.a),
            initialize: function(t) {
                t.scrollable = !1,
                r.a.prototype.initialize.call(this, t)
            }
        });
        e.a = l
    },
    4384: function(t, e) {
        t.exports = '<%\nif (selectedItem && selectedItem.value != -1) {\n    var escapedCourseName = jQuery(\'<div/>\').text(selectedItem.name).html();\n    courseLinkHtml = \'<a href="/modern/course/\' + selectedItem.value + \'" class="course-name colored">\' + escapedCourseName + \'</a>\';\n} else {\n    var courseLinkHtml = \'--\';\n}\n%>\n<div class="dropdown">\n    <span class="dropdown-toggle" data-toggle="dropdown">\n        <%- label %>: <%= courseLinkHtml %>\n        <i class="icon-pointer-down"></i>\n    </span>\n    <ul class="dropdown-menu pull-left" role="menu" aria-label="<%- Localizer.localize(\'select.one\') %>">\n        <% for (var i = 0; i < items.length; i++) { %>\n        <% var item = items[i]; %>\n        <li data-value="<%- item.value %>" role="none">\n            <a href="#" role="menuitem"><%- item.name %></a>\n        </li>\n        <% } %>\n    </ul>\n</div>'
    },
    4385: function(t, e) {
        t.exports = '\x3c!--Page Feature--\x3e\n<div class="page-header-content">\n    <h1 class="page-feature clearfix">\n        <%\n            // Html encode this to prevent XSS\n            var linkHtml = \'<a href="\' + url(\'/profile/\' + activity.metadataDTO.userInfoDto.displayname) + \'" class="colored">\' + _.escape(activity.ownerNameDisplayValue) + \'</a>\';\n\n            if (course) {\n                courseLinkHtml = \'<a href="/modern/course/\' + course.courseId + \'" class="course-name colored">\' + _.escape(course.name) + \'</a>\';\n            } else {\n                var courseLinkHtml = \'--\';\n            }\n\n            var dateHtml = \'\';\n            if (activity.timeZoneDisplayValue) {\n                dateHtml = activity.activityDateDisplayValue + \'<span title="\' + activity.timeZoneDisplayValue +\'" class="activity-title-time has-tooltip" data-placement="bottom">\' + activity.activityTimeDisplayValue +\'</span>\';\n            } else {\n                dateHtml = activity.activityDateDisplayValue + \'<span class="activity-title-time has-tooltip" title="">\' + activity.activityTimeDisplayValue +\'</span>\';\n            }\n\n        %>\n\n\n        <div class="pull-left activity-detail-title">\n            <% if (!activityTypeReadOnly && !readOnly) { %>\n                <span id="activityTypeDropdownPlaceholder" class="dropdown"></span>\n            <% } else { %>\n                <%- Localizer.localize(\'activity_type_\' + activity.activityTypeDTO.typeKey) %>\n            <% } %>\n            <%= Localizer.localize(\'activity_type_by\', linkHtml, dateHtml) %>\n        </div>\n    </h1>\n    <i class="activity-type-icon pull-left icon-activity-<%- activityTypeClassMapper.map(activity.activityTypeDTO.typeKey) %>"></i>\n    \x3c!--Page Title--\x3e\n    <h3 class="page-title">\n        <div class="data-bit">\n            <% if (!readOnly) { %>\n                <div class="trophy-container activity-name-edit"></div>\n            <% } else { %>\n                <span class="trophy-container page-title-overflow"><%- activity.activityName %></span>\n            <% } %>\n        </div>\n    </h3>\n\n    <div class="date-block">\n        <span class="event-type">\n            <% if (!readOnly) { %>\n            <span id="event-type-dropdown" class="dropdown"></span>\n            <% } else { %>\n            <%- Localizer.localize(\'event_type_label\', Localizer.localize(activity.eventTypeDTO.typeKey)) %>\n            <% } %>\n        </span>\n        <% if(!isRepCounting) { %>\n            <span class="course-type">\n                <% if (!readOnly) { %>\n                    <span id="course-dropdown" class="dropdown"></span>\n                <% } else { %>\n                    <%= Localizer.localize(\'activity_course_link\', courseLinkHtml) %>\n                <% } %>\n            </span>\n        <% } %>\n        <span id="gearStatusViewPlaceholder" class="gear-indicator"></span>\n    </div>\n</div>\n\n<div class="page-navigation">\n    <button class="page-previous page-navigation-action" aria-label="<%- Localizer.localize(\'previous\') %>"><i class="icon-arrow-left"></i></button>\n    <button class="page-next page-navigation-action" aria-label="<%- Localizer.localize(\'next\') %>"><i class="icon-arrow-right"></i></button>\n</div>\n'
    },
    4386: function(t, e, i) {
        "use strict";
        (function(t, a) {
            var n, r = i(9), o = i.n(r), s = i(0), l = i.n(s), c = i(8), h = i(13), p = i(1414), d = i.n(p), u = i(31), m = i(1471), f = i(4387), g = i(58), y = i(1253), v = i(1301), b = i(80), A = i(53), _ = i(37), C = i(1465), w = i(4388), x = i(4389), S = i(296), T = i(4391), E = i.n(T), k = i(40), L = {
                OnContentsRendered: "OnContentsRendered",
                onMapCoordinateSystemClicked: "onMapCoordinateSystemClicked"
            }, P = {
                cycling: "#ff0000",
                running: "#003300",
                swimming: "#0000ff",
                transition: "#CCCC00",
                other: null
            }, I = {
                color: "#ff0035",
                videoColor: "#11a9ed",
                width: 5
            }, z = 0, B = 2, D = l.a.View.extend({
                template: o.a.template(E.a),
                events: {
                    "click .play": "onPlayerButtonClicked",
                    "click .pause": "onPlayerButtonClicked",
                    "click #fullScreenBtn": "onFullScreenBtnClicked"
                },
                initialize: function(t) {
                    if (this.mapProvider = t.mapProvider,
                    this.activityDetails = t.activityDetails,
                    this.activitySplits = t.activitySplits,
                    this.userMapSetting = t.userMapSetting,
                    this.activityTypes = t.activityTypes,
                    this.player = t.player,
                    this.weather = t.weather,
                    this.segmentEntities = [],
                    this.markers = [],
                    this.polylines = [],
                    this.childActivities = t.childActivities,
                    this.videoClips = t.videoClips,
                    this.mapPolyline = [],
                    this.markerPoints = [],
                    this.customLayers = [],
                    this.coordinateSystem = z,
                    !this.activityDetails)
                        throw "activityDetails required for ActivityMapView";
                    this.jumps = t.jumps,
                    this.isFullScreen = t.isFullScreen || !1,
                    this.additionalMapLayers = t.additionalMapLayers,
                    this.listenTo(this.activityDetails, "sync", this.renderContent)
                },
                setActivity: function(t, e, i, a, n) {
                    this.player.clear().set(this.player.defaults),
                    this.model = t,
                    this.activityDetails = e,
                    this.activitySplits = i,
                    this.activityTypedSplits = a,
                    this.weather = n,
                    this.destroy(),
                    this.markers = [],
                    this.polylines = [],
                    this.customLayers = [],
                    this.weatherView && (this.weatherView.stopListening(),
                    this.weatherView.$el.empty(),
                    this.weatherView = null),
                    this.markerPoints = [],
                    this.hideLaps(),
                    this.mapControlsView.showLapsToggle = this.showLapsToggle(),
                    this.rendered = !1
                },
                hasLaps: function() {
                    return this.activitySplits && this.activitySplits.get("lapDTOs") && this.activitySplits.get("lapDTOs").length > 1
                },
                showLapsToggle: function() {
                    return this.hasLaps() && !this.model.isParent()
                },
                render: function() {
                    var e = this.template({
                        Localizer: c.a,
                        Personalizer: h.a,
                        model: this.model.toJSON(),
                        hasPlayButton: !this.isDivingActivity(),
                        isFullScreen: this.isFullScreen
                    });
                    this.$el.html(e),
                    this.mapView = new v.a({
                        mapContainerId: "activity-map-canvas",
                        mapContainerClass: this.isDivingActivity() && !this.isApneaDiving() ? "short" : "",
                        width: "100%",
                        height: 400,
                        viewerIsAuthenticated: u.a.viewerIsAuthenticated,
                        disablePanning: !1,
                        disableZooming: !1,
                        enableBikeLanes: !1,
                        el: this.$("#activity-map-canvas"),
                        mapProvider: this.mapProvider
                    }),
                    this.mapControlsView = new w.a({
                        mapView: this.mapView,
                        userMapSetting: this.userMapSetting,
                        el: this.$("#map-controls"),
                        showLapsToggle: this.showLapsToggle(),
                        hideHeatMaps: !0,
                        lapToggleText: this.isDivingActivity() ? c.a.localize("activity_map_dives") : c.a.localize("activity_map_laps"),
                        additionalMapLayers: this.additionalMapLayers
                    }),
                    this.mapControlsView.on(w.a.Events.ON_MAP_PROVIDER_CHANGED, this.onMapViewProviderChanged, this),
                    this.mapControlsView.on(w.a.Events.LapsToggled, this.onLapsToggled, this),
                    this.mapControlsView.on(w.a.Events.ENABLE_DISABLE_MAP_SCROLL, this.enableDisableMapScrolling, this),
                    this.mapControlsView.on(w.a.Events.ON_MAP_COORDINATE_SYSTEM_SELECTED, this.onMapCoordinateSystemSelected, this),
                    this.mapView.render(),
                    this.mapView.bind(v.a.Events.ON_MAP_READY, this.onMapReady, this),
                    this.mapView.loadMap(),
                    this.renderContent();
                    var i = this;
                    t(window).on("resize.activityMapView", function() {
                        i.mapView.onWindowResized()
                    }),
                    this.isFullScreen && this.displayFullscreen(this.isFullScreen)
                },
                renderContent: function() {
                    if (this.mapView && this.mapView.mapHasBeenInitialized() && !this.rendered && (this.polyline = this.mapPolyline,
                    this.polyline && !(this.polyline.length < 1))) {
                        if (this.polylinePoints = [],
                        this.model.isParent())
                            if (b.a.userInChina()) {
                                for (var t = this, e = 0; e < this.polyline.length; e++)
                                    if (d.a.isOutOfChina(this.polyline[e].lat, this.polyline[e].lon)) {
                                        this.disableConvert = !0;
                                        break
                                    }
                                d.a.convertMultiplePointsHasType(this.polyline, function(e) {
                                    t.renderParentPolylines(e)
                                }, t.coordinateSystem, t.disableConvert)
                            } else
                                this.renderParentPolylines(this.polyline);
                        else if ((this.model.hasParent() || this.isSafetyEvent()) && (this.parentActivityType = this.activityTypes.getParentType(this.model.getActivityTypeKey()),
                        this.parentTypeKey = this.parentActivityType ? this.parentActivityType.get("typeKey") : null),
                        b.a.userInChina()) {
                            for (t = this,
                            e = 0; e < this.polyline.length; e++)
                                if (d.a.isOutOfChina(this.polyline[e].lat, this.polyline[e].lon)) {
                                    this.disableConvert = !0;
                                    break
                                }
                            d.a.convertMultiplePointsHasType(this.polyline, function(e) {
                                t.renderPolyline(e, {
                                    parentActivityTypeKey: t.parentTypeKey,
                                    zoomToBounds: !0,
                                    markersOnly: t.isDivingActivity()
                                })
                            }, t.coordinateSystem, t.disableConvert)
                        } else
                            this.renderPolyline(this.polyline, {
                                parentActivityTypeKey: this.parentTypeKey,
                                zoomToBounds: !0,
                                markersOnly: this.isDivingActivity()
                            });
                        if (this.weather && this.weather.has("temp") && (this.weatherView = new x.a({
                            el: this.$("#weather-controls"),
                            weather: this.weather,
                            activityType: this.model.get("activityTypeDTO").typeKey
                        }),
                        this.weatherView.render()),
                        this.player) {
                            var i = o.a.throttle(this.onPlayerXChanged, 100);
                            this.listenTo(this.player, "change:x", i, this),
                            this.listenTo(this.player, "change:mode", this.onPlayerPlaybackChanged)
                        }
                        this.jumps && this.jumps.length > 0 && this.addJumpMarkers(),
                        this.mapControlsView && this.mapControlsView.render(),
                        this.rendered = !0,
                        this.mapCanvas = this.$("#activity-map-canvas"),
                        window.matchMedia("(max-width: 767px)").matches ? "google" !== this.mapProvider && this.mapCanvas.addClass("pointer-events-none") : this.mapControlsView.hideScrollToggleButton(),
                        b.a.userInChina() && this.mapCanvas.append('<div class="baiduLogo"></div>'),
                        this.trigger(L.OnContentsRendered)
                    }
                },
                renderParentPolylines: function(t) {
                    var e = this.activitySplits.get("lapDTOs");
                    if (!e || e.length < 2)
                        return this.renderPolyline(t, {
                            zoomToBounds: !0
                        });
                    for (var i = [], a = 0, n = [], r = 1; r < e.length; r++) {
                        n = [];
                        for (var o = e[r], s = g.a.parseISOUTC(o.startTimeGMT).getTime(); a < t.length; a++) {
                            var l = t[a];
                            if (l.time >= s)
                                break;
                            n.push(l)
                        }
                        i.push(n)
                    }
                    for (n = []; a < t.length; a++)
                        l = t[a],
                        n.push(l);
                    for (i.push(n),
                    r = 0; r < i.length; r++) {
                        var c = i[r]
                          , h = this.childActivities.at(r);
                        if (h) {
                            var p = y.a.map(h.get("activityTypeDTO").typeKey);
                            P[p]
                        }
                        var d = this.activityTypes.getParentType(h.getActivityTypeKey())
                          , u = d ? d.get("typeKey") : null;
                        this.renderPolyline(c, {
                            displayEnd: r == i.length - 1,
                            parentActivityTypeKey: u,
                            zoomToBounds: !1
                        })
                    }
                    this.isFullScreen ? this.fitMapToActivity() : this.zoomToMarkerBounds()
                },
                isWithinTimeFrame: function(t, e, i) {
                    var a = !1;
                    return t.time >= e && t.time <= i && (a = !0),
                    a
                },
                isWithinTimeFrames: function(t, e) {
                    var i = this;
                    return e.some(function(e) {
                        return i.isWithinTimeFrame(t, e.start, e.end)
                    })
                },
                coloredPolylines: function(t, e) {
                    var i = this
                      , n = []
                      , r = []
                      , o = []
                      , s = !1;
                    if (t.forEach(function(t) {
                        var l = new a.Map.Point(t.lat,t.lon);
                        if (n.push(l),
                        i.isWithinTimeFrames(t, e)) {
                            if (r.length > 0) {
                                r.push(l);
                                var c = i.mapView.addPolyline(r, {
                                    width: I.width,
                                    strokeColor: I.color,
                                    clickable: !0
                                });
                                c && i.polylines.push(c),
                                r = []
                            }
                            0 == s && (s = !0),
                            o.push(l)
                        } else if (r.push(l),
                        s) {
                            s = !1,
                            o.push(l);
                            var h = i.mapView.addPolyline(o, {
                                width: I.width,
                                strokeColor: I.videoColor,
                                clickable: !0
                            });
                            h && i.polylines.push(h),
                            o = []
                        }
                    }),
                    o.length > 1) {
                        var l = this.mapView.addPolyline(o, {
                            width: I.width,
                            strokeColor: I.videoColor,
                            clickable: !0
                        });
                        l && this.polylines.push(l)
                    }
                    if (r.length > 1) {
                        var c = this.mapView.addPolyline(r, {
                            width: I.width,
                            strokeColor: I.color,
                            clickable: !0
                        });
                        c && this.polylines.push(c)
                    }
                    this.polylinePoints = this.polylinePoints.concat(n)
                },
                renderPolyline: function(t, e) {
                    e = e || {};
                    var i = !!o.a.isUndefined(e.displayEnd) || e.displayEnd
                      , n = e.parentActivityTypeKey
                      , r = e.zoomToBounds
                      , s = !o.a.isUndefined(e.markersOnly) && e.markersOnly;
                    if (!(t.length < 1)) {
                        if (!s) {
                            var l = [];
                            this.activityTypedSplits && this.activityTypedSplits.length > 0 ? (l = this.activityTypedSplits.getHighlightedTimeRanges(),
                            I.color = k.red_light_3) : this.videoClips && this.videoClips.length > 0 && (l = this.videoClips.getHighlightedTimeRanges());
                            var c = [];
                            if (l.length > 0)
                                this.coloredPolylines(t, l);
                            else {
                                var h = I.color;
                                n && (h = S.a.mapPolylineColor(n));
                                for (var p = 0; p < t.length; p++) {
                                    var u = t[p];
                                    try {
                                        c.push(new a.Map.Point(u.lat,u.lon))
                                    } catch (y) {
                                        console.error("Invalid datapoint in polyline --\x3e" + y)
                                    }
                                }
                                var m = this.mapView.addPolyline(c, {
                                    width: I.width,
                                    strokeColor: h,
                                    clickable: !0
                                });
                                m && this.polylines.push(m)
                            }
                            this.polylinePoints = this.polylinePoints.concat(c),
                            r && this.fitMapToActivity()
                        }
                        var f = t[0]
                          , g = t[t.length - 1];
                        this.markerPoints.push(f),
                        this.markerPoints.push(g),
                        this.setDisplayEnd(i),
                        this.setParentActivityTypeKey(n),
                        this.markerPoints.push(f),
                        this.markerPoints.push(g),
                        this.markers.push(this.mapView.addMarker(f.lat, f.lon, b.a.getStartMarkerOptions(n))),
                        i && this.markers.push(this.mapView.addMarker(g.lat, g.lon, b.a.getEndMarkerOptions())),
                        s && r && this.zoomToMarkerBounds(),
                        o.a.each(this.polylines, function(t) {
                            try {
                                this.mapView.addLineListener(a.Map.Utils.EVENT_MOUSE_OVER, o.a.bind(function(t) {
                                    if ("undefined" != typeof t.eventPoint) {
                                        var e = t.eventPoint.lat
                                          , i = t.eventPoint.lon;
                                        if (b.a.userInChina()) {
                                            for (var a = this.activityDetails.get("directLatitude"), n = this.activityDetails.get("directLongitude"), r = [], o = this, s = 0; s < a.length; s++)
                                                a[s] && n[s] && r.push({
                                                    lat: a[s],
                                                    lon: n[s]
                                                });
                                            this.disableConvert = !1;
                                            for (s = 0; s < r.length; s++)
                                                if (d.a.isOutOfChina(r[s].lat, r[s].lon)) {
                                                    this.disableConvert = !0;
                                                    break
                                                }
                                            d.a.convertMultiplePointsHasType(r, function(t) {
                                                for (var a = [], n = [], r = 0; r < t.length; r++)
                                                    a.push(t[r].lat),
                                                    n.push(t[r].lon);
                                                var s = o.findClosestPointForBaidu(e, i, a, n);
                                                o.closestPointIndex = s,
                                                o.player.set("x", o.activityDetails.get("sumDuration")[s])
                                            }, o.coordinateSystem, o.disableConvert)
                                        } else {
                                            var l = this.findClosestPoint(e, i);
                                            this.player.set("x", this.activityDetails.get("sumDuration")[l])
                                        }
                                    }
                                }, this), t)
                            } catch (e) {}
                        }, this)
                    }
                },
                zoomToMarkerBounds: function() {
                    this.mapView.fitMapToPoints(this.markerPoints)
                },
                displayLaps: function() {
                    if (!this.lapsAreDisplayed) {
                        var t = this.activitySplits.get("lapDTOs");
                        t && (this.lapMarkerIds = [],
                        this.lapsAreDisplayed = !0,
                        o.a.each(t, function(t) {
                            var e = this;
                            if (b.a.userInChina()) {
                                if (d.a.isOutOfChina(t.startLatitude, t.startLongitude) && (this.disableConvert = !0),
                                !this.disableConvert) {
                                    var i = {
                                        lat: t.startLatitude,
                                        lng: t.startLongitude
                                    };
                                    d.a.convertHasType(i, function(i) {
                                        i && i.lat && i.lon && t.lapIndex > 1 && e.lapMarkerIds.push(e.mapView.addNumberedMarker(i.lat, i.lon, b.a.getLapMarkerOptions(), t.lapIndex - 1))
                                    }, e.coordinateSystem)
                                }
                            } else
                                t.startLatitude && t.startLongitude && t.lapIndex > 1 && this.lapMarkerIds.push(this.mapView.addNumberedMarker(t.startLatitude, t.startLongitude, b.a.getLapMarkerOptions(), t.lapIndex - 1))
                        }, this))
                    }
                },
                displayDives: function() {
                    if (!this.lapsAreDisplayed) {
                        var t = this.activitySplits.get("lapDTOs");
                        t && (this.lapMarkerIds = [],
                        this.lapsAreDisplayed = !0,
                        o.a.each(t, function(t) {
                            this.lapMarkerIds.push(this.mapView.addNumberedMarker(t.startLatitude, t.startLongitude, b.a.getLapMarkerOptions(), t.lapIndex))
                        }, this))
                    }
                },
                addJumpMarkers: function() {
                    o.a.each(this.jumps, function(t) {
                        if (C.a.isValidLatitude(t.latitude) && C.a.isValidLongitude(t.longitude)) {
                            var e = this.mapView.addMarker(t.latitude, t.longitude, b.a.getJumpMarkerOptions(), null, null, null);
                            this.mapView.bindPopupToMarker({
                                closeButton: !1,
                                autoClose: !1,
                                className: "jump-map-tooltip",
                                popupText: "<b>" + c.a.localize("label_jump") + "</b><br/>" + this.getJumpText(t)
                            }, e)
                        }
                    }, this)
                },
                getJumpText: function(t) {
                    var e = "";
                    return null !== t.distance && (e += c.a.localize("label_jumps_distance") + ": " + h.a.personalizeMTBHeight(t.distance, c.a) + "<br/>"),
                    null !== t.hangTime && (e += c.a.localize("label_jumps_hangtime") + ": " + h.a.personalizeMTBSeconds(t.hangTime, c.a) + "<br/>"),
                    null !== t.speed && (e += c.a.localize("label_jumps_speed") + ": " + h.a.personalizeMTBSpeed(t.speed, this.model.get("activityTypeDTO").typeKey, c.a) + "<br/>"),
                    e
                },
                calculateLapInterval: function(t) {
                    return t <= 10 ? 1 : t <= 20 ? 2 : t <= 50 ? 5 : t <= 100 ? 10 : t <= 250 ? 25 : t <= 500 ? 50 : 100
                },
                showSegment: function(t) {
                    var e = new f.a({
                        uuid: t
                    });
                    e.once("sync", this.renderSegment, this),
                    e.fetch()
                },
                renderSegment: function(t) {
                    var e = t.get("geoPoints");
                    if (e && !(e.length < 1)) {
                        this.segmentEntity = {},
                        this.segmentEntity.segment = t;
                        for (var i = [], n = 0; n < e.length; n++) {
                            var r = e[n];
                            i.push(new a.Map.Point(r.latitude,r.longitude))
                        }
                        if (b.a.userInChina()) {
                            var o = this;
                            this.disableConvert = !1;
                            for (n = 0; n < i.length; n++)
                                if (d.a.isOutOfChina(i[n].lat, i[n].lon)) {
                                    this.disableConvert = !0;
                                    break
                                }
                            d.a.convertMultiplePoints(i, function(t) {
                                o.segmentEntity.polyline = o.mapView.addPolyline(t, {
                                    width: 2,
                                    strokeColor: "#0000ff"
                                }),
                                o.segmentEntity.startMarkerId = o.mapView.addMarker(t[0].lat, t[0].lon, b.a.getSegmentStartMarkerOptions()),
                                o.segmentEntity.endMarkerId = o.mapView.addMarker(t[t.length - 1].lat, t[t.length - 1].lon, b.a.getSegmentEndMarkerOptions()),
                                o.segmentEntities.push(o.segmentEntity)
                            }, o.disableConvert)
                        } else {
                            var s = e[0]
                              , l = e[e.length - 1];
                            this.segmentEntity.polyline = this.mapView.addPolyline(i, {
                                width: 2,
                                strokeColor: "#0000ff"
                            }),
                            this.segmentEntity.startMarkerId = this.mapView.addMarker(s.latitude, s.longitude, b.a.getSegmentStartMarkerOptions()),
                            this.segmentEntity.endMarkerId = this.mapView.addMarker(l.latitude, l.longitude, b.a.getSegmentEndMarkerOptions()),
                            this.segmentEntities.push(this.segmentEntity)
                        }
                    }
                },
                hideSegment: function(t) {
                    var e = o.a.find(this.segmentEntities, function(e) {
                        return e.segment.get("uuid") == t
                    });
                    e && this.removeSegmentEntity(e)
                },
                removeSegmentEntity: function(t) {
                    this.mapView.removeMarker(t.startMarkerId),
                    this.mapView.removeMarker(t.endMarkerId),
                    this.mapView.removePolyline(t.polyline),
                    this.segmentEntities = o.a.reject(this.segmentEntities, function(e) {
                        return t.segment.get("uuid") == e.segment.get("uuid")
                    })
                },
                removeSegmentEntities: function() {
                    var t = o.a.clone(this.segmentEntities);
                    o.a.each(t, function(t) {
                        this.removeSegmentEntity(t)
                    }, this)
                },
                hideLaps: function() {
                    this.lapsAreDisplayed && (o.a.each(this.lapMarkerIds, function(t) {
                        this.mapView.removeMarker(t)
                    }, this),
                    this.lapsAreDisplayed = !1)
                },
                findClosestPoint: function(t, e) {
                    for (var i = this.activityDetails.get("directLatitude"), a = this.activityDetails.get("directLongitude"), n = null, r = 99999999, o = 0; o < i.length; o++) {
                        var s = this.getDistanceFromLatLonInKm(t, e, i[o], a[o]);
                        s < r && (r = s,
                        n = o)
                    }
                    return n
                },
                findClosestPointForBaidu: function(t, e, i, a) {
                    for (var n = null, r = 99999999, o = 0; o < i.length; o++) {
                        var s = this.getDistanceFromLatLonInKm(t, e, i[o], a[o]);
                        s < r && (r = s,
                        n = o)
                    }
                    return n
                },
                getDistanceFromLatLonInKm: function(t, e, i, a) {
                    var n = this.deg2rad(i - t)
                      , r = this.deg2rad(a - e)
                      , o = Math.sin(n / 2) * Math.sin(n / 2) + Math.cos(this.deg2rad(t)) * Math.cos(this.deg2rad(i)) * Math.sin(r / 2) * Math.sin(r / 2);
                    return 6371 * (2 * Math.atan2(Math.sqrt(o), Math.sqrt(1 - o)))
                },
                deg2rad: function(t) {
                    return t * (Math.PI / 180)
                },
                onMapReady: function() {
                    this.renderContent()
                },
                onMapViewProviderChanged: function(t) {
                    this.isFullScreen && (n = !0),
                    this.mapProvider = t,
                    this.unloadMap(),
                    this.render()
                },
                onMapCoordinateSystemSelected: function() {
                    this.coordinateSystem === z ? (this.changedCoordinateSystem(B),
                    this.coordinateSystem = B) : (this.changedCoordinateSystem(z),
                    this.coordinateSystem = z)
                },
                changedCoordinateSystem: function(t) {
                    this.coordinateSystem = t,
                    this.rendered = !1,
                    this.destroy(),
                    this.updatePolyline();
                    var e = this.activityDetails.get("directLatitude")[this.currentDurationIndex]
                      , i = this.activityDetails.get("directLongitude")[this.currentDurationIndex]
                      , a = this;
                    if (d.a.isOutOfChina(e, i)) {
                        var n = this.mapView.addMarker(e, i, this.options);
                        this.currentPositionMarker && this.mapView.removeMarker(this.currentPositionMarker),
                        this.currentPositionMarker = n
                    } else
                        d.a.convertPointHasType([i, e], function(t) {
                            var e = a.mapView.addMarker(t.lat, t.lon, a.options);
                            a.currentPositionMarker && a.mapView.removeMarker(a.currentPositionMarker),
                            a.currentPositionMarker = e
                        }, a.coordinateSystem);
                    this.hideLaps()
                },
                onPlayerButtonClicked: function(t) {
                    t.preventDefault(),
                    this.player.togglePlayback()
                },
                onPlayerPlaybackChanged: function() {
                    this.player.get("mode") == m.a.Modes.Playing ? (this.$(".play").hide(),
                    this.$(".pause").show(),
                    this.pushPlayActivityAnalyticsEvents()) : (this.$(".pause").hide(),
                    this.$(".play").show())
                },
                pushPlayActivityAnalyticsEvents: function() {
                    A.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Play Activity"
                    })
                },
                onPlayerXChanged: function() {
                    if (this.activityDetails.has("polyline")) {
                        var t = this.player.get("x");
                        if (!(this.activityDetails.get("polyline").length < 1)) {
                            var e = this.activityDetails.get(this.player.get("xAxisType"));
                            if (e) {
                                "sumDistance" == this.player.get("xAxisType") && (t = h.a.revertDistance(t, this.model.getActivityTypeKey()));
                                for (var i, a, n = 0, r = 0; r < e.length; r++) {
                                    if (e[r] > t) {
                                        n = r - 1;
                                        break
                                    }
                                }
                                if (this.options = b.a.getPlayerPositionMarkerOptions(),
                                i = this.activityDetails.get("directLatitude")[n],
                                a = this.activityDetails.get("directLongitude")[n],
                                i && a)
                                    if (b.a.userInChina()) {
                                        this.currentDurationIndex = n;
                                        var o = this;
                                        if (d.a.isOutOfChina(i, a)) {
                                            var s = this.mapView.addMarker(i, a, this.options);
                                            this.currentPositionMarker && this.mapView.removeMarker(this.currentPositionMarker),
                                            this.currentPositionMarker = s
                                        } else
                                            d.a.convertPointHasType([a, i], function(t) {
                                                var e = o.mapView.addMarker(t.lat, t.lon, o.options);
                                                o.currentPositionMarker && o.mapView.removeMarker(o.currentPositionMarker),
                                                o.currentPositionMarker = e
                                            }, o.coordinateSystem)
                                    } else {
                                        s = this.mapView.addMarker(i, a, this.options);
                                        this.currentPositionMarker && this.mapView.removeMarker(this.currentPositionMarker),
                                        this.currentPositionMarker = s
                                    }
                            }
                        }
                    }
                },
                onLapsToggled: function(t) {
                    t ? this.isApneaDiving() ? this.displayDives() : this.displayLaps() : this.hideLaps()
                },
                unloadMap: function() {
                    this.removeSegmentEntities(),
                    this.removeCustomLayers(),
                    this.mapView && (this.mapView.off(),
                    this.mapView.$el.empty(),
                    this.mapView = null),
                    this.mapControlsView && (this.mapControlsView.off(),
                    this.mapControlsView.$el.empty(),
                    this.mapControlsView = null),
                    this.lapsAreDisplayed = !1,
                    this.rendered = !1,
                    t(window).off("resize.activityMapView")
                },
                hide: function() {
                    this.$el.hide()
                },
                show: function() {
                    this.$el.show()
                },
                enableDisableMapScrolling: function(t) {
                    o.a.isObject(t) && this.mapCanvas.toggleClass("pointer-events-none");
                    var e = this.mapCanvas.hasClass("pointer-events-none") ? c.a.localize("enable_scrolling") : c.a.localize("disable_scrolling");
                    this.mapControlsView.setTextForEnableDisableScrollButton(e)
                },
                updatePolyline: function() {
                    this.activityDetails.has("polyline") && !this.isDivingActivity() || !this.hasStartOrEndPoints() ? this.mapPolyline = this.activityDetails.get("polyline") : (this.hasStartPoint() && this.mapPolyline.push({
                        lat: this.model.get("startLatitude"),
                        lon: this.model.get("startLongitude")
                    }),
                    this.hasEndPoint() && this.mapPolyline.push({
                        lat: this.model.get("endLatitude"),
                        lon: this.model.get("endLongitude")
                    })),
                    this.renderContent()
                },
                hasStartPoint: function() {
                    return this.model.has("startLongitude") && this.model.has("startLatitude")
                },
                hasEndPoint: function() {
                    return this.model.has("endLongitude") && this.model.has("endLatitude")
                },
                hasStartOrEndPoints: function() {
                    return this.hasStartPoint() || this.hasEndPoint()
                },
                isDivingActivity: function() {
                    return _.a.isDivingActivity(this.model.get("activityTypeDTO").typeKey)
                },
                isApneaDiving: function() {
                    return _.a.isApneaDiving(this.model.get("activityTypeDTO").typeKey)
                },
                isSafetyEvent: function() {
                    return _.a.isSafetyEvent(this.model.get("activityTypeDTO").typeKey)
                },
                setDisplayEnd: function(t) {
                    this.displayEnd = t
                },
                getDisplayEnd: function() {
                    return this.displayEnd
                },
                setParentActivityTypeKey: function(t) {
                    this.parentActivityTypeKey = t
                },
                getParentActivityTypeKey: function() {
                    return this.parentActivityTypeKey
                },
                onFullScreenBtnClicked: function(t) {
                    this.isBackClicked && this.isBackInCode ? this.isBackInCode = !1 : (this.isFullScreen = !this.isFullScreen,
                    this.displayFullscreen(this.isFullScreen))
                },
                displayFullscreen: function(t) {
                    this.mapControlsView.setFullScreen(t),
                    this.toggleFullScreenMap(t),
                    this.handlingKeyboardEvent(t),
                    this.handleBackButton(t),
                    n && !t ? (n = !1,
                    this.unloadMap(),
                    this.render()) : (this.toggleFullScreenButton(),
                    this.mapView.resizeMap(),
                    this.zoomToActivity(t))
                },
                handleBackButton: function(t) {
                    if (!n || !t)
                        if (!this.isBackClicked && this.isHistoryPushed && (this.isHistoryPushed = !1,
                        this.isBackInCode = !0,
                        history.go(-1)),
                        t && !this.isHistoryPushed) {
                            this.isHistoryPushed = !0;
                            var e = -1 === location.href.indexOf("fullscreen=true") ? location.href + "?fullscreen=true" : location.href;
                            history.pushState(null, null, e);
                            var i = this;
                            window.onpopstate = function() {
                                i.isBackClicked = !0,
                                i.onFullScreenBtnClicked()
                            }
                        } else
                            this.isHistoryPushed = !1,
                            this.isBackClicked = !1,
                            window.onpopstate = null
                },
                fitMapToActivity: function() {
                    this.mapView.fitMapToPoints(this.polylinePoints)
                },
                zoomToActivity: function(t) {
                    this.model.isParent() && !t ? this.zoomToMarkerBounds() : this.fitMapToActivity()
                },
                toggleFullScreenMap: function(t) {
                    t ? (this.mapView.toggleMapInteraction(!0),
                    this.$el.addClass("full-screen-map")) : this.$el.removeClass("full-screen-map")
                },
                toggleFullScreenButton: function() {
                    this.$("#fullScreenBtn i").removeClass("hidden"),
                    this.isFullScreen ? this.$("#fullScreenBtn i.icon-full-screen").addClass("hidden") : this.$("#fullScreenBtn i.icon-close").addClass("hidden")
                },
                handlingKeyboardEvent: function(t) {
                    t ? (this.initialKeyUp = document.onkeyup,
                    document.onkeyup = this.handlingEscape.bind(this)) : document.onkeyup = this.initialKeyUp
                },
                handlingEscape: function(t) {
                    27 === t.keyCode && this.onFullScreenBtnClicked()
                },
                addGritLayer: function() {
                    var t = this;
                    if (o.a.each(this.polylines, function(t) {
                        this.mapView.removePolyline(t)
                    }, this),
                    this.customLayers.GRIT)
                        this.mapView.showPolyline(this.customLayers.GRIT.polyline),
                        this.customLayers.GRIT.visible = !0;
                    else {
                        var e = this.getHotlinePolyData(this.activityDetails.getGritData());
                        if (b.a.userInChina()) {
                            for (var i = 0; i < e.length; i++)
                                if (d.a.isOutOfChina(e[i].lat, e[i].lon)) {
                                    this.disableConvert = !0;
                                    break
                                }
                            if (this.disableConvert)
                                this.updateCustomLayerPoints("GRIT", e);
                            else {
                                var a = this;
                                this.gritPoints = e;
                                new Promise(function(t) {
                                    d.a.convertMultiplePointsHasType(e, function(e) {
                                        for (var i = 0; i < e.length; i++)
                                            a.gritPoints[i].lat = e[i].lat,
                                            a.gritPoints[i].lon = e[i].lon;
                                        t()
                                    }, a.coordinateSystem, a.disableConvert)
                                }
                                ).then(function(e) {
                                    t.updateCustomLayerPoints("GRIT", t.gritPoints),
                                    o.a.each(t.polylines, function(t) {
                                        this.mapView.removePolyline(t)
                                    }, t)
                                })
                            }
                        } else
                            this.updateCustomLayerPoints("GRIT", e)
                    }
                    this.userMapSetting.setCustom("GRIT" + (this.isMountainBikeActivity() ? "-MB" : ""), !0),
                    this.userMapSetting.save()
                },
                getHotlinePolyData: function(t) {
                    for (var e = [], i = this.activityDetails.get("directLongitude"), n = this.activityDetails.get("directLatitude"), r = 0; r < t.length; r++) {
                        var o = t[r]
                          , s = n[r]
                          , l = i[r];
                        null !== s && null !== l && e.push(new a.Map.Point(s,l,void 0,o))
                    }
                    return e
                },
                removeGritLayer: function() {
                    this.customLayers.GRIT && (this.mapView.removePolyline(this.customLayers.GRIT.polyline),
                    this.customLayers.GRIT.visible = !1,
                    this.userMapSetting.setCustom("GRIT" + (this.isMountainBikeActivity() ? "-MB" : ""), !1),
                    this.userMapSetting.save()),
                    this.customLayers.FLOW && this.customLayers.FLOW.visible || o.a.each(this.polylines, function(t) {
                        this.mapView.showPolyline(t)
                    }, this)
                },
                addFlowLayer: function() {
                    var t = this;
                    if (o.a.each(this.polylines, function(t) {
                        this.mapView.removePolyline(t)
                    }, this),
                    this.customLayers.FLOW)
                        this.mapView.showPolyline(this.customLayers.FLOW.polyline),
                        this.customLayers.FLOW.visible = !0;
                    else {
                        var e = this.getHotlinePolyData(this.activityDetails.getFlowData());
                        if (b.a.userInChina()) {
                            for (var i = 0; i < e.length; i++)
                                if (d.a.isOutOfChina(e[i].lat, e[i].lon)) {
                                    this.disableConvert = !0;
                                    break
                                }
                            if (this.disableConvert)
                                this.updateCustomLayerPoints("FLOW", e);
                            else {
                                var a = this;
                                this.flowPoints = e;
                                new Promise(function(t) {
                                    d.a.convertMultiplePointsHasType(e, function(e) {
                                        for (var i = 0; i < e.length; i++)
                                            a.flowPoints[i].lat = e[i].lat,
                                            a.flowPoints[i].lon = e[i].lon;
                                        t()
                                    }, a.coordinateSystem, a.disableConvert)
                                }
                                ).then(function(e) {
                                    t.updateCustomLayerPoints("FLOW", t.flowPoints),
                                    o.a.each(t.polylines, function(t) {
                                        this.mapView.removePolyline(t)
                                    }, t)
                                })
                            }
                        } else
                            this.updateCustomLayerPoints("FLOW", e)
                    }
                    this.userMapSetting.setCustom("FLOW" + (this.isMountainBikeActivity() ? "-MB" : ""), !0),
                    this.userMapSetting.save()
                },
                removeFlowLayer: function() {
                    this.customLayers.FLOW && (this.mapView.removePolyline(this.customLayers.FLOW.polyline),
                    this.customLayers.FLOW.visible = !1,
                    this.userMapSetting.setCustom("FLOW" + (this.isMountainBikeActivity() ? "-MB" : ""), !1),
                    this.userMapSetting.save()),
                    this.customLayers.GRIT && this.customLayers.GRIT.visible || o.a.each(this.polylines, function(t) {
                        this.mapView.showPolyline(t)
                    }, this)
                },
                destroy: function() {
                    this.stopListening(),
                    this.markers && o.a.each(this.markers, function(t) {
                        t && this.mapView.removeMarker(t)
                    }, this),
                    this.polylines && o.a.each(this.polylines, function(t) {
                        t && this.mapView.removePolyline(t)
                    }, this),
                    this.removeCustomLayers()
                },
                removeCustomLayers: function() {
                    o.a.each(o.a.keys(this.customLayers), function(t) {
                        this.customLayers[t] && this.customLayers[t].polyline && this.mapView.removePolyline(this.customLayers[t].polyline)
                    }, this)
                },
                updateCustomLayerPoints: function(t, e) {
                    var i, a, n;
                    switch (t) {
                    case "GRIT":
                        i = {
                            0: _.a.GritColorRanges.color_1,
                            .5: _.a.GritColorRanges.color_2,
                            1: _.a.GritColorRanges.color_3
                        },
                        a = _.a.GritColorRanges.max_1,
                        n = _.a.GritColorRanges.max_3;
                        break;
                    case "FLOW":
                    default:
                        i = {
                            0: _.a.FlowColorRanges.color_1,
                            .5: _.a.FlowColorRanges.color_2,
                            1: _.a.FlowColorRanges.color_3
                        },
                        a = _.a.FlowColorRanges.max_1,
                        n = _.a.FlowColorRanges.max_3
                    }
                    this.customLayers[t] = {
                        polyline: this.mapView.addHotlinePolyline(e, {
                            min: a,
                            max: n,
                            palette: i,
                            weight: 4,
                            outlineColor: "#000000",
                            outlineWidth: 1,
                            useEntireMapLatLngs: !0
                        }),
                        visible: !0
                    }
                },
                isMountainBikeActivity: function() {
                    return _.a.isMountainBikeActivity(this.model.get("activityTypeDTO").typeKey)
                }
            });
            D.Events = L,
            e.a = D
        }
        ).call(this, i(10), i(1259))
    },
    4387: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            idAttribute: "uuid",
            urlRoot: "/proxy/course-service/segment/"
        });
        e.a = n
    },
    4388: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = (i(0),
        i(8))
          , o = i(1533)
          , s = o.a.extend({
            lapTemplateHtml: '<div class="map-control-item laps"><label for="laps-checkbox"><input type="checkbox" id="laps-checkbox"><%= lapToggleText %></label></div>',
            initialize: function(t) {
                o.a.prototype.initialize.call(this, t),
                this.showLapsToggle = t.showLapsToggle,
                this.isMobileViewScrollingEnabled = !1,
                this.lapToggleText = t.lapToggleText,
                this.isFullScreen = t.isFullScreen
            },
            render: function() {
                if (o.a.prototype.render.call(this),
                this.lapTemplate || (this.lapTemplate = n.a.template(this.lapTemplateHtml)),
                this.showLapsToggle && this.$el.append(this.lapTemplate({
                    Localizer: r.a,
                    lapToggleText: this.lapToggleText
                })),
                !this.isFullScreen) {
                    var t = this.isMobileViewScrollingEnabled ? r.a.localize("disable_scrolling") : r.a.localize("enable_scrolling")
                      , e = n.a.template('<button class="map-control-item scrolling visible-phone">' + t + "</button>");
                    "google" !== this.mapView.mapProvider && this.$el.append(e())
                }
            },
            setFullScreen: function(t) {
                this.isFullScreen = t,
                this.render()
            },
            onLapsToggled: function(t) {
                this.trigger(s.Events.LapsToggled, this.$("#laps-checkbox").is(":checked"))
            },
            onEnableDisableScrollingClicked: function(t) {
                this.isMobileViewScrollingEnabled = !this.isMobileViewScrollingEnabled,
                this.trigger(s.Events.ENABLE_DISABLE_MAP_SCROLL, t)
            }
        });
        s.prototype.events = n.a.clone(o.a.prototype.events),
        s.prototype.events["change #laps-checkbox"] = "onLapsToggled",
        s.prototype.events["click .scrolling"] = "onEnableDisableScrollingClicked",
        s.Events.LapsToggled = "LapsToggled",
        s.Events.ENABLE_DISABLE_MAP_SCROLL = "ENABLE_DISABLE_MAP_SCROLL",
        e.a = s
    },
    4389: function(t, e, i) {
        "use strict";
        var a, n = i(2), r = i(9), o = i.n(r), s = i(0), l = i.n(s), c = i(8), h = i(13), p = i(4390), d = i.n(p);
        e.a = l.a.View.extend({
            template: o.a.template(d.a),
            events: {
                click: "onWeatherViewClicked"
            },
            initialize: function(t) {
                if (this.weather = t.weather,
                this.activityType = t.activityType,
                !this.weather)
                    throw "weather required for ActivityMapWeatherView"
            },
            render: function() {
                this.$el.html(this.template({
                    Personalizer: h.a,
                    Localizer: c.a,
                    weather: this.weather.toJSON(),
                    activityType: this.activityType,
                    imageUrl: this.imageUrl()
                }))
            },
            onWeatherViewClicked: function() {
                this.toggleView()
            },
            toggleView: function() {
                this.$el.toggleClass("weather-large")
            },
            imageUrl: function() {
                var t = this.weather.get("weatherTypeDTO");
                return t ? this.mapWeatherDescriptionToImage(t.desc) : null
            },
            mapWeatherDescriptionToImage: function(t) {
                var e = this.weatherDescriptionToImage[t];
                return e ? "/web-images/weather/icon_weather_".concat(e) : null
            },
            weatherDescriptionToImage: (a = {},
            Object(n.a)(a, "Clear", "clear.svg"),
            Object(n.a)(a, "Mostly Clear", "clear.svg"),
            Object(n.a)(a, "Fair", "clear.svg"),
            Object(n.a)(a, "Cloudy", "cloudy.svg"),
            Object(n.a)(a, "Mostly Cloudy", "cloudy.svg"),
            Object(n.a)(a, "Fog", "fog.svg"),
            Object(n.a)(a, "Drizzle", "fog.svg"),
            Object(n.a)(a, "Mist", "fog.svg"),
            Object(n.a)(a, "Smoke", "fog.svg"),
            Object(n.a)(a, "Haze", "fog.svg"),
            Object(n.a)(a, "Dust", "fog.svg"),
            Object(n.a)(a, "Sand", "fog.svg"),
            Object(n.a)(a, "Volcanic Ash", "fog.svg"),
            Object(n.a)(a, "Hail", "hail.svg"),
            Object(n.a)(a, "Partly Cloudy", "partlycloudy.svg"),
            Object(n.a)(a, "Precip", "rain.svg"),
            Object(n.a)(a, "Rain", "rain.svg"),
            Object(n.a)(a, "Heavy Rain", "rain.svg"),
            Object(n.a)(a, "Light Rain", "rain.svg"),
            Object(n.a)(a, "Showers", "rain.svg"),
            Object(n.a)(a, "Light Showers", "rain.svg"),
            Object(n.a)(a, "Heavy Showers", "rain.svg"),
            Object(n.a)(a, "Heavy Snow", "snow.svg"),
            Object(n.a)(a, "Light Snow", "snow.svg"),
            Object(n.a)(a, "Snow", "snow.svg"),
            Object(n.a)(a, "Thunderstorm", "tstorm.svg"),
            Object(n.a)(a, "Tornado", "tornado.svg"),
            Object(n.a)(a, "Sqall", "wind.svg"),
            Object(n.a)(a, "Ice", "wintermix.svg"),
            a)
        })
    },
    4390: function(t, e) {
        t.exports = '<% var windSpeedVal = Personalizer.personalizeWindSpeed(weather.windSpeed); %>\n<% var unit = Localizer.localize(Personalizer.getWindSpeedUnitKey()); %>\n<% var windDir = (weather.windDirectionCompassPoint != \'N/A\' && weather.windDirectionCompassPoint !== null ) ? Localizer.localize(\'weather.wind.direction.\' + weather.windDirectionCompassPoint) : \'\' %>\n<div class="map-control-item">\n    <span class="trigger"><i class="icon-arrow-left"></i></span>\n    <% if (weather.temp != null) {  %>\n        <span class="temperature" title="<%- Personalizer.personalizeTemperature(weather.temp) %>\xb0 <%- Localizer.localize(Personalizer.getTemperatureUnitKey()) %>"><%- Personalizer.personalizeTemperature(weather.temp) %>\xb0</span>\n    <% } %>\n\n    <% if (weather.weatherTypeDTO && imageUrl) { %>\n        <span class="weather-icon" title="<%- weather.weatherTypeDTO.desc %>"><img src="<%- imageUrl %>" alt="<%- weather.weatherTypeDTO.desc %>"></span>\n    <% } %>\n\n    <% if (weather.windSpeed != null) { %>\n        <span class="wind wind-<%- weather.windDirectionCompassPoint %>" title="<%- Localizer.localize(\'wind_speed_and_direction\', windSpeedVal, unit, windDir) %>"><%- windSpeedVal %></span>\n    <% } %>\n\n    <% if (weather.relativeHumidity !== null && activityType === "auto_racing") { %>\n    <span class="humidity-percentage"><%- Localizer.localize(\'weather_humidity_percentage\', weather.relativeHumidity) %></span>\n    <% } %>\n    <span class="details">\n        <ul>\n            <% if (weather.apparentTemp != null) { %>\n            <li class="relativity"><%- Localizer.localize(\'weather_feels_like\', Personalizer.personalizeTemperature(weather.apparentTemp))  %></li>\n            <% } %>\n\n            <% if (weather.windSpeed != null) { %>\n            <li class="wind-details"><%- Localizer.localize(\'wind_speed_and_direction\', windSpeedVal, unit, windDir) %></li>\n            <% } %>\n\n            <% if (weather.relativeHumidity != null) { %>\n            <li class="humidity"><%- Localizer.localize(\'weather_percent_humidity\', weather.relativeHumidity) %></li>\n            <% } %>\n\n            <% if (weather.weatherStationDTO != null) { %>\n            <li class="source"><%- Localizer.localize(\'weather_source\', weather.weatherStationDTO.id) %></li>\n            <% } %>\n        </ul>\n    </span>\n</div>\n'
    },
    4391: function(t, e) {
        t.exports = '<div class="span12">\n    <div id="activity-map-canvas" class="activity-map-canvas" style="min-width: 300px;"></div>\n\n    <div id="map-controls" class="map-controls"></div>\n\n    <% if (hasPlayButton) { %>\n    <div class="map-controls player" title="<%- Localizer.localize(\'activity_player_tooltip\') %>">\n        <button class="map-control-item play" style="display: block;" aria-label="<%-\xa0Localizer.localize(\'icon_play\')\xa0%>"><i class="icon-pointer-right"></i></button>\n        <button class="map-control-item pause" style="display: none;" aria-label="<%-\xa0Localizer.localize(\'icon_pause\')\xa0%>"><span></span><span></span></button>\n    </div>\n    <% } %>\n\n    <div class="map-controls flex-wrap pull-right">\n        <span id="weather-controls" class="weather"></span>\n        <button id="fullScreenBtn" class="map-control-item full-screen-btn">\n            <% if (isFullScreen) { %>\n                <i class="icon-full-screen hidden"></i>\n                <i class="icon-close" \n                    aria-label="<%-\xa0Localizer.localize(\'close\')\xa0%>"></i>\n            <% } else { %>\n                <i class="icon-full-screen" \n                    aria-label="<%-\xa0Localizer.localize(\'full_screen\')\xa0%>"></i>\n                <i class="icon-close hidden"></i>\n            <% } %>\n        </button>\n    </div>\n</div>'
    },
    4392: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(13)
              , c = i(111)
              , h = i(31)
              , p = i(32)
              , d = i(4393)
              , u = i(19)
              , m = i(2561)
              , f = i(1392)
              , g = i(107)
              , y = i(1455)
              , v = i(1728)
              , b = i(73)
              , A = i(4395)
              , _ = i(1253)
              , C = i(50)
              , w = i(64)
              , x = i(37)
              , S = i(1522)
              , T = i(4397)
              , E = i.n(T)
              , k = i(1255)
              , L = {
                PersonalRecordsChanged: "PersonalRecordsChanged",
                PrivacyChanged: "PrivacyChanged",
                RestoreActivity: "RestoreActivity",
                ExportSplitsCSV: "ExportSplitsCSV"
            }
              , P = o.a.View.extend({
                template: n.a.template(E.a),
                events: {
                    "click #btn-favorite": "onFavoriteClicked",
                    "click .btn-edit": "onEditClicked",
                    "click #btn-compare": "onBtnCompare",
                    "click #btn-set-as-pr:not(.disabled)": "onBtnSetAsPr",
                    "click #btn-save-as-course": "onBtnSaveAsCourse",
                    "click #btn-send-to-device": "onBtnSendToDevice",
                    "click #btn-delete": "onBtnDeleteActivity",
                    "click #btn-export-original": "onExportOriginal",
                    "click #btn-export-tcx": "onExportTcx",
                    "click #btn-export-gpx": "onExportGPx",
                    "click #btn-export-google-earth": "onExportKml",
                    "click #btn-export-csv": "onExportCsv",
                    "click #btn-activity-trim": "onAdvancedEditClicked",
                    "click #btn-activity-restore": "onActivityRestoreClicked"
                },
                initialize: function(t) {
                    if (this.conversation = t.conversation,
                    this.usersPersonalRecords = t.usersPersonalRecords,
                    this.userUnit = t.userUnit,
                    this.viewerIsAuthenticated = t.viewerIsAuthenticated,
                    this.viewerIsConnected = t.viewerIsConnected,
                    this.mapProviderPreference = t.mapProviderPreference,
                    this.userConnections = t.userConnections,
                    this.activityTypes = t.activityTypes,
                    this.addThisSharingEnabled = t.addThisSharingEnabled,
                    this.canShowAdvancedActivityEdit(t.canShowAdvancedActivityEdit),
                    this.canShowActivityRestore(t.canShowActivityRestore),
                    this.previousId = null,
                    this.setUpPreviousId(),
                    !this.userUnit)
                        throw "userUnit required for ActivityToolbarView";
                    this.updateButtonStates()
                },
                updateButtonStates: function() {
                    this.viewAsOwner = u.a.getDisplayName() === this.model.get("userInfoDto").displayname,
                    this.buttonSettings = this.buttonSettings || {},
                    this.buttonSettings.edit = !1,
                    this.buttonSettings.favorite = !1,
                    this.buttonSettings.privacy = !1,
                    this.buttonSettings.setpr = !1,
                    this.buttonSettings.savecourse = !0,
                    this.buttonSettings.sendtodevice = !1,
                    this.buttonSettings.exportorig = !1,
                    this.buttonSettings.exporttcx = !1,
                    this.buttonSettings.exportgpx = !1,
                    this.buttonSettings.exportgoogle = !1,
                    this.buttonSettings.exportcsv = !1,
                    this.buttonSettings.delete = !1;
                    var t = this.model.isParent()
                      , e = !x.a.isDivingActivity(this.model.get("activityTypeDTO").typeKey);
                    this.viewAsOwner ? (this.buttonSettings.edit = !0,
                    this.buttonSettings.favorite = !this.model.hasParent(),
                    this.buttonSettings.privacy = !this.model.hasParent(),
                    this.buttonSettings.setpr = this.canSetPR(this.model.get("activityTypeDTO").typeKey),
                    this.buttonSettings.savecourse = !t && this.model.get("hasPolyline") && this.model.isActivitySaveAsCourseCapable(),
                    this.buttonSettings.sendtodevice = !t && this.model.get("hasPolyline"),
                    this.buttonSettings.delete = !this.model.hasParent(),
                    this.buttonSettings.compare = !t,
                    this.buttonSettings.exportorig = !0,
                    this.buttonSettings.exporttcx = !t && e,
                    this.buttonSettings.exportgpx = !t && this.model.get("hasChartData") && e,
                    this.buttonSettings.exportkml = !t && this.model.get("hasPolyline"),
                    this.buttonSettings.exportcsv = this.canExportCSV()) : this.viewerIsAuthenticated && (this.buttonSettings.savecourse = !t && this.model.get("hasPolyline") && this.model.isActivitySaveAsCourseCapable(),
                    this.buttonSettings.sendtodevice = !t && this.model.get("hasPolyline"),
                    this.buttonSettings.exportorig = !1,
                    this.buttonSettings.exporttcx = !t && e,
                    this.buttonSettings.exportgpx = !t && this.model.get("hasChartData") && e,
                    this.buttonSettings.exportkml = !t && this.model.get("hasPolyline"),
                    this.buttonSettings.exportcsv = !t)
                },
                canSetPR: function(t) {
                    var e = _.a.map(t);
                    return "cycling" === e || "running" === e || "lap_swimming" === t
                },
                canShowAdvancedActivityEdit: function(t) {
                    this.showAdvancedActivityEdit = t
                },
                canShowActivityRestore: function(t) {
                    this.showActivityRestore = t
                },
                setActivity: function(t) {
                    this.model = t,
                    this.updateButtonStates()
                },
                exportOriginalUrl: function() {
                    return this.buttonSettings.exportorig ? w.default.url("/proxy/download-service/files/activity/" + this.model.id) : "#"
                },
                exportTcxUrl: function() {
                    return this.buttonSettings.exporttcx ? w.default.url("/proxy/download-service/export/tcx/activity/" + this.model.id) : "#"
                },
                exportGpxUrl: function() {
                    return this.buttonSettings.exportgpx ? w.default.url("/proxy/download-service/export/gpx/activity/" + this.model.id) : "#"
                },
                exportKmlUrl: function() {
                    return this.buttonSettings.exportkml ? w.default.url("/proxy/download-service/export/kml/activity/" + this.model.id) : "#"
                },
                exportSplitsCsvUrl: function() {
                    return this.buttonSettings.exportcsv ? w.default.url("/proxy/download-service/export/csv/activity/" + this.model.id) : "#"
                },
                render: function() {
                    var t = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        model: this.model.toJSON(),
                        exportOriginalUrl: this.exportOriginalUrl(),
                        exportTcxUrl: this.exportTcxUrl(),
                        exportGpxUrl: this.exportGpxUrl(),
                        exportKmlUrl: this.exportKmlUrl(),
                        bs: this.buttonSettings,
                        viewAsOwner: this.viewAsOwner,
                        viewerIsAuthenticated: this.viewerIsAuthenticated,
                        showAdvancedActivityEdit: this.showAdvancedActivityEdit,
                        showActivityRestore: this.showActivityRestore
                    });
                    this.$el.html(t),
                    this.$("li").length < 2 && (this.$("#gear-menu-list").css("visibility", "hidden"),
                    this.$(".icon-gear").css("visibility", "hidden")),
                    this.updateFavoriteIcon(),
                    (this.viewerIsConnected || this.viewAsOwner) && (this.likeView = new g.a({
                        el: this.$(".entry-like"),
                        conversationUuid: this.conversation.get("conversationUuid"),
                        liked: this.conversation.get("likedByUser"),
                        numberOfLikes: this.conversation.get("numberOfLikes"),
                        connections: this.connections,
                        resourceType: this.conversation.get("resourceType"),
                        resourceId: this.conversation.get("resourceId"),
                        isComment: !1,
                        tooltipPlacement: "bottom"
                    }),
                    this.likeView.render()),
                    this.privacyView = new y.a({
                        privacy: this.model.get("accessControlRuleDTO").typeKey,
                        el: this.$("#privacy-view-placeholder"),
                        onlyMeConsent: s.a.localize("activity_privacy_only_me_1"),
                        connectionsConsent: s.a.localize("activity_privacy_connections_1"),
                        groupsConsent: s.a.localize("activity_privacy_groups_1"),
                        everyoneConsent: s.a.localize("activity_privacy_everyone_1"),
                        customConsentClass: "privacy-consent"
                    }),
                    this.privacyView.on(y.a.Events.CHANGE, this.onPrivacyChanged, this),
                    this.privacyView.render(),
                    this.sharingView = new v.a({
                        el: this.$(".activity-share"),
                        mapProviderPreference: this.mapProviderPreference,
                        privacy: this.model.get("accessControlRuleDTO").typeKey,
                        url: this.getShareUrl(),
                        locale: h.a.get("preferredLocale"),
                        customClasses: "",
                        currentActivity: this.model,
                        hasMap: this.hasMap,
                        addThisSharingEnabled: this.addThisSharingEnabled
                    }),
                    this.sharingView.render()
                },
                setData: function(t) {
                    for (var e in t)
                        e && (this[e] = t[e])
                },
                getShareUrl: function() {
                    return window.location.protocol + "//" + window.location.host + "/modern/" + o.a.history.fragment
                },
                onFavoriteClicked: function(t) {
                    t.preventDefault(),
                    this.buttonSettings.favorite && (this.model.get("favorite") ? this.model.set("favorite", !1) : this.model.set("favorite", !0),
                    this.updateFavoriteIcon(),
                    this.model.save())
                },
                onEditClicked: function(t) {
                    t.preventDefault(),
                    this.buttonSettings.edit && o.a.history.navigate("activity/manual/" + this.model.id + "/edit", {
                        trigger: !0
                    })
                },
                onAdvancedEditClicked: function(t) {
                    t.preventDefault(),
                    S.b.pushAnalyticsEvent("ClickTrimActivityMenu"),
                    S.b.navigateToAdvancedEdit(this.model.id)
                },
                onActivityRestoreClicked: function(t) {
                    t.preventDefault(),
                    this.trigger(L.RestoreActivity)
                },
                onPrivacyChanged: function(t) {
                    this.buttonSettings.privacy && t && (this.model.set("accessControlRuleDTO", {
                        typeKey: t
                    }),
                    this.model.save(),
                    this.privacyView.setPrivacy(t),
                    this.privacyView.render(),
                    this.sharingView.setPrivacy(t),
                    this.trigger(L.PrivacyChanged))
                },
                updateFavoriteIcon: function() {
                    this.model.get("favorite") ? this.$("#favorite-icon").addClass("active") : this.$("#favorite-icon").removeClass("active")
                },
                onBtnSaveAsCourse: function(t) {
                    t.preventDefault(),
                    this.buttonSettings.savecourse && o.a.history.navigate("/course/create-from-activity/" + this.model.id, {
                        trigger: !0
                    })
                },
                onBtnCompare: function(t) {
                    if (t.preventDefault(),
                    this.buttonSettings.compare) {
                        var e = this.model.get("activityTypeDTO").typeKey
                          , i = this.activityTypes.getParentType(e)
                          , a = Math.ceil(this.model.get("summaryDTO").distance)
                          , n = "activities?" + ((i = i ? i.get("typeKey") : null) === e ? "activityType=" + e : "activityType=" + i + "&activitySubType=" + e) + "&maxDistance=" + a + "&selectedId=" + this.model.get("activityId");
                        w.default.navigate(n)
                    }
                },
                onBtnSetAsPr: function(e) {
                    if (e.preventDefault(),
                    this.buttonSettings.setpr) {
                        var i = this
                          , a = this.model.get("activityTypeDTO").typeKey
                          , n = _.a.map(a).toUpperCase()
                          , r = new f.a([],{
                            displayName: this.model.get("userInfoDto").displayname
                        })
                          , o = function(t) {
                            for (var e = [], i = 0; i < t.length; i += 1)
                                t[i].sport === n && e.push(t[i]);
                            return e
                        };
                        r.on("sync", function(e, n, l) {
                            var c = new A.a({
                                title: "pr.action.modal.label",
                                collection: o(e.toJSON()),
                                activityPrs: i.usersPersonalRecords,
                                availablePrTypes: r
                            });
                            c.on(A.a.Events.PR_CREATE_COMPLETED, function(t) {
                                i.usersPersonalRecords.fetch(),
                                i.model.set("personalRecord", !0),
                                i.trigger(L.PersonalRecordsChanged, t),
                                d.close()
                            }),
                            c.on(A.a.Events.PR_CREATE_FAILED, function(t) {
                                alert("An error was encountered when attempting to create/save the Personal Record. Please try again.")
                            }),
                            c.on(A.a.Events.PR_CONFIRM_REPLACE, function() {
                                t(".modal-footer", d.el).css({
                                    display: "none"
                                })
                            });
                            var h = i.model.get("summaryDTO").unitOfPoolLength
                              , d = new p.a({
                                modalTitle: s.a.localize("activity_set_as_pr"),
                                view: c.render(),
                                confirmationTextKey: "pr.action.assign.label",
                                cancelTextKey: "pr.action.cancel.label",
                                showFooter: !0,
                                onSaveButtonClicked: function() {
                                    var e = t("select option:selected", this.el);
                                    if (e && e.length > 0) {
                                        var n = e.attr("data");
                                        c.createPR(i.model, n, e.text(), a, h)
                                    }
                                }
                            });
                            d.render()
                        }),
                        r.fetch()
                    }
                },
                onBtnSendToDevice: function(t) {
                    if (t.preventDefault(),
                    this.buttonSettings.sendtodevice) {
                        var e = new c.a;
                        this.sendToDevicePageView && this.sendToDevicePageView.remove(),
                        window.SEND_TO_DEVICE_TITLE = this.model.get("activityName") || s.a.localize("untitled"),
                        this.sendToDevicePageView = new d.a({
                            collection: e,
                            model: e,
                            messageName: this.model.get("activityName") || s.a.localize("untitled"),
                            messageType: k.a.Queue.MessageTypes.ACTIVITIES,
                            id: this.model.id,
                            displayName: h.a.get("displayName"),
                            userLocale: h.a.get("preferredLocale"),
                            useConnectingPageView: !0
                        }),
                        this.sendToDevicePageView.loadContent();
                        var i = new p.a({
                            view: this.sendToDevicePageView,
                            customBodyClasses: "text-center",
                            showFooter: !1,
                            modalTitle: s.a.localize("queue.send.to.device")
                        });
                        i.render(),
                        i.$el.appendTo(this.$el)
                    }
                },
                onBtnDeleteActivity: function(t) {
                    if (t.preventDefault(),
                    this.buttonSettings.delete) {
                        var e = this.model.isParent() ? "delete_parent_activity_confirmation" : "delete_activity_confirmation"
                          , i = this;
                        new b.a({
                            modalTitle: s.a.localize("delete_activity"),
                            message: s.a.localize(e),
                            confirmationTextKey: "button_delete",
                            cancelTextKey: "button_cancel",
                            onSaveButtonClicked: function() {
                                return i.model.destroy(),
                                i.goToPrevActivityOrModernPage(),
                                !0
                            }
                        }).render()
                    }
                },
                goToPrevActivityOrModernPage: function() {
                    this.previousId ? w.default.navigate("/activity/" + this.previousId) : w.default.navigate("/")
                },
                setUpPreviousId: function() {
                    this.activityRelative = new m.a({
                        activityId: this.model.id
                    });
                    var t = this;
                    this.activityRelative.fetch({
                        success: function() {
                            t.previousId = t.activityRelative.get("previousActivityId")
                        }
                    })
                },
                canExportCSV: function() {
                    var t = this.model.isParent();
                    return this.model.get("activityTypeDTO").typeKey !== C.a.StrengthTraining && this.model.get("activityTypeDTO").typeKey !== C.a.Yoga && !x.a.isDivingActivity(this.model.get("activityTypeDTO").typeKey) && !t
                },
                onExportOriginal: function(t) {
                    t.preventDefault();
                    var e = this.exportOriginalUrl();
                    location.assign(e)
                },
                onExportTcx: function(t) {
                    t.preventDefault();
                    var e = this.exportTcxUrl();
                    location.assign(e)
                },
                onExportGPx: function(t) {
                    t.preventDefault();
                    var e = this.exportGpxUrl();
                    location.assign(e)
                },
                onExportKml: function(t) {
                    t.preventDefault();
                    var e = this.exportKmlUrl();
                    location.assign(e)
                },
                onExportCsv: function(t) {
                    t.preventDefault(),
                    this.trigger(L.ExportSplitsCSV)
                }
            });
            P.Events = L,
            e.a = P
        }
        ).call(this, i(10))
    },
    4393: function(t, e, i) {
        "use strict";
        (function(t, a) {
            var n = i(8)
              , r = i(44)
              , o = i(53)
              , s = i(31)
              , l = i(1326)
              , c = i(2138)
              , h = i.n(c)
              , p = i(4394)
              , d = i.n(p)
              , u = l.a.extend({
                events: {
                    "click .send-to-queue": "onSendToDeviceClicked",
                    "click .need-help": "onNeedHelpClicked",
                    "click .close-help ": "onHideHelpClicked",
                    "click .open-help ": "onOpenHelpClicked",
                    "click .device-selected": "onSendToDeviceButtonClicked"
                },
                initialize: function(e) {
                    l.a.prototype.initialize.call(this, e),
                    this.template = t.template(d.a),
                    this.waitTemplate = t.template(h.a),
                    this.on(l.a.Events.NOTIFICATIONS_SENT, this.displayConnectingToAgent, this)
                },
                render: function() {
                    "undefined" != typeof this.hasDevices && l.a.prototype.render.call(this, []),
                    this.$("a").each(function() {
                        a(this).attr("href").indexOf("/start") > -1 && a(this).addClass("colored")
                    })
                },
                displayConnectingToAgent: function(t) {
                    var e = this.waitTemplate({
                        Localizer: n.a
                    });
                    this.$el.html(e);
                    var i = (t.extra.wifiSetup ? n.a.localize("send.to.device.wifi.message") : n.a.localize("send.to.device.message")) + " " + n.a.localize("send.to.device.message2");
                    this.$("#sync-message").hide().html(i),
                    t.extra.wifiSetup ? (this.$("#wireless-message-header").html(n.a.localize("wireless.message", t.extra.deviceName)),
                    this.$(".wireless-message").show(),
                    this.$("#sync-message").show()) : (this.$(".non-wireless-message").show(),
                    this.startTimer()),
                    r.a.formatHelpStartForExpressionEngine(s.a.get("locale")),
                    this.notifyAgent(t.extra.deviceId),
                    a("#sync-message a.colored").each(function() {
                        a(this).attr("target", "_blank")
                    })
                },
                startTimer: function() {
                    var t = this;
                    setTimeout(function() {
                        t.$("#sync-message").show()
                    }, 1e4)
                },
                notifyAgent: function(t) {},
                onOpenHelpClicked: function(t) {
                    t.preventDefault(),
                    this.$(".open-help").hide(),
                    this.$(".close-help").show()
                },
                onHideHelpClicked: function(t) {
                    l.a.prototype.onHideHelpClicked.call(this, t),
                    this.$(".close-help").hide()
                },
                onSendToDeviceButtonClicked: function(t) {
                    this.pushSendToDeviceAnalyticsEvents(),
                    a(t.target).hasClass(".send-to-queue") && l.a.prototype.onSendToDeviceClicked.call(this, t)
                },
                pushSendToDeviceAnalyticsEvents: function() {
                    o.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Send To Device"
                    })
                }
            });
            e.a = u
        }
        ).call(this, i(9), i(10))
    },
    4394: function(t, e) {
        t.exports = '<div class="alert alert-error queue-error" style="display: none">\n    <p><%- Localizer.localize(\'queue.error\') %></p>\n</div>\n\n<% if (hasDevices) { %>\n    <h3 class="bottom-l"><%- sendToDeviceTitle %></h3>\n    <p class="bottom-xs"><%- Localizer.localize(\'agent.select.device\') %></p>\n\n    <% if (devices && devices.length > 0) { %>\n    <select class="bottom-s selected-device" aria-label="<%- Localizer.localize(\'select_one\') %>">\n        <% for (var i = 0; i < devices.length; i++) { %>\n        <option value="<%- devices[i].get(\'deviceId\') %>"><%- devices[i].get(\'displayName\') %></option>\n        <% }; %>\n    </select>\n    <div class="bottom-m device-selected"><a href="#" class="btn btn-large send-to-queue"><%- Localizer.localize(\'queue.send.now\') %></a></div>\n    <% } else { %>\n    <div><%- Localizer.localize(\'no.devices.found\') %></div>\n    <% } %>\n\n    <div class="need-help bottom-xs">\n        <a href="#" class="colored open-help need-help-link"><%- Localizer.localize(\'agent.need.help\') %></a>\n        <a href="#" class="colored close-help" style="display: none;"><%- Localizer.localize(\'agent.close.help\') %></a>\n    </div>\n    <div class="send-help text-left" style="display: none;">\n        <h4><%- Localizer.localize(\'agent.help.title\') %></h4>\n        <p><%- Localizer.localize(\'agent.help.reason\') %></p>\n        <ul>\n            <li><%- Localizer.localize(\'device.not.supported\') %></li>\n            <li><%- Localizer.localize(\'device.not.setup\') %></li>\n        </ul>\n        <p><%= Localizer.localize(\'agent.download.info\') %></p>\n        <hr>\n        <h4><%- Localizer.localize(\'agent.help.title2\') %></h4>\n        <p><%- Localizer.localize(\'device.send.course.title\') %></p>\n        <ul>\n            <li><%- Localizer.localize(\'device.send.course.info\') %></li>\n            <li><%- Localizer.localize(\'device.send.course.info2\') %></li>\n            <li><%- Localizer.localize(\'device.send.course.info3\') %></li>\n        </ul>\n    </div>\n\n<% } else { %>\n    <p><%- Localizer.localize(\'agent.additional.info\') %></p>\n    <div class="text-center">\n        <p><a href="/<%- Localizer.localize(\'agent.download.locale\') %>/start" class="btn btn-large queue-download"><%- Localizer.localize(\'agent.download\') %></a></p>\n    </div>\n    <div class="text-center get-started-overview top-l">\n        <div class="get-started-item">\n            <div class="get-started-img download"></div>\n            <span><%- Localizer.localize(\'agent.download.install\') %></span>\n        </div>\n        <div class="get-started-item">\n            <div class="get-started-img plug-in"></div>\n            <span><%- Localizer.localize(\'agent.plugin\') %></span>\n        </div>\n        <div class="get-started-item">\n            <div class="get-started-img link-device"></div>\n            <span><%- Localizer.localize(\'agent.link.device\') %></span>\n        </div>\n        <div class="get-started-item">\n            <div class="get-started-img connect"></div>\n            <span><%- Localizer.localize(\'gc\') %></span>\n        </div>\n    </div>\n<% }  %>\n\n\n'
    },
    4395: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(4396)
          , o = i.n(r)
          , s = i(1387)
          , l = i(21)
          , c = i(1361)
          , h = (i(13),
        i(8))
          , p = i(0)
          , d = {
            PR_CREATE_COMPLETED: "PR_CREATE_COMPLETED",
            PR_CREATE_FAILED: "PR_CREATE_FAILED",
            PR_CONFIRM_REPLACE: "PR_CONFIRM_REPLACE"
        }
          , u = i.n(p).a.View.extend({
            template: n.a.template(o.a),
            events: {
                "click button.cancel": "onReplaceCancel",
                "click button.confirm": "onReplaceConfirm"
            },
            initialize: function(t) {
                return this.title = t.title,
                this.activityPrs = t.activityPrs,
                this.showExistingPrNotification = !1,
                this.replacingPr = {},
                this.currentPr = {},
                this.prTypeId = null,
                this.model = null,
                this.availablePrTypes = t.availablePrTypes,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: h.a,
                    title: this.title,
                    collection: this.collection,
                    showExistingPrNotification: this.showExistingPrNotification,
                    currentPr: this.currentPr,
                    replacingPr: this.replacingPr
                })),
                this
            },
            alreadyExist: function(t) {
                if (this.activityPrs && this.activityPrs.length > 0)
                    for (var e = this.activityPrs.toJSON(), i = 0; i < e.length; i += 1)
                        if (e[i] && e[i].typeId === parseInt(t))
                            return e[i];
                return []
            },
            getPrValue: function(t, e) {
                switch (parseInt(e)) {
                case 7:
                case 8:
                    return t ? t.get("distance") : "distance";
                case 9:
                    return t ? t.get("elevationGain") : "elevationGain";
                case 10:
                    return t ? t.get("maxPowerTwentyMinutes") : "maxPowerTwentyMinutes";
                case 17:
                    return t ? t.get("distance") : "swim-distance";
                default:
                    return t ? t.get("duration") : "duration"
                }
            },
            personalizeValue: function(t, e, i) {
                var a = this.availablePrTypes.get(e);
                return s.a.getPersonalizerFunction(a.get("key"))(t, i)
            },
            createPR: function(t, e, i, a, r) {
                this.prTypeId = e,
                this.model = t;
                var o = this.alreadyExist(e);
                n.a.isEmpty(o) ? this.savePR() : (this.currentPr = {
                    name: o.activityName,
                    time: l.a.formatMonthDayYear(new Date(o.activityStartDateTimeLocal)),
                    value: this.personalizeValue(o.value, e, o.poolLengthUnit)
                },
                this.replacingPr = {
                    name: t.get("activityName"),
                    time: l.a.formatMonthDayYear(new Date(t.get("startTimeLocal"))),
                    value: this.personalizeValue(this.getPrValue(t, e), e, r)
                },
                this.title = i,
                this.activityTypeKey = a,
                this.showExistingPrNotification = !0,
                this.render(),
                this.trigger(d.PR_CONFIRM_REPLACE))
            },
            onSuccessSave: function(t, e, i) {
                this.trigger(d.PR_CREATE_COMPLETED, t.toJSON())
            },
            onErrorSave: function(t, e, i) {
                this.trigger(d.PR_CREATE_FAILED, e.statusText)
            },
            onReplaceCancel: function(t) {
                return t.preventDefault(),
                !0
            },
            onReplaceConfirm: function(t) {
                t.preventDefault(),
                this.savePR()
            },
            savePR: function() {
                var t = null;
                this.model.get("summaryDTO").unitOfPoolLength && this.model.get("summaryDTO").unitOfPoolLength.unitKey && (t = {
                    id: null,
                    key: this.model.get("summaryDTO").unitOfPoolLength.unitKey,
                    factor: null
                });
                var e = new c.a({
                    typeId: this.prTypeId,
                    activityId: this.model.id,
                    value: this.getPrValue(this.model, this.prTypeId),
                    poolLengthUnit: t
                });
                try {
                    e.save({}, {
                        success: n.a.bind(this.onSuccessSave, this),
                        error: n.a.bind(this.onErrorSave, this),
                        type: "post",
                        beforeSend: function(t) {
                            t.setRequestHeader("X-HTTP-Method-Override", "PUT")
                        }
                    })
                } catch (i) {
                    this.trigger(d.PR_CREATE_FAILED, i)
                }
            }
        });
        u.Events = d,
        e.a = u
    },
    4396: function(t, e) {
        t.exports = '<div style="display: <%- showExistingPrNotification ? \'none\' : \'block\' %>;">\n<h4><%- Localizer.localize(title) %></h4>\n<select>\n    <% for (var i = 0; i < collection.length; i += 1) { %>\n         <option data="<%- collection[i].id %>"><%- Localizer.localize(collection[i].key) %></option>\n    <% } %>\n</select>\n</div>\n<div class="replace-pr-confirmation" style="display: <%- showExistingPrNotification ? \'block\' : \'none\' %>;">\n    <h4 class="bottom-m"><%- Localizer.localize(\'pr.conflict.replace_existing_record\', title) %></h4>\n    <div class="row-fluid text-center">\n        <div class="span6 old-pr" title="<%- currentPr.name %>">\n            <h5><%- Localizer.localize(\'pr.conflict.current\') %></h5>\n            <div class="pr-time font-thin bottom-xs"><%- currentPr.value %></div>\n            <div class="pr-activity-name"><%- currentPr.name %></div>\n            <div class="pr-date bottom-s"><%- currentPr.time %></div>\n            <button class="btn btn-secondary cancel bottom-s" data-dismiss="modal" aria-hidden="true"><%- Localizer.localize(\'pr.action.keep.label\') %></button>\n        </div>\n        <div class="span6 new-pr" title="<%- replacingPr.activityName %>">\n            <h5><%- Localizer.localize(\'pr.conflict.new\') %></h5>\n            <div class="pr-time font-thin bottom-xs"><%- replacingPr.value %></div>\n            <div class="pr-activity-name"><%- replacingPr.name %></div>\n            <div class="pr-date bottom-s"><%- replacingPr.time %></div>\n            <button class="btn confirm bottom-s"><%- Localizer.localize(\'pr.conflict.replace\') %></button>\n        </div>\n    </div>\n</div>'
    },
    4397: function(t, e) {
        t.exports = '<div>\n    \x3c!--Liking--\x3e\n    <span class="entry-like">\n    </span>\n</div>\n\n<div>\n    <% if (bs.edit) { %>\n    <button id="btn-edit" class="btn-edit favorite page-navigation-action" title="<%- Localizer.localize(\'edit\') %>" aria-label="<%- Localizer.localize(\'edit\') %>">\n        <i class="icon-pencil"></i>\n    </button>\n    <% } %>\n\n    <% if (bs.favorite) { %>\n    <button id="btn-favorite" class="favorite page-navigation-action" title="<%- Localizer.localize(\'tooltip.favorite\') %>" aria-label="<%- Localizer.localize(\'tooltip.favorite\') %>">\n        <i id="favorite-icon" class="icon-star fav"></i>\n    </button>\n    <% } %>\n\n    \x3c!-- Share --\x3e\n    <div class="dropdown page-dropdown activity-share hidden-phone" style="display:inline-block;" title="<%- Localizer.localize(\'share\') %>"  aria-label="<%- Localizer.localize(\'share\') %>">\n\n    </div>\n\n    \x3c!-- Privacy Lock --\x3e\n    <% if (bs.privacy) { %>\n    <div id="privacy-view-placeholder" title="<%- Localizer.localize(\'privacy\') %>" aria-label="<%- Localizer.localize(\'privacy\') %>">\n    </div>\n    <% } %>\n\n    <div class="dropdown page-dropdown">\n        <button \n            class="dropdown-trigger page-navigation-action" \n            data-toggle="dropdown" \n            title="<%- Localizer.localize(\'tooltip_activity_gear\') %>"  \n            aria-label="<%- Localizer.localize(\'tooltip_activity_gear\') %>"\n        ><i class="icon-gear"></i></button>\n\n        <ul id="gear-menu-list" class="dropdown-menu pull-right" role="menu">\n            <li class="clearfix" role="presentation"><i class="icon-gear pull-right"></i></li>\n\n            <% if (viewAsOwner) { %>\n            <li class="<%- bs.compare ? \'\' : \'disabled\' %>" id="btn-compare" aria-disabled="<%- bs.compare ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_compare\') %></a></li>\n            <% } %>\n\n            <% if (viewerIsAuthenticated) { %>\n            <li class="<%- bs.sendtodevice ? \'\' : \'disabled\' %>" id="btn-send-to-device" class="kevin-temp" aria-disabled="<%- bs.sendtodevice ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'queue.send.to.device\') %></a></li>\n            <% } %>\n\n            <% if (viewerIsAuthenticated) { %>\n            <li class="<%- bs.savecourse ? \'\' : \'disabled\' %>" id="btn-save-as-course" aria-disabled="<%- bs.savecourse ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'saveAs.course.title\') %></a></li>\n            <% } %>\n\n            <% if (viewAsOwner) { %>\n            <li class="<%- bs.setpr ? \'\' : \'disabled\' %>" id="btn-set-as-pr" aria-disabled="<%- bs.setpr ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_set_as_pr\') %></a></li>\n            <% } %>\n\n            <% if (viewerIsAuthenticated && viewAsOwner) { %>\n            <li class="divider" role="separator"></li>\n            <li class="<%- bs.exportorig ? \'\' : \'disabled\' %>" id="btn-export-original" aria-disabled="<%- bs.exportorig ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_export_original\') %></a></li>\n            <li class="<%- bs.exporttcx ? \'\' : \'disabled\' %>" id="btn-export-tcx" aria-disabled="<%- bs.exporttcx ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_export_tcx\') %></a></li>\n            <li class="<%- bs.exportgpx ? \'\' : \'disabled\' %>" id="btn-export-gpx" aria-disabled="<%- bs.exportgpx ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_export_gpx\') %></a></li>           \n            <li class="<%- bs.exportkml ? \'\' : \'disabled\' %>" id="btn-export-google-earth" aria-disabled="<%- bs.exportkml ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_export_google_earth\') %></a></li>\n            <li class="<%- bs.exportcsv ? \'\' : \'disabled\' %>" id="btn-export-csv" aria-disabled="<%- bs.exportcsv ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_export_splits_csv\') %></a></li>\n            <% } %>\n\n            <% if (viewAsOwner) { %>\n            <li class="divider" role="separator"></li>\n            <li class="btn-edit <%- bs.edit ? \'\' : \'disabled\' %>" id="btn-menu-edit" aria-disabled="<%- bs.edit ? \'false\' : \'true\' %>" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'edit\') %></a></li>\n            <% if (showAdvancedActivityEdit) { %>\n                <li class="btn-activity-trim" id="btn-activity-trim" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_trim\') %></a></li>\n            <% } %>\n            <% if (showActivityRestore) { %>\n                <li class="btn-activity-restore" id="btn-activity-restore" role="none"><a href="#" role="menuitem"><%- Localizer.localize(\'activity_restore\') %></a></li>\n            <% } %>            \n            <li class="<%- bs.delete ? \'\' : \'disabled\' %>" id="btn-delete" aria-disabled="<%- bs.delete ? \'false\' : \'true\' %>" role="none"><a href="#confirm-delete-activity" role="button" data-toggle="modal"><%- Localizer.localize(\'delete.delete\') %></a></li>\n            <% } %>\n        </ul>\n    </div>\n\n</div>\n'
    },
    4398: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(0)
              , n = i.n(a).a.Model.extend({
                idAttribute: "activityId",
                initialize: function(t) {
                    this.activityId = t.activityId,
                    this.ids = t.ids
                },
                url: function() {
                    return "/modern/proxy/activity-service/activity/" + this.activityId + "/images/order"
                },
                update: function(e) {
                    var i = e || {};
                    i.url = this.url(),
                    i.type = "POST",
                    i.data = JSON.stringify(this.ids),
                    i.contentType = "application/json; charset=utf-8",
                    i.beforeSend = function(t) {
                        t.setRequestHeader("X-HTTP-Method-Override", "PUT")
                    }
                    ,
                    t.ajax(i)
                }
            });
            e.a = n
        }
        ).call(this, i(10))
    },
    4399: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(4400)
              , c = i(2562)
              , h = (i(32),
            i(95),
            i(2563),
            i(4403))
              , p = i.n(h)
              , d = {
                ENLARGE_PHOTO: "ENLARGE_PHOTO",
                MODAL_SCROLL: "MODAL_SCROLL",
                REMOVED_PHOTO: "REMOVED_PHOTO",
                REMOVED_MODAL_PHOTO: "REMOVED_MODAL_PHOTO",
                ADD_PHOTOS: "ADD_PHOTOS",
                RENDER_EDIT_VIEW: "RENDER_EDIT_VIEW"
            }
              , u = o.a.View.extend({
                events: {
                    "click .slides .photo": "onEnlargePhoto",
                    "click .next, .prev, .scroll-circle": "onSwitchPhoto",
                    "click .delete-photo": "onRemovePhoto",
                    "click .keep-photo": "onKeepPhoto",
                    "click .confirm-remove-photo": "onConfirmRemovePhoto",
                    "click .dismiss-delete-error": "onDismissError",
                    "click .add-photo-icon, .add-photo-text": "onClickAdd",
                    "click .edit-carousel": "onEditCarousel"
                },
                template: n.a.template(p.a),
                className: "photo-carousel-section",
                initialize: function(t) {
                    this.images = t.images,
                    this.maxFileCount = t.maxFileCount,
                    this.activityId = t.activityId,
                    this.canClickToEnlarge = t.canClickToEnlarge,
                    this.selectedPhotoId = t.selectedPhotoId,
                    this.isEnlarged = t.isEnlarged,
                    this.canManagePhotos = t.canManagePhotos,
                    this.updateUrl = t.updateUrl,
                    this.photoViews = [],
                    this.photoId = null
                },
                render: function() {
                    this.$el.html(this.template({
                        Localizer: s.a
                    }));
                    var e, i = this;
                    t(document).on("keydown", function(t) {
                        i.onArrowClick(t)
                    });
                    for (var a = 0; a < this.images.length; a++) {
                        var n = new l.a({
                            image: this.images[a]
                        });
                        this.$(".slides").append(n.render().el),
                        this.photoViews.push(n)
                    }
                    this.images.length > 0 && (e = this.selectedPhotoId ? this.selectedPhotoId : this.photoViews[0].id,
                    this.updatePhotos(e),
                    this.updateScrollSections());
                    return this.updateAddArea(),
                    this.updateDeleteArea(),
                    this.updateEditCarouselArea(),
                    this
                },
                updatePhotos: function(t) {
                    var e = this.$('.photo[data-photo-id="' + t + '"]');
                    if (e.length > 0) {
                        var i = e[1] ? e[1].parentElement : e[0].parentElement;
                        this.$(".active-photo").addClass("inactive-photo").removeClass("active-photo"),
                        this.$(".active-photo-container").addClass("inactive-photo-container").removeClass("active-photo-container"),
                        e.removeClass("inactive-photo").addClass("active-photo"),
                        i.classList.add("active-photo-container"),
                        i.classList.remove("inactive-photo-container")
                    }
                },
                updateScrollSections: function() {
                    this.updateScrollCircles(),
                    this.updateScrollArrows()
                },
                updateScrollCircles: function() {
                    this.$(".scroll-circle-area").empty();
                    for (var t = 0; t < this.images.length; t++)
                        this.$(".scroll-circle-area").append('<span class="scroll-circle" data-slide-id="' + this.images[t].imageId + '"></span>');
                    var e = this.$(".active-photo").data("photo-id");
                    e ? this.$(".active-circle").removeClass("active-circle") : e = this.photoViews[0].id,
                    this.$('.scroll-circle[data-slide-id="' + e + '"]').addClass("active-circle"),
                    this.images.length <= 1 ? this.$(".scroll-circle-area").css("visibility", "hidden") : this.$(".scroll-circle-area").css("visibility", "visible")
                },
                updateScrollArrows: function() {
                    var t = this.$(".active-photo").data("photo-id");
                    if (null !== t) {
                        for (var e, i, a = this.photoViews.length, n = 0; n < a; n++)
                            if (t === this.photoViews[n].id) {
                                e = (n + 1) % a,
                                i = (n - 1) % a;
                                break
                            }
                        i < 0 && (i += a)
                    } else
                        this.photoViews.length > 1 ? (e = 1,
                        i = this.photoViews.length - 1) : (e = 0,
                        i = 0);
                    this.$(".next").data("slide-id", this.photoViews[e].id),
                    this.$(".prev").data("slide-id", this.photoViews[i].id),
                    1 === this.photoViews.length ? this.hideScrollArrows() : this.showScrollArrows()
                },
                updateAddArea: function() {
                    this.canManagePhotos ? this.images.length < this.maxFileCount ? this.enableAddBtn() : this.disableAddBtn() : this.$(".add-area").hide()
                },
                updateDeleteArea: function() {
                    this.canManagePhotos ? this.$(".delete-photo").show() : this.$(".delete-photo").hide()
                },
                updateEditCarouselArea: function() {
                    this.canManagePhotos && this.images.length >= 2 ? this.$(".edit-carousel").show() : this.$(".edit-carousel").hide()
                },
                onEnlargePhoto: function() {
                    if (this.canClickToEnlarge) {
                        var t = this.$(".active-photo").data("photo-id");
                        this.trigger(d.ENLARGE_PHOTO, t)
                    }
                },
                disableAddBtn: function() {
                    this.$(".add-photo-text").addClass("add-photo-text-disabled"),
                    this.$(".add-photo-text").removeClass("dz-clickable"),
                    this.$(".add-photo-text").removeClass("add-photo-text")
                },
                enableAddBtn: function() {
                    this.$(".add-photo-text-disabled").addClass("add-photo-text"),
                    this.$(".add-photo-text-disabled").addClass("dz-clickable"),
                    this.$(".add-photo-text-disabled").removeClass("add-photo-text-disabled")
                },
                onSwitchPhoto: function(t) {
                    var e = this.$(t.target).data("slide-id") || this.photoId;
                    this.photoViews.length > 1 && (this.updatePhotos(e),
                    this.updateScrollSections()),
                    this.isEnlarged && this.trigger(d.MODAL_SCROLL, e)
                },
                onModalSwitchPhoto: function(t) {
                    this.photoViews.length > 1 && (this.updatePhotos(t),
                    this.updateScrollSections())
                },
                onRemovePhoto: function() {
                    this.hideScrollArrows(),
                    this.$(".delete-content").css("display", "flex"),
                    this.$(".delete-overlay, .delete-message").css("display", "block")
                },
                onEditCarousel: function() {
                    this.trigger(d.RENDER_EDIT_VIEW)
                },
                onKeepPhoto: function() {
                    this.hideDeleteMessage()
                },
                onConfirmRemovePhoto: function(t, e) {
                    var i = e || this.$(".active-photo").data("photo-id");
                    new c.a({
                        activityId: this.activityId,
                        imageId: i
                    }).destroy({
                        success: function() {
                            for (var t = 0; t < this.images.length; t++)
                                if (i === this.images[t].imageId) {
                                    this.images.splice(t, 1);
                                    break
                                }
                            this.removeGalleryPhoto(i),
                            this.hideDeleteMessage(),
                            this.isEnlarged ? this.trigger(d.REMOVED_MODAL_PHOTO, i) : this.trigger(d.REMOVED_PHOTO, this.images)
                        }
                        .bind(this),
                        error: function() {
                            this.$(".delete-message").css("display", "none"),
                            this.$(".delete-error-message").css("display", "block")
                        }
                        .bind(this)
                    })
                },
                onDismissError: function() {
                    this.hideDeleteMessage()
                },
                onClickAdd: function() {
                    this.canClickToEnlarge && this.trigger(d.ADD_PHOTOS)
                },
                onPhotoUploaded: function(t) {
                    var e = new l.a({
                        image: t
                    });
                    this.$(".slides").append(e.render().el),
                    this.photoViews.push(e),
                    this.images.push(t),
                    1 === this.photoViews.length && this.updatePhotos(t.imageId),
                    this.updateScrollSections()
                },
                hideDeleteMessage: function() {
                    this.$(".delete-content, .delete-overlay, .delete-message, .delete-error-message").css("display", "none"),
                    this.showScrollArrows()
                },
                hideScrollArrows: function() {
                    this.$(".next, .prev").addClass("hidden-arrow")
                },
                showScrollArrows: function() {
                    this.images.length > 1 && this.$(".hidden-arrow").removeClass("hidden-arrow")
                },
                removeGalleryPhoto: function(t) {
                    for (var e, i = 0; i < this.photoViews.length; i++)
                        if (t === this.photoViews[i].id) {
                            this.photoViews[i].destroy(),
                            this.photoViews.splice(i, 1),
                            (e = i) === this.photoViews.length && e--;
                            break
                        }
                    if (e >= 0) {
                        var a = this.photoViews[e].id;
                        this.updatePhotos(a)
                    }
                    this.photoViews.length > 0 && this.updateScrollSections()
                },
                destroy: function() {
                    this.off(),
                    this.remove()
                },
                onArrowClick: function(e) {
                    switch (e.which) {
                    case 37:
                        this.photoId = t(e.target).find(".prev").data("slide-id"),
                        this.onSwitchPhoto(e);
                        break;
                    case 39:
                        this.photoId = t(e.target).find(".next").data("slide-id"),
                        this.onSwitchPhoto(e)
                    }
                }
            });
            u.Events = d,
            e.a = u
        }
        ).call(this, i(10))
    },
    4400: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(4401)
          , c = i.n(l);
        e.a = o.a.View.extend({
            template: n.a.template(c.a),
            tagName: "span",
            className: "inactive-photo-container",
            initialize: function(t) {
                return this.image = t.image,
                this.id = t.image.imageId,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a,
                    image: this.image
                })),
                this
            },
            destroy: function() {
                this.off(),
                this.remove()
            }
        })
    },
    4401: function(t, e) {
        t.exports = '<img src="<%- image.url %>" alt="<%- Localizer.localize(\'photos_description\') %>" data-photo-id="<%- image.imageId %>" class="photo inactive-photo">'
    },
    4402: function(t, e) {
        t.exports = '<div class="edit-carousel-overlay">\n     <span class="data-label fine-print"><%- Localizer.localize(\'edit_carousel_text\') %></span>\n     <div class="js-edit-images clearfix">\n          <% for(var i=0; i < images.length; i++) { %>\n               <div class="edit-image-div" data-photo-id="<%- images[i].imageId %>" style="background-image: url(<%- images[i].smallUrl %>);">\n                   <button class="delete-photo-icon" data-photo-id="<%- images[i].imageId %>">&times;</button>\n               </div>\n          <% } %>\n     </div>\n     <div class="overlay-edit-btn">\n           <span>\n               <a class="btn btn-small btn-secondary cancel-edit-carousel"><%- Localizer.localize(\'cancel\') %></a>\n           </span>\n           <span>\n               <a class="btn btn-small btn-save-carousel" disabled><%- Localizer.localize(\'save\') %></a>\n           </span>\n     </div>\n</div>\n\n\n'
    },
    4403: function(t, e) {
        t.exports = '<div class="photo-carousel clearfix">\n    <div class="slider-control-section-container">\n        <div class="add-area">\n            <span class="add-photo-text dz-clickable"><i class="icon-add-photo icon-photo-add dz-clickable"></i><%- Localizer.localize(\'photos_add\') %></span>\n        </div>\n        <div class="slider-control-buttons">\n            <div class="delete-photo"><%- Localizer.localize(\'photos_remove\') %></div>\n            <div class="edit-carousel"><%- Localizer.localize(\'photos_edit\') %></div>\n        </div>\n    </div>\n    <div class="slides">\n        <div class="arrow-bar-left" data-slide-id="">\n            <i class="icon-arrow-left prev"></i>\n        </div>\n        <div class="arrow-bar-right" data-slide-id="">\n            <i class="icon-arrow-right next"></i>\n        </div>\n        <div class="delete-content">\n            <div class="delete-overlay">\n            <div class="delete-message delete-image">\n                <h5 class="bottom-xs delete-text"><%- Localizer.localize(\'photos_remove_confirmation\') %></h5>\n                <span>\n                    <a class="btn btn-secondary keep-photo"><%- Localizer.localize(\'photos_keep\') %></a>\n                </span>\n                <span>\n                    <a class="btn btn-primary btn-danger confirm-remove-photo"><%- Localizer.localize(\'photos_remove\') %></a>\n                </span>\n            </div>\n            <div class="delete-error-message">\n                <h5 class="bottom-xs delete-error-text"><%- Localizer.localize(\'photos_remove_error\') %></h5>\n                <span>\n                    <a class="btn btn-secondary dismiss-delete-error"><%- Localizer.localize(\'photos_dismiss_error\') %></a>\n                </span>\n            </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="slider-control-section-container">\n        <span class="scroll-circle-area"></span>\n    </div>\n</div>'
    },
    4404: function(t, e) {
        t.exports = '<h5 class="bottom-xs photos-header"><%- Localizer.localize(\'photos\') %></h5>\n<div class="add-photos border-wrapper">\n    <h5 class="bottom-xs add-photos-message"><i class="icon-photos icon-photo-add"></i>&nbsp;<%-Localizer.localize(\'photos_add_message\') %></h5>\n</div>'
    },
    4405: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(1670)
              , c = i.n(l)
              , h = i(4406)
              , p = i.n(h)
              , d = i(4407)
              , u = i.n(d)
              , m = i(31)
              , f = {
                DROPPED_EXCESS_PHOTOS: "DROPPED_EXCESS_PHOTOS",
                ADDED_PHOTO: "ADDED_PHOTO",
                UPLOADED_PHOTO: "UPLOADED_PHOTO",
                UPDATE_PROGRESS_BAR: "UPDATE_PROGRESS_BAR",
                UPLOAD_ERROR: "UPLOAD_ERROR"
            }
              , g = {
                acceptedFiles: ".JPG,.jpg,.bmp,.BMP,.gif,.GIF,.wbmp,.WBMP,.png,.PNG,.jpeg,.JPEG",
                maxFilesizeMB: 10,
                maxFiles: 10,
                url: null,
                autoProcessQueue: !0,
                autoQueue: !1,
                rowTemplate: p.a,
                previewsContainer: null,
                responseErrorKey: "photos_upload_error",
                fileTooBigKey: "photos_upload_error_file_too_large",
                tooManyFilesKey: "photos_upload_limit",
                invalidFileTypeKey: "photos_upload_error_invalid_file_type",
                headers: {
                    NK: "NT",
                    "X-app-ver": window.URL_BUST_VALUE,
                    "X-lang": m.a.getFullLocale()
                }
            }
              , y = o.a.View.extend({
                className: "photo-upload",
                initialize: function(t) {
                    if (this.deleteUrl = t.deleteUrl,
                    this.uploadOptions = null,
                    this.droppedFiles = !1,
                    this.pageDragPhotosCount = 0,
                    this.exceedsMax = !1,
                    this.mergeUploadOptions(t.uploadOptions),
                    (n.a.isUndefined(this.uploadOptions.url) || n.a.isNull(this.uploadOptions.url)) && !n.a.isFunction(this.uploadOptions.url))
                        throw "Upload URL must be provided"
                },
                initDropZone: function() {
                    var t = this
                      , e = 0;
                    this.myAwesomeDropzone = new c.a(this.$(".dropzone").get(0),{
                        init: function() {
                            this.on("drop", function(i) {
                                t.droppedFiles = !0;
                                for (var a = this.getAcceptedFiles(), n = 0; n < a.length; n++)
                                    a[n].accepted = !1;
                                t.hideDropMessage(),
                                e = 0
                            }),
                            this.on("dragenter", function(i) {
                                (e += 1) >= 3 && (e -= 1);
                                var a = t.getFilesCount(i);
                                if (t.filesExceedMax(a))
                                    t.$(".exceeds-limit-section").addClass("dropzone-exceeds-limit-overlay"),
                                    t.$(".dropzone-upload-box").addClass("dropzone-exceeds-limit-hover");
                                else {
                                    var n = t.$(".drop-photos-section");
                                    "none" === n.css("display") && (n.css("display", "block"),
                                    t.$(".dropzone-upload-box").addClass("drop-file-hover"))
                                }
                            }),
                            this.on("dragleave", function() {
                                (e -= 1) <= 0 && (t.$(".drop-photos-section").css("display", "none"),
                                t.$(".exceeds-limit-section").removeClass("dropzone-exceeds-limit-overlay"),
                                t.$(".dropzone-upload-box").removeClass("drop-file-hover dropzone-exceeds-limit-hover"),
                                t.pageDragPhotosCount = 2)
                            }),
                            this.on("addedfile", function() {
                                t.trigger(f.ADDED_PHOTO)
                            }),
                            this.on("error", function() {
                                t.trigger(f.UPLOAD_ERROR)
                            }),
                            this.on("totaluploadprogress", function(e) {
                                t.trigger(f.UPDATE_PROGRESS_BAR, e)
                            }),
                            this.on("success", function(e, i) {
                                t.trigger(f.UPLOADED_PHOTO, i),
                                t.droppedFiles = !1,
                                this.maxFiles -= 1
                            })
                        },
                        acceptedFiles: t.uploadOptions.acceptedFiles,
                        maxFilesize: t.uploadOptions.maxFilesizeMB,
                        maxFiles: t.uploadOptions.maxFiles,
                        url: t.uploadOptions.url,
                        accept: function(e, i) {
                            this.options.autoQueue || !t.droppedFiles ? i() : t.totalUploadSize = 0
                        },
                        autoQueue: !0,
                        autoProcessQueue: t.uploadOptions.autoProcessQueue,
                        headers: t.uploadOptions.headers,
                        createImageThumbnails: !1,
                        dictDefaultMessage: "",
                        dictResponseError: s.a.localize(t.uploadOptions.responseErrorKey),
                        dictMaxFilesExceeded: s.a.localize(t.uploadOptions.tooManyFilesKey),
                        dictFileTooBig: s.a.localize(t.uploadOptions.fileTooBigKey),
                        dictInvalidFileType: s.a.localize(t.uploadOptions.invalidFileTypeKey),
                        previewsContainer: t.uploadOptions.previewsContainer,
                        previewTemplate: n.a.template(t.uploadOptions.rowTemplate)({
                            Localizer: s.a
                        })
                    })
                },
                render: function() {
                    return this.$el.html(n.a.template(u.a)({
                        Localizer: s.a
                    })),
                    c.a.createElement = function(e) {
                        return t(e)[0]
                    }
                    ,
                    this.initDropZone(),
                    this
                },
                onDragPhotosInPage: function(t) {
                    this.pageDragPhotosCount += 1;
                    var e = this.getFilesCount(t);
                    this.filesExceedMax(e) ? (this.$(".exceeds-limit-section").addClass("exceeds-limit-overlay"),
                    this.$(".dropzone-upload-box").addClass("exceeds-limit-hover")) : (this.$(".drag-photos-section").css("display", "block"),
                    this.$(".dropzone-upload-box").addClass("drag-file-hover"))
                },
                onDragPhotosOutPage: function() {
                    this.pageDragPhotosCount -= 1,
                    this.pageDragPhotosCount <= 0 ? (this.$(".drag-photos-section").css("display", "none"),
                    this.$(".dropzone-upload-box").removeClass("drag-file-hover exceeds-limit-hover"),
                    this.$(".exceeds-limit-section").removeClass("exceeds-limit-overlay")) : (this.$(".drag-photos-section").css("display", "block"),
                    this.$(".dropzone-upload-box").addClass("drag-file-hover"))
                },
                getFilesCount: function(t) {
                    var e = null;
                    return e = (e = t.dataTransfer && t.dataTransfer.items ? t.dataTransfer.items.length : e) || t.originalEvent.dataTransfer.items.length
                },
                filesExceedMax: function(t) {
                    return (n.a.isUndefined(this.myAwesomeDropzone.maxFiles) || this.myAwesomeDropzone.maxFiles.isNull) && (this.myAwesomeDropzone.maxFiles = this.uploadOptions.maxFiles),
                    this.exceedsMax = t > this.myAwesomeDropzone.maxFiles,
                    this.exceedsMax
                },
                hideDropMessage: function() {
                    this.$(".drop-photos-section, .drag-photos-section").css("display", "none"),
                    this.$(".exceeds-limit-section").removeClass(".exceeds-limit-overlay dropzone-exceeds-limit-overlay"),
                    this.$(".dropzone-upload-box").removeClass("drag-file-hover drop-file-hover exceeds-limit-hover dropzone-exceeds-limit-hover")
                },
                mergeUploadOptions: function(e) {
                    this.uploadOptions = e ? t.extend(!0, {}, g, e) : t.extend(!0, {}, g)
                },
                destroy: function() {
                    this.off(),
                    this.myAwesomeDropzone.disable(),
                    this.remove()
                }
            });
            y.Events = f,
            e.a = y
        }
        ).call(this, i(10))
    },
    4406: function(t, e) {
        t.exports = '<div class="dz-file-preview file-error">\n    <h6 class="file-name" data-dz-name></h6>\n    <h6 class="file-size" data-dz-size></h6>\n    <h6 class="file-error-message" data-dz-errormessage></h6>\n</div>'
    },
    4407: function(t, e) {
        t.exports = '<form class="dropzone dropzone-upload-box dz-clickable">\n    <div class="view-photos"></div>\n    <div class="empty-state"></div>\n    <div class="drop-photos-section">\n        <h6 class="description"><%- Localizer.localize(\'photos_drop_instruction\') %></h6>\n    </div>\n    <div class="drag-photos-section">\n        <h6 class="description"><%- Localizer.localize(\'photos_drag_instruction\') %></h6>\n        <h6 class="description"><%- Localizer.localize(\'photos_upload_limit\') %></h6>\n    </div>\n    <div class="exceeds-limit-section">\n        <h6 class="description"><%- Localizer.localize(\'photos_upload_limit\') %></h6>\n    </div>\n</form>'
    },
    4408: function(t, e) {
        t.exports = '<div class="photo-upload-growl">\n    <div class="alert-growl-bottom-right">\n        <div class="alert-upload animated">\n\n            <h4 class="upload-text"></h4>\n\n            <div class="upload-progress-section">\n                <div class="upload-progress-bar">\n                    <div class="total-upload-progress"></div>\n                </div>\n                <h4 class="cancel-upload"><%- Localizer.localize(\'photos_upload_growl_cancel_upload\') %></h4>\n                <h4 class="dismiss-growl"><%- Localizer.localize(\'photos_upload_growl_dismiss\') %></h4>\n            </div>\n\n            <div class="upload-error-section">\n                <div class="upload-error-information">\n                    <h4 class="upload-error-summary"></h4>\n                    <h4 class="upload-error-dismiss"><%- Localizer.localize(\'photos_upload_growl_dismiss\') %></h4>\n                    <h4 class="upload-error-expand"><%- Localizer.localize(\'photos_upload_growl_expand_list\') %></h4>\n                    <h4 class="upload-error-minimize"><%- Localizer.localize(\'photos_upload_growl_minimize_list\') %></h4>\n                </div>\n                <div class="upload-error-list"></div>\n            </div>\n\n        </div>\n    </div>\n</div>\n\n<div class="photo-upload-error-growl">\n    <div class="alert-growl-bottom-right">\n        <div class="alert-error animated">\n            <h4 class="error-text"><%- Localizer.localize(\'photos_upload_growl_too_many_photos\') %></h4>\n            <h4 class="dismiss-error-growl"><%- Localizer.localize(\'photos_upload_growl_dismiss\') %></h4>\n        </div>\n    </div>\n</div>'
    },
    4409: function(t, e) {
        t.exports = '<div class="upload-photos-dropzone"></div>\n<div class="upload-growl"></div>\n<div class="edit-carousel-content"></div>\n<div class="alert alert-error hidden"></div>\n<div class="photo-carousel-view"></div>'
    },
    4410: function(t, e, i) {
        var a = i(4411);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    4411: function(t, e, i) {
        (t.exports = i(29)(!0)).push([t.i, "/*  ======================\n      Photo Empty State\n      ======================  */\n    .photo-empty-state .photos-header {\n        margin-bottom: 8px;\n    }\n    .photo-empty-state .add-photos {\n        width: 100%;\n        margin-bottom: 10px;\n        text-align: center;\n        cursor: pointer;\n    }\n    .photo-empty-state .add-photos-message {\n        font-size: 18px;\n        color: #121212;\n        letter-spacing: 0;\n        margin: 0;\n        display: -webkit-inline-flex;\n        display: inline-flex;\n        padding: 21px 10px 21px 10px;\n        cursor: pointer;\n    }\n    .photo-empty-state .icon-add-photo {\n        padding-right: 10px;\n        line-height: 23px;\n        height: auto;\n        width: auto;\n        cursor: pointer;\n    }\n    /*  ======================\n    Photo Carousel\n    ======================  */\n    .photo-carousel-section {\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n    .photo-carousel {\n        text-align: center;\n        position: relative;\n        margin: auto;\n        width: 100%;\n        height: 100%;\n    }\n    .photo-carousel .slides {\n        height: 270px;\n        margin-bottom: 5px;\n        float: left;\n        width: 100%;\n        position: relative;\n    }\n    /* Photo Containers */\n    .photo-carousel .active-photo-container,\n    .photo-carousel .inactive-photo-container {\n        height: 100%;\n        display: -webkit-flex;\n        display: flex;\n        -webkit-align-items: center;\n                align-items: center;\n        width: 80%;\n        padding-left: 10%;\n    }\n    .photo-carousel .inactive-photo-container {\n        display: none;\n    }\n    /* Photos */\n    .photo-carousel .photo {\n        max-height: 100%;\n        max-width: 100%;\n        height: auto;\n        width: auto;\n        margin-left: auto;\n        margin-right: auto;\n        cursor: pointer;\n    }\n    .photo-carousel .active-photo {\n        display: inline;\n    }\n    .photo-carousel .inactive-photo {\n        display: none;\n    }\n    /* Delete */\n    .photo-carousel .delete-content,\n    .photo-carousel .delete-overlay,\n    photo-carousel .edit-carousel-content,\n    .photo-carousel .edit-carousel-overlay {\n        display: none;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        height: 100%;\n        width: 100%;\n        z-index: 1;\n    }\n    .photo-carousel .delete-content,\n    .photo-carousel .edit-carousel-content {\n        -webkit-align-items: center;\n                align-items: center;\n    }\n    .photo-carousel .delete-overlay,\n    .photo-carousel {\n        transition: 0.5s ease;\n        background-color: #ffffff;\n    }\n    .modal .photo-carousel {\n        background-color: #000;\n    }\n    .slider-control-section-container {\n        padding: 0 10%;\n        /*is 80% because it inherits  box-sizing: content-box;*/\n        width: 80%;\n        float: left;\n        text-align: center;\n        margin: 5px 0;\n    }\n    .slider-control-section-container .slider-control-buttons {\n        float: right;\n    }\n    .slider-control-section-container .add-area {\n        float: left;\n    }\n    .icon-photo-add {\n        margin-right: 5px;\n    }\n    .edit-carousel-content {\n        transition: 0.5s ease;\n        background-color: #ffffff;\n    }\n    .edit-carousel-overlay {\n        margin: 5px;\n        text-align: center;\n    }\n    .edit-carousel-content .js-edit-images {\n        margin-bottom: 10px;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n    .edit-carousel-content .edit-image-div {\n        margin: 5px;\n        width: 100px;\n        height: 100px;\n        float: left;\n        position: relative;\n        background: no-repeat center center;\n        background-size: cover;\n    }\n    .edit-carousel-content .delete-photo-icon {\n        position: absolute;\n        bottom: 5px;\n        right: 5px;\n        display: block;\n        margin: 0;\n        padding: 0;\n        width: 25px;\n        height: 25px;\n        line-height: 1;\n        font-size: 20px;\n        text-align: center;\n        border: 1px solid #888;\n        background: #fff;\n        border-radius: 50%;\n        opacity: 0.8;\n    }\n    .edit-carousel-content .overlay-edit-btn {\n        text-align: right;\n        margin-bottom: 15px;\n    }\n    .photo-carousel .delete-message,\n    .photo-carousel .delete-error-message,\n    .photo-carousel .edit-carousel-content {\n        z-index: 100;\n        display: none;\n        margin-left: auto;\n        margin-right: auto;\n        visibility: visible;\n    }\n    .photo-carousel .delete-error-message .dismiss-delete-error {\n        cursor: pointer;\n    }\n    .photo-carousel .delete-content .keep-photo,\n    .photo-carousel .delete-content .confirm-remove-photo {\n        margin: 5px;\n        cursor: pointer;\n    }\n    /* Scroll arrows */\n    .photo-carousel .arrow-bar-left,\n    .photo-carousel .arrow-bar-right {\n        height: 100%;\n        width: 10%;\n        position: absolute;\n    }\n    .photo-carousel .arrow-bar-left {\n        left: 0;\n    }\n    .photo-carousel .arrow-bar-right {\n        right: 0;\n    }\n    .photo-carousel .icon-arrow-left,\n    .photo-carousel .icon-arrow-right {\n        font-size: 30px;\n        width: auto;\n        margin: 0;\n        height: auto;\n        color: #c7c7c7;\n        opacity: 0.7;\n        position: absolute;\n        top: 50%;\n        cursor: pointer;\n    }\n    .photo-carousel .icon-arrow-right {\n        right: 25%;\n    }\n    .photo-carousel .icon-arrow-left {\n        left: 25%;\n    }\n    .photo-carousel .icon-arrow-right.hidden-arrow,\n    .photo-carousel .icon-arrow-left.hidden-arrow {\n        visibility: hidden;\n    }\n    /* Add */\n    .photo-carousel .add-photo-text {\n        font-size: 12px;\n        color: #11a9ed;\n        cursor: pointer;\n    }\n    .photo-carousel .add-photo-icon,\n    .photo-carousel .add-icon-text-disabled {\n        margin-right: 5px;\n        line-height: 15px;\n    }\n    .photo-carousel .add-photo-text-disabled {\n        font-size: 12px;\n        color: #c7c7c7;\n        cursor: text;\n    }\n    .drag-drop-placeholder {\n        width: 100px;\n        height: 100px;\n        margin: 5px;\n        float: left;\n        border: 2px dashed #11a9ed;\n        box-sizing: border-box;\n    }\n    /* Remove */\n    .photo-carousel .delete-photo,\n    .photo-carousel .edit-carousel {\n        font-size: 12px;\n        color: #11a9ed;\n        float: right;\n        cursor: pointer;\n        display: inline;\n        margin-right: 2px;\n    }\n    .photo-carousel .add-photo-text:hover,\n    .photo-carousel .add-photo-text:focus,\n    .photo-carousel .delete-photo:hover,\n    .photo-carousel .delete-photo:focus,\n    .photo-carousel .edit-carousel:hover,\n    .photo-carousel .edit-carousel:focus {\n        text-decoration: underline;\n    }\n    .photo-carousel .delete-photo + .edit-carousel {\n        margin-right: 10px;\n    }\n    .photo-carousel .delete-image,\n    .photo-carousel .delete-error-message {\n        cursor: hand;\n        z-index: 100;\n        margin-top: 20%;\n    }\n    /* Scroll circles */\n    .photo-carousel .scroll-circle {\n        cursor: pointer;\n        height: 10px;\n        width: 10px;\n        margin: 0 4px 0 4px;\n        background-color: #c7c7c7;\n        border: 1px solid #c7c7c7;\n        border-radius: 50%;\n        display: inline-block;\n        transition: background-color 0.5s ease;\n    }\n    .photo-carousel .active-circle,\n    .photo-carousel .scroll-circle:hover {\n        background-color: #4badef;\n        border: 1px solid #4badef;\n    }\n    /* Modal */\n    .photo-carousel-modal {\n        height: 90%;\n        background-color: black;\n        border: black;\n        width: 90%;\n        padding: 0;\n        margin: 0;\n        left: 5%;\n        right: 5%;\n    }\n    .photo-carousel-modal .photo-carousel-section {\n        height: 85%;\n    }\n    .photo-carousel-modal .photo-carousel {\n        height: 95%;\n    }\n    .photo-carousel-modal .modal-body {\n        overflow-y: inherit;\n        padding: 45px 5px 0 5px;\n    }\n    .photo-carousel-modal .slides,\n    .photo-carousel-modal .arrow-bar-left,\n    .photo-carousel-modal .arrow-bar-right {\n        height: 100%;\n        width: auto;\n        float: none;\n    }\n    .photo-carousel-modal .active-photo-container,\n    .photo-carousel-modal .inactive-photo-container {\n        width: 90%;\n        padding-left: 5%;\n    }\n    .photo-carousel-modal .icon-arrow-left {\n        left: 0;\n    }\n    .photo-carousel-modal .icon-arrow-left,\n    .photo-carousel-modal .icon-arrow-right {\n        font-size: 55px;\n    }\n    .photo-carousel-modal .photo {\n        cursor: auto;\n        cursor: initial;\n    }\n    .photo-carousel-modal .slides {\n        margin-bottom: 35px;\n    }\n    .photo-carousel-modal .scroll-circle {\n        height: 12px;\n        width: 12px;\n        margin: 0 10px 0 10px;\n    }\n    .photo-carousel-modal .close {\n        font-size: 35px;\n        color: #ffffff;\n        margin-top: 15px;\n        line-height: 20px;\n        margin-right: 5px;\n    }\n    .modal-backdrop.lightbox {\n        background-color: black;\n    }\n    /*  ======================\n    Photo Upload\n    ======================  */\n    .photo-upload {\n        margin-bottom: 2px;\n    }\n    /* Dropzone instruction text */\n    .photo-upload .dz-message {\n        margin: 0;\n    }\n    /* Upload bar */\n    .photo-upload .dz-preview .dz-progress {\n        left: 0;\n        margin-left: 20px;\n        top: 60%;\n        background: #ffffff;\n        border: 1px solid #11a8ec;\n        width: 60px;\n        height: 9px;\n    }\n    .photo-upload .dz-preview .dz-progress .dz-upload {\n        background: #11a8ec;\n    }\n    /* Filename */\n    .photo-upload .dz-preview .dz-filename {\n        width: 77px;\n        font-size: 12px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n    }\n    /* Override default Dropzone CSS */\n    .photo-upload .dropzone.dropzone-upload-box {\n        position: relative;\n    }\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable {\n        font-weight: 400;\n        border: none;\n        padding: 0;\n        margin: 0;\n        font-size: 14px;\n        min-height: 0;\n    }\n    .photo-upload .dropzone.dropzone-upload-box.dz-max-files-reached {\n        opacity: 1;\n    }\n    /* Dropzone uses an * selector that can only be overridden by another * selector */\n    .photo-upload .dropzone.dropzone-upload-box * {\n        box-sizing: content-box;\n    }\n    /* Drag files */\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.drag-file-hover,\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.drop-file-hover {\n        border: 2px dashed #11a9ed;\n    }\n    .photo-upload .drop-photos-section,\n    .photo-upload .drag-photos-section,\n    .photo-upload .exceeds-limit-section.exceeds-limit-overlay,\n    .photo-upload .exceeds-limit-section.dropzone-exceeds-limit-overlay {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        font-size: 21px;\n        background-color: rgba(255, 255, 255, 0.95);\n    }\n    .photo-upload .drop-photos-section,\n    .photo-upload .drag-photos-section {\n        display: none;\n        color: #11a9ed;\n    }\n    .photo-upload .exceeds-limit-section {\n        display: none;\n    }\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.exceeds-limit-hover,\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.dropzone-exceeds-limit-hover {\n        border: 2px dashed #ff0035;\n    }\n    .photo-upload .exceeds-limit-section.exceeds-limit-overlay,\n    .photo-upload .exceeds-limit-section.dropzone-exceeds-limit-overlay {\n        display: block;\n        color: #ff0035;\n    }\n    .photo-upload .description {\n        position: relative;\n        text-align: center;\n        top: 50%;\n        margin: 0;\n    }\n    /* Growler */\n    .photo-upload-growl {\n        display: none;\n    }\n    /*  ======================\n    Photo Upload Growl\n    ======================  */\n    .photo-upload-growl .alert-growl-bottom-right {\n        z-index: 10;\n        width: 610px;\n        position: fixed;\n        right: 50px;\n        bottom: 50px;\n        max-height: 500px;\n        overflow-y: auto;\n        overflow-x: hidden;\n    }\n    .photo-upload-growl .alert-growl-bottom-right .alert-upload {\n        color: #121212;\n        background-color: #ffffff;\n        border: 3px solid #f2f2f2;\n        padding: 10px 25px 10px 25px;\n    }\n    .photo-upload-growl .upload-text {\n        margin-bottom: 5px;\n        display: block;\n        font-size: 14px;\n    }\n    .photo-upload-growl .upload-progress-section {\n        padding-top: 10px;\n        padding-bottom: 10px;\n    }\n    .photo-upload-growl .upload-progress-bar {\n        display: -webkit-inline-flex;\n        display: inline-flex;\n        width: 85%;\n        height: 15px;\n        background-color: #ffffff;\n        border: 1px solid #11a8ec;\n        border-radius: 48px;\n        vertical-align: middle;\n    }\n    .photo-upload-growl .total-upload-progress {\n        width: 0%;\n        background-color: #11a9ed;\n        border-radius: 48px;\n        height: 100%;\n    }\n    .photo-upload-growl .cancel-upload,\n    .photo-upload-growl .dismiss-growl {\n        font-size: 14px;\n        color: #11a8ec;\n        display: inline;\n        padding-left: 4%;\n        vertical-align: middle;\n        cursor: pointer;\n    }\n    .photo-upload-growl .dismiss-growl {\n        display: none;\n    }\n    /* Upload Error Banner */\n    .photo-upload-growl .upload-error-section {\n        display: none;\n        width: 604px;\n        margin-left: -26px;\n    }\n    .photo-upload-growl .upload-error-information {\n        background-color: #ffc5d2;\n        border: 1px solid #bf0f24;\n        width: 100%;\n        display: -webkit-inline-flex;\n        display: inline-flex;\n        height: 35px;\n        margin-top: 10px;\n        margin-bottom: 10px;\n    }\n    .photo-upload-growl .upload-error-summary,\n    .photo-upload-growl .upload-error-dismiss,\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        font-size: 14px;\n        color: #b81623;\n        letter-spacing: 0;\n        margin-top: 8px;\n    }\n    .photo-upload-growl .upload-error-summary {\n        margin-left: 25px;\n    }\n    .photo-upload-growl .upload-error-dismiss,\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        text-decoration: underline;\n        cursor: pointer;\n    }\n    .photo-upload-growl .upload-error-dismiss {\n        margin-left: 300px;\n    }\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        margin-left: 15px;\n    }\n    .photo-upload-growl .upload-error-minimize {\n        display: none;\n    }\n    /* Upload Error List */\n    .photo-upload-growl .upload-error-list {\n        display: none;\n    }\n    .photo-upload-growl .dz-file-preview {\n        display: none;\n    }\n    .photo-upload-growl .dz-file-preview.dz-error.dz-complete {\n        display: block;\n    }\n    .photo-upload-growl .file-error {\n        margin: 10px 25px 0 25px;\n    }\n    .photo-upload-growl .file-name,\n    .photo-upload-growl .file-size,\n    .photo-upload-growl .file-error-message {\n        display: inline-block;\n        font-size: 14px;\n        margin-bottom: 0;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n    .photo-upload-growl .file-name {\n        width: 200px;\n    }\n    .photo-upload-growl .file-size {\n        position: absolute;\n        width: 100px;\n        left: 45%;\n    }\n    .photo-upload-growl .file-error-message {\n        position: absolute;\n        width: 175px;\n        right: 25px;\n        color: #ff0035;\n    }\n    /* Generic Upload Error */\n    .photo-upload-error-growl {\n        display: none;\n    }\n    .photo-upload-error-growl .alert-growl-bottom-right {\n        width: 475px;\n        z-index: 500;\n        margin: auto;\n        position: fixed;\n        right: 50px;\n        bottom: 50px;\n    }\n    .photo-upload-error-growl .alert-growl-bottom-right .alert-error {\n        background: #fbccd8;\n        border: 1px solid #c91a33;\n        border-radius: 6px;\n        padding: 10px 25px 10px 25px;\n    }\n    .photo-upload-error-growl .error-text,\n    .photo-upload-error-growl .dismiss-error-growl {\n        display: block;\n        font-size: 14px;\n    }\n    .photo-upload-error-growl .error-text {\n        margin-bottom: 0;\n    }\n    .photo-upload-error-growl .dismiss-error-growl {\n        cursor: pointer;\n        text-decoration: underline;\n        margin-left: 380px;\n        margin-bottom: 0;\n    }\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/styles/photo-gallery.css"],
            names: [],
            mappings: "AACI;;gCAE2B;IAE3B;QACI,mBAAkB;KACtB;IAEA;QACI,YAAW;QACX,oBAAmB;QACnB,mBAAkB;QAClB,gBAAe;KACnB;IAEA;QACI,gBAAe;QACf,eAAc;QACd,kBAAiB;QACjB,UAAS;QACT,6BAAoB;QAApB,qBAAoB;QACpB,6BAA4B;QAC5B,gBAAe;KACnB;IAEA;QACI,oBAAmB;QACnB,kBAAiB;QACjB,aAAY;QACZ,YAAW;QACX,gBAAe;KACnB;IAAE;;8BAEuB;IAEzB;QACI,0BAAyB;QACzB,uBAAsB;QACtB,sBAAqB;QACrB,kBAAiB;KACrB;IAEA;QACI,mBAAkB;QAClB,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,aAAY;KAChB;IAEA;QACI,cAAa;QACb,mBAAkB;QAClB,YAAW;QACX,YAAW;QACX,mBAAkB;KACtB;IAEA,sBAAqB;IACrB;;QAEI,aAAY;QACZ,sBAAa;QAAb,cAAa;QACb,4BAAmB;gBAAnB,oBAAmB;QACnB,WAAU;QACV,kBAAiB;KACrB;IAEA;QACI,cAAa;KACjB;IAEA,YAAW;IACX;QACI,iBAAgB;QAChB,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,kBAAiB;QACjB,mBAAkB;QAClB,gBAAe;KACnB;IAEA;QACI,gBAAe;KACnB;IAEA;QACI,cAAa;KACjB;IAEA,YAAW;IACX;;;;QAII,cAAa;QACb,mBAAkB;QAClB,OAAM;QACN,UAAS;QACT,QAAO;QACP,SAAQ;QACR,aAAY;QACZ,YAAW;QACX,WAAU;KACd;IAEA;;QAEI,4BAAmB;gBAAnB,oBAAmB;KACvB;IAEA;;QAEI,sBAAqB;QACrB,0BAAyB;KAC7B;IACA;QACI,uBAAsB;KAC1B;IACA;QACI,eAAc;QACd,wDAAuD;QACvD,WAAU;QACV,YAAW;QACX,mBAAkB;QAClB,cAAa;KACjB;IACA;QACI,aAAY;KAChB;IACA;QACI,YAAW;KACf;IACA;QACI,kBAAiB;KACrB;IAEA;QACI,sBAAqB;QACrB,0BAAyB;KAC7B;IAEA;QACI,YAAW;QACX,mBAAkB;KACtB;IAEA;QACI,oBAAmB;QACnB,0BAAyB;QACzB,uBAAsB;QACtB,sBAAqB;QACrB,kBAAiB;KACrB;IAEA;QACI,YAAW;QACX,aAAY;QACZ,cAAa;QACb,YAAW;QACX,mBAAkB;QAClB,oCAAmC;QACnC,uBAAsB;KAC1B;IAEA;QACI,mBAAkB;QAClB,YAAW;QACX,WAAU;QACV,eAAc;QACd,UAAS;QACT,WAAU;QACV,YAAW;QACX,aAAY;QACZ,eAAc;QACd,gBAAe;QACf,mBAAkB;QAClB,uBAAsB;QACtB,iBAAgB;QAChB,mBAAkB;QAClB,aAAY;KAChB;IAEA;QACI,kBAAiB;QACjB,oBAAmB;KACvB;IAEA;;;QAGI,aAAY;QACZ,cAAa;QACb,kBAAiB;QACjB,mBAAkB;QAClB,oBAAmB;KACvB;IAEA;QACI,gBAAe;KACnB;IAEA;;QAEI,YAAW;QACX,gBAAe;KACnB;IAEA,mBAAkB;IAClB;;QAEI,aAAY;QACZ,WAAU;QACV,mBAAkB;KACtB;IAEA;QACI,QAAO;KACX;IAEA;QACI,SAAQ;KACZ;IAEA;;QAEI,gBAAe;QACf,YAAW;QACX,UAAS;QACT,aAAY;QACZ,eAAc;QACd,aAAY;QACZ,mBAAkB;QAClB,SAAQ;QACR,gBAAe;KACnB;IAEA;QACI,WAAU;KACd;IAEA;QACI,UAAS;KACb;IAEA;;QAEI,mBAAkB;KACtB;IAEA,SAAQ;IACR;QACI,gBAAe;QACf,eAAc;QACd,gBAAe;KACnB;IAEA;;QAEI,kBAAiB;QACjB,kBAAiB;KACrB;IAEA;QACI,gBAAe;QACf,eAAc;QACd,aAAY;KAChB;IAEA;QACI,aAAY;QACZ,cAAa;QACb,YAAW;QACX,YAAW;QACX,2BAA0B;QAC1B,uBAAsB;KAC1B;IAEA,YAAW;IACX;;QAEI,gBAAe;QACf,eAAc;QACd,aAAY;QACZ,gBAAe;QACf,gBAAe;QACf,kBAAiB;KACrB;IACA;;;;;;QAMI,2BAA0B;KAC9B;IACA;QACI,mBAAkB;KACtB;IAEA;;QAEI,aAAY;QACZ,aAAY;QACZ,gBAAe;KACnB;IAEA,oBAAmB;IACnB;QACI,gBAAe;QACf,aAAY;QACZ,YAAW;QACX,oBAAmB;QACnB,0BAAyB;QACzB,0BAAyB;QACzB,mBAAkB;QAClB,sBAAqB;QACrB,uCAAsC;KAC1C;IAEA;;QAEI,0BAAyB;QACzB,0BAAyB;KAC7B;IAEA,WAAU;IACV;QACI,YAAW;QACX,wBAAuB;QACvB,cAAa;QACb,WAAU;QACV,WAAU;QACV,UAAS;QACT,SAAQ;QACR,UAAS;KACb;IAEA;QACI,YAAW;KACf;IAEA;QACI,YAAW;KACf;IAEA;QACI,oBAAmB;QACnB,wBAAuB;KAC3B;IAEA;;;QAGI,aAAY;QACZ,YAAW;QACX,YAAW;KACf;IAEA;;QAEI,WAAU;QACV,iBAAgB;KACpB;IAEA;QACI,QAAO;KACX;IAEA;;QAEI,gBAAe;KACnB;IAEA;QACI,aAAe;QAAf,gBAAe;KACnB;IAEA;QACI,oBAAmB;KACvB;IAEA;QACI,aAAY;QACZ,YAAW;QACX,sBAAqB;KACzB;IAEA;QACI,gBAAe;QACf,eAAc;QACd,iBAAgB;QAChB,kBAAiB;QACjB,kBAAiB;KACrB;IAEA;QACI,wBAAuB;KAC3B;IAAE;;8BAEuB;IAEzB;QACI,mBAAkB;KACtB;IAEA,+BAA8B;IAC9B;QACI,UAAS;KACb;IAEA,gBAAe;IACf;QACI,QAAO;QACP,kBAAiB;QACjB,SAAQ;QACR,oBAAmB;QACnB,0BAAyB;QACzB,YAAW;QACX,YAAW;KACf;IAEA;QACI,oBAAmB;KACvB;IAEA,cAAa;IACb;QACI,YAAW;QACX,gBAAe;QACf,wBAAuB;QACvB,iBAAgB;QAChB,oBAAmB;KACvB;IAEA,mCAAkC;IAClC;QACI,mBAAkB;KACtB;IAEA;QACI,iBAAgB;QAChB,aAAY;QACZ,WAAU;QACV,UAAS;QACT,gBAAe;QACf,cAAa;KACjB;IAEA;QACI,WAAU;KACd;IAEA,mFAAkF;IAClF;QACI,wBAAuB;KAC3B;IAEA,gBAAe;IACf;;QAEI,2BAA0B;KAC9B;IAEA;;;;QAII,mBAAkB;QAClB,YAAW;QACX,aAAY;QACZ,OAAM;QACN,QAAO;QACP,SAAQ;QACR,UAAS;QACT,gBAAe;QACf,4CAA2C;KAC/C;IAEA;;QAEI,cAAa;QACb,eAAc;KAClB;IAEA;QACI,cAAa;KACjB;IAEA;;QAEI,2BAA0B;KAC9B;IAEA;;QAEI,eAAc;QACd,eAAc;KAClB;IAEA;QACI,mBAAkB;QAClB,mBAAkB;QAClB,SAAQ;QACR,UAAS;KACb;IAIA,aAAY;IACZ;QACI,cAAa;KACjB;IAPE;;8BAEuB;IAOzB;QACI,YAAW;QACX,aAAY;QACZ,gBAAe;QACf,YAAW;QACX,aAAY;QACZ,kBAAiB;QACjB,iBAAgB;QAChB,mBAAkB;KACtB;IAEA;QACI,eAAc;QACd,0BAAyB;QACzB,0BAAyB;QACzB,6BAA4B;KAChC;IAEA;QACI,mBAAkB;QAClB,eAAc;QACd,gBAAe;KACnB;IAEA;QACI,kBAAiB;QACjB,qBAAoB;KACxB;IAEA;QACI,6BAAoB;QAApB,qBAAoB;QACpB,WAAU;QACV,aAAY;QACZ,0BAAyB;QACzB,0BAAyB;QACzB,oBAAmB;QACnB,uBAAsB;KAC1B;IAEA;QACI,UAAS;QACT,0BAAyB;QACzB,oBAAmB;QACnB,aAAY;KAChB;IAEA;;QAEI,gBAAe;QACf,eAAc;QACd,gBAAe;QACf,iBAAgB;QAChB,uBAAsB;QACtB,gBAAe;KACnB;IAEA;QACI,cAAa;KACjB;IAEA,yBAAwB;IACxB;QACI,cAAa;QACb,aAAY;QACZ,mBAAkB;KACtB;IAEA;QACI,0BAAyB;QACzB,0BAAyB;QACzB,YAAW;QACX,6BAAoB;QAApB,qBAAoB;QACpB,aAAY;QACZ,iBAAgB;QAChB,oBAAmB;KACvB;IAEA;;;;QAII,gBAAe;QACf,eAAc;QACd,kBAAiB;QACjB,gBAAe;KACnB;IAEA;QACI,kBAAiB;KACrB;IAEA;;;QAGI,2BAA0B;QAC1B,gBAAe;KACnB;IAEA;QACI,mBAAkB;KACtB;IAEA;;QAEI,kBAAiB;KACrB;IAEA;QACI,cAAa;KACjB;IAEA,uBAAsB;IACtB;QACI,cAAa;KACjB;IAEA;QACI,cAAa;KACjB;IAEA;QACI,eAAc;KAClB;IAEA;QACI,yBAAwB;KAC5B;IAEA;;;QAGI,sBAAqB;QACrB,gBAAe;QACf,iBAAgB;QAChB,iBAAgB;QAChB,wBAAuB;QACvB,oBAAmB;KACvB;IAEA;QACI,aAAY;KAChB;IAEA;QACI,mBAAkB;QAClB,aAAY;QACZ,UAAS;KACb;IAEA;QACI,mBAAkB;QAClB,aAAY;QACZ,YAAW;QACX,eAAc;KAClB;IAEA,0BAAyB;IACzB;QACI,cAAa;KACjB;IAEA;QACI,aAAY;QACZ,aAAY;QACZ,aAAY;QACZ,gBAAe;QACf,YAAW;QACX,aAAY;KAChB;IAEA;QACI,oBAAmB;QACnB,0BAAyB;QACzB,mBAAkB;QAClB,6BAA4B;KAChC;IAEA;;QAEI,eAAc;QACd,gBAAe;KACnB;IAEA;QACI,iBAAgB;KACpB;IAEA;QACI,gBAAe;QACf,2BAA0B;QAC1B,mBAAkB;QAClB,iBAAgB;KACpB",
            file: "photo-gallery.css",
            sourcesContent: [":global {\n    /*  ======================\n      Photo Empty State\n      ======================  */\n\n    .photo-empty-state .photos-header {\n        margin-bottom: 8px;\n    }\n\n    .photo-empty-state .add-photos {\n        width: 100%;\n        margin-bottom: 10px;\n        text-align: center;\n        cursor: pointer;\n    }\n\n    .photo-empty-state .add-photos-message {\n        font-size: 18px;\n        color: #121212;\n        letter-spacing: 0;\n        margin: 0;\n        display: inline-flex;\n        padding: 21px 10px 21px 10px;\n        cursor: pointer;\n    }\n\n    .photo-empty-state .icon-add-photo {\n        padding-right: 10px;\n        line-height: 23px;\n        height: auto;\n        width: auto;\n        cursor: pointer;\n    } /*  ======================\n    Photo Carousel\n    ======================  */\n\n    .photo-carousel-section {\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n\n    .photo-carousel {\n        text-align: center;\n        position: relative;\n        margin: auto;\n        width: 100%;\n        height: 100%;\n    }\n\n    .photo-carousel .slides {\n        height: 270px;\n        margin-bottom: 5px;\n        float: left;\n        width: 100%;\n        position: relative;\n    }\n\n    /* Photo Containers */\n    .photo-carousel .active-photo-container,\n    .photo-carousel .inactive-photo-container {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        width: 80%;\n        padding-left: 10%;\n    }\n\n    .photo-carousel .inactive-photo-container {\n        display: none;\n    }\n\n    /* Photos */\n    .photo-carousel .photo {\n        max-height: 100%;\n        max-width: 100%;\n        height: auto;\n        width: auto;\n        margin-left: auto;\n        margin-right: auto;\n        cursor: pointer;\n    }\n\n    .photo-carousel .active-photo {\n        display: inline;\n    }\n\n    .photo-carousel .inactive-photo {\n        display: none;\n    }\n\n    /* Delete */\n    .photo-carousel .delete-content,\n    .photo-carousel .delete-overlay,\n    photo-carousel .edit-carousel-content,\n    .photo-carousel .edit-carousel-overlay {\n        display: none;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        height: 100%;\n        width: 100%;\n        z-index: 1;\n    }\n\n    .photo-carousel .delete-content,\n    .photo-carousel .edit-carousel-content {\n        align-items: center;\n    }\n\n    .photo-carousel .delete-overlay,\n    .photo-carousel {\n        transition: 0.5s ease;\n        background-color: #ffffff;\n    }\n    .modal .photo-carousel {\n        background-color: #000;\n    }\n    .slider-control-section-container {\n        padding: 0 10%;\n        /*is 80% because it inherits  box-sizing: content-box;*/\n        width: 80%;\n        float: left;\n        text-align: center;\n        margin: 5px 0;\n    }\n    .slider-control-section-container .slider-control-buttons {\n        float: right;\n    }\n    .slider-control-section-container .add-area {\n        float: left;\n    }\n    .icon-photo-add {\n        margin-right: 5px;\n    }\n\n    .edit-carousel-content {\n        transition: 0.5s ease;\n        background-color: #ffffff;\n    }\n\n    .edit-carousel-overlay {\n        margin: 5px;\n        text-align: center;\n    }\n\n    .edit-carousel-content .js-edit-images {\n        margin-bottom: 10px;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n\n    .edit-carousel-content .edit-image-div {\n        margin: 5px;\n        width: 100px;\n        height: 100px;\n        float: left;\n        position: relative;\n        background: no-repeat center center;\n        background-size: cover;\n    }\n\n    .edit-carousel-content .delete-photo-icon {\n        position: absolute;\n        bottom: 5px;\n        right: 5px;\n        display: block;\n        margin: 0;\n        padding: 0;\n        width: 25px;\n        height: 25px;\n        line-height: 1;\n        font-size: 20px;\n        text-align: center;\n        border: 1px solid #888;\n        background: #fff;\n        border-radius: 50%;\n        opacity: 0.8;\n    }\n\n    .edit-carousel-content .overlay-edit-btn {\n        text-align: right;\n        margin-bottom: 15px;\n    }\n\n    .photo-carousel .delete-message,\n    .photo-carousel .delete-error-message,\n    .photo-carousel .edit-carousel-content {\n        z-index: 100;\n        display: none;\n        margin-left: auto;\n        margin-right: auto;\n        visibility: visible;\n    }\n\n    .photo-carousel .delete-error-message .dismiss-delete-error {\n        cursor: pointer;\n    }\n\n    .photo-carousel .delete-content .keep-photo,\n    .photo-carousel .delete-content .confirm-remove-photo {\n        margin: 5px;\n        cursor: pointer;\n    }\n\n    /* Scroll arrows */\n    .photo-carousel .arrow-bar-left,\n    .photo-carousel .arrow-bar-right {\n        height: 100%;\n        width: 10%;\n        position: absolute;\n    }\n\n    .photo-carousel .arrow-bar-left {\n        left: 0;\n    }\n\n    .photo-carousel .arrow-bar-right {\n        right: 0;\n    }\n\n    .photo-carousel .icon-arrow-left,\n    .photo-carousel .icon-arrow-right {\n        font-size: 30px;\n        width: auto;\n        margin: 0;\n        height: auto;\n        color: #c7c7c7;\n        opacity: 0.7;\n        position: absolute;\n        top: 50%;\n        cursor: pointer;\n    }\n\n    .photo-carousel .icon-arrow-right {\n        right: 25%;\n    }\n\n    .photo-carousel .icon-arrow-left {\n        left: 25%;\n    }\n\n    .photo-carousel .icon-arrow-right.hidden-arrow,\n    .photo-carousel .icon-arrow-left.hidden-arrow {\n        visibility: hidden;\n    }\n\n    /* Add */\n    .photo-carousel .add-photo-text {\n        font-size: 12px;\n        color: #11a9ed;\n        cursor: pointer;\n    }\n\n    .photo-carousel .add-photo-icon,\n    .photo-carousel .add-icon-text-disabled {\n        margin-right: 5px;\n        line-height: 15px;\n    }\n\n    .photo-carousel .add-photo-text-disabled {\n        font-size: 12px;\n        color: #c7c7c7;\n        cursor: text;\n    }\n\n    .drag-drop-placeholder {\n        width: 100px;\n        height: 100px;\n        margin: 5px;\n        float: left;\n        border: 2px dashed #11a9ed;\n        box-sizing: border-box;\n    }\n\n    /* Remove */\n    .photo-carousel .delete-photo,\n    .photo-carousel .edit-carousel {\n        font-size: 12px;\n        color: #11a9ed;\n        float: right;\n        cursor: pointer;\n        display: inline;\n        margin-right: 2px;\n    }\n    .photo-carousel .add-photo-text:hover,\n    .photo-carousel .add-photo-text:focus,\n    .photo-carousel .delete-photo:hover,\n    .photo-carousel .delete-photo:focus,\n    .photo-carousel .edit-carousel:hover,\n    .photo-carousel .edit-carousel:focus {\n        text-decoration: underline;\n    }\n    .photo-carousel .delete-photo + .edit-carousel {\n        margin-right: 10px;\n    }\n\n    .photo-carousel .delete-image,\n    .photo-carousel .delete-error-message {\n        cursor: hand;\n        z-index: 100;\n        margin-top: 20%;\n    }\n\n    /* Scroll circles */\n    .photo-carousel .scroll-circle {\n        cursor: pointer;\n        height: 10px;\n        width: 10px;\n        margin: 0 4px 0 4px;\n        background-color: #c7c7c7;\n        border: 1px solid #c7c7c7;\n        border-radius: 50%;\n        display: inline-block;\n        transition: background-color 0.5s ease;\n    }\n\n    .photo-carousel .active-circle,\n    .photo-carousel .scroll-circle:hover {\n        background-color: #4badef;\n        border: 1px solid #4badef;\n    }\n\n    /* Modal */\n    .photo-carousel-modal {\n        height: 90%;\n        background-color: black;\n        border: black;\n        width: 90%;\n        padding: 0;\n        margin: 0;\n        left: 5%;\n        right: 5%;\n    }\n\n    .photo-carousel-modal .photo-carousel-section {\n        height: 85%;\n    }\n\n    .photo-carousel-modal .photo-carousel {\n        height: 95%;\n    }\n\n    .photo-carousel-modal .modal-body {\n        overflow-y: inherit;\n        padding: 45px 5px 0 5px;\n    }\n\n    .photo-carousel-modal .slides,\n    .photo-carousel-modal .arrow-bar-left,\n    .photo-carousel-modal .arrow-bar-right {\n        height: 100%;\n        width: auto;\n        float: none;\n    }\n\n    .photo-carousel-modal .active-photo-container,\n    .photo-carousel-modal .inactive-photo-container {\n        width: 90%;\n        padding-left: 5%;\n    }\n\n    .photo-carousel-modal .icon-arrow-left {\n        left: 0;\n    }\n\n    .photo-carousel-modal .icon-arrow-left,\n    .photo-carousel-modal .icon-arrow-right {\n        font-size: 55px;\n    }\n\n    .photo-carousel-modal .photo {\n        cursor: initial;\n    }\n\n    .photo-carousel-modal .slides {\n        margin-bottom: 35px;\n    }\n\n    .photo-carousel-modal .scroll-circle {\n        height: 12px;\n        width: 12px;\n        margin: 0 10px 0 10px;\n    }\n\n    .photo-carousel-modal .close {\n        font-size: 35px;\n        color: #ffffff;\n        margin-top: 15px;\n        line-height: 20px;\n        margin-right: 5px;\n    }\n\n    .modal-backdrop.lightbox {\n        background-color: black;\n    } /*  ======================\n    Photo Upload\n    ======================  */\n\n    .photo-upload {\n        margin-bottom: 2px;\n    }\n\n    /* Dropzone instruction text */\n    .photo-upload .dz-message {\n        margin: 0;\n    }\n\n    /* Upload bar */\n    .photo-upload .dz-preview .dz-progress {\n        left: 0;\n        margin-left: 20px;\n        top: 60%;\n        background: #ffffff;\n        border: 1px solid #11a8ec;\n        width: 60px;\n        height: 9px;\n    }\n\n    .photo-upload .dz-preview .dz-progress .dz-upload {\n        background: #11a8ec;\n    }\n\n    /* Filename */\n    .photo-upload .dz-preview .dz-filename {\n        width: 77px;\n        font-size: 12px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n    }\n\n    /* Override default Dropzone CSS */\n    .photo-upload .dropzone.dropzone-upload-box {\n        position: relative;\n    }\n\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable {\n        font-weight: 400;\n        border: none;\n        padding: 0;\n        margin: 0;\n        font-size: 14px;\n        min-height: 0;\n    }\n\n    .photo-upload .dropzone.dropzone-upload-box.dz-max-files-reached {\n        opacity: 1;\n    }\n\n    /* Dropzone uses an * selector that can only be overridden by another * selector */\n    .photo-upload .dropzone.dropzone-upload-box * {\n        box-sizing: content-box;\n    }\n\n    /* Drag files */\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.drag-file-hover,\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.drop-file-hover {\n        border: 2px dashed #11a9ed;\n    }\n\n    .photo-upload .drop-photos-section,\n    .photo-upload .drag-photos-section,\n    .photo-upload .exceeds-limit-section.exceeds-limit-overlay,\n    .photo-upload .exceeds-limit-section.dropzone-exceeds-limit-overlay {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        font-size: 21px;\n        background-color: rgba(255, 255, 255, 0.95);\n    }\n\n    .photo-upload .drop-photos-section,\n    .photo-upload .drag-photos-section {\n        display: none;\n        color: #11a9ed;\n    }\n\n    .photo-upload .exceeds-limit-section {\n        display: none;\n    }\n\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.exceeds-limit-hover,\n    .photo-upload .dropzone.dropzone-upload-box.dz-clickable.dropzone-exceeds-limit-hover {\n        border: 2px dashed #ff0035;\n    }\n\n    .photo-upload .exceeds-limit-section.exceeds-limit-overlay,\n    .photo-upload .exceeds-limit-section.dropzone-exceeds-limit-overlay {\n        display: block;\n        color: #ff0035;\n    }\n\n    .photo-upload .description {\n        position: relative;\n        text-align: center;\n        top: 50%;\n        margin: 0;\n    } /*  ======================\n    Photo Upload Growl\n    ======================  */\n\n    /* Growler */\n    .photo-upload-growl {\n        display: none;\n    }\n\n    .photo-upload-growl .alert-growl-bottom-right {\n        z-index: 10;\n        width: 610px;\n        position: fixed;\n        right: 50px;\n        bottom: 50px;\n        max-height: 500px;\n        overflow-y: auto;\n        overflow-x: hidden;\n    }\n\n    .photo-upload-growl .alert-growl-bottom-right .alert-upload {\n        color: #121212;\n        background-color: #ffffff;\n        border: 3px solid #f2f2f2;\n        padding: 10px 25px 10px 25px;\n    }\n\n    .photo-upload-growl .upload-text {\n        margin-bottom: 5px;\n        display: block;\n        font-size: 14px;\n    }\n\n    .photo-upload-growl .upload-progress-section {\n        padding-top: 10px;\n        padding-bottom: 10px;\n    }\n\n    .photo-upload-growl .upload-progress-bar {\n        display: inline-flex;\n        width: 85%;\n        height: 15px;\n        background-color: #ffffff;\n        border: 1px solid #11a8ec;\n        border-radius: 48px;\n        vertical-align: middle;\n    }\n\n    .photo-upload-growl .total-upload-progress {\n        width: 0%;\n        background-color: #11a9ed;\n        border-radius: 48px;\n        height: 100%;\n    }\n\n    .photo-upload-growl .cancel-upload,\n    .photo-upload-growl .dismiss-growl {\n        font-size: 14px;\n        color: #11a8ec;\n        display: inline;\n        padding-left: 4%;\n        vertical-align: middle;\n        cursor: pointer;\n    }\n\n    .photo-upload-growl .dismiss-growl {\n        display: none;\n    }\n\n    /* Upload Error Banner */\n    .photo-upload-growl .upload-error-section {\n        display: none;\n        width: 604px;\n        margin-left: -26px;\n    }\n\n    .photo-upload-growl .upload-error-information {\n        background-color: #ffc5d2;\n        border: 1px solid #bf0f24;\n        width: 100%;\n        display: inline-flex;\n        height: 35px;\n        margin-top: 10px;\n        margin-bottom: 10px;\n    }\n\n    .photo-upload-growl .upload-error-summary,\n    .photo-upload-growl .upload-error-dismiss,\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        font-size: 14px;\n        color: #b81623;\n        letter-spacing: 0;\n        margin-top: 8px;\n    }\n\n    .photo-upload-growl .upload-error-summary {\n        margin-left: 25px;\n    }\n\n    .photo-upload-growl .upload-error-dismiss,\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        text-decoration: underline;\n        cursor: pointer;\n    }\n\n    .photo-upload-growl .upload-error-dismiss {\n        margin-left: 300px;\n    }\n\n    .photo-upload-growl .upload-error-minimize,\n    .photo-upload-growl .upload-error-expand {\n        margin-left: 15px;\n    }\n\n    .photo-upload-growl .upload-error-minimize {\n        display: none;\n    }\n\n    /* Upload Error List */\n    .photo-upload-growl .upload-error-list {\n        display: none;\n    }\n\n    .photo-upload-growl .dz-file-preview {\n        display: none;\n    }\n\n    .photo-upload-growl .dz-file-preview.dz-error.dz-complete {\n        display: block;\n    }\n\n    .photo-upload-growl .file-error {\n        margin: 10px 25px 0 25px;\n    }\n\n    .photo-upload-growl .file-name,\n    .photo-upload-growl .file-size,\n    .photo-upload-growl .file-error-message {\n        display: inline-block;\n        font-size: 14px;\n        margin-bottom: 0;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n\n    .photo-upload-growl .file-name {\n        width: 200px;\n    }\n\n    .photo-upload-growl .file-size {\n        position: absolute;\n        width: 100px;\n        left: 45%;\n    }\n\n    .photo-upload-growl .file-error-message {\n        position: absolute;\n        width: 175px;\n        right: 25px;\n        color: #ff0035;\n    }\n\n    /* Generic Upload Error */\n    .photo-upload-error-growl {\n        display: none;\n    }\n\n    .photo-upload-error-growl .alert-growl-bottom-right {\n        width: 475px;\n        z-index: 500;\n        margin: auto;\n        position: fixed;\n        right: 50px;\n        bottom: 50px;\n    }\n\n    .photo-upload-error-growl .alert-growl-bottom-right .alert-error {\n        background: #fbccd8;\n        border: 1px solid #c91a33;\n        border-radius: 6px;\n        padding: 10px 25px 10px 25px;\n    }\n\n    .photo-upload-error-growl .error-text,\n    .photo-upload-error-growl .dismiss-error-growl {\n        display: block;\n        font-size: 14px;\n    }\n\n    .photo-upload-error-growl .error-text {\n        margin-bottom: 0;\n    }\n\n    .photo-upload-error-growl .dismiss-error-growl {\n        cursor: pointer;\n        text-decoration: underline;\n        margin-left: 380px;\n        margin-bottom: 0;\n    }\n}\n"],
            sourceRoot: ""
        }])
    },
    4412: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(8)
              , o = i(0)
              , s = i.n(o)
              , l = i(93)
              , c = i(32)
              , h = i(95)
              , p = i(4413)
              , d = i(4415)
              , u = i(4416)
              , m = i.n(u)
              , f = {
                ELEV_CORRECTION_CHANGED: "ELEV_CORRECTION_CHANGED"
            }
              , g = ["forerunner10", "foreathlete10", "foreathlete15", "forerunner15", "forerunner35"]
              , y = s.a.View.extend({
                template: n.a.template(m.a),
                events: {
                    "click li:not(.active) a": "onElevCorrectionClicked",
                    "click li.active a": "onElevCorrectionDisabledClicked",
                    "click .help-gps-source": "onGpsSourceHelpClicked"
                },
                initialize: function(t) {
                    return this.activity = t.activity,
                    this.device = t.device,
                    this.viewerIsAuthenticated = t.viewerIsAuthenticated,
                    this.viewerIsOwner = t.viewerIsOwner,
                    this
                },
                render: function() {
                    return this.shouldDisplayDeviceInfo() && (this.$el.html(this.template({
                        Localizer: r.a,
                        device: this.device.toJSON(),
                        metadata: this.activity.get("metadataDTO"),
                        displayToggleEvelationCorrection: this.canToggleEvelationCorrections(),
                        gpsSource: this.getGPSSource(),
                        viewerIsAuthenticated: this.viewerIsAuthenticated,
                        viewerIsOwner: this.viewerIsOwner
                    })),
                    l.a.renderTooltips.call(this)),
                    this
                },
                getGPSSource: function() {
                    return this.activity.getConnectedGPSSensor() && this.activity.getConnectedGPSSensor().productName ? this.getFormattedProductName(this.activity.getConnectedGPSSensor().productName) : ""
                },
                getFormattedProductName: function(t) {
                    return -1 !== t.indexOf("iPhone") ? "Apple " + t : d.a.titleCase(t) + " " + r.a.localize("activity.gps.source.phone")
                },
                shouldDisplayDeviceInfo: function() {
                    return !this.activity.get("manualActivity")
                },
                canToggleEvelationCorrections: function() {
                    if (this.device.get("applicationKey")) {
                        var t = this.device.get("applicationKey").trim();
                        return !n.a.contains(g, t)
                    }
                    return !0
                },
                onElevCorrectionClicked: function(e) {
                    e.preventDefault();
                    var i = this.activity.get("elevationCorrected");
                    this.activity.set("elevationCorrected", !i);
                    var a = {
                        type: "post",
                        data: {
                            elevationCorrected: i
                        },
                        url: "/modern/proxy/activity-service/activity/toggleElevationCorrection/" + this.activity.id,
                        success: n.a.bind(this.onSuccessSave, this),
                        error: this.onErrorSave
                    };
                    t.ajax(a)
                },
                onGpsSourceHelpClicked: function(t) {
                    t.preventDefault();
                    var e = new p.a({});
                    new c.a({
                        view: e,
                        showFooter: !1,
                        modalTitle: r.a.localize("help.title")
                    }).render()
                },
                onElevCorrectionDisabledClicked: function(t) {
                    t.preventDefault()
                },
                onSuccessSave: function(t, e, i) {
                    this.trigger(f.ELEV_CORRECTION_CHANGED, this.activity.get("metadataDTO").elevationCorrected),
                    this.render()
                },
                onErrorSave: function(t, e, i) {
                    new h.a({
                        message: r.a.localize("enable_elevation_toggle_error")
                    }).render()
                }
            });
            y.Events = f,
            e.a = y
        }
        ).call(this, i(10))
    },
    4413: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(4414)
          , c = i.n(l);
        e.a = o.a.View.extend({
            template: n.a.template(c.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a
                }))
            }
        })
    },
    4414: function(t, e) {
        t.exports = "<div class=\"gps-source-help\">\n    <h4><%- Localizer.localize('connected.gps') %></h4>\n    <h5><%- Localizer.localize('connected.gps.info.summary') %></h5>\n    <h5><%- Localizer.localize('connected.gps.how.it.works') %></h5>\n    <p><%- Localizer.localize('connected.gps.how.it.works.message') %></p>\n    <h5><%- Localizer.localize('connected.gps.viewing.activities') %></h5>\n    <p><%- Localizer.localize('connected.gps.viewing.activities.message') %></p>\n</div>\n"
    },
    4415: function(t, e, i) {
        "use strict";
        e.a = {
            titleCase: function(t) {
                return t ? t.split(" ").map(function(t) {
                    return t.charAt(0).toUpperCase() + t.substr(1).toLowerCase()
                }).join(" ") : ""
            }
        }
    },
    4416: function(t, e) {
        t.exports = '<div class="device-image bottom-xs">\n    <img role="presentation" src="<%- device.imageUrl || \'//static.garmincdn.com/com.garmin.connect/content/images/device-images/default-device.png\' %>">\n</div>\n<div class="device-name"><%- device.productDisplayName %></div>\n<div class="software-version"><%- Localizer.localize(\'software\') %>: <%- device.versionString %></div>\n\n<% if (viewerIsAuthenticated) { %>\n    <div class="elevation-corrections"><%- Localizer.localize(\'additional.elev.corrections\') %>\n        <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.add.info.elev.correction.label\') %>" aria-label="<%- Localizer.localize(\'help.add.info.elev.correction.label\') %>"></i></span>:\n        <% if(displayToggleEvelationCorrection && viewerIsOwner)  { %>\n            <span class="dropdown" style="display: inline">\n                <span class="dropdown-trigger" data-toggle="dropdown"><%- Localizer.localize(metadata.elevationCorrected ? \'additional.elevation.correction.enabled\' : \'additional.elevation.correction.disabled\') %><i class="icon-pointer-down"></i></span>\n                <ul class="dropdown-menu text-left pull-left">\n                    <li class="<%- metadata.elevationCorrected ? \'active\' : \'\' %>">\n                        <a href="#"><%- Localizer.localize(\'additional.elevation.correction.enabled\') %></a>\n                    </li>\n                    <li class="<%- metadata.elevationCorrected ? \'\' : \'active\' %>">\n                        <a href="#"><%- Localizer.localize(\'additional.elevation.correction.disabled\') %></a>\n                    </li>\n                </ul>\n            </span>\n        <% } else { %>\n            <span style="display: inline"><%- Localizer.localize(metadata.elevationCorrected ? \'additional.elevation.correction.enabled\' : \'additional.elevation.correction.disabled\') %></span>\n        <% } %>\n    </div>\n<% } %>\n\n<div class="summary-data"><%- Localizer.localize(\'additional.activity.summary\') %>: <%- Localizer.localize(metadata.isOriginal ? \'additional.original\' : \'additional.edited\') %></div>\n<% if (gpsSource) { %>\n    <div class="gps-source"><%- Localizer.localize(\'activity.gps.source\') %>\n        <a href="#" aria-label="<%- Localizer.localize(\'help.title\') %>" class="help-icon has-tooltip help-gps-source"><i class="icon-help"></i></a>:\n        <%- Localizer.localize(\'activity.gps.source.from\', gpsSource) %>\n    </div>\n<% } %>'
    },
    4417: function(t, e) {
        t.exports = '<div class="device-image bottom-xs">\n    <% if (model.imageUrl) { %>\n        <img src="<%- model.imageUrl %>" alt="<%- model.displayName %>">\n    <% } %>\n</div>\n<div class="device-name"><%- Localizer.localize(\'third_party_partner_label\', model.displayName) %></div>'
    },
    4418: function(t, e) {
        t.exports = '<% if (displayPowerAvgCalInfo) { %>\n    <div class="power-avg-calc"><%- Localizer.localize(\'additional.power.avg.cal\') %> <a href="#" class="help-icon has-tooltip" title="<%- Localizer.localize(\'help.add.info.power.avg.calc.label\') %>" onclick="event.preventDefault();" aria-label="<%- Localizer.localize(\'help.add.info.power.avg.calc.label\') %>"><i class="icon-help"></i></a>: <%- Localizer.localize(\'additional.power.calculation.use.zeroes\') %></div>\n<% } %>\n<% if (displayAgentInfo) { %>\n    <div class="agent admin"><%- Localizer.localize(\'additional.agentType\') %>: <%- agent.productDisplayName %> + <%- agent.versionString %></div>\n    <div class="uploaded admin"><%- Localizer.localize(\'additional.uploadDate\') %>: <%- DateFormatter.formatDateAndTime(new Date(metadata.uploadedDate)) %></div>\n<% } %>'
    },
    4419: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(4420)
          , c = i.n(l)
          , h = i(80)
          , p = o.a.View.extend({
            template: n.a.template(c.a),
            initialize: function(t) {},
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    userInChina: h.a.userInChina()
                }))
            }
        });
        e.a = p
    },
    4420: function(t, e) {
        t.exports = '<div>\n    <img class="dive-app-icon" src="/web-images/dive/dive-app-icon.png" alt="" />\n    <p class="garmin-dive"><%- Localizer.localize(\'activity_garmin_dive\') %></p>\n    <p class="dive-data-info"><%- Localizer.localize(\'activity_garmin_dive_info\') %></p>\n    <div class="dive-app-store">\n        <% if (userInChina) { %>\n        <a class="store-apple dive-store-apple" href="https://apps.apple.com/cn/app/garmin-dive/id1461262794"\n            title="Garmin Dive" target="itunes_store" rel="noopener"></a>\n        <a class="store-android-cn" href="http://download.garmin.cn/cn/download/CH_SW_UPGRADE/Android/garmin-dive.apk"\n            title="Garmin Dive" target="play_store" rel="noopener"></a>\n        <% } else { %>\n        <a class="store-apple dive-store-apple" href="https://apps.apple.com/us/app/Dive/id1461262794?ls=1"\n            title="Garmin Dive" target="itunes_store" rel="noopener"></a>\n        <a class="store-google" href="https://play.google.com/store/apps/details?id=com.garmin.android.apps.dive"\n            title="Garmin Dive" target="play_store" rel="noopener"></a>\n        <% } %>\n    </div>\n</div>'
    },
    4421: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(8)
              , o = i(0)
              , s = i.n(o)
              , l = i(4422)
              , c = i(93)
              , h = i(4424)
              , p = i.n(h)
              , d = {
                ascending: "ascending",
                descending: "descending"
            }
              , u = s.a.View.extend({
                template: n.a.template(p.a),
                defaultOptions: {
                    chartTitle: null,
                    containerClass: null,
                    tableClass: null,
                    trClass: null,
                    rowTemplate: null,
                    rowTooltipTextFunction: null,
                    resizeChart: null,
                    nonPercentageColumnMinWidth: "",
                    nonPercentageColumnMaxWidth: "",
                    fieldOptions: [{
                        fieldName: "",
                        formatter: null,
                        tooltipFunction: null
                    }, {
                        fieldName: "",
                        formatter: null,
                        tooltipFunction: null
                    }, {
                        fieldName: "",
                        formatter: null,
                        tooltipFunction: null
                    }],
                    sortComparator: null,
                    sortDirection: d.ascending,
                    maxRowsToShow: null,
                    zoneUtil: null
                },
                initialize: function(t) {
                    return t.options ? this.options = n.a.extend({}, this.defaultOptions, t.options) : this.options = n.a.extend({}, this.defaultOptions),
                    this.rowCollection = [],
                    this.isResizing = !1,
                    this.setAttributes(),
                    this
                },
                setAttributes: function() {
                    var t = n.a.has(this.options, "containerClass") ? this.options.containerClass : "";
                    t && "" !== t && this.$el.addClass(t)
                },
                render: function() {
                    this.unbindWindowResize(),
                    this.rowCollection = [],
                    this.$el.html(this.template({
                        Localizer: r.a,
                        options: this.options
                    }));
                    var t = this.collection.toJSON();
                    this.options.sortComparator && "function" === typeof this.options.sortComparator && t.sort(this.options.sortComparator);
                    var e = this.options.maxRowsToShow && this.options.maxRowsToShow > 0 ? this.options.maxRowsToShow - 1 : t.length;
                    if (this.options.sortDirection === d.ascending)
                        for (var i = 0; i < e; i++)
                            t[i] && this.renderRowView(i, t[i]);
                    else
                        for (i = e; i >= 0; i--)
                            t[i] && this.renderRowView(i, t[i]);
                    return c.a.renderTooltips.call(this),
                    this.resizeChart(),
                    this.bindWindowResize(),
                    this
                },
                renderRowView: function(t, e) {
                    var i = new l.a({
                        index: t,
                        context: this,
                        model: e,
                        options: this.options
                    });
                    this.rowCollection.push(i),
                    this.$("tbody", this.$el).append(i.render().el)
                },
                destroy: function() {
                    for (var t = 0; t < this.rowCollection.length; t++)
                        this.rowCollection[t] && "function" === typeof this.rowCollection[t].destroy && this.rowCollection[t].destroy();
                    this.unbindWindowResize(),
                    this.remove()
                },
                resizeChart: function() {
                    this.isResizing || (this.isResizing = !0,
                    this._resize(),
                    this.options && this.options.resizeChart && "function" === typeof this.options.resizeChart && this.options.resizeChart.apply(this),
                    this.isResizing = !1)
                },
                _resize: function() {
                    var e = 80
                      , i = 0;
                    t("td.zone-percent > div", this.$el).each(function(a, n) {
                        var r = parseInt(t(n).text())
                          , o = 80 - r;
                        o < e && (e = o,
                        i = 80 / r)
                    }),
                    t("td.zone-percent > div", this.$el).each(function(e, a) {
                        var n = parseInt(t(a).text()) * i;
                        t(a).width(n + "%")
                    })
                },
                bindWindowResize: function() {
                    t(window).on("resize.stackedBarChart", n.a.bind(this.resizeChart, this))
                },
                unbindWindowResize: function() {
                    t(window).off("resize.stackedBarChart")
                }
            });
            u.SortDirection = d,
            e.a = u
        }
        ).call(this, i(10))
    },
    4422: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(4423)
          , l = i.n(s)
          , c = o.a.View.extend({
            template: n.a.template(l.a),
            tagName: "tr",
            initialize: function(t) {
                if (!t.model)
                    throw "a model is required";
                return this.options = t.options,
                this.options.rowTemplate && (this.template = n.a.template(this.options.rowTemplate)),
                this.index = t.index,
                this.context = t.context,
                this.setAttributes(),
                this
            },
            setAttributes: function() {
                var t = ""
                  , e = ""
                  , i = ""
                  , a = this.options
                  , r = n.a.has(a, "trClass") ? a.trClass : "";
                if (r && "function" === typeof r) {
                    var o = this.index || 1;
                    t = r.apply(this, [{
                        index: o,
                        model: this.model
                    }])
                } else
                    t = r;
                n.a.has(a, "rowTooltipTextFunction") && "function" === typeof a.rowTooltipTextFunction && (e = "tooltip",
                i = a.rowTooltipTextFunction.call(this),
                t += " has-tooltip"),
                t && "" !== t && this.$el.addClass(t),
                e && "" !== e && this.$el.attr("data-toggle", e),
                i && "" !== i && this.$el.attr("data-original-title", i)
            },
            render: function() {
                return this.$el.html(this.template(this.getVisual())),
                this
            },
            destroy: function() {
                this.remove()
            },
            getVisual: function() {
                return {
                    columnCss: this.getColumnCss(),
                    nameColumn: this.getColumnVisual(0),
                    timeColumn: this.getColumnVisual(1),
                    percentageColumn: this.getColumnVisual(2)
                }
            },
            getColumnCss: function() {
                var t = "";
                return this.options.nonPercentageColumnMinWidth && (t += "min-width: " + this.options.nonPercentageColumnMinWidth),
                this.options.nonPercentageColumnMaxWidth && (t += "; max-width:" + this.options.nonPercentageColumnMaxWidth + ";"),
                t
            },
            getColumnVisual: function(t) {
                var e, i = this.model[this.options.fieldOptions[t].fieldName];
                return this.options.fieldOptions[t].formatter && "function" === typeof this.options.fieldOptions[t].formatter && (i = this.options.fieldOptions[t].formatter.call(this.context, i)),
                this.options.fieldOptions[t].tooltipFunction && "function" === typeof this.options.fieldOptions[t].tooltipFunction && (e = this.options.fieldOptions[t].tooltipFunction.apply(this, [{
                    model: this.model,
                    index: this.index,
                    util: this.options.zoneUtil
                }])),
                {
                    value: i,
                    tooltipText: e
                }
            }
        });
        e.a = c
    },
    4423: function(t, e) {
        t.exports = '<td class="zone-name" style="<%- columnCss %>">\n    <% if (nameColumn && nameColumn.tooltipText) { %>\n        <div class="has-tooltip" data-placement="right" data-original-title="<%- nameColumn.tooltipText %>" title="<%- nameColumn.tooltipText %>"><%- nameColumn.value %></div>\n    <% } else { %>\n        <div><%- nameColumn.value %></div>\n    <% } %>\n</td>\n<td class="zone-time" style="<%- columnCss %>">\n    <% if (timeColumn && timeColumn.tooltipText) { %>\n        <div class="has-tooltip" title="<%- timeColumn.tooltipText %>"><%- timeColumn.value %></div>\n    <% } else { %>\n        <div><%- timeColumn.value %></div>\n    <% } %>\n</td>\n<td class="zone-percent">\n    <% if (percentageColumn && percentageColumn.tooltipText) { %>\n        <div class="has-tooltip" title="<%- percentageColumn.tooltipText %>">\n            <span><%- percentageColumn.value %></span>\n        </div>\n    <% } else { %>\n        <div><span><%- percentageColumn.value %></span></div>\n    <% } %>\n</td>'
    },
    4424: function(t, e) {
        t.exports = '<% if (options.chartTitle) { %>\n    <h3><%- Localizer.localize(options.chartTitle) %></h3>\n<% } %>\n<table class="<% if (options.tableClass) { print(options.tableClass); } %>" >\n    <tbody></tbody>\n</table>\n'
    },
    4425: function(t, e) {
        t.exports = '<div class="spinner-container">\n    <div class="text-center">\n        <div class="large spinner"><div></div></div>\n    </div>\n    <div class="h5 text-center font-thin"><%- Localizer.localize(\'loading\') %></div>\n</div>'
    },
    4426: function(t, e) {
        t.exports = "<div class=\"tab-pane tab-overflow\">\n    <div class=\"tab-content\">\n        <div class=\"tab-pane active\">\n            <table class=\"table gases-and-tanks-table\">\n                <thead>\n                <tr>\n                    <th></th>\n                    <th><%- Localizer.localize('diving_tank_type') %></th>\n                    <th><%- Localizer.localize('diving_tank_gas') %></th>\n                    <th><%- Localizer.localize('diving_tank_gas_mixture') %></th>\n                    <th><%- Localizer.localize('diving_tank_type_long') %></th>\n                    <th><%- Localizer.localize('diving_tank_size_long') %></th>\n                    <th><%- Localizer.localize('diving_tank_starting_pressure') %></th>\n                    <th><%- Localizer.localize('diving_tank_ending_pressure') %></th>\n                    <th><%- Localizer.localize('diving_tank_pressure_used') %></th>\n                    <th><%- Localizer.localize('diving_tank_gas_pressure_rate') %></th>\n                </tr>\n                </thead>\n                <tbody>\n                <% for (var i = 0; i < tanksArray.length; i++) { %>\n                    <tr>\n                        <td><%- (tanksArray[i].gasIndex + 1) %></td>\n                        <td><%- Personalizer.personalizeTankStatus(tanksArray[i].gasIndex, tanksArray[i].status, diveType, Localizer) %></td>\n                        <td><%- Personalizer.personalizeDiveGas(tanksArray[i].heliumContent, tanksArray[i].oxygenContent, Localizer) %></td>\n                        <td><%- getGasMixtureString(tanksArray[i].oxygenContent, tanksArray[i].heliumContent) %></td>\n                        <td><%- (tanksArray[i].tankType ? tanksArray[i].tankType : '--') %></td>\n                        <td><%- Personalizer.personalizeVolume(tanksArray[i].tankSize) %> <%-Personalizer.personalizeVolumeUnit(tanksArray[i].tankSizeUnit, Localizer) %></td>\n                        <td><%- Personalizer.personalizePressure(tanksArray[i].tankStartingPressure) %> <%-Personalizer.personalizePressureUnit(tanksArray[i].tankStartingPressureUnit, Localizer) %></td>\n                        <td><%- Personalizer.personalizePressure(tanksArray[i].tankEndingPressure) %> <%-Personalizer.personalizePressureUnit(tanksArray[i].tankEndingPressureUnit, Localizer) %></td>\n                        <td><%- getPressureUsedString(tanksArray[i].tankStartingPressure, tanksArray[i].tankEndingPressure, tanksArray[i].tankStartingPressureUnit) %></td>\n                        <td><%- Personalizer.personalizeSacRate(tanksArray[i].sacRate) %> <%-Personalizer.personalizeSacRateUnit(tanksArray[i].sacRate, tanksArray[i].tankStartingPressureUnit, Localizer)%></td>\n                    </tr>\n                <% } %>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>"
    },
    4427: function(t, e) {
        t.exports = "<div class=\"tab-pane\">\n    <div class=\"tab-content\">\n        <div class=\"tab-pane active\">\n            <table class=\"table apnea-dives-table\">\n                <thead>\n                <tr>\n                    <th></th>\n                    <th></th>\n                    <th><%- Localizer.localize('max_depth') %></th>\n                    <th><%- Localizer.localize('bottom_time') %></th>\n                    <th><%- Localizer.localize('surface_interval') %></th>\n                    <th><%- Localizer.localize('entry_location') %></th>\n                    <th><%- Localizer.localize('min_water_temperature') %></th>\n                    <th><%- Localizer.localize('label_avg_HR') %></th>\n                    <th><%- Localizer.localize('label_max_HR') %></th>\n                </tr>\n                </thead>\n                <tbody>\n                \x3c!-- ApneaDivesTabItemView.html --\x3e\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>"
    },
    4428: function(t, e) {
        t.exports = "\n    <td><%- (index + 1) %></td>\n    <td><div class=\"apnea-map\">\x3c!-- mapView --\x3e</div></td>\n    <td><%- Personalizer.personalizeDepth(apneaDive.maxDepth) %> <%- Localizer.localize(Personalizer.getDepthUnitKey()) %></td>\n    <td><%- Personalizer.personalizeDuration(apneaDive.bottomTime, false) %></td>\n    <td><%- Personalizer.personalizeDuration(apneaDive.surfaceInterval, false) %></td>\n    <td><%- Personalizer.personalizeLatLon(apneaDive.startLatitude, apneaDive.startLongitude) %></td>\n    <td><%- Personalizer.personalizeTemperature(apneaDive.minTemperature) %> <%- Localizer.localize(Personalizer.getTemperatureUnitKey()) %></td>\n    <td><%- Personalizer.personalizeHeartRate(apneaDive.averageHR) %> <%- Localizer.localize('heart_rate_unit') %></td>\n    <td><%- Personalizer.personalizeHeartRate(apneaDive.maxHR) %> <%- Localizer.localize('heart_rate_unit') %></td>\n"
    },
    4429: function(t, e) {
        t.exports = '<div class="spinner-container">\n    <div class="text-center">\n        <div class="large spinner"><div></div></div>\n    </div>\n    <div class="h5 text-center font-thin"><%- Localizer.localize(\'loading\') %></div>\n</div>\n<div id="max-avg-power-controls" class="row-fluid cycling-tab-controls bottom-s"></div>\x3c!-- /.cycling-tab-controls --\x3e\n<div class="row-fluid">\n    <div id="power-phase-container" class="span12 power-phase centered"></div>\x3c!-- /.power-phase --\x3e\n    <div class="row-fluid top-m">\n        <div class="span6 centered">\n            <div id="pco-container" class="pco-content"></div>\x3c!-- /.pco-content --\x3e\n        </div>\n        <div class="span6 centered">\n            <div id="position-container" class="seated-standing"></div>\x3c!-- /.seated-standing --\x3e\n        </div>\n    </div>\n</div>'
    },
    4430: function(t, e) {
        t.exports = '<h5><%- Localizer.localize(\'cycling_dynamics_position\') %></h5>\n\n<div class="row">\n    <div class="span6 position-seated">\n        <span></span>\n        <div class="data-block large top-s">\n            <div class="data-bit"><%- totalSeatedTime %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_seated_time\') %></span>\n        </div>\n    </div>\n\n    <div class="span6 position-standing">\n        <span></span>\n        <div class="data-block large top-s">\n            <div class="data-bit"><%- totalStandingTime %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_standing_time\') %></span>\n        </div>\n    </div>\n\n</div>\x3c!-- /.row --\x3e'
    },
    4431: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(4432)
              , o = i.n(r)
              , s = i(1243)
              , l = i(13)
              , c = i(8)
              , h = i(0)
              , p = i.n(h)
              , d = s.a.Colors
              , u = p.a.View.extend({
                initialize: function(t) {
                    this.template = n.a.template(o.a),
                    this.leftPlatformCenterOffset = this.fitValueToChart(t.platformCenterOffsetData.leftPlatformCenterOffset),
                    this.rightPlatformCenterOffset = this.fitValueToChart(t.platformCenterOffsetData.rightPlatformCenterOffset)
                },
                setLeftPlatformCenterOffset: function(t) {
                    this.leftPlatformCenterOffset = t
                },
                setRightPlatformCenterOffset: function(t) {
                    this.rightPlatformCenterOffset = t
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: c.a,
                        Personalizer: l.a,
                        leftPlatformCenterOffset: this.leftPlatformCenterOffset,
                        rightPlatformCenterOffset: this.rightPlatformCenterOffset,
                        formatPCOValue: this.formatPCOValue
                    })),
                    this.drawPCO(),
                    this.bindWindowResize(),
                    this
                },
                drawPCO: function() {
                    var t = this.$("#leftCanvas")[0]
                      , e = this.$("#rightCanvas")[0]
                      , i = Math.min(t.parentElement.clientHeight, t.parentElement.clientWidth, e.parentElement.clientHeight, e.parentElement.clientWidth) || this.getCanvasDefaultSize();
                    t.width = i,
                    t.height = i,
                    e.width = i,
                    e.height = i;
                    var a = t.getContext("2d")
                      , n = e.getContext("2d");
                    a.clearRect(0, 0, t.width, t.height),
                    n.clearRect(0, 0, e.width, e.height),
                    this.drawOffsetLine(t, a, "left"),
                    this.drawOffsetLine(e, n, "right")
                },
                drawBounds: function(t, e, i) {
                    var a;
                    e.fillStyle = d.babyBlue,
                    e.globalAlpha = .4;
                    var n = this.verticalStartPoint(t.width)
                      , r = 2 * this.pedalEdgeCenterOffset(t.width) * .6
                      , o = this.verticalEndPoint(t.width) - this.verticalStartPoint(t.width);
                    a = this.horizontalCenter(t.width) - .6 * this.pedalEdgeCenterOffset(t.width),
                    e.fillRect(a, n, r, o),
                    e.globalAlpha = 1
                },
                drawOffsetLine: function(t, e, i) {
                    var a, n = [], r = [], o = this.verticalStartPoint(t.width), s = this.verticalEndPoint(t.width);
                    "left" === i ? (n = [a = this.horizontalCenter(t.width) - this.offsetPixels(this.leftPlatformCenterOffset, this.pedalEdgeCenterOffset(t.width)), o],
                    r = [a, s]) : (n = [a = this.horizontalCenter(t.width) + this.offsetPixels(this.rightPlatformCenterOffset, this.pedalEdgeCenterOffset(t.width)), o],
                    r = [a, s]),
                    this.drawStroke(n, r, this.verticalLineWidth(t.width), d.royalRed, e)
                },
                drawStroke: function(t, e, i, a, n) {
                    n.strokeStyle = a,
                    n.beginPath(),
                    n.moveTo(t[0], t[1]),
                    n.lineTo(e[0], e[1]),
                    n.lineWidth = i,
                    n.stroke()
                },
                horizontalCenter: function(t) {
                    return t / 2
                },
                offsetPixels: function(t, e) {
                    return t / 30 * e
                },
                pedalEdgeCenterOffset: function(t) {
                    return t / 4 + 1
                },
                verticalStartPoint: function(t) {
                    return t / 10
                },
                verticalEndPoint: function(t) {
                    return .9 * t + 1
                },
                verticalLineWidth: function(t) {
                    return t / 30
                },
                formatPCOValue: function(t) {
                    var e = "";
                    return t > 0 ? e = "+" : t < 0 && (e = "-"),
                    e + " " + Math.abs(t).toFixed(1)
                },
                getCanvasDefaultSize: function() {
                    return t(window).width() < 768 ? 300 : 160
                },
                fitValueToChart: function(t) {
                    return Math.abs(t) > 30 ? 30 * Math.sign(t) : t
                },
                resizeCanvas: function() {
                    this.drawPCO()
                },
                bindWindowResize: function() {
                    t(window).on("resize.pcoChart", n.a.bind(this.resizeCanvas, this))
                },
                unbindWindowResize: function() {
                    t(window).off("resize.pcoChart", this.resizeCanvas)
                },
                destroy: function() {
                    this.unbindWindowResize(),
                    this.remove()
                }
            });
            e.a = u
        }
        ).call(this, i(10))
    },
    4432: function(t, e) {
        t.exports = '\n<h5><%- Localizer.localize(\'label_cd_tab_pco\') %></h5>\n\n<div class="row">\n    <div class="span6">\n        <div class="chart-container platform-center-offset platform-center-offset-left">\n            <canvas id="leftCanvas"></canvas>\n        </div>\n        <div class="data-block large top-s">\n            <div class="data-bit"><%- formatPCOValue(leftPlatformCenterOffset) %> <%- Localizer.localize(\'platform_center_offset_unit\') %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_tab_pco_left\') %></span>\n        </div>\n    </div>\n\n    <div class="span6">\n        <div class="chart-container platform-center-offset platform-center-offset-right">\n            <canvas id="rightCanvas"></canvas>\n        </div>\n        <div class="data-block large top-s">\n            <div class="data-bit"><%- formatPCOValue(rightPlatformCenterOffset) %> <%- Localizer.localize(\'platform_center_offset_unit\') %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_tab_pco_right\') %></span>\n        </div>\n    </div>\n</div>\n'
    },
    4433: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(4434)
              , o = i.n(r)
              , s = i(4435)
              , l = i(1243)
              , c = i(8)
              , h = i(0)
              , p = i.n(h).a.View.extend({
                ChartSize: {
                    SMALL: {
                        chart_width: "195px",
                        chart_height: "195px",
                        chart_size: "100%",
                        inner_chart_size: "89%",
                        peak_multiplier: 6
                    },
                    MEDIUM: {
                        chart_width: "240px",
                        chart_height: "240px",
                        chart_size: "100%",
                        inner_chart_size: "89%",
                        peak_multiplier: 6
                    }
                },
                initialize: function() {
                    this.template = n.a.template(o.a)
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: c.a
                    })),
                    this.showChart(),
                    this.bindWindowResize(),
                    this
                },
                showChart: function() {
                    var t = this.resizeChart()
                      , e = this.model.leftPowerPhaseStart
                      , i = this.model.leftPowerPhasePeakStart
                      , a = this.model.leftPowerPhasePeakEnd
                      , n = this.model.leftPowerPhaseEnd
                      , r = Math.round(this.model.leftBalance)
                      , o = this.normalizeData(e, n);
                    e = o.powerPhaseStart,
                    n = o.powerPhaseEnd;
                    var h = this.createLabels(e, i, a, n)
                      , p = this.model.rightPowerPhaseStart
                      , d = this.model.rightPowerPhasePeakStart
                      , u = this.model.rightPowerPhasePeakEnd
                      , m = this.model.rightPowerPhaseEnd
                      , f = Math.round(this.model.rightBalance);
                    p = (o = this.normalizeData(p, m)).powerPhaseStart,
                    m = o.powerPhaseEnd;
                    var g = this.createLabels(p, d, u, m)
                      , y = this.calculateYData(e, i, a, n)
                      , v = this.calculateYData(p, d, u, m)
                      , b = this.ChartSize[t].peak_multiplier
                      , A = [{
                        y: y.prePeakPower,
                        color: l.a.Colors.lightGreen
                    }, {
                        y: y.peakPower,
                        color: l.a.Colors.peakGreen,
                        selected: !0
                    }, {
                        y: y.postPeakPower,
                        color: l.a.Colors.lightGreen
                    }, {
                        y: y.other,
                        color: l.a.Colors.baseGrey
                    }]
                      , _ = [{
                        y: v.prePeakPower,
                        color: l.a.Colors.lightBlue
                    }, {
                        y: v.peakPower,
                        color: l.a.Colors.blue,
                        selected: !0
                    }, {
                        y: v.postPeakPower,
                        color: l.a.Colors.lightBlue
                    }, {
                        y: v.other,
                        color: l.a.Colors.baseGrey
                    }]
                      , C = this.buildSeries(A)
                      , w = this.buildSeries(_)
                      , x = {
                        chart: {
                            type: "pie",
                            plotBorderWidth: 0,
                            plotShadow: !1,
                            backgroundColor: "transparent",
                            events: {
                                load: function() {
                                    var t = this.series[0].data[1].graphic;
                                    setTimeout(function() {
                                        var e = t.r;
                                        t.attr({
                                            r: e + b
                                        })
                                    }, 1020)
                                },
                                redraw: function() {
                                    var t = this.series[0].data[1].graphic
                                      , e = t.r;
                                    t.attr({
                                        r: e + b
                                    })
                                }
                            }
                        },
                        title: {
                            text: r + "<sup>%</sup>",
                            verticalAlign: "middle",
                            style: {
                                color: "#595959",
                                font: "40px 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif",
                                "z-index": "-999"
                            },
                            floating: !0,
                            y: 0,
                            useHTML: !0
                        },
                        subtitle: {
                            text: c.a.localize("left_balance"),
                            verticalAlign: "middle",
                            style: {
                                color: "#888",
                                font: "400 14px/22px 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"
                            },
                            y: 30
                        },
                        credits: {
                            enabled: !1
                        },
                        plotOptions: {
                            pie: {
                                shadow: !1,
                                center: ["50%", "50%"],
                                dataLabels: {
                                    enabled: !1
                                }
                            }
                        },
                        tooltip: {
                            formatter: function() {
                                return this.y === y.prePeakPower ? h.prePeakLabel : this.y === y.postPeakPower ? h.postPeakLabel : this.y === y.peakPower && h.peakPowerPhaseLabel
                            }
                        },
                        series: [{
                            name: "Left Power Phase",
                            data: C,
                            size: this.ChartSize[t].chart_size,
                            innerSize: this.ChartSize[t].inner_chart_size,
                            borderWidth: 0,
                            startAngle: e
                        }]
                    }
                      , S = {
                        chart: {
                            type: "pie",
                            plotBorderWidth: 0,
                            plotShadow: !1,
                            backgroundColor: "transparent",
                            events: {
                                load: function() {
                                    var t = this.series[0].data[1].graphic;
                                    setTimeout(function() {
                                        var e = t.r;
                                        t.attr({
                                            r: e + b
                                        })
                                    }, 1020)
                                },
                                redraw: function() {
                                    var t = this.series[0].data[1].graphic
                                      , e = t.r;
                                    t.attr({
                                        r: e + b
                                    })
                                }
                            }
                        },
                        title: {
                            text: f + "<sup>%</sup>",
                            verticalAlign: "middle",
                            style: {
                                color: "#595959",
                                font: "40px 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif",
                                "z-index": "-999"
                            },
                            floating: !0,
                            y: 0,
                            useHTML: !0
                        },
                        subtitle: {
                            text: c.a.localize("right_balance"),
                            verticalAlign: "middle",
                            style: {
                                color: "#888",
                                font: "400 14px/22px 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"
                            },
                            y: 30
                        },
                        credits: {
                            enabled: !1
                        },
                        plotOptions: {
                            pie: {
                                shadow: !1,
                                center: ["50%", "50%"],
                                dataLabels: {
                                    enabled: !1
                                }
                            }
                        },
                        tooltip: {
                            formatter: function() {
                                return this.y === v.prePeakPower ? g.prePeakLabel : this.y === v.postPeakPower ? g.postPeakLabel : this.y === v.peakPower && g.peakPowerPhaseLabel
                            }
                        },
                        series: [{
                            name: "Right Power Phase",
                            data: w,
                            size: this.ChartSize[t].chart_size,
                            innerSize: this.ChartSize[t].inner_chart_size,
                            borderWidth: 0,
                            startAngle: p
                        }]
                    };
                    this.PowerPhaseChartLeft = new s.a({
                        options: x,
                        el: this.$("#pp-left")
                    }),
                    this.PowerPhaseChartRight = new s.a({
                        options: S,
                        el: this.$("#pp-right")
                    }),
                    this.$("#left-pp-container").append(this.PowerPhaseChartLeft.render().el),
                    this.$("#right-pp-container").append(this.PowerPhaseChartRight.render().el)
                },
                adjustChart: function(e, i) {
                    var a = t(window).width()
                      , n = null;
                    return n = a > 640 || a <= 520 ? "MEDIUM" : "SMALL",
                    ("left" === i ? this.$("#pp-left") : this.$("#pp-right")).css({
                        height: this.ChartSize[n].chart_height,
                        width: this.ChartSize[n].chart_width
                    }),
                    e && e.options.series && e.options.series.length > 0 && (e.options.series[0].size = this.ChartSize[n].chart_size,
                    e.options.series[0].innerSize = this.ChartSize[n].inner_chart_size),
                    n
                },
                resizeChart: function() {
                    this.adjustChart(this.PowerPhaseChartLeft, "left");
                    return this.adjustChart(this.PowerPhaseChartRight, "right")
                },
                createLabels: function(t, e, i, a) {
                    return t < 0 && (t = 360 + t),
                    {
                        prePeakLabel: "<strong>" + c.a.localize("power_phase_tip_pre_peak") + "</strong><br>" + Math.round(100 * t) / 100 + "\xb0",
                        postPeakLabel: "<strong>" + c.a.localize("power_phase_tip_post_peak") + "</strong><br>" + Math.round(100 * a) / 100 + "\xb0",
                        peakPowerPhaseLabel: "<strong>" + c.a.localize("power_phase_tip_peak") + "</strong><br>" + c.a.localize("power_phase_tip_peak_start") + ": " + Math.round(100 * e) / 100 + "\xb0 <br>" + c.a.localize("power_phase_tip_peak_end") + ": " + Math.round(100 * i) / 100 + "\xb0"
                    }
                },
                calculateYData: function(t, e, i, a) {
                    return {
                        prePeakPower: (e - t) / 360,
                        peakPower: (i - e) / 360,
                        postPeakPower: (a - i) / 360,
                        other: (360 - a + t) / 360
                    }
                },
                buildSeries: function(t) {
                    var e, i = [], a = t.length, n = ["PrePower", "PowerPhase", "PostPower", "Non-PowerPhase"];
                    for (e = 0; e < a; e += 1)
                        i.push({
                            name: n[e],
                            y: t[e].y,
                            color: t[e].color
                        }),
                        n[e].selected && (i[n[e]].selected = n[e].selected);
                    return i
                },
                normalizeData: function(t, e) {
                    return e < 0 && (e = 360 + e),
                    t > e && (t -= 360),
                    {
                        powerPhaseStart: t,
                        powerPhaseEnd: e
                    }
                },
                destroy: function() {
                    this.unbindWindowResize(),
                    this.remove()
                },
                bindWindowResize: function() {
                    t(window).on("resize.powerPhasePieChart", n.a.bind(this.resizeChart, this))
                },
                unbindWindowResize: function() {
                    t(window).off("resize.powerPhasePieChart", this.resizeChart)
                }
            });
            e.a = p
        }
        ).call(this, i(10))
    },
    4434: function(t, e) {
        t.exports = '<h5><%- Localizer.localize(\'label_cd_tab_power_phase\') %></h5>\n<div class="power-phase-charts">\n\n    <div id="left-pp-container">\n        <div id="pp-left" class="chart-container"></div>\n        <div class="bottom-m power-phase-graphic"></div>\n    </div>\n\n    <div id="right-pp-container">\n        <div id="pp-right" class="chart-container"></div>\n        <div class="bottom-m power-phase-graphic"></div>\n    </div>\n\n</div>'
    },
    4435: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r).a.View.extend({
            defaultOptions: {
                chart: {
                    type: "pie",
                    plotBackgroundColor: null,
                    plotBorderWidth: 0,
                    plotShadow: !1,
                    backgroundColor: "transparent",
                    events: null
                },
                title: {
                    text: " ",
                    verticalAlign: "middle"
                },
                subtitle: {
                    text: "",
                    verticalAlign: "middle"
                },
                credits: {
                    enabled: !1
                },
                plotOptions: {
                    pie: {
                        shadow: !1,
                        center: ["50%", "50%"],
                        dataLabels: {
                            enabled: !0
                        }
                    }
                },
                exporting: {
                    enabled: !1
                },
                tooltip: {
                    formatter: null
                }
            },
            initialize: function(t) {
                t.options ? this.options = n.a.extend({}, this.defaultOptions, t.options) : this.options = n.a.extend({}, this.defaultOptions)
            },
            render: function() {
                return this.$el.highcharts(this.options),
                this
            }
        });
        e.a = o
    },
    4436: function(t, e, i) {
        "use strict";
        (function(t, a) {
            var n = i(9)
              , r = i.n(n)
              , o = i(0)
              , s = i.n(o)
              , l = i(8)
              , c = i(1449)
              , h = i(1238)
              , p = i(88)
              , d = i(53)
              , u = i(4437)
              , m = i.n(u)
              , f = {
                PowerRangeChanged: "PowerRangeChanged",
                ChartRangeChanged: "ChartRangeChanged",
                ResetZoom: "ResetZoom"
            }
              , g = s.a.View.extend({
                events: {
                    "mouseover #power-pill-btn": "onGoHovered",
                    "click .range-item": "onRangeItemClicked",
                    "click .custom-max-avg-power-button": "onCustomRangeClicked",
                    "click #power-pill-btn": "onGoBtnClicked"
                },
                initialize: function(t) {
                    this.template = r.a.template(m.a),
                    this.powerRange = t.powerRange,
                    this.duration = t.duration
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: l.a,
                        avgValue: ""
                    })),
                    this.disableRanges(this.duration),
                    this.selectRange(this.powerRange),
                    this.numberValidator = new h.a({
                        typeFormat: "integer",
                        minValue: 1,
                        maxValue: this.duration,
                        element: this.$(".time-input-field"),
                        required: !0,
                        reporter: new p.a({
                            message: function(t, e) {
                                return l.a.localize("error.custom.max.avg.invalid")
                            },
                            position: "top",
                            element: this.$(".time-input-field"),
                            container: this.$el
                        })
                    }),
                    this
                },
                disableRanges: function(e) {
                    if (e) {
                        var i, a = this;
                        this.$(".range-item").each(function() {
                            (i = t(this).attr("data-timerange")) > e && a.$('.range-item[data-timerange="' + i + '"]').hide()
                        })
                    }
                },
                selectRange: function(t, e) {
                    t && (-1 !== t && this.$('.range-item[data-timerange="-1"]').removeClass("active"),
                    c.a.isCustomRange(t) ? (e || this.$(".custom-max-avg-power").hide(),
                    this.$('.range-item[data-timerange="' + this.powerRange + '"]').removeClass("active"),
                    this.$(".custom-max-avg-power-button").addClass("active")) : (this.$(".custom-max-avg-power").hide(),
                    this.$(".custom-max-avg-power-button").removeClass("active"),
                    this.$('.range-item[data-timerange="' + this.powerRange + '"]').removeClass("active"),
                    this.$('.range-item[data-timerange="' + t + '"]').addClass("active")),
                    this.powerRange = t)
                },
                onRangeItemClicked: function(t) {
                    t.preventDefault();
                    this.$(".custom-max-avg-power").hide(),
                    this.numberValidator && this.numberValidator.clearReport();
                    var e = +a(t.currentTarget).attr("data-timeRange");
                    if (-1 === e)
                        return this.clearLabel(),
                        void this.trigger(f.ResetZoom, e, !0);
                    this.trigger(f.PowerRangeChanged, e, !0),
                    this.pushChangeMaxAvgPowerAnalyticsEvents()
                },
                onCustomRangeClicked: function(t) {
                    t.preventDefault(),
                    this.$(".custom-max-avg-power").show(),
                    this.pushChangeMaxAvgPowerAnalyticsEvents()
                },
                pushChangeMaxAvgPowerAnalyticsEvents: function() {
                    d.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Change Max Avg Power For Cycling Dynamics"
                    })
                },
                onGoBtnClicked: function(t) {
                    if (t.preventDefault(),
                    !this.$("#power-pill-btn").is("[disabled=disabled]")) {
                        var e = this.$(".time-input-field").val();
                        if (e) {
                            var i = e = +e;
                            "min" === this.$(".min-sec-selection").val() && (i *= 60),
                            this.trigger(f.PowerRangeChanged, i, !0)
                        }
                    }
                },
                setMaxAvgLabel: function(t) {
                    "sumDuration" === t.axisType ? this.$("#avg-power-range-value").text(c.a.formatAvgTimeValue(t.startTime, t.endTime, t.powerValue)) : this.$("#avg-power-range-value").text(c.a.formatAvgDistanceValue(t.startDistance, t.endDistance, t.powerValue))
                },
                clearLabel: function() {
                    this.$("#avg-power-range-value").text("")
                },
                onGoHovered: function() {
                    var t = +this.$(".time-input-field").val()
                      , e = this.$("select.input-small.min-sec-selection").val()
                      , i = this.$("#power-pill-btn")
                      , a = 1;
                    "min" === e && (a = 60),
                    (t *= a) > this.duration ? this.numberValidator.report(t, h.a.Errors.OutOfRange) : this.numberValidator.clearReport(),
                    0 !== this.$(".tooltip-error:visible").length || 0 === t ? i.addClass("disabled").attr("disabled", "disabled") : i.removeClass("disabled").removeAttr("disabled")
                }
            });
            g.Events = f,
            e.a = g
        }
        ).call(this, i(10), i(10))
    },
    4437: function(t, e) {
        t.exports = '<div class="span12">\n    <span class="data-label max-avg-label"><%- Localizer.localize(\'max_avg_power\') %></span>\n    <div class="btn-group btn-group-pill" data-toggle="buttons-radio">\n        \x3c!-- NONE IS THE DEFAULT --\x3e\n        <button data-timerange="-1" class="btn btn-small active range-item"><%- Localizer.localize(\'avg_power_range_none\') %></button>\n        <button data-timerange="5" class="btn btn-small range-item"><%- Localizer.localize(\'avg_power_range_customsec\', 5) %></button>\n        <button data-timerange="60" class="btn btn-small range-item"><%- Localizer.localize(\'avg_power_range_custommin\', 1) %></button>\n        <button data-timerange="300" class="btn btn-small range-item"><%- Localizer.localize(\'avg_power_range_custommin\', 5) %></button>\n        <button data-timerange="1200" class="btn btn-small range-item"><%- Localizer.localize(\'avg_power_range_custommin\', 20) %></button>\n        <button class="btn btn-small custom-max-avg-power-button"><%- Localizer.localize(\'avg_power_range_custom\') %></button>\n    </div>\n\n    <div class="custom-max-avg-power" style="display:none;">\n        <input type="text" class="input-mini time-input-field" maxlength="3">\n        <select class="input-small  min-sec-selection">\n            <option value="min"><%- Localizer.localize(\'avg_power_range_unit_min\') %></option>\n            <option value="sec"><%- Localizer.localize(\'avg_power_range_unit_sec\') %></option>\n        </select>\n        <div id="power-pill-btn" class="btn btn-form"><%- Localizer.localize(\'avg_power_calculate_btn\') %></div>\n    </div>\n    <span id="avg-power-range-value" class="data-label pull-right"><%- avgValue %></span>\n</div>'
    },
    4438: function(t, e) {
        t.exports = '<% if (showStatsTab) { %>\n<li class="active">\n    <a id="tabStatsId" href="#tab-stats" data-toggle="tab"><%- Localizer.localize(\'activity_stats\') %></a>\n</li>\n<% } %>\n<% if (showSplitsTab) { %>\n<li>\n    <a id="tabSplitsId" href="#tab-splits" data-toggle="tab"><%- splitsTab %></a>\n</li>\n<% } %>\n<% if (canShowMtbMetricsTab) { %>\n    <li>\n        <a id="tabMtbMetricsId" href="#tab-mtb" data-toggle="tab"><%- Localizer.localize(\'activity_mtb_metrics\') %></a>\n    </li>\n<% } %>\n<% if (showGasesAndTanksTab) { %>\n<li>\n    <a id="tabGasesAndTanksId" href="#tab-gases-and-tanks" data-toggle="tab"><%- Localizer.localize(\'tanks_and_gases\') %></a>\n</li>\n<% } %>\n<% if (showApneaDivesTab) { %>\n<li>\n    <a id="tabApneaDives" href="#tab-apnea-dives" data-toggle="tab"><%- Localizer.localize(\'apnea_dives_label\') %></a>\n</li>\n<% } %>\n<% if (showSegmentTab) { %>\n<li>\n    <a id="tabSegmentsId" href="#tab-segments" data-toggle="tab"><%- Localizer.localize(\'segments\') %>\n        <% if (segmentCount > 0) { %>\n            <span class="notification-count"><%- segmentCount %></span>\n        <% } %>\n    </a>\n</li>\n<% } %>\n<% if (showTimeInZones) { %>\n<li>\n    <a id="tabTimeInZonesId" href="#tab-time-in-zones" data-toggle="tab"><%- Localizer.localize(\'time.in.zones\') %></a>\n</li>\n<% } %>\n<% if (showCyclingDynamics) { %>\n<li>\n    <a id="tabCyclingDynamics" href="#tab-cycling-dynamics" data-toggle="tab"><%- Localizer.localize(\'cycling_dynamics\') %></a>\n</li>\n<% } %>\n<% if (showPowerCurve) { %>\n<li>\n    <a id="tabPowerCurve" href="#tab-power-curve" data-toggle="tab"><%- Localizer.localize(\'power_curve_title\') %></a>\n</li>\n<% } %>'
    },
    4439: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(13)
              , c = i(2557)
              , h = i(2641)
              , p = i(1253)
              , d = i(4440)
              , u = i.n(d)
              , m = {
                ActivityChanged: "ActivityChanged"
            }
              , f = o.a.View.extend({
                template: n.a.template(u.a),
                events: {
                    "click .activity-tab": "onActivityTabClicked"
                },
                initialize: function(t) {
                    if (this.parentActivity = t.parentActivity,
                    this.childActivities = t.childActivities,
                    !this.parentActivity)
                        throw "parentActivity required for MultisportNavView";
                    this.childActivities || (this.childActivities = new c.a)
                },
                selectTab: function(e) {
                    this.$("li").removeClass("active"),
                    t(this.$("li")[e]).addClass("active")
                },
                render: function() {
                    var t = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        parent: this.parentActivity.toJSON(),
                        children: this.childActivities.toJSON(),
                        cm: p.a
                    });
                    this.$el.css("display", ""),
                    this.$el.html(t),
                    this.childActivities.each(function(t) {
                        this.renderPrTrophy(t)
                    }, this)
                },
                renderPrTrophy: function(e) {
                    e.get("personalRecord") && (this.$("#prPlaceholder-" + e.id).replaceWith(t('<i class="icon-personal-records has-tooltip" id="prPlaceholder-' + e.id + '" data-placement="bottom" data-html="true" title=""></i>')),
                    this.prsTooltipView = new h.a({
                        el: this.$("#prPlaceholder-" + e.id),
                        activityId: e.id
                    }))
                },
                onActivityTabClicked: function(e) {
                    this.trigger(m.ActivityChanged, t(e.currentTarget).attr("data-id"))
                }
            });
            f.Events = m,
            e.a = f
        }
        ).call(this, i(10))
    },
    4440: function(t, e) {
        t.exports = '<li class="active">\n    <a class="activity-tab" data-id="<%- parent.activityId %>" href="#tab-multisport-overview" data-toggle="tab">\n        <div class="icon"><i class="icon-activity-multisport"></i></div>\n        <div class="time"><%- Personalizer.personalizeDuration(parent.duration) %></div>\n        <div class="avg-stat"></div>\n    </a>\n</li>\n<% for (var i = 0; i < children.length; i++) { %>\n<%     var activity = children[i];            %>\n    <li>\n        <a class="activity-tab" data-id="<%- activity.activityId %>" href="#" data-toggle="tab">\n            <div class="icon"><i class="icon-activity-<%- cm.map(activity.activityTypeDTO.typeKey) %>"></i></div>\n            <div class="time"><%- Personalizer.personalizeDuration(activity.duration) %>\n                <i id="prPlaceholder-<%- activity.activityId %>" style="display:none;"></i>\n            </div>\n            <% var poolUnit = activity.unitOfPoolLength ? activity.unitOfPoolLength.unitKey : null; %>\n            <div class="avg-stat"><%- Personalizer.personalizeSpeed(activity.averageSpeed, activity.activityTypeDTO.typeKey, poolUnit) %> <%- Localizer.localize(Personalizer.getSpeedTypeKey(activity.activityTypeDTO.typeKey, null, poolUnit)) %></div>\n        </a>\n    </li>\n<% } %>\n\n\n'
    },
    4441: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(13)
          , c = i(53)
          , h = i(32)
          , p = i(1945)
          , d = i(1341)
          , u = i(4442)
          , m = i.n(u);
        e.a = o.a.View.extend({
            template: n.a.template(m.a),
            events: {
                "click .toggle-add-gear": "onAddGearBtnClicked"
            },
            initialize: function(t) {
                this.selectedGear = t.selectedGear,
                this.readOnly = t.readOnly
            },
            updateModels: function(t, e) {
                this.selectedGear && this.stopListening(),
                this.model = t,
                this.selectedGear = e,
                this.selectedGear && (this.listenTo(this.selectedGear, "add", this.render),
                this.listenTo(this.selectedGear, "remove", this.render))
            },
            render: function() {
                var t = this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    selectedGear: this.getGearModels(),
                    isReadOnly: this.readOnly
                });
                this.$el.html(t)
            },
            getGearModels: function() {
                return this.selectedGear ? this.selectedGear.map(function(t) {
                    return {
                        fullDisplayName: d.a.getFullGearDisplayNameByModel(t),
                        gearClass: this.mapGearTypeToClass(t.get("gearTypeName"))
                    }
                }, this) : []
            },
            mapGearTypeToClass: function(t) {
                var e = t.toLocaleLowerCase();
                return "bike" === e ? "bike" : "shoes" === e ? "steps" : "gear"
            },
            onAddGearBtnClicked: function() {
                this.pushClickChangeGearAnalyticsEvents();
                var t = new p.a({
                    model: this.model,
                    selectedGear: this.selectedGear
                })
                  , e = new h.a({
                    modalTitle: s.a.localize("label_edit_gear"),
                    view: t,
                    showFooter: !1
                });
                t.on("ON_DEPENDENCIES_LOADED", function() {
                    t.render(),
                    e.render()
                }, this),
                t.load()
            },
            pushClickChangeGearAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Click Change Gear From Sidebar"
                })
            }
        })
    },
    4442: function(t, e) {
        t.exports = '<% if (selectedGear && selectedGear.length) { %>\n<div class="gear-images">\n    <% for (var i = 0; i < selectedGear.length; i++) {  %>\n    <%  var gear = selectedGear[i];                     %>\n        <i class="avatar avatar-medium icon-<%- gear.gearClass %>"></i>\n    <% }                                                %>\n</div>\n<ul class="gear-names">\n    <% for (i = 0; i < selectedGear.length; i++) {  %>\n    <%  gear = selectedGear[i];                     %>\n        <li><%- gear.fullDisplayName %></li>\n    <% }                                                %>\n\n    <% if (!isReadOnly) { %>\n    <li><a href="#gear-edit-modal" data-toggle="modal" class="toggle-add-gear colored"><%- Localizer.localize(\'label_change_gear\') %></a></li>\n    <% } %>\n</ul>\n<% } %>'
    },
    4443: function(t, e) {
        t.exports = '<td data-title-1="<%- labels.setNumberTitle %>"><p><%- rowNumber %></p></td>\n\n<td data-title-2="<%- labels.setName %>" class="workout-name">\n    <% if(!linkNameToEdit) { %>\n    <%- Localizer.localize(exerciseType) %>\n\n    <% } else { %>\n    <a href="#" class="edit-activity colored">\n        <%- Localizer.localize(labels.chooseSetLabelKey || exerciseType) %>\n    </a>\n    <% } %>\n</td>\n\n<td data-title-3="<%- Localizer.localize(\'label.time\') %>">\n    <%- time %>\n</td>\n\n<% if(!isPilatesActivity && !isYogaActivity) { %>\n<td data-title-4="<%- Localizer.localize(\'label_rest\') %>">\n    <%- rest %>\n</td>\n<% } %>\n\n<% if(!isYogaActivity) { %>\n<td data-title-5="<%- Localizer.localize(\'label_reps\') %>">\n    <%- reps %>\n</td>\n<% } %>\n\n<% if(!isPilatesActivity && !isYogaActivity) { %>\n<td data-title-6="<%- Localizer.localize(\'label_weight\') %>">\n    <% if(weightIsNumber || isReadOnly) { %>\n\n        <%- weight %>\n\n        <% if(isMetric) { %>\n            <%- Localizer.localize(\'weight_unit_metric\') %>\n        <% } else { %>\n            <%- Localizer.localize(\'weight_unit_statute\') %>\n        <% } %>\n\n    <% } else { %>\n    <a href="#" class="colored edit-activity"><%- weight %></a>\n    <% } %>\n</td>\n<% } %>'
    },
    4444: function(t, e) {
        t.exports = "<table class=\"table table-hover table-responsive rep-counting-table\">\n    <thead>\n        <tr>\n            <th><%- labels.setNumberTitle %></th>\n            <th><%- labels.setName %></th>\n            <th><%- Localizer.localize('label.time') %></th>\n\n            <% if(!isPilatesActivity && !isYogaActivity) { %>\n            <th><%- Localizer.localize('label_rest') %></th>\n            <% } %>\n\n            <% if(!isYogaActivity) { %>\n            <th><%- Localizer.localize('label_reps') %></th>\n            <% } %>\n\n            <% if(!isPilatesActivity && !isYogaActivity) { %>\n            <th><%- Localizer.localize('label_weight') %></th>\n            <% } %>\n        </tr>\n    </thead>\n\n    <tbody id=\"setsContainer\"></tbody>\n</table>"
    },
    4445: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(43)
              , l = i(1733);
            e.a = o.a.View.extend({
                initialize: function(t) {
                    s.a.setExpandCollapseHandler(function() {
                        this.resizeCanvas()
                    }
                    .bind(this))
                },
                render: function() {
                    var t = this.model.activity.toJSON();
                    this.diveLogView = new l.a({
                        model: this.model.activity,
                        surfaceInterval: t.surfaceInterval,
                        timeIn: t.startTimeLocal,
                        maxDepth: t.maxDepth,
                        avgDepth: t.averageDepth,
                        bottomTime: t.bottomTime,
                        isDecoDive: t.isDecoDive
                    }).render();
                    var e = this.diveLogView.el;
                    this.$el.html(e),
                    this.bindWindowResize(),
                    this.diveLogView.render()
                },
                resizeCanvas: function() {
                    this.diveLogView.renderCanvas()
                },
                bindWindowResize: function() {
                    t(window).on("resize.diveLog", n.a.bind(this.resizeCanvas, this))
                },
                unbindWindowResize: function() {
                    t(window).off("resize.diveLog", this.resizeCanvas)
                },
                destroy: function() {
                    this.unbindWindowResize(),
                    this.diveLogView.remove(),
                    this.remove()
                }
            })
        }
        ).call(this, i(10))
    },
    4446: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(13)
              , c = i(53)
              , h = i(93)
              , p = i(4447)
              , d = i.n(p)
              , u = "bpm"
              , m = "percentMax"
              , f = "zones";
            e.a = o.a.View.extend({
                template: n.a.template(d.a),
                events: {
                    "click #btn-heart-rate": "handleToggle",
                    "click #btn-percent-max": "handleToggle",
                    "click #btn-zones": "handleToggle"
                },
                initialize: function(t) {
                    this.heartRateZones = t.heartRateZones,
                    this.enableToggle = t.enableToggle,
                    this.mode = u,
                    this.isYoga = t.isYoga,
                    this.isFloorClimbingActivity = t.isFloorClimbingActivity,
                    this.isPilatesActivity = t.isPilatesActivity,
                    this.isAutoRacingActivity = t.isAutoRacingActivity,
                    this.isBreathworkActivity = t.isBreathworkActivity
                },
                handleToggle: function(e) {
                    e.preventDefault(),
                    this.$(".btn-small").removeClass("active");
                    var i = t(e.currentTarget).attr("id");
                    this.mode = "btn-heart-rate" == i ? u : "btn-percent-max" == i ? m : f,
                    this.pushHeartRateToggleAnalyticsEvents(),
                    this.render()
                },
                pushHeartRateToggleAnalyticsEvents: function() {
                    c.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Stats Tab - Heart Rate Toggle"
                    })
                },
                render: function() {
                    var t = this.model.get("averageHR")
                      , e = this.model.get("maxHR");
                    if (t)
                        var i = l.a.personalizeHeartRate(t);
                    if (e)
                        var a = l.a.personalizeHeartRate(e);
                    var n = s.a.localize(l.a.getHeartRateUnitKey());
                    if (this.mode === m && this.heartRateZones) {
                        var r = this.heartRateZones.maxHeartRateUsed;
                        t && (i = Math.round(t / r * 100)),
                        e && (a = Math.round(e / r * 100)),
                        n = s.a.localize(l.a.getPercentMaxHeartRateUnitKey())
                    } else if (this.mode === f && this.heartRateZones) {
                        var o = this.findZone(t)
                          , c = this.findZone(e);
                        o && c && (t && (i = this.formatZone(t, o)),
                        e && (a = this.formatZone(e, c)),
                        n = s.a.localize(l.a.getHeartRateZoneUnitKey()))
                    }
                    var p = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        model: {
                            heartRateValue: i,
                            maxHeartRateValue: a,
                            heartRateUnit: n
                        },
                        enableToggle: this.shouldEnableToggle()
                    });
                    this.$el.html(p),
                    this.mode == u ? this.$("#btn-heart-rate").addClass("active") : this.mode == m ? this.$("#btn-percent-max").addClass("active") : this.$("#btn-zones").addClass("active"),
                    h.a.renderTooltips.call(this)
                },
                findZone: function(t) {
                    var e = this.heartRateZones.zone1Floor
                      , i = this.heartRateZones.zone2Floor
                      , a = this.heartRateZones.zone3Floor
                      , n = this.heartRateZones.zone4Floor
                      , r = this.heartRateZones.zone5Floor
                      , o = {
                        floor: r,
                        ceiling: this.heartRateZones.maxHeartRateUsed,
                        number: 5
                    };
                    return t <= e ? o = {
                        floor: 0,
                        ceiling: e,
                        number: 0
                    } : e < t && i >= t ? o = {
                        floor: e,
                        ceiling: i,
                        number: 1
                    } : i < t && a >= t ? o = {
                        floor: i,
                        ceiling: a,
                        number: 2
                    } : a < t && n >= t ? o = {
                        floor: a,
                        ceiling: n,
                        number: 3
                    } : n < t && r >= t ? o = {
                        floor: n,
                        ceiling: r,
                        number: 4
                    } : r < t && this.heartRateZones.maxHeartRateUsed >= t && (o = {
                        floor: r,
                        ceiling: this.heartRateZones.maxHeartRateUsed,
                        number: 5
                    }),
                    o
                },
                formatZone: function(t, e) {
                    if (e.ceiling < t)
                        return l.a.formatDecimalNumber(e.number + 1, 1);
                    var i = e.number + (t - e.floor) / (e.ceiling - e.floor);
                    return l.a.formatDecimalNumber(i, 1)
                },
                shouldEnableToggle: function() {
                    return this.enableToggle && this.heartRateZones && !this.isYoga && !this.isFloorClimbingActivity && !this.isAutoRacingActivity && !this.isBreathworkActivity
                }
            })
        }
        ).call(this, i(10))
    },
    4447: function(t, e) {
        t.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_heart_rate\') %></h3>\n    <% if (enableToggle) { %>\n    <div class="btn-group btn-group-pill bottom-m" data-toggle="buttons-radio">\n        <button id="btn-heart-rate" class="btn btn-small"><%- Localizer.localize(\'heart_rate_unit\') %></button>\n        <button id="btn-percent-max" class="btn btn-small"><%- Localizer.localize(\'percent_of_max\') %></button>\n        <button id="btn-zones" class="btn btn-small"><%- Localizer.localize(\'label_zones\') %></button>\n    </div>\n    <% } %>\n\n    <% if (model.heartRateValue) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.heartRateValue %> <%- model.heartRateUnit %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_HR\') %></span>\n    </div>\n    <% } %>\n\n    <% if (model.maxHeartRateValue) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.maxHeartRateValue %> <%- model.heartRateUnit %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_HR\') %></span>\n    </div>\n    <% } %>\n</div>'
    },
    4448: function(t, e) {
        t.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_climb_ascent\') %></h3>\n    \x3c!-- Indoor Climb Ascent Metrics --\x3e\n    <% if (isIndoorClimbingActivity) { %>\n        <% if (indoorClimbElevationGain) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(indoorClimbElevationGain) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'activity_total_ascent\') %></span>\n            </div>\n        <% } %>\n        <% if (indoorClimbMaxAscent) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(indoorClimbMaxAscent) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'climb_max_ascent\') %></span>\n            </div>\n        <% } %>\n    <% } else { %>\n        <% if (ascent) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeFloors(ascent) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_ascent\') %></span>\n        </div>\n        <% } %>\n\n        <% if (descent) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeFloors(descent) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_descent\') %></span>\n        </div>\n        <% } %>\n\n        <% if (minElevation) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeElevation(minElevation) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_min_elevation\') %></span>\n        </div>\n        <% } %>\n\n        <% if (maxElevation) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeElevation(maxElevation) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_max_elevation\') %></span>\n        </div>\n        <% } %>\n    <% } %>\n</div>'
    },
    4449: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(8)
              , l = i(13)
              , c = i(53)
              , h = i(37)
              , p = i(32)
              , d = i(4450)
              , u = i(4452)
              , m = i.n(u)
              , f = {
                DisplayWeightEntryPopup: "DisplayWeightEntryPopup",
                WeightChangedFromPowerStats: "WeightChangedFromPowerStats"
            }
              , g = "zones"
              , y = "watts"
              , v = "kg"
              , b = o.a.View.extend({
                template: n.a.template(m.a),
                events: {
                    "click #btn-watts": "handleToggle",
                    "click #btn-zones": "handleToggle",
                    "click #btn-kg": "handleToggle",
                    "click .help-power": "onPowerHelpClicked"
                },
                initialize: function(t) {
                    this.powerZones = t.powerZones,
                    this.enableToggle = t.enableToggle,
                    this.usersWeight = t.usersWeight,
                    this.mode = y,
                    this.needToSelectKg = !1
                },
                onPowerHelpClicked: function(t) {
                    t.preventDefault();
                    var e = new d.a({});
                    new p.a({
                        view: e,
                        showFooter: !1,
                        modalTitle: s.a.localize("help.title")
                    }).render()
                },
                handleToggle: function(e) {
                    e.stopPropagation();
                    var i = t(e.currentTarget);
                    switch (this.needToSelectKg = !1,
                    i.attr("id")) {
                    case "btn-zones":
                        this.mode = g;
                        break;
                    case "btn-kg":
                        this.usersWeight ? this.mode = v : (this.needToSelectKg = !0,
                        this.trigger(f.DisplayWeightEntryPopup, {
                            context: this,
                            successCallback: this.weightPopupCallback
                        }, this));
                        break;
                    case "btn-watts":
                        this.mode = y
                    }
                    this.pushPowerToggleAnalyticsEvents(),
                    this.render()
                },
                pushPowerToggleAnalyticsEvents: function() {
                    c.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Stats Tab - Power Toggle"
                    })
                },
                render: function() {
                    var t = this.model.get("averagePower")
                      , e = this.model.get("maxPower");
                    if (t)
                        var i = l.a.personalizePower(t);
                    if (e)
                        var a = l.a.personalizePower(e);
                    var n = s.a.localize(l.a.getPowerUnitKey());
                    if (this.mode == g && this.powerZones) {
                        var r = this.findZone(t)
                          , o = this.findZone(e);
                        r && (i = this.formatZone(t, r),
                        n = s.a.localize(l.a.getHeartRateZoneUnitKey())),
                        o && (a = this.formatZone(e, o),
                        n = s.a.localize(l.a.getHeartRateZoneUnitKey()))
                    }
                    if (this.mode === v && this.usersWeight) {
                        var c = this.usersWeight;
                        i = l.a.personalizePowerKg(t / c),
                        e && (a = l.a.personalizePowerKg(e / c)),
                        n = s.a.localize("label_power_kg")
                    }
                    var p = this.template({
                        Localizer: s.a,
                        Personalizer: l.a,
                        activity: this.model.toJSON(),
                        powerData: {
                            averagePowerValue: i,
                            powerUnit: n,
                            maxPowerValue: a
                        },
                        activityType: this.model.get("activityTypeDTO").typeKey,
                        enableToggle: this.enableToggle && this.powerZones && (t || e),
                        isCrossCountrySkiActivity: h.a.isCrosscountrySkiActivity(this.model.get("activityTypeDTO").typeKey) || h.a.isSkateSkiActivity(this.model.get("activityTypeDTO").typeKey)
                    });
                    switch (this.$el.html(p),
                    this.mode) {
                    case g:
                        this.$("#btn-zones").addClass("active");
                        break;
                    case y:
                        this.$("#btn-watts").addClass("active");
                        break;
                    case v:
                        this.usersWeight && this.$("#btn-kg").addClass("active")
                    }
                },
                findZone: function(t) {
                    return n.a.find(this.powerZones, function(e) {
                        return e.floor < t && e.ceiling > t
                    })
                },
                formatZone: function(t, e) {
                    var i = +e.number
                      , a = i + (t - e.floor) / (e.ceiling - e.floor);
                    return 7 === i && a > 7 && (a = 7),
                    l.a.formatDecimalNumber(a, 1)
                },
                setAndApplyWeight: function(t) {
                    this.usersWeight && this.usersWeight === t || (this.usersWeight = t,
                    this.needToSelectKg && this.$("#btn-kg").click())
                },
                weightPopupCallback: function(t) {
                    this.setAndApplyWeight(t),
                    this.trigger(f.WeightChangedFromPowerStats, t)
                }
            });
            b.Events = f,
            e.a = b
        }
        ).call(this, i(10))
    },
    4450: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(4451)
          , c = i.n(l);
        e.a = o.a.View.extend({
            template: n.a.template(c.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a
                }))
            }
        })
    },
    4451: function(t, e) {
        t.exports = "<div class=\"power-load-help\">\n    <h4><%- Localizer.localize('label_ski_power') %></h4>\n    <h5><%- Localizer.localize('ski_power_message1') %></h5>\n    <h5><%- Localizer.localize('label_ski_train') %></h5>\n    <p><%- Localizer.localize('ski_train_message') %></p>\n    <h5><%- Localizer.localize('label_ski_cycling_ftp') %></h5>\n    <p><%- Localizer.localize('label_ski_cycling_message') %></p>\n</div>\n"
    },
    4452: function(t, e) {
        t.exports = '<%\n\nvar leftBalance = Personalizer.personalizeLeftRightBalance(activity.leftBalance);\nvar rightBalance = Personalizer.personalizeLeftRightBalance(100 - leftBalance);\n\nvar leftEffectiveness = Personalizer.personalizeTorqueEffectiveness(activity.leftTorqueEffectiveness);\nvar rightEffectiveness = Personalizer.personalizeTorqueEffectiveness(activity.rightTorqueEffectiveness);\n\nvar leftSmoothness = Personalizer.personalizePedalSmoothness(activity.leftPedalSmoothness);\nvar rightSmoothness = Personalizer.personalizePedalSmoothness(activity.rightPedalSmoothness);\n\n%>\n<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_power\') %>\n        <% if (isCrossCountrySkiActivity) { %>\n            <span class="help-icon has-tooltip help-power" title="<%- Localizer.localize(\'label.te.tip\') %>">\n                <i class="icon-help"></i>\n            </span>\n        <% } %>\n    </h3>\n    <% if (enableToggle) { %>\n    <div class="btn-group btn-group-pill bottom-m" data-toggle="buttons-radio">\n        <button id="btn-watts" class="btn btn-small"><%- Localizer.localize(\'label_power_unit\') %></button>\n        <button id="btn-kg" class="btn btn-small"><%- Localizer.localize(\'label_power_kg\') %></button>\n        <button id="btn-zones" class="btn btn-small"><%- Localizer.localize(\'label_zones\') %></button>\n    </div>\n    <% } %>\n\n    <% if (powerData.averagePowerValue) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- powerData.averagePowerValue %> <%- powerData.powerUnit %></div>\n        <span class="data-label"><%- Localizer.localize(Personalizer.getAvgPowerLabelKey(activityType)) %></span>\n    </div>\n    <% } %>\n\n    <% if (powerData.maxPowerValue) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- powerData.maxPowerValue %>  <%- powerData.powerUnit %></div>\n        <span class="data-label"><%- Localizer.localize(Personalizer.getMaxPowerLabelKey(activityType)) %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.maxPowerTwentyMinutes) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizePower(activity.maxPowerTwentyMinutes || 0) %>  <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_avg_power\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.leftBalance) {      %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Localizer.localize(Personalizer.getPowerBalanceUnitKey(), leftBalance, rightBalance) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_left_right_balance\') %></span>\n    </div>\n    <% }                                                                %>\n\n    <% if (activity.leftTorqueEffectiveness) {   %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Localizer.localize(Personalizer.getPowerBalanceUnitKey(), leftEffectiveness, rightEffectiveness) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_left_right_torque_eff\') %></span>\n    </div>\n    <% }                                                                        %>\n\n    <% if (activity.leftPedalSmoothness) {   %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Localizer.localize(Personalizer.getPowerBalanceUnitKey(), leftSmoothness, rightSmoothness) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_left_right_pedal_smoothness\') %> </span>\n    </div>\n    <% }                                                                    %>\n\n    <% if (activity.normalizedPower) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizePower(activity.normalizedPower || 0) %>  <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_normalized_power\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.intensityFactor) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeIntensityFactor(activity.intensityFactor || 0) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_intensity_factor\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.trainingStressScore) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeTSS(activity.trainingStressScore || 0) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_training_stress_score\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.functionalThresholdPower) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizePower(activity.functionalThresholdPower || 0) %> <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_ftp_setting\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.totalWork) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeWork(activity.totalWork || 0) %> <%- Localizer.localize(Personalizer.getWorkUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_work\') %></span>\n    </div>\n    <% } %>\n\n</div>'
    },
    4453: function(t, e, i) {
        "use strict";
        (function(t, a) {
            var n = i(9)
              , r = i.n(n)
              , o = i(0)
              , s = i.n(o)
              , l = i(8)
              , c = i(13)
              , h = i(1279)
              , p = i(53)
              , d = i(37)
              , u = i(4454)
              , m = i.n(u)
              , f = {
                SpeedPaceToggled: "SpeedPaceToggled"
            }
              , g = "Speed"
              , y = "Pace"
              , v = s.a.View.extend({
                template: r.a.template(m.a),
                events: {
                    "click #btn-speed": "handleToggle",
                    "click #btn-pace": "handleToggle"
                },
                initialize: function(t) {
                    var e = this.model.get("activityTypeDTO").typeKey
                      , i = c.a.getSpeedTypeFromActivityType(e);
                    i == c.a.SpeedTypes.Speed || i === c.a.SpeedTypes.Flying ? this.mode = g : this.mode = y
                },
                handleToggle: function(e) {
                    if (e.preventDefault(),
                    !t(e.currentTarget).hasClass("active")) {
                        this.$(".btn-small").removeClass("active");
                        var i = a(e.currentTarget).attr("id");
                        this.mode = "btn-speed" == i ? g : y,
                        this.render(),
                        this.signalModeChange(),
                        this.pushTimingToggleAnalyticsEvents()
                    }
                },
                pushTimingToggleAnalyticsEvents: function() {
                    p.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Stats Tab - Timing Toggle"
                    })
                },
                signalModeChange: function() {
                    var t = this.model.get("activityTypeDTO").typeKey
                      , e = c.a.getSpeedTypeFromActivityType(t)
                      , i = c.a.isLapSwimmingActivity(t)
                      , a = c.a.isSwimmingActivity(t)
                      , n = c.a.isRowingActivity(t);
                    this.mode === y ? a ? this.triggerEvent(c.a.SpeedTypes.SwimPace) : n ? this.triggerEvent(c.a.SpeedTypes.RowingPace) : this.triggerEvent(c.a.SpeedTypes.Pace) : i ? this.triggerEvent(c.a.SpeedTypes.SwimSpeed) : e === c.a.SpeedTypes.Flying ? this.triggerEvent(c.a.SpeedTypes.Flying) : n ? this.triggerEvent(c.a.SpeedTypes.RowingSpeed) : this.triggerEvent(c.a.SpeedTypes.Speed)
                },
                triggerEvent: function(t) {
                    this.trigger(f.SpeedPaceToggled, t, this.mode)
                },
                render: function() {
                    var t = this.model.toJSON()
                      , e = t.activityTypeDTO.typeKey
                      , i = c.a.getSpeedTypeFromActivityType(e)
                      , a = c.a.isLapSwimmingActivity(e)
                      , n = c.a.isSwimmingActivity(e)
                      , r = c.a.isRowingActivity(e)
                      , o = c.a.isNauticalActivity(e)
                      , s = {};
                    h.a.setActivity(t),
                    (s = this.mode === y ? n ? h.a.getSwimPaceModel() : r ? h.a.getRowingPaceModel() : o ? h.a.getNauticalPaceModel() : h.a.getPaceModel() : a ? h.a.getSwimSpeedModel() : i === c.a.SpeedTypes.Flying ? h.a.getFlyingModel() : r ? h.a.getRowingSpeedModel() : o ? h.a.getNauticalSpeedModel() : h.a.getSpeedModel()).showMaxSpeed = this.shouldDiplayMaxSpeed(),
                    s.isSwimmingActivity = this.model.isSwimming(),
                    s.isSurfingActivity = d.a.isSurfingActivity(e),
                    s.surfTime = d.a.getSplitSummary(this.model.get("splitSummaries"), "SURF_ACTIVE").duration;
                    var p = this.template({
                        Localizer: l.a,
                        Personalizer: c.a,
                        activity: t,
                        model: s
                    });
                    this.$el.html(p),
                    this.mode === g ? this.$("#btn-speed").addClass("active") : this.$("#btn-pace").addClass("active")
                },
                shouldDiplayMaxSpeed: function() {
                    return !("open_water_swimming" === this.model.getActivityTypeKey())
                }
            });
            v.Events = f,
            e.a = v
        }
        ).call(this, i(10), i(10))
    },
    4454: function(t, e) {
        t.exports = '<%\nvar labelPace = model.isSwimmingActivity ? \'label_swim_pace\' : \'label_pace\';\n%>\n\n<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n    <div class="btn-group btn-group-pill bottom-m" data-toggle="buttons-radio">\n        <button id="btn-pace" class="btn btn-small"><%- Localizer.localize(labelPace) %></button>\n        <button id="btn-speed" class="btn btn-small"><%- Localizer.localize(\'label_speed\') %></button>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.time %></div>\n        <% if (model.isSurfingActivity) { %>\n            <span class="data-label"><%- Localizer.localize(\'session_time_surf\') %></span>\n        <% } else { %>\n            <span class="data-label"><%- Localizer.localize(\'label_time\') %></span>\n        <% } %>\n    </div>\n    <% if (model.isSurfingActivity) { %>\n    <div class="data-block small">\n        <div class="data-bit duration-time-value"><%- Personalizer.personalizeDuration(model.surfTime, false) %></div>\n        <span class="data-label"><%- Localizer.localize(\'surf_time_label\') %></span>\n    </div>\n    <% } %>\n    <% if (!model.isSurfingActivity && activity.movingDuration) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.movingTime %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_moving_time\') %></span>\n    </div>\n    <% }                                                    %>\n    <% if (model.elapsedTime) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.elapsedTime %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_elapsed_time\') %></span>\n    </div>\n    <% } %>\n    <% if (!model.isSurfingActivity) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.avgSpeedOrPace %> <%- model.avgSpeedOrPaceUnit %></div>\n        <span class="data-label"><%- model.avgSpeedOrPaceLabel %></span>\n    </div>\n    <% }                                                    %>\n    <% if (activity.averageMovingSpeed) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.avgMovingSpeedOrPace %> <%- model.avgMovingSpeedOrPaceUnit %></div>\n        <span class="data-label"><%- model.avgMovingSpeedOrPaceLabel %></span>\n    </div>\n    <% }                                                    %>\n    <% if (model.showMaxSpeed && model.maxSpeedOrPace) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- model.maxSpeedOrPace %> <%- model.maxSpeedOrPaceUnit %></div>\n        <span class="data-label"><%- model.maxSpeedOrPaceLabel %></span>\n    </div>\n    <% } %>\n</div>\n'
    },
    4455: function(t, e) {
        t.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit total-time-value"><%- Personalizer.personalizeDuration(time) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_time\') %></span>\n    </div>\n</div>'
    },
    4456: function(t, e) {
        t.exports = '<div class="stat-block" style="<% if (!showStats) { print(\'display: none;\'); } %>">\n    <h3><%- statsLabel %></h3>\n\n    <% for (var i = 0; i < stats.length; i++) { %>\n        <% if (stats[i].data) {\n            var unit = stats[i].dataUnit ? stats[i].dataUnit : \'\';\n        %>\n            <div class="data-block small">\n                <div class="data-bit total-time-value"><%- stats[i].data + \' \' + unit %></div>\n                <span class="data-label"><%- stats[i].dataLabel %></span>\n                <% if (stats[i].tooltipHelpIconMessage) { %>\n                    <span class="colored has-tooltip help-icon" data-placement="right" title="<%- stats[i].tooltipHelpIconMessage %>" aria-label="<%- stats[i].tooltipHelpIconMessage %>"><i class="icon-help"></i></span>\n                <% } %>\n            </div>\n        <% } %>\n    <% } %>\n</div>\n'
    },
    4457: function(t, e) {
        t.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n    <% if (time) { %>\n        <div class="data-block small">\n            <div class="data-bit total-time-value"><%- Personalizer.personalizeDuration(time) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_time\') %></span>\n        </div>\n    <% } %>\n\n    <% if (elapsedTime) { %>\n        <div class="data-block small">\n            <div class="data-bit duration-time-value"><%- Personalizer.personalizeDuration(elapsedTime) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_elapsed_time\') %></span>\n        </div>\n    <% } %>\n\n    <% if (avgFloorsPerMin || avgFloorsPerMin === 0) { %>\n        <div class="data-block small">\n            <div class="data-bit duration-time-value"><%- avgFloorsPerMin %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_avg_floors_per_minute\') %></span>\n        </div>\n    <% } %>\n\n    <% if (maxFloorsPerMin || maxFloorsPerMin === 0) { %>\n        <div class="data-block small">\n            <div class="data-bit duration-time-value"><%- maxFloorsPerMin %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_max_floors_per_minute\') %></span>\n        </div>\n    <% } %>\n</div>'
    },
    4458: function(t, e) {
        t.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n        <% if (activeClimbDuration) { %>\n            <div class="data-block small">\n                <div class="data-bit total-time-value"><%- Personalizer.personalizeDuration(activeClimbDuration, false) %></div>\n                <span class="data-label"><%- Localizer.localize(\'climb_active_time\') %></span>\n            </div>\n        <% } %>\n        <% if (restClimbDuration) { %>\n            <div class="data-block small">\n                <div class="data-bit duration-time-value"><%- Personalizer.personalizeDuration(restClimbDuration, false) %></div>\n                <span class="data-label"><%- Localizer.localize(\'climb_rest_time\') %></span>\n            </div>\n        <% } %>\n        <% if (totalClimbTime) { %>\n            <div class="data-block small">\n                <div class="data-bit duration-time-value"><%- Personalizer.personalizeDuration(totalClimbTime, false) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_time_total\') %></span>\n            </div>\n        <% } %>\n</div>\n'
    },
    4459: function(t, e) {
        t.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_timing\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit total-time-value"><%- Personalizer.personalizeDuration(time) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_time\') %></span>\n    </div>\n</div>'
    },
    4460: function(t, e) {
        t.exports = '<h3><%- Localizer.localize(\'cycling_dynamics\') %> <a href="javascript:void(0);" class="help-icon has-tooltip"\n                                                      data-html="true"\n                                                     title="<%- showPositionTab ? Localizer.localize(\'help.cycling.dynamics.position.title\')  + \'<br><br>\' : \'\' %><%- Localizer.localize(\'help.cycling.dynamics.power.phase.title\') %><br><br><%- Localizer.localize(\'help.cycling.dynamics.platform.center.offset.title\') %>"><i\n        class="icon-help"></i></a></h3>\n<div class="btn-group btn-group-pill bottom-m" data-toggle="buttons-radio">\n    <% if (showPositionTab) { %>\n    <button id="btn-position" class="btn btn-small cycling-dynamics active" data-toggle="tab" data-target="#position-data"><%- Localizer.localize(\'cycling_dynamics_position\') %></button>\n    <% } %>\n    <button id="btn-power-phase" class="btn btn-small cycling-dynamics <%- !showPositionTab ? \'active\' : \'\' %>" data-toggle="tab" data-target="#power-phase-data"><%- Localizer.localize(\'cycling_dynamics_power_phase_abbr\') %></button>\n    <button id="btn-pco" class="btn btn-small cycling-dynamics" data-toggle="tab" data-target="#pco-data"><%- Localizer.localize(\'cycling_dynamics_pco_abbr\') %></button>\n</div>\n\x3c!--Position Data--\x3e\n<div class="tab-content">\n    <% if (showPositionTab) { %>\n    <div id="position-data" class="tab-pane active">\n\n\n        <% if (!_.isUndefined(activity.standingTime)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeStandingTime(activity.standingTime) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_total_standing_time\') %></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.averageStandingPower)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePower(activity.averageStandingPower) %> <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_avg_standing_power\') %></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.maxStandingPower)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePower(activity.maxStandingPower) %> <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_max_standing_power\') %></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.seatedTime)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizeStandingTime(activity.seatedTime) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_total_seated_time\') %></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.averageSeatedPower)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePower(activity.averageSeatedPower) %> <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_avg_seated_power\') %></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.maxSeatedPower)) { %>\n        <div class="position data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePower(activity.maxSeatedPower) %> <%- Localizer.localize(Personalizer.getPowerUnitKey()) %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_max_seated_power\') %></span>\n        </div>\n        <% } %>\n\n    </div>\n    <% } %>\n    \x3c!--Power-Phase Data--\x3e\n    <div id="power-phase-data" class="tab-pane <%- !showPositionTab ? \'active\' : \'\' %>">\n\n        \x3c!-- Left Power Phase --\x3e\n        <% if (!_.isUndefined(activity.leftPowerPhaseStart)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseAngle(activity.leftPowerPhaseStart) %> \xb0 \u2013 <%- Personalizer.personalizePowerPhaseAngle(activity.leftPowerPhaseEnd) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_l_power_phase\') %> <a href="#" class="help-icon has-tooltip" data-html="true" title="<%- Localizer.localize(\'help.cycling.dynamics.power.phase.start.angle\') %><br/><br/><%- Localizer.localize(\'help.cycling.dynamics.power.phase.end.angle\') %><br/><br/><%- Localizer.localize(\'help.cycling.dynamics.power.phase.description\') %>" ><i class="icon-help"></i></a></span>\n        </div>\n        <% } %>\n\n        \x3c!-- Right Power Phase --\x3e\n        <% if (!_.isUndefined(activity.rightPowerPhaseStart)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseAngle(activity.rightPowerPhaseStart) %> \xb0 \u2013 <%- Personalizer.personalizePowerPhaseAngle(activity.rightPowerPhaseEnd) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_r_power_phase\') %></span>\n        </div>\n        <br/>\n        <% } %>\n\n\n\n        <% if (!_.isUndefined(activity.leftPowerPhaseArcLength)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseArcLength(activity.leftPowerPhaseArcLength) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_l_power_phase_arc_length\') %> <a href="#" class="help-icon has-tooltip" title="<%- Localizer.localize(\'help.cycling.dynamics.power.phase.arc.length\') %>" ><i class="icon-help"></i></a></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.rightPowerPhaseArcLength)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseArcLength(activity.rightPowerPhaseArcLength) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_r_power_phase_arc_length\') %></span>\n        </div>\n        <br/>\n        <% } %>\n\n\n\n        \x3c!-- Left Peak Power Phase --\x3e\n        <% if (!_.isUndefined(activity.leftPowerPhasePeakStart)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseAngle(activity.leftPowerPhasePeakStart) %> \xb0 \u2013 <%- Personalizer.personalizePowerPhaseAngle(activity.leftPowerPhasePeakEnd) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_l_peak_power_phase\') %> <a href="#" class="help-icon has-tooltip" data-html="true" title="<%- Localizer.localize(\'help.cycling.dynamics.peak.power.phase.start.angle\') %><br><br><%- Localizer.localize(\'help.cycling.dynamics.peak.power.phase.end.angle\') %><br><br><%- Localizer.localize(\'help.cycling.dynamics.peak.power.phase.description\') %>" ><i class="icon-help"></i></a></span>\n        </div>\n        <% } %>\n\n        \x3c!-- Right Peak Power Phase --\x3e\n        <% if (!_.isUndefined(activity.rightPowerPhasePeakStart)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseAngle(activity.rightPowerPhasePeakStart) %> \xb0 \u2013 <%- Personalizer.personalizePowerPhaseAngle(activity.rightPowerPhasePeakEnd) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_r_peak_power_phase\') %></span>\n        </div>\n        <br/>\n        <% } %>\n\n\n\n        <% if (!_.isUndefined(activity.leftPowerPhasePeakArcLength)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseArcLength(activity.leftPowerPhasePeakArcLength) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_l_peak_power_phase_arc_length\') %> <a href="#" class="help-icon has-tooltip" title="<%- Localizer.localize(\'help.cycling.dynamics.peak.power.phase.arc.length\') %>" ><i class="icon-help"></i></a></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.rightPowerPhasePeakArcLength)) { %>\n        <div class="power-phase data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePowerPhaseArcLength(activity.rightPowerPhasePeakArcLength) %> \xb0</div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_r_peak_power_phase_arc_length\') %></span>\n        </div>\n        <% } %>\n\n\n    </div>\n    \x3c!--Platform Center Offset Data--\x3e\n    <div id="pco-data" class="tab-pane">\n\n        <% if (!_.isUndefined(activity.leftPlatformCenterOffset)) { %>\n        <div class="pco data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePlatformCenterOffset(activity.leftPlatformCenterOffset) %> <%- Localizer.localize(\'platform_center_offset_unit\') %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_l_pco_average\') %> <a href="#" class="help-icon has-tooltip" title="<%- Localizer.localize(\'help.cycling.dynamics.platform.center.offset\') %>" ><i class="icon-help"></i></a></span>\n        </div>\n        <% } %>\n\n        <% if (!_.isUndefined(activity.rightPlatformCenterOffset)) { %>\n        <div class="pco data-block small">\n            <div class="data-bit"><%- Personalizer.personalizePlatformCenterOffset(activity.rightPlatformCenterOffset) %> <%- Localizer.localize(\'platform_center_offset_unit\') %></div>\n            <span class="data-label"><%- Localizer.localize(\'label_cd_r_pco_average\') %> </span>\n        </div>\n        <% } %>\n    </div>\n</div>\n'
    },
    4461: function(t, e) {
        t.exports = '    <h3><%- Localizer.localize(Personalizer.getStrokesLabelKey(activity.activityTypeDTO.typeKey)) %></h3>\n\n    <% if (activity.summaryDTO.totalNumberOfStrokes) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- activity.summaryDTO.totalNumberOfStrokes %></div>\n        <span class="data-label"><%- Localizer.localize(Personalizer.getTotalStrokesLabelKey(activity.activityTypeDTO.typeKey)) %></span>\n    </div>\n    <% }                                                     %>\n\n    <% if (activity.summaryDTO.averageStrokeCadence) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- activity.summaryDTO.averageStrokeCadence %> <%- Localizer.localize(\'rowing_cadence_unit\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_stroke_rate\') %></span>\n    </div>\n    <% }                                                     %>\n\n    <% if (activity.summaryDTO.maxStrokeCadence) {    %>\n    <div class="data-block small">\n        <div class="data-bit"><%- activity.summaryDTO.maxStrokeCadence %> <%- Localizer.localize(\'rowing_cadence_unit\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_stroke_rate\') %></span>\n    </div>\n    <% } %>\n\n    <% if (activity.summaryDTO.averageStrokeDistance && activity.summaryDTO.averageStrokeDistance > 0) {    %>\n    <% if (useUsersUnitSetting) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDistanceValue(Personalizer.getAverageStrokeDistance(activity.summaryDTO.averageStrokeDistance)) %> <%- Localizer.localize(Personalizer.getStrokeDistanceUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_distance_per_stroke\') %></span>\n    </div>\n    <% } else {  %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDistanceValue(activity.summaryDTO.averageStrokeDistance) %> <%- Localizer.localize(\'distance.meter\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_distance_per_stroke\') %></span>\n    </div>\n    <% } %>\n    <% } %>'
    },
    4462: function(t, e) {
        t.exports = "<% if (model) { %>\n<div class=\"data-bit\"><%- Personalizer.formatValueByPrecision(model.value, presentationData.precision) %> <%-\n    Localizer.localize(getLocalizerString(presentationData['unit-label-key'])) %>\n</div>\n<span class=\"data-label\"><%- Localizer.localize(getLocalizerString(presentationData['label-key'])) %>\n    <%= tooltipTemplate %>\n</span>\n<% } %>"
    },
    4463: function(t, e) {
        t.exports = "<h3><%- Localizer.localize('label_connect_iq') %>&#8482;</h3>"
    },
    4464: function(t, e) {
        t.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_vector_air_aerodynamics\') %></h3>\n\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.formatVectorAirCdA(model.avgCda) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_cda\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit "><%- Personalizer.formatVectorAirCdA(model.minCda) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_best_cda\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.formatWholeNumber(model.avgWattsPerCda) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_watts_per_cda\') %></span>\n    </div>\n</div>'
    },
    4465: function(t, e) {
        t.exports = '<% if (hasNutritionAndHydrationData) { %>\n    <h3><%- Localizer.localize(\'label_nutrition_hydration\') %>\n        <span \n            id="nutrition-hydration-help" \n            class="help-icon has-tooltip" \n            title="<%- Localizer.localize(\'label.te.tip\') %>" \n            aria-label="<%- Localizer.localize(\'label.te.tip\') %>"\n        ><i class="icon-help"></i>\n        </span>\n    </h3>\n\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.caloriesEstimated || 0 %> <%- Localizer.localize(Personalizer.getCalorieUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_caloriesBurned\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.caloriesConsumed || 0 %> <%- Localizer.localize(Personalizer.getCalorieUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_caloriesConsumed\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.caloriesNet || 0 %> <%- Localizer.localize(Personalizer.getCalorieUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_caloriesNet\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.waterEstimated || 0 %> <%- Localizer.localize(\'label_ml\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_waterLoss\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.waterConsumed || 0 %> <%- Localizer.localize(\'label_ml\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_waterConsumed\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- nutritionAndHydrationData.waterNet || 0 %> <%- Localizer.localize(\'label_ml\') %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_waterNet\') %></span>\n    </div>\n<% } else { %>\n    <h3><%- Localizer.localize(\'label_calories\') %></h3>\n\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.formatWholeNumber(activity.calories) %> <%- Localizer.localize(Personalizer.getCalorieUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_calories\') %></span>\n    </div>\n<% } %>'
    },
    4466: function(t, e) {
        t.exports = "<div class=\"exercise-load-help\">\n    <h4><%- Localizer.localize('exercise_load') %></h4>\n    <h5><%- Localizer.localize('exercise_load_header_message1') %></h5>\n    <h5><%- Localizer.localize('exercise_load_header_message2') %></h5>\n    <p><%- Localizer.localize('exercise_load_message1') %></p>\n    <h5><%- Localizer.localize('exercise_load_header_message3') %></h5>\n    <p><%- Localizer.localize('exercise_load_message2') %></p>\n</div>\n"
    },
    4467: function(t, e) {
        t.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label.trainingEffect\') %>\n        <span class="help-icon has-tooltip training-effect-help" title="<%- Localizer.localize(\'label.te.tip\') %>" aria-label="<%- Localizer.localize(\'label.te.tip\') %>">\n            <i class="icon-help"></i>\n        </span>\n    </h3>\n\n    <% _.each(trainingEffectStats, function(trainingEffectStat) { %>\n        <div class="data-block small">\n            <% if(trainingEffectStat.hasChip) { %>\n                <div class="trainingEffectLabelContainer">\n                    <div class="trainingEffectStatChip" style="background:<%- trainingEffectStat.hasChip %>"></div>\n                    <div class="data-bit">\n                        <%- trainingEffectStat.metric %>\n                    </div>\n                </div>\n            <% } else { %>\n                <div class="data-bit">\n                    <%- trainingEffectStat.metric %>\n                </div>\n            <% } %>\n            <span class="data-label"><%- trainingEffectStat.label %>\n                <% if(trainingEffectStat.hasHelpIcon) { %>\n                    <span class="help-icon has-tooltip <%- trainingEffectStat.hasHelpIcon.selectByClass %>" title="<%- Localizer.localize(\'label.te.tip\') %>" aria-label="<%- Localizer.localize(\'label.te.tip\') %>">\n                        <i class="icon-help"></i>\n                    </span>\n                <% } %>\n            </span>\n        </div>\n    <% }) %>\n</div>\n'
    },
    4468: function(t, e) {
        t.exports = '\x3c!-- Speed Stats --\x3e\n<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_speed\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit"><%- speedModel.maxSpeedOrPace %> <%- speedModel.maxSpeedOrPaceUnit %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_speed\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- speedModel.avgSpeedOrPace %> <%- speedModel.avgSpeedOrPaceUnit %></div>\n        <span class="data-label"><%- speedModel.avgSpeedOrPaceLabel %></span>\n    </div>\n</div>\n\x3c!-- Distance Stats --\x3e\n<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_distance\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit"><%- activity.lapCount %></div>\n        <span class="data-label"><%- Localizer.localize(\'marq_number_laps\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDistance(activity.distance, activity.activityTypeDTO.typeKey, activity.unitOfPoolLength) %> <%- Localizer.localize(Personalizer.getDistanceUnitKey(activity.activityTypeDTO.typeKey, activity.distance, activity.unitOfPoolLength)) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_distance_total\') %></span>\n    </div>\n</div>'
    },
    4469: function(t, e) {
        t.exports = '\x3c!-- Speed Stats --\x3e\n<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_speed\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeSpeed(maxSpeed, activity.activityTypeDTO.typeKey) %> <%- Localizer.localize(Personalizer.getSpeedTypeKey(activity.activityTypeDTO.typeKey, maxSpeed)) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_speed\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeSpeed(avgSpeed, activity.activityTypeDTO.typeKey) %> <%- Localizer.localize(Personalizer.getSpeedTypeKey(activity.activityTypeDTO.typeKey, avgSpeed)) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_avg_speed\') %></span>\n    </div>\n</div>\n'
    },
    4470: function(t, e) {
        t.exports = '\x3c!-- Climb Routes Stats --\x3e\n<div class="stat-block">\n    <% if (splitSummaries) { %>\n    <h3><%- Localizer.localize(\'splits.routes\') %></h3>\n    <div class="data-block small">\n        <div class="data-bit"><%- splitSummaries.noOfSplits %></div>\n        <span class="data-label"><%- Localizer.localize(\'total_climb_routes\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- splitSummaries.numClimbsAttempted %></div>\n        <span class="data-label"><%- Localizer.localize(\'climb_attempted\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- splitSummaries.numClimbsCompleted %></div>\n        <span class="data-label"><%- Localizer.localize(\'climb_completed\') %></span>\n    </div>\n    <% if (splitSummaries.numClimbSends) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- splitSummaries.numClimbSends %></div>\n            <span class="data-label"><%- Localizer.localize(\'climb_sends\') %></span>\n        </div>\n    <% } %>\n    <% if (splitSummaries.numFalls) { %>\n        <div class="data-block small">\n            <div class="data-bit"><%- splitSummaries.numFalls %></div>\n            <span class="data-label"><%- Localizer.localize(\'climb_falls\') %></span>\n        </div>\n    <% } %>\n    <div class="data-block small">\n        <div class="data-bit"><%- routeMaxDifficulty %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_max_difficulty\') %></span>\n    </div>\n    <% } %>\n</div>'
    },
    4471: function(t, e) {
        t.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label.workout.intervals\') %></h3>\n    <% if (time) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDuration(time) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label.workout.intervals.work.time\', Localizer.localize(activityType)) %></span>\n    </div>\n    <% } %>\n\n    <% if (distance) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeDistance(distance, activity.activityTypeDTO.typeKey, activity.unitOfPoolLength) %> <%- Localizer.localize(Personalizer.getDistanceUnitKey(activity.activityTypeDTO.typeKey, activity.distance, activity.unitOfPoolLength)) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label.workout.intervals.work.distance\', Localizer.localize(activityType)) %></span>\n    </div>\n    <% } %>\n\n    <% if (pace) { %>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeSpeed(pace, activity.activityTypeDTO.typeKey) %> <%- Localizer.localize(Personalizer.getPaceUnitKey()) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label.workout.intervals.work.pace\', Localizer.localize(activityType), speedPacelabel) %></span>\n    </div>\n    <% } %>\n</div>'
    },
    4472: function(t, e, i) {
        (e = t.exports = i(29)(!0)).push([t.i, "\n\n.SkiHelp_title__3-ScP {\n    font-size: 20px;\n    font-weight: 600;\n}\n\n.SkiHelp_bodyOne__1iD9c {\n    font-size: 16px;\n}\n\n.SkiHelp_titleTwo__2zCr0 {\n    font-size: 18px;\n}\n\n.SkiHelp_bodyTwo__fwET3 {\n    font-size: 14px;\n}\n\n.SkiHelp_bottomMargin__2PSA7 {\n    margin-bottom: 20px;\n}\n\n.SkiHelp_colorCircle__9gnTf {\n    padding-top: 2px;\n}\n\n.SkiHelp_colorCircle__9gnTf span {\n    border-radius: 50%;\n    display: block;\n    height: 16px;\n    width: 16px;\n}\n\n.SkiHelp_descriptionContainer__2mI9d {\n    display: -webkit-flex;\n    display: flex;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/components/Ski/SkiHelp.css"],
            names: [],
            mappings: ";;AAAA;IACI,gBAAe;IACf,iBAAgB;CACpB;;AAEA;IACI,gBAAe;CACnB;;AAEA;IACI,gBAAe;CACnB;;AAEA;IACI,gBAAe;CACnB;;AAEA;IACI,oBAAmB;CACvB;;AAEA;IACI,iBAAgB;CACpB;;AAEA;IACI,mBAAkB;IAClB,eAAc;IACd,aAAY;IACZ,YAAW;CACf;;AAEA;IACI,sBAAa;IAAb,cAAa;CACjB",
            file: "SkiHelp.css",
            sourcesContent: [".title {\n    font-size: 20px;\n    font-weight: 600;\n}\n\n.bodyOne {\n    font-size: 16px;\n}\n\n.titleTwo {\n    font-size: 18px;\n}\n\n.bodyTwo {\n    font-size: 14px;\n}\n\n.bottomMargin {\n    margin-bottom: 20px;\n}\n\n.colorCircle {\n    padding-top: 2px;\n}\n\n.colorCircle span {\n    border-radius: 50%;\n    display: block;\n    height: 16px;\n    width: 16px;\n}\n\n.descriptionContainer {\n    display: flex;\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            title: "SkiHelp_title__3-ScP",
            bodyOne: "SkiHelp_bodyOne__1iD9c",
            titleTwo: "SkiHelp_titleTwo__2zCr0",
            bodyTwo: "SkiHelp_bodyTwo__fwET3",
            bottomMargin: "SkiHelp_bottomMargin__2PSA7",
            colorCircle: "SkiHelp_colorCircle__9gnTf",
            descriptionContainer: "SkiHelp_descriptionContainer__2mI9d"
        }
    },
    4473: function(t, e) {
        t.exports = '<%\n    var activityType = activity.activityTypeDTO.typeKey;\n%>\n<div class="row-fluid">\n    <div class="span3">\n        <div id="timingStatsBreathworkPlaceholder"></div>\n        <div id="timingStatsRepCountingPlaceholder"></div>\n        <div id="divingConservatismStatsPlaceholder"></div>\n        <div id="sessionTotalsStatsPlaceholder"></div>\n        <div id="divingDepthStatsPlaceholder"></div>\n        <div id="divingBottomTimeStatsPlaceholder"></div>\n        <div id="divingN2LoadingStatsPlaceholder"></div>\n        <div id="divingCnsLoadingStatsPlaceholder"></div>\n\n        <div id="autoRacingStatsPlaceholder"></div>\n        <div id="indoorClimbRoutesPlaceholder"></div>\n\n        <% if (showDistanceData) { %>\n        <div class="stat-block activity-distance">\n            <h3><%- Localizer.localize(\'label_distance\') %></h3>\n            <div class="data-block small">\n                <% if (isSurfingActivity) { %>\n                    <div class="data-bit"><%- Personalizer.personalizeWaveDistance(activity.distance, activity.activityTypeDTO.typeKey, activity.unitOfPoolLength) %> <%- Localizer.localize(Personalizer.getWaveDistanceUnitKey(activity.activityTypeDTO.typeKey, activity.distance, activity.unitOfPoolLength)) %></div>\n                    <span class="data-label"><%- Localizer.localize(\'label_distance\') %></span>\n                <% } else { %>\n                <div class="data-bit"><%- Personalizer.personalizeDistance(activity.distance, activity.activityTypeDTO.typeKey, activity.unitOfPoolLength) %> <%- Localizer.localize(Personalizer.getDistanceUnitKey(activity.activityTypeDTO.typeKey, activity.distance, activity.unitOfPoolLength)) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_distance\') %></span>\n                <% } %>\n            </div>\n            <% if (activity.poolLength) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizePoolLength(activity.poolLength) %> <%- Localizer.localize(Personalizer.getPoolLengthUnitKey(activity.unitOfPoolLength.unitKey)) %></div>\n                <span class="data-label"><%- Localizer.localize(\'workout.pool.size\') %></span>\n            </div>\n            <% } %>\n            <% if (isSurfingActivity && hasTypedSplits) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeWaveDistance(activity.splitSummaries[0].distance) %> <%- Localizer.localize(Personalizer.getWaveDistanceUnitKey(activityType)) %></div>\n                <span class="data-label"><%- Localizer.localize(\'total_surf_distance\') %></span>\n            </div>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeWaveDistance(activity.splitSummaries[0].maxDistance) %> <%- Localizer.localize(Personalizer.getWaveDistanceUnitKey(activityType)) %></div>\n                <span class="data-label"><%- Localizer.localize(\'surf_longest_wave_label\') %></span>\n            </div>\n            <% } %>\n        </div>\n        <% } %>\n\n        <div id="speedStatsSurfingPlaceholder"></div>\n\n        <% if (hasCalories) { %>\n            <div id="caloriesPlaceholder"></div>\n        <% } %>\n\n        <% if(showRespirationRateData) { %>\n            <div class="stat-block respiration-block">\n                <h3><%- Localizer.localize(\'label_respiration_rate\') %></h3>\n                <div class="data-block small">\n                    <div class="data-bit"><%- Personalizer.personalizeRespiration(activity.avgRespirationRate) %> <%- Localizer.localize(Personalizer.getRespirationUnitKey()) %></div>\n                    <span class="data-label"><%- Localizer.localize(\'label_average_respiration_rate\') %></span>\n                </div>\n                <% if (filteredRespirationRateData.minRespirationRate) { %>\n                    <div class="data-block small">\n                        <div class="data-bit"><%- Personalizer.personalizeRespiration(activity.minRespirationRate) %> <%- Localizer.localize(Personalizer.getRespirationUnitKey()) %></div>\n                        <span class="data-label"><%- Localizer.localize(\'label_min_respiration_rate\') %></span>\n                    </div>\n                <% } %>\n                <% if (filteredRespirationRateData.maxRespirationRate) { %>\n                    <div class="data-block small">\n                        <div class="data-bit"><%- Personalizer.personalizeRespiration(activity.maxRespirationRate) %> <%- Localizer.localize(Personalizer.getRespirationUnitKey()) %></div>\n                        <span class="data-label"><%- Localizer.localize(\'label_max_respiration_rate\') %></span>\n                    </div>\n                <% } %>\n            </div>\n        <% } %>\n\n        <div id="divingSetPointStatsPlaceholder"></div>\n\n        <% if (adaptiveRating && activity.summaryDTO.atpPlanId) { %>\n            <div class="stat-block">\n                <h3><a class="colored" href="<%- url(\'/training-plans/plan/\' + activity.summaryDTO.atpPlanId) %>"><%- Localizer.localize(\'training_plan_title\') %></a></h3>\n                <div class="data-block small">\n                    <div class="data-bit"><%- Localizer.localize(adaptiveRating) %></div>\n                    <span class="data-label"><%- Localizer.localize(\'training_plan_rating_title\') %></span>\n                </div>\n            </div>\n        <% } %>\n\n        <% if (activity.maxGforce) { %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(\'label_g_force\') %></h3>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.formatDecimalNumber(activity.maxGforce, 1, false) %> <%- Localizer.localize(\'g_force_unit\') %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_max_g_force\') %></span>\n            </div>\n        </div>\n        <% } %>\n        <div id="connectIQMeasurementPlaceholder"></div>\n        <div id="vectorAirMeasurementPlaceholder"></div>\n        <div id="executionScoreInfo" class="stat-block"></div>\n        <div id="selfEvaluation"></div>\n    </div>\n    <div class="span3">\n        <div id="trainingEffectStatsPlaceholder"></div>\n        <div id="heartRateStatsPlaceholder"></div>\n        <div id="timingStatsPlaceholder"></div>\n        <div id="divingConditionsPlaceholder"></div>\n    </div>\n    <div class="span3">\n        <div id="waterTemperaturePlaceholder"></div>\n        <div id="divingWeightPlaceholder"></div>\n        <div id="divingExposureSuitPlaceholder"></div>\n        <div id="timingStatsYogaPlaceholder"></div>\n        <div id="timingStatsFloorClimbingPlaceholder"></div>\n        <div id="timingStatsIndoorClimbPlaceholder"></div>\n        <div id="timingStatsSurfingPlaceholder"></div>\n        <div id="timingSurfClimbPlaceholder"></div>\n        <div id="workoutDetailsStatsPlaceholder"></div>\n        <div id="powerStatsPlaceholder"></div>\n        <div id="stressStatsPlaceholder"></div>\n        <% if (activity.elevationGain || activity.elevationLoss) {    %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(Personalizer.getElevationLabelKey(activityType)) %></h3>\n            <% if (showElevationGain) { %>\n                <div class="data-block small">\n                    <div class="data-bit"><%- Personalizer.personalizeElevation(activity.elevationGain) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                    <span class="data-label"><%- Localizer.localize(Personalizer.getElevGainLabelKey(activityType)) %></span>\n                </div>\n            <% } %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(activity.elevationLoss) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getElevLossLabelKey(activityType)) %></span>\n\n            </div>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(activity.minElevation) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getElevMinLabelKey(activityType)) %></span>\n            </div>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeElevation(activity.maxElevation) %> <%- Localizer.localize(Personalizer.getElevationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getElevMaxLabelKey(activityType)) %></span>\n            </div>\n        </div>\n        <% } %>\n        <div id="workoutIntervalsStatsPlaceholder"></div>\n    </div>\n    <div class="span3">\n        <div id="ascentStatsView"></div>\n        <% if (activity.averageBikeCadence || activity.maxBikeCadence) { %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(Personalizer.getCadenceTypeLabelKey(activityType)) %></h3>\n            <% if (activity.averageBikeCadence) { %>\n            <div class="data-block small">\n\n                <div class="data-bit"><%- Personalizer.personalizeCadence(activity.averageBikeCadence, activityType) %> <%- Localizer.localize(Personalizer.getCadenceUnitKey(activity.activityTypeDTO.typeKey)) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getAvgCadenceTypeLabelKey(activity.activityTypeDTO.typeKey)) %></span>\n            </div>\n            <% } %>\n            <% if (activity.maxBikeCadence) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeCadence(activity.maxBikeCadence, activityType) %> <%- Localizer.localize(Personalizer.getCadenceUnitKey(activity.activityTypeDTO.typeKey)) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getMaxCadenceTypeLabelKey(activity.activityTypeDTO.typeKey)) %></span>\n            </div>\n            <% } %>\n        </div>\n        <% } %>\n\n        <% if (showCyclingDynamics) { %>\n            <div id="cyclingDynamicsPlaceholder" class="stat-block">\n\n            </div>\n        <% } %>\n\n        <% if (activity.averageRunCadence && !skiDynamics) { %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(Personalizer.getDynamicsLabelKey(activityType)) %>\n                <% if (activity.verticalOscillation || activity.groundContactTime) { %>\n                <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.running.dynamics.label\') %>" aria-label="<%- Localizer.localize(\'help.running.dynamics.label\') %>"></i></span>\n                <% } %>\n            </h3>\n\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeCadence(activity.averageRunCadence, activityType) %> <%- Localizer.localize(Personalizer.getCadenceUnitKey(activity.activityTypeDTO.typeKey)) %></div>\n                <% var cadenceLabel = Localizer.localize(Personalizer.getAvgCadenceTypeLabelKey(activity.activityTypeDTO.typeKey)); %>\n                <span class="data-label"><%- cadenceLabel %>\n                    <span class="help-icon avg-cadence-help"><i class="icon-help has-tooltip" title="<%- getAvgCadenceHelpTooltipText(activity) %>" aria-label="<%- getAvgCadenceHelpTooltipText(activity) %>"></i></span>\n                </span>\n            </div>\n\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeCadence(activity.maxRunCadence, activityType) %> <%- Localizer.localize(Personalizer.getCadenceUnitKey(activity.activityTypeDTO.typeKey)) %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getMaxCadenceTypeLabelKey(activity.activityTypeDTO.typeKey)) %></span>\n            </div>\n\n            <% if (activity.strideLength) {          %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeAvgStrideLength(activity.strideLength) %> <%- Localizer.localize(Personalizer.getAvgStrideLengthUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_stride_length\') %></span>\n                <span class="help-icon avg-stride-length-help"><i class="icon-help has-tooltip" title="<%- getAvgStrideLengthHelpTooltipText(activity) %>" aria-label="<%- getAvgStrideLengthHelpTooltipText(activity) %>"></i></span>\n            </div>\n            <% } %>\n\n            <% if (activity.verticalRatio) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeVerticalRatio(activity.verticalRatio) %> <%- Localizer.localize(Personalizer.getVerticalRatioUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_vertical_ratio\') %>\n                <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.running.dynamics.avg.ratio.label\') %> <%- Localizer.localize(\'help_running_dynamics_not_including_zeros_standing\', Localizer.localize(\'label_avg_vertical_ratio\')) %>" aria-label="<%- Localizer.localize(\'help.running.dynamics.avg.ratio.label\') %> <%- Localizer.localize(\'help_running_dynamics_not_including_zeros_standing\', Localizer.localize(\'label_avg_vertical_ratio\')) %>"></i></span>\n            </div>\n            <% }                                                %>\n\n            <% if (activity.verticalOscillation) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeVerticalOscillation(activity.verticalOscillation) %> <%- Localizer.localize(Personalizer.getVerticalOscillationUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_vertical_oscillation\') %>\n                <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.running.dynamics.avg.oscillation.label\') %> <%- Localizer.localize(\'help_running_dynamics_not_including_zeros_standing\', Localizer.localize(\'label_avg_vertical_oscillation\')) %>" aria-label="<%- Localizer.localize(\'help.running.dynamics.avg.oscillation.label\') %> <%- Localizer.localize(\'help_running_dynamics_not_including_zeros_standing\', Localizer.localize(\'label_avg_vertical_oscillation\')) %>"></i></span>\n            </div>\n            <% }                                                %>\n\n            <% if (activity.groundContactBalanceLeft) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Localizer.localize(Personalizer.getPowerBalanceUnitKey(), Personalizer.formatDecimalNumber(activity.groundContactBalanceLeft, 1), Personalizer.formatDecimalNumber(100 - activity.groundContactBalanceLeft, 1)) %></div>\n                <span class="data-label"><%= Localizer.localize(\'label_avg_gct_balance\') %></span>\n                <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.running.dynamics.gct.balance.tooltip\') %> <%= Localizer.localize(\'help_running_dynamics_not_including_zeros_standing_walking\', Localizer.localize(\'help.running.dynamics.gct.balance\')) %>" aria-label="<%- Localizer.localize(\'help.running.dynamics.gct.balance.tooltip\') %> <%= Localizer.localize(\'help_running_dynamics_not_including_zeros_standing_walking\', Localizer.localize(\'help.running.dynamics.gct.balance\')) %>"></i></span>\n            </div>\n            <% }                                                %>\n\n            <% if (activity.groundContactTime) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeGroundContactTime(activity.groundContactTime) %> <%- Localizer.localize(Personalizer.getGroundContactTimeUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_ground_contact_time\') %>\n                <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.running.dynamics.avg.ground.contact.label\') %> <%- Localizer.localize(\'help_running_dynamics_not_including_zeros_standing_walking\', Localizer.localize(\'help.running.dynamics.gct\')) %>" aria-label="<%- Localizer.localize(\'help.running.dynamics.avg.ground.contact.label\') %> <%- Localizer.localize(\'help_running_dynamics_not_including_zeros_standing_walking\', Localizer.localize(\'help.running.dynamics.gct\')) %>"></i></span>\n            </div>\n            <% }                                                %>\n\n        </div>\n        <% }                    %>\n\n\n        <% if (activity.averageSwimCadence || activity.strokeRate) { %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(\'label_swimming_dynamics\') %></h3>\n\n            <% if (activity.totalNumberOfStrokes) {      %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeStrokes(activity.totalNumberOfStrokes) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_total_swim_strokes\') %></span>\n            </div>\n            <% }                                                    %>\n\n            <% if (activity.averageSwimCadence) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeStrokes(activity.averageSwimCadence) %> <%- Localizer.localize(Personalizer.getStrokeRateUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_stroke_rate\') %></span>\n            </div>\n            <% }                                                    %>\n\n            <% if (activity.maxSwimCadence) { %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeStrokes(activity.maxSwimCadence) %> <%- Localizer.localize(Personalizer.getStrokeRateUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_max_stroke_rate\') %></span>\n            </div>\n            <% }                                                    %>\n\n            <% if (activity.averageStrokes) {        %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeCadence(activity.averageStrokes, activityType) %>/<%- Localizer.localize(\'average_swim_strokes_unit\') %></div>\n                <span class="data-label"><%- Localizer.localize(Personalizer.getAvgCadenceTypeLabelKey(activity.activityTypeDTO.typeKey)) %></span>\n            </div>\n            <% }                                                    %>\n\n\n            <% if (activity.averageSWOLF) {      %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeSwolf(activity.averageSWOLF) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_swolf\') %>\n                    <span class="help-icon"><i class="icon-help has-tooltip" title="<%- Localizer.localize(\'help.stats.avgSWOLF.label\') %>" aria-label="<%- Localizer.localize(\'help.stats.avgSWOLF.label\') %>"></i></span>\n                </span>\n            </div>\n            <% }                                            %>\n\n        </div>\n        <% }                                                %>\n\n\n        <% if (activity.averageTemperature != null && !isDivingActivity && !isBreathworkActivity) {    %>\n        <div class="stat-block">\n            <h3><%- Localizer.localize(\'label_temperature\') %></h3>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeTemperature(activity.averageTemperature) %> <%- Localizer.localize(Personalizer.getTemperatureUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_avg_temp\') %></span>\n            </div>\n\n            <% if (activity.minTemperature != null) {    %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeTemperature(activity.minTemperature) %> <%- Localizer.localize(Personalizer.getTemperatureUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_min_temp\') %></span>\n            </div>\n            <% }                                                     %>\n\n            <% if (activity.maxTemperature != null) {    %>\n            <div class="data-block small">\n                <div class="data-bit"><%- Personalizer.personalizeTemperature(activity.maxTemperature) %> <%- Localizer.localize(Personalizer.getTemperatureUnitKey()) %></div>\n                <span class="data-label"><%- Localizer.localize(\'label_max_temp\') %></span>\n            </div>\n            <% }                                                    %>\n        </div>\n        <% }                                                        %>\n\n        <% if (hasStrokesData) { %>\n        <div id="strokesPlaceholder" class="stat-block"></div>\n        <% }  %>\n    </div>\n</div>\n'
    },
    4474: function(t, e) {
        t.exports = '<div class="stat-block">\n    <h3><%- Localizer.localize(\'label_stress\') %></h3>\n\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeStress(stressChange) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_stress_change\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeStress(startStress) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_stress_start_level\') %></span>\n    </div>\n    <div class="data-block small">\n        <div class="data-bit"><%- Personalizer.personalizeStress(endStress) %></div>\n        <span class="data-label"><%- Localizer.localize(\'label_stress_end_level\') %></span>\n    </div>\n</div>'
    },
    4475: function(t, e, i) {
        "use strict";
        (function(t, a) {
            var n = i(3)
              , r = i(9)
              , o = i.n(r)
              , s = i(0)
              , l = i.n(s)
              , c = i(8)
              , h = i(13)
              , p = i(2565)
              , d = i(2566)
              , u = i(2567)
              , m = i(5185)
              , f = i(5173)
              , g = i(4484)
              , y = i(2569)
              , v = i(93)
              , b = i(1685)
              , A = i(1295)
              , _ = i(1359)
              , C = i(37)
              , w = i(4487)
              , x = i(4488)
              , S = i.n(x)
              , T = i(1675)
              , E = {
                DisplayWeightEntryPopup: "DisplayWeightEntryPopup",
                WeightChangedFromSplits: "WeightChangedFromSplits"
            }
              , k = function(t, e) {
                return t.order < e.order ? -1 : t.order > e.order ? 1 : 0
            }
              , L = function(t, e) {
                return void 0 !== o.a.find(e, function(e) {
                    return e.fieldName === t
                })
            }
              , P = function(t) {
                return o.a.max(t, function(t) {
                    return t.order
                }).order
            }
              , I = function(t, e) {
                return o.a.has(t, e) ? o.a.omit(t, e) : o.a.omit(t, function(t, i, a) {
                    return t === e
                })
            }
              , z = function(e) {
                var i = 0
                  , a = e ? e.length : 0;
                if (e && a > 0) {
                    for (var n = o.a.has(e[0], "swimStroke") ? e[0].swimStroke : ""; i < a; i += 1)
                        if (e[i])
                            for (var r in e[i])
                                if ("swimStroke" === r) {
                                    var s = t.trim(e[i][r]).toUpperCase();
                                    if (null !== s && s !== t.trim(n).toUpperCase())
                                        return "MIXED"
                                }
                    return n
                }
                return null
            }
              , B = function(t) {
                return 0 === t.numberOfActiveLengths && 1 === t.lengthDTOs.length
            }
              , D = {
                getActivityTypeString: function(t) {
                    return h.a.getSpeedTypeFromActivityType(t).toUpperCase()
                },
                getSpeedParams: function(t, e, i) {
                    return [t, e, o.a.has(i || {}, "unitKey") ? i.unitKey : null]
                },
                getDistanceParams: function(t, e, i) {
                    return [t, e, i]
                },
                getCadence: function(t, e) {
                    return [t, e]
                },
                getSwimSpeedParams: function(t, e, i) {
                    var a = o.a.has(i || {}, "unitKey") ? i.unitKey : "none";
                    return [t, "meter" === a ? h.a.MeasurementSystems.METRIC : "yard" === a ? h.a.MeasurementSystems.STATUTE_US : void 0]
                }
            }
              , M = {
                splits: {
                    headerClass: "sortable-header-row"
                },
                intervals: {
                    isParent: !0,
                    isParentExpanded: !1,
                    isChildSelected: !1,
                    parentClass: "table-row-parent interval interval-",
                    childClass: "table-row-child length interval-",
                    toggleOpenClass: "table-row-parent-toggle-open",
                    toggleCloseClass: "table-row-parent-toggle-close",
                    subGridModelkey: "lengthDTOs",
                    isRest: !1,
                    restClass: "rest rest-",
                    lapIndex: 0,
                    restIndex: 0
                }
            }
              , O = function(e, i) {
                for (var a = 0, n = [], r = e.length; a < r; a += 1) {
                    var o = e[a];
                    o && o.order > 0 ? n.push(o) : L(o.fieldName, i) && n.push(t.extend(o, {
                        order: P(n) + 1
                    }))
                }
                return n.sort(k),
                n
            }
              , R = function(t) {
                return t ? '<a class="colored" href="#weight-popup" data-toggle="modal">' + c.a.localize("no_weight") + "</a>" : null
            }
              , N = function(e, i, a, n) {
                var r = {}
                  , s = {};
                for (var l in e)
                    if (l || e[l]) {
                        var c = o.a.filter(i, function(t) {
                            return t.fieldName === l
                        });
                        if (c && c.length > 0)
                            for (var p = 0; p < c.length; p += 1)
                                if (c[p].fieldName !== M.intervals.subGridModelkey) {
                                    var d = null;
                                    d = o.a.has(e, c[p].displayLabel) ? e[c[p].displayLabel] : e[l],
                                    c[p].personalizer && d ? r[c[p].displayLabel] = c[p].personalizer.apply(h.a, c[p].personalizerParams ? c[p].personalizerParams(d, a) : [d]) : null === d && c[p].nullCallback && "function" === typeof c[p].nullCallback ? r[c[p].displayLabel] = c[p].nullCallback.call(this, n) : r[c[p].displayLabel] = d
                                }
                    }
                p = 0;
                for (var u = !1, m = i.length; p < m; p += 1)
                    if (i[p]) {
                        for (var f in r)
                            f && t.trim(f).toUpperCase() === t.trim(i[p].displayLabel).toUpperCase() && (s[f] = r[f],
                            u = !0);
                        u || (s[i[p].displayLabel] = null),
                        u = !1
                    }
                return s
            }
              , V = function(e) {
                for (var i = 0, a = e.colModel.length, n = {}, r = !1; i < a; i += 1) {
                    for (var s in e.list) {
                        var l = e.colModel[i].fieldName
                          , c = e.colModel[i].displayLabel
                          , p = t.trim(s).toUpperCase();
                        if (p === t.trim(l).toUpperCase() || p === t.trim(c).toUpperCase())
                            if (r = !0,
                            e.colModel[i].personalizer && e.list[s] > 0)
                                n[c] = e.colModel[i].personalizer.apply(h.a, e.colModel[i].personalizerParams ? e.colModel[i].personalizerParams(e.list[s], e.activityTypeKey, e.poolUnit) : [e.list[s]]);
                            else if (e.isChild && null === e.list[s])
                                switch (s) {
                                case "numberOfActiveLengths":
                                    n.numberOfActiveLengths = 1;
                                    break;
                                default:
                                    c && (n[c] = e.list[s])
                                }
                            else
                                switch (s) {
                                case "lapIndex":
                                    n[l] = e.lapIndex ? e.lapIndex : e.list[s];
                                    break;
                                case "numberOfActiveLengths":
                                    0 !== e.list[s] && null !== e.list[s] || (n.lapIndex = e.restIndex),
                                    c && (n[c] = e.list[s]);
                                    break;
                                case "lengthDTOs":
                                    n.lengthDTOs = e.list[s];
                                    break;
                                default:
                                    c && (n[c] = e.list[s])
                                }
                    }
                    r || (e.isChild ? o.a.contains(["lapIndex", "lengthDTOs"], l) || (n[l] = null) : "swimStroke" !== l || e.isRest ? c && (n[c] = null) : n.swimStroke = e.swimStroke),
                    r = !1
                }
                return n
            }
              , j = function(t, e) {
                var i = 0;
                if (t instanceof Array) {
                    for (var a = 0; a < t.length; a += 1)
                        if (t[a]) {
                            var n = t[a];
                            n.label_cum_time = i + n.duration,
                            i = n.label_cum_time,
                            F(n, e)
                        }
                } else
                    t.label_cum_time = t.duration,
                    e && e > 0 ? (t.label_avg_power_kg = h.a.personalizePowerKg(t.averagePower / e),
                    t.label_max_power_kg = h.a.personalizePowerKg(t.maxPower / e)) : (t.label_avg_power_kg = null,
                    t.label_max_power_kg = null)
            }
              , F = function(t, e) {
                e && e > 0 ? (t.averagePower && t.averagePower > 0 && (t.label_avg_power_kg = h.a.personalizePowerKg(t.averagePower / e),
                "" === t.label_avg_power_kg && (t.label_avg_power_kg = 0)),
                t.maxPower && t.maxPower > 0 && (t.label_max_power_kg = h.a.personalizePowerKg(t.maxPower / e),
                "" === t.label_max_power_kg && (t.label_max_power_kg = 0))) : (t.label_avg_power_kg = null,
                t.label_max_power_kg = null)
            }
              , G = function(t, e) {
                var i = o.a.find(e, function(t) {
                    return o.a.has(t, "showSortIcon") && t.showSortIcon
                });
                if (i) {
                    t.sort(function(t, e) {
                        var a = i.fieldName;
                        if (i.class.indexOf("ascending") > -1) {
                            if (t[a] < e[a])
                                return -1;
                            if (t[a] > e[a])
                                return 1
                        } else {
                            if (t[a] > e[a])
                                return -1;
                            if (t[a] < e[a])
                                return 1
                        }
                        return 0
                    })
                }
                return t
            }
              , U = l.a.View.extend({
                template: o.a.template(S.a),
                events: {
                    "click thead tr.sortable-header-row > th": "onSplitColumnHeaderClicked",
                    "click tbody > tr": "onRowClicked",
                    "click .table-row-parent-toggle": "onIntervalClicked",
                    'click a[href="#weight-popup"]': "onNoWeightLinkInFooterClicked"
                },
                defaultSettings: {
                    activitySummary: null,
                    isLapSwimming: !1,
                    isSwimmingActivity: !1,
                    isStrengthTrainingActivity: !1,
                    isAutoRacingActivity: !1,
                    isResortSkiActivity: !1,
                    isCrosscountrySkiActivity: !1,
                    lapIndexLabel: "splits",
                    activityTypeKey: null,
                    poolUnit: null,
                    columns: {},
                    colModel: [],
                    footerModel: {},
                    data: [],
                    activityTypedSplits: []
                },
                initialize: function(t) {
                    return this.isOwner = t.isOwner,
                    this.usersWeight = this.isOwner ? t.usersWeight : null,
                    this.connectIQPresentationUtil = null,
                    this.canDisplayVectorAirInfo = t.canDisplayVectorAirInfo,
                    this.parentType = t.parentType,
                    this.hasIntensityIntervals = t.hasIntensityIntervals,
                    this.canViewIntervals = t.canViewIntervals,
                    this.hasTypedSplits = t.hasTypedSplits,
                    this.indoorClimbDifficulty = t.indoorClimbDifficulty,
                    this
                },
                setData: function(e) {
                    this.settings = t.extend(!0, {}, this.defaultSettings);
                    var i = this.settings;
                    i.activityTypeKey = e.activityTypeKey,
                    i.activitySummary = e.activitySummary.attributes,
                    i.isLapSwimming = i.activitySummary.poolLength || i.activitySummary.poolLength > 0,
                    i.poolUnit = i.activitySummary.unitOfPoolLength ? i.activitySummary.unitOfPoolLength : null,
                    i.lapIndexLabel = i.isLapSwimming ? "intervals" : "splits.laps",
                    i.isSwimmingActivity = e.activitySummary.isSwimming(),
                    i.isStrengthTrainingActivity = C.a.isStrengthTrainingActivity(e.activityTypeKey),
                    i.isAutoRacingActivity = C.a.isAutoRacingActivity(e.activityTypeKey),
                    i.isResortSkiActivity = C.a.isResortSkiActivity(e.activityTypeKey),
                    i.isOnShoreGrindingActivity = C.a.isOnShoreGrindingActivity(e.activityTypeKey),
                    i.isOffShoreGrindingActivity = C.a.isOffShoreGrinding(e.activityTypeKey),
                    i.isCrosscountrySkiActivity = C.a.isCrosscountrySkiActivity(e.activityTypeKey) || C.a.isSkateSkiActivity(e.activityTypeKey),
                    this.activitySummary = e.activitySummary,
                    this.model = t.extend(!0, {}, e.model),
                    this.activityWorkouts = e.activityWorkouts,
                    this.activityTypedSplits = e.activityTypedSplits,
                    this.splitSummaries = e.splitSummaries,
                    this.hasLapIntensityType() ? this.updateModelWithFormattedLapIntensity() : this.updateModelWithActivityWorkouts(this.model, this.activityWorkouts),
                    this.init(this.model.get("lapDTOs")),
                    this.parentType = e.parentType
                },
                hasLapIntensityType: function() {
                    return this.model.get("lapDTOs").find(function(t) {
                        return t.intensityType
                    })
                },
                updateModelWithActivityWorkouts: function(t, e) {
                    e && e.length > 0 && o.a.each(t.get("lapDTOs"), function(t) {
                        var i = t.wktIndex
                          , a = o.a.find(e, function(t) {
                            return t.index === i
                        });
                        if (a) {
                            var n = o.a.find(a.steps, function(e) {
                                return e.stepIndex === t.wktStepIndex
                            });
                            n && (t.intensityType = this.getIntensityLabel(n.intensity))
                        }
                    }, this)
                },
                getIntensityLabel: function(t) {
                    var e = "";
                    if ("ACTIVE" === t && A.a.IntensityTypes[_.a.titleCaseWord(t)])
                        switch (this.parentType) {
                        case A.a.SportTypes.Running:
                        case A.a.SportTypes.Cycling:
                        case A.a.SportTypes.Swimming:
                        case A.a.SportTypes.Strength_Training:
                            e = "sport.type." + this.parentType;
                            break;
                        default:
                            e = "sport.type.other"
                        }
                    else
                        e = "workout.step.type.".concat(t.toLowerCase());
                    return c.a.localize(e)
                },
                updateModelWithFormattedLapIntensity: function() {
                    var t = this;
                    this.model.get("lapDTOs").forEach(function(e) {
                        var i = e.intensityType;
                        e.intensityType = b.a.getIntervalType("INTERVAL_".concat(i), t.parentType)
                    })
                },
                render: function() {
                    (this.$el.html(this.template({
                        Localizer: c.a,
                        colModel: this.settings.colModel,
                        isLapSwimming: this.settings.isLapSwimming,
                        hasIntensityIntervals: this.hasIntensityIntervals,
                        hasTypedSplits: this.hasTypedSplits,
                        canViewIntervals: this.canViewIntervals
                    })),
                    this.renderHeader(),
                    this.renderBody(),
                    this.renderFooter(),
                    this.settings.isLapSwimming) && new g.a({
                        model: this.model,
                        activitySummary: this.activitySummary,
                        el: this.$("#intervals-graphical")
                    }).render();
                    return this.hasTypedSplits ? this.renderSplits() : this.hasIntensityIntervals && this.canViewIntervals && this.renderIntervals(),
                    this
                },
                renderIntervals: function() {
                    this.activityIntervalsTabView = new m.a({
                        el: this.$(".typed-splits-intervals-placeholder"),
                        colModel: this.settings.colModel,
                        data: this.getSplitIntervalsTableData(this.settings.data),
                        footerModel: this.settings.footerModel,
                        splitSummaries: this.getSplitSummaries(),
                        activityTypedSplits: this.getSplitIntervalsTableData(this.settings.activityTypedSplits),
                        activityTypeKey: this.settings.activityTypeKey,
                        parentActivityType: this.parentType
                    }).render()
                },
                renderSplits: function() {
                    this.activityTypedSplitsView = new f.a({
                        el: this.$(".typed-splits-placeholder"),
                        activityTypeKey: this.settings.activityTypeKey,
                        activitySummary: this.settings.activitySummary,
                        activitySplits: this.activityTypedSplits.toJSON(),
                        indoorClimbDifficulty: this.indoorClimbDifficulty
                    }).render()
                },
                getSplitIntervalsTableData: function(t) {
                    var e = this
                      , i = []
                      , a = G(t, this.settings.colModel);
                    return j(a, this.usersWeight),
                    t.forEach(function(t) {
                        i.push(N(t, e.settings.colModel, e.settings.activityTypeKey, e.isOwner))
                    }),
                    i
                },
                getSplitSummaries: function() {
                    var t = this
                      , e = {};
                    return this.splitSummaries.forEach(function(i) {
                        var a = i.toJSON()
                          , n = a.splitType;
                        a.intervalIndex = c.a.localize("label_summary"),
                        a.lapIndex = "--",
                        a.type = "--",
                        e[n] = N(a, t.settings.colModel, t.settings.activityTypeKey, t.isOwner)
                    }),
                    e
                },
                init: function(t) {
                    var e, i = this.settings, a = this.activityWorkouts && this.activityWorkouts.length > 0;
                    for (var n in i.footerModel.lapIndex = "label_summary",
                    a && (i.footerModel.intensityType = c.a.localize("workout.stepType.workout")),
                    this.hasIntensityIntervals && this.canViewIntervals && (i.footerModel.intervalIndex = c.a.localize("label_summary"),
                    i.footerModel.lapIndex = "--",
                    i.footerModel.type = "--"),
                    i.activitySummary)
                        n && null !== i.activitySummary[n] && (i.columns[n] = {
                            order: -1,
                            fieldName: e = n,
                            displayLabel: e,
                            class: "",
                            showSortIcon: !1,
                            personalizer: null
                        },
                        i.footerModel[n] = i.activitySummary[n]);
                    t && (this.parseDataFromAPI(t),
                    this.hasIntensityIntervals && this.canViewIntervals && this.parseTypedSplitsData()),
                    this.hasIntensityIntervals && this.canViewIntervals ? i.colModel = O(b.a.getMasterColumnConfig({
                        isSwimmingActivity: i.isSwimmingActivity,
                        activityTypeKey: this.settings.activityTypeKey,
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo,
                        personalizerParams: D,
                        getWeightLink: R()
                    }), i.columns) : i.colModel = O(function(t) {
                        var e = h.a.getSpeedTypeFromActivityType(t.activityTypeKey)
                          , i = h.a.getAvgSpeedTypeLabelKey(t.activityTypeKey)
                          , a = h.a.getAvgMovingSpeedTypeLabelKey(t.activityTypeKey)
                          , n = h.a.getMaxSpeedTypeLabelKey(t.activityTypeKey)
                          , r = [];
                        if (t.isLapSwimming)
                            r = w.a.getLapSwimming(t, D, e, i, n);
                        else if (t.isStrengthTrainingActivity)
                            r = w.a.getStrengthTraining(t);
                        else if (t.isAutoRacingActivity)
                            r = w.a.getAutoRacing();
                        else if (t.isResortSkiActivity)
                            r = w.a.getResortSki(t, D);
                        else if (t.isCrosscountrySkiActivity)
                            r = w.a.getCrossCountrySki(t, D);
                        else if (t.isOnShoreGrindingActivity)
                            r = w.a.getOnShoreGrinding(t, D);
                        else if (t.isOffShoreGrindingActivity)
                            r = w.a.getOffShoreGrinding(t, D);
                        else {
                            var o = h.a.getElevGainLabelKey(t.activityTypeKey)
                              , s = h.a.getElevLossLabelKey(t.activityTypeKey);
                            (r = [{
                                order: 1,
                                fieldName: "lapIndex",
                                displayLabel: t.lapIndexLabel,
                                class: "ascending",
                                showSortIcon: !0,
                                personalizer: null
                            }, {
                                order: 2,
                                fieldName: "duration",
                                displayLabel: "label_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 3,
                                fieldName: "duration",
                                displayLabel: "label_cum_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }, {
                                order: 4,
                                fieldName: "distance",
                                displayLabel: "label_distance",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDistance,
                                personalizerParams: D.getDistanceParams
                            }, {
                                order: -1,
                                fieldName: "averageSpeed",
                                displayLabel: i,
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeSpeed,
                                personalizerParams: D.getSpeedParams
                            }, {
                                order: -1,
                                fieldName: "averageHR",
                                displayLabel: "label_avg_HR",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeHeartRate
                            }, {
                                order: -1,
                                fieldName: "maxHR",
                                displayLabel: "label_max_HR",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeHeartRate
                            }, {
                                order: -1,
                                fieldName: "elevationGain",
                                displayLabel: o,
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeElevation
                            }, {
                                order: -1,
                                fieldName: "elevationLoss",
                                displayLabel: s,
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeElevation
                            }, {
                                order: -1,
                                fieldName: "averageRunCadence",
                                displayLabel: "label_avg_run_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: D.getCadence
                            }, {
                                order: -1,
                                fieldName: "groundContactTime",
                                displayLabel: "label_avg_ground_contact_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeGroundContactTime
                            }, {
                                order: -1,
                                fieldName: "groundContactBalanceLeft",
                                displayLabel: "label_avg_gct_balance",
                                class: "",
                                showSortIcon: !1,
                                personalizer: function(t) {
                                    var e = t
                                      , i = 100 - e;
                                    return c.a.localize(h.a.getPowerBalanceUnitKey(), h.a.formatDecimalNumber(e, 1), h.a.formatDecimalNumber(i, 1))
                                }
                            }, {
                                order: -1,
                                fieldName: "strideLength",
                                displayLabel: "label_avg_stride_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeAvgStrideLength
                            }, {
                                order: -1,
                                fieldName: "verticalOscillation",
                                displayLabel: "label_avg_vertical_oscillation",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeVerticalOscillation
                            }, {
                                order: -1,
                                fieldName: "verticalRatio",
                                displayLabel: "label_avg_vertical_ratio",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeVerticalRatio
                            }, {
                                order: -1,
                                fieldName: "averageStrokeCadence",
                                displayLabel: "label_avg_stroke_rate",
                                class: "",
                                showSortIcon: !1,
                                personalizer: null
                            }, {
                                order: -1,
                                fieldName: "maxStrokeCadence",
                                displayLabel: "label_max_stroke_rate",
                                class: "",
                                showSortIcon: !1,
                                personalizer: null
                            }, {
                                order: -1,
                                fieldName: "averageStrokeDistance",
                                displayLabel: "label_avg_distance_per_stroke",
                                class: "",
                                showSortIcon: !1,
                                personalizer: function(e) {
                                    return h.a.personalizeDistanceValue(h.a.isPaddleBoardingActivity(t.activityTypeKey) ? h.a.convertDistancePerStroke(e) : e)
                                }
                            }]).push({
                                order: -1,
                                fieldName: "averageBikeCadence",
                                displayLabel: "label_avg_bike_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: D.getCadence
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxBikeCadence",
                                displayLabel: "label_max_bike_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: D.getCadence
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averageSwimCadence",
                                displayLabel: "label_avg_swim_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: D.getCadence
                            }),
                            r.push({
                                order: -1,
                                fieldName: "minSwimCadence",
                                displayLabel: "label_max_swim_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: D.getCadence
                            }),
                            r.push({
                                order: -1,
                                fieldName: "normalizedPower",
                                displayLabel: "label_normalized_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftBalance",
                                displayLabel: "label_left_balance",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeLeftRightBalance
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightBalance",
                                displayLabel: "label_right_balance",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeLeftRightBalance
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftTorqueEffectiveness",
                                displayLabel: "label_left_torque_eff",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeTorqueEffectiveness
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightTorqueEffectiveness",
                                displayLabel: "label_right_torque_eff",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeTorqueEffectiveness
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPedalSmoothness",
                                displayLabel: "label_left_pedal_smoothness",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePedalSmoothness
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPedalSmoothness",
                                displayLabel: "label_right_pedal_smoothness",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePedalSmoothness
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averagePower",
                                displayLabel: "label_avg_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averagePower",
                                displayLabel: "label_avg_power_kg",
                                class: "",
                                showSortIcon: !1,
                                personalizer: null,
                                nullCallback: R
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxPower",
                                displayLabel: "label_max_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxPower",
                                displayLabel: "label_max_power_kg",
                                class: "",
                                showSortIcon: !1,
                                personalizer: null,
                                nullCallback: R
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxPowerTwentyMinutes",
                                displayLabel: "label_max_avg_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "standingTime",
                                displayLabel: "label_cd_total_standing_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeStandingTime
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averageStandingPower",
                                displayLabel: "label_cd_avg_standing_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxStandingPower",
                                displayLabel: "label_cd_max_standing_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "seatedTime",
                                displayLabel: "label_cd_total_seated_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeStandingTime
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averageSeatedPower",
                                displayLabel: "label_cd_avg_seated_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxSeatedPower",
                                displayLabel: "label_cd_max_seated_power",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePower
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhaseStart",
                                displayLabel: "label_cd_l_power_phase_start",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhaseEnd",
                                displayLabel: "label_cd_l_power_phase_end",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhaseStart",
                                displayLabel: "label_cd_r_power_phase_start",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhaseEnd",
                                displayLabel: "label_cd_r_power_phase_end",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhaseArcLength",
                                displayLabel: "label_cd_l_power_phase_arc_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseArcLength
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhaseArcLength",
                                displayLabel: "label_cd_r_power_phase_arc_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseArcLength
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhasePeakStart",
                                displayLabel: "label_cd_l_peak_power_phase_start",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhasePeakEnd",
                                displayLabel: "label_cd_l_peak_power_phase_end",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhasePeakStart",
                                displayLabel: "label_cd_r_peak_power_phase_start",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhasePeakEnd",
                                displayLabel: "label_cd_r_peak_power_phase_end",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseAngle
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPowerPhasePeakArcLength",
                                displayLabel: "label_cd_l_peak_power_phase_arc_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseArcLength
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPowerPhasePeakArcLength",
                                displayLabel: "label_cd_r_peak_power_phase_arc_length",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePowerPhaseArcLength
                            }),
                            r.push({
                                order: -1,
                                fieldName: "leftPlatformCenterOffset",
                                displayLabel: "label_cd_l_pco_average",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePlatformCenterOffset
                            }),
                            r.push({
                                order: -1,
                                fieldName: "rightPlatformCenterOffset",
                                displayLabel: "label_cd_r_pco_average",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizePlatformCenterOffset
                            }),
                            r.push({
                                order: -1,
                                fieldName: "calories",
                                displayLabel: "label_calories",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.formatWholeNumber
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averageTemperature",
                                displayLabel: "label_avg_temperature",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeTemperature
                            }),
                            "open_water_swimming" !== t.activityTypeKey && r.push({
                                order: -1,
                                fieldName: "maxSpeed",
                                displayLabel: n,
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeSpeed,
                                personalizerParams: D.getSpeedParams
                            }),
                            r.push({
                                order: -1,
                                fieldName: "maxRunCadence",
                                displayLabel: "label_max_run_cadence",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeCadence,
                                personalizerParams: D.getCadence
                            }),
                            t.canDisplayVectorAirInfo && (r.push({
                                order: -1,
                                fieldName: "avgCda",
                                displayLabel: "cda_unit",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.formatVectorAirCdA
                            }),
                            r.push({
                                order: -1,
                                fieldName: "avgWattsPerCda",
                                displayLabel: "wcda_unit",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.formatWholeNumber
                            })),
                            r.push({
                                order: -1,
                                fieldName: "avgFlow",
                                displayLabel: "label_flow",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.peronalizeMTBFlow
                            }),
                            r.push({
                                order: -1,
                                fieldName: "grit",
                                displayLabel: "label_grit",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.peronalizeMTBGrit
                            }),
                            r.push({
                                order: -1,
                                fieldName: "movingDuration",
                                displayLabel: "label_moving_time",
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeDuration
                            }),
                            r.push({
                                order: -1,
                                fieldName: "averageMovingSpeed",
                                displayLabel: a,
                                class: "",
                                showSortIcon: !1,
                                personalizer: h.a.personalizeSpeed,
                                personalizerParams: D.getSpeedParams
                            })
                        }
                        return r
                    }({
                        isLapSwimming: i.isLapSwimming,
                        isSwimmingActivity: i.isSwimmingActivity,
                        isStrengthTrainingActivity: i.isStrengthTrainingActivity,
                        isAutoRacingActivity: i.isAutoRacingActivity,
                        isResortSkiActivity: i.isResortSkiActivity,
                        isCrosscountrySkiActivity: i.isCrosscountrySkiActivity,
                        isOnShoreGrindingActivity: i.isOnShoreGrindingActivity,
                        isOffShoreGrindingActivity: i.isOffShoreGrindingActivity,
                        lapIndexLabel: i.lapIndexLabel,
                        activityTypeKey: i.activityTypeKey,
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo,
                        hasWorkoutSplits: a,
                        hasLapIntensityType: this.hasLapIntensityType()
                    }), i.columns),
                    i.cellClasses = this.getCellClass(i.colModel),
                    j(i.footerModel, this.usersWeight),
                    i.footerModel = this.getModel(i.footerModel, !1, !1, null, null),
                    i.footerCellClass = this.getFooterCellClass(i.colModel)
                },
                parseDataFromAPI: function(t) {
                    for (var e = 0, i = null, a = null, n = null, r = t.length, s = {}; e < r; e += 1)
                        if (i = t[e] && "function" === typeof t[e].toJSON ? t[e].toJSON() : t[e]) {
                            for (a in i)
                                o.a.has(i, a) && (n = i[a],
                                s[a] = n);
                            this.settings.data.push(s),
                            s = {}
                        }
                },
                parseTypedSplitsData: function() {
                    var t = this;
                    this.activityTypedSplits.forEach(function(e) {
                        t.settings.activityTypedSplits.push(Object(n.a)({}, e.toJSON()))
                    })
                },
                onSplitColumnHeaderClicked: function(e) {
                    e.preventDefault();
                    var i = o.a.find(this.settings.colModel, function(t) {
                        return t.showSortIcon
                    })
                      , n = t("i", e.currentTarget);
                    if (n && n.length > 0 && i) {
                        var r = n.hasClass("icon-pointer-up") ? "descending" : "ascending";
                        i.class += (-1 === i.class.indexOf(" ") ? " " : "") + r,
                        i.class = "ascending" === r ? i.class.replace("descending", "") : i.class.replace("ascending", "")
                    } else {
                        i && (i.class = i.class.replace("descending", "").replace("ascending", ""),
                        i.showSortIcon = !1);
                        var s = o.a.find(this.settings.colModel, function(i) {
                            return t.trim(c.a.localize(i.displayLabel)) === t.trim(t(e.currentTarget).text())
                        });
                        s && (a(s).removeClass("ascending").addClass("ascending"),
                        s.showSortIcon = !0)
                    }
                    this.renderHeader(),
                    this.renderBody(),
                    this.connectIQPresentationUtil && this.renderConnectIQView(this.connectIQPresentationUtil, !0)
                },
                onRowClicked: function(e) {
                    t(e.currentTarget).hasClass("active") ? t(e.currentTarget).removeClass("active") : t(e.currentTarget).addClass("active")
                },
                onIntervalClicked: function(e) {
                    e.preventDefault();
                    var i = t(e.currentTarget)
                      , a = i.hasClass(M.intervals.toggleOpenClass)
                      , n = "";
                    n = n.concat(".", a ? M.intervals.toggleCloseClass : M.intervals.toggleOpenClass);
                    var r = t(n, i.parent());
                    i.css({
                        display: "none"
                    }),
                    r.css({
                        display: "inline-block"
                    }),
                    function(e, i) {
                        var a = e.parent().parent()
                          , n = a.attr("class").match(/\binterval-(\d+)\b/)[0];
                        if (n) {
                            var r = t(".table-row-child." + n, a.parent());
                            r && o.a.each(r, function(e) {
                                t(e).css({
                                    display: i
                                });
                                var a = t("td", e);
                                a && o.a.each(a, function(e) {
                                    t(e).css({
                                        display: "none" === i ? i : "table-cell"
                                    })
                                })
                            })
                        }
                    }(i, a ? "table-row" : "none")
                },
                renderHeader: function() {
                    var t = this.$("thead", this.$el);
                    if (t && t.length > 0) {
                        t.empty();
                        var e = new p.a({
                            model: this.settings.colModel,
                            isLapSwimming: this.settings.isLapSwimming,
                            settings: this.settings.isLapSwimming ? M.intervals : M.splits
                        });
                        t.append(e.render().el)
                    }
                },
                renderBody: function() {
                    var e = this.$("tbody");
                    if (e && e.length) {
                        this.stopListening(),
                        t("tr", e).remove();
                        var i = G(this.settings.data, this.settings.colModel)
                          , a = 0
                          , n = 1
                          , r = 1
                          , s = {}
                          , l = i.length;
                        for (j(i, this.usersWeight); a < l; a += 1) {
                            var c = i[a]
                              , h = B(c)
                              , p = this.getModel(c, !1, h, n, r);
                            h ? (r += 1,
                            s = t.extend({}, M.intervals, {
                                isRest: !0,
                                restIndex: r,
                                lapIndex: n
                            }),
                            p.label_swim_stroke = "REST",
                            p.lapIndex = "") : (n += 1,
                            s = t.extend({}, M.intervals, {
                                restIndex: r,
                                lapIndex: n
                            }));
                            var d = this.getRow(I(p, M.intervals.subGridModelkey), this.settings.isLapSwimming ? s : M.splits);
                            e.append(d.render().el),
                            !h && this.settings.isLapSwimming && o.a.has(p, M.intervals.subGridModelkey) && this.renderIntervalChildRow(p, e, n)
                        }
                    }
                },
                renderFooter: function() {
                    if (this.settings.footerModel) {
                        var t = this.$("tfoot");
                        t && t.length && t.remove();
                        var e = this.$("table");
                        e && e.length && e.append(new u.a({
                            model: I(this.settings.footerModel, M.intervals.subGridModelkey),
                            isLapSwimming: this.settings.isLapSwimming,
                            isAutoRacingActivity: this.settings.isAutoRacingActivity,
                            isResortSkiActivity: this.settings.isResortSkiActivity,
                            isOnShoreGrindingActivity: this.settings.isOnShoreGrindingActivity,
                            isOffShoreGrindingActivity: this.settings.isOffShoreGrindingActivity,
                            isCrosscountrySkiActivity: this.settings.isCrosscountrySkiActivity,
                            cellClass: this.settings.footerCellClass
                        }).render().el)
                    }
                },
                setAndApplyWeight: function(t) {
                    this.usersWeight && this.usersWeight === t || (this.usersWeight = t,
                    this.init(),
                    this.renderBody(),
                    this.renderFooter())
                },
                noWeightCallback: function(t) {
                    this.setAndApplyWeight(t),
                    this.trigger(E.WeightChangedFromSplits, t)
                },
                onNoWeightLinkInFooterClicked: function(t) {
                    t.preventDefault(),
                    t.stopPropagation(),
                    this.trigger(E.DisplayWeightEntryPopup, {
                        context: this,
                        successCallback: this.noWeightCallback
                    }, this)
                },
                getModel: function(t, e, i, a, n) {
                    return this.settings.isLapSwimming ? V({
                        list: t,
                        colModel: this.settings.colModel,
                        activityTypeKey: this.settings.activityTypeKey,
                        isChild: e || !1,
                        isRest: i || !1,
                        swimStroke: i ? "" : z(t.lengthDTOs),
                        lapIndex: a,
                        restIndex: n,
                        poolUnit: this.settings.poolUnit
                    }) : N(t, this.settings.colModel, this.settings.activityTypeKey, this.isOwner)
                },
                getRow: function(t, e) {
                    var i = new d.a({
                        model: t,
                        isLapSwimming: this.settings.isLapSwimming,
                        settings: e,
                        cellClass: this.settings.cellClasses
                    });
                    return this.listenTo(i, d.a.Events.DisplayWeightEntryPopup, function(t) {
                        this.trigger(E.DisplayWeightEntryPopup, t)
                    }, this),
                    this.listenTo(i, d.a.Events.WeightChangedFromSplitsRow, function(t) {
                        this.noWeightCallback(t)
                    }, this),
                    i
                },
                getCellClass: function() {
                    for (var t = {}, e = this.settings.colModel.length, i = 0; i < e; i++)
                        this.settings.colModel[i].cellClass && (t["" + i] = this.settings.colModel[i].cellClass);
                    return t
                },
                getFooterCellClass: function() {
                    for (var t = {}, e = this.settings.colModel.length, i = 0; i < e; i++)
                        this.settings.colModel[i].footerCellClass && (t["" + i] = this.settings.colModel[i].footerCellClass);
                    return t
                },
                renderIntervalChildRow: function(t, e, i) {
                    var a = {
                        isParent: !1,
                        isParentExpanded: !1,
                        isChildSelected: !1,
                        childClass: M.intervals.childClass,
                        parentIndex: i,
                        childCount: t.lengthDTOs.length - 1,
                        childIndex: 0
                    }
                      , r = null
                      , o = t.lengthDTOs
                      , s = 0
                      , l = o.length;
                    for (j(o, this.usersWeight),
                    o = o.map(function(e, i) {
                        return Object(n.a)({}, e, {
                            lapIndex: "".concat(t.lapIndex, ".").concat(i + 1),
                            numberOfActiveLengths: 1
                        })
                    }); s < l; s += 1)
                        if (o[s]) {
                            a.childIndex = s,
                            r = V({
                                list: o[s],
                                colModel: this.settings.colModel,
                                activityTypeKey: this.settings.activitySummary,
                                isChild: !0,
                                poolUnit: this.settings.poolUnit
                            });
                            var c = this.getRow(r, a);
                            e.append(c.render().el)
                        }
                },
                renderConnectIQView: function(t, e) {
                    this.connectIQPresentationUtil = t;
                    var i = this.connectIQPresentationUtil.getVisibleAndSortedCollection(this.model.get("lapDTOs"), this.connectIQPresentationUtil.VisibilityArea.lap);
                    if (i && !o.a.isEmpty(i)) {
                        var a = function(t) {
                            var e = [];
                            if (t)
                                for (var i in t) {
                                    var a = t[i];
                                    if (a && a.data)
                                        for (var n = 0, r = a.data.length; n < r; n += 1)
                                            if (a.data[n]) {
                                                var s = o.a.find(a.fitContributionsJSON.datafields, function(t) {
                                                    return t.id === a.data[n].developerFieldNumber
                                                })
                                                  , l = new y.a(a.data[n]);
                                                s && e.push({
                                                    order: -1,
                                                    fieldName: a.data[n].developerFieldNumber,
                                                    displayLabel: a.getLocalizerString(s["label-key"]),
                                                    class: "",
                                                    showSortIcon: !1,
                                                    personalizer: h.a.formatValueByPrecision,
                                                    displayInfo: s,
                                                    helpTooltipTemplate: l.getHelpTooltipTemplate(a)
                                                })
                                            }
                                }
                            return e
                        }(i);
                        if (a && a.length > 0)
                            for (var n = this.$("thead tr"), r = this.$("tbody"), s = this.$("tfoot tr"), l = 0, p = a.length; l < p; l += 1)
                                a[l] && (n.append("<th>" + c.a.localize(a[l].displayLabel) + a[l].helpTooltipTemplate + "</th>"),
                                this.renderCIQBody(i, a[l], r),
                                e || s.append("<td>--</td>"));
                        v.a.renderTooltips.call(this)
                    }
                },
                renderCIQBody: function(e, i, a) {
                    var n, r, s = t("tr:first", a);
                    if (a && a.length > 0 && (n = o.a.find(e, function(t) {
                        return i.displayLabel.indexOf(t.getAppId()) > -1
                    }),
                    n = o.a.find(n.data, function(t) {
                        return !(!t || !t.developerFieldNumber) && t.developerFieldNumber === i.fieldName
                    })))
                        for (var l = 0, c = n.values.length; l < c; l += 1)
                            (r = n.values[l]) && s && s.length > 0 && (s.append("<td>" + i.personalizer.apply(h.a, [r, i.displayInfo.precision]) + "</td>"),
                            s = s.next())
                },
                exportToCSV: function() {
                    var t = this.$("table")[0];
                    Object(T.a)(t, "activity_".concat(this.settings.activitySummary.activityId, ".csv"))
                }
            });
            U.Events = E,
            e.a = U
        }
        ).call(this, i(10), i(10))
    },
    4476: function(t, e) {
        t.exports = "<% if (model && model.length > 0) { %>\n    <% if (isLapSwimming) { %>\n        <th>&nbsp;</th>\n    <% } %>\n    <% var i = 0, max = model.length; %>\n    <% for (i; i < max; i += 1) { %>\n        <% if (model[i]) { %>\n            <% if (isLapSwimming && model[i].hasOwnProperty('displayLabel')) { %>\n               <th><%= Localizer.localize(model[i].displayLabel) %></th>\n            <% } else if (!isLapSwimming) { %>\n                <th class=\"<%- model[i].class %>\"><%= Localizer.localize(model[i].displayLabel) %>\n                <% if (model[i].showSortIcon) { %>\n                    <i class=\"<%- (model[i].class === 'ascending' || model[i].class.indexOf('ascending') > -1) ? 'icon-pointer-up' : 'icon-pointer-down' %>\"></i>\n                <% } %>\n                </th>\n            <% } %>\n        <% } %>\n    <% } %>\n<% } %>"
    },
    4477: function(t, e) {
        t.exports = '<% if (isLapSwimming) { %>\n    <% if (settings.isParent) { %>\n        <% if (settings.isRest || model[\'swimStroke\'] == "DRILL") { %>\n            <td>&nbsp;</td>\n        <% } else { %>\n        <td>\n            <button class="table-row-parent-toggle table-row-parent-toggle-open" \n                    aria-label="<%- Localizer.localize(\'icon_toggle\') %>" \n                    style="display: inline-block;"\n            ><i class="icon-pointer-right"></i></button>\n            <button class="table-row-parent-toggle table-row-parent-toggle-close" \n                    aria-label="<%- Localizer.localize(\'icon_toggle\') %>" \n                    style="display: none;"\n            ><i class="icon-pointer-down"></i></button>\n        </td>\n        <% } %>\n    <% } else { %>\n         <td>&nbsp;</td>\n   <% } %>\n<% } %>\n<% var index = 0; %>\n<% for (var i in model) { %>\n    <td class="<%- cellClass[index] ? cellClass[index] : \'\' %>">\n        <% if (_.isArray(model[i])) { %>\n            <% for (var c in model[i]) { %>\n                <% if (model[i][c]) { %>\n                    <%= model[i][c] %>\n                <% } else if (model[i][c] === null) { %>\n                    --\n                <% } %>\n            <% } %>\n        <% } else if (model[i] === null || (settings.isRest && columnHiddenForRest(i))) { %>\n            --\n        <% } else { %>\n            <%= ((i === \'swimStroke\' || i === \'label_swim_stroke\') ? Localizer.localize(sm.mapKey(model[i])) : model[i]) %>\n        <% } %>\n    </td>\n    <% index++; %>\n<% } %>'
    },
    4478: function(t, e) {
        t.exports = "<tr>\n    <% if (isLapSwimming) { %>\n        <td>&nbsp;</td>\n    <% } %>\n    <% var index = 0; %>\n    <% for(var f in model) { %>\n        <%if (isLapSwimming && f === 'lapIndex') { %>\n            <td><%- Localizer.localize(model[f]) %></td>\n        <% } else if (isLapSwimming && f === 'swimStroke') { %>\n            <td></td>\n        <% } else if (model[f] === null) { %>\n            <td></td>\n        <% } else if (isAutoRacingActivity) { %>\n            <td><%- f === 'auto_racing_lap_label' ? Localizer.localize(model[f]) : model[f] === null ? '--' : model[f] %></td>\n        <% } else if (isResortSkiActivity) { %>\n            <td><%- f === 'splits.runs' ? Localizer.localize(model[f]) : model[f] === null ? '--' : model[f] %></td>\n        <% } else { %>\n            <td class=\"<%- cellClass[index] ? cellClass[index] : '' %>\">\n                <%= f === 'splits.laps' ? Localizer.localize(model[f]) : model[f] === null ? '--' : model[f] %></td>\n        <% } %>\n        <% index++; %>\n    <% } %>\n</tr>\n"
    },
    4479: function(t, e, i) {
        var a = i(4480);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    4480: function(t, e, i) {
        (e = t.exports = i(29)(!0)).push([t.i, "\n\n.ActivityIntervals_intervalsFilterContainer__1VwH1 {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-align-items: center;\n            align-items: center;\n    width: 200px;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n}\n\n.ActivityIntervals_intervalsFilter__1vV3U {\n    width: 60%;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/Activity/ActivityIntervals/ActivityIntervals.css"],
            names: [],
            mappings: ";;AAAA;IACI,sBAAa;IAAb,cAAa;IACb,4BAAmB;YAAnB,oBAAmB;IACnB,aAAY;IACZ,uCAA8B;YAA9B,+BAA8B;CAClC;;AAEA;IACI,WAAU;CACd",
            file: "ActivityIntervals.css",
            sourcesContent: [".intervalsFilterContainer {\n    display: flex;\n    align-items: center;\n    width: 200px;\n    justify-content: space-between;\n}\n\n.intervalsFilter {\n    width: 60%;\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            intervalsFilterContainer: "ActivityIntervals_intervalsFilterContainer__1VwH1",
            intervalsFilter: "ActivityIntervals_intervalsFilter__1vV3U"
        }
    },
    4481: function(t, e) {
        t.exports = '<div class="activity-intervals-tab-content-placeholder"></div>'
    },
    4482: function(t, e, i) {
        (e = t.exports = i(29)(!0)).i(i(98), void 0),
        e.push([t.i, ".ActivitySplits_splitsTab__2GSSO {\n    display: block;\n    width: 100%;\n    overflow-x: scroll;\n    padding-bottom: 10px;\n}\n.ActivitySplits_ascent__12CLs {\n    display: inline-block;\n    padding: 0 20px;\n}\n.ActivitySplits_ascent__12CLs:after {\n    content: '';\n    display: inline-block;\n    margin-top: 0.6em;\n    width: 0.6em;\n    height: 0.6em;\n    border-top: 0.3em solid " + i(98).locals.red_primary + ";\n    border-right: 0.3em solid " + i(98).locals.red_primary + ";\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg);\n}\n.ActivitySplits_descent__WaWbu {\n    display: inline-block;\n    padding: 0 20px;\n}\n.ActivitySplits_descent__WaWbu:after {\n    content: '';\n    display: inline-block;\n    margin-top: 0.6em;\n    width: 0.6em;\n    height: 0.6em;\n    border-top: 0.3em solid " + i(98).locals.blue_primary + ";\n    border-right: 0.3em solid " + i(98).locals.blue_primary + ";\n    -webkit-transform: rotate(135deg);\n            transform: rotate(135deg);\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/Activity/ActivitySplits/ActivitySplits.css"],
            names: [],
            mappings: "AAEA;IACI,eAAc;IACd,YAAW;IACX,mBAAkB;IAClB,qBAAoB;CACxB;AAEA;IACI,sBAAqB;IACrB,gBAAe;CACnB;AAEA;IACI,YAAW;IACX,sBAAqB;IACrB,kBAAiB;IACjB,aAAY;IACZ,cAAa;IACb,oDAAmC;IACnC,sDAAqC;IACrC,kCAAyB;YAAzB,0BAAyB;CAC7B;AAEA;IACI,sBAAqB;IACrB,gBAAe;CACnB;AAEA;IACI,YAAW;IACX,sBAAqB;IACrB,kBAAiB;IACjB,aAAY;IACZ,cAAa;IACb,oDAAoC;IACpC,sDAAsC;IACtC,kCAAyB;YAAzB,0BAAyB;CAC7B",
            file: "ActivitySplits.css",
            sourcesContent: ["@value (red_primary, blue_primary) from 'ui-connect/styles/colors.module.css';\n\n.splitsTab {\n    display: block;\n    width: 100%;\n    overflow-x: scroll;\n    padding-bottom: 10px;\n}\n\n.ascent {\n    display: inline-block;\n    padding: 0 20px;\n}\n\n.ascent:after {\n    content: '';\n    display: inline-block;\n    margin-top: 0.6em;\n    width: 0.6em;\n    height: 0.6em;\n    border-top: 0.3em solid red_primary;\n    border-right: 0.3em solid red_primary;\n    transform: rotate(-45deg);\n}\n\n.descent {\n    display: inline-block;\n    padding: 0 20px;\n}\n\n.descent:after {\n    content: '';\n    display: inline-block;\n    margin-top: 0.6em;\n    width: 0.6em;\n    height: 0.6em;\n    border-top: 0.3em solid blue_primary;\n    border-right: 0.3em solid blue_primary;\n    transform: rotate(135deg);\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            red_primary: "" + i(98).locals.red_primary,
            blue_primary: "" + i(98).locals.blue_primary,
            splitsTab: "ActivitySplits_splitsTab__2GSSO",
            ascent: "ActivitySplits_ascent__12CLs",
            descent: "ActivitySplits_descent__WaWbu"
        }
    },
    4483: function(t, e) {
        t.exports = '<div class="react-activity-splits"></div>'
    },
    4484: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(13)
          , c = i(2640)
          , h = i(4485)
          , p = i(4486)
          , d = i.n(p);
        e.a = o.a.View.extend({
            template: n.a.template(d.a),
            events: {},
            initialize: function(t) {
                if (this.activitySummary = t.activitySummary,
                !this.activitySummary)
                    throw "activitySummary required for ExpandedSwimView"
            },
            render: function() {
                var t = h.a.getIntervals(this.activitySummary, this.model);
                this.$el.html(this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    intervals: t,
                    sm: c.a
                }))
            }
        })
    },
    4485: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(8)
              , n = i(13);
            e.a = {
                getLengths: function(e) {
                    var i = e.get("lapDTOs")
                      , a = [];
                    return t.each(i, function(t) {
                        t.numberOfActiveLengths && (a = a.concat(t.lengthDTOs))
                    }, this),
                    a
                },
                getIntervals: function(e, i) {
                    var r = 0
                      , o = i.get("lapDTOs")
                      , s = [];
                    return t.each(o, function(i) {
                        var o = this.createNewInterval();
                        s.push(o);
                        var l = e.get("unitOfPoolLength").unitKey
                          , c = n.a.poolUnitKeyToMeasurementSystem(l);
                        o.lengthCount = i.numberOfActiveLengths,
                        o.type = i.distance ? "interval" : "rest",
                        o.duration = n.a.personalizeDuration(i.duration),
                        o.distance = n.a.personalizeSwimDistance(i.distance, c),
                        o.unit = a.a.localize(l),
                        o.lengths = i.lengthDTOs,
                        t.each(i.lengthDTOs, function(t) {
                            t.interval = o
                        }, this),
                        "interval" == o.type && (o.index = r++)
                    }, this),
                    s
                },
                createNewInterval: function() {
                    return {
                        type: null,
                        index: null,
                        duration: null,
                        lengthCount: 0,
                        lengths: []
                    }
                }
            }
        }
        ).call(this, i(9))
    },
    4486: function(t, e) {
        t.exports = '<% for (var i = 0, len = intervals.length; i < len; i++) {     %>\n<%  var interval = intervals[i];                    %>\n    <%  if (interval.type != \'rest\') {                  %>\n    <div class="swim-interval clearfix">\n        <h5 class="top-s interval-title"><%- Localizer.localize(\'swim_interval_num\', interval.index + 1) %><span class="distance"><%- interval.distance %> <%- interval.unit %></span><span class="time"><%- interval.duration %></span></h5>\n        \x3c!--Drill should only have one bubble with total time displayed in it--\x3e\n        <% var swimStroke = interval.lengths[0] ? interval.lengths[0].swimStroke : null %>\n        <%   if (swimStroke === \'DRILL\') {       %>\n        <div class="swim-length drill first last" title="<%- Localizer.localize(sm.mapKey(swimStroke)) %>">\n            <div class="type"><%- Localizer.localize(sm.mapKey(swimStroke)) %></div>\n            <span class="time"><%- interval.duration %></span>\n        </div>\n        <% } else { %>\n        <% var len2 = interval.lengths.length; %>\n        <% for (var j = 0; j < len2; j++) { %>\n        <%  var length = interval.lengths[j];           \n            if(length) { %>\n        <div class="swim-length <%- sm.mapClass(length.swimStroke) %> <%- j == 0 ? \'first\' : \'\' %>  <%- j == len2 - 1 ? \'last\' : \'\' %>" title="<%- Localizer.localize(sm.mapKey(length.swimStroke)) %>">\n            <div class="type"><%- Localizer.localize(sm.mapKey(length.swimStroke)) %></div>\n            <span class="number"><%- j + 1 %></span>\n            <span class="time"><%- Personalizer.formatDecimalNumber(length.duration, 1, false) %></span>\n        </div>\n        <% } %>\n        <% } %>\n        <% } %>\n        <% if (i + 1 < intervals.length && intervals[i + 1].type == \'rest\') {   %>\n        <%  var restInterval = intervals[++i];                                  %>\n        <div class="swim-rest" title="<%- Localizer.localize(\'swim.rest\') %>">\n            <div class="type"><%- Localizer.localize(\'swim.rest\') %></div>\n            <div class="time"><%- restInterval.duration %></div>\n        </div>\n        <% } %>\n\n    </div>\n    <% } %>\n<% } %>'
    },
    4487: function(t, e, i) {
        "use strict";
        var a = i(13)
          , n = function(t) {
            return a.a.getDurationLabelKey(t)
        }
          , r = function(t) {
            return a.a.getAvgCadenceTypeLabelKey(t)
        }
          , o = function(t) {
            return a.a.getMaxCadenceTypeLabelKey(t)
        }
          , s = function(t) {
            return a.a.getMaxSpeedTypeLabelKey(t)
        };
        e.a = {
            getOnShoreGrinding: function(t, e) {
                return [{
                    order: 1,
                    fieldName: "lapIndex",
                    displayLabel: t.lapIndexLabel,
                    class: "ascending",
                    showSortIcon: !0,
                    personalizer: null
                }, {
                    order: -1,
                    fieldName: "duration",
                    displayLabel: n(t.activityTypeKey),
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: -1,
                    fieldName: "movingDuration",
                    displayLabel: "label_moving_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: -1,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "averageBikeCadence",
                    displayLabel: r(t.activityTypeKey),
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.getCadence
                }, {
                    order: -1,
                    fieldName: "maxBikeCadence",
                    displayLabel: o(t.activityTypeKey),
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.getCadence
                }, {
                    order: -1,
                    fieldName: "normalizedPower",
                    displayLabel: "label_normalized_power",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "leftBalance",
                    displayLabel: "label_left_balance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeLeftRightBalance
                }, {
                    order: -1,
                    fieldName: "rightBalance",
                    displayLabel: "label_right_balance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeLeftRightBalance
                }, {
                    order: -1,
                    fieldName: "averagePower",
                    displayLabel: "label_avg_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "maxPower",
                    displayLabel: "label_max_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "averageTemperature",
                    displayLabel: "label_avg_temperature",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeTemperature
                }, {
                    order: -1,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }, {
                    order: -1,
                    fieldName: "distance",
                    displayLabel: "label_distance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDistance,
                    personalizerParams: e.getDistanceParams
                }]
            },
            getOffShoreGrinding: function(t, e) {
                return [{
                    order: 1,
                    fieldName: "lapIndex",
                    displayLabel: t.lapIndexLabel,
                    class: "ascending",
                    showSortIcon: !0,
                    personalizer: null
                }, {
                    order: -1,
                    fieldName: "averageSpeed",
                    displayLabel: (i = t.activityTypeKey,
                    a.a.getAvgSpeedTypeLabelKey(i)),
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: e.getSpeedParams
                }, {
                    order: -1,
                    fieldName: "maxSpeed",
                    displayLabel: s(t.activityTypeKey),
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: e.getSpeedParams
                }, {
                    order: -1,
                    fieldName: "duration",
                    displayLabel: n(t.activityTypeKey),
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: -1,
                    fieldName: "movingDuration",
                    displayLabel: "label_moving_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: -1,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "averageBikeCadence",
                    displayLabel: r(t.activityTypeKey),
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.getCadence
                }, {
                    order: -1,
                    fieldName: "maxBikeCadence",
                    displayLabel: o(t.activityTypeKey),
                    class: "",
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.getCadence
                }, {
                    order: -1,
                    fieldName: "normalizedPower",
                    displayLabel: "label_normalized_power",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "leftBalance",
                    displayLabel: "label_left_balance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeLeftRightBalance
                }, {
                    order: -1,
                    fieldName: "rightBalance",
                    displayLabel: "label_right_balance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeLeftRightBalance
                }, {
                    order: -1,
                    fieldName: "averagePower",
                    displayLabel: "label_avg_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "maxPower",
                    displayLabel: "label_max_power",
                    class: "",
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "averageTemperature",
                    displayLabel: "label_avg_temperature",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeTemperature
                }, {
                    order: -1,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }, {
                    order: -1,
                    fieldName: "distance",
                    displayLabel: "label_distance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDistance,
                    personalizerParams: e.getDistanceParams
                }];
                var i
            },
            getStrengthTraining: function(t) {
                return [{
                    order: 1,
                    fieldName: "lapIndex",
                    displayLabel: t.lapIndexLabel,
                    class: "ascending",
                    showSortIcon: !0,
                    personalizer: null
                }, {
                    order: 2,
                    fieldName: "duration",
                    displayLabel: n(t.activityTypeKey),
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 3,
                    fieldName: "duration",
                    displayLabel: "label_cum_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 4,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: 5,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: 6,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }]
            },
            getAutoRacing: function() {
                return [{
                    order: 1,
                    fieldName: "lapIndex",
                    displayLabel: "auto_racing_lap_label",
                    class: "ascending",
                    showSortIcon: !0,
                    personalizer: null
                }, {
                    order: 2,
                    fieldName: "duration",
                    displayLabel: "auto_racing_lap_time",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.fromSecondsToDuration
                }, {
                    order: 3,
                    fieldName: "maxSpeed",
                    displayLabel: "label_max_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed
                }, {
                    order: 4,
                    fieldName: "averageSpeed",
                    displayLabel: "label_avg_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed
                }, {
                    order: 5,
                    fieldName: "distance",
                    displayLabel: "auto_racing_lap_distance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDistance
                }]
            },
            getResortSki: function(t, e) {
                return [{
                    order: 1,
                    fieldName: "lapIndex",
                    displayLabel: "splits.runs",
                    class: "ascending",
                    showSortIcon: !0,
                    personalizer: null
                }, {
                    order: 2,
                    fieldName: "duration",
                    displayLabel: "label_time",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 3,
                    fieldName: "distance",
                    displayLabel: "label_distance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDistance,
                    personalizerParams: e.getDistanceParams
                }, {
                    order: 4,
                    fieldName: "elevationLoss",
                    displayLabel: "label_elevation_loss",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeElevation
                }, {
                    order: 5,
                    fieldName: "maxSpeed",
                    displayLabel: "label_max_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed
                }, {
                    order: 6,
                    fieldName: "averageSpeed",
                    displayLabel: "label_avg_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed
                }, {
                    order: 7,
                    fieldName: "averageMovingSpeed",
                    displayLabel: "label_avg_moving_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: e.getSpeedParams
                }, {
                    order: 8,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }, {
                    order: 9,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: 10,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: 11,
                    fieldName: "duration",
                    displayLabel: "label_cum_time",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 12,
                    fieldName: "movingDuration",
                    displayLabel: "label_moving_time",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 13,
                    fieldName: "averageTemperature",
                    displayLabel: "label_avg_temperature",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeTemperature
                }]
            },
            getCrossCountrySki: function(t, e) {
                return [{
                    order: 1,
                    fieldName: "lapIndex",
                    displayLabel: "splits.laps",
                    class: "ascending",
                    showSortIcon: !0,
                    personalizer: null
                }, {
                    order: -1,
                    fieldName: "duration",
                    displayLabel: "label_time",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDuration
                }, {
                    order: -1,
                    fieldName: "distance",
                    displayLabel: "label_distance",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDistance,
                    personalizerParams: e.getDistanceParams
                }, {
                    order: -1,
                    fieldName: "duration",
                    displayLabel: "label_cum_time",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDuration
                }, {
                    order: -1,
                    fieldName: "movingDuration",
                    displayLabel: "label_moving_time",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeDuration
                }, {
                    order: -1,
                    fieldName: "elevationGain",
                    displayLabel: "label_elevation_gain",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeElevation
                }, {
                    order: -1,
                    fieldName: "elevationLoss",
                    displayLabel: "label_elevation_loss",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeElevation
                }, {
                    order: -1,
                    fieldName: "averageSpeed",
                    displayLabel: "label_avg_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed
                }, {
                    order: -1,
                    fieldName: "averageMovingSpeed",
                    displayLabel: "label_avg_moving_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed,
                    personalizerParams: e.getSpeedParams
                }, {
                    order: -1,
                    fieldName: "maxSpeed",
                    displayLabel: "label_max_speed",
                    class: "",
                    personalizer: a.a.personalizeSpeed
                }, {
                    order: -1,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: -1,
                    fieldName: "averageRunCadence",
                    displayLabel: "label_avg_ski_cadence",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.getCadence
                }, {
                    order: -1,
                    fieldName: "maxRunCadence",
                    displayLabel: "label_max_ski_cadence",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeCadence,
                    personalizerParams: e.getCadence
                }, {
                    order: -1,
                    fieldName: "strideLength",
                    displayLabel: "label_avg_stride_length",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeAvgStrideLength
                }, {
                    order: -1,
                    fieldName: "averagePower",
                    displayLabel: "label_avg_power",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "maxPower",
                    displayLabel: "label_max_power",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizePower
                }, {
                    order: -1,
                    fieldName: "minTemperature",
                    displayLabel: "label_min_temp",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeTemperature
                }, {
                    order: -1,
                    fieldName: "maxTemperature",
                    displayLabel: "label_max_temp",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeTemperature
                }, {
                    order: -1,
                    fieldName: "averageTemperature",
                    displayLabel: "label_avg_temp",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeTemperature
                }, {
                    order: -1,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }]
            },
            getLapSwimming: function(t, e, i, n, r) {
                return [{
                    order: 1,
                    fieldName: "lapIndex",
                    displayLabel: t.lapIndexLabel,
                    class: "",
                    personalizer: null
                }, {
                    order: 2,
                    fieldName: "swimStroke",
                    displayLabel: "label_swim_stroke",
                    class: ""
                }, {
                    order: 3,
                    fieldName: "numberOfActiveLengths",
                    displayLabel: "label_num_active_length",
                    class: "",
                    personalizer: a.a.personalizePoolLength
                }, {
                    order: 4,
                    fieldName: "distance",
                    displayLabel: "label_distance",
                    class: "",
                    personalizer: a.a.personalizeDistance,
                    personalizerParams: e.getDistanceParams
                }, {
                    order: 5,
                    fieldName: "duration",
                    displayLabel: "label_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 6,
                    fieldName: "duration",
                    displayLabel: "label_cum_time",
                    class: "",
                    personalizer: a.a.personalizeDuration
                }, {
                    order: 7,
                    fieldName: "averageSpeed",
                    displayLabel: n,
                    class: "",
                    personalizer: i === a.a.SpeedTypes.Speed ? a.a.personalizeSwimSpeed : a.a.personalizeSwimPace,
                    personalizerParams: e.getSwimSpeedParams
                }, {
                    order: 8,
                    fieldName: "maxSpeed",
                    displayLabel: r,
                    class: "",
                    personalizer: i === a.a.SpeedTypes.Speed ? a.a.personalizeSwimSpeed : a.a.personalizeSwimPace,
                    personalizerParams: e.getSwimSpeedParams
                }, {
                    order: 9,
                    fieldName: "averageSWOLF",
                    displayLabel: "label_avg_swolf",
                    class: "",
                    personalizer: a.a.personalizeSwolf
                }, {
                    order: 11,
                    fieldName: "averageHR",
                    displayLabel: "label_avg_HR",
                    class: "",
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: 12,
                    fieldName: "maxHR",
                    displayLabel: "label_max_HR",
                    class: "",
                    showSortIcon: !1,
                    personalizer: a.a.personalizeHeartRate
                }, {
                    order: 13,
                    fieldName: "totalNumberOfStrokes",
                    displayLabel: "label_total_swim_strokes",
                    class: "",
                    personalizer: a.a.personalizeStrokes
                }, {
                    order: 14,
                    fieldName: "averageStrokes",
                    displayLabel: "label_avg_swim_strokes",
                    class: "",
                    personalizer: a.a.personalizeStrokes
                }, {
                    order: 16,
                    fieldName: "calories",
                    displayLabel: "label_calories",
                    class: "",
                    personalizer: a.a.formatWholeNumber
                }, {
                    order: 17,
                    fieldName: "lengthDTOs"
                }]
            }
        }
    },
    4488: function(t, e) {
        t.exports = '<% if (hasTypedSplits) { %>\n    <div class="typed-splits-placeholder"></div>\n<% } else if (hasIntensityIntervals && canViewIntervals) { %>\n    <div class="typed-splits-intervals-placeholder"></div>\n<% } else if (colModel && colModel.length > 0) { %>\n<div id="<%- isLapSwimming? \'tab-intervals\' : \'tab-table\' %>" class="tab-pane tab-overflow" tabindex="0">\n\n    <% if (isLapSwimming) { %>\n    <div class="btn-group btn-group-pill bottom-s" data-toggle="buttons-radio">\n        <button class="btn btn-small active ga-label" data-toggle="tab" data-target="#intervals-table"><%-Localizer.localize(\'label_table\')%></button>\n        <button class="btn btn-small ga-label" data-toggle="tab" data-target="#intervals-graphical"><%-Localizer.localize(\'label_graphical\')%></button>\n    </div>\n    <% } %>\n\n    <div class="tab-content">\n        <div id="intervals-table" class="tab-pane active">\n            <table class="table clickable-table <%- isLapSwimming? \'intervals-table\' : \'splits-table\' %>">\n                <thead>\n                </thead>\n                <tbody>\n                </tbody>\n            </table>\n        </div>\n\n    <% if (isLapSwimming) { %>\n        <div id="intervals-graphical" class="tab-pane">\n        </div>\n    <% } %>\n\n\n    </div>\n\n</div>\n<% } else { %>\n<div class="h5 font-thin text-center"><%- Localizer.localize(\'splits.noLaps\') %></div>\n<% } %>\n'
    },
    4489: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(0)
              , o = i.n(r)
              , s = i(13)
              , l = i(8)
              , c = i(4490)
              , h = i(2027)
              , p = i(4492)
              , d = i(24)
              , u = i(64)
              , m = i(4493)
              , f = i.n(m)
              , g = i(4494)
              , y = i.n(g)
              , v = {
                ViewSegmentToggled: "ViewSegmentToggled"
            }
              , b = o.a.View.extend({
                template: n.a.template(f.a),
                events: {
                    "click .create-segment": "onCreateSegmentClicked",
                    "click .match-segment > .match-link:not(.disabled)": "onFindSegmentClicked",
                    "click .segment-match-refresh": "onSegmentMatchRefreshClicked"
                },
                initialize: function(t) {
                    this.activity = t.activity,
                    this.isOwner = t.isOwner,
                    this.segmentMatchTemplate = n.a.template(y.a)
                },
                getIsSegmentMatchActive: function(t) {
                    var e = !1;
                    sessionStorage[t] && (JSON.parse(sessionStorage.getItem(t)).activityId === t && (this.getIsSessionNew(t) ? e = !0 : sessionStorage.removeItem(t)));
                    return e
                },
                getIsSessionNew: function(t) {
                    return Date.now() - JSON.parse(sessionStorage.getItem(t)).start < 3e5
                },
                setData: function(t, e) {
                    this.collection = e,
                    this.activity = {
                        displayName: t.get("metadataDTO").userInfoDto.displayname,
                        privacyTypeKey: t.get("accessControlRuleDTO").typeKey,
                        activityTypeKey: t.get("activityTypeDTO").typeKey,
                        activityId: t.get("activityId")
                    },
                    this.isSegmentMatchActive = this.getIsSegmentMatchActive(this.activity.activityId)
                },
                render: function() {
                    this.isSegmentMatchActive ? this.renderSegmentMatchTemplate() : this.renderActivitySegments()
                },
                renderActivitySegments: function() {
                    if (this.activity && this.activity.activityTypeKey) {
                        var t = this.activity
                          , e = this.isOwner;
                        if (this.collection.length > 0) {
                            var i = []
                              , a = new d.a;
                            this.collection.each(function(e) {
                                var n = new h.a({
                                    activityId: t.activityId,
                                    segmentUuid: e.get("segmentUuid"),
                                    displayName: t.displayName
                                });
                                i.push(n),
                                a.addModel({
                                    model: n,
                                    required: !0
                                })
                            }, this),
                            this.listenTo(a, d.a.Events.SYNCHRONIZED, function() {
                                this.renderSegmentRowViews(this.collection, i, t, e)
                            }),
                            a.fetchModels()
                        } else
                            this.renderSegmentRowViews(this.collection, [], t, e)
                    } else
                        this.$el.html(this.template({
                            Localizer: l.a,
                            Personalizer: s.a,
                            collection: null,
                            isOwner: this.isOwner
                        }))
                },
                renderSegmentMatchTemplate: function() {
                    this.$el.html(this.segmentMatchTemplate({
                        Localizer: l.a,
                        isOwner: this.isOwner
                    }))
                },
                onSegmentMatchRefreshClicked: function() {
                    window.location.reload()
                },
                renderSegmentRowViews: function(e, i, a, r) {
                    this.$el.html(this.template({
                        Localizer: l.a,
                        Personalizer: s.a,
                        collection: this.collection.toJSON() || {},
                        activityTypeKey: this.activity.activityTypeKey,
                        isOwner: this.isOwner,
                        createSegmentUrl: u.default.url("/segment/createFromActivity/".concat(this.activity.activityId))
                    }));
                    var o = t("tbody", this.$el);
                    o && o.length > 0 && n.a.each(i, function(t, i) {
                        var n = new c.a({
                            model: e.at(i),
                            activity: a,
                            isOwner: r,
                            segmentUserLeaderboardModel: t
                        });
                        this.listenTo(n, c.a.Events.ViewSegmentToggled, this.onViewSegmentToggled),
                        o.append(n.render().el)
                    }, this)
                },
                onCreateSegmentClicked: function(t) {
                    t.preventDefault(),
                    o.a.history.navigate("segment/createFromActivity/" + this.activity.activityId, {
                        trigger: !0
                    })
                },
                onFindSegmentClicked: function(t) {
                    var e = this;
                    t.preventDefault();
                    var i = this.activity.activityId;
                    this.segmentMatch = new p.a({
                        activityId: i
                    });
                    var a = {
                        activityId: i,
                        start: Date.now()
                    };
                    sessionStorage.setItem(i, JSON.stringify(a)),
                    this.segmentMatch.save(null, {
                        type: "PUT",
                        error: function() {
                            return e.onRequestSegmentMatch()
                        },
                        success: function() {
                            return e.onRequestSegmentMatch()
                        }
                    })
                },
                onRequestSegmentMatch: function() {
                    this.$(".match-segment").removeClass("colored"),
                    this.$(".match-segment").addClass("disabled"),
                    this.renderSegmentMatchTemplate()
                },
                onViewSegmentToggled: function(t, e) {
                    this.trigger(v.ViewSegmentToggled, t, e)
                }
            });
            b.Events = v,
            e.a = b
        }
        ).call(this, i(10))
    },
    4490: function(t, e, i) {
        "use strict";
        (function(t, a) {
            var n = i(9)
              , r = i.n(n)
              , o = i(0)
              , s = i.n(o)
              , l = i(13)
              , c = i(8)
              , h = i(4491)
              , p = i.n(h)
              , d = {
                ViewSegmentToggled: "ViewSegmentToggled"
            }
              , u = s.a.View.extend({
                template: r.a.template(p.a),
                tagName: "tr",
                events: {
                    "click .favorite-segment-trigger": "onFavoriteClicked",
                    "click .segment-visible": "onViewSegmentToggled"
                },
                initialize: function(t) {
                    this.activity = t.activity,
                    this.isOwner = t.isOwner,
                    this.segmentUserLeaderboardModel = t.segmentUserLeaderboardModel
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: c.a,
                        model: this.getModel(this)
                    })),
                    this
                },
                getModel: function() {
                    var e = this.segmentUserLeaderboardModel.toJSON() || {}
                      , i = this.model || {}
                      , a = this.activity.privacyTypeKey
                      , n = this.activity.activityTypeKey
                      , r = e.bestActivityElapsedTime || void 0
                      , o = e.bestElapsedTime || null;
                    return t.extend({
                        isOwner: this.isOwner,
                        showRank: !0
                    }, function() {
                        if ("public" !== a)
                            return {
                                rank: "",
                                rankCss: "not-qualified icon-locked",
                                rankTooltip: "segment_has_no_public_activity"
                            };
                        var t = e.bestUserRank || null;
                        return null === t || void 0 === t ? {
                            rank: "--",
                            rankCss: "not-qualified",
                            rankTooltip: "segment_not_fastest_time"
                        } : r === o ? t < 4 && r > 0 ? {
                            rank: t,
                            rankCss: "top-three",
                            rankTooltip: "segment_overall_rank"
                        } : {
                            rank: t,
                            rankCss: "",
                            rankTooltip: "segment_overall_rank"
                        } : {
                            showRank: !1
                        }
                    }(), {
                        name: i.get("segmentName"),
                        url: i.get("segmentUuid") || "#",
                        pk: i.get("segmentPk"),
                        fav: i.get("favorite")
                    }, {
                        time: o ? l.a.personalizeDuration(r / 1e3) : "--:--",
                        timeLabel: "activity_duration_unit"
                    }, function() {
                        var t = i.get("segmentDistance") || 0
                          , e = "SPEED" === l.a.getSpeedTypeFromActivityType(n).toUpperCase() ? l.a.getSpeedUnitKey() : l.a.getPaceUnitKey()
                          , a = l.a.calculateSpeed(1e3 * t, r / 1e3);
                        return {
                            pace: l.a.personalizeSpeed(a, n, null) || "--:--",
                            paceLabel: e
                        }
                    }())
                },
                onFavoriteClicked: function(e) {
                    e.preventDefault();
                    var i = t(e.currentTarget)
                      , a = this.model.get("favorite");
                    this.model.set("favorite", !a),
                    a ? (this.model.destroy(),
                    i.removeClass("active")) : (this.model.save(),
                    i.addClass("active"))
                },
                onViewSegmentToggled: function(t) {
                    var e = a(t.currentTarget).find("i")
                      , i = !e.hasClass("active");
                    e.toggleClass("active");
                    var n = e.attr("data-segmentId");
                    this.trigger(d.ViewSegmentToggled, n, i)
                }
            });
            u.Events = d,
            e.a = u
        }
        ).call(this, i(10), i(10))
    },
    4491: function(t, e) {
        t.exports = '    <td class="segment-rank">\n        <% if(model.showRank) { %>\n            <span class="segment-pill has-tooltip <%- model.rankCss %>" title="<%- Localizer.localize(model.rankTooltip, model.rank) %>" data-placement="right"><%- model.rank %></span>\n        <% } else { %>\n            <span class="segment-pill not-qualified has-tooltip" data-placement="right" title="<%- Localizer.localize(\'segment_not_fastest_time\') %>">--</span>\n        <% } %>\n    </td>\n    <td class="segment-name"><a href="/modern/segment/<%- model.url %>" class="colored"><%- model.name %></a></td>\n    <td class="segment-time"><%- model.time + \' \' + Localizer.localize(model.timeLabel) %></td>\n    <td class="segment-pace"><%- model.pace + \' \' + Localizer.localize(model.paceLabel) %></td>\n    <td class="segment-fav">\n        <% if( model.isOwner) { %>\n            <i href="#" class="favorite-segment-trigger icon-star fav <%- model.fav ? \'active\' : \'\' %>" data-segmentpk="<%- model.pk %>"></i>\n        <% } %>\n    </td>\n    <td class="segment-visible"><i class="icon-eye has-tooltip" data-segmentId="<%- model.url %>" title="<%- Localizer.localize(\'activity_show_on_the_map\') %>"></i></td>'
    },
    4492: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a).a.Model.extend({
            url: function() {
                return "/proxy/activity-service/activity/segment/" + this.activityId
            },
            initialize: function(t) {
                if ("undefined" === typeof t.activityId)
                    throw "Segment Match requires an activity ID";
                this.activityId = t.activityId
            }
        });
        e.a = n
    },
    4493: function(t, e) {
        t.exports = '<div class="activity-segments-container">\n    <% if (!collection) { %>\n    <div class="spinner-container">\n        <div class="text-center">\n            <div class="large spinner"><div></div></div>\n        </div>\n        <div class="h5 text-center font-thin"><%- Localizer.localize(\'loading\') %></div>\n    </div>\n    <% } else { %>\n    <% if (isOwner) { %>\n        <div class="activity-segment-actions">\n            <div class="pull-right create-segment left-s bottom-xs"><a href="<%- createSegmentUrl %>" class="colored"><i class="icon-add"></i><%- Localizer.localize(\'create_segment\') %></a></div>\n            <div class="pull-right match-segment bottom-xs"><a href="#" class="match-link colored"><%- Localizer.localize(\'match_segment\') %></a></div>\n        </div>\n    <% } %>\n    <% if (collection && collection.length > 0){ %>\n    <table class="table segments-table">\n        <thead>\n            <tr>\n                <th class="segment-rank"><%- Localizer.localize(\'rank\') %></th>\n                <th class="segment-name"><%- Localizer.localize(\'segment_name\') %></th>\n                <th class="segment-time"><%- Localizer.localize(\'segment_time_label\') %></th>\n                <th class="segment-pace">\n                    <% if(collection.length > 0 && Personalizer.getSpeedTypeFromActivityType(activityTypeKey).toUpperCase() === \'SPEED\') { %>\n                        <%- Localizer.localize(Personalizer.getSpeedLabelKey()) %>\n                    <% } else { %>\n                        <%- Localizer.localize(Personalizer.getPaceLabelKey()) %>\n                    <% } %>\n                </th>\n                <th class="segment-fav">&nbsp;</th>\n                <th class="segment-visible">&nbsp;</th>\n            </tr>\n        </thead>\n        <tbody>\n        </tbody>\n    </table>\n    <% } else { %>\n        <div class="h5 font-thin text-center"><%- Localizer.localize(\'no_segment_text\') %></div>\n    <% } %>\n    <% } %>\n</div>'
    },
    4494: function(t, e) {
        t.exports = '<div class="segment-match-container">\n    <div class="segment-match-actions">\n        <% if (isOwner) { %>\n            <div class="match-segment"><a href="#" class="match-link disabled"><%- Localizer.localize(\'match_segment\') %></a></div>\n            <div class="create-segment left-s bottom-xs"><a href="#" class="colored"><i class="icon-add"></i><%- Localizer.localize(\'create_segment\') %></a></div>\n        <% } %>\n    </div>\n    <div class="segment-match-message">\n        <h5 class="font-thin text-center top-s"><%= Localizer.localize(\'segment_match_message\') %></h5>\n    </div>\n</div>'
    },
    4495: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(13)
              , o = i(8)
              , s = i(0)
              , l = i.n(s)
              , c = i(2565)
              , h = i(2566)
              , p = i(2567)
              , d = i(4496)
              , u = i.n(d);
            e.a = l.a.View.extend({
                template: n.a.template(u.a),
                className: "mtbStat",
                events: {
                    "click #mtb-jumps-grid th": "onSplitColumnHeaderClicked",
                    "click tbody > tr": "onRowClicked"
                },
                initialize: function(t) {
                    return this.jumps = t.jumps,
                    this.activity = t.activity,
                    this.models = this.getCollection(),
                    this.colModel = this.getColumnFile(),
                    this.footerModel = this.getFooterModel(),
                    this.highestScore = this.getHighestScore(),
                    this
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: o.a,
                        colModel: this.models
                    })),
                    this.renderHeader(),
                    this.renderBody(),
                    this.renderFooter(),
                    this
                },
                renderHeader: function() {
                    var t = this.$("thead", this.$el);
                    if (t && t.length > 0) {
                        t.empty();
                        var e = new c.a({
                            model: this.colModel,
                            isLapSwimming: !1,
                            settings: this.getSettings().splits
                        });
                        t.append(e.render().el)
                    }
                },
                renderBody: function() {
                    var e = this.$("tbody")
                      , i = !1;
                    if (e && e.length) {
                        this.stopListening(),
                        t("tr", e).remove();
                        for (var a = this.sortData(this.models, this.colModel), n = 0, r = a.length; n < r; n += 1) {
                            var o = a[n]
                              , s = this.getRow(o, this.getSettings().splits);
                            e.append(s.render().el),
                            o.label_jumps_score === this.highestScore && !1 === i && (s.setActive(o.label_jumps_score === this.highestScore),
                            i = !0)
                        }
                        this.renderTrophy()
                    }
                },
                renderFooter: function() {
                    if (this.footerModel) {
                        var t = this.$("tfoot");
                        t && t.length && t.remove();
                        var e = this.$("table");
                        e && e.length && e.append(new p.a({
                            model: this.footerModel,
                            isLapSwimming: !1
                        }).render().el)
                    }
                },
                renderTrophy: function() {
                    this.$("tr.active").find("td:first").prepend('<div class="trophy-container"><span class="icon-personal-records"></span></div>')
                },
                getRow: function(t, e) {
                    for (var i = {}, a = Object.keys(t), n = 0; n < a.length; n++)
                        for (var s = a[n], l = 0; l < this.colModel.length; l++) {
                            var c = this.colModel[l];
                            c.displayLabel === s && (c.personalizer ? c.typeKey ? i[s] = c.personalizer.apply(r.a, [t[s], c.typeKey, o.a]) : i[s] = c.personalizer.apply(r.a, [t[s], o.a]) : i[s] = t[s])
                        }
                    return new h.a({
                        model: i,
                        isLapSwimming: !1,
                        settings: e
                    })
                },
                getSettings: function() {
                    return {
                        splits: {
                            headerClass: "sortable-header-row"
                        }
                    }
                },
                getColumnFile: function() {
                    return [{
                        order: 1,
                        fieldName: "jump",
                        displayLabel: "label_jumps",
                        class: "ascending",
                        showSortIcon: !0,
                        personalizer: null
                    }, {
                        order: 2,
                        fieldName: "score",
                        displayLabel: "label_jumps_score",
                        class: "",
                        showSortIcon: !1
                    }, {
                        order: 3,
                        fieldName: "distance",
                        displayLabel: "label_jumps_distance",
                        class: "",
                        showSortIcon: !1,
                        personalizer: r.a.personalizeMTBHeight
                    }, {
                        order: 4,
                        fieldName: "hangtime",
                        displayLabel: "label_jumps_hangtime",
                        class: "",
                        showSortIcon: !1,
                        personalizer: r.a.personalizeMTBSeconds
                    }, {
                        order: 5,
                        fieldName: "speed",
                        displayLabel: "label_jumps_speed",
                        class: "",
                        showSortIcon: !1,
                        personalizer: r.a.personalizeMTBSpeed,
                        typeKey: this.activity.get("activityTypeDTO").typeKey
                    }]
                },
                sortData: function(t, e) {
                    var i = n.a.find(e, function(t) {
                        return n.a.has(t, "showSortIcon") && t.showSortIcon
                    });
                    if (i) {
                        t.sort(function(t, e) {
                            var a = i.displayLabel;
                            if ("ascending" === i.class) {
                                if (t[a] < e[a])
                                    return -1;
                                if (t[a] > e[a])
                                    return 1
                            } else {
                                if (t[a] > e[a])
                                    return -1;
                                if (t[a] < e[a])
                                    return 1
                            }
                            return 0
                        })
                    }
                    return t
                },
                getCollection: function() {
                    for (var t = [], e = null, i = this.jumps.toJSON(), a = 0; a < i.length; a++)
                        e = i[a],
                        t.push({
                            label_jumps: a + 1,
                            label_jumps_score: e.score,
                            label_jumps_distance: e.distance,
                            label_jumps_hangtime: e.hangTime,
                            label_jumps_speed: e.speed
                        });
                    return t
                },
                getHighestScore: function() {
                    for (var t = 0, e = 0; e < this.models.length; e++)
                        this.models[e].label_jumps_score > t && (t = this.models[e].label_jumps_score);
                    return t
                },
                getFooterModel: function() {
                    for (var t = {
                        splits: o.a.localize("label_summary"),
                        label_jumps_score: null,
                        label_jumps_distance: 0,
                        label_jumps_hangtime: 0,
                        label_jumps_speed: null
                    }, e = 0; e < this.models.length; e++)
                        for (var i = this.models[e], a = Object.keys(i), n = 0; n < a.length; n++) {
                            null !== t[s = a[n]] && "undefined" != typeof t[s] && (t[s] += i[s])
                        }
                    for (a = Object.keys(t),
                    e = 0; e < a.length; e++) {
                        var s = a[e];
                        for (n = 0; n < this.colModel.length; n++) {
                            var l = this.colModel[n];
                            null !== t[s] && l.displayLabel === s && l.personalizer && (l.typeKey ? t[s] = l.personalizer.apply(r.a, [t[s], l.typeKey, o.a]) : t[s] = l.personalizer.apply(r.a, [t[s], o.a]))
                        }
                    }
                    return t
                },
                onSplitColumnHeaderClicked: function(e) {
                    e.preventDefault();
                    var i = n.a.find(this.colModel, function(t) {
                        return t.showSortIcon
                    })
                      , a = t("i", e.currentTarget);
                    if (a && a.length > 0 && i)
                        i.class = a.hasClass("icon-pointer-up") ? "descending" : "ascending";
                    else {
                        i && (i.class = "",
                        i.showSortIcon = !1);
                        var r = n.a.find(this.colModel, function(i) {
                            return t.trim(o.a.localize(i.displayLabel)) === t.trim(t(e.currentTarget).text())
                        });
                        r && (r.class = "ascending",
                        r.showSortIcon = !0)
                    }
                    this.renderHeader(),
                    this.renderBody()
                }
            })
        }
        ).call(this, i(10))
    },
    4496: function(t, e) {
        t.exports = '<% if (colModel && colModel.length > 0) { %>\n    <div id="mtb-jumps-grid" class="tab-pane tab-overflow">\n        <div class="tab-content">\n            <div id="intervals-table" class="tab-pane active">\n                <table class="table clickable-table splits-table">\n                    <thead>\n                    </thead>\n                    <tbody>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n<% } %>'
    },
    4497: function(t, e) {
        t.exports = "<h2><%- Localizer.localize('label_jumps') %></h2>\n<p><%- Localizer.localize('jumps_help') %></p>\n\n<h4><%- Localizer.localize('label_jumps_in_connect') %></h4>\n<p><%- Localizer.localize('jumps_in_connect') %></p>"
    },
    4498: function(t, e) {
        t.exports = '<div class="data-block">\n    <div><%- Personalizer.peronalizeMTBFlow(summaryDTO.avgFlow) %></div>\n    <div class="fine-print"><%- Localizer.localize(\'label_flow\') %></div>\n</div>\n<div class="data-block">\n    <div><%- Personalizer.peronalizeMTBGrit(summaryDTO.grit) %></div>\n    <div class="fine-print"><%- Localizer.localize(\'label_grit\') %></div>\n</div>\n<div class="data-block">\n    <div><%- Math.round(jumps.length) %></div>\n    <div class="fine-print">\n        <%- Localizer.localize(\'label_total_jumps\') %>\n        <a href="#help-jumps" data-toggle="modal">\n            <span title="<%- Localizer.localize(\'label.te.tip\') %>" class="help-icon jumps-help">\n                <span class="icon-help"></span>\n            </span>\n        </a>\n    </div>\n</div>\n\n<div class="mtb-jumps-grid"></div>'
    },
    4499: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(9)
              , n = i.n(a)
              , r = i(8)
              , o = i(0)
              , s = i.n(o)
              , l = i(24)
              , c = i(15)
              , h = i.n(c)
              , p = i(118)
              , d = i(2119)
              , u = i(2126)
              , m = i(64)
              , f = i(4500)
              , g = i.n(f)
              , y = {
                Error: "Error"
            }
              , v = s.a.View.extend({
                template: n.a.template(g.a),
                events: {
                    "click #power-curve-4-weeks": "on4WeeksClicked",
                    "click #power-curve-3-months": "on3MonthsClicked",
                    "click #power-curve-12-months": "on12MonthsClicked",
                    "click #power-curve-lifetime": "onLifetimeTotalsClicked"
                },
                initialize: function(t) {
                    return this.activityPowerCurve = this.convert(t.activityPowerCurve),
                    this.startDate = (new h.a).subtract(4, "w").format("YYYY-MM-DD"),
                    this.mode = "power-curve-4-weeks",
                    this.lastMode = this.mode,
                    this
                },
                _render: function() {
                    if (0 === this.lifeTimePowerCurveTotals.get("entries").length) {
                        var t = "";
                        switch (this.mode) {
                        case "power-curve-4-weeks":
                            t = r.a.localize("four_weeks");
                            break;
                        case "power-curve-3-months":
                            t = r.a.localize("three_months");
                            break;
                        case "power-curve-12-months":
                            t = r.a.localize("twelve_months");
                            break;
                        default:
                            t = ""
                        }
                        var e = r.a.localize("no_power_data_for_period", t);
                        this.$(".power-curve-message").html(e).show()
                    } else
                        this.$(".power-curve-message").html("").hide();
                    this.reportChartView = new d.a({
                        report: {
                            metricName: ""
                        },
                        metricList: this.activityPowerCurve,
                        lifeTimePowerCurveTotals: this.lifeTimePowerCurveTotals,
                        chartType: "areaspline",
                        chartFormat: "page",
                        wattsToggle: "watts-trend",
                        metricPeriod: r.a.localize("activity"),
                        userPreferences: null,
                        viewerUserBiometrics: p.a.toJSON(),
                        startDate: null,
                        el: this.$(".power-curve-chartPlaceholder")
                    }),
                    this.reportChartView.render()
                },
                render: function() {
                    return this.$el.html(this.template({
                        Localizer: r.a,
                        mode: this.mode,
                        url: m.default.url
                    })),
                    this.loadLifeTimeTotals(),
                    this
                },
                loadLifeTimeTotals: function() {
                    var t = (new h.a).add(1, "d").format("YYYY-MM-DD")
                      , e = new l.a;
                    this.lifeTimePowerCurveTotals = new u.a({
                        dataType: "powerCurve",
                        startDate: this.startDate,
                        endDate: this.startDate ? t : null
                    }),
                    e.addModel({
                        model: this.lifeTimePowerCurveTotals,
                        required: !0
                    }),
                    this.$(".power-curve-loading-spinner").show(),
                    this.listenTo(e, l.a.Events.SYNCHRONIZED, function() {
                        this._render(),
                        this.$(".power-curve-loading-spinner").hide()
                    }),
                    e.bind(l.a.Events.SYNCHRONIZE_FAILED, function() {
                        this.trigger(y.Error, r.a.localize("power_curve_retry"))
                    }, this),
                    e.fetchModels()
                },
                handleClick: function(e) {
                    e.preventDefault(),
                    this.$(".btn-small").removeClass("active");
                    var i = t(e.currentTarget);
                    this.lastMode = this.mode,
                    this.mode = i.attr("id")
                },
                convert: function(t) {
                    var e = {
                        get: function(t) {
                            return this.entries
                        },
                        entries: []
                    }
                      , i = h()().format("YYYY-MM-DD");
                    return n.a.each(n.a.keys(t.attributes), function(a) {
                        var n = a.indexOf("_")
                          , r = 0;
                        n > -1 && (r = a.substring(n + 1),
                        e.entries.push({
                            duration: r,
                            power: t.get(a),
                            activityDate: i
                        }))
                    }),
                    e
                },
                on4WeeksClicked: function(t) {
                    this.handleClick(t),
                    this.lastMode !== this.mode && (this.startDate = (new h.a).subtract(4, "w").format("YYYY-MM-DD"),
                    this.loadLifeTimeTotals())
                },
                on3MonthsClicked: function(t) {
                    this.handleClick(t),
                    this.lastMode !== this.mode && (this.startDate = (new h.a).subtract(3, "months").format("YYYY-MM-DD"),
                    this.loadLifeTimeTotals())
                },
                on12MonthsClicked: function(t) {
                    this.handleClick(t),
                    this.lastMode !== this.mode && (this.startDate = (new h.a).subtract(1, "y").format("YYYY-MM-DD"),
                    this.loadLifeTimeTotals())
                },
                onLifetimeTotalsClicked: function(t) {
                    this.handleClick(t),
                    this.lastMode !== this.mode && (this.startDate = null,
                    this.loadLifeTimeTotals())
                }
            });
            v.Events = y,
            e.a = v
        }
        ).call(this, i(10))
    },
    4500: function(t, e) {
        t.exports = '<div class="tab-content">\n    <div class="power-curve-buttons">\n        <p><%- Localizer.localize(\'power_curve_compare_info\') %></p>\n        <div class="btn-group btn-group-pill bottom-m" data-toggle="buttons-radio">\n            <button id="power-curve-4-weeks" class="btn btn-small <%- mode === \'power-curve-4-weeks\' ? \'active\' : \'\' %>"><%- Localizer.localize(\'four_weeks\') %></button>\n            <button id="power-curve-3-months" class="btn btn-small <%- mode === \'power-curve-3-months\' ? \'active\' : \'\' %>"><%- Localizer.localize(\'three_months\') %></button>\n            <button id="power-curve-12-months" class="btn btn-small <%- mode === \'power-curve-12-months\' ? \'active\' : \'\' %>"><%- Localizer.localize(\'twelve_months\') %></button>\n            <button id="power-curve-lifetime" class="btn btn-small <%- mode === \'power-curve-lifetime\' ? \'active\' : \'\' %>"><%- Localizer.localize(\'power_curve_all\') %></button>\n        </div>\n        <a class="pull-right colored" href="<%- url(\'/report/-6/cycling/last_four_weeks\') %>"><%- Localizer.localize(\'power_curve_view_report\') %></a>\n    </div>\n    <div class="power-curve-message centered" style="display: hidden;">\n    </div>\n    <span class="power-curve-loading-spinner text-center" style="display: none">\n        <div class="text-center">\n            <div class="large spinner" title=""><div></div></div>\n        </div>\n        \x3c!-- <div class="h5 text-center font-thin"><%- Localizer.localize(\'loading\') %></div> --\x3e\n    </span>\n    <div class="power-curve-chartPlaceholder"></div>\n</div>'
    },
    4501: function(t, e) {
        t.exports = '<div class="pull-left">\n    <div class="list-number"><%- trackNum %></div>\n</div>\n<div class="media-body">\n    <h6 class="media-heading"><%- title %></h6>\n    <span class="data-label bottom-none"><%- songInfoString %></span>\n</div>'
    },
    4502: function(t, e) {
        t.exports = '<h5 class="bottom-xs"><%- Localizer.localize(\'playlist_title\') %></h5>\n<div class="playlist-card">\n    <ul class="media-list"></ul>\n</div>\n<div class="playlist-privacy"><%- Localizer.localize(\'visible_only_you\') %></div>'
    },
    4503: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(4504)
          , c = i.n(l);
        e.a = o.a.View.extend({
            template: n.a.template(c.a),
            renderWithPrecentationData: function(t) {
                this.model = t,
                this.render()
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    apps: this.model.data
                }))
            }
        })
    },
    4504: function(t, e) {
        t.exports = '<% if (apps) { %>\n    <% for (var i = 0; i < apps.length; i++) { %>\n        <div class="aspect">\n            <div class="aspect-square"></div>\n            <a target="_blank" href="https://apps.garmin.com/en-US/apps/<%- apps[i].appId %>" title="<%- Localizer.localize(\'recorded_with\') %>: <%- apps[i].name %>">\n                <img class="img-responsive aspect-element" alt="<%- apps[i].name %>" src="<%- apps[i].iconUrl %>">\n            </a>\n        </div>\n        <div class="app-name centered">\n            <a href="https://apps.garmin.com/en-US/apps/<%- apps[i].appId %>" target="_blank" class="colored"><%- apps[i].name %></a>\n            \x3c!--<div class="software-version">Software: 2.70.0.0</div> we don\'t have a software version for the app. --\x3e\n            <div class="software-developer"><%- apps[i].developerDisplayName %></div>\n        </div>\n    <% } %>\n<% } %>\n'
    },
    4505: function(t, e) {
        t.exports = '<div class="battery-status">\n    <%- status %>\n    <span class="<%- icon %>"></span>\n</div>'
    },
    4506: function(t, e) {
        t.exports = ""
    },
    4507: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        e.a = n.a.Model.extend({
            url: "/modern/preference/enable-vector-air-feature"
        })
    },
    4508: function(t, e, i) {
        "use strict";
        (function(t) {
            var a = i(3)
              , n = i(0)
              , r = i.n(n)
              , o = i(4509)
              , s = i(80)
              , l = i(1414)
              , c = i.n(l);
            e.a = r.a.Collection.extend({
                model: o.a,
                url: function() {
                    return "/proxy/activity-service/activity/" + this.activityId + "/jumpDetails"
                },
                initialize: function(t, e) {
                    if ("undefined" === typeof e.activityId)
                        throw "ActivityJumps requires an activity ID";
                    this.activityId = e.activityId
                },
                parse: function(e) {
                    if (this.convertedJumps = [],
                    e && s.a.userInChina()) {
                        var i = this;
                        t.each(e, function(t) {
                            c.a.convert({
                                lng: t.longitude,
                                lat: t.latitude
                            }, function(e) {
                                i.convertedJumps.push(Object(a.a)({}, t, {
                                    latitude: e.lat,
                                    longitude: e.lon
                                }))
                            })
                        })
                    }
                    return e
                },
                getConvertedJumps: function() {
                    return this.convertedJumps
                }
            })
        }
        ).call(this, i(9))
    },
    4509: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        e.a = n.a.Model.extend({
            initialize: function() {}
        })
    },
    4510: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a);
        e.a = n.a.Model.extend({
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/powerCurve"
            },
            initialize: function(t) {
                if ("undefined" === typeof t.activityId)
                    throw "PowerCurve requires an activity ID";
                this.activityId = t.activityId
            }
        })
    },
    4511: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(8)
          , o = i(0)
          , s = i.n(o)
          , l = i(32)
          , c = i(1330)
          , h = i(4512)
          , p = i.n(h)
          , d = s.a.View.extend({
            template: n.a.template(p.a),
            events: {
                "click #re-include": "onIncludeClick",
                "click #powerCurveModal": "onPowerCurveModalClicked"
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: r.a
                })),
                this
            },
            onIncludeClick: function(t) {
                t.preventDefault(),
                this.trigger(u.INCLUDE_ACTIVITY)
            },
            onPowerCurveModalClicked: function(t) {
                t.preventDefault();
                var e = new c.a({
                    content: r.a.localize("power_curve_description") + "<br/><br/>" + r.a.localize("power_curve_description_2") + "<br/><br/>"
                });
                new l.a({
                    view: e,
                    showFooter: !1,
                    showCancelButton: !1,
                    modalTitle: r.a.localize("power_curve_title")
                }).render()
            }
        })
          , u = {
            INCLUDE_ACTIVITY: "INCLUDE_ACTIVITY"
        };
        d.Events = u,
        e.a = d
    },
    4512: function(t, e) {
        t.exports = '<div class="tab-content power-curve-excluded">\n    <div class="text-align-center heading">\n        <%- Localizer.localize(\'power_curve_removed_info\') %>\n        <span class="help-icon">\n            <a id="powerCurveModal" class="colored" data-toggle="modal">\n                <i class="icon-info"></i>\n            </a>\n        </span>\n    </div>\n    <div class="text-align-center sub-heading">\n        <%- Localizer.localize(\'power_curve_re_include\') %>\n    </div>\n    <div class="text-align-center">\n        <button type="button" id="re-include" class="btn btn-small btn-secondary"><%- Localizer.localize(\'power_curve_re_include_label\') %></button>\n    </div>\n</div>'
    },
    4513: function(t, e, i) {
        (e = t.exports = i(29)(!0)).push([t.i, "\n\n.AutoRaceLapTimeChart_componentContainer__1EMH6 {\n    padding: 1em;\n    /* max-width: 1080px; */\n}\n\n.AutoRaceLapTimeChart_chartContainer__3mZ73 {\n    width: 100%;\n    height: 250px;\n}\n\n.AutoRaceLapTimeChart_lapTimeTitle__3sU1N {\n    font-size: 16px;\n    margin-right: 8px;\n}\n\n.AutoRaceLapTimeChart_button__3dTtr {\n    float: right;\n}\n\n/* Modal */\n\n.AutoRaceLapTimeChart_modalChartContainer__25Kab {\n    width: 100%;\n    height: 600;\n}\n\n/* Legend */\n\n.AutoRaceLapTimeChart_legendContainer__BxKzN {\n    white-space: nowrap;\n}\n\n.AutoRaceLapTimeChart_legendLabel__97XGH {\n    margin: 5px;\n}\n\n/* Tooltip */\n\n.AutoRaceLapTimeChart_statValue__3QVWr {\n    font-weight: bold;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/components/AutoRaceLapTimeChart/AutoRaceLapTimeChart.css"],
            names: [],
            mappings: ";;AAAA;IACI,aAAY;IACZ,wBAAuB;CAC3B;;AAEA;IACI,YAAW;IACX,cAAa;CACjB;;AAEA;IACI,gBAAe;IACf,kBAAiB;CACrB;;AAEA;IACI,aAAY;CAChB;;AAEA,WAAU;;AAEV;IACI,YAAW;IACX,YAAW;CACf;;AAEA,YAAW;;AAEX;IACI,oBAAmB;CACvB;;AAEA;IACI,YAAW;CACf;;AAEA,aAAY;;AAEZ;IACI,kBAAiB;CACrB",
            file: "AutoRaceLapTimeChart.css",
            sourcesContent: [".componentContainer {\n    padding: 1em;\n    /* max-width: 1080px; */\n}\n\n.chartContainer {\n    width: 100%;\n    height: 250px;\n}\n\n.lapTimeTitle {\n    font-size: 16px;\n    margin-right: 8px;\n}\n\n.button {\n    float: right;\n}\n\n/* Modal */\n\n.modalChartContainer {\n    width: 100%;\n    height: 600;\n}\n\n/* Legend */\n\n.legendContainer {\n    white-space: nowrap;\n}\n\n.legendLabel {\n    margin: 5px;\n}\n\n/* Tooltip */\n\n.statValue {\n    font-weight: bold;\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            componentContainer: "AutoRaceLapTimeChart_componentContainer__1EMH6",
            chartContainer: "AutoRaceLapTimeChart_chartContainer__3mZ73",
            lapTimeTitle: "AutoRaceLapTimeChart_lapTimeTitle__3sU1N",
            button: "AutoRaceLapTimeChart_button__3dTtr",
            modalChartContainer: "AutoRaceLapTimeChart_modalChartContainer__25Kab",
            legendContainer: "AutoRaceLapTimeChart_legendContainer__BxKzN",
            legendLabel: "AutoRaceLapTimeChart_legendLabel__97XGH",
            statValue: "AutoRaceLapTimeChart_statValue__3QVWr"
        }
    },
    4514: function(t, e, i) {
        var a = i(4515);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    4515: function(t, e, i) {
        (e = t.exports = i(29)(!0)).push([t.i, ".SurfWaveChart_button__3oFgL {\n    float: right;\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/components/SurfWaveChart/SurfWaveChart.css"],
            names: [],
            mappings: "AAAA;IACI,aAAY;CAChB",
            file: "SurfWaveChart.css",
            sourcesContent: [".button {\n    float: right;\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            button: "SurfWaveChart_button__3oFgL"
        }
    },
    4516: function(t, e, i) {
        "use strict";
        var a = i(56)
          , n = i(57)
          , r = i(63)
          , o = i(61)
          , s = i(62)
          , l = i(11)
          , c = i.n(l)
          , h = i(83)
          , p = i(79)
          , d = i(4517)
          , u = i.n(d)
          , m = function(t) {
            function e() {
                return Object(a.a)(this, e),
                Object(r.a)(this, Object(o.a)(e).apply(this, arguments))
            }
            return Object(s.a)(e, t),
            Object(n.a)(e, [{
                key: "render",
                value: function() {
                    return c.a.createElement(c.a.Fragment, null, c.a.createElement(p.Flexbox, {
                        container: !0,
                        end: !0
                    }, c.a.createElement(p.Flexbox, {
                        collapse: !0
                    }, c.a.createElement("div", {
                        className: u.a.legendContainer
                    }, c.a.createElement("div", {
                        className: "".concat(u.a.waveLegendLine, " ").concat(u.a.selectedWaveLegendLine)
                    }), c.a.createElement("div", {
                        className: u.a.legendText
                    }, c.a.createElement(h.a, {
                        key: "surf_selected_legend",
                        ns: "activity",
                        content: "surf_selected_legend"
                    })), c.a.createElement("div", {
                        className: "".concat(u.a.waveLegendLine, " ").concat(u.a.surfedWaveLegendLine)
                    }), c.a.createElement("div", {
                        className: u.a.legendText
                    }, c.a.createElement(h.a, {
                        key: "surf_surfed_legend",
                        ns: "activity",
                        content: "surf_surfed_legend"
                    })), c.a.createElement("div", {
                        className: "".concat(u.a.waveLegendLine, " ").concat(u.a.longestWaveLegendLine)
                    }), c.a.createElement("div", {
                        className: u.a.legendText
                    }, c.a.createElement(h.a, {
                        key: "surf_longest_legend",
                        ns: "activity",
                        content: "surf_longest_legend"
                    }))))))
                }
            }]),
            e
        }(c.a.Component);
        e.a = m
    },
    4517: function(t, e, i) {
        var a = i(4518);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    4518: function(t, e, i) {
        (e = t.exports = i(29)(!0)).i(i(98), void 0),
        e.push([t.i, ".SurfWaveMapLegend_legendContainer__29IGs {\n    position: relative;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-justify-content: flex-end;\n            justify-content: flex-end;\n    top: -15px;\n}\n.SurfWaveMapLegend_legendText__2DvTl {\n    padding-left: 13px;\n    padding-right: 15px;\n    font-weight: normal;\n    font-size: 11px;\n}\n.SurfWaveMapLegend_legendContainer__29IGs > .SurfWaveMapLegend_legendText__2DvTl:last-child {\n    padding-right: 0px;\n}\n.SurfWaveMapLegend_waveLegendLine__2jdX9 {\n    width: 32px;\n    position: relative;\n    top: 10px;\n}\n.SurfWaveMapLegend_waveLegendLine__2jdX9:before {\n    content: '';\n    position: absolute;\n    z-index: 2;\n    left: 0px;\n    width: 7px;\n    height: 7px;\n    border-style: solid;\n    border-color: " + i(98).locals.white + ";\n    border-width: 1px;\n    border-radius: 50%;\n    top: -5px;\n}\n.SurfWaveMapLegend_waveLegendLine__2jdX9:after {\n    content: '';\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: " + i(98).locals.white + ";\n    box-shadow: 0px 0px 2px 0px rgba(0, 0, 0, 0.27);\n    top: -5px;\n}\n.SurfWaveMapLegend_longestWaveLegendLine__1v-gw {\n    border-top: solid 1px " + i(98).locals.red_primary + ";\n}\n.SurfWaveMapLegend_longestWaveLegendLine__1v-gw:before,\n.SurfWaveMapLegend_longestWaveLegendLine__1v-gw:after {\n    color: " + i(98).locals.red_primary + ";\n    background: " + i(98).locals.red_primary + ";\n}\n.SurfWaveMapLegend_selectedWaveLegendLine__2Dyby {\n    border-top: solid 1px " + i(98).locals.yellow_dark_3 + ";\n}\n.SurfWaveMapLegend_selectedWaveLegendLine__2Dyby:before,\n.SurfWaveMapLegend_selectedWaveLegendLine__2Dyby:after {\n    color: " + i(98).locals.yellow_dark_3 + ";\n    background: " + i(98).locals.yellow_dark_3 + ";\n}\n.SurfWaveMapLegend_surfedWaveLegendLine__1uEIV {\n    border-top: solid 1px " + i(98).locals.blue_dark_3 + ";\n}\n.SurfWaveMapLegend_surfedWaveLegendLine__1uEIV:before,\n.SurfWaveMapLegend_surfedWaveLegendLine__1uEIV:after {\n    color: " + i(98).locals.blue_dark_3 + ";\n    background: " + i(98).locals.blue_dark_3 + ";\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/MapComponent/SurfWaveMapLegend/SurfWaveMapLegend.css"],
            names: [],
            mappings: "AAEA;IACI,mBAAkB;IAClB,sBAAa;IAAb,cAAa;IACb,kCAAyB;YAAzB,0BAAyB;IACzB,WAAU;CACd;AAEA;IACI,mBAAkB;IAClB,oBAAmB;IACnB,oBAAmB;IACnB,gBAAe;CACnB;AAEA;IACI,mBAAkB;CACtB;AAEA;IACI,YAAW;IACX,mBAAkB;IAClB,UAAS;CACb;AAEA;IACI,YAAW;IACX,mBAAkB;IAClB,WAAU;IACV,UAAS;IACT,WAAU;IACV,YAAW;IACX,oBAAmB;IACnB,0CAAmB;IACnB,kBAAiB;IACjB,mBAAkB;IAClB,UAAS;CACb;AAEA;IACI,YAAW;IACX,mBAAkB;IAClB,WAAU;IACV,YAAW;IACX,kBAAiB;IACjB,oBAAmB;IACnB,0CAAmB;IACnB,gDAA+C;IAC/C,UAAS;CACb;AAEA;IACI,kDAAiC;CACrC;AAEA;;IAEI,mCAAkB;IAClB,wCAAuB;CAC3B;AAEA;IACI,kDAAmC;CACvC;AAEA;;IAEI,mCAAoB;IACpB,wCAAyB;CAC7B;AAEA;IACI,kDAAiC;CACrC;AAEA;;IAEI,mCAAkB;IAClB,wCAAuB;CAC3B",
            file: "SurfWaveMapLegend.css",
            sourcesContent: ["@value (blue_dark_3, red_primary, white, yellow_dark_3) from 'ui-connect/styles/colors.module.css';\n\n.legendContainer {\n    position: relative;\n    display: flex;\n    justify-content: flex-end;\n    top: -15px;\n}\n\n.legendText {\n    padding-left: 13px;\n    padding-right: 15px;\n    font-weight: normal;\n    font-size: 11px;\n}\n\n.legendContainer > .legendText:last-child {\n    padding-right: 0px;\n}\n\n.waveLegendLine {\n    width: 32px;\n    position: relative;\n    top: 10px;\n}\n\n.waveLegendLine:before {\n    content: '';\n    position: absolute;\n    z-index: 2;\n    left: 0px;\n    width: 7px;\n    height: 7px;\n    border-style: solid;\n    border-color: white;\n    border-width: 1px;\n    border-radius: 50%;\n    top: -5px;\n}\n\n.waveLegendLine:after {\n    content: '';\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: white;\n    box-shadow: 0px 0px 2px 0px rgba(0, 0, 0, 0.27);\n    top: -5px;\n}\n\n.longestWaveLegendLine {\n    border-top: solid 1px red_primary;\n}\n\n.longestWaveLegendLine:before,\n.longestWaveLegendLine:after {\n    color: red_primary;\n    background: red_primary;\n}\n\n.selectedWaveLegendLine {\n    border-top: solid 1px yellow_dark_3;\n}\n\n.selectedWaveLegendLine:before,\n.selectedWaveLegendLine:after {\n    color: yellow_dark_3;\n    background: yellow_dark_3;\n}\n\n.surfedWaveLegendLine {\n    border-top: solid 1px blue_dark_3;\n}\n\n.surfedWaveLegendLine:before,\n.surfedWaveLegendLine:after {\n    color: blue_dark_3;\n    background: blue_dark_3;\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            blue_dark_3: "" + i(98).locals.blue_dark_3,
            red_primary: "" + i(98).locals.red_primary,
            white: "" + i(98).locals.white,
            yellow_dark_3: "" + i(98).locals.yellow_dark_3,
            legendContainer: "SurfWaveMapLegend_legendContainer__29IGs",
            legendText: "SurfWaveMapLegend_legendText__2DvTl",
            waveLegendLine: "SurfWaveMapLegend_waveLegendLine__2jdX9",
            longestWaveLegendLine: "SurfWaveMapLegend_longestWaveLegendLine__1v-gw",
            selectedWaveLegendLine: "SurfWaveMapLegend_selectedWaveLegendLine__2Dyby",
            surfedWaveLegendLine: "SurfWaveMapLegend_surfedWaveLegendLine__1uEIV"
        }
    },
    4519: function(t, e, i) {
        "use strict";
        var a = i(0)
          , n = i.n(a)
          , r = i(28);
        e.a = n.a.Model.extend({
            initialize: function(t, e) {
                this.activityId = t.activityId
            },
            url: function() {
                var t = Object(r.a)({
                    connectActivityId: this.activityId
                });
                return "/proxy/diving/v1/dive/detail/tanksensor".concat(t)
            }
        })
    },
    4520: function(t, e, i) {
        "use strict";
        var a = i(56)
          , n = i(57)
          , r = i(63)
          , o = i(61)
          , s = i(62)
          , l = i(11)
          , c = i.n(l)
          , h = i(1256)
          , p = i(96)
          , d = i(102)
          , u = i(92)
          , m = i(25)
          , f = i(40)
          , g = function(t) {
            function e() {
                return Object(a.a)(this, e),
                Object(r.a)(this, Object(o.a)(e).apply(this, arguments))
            }
            return Object(s.a)(e, t),
            Object(n.a)(e, [{
                key: "render",
                value: function() {
                    var t = this.props
                      , e = t.typedSplits
                      , i = t.indoorClimbDifficulty
                      , a = Object(d.d)(e)
                      , n = []
                      , r = []
                      , o = []
                      , s = [];
                    a.forEach(function(t) {
                        n.push(t.sends),
                        r.push(t.completed),
                        o.push(t.attempted),
                        s.push("")
                    });
                    var l = {
                        tooltip: {
                            enabled: !1
                        },
                        chart: {
                            type: "bar",
                            animation: !1
                        },
                        title: {
                            text: ""
                        },
                        xAxis: {
                            categories: s
                        },
                        yAxis: {
                            min: 0,
                            title: {
                                text: Object(m.b)("activity:routes_climbed"),
                                style: {
                                    color: f.darkui_accent_3
                                }
                            },
                            tickInterval: 1,
                            stackLabels: {
                                enabled: !0,
                                formatter: function() {
                                    var t = a[this.x].gradeValue;
                                    return Object(d.c)(t.scale, t.valueKey, i)
                                },
                                style: {
                                    color: f.darkui_accent_3,
                                    fontWeight: "normal"
                                },
                                x: 10
                            },
                            gridLineColor: f.darkui_surface_1,
                            labels: {
                                style: {
                                    color: f.darkui_accent_3
                                }
                            }
                        },
                        legend: {
                            reversed: !0,
                            itemStyle: {
                                color: f.darkui_accent_3,
                                fontWeight: "normal",
                                cursor: "default"
                            },
                            itemHoverStyle: {
                                color: f.darkui_accent_3
                            }
                        },
                        plotOptions: {
                            series: {
                                stacking: "normal",
                                states: {
                                    inactive: {
                                        opacity: 1
                                    },
                                    hover: {
                                        enabled: !1
                                    }
                                },
                                events: {
                                    legendItemClick: function() {
                                        return !1
                                    }
                                }
                            }
                        },
                        series: [{
                            name: Object(m.b)("activity:climb_send"),
                            data: n,
                            color: f.green_primary
                        }, {
                            name: Object(m.b)("activity:climb_complete_falls"),
                            data: r,
                            color: f.orange_light_2
                        }, {
                            name: Object(m.b)("activity:climb_attempted"),
                            data: o,
                            color: f.red_light_2
                        }],
                        exporting: {
                            enabled: !1
                        },
                        credits: {
                            enabled: !1
                        }
                    };
                    return c.a.createElement(p.a, this.props, c.a.createElement("div", {
                        className: "padYAxisXS"
                    }, c.a.createElement(h.a, {
                        config: l
                    })))
                }
            }]),
            e
        }(c.a.Component);
        e.a = Object(u.d)(["activity"])(g)
    },
    4521: function(t, e, i) {
        "use strict";
        var a = i(56)
          , n = i(57)
          , r = i(63)
          , o = i(61)
          , s = i(62)
          , l = i(11)
          , c = i.n(l)
          , h = i(1256)
          , p = i(83)
          , d = i(96)
          , u = i(102)
          , m = i(92)
          , f = i(25)
          , g = i(40)
          , y = function(t) {
            function e() {
                return Object(a.a)(this, e),
                Object(r.a)(this, Object(o.a)(e).apply(this, arguments))
            }
            return Object(s.a)(e, t),
            Object(n.a)(e, [{
                key: "render",
                value: function() {
                    var t = this.props
                      , e = t.typedSplits
                      , i = t.indoorClimbDifficulty
                      , a = Object(u.d)(e)
                      , n = []
                      , r = []
                      , o = []
                      , s = [];
                    a.forEach(function(t) {
                        n.push(t.sends),
                        r.push(t.completed),
                        o.push(t.attempted),
                        s.push(Object(u.c)(t.gradeValue.scale, t.gradeValue.valueKey, i))
                    });
                    var l = {
                        tooltip: {
                            enabled: !1
                        },
                        chart: {
                            type: "column",
                            animation: !1
                        },
                        title: {
                            text: ""
                        },
                        xAxis: {
                            title: {
                                text: Object(f.b)("activity:routes_climbed"),
                                style: {
                                    color: g.darkui_accent_3
                                }
                            },
                            categories: s
                        },
                        yAxis: {
                            title: {
                                text: ""
                            },
                            min: 0,
                            tickInterval: 2,
                            stackLabels: {
                                enabled: !1,
                                formatter: function() {
                                    var t = a[this.x].gradeValue;
                                    return Object(u.c)(t.scale, t.valueKey, i)
                                },
                                style: {
                                    color: g.darkui_accent_3,
                                    fontWeight: "normal"
                                },
                                x: 10
                            },
                            gridLineColor: g.darkui_surface_1,
                            labels: {
                                style: {
                                    color: g.darkui_accent_3
                                }
                            }
                        },
                        legend: {
                            reversed: !0,
                            itemStyle: {
                                color: g.darkui_accent_3,
                                fontWeight: "normal",
                                cursor: "default"
                            },
                            itemHoverStyle: {
                                color: g.darkui_accent_3
                            }
                        },
                        plotOptions: {
                            series: {
                                stacking: "normal",
                                states: {
                                    inactive: {
                                        opacity: 1
                                    },
                                    hover: {
                                        enabled: !1
                                    }
                                },
                                events: {
                                    legendItemClick: function() {
                                        return !1
                                    }
                                }
                            }
                        },
                        series: [{
                            name: Object(f.b)("activity:climb_completed"),
                            data: r,
                            color: g.green_primary
                        }, {
                            name: Object(f.b)("activity:climb_attempted"),
                            data: o,
                            color: g.red_light_2
                        }],
                        exporting: {
                            enabled: !1
                        },
                        credits: {
                            enabled: !1
                        }
                    };
                    return c.a.createElement(d.a, this.props, c.a.createElement("div", {
                        className: "padXAxisXS"
                    }, c.a.createElement(p.a, {
                        ns: "activity",
                        content: "climb_route_difficulty"
                    })), c.a.createElement("div", {
                        className: "padYAxisXS"
                    }, c.a.createElement(h.a, {
                        config: l
                    })))
                }
            }]),
            e
        }(c.a.Component);
        e.a = Object(m.d)(["activity"])(y)
    },
    4522: function(t, e, i) {
        var a = i(4523);
        "string" === typeof a && (a = [[t.i, a, ""]]);
        var n = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        i(30)(a, n);
        a.locals && (t.exports = a.locals)
    },
    4523: function(t, e, i) {
        (e = t.exports = i(29)(!0)).i(i(1234), void 0),
        e.push([t.i, ".ActivitySmallStats_activitySmallStat__2mCHE {\n    display: -webkit-flex;\n    display: flex;\n    -webkit-flex-wrap: wrap;\n            flex-wrap: wrap;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n    max-width: 800px;\n}\n.ActivitySmallStats_activityStat__GSsJj {\n    -webkit-flex: 0 1 50%;\n            flex: 0 1 50%;\n    padding-top: 5px;\n    white-space: nowrap;\n}\n@media (min-width: " + i(1234).locals.endMD + ") {\n    .ActivitySmallStats_activityStat__GSsJj {\n        -webkit-flex: 0 1 auto;\n                flex: 0 1 auto;\n        padding: 5px;\n        white-space: nowrap;\n    }\n}\n", "", {
            version: 3,
            sources: ["/var/lib/jenkins/workspace/web-react_release_4.32/src/Activity/ActivityDetailSmallStats/ActivitySmallStats.css"],
            names: [],
            mappings: "AAEA;IACI,sBAAa;IAAb,cAAa;IACb,wBAAe;YAAf,gBAAe;IACf,uCAA8B;YAA9B,+BAA8B;IAC9B,iBAAgB;CACpB;AAEA;IACI,sBAAW;YAAX,cAAW;IACX,iBAAgB;IAChB,oBAAmB;CACvB;AAEA;IACI;QACI,uBAAc;gBAAd,eAAc;QACd,aAAY;QACZ,oBAAmB;KACvB;CACJ",
            file: "ActivitySmallStats.css",
            sourcesContent: ["@value (endMD) from 'ui-connect/styles/variables.module.css';\n\n.activitySmallStat {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    max-width: 800px;\n}\n\n.activityStat {\n    flex: 0 50%;\n    padding-top: 5px;\n    white-space: nowrap;\n}\n\n@media (min-width: endMD) {\n    .activityStat {\n        flex: 0 1 auto;\n        padding: 5px;\n        white-space: nowrap;\n    }\n}\n"],
            sourceRoot: ""
        }]),
        e.locals = {
            endMD: "" + i(1234).locals.endMD,
            activitySmallStat: "ActivitySmallStats_activitySmallStat__2mCHE",
            activityStat: "ActivitySmallStats_activityStat__GSsJj"
        }
    },
    4524: function(t, e) {
        t.exports = '<div class="react-activity-small-stats"></div>'
    },
    4525: function(t, e) {
        t.exports = '\x3c!--Page Top--\x3e\n<div class="spinner-container loading-overlay" style="display: none;">\n    <div class="absolute-center">\n        <div class="text-center">\n            <div class="large spinner"><div></div></div>\n        </div>\n        <div class="h5 text-center font-thin"></div>\n    </div>\n</div>\n\n<span id="notification-placeholder"></span>\n\n<div class="activity-page-header row-fluid page-top">\n\n    \x3c!--Page Intro--\x3e\n    <div id="activityIntroViewPlaceholder" class="span8 page-intro"></div>\n\n    \x3c!--Page Navigation--\x3e\n    <div id="activityToolbarViewPlaceholder" class="span4 page-navigation"></div>\n</div>\n\n\x3c!--Page Content--\x3e\n<div class="row-fluid page-content">\n\n    \x3c!--Left Column--\x3e\n\n    <div class="span8">\n\n        \x3c!-- Multisport Nav --\x3e\n        <ul id="multisportNavPlaceholder" class="nav nav-tabs multisport-nav" style="display: none"/>\n\n        \x3c!-- React ActivitySmallStats Summary --\x3e\n        <div id="react-activitySmallStats"></div>\n\n        \x3c!-- Diving --\x3e\n        <div id="divingLogViewPlaceholder" class="row-fluid"></div>\n\n        \x3c!-- Rep Counting Activities --\x3e\n        <div id="repCountingActivityViewPlaceholder" class="row-fluid bottom-s" style="display: none"></div>\n\n        \x3c!--React Map --\x3e\n        <div class="activity-react-map" class="row-fluid bottom-s activity-map"></div>\n\n        \x3c!-- Map --\x3e\n        <div id="activityMapViewPlaceholder" class="row-fluid bottom-s activity-map"></div>\n\n        \x3c!-- Auto Racing Lap Chart - Is separate from the other charts --\x3e\n        <div id="autoRacingLapChartPlaceholder" class="row-fluid" style="display: none"></div>\n\n        \x3c!-- Climbing Difficulty Chart - Is separate from the other charts --\x3e\n        <div id="climbingDifficultyChartPlaceholder" class="row-fluid" style="display: none"></div>\n\n        <div id="surfWaveMapLegendPlaceholder" class="row-fluid" style="display: none"></div>\n\n        <div id="surfWaveChartPlaceholder" class="row-fluid" style="display: none"></div>\n\n        \x3c!-- Charts --\x3e\n        <div id="activityChartsViewPlaceholder" class="row-fluid bottom-s"></div>\n\n        <div class="row-fluid">\n\n            <div class="span12">\n\n                \x3c!--tabs--\x3e\n                <ul id="activityTabsViewPlaceholder"></ul>\n\n                \x3c!--tab content--\x3e\n                <div class="tab-content">\n                    <div id="tab-stats" class="tab-pane active activity stats"></div>\n                    <div id="tab-splits" class="tab-pane"></div>\n                    <div id="tab-mtb" class="tab-pane"></div>\n                    <div id="tab-gases-and-tanks" class="tab-pane"></div>\n                    <div id="tab-apnea-dives" class="tab-pane"></div>\n                    <div id="tab-segments" class="tab-pane"></div>\n                    <div id="tab-time-in-zones" class="tab-pane"></div>\n                    <div id="tab-cycling-dynamics" class="tab-pane cycling-dynamics"></div>\n                    <div id="tab-power-curve" class="tab-pane"></div>\n                    <div id="tab-playlist" class="tab-pane"></div>\n                </div>\n            </div>\n\n        </div>\n\n    </div>\n\n    \x3c!--Right Column--\x3e\n    <div class="span4">\n\n        <div class="page-sidebar">\n            <div id="activityYouTubePlaceholder" class="video-container" style="display: none;">\n                <div class="video-outer">\n                </div>\n            </div>\n\n            <div id="activityPhotosPlaceholder"></div>\n\n            <div class="executionScore"></div>\n\n            <div class="react-activity-badges"></div>\n\n            \x3c!-- Activity Playlist --\x3e\n            <div id="activityPlaylistPlaceholder"></div>\n\n            <div class="wrapper-top-container border-wrapper"></div>\n\n            <div id="activityLocationViewPlaceholder"></div>\n\n            \x3c!-- Diving Entry / Exit Lat Long  --\x3e\n            <div id ="entryLocationViewPlaceholder"></div>\n\n            <div id="exitLocationViewPlaceholder"></div>\n\n            <div id="activityBuddyViewPlaceholder"></div>\n\n            <div id="activityEquipmentViewPlaceholder"></div>\n\n            \x3c!-- Daily Note --\x3e\n            <div id="activityNoteViewPlaceholder"></div>\n\n            \x3c!--comment container--\x3e\n            <div id="activityCommentsViewPlaceholder" class="comment-container"></div>\n            \x3c!--end .comment-container--\x3e\n\n            <div id="device-info" class="additional-info top-m device-info"></div>\n\n            <div class="dive-app-link-info" class="additional-info top-m device-info"></div>\n\n            <div id="accessory-info" class="additional-info top-m accessory-info"></div>\n\n            <div class="ciq-info top-m"></div>\n\n            <div class="attached-gear top-m text-center" id="attached-gear"></div>\n\n            \x3c!-- Legal --\x3e\n            <div class="legal dense muted top-m" style="display: none;">\n                <p><%- Localizer.localize(\'normalized_power_legal_notice\') %> <a href="http://trainingpeaks.com/"\n                                                                                 class="colored" target="_blank">Peaksware,\n                    LLC</a>.</p>\n            </div>\n            \x3c!-- end Legal --\x3e\n        </div>\n\n    </div>\n\n</div>\n\n<div class="alert bottom-xs alert-error" style="display: none;">\n\n</div>'
    },
    5146: function(t, e, i) {
        "use strict";
        var a = i(2558)
          , n = i(9)
          , r = i.n(n)
          , o = i(0)
          , s = i.n(o)
          , l = i(8)
          , c = i(13)
          , h = i(19)
          , p = i(4446)
          , d = i(37)
          , u = i(102)
          , m = i(4448)
          , f = i.n(m)
          , g = s.a.View.extend({
            template: r.a.template(f.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    ascent: this.model.get("summaryDTO").floorsClimbed,
                    descent: this.model.get("summaryDTO").floorsDescended,
                    minElevation: this.model.get("summaryDTO").minElevation,
                    maxElevation: this.model.get("summaryDTO").maxElevation,
                    indoorClimbElevationGain: d.a.getSplitSummary(this.model.get("splitSummaries"), u.b.CLIMB_ACTIVE).elevationGain,
                    indoorClimbMaxAscent: d.a.getSplitSummary(this.model.get("splitSummaries"), u.b.CLIMB_ACTIVE).maxElevationGain,
                    isIndoorClimbingActivity: d.a.isIndoorClimbingActivity(this.model.get("activityTypeDTO").typeKey) || d.a.isBoulderingActivity(this.model.get("activityTypeDTO").typeKey)
                }))
            }
        })
          , y = i(4449)
          , v = i(4453)
          , b = i(2291)
          , A = i(4455)
          , _ = i.n(A)
          , C = s.a.View.extend({
            template: r.a.template(_.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    time: this.model.get("duration"),
                    elapsedTime: this.model.get("elapsedDuration")
                }))
            }
        })
          , w = i(4456)
          , x = i.n(w)
          , S = s.a.View.extend({
            template: r.a.template(x.a),
            initialize: function(t) {
                this.stats = t.stats,
                this.statsLabel = t.statsLabel,
                this.showStats = !1;
                for (var e = 0; e < this.stats.length; e++)
                    this.stats[e].data && (this.showStats = !0)
            },
            render: function() {
                this.$el.html(this.template({
                    stats: this.stats,
                    statsLabel: this.statsLabel,
                    showStats: this.showStats
                }))
            }
        })
          , T = i(4457)
          , E = i.n(T)
          , k = s.a.View.extend({
            template: r.a.template(E.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    time: this.model.get("duration"),
                    elapsedTime: this.model.get("elapsedDuration"),
                    avgFloorsPerMin: c.a.personalizeFloorClimbingPace(this.model.get("summaryDTO").avgVerticalSpeed),
                    maxFloorsPerMin: c.a.personalizeFloorClimbingPace(this.model.get("summaryDTO").maxVerticalSpeed)
                }))
            }
        })
          , L = i(4458)
          , P = i.n(L)
          , I = s.a.View.extend({
            template: r.a.template(P.a),
            initialize: function(t) {
                this.activity = t.model
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    activeClimbDuration: d.a.getSplitSummary(this.activity.splitSummaries, u.b.CLIMB_ACTIVE).duration,
                    restClimbDuration: d.a.getSplitSummary(this.activity.splitSummaries, u.b.CLIMB_REST).duration,
                    totalClimbTime: this.activity && this.activity.duration
                })),
                this
            },
            destroy: function() {
                this.off()
            }
        })
          , z = i(4459)
          , B = i.n(z)
          , D = s.a.View.extend({
            template: r.a.template(B.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    time: this.model.get("duration")
                }))
            }
        })
          , M = i(2293)
          , O = i(4460)
          , R = i.n(O)
          , N = s.a.View.extend({
            template: r.a.template(R.a),
            initialize: function(t) {},
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    activity: this.model.toJSON(),
                    Personalizer: c.a,
                    showPositionTab: this.shouldShowPositionTab()
                }))
            },
            shouldShowPositionTab: function() {
                return !("undefined" === typeof this.model.get("standingTime"))
            }
        })
          , V = i(4461)
          , j = i.n(V)
          , F = s.a.View.extend({
            template: r.a.template(j.a),
            initialize: function(t) {
                return this.activity = t.activity,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    activity: this.activity,
                    useUsersUnitSetting: this.useUsersUnitSetting()
                })),
                this
            },
            useUsersUnitSetting: function() {
                return "stand_up_paddleboarding" === this.activity.activityTypeDTO.typeKey
            }
        })
          , G = i(93)
          , U = i(4462)
          , H = i.n(U)
          , K = s.a.View.extend({
            template: r.a.template(H.a),
            attributes: function() {
                return {
                    class: function() {
                        return "data-block small"
                    }
                }
            },
            initialize: function(t) {
                this.presentationData = t.presentationData,
                this.getLocalizerString = t.getLocalizerString,
                this.tooltipTemplate = t.tooltipTemplate
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    model: this.model,
                    getLocalizerString: this.getLocalizerString,
                    presentationData: this.presentationData,
                    tooltipTemplate: this.tooltipTemplate
                })),
                G.a.renderTooltips.call(this),
                this
            }
        })
          , W = i(4463)
          , Q = i.n(W)
          , Y = s.a.View.extend({
            template: r.a.template(Q.a),
            attributes: function() {
                return {
                    class: function() {
                        return "stat-block"
                    }
                }
            },
            initialize: function(t) {
                return this.connectIQPresentationUtil = t.connectIQPresentationUtil,
                this
            },
            render: function() {
                var t, e, i;
                if (this.$el.html(this.template({
                    Localizer: l.a
                })),
                this.collection)
                    for (var a in this.collection)
                        if (t = this.collection[a])
                            for (var n = 0, o = t.data.length; n < o; n += 1)
                                (i = t.data[n]) && (e = r.a.find(t.fitContributionsJSON.datafields, function(t) {
                                    return t.id === i.developerFieldNumber
                                })) && this.$el.append(new K({
                                    model: i,
                                    presentationData: e,
                                    getLocalizerString: r.a.bind(t.getLocalizerString, t),
                                    tooltipTemplate: this.connectIQPresentationUtil.getHelpTooltipTemplate(t)
                                }).render().el);
                return this
            }
        })
          , Z = i(4464)
          , $ = i.n(Z)
          , q = s.a.View.extend({
            template: r.a.template($.a),
            initialize: function() {
                return this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    model: this.model
                })),
                this
            }
        })
          , X = i(1462)
          , J = i(32)
          , tt = s.a.View.extend({
            initialize: function(t) {},
            render: function() {
                this.helpModalView && this.helpModalView.destroy(),
                this.helpModalView = new X.a({
                    reactComponent: window.NutritionHydrationModal,
                    props: {}
                }),
                new J.a({
                    view: this.helpModalView,
                    showFooter: !1,
                    customClasses: "",
                    modalTitle: l.a.localize("help.title")
                }).render()
            }
        })
          , et = i(4465)
          , it = i.n(et)
          , at = s.a.View.extend({
            template: r.a.template(it.a),
            className: "stat-block",
            events: {
                "click #nutrition-hydration-help": "onNutritionHydrationHelpClicked"
            },
            initialize: function(t) {
                return this.activity = t.activity,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    activity: this.activity,
                    Personalizer: c.a,
                    Localizer: l.a,
                    hasNutritionAndHydrationData: this.hasNutritionAndHydrationData(),
                    nutritionAndHydrationData: this.getNutritionAndHydrationData()
                })),
                this
            },
            getNutritionAndHydrationData: function() {
                var t = "--"
                  , e = "--"
                  , i = "--"
                  , a = "--"
                  , n = "--"
                  , r = "--";
                return (null !== this.activity.calories || void 0 !== this.activity.calories) && this.activity.calories >= 0 && (t = this.activity.calories),
                null !== this.activity.caloriesConsumed && void 0 !== this.activity.caloriesConsumed && this.activity.caloriesConsumed >= 0 && (e = this.activity.caloriesConsumed),
                (null !== this.activity.waterEstimated || void 0 !== this.activity.waterEstimated) && this.activity.waterEstimated >= 0 && (a = this.activity.waterEstimated),
                (null !== this.activity.waterConsumed || void 0 !== this.activity.waterConsumed) && this.activity.waterConsumed >= 0 && (n = this.activity.waterConsumed),
                i = "--" === t ? e : ("--" === e ? 0 : e) - t,
                r = "--" === a ? n : ("--" === n ? 0 : n) - a,
                {
                    caloriesEstimated: this.formatWholeNumber(t),
                    caloriesConsumed: this.formatWholeNumber(e),
                    caloriesNet: this.formatWholeNumber(i),
                    waterEstimated: a,
                    waterConsumed: n,
                    waterNet: r
                }
            },
            formatWholeNumber: function(t) {
                return "--" === t ? t : c.a.formatWholeNumber(t)
            },
            onNutritionHydrationHelpClicked: function(t) {
                t.preventDefault(),
                new tt({}).render()
            },
            hasNutritionAndHydrationData: function() {
                return this.activity.caloriesConsumed || this.activity.waterEstimated || this.activity.waterConsumed
            }
        })
          , nt = (i(2345),
        i(2125))
          , rt = i(64)
          , ot = i(2014)
          , st = i(4466)
          , lt = i.n(st)
          , ct = s.a.View.extend({
            template: r.a.template(lt.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    NavigationUtil: rt.default
                })),
                this.renderVideoPlayer()
            },
            renderVideoPlayer: function() {
                new ot.a({
                    width: "100%",
                    sources: [{
                        src: "https://connectvideo.garmin.com/training-plans/amy-parkerson/37516ceb3240.mp4",
                        type: "video/mp4"
                    }],
                    subtitles: []
                })
            }
        })
          , ht = i(1364)
          , pt = i(4467)
          , dt = i.n(pt)
          , ut = s.a.View.extend({
            template: r.a.template(dt.a),
            events: {
                "click .training-effect-help": "onTrainingEffectHelpClicked",
                "click .help-exercise-load": "onExerciseLoadHelpClicked"
            },
            initialize: function(t) {
                this.isYoga = t.isYoga,
                this.isFloorClimbingActivity = t.isFloorClimbingActivity,
                this.isPilatesActivity = t.isPilatesActivity
            },
            render: function() {
                var t = this.template({
                    Localizer: l.a,
                    trainingEffectStats: this.getTrainingEffectStats()
                });
                this.$el.html(t)
            },
            getTrainingEffectStats: function() {
                var t = [];
                if (this.model.has("trainingEffectLabel")) {
                    var e = ht.a.getPrimaryBenefit(this.model.get("trainingEffectLabel"));
                    e && e.label && t.push({
                        metric: l.a.localize(e.label),
                        label: l.a.localize("label.te.primary_benefit"),
                        hasChip: e.color,
                        hasHelpIcon: !1
                    })
                }
                if (this.canShowTrainingEffect("trainingEffect")) {
                    var i = c.a.personalizeTrainingEffect(this.model.get("trainingEffect"))
                      , a = (this.model.get("aerobicTrainingEffectMessage"),
                    ht.a.getShortFeedbackTitle(this.model.get("trainingEffect")));
                    t.push({
                        metric: i + " " + a,
                        label: l.a.localize("label.aerobic.te"),
                        hasHelpIcon: !1,
                        hasChip: !1
                    })
                }
                if (this.canShowTrainingEffect("anaerobicTrainingEffect")) {
                    var n = c.a.personalizeTrainingEffect(this.model.get("anaerobicTrainingEffect"));
                    this.model.get("anaerobicTrainingEffectMessage"),
                    a = ht.a.getShortFeedbackTitle(this.model.get("anaerobicTrainingEffect"));
                    t.push({
                        metric: n + " " + a,
                        label: l.a.localize("label.anaerobic.te"),
                        hasHelpIcon: !1,
                        hasChip: !1
                    })
                }
                return this.model.has("activityTrainingLoad") && t.push({
                    metric: c.a.formatDecimalNumber(this.model.get("activityTrainingLoad")),
                    label: l.a.localize("exercise_load"),
                    hasHelpIcon: {
                        selectByClass: "help-exercise-load"
                    },
                    hasChip: !1
                }),
                t
            },
            canShowTrainingEffect: function(t) {
                return this.model.has(t) && (!this.isYoga || !this.isFloorClimbingActivity || !this.isPilatesActivity)
            },
            onExerciseLoadHelpClicked: function(t) {
                t.preventDefault();
                var e = new ct({});
                new J.a({
                    view: e,
                    showFooter: !1,
                    modalTitle: l.a.localize("epoc_abbr")
                }).render()
            },
            onTrainingEffectHelpClicked: function(t) {
                t.preventDefault(),
                new nt.a({
                    aerobicScore: this.canShowTrainingEffect("trainingEffect") ? this.model.get("trainingEffect") : null,
                    aerobicScoreMessage: this.model.has("aerobicTrainingEffectMessage") ? this.model.get("aerobicTrainingEffectMessage") : null,
                    anaerobicScore: this.canShowTrainingEffect("anaerobicTrainingEffect") ? this.model.get("anaerobicTrainingEffect") : null,
                    anaerobicScoreMessage: this.model.has("anaerobicTrainingEffectMessage") ? this.model.get("anaerobicTrainingEffectMessage") : null,
                    primaryBenefit: this.model.has("trainingEffectLabel") ? ht.a.getPrimaryBenefit(this.model.get("trainingEffectLabel")) : null,
                    isWidget: !1
                }).render()
            }
        })
          , mt = i(4468)
          , ft = i.n(mt)
          , gt = s.a.View.extend({
            template: r.a.template(ft.a),
            initialize: function(t) {
                this.speedModel = t.speedModel,
                this.activity = t.activity
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    speedModel: this.speedModel,
                    activity: this.activity
                })),
                this
            },
            destroy: function() {
                this.off()
            }
        })
          , yt = i(4469)
          , vt = i.n(yt)
          , bt = s.a.View.extend({
            template: r.a.template(vt.a),
            initialize: function(t) {
                this.splitSummaries = this.model.get("splitSummaries")
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    activity: this.model.toJSON(),
                    maxSpeed: d.a.getSplitSummary(this.splitSummaries, "SURF_ACTIVE").maxSpeed,
                    avgSpeed: d.a.getSplitSummary(this.splitSummaries, "SURF_ACTIVE").averageSpeed
                })),
                this
            },
            destroy: function() {
                this.off()
            }
        })
          , At = i(4470)
          , _t = i.n(At)
          , Ct = s.a.View.extend({
            template: r.a.template(_t.a),
            initialize: function(t) {
                this.splitSummaries = Object(u.e)(t.splitSummaries),
                this.indoorClimbDifficulty = t.indoorClimbDifficulty,
                this.splitSummaries[u.b.CLIMB_ACTIVE] && (this.routeMaxDifficulty = Object(u.c)(this.splitSummaries[u.b.CLIMB_ACTIVE].maxGradeValue.scale, this.splitSummaries[u.b.CLIMB_ACTIVE].maxGradeValue.valueKey, this.indoorClimbDifficulty))
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    splitSummaries: this.splitSummaries[u.b.CLIMB_ACTIVE],
                    routeMaxDifficulty: this.routeMaxDifficulty
                })),
                this
            },
            destroy: function() {
                this.off()
            }
        })
          , wt = i(4471)
          , xt = i.n(wt)
          , St = {
            running: "interval_active_type_running",
            cycling: "interval_active_type_cycling",
            swimming: "interval_active_type_swimming"
        }
          , Tt = s.a.View.extend({
            template: r.a.template(xt.a),
            initialize: function(t) {
                this.activityModel = t.activity,
                this.activityTypes = t.activityTypes,
                this.activityTypeKey = this.activityModel.get("activityTypeDTO").typeKey
            },
            render: function() {
                var t = this.model.getActiveIntervalSummary();
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    time: t.get("duration"),
                    distance: t.get("distance"),
                    pace: t.get("averageSpeed"),
                    speedPacelabel: this.getSpeedPaceLabel(),
                    activity: this.activityModel.toJSON(),
                    activityType: this.getParentActivityType()
                }))
            },
            getSpeedPaceLabel: function() {
                return l.a.localize(c.a.getSpeedTypeLabelKey(this.activityTypeKey))
            },
            getParentActivityType: function() {
                var t = this.activityTypes.getParentType(this.activityTypeKey);
                return St[t.get("typeKey")] || "activity_type_other"
            }
        })
          , Et = i(65)
          , kt = i(56)
          , Lt = i(57)
          , Pt = i(63)
          , It = i(61)
          , zt = i(62)
          , Bt = i(11)
          , Dt = i.n(Bt)
          , Mt = i(83)
          , Ot = i(2564)
          , Rt = i.n(Ot)
          , Nt = i(40)
          , Vt = function(t) {
            function e() {
                return Object(kt.a)(this, e),
                Object(Pt.a)(this, Object(It.a)(e).apply(this, arguments))
            }
            return Object(zt.a)(e, t),
            Object(Lt.a)(e, [{
                key: "getCadenceRanges",
                value: function() {
                    return [{
                        color: Nt.color_705,
                        description: "> 120"
                    }, {
                        color: Nt.color_223,
                        description: "90 - 120"
                    }, {
                        color: Nt.color_401,
                        description: "60 - 90"
                    }, {
                        color: Nt.color_601,
                        description: "30 - 60"
                    }, {
                        color: Nt.color_301,
                        description: "0 - 30"
                    }]
                }
            }, {
                key: "render",
                value: function() {
                    return Dt.a.createElement(Dt.a.Fragment, null, Dt.a.createElement("div", {
                        className: "".concat(Rt.a.title, " marBottomSM")
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_cadence_help_heading"
                    })), Dt.a.createElement("div", {
                        className: "".concat(Rt.a.bodyOne, " marBottomSM")
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_cadence_help_description"
                    })), Dt.a.createElement("div", {
                        className: "".concat(Rt.a.titleTwo, " marBottomSM")
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_zones_heading"
                    })), Dt.a.createElement("div", {
                        className: "".concat(Rt.a.bodyTwo, " marBottomSM")
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_zones_description"
                    })), this.cadenceRanges(), Dt.a.createElement("div", {
                        className: "".concat(Rt.a.titleTwo, " marBottomSM")
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_importance_heading"
                    })), Dt.a.createElement("div", {
                        className: "".concat(Rt.a.bodyTwo, " marBottomSM")
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_importance_description_1"
                    })), Dt.a.createElement("div", {
                        className: "".concat(Rt.a.bodyTwo, " marBottomSM")
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_importance_description_2"
                    })))
                }
            }, {
                key: "cadenceRanges",
                value: function() {
                    var t = this.getCadenceRanges()
                      , e = t.map(function(t) {
                        return Dt.a.createElement("tr", {
                            key: t.color
                        }, Dt.a.createElement("td", null, Dt.a.createElement("div", {
                            className: Rt.a.colorCircle
                        }, Dt.a.createElement("span", {
                            style: {
                                backgroundColor: t.color
                            }
                        }))), Dt.a.createElement("td", null, t.description))
                    });
                    return Dt.a.createElement("table", {
                        className: "marBottomSM"
                    }, Dt.a.createElement("thead", null, Dt.a.createElement("tr", null, Dt.a.createElement("th", {
                        className: "padRightSM"
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_zone"
                    })), Dt.a.createElement("th", null, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_cadence_help_cadence_range"
                    })))), Dt.a.createElement("tbody", null, e))
                }
            }]),
            e
        }(Dt.a.Component)
          , jt = s.a.View.extend({
            template: r.a.template("<div></div>"),
            render: function() {
                this.$el.html(this.template({})),
                (new Et.a).renderComponent(Vt, this.$("div")[0], {})
            }
        })
          , Ft = function(t) {
            function e() {
                return Object(kt.a)(this, e),
                Object(Pt.a)(this, Object(It.a)(e).apply(this, arguments))
            }
            return Object(zt.a)(e, t),
            Object(Lt.a)(e, [{
                key: "render",
                value: function() {
                    return Dt.a.createElement(Dt.a.Fragment, null, Dt.a.createElement("div", {
                        className: "".concat(Rt.a.title, " marBottomSM")
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_heading"
                    })), Dt.a.createElement("div", {
                        className: "".concat(Rt.a.bodyOne, " marBottomSM")
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_description"
                    })), Dt.a.createElement("div", {
                        className: "".concat(Rt.a.titleTwo, " marBottomSM")
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_how_heading"
                    })), Dt.a.createElement("div", {
                        className: "".concat(Rt.a.bodyTwo, " marBottomSM")
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_how_description"
                    })), Dt.a.createElement("div", {
                        className: "".concat(Rt.a.titleTwo, " marBottomSM")
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_value_heading"
                    })), Dt.a.createElement("div", {
                        className: "".concat(Rt.a.bodyTwo, " marBottomSM")
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_value_description_1"
                    })), Dt.a.createElement("div", {
                        className: "".concat(Rt.a.bodyTwo, " marBottomSM")
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "ski_glide_length_help_value_description_2"
                    })))
                }
            }]),
            e
        }(Dt.a.Component)
          , Gt = s.a.View.extend({
            template: r.a.template("<div></div>"),
            render: function() {
                this.$el.html(this.template({})),
                (new Et.a).renderComponent(Ft, this.$("div")[0], {})
            }
        })
          , Ut = i(1279)
          , Ht = i(1253)
          , Kt = i(50)
          , Wt = i(4473)
          , Qt = i.n(Wt)
          , Yt = i(4474)
          , Zt = i.n(Yt)
          , $t = s.a.View.extend({
            template: r.a.template(Zt.a),
            render: function() {
                this.$el.html(this.template({
                    Localizer: l.a,
                    Personalizer: c.a,
                    startStress: this.model.get("startStress"),
                    endStress: this.model.get("endStress"),
                    stressChange: this.model.get("differenceStress")
                }))
            }
        })
          , qt = i(2295)
          , Xt = i(1337)
          , Jt = i(71)
          , te = i(489)
          , ee = i(79)
          , ie = i(1940)
          , ae = i(1629)
          , ne = i.n(ae)
          , re = {
            fetchSelfEvaluationIcons: qt.a
        }
          , oe = function(t) {
            function e(t) {
                var i;
                return Object(kt.a)(this, e),
                (i = Object(Pt.a)(this, Object(It.a)(e).call(this, t))).onHelpClicked = function() {
                    i.setState({
                        showHelpModal: !0
                    })
                }
                ,
                i.closeModal = function() {
                    i.setState({
                        showHelpModal: !1
                    })
                }
                ,
                i.state = {
                    showHelpModal: !1
                },
                i
            }
            return Object(zt.a)(e, t),
            Object(Lt.a)(e, [{
                key: "componentDidMount",
                value: function() {
                    this.props.fetchSelfEvaluationIcons()
                }
            }, {
                key: "getFeel",
                value: function() {
                    var t = {}
                      , e = this.props.feel;
                    switch (!0) {
                    case 100 === e:
                        t = {
                            icon: "very_strong",
                            text: "very_strong"
                        };
                        break;
                    case e > 74:
                        t = {
                            icon: "strong",
                            text: "strong"
                        };
                        break;
                    case e > 49:
                        t = {
                            icon: "normal",
                            text: "normal"
                        };
                        break;
                    case e > 24:
                        t = {
                            icon: "weak",
                            text: "weak"
                        };
                        break;
                    case e < 25:
                        t = {
                            icon: "very_weak",
                            text: "very_weak"
                        };
                        break;
                    default:
                        t = void 0
                    }
                    return t
                }
            }, {
                key: "getPerceivedEffort",
                value: function() {
                    var t = {}
                      , e = this.props.rpe;
                    switch (!0) {
                    case 100 === e:
                        t = {
                            score: 10,
                            text: "maximum"
                        };
                        break;
                    case e > 89:
                        t = {
                            score: 9,
                            text: "extremely_hard"
                        };
                        break;
                    case e > 79:
                        t = {
                            score: 8,
                            text: "very_hard"
                        };
                        break;
                    case e > 69:
                        t = {
                            score: 7,
                            text: "very_hard"
                        };
                        break;
                    case e > 59:
                        t = {
                            score: 6,
                            text: "hard"
                        };
                        break;
                    case e > 49:
                        t = {
                            score: 5,
                            text: "hard"
                        };
                        break;
                    case e > 39:
                        t = {
                            score: 4,
                            text: "somewhat_hard"
                        };
                        break;
                    case e > 29:
                        t = {
                            score: 3,
                            text: "moderate"
                        };
                        break;
                    case e > 19:
                        t = {
                            score: 2,
                            text: "light"
                        };
                        break;
                    case e > 0:
                        t = {
                            score: 1,
                            text: "very_light"
                        };
                        break;
                    case 0 === e:
                        t = {
                            score: 0,
                            text: "none"
                        };
                        break;
                    default:
                        t = void 0
                    }
                    return t
                }
            }, {
                key: "render",
                value: function() {
                    var t = this.getFeel()
                      , e = this.getPerceivedEffort()
                      , i = this.props.selfEvaluationIcons
                      , a = i && t && t.text ? i[t.text.toUpperCase()] : null;
                    return Dt.a.createElement(Dt.a.Fragment, null, Dt.a.createElement("h3", null, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "self_evaluation"
                    }), Dt.a.createElement("span", {
                        className: ne.a.helpIcon
                    }, Dt.a.createElement(ee.HelpIcon, {
                        onClick: this.onHelpClicked
                    }))), Dt.a.createElement(ee.DataBlock, {
                        size: "small"
                    }, Dt.a.createElement(ee.DataField, null, t ? Dt.a.createElement("div", {
                        className: ne.a.feelCheckboxLabel
                    }, Dt.a.createElement("span", {
                        className: "".concat(ne.a.feelIconContainer, " ").concat(ne.a.feelStaticIconContainer)
                    }, a ? Dt.a.createElement(Xt.a, {
                        animateToFrameOnLoad: 60,
                        animationData: a
                    }) : null), Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: t.text
                    })) : "--"), Dt.a.createElement(ee.DataLabel, null, Dt.a.createElement("div", {
                        className: ne.a.clear
                    }, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "how_did_you_feel"
                    })))), Dt.a.createElement("div", {
                        className: "marBottomXS"
                    }), Dt.a.createElement(ee.DataBlock, {
                        size: "small"
                    }, Dt.a.createElement(ee.DataField, null, e ? Dt.a.createElement(Dt.a.Fragment, null, e.score, "/10\xa0", Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: e.text
                    })) : "--"), Dt.a.createElement(ee.DataLabel, null, Dt.a.createElement(Mt.a, {
                        ns: "activity",
                        content: "perceived_effort"
                    }))), Dt.a.createElement(ie.a, {
                        openModal: this.state.showHelpModal,
                        onCloseModal: this.closeModal,
                        content: "self-evaluation"
                    }))
                }
            }]),
            e
        }(Dt.a.Component)
          , se = Object(Jt.b)(function(t) {
            return {
                selfEvaluationIcons: Object(te.b)(t)
            }
        }, re)(oe)
          , le = {
            SpeedPaceToggled: "SpeedPaceToggled",
            DisplayWeightEntryPopup: "DisplayWeightEntryPopup",
            WeightChangedFromPowerStats: "WeightChangedFromPowerStats"
        }
          , ce = {
            0: "activity_rating_too_easy",
            25: "activity_rating_easy",
            50: "activity_rating_moderate",
            75: "activity_rating_hard",
            100: "activity_rating_very_hard"
        }
          , he = s.a.View.extend({
            template: r.a.template(Qt.a),
            events: {
                "click .avg-cadence-help": "onClickAvgCadenceHelp",
                "click .avg-stride-length-help": "onClickAvgStrideLengthHelp"
            },
            initialize: function(t) {
                this.powerZones = t.powerZones,
                this.heartRateZones = t.heartRateZones,
                this.canDisplayVectorAirInfo = t.canDisplayVectorAirInfo,
                this.hasWorkoutExecutionScore = t.hasWorkoutExecutionScore,
                this.getAvgCadenceHelpTooltipText = this.getAvgCadenceHelpTooltipText.bind(this),
                this.getAvgStrideLengthHelpTooltipText = this.getAvgStrideLengthHelpTooltipText.bind(this),
                this.workoutMetricsEnabled = t.workoutMetricsEnabled
            },
            setData: function(t, e, i, a, n, r, o, s) {
                this.model = t,
                this.splitSummaries = e,
                this.hasPowerData = i,
                this.usersWeight = a,
                this.repCountingActivity = n,
                this.splits = r,
                this.indoorClimbDifficulty = o,
                this.hasTypedSplits = s
            },
            render: function() {
                try {
                    var t = h.a.getDisplayName() === this.model.get("userInfoDto").displayname
                      , e = this.model.hasCyclingDynamicsData()
                      , i = this.hasStrokesData()
                      , a = this.hasStressData()
                      , n = this.isStrengthTrainingActivity()
                      , o = d.a.isPilatesActivity(this.model.get("activityTypeDTO").typeKey)
                      , s = d.a.isAutoRacingActivity(this.model.get("activityTypeDTO").typeKey)
                      , u = d.a.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey)
                      , m = d.a.isIndoorClimbingActivity(this.model.get("activityTypeDTO").typeKey) || d.a.isBoulderingActivity(this.model.get("activityTypeDTO").typeKey)
                      , f = (this.isBackCountrySkiActivity(),
                    this.isSkateSkiActivity())
                      , A = this.isYogaActivity()
                      , _ = this.isFloorClimbingActivity()
                      , w = this.isDivingActivity()
                      , x = this.isCrossCountrySkiActivity()
                      , S = d.a.isSurfingActivity(this.model.get("activityTypeDTO").typeKey)
                      , T = this.model.toJSON()
                      , E = this.hasCalories()
                      , L = this.template({
                        Localizer: l.a,
                        Personalizer: c.a,
                        activity: T,
                        showElevationGain: !c.a.isSwimmingActivity(T.activityTypeDTO.typeKey),
                        showCyclingDynamics: e,
                        hasStrokesData: i,
                        isDivingActivity: w,
                        isBreathworkActivity: u,
                        isYogaActivity: A,
                        isSurfingActivity: S,
                        showDistanceData: this.showDistanceData(),
                        showRespirationRateData: this.showRespirationRateData(),
                        filteredRespirationRateData: this.filterRespirationRateData(),
                        adaptiveRating: ce[T.summaryDTO.perceivedWorkoutEffort] || null,
                        url: rt.default.url,
                        hasCalories: E,
                        getAvgCadenceHelpTooltipText: this.getAvgCadenceHelpTooltipText,
                        getAvgStrideLengthHelpTooltipText: this.getAvgStrideLengthHelpTooltipText,
                        hasTypedSplits: this.hasTypedSplits,
                        skiDynamics: x || f
                    });
                    if (this.$el.html(L),
                    E && this.$("#caloriesPlaceholder").html(new at({
                        activity: T
                    }).render().el),
                    this.hasTrainingEffectData())
                        new ut({
                            el: this.$("#trainingEffectStatsPlaceholder"),
                            model: this.model,
                            isYoga: A,
                            isFloorClimbingActivity: _,
                            isPilatesActivity: o
                        }).render();
                    if (T.averageHR || T.maxHR) {
                        var P = Ht.a.map(this.model.getActivityTypeKey())
                          , z = null;
                        this.heartRateZones && (z = this.heartRateZones.findBySport(P.toUpperCase()),
                        (r.a.isUndefined(z) || r.a.isNull(z)) && (z = this.heartRateZones.findBySport("DEFAULT"))),
                        new p.a({
                            el: this.$("#heartRateStatsPlaceholder"),
                            heartRateZones: z,
                            model: this.model,
                            enableToggle: t,
                            isYoga: A,
                            isFloorClimbingActivity: _,
                            isPilatesActivity: o,
                            isAutoRacingActivity: s,
                            isBreathworkActivity: u
                        }).render()
                    }
                    if (this.hasPowerData && (this.powerStatsView = new y.a({
                        el: this.$("#powerStatsPlaceholder"),
                        powerZones: this.powerZones ? this.powerZones.getZonesWithCeilingDefined() : null,
                        model: this.model,
                        enableToggle: t,
                        usersWeight: this.usersWeight
                    }),
                    t && (this.listenTo(this.powerStatsView, y.a.Events.DisplayWeightEntryPopup, function(t) {
                        this.trigger(le.DisplayWeightEntryPopup, t)
                    }, this),
                    this.listenTo(this.powerStatsView, y.a.Events.WeightChangedFromPowerStats, function(t) {
                        this.setAndApplyWeight(t),
                        this.trigger(le.WeightChangedFromPowerStats, t)
                    }, this)),
                    this.powerStatsView.render()),
                    s)
                        new gt({
                            el: this.$("#autoRacingStatsPlaceholder"),
                            activity: T,
                            speedModel: Ut.a.getSpeedModelforActivity(T)
                        }).render(),
                        this.$(".activity-distance").hide(),
                        this.$("#trainingEffectStatsPlaceholder").hide(),
                        this.$("#timingStatsPlaceholder").hide();
                    if (m)
                        new Ct({
                            el: this.$("#indoorClimbRoutesPlaceholder"),
                            splitSummaries: this.splitSummaries.toJSON(),
                            indoorClimbDifficulty: this.indoorClimbDifficulty
                        }).render();
                    if (e)
                        new N({
                            el: this.$("#cyclingDynamicsPlaceholder"),
                            model: this.model
                        }).render();
                    if (i && new F({
                        el: this.$("#strokesPlaceholder"),
                        activity: T
                    }).render(),
                    _ || m)
                        new g({
                            el: this.$("#ascentStatsView"),
                            model: this.model
                        }).render();
                    if (A)
                        new C({
                            el: this.$("#timingStatsYogaPlaceholder"),
                            model: this.model
                        }).render(),
                        (O = new M.a({
                            el: this.$("#workoutDetailsStatsPlaceholder"),
                            model: this.model,
                            repCountingActivity: this.repCountingActivity,
                            isYogaActivity: A
                        })).render();
                    else if (_) {
                        new k({
                            el: this.$("#timingStatsFloorClimbingPlaceholder"),
                            model: this.model
                        }).render()
                    } else if (m) {
                        new I({
                            el: this.$("#timingStatsIndoorClimbPlaceholder"),
                            model: this.model.toJSON()
                        }).render()
                    } else if (w)
                        this.renderDivingStatsViews(t);
                    else if (n || o) {
                        var B = new b.a({
                            el: this.$("#timingStatsRepCountingPlaceholder"),
                            model: this.model.toJSON(),
                            repCountingActivity: this.repCountingActivity,
                            splits: this.splits,
                            isPilatesActivity: o
                        })
                          , O = new M.a({
                            el: this.$("#workoutDetailsStatsPlaceholder"),
                            model: this.model,
                            repCountingActivity: this.repCountingActivity,
                            isPilatesActivity: o
                        });
                        B.render(),
                        O.render()
                    } else if (u) {
                        new D({
                            el: this.$("#timingStatsBreathworkPlaceholder"),
                            model: this.model
                        }).render()
                    } else {
                        var R = new v.a({
                            el: this.$("#timingStatsPlaceholder"),
                            model: this.model
                        });
                        this.listenTo(R, v.a.Events.SpeedPaceToggled, this.onSpeedPageToggled),
                        R.render()
                    }
                    if (S)
                        new bt({
                            el: this.$("#speedStatsSurfingPlaceholder"),
                            model: this.model
                        }).render();
                    if (a && new $t({
                        el: this.$("#stressStatsPlaceholder"),
                        model: this.model
                    }).render(),
                    this.canDisplayVectorAirInfo && this.hasVectorAirCdAData() && this.$("#vectorAirMeasurementPlaceholder").html(new q({
                        model: T
                    }).render().el),
                    this.hasIntensityIntervals())
                        new Tt({
                            el: this.$("#workoutIntervalsStatsPlaceholder"),
                            model: this.splitSummaries,
                            activity: this.model,
                            activityTypes: this.activityTypes
                        }).render();
                    if (this.renderStatsBasedOnActivityType(),
                    G.a.renderTooltips.call(this),
                    this.shouldDisplayExecutionMetrics())
                        if (this.workoutMetricsEnabled)
                            (ce[T.summaryDTO.perceivedWorkoutEffort] || null) && T.summaryDTO.atpPlanId || (this.displaySelfEvaluation(),
                            this.hasWorkoutExecutionScore && this.hasWorkoutExecutionScore > 0 && this.displayExecutionScore())
                } catch (V) {
                    console && console.log(V)
                }
            },
            renderStatsBasedOnActivityType: function() {
                var t = this.$(".span3:first-child")
                  , e = this.$(".span3:nth-child(2)")
                  , i = this.$(".span3:nth-child(4)");
                this.isBreathworkActivity() && (this.$(".respiration-block").prependTo(e),
                this.$("#heartRateStatsPlaceholder").prependTo(i)),
                this.isYogaActivity() && (this.$("#stressStatsPlaceholder").appendTo(t),
                this.$("#workoutDetailsStatsPlaceholder").prependTo(i),
                this.$(".respiration-block").appendTo(e))
            },
            renderConnectIQView: function(t) {
                if (this.model) {
                    var e, i = this.model.get("connectIQMeasurements");
                    i && (e = t.getVisibleAndSortedCollection(i, t.VisibilityArea.stats)) && !r.a.isEmpty(e) && this.$("#connectIQMeasurementPlaceholder").html(new Y({
                        collection: e,
                        connectIQPresentationUtil: t
                    }).render().el)
                }
            },
            hasStrokesData: function() {
                return this.model.hasStrokeData()
            },
            hasStressData: function() {
                return !(!this.isBreathworkActivity() && !this.isYogaActivity()) && (this.model.has("startStress") || this.model.has("endStress") || this.model.has("differenceStress"))
            },
            isStrengthTrainingActivity: function() {
                return d.a.isStrengthTrainingActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isYogaActivity: function() {
                return this.model.get("activityTypeDTO").typeKey === Kt.a.Yoga
            },
            isBackCountrySkiActivity: function() {
                return d.a.isBackcountrySkiActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isCrossCountrySkiActivity: function() {
                return d.a.isCrosscountrySkiActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isSkateSkiActivity: function() {
                return d.a.isSkateSkiActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isFloorClimbingActivity: function() {
                return this.model.isFloorClimbing()
            },
            isDivingActivity: function() {
                return d.a.isDivingActivity(this.model.get("activityTypeDTO").typeKey)
            },
            isBreathworkActivity: function() {
                return d.a.isBreathworkActivity(this.model.get("activityTypeDTO").typeKey)
            },
            onSpeedPageToggled: function(t, e) {
                this.trigger(le.SpeedPaceToggled, t, e)
            },
            setAndApplyWeight: function(t) {
                this.usersWeight && this.usersWeight === t || (this.usersWeight = t,
                this.powerStatsView && "function" === typeof this.powerStatsView.setAndApplyWeight && this.powerStatsView.setAndApplyWeight(t))
            },
            showDistanceData: function() {
                var t = this.model.get("activityTypeDTO").typeKey;
                return "strength_training" !== t && "pilates" !== t && "yoga" !== t && "floor_climbing" !== t && !this.isDivingActivity() && !this.isBreathworkActivity()
            },
            showRespirationRateData: function() {
                return !(!this.isBreathworkActivity() && !this.isYogaActivity()) || (this.model.has("avgRespirationRate") || this.model.has("maxRespirationRate") || this.model.has("minRespirationRate"))
            },
            filterRespirationRateData: function() {
                if (this.model.get("metadataDTO").manualActivity) {
                    if (this.isBreathworkActivity())
                        return {
                            minRespirationRate: !1,
                            maxRespirationRate: !1
                        };
                    if (this.isYogaActivity())
                        return {
                            minRespirationRate: !1,
                            maxRespirationRate: !0
                        }
                }
                return {
                    minRespirationRate: !0,
                    maxRespirationRate: !0
                }
            },
            hasTrainingEffectData: function() {
                return this.model.has("trainingEffect") || this.model.has("anaerobicTrainingEffect")
            },
            renderDivingStatsViews: function(t) {
                var e = this.model.get("diveInfo")
                  , i = this.model.toJSON();
                (new S({
                    el: this.$("#divingConservatismStatsPlaceholder"),
                    statsLabel: l.a.localize("dive_conservatism_label"),
                    stats: [{
                        data: i.diveInfo && i.diveInfo.diveSettings ? c.a.personalizeDiveConservatism(i.diveInfo.diveSettings.gfLow, i.diveInfo.diveSettings.gfHigh, l.a) : null,
                        dataLabel: l.a.localize("dive_conservatism_label")
                    }]
                }).render(),
                new S({
                    el: this.$("#divingDepthStatsPlaceholder"),
                    statsLabel: l.a.localize("depth_label"),
                    stats: [{
                        data: i.averageDepth ? c.a.personalizeDepth(i.averageDepth) : null,
                        dataUnit: l.a.localize(c.a.getDepthUnitKey()),
                        dataLabel: l.a.localize("avg_depth_abbr")
                    }, {
                        data: i.maxDepth ? c.a.personalizeDepth(i.maxDepth) : null,
                        dataUnit: l.a.localize(c.a.getDepthUnitKey()),
                        dataLabel: l.a.localize("max_depth")
                    }]
                }).render(),
                d.a.isApneaDiving(i.activityTypeDTO.typeKey)) ? new S({
                    el: this.$("#sessionTotalsStatsPlaceholder"),
                    statsLabel: l.a.localize("session_totals"),
                    stats: [{
                        data: i.bottomTime ? c.a.personalizeDuration(i.bottomTime, !1) : null,
                        dataLabel: l.a.localize("session_bottom_time")
                    }, {
                        data: i.diveInfo ? c.a.personalizeDuration(i.diveInfo.totalSurfaceTime, !1) : null,
                        dataLabel: l.a.localize("total_surface_interval")
                    }]
                }).render() : new S({
                    el: this.$("#divingBottomTimeStatsPlaceholder"),
                    statsLabel: l.a.localize("bottom_time"),
                    stats: [{
                        data: i.bottomTime ? c.a.personalizeDuration(i.bottomTime, !1) : null,
                        dataLabel: l.a.localize("this_dive")
                    }, {
                        data: t ? c.a.personalizeDuration(this.aggregateActivityMetricStats.getTotalBottomTimeInSeconds() + this.userSettings.getExternalBottomTime()) : null,
                        dataLabel: l.a.localize("total_bottom_time"),
                        tooltipHelpIconMessage: l.a.localize("edit_bottom_time_in_settings")
                    }]
                }).render();
                d.a.isCcrDiving(i.activityTypeDTO.typeKey) && new S({
                    el: this.$("#divingSetPointStatsPlaceholder"),
                    statsLabel: l.a.localize("dive_po2_setpoints"),
                    stats: [{
                        data: e.diveSettings.ccrLowSetpoint ? e.diveSettings.ccrLowSetpoint : null,
                        dataUnit: c.a.personalizePressureUnit({
                            unitKey: "bar"
                        }, l.a),
                        dataLabel: l.a.localize("dive_setpoint_low")
                    }, {
                        data: e.diveSettings.ccrLowSetpointDepth ? c.a.personalizeDepth(e.diveSettings.ccrLowSetpointDepth) : null,
                        dataUnit: l.a.localize(c.a.getDepthUnitKey()),
                        dataLabel: l.a.localize("dive_po2_low_depth")
                    }, {
                        data: e.diveSettings.ccrHighSetpoint ? e.diveSettings.ccrHighSetpoint : null,
                        dataUnit: c.a.personalizePressureUnit({
                            unitKey: "bar"
                        }, l.a),
                        dataLabel: l.a.localize("dive_setpoint_high")
                    }, {
                        data: e.diveSettings.ccrHighSetpointDepth ? c.a.personalizeDepth(e.diveSettings.ccrHighSetpointDepth) : null,
                        dataUnit: l.a.localize(c.a.getDepthUnitKey()),
                        dataLabel: l.a.localize("dive_po2_high_depth")
                    }]
                }).render();
                new S({
                    el: this.$("#divingN2LoadingStatsPlaceholder"),
                    statsLabel: l.a.localize("n2_loading_label"),
                    stats: [{
                        data: i.startN2 ? i.startN2 + "%" : null,
                        dataLabel: l.a.localize("loading_entering")
                    }, {
                        data: i.endN2 ? i.endN2 + "%" : null,
                        dataLabel: l.a.localize("loading_leaving")
                    }]
                }).render(),
                new S({
                    el: this.$("#divingCnsLoadingStatsPlaceholder"),
                    statsLabel: l.a.localize("cns_loading_label"),
                    stats: [{
                        data: i.startCns ? i.startCns + "%" : null,
                        dataLabel: l.a.localize("loading_entering")
                    }, {
                        data: i.endCns ? i.endCns + "%" : null,
                        dataLabel: l.a.localize("loading_leaving")
                    }]
                }).render(),
                new S({
                    el: this.$("#divingConditionsPlaceholder"),
                    statsLabel: l.a.localize("diving_conditions_label"),
                    stats: [{
                        data: i.maxElevation ? c.a.personalizeElevation(i.maxElevation) : null,
                        dataUnit: l.a.localize(c.a.getElevationUnitKey()),
                        dataLabel: l.a.localize("label.elevation")
                    }, {
                        data: e && e.entryType ? e.entryType : null,
                        dataLabel: l.a.localize("entry_type")
                    }, {
                        data: e && e.diveSettings && null !== e.diveSettings.waterType ? c.a.personalizeDiveWaterType(e.diveSettings.waterType, e.diveSettings.waterDensity, l.a) : null,
                        dataLabel: l.a.localize("water_type")
                    }, {
                        data: e && e.current ? e.current : null,
                        dataLabel: l.a.localize("water_current")
                    }, {
                        data: e && e.surfaceCondition ? e.surfaceCondition : null,
                        dataLabel: l.a.localize("surface_condition")
                    }, {
                        data: e && e.visibility ? c.a.personalizeVisibility(e.visibility) : null,
                        dataUnit: c.a.personalizeVisibilityUnit(e.visibilityUnit, l.a),
                        dataLabel: l.a.localize("dive_visibility")
                    }]
                }).render(),
                new S({
                    el: this.$("#waterTemperaturePlaceholder"),
                    statsLabel: l.a.localize("label_water_temperature"),
                    stats: [{
                        data: i.averageTemperature ? c.a.personalizeTemperature(i.averageTemperature) : null,
                        dataUnit: l.a.localize(c.a.getTemperatureUnitKey()),
                        dataLabel: l.a.localize("avg_water_temperature")
                    }, {
                        data: i.minTemperature ? c.a.personalizeTemperature(i.minTemperature) : null,
                        dataUnit: l.a.localize(c.a.getTemperatureUnitKey()),
                        dataLabel: l.a.localize("min_water_temperature")
                    }, {
                        data: i.maxTemperature ? c.a.personalizeTemperature(i.maxTemperature) : null,
                        dataUnit: l.a.localize(c.a.getTemperatureUnitKey()),
                        dataLabel: l.a.localize("max_water_temperature")
                    }]
                }).render(),
                new S({
                    el: this.$("#divingWeightPlaceholder"),
                    statsLabel: l.a.localize("dive_weight"),
                    stats: [{
                        data: e && e.weight ? c.a.personalizeDiveWeight(e.weight) : null,
                        dataUnit: c.a.personalizeDiveWeightUnit(e.weightUnit, l.a),
                        dataLabel: l.a.localize("dive_weight")
                    }]
                }).render(),
                new S({
                    el: this.$("#divingExposureSuitPlaceholder"),
                    statsLabel: l.a.localize("exposure_suit"),
                    stats: [{
                        data: e ? e.exposureSuit : null,
                        dataLabel: l.a.localize("suit_type_short")
                    }, {
                        data: e && e.suitThickness ? c.a.personalizeSuitThickness(e.suitThickness) : null,
                        dataUnit: l.a.localize("millimeter_unit"),
                        dataLabel: l.a.localize("suit_thickness_short")
                    }]
                }).render()
            },
            hasVectorAirCdAData: function() {
                return this.model.hasVectorAirCdAData()
            },
            hasIntensityIntervals: function() {
                return this.model.get("metadataDTO").hasIntensityIntervals
            },
            hasCalories: function() {
                return !this.isBreathworkActivity() && (!!this.model.has("calories") || !!this.model.has("caloriesEstimated"))
            },
            onClickAvgCadenceHelp: function(t) {
                if (t.preventDefault(),
                this.isCrossCountrySkiActivity() || this.isSkateSkiActivity()) {
                    var e = new jt({});
                    new J.a({
                        view: e,
                        showFooter: !1,
                        modalTitle: l.a.localize("help.title")
                    }).render()
                }
            },
            onClickAvgStrideLengthHelp: function(t) {
                if (t.preventDefault(),
                this.isCrossCountrySkiActivity() || this.isSkateSkiActivity()) {
                    var e = new Gt({});
                    new J.a({
                        view: e,
                        showFooter: !1,
                        modalTitle: l.a.localize("help.title")
                    }).render()
                }
            },
            getAvgCadenceHelpTooltipText: function(t) {
                if (this.isCrossCountrySkiActivity() || this.isSkateSkiActivity())
                    return l.a.localize("label.click.for.detail.tooltip");
                var e = l.a.localize(c.a.getAvgCadenceTypeLabelKey(t.activityTypeDTO.typeKey));
                return "".concat(l.a.localize("help.running.dynamics.avg.cadence.label"), " ").concat(l.a.localize("help_running_dynamics_not_including_zeros_standing", e))
            },
            getAvgStrideLengthHelpTooltipText: function() {
                return this.isCrossCountrySkiActivity() || this.isSkateSkiActivity() ? l.a.localize("label.click.for.detail.tooltip") : "".concat(l.a.localize("help.running.dynamics.stride.length.tooltip"), " ").concat(l.a.localize("help_running_dynamics_not_including_zeros_standing", l.a.localize("label_avg_stride_length")))
            },
            displaySelfEvaluation: function() {
                (new Et.a).renderComponent(se, this.$("#selfEvaluation")[0], {
                    feel: this.model.get("directWorkoutFeel"),
                    rpe: this.model.get("directWorkoutRpe")
                })
            },
            displayExecutionScore: function() {
                (new Et.a).renderComponent(a.a, this.$("#executionScoreInfo")[0], {
                    score: this.hasWorkoutExecutionScore,
                    isInStatsSection: !0
                })
            },
            shouldDisplayExecutionMetrics: function() {
                return Number.isFinite(this.model.get("directWorkoutFeel")) || Number.isFinite(this.model.get("directWorkoutRpe"))
            }
        });
        he.Events = le;
        e.a = he
    },
    5157: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(13)
          , c = i(53)
          , h = o.a.Collection.extend({
            initialize: function(t) {
                this.activityId = t.activityId
            },
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/hrTimeInZones"
            }
        })
          , p = o.a.Collection.extend({
            initialize: function(t) {
                this.activityId = t.activityId
            },
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/powerTimeInZones"
            }
        })
          , d = i(24);
        i(1236);
        var u = function(t, e) {
            if (!t)
                throw "collection is required";
            this.zones = function(t, e) {
                var i, a, n, r = "", o = "", s = {};
                if (t)
                    for (var l = 0, c = t.length; l < c; l += 1)
                        t[l] && (i = null,
                        r = "zone" + (a = t[l]).get("zoneNumber"),
                        o = a.get("zoneLowBoundary"),
                        (n = t[l + 1]) && (i = n.get("zoneLowBoundary") - 1),
                        s[r] = {
                            name: e[r],
                            range: o ? i ? "(" + o + " - " + i + ")" : "( > " + o + ")" : ""
                        });
                return s
            }(t, e)
        };
        u.prototype.getZones = function() {
            return this.zones
        }
        ,
        u.prototype.getZone = function(t) {
            return t ? this.zones["zone" + t] : null
        }
        ,
        u.HrZoneNameMapper = {
            zone1: "heart_zone_name.1",
            zone2: "heart_zone_name.2",
            zone3: "heart_zone_name.3",
            zone4: "heart_zone_name.4",
            zone5: "heart_zone_name.5"
        },
        u.PowerZoneNameMapper = {
            zone1: "power_zone_name_1",
            zone2: "power_zone_name_2",
            zone3: "power_zone_name_3",
            zone4: "power_zone_name_4",
            zone5: "power_zone_name_5",
            zone6: "power_zone_name_6",
            zone7: "power_zone_name_7"
        };
        var m = u
          , f = i(4421)
          , g = i(4425)
          , y = i.n(g)
          , v = o.a.View.extend({
            template: n.a.template(y.a),
            attributes: function() {
                return {
                    class: function() {
                        return "tab-pane tab-time-in-zones"
                    }
                }
            },
            initialize: function(t) {
                if (!t.activityId)
                    throw "Activity Id is required";
                if (!t.timeInZones)
                    throw "Time In Zones required";
                if (this.activityId = t.activityId,
                this.timeInZones = t.timeInZones,
                this.activityDuration = t.activityDuration,
                this.chartCollection = [],
                this.timeInZones) {
                    var e = new d.a;
                    this.timeInZones.hasHrTimeInZones && (this.hrTimeInZones = new h({
                        activityId: this.activityId
                    }),
                    e.addModel({
                        model: this.hrTimeInZones,
                        required: !0
                    })),
                    this.timeInZones.hasPowerTimeInZones && (this.powerTimeInZones = new p({
                        activityId: this.activityId
                    }),
                    e.addModel({
                        model: this.powerTimeInZones,
                        required: !0
                    })),
                    e.models.length > 0 && (e.on(d.a.Events.SYNCHRONIZED, this.onModelSynchronizerSynchronized, this),
                    e.fetchModels())
                }
                return this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a
                })),
                this
            },
            onModelSynchronizerSynchronized: function() {
                if (this.$el.empty(),
                this.hrTimeInZones && this.hrTimeInZones.models.length > 0) {
                    this.calculatePercentage(this.hrTimeInZones);
                    var t = new f.a({
                        options: {
                            chartTitle: "heart.rate.zones",
                            containerClass: "stat-block heart-rate-zones",
                            tableClass: "table-heart-rate-zones",
                            trClass: this.getTrClass,
                            fieldOptions: [{
                                fieldName: "zoneNumber",
                                formatter: this.formatZoneColumn,
                                tooltipFunction: this.getTooltipText
                            }, {
                                fieldName: "secsInZone",
                                formatter: this.formatTime
                            }, {
                                fieldName: "percentage",
                                formatter: function(t) {
                                    return t + "%"
                                }
                            }],
                            sortComparator: this.sortComparator,
                            sortDirection: f.a.SortDirection.descending,
                            zoneUtil: new m(this.hrTimeInZones.models,m.HrZoneNameMapper)
                        },
                        collection: this.hrTimeInZones
                    });
                    this.chartCollection.push(t),
                    this.$el.append(t.render().el)
                }
                if (this.powerTimeInZones && this.powerTimeInZones.models.length > 0) {
                    this.calculatePercentage(this.powerTimeInZones);
                    var e = new f.a({
                        options: {
                            chartTitle: "power.zones",
                            containerClass: "stat-block power-zones",
                            tableClass: "table-power-zones",
                            trClass: this.getTrClass,
                            fieldOptions: [{
                                fieldName: "zoneNumber",
                                formatter: this.formatZoneColumn,
                                tooltipFunction: this.getTooltipText
                            }, {
                                fieldName: "secsInZone",
                                formatter: this.formatTime,
                                tooltipFunction: null
                            }, {
                                fieldName: "percentage",
                                formatter: function(t) {
                                    return t + "%"
                                },
                                tooltipFunction: null
                            }],
                            sortComparator: this.sortComparator,
                            sortDirection: f.a.SortDirection.descending,
                            maxRowsToShow: 7,
                            zoneUtil: new m(this.powerTimeInZones.models,m.PowerZoneNameMapper)
                        },
                        collection: this.powerTimeInZones
                    });
                    this.chartCollection.push(e),
                    this.$el.append(e.render().el)
                }
                this.$el.hasClass("tab-time-in-zones") || this.$el.addClass("tab-time-in-zones")
            },
            calculatePercentage: function(t) {
                for (var e, i = 0, a = 0; a < t.models.length; a += 1)
                    (e = t.models[a]) && e instanceof o.a.Model && (0 === e.get("secsInZone") ? e.set("percentage", 0) : (i = l.a.personalizePercentComplete(e.get("secsInZone"), this.activityDuration, !0),
                    e.set("percentage", Math.round(i)),
                    +e.get("secsInZone")))
            },
            destroy: function() {
                this.destroyCharts(),
                this.off(),
                this.remove()
            },
            destroyCharts: function() {
                for (var t = 0; t < this.chartCollection.length; t += 1)
                    this.chartCollection[t] && "function" === typeof this.chartCollection[t].destroy && this.chartCollection[t].destroy()
            },
            getTrClass: function(t) {
                return "zone-" + t.model.zoneNumber
            },
            getTooltipText: function(t) {
                if (t && t.model && t.util) {
                    var e = t.model.zoneNumber
                      , i = t.util.getZone(e);
                    return s.a.localize("zone") + " " + e + (i.name ? " - " + s.a.localize(i.name) : "") + " " + i.range
                }
                return ""
            },
            formatTime: function(t) {
                return l.a.personalizeDuration(t, !1)
            },
            formatZoneColumn: function(t) {
                return "Z" + t
            },
            sortComparator: function(t, e) {
                return t.zoneNumber > e.zoneNumber ? 1 : t.zoneNumber < e.zoneNumber ? -1 : 0
            }
        })
          , b = i(4426)
          , A = i.n(b)
          , _ = o.a.View.extend({
            initialize: function(t) {
                this.template = n.a.template(A.a),
                this.diveInfo = t.diveInfo,
                this.diveType = t.activityTypeKey
            },
            render: function() {
                var t = this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    tanksArray: this.diveInfo.diveGases,
                    getGasMixtureString: this.getGasMixtureString,
                    getPressureUsedString: this.getPressureUsedString,
                    diveType: this.diveType
                });
                this.$el.html(t)
            },
            getPressureUsedString: function(t, e, i) {
                var a = null;
                return t && e && (a = t - e),
                a ? l.a.personalizePressure(a) + " " + l.a.personalizePressureUnit(i, s.a) : "--"
            },
            getGasMixtureString: function(t, e) {
                var i = parseInt(t, 10)
                  , a = parseInt(e, 10)
                  , n = "--";
                return i > 0 && a > 0 ? n = i + "%" + s.a.localize("oxygen_gas") + " " + a + "%" + s.a.localize("helium_gas") : i > 0 && 0 === a ? n = i + "%" + s.a.localize("oxygen_gas") : 0 === t && e > 0 && (n = a + "%" + s.a.localize("helium_gas")),
                n
            }
        })
          , C = i(4427)
          , w = i.n(C)
          , x = i(4428)
          , S = i.n(x)
          , T = i(80)
          , E = i(1301)
          , k = o.a.View.extend({
            tagName: "tr",
            initialize: function(t) {
                this.template = n.a.template(S.a),
                this.apneaDive = t.apneaDive,
                this.index = t.index
            },
            render: function() {
                var t = this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    apneaDive: this.apneaDive,
                    index: this.index
                });
                return this.$el.html(t),
                this.apneaDive.startLatitude && this.apneaDive.startLongitude && (this.mapView = new E.a({
                    el: this.$(".apnea-map"),
                    mapContainerId: "map-container-" + (new Date).getTime(),
                    mapProvider: this.mapProvider,
                    disablePanning: !0,
                    disableZooming: !0,
                    mapStyle: "road",
                    showMenu: !1,
                    useCustomMapControls: !0,
                    width: 77,
                    height: 55,
                    viewerIsAuthenticated: !0,
                    cursorStyle: "default",
                    enableBikeLanes: !1,
                    showControlScale: !1
                }),
                this.listenTo(this.mapView, E.a.Events.ON_MAP_READY, function() {
                    var t = [{
                        lat: this.apneaDive.startLatitude,
                        lon: this.apneaDive.startLongitude
                    }];
                    this.mapView.fitMapToPoints(t),
                    this.mapView.addMarker(t[0].lat, t[0].lon, T.a.getSmallStartMarkerOptions())
                }),
                this.mapView.render(),
                this.mapView.loadMap()),
                this
            }
        })
          , L = o.a.View.extend({
            initialize: function(t) {
                this.template = n.a.template(w.a),
                this.apneaDives = t.apneaDives
            },
            render: function() {
                var t = this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    apneaDives: this.apneaDives
                });
                this.$el.html(t),
                this.renderItemViews()
            },
            renderItemViews: function() {
                var t = this.$("tbody");
                n.a.each(this.apneaDives, function(e, i) {
                    var a = new k({
                        apneaDive: e,
                        index: i
                    }).render();
                    t.append(a.el)
                }, this)
            }
        })
          , P = i(4429)
          , I = i.n(P)
          , z = i(4430)
          , B = i.n(z)
          , D = o.a.View.extend({
            initialize: function(t) {
                this.template = n.a.template(B.a),
                this.totalSeatedTime = t.positionTimes.totalSeatedTime,
                this.totalStandingTime = t.positionTimes.totalStandingTime
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a,
                    totalSeatedTime: l.a.personalizeStandingTime(this.totalSeatedTime),
                    totalStandingTime: l.a.personalizeStandingTime(this.totalStandingTime)
                })),
                this
            }
        })
          , M = i(4431)
          , O = i(4433)
          , R = i(4436)
          , N = i(1448)
          , V = i(58)
          , j = {
            ChartRangeChanged: "ChartRangeChanged",
            ResetZoom: "ResetZoom",
            ModelSyncSuccess: "ModelSyncSuccess",
            ModelSyncFail: "ModelSyncFail"
        }
          , F = o.a.View.extend({
            DataToUse: {
                MAX: "MAX",
                SUMMARY: "SUMMARY"
            },
            initialize: function(t) {
                this.template = n.a.template(I.a),
                this.activityId = t.activityId,
                this.summaryDTO = t.summaryDTO,
                this.axisType = t.axisType,
                this.powerRange = t.powerRange,
                this.startTime = V.a.parseISOUTC(this.summaryDTO.startTimeGMT).getTime(),
                this.powerPhasePieChartView = null,
                this.pcoChartView = null,
                this.cyclingPositonChartView = null,
                this.cyclingControlsView = null,
                this.chartDataToUse = null,
                this.isPillEvent = !1,
                this.maxAveragePowerModel = null,
                this.maxAveragePowerData = null,
                -1 !== this.powerRange && (this.initPowerModel(),
                this.syncPowerModel(this.onModelSynchronized, this.onModelSynchronizedFailed))
            },
            initPowerModel: function() {
                this.maxAveragePowerModel = new N.a({
                    activityId: this.activityId,
                    duration: this.powerRange,
                    startTimeMilliseconds: this.startTime
                })
            },
            syncPowerModel: function(t, e) {
                var i = new d.a;
                this.maxAveragePowerModel && (i.addModel({
                    model: this.maxAveragePowerModel,
                    required: !0
                }),
                i.on(d.a.Events.SYNCHRONIZED, t, this),
                i.on(d.a.Events.SYNCHRONIZE_FAILED, e, this),
                i.fetchModels())
            },
            setData: function(t) {
                t && (this.summaryDTO = t)
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a
                })),
                -1 === this.powerRange && this.summaryDTO && (this.chartDataToUse = this.DataToUse.SUMMARY,
                this.postRender()),
                this.renderCyclingControls(),
                this.listenTo(this.cyclingControlsView, R.a.Events.PowerRangeChanged, this.onPowerRangeChanged, this),
                this.listenTo(this.cyclingControlsView, R.a.Events.ResetZoom, this.onResetRange, this),
                this
            },
            onModelSynchronized: function() {
                var t;
                this.trigger(j.ModelSyncSuccess),
                this.chartDataToUse = this.DataToUse.MAX,
                this.postRender(),
                this.isPillEvent && this.updateCharts(this.powerRange),
                t = {
                    axisType: this.axisType,
                    startTime: this.maxAveragePowerModel.getStartTime(),
                    endTime: this.maxAveragePowerModel.getEndTime(),
                    startDistance: this.maxAveragePowerModel.getStartDistance(),
                    endDistance: this.maxAveragePowerModel.getEndDistance(),
                    powerValue: this.maxAveragePowerModel.getValue()
                },
                this.cyclingControlsView.setMaxAvgLabel(t)
            },
            onModelSynchronizedFailed: function() {
                this.trigger(j.ModelSyncFail)
            },
            postRender: function() {
                this.$(".spinner-container").hide(),
                this.renderPowerPhase(),
                this.renderPCO(),
                this.renderPosition()
            },
            renderCyclingControls: function() {
                this.cyclingControlsView && this.cyclingControlsView.remove(),
                this.cyclingControlsView = new R.a({
                    powerRange: this.powerRange,
                    duration: this.summaryDTO.duration
                }),
                this.$("#max-avg-power-controls").append(this.cyclingControlsView.render().el)
            },
            renderPowerPhase: function() {
                this.powerPhasePieChartView && this.powerPhasePieChartView.destroy(),
                this.powerPhasePieChartView = new O.a({
                    model: this.getPieChartModel()
                }),
                this.$("#power-phase-container").append(this.powerPhasePieChartView.render().el)
            },
            renderPCO: function() {
                this.pcoChartView && this.pcoChartView.destroy(),
                this.pcoChartView = new M.a({
                    platformCenterOffsetData: this.getPlatformCenterOffset()
                }),
                this.$("#pco-container").append(this.pcoChartView.render().el)
            },
            renderPosition: function() {
                this.cyclingPositonChartView && this.cyclingPositonChartView.remove(),
                this.cyclingPositonChartView = new D({
                    positionTimes: this.getPositionTimes()
                }),
                this.$("#position-container").append(this.cyclingPositonChartView.render().el)
            },
            getPieChartModel: function() {
                var t = {};
                return this.chartDataToUse === this.DataToUse.MAX ? (this.maxAveragePowerData = this.maxAveragePowerModel.get("summaryMeasurementDTOMap"),
                t = {
                    leftPowerPhaseStart: this.maxAveragePowerData.leftPowerPhaseStart.value,
                    leftPowerPhasePeakStart: this.maxAveragePowerData.leftPowerPhasePeakStart.value,
                    leftPowerPhasePeakEnd: this.maxAveragePowerData.leftPowerPhasePeakEnd.value,
                    leftPowerPhaseEnd: this.maxAveragePowerData.leftPowerPhaseEnd.value,
                    rightPowerPhaseStart: this.maxAveragePowerData.rightPowerPhaseStart.value,
                    rightPowerPhasePeakStart: this.maxAveragePowerData.rightPowerPhasePeakStart.value,
                    rightPowerPhasePeakEnd: this.maxAveragePowerData.rightPowerPhasePeakEnd.value,
                    rightPowerPhaseEnd: this.maxAveragePowerData.rightPowerPhaseEnd.value,
                    leftBalance: this.maxAveragePowerData.leftBalance.value,
                    rightBalance: this.maxAveragePowerData.rightBalance.value
                }) : t = {
                    leftPowerPhaseStart: this.summaryDTO.leftPowerPhaseStart,
                    leftPowerPhasePeakStart: this.summaryDTO.leftPowerPhasePeakStart,
                    leftPowerPhasePeakEnd: this.summaryDTO.leftPowerPhasePeakEnd,
                    leftPowerPhaseEnd: this.summaryDTO.leftPowerPhaseEnd,
                    rightPowerPhaseStart: this.summaryDTO.rightPowerPhaseStart,
                    rightPowerPhasePeakStart: this.summaryDTO.rightPowerPhasePeakStart,
                    rightPowerPhasePeakEnd: this.summaryDTO.rightPowerPhasePeakEnd,
                    rightPowerPhaseEnd: this.summaryDTO.rightPowerPhaseEnd,
                    leftBalance: this.summaryDTO.leftBalance,
                    rightBalance: this.summaryDTO.rightBalance
                },
                t
            },
            getPlatformCenterOffset: function() {
                var t = {};
                return this.chartDataToUse === this.DataToUse.MAX ? (this.maxAveragePowerData = this.maxAveragePowerModel.get("summaryMeasurementDTOMap"),
                t = {
                    leftPlatformCenterOffset: this.maxAveragePowerData.leftPlatformCenterOffset.value,
                    rightPlatformCenterOffset: this.maxAveragePowerData.rightPlatformCenterOffset.value
                }) : t = {
                    leftPlatformCenterOffset: this.summaryDTO.leftPlatformCenterOffset,
                    rightPlatformCenterOffset: this.summaryDTO.rightPlatformCenterOffset
                },
                t
            },
            getPositionTimes: function() {
                var t = {};
                return this.chartDataToUse === this.DataToUse.MAX ? (this.maxAveragePowerData = this.maxAveragePowerModel.get("summaryMeasurementDTOMap"),
                t = {
                    totalSeatedTime: n.a.has(this.maxAveragePowerData, "seatedTime") ? this.maxAveragePowerData.seatedTime.value : null,
                    totalStandingTime: n.a.has(this.maxAveragePowerData, "standingTime") ? this.maxAveragePowerData.standingTime.value : null
                }) : t = {
                    totalSeatedTime: this.summaryDTO.seatedTime,
                    totalStandingTime: this.summaryDTO.standingTime
                },
                t
            },
            destroy: function() {
                this.cyclingControlsView && this.cyclingControlsView.remove(),
                this.destroyCharts(),
                this.off(),
                this.remove()
            },
            destroyCharts: function() {
                this.powerPhasePieChartView && "function" === typeof this.powerPhasePieChartView.destroy && this.powerPhasePieChartView.destroy(),
                this.pcoChartView && "function" === typeof this.pcoChartView.destroy && this.pcoChartView.destroy(),
                this.cyclingPositonChartView && "function" === typeof this.cyclingPositonChartView.destroy && this.cyclingPositonChartView.destroy()
            },
            onAxisTypeChanged: function(t) {
                t && (this.axisType = t,
                this.onResetRange(-1))
            },
            onPowerRangeChanged: function(t, e) {
                t && t !== this.powerRange && (this.powerRange = t,
                this.isPillEvent = e,
                this.maxAveragePowerModel ? (this.maxAveragePowerModel.setData(this.startTime, this.powerRange),
                this.syncPowerModel(this.onModelSynchronized, this.onModelSynchronizedFailed)) : (this.initPowerModel(),
                this.syncPowerModel(this.onModelSynchronized, this.onModelSynchronizedFailed)),
                this.cyclingControlsView && this.cyclingControlsView.selectRange(t, e))
            },
            onResetRange: function(t, e) {
                t && (this.powerRange = t,
                this.isPillEvent = e,
                this.chartDataToUse !== this.DataToUse.SUMMARY && (this.chartDataToUse = this.DataToUse.SUMMARY,
                this.postRender(),
                this.isPillEvent && this.updateCharts(this.powerRange)),
                this.cyclingControlsView && (this.cyclingControlsView.selectRange(t, e),
                this.cyclingControlsView.clearLabel()))
            },
            updateCharts: function(t) {
                -1 === t ? this.trigger(j.ChartRangeChanged, null, null, null, t) : "sumDuration" === this.axisType ? this.trigger(j.ChartRangeChanged, this.maxAveragePowerModel.getStartTime(), this.maxAveragePowerModel.getEndTime(), this.maxAveragePowerModel.getValue(), t) : this.trigger(j.ChartRangeChanged, this.maxAveragePowerModel.getStartDistance(), this.maxAveragePowerModel.getEndDistance(), this.maxAveragePowerModel.getValue(), t)
            }
        });
        F.Events = j;
        var G = F
          , U = i(4438)
          , H = i.n(U)
          , K = i(37)
          , W = function() {
            return s.a.localize("intervals")
        }
          , Q = function(t) {
            switch (t) {
            case "surfing":
                return s.a.localize("surf_waves_label");
            case "backcountry_skiing_snowboarding_ws":
                return s.a.localize("activity_splits");
            case "resort_skiing_snowboarding_ws":
                return s.a.localize("splits.runs");
            case "bouldering":
            case "indoor_climbing":
                return s.a.localize("splits.routes");
            default:
                return s.a.localize("splits.laps")
            }
        }
          , Y = {
            ChartRangeChanged: "ChartRangeChanged",
            ResetZoom: "ResetZoom",
            ModelSyncSuccess: "ModelSyncSuccess",
            ModelSyncFail: "ModelSyncFail",
            SEGMENT_TAB_CLICK: "SEGMENT_TAB_CLICK",
            MtbTabClicked: "MtbTabClicked",
            PowerCurveTabClicked: "PowerCurveTabClicked",
            Error: "Error"
        }
          , Z = o.a.View.extend({
            template: n.a.template(H.a),
            events: {
                "click #tabTimeInZonesId": "onTimeInZoneTabClicked",
                "click #tabCyclingDynamics": "onCyclingDynamicsClicked",
                "click #tabGasesAndTanksId": "onGasesAndTanksClicked",
                "click #tabApneaDives": "onApneaDivesClicked",
                "click #tabSegmentsId": "onSegmentTabClicked",
                "click #tabMtbMetricsId": "onMtbMetricsClicked",
                "click #tabPowerCurve": "onPowerCurveClicked"
            },
            initialize: function(t) {
                this.segmentCount = t.segmentCount,
                this.isLapSwimming = t.isLapSwimming,
                this.showSegmentTab = !0,
                this.showSplitsTab = !0,
                this.showStatsTab = !0,
                this.timeInZones = t.timeInZones,
                this.activityId = t.activityId,
                this.activityDistance = t.activityDistance,
                this.hasCyclingDynamicsData = t.containsCyclingDynamicsData,
                this.hasMTBData = t.hasMTBData,
                this.summaryDTO = t.summaryDTO,
                this.timeInZonesTabClickCount = 0,
                this.diveInfo = t.diveInfo,
                this.apneaDives = t.apneaDives,
                this.gasesAndTanksTabClickCount = 0,
                this.apneaDivesTabClickCount = 0,
                this.cyclingDynamicsTabClickCount = 0,
                this.axisType = "sumDuration",
                this.powerRange = -1,
                this.segmentTabClickCount = 0,
                this.mtbMetricsTabClickCount = 0,
                this.powerCurveTabClickCount = 0,
                this.showPowerCurve = t.showPowerCurve,
                this.activityTypeKey = t.activityTypeKey,
                this.manualActivity = t.manualActivity,
                this.hasIntensityIntervals = t.hasIntensityIntervals,
                this.canViewIntervals = t.canViewIntervals,
                this.hasTypedSplits = t.hasTypedSplits
               ,this.onTimeInZoneTabClicked(null);          // TX GCOverrides
            },
            setData: function(t, e, i, a, n, r, o, s, l, c, h) {
                this.segmentCount = t,
                this.isLapSwimming = e,
                this.containsGasesAndTanks = i,
                this.hasApneaDives = a,
                this.apneaDives = n,
                this.timeInZones = r,
                this.hasCyclingDynamicsData = o,
                this.activityId = s,
                this.activityDuration = l,
                this.summaryDTO = c,
                this.isParentActivity = h,
                this.updateSummaryDTOForCyclingDynamics()
            },
            updateSegmentCount: function(t) {
                var e = !1;
                0 === this.segmentCount && (e = !0),
                this.segmentCount = t,
                e ? this.$("#tabSegmentsId").append('<span class="notification-count">' + this.segmentCount + "</span>") : this.$("#tabSegmentsId .notification-count").html(this.segmentCount)
            },
            render: function() {
                this.timeInZonesTabClickCount = 0,
                this.showSplitsTab = this.shouldShowSplitsTab(),
                this.activityTimeInZones && "function" === typeof this.activityTimeInZones.destroyCharts && this.activityTimeInZones.destroyCharts();
                var t = this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    segmentCount: this.segmentCount,
                    isLapSwimming: this.isLapSwimming,
                    showSegmentTab: this.showSegmentTab,
                    showSplitsTab: this.showSplitsTab,
                    showStatsTab: this.showStatsTab,
                    showGasesAndTanksTab: this.containsGasesAndTanks,
                    showApneaDivesTab: this.hasApneaDives,
                    showTimeInZones: this.canShowTimeInZonesTab(),
                    showCyclingDynamics: this.canShowCyclingDynamics(),
                    timeInZones: this.timeInZones,
                    canShowMtbMetricsTab: this.canShowMtbMetricsTab(),
                    showPowerCurve: this.showPowerCurve,
                    splitsTab: this.getSplitsTabLabel()
                });
                this.$el.addClass("nav nav-tabs"),
                this.$el.html(t)
            },
            shouldShowSplitsTab: function() {
                return !this.isParentActivity && !(this.manualActivity && (K.a.isIndoorClimbingActivity(this.activityTypeKey) || K.a.isBoulderingActivity(this.activityTypeKey)) || K.a.isPilatesActivity(this.activityTypeKey) || K.a.isYogaActivity(this.activityTypeKey) || K.a.isStrengthTrainingActivity(this.activityTypeKey) || K.a.isCardioActivity(this.activityTypeKey) || K.a.isDivingActivity(this.activityTypeKey))
            },
            destroy: function() {
                this.activityTimeInZones && this.activityTimeInZones.destroy(),
                this.cyclingDynamicsTabView && this.cyclingDynamicsTabView.destroy(),
                this.off(),
                this.remove()
            },
            onTimeInZoneTabClicked: function(t) {
                if (t) t.preventDefault();  // TX GCOverrides
                0 === this.timeInZonesTabClickCount && (this.activityTimeInZones = new v({
                    el: "#tab-time-in-zones",
                    activityId: this.activityId,
                    timeInZones: this.timeInZones,
                    activityDuration: this.activityDuration
                }),
                this.activityTimeInZones.render()),
                this.timeInZonesTabClickCount++,
                this.pushShowTimeInZonesTabAnalyticsEvents()
            },
            getSplitsTabLabel: function() {
                return this.isLapSwimming || this.hasIntensityIntervals && this.canViewIntervals ? W() : Q(this.activityTypeKey)
            },
            pushShowTimeInZonesTabAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show View Time In Zones Tab"
                })
            },
            onCyclingDynamicsClicked: function(t) {
                t.preventDefault(),
                0 === this.cyclingDynamicsTabClickCount && (this.cyclingDynamicsTabView = new G({
                    el: "#tab-cycling-dynamics",
                    activityId: this.activityId,
                    summaryDTO: this.summaryDTO,
                    axisType: this.axisType,
                    powerRange: this.powerRange
                }),
                this.cyclingDynamicsTabView.render()),
                this.cyclingDynamicsTabClickCount++,
                this.listenTo(this.cyclingDynamicsTabView, G.Events.ChartRangeChanged, this.onChartRangeChanged, this),
                this.listenTo(this.cyclingDynamicsTabView, G.Events.ModelSyncSuccess, this.onModelSyncSuccess, this),
                this.listenTo(this.cyclingDynamicsTabView, G.Events.ModelSyncFail, this.onModelSyncFail, this),
                this.pushShowCyclingDynamicsTabAnalyticsEvents()
            },
            onGasesAndTanksClicked: function(t) {
                t.preventDefault(),
                0 === this.gasesAndTanksTabClickCount && (this.gasesAndTanksTabView = new _({
                    el: "#tab-gases-and-tanks",
                    diveInfo: this.diveInfo,
                    activityTypeKey: this.activityTypeKey
                }),
                this.gasesAndTanksTabView.render()),
                this.gasesAndTanksTabClickCount++,
                this.pushShowGasesAndTanksTabAnalyticsEvents()
            },
            onApneaDivesClicked: function(t) {
                t.preventDefault(),
                0 === this.apneaDivesTabClickCount && (this.apneaDivesTabView = new L({
                    el: "#tab-apnea-dives",
                    apneaDives: this.apneaDives
                }),
                this.apneaDivesTabView.render()),
                this.apneaDivesTabClickCount++,
                this.pushShowApneaDivesTabAnalyticsEvents()
            },
            onMtbMetricsClicked: function(t) {
                t.preventDefault(),
                0 === this.mtbMetricsTabClickCount && this.trigger(Y.MtbTabClicked, this.mtbMetricsTabClickCount),
                this.mtbMetricsTabClickCount++
            },
            pushShowGasesAndTanksTabAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show Gases and Tanks Tab"
                })
            },
            pushShowApneaDivesTabAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show Apnea Dives Tab"
                })
            },
            pushShowCyclingDynamicsTabAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show Cycling Dynamics Tab"
                })
            },
            updateSummaryDTOForCyclingDynamics: function() {
                this.cyclingDynamicsTabView && this.cyclingDynamicsTabView.setData(this.summaryDTO)
            },
            changeAxisType: function(t) {
                this.cyclingDynamicsTabView && this.cyclingDynamicsTabView.onAxisTypeChanged(t),
                this.axisType = t,
                this.powerRange = -1
            },
            changePowerRange: function(t, e) {
                this.cyclingDynamicsTabView && this.cyclingDynamicsTabView.onPowerRangeChanged(t, e),
                this.powerRange = t
            },
            onChartRangeChanged: function(t, e, i, a) {
                this.trigger(Y.ChartRangeChanged, t, e, i, a)
            },
            resetRange: function(t) {
                this.cyclingDynamicsTabView && this.cyclingDynamicsTabView.onResetRange(t),
                this.powerRange = t
            },
            onModelSyncSuccess: function() {
                this.trigger(Y.ModelSyncSuccess)
            },
            onModelSyncFail: function() {
                this.trigger(Y.ModelSyncFail)
            },
            canShowTimeInZonesTab: function() {
                var t = !1;
                return this.timeInZones && (t = this.timeInZones.hasPowerTimeInZones || this.timeInZones.hasHrTimeInZones),
                K.a.isBreathworkActivity(this.activityTypeKey) && (t = !1),
                t
            },
            canShowCyclingDynamics: function() {
                return this.hasCyclingDynamicsData
            },
            canShowMtbMetricsTab: function() {
                return this.hasMTBData
            },
            onSegmentTabClicked: function() {
                this.pushShowSegmentTabAnalyticsEvents(),
                0 === this.segmentTabClickCount && this.trigger(Y.SEGMENT_TAB_CLICK),
                this.segmentTabClickCount++
            },
            onPowerCurveClicked: function(t) {
                this.pushShowPowerCurveEvents(),
                0 === this.powerCurveTabClickCount && this.trigger(Y.PowerCurveTabClicked, this.powerCurveTabClickCount),
                this.powerCurveTabClickCount++
            },
            pushShowPowerCurveEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show Power Curve Tab"
                })
            },
            pushShowSegmentTabAnalyticsEvents: function() {
                c.a.push({
                    event: "track_event",
                    category: "Activity Page Events",
                    action: "Show Segment Tab"
                })
            }
        });
        Z.Events = Y;
        e.a = Z
    },
    5158: function(t, e, i) {
        "use strict";
        var a = i(1739)
          , n = i(1853)
          , r = i(1306);
        var o = function(t) {
            var e = null == t ? 0 : t.length;
            return e ? t[e - 1] : void 0
        }
          , s = i(1370);
        var l = function(t, e, i) {
            var a = -1
              , n = t.length;
            e < 0 && (e = -e > n ? 0 : n + e),
            (i = i > n ? n : i) < 0 && (i += n),
            n = e > i ? 0 : i - e >>> 0,
            e >>>= 0;
            for (var r = Array(n); ++a < n; )
                r[a] = t[a + e];
            return r
        };
        var c = function(t, e) {
            return e.length < 2 ? t : Object(s.a)(t, l(e, 0, -1))
        }
          , h = i(1333);
        var p = function(t, e) {
            return e = Object(r.a)(e, t),
            null == (t = c(t, e)) || delete t[Object(h.a)(o(e))]
        }
          , d = i(1429)
          , u = i(286);
        var m = function(t) {
            return Object(u.a)(t) ? void 0 : t
        }
          , f = i(1441)
          , g = i(1747)
          , y = Object(f.a)(function(t, e) {
            var i = {};
            if (null == t)
                return i;
            var o = !1;
            e = Object(a.a)(e, function(e) {
                return e = Object(r.a)(e, t),
                o || (o = e.length > 1),
                e
            }),
            Object(d.a)(t, Object(g.a)(t), i),
            o && (i = Object(n.a)(i, 7, m));
            for (var s = e.length; s--; )
                p(i, e[s]);
            return i
        });
        var v = function(t) {
            return void 0 === t
        }
          , b = i(1235)
          , A = i(20)
          , _ = i.n(A)
          , C = i(11)
          , w = i.n(C)
          , x = i(1689)
          , S = i(1431)
          , T = _.a.oneOfType([_.a.instanceOf(b.LatLngBounds), S.a])
          , E = i(1272)
          , k = i(1347)
          , L = i(1430)
          , P = i(1456)
          , I = _.a.shape({
            center: k.a,
            zoom: _.a.number
        })
          , z = i(1893);
        function B(t, e) {
            if ("function" !== typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : function(t, e) {
                for (var i = Object.getOwnPropertyNames(e), a = 0; a < i.length; a++) {
                    var n = i[a]
                      , r = Object.getOwnPropertyDescriptor(e, n);
                    r && r.configurable && void 0 === t[n] && Object.defineProperty(t, n, r)
                }
            }(t, e))
        }
        var D = ["children", "className", "id", "style", "useFlyTo", "whenReady"]
          , M = function(t) {
            return Array.isArray(t) ? [t[0], t[1]] : [t.lat, t.lon ? t.lon : t.lng]
        }
          , O = function(t) {
            function e(i, a) {
                !function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e);
                var n = function(t, e) {
                    if (!t)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !e || "object" !== typeof e && "function" !== typeof e ? t : e
                }(this, t.call(this, i, a));
                return n.viewport = {
                    center: void 0,
                    zoom: void 0
                },
                n._updating = !1,
                n.onViewportChange = function() {
                    var t = n.leafletElement.getCenter();
                    n.viewport = {
                        center: t ? [t.lat, t.lng] : void 0,
                        zoom: n.leafletElement.getZoom()
                    },
                    n.props.onViewportChange && !n._updating && n.props.onViewportChange(n.viewport)
                }
                ,
                n.onViewportChanged = function() {
                    n.props.onViewportChanged && !n._updating && n.props.onViewportChanged(n.viewport)
                }
                ,
                n.bindContainer = function(t) {
                    n.container = t
                }
                ,
                n.className = i.className,
                n
            }
            return B(e, t),
            e.prototype.getChildContext = function() {
                return {
                    layerContainer: this.leafletElement,
                    map: this.leafletElement
                }
            }
            ,
            e.prototype.createLeafletElement = function(t) {
                var e = t.viewport
                  , i = function(t, e) {
                    var i = {};
                    for (var a in t)
                        e.indexOf(a) >= 0 || Object.prototype.hasOwnProperty.call(t, a) && (i[a] = t[a]);
                    return i
                }(t, ["viewport"]);
                return e && (e.center && (i.center = e.center),
                "number" === typeof e.zoom && (i.zoom = e.zoom)),
                new b.Map(this.container,i)
            }
            ,
            e.prototype.updateLeafletElement = function(t, e) {
                this._updating = !0;
                var i = e.animate
                  , a = e.bounds
                  , n = e.boundsOptions
                  , r = e.boxZoom
                  , o = e.center
                  , s = e.className
                  , l = e.doubleClickZoom
                  , c = e.dragging
                  , h = e.keyboard
                  , p = e.maxBounds
                  , d = e.scrollWheelZoom
                  , u = e.tap
                  , m = e.touchZoom
                  , f = e.useFlyTo
                  , g = e.viewport
                  , y = e.zoom;
                if (Object(z.a)(this.container, t.className, s),
                g && g !== t.viewport) {
                    var v = g.center ? g.center : o
                      , b = null == g.zoom ? y : g.zoom;
                    !0 === f ? this.leafletElement.flyTo(v, b, {
                        animate: i
                    }) : this.leafletElement.setView(v, b, {
                        animate: i
                    })
                } else
                    o && this.shouldUpdateCenter(o, t.center) ? !0 === f ? this.leafletElement.flyTo(o, y, {
                        animate: i
                    }) : this.leafletElement.setView(o, y, {
                        animate: i
                    }) : "number" === typeof y && y !== t.zoom && (null == t.zoom ? this.leafletElement.setView(o, y) : this.leafletElement.setZoom(y));
                p && this.shouldUpdateBounds(p, t.maxBounds) && this.leafletElement.setMaxBounds(p),
                a && (this.shouldUpdateBounds(a, t.bounds) || n !== t.boundsOptions) && (!0 === f ? this.leafletElement.flyToBounds(a, n) : this.leafletElement.fitBounds(a, n)),
                r !== t.boxZoom && (!0 === r ? this.leafletElement.boxZoom.enable() : this.leafletElement.boxZoom.disable()),
                l !== t.doubleClickZoom && (!0 === l ? this.leafletElement.doubleClickZoom.enable() : this.leafletElement.doubleClickZoom.disable()),
                c !== t.dragging && (!0 === c ? this.leafletElement.dragging.enable() : this.leafletElement.dragging.disable()),
                h !== t.keyboard && (!0 === h ? this.leafletElement.keyboard.enable() : this.leafletElement.keyboard.disable()),
                d !== t.scrollWheelZoom && (!0 === d || "string" === typeof d ? (this.leafletElement.options.scrollWheelZoom = d,
                this.leafletElement.scrollWheelZoom.enable()) : this.leafletElement.scrollWheelZoom.disable()),
                u !== t.tap && (!0 === u ? this.leafletElement.tap.enable() : this.leafletElement.tap.disable()),
                m !== t.touchZoom && (!0 === m || "string" === typeof m ? (this.leafletElement.options.touchZoom = m,
                this.leafletElement.touchZoom.enable()) : this.leafletElement.touchZoom.disable()),
                this._updating = !1
            }
            ,
            e.prototype.componentDidMount = function() {
                var e = y(this.props, D);
                this.leafletElement = this.createLeafletElement(e),
                this.leafletElement.on("move", this.onViewportChange),
                this.leafletElement.on("moveend", this.onViewportChanged),
                v(e.bounds) || this.leafletElement.fitBounds(e.bounds, e.boundsOptions),
                this.props.whenReady && this.leafletElement.whenReady(this.props.whenReady),
                t.prototype.componentDidMount.call(this),
                this.forceUpdate()
            }
            ,
            e.prototype.componentDidUpdate = function(t) {
                this.updateLeafletElement(t, this.props)
            }
            ,
            e.prototype.componentWillUnmount = function() {
                t.prototype.componentWillUnmount.call(this),
                this.leafletElement.off("move", this.onViewportChange),
                this.leafletElement.off("moveend", this.onViewportChanged),
                !0 === this.props.preferCanvas ? (this.leafletElement._initEvents(!0),
                this.leafletElement._stop()) : this.leafletElement.remove()
            }
            ,
            e.prototype.shouldUpdateCenter = function(t, e) {
                return !e || (t = M(t),
                e = M(e),
                t[0] !== e[0] || t[1] !== e[1])
            }
            ,
            e.prototype.shouldUpdateBounds = function(t, e) {
                return !e || !Object(b.latLngBounds)(t).equals(Object(b.latLngBounds)(e))
            }
            ,
            e.prototype.render = function() {
                var t = this.leafletElement ? this.props.children : null;
                return w.a.createElement("div", {
                    className: this.className,
                    id: this.props.id,
                    ref: this.bindContainer,
                    style: this.props.style
                }, t)
            }
            ,
            e
        }(x.a);
        O.propTypes = {
            animate: _.a.bool,
            bounds: T,
            boundsOptions: _.a.object,
            center: k.a,
            children: E.a,
            className: _.a.string,
            id: _.a.string,
            maxBounds: T,
            maxZoom: _.a.number,
            minZoom: _.a.number,
            style: _.a.object,
            useFlyTo: _.a.bool,
            viewport: I,
            whenReady: _.a.func,
            zoom: _.a.number
        },
        O.childContextTypes = {
            layerContainer: L.a,
            map: P.a
        };
        e.a = O
    },
    5173: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(65)
          , l = i(56)
          , c = i(57)
          , h = i(63)
          , p = i(61)
          , d = i(62)
          , u = i(11)
          , m = i.n(u)
          , f = i(79)
          , g = i(13)
          , y = i(83)
          , v = function() {
            function t(e) {
                Object(l.a)(this, t),
                this.activityTypeKey = e
            }
            return Object(c.a)(t, [{
                key: "getSplitsHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "activity",
                            content: "activity_splits"
                        }),
                        key: "index",
                        defaultSortOrder: "ASCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getWaveHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "activity",
                            content: "surf_wave_label"
                        }),
                        key: "index",
                        defaultSortOrder: "ASCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getRoutesHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "activity",
                            content: "climb_route"
                        }),
                        key: "index",
                        defaultSortOrder: "ASCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getDifficultyHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "activity",
                            content: "climb_difficulty"
                        }),
                        key: "valueKey",
                        defaultSortOrder: "ASCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getStatusHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "activity",
                            content: "status"
                        }),
                        key: "status",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getFallsHeader",
                value: function(t) {
                    return {
                        header: "Falls",
                        key: "numFalls",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getDurationHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "units",
                            content: "label_time"
                        }),
                        key: "duration",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getDistanceHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "units",
                            content: "label_distance"
                        }),
                        key: "distance",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getElevationGainHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "units",
                            content: g.a.getElevGainLabelKey(this.activityTypeKey)
                        }),
                        key: "elevationGain",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getElevationLossHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "units",
                            content: g.a.getElevLossLabelKey(this.activityTypeKey)
                        }),
                        key: "elevationLoss",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getAvgSpeedHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "units",
                            content: g.a.getAvgSpeedTypeLabelKey(this.activityTypeKey)
                        }),
                        key: "averageSpeed",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getAvgPaceHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "units",
                            content: g.a.getAvgPaceLabelKey()
                        }),
                        key: "averageSpeed",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getMaxSpeedHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "units",
                            content: g.a.getMaxSpeedTypeLabelKey(this.activityTypeKey)
                        }),
                        key: "maxSpeed",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getAvgHRHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "units",
                            content: "label_avg_heart_rate"
                        }),
                        key: "averageHR",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getMaxHRHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "units",
                            content: "label_max_heart_rate"
                        }),
                        key: "maxHR",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getCumulativeTimeHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "activity-api",
                            content: "label_cum_time"
                        }),
                        key: "cumDuration",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getMovingTimeHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "units",
                            content: "label_moving_time"
                        }),
                        key: "movingDuration",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getMinTempHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "units",
                            content: "label_min_temp"
                        }),
                        key: "minTemperature",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getMaxTempHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "units",
                            content: "label_max_temp"
                        }),
                        key: "maxTemperature",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getAvgTempHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "units",
                            content: "label_avg_temp"
                        }),
                        key: "averageTemperature",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }, {
                key: "getCaloriesHeader",
                value: function(t) {
                    return {
                        header: m.a.createElement(y.a, {
                            ns: "units",
                            content: "label_calories"
                        }),
                        key: "calories",
                        defaultSortOrder: "DESCENDING",
                        sortable: t
                    }
                }
            }]),
            t
        }()
          , b = i(50)
          , A = i(2568)
          , _ = i.n(A)
          , C = i(102)
          , w = function() {
            function t(e, i, a, n) {
                Object(l.a)(this, t),
                this.activitySplits = e,
                this.activitySummary = i,
                this.activityTypeKey = a,
                this.indoorClimbDifficulty = n
            }
            return Object(c.a)(t, [{
                key: "getSurfSplits",
                value: function() {
                    var t, e = [], i = [], a = new v(this.activityTypeKey);
                    return e.push(a.getWaveHeader(!0), a.getDurationHeader(!0), a.getDistanceHeader(!0), a.getMaxSpeedHeader(!0), a.getAvgSpeedHeader(!0)),
                    t = this.activitySplits.map(function(t, e) {
                        return {
                            index: {
                                value: e + 1,
                                sortValue: 1
                            },
                            duration: {
                                value: g.a.personalizeDuration(t.duration),
                                sortValue: g.a.personalizeDuration(t.duration)
                            },
                            distance: {
                                value: g.a.personalizeWaveDistance(t.distance),
                                sortValue: g.a.personalizeWaveDistance(t.distance)
                            },
                            maxSpeed: {
                                value: g.a.personalizeSpeed(t.maxSpeed),
                                sortValue: t.maxSpeed
                            },
                            averageSpeed: {
                                value: g.a.personalizeSpeed(t.averageSpeed),
                                sortValue: t.averageSpeed
                            }
                        }
                    }),
                    i.push({
                        key: "index",
                        value: m.a.createElement(y.a, {
                            ns: "common",
                            content: "label_summary"
                        })
                    }, {
                        key: "duration",
                        value: g.a.personalizeDuration(this.activitySummary.splitSummaries[0].duration)
                    }, {
                        key: "distance",
                        value: g.a.personalizeWaveDistance(this.activitySummary.splitSummaries[0].distance)
                    }, {
                        key: "maxSpeed",
                        value: g.a.personalizeSpeed(this.activitySummary.splitSummaries[0].maxSpeed)
                    }, {
                        key: "averageSpeed",
                        value: g.a.personalizeSpeed(this.activitySummary.splitSummaries[0].averageSpeed)
                    }),
                    {
                        headers: e,
                        data: t,
                        footer: i
                    }
                }
            }, {
                key: "getBackCountrySplits",
                value: function() {
                    var t, e, i, a = [], n = [], r = 0, o = !1, s = new v(this.activityTypeKey);
                    return a.push(s.getSplitsHeader(!0), s.getDurationHeader(!0), s.getDistanceHeader(!0), s.getElevationGainHeader(!0), s.getElevationLossHeader(!0), s.getAvgSpeedHeader(!0), s.getMaxSpeedHeader(!0), s.getAvgHRHeader(!0), s.getMaxHRHeader(!0), s.getCumulativeTimeHeader(!0), s.getMovingTimeHeader(!0), s.getCaloriesHeader(!0)),
                    t = this.activitySplits.map(function(t, a) {
                        return e = r + t.duration,
                        r = e,
                        o = "ASCENT_SPLIT" === t.type || "DESCENT_SPLIT" === t.type,
                        i = "ASCENT_SPLIT" === t.type ? _.a.ascent : _.a.descent,
                        {
                            index: {
                                value: o ? m.a.createElement("div", null, a + 1, m.a.createElement("span", {
                                    className: i
                                })) : a + 1,
                                sortValue: 1
                            },
                            duration: {
                                value: g.a.personalizeDuration(t.duration),
                                sortValue: g.a.personalizeDuration(t.duration)
                            },
                            distance: {
                                value: g.a.personalizeDistance(t.distance),
                                sortValue: g.a.personalizeDistance(t.distance)
                            },
                            elevationGain: {
                                value: t.elevationGain ? g.a.personalizeElevation(t.elevationGain) : "--",
                                sortValue: t.elevationGain
                            },
                            elevationLoss: {
                                value: t.elevationLoss ? g.a.personalizeElevation(t.elevationLoss) : "--",
                                sortValue: t.elevationLoss
                            },
                            averageSpeed: {
                                value: g.a.personalizeSpeed(t.averageSpeed),
                                sortValue: g.a.personalizeSpeed(t.averageSpeed)
                            },
                            maxSpeed: {
                                value: g.a.personalizeSpeed(t.maxSpeed),
                                sortValue: t.maxSpeed
                            },
                            averageHR: {
                                value: g.a.personalizeHeartRate(t.averageHR),
                                sortValue: t.averageHR
                            },
                            maxHR: {
                                value: g.a.personalizeHeartRate(t.maxHR),
                                sortValue: g.a.personalizeHeartRate(t.maxHR)
                            },
                            cumDuration: {
                                value: g.a.personalizeDuration(e),
                                sortValue: e
                            },
                            movingDuration: {
                                value: g.a.personalizeDuration(t.movingDuration),
                                sortValue: g.a.personalizeDuration(t.movingDuration)
                            },
                            calories: {
                                value: g.a.formatWholeNumber(t.calories),
                                sortValue: g.a.formatWholeNumber(t.calories)
                            }
                        }
                    }),
                    n.push({
                        key: "index",
                        value: m.a.createElement(y.a, {
                            ns: "common",
                            content: "label_summary"
                        })
                    }, {
                        key: "duration",
                        value: g.a.personalizeDuration(this.activitySummary.duration)
                    }, {
                        key: "distance",
                        value: g.a.personalizeDistance(this.activitySummary.distance)
                    }, {
                        key: "elevationGain",
                        value: g.a.personalizeElevation(this.activitySummary.elevationGain)
                    }, {
                        key: "elevationLoss",
                        value: g.a.personalizeElevation(this.activitySummary.elevationLoss)
                    }, {
                        key: "averageSpeed",
                        value: g.a.personalizeSpeed(this.activitySummary.averageSpeed)
                    }, {
                        key: "maxSpeed",
                        value: g.a.personalizeSpeed(this.activitySummary.maxSpeed)
                    }, {
                        key: "averageHR",
                        value: g.a.personalizeHeartRate(this.activitySummary.averageHR)
                    }, {
                        key: "maxHR",
                        value: g.a.personalizeHeartRate(this.activitySummary.maxHR)
                    }, {
                        key: "cumDuration",
                        value: g.a.personalizeDuration(this.activitySummary.duration)
                    }, {
                        key: "movingDuration",
                        value: g.a.personalizeDuration(this.activitySummary.movingDuration)
                    }, {
                        key: "calories",
                        value: g.a.formatWholeNumber(this.activitySummary.calories)
                    }),
                    {
                        headers: a,
                        data: t,
                        footer: n
                    }
                }
            }, {
                key: "getIndoorClimbRoutes",
                value: function() {
                    var t = this
                      , e = []
                      , i = []
                      , a = {
                        CLIMB_COMPLETED: m.a.createElement(y.a, {
                            ns: "activity",
                            content: "climb_completed"
                        }),
                        CLIMB_ATTEMPTED: m.a.createElement(y.a, {
                            ns: "activity",
                            content: "climb_attempted"
                        })
                    }
                      , n = this.activitySplits.filter(function(t) {
                        return t.status !== a[t.status]
                    }).sort(function(t, e) {
                        return t.messageIndex - e.messageIndex
                    });
                    0 === n.length && (n = this.activitySplits);
                    var r = new v(this.activityTypeKey);
                    return e.push(r.getRoutesHeader(!0), r.getDifficultyHeader(!0), r.getFallsHeader(!0), r.getStatusHeader(!0), r.getDurationHeader(!0), r.getElevationGainHeader(!0), r.getAvgHRHeader(!0), r.getMaxHRHeader(!0), r.getCaloriesHeader(!0)),
                    i = n.map(function(e, i) {
                        return {
                            index: {
                                value: i + 1,
                                sortValue: 1
                            },
                            valueKey: {
                                value: e.gradeValue ? Object(C.c)(e.gradeValue.scale, e.gradeValue.valueKey, t.indoorClimbDifficulty) : "--",
                                sortValue: e.gradeValue && e.gradeValue.sortOrder
                            },
                            numFalls: {
                                value: e.numFalls ? g.a.formatWholeNumber(e.numFalls) : 0,
                                sortValue: g.a.formatWholeNumber(e.numFalls)
                            },
                            status: {
                                value: a[e.status] ? a[e.status] : "--",
                                sortValue: "".concat(a[e.status])
                            },
                            duration: {
                                value: g.a.personalizeDuration(e.duration),
                                sortValue: g.a.personalizeDuration(e.duration)
                            },
                            elevationGain: {
                                value: e.elevationGain ? g.a.personalizeElevation(e.elevationGain) : "--",
                                sortValue: e.elevationGain
                            },
                            averageHR: {
                                value: g.a.personalizeHeartRate(e.averageHR),
                                sortValue: e.averageHR
                            },
                            maxHR: {
                                value: g.a.personalizeHeartRate(e.maxHR),
                                sortValue: g.a.personalizeHeartRate(e.maxHR)
                            },
                            calories: {
                                value: g.a.formatWholeNumber(e.calories),
                                sortValue: g.a.formatWholeNumber(e.calories)
                            }
                        }
                    }),
                    this.activityTypeKey === b.a.Bouldering && (e = e.filter(function(t) {
                        return "elevationGain" !== t.key && "numFalls" !== t.key
                    }),
                    i = i.filter(function(t) {
                        return delete t.elevationGain && delete t.numFalls
                    })),
                    {
                        headers: e,
                        data: i
                    }
                }
            }, {
                key: "getDefaultSplits",
                value: function() {
                    var t, e, i = [], a = [], n = 0, r = new v(this.activityTypeKey);
                    return i.push(r.getSplitsHeader(!0), r.getDurationHeader(!0), r.getCumulativeTimeHeader(!0), r.getMovingTimeHeader(!0), r.getDistanceHeader(!0), r.getAvgSpeedHeader(!0), r.getMaxSpeedHeader(!0), r.getAvgHRHeader(!0), r.getMaxHRHeader(!0), r.getMinTempHeader(!0), r.getMaxTempHeader(!0), r.getAvgTempHeader(!0), r.getCaloriesHeader(!0)),
                    t = this.activitySplits.map(function(t, i) {
                        return e = n + t.duration,
                        n = e,
                        {
                            index: {
                                value: i + 1,
                                sortValue: 1
                            },
                            duration: {
                                value: g.a.personalizeDuration(t.duration),
                                sortValue: g.a.personalizeDuration(t.duration)
                            },
                            cumDuration: {
                                value: g.a.personalizeDuration(e),
                                sortValue: e
                            },
                            movingDuration: {
                                value: g.a.personalizeDuration(t.movingDuration),
                                sortValue: g.a.personalizeDuration(t.movingDuration)
                            },
                            distance: {
                                value: g.a.personalizeDistance(t.distance),
                                sortValue: g.a.personalizeDistance(t.distance)
                            },
                            averageSpeed: {
                                value: g.a.personalizeSpeed(t.averageSpeed),
                                sortValue: g.a.personalizeSpeed(t.averageSpeed)
                            },
                            maxSpeed: {
                                value: g.a.personalizeSpeed(t.maxSpeed),
                                sortValue: g.a.personalizeSpeed(t.maxSpeed)
                            },
                            averageHR: {
                                value: g.a.personalizeHeartRate(t.averageHR),
                                sortValue: g.a.personalizeHeartRate(t.averageHR)
                            },
                            maxHR: {
                                value: g.a.personalizeHeartRate(t.maxHR),
                                sortValue: g.a.personalizeHeartRate(t.maxHR)
                            },
                            minTemperature: {
                                value: g.a.personalizeTemperature(t.minTemperature),
                                sortValue: g.a.personalizeTemperature(t.minTemperature)
                            },
                            maxTemperature: {
                                value: g.a.personalizeTemperature(t.maxTemperature),
                                sortValue: g.a.personalizeTemperature(t.maxTemperature)
                            },
                            averageTemperature: {
                                value: g.a.personalizeTemperature(t.averageTemperature),
                                sortValue: g.a.personalizeTemperature(t.averageTemperature)
                            },
                            calories: {
                                value: g.a.formatWholeNumber(t.calories),
                                sortValue: g.a.formatWholeNumber(t.calories)
                            }
                        }
                    }),
                    a.push({
                        key: "index",
                        value: m.a.createElement(y.a, {
                            ns: "common",
                            content: "label_summary"
                        })
                    }, {
                        key: "duration",
                        value: g.a.personalizeDuration(this.activitySummary.duration)
                    }, {
                        key: "cumDuration",
                        value: g.a.personalizeDuration(this.activitySummary.duration)
                    }, {
                        key: "movingDuration",
                        value: g.a.personalizeDuration(this.activitySummary.movingDuration)
                    }, {
                        key: "distance",
                        value: g.a.personalizeDistance(this.activitySummary.distance)
                    }, {
                        key: "averageSpeed",
                        value: g.a.personalizeSpeed(this.activitySummary.averageSpeed)
                    }, {
                        key: "maxSpeed",
                        value: g.a.personalizeSpeed(this.activitySummary.maxSpeed)
                    }, {
                        key: "averageHR",
                        value: g.a.personalizeHeartRate(this.activitySummary.averageHR)
                    }, {
                        key: "maxHR",
                        value: g.a.personalizeHeartRate(this.activitySummary.maxHR)
                    }, {
                        key: "minTemperature",
                        value: g.a.personalizeTemperature(this.activitySummary.minTemperature)
                    }, {
                        key: "maxTemperature",
                        value: g.a.personalizeTemperature(this.activitySummary.maxTemperature)
                    }, {
                        key: "averageTemperature",
                        value: g.a.personalizeTemperature(this.activitySummary.averageTemperature)
                    }, {
                        key: "calories",
                        value: g.a.formatWholeNumber(this.activitySummary.calories)
                    }),
                    {
                        headers: i,
                        data: t,
                        footer: a
                    }
                }
            }]),
            t
        }()
          , x = (i(37),
        function(t) {
            function e(t) {
                return Object(l.a)(this, e),
                Object(h.a)(this, Object(p.a)(e).call(this, t))
            }
            return Object(d.a)(e, t),
            Object(c.a)(e, [{
                key: "render",
                value: function() {
                    var t = this.getActivitySplits();
                    return m.a.createElement("div", {
                        className: _.a.splitsTab
                    }, m.a.createElement(f.SortableTable, {
                        data: t.data,
                        columns: t.column,
                        footer: t.footer,
                        selector: !0
                    }))
                }
            }, {
                key: "getActivitySplits",
                value: function() {
                    var t = this.props;
                    return function(t, e, i, a) {
                        var n, r = new w(t,e,i,a);
                        switch (i) {
                        case "surfing":
                            return {
                                column: (n = r.getSurfSplits()).headers,
                                data: n.data,
                                footer: n.footer
                            };
                        case "backcountry_skiing_snowboarding_ws":
                            return {
                                column: (n = r.getBackCountrySplits()).headers,
                                data: n.data,
                                footer: n.footer
                            };
                        case "bouldering":
                        case "indoor_climbing":
                            return {
                                column: (n = r.getIndoorClimbRoutes()).headers,
                                data: n.data,
                                footer: n.footer
                            };
                        default:
                            return {
                                column: (n = r.getDefaultSplits()).headers,
                                data: n.data,
                                footer: n.footer
                            }
                        }
                    }(t.activitySplits, t.activitySummary, t.activityTypeKey, t.indoorClimbDifficulty)
                }
            }]),
            e
        }(m.a.Component))
          , S = i(4483)
          , T = i.n(S)
          , E = o.a.View.extend({
            initialize: function(t) {
                this.template = n.a.template(T.a),
                this.activityTypeKey = t.activityTypeKey,
                this.activitySummary = t.activitySummary,
                this.activitySplits = t.activitySplits,
                this.indoorClimbDifficulty = t.indoorClimbDifficulty
            },
            render: function() {
                this.$el.html(this.template()),
                this.view = new s.a,
                this.view.renderComponent(x, this.$(".react-activity-splits")[0], {
                    activityTypeKey: this.activityTypeKey,
                    activitySummary: this.activitySummary,
                    activitySplits: this.activitySplits,
                    indoorClimbDifficulty: this.indoorClimbDifficulty.toJSON()
                })
            }
        });
        e.a = E
    },
    5178: function(t, e, i) {
        "use strict";
        var a = i(56)
          , n = i(57)
          , r = i(63)
          , o = i(61)
          , s = i(62)
          , l = i(11)
          , c = i.n(l)
          , h = i(1256)
          , p = i(13)
          , d = i(96)
          , u = i(1265)
          , m = i.n(u)
          , f = i(83)
          , g = i(2297)
          , y = i.n(g)
          , v = i(40)
          , b = {
            0: v.color_306,
            1: v.color_308,
            2: v.color_309,
            3: v.color_614,
            4: v.color_615,
            5: v.color_502,
            6: v.color_414,
            7: v.color_415,
            8: v.color_416
        }
          , A = function(t) {
            function e() {
                return Object(a.a)(this, e),
                Object(r.a)(this, Object(o.a)(e).apply(this, arguments))
            }
            return Object(s.a)(e, t),
            Object(n.a)(e, [{
                key: "componentDidMount",
                value: function() {
                    this.updateCanvas()
                }
            }, {
                key: "updateCanvas",
                value: function() {
                    var t = this.refs.canvas.getContext("2d")
                      , e = t.createLinearGradient(0, 0, 60, 7);
                    e.addColorStop(0, b[0]),
                    e.addColorStop(.1, b[0]),
                    e.addColorStop(.1, b[1]),
                    e.addColorStop(.2, b[1]),
                    e.addColorStop(.2, b[2]),
                    e.addColorStop(.3, b[2]),
                    e.addColorStop(.3, b[3]),
                    e.addColorStop(.4, b[3]),
                    e.addColorStop(.4, b[4]),
                    e.addColorStop(.6, b[4]),
                    e.addColorStop(.6, b[5]),
                    e.addColorStop(.7, b[5]),
                    e.addColorStop(.7, b[6]),
                    e.addColorStop(.8, b[6]),
                    e.addColorStop(.8, b[7]),
                    e.addColorStop(.9, b[7]),
                    e.addColorStop(.9, b[8]),
                    e.addColorStop(1, b[8]),
                    t.fillStyle = e,
                    t.fillRect(0, 0, 60, 7)
                }
            }, {
                key: "render",
                value: function() {
                    return c.a.createElement("div", {
                        className: y.a.legendContainer
                    }, c.a.createElement("span", {
                        className: y.a.legendLabel
                    }, c.a.createElement(f.a, {
                        ns: "pacepro",
                        content: "pacepro_slower_label"
                    })), c.a.createElement("canvas", {
                        ref: "canvas",
                        width: 60,
                        height: 7
                    }), c.a.createElement("span", {
                        className: y.a.legendLabel
                    }, c.a.createElement(f.a, {
                        ns: "pacepro",
                        content: "pacepro_faster_label"
                    })))
                }
            }]),
            e
        }(c.a.Component)
          , _ = i(79)
          , C = i(92)
          , w = i(25)
          , x = function(t) {
            function e() {
                return Object(a.a)(this, e),
                Object(r.a)(this, Object(o.a)(e).apply(this, arguments))
            }
            return Object(s.a)(e, t),
            Object(n.a)(e, [{
                key: "render",
                value: function() {
                    var t = this.props.lap
                      , e = t.lapIndex
                      , i = t.duration
                      , a = t.averageSpeed
                      , n = t.maxSpeed;
                    return c.a.createElement("div", null, c.a.createElement("div", null, c.a.createElement("span", null, Object(w.b)("activity:auto_racing_lap_label"), ": "), c.a.createElement("span", {
                        className: y.a.statValue
                    }, e)), c.a.createElement("div", null, c.a.createElement("span", null, Object(w.b)("activity:auto_racing_lap_time"), ": "), c.a.createElement("span", {
                        className: y.a.statValue
                    }, p.a.fromSecondsToDuration(i))), n ? c.a.createElement("div", null, c.a.createElement("span", null, Object(w.b)("units:label_max_speed"), ": "), c.a.createElement("span", {
                        className: y.a.statValue
                    }, p.a.personalizeSpeed(n), " ", Object(w.b)("units:".concat(p.a.getSpeedUnitKey())))) : null, a ? c.a.createElement("div", null, c.a.createElement("span", null, Object(w.b)("units:label_avg_speed"), ": "), c.a.createElement("span", {
                        className: y.a.statValue
                    }, p.a.personalizeSpeed(a), " ", Object(w.b)("units:".concat(p.a.getSpeedUnitKey())))) : null)
                }
            }]),
            e
        }(c.a.Component)
          , S = function(t) {
            function e() {
                var t;
                return Object(a.a)(this, e),
                (t = Object(r.a)(this, Object(o.a)(e).call(this))).state = {
                    showModal: !1,
                    chartDataReady: !1
                },
                t
            }
            return Object(s.a)(e, t),
            Object(n.a)(e, [{
                key: "componentDidMount",
                value: function() {
                    this.setState({
                        chartDataReady: !0
                    }),
                    this.lapsForChart = this.convertLapDataToChartObject(),
                    this.chart.reflow(),
                    this.renderPlotLineLabel()
                }
            }, {
                key: "componentDidUpdate",
                value: function() {
                    this.chart.reflow(),
                    this.avgRect.destroy(),
                    this.avgText.destroy(),
                    this.renderPlotLineLabel()
                }
            }, {
                key: "convertLapDataToChartObject",
                value: function() {
                    for (var t = this.props.lapDTOs, e = [], i = 0; i < t.length; i++) {
                        for (var a = t[i], n = 0; n < 100; n++)
                            e.push([i + n / 100, a.duration]);
                        e.push([i + 1, a.duration])
                    }
                    return e
                }
            }, {
                key: "renderPlotLineLabel",
                value: function() {
                    var t = w.a.t("activity:auto_racing_avg_lap_time_label", {
                        0: p.a.fromSecondsToDuration(this.avgLapTime())
                    })
                      , e = this.chart.plotWidth - 160 + 18 - 20
                      , i = this.chart.plotTop + 150 + 9 - 15;
                    this.avgText = this.chart.renderer.label(t, e, i).attr({
                        zIndex: 5
                    }).css({
                        color: v.color_131,
                        zIndex: 999,
                        opacity: .85
                    }).add();
                    var a = this.avgText.getBBox();
                    this.avgRect = this.chart.renderer.rect(e - 2, i, a.width + 4, a.height, 0).attr({
                        fill: v.color_503,
                        "stroke-width": 0,
                        zIndex: 4,
                        opacity: .7
                    }).add()
                }
            }, {
                key: "render",
                value: function() {
                    var t = this
                      , e = this.getChartConfig(225)
                      , i = this.getChartConfig(500);
                    return c.a.createElement(d.a, this.props, c.a.createElement("div", {
                        className: y.a.componentContainer
                    }, c.a.createElement(_.Flexbox, {
                        container: !0,
                        between: !0
                    }, c.a.createElement(_.Flexbox, {
                        xs: 5,
                        sm: 6,
                        md: 7,
                        lg: 8,
                        collapse: !0
                    }, c.a.createElement("div", null, c.a.createElement("span", {
                        className: y.a.lapTimeTitle
                    }, c.a.createElement(f.a, {
                        ns: "activity",
                        content: "auto_racing_lap_time"
                    })))), c.a.createElement(_.Flexbox, {
                        xs: 6,
                        sm: 5,
                        md: 4,
                        lg: 3,
                        collapse: !0
                    }, c.a.createElement(A, null)), c.a.createElement(_.Flexbox, {
                        xs: 1,
                        sm: 1,
                        md: 1,
                        lg: 1,
                        collapse: !0
                    }, c.a.createElement("div", {
                        className: y.a.button
                    }, c.a.createElement(_.ButtonIcon, {
                        ariaLabel: w.a.t("activity:full_screen"),
                        icon: "icon-full-screen",
                        onClick: function() {
                            t.setState({
                                showModal: !0
                            })
                        }
                    })))), c.a.createElement("div", null, c.a.createElement(h.a, {
                        config: e,
                        callback: function(e) {
                            return t.chart = e
                        }
                    })), c.a.createElement(_.Dialog, {
                        open: this.state.showModal,
                        onClose: function() {
                            t.setState({
                                showModal: !1
                            })
                        },
                        width: "fill"
                    }, c.a.createElement(_.DialogTitle, null, c.a.createElement(f.a, {
                        ns: "activity",
                        content: "auto_racing_lap_time"
                    })), c.a.createElement(_.DialogContent, null, c.a.createElement("div", {
                        className: y.a.modalChartContainer
                    }, c.a.createElement(h.a, {
                        config: i
                    })))), c.a.createElement("hr", null)))
                }
            }, {
                key: "determineColor",
                value: function() {
                    for (var t = this.props.lapDTOs, e = 0; e < t.length - 1; e++) {
                        var i = t[e]
                          , a = t[e + 1];
                        if (i.duration !== a.duration)
                            return {
                                linearGradient: {
                                    x1: 0,
                                    x2: 0,
                                    y1: 0,
                                    y2: 1
                                },
                                stops: [[0, b[0]], [.1, b[0]], [.1, b[1]], [.2, b[1]], [.2, b[2]], [.3, b[2]], [.3, b[3]], [.4, b[3]], [.4, b[4]], [.6, b[4]], [.6, b[5]], [.7, b[5]], [.7, b[6]], [.8, b[6]], [.8, b[7]], [.9, b[7]], [.9, b[8]], [1, b[8]]]
                            }
                    }
                    return b[4]
                }
            }, {
                key: "avgLapTime",
                value: function() {
                    var t = this.props.lapDTOs
                      , e = 0;
                    return t.forEach(function(t) {
                        e += t.duration
                    }),
                    e / t.length
                }
            }, {
                key: "getPlotLines",
                value: function(t, e) {
                    return t.linearGradient ? [{
                        color: v.color_102,
                        width: "2",
                        value: e,
                        dashStyle: "dash",
                        zIndex: 4
                    }] : []
                }
            }, {
                key: "getChartConfig",
                value: function(t) {
                    var e = this.props.lapDTOs
                      , i = this.avgLapTime()
                      , a = w.a.t("activity:auto_racing_lap_time_chart_y_label")
                      , n = this.determineColor()
                      , r = this.getPlotLines(n, i)
                      , o = e.map(function(t) {
                        return t.lapIndex
                    })
                      , s = e.map(function() {
                        return i
                    });
                    return {
                        chart: {
                            type: "line",
                            height: t,
                            reflow: !0
                        },
                        title: {
                            text: null
                        },
                        subtitle: {
                            text: null
                        },
                        xAxis: [{
                            id: "primary",
                            tickInterval: 1,
                            endOnTick: !0,
                            alignTicks: !1,
                            floor: 0,
                            ceiling: e.length,
                            visible: !1
                        }, {
                            id: "categories",
                            categories: o,
                            showEmpty: !0
                        }],
                        yAxis: [{
                            title: {
                                text: a
                            },
                            plotLines: r,
                            labels: {
                                formatter: function() {
                                    return p.a.personalizeDuration(this.value)
                                }
                            }
                        }],
                        tooltip: {
                            formatter: function() {
                                var t = Math.floor(this.x);
                                t = Math.min(t, e.length - 1);
                                var i = e[t];
                                return m.a.renderToString(c.a.createElement(x, {
                                    lap: i
                                }))
                            },
                            borderColor: "#000",
                            useHTML: !0
                        },
                        plotOptions: {
                            line: {
                                marker: {
                                    enabled: !1,
                                    states: {
                                        hover: {
                                            enabled: !1
                                        }
                                    }
                                }
                            }
                        },
                        series: [{
                            type: "line",
                            data: this.lapsForChart,
                            color: n,
                            xAxis: "primary"
                        }, {
                            data: s,
                            xAxis: "categories",
                            enableMouseTracking: !1,
                            lineWidth: 0
                        }],
                        legend: {
                            enabled: !1
                        },
                        exporting: {
                            enabled: !1
                        },
                        credits: {
                            enabled: !1
                        }
                    }
                }
            }]),
            e
        }(c.a.Component);
        e.a = Object(C.d)(["units", "activity"])(S)
    },
    5180: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(2570)
          , c = i.n(l)
          , h = o.a.View.extend({
            template: n.a.template(c.a),
            initialize: function(t) {
                return this.accessory = t.accessory,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    accessory: this.accessory,
                    Localizer: s.a
                })),
                this
            }
        })
          , p = i(4505)
          , d = i.n(p)
          , u = o.a.View.extend({
            template: n.a.template(d.a),
            className: "text-center",
            initialize: function(t) {
                return this.status = t.status,
                this.icon = t.icon,
                this.customClasses = t.customClasses,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    status: this.status,
                    icon: this.icon
                })),
                this.customClasses && this.$el.addClass(this.customClasses),
                this
            }
        })
          , m = o.a.View.extend({
            template: n.a.template(c.a),
            initialize: function(t) {
                if (!t.accessory)
                    throw "accessory is required";
                this.accessory = t.accessory;
                var e = this.accessory.batteryStatusTypes[this.accessory.batteryInfo.batteryStatus];
                return e || (e = this.accessory.batteryStatusTypes.UNKNOWN),
                this.accessory.status = e.prefix ? s.a.localize(e.prefix) + ": " + s.a.localize(e.status) : s.a.localize(e.status),
                this.accessory.icon = e.icon,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a,
                    accessory: {
                        name: this.accessory.batteryInfo.name,
                        imageUrl: this.accessory.batteryInfo.imageUrl,
                        softwareVersion: this.accessory.batteryInfo.softwareVersion
                    }
                })),
                this.$el.append(new u({
                    status: this.accessory.status,
                    icon: this.accessory.icon
                }).render().el),
                this
            }
        })
          , f = i(4506)
          , g = i.n(f);
        e.a = o.a.View.extend({
            template: n.a.template(g.a),
            initialize: function(t) {
                return this.accessories = t.accessories,
                this
            },
            render: function() {
                if (this.$el.html(this.template({})),
                this.accessories)
                    for (var t, e = 0, i = this.accessories.length; e < i; e += 1)
                        this.accessories[e] && (t = new (this.accessories[e].batteryInfo ? m : h)({
                            accessory: this.accessories[e]
                        }),
                        this.$el.append(t.render().el));
                else
                    this.$el.empty();
                return this
            },
            updateAccessories: function(t) {
                this.accessories = t
            }
        })
    },
    5185: function(t, e, i) {
        "use strict";
        var a = i(3)
          , n = i(14)
          , r = i(9)
          , o = i.n(r)
          , s = i(0)
          , l = i.n(s)
          , c = i(8)
          , h = (i(13),
        i(65))
          , p = i(56)
          , d = i(57)
          , u = i(63)
          , m = i(61)
          , f = i(62)
          , g = i(11)
          , y = i.n(g)
          , v = i(79)
          , b = i(83)
          , A = i(2296)
          , _ = function(t) {
            var e = t.items;
            return Object.keys(e).map(function(t, i) {
                return y.a.createElement(v.DropdownItem, {
                    key: i,
                    value: t
                }, y.a.createElement(b.a, {
                    ns: "activity",
                    content: e[t]
                }))
            })
        }
          , C = function(t) {
            var e = _(t);
            return y.a.createElement(v.Dropdown, {
                value: t.value,
                onChange: t.onChange,
                full: !0
            }, e)
        }
          , w = i(4479)
          , x = i.n(w)
          , S = function(t) {
            function e() {
                var t, i;
                Object(p.a)(this, e);
                for (var a = arguments.length, n = new Array(a), r = 0; r < a; r++)
                    n[r] = arguments[r];
                return (i = Object(u.a)(this, (t = Object(m.a)(e)).call.apply(t, [this].concat(n)))).onFilterChange = function(t) {
                    (0,
                    i.props.onFilterChange)(t.value)
                }
                ,
                i.renderStepTypeFilter = function() {
                    var t = i.props.parentActivityType
                      , e = Object(A.a)(t);
                    return y.a.createElement(y.a.Fragment, null, y.a.createElement("span", null, y.a.createElement(b.a, {
                        ns: "activity",
                        content: "label_interval_type"
                    })), y.a.createElement("div", {
                        className: x.a.intervalsFilter
                    }, y.a.createElement(C, {
                        items: e,
                        value: "ALL",
                        onChange: i.onFilterChange
                    })))
                }
                ,
                i
            }
            return Object(f.a)(e, t),
            Object(d.a)(e, [{
                key: "render",
                value: function() {
                    var t = this.props
                      , e = t.columns
                      , i = t.data
                      , a = t.footer;
                    return y.a.createElement(y.a.Fragment, null, y.a.createElement("div", {
                        className: "marBottomMD ".concat(x.a.intervalsFilterContainer)
                    }, this.renderStepTypeFilter()), y.a.createElement(v.IntervalsTable, {
                        columns: e,
                        data: i,
                        footer: a,
                        childModelKey: "lap_indexes"
                    }))
                }
            }]),
            e
        }(y.a.Component)
          , T = i(1685)
          , E = i(4481)
          , k = i.n(E)
          , L = {
            class: "",
            displayLabel: "",
            fieldName: "caret-intervals",
            Personalizer: null
        }
          , P = l.a.View.extend({
            initialize: function(t) {
                this.template = o.a.template(k.a),
                this.colModel = t.colModel,
                this.data = t.data,
                this.activityTypedSplits = t.activityTypedSplits,
                this.footerModel = t.footerModel,
                this.splitSummaries = t.splitSummaries,
                this.activityTypeKey = t.activityTypeKey,
                this.parentActivityType = t.parentActivityType,
                this.intervalIndex = 1,
                this.intervalFilterType = "ALL"
            },
            render: function() {
                this.$el.html(this.template()),
                this.renderActivityIntervals()
            },
            renderActivityIntervals: function() {
                var t = this
                  , e = this.buildIntervalsTableData();
                this.view = new h.a;
                var i = this.getFooter();
                this.view.renderComponent(S, this.$(".activity-intervals-tab-content-placeholder")[0], {
                    columns: this.getColumns(),
                    data: e,
                    footer: i.length > 1 ? i : null,
                    parentActivityType: this.parentActivityType,
                    onFilterChange: function(e) {
                        t.onFilterChange(e)
                    }
                })
            },
            getColumns: function() {
                var t = []
                  , e = Object(n.a)(this.colModel);
                return e.splice(0, 0, L),
                e.forEach(function(e) {
                    if ("lap_indexes" !== e.displayLabel) {
                        var i = e.displayLabel ? c.a.localize(e.displayLabel) : "";
                        t.push(i)
                    }
                }),
                t
            },
            buildIntervalsTableData: function() {
                var t = this
                  , e = "ALL" !== this.intervalFilterType ? this.getIntervalsData().map(function(t) {
                    return Object(a.a)({}, t)
                }) : this.activityTypedSplits.map(function(t) {
                    return Object(a.a)({}, t)
                });
                return e.forEach(function(e) {
                    var i = e.lap_indexes ? e.lap_indexes.length : 0
                      , a = e.label_interval_type
                      , n = T.a.getIntervalType(a, t.parentActivityType);
                    if (i > 0) {
                        e["activity.interval"] = T.a.isActiveInterval(a) ? t.intervalIndex++ : "";
                        var r = e.lap_indexes[0]
                          , o = i > 1 ? e.lap_indexes[i - 1] : null;
                        e["activity.interval.lap"] = r && o ? "".concat(r, " - ").concat(o) : r;
                        var s = [];
                        e.lap_indexes.forEach(function(e) {
                            var i = t.data.find(function(t) {
                                return t["activity.interval.lap"] === e
                            });
                            i && (i.label_interval_type = n,
                            delete i.lap_indexes,
                            s.push(i))
                        }),
                        e.lap_indexes = s.length > 1 ? s : []
                    } else
                        e["activity.interval"] = "";
                    e.label_interval_type = n
                }),
                e
            },
            getFooter: function() {
                var t = [];
                t.push("");
                var e = "ALL" !== this.intervalFilterType ? this.getSplitSummary() : this.footerModel;
                for (var i in e)
                    "lap_indexes" !== i && t.push(e[i]);
                return t
            },
            getSplitSummary: function() {
                var t = this
                  , e = Object.keys(this.splitSummaries).find(function(e) {
                    return -1 !== e.indexOf(t.intervalFilterType)
                });
                return e ? this.splitSummaries[e] : {}
            },
            getIntervalsData: function() {
                var t = this;
                return this.activityTypedSplits.filter(function(e) {
                    return -1 !== e.label_interval_type.indexOf(t.intervalFilterType)
                })
            },
            onFilterChange: function(t) {
                this.intervalFilterType = t,
                this.intervalIndex = 1,
                this.renderActivityIntervals()
            }
        });
        e.a = P
    },
    5198: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(2562)
          , c = i(4398)
          , h = i(4399)
          , p = i(4404)
          , d = i.n(p)
          , u = {
            ADD_PHOTOS: "ADD_PHOTOS"
        }
          , m = o.a.View.extend({
            events: {
                "click .add-photos": "onClickAdd"
            },
            className: "photo-empty-state",
            template: n.a.template(d.a),
            initialize: function(t) {},
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a
                })),
                this
            },
            onClickAdd: function() {
                this.trigger(u.ADD_PHOTOS)
            },
            destroy: function() {
                this.off(),
                this.remove()
            }
        });
        m.Events = u;
        var f = m
          , g = i(4405)
          , y = i(4408)
          , v = i.n(y)
          , b = {
            CANCEL_UPLOAD: "CANCEL_UPLOAD"
        }
          , A = o.a.View.extend({
            events: {
                "click .notification-dismiss": "onClickDismissGrowl",
                "click .dismiss-growl": "onClickDismissGrowl",
                "click .dismiss-error-growl": "onClickDismissErrorGrowl",
                "click .cancel-upload": "onClickCancelUpload",
                "click .upload-error-dismiss": "onClickDismissFileErrors",
                "click .upload-error-expand": "onClickExpandFileErrors",
                "click .upload-error-minimize": "onClickMinimizeFileErrors"
            },
            initialize: function() {
                this.errorCount = 0,
                this.totalUploadCount = 0,
                this.currentPhoto = 0
            },
            render: function() {
                return this.$el.html(n.a.template(v.a)({
                    Localizer: s.a
                })),
                this
            },
            onDroppedExcessPhotos: function() {
                this.$(".photo-upload-error-growl").css("display", "block"),
                this.$(".photo-upload-error-growl").delay(4e3).fadeOut("slow")
            },
            onAddedPhoto: function() {
                "none" === this.$(".photo-upload-error-growl").css("display") && (0 === this.totalUploadCount && (this.$(".cancel-upload").css("display", "inline"),
                this.$(".dismiss-growl").css("display", "none"),
                this.$(".total-upload-progress").css("width", 0),
                this.currentPhoto = 1),
                this.totalUploadCount += 1,
                this.updateUploadText(!1, this.currentPhoto, this.totalUploadCount),
                this.$(".photo-upload-growl").stop(!0).css({
                    display: "block",
                    opacity: "1"
                }))
            },
            onUploadedPhoto: function() {
                this.currentPhoto += 1,
                this.onPhotoProcessed()
            },
            onUploadPhotoError: function() {
                this.errorCount += 1,
                1 === this.errorCount ? this.$(".upload-error-summary").html(s.a.localize("photos_upload_growl_file_error")) : this.$(".upload-error-summary").html(s.a.localize("photos_upload_growl_file_errors", this.errorCount)),
                this.$(".upload-error-section").css("display", "block"),
                this.onPhotoProcessed()
            },
            onPhotoProcessed: function() {
                this.currentPhoto + this.errorCount <= this.totalUploadCount ? this.updateUploadText(!1, this.currentPhoto, this.totalUploadCount) : this.onUploadComplete()
            },
            onUploadComplete: function() {
                this.updateUploadText(!0),
                this.$(".cancel-upload").css("display", "none"),
                this.$(".dismiss-growl").fadeIn(500).css("display", "inline"),
                "none" === this.$(".upload-error-section").css("display") && (this.$(".photo-upload-growl").delay(4e3).fadeOut("slow"),
                this.dismissFileErrors()),
                this.totalUploadCount = 0,
                this.currentPhoto = 0
            },
            onClickCancelUpload: function() {
                this.$(".upload-error-list").is(":empty") || this.trigger(b.CANCEL_UPLOAD),
                this.$(".photo-upload-growl").css("display", "none"),
                this.totalUploadCount = 0,
                this.dismissFileErrors()
            },
            onClickDismissGrowl: function() {
                this.$(".photo-upload-growl").css("display", "none"),
                this.totalUploadCount = 0,
                this.dismissFileErrors()
            },
            onClickDismissErrorGrowl: function() {
                this.$(".photo-upload-error-growl").css("display", "none"),
                this.totalUploadCount = 0
            },
            onClickDismissFileErrors: function() {
                this.dismissFileErrors()
            },
            onClickMinimizeFileErrors: function() {
                this.$(".upload-error-list").css("display", "none"),
                this.$(".upload-error-expand").css("display", "inline-block"),
                this.$(".upload-error-minimize").css("display", "none")
            },
            onClickExpandFileErrors: function() {
                this.$(".upload-error-list").fadeIn(300).css("display", "block"),
                this.$(".upload-error-expand").css("display", "none"),
                this.$(".upload-error-minimize").css("display", "inline-block")
            },
            updateProgressBar: function(t) {
                var e = this.$(".total-upload-progress")
                  , i = e.width() / e.parent().width() * 100;
                i < t && (i = t,
                e.css("width", i + "%"))
            },
            updateUploadText: function(t, e, i) {
                t ? this.$(".upload-text").html(s.a.localize("photos_upload_growl_upload_complete")) : this.$(".upload-text").html(s.a.localize("photos_upload_growl_uploading") + " " + e + "/" + i)
            },
            dismissFileErrors: function() {
                this.$(".upload-error-section").css("display", "none"),
                this.$(".upload-error-list").delay(1e3).empty(),
                this.errorCount = 0
            },
            destroy: function() {
                this.off(),
                this.remove()
            }
        });
        A.Events = b;
        var _ = A
          , C = i(32)
          , w = i(2563)
          , x = (i(256),
        i(4409))
          , S = i.n(x)
          , T = (i(4410),
        o.a.View.extend({
            template: n.a.template(S.a),
            initialize: function(t) {
                this.canManagePhotos = t.canManagePhotos,
                this.activityId = t.activityId,
                this.images = t.images,
                this.photoCarousel = null,
                this.photoUpload = null,
                this.photoUploadGrowl = null,
                this.uploadedPhotos = 0
            },
            render: function() {
                return this.$el.html(this.template({})),
                this.canManagePhotos ? (this.instantiateUploadGrowl(),
                this.instantiateDropzone()) : this.instantiatePhotoView(),
                this.images && this.images.length > 0 ? this.instantiateMainPhotoCarousel() : this.canManagePhotos && this.instantiateEmptyState(),
                this.photoCarousel && this.images.length >= 10 && this.photoCarousel.disableAddBtn(),
                this.hideShowEditBtn(),
                this
            },
            onDragPhotosIn: function(t) {
                this.photoUpload.onDragPhotosInPage(t)
            },
            onDragPhotosOut: function() {
                this.photoUpload.onDragPhotosOutPage()
            },
            onEnlargePhoto: function(t) {
                this.modalPhotoCarousel = new h.a({
                    images: this.images,
                    activityId: this.activityId,
                    canClickToEnlarge: !1,
                    selectedPhotoId: t,
                    isEnlarged: !0,
                    canManagePhotos: !1
                }),
                this.listenTo(this.modalPhotoCarousel, h.a.Events.MODAL_SCROLL, this.onSwitchModalPhoto),
                this.listenTo(this.modalPhotoCarousel, h.a.Events.REMOVED_MODAL_PHOTO, this.onRemovedModalPhoto),
                this.modalPopupView = new C.a({
                    view: this.modalPhotoCarousel,
                    showFooter: !1,
                    customClasses: "modal-wide photo-carousel-modal",
                    customBackdropClasses: "lightbox",
                    showCloseButton: !0
                }),
                this.modalPopupView.render(),
                this.modalPopupView.$el.appendTo(this.$el)
            },
            onRemovedPhoto: function(t) {
                t && 0 === t.length ? this.clearCarousel() : this.refreshDropzone(),
                this.hideShowEditBtn(),
                this.photoCarousel.enableAddBtn(),
                this.uploadedPhotos = 0
            },
            onClickAddPhotos: function() {
                this.photoUpload.myAwesomeDropzone.hiddenFileInput.click()
            },
            onRemovedModalPhoto: function(t) {
                this.images && 0 === this.images.length ? (this.clearCarousel(),
                this.modalPopupView.close()) : this.photoCarousel.removeGalleryPhoto(t),
                this.refreshDropzone()
            },
            onRenderEditView: function() {
                this.photoEditCarousel = new w.a({
                    images: this.images,
                    deleteUrl: this.deleteUrl
                }),
                this.listenTo(this.photoEditCarousel, w.a.Events.SAVE_EDIT_PHOTOS, this.onSaveEditCarousel),
                this.listenTo(this.photoEditCarousel, w.a.Events.CANCEL_EDIT_PHOTOS, this.onCloseEditCarousel),
                this.$(".edit-carousel-content").html(this.photoEditCarousel.render().el),
                this.photoCarousel.destroy(),
                this.photoUpload.destroy()
            },
            onSaveEditCarousel: function(t, e) {
                var i = this
                  , a = new c.a({
                    activityId: this.activityId,
                    ids: t
                });
                e.forEach(function(t) {
                    i.onRemovePhoto(t)
                }),
                t ? a.update({
                    success: function() {
                        this.images = this.getNewList(t),
                        this.onCloseEditCarousel()
                    }
                    .bind(this),
                    error: function() {
                        this.showErrorMessage(s.a.localize("error_reorder_photos")),
                        this.$(".photo-edit-error-growl").css("display", "block"),
                        this.onCloseEditCarousel()
                    }
                    .bind(this)
                }) : (this.images = this.photoEditCarousel.images,
                this.onCloseEditCarousel())
            },
            getNewList: function(t) {
                var e = []
                  , i = this;
                return t.forEach(function(t) {
                    i.images.forEach(function(i) {
                        t === i.imageId && e.push(i)
                    })
                }),
                e
            },
            onCloseEditCarousel: function() {
                this.photoEditCarousel.destroy(),
                this.refreshDropzone(),
                0 === this.images.length && (this.instantiateUploadGrowl(),
                this.instantiateDropzone(),
                this.instantiateEmptyState())
            },
            onRemovePhoto: function(t) {
                new l.a({
                    activityId: this.activityId,
                    imageId: t
                }).destroy({
                    success: function() {
                        for (var e = 0; e < this.images.length; e++)
                            if (t === this.images[e].imageId) {
                                this.images.splice(e, 1);
                                break
                            }
                    }
                    .bind(this),
                    error: function() {
                        this.showErrorMessage(s.a.localize("error_delete_photo"))
                    }
                    .bind(this)
                })
            },
            onSwitchModalPhoto: function(t) {
                this.photoCarousel.onModalSwitchPhoto(t)
            },
            onDroppedExcessPhotos: function() {
                this.photoUploadGrowl.onDroppedExcessPhotos()
            },
            onAddedPhoto: function() {
                this.photoUploadGrowl.onAddedPhoto(),
                this.uploadedPhotos++;
                var t = this.images.length + this.uploadedPhotos;
                this.photoCarousel && t >= 10 && this.photoCarousel.disableAddBtn()
            },
            hideShowEditBtn: function() {
                this.images.length <= 1 ? this.$(".edit-carousel").hide() : this.canManagePhotos && this.$(".edit-carousel").show()
            },
            onUploadedPhoto: function(t) {
                this.images && 0 === this.images.length && (this.emptyState.destroy(),
                this.instantiateMainPhotoCarousel()),
                this.uploadedPhotos = 0,
                this.photoCarousel.onPhotoUploaded(t),
                this.photoUploadGrowl.onUploadedPhoto(),
                this.hideShowEditBtn(),
                this.photoCarousel && this.images.length >= 10 && this.photoCarousel.disableAddBtn()
            },
            onUploadPhotoError: function() {
                this.photoUploadGrowl.onUploadPhotoError()
            },
            updateProgressBar: function(t) {
                this.photoUploadGrowl.updateProgressBar(t)
            },
            cancelPhotoUpload: function() {
                try {
                    this.photoUpload.myAwesomeDropzone.removeAllFiles()
                } catch (e) {}
                var t = this.images.length + this.photoUpload.myAwesomeDropzone.files.length;
                this.photoCarousel && t < 10 ? this.photoCarousel.enableAddBtn() : this.photoCarousel.disableAddBtn(),
                this.uploadedPhotos = 0
            },
            instantiateMainPhotoCarousel: function() {
                this.photoCarousel = new h.a({
                    images: this.images,
                    maxFileCount: 10,
                    activityId: this.activityId,
                    canClickToEnlarge: !0,
                    isEnlarged: !1,
                    canManagePhotos: this.canManagePhotos
                }),
                this.listenTo(this.photoCarousel, h.a.Events.ENLARGE_PHOTO, this.onEnlargePhoto),
                this.listenTo(this.photoCarousel, h.a.Events.REMOVED_PHOTO, this.onRemovedPhoto),
                this.listenTo(this.photoCarousel, h.a.Events.ADD_PHOTOS, this.onClickAddPhotos),
                this.listenTo(this.photoCarousel, h.a.Events.RENDER_EDIT_VIEW, this.onRenderEditView),
                this.$(".view-photos").html(this.photoCarousel.render().el)
            },
            instantiateEmptyState: function() {
                this.emptyState = new f({}),
                this.listenTo(this.emptyState, f.Events.ADD_PHOTOS, this.onClickAddPhotos),
                this.$(".empty-state").html(this.emptyState.render().el)
            },
            instantiateDropzone: function() {
                var t = "/modern/proxy/activity-service/activity/" + this.activityId + "/image"
                  , e = 10;
                this.images && (e -= this.images.length),
                this.photoUpload = new g.a({
                    deleteUrl: t + "/",
                    uploadOptions: {
                        url: t,
                        maxFiles: e,
                        previewsContainer: this.$(".upload-error-list")[0]
                    }
                }),
                this.listenTo(this.photoUpload, g.a.Events.DROPPED_EXCESS_PHOTOS, this.onDroppedExcessPhotos),
                this.listenTo(this.photoUpload, g.a.Events.ADDED_PHOTO, this.onAddedPhoto),
                this.listenTo(this.photoUpload, g.a.Events.UPLOADED_PHOTO, this.onUploadedPhoto),
                this.listenTo(this.photoUpload, g.a.Events.UPLOAD_ERROR, this.onUploadPhotoError),
                this.listenTo(this.photoUpload, g.a.Events.UPDATE_PROGRESS_BAR, this.updateProgressBar),
                this.$(".upload-photos-dropzone").html(this.photoUpload.render().el)
            },
            instantiateUploadGrowl: function() {
                this.photoUploadGrowl = new _({}),
                this.listenTo(this.photoUploadGrowl, _.Events.CANCEL_UPLOAD, this.cancelPhotoUpload),
                this.$(".upload-growl").html(this.photoUploadGrowl.render().el)
            },
            instantiatePhotoView: function() {
                this.images.length > 0 && (this.photoView = new h.a({
                    images: this.images,
                    maxFileCount: 10,
                    activityId: this.activityId,
                    canClickToEnlarge: !0,
                    selectedPhotoId: this.images[0].imageId,
                    isEnlarged: !1,
                    canManagePhotos: !1
                }),
                this.listenTo(this.photoView, h.a.Events.ENLARGE_PHOTO, this.onEnlargePhoto),
                this.$(".photo-carousel-view").html(this.photoView.render().el))
            },
            clearCarousel: function() {
                this.photoCarousel.destroy(),
                this.instantiateEmptyState()
            },
            refreshDropzone: function() {
                this.photoUpload.destroy(),
                this.instantiateDropzone(),
                this.instantiateMainPhotoCarousel()
            },
            showErrorMessage: function(t) {
                this.$(".alert-error").removeClass("hidden"),
                this.$(".alert-error").html(t).delay(4e3).fadeOut("slow")
            }
        }));
        e.a = T
    },
    5217: function(t, e, i) {
        "use strict";
        i(9);
        var a = i(0)
          , n = i.n(a)
          , r = n.a.Model.extend({});
        e.a = n.a.Collection.extend({
            model: r,
            url: function() {
                return "/proxy/activity-service/activity/" + this.activityId + "/playlist"
            },
            initialize: function(t, e) {
                this.activityId = e.activityId
            },
            parse: function(t) {
                return t.playedSongs
            }
        })
    },
    5218: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(8)
          , o = i(0)
          , s = i.n(o)
          , l = i(13)
          , c = i(4495)
          , h = i(32)
          , p = i(4497)
          , d = i.n(p)
          , u = s.a.View.extend({
            initialize: function(t) {
                this.template = n.a.template(d.a)
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: r.a
                }))
            }
        })
          , m = i(4498)
          , f = i.n(m);
        e.a = s.a.View.extend({
            template: n.a.template(f.a),
            className: "mtbStat",
            events: {
                "click .jumps-help": "onJumpsHelpClicked"
            },
            initialize: function(t) {
                return this.summaryDTO = t.summaryDTO,
                this.jumps = t.jumps,
                this.gridView = new c.a({
                    jumps: this.jumps,
                    activity: t.activity
                }),
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: r.a,
                    summaryDTO: this.summaryDTO,
                    jumps: this.jumps,
                    Personalizer: l.a
                })),
                this.$(".mtb-jumps-grid").html(this.gridView.render().el),
                this
            },
            renderModal: function() {
                var t = new u({});
                new h.a({
                    view: t,
                    showFooter: !1,
                    customClasses: "modal-jumps-help",
                    modalTitle: r.a.localize("help.title")
                }).render()
            },
            onJumpsHelpClicked: function() {
                this.renderModal()
            }
        })
    },
    5221: function(t, e, i) {
        "use strict";
        var a = i(56)
          , n = i(57)
          , r = i(63)
          , o = i(61)
          , s = i(62)
          , l = i(11)
          , c = i.n(l)
          , h = i(71)
          , p = i(1256)
          , d = i(13)
          , u = i(96)
          , m = i(1265)
          , f = i.n(m)
          , g = i(79)
          , y = i(4514)
          , v = i.n(y)
          , b = i(92)
          , A = i(25)
          , _ = i(83)
          , C = i(419)
          , w = i(40)
          , x = function(t) {
            function e() {
                return Object(a.a)(this, e),
                Object(r.a)(this, Object(o.a)(e).apply(this, arguments))
            }
            return Object(s.a)(e, t),
            Object(n.a)(e, [{
                key: "render",
                value: function() {
                    var t = this.props.wave
                      , e = t.duration
                      , i = t.maxSpeed
                      , a = t.distance;
                    return c.a.createElement("div", null, c.a.createElement("div", null, c.a.createElement("span", null, Object(A.b)("units:label_distance"), ": "), c.a.createElement("span", null, d.a.personalizeWaveDistance(a), " ", Object(A.b)("units:".concat(d.a.getWaveDistanceUnitKey())))), c.a.createElement("div", null, c.a.createElement("span", null, Object(A.b)("units:label_max_speed"), ": "), c.a.createElement("span", null, d.a.personalizeSpeed(i), " ", Object(A.b)("units:".concat(d.a.getSpeedUnitKey())))), c.a.createElement("div", null, c.a.createElement("span", null, Object(A.b)("activity:surf_time_label"), ": "), c.a.createElement("span", null, d.a.personalizeDuration(e))))
                }
            }]),
            e
        }(c.a.Component)
          , S = {
            setSurfPolylineIndex: C.e
        }
          , T = function(t) {
            function e() {
                var t;
                return Object(a.a)(this, e),
                (t = Object(r.a)(this, Object(o.a)(e).call(this))).onWaveSelected = function(e, i) {
                    var a = t.props;
                    a.waves;
                    (0,
                    a.setSurfPolylineIndex)({
                        index: parseInt(e),
                        maxWaveIndex: i
                    })
                }
                ,
                t.state = {
                    showModal: !1
                },
                t
            }
            return Object(s.a)(e, t),
            Object(n.a)(e, [{
                key: "componentDidMount",
                value: function() {
                    this.chart.reflow()
                }
            }, {
                key: "componentDidUpdate",
                value: function() {
                    this.chart.reflow()
                }
            }, {
                key: "render",
                value: function() {
                    var t = this
                      , e = this.getChartConfig(500);
                    return c.a.createElement(u.a, this.props, c.a.createElement("div", {
                        className: v.a.componentContainer
                    }, c.a.createElement(g.Flexbox, {
                        container: !0,
                        between: !0
                    }, c.a.createElement(g.Flexbox, {
                        xs: 5,
                        sm: 6,
                        md: 7,
                        lg: 8,
                        collapse: !0
                    }, c.a.createElement("div", null, c.a.createElement("span", {
                        className: v.a.waveDistanceTitle
                    }, c.a.createElement(_.a, {
                        ns: "activity",
                        content: "surf_wave_distance_title",
                        params: {
                            0: A.a.t("units:".concat(d.a.getWaveDistanceUnitKey()))
                        }
                    })))), c.a.createElement(g.Flexbox, {
                        xs: 1,
                        sm: 1,
                        md: 1,
                        lg: 1,
                        collapse: !0
                    }, c.a.createElement("div", {
                        className: v.a.button
                    }, c.a.createElement(g.ButtonIcon, {
                        ariaLabel: A.a.t("activity:full_screen"),
                        icon: "icon-full-screen",
                        onClick: function() {
                            t.setState({
                                showModal: !0
                            })
                        }
                    })))), c.a.createElement("div", null, c.a.createElement(p.a, {
                        config: this.getChartConfig(250),
                        callback: function(e) {
                            return t.chart = e
                        }
                    })), c.a.createElement(g.Dialog, {
                        open: this.state.showModal,
                        onClose: function() {
                            t.setState({
                                showModal: !1
                            })
                        },
                        width: "fill"
                    }, c.a.createElement(g.DialogTitle, null, c.a.createElement(_.a, {
                        ns: "activity",
                        content: "surf_wave_distance_title",
                        params: {
                            0: A.a.t("units:".concat(d.a.getWaveDistanceUnitKey()))
                        }
                    })), c.a.createElement(g.DialogContent, null, c.a.createElement("div", {
                        className: v.a.modalChartContainer
                    }, c.a.createElement(p.a, {
                        config: e
                    })))), c.a.createElement("hr", null)))
                }
            }, {
                key: "getChartConfig",
                value: function(t) {
                    var e = this
                      , i = this.props
                      , a = i.waves
                      , n = i.selectedWaveIndex
                      , r = n && n.index
                      , o = a.filter(function(t) {
                        return "SURF_ACTIVE" === t.type
                    })
                      , s = o.reduce(function(t, e, i, a) {
                        return e.distance > t.distance ? e : t
                    }, {
                        distance: 0
                    }).messageIndex
                      , l = o.map(function(t) {
                        var e = {
                            y: d.a.convertDistanceMetersFt(t.distance),
                            color: w.blue_light_2
                        };
                        return t.messageIndex === s && (e.color = w.red_primary),
                        t.messageIndex === r && (e.color = w.yellow_dark_3),
                        e
                    });
                    return {
                        chart: {
                            type: "column",
                            height: t
                        },
                        title: {
                            text: ""
                        },
                        xAxis: {
                            tickInterval: 1,
                            tickWidth: 0,
                            crosshair: !0,
                            labels: {
                                formatter: function() {
                                    return this.value + 1
                                }
                            }
                        },
                        yAxis: {
                            min: 0,
                            title: {
                                text: ""
                            }
                        },
                        tooltip: {
                            formatter: function() {
                                var t = o[this.x];
                                return f.a.renderToString(c.a.createElement(x, {
                                    wave: t
                                }))
                            },
                            useHTML: !0
                        },
                        plotOptions: {
                            column: {
                                pointPadding: 0,
                                borderWidth: 0,
                                events: {
                                    legendItemClick: function() {
                                        return !1
                                    },
                                    click: function(t) {
                                        e.onWaveSelected(o[t.point.index].messageIndex, s)
                                    }
                                },
                                stacking: "normal"
                            }
                        },
                        series: [{
                            name: A.a.t("activity:surf_waves_label"),
                            color: w.blue_light_2,
                            data: l
                        }, {
                            name: A.a.t("activity:surf_longest_wave_label"),
                            color: w.red_primary,
                            data: []
                        }],
                        exporting: {
                            enabled: !1
                        },
                        credits: {
                            enabled: !1
                        },
                        legend: {
                            itemStyle: {
                                cursor: "default",
                                fontWeight: "normal"
                            }
                        }
                    }
                }
            }]),
            e
        }(c.a.Component);
        e.a = Object(b.d)(["units", "activity"])(Object(h.b)(function(t, e) {
            return {
                selectedWaveIndex: Object(C.d)(t)
            }
        }, S)(T))
    },
    5222: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(13)
          , c = i(1485)
          , h = i(134)
          , p = i(64)
          , d = i(4443)
          , u = i.n(d)
          , m = o.a.View.extend({
            tagName: "tr",
            template: n.a.template(u.a),
            events: {
                "click .edit-activity": "onEditClicked"
            },
            initialize: function(t) {
                this.setData = t.setData,
                this.rowNumber = t.rowNumber,
                this.isReadOnly = t.isReadOnly,
                this.isPilatesActivity = t.isPilatesActivity,
                this.isYogaActivity = t.isYogaActivity,
                this.weightIsNumber = !0,
                this.setData.weight !== s.a.localize("add_weight") && this.setData.weight !== s.a.localize("body_weight") || (this.weightIsNumber = !1),
                this.setData.weight === s.a.localize("add_weight") && this.isReadOnly && (this.weightIsNumber = !1,
                this.setData.weight = "--")
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    Personalizer: l.a,
                    isMetric: l.a.measurementSystem === l.a.MeasurementSystems.METRIC,
                    rowNumber: this.rowNumber,
                    linkNameToEdit: this.setData.linkNameToEdit,
                    exerciseType: this.setData.exerciseType,
                    time: l.a.personalizeDuration(this.setData.time),
                    rest: l.a.personalizeDuration(this.setData.rest),
                    reps: 0 === this.setData.reps ? "0" : l.a.zeroDash(this.setData.reps),
                    weight: this.setData.weight,
                    isReadOnly: this.isReadOnly,
                    weightIsNumber: this.weightIsNumber,
                    isPilatesActivity: this.isPilatesActivity,
                    isYogaActivity: this.isYogaActivity,
                    labels: this.getLabels()
                }))
            },
            onEditClicked: function(t) {
                p.default.navigate("activity/manual/" + this.setData.activityId + "/edit", t)
            },
            getLabels: function() {
                var t = {
                    setNumberTitle: s.a.localize("label_set"),
                    setName: s.a.localize("label_exercise_name"),
                    chooseSetLabelKey: null
                };
                return this.isPilatesActivity && (t = {
                    setNumberTitle: s.a.localize("label_move"),
                    setName: s.a.localize("label_move_name"),
                    chooseSetLabelKey: "choose_a_move"
                }),
                this.isYogaActivity && (t = {
                    setNumberTitle: s.a.localize("label_pose"),
                    setName: s.a.localize("label_pose_name"),
                    chooseSetLabelKey: "choose_a_pose"
                }),
                t
            }
        })
          , f = i(4444)
          , g = i.n(f)
          , y = o.a.View.extend({
            template: n.a.template(g.a),
            initialize: function(t) {
                this.activity = t.activity.activity,
                this.repCountingActivity = t.activity.repCountingActivity.get("exerciseSets"),
                this.exerciseTypes = t.exerciseTypes,
                this.isReadOnly = t.isReadOnly,
                this.isPilatesActivity = t.isPilatesActivity,
                this.isYogaActivity = t.isYogaActivity
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    isPilatesActivity: this.isPilatesActivity,
                    isYogaActivity: this.isYogaActivity,
                    labels: this.getLabels()
                })),
                this.renderSets()
            },
            renderSets: function() {
                var t, e = this.repCountingActivity ? this.repCountingActivity.length : 0, i = this.$("#setsContainer"), a = 1;
                if (e > 0)
                    for (var n = 0; n < e; n += 1)
                        "REST" !== this.repCountingActivity[n].setType && ((t = new m({
                            setData: this.getSetData(n),
                            rowNumber: a,
                            isReadOnly: this.isReadOnly,
                            isPilatesActivity: this.isPilatesActivity,
                            isYogaActivity: this.isYogaActivity
                        })).render(),
                        i.append(t.el),
                        a += 1);
                else
                    (t = new m({
                        setData: this.getSetData(null),
                        rowNumber: a,
                        isReadOnly: this.isReadOnly,
                        isPilatesActivity: this.isPilatesActivity,
                        isYogaActivity: this.isYogaActivity
                    })).render(),
                    i.append(t.el)
            },
            getSetData: function(t) {
                var e = {}
                  , i = this.getExerciseCategoryAndType(t);
                return e.activityId = this.activity.get("activityId"),
                e.exerciseType = i.localizeString,
                e.linkNameToEdit = this.getLinkNameToEdit(e.exerciseType),
                e.time = this.getTime(t),
                e.rest = this.getRestTime(t),
                e.reps = this.getReps(t),
                e.weight = this.getWeight(t, i.category, i.type),
                e
            },
            getLinkNameToEdit: function(t) {
                return "choose_an_exercise" === t && !this.isReadOnly
            },
            getExerciseCategoryAndType: function(t) {
                var e = {
                    category: "",
                    type: "choose_an_exercise",
                    localizeString: "choose_an_exercise"
                }
                  , i = 0;
                return this.isReadOnly && (e.localizeString = "device.unknown"),
                null !== t && this.repCountingActivity[t] && n.a.each(this.repCountingActivity[t].exercises, function(t) {
                    t.probability > i && (i = t.probability,
                    t.name ? (e.localizeString = "exercise_type_" + t.name,
                    e.type = t.name,
                    e.category = t.category) : "UNKNOWN" !== t.category ? (e.localizeString = "category_type_" + t.category,
                    e.type = t.category,
                    e.category = t.category) : "UNKNOWN" === t.category && (i = c.a.UNKNOWN_PROBABILITY_OVERRIDE))
                }),
                e
            },
            getTime: function(t) {
                return null !== t ? this.repCountingActivity[t].duration : this.activity.get("duration")
            },
            getRestTime: function(t) {
                var e = t + 1
                  , i = 0
                  , a = this.repCountingActivity ? this.repCountingActivity.length : 0;
                if (null !== t)
                    for (; e < a && "REST" === this.repCountingActivity[e].setType; )
                        i += this.repCountingActivity[e].duration,
                        e += 1;
                return i
            },
            getReps: function(t) {
                return null !== t ? this.repCountingActivity[t].repetitionCount : 0
            },
            getWeight: function(t, e, i) {
                if (null === t || null === this.repCountingActivity[t].weight || void 0 === this.repCountingActivity[t].weight || -1 === this.repCountingActivity[t].weight && !this.isBodyweightCapable(e, i))
                    return s.a.localize("add_weight");
                if (-1 === this.repCountingActivity[t].weight)
                    return s.a.localize("body_weight");
                var a = parseFloat(this.repCountingActivity[t].weight);
                return l.a.personalizeWeight(a, h.a.PRECISION1_NOSEP_NOZERO)
            },
            isBodyweightCapable: function(t, e) {
                return this.exerciseTypes.categories[t] && this.exerciseTypes.categories[t].exercises && this.exerciseTypes.categories[t].exercises[e] && this.exerciseTypes.categories[t].exercises[e].isBodyWeight
            },
            getLabels: function() {
                var t = {
                    setNumberTitle: s.a.localize("label_set"),
                    setName: s.a.localize("label_exercise_name")
                };
                return this.isPilatesActivity && (t = {
                    setNumberTitle: s.a.localize("label_move"),
                    setName: s.a.localize("label_move_name")
                }),
                this.isYogaActivity && (t = {
                    setNumberTitle: s.a.localize("label_pose"),
                    setName: s.a.localize("label_pose_name")
                }),
                t
            }
        });
        e.a = y
    },
    5223: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(65)
          , l = i(56)
          , c = i(57)
          , h = i(63)
          , p = i(61)
          , d = i(62)
          , u = i(11)
          , m = i.n(u)
          , f = i(79)
          , g = i(92)
          , y = i(4522)
          , v = i.n(y)
          , b = i(2298)
          , A = function(t) {
            function e() {
                return Object(l.a)(this, e),
                Object(h.a)(this, Object(p.a)(e).apply(this, arguments))
            }
            return Object(d.a)(e, t),
            Object(c.a)(e, [{
                key: "render",
                value: function() {
                    var t = this.getActivityStats();
                    return m.a.createElement("div", {
                        className: v.a.activitySmallStat
                    }, t.activityStatMetrics.map(function(t) {
                        return m.a.createElement("div", {
                            className: v.a.activityStat,
                            key: t.metricName
                        }, m.a.createElement(f.DataBlock, {
                            size: "large"
                        }, m.a.createElement(f.DataField, null, t.value, " ", t.unit), m.a.createElement(f.DataLabel, null, t.label)))
                    }))
                }
            }, {
                key: "getActivityStats",
                value: function() {
                    var t = this.props
                      , e = t.activity
                      , i = t.repCountingActivity
                      , a = t.indoorClimbDifficulty;
                    return Object(b.a)(e, i, a)
                }
            }]),
            e
        }(m.a.Component)
          , _ = Object(g.d)(["units", "activity", "diving", "segment"])(A)
          , C = i(4524)
          , w = i.n(C)
          , x = o.a.View.extend({
            initialize: function(t) {
                this.template = n.a.template(w.a),
                this.activity = t.activity,
                this.repCountingActivity = t.repCountingActivity,
                this.indoorClimbDifficulty = t.indoorClimbDifficulty
            },
            render: function() {
                this.$el.html(this.template()),
                this.view = new s.a,
                this.view.renderComponent(_, this.$(".react-activity-small-stats")[0], {
                    activity: this.activity,
                    repCountingActivity: this.repCountingActivity,
                    indoorClimbDifficulty: this.indoorClimbDifficulty
                })
            }
        });
        e.a = x
    },
    5225: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(0)
          , o = i.n(r)
          , s = i(8)
          , l = i(21)
          , c = i(93)
          , h = i(4412)
          , p = i(4417)
          , d = i.n(p)
          , u = o.a.View.extend({
            template: n.a.template(d.a),
            render: function() {
                return this.$el.html(this.template({
                    Localizer: s.a,
                    model: this.model
                })),
                this
            }
        })
          , m = i(4418)
          , f = i.n(m)
          , g = {
            ELEV_CORRECTION_CHANGED: "ELEV_CORRECTION_CHANGED"
        }
          , y = o.a.View.extend({
            template: n.a.template(f.a),
            initialize: function(t) {
                return this.agent = t.agent,
                this.device = t.device,
                this.displayAgentInfo = t.displayAgentInfo,
                this.activity = t.activity,
                this.thirdPartyPartners = t.thirdPartyPartners,
                this.thirdPartyPartner = null,
                this.viewerIsAuthenticated = t.viewerIsAuthenticated,
                this.viewerIsOwner = t.viewerIsOwner,
                this
            },
            render: function() {
                this.$el.html(this.template({
                    Localizer: s.a,
                    DateFormatter: l.a,
                    agent: this.agent ? this.agent.toJSON() : {},
                    metadata: this.activity.get("metadataDTO"),
                    displayAgentInfo: this.displayAgentInfo,
                    displayPowerAvgCalInfo: !1
                })),
                c.a.renderTooltips.call(this),
                this.renderRecordingMediumInfo()
            },
            renderRecordingMediumInfo: function() {
                this.canDisplayVirtualPartner() ? this.renderVirtualPartnerView() : this.device && this.renderDeviceInfoView()
            },
            renderDeviceInfoView: function() {
                var t = new h.a({
                    activity: this.activity,
                    device: this.device,
                    viewerIsAuthenticated: this.viewerIsAuthenticated,
                    viewerIsOwner: this.viewerIsOwner
                });
                t.on(h.a.Events.ELEV_CORRECTION_CHANGED, function(t) {
                    this.trigger(g.ELEV_CORRECTION_CHANGED, t)
                }, this),
                this.$el.prepend(t.render().el)
            },
            renderVirtualPartnerView: function() {
                var t = new u({
                    model: this.thirdPartyPartner
                });
                this.$el.prepend(t.render().el)
            },
            canDisplayVirtualPartner: function() {
                var t = !1;
                if (this.thirdPartyPartners) {
                    var e = this.activity.get("manufacturer");
                    e && (this.thirdPartyPartner = this.thirdPartyPartners.attributes[e],
                    t = !!this.thirdPartyPartner)
                }
                return t
            },
            setData: function(t) {
                for (var e in t)
                    e && (this[e] = t[e])
            }
        });
        y.Events = g;
        e.a = y
    },
    5231: function(t, e, i) {
        "use strict";
        var a = i(9)
          , n = i.n(a)
          , r = i(8)
          , o = i(0)
          , s = i.n(o)
          , l = i(13)
          , c = i(4501)
          , h = i.n(c)
          , p = s.a.View.extend({
            template: n.a.template(h.a),
            tagName: "li",
            className: "media",
            initialize: function(t) {
                return this.song = t.song,
                this.trackNum = t.trackNum,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    title: this.song.get("title"),
                    songInfoString: this.getSongInfoString([this.song.get("artist"), this.song.get("album"), l.a.personalizeDuration(this.song.get("lengthInSeconds"))]),
                    trackNum: this.trackNum
                })),
                this
            },
            getSongInfoString: function(t) {
                return t.filter(function(t) {
                    return !!t
                }).join(" \u2022 ")
            }
        })
          , d = i(4502)
          , u = i.n(d);
        e.a = s.a.View.extend({
            template: n.a.template(u.a),
            className: "playlist-container bottom-m",
            initialize: function(t) {
                return this.songs = t.songs,
                this
            },
            render: function() {
                return this.$el.html(this.template({
                    Localizer: r.a
                })),
                n.a.each(this.songs, function(t, e) {
                    this.renderSong(t, e)
                }, this),
                this
            },
            renderSong: function(t, e) {
                var i = new p({
                    song: t,
                    trackNum: e + 1
                });
                this.$(".media-list").append(i.render().el)
            }
        })
    },
    5285: function(t, e, i) {
        "use strict";
        i.r(e),
        function(t, a) {
            var n = i(6)
              , r = i.n(n)
              , o = i(1329)
              , s = i(9)
              , l = i.n(s)
              , c = i(5)
              , h = i.n(c)
              , p = i(0)
              , d = i.n(p)
              , u = i(8)
              , m = i(15)
              , f = i.n(m)
              , g = i(13)
              , y = i(1471)
              , v = i(2557)
              , b = i(103)
              , A = i(1532)
              , _ = i(220)
              , C = i(1755)
              , w = i(4320)
              , x = i(399)
              , S = i(1644)
              , T = i(2112)
              , E = i(4321)
              , k = i(1772)
              , L = i(4322)
              , P = i(1838)
              , I = i(19)
              , z = i(132)
              , B = i(240)
              , D = i(1437)
              , M = i(1798)
              , O = i(1799)
              , R = i(47)
              , N = i(1332)
              , V = i(1508)
              , j = i(1678)
              , F = i(1400)
              , G = i(1485)
              , U = i(2270)
              , H = i(4323)
              , K = i(1726)
              , W = i(118)
              , Q = i(317)
              , Y = i(108)
              , Z = i(2127)
              , $ = i(4324)
              , q = i(1463)
              , X = i(4325)
              , J = i(2022)
              , tt = i(1358)
              , et = i(1454)
              , it = i(2366)
              , at = i(1453)
              , nt = i(2271)
              , rt = i(66)
              , ot = i(4326)
              , st = i(4328)
              , lt = i(32)
              , ct = i(73)
              , ht = i(1911)
              , pt = i(65)
              , dt = i(4330)
              , ut = i(4380)
              , mt = i(4382)
              , ft = i(4386)
              , gt = i(1520)
              , yt = i(4392)
              , vt = i(1822)
              , bt = i(5198)
              , At = i(1824)
              , _t = i(5225)
              , Ct = i(4419)
              , wt = i(5157)
              , xt = i(4439)
              , St = i(4441)
              , Tt = i(5222)
              , Et = i(4445)
              , kt = i(5146)
              , Lt = i(4475)
              , Pt = i(4489)
              , It = i(5218)
              , zt = i(4499)
              , Bt = i(5231)
              , Dt = i(1845)
              , Mt = i(4503)
              , Ot = i(5180)
              , Rt = i(24)
              , Nt = i(21)
              , Vt = i(2569)
              , jt = i(53)
              , Ft = i(50)
              , Gt = i(37)
              , Ut = i(43)
              , Ht = i(64)
              , Kt = i(1522)
              , Wt = i(4507)
              , Qt = i(54)
              , Yt = i(4508)
              , Zt = i(5217)
              , $t = i(80)
              , qt = i(4510)
              , Xt = i(4511)
              , Jt = i(5178)
              , te = i(5221)
              , ee = i(4516)
              , ie = i(4519)
              , ae = i(4520)
              , ne = i(4521)
              , re = i(5223)
              , oe = i(2571)
              , se = i(1327)
              , le = i(1844)
              , ce = i(1383)
              , he = i(102)
              , pe = i(4525)
              , de = i.n(pe)
              , ue = (i(1303),
            i(1351))
              , me = i(67)
              , fe = {
                PageRendered: "PageRendered"
            }
              , ge = function(t) {
                this.activityId = t,
                this.isParent = !1,
                this.isLoaded = !1,
                this.activity = new z.default({
                    activityId: t
                }),
                this.segments = new J.a([],{
                    activityId: t
                }),
                this.activitySplits = new tt.a([],{
                    activityId: t
                }),
                this.splitSummaries = new nt.a([],{
                    activityId: t
                }),
                this.activityTypedSplits = new et.a([],{
                    activityId: t
                }),
                this.activityDetails = new F.a({
                    activityId: t,
                    maxPolylineSize: 4e3,
                    maxChartSize: 2e3
                }),
                this.repCountingActivity = new G.a({
                    activityId: t
                }),
                this.weather = new H.a({
                    activityId: t
                }),
                this.course = null,
                this.childModels = [],
                this.childActivities = new v.a
            }
              , ye = function() {};
            l.a.extend(ye.prototype, {
                currentActivityModel: null,
                powerZones: null,
                viewerConnections: null,
                biometrics: null,
                userBiometricWeights: null,
                courses: null,
                conversation: null,
                mapProviderPreference: null,
                userMapSetting: null,
                activityTypes: null,
                eventTypes: null,
                usersPersonalRecords: null
            }),
            ye.prototype.setCurrentActivityModel = function(t) {
                t == this.activityModel.activityId ? this.currentActivityModel = this.activityModel : this.currentActivityModel = l.a.find(this.activityModel.childModels, function(e) {
                    return e.activityId == t
                })
            }
            ,
            e.default = rt.a.extend({
                events: {
                    'click .ga-label[data-toggle="tab"]': "onTabToggleClicked",
                    "click .restore-to-original": "onRestoreClicked"
                },
                propertyFiles: ["/main/js/properties/device/device", "/main/js/properties/segment/segment", "/main/js/properties/legal/legal", "/main/js/properties/common/common", "/main/js/properties/activity_types/activity_types", "/main/js/properties/activity-api/activity-api", "/main/js/properties/event_types/event_types", "/main/js/properties/activity/activity", "/main/js/properties/units/units", "/main/js/properties/map/map", "/main/js/properties/personal-record-api/personal-record-api", "/main/js/properties/help/help", "/main/js/properties/send_to_device/send_to_device", "/main/js/properties/gear_tracking/gear_tracking", "/main/js/properties/reportswidget/reportswidget", "/main/js/properties/power_zone/power_zone", "/main/js/properties/heart_rate/heart_rate", "/main/js/properties/userprofile/userprofile", "/main/js/properties/connectiq/connectiq", "/main/js/properties/sensors/sensors", "/main/js/properties/exercise_types/exercise_types", "/main/js/properties/yoga-pilates/yoga-pilates", "/main/js/properties/msn_workouts/msn_workouts", "/main/js/properties/photos/photos", "/main/js/properties/privacy_alert/privacy_alert", "/main/js/properties/training_plans/training_plans", "/main/js/properties/workout/workout", "/main/js/properties/metrics/metrics", "/main/js/properties/stress/stress", "/main/js/properties/diving/diving"],
                template: l.a.template(de.a),
                pageClassName: "activity-detail",
                enableGridCss: !1,
                fluid: !0,
                initializePage: function(t) {
                    var e = +t.activityId;
                    this.dataModel = new ye,
                    this.dataModel.activityModel = new ge(e),
                    this.dataModel.currentActivityModel = this.dataModel.activityModel,
                    this.dataModel.initialChildIndex = t.childId,
                    l.a.isUndefined(this.dataModel.initialChildIndex) || (this.dataModel.initialChildIndex = +this.dataModel.initialChildIndex),
                    this.dataModel.activityTypes = new b.a([]),
                    this.dataModel.videoClips = new S.a([],{
                        activityId: e
                    }),
                    this.dataModel.connectIQPresentationData = new E.a([],{
                        activityId: e
                    }),
                    this.dataModel.jumps = new Yt.a([],{
                        activityId: e
                    }),
                    this.dataModel.playlist = new Zt.a([],{
                        activityId: e
                    }),
                    this.dataModel.activityWorkouts = new it.a({
                        activityId: e
                    }),
                    this.dataModel.activityChartsOrder = new X.a({}),
                    this.dataModel.indoorClimbDifficulty = new ce.a({}),
                    this.dataModel.activityHiddenCharts = new $.a,
                    this.dataModel.userMapSetting = new N.a({
                        key: "Map.Setting.Activities"
                    }),
                    this.dataModel.tankSensor = new ie.a({
                        activityId: e
                    }),
                    this.viewerConnections = null,
                    this.viewerIsAuthenticated() && (this.dataModel.viewerConnections = _.a,
                    this.dataModel.biometrics = W.a,
                    this.dataModel.userBiometricWeights = !0,
                    this.dataModel.courses = new C.a([],{
                        limit: 999
                    }),
                    this.dataModel.conversation = new B.a({
                        resourceType: "ACTIVITY",
                        resourceId: e
                    }),
                    this.dataModel.mapProviderPreference = new R.a({
                        key: "map_provider_type"
                    }),
                    this.dataModel.groundContactLastSelectedChart = new R.a({
                        key: "activity_details_ground_contact_chart_selection"
                    }),
                    this.dataModel.verticalOscRatioLastSelectedChart = new R.a({
                        key: "activity_details_vertical_ratio_oscillation_chart_selection"
                    }),
                    this.dataModel.powerChartLastSelectedChart = new R.a({
                        key: "activity_details_power_chart_selection"
                    }),
                    this.dataModel.chartsOrderUserPref = new R.a({
                        key: "Activity.Charts.order"
                    }),
                    this.dataModel.eventTypes = new A.a([]),
                    this.dataModel.usersPersonalRecords = new w.a([],{
                        displayName: I.a.get("displayName")
                    }),
                    this.dataModel.getLatestWeight = new k.a),
                    this.dataModel.player = new y.a({}),
                    this.dataModel.thirdPartyUploads = new L.a({}),
                    this.dependenciesLoaded = !1,
                    this.connectIQPresentationDataLoaded = !1,
                    this.enableVectorAirFeatureFlag = new Wt.a({}),
                    this.activityNotes = null,
                    this.playlistPreference = new Qt.a({
                        key: "playlist-role"
                    }),
                    this.respirationRatePref = new Qt.a({
                        key: "respiration-rate-epoc-role"
                    }),
                    this.advancedActivityEditPreference = new Qt.a({
                        key: "87427305-c36b-4647-b276-7d28b747d7ab-role"
                    }),
                    this.activityIntervalsPreference = new Qt.a({
                        key: "4403676f-2fa8-47b8-bfc8-a5e796bdfe44"
                    }),
                    this.workoutMetrics = new Qt.a({
                        key: me.p
                    }),
                    this.diveAppPreference = new Qt.a({
                        key: me.f
                    }),
                    this.addThisSharingEnabled = new Qt.a({
                        key: me.a
                    }),
                    this.hideSensorInformationRoleKey = new Qt.a({
                        key: me.c
                    }),
                    this.selectedWaveMessageIndex = null,
                    this.reactMapComponent = new pt.a
                },
                pushPageViewAnalyticsEvents: function() {
                    var t = this.viewerIsOwner() ? "View Own Activity" : "View Someone Else's Activity";
                    jt.a.push({
                        event: "track_event",
                        category: "Activity Page Event",
                        action: t,
                        label: "Activity Type: ".concat(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey)
                    })
                },
                viewerIsOwner: function() {
                    return t.trim(I.a.get("displayName")) === t.trim(this.dataModel.activityModel.activity.get("userInfoDto").displayname)
                },
                activityOwnerName: function() {
                    return t.trim(this.dataModel.activityModel.activity.get("userInfoDto").displayname)
                },
                isReadOnly: function() {
                    return !this.viewerIsOwner()
                },
                isViewerConnected: function() {
                    if (!this.dataModel.viewerConnections)
                        return !1;
                    var t = this.dataModel.viewerConnections.findConnection(this.activityOwnerName());
                    return "undefined" != typeof t && null != t
                },
                provideDependencies: function(t, e) {
                    1 === e ? (!I.a.hasMBTesterRole() && this.dataModel.activityModel.activity.hasVectorAirCdAData() && t.addModel({
                        model: this.enableVectorAirFeatureFlag,
                        required: !0
                    }),
                    this.hasVideo() && t.addModel({
                        model: this.dataModel.videoClips,
                        required: !0
                    }),
                    this.dataModel.userBiometricWeights && this.dataModel.activityModel.activity.get("startTimeGMT") && (this.dataModel.userBiometricWeights = new T.a({
                        dates: new Date(this.dataModel.activityModel.activity.get("startTimeGMT"))
                    }),
                    t.addModel({
                        model: this.dataModel.userBiometricWeights,
                        required: !0
                    })),
                    this.dataModel.getLatestWeight && this.dataModel.activityModel.activity.get("startTimeGMT") && (this.dataModel.getLatestWeight = new k.a({
                        latestDate: this.dataModel.activityModel.activity.get("startTimeGMT")
                    }),
                    t.addModel({
                        model: this.dataModel.getLatestWeight,
                        required: !0
                    })),
                    this.showExerciseView(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && (t.addModel({
                        model: this.dataModel.activityModel.repCountingActivity,
                        required: !0
                    }),
                    this.isPilatesActivity() ? this.exerciseTypes = new M.a({}) : this.isYogaActivity() ? this.exerciseTypes = new O.a({}) : this.exerciseTypes = new D.a({}),
                    t.addModel({
                        model: this.exerciseTypes,
                        required: !0
                    })),
                    (Gt.a.isIndoorClimbingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) || Gt.a.isBoulderingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey)) && this.dataModel.indoorClimbDifficulty && t.addModel({
                        model: this.dataModel.indoorClimbDifficulty,
                        required: !0
                    }),
                    Gt.a.isDivingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && (t.addModel({
                        model: this.dataModel.tankSensor,
                        required: !0,
                        countError: !0
                    }),
                    t.addModel({
                        model: this.diveAppPreference,
                        required: !0
                    })),
                    Gt.a.isDivingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.viewerIsOwner() && (this.userSettings = new Y.a,
                    t.addModel({
                        model: this.userSettings,
                        required: !0
                    }),
                    this.aggregateActivityMetricStats = new Z.a({
                        aggregation: "yearly",
                        startDate: "0001-1-1",
                        endDate: Nt.a.formatISODate(f()().add(1, "days").toDate()),
                        activityType: "diving",
                        groupByActivityType: "true",
                        metric: ["bottomTime"],
                        excludedActivitySubType: ["apnea_diving", "apnea_hunting"]
                    }),
                    t.addModel({
                        model: this.aggregateActivityMetricStats,
                        require: !0
                    })),
                    this.viewerIsOwner() && this.dataModel.activityModel.activity.get("metadataDTO").isAtpActivity && null !== this.dataModel.activityModel.activity.get("metadataDTO").associatedWorkoutId && (this.workout = new q.a({
                        workoutId: this.dataModel.activityModel.activity.get("metadataDTO").associatedWorkoutId,
                        displayName: this.activityOwnerName()
                    }),
                    t.addModel({
                        model: this.workout,
                        required: !0
                    })),
                    this.dataModel.activityModel.activity.get("summaryDTO").jumpCount && this.dataModel.activityModel.activity.get("summaryDTO").jumpCount > 0 && t.addModel({
                        model: this.dataModel.jumps,
                        required: !0
                    }),
                    t.addModel({
                        model: this.dataModel.activityWorkouts,
                        required: !0
                    }),
                    this.hasPowerData() && (this.dataModel.powerCurve = new qt.a({
                        activityId: this.dataModel.activityModel.activity.get("activityId")
                    }),
                    t.addModel({
                        model: this.dataModel.powerCurve,
                        required: !0
                    })),
                    this.viewerIsOwner() && this.playlistPreference.featureEnabled() && t.addModel({
                        model: this.dataModel.playlist,
                        required: !0,
                        countError: !0
                    })) : 0 === e && (t.addModel({
                        model: this.respirationRatePref,
                        required: !0
                    }),
                    t.addModel({
                        model: this.playlistPreference,
                        required: !0
                    }),
                    t.addModel({
                        model: this.dataModel.activityModel.activity,
                        required: !0
                    }),
                    t.addModel({
                        model: this.advancedActivityEditPreference,
                        required: !0
                    }),
                    t.addModel({
                        model: this.activityIntervalsPreference,
                        required: !0
                    }),
                    t.addModel({
                        model: this.dataModel.activityModel.activityTypedSplits,
                        required: !0,
                        countError: !0
                    }),
                    t.addModel({
                        model: this.addThisSharingEnabled,
                        required: !0
                    }),
                    t.addModel({
                        model: this.hideSensorInformationRoleKey,
                        required: !0
                    }),
                    this.dataModel.mapProviderPreference && t.addModel({
                        model: this.dataModel.mapProviderPreference,
                        required: !0
                    }),
                    this.dataModel.groundContactLastSelectedChart && t.addModel({
                        model: this.dataModel.groundContactLastSelectedChart,
                        required: !0
                    }),
                    this.dataModel.verticalOscRatioLastSelectedChart && t.addModel({
                        model: this.dataModel.verticalOscRatioLastSelectedChart,
                        required: !0
                    }),
                    this.dataModel.powerChartLastSelectedChart && t.addModel({
                        model: this.dataModel.powerChartLastSelectedChart,
                        required: !0
                    }),
                    this.dataModel.chartsOrderUserPref && t.addModel({
                        model: this.dataModel.chartsOrderUserPref,
                        required: !0
                    }),
                    this.dataModel.activityChartsOrder && t.addModel({
                        model: this.dataModel.activityChartsOrder,
                        required: !0
                    }),
                    this.dataModel.conversation && t.addModel({
                        model: this.dataModel.conversation,
                        required: !0,
                        countError: !0
                    }),
                    this.dataModel.biometrics && t.addModel({
                        model: this.dataModel.biometrics,
                        required: !0
                    }),
                    this.dataModel.courses && t.addModel({
                        model: this.dataModel.courses,
                        required: !0,
                        countError: !0
                    }),
                    this.dataModel.activityTypes && t.addModel({
                        model: this.dataModel.activityTypes,
                        required: !0
                    }),
                    this.dataModel.eventTypes && t.addModel({
                        model: this.dataModel.eventTypes,
                        required: !0
                    }),
                    this.dataModel.userMapSetting && t.addModel({
                        model: this.dataModel.userMapSetting,
                        required: !0
                    }),
                    this.dataModel.usersPersonalRecords && t.addModel({
                        model: this.dataModel.usersPersonalRecords,
                        required: !0
                    }),
                    this.dataModel.connectIQPresentationData && (t.addModel({
                        model: this.dataModel.connectIQPresentationData,
                        required: !1
                    }),
                    this.dataModel.connectIQPresentationData.once("sync", function() {
                        this.dataModel.currentActivityModel.isLoaded && (this.loadConnectIQ(),
                        this.connectIQPresentationDataLoaded = !0)
                    }, this)),
                    this.dataModel.thirdPartyUploads && t.addModel({
                        model: this.dataModel.thirdPartyUploads,
                        required: !1
                    }),
                    this.dataModel.activityHiddenCharts && t.addModel({
                        model: this.dataModel.activityHiddenCharts,
                        required: !1
                    })),
                    t.addModel({
                        model: this.workoutMetrics,
                        required: !0
                    })
                },
                onDependenciesLoaded: function(t) {
                    if (this.dependenciesLoaded = !0,
                    0 === t)
                        this.dependenciesLoaded = !1;
                    else {
                        var e, i = this.dataModel.activityModel.activity.get("parentId");
                        if (i)
                            return void d.a.history.navigate("/activity/" + i + "/child/" + this.dataModel.activityModel.activityId, {
                                trigger: !0,
                                replace: !0
                            });
                        this.activityTypeKey = this.dataModel.activityModel.activity.getActivityTypeKey(),
                        this.dataModel.activityModel.activity.startTracking(),
                        this.dataModel.activityModel.isParent = this.dataModel.activityModel.activity.isParent(),
                        this.loadChildActivities(),
                        (l.a.isUndefined(this.dataModel.initialChildIndex) || l.a.isNaN(this.dataModel.initialChildIndex) || this.isBackFromSocialPlatform()) && (e = l.a.bind(this.displayActivityModel, this, this.dataModel.activityModel)),
                        this.loadActivityModel(this.dataModel.currentActivityModel, e),
                        this.workout && this.workout.has("atpPlanId") && (this.dataModel.activityModel.activity.get("summaryDTO").atpPlanId = this.workout.get("atpPlanId"))
                    }
                    return this.dependenciesLoaded
                },
                loadConnectIQ: function() {
                    this.connectIQPresentationUtil = new Vt.a(this.dataModel.connectIQPresentationData),
                    this.connectIQPresentationUtil.loadCIQLocalizedData(),
                    this.displayConnectIQViews()
                },
                destroy: function() {
                    this.activityTabsView && "function" === typeof this.activityTabsView.destroy && this.activityTabsView.destroy(),
                    this.autoRacingChartReactComponent && this.autoRacingChartReactComponent.removeComponent(),
                    this.off(),
                    this.remove()
                },
                render: function() {
                    var e = this;
                    if (this.$el.html(this.template({
                        Localizer: u.a,
                        Personalizer: g.a,
                        activity: this.dataModel.activityModel.activity.toJSON()
                    })),
                    this.dataModel.activityModel.isParent && (this.multisportNavView = new xt.a({
                        el: this.$("#multisportNavPlaceholder"),
                        parentActivity: this.dataModel.activityModel.activity,
                        childActivities: this.dataModel.activityModel.childActivities
                    }),
                    this.listenTo(this.multisportNavView, xt.a.Events.ActivityChanged, this.navigateToActivity, this),
                    this.multisportNavView.render()),
                    this.dataModel.activityModel.activity.get("hasPolyline") || this.hasStartOrEndPoints()) {
                        var i = this.dataModel.mapProviderPreference ? this.dataModel.mapProviderPreference.get("value") : null;
                        Gt.a.isSurfingActivity(this.activityTypeKey) ? this.reactMapComponent.renderComponent(gt.a, this.$(".activity-react-map")[0], {
                            activity: this.dataModel.currentActivityModel.activity.toJSON(),
                            activitySplits: this.dataModel.currentActivityModel.activitySplits.toJSON(),
                            activityTypedSplits: this.dataModel.currentActivityModel.activityTypedSplits.toJSON(),
                            activityTypeKey: this.activityTypeKey,
                            showWeather: !0,
                            showFullScreen: !0,
                            hideZoomControls: !1,
                            hideMapProviderSwitch: !1,
                            doubleClickZoom: !0,
                            scrollWheelZoom: !0
                        }) : (this.activityMapView = new ft.a({
                            el: this.$("#activityMapViewPlaceholder"),
                            model: this.dataModel.currentActivityModel.activity,
                            activityDetails: this.dataModel.currentActivityModel.activityDetails,
                            activitySplits: this.dataModel.currentActivityModel.activitySplits,
                            activityTypedSplits: this.dataModel.currentActivityModel.activityTypedSplits,
                            userMapSetting: this.dataModel.userMapSetting,
                            childActivities: this.dataModel.activityModel.childActivities,
                            activityTypes: this.dataModel.activityTypes,
                            mapProvider: i,
                            player: this.dataModel.player,
                            videoClips: this.dataModel.videoClips,
                            jumps: $t.a.userInChina() ? this.dataModel.jumps.getConvertedJumps() : this.dataModel.jumps.toJSON(),
                            additionalMapLayers: this.getMTBMapLayers(),
                            isFullScreen: "true" === Ht.default.getQueryParameterByName("fullscreen")
                        }),
                        this.listenTo(this.activityMapView, ft.a.Events.OnContentsRendered, function() {
                            this.setMTBMapLayers()
                        }, this),
                        this.listenTo(this.activityMapView, ft.a.Events.onMapCoordinateSystemClicked, this.onMapCoordinateSystemClicked, this),
                        this.activityMapView.render())
                    }
                    this.showExerciseView(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && (this.repCountingActivityView = new Tt.a({
                        el: this.$("#repCountingActivityViewPlaceholder"),
                        activity: this.dataModel.activityModel,
                        exerciseTypes: this.exerciseTypes.toJSON(),
                        isReadOnly: this.isReadOnly(),
                        isPilatesActivity: this.isPilatesActivity(),
                        isYogaActivity: this.isYogaActivity()
                    }),
                    this.$("#repCountingActivityViewPlaceholder").css({
                        display: "block"
                    }),
                    this.repCountingActivityView.render()),
                    this.showDiveLog() && (this.activityDiveLogView = new Et.a({
                        el: this.$("#divingLogViewPlaceholder"),
                        model: this.dataModel.activityModel
                    }),
                    this.$("#divingLogViewPlaceholder").css({
                        display: "block"
                    }),
                    this.activityDiveLogView.render()),
                    this.dataModel.activityModel.activity.get("hasChartData") && (this.activityChartsView = new dt.a({
                        el: this.$("#activityChartsViewPlaceholder"),
                        player: this.dataModel.player,
                        overlayData: this.getOverlayData(),
                        groundContactLastSelectedChart: this.dataModel.groundContactLastSelectedChart,
                        verticalOscRatioLastSelectedChart: this.dataModel.verticalOscRatioLastSelectedChart,
                        powerChartLastSelectedChart: this.dataModel.powerChartLastSelectedChart,
                        isOwner: this.viewerIsOwner(),
                        hasPowerData: this.dataModel.activityModel.activityDetails.hasPowerData(),
                        activityHiddenChartsModel: this.dataModel.activityHiddenCharts,
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo(),
                        jumps: this.dataModel.jumps,
                        activityWorkouts: this.dataModel.activityWorkouts,
                        activityChartsOrder: this.dataModel.activityChartsOrder,
                        chartsOrderUserPref: this.dataModel.chartsOrderUserPref,
                        activityTypes: this.dataModel.activityTypes,
                        viewerIsAuthenticated: this.viewerIsAuthenticated(),
                        tankSensor: this.dataModel.tankSensor,
                        indoorClimbDifficulty: this.dataModel.indoorClimbDifficulty
                    }),
                    this.listenTo(this.activityChartsView, dt.a.Events.DisplayWeightEntryPopup, this.onDisplayWeightEntryPopup, this),
                    this.listenTo(this.activityChartsView, dt.a.Events.WeightChangedFromChart, this.onWeightChanged, this),
                    this.listenTo(this.activityChartsView, dt.a.Events.AxisTypeChanged, this.onAxisTypeChanged, this),
                    this.listenTo(this.activityChartsView, dt.a.Events.PowerRangeChanged, this.onPowerRangeChanged, this),
                    this.listenTo(this.activityChartsView, dt.a.Events.ResetZoom, this.onRangeReset, this));
                    var a = this.dataModel.activityModel.activity.get("timeZoneUnitDTO").unitKey
                      , n = x.a.getByKey(a);
                    if (n)
                        var r = u.a.localize(n.get("unitKey"));
                    this.activityIntroView = new mt.a({
                        el: this.$("#activityIntroViewPlaceholder"),
                        readOnly: this.isReadOnly(),
                        model: this.dataModel.activityModel.activity,
                        activityTypes: this.dataModel.activityTypes,
                        eventTypes: this.dataModel.eventTypes,
                        userCourses: this.dataModel.courses,
                        userBiometrics: this.dataModel.biometrics,
                        activityTimeZone: r,
                        activityTypeReadOnly: this.dataModel.activityModel.activity.isParent() || this.isReadOnly(),
                        isRepCounting: Gt.a.isRepCounting(this.activityTypeKey)
                    }),
                    this.activityIntroView.render(),
                    this.listenTo(this.activityIntroView, mt.a.Events.ActivityNameChanged, function() {
                        e.pushAnalyticsEvent("Activity Name Changed")
                    }),
                    this.listenTo(this.activityIntroView, mt.a.Events.EventTypeChanged, function() {
                        e.pushAnalyticsEvent("Activity Event Type Changed")
                    }),
                    this.listenTo(this.activityIntroView, mt.a.Events.ActivityTypeChanged, this.onActivityTypeChanged),
                    this.listenTo(this.activityIntroView, mt.a.Events.PrepareToNavigate, function() {
                        this.activityMapView && this.activityMapView.destroy()
                    }
                    .bind(this)),
                    this.viewerIsAuthenticated() && (this.activityCommentsView = new ut.a({
                        el: this.$("#activityCommentsViewPlaceholder"),
                        model: this.dataModel.activityModel.activity,
                        conversation: this.dataModel.conversation
                    }),
                    this.activityCommentsView.render()),
                    this.activityToolbarView = new yt.a({
                        el: this.$("#activityToolbarViewPlaceholder"),
                        conversation: this.dataModel.conversation,
                        model: this.dataModel.activityModel.activity,
                        usersPersonalRecords: this.dataModel.usersPersonalRecords,
                        userUnit: this.userPreferences.get("measurementSystem"),
                        viewerIsAuthenticated: this.viewerIsAuthenticated(),
                        viewerIsConnected: this.isViewerConnected(),
                        mapProviderPreference: this.dataModel.mapProviderPreference,
                        activityTypes: this.dataModel.activityTypes,
                        canShowAdvancedActivityEdit: this.canShowAdvancedActivityEdit(),
                        canShowActivityRestore: this.canShowActivityRestore(),
                        addThisSharingEnabled: this.addThisSharingEnabled.get("value")
                    }),
                    this.activityToolbarView.on(yt.a.Events.PersonalRecordsChanged, this.onPersonalRecordsChanged, this),
                    this.activityToolbarView.on(yt.a.Events.PrivacyChanged, this.onPrivacyChanged, this),
                    this.listenTo(this.activityToolbarView, yt.a.Events.RestoreActivity, function() {
                        this.restoreToOriginal()
                    }, this),
                    this.listenTo(this.activityToolbarView, yt.a.Events.ExportSplitsCSV, this.exportSplitsToCSV),
                    Gt.a.isDivingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.dataModel.activityModel.activity.has("diveInfo") && (this.$("#activityLocationViewPlaceholder").append(new ot.a({
                        isNoteDisabled: this.isDiveLocationDisabled(),
                        canEditNote: this.viewerIsOwner(),
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        modelAttribute: "locationName",
                        hasHeader: !0,
                        headerText: "dive_location"
                    }).render().el),
                    this.$("#entryLocationViewPlaceholder").append(new st.a({
                        isNoteDisabled: !0,
                        canEditNote: !0,
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        Latitude: "startLatitude",
                        Longitude: "startLongitude",
                        headerText: "entry_location"
                    }).render().el),
                    this.$("#exitLocationViewPlaceholder").append(new st.a({
                        isNoteDisabled: !0,
                        canEditNote: !0,
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        Latitude: "endLatitude",
                        Longitude: "endLongitude",
                        headerText: "exit_location"
                    }).render().el),
                    this.$("#activityBuddyViewPlaceholder").append(new ot.a({
                        isNoteDisabled: this.isDiveBuddyDisabled(),
                        canEditNote: this.viewerIsOwner(),
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        modelAttribute: "buddy",
                        hasHeader: !0,
                        headerText: "dive_buddy"
                    }).render().el),
                    this.$("#activityEquipmentViewPlaceholder").append(new ot.a({
                        isNoteDisabled: this.isDiveEquipmentDisabled(),
                        canEditNote: this.viewerIsOwner(),
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        modelAttribute: "equipments",
                        hasHeader: !0,
                        headerText: "diving_equipment"
                    }).render().el)),
                    this.playlistPreference.featureEnabled() && this.dataModel.playlist && this.dataModel.playlist.length > 0 && (this.songs = l.a.filter(this.dataModel.playlist.models, this.showSong),
                    this.songs.length > 0 && (this.activityPlaylistView = new Bt.a({
                        songs: this.songs
                    }),
                    this.$("#activityPlaylistPlaceholder").html(this.activityPlaylistView.render().el))),
                    this.viewerIsOwner() || this.dataModel.activityModel.activity.has("description") ? (this.activityNotes = new ot.a({
                        isNoteDisabled: this.isNoteDisabled(),
                        canEditNote: this.viewerIsOwner(),
                        model: this.dataModel.activityModel.activity,
                        autoExtendHeight: !0,
                        hasHeader: !0,
                        headerText: "activity_notes_placeholder",
                        charMaxLength: 2e3,
                        placeholderText: Gt.a.getNotePlaceholderCopy(this.dataModel.currentActivityModel.activity.get("activityTypeDTO"), this.dataModel.activityTypes),
                        hasWorkoutExecutionScore: !!this.workoutMetrics.featureEnabled() && this.dataModel.activityModel.activity.get("directWorkoutComplianceScore")
                    }),
                    this.$("#activityNoteViewPlaceholder").append(this.activityNotes.render().el)) : this.viewerIsAuthenticated() || this.$(".wrapper-top-container").hide(),
                    $t.a.userInChina() || (this.hasVirbVideo() ? this.activityYouTubeView = new At.a({
                        el: this.$("#activityYouTubePlaceholder"),
                        model: this.dataModel.activityModel.activity,
                        activityDetails: this.dataModel.activityModel.activityDetails,
                        player: this.dataModel.player,
                        videoClips: this.dataModel.videoClips
                    }) : this.activityYouTubeView = new vt.a({
                        el: this.$("#activityYouTubePlaceholder"),
                        model: this.dataModel.activityModel.activity
                    }),
                    this.activityYouTubeView.render()),
                    this.renderActivityBadges(),
                    this.activityPhotosView = new bt.a({
                        el: this.$("#activityPhotosPlaceholder"),
                        canManagePhotos: this.viewerIsOwner(),
                        activityId: this.dataModel.activityModel.activityId,
                        images: this.dataModel.activityModel.activity.get("metadataDTO").activityImages
                    }),
                    this.activityPhotosView.render(),
                    this.renderActivityDetailSmallStats(),
                    this.activityAdditionalInfoView = new _t.a({
                        el: this.$("#device-info"),
                        agent: this.dataModel.agentInfo,
                        device: this.dataModel.deviceInfo,
                        displayAgentInfo: this.shouldActivityModelShowAgent(I.a),
                        activity: this.dataModel.activityModel.activity,
                        thirdPartyPartners: this.dataModel.thirdPartyUploads,
                        viewerIsAuthenticated: this.viewerIsAuthenticated(),
                        viewerIsOwner: this.viewerIsOwner()
                    }),
                    this.activityAdditionalInfoView.on(_t.a.Events.ELEV_CORRECTION_CHANGED, function(t) {
                        location.reload()
                    }),
                    this.activityGearListView = new St.a({
                        el: this.$("#attached-gear"),
                        readOnly: this.isReadOnly()
                    }),
                    Gt.a.isDivingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.diveAppPreference.featureEnabled() && this.renderDiveAppPromotion(),
                    this.activityTabsView = new wt.a({
                        el: this.$("#activityTabsViewPlaceholder"),
                        isLapSwimming: this.dataModel.activityModel.activity.get("summaryDTO").poolLength,
                        segmentCount: this.dataModel.activityModel.segments.length,
                        timeInZones: this.getTimeInZonesInfo(),
                        activityId: this.dataModel.activityModel.activityId,
                        activityDuration: this.dataModel.activityModel.activity.get("duration"),
                        summaryDTO: this.dataModel.activityModel.activity.get("summaryDTO"),
                        diveInfo: this.dataModel.activityModel.activity.get("diveInfo"),
                        apneaDives: this.dataModel.activityModel.activitySplits.get("lapDTOs"),
                        containsCyclingDynamicsData: this.dataModel.activityModel.activity.hasCyclingDynamicsData(),
                        hasMTBData: this.dataModel.activityModel.activity.hasMTBData(),
                        showPowerCurve: this.showPowerCurve(),
                        activityTypeKey: this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey,
                        manualActivity: this.dataModel.activityModel.activity.get("manualActivity"),
                        hasIntensityIntervals: this.hasIntensityIntervals(),
                        hasTypedSplits: this.hasTypedSplits()
                    }),
                    this.listenTo(this.activityTabsView, wt.a.Events.SEGMENT_TAB_CLICK, this.onFirstClickSegmentsTab, this),
                    this.listenTo(this.activityTabsView, wt.a.Events.MtbTabClicked, this.onMtbMetricsTabClicked, this),
                    this.listenTo(this.activityTabsView, wt.a.Events.PowerCurveTabClicked, this.onPowerCurveTabClicked, this),
                    this.listenTo(this.activityTabsView, wt.a.Events.ChartRangeChanged, this.onChartRangeChanged, this),
                    this.listenTo(this.activityTabsView, wt.a.Events.ModelSyncFail, function() {
                        this.showFailureMessage(u.a.localize("error_calculating_max_avg_power"))
                    }, this),
                    this.listenTo(this.activityTabsView, wt.a.Events.ModelSyncSuccess, function() {
                        this.hideFailureMessage()
                    }, this),
                    this.listenTo(this.activityTabsView, wt.a.Events.Error, function(t) {
                        this.$(".alert").html(t).show()
                    }, this),
                    this.activityStatsView = new kt.a({
                        el: this.$("#tab-stats"),
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo(),
                        workoutMetricsEnabled: this.workoutMetrics.featureEnabled(),
                        hasWorkoutExecutionScore: !!this.workoutMetrics.featureEnabled() && this.dataModel.activityModel.activity.get("directWorkoutComplianceScore")
                    }),
                    this.listenTo(this.activityStatsView, kt.a.Events.SpeedPaceToggled, this.onSpeedPaceToggled, this),
                    this.listenTo(this.activityStatsView, kt.a.Events.DisplayWeightEntryPopup, this.onDisplayWeightEntryPopup, this),
                    this.listenTo(this.activityStatsView, kt.a.Events.WeightChangedFromPowerStats, this.onWeightChanged, this);
                    var o = this.getParentType();
                    this.activitySplitsView = new Lt.a({
                        el: this.$("#tab-splits"),
                        usersWeight: this.getUsersWeight(),
                        isOwner: this.viewerIsOwner(),
                        canDisplayVectorAirInfo: this.canDisplayVectorAirInfo(),
                        parentType: o ? o.get("typeKey") : null,
                        hasIntensityIntervals: this.hasIntensityIntervals(),
                        canViewIntervals: this.activityIntervalsPreference.featureEnabled(),
                        hasTypedSplits: this.hasTypedSplits(),
                        indoorClimbDifficulty: this.dataModel.indoorClimbDifficulty
                    }),
                    this.listenTo(this.activitySplitsView, Lt.a.Events.DisplayWeightEntryPopup, this.onDisplayWeightEntryPopup, this),
                    this.listenTo(this.activitySplitsView, Lt.a.Events.WeightChangedFromSplits, this.onWeightChanged, this),
                    this.activitySegmentsView = new Pt.a({
                        el: this.$("#tab-segments"),
                        isOwner: this.viewerIsOwner()
                    }),
                    this.listenTo(this.activitySegmentsView, Pt.a.Events.ViewSegmentToggled, this.onViewSegmentToggled),
                    this.ciqInfoView = new Mt.a({
                        el: this.$("div.ciq-info")
                    }),
                    this.rendered = !0,
                    this.trigger(fe.PageRendered),
                    Ut.a.removeExpandCollapseHandlers(),
                    Ut.a.setExpandCollapseHandler(function() {
                        this.activityChartsView && "function" === typeof this.activityChartsView.reflowCharts && this.activityChartsView.reflowCharts(),
                        this.autoRacingChartReactComponent && this.autoRacingChartReactComponent.renderComponent(Jt.a, this.$("#autoRacingLapChartPlaceholder")[0], {
                            lapDTOs: this.dataModel.activityModel.activitySplits.get("lapDTOs"),
                            directSpeed: this.dataModel.activityModel.activityDetails.getData("directSpeed")
                        })
                    }
                    .bind(this), 100),
                    this.pushPageViewAnalyticsEvents(),
                    "true" === Ht.default.getQueryParameterByName("trimmed") && this.displayNotification("advanced_edit_restore_info", !1),
                    t(".page.activity-detail").on("dragenter", this.onDragFileIn.bind(this)),
                    t(".page.activity-detail").on("dragleave", this.onDragFileOut.bind(this)),
                    this.$el.attr("data-activity-type", this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey)
                },
                onFirstClickSegmentsTab: function() {
                    this.activitySegmentsView.setData(this.dataModel.currentActivityModel.activity, this.dataModel.currentActivityModel.segments),
                    this.activitySegmentsView.render()
                },
                onMtbMetricsTabClicked: function(t) {
                    0 === t && this.$("#tab-mtb").html(new It.a({
                        summaryDTO: this.dataModel.currentActivityModel.activity.get("summaryDTO"),
                        activity: this.dataModel.currentActivityModel.activity,
                        jumps: this.dataModel.jumps
                    }).render().el)
                },
                onPowerCurveTabClicked: function(t) {
                    if (0 === t)
                        if (this.dataModel.powerCurve.get("excludeFromPowerCurveReports"))
                            this.powerCurveExcludedView = new Xt.a({}),
                            this.listenTo(this.powerCurveExcludedView, Xt.a.Events.INCLUDE_ACTIVITY, function() {
                                this.includeActivityIntoPowerCurve(this.dataModel.activityModel.activity.get("activityId"))
                            }),
                            this.$("#tab-power-curve").html(this.powerCurveExcludedView.render().el);
                        else {
                            var e = new zt.a({
                                activityPowerCurve: this.dataModel.powerCurve
                            });
                            this.listenTo(e, zt.a.Events.Error, function(t) {
                                this.$(".alert").html(t).show()
                            }),
                            this.$("#tab-power-curve").html(e.render().el)
                        }
                },
                getOverlayData: function() {
                    var t = null;
                    return this.hasVirbVideo() && (Dt.b.videoClips.data = this.dataModel.videoClips.models.length > 0 ? this.dataModel.videoClips.models : null,
                    t = Dt.b.videoClips),
                    this.hasTypedSplits() && (Dt.b.typedSplits.data = this.dataModel.currentActivityModel.activityTypedSplits.getHighlightedSplits(),
                    t = Dt.b.typedSplits),
                    t
                },
                setOverlayCompareData: function(t) {
                    this.hasVirbVideo() && (Dt.b.videoClips.compareData = t),
                    this.hasTypedSplits() && (Dt.b.typedSplits.compareData = t)
                },
                loadChildActivities: function() {
                    var t = this.dataModel.activityModel.activity.get("childIds");
                    if (t && t.length > 0) {
                        var e = new Rt.a
                          , i = 1;
                        l.a.each(t, function(t) {
                            var a = new ge(t);
                            a.index = i++,
                            this.dataModel.activityModel.childModels.push(a),
                            e.addModel({
                                model: a.activity,
                                required: !0
                            })
                        }, this),
                        e.on(Rt.a.Events.SYNCHRONIZED, function() {
                            l.a.each(this.dataModel.activityModel.childModels, function(t) {
                                this.dataModel.activityModel.childActivities.add(t.activity)
                            }, this),
                            this.multisportNavView && (this.multisportNavView.childActivities = this.dataModel.activityModel.childActivities,
                            this.multisportNavView.render()),
                            "undefined" != typeof this.dataModel.initialChildIndex && this.dataModel.initialChildIndex < this.dataModel.activityModel.childModels.length + 1 && this.navigateToChild(this.dataModel.initialChildIndex)
                        }, this),
                        e.fetchModels()
                    }
                },
                navigateToActivity: function(t) {
                    if (this.dataModel.setCurrentActivityModel(t),
                    t == this.dataModel.activityModel.activityId)
                        d.a.history.navigate("/activity/" + this.dataModel.activityModel.activityId, {
                            replace: !0
                        }),
                        this.multisportNavView && this.multisportNavView.selectTab(0);
                    else {
                        var e = this.dataModel.currentActivityModel.index;
                        e > 0 && (d.a.history.navigate("/activity/" + this.dataModel.activityModel.activityId + "/" + e, {
                            replace: !0
                        }),
                        this.multisportNavView && this.multisportNavView.selectTab(e))
                    }
                    this.loadAndDisplayActivityModel(this.dataModel.currentActivityModel)
                },
                navigateToChild: function(t) {
                    this.dataModel.currentActivityModel = this.dataModel.activityModel.childModels[t - 1],
                    this.loadAndDisplayActivityModel(this.dataModel.currentActivityModel),
                    this.multisportNavView.selectTab(t)
                },
                loadAndDisplayActivityModel: function(t) {
                    this.loadActivityModel(t, l.a.bind(this.displayActivityModel, this, t))
                },
                handleDisplayActivityMapView: function(t) {
                    this.activityMapView && (this.hasPolyline(t.activityDetails) || this.hasStartOrEndPoints()) ? (this.activityMapView.show(),
                    this.activityMapView.setActivity(t.activity, t.activityDetails, t.activitySplits, t.activityTypedSplits, t.weather),
                    this.activityMapView.updatePolyline()) : this.activityMapView && this.activityMapView.hide()
                },
                hasPolyline: function(t) {
                    return t.get("polyline") && t.get("polyline").length > 0
                },
                displayActivityModel: function(e) {
                    if (this.$el.attr("data-activity-type", e.activity.get("activityTypeDTO").typeKey),
                    this.handleDisplayActivityMapView(e),
                    e.activity.get("hasChartData") && e.activityDetails.isValid() && (this.activityChartsView.setActivity(e.activity, e.activityDetails, e.activitySplits, e.activityTypedSplits, e.splitSummaries, this.getUsersWeight()),
                    this.setOverlayCompareData(e.activityDetails.getData("directTimestamp", "sumDuration")),
                    this.activityChartsView.render()),
                    this.activityAdditionalInfoView && (this.activityAdditionalInfoView.setData({
                        displayElevCorrectionInfo: this.canDisplayElevCorrectionInfo(),
                        displayPowerAvgCalInfo: this.dataModel.activityModel.activityDetails.hasPowerData()
                    }),
                    this.activityAdditionalInfoView.render()),
                    this.activityAccessoryInfoView ? this.activityAccessoryInfoView && this.activityAccessoryInfoView.updateAccessories(this.getAllAccessories()) : this.activityAccessoryInfoView = new Ot.a({
                        el: this.$("#accessory-info"),
                        accessories: this.getAllAccessories()
                    }),
                    this.activityAccessoryInfoView.render(),
                    this.activityToolbarView && (this.activityToolbarView.setData({
                        hasMap: this.showEmbedMapView()
                    }),
                    this.activityToolbarView.canShowAdvancedActivityEdit(this.canShowAdvancedActivityEdit()),
                    this.activityToolbarView.canShowActivityRestore(this.canShowActivityRestore()),
                    this.activityToolbarView.render()),
                    this.activityTabsView.$("#tabStatsId").click(),
                    this.activityTabsView.setData(e.segments.length, e.activity.isLapSwimming(), this.containsGasesAndTanks(e), this.hasApneaDives(e), e.activitySplits.get("lapDTOs"), this.getTimeInZonesInfo(e.activity.get("metadataDTO")), e.activity.hasCyclingDynamicsData(), e.activity.get("activityId"), e.activity.get("duration"), e.activity.get("summaryDTO"), e.activity.isParent()),
                    this.activityTabsView.showSegmentTab = this.shouldActivityModelShowSegments(e),
                    this.activityTabsView.showSplitsTab = this.shouldActivityModelShowSplits(e),
                    this.activityTabsView.hasIntensityIntervals = this.hasIntensityIntervals(),
                    this.activityTabsView.canViewIntervals = this.activityIntervalsPreference.featureEnabled(),
                    this.activityTabsView.showStatsTab = this.shouldActivityModelShowStats(e),
                    this.activityTabsView.render(),
                    this.activityTabsView.$el.show(),
                    e.isParent ? (this.activityStatsView.setData(null),
                    this.activityStatsView.$el.empty(),
                    this.activityStatsView.stopListening()) : (this.activityStatsView.setData(e.activity, e.splitSummaries, this.hasPowerData(), this.getUsersWeight(), this.getRepCounting(), this.splits, this.dataModel.indoorClimbDifficulty.toJSON(), this.hasTypedSplits()),
                    this.activityStatsView.powerZones = this.dataModel.powerZones,
                    this.activityStatsView.heartRateZones = this.dataModel.heartRateZones,
                    this.activityStatsView.activityTypes = this.dataModel.activityTypes,
                    Gt.a.isDivingActivity(e.activity.get("activityTypeDTO").typeKey) && this.viewerIsOwner() && (this.activityStatsView.aggregateActivityMetricStats = this.aggregateActivityMetricStats,
                    this.activityStatsView.userSettings = this.userSettings),
                    this.activityStatsView.render()),
                    this.shouldActivityModelShowSplits(e)) {
                        var i = this.getParentType();
                        this.activitySplitsView.setData({
                            model: e.activitySplits,
                            activityTypeKey: e.activity.get("activityTypeDTO").typeKey,
                            activitySummary: e.activity,
                            usersWeight: this.getUsersWeight(),
                            parentType: i ? i.get("typeKey") : null,
                            activityWorkouts: this.dataModel.activityWorkouts ? this.dataModel.activityWorkouts.toJSON() : null,
                            activityTypedSplits: e.activityTypedSplits,
                            splitSummaries: e.splitSummaries
                        }),
                        this.activitySplitsView.render()
                    } else
                        this.activitySplitsView.$el.empty(),
                        this.activitySplitsView.stopListening();
                    this.shouldActivityModelShowSegments(e) ? this.activitySegmentsView.render() : (this.activitySegmentsView.$el.empty(),
                    this.activitySegmentsView.stopListening()),
                    this.activityToolbarView.setActivity(e.activity),
                    this.activityToolbarView.render(),
                    this.renderActivityDetailSmallStats(),
                    this.activityTabsView.activityTypeKey = e.activity.get("activityTypeDTO").typeKey,
                    this.activityTabsView.render(),
                    this.activityIntroView.updateModels(e.activity, e.selectedGear, e.course),
                    this.activityIntroView.render(),
                    this.activityGearListView && (this.activityGearListView.updateModels(e.activity, e.selectedGear),
                    this.activityGearListView.render());
                    var a = this.dataModel.activityModel.activityDetails.hasPowerData();
                    if (t(".legal", this.$el).css({
                        display: a ? "block" : "none"
                    }),
                    this.showExerciseView(e.activity.get("activityTypeDTO").typeKey)) {
                        if (!this.exerciseTypes) {
                            (r = new Rt.a).addModel({
                                model: this.dataModel.currentActivityModel.repCountingActivity,
                                required: !0
                            }),
                            this.isPilatesActivity(e) ? this.exerciseTypes = new M.a({}) : this.exerciseTypes = new D.a({}),
                            r.addModel({
                                model: this.exerciseTypes,
                                required: !0
                            });
                            var n = this;
                            return this.listenTo(r, Rt.a.Events.SYNCHRONIZED, function() {
                                n.displayActivityModel(n.dataModel.currentActivityModel),
                                n.stopListening(r)
                            }),
                            void r.fetchModels()
                        }
                        if (this.dataModel.activityModel.isParent) {
                            var r;
                            (r = new Rt.a).addModel({
                                model: this.dataModel.currentActivityModel.repCountingActivity,
                                required: !0
                            });
                            n = this;
                            this.listenTo(r, Rt.a.Events.SYNCHRONIZED, function() {
                                n.displayActivityModel(n.dataModel.currentActivityModel),
                                n.stopListening(r)
                            }),
                            r.fetchModels()
                        }
                        this.repCountingActivityView = new Tt.a({
                            el: this.$("#repCountingActivityViewPlaceholder"),
                            activity: e,
                            exerciseTypes: this.exerciseTypes.toJSON(),
                            isReadOnly: this.isReadOnly(),
                            isPilatesActivity: this.isPilatesActivity(e),
                            isYogaActivity: this.isYogaActivity(e)
                        }),
                        this.$("#repCountingActivityViewPlaceholder").css({
                            display: "block"
                        }),
                        this.repCountingActivityView.render()
                    } else
                        this.repCountingActivityView && (this.repCountingActivityView.off(),
                        this.repCountingActivityView = null,
                        this.$("#repCountingActivityViewPlaceholder").html(""));
                    Gt.a.isDivingActivity(e.activity.get("activityTypeDTO").typeKey) && !Gt.a.isApneaDiving(e.activity.get("activityTypeDTO").typeKey) ? (this.activityDiveLogView = new Et.a({
                        el: this.$("#divingLogViewPlaceholder"),
                        model: e
                    }),
                    this.$("#divingLogViewPlaceholder").css({
                        display: "block"
                    }),
                    this.activityDiveLogView.render()) : this.activityDiveLogView && (this.activityDiveLogView.off(),
                    this.activityDiveLogView = null,
                    this.$("#divingLogViewPlaceholder").html("")),
                    this.activityNotes && "function" === typeof this.activityNotes.updatePlaceholderText && this.activityNotes.updatePlaceholderText(Gt.a.getNotePlaceholderCopy(this.dataModel.currentActivityModel.activity.get("activityTypeDTO"), this.dataModel.activityTypes)),
                    (Gt.a.isIndoorClimbingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) || Gt.a.isBoulderingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey)) && this.dataModel.activityModel.activityTypedSplits && this.dataModel.activityModel.activityTypedSplits.length && Object(he.f)(this.dataModel.activityModel.activityTypedSplits.toJSON()) && (this.climbingDifficultyChart = new pt.a,
                    this.climbingDifficultyChart.renderComponent(ae.a, this.$("#climbingDifficultyChartPlaceholder")[0], {
                        typedSplits: this.dataModel.activityModel.activityTypedSplits.toJSON(),
                        indoorClimbDifficulty: this.dataModel.indoorClimbDifficulty.toJSON()
                    }),
                    this.$("#climbingDifficultyChartPlaceholder").css({
                        display: "block"
                    })),
                    Gt.a.isBoulderingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.dataModel.activityModel.activityTypedSplits && this.dataModel.activityModel.activityTypedSplits.length && (this.boulderingDifficultyChart = new pt.a,
                    this.boulderingDifficultyChart.renderComponent(ne.a, this.$("#climbingDifficultyChartPlaceholder")[0], {
                        typedSplits: this.dataModel.activityModel.activityTypedSplits.toJSON(),
                        indoorClimbDifficulty: this.dataModel.indoorClimbDifficulty.toJSON()
                    }),
                    this.$("#climbingDifficultyChartPlaceholder").css({
                        display: "block"
                    })),
                    Gt.a.isAutoRacingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.dataModel.activityModel.activitySplits.get("lapDTOs").length && (this.autoRacingChartReactComponent = new pt.a,
                    this.autoRacingChartReactComponent.renderComponent(Jt.a, this.$("#autoRacingLapChartPlaceholder")[0], {
                        lapDTOs: this.dataModel.activityModel.activitySplits.get("lapDTOs"),
                        directSpeed: this.dataModel.activityModel.activityDetails.getData("directSpeed")
                    }),
                    this.$("#autoRacingLapChartPlaceholder").css({
                        display: "block"
                    })),
                    Gt.a.isSurfingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && this.dataModel.activityModel.activityTypedSplits && this.dataModel.activityModel.activityTypedSplits.getSplitsOfType("SURF_ACTIVE").length && (this.renderSurfWaveDistanceChart(),
                    this.renderSurfWaveMapLegend())
                },
                containsGasesAndTanks: function(t) {
                    var e = t.activity.get("activityTypeDTO").typeKey;
                    if (Gt.a.isDivingActivity(e) && !Gt.a.isApneaDiving(e) && t.activity.get("diveInfo") && t.activity.get("diveInfo").diveGases && t.activity.get("diveInfo").diveGases.length > 0)
                        return !0
                },
                showEmbedMapView: function() {
                    return !(!this.dataModel.activityModel.activity.get("hasPolyline") && !this.hasStartOrEndPoints())
                },
                hasApneaDives: function(t) {
                    var e = t.activity.get("activityTypeDTO").typeKey
                      , i = t.activity.get("manualActivity");
                    if (Gt.a.isApneaDiving(e) && t.activitySplits.get("lapDTOs").length > 0 && !i)
                        return !0
                },
                displayConnectIQViews: function() {
                    if (this.presentationDataWasReturnedForConnectIQ()) {
                        var t = this.dataModel.activityModel;
                        this.ciqInfoView.renderWithPrecentationData(this.connectIQPresentationUtil),
                        t.activity && this.activityStatsView.renderConnectIQView(this.connectIQPresentationUtil),
                        this.shouldActivityModelShowSplits(t) && this.activitySplitsView.renderConnectIQView(this.connectIQPresentationUtil),
                        t.activityDetails && this.activityChartsView.renderConnectIQView(this.connectIQPresentationUtil)
                    }
                },
                loadActivityModel: function(t, e) {
                    var i = new Rt.a({});
                    this.rendered || i.addEvent({
                        model: this,
                        event: fe.PageRendered,
                        required: !0
                    }),
                    this.viewerIsOwner() && !this.dataModel.powerZones && (this.dataModel.powerZones = new j.a,
                    i.addModel({
                        model: this.dataModel.powerZones,
                        required: !0
                    })),
                    this.viewerIsOwner() && !this.dataModel.heartRateZones && (this.dataModel.heartRateZones = new V.a,
                    i.addModel({
                        model: this.dataModel.heartRateZones,
                        required: !0
                    })),
                    this.canActivityModelSupportSegments(t) && (this.dataModel.segmentOptionalFeature || (this.dataModel.segmentOptionalFeature = new K.a({
                        displayName: this.activityOwnerName()
                    }),
                    i.addModel({
                        model: this.dataModel.segmentOptionalFeature,
                        required: !0
                    })),
                    this.dataModel.stravaOptionalFeature || (this.dataModel.stravaOptionalFeature = new Q.a({}),
                    i.addModel({
                        model: this.dataModel.stravaOptionalFeature,
                        required: !0
                    })));
                    var a = this.dataModel.activityModel.activity.get("metadataDTO").deviceApplicationInstallationId
                      , n = this.dataModel.activityModel.activity.get("metadataDTO").agentApplicationInstallationId;
                    if (!this.dataModel.deviceInfo && a && (this.dataModel.deviceInfo = new U.a([],{}),
                    this.dataModel.deviceInfo.setAfterLoad(a),
                    i.addModel({
                        model: this.dataModel.deviceInfo,
                        required: !0,
                        countError: !0
                    })),
                    !this.dataModel.agentInfo && this.shouldActivityModelShowAgent() && (this.dataModel.agentInfo = new U.a([],{}),
                    this.dataModel.agentInfo.setAfterLoad(n),
                    i.addModel({
                        model: this.dataModel.agentInfo,
                        required: !0,
                        countError: !0
                    })),
                    t.isLoaded)
                        e && e();
                    else {
                        t.activitySplits && i.addModel({
                            model: t.activitySplits,
                            required: !0,
                            countError: !0
                        }),
                        (this.hasTypedSplits() || this.hasIntensityIntervals() && t.activityTypedSplits) && i.addModel({
                            model: this.dataModel.activityModel.activityTypedSplits,
                            required: !0,
                            countError: !0
                        }),
                        (t.activity.get("hasChartData") || t.activity.get("hasPolyline")) && (t.activityDetails.setIsLapSwimming(t.activity.isLapSwimming()),
                        i.addModel({
                            model: t.activityDetails,
                            required: !0,
                            countError: !0
                        }),
                        i.addModel({
                            model: t.splitSummaries,
                            required: !0,
                            countError: !0
                        })),
                        this.canActivityModelSupportSegments(t) && (i.addModel({
                            model: t.segments,
                            required: !1,
                            countError: !0
                        }),
                        t.segments.once("sync", function(e, i, a) {
                            this.shouldActivityModelShowSegments(t) && this.activityTabsView.updateSegmentCount(t.segments.length)
                        }, this));
                        var r = t.activity.get("associatedCourseId");
                        r && (t.course = new P.a({
                            courseId: r
                        }),
                        i.addModel({
                            model: t.course,
                            required: !0,
                            countError: !0
                        })),
                        t.isParent && t.activity.get("childIds") && t.weather.set({
                            activityId: t.activity.get("childIds")[0]
                        }),
                        i.addModel({
                            model: t.weather,
                            required: !0,
                            countError: !0
                        }),
                        t.isParent || (t.selectedGear = new at.a([],{
                            criteria: {
                                activityId: t.activity.id
                            }
                        }),
                        i.addModel({
                            model: t.selectedGear,
                            required: !0,
                            countError: !0
                        })),
                        i.on(Rt.a.Events.SYNCHRONIZED, e),
                        i.on(Rt.a.Events.SYNCHRONIZED, function() {
                            t.isLoaded = !0,
                            this.dataModel.connectIQPresentationData && this.dataModel.connectIQPresentationData.length > 0 && !this.connectIQPresentationDataLoaded && this.loadConnectIQ()
                        }, this),
                        i.fetchModels()
                    }
                },
                isNoteDisabled: function() {
                    return !this.viewerIsOwner() || this.dataModel.activityModel.activity.get("description")
                },
                isDiveBuddyDisabled: function() {
                    return !this.viewerIsOwner() || this.dataModel.activityModel.activity.get("diveInfo").buddy
                },
                isDiveLocationDisabled: function() {
                    return !this.viewerIsOwner() || this.dataModel.activityModel.activity.get("locationName")
                },
                isDiveEquipmentDisabled: function() {
                    return !this.viewerIsOwner() || this.dataModel.activityModel.activity.get("diveInfo").equipments
                },
                canActivityModelSupportSegments: function(t) {
                    return (t.activity.isCycling() || t.activity.isRunning()) && t.activity.get("hasPolyline") && !t.isParent && this.viewerIsAuthenticated()
                },
                isUserOptedIntoStravaSegments: function() {
                    return this.dataModel.stravaOptionalFeature && this.dataModel.stravaOptionalFeature.get("userOptionType") === Q.a.USER_OPTION_TYPES.OPT_IN
                },
                shouldActivityModelShowSegments: function(t) {
                    return 0 == this.isUserOptedIntoStravaSegments() && this.dataModel.segmentOptionalFeature && this.dataModel.segmentOptionalFeature.isOptedIn() && this.canActivityModelSupportSegments(t)
                },
                shouldActivityModelShowStats: function(t) {
                    return !t.isParent
                },
                shouldActivityModelShowAgent: function() {
                    return I.a.isAdminUser() || I.a.isCustomerService() || !1
                },
                shouldActivityModelShowSplits: function(t) {
                    var e = !1;
                    if (t.activitySplits && t.activitySplits.get("lapDTOs")) {
                        var i = t.activitySplits && t.activitySplits.get("lapDTOs");
                        l.a.each(i, function(t) {
                            t.duration && t.duration > 0 && (e = !0)
                        }, this)
                    }
                    var a = this.getRepCounting();
                    return a && a.get("exerciseSets") && a.get("exerciseSets").length > 0 && (e = !1),
                    t.activity.get("activityTypeDTO").typeKey === Ft.a.Yoga && (e = !1),
                    Gt.a.isDivingActivity(t.activity.get("activityTypeDTO").typeKey) && (e = !1),
                    Gt.a.isBreathworkActivity(t.activity.get("activityTypeDTO").typeKey) && (e = !1),
                    !t.isParent && e
                },
                canDisplayAccessories: function() {
                    return this.dataModel.currentActivityModel.activity.canDisplayAccessories()
                },
                canDisplayAccessoriesBatteryStatus: function() {
                    return this.dataModel.currentActivityModel.activity.canDisplayAccessoriesBatteryStatus()
                },
                setChartSpeedType: function(t, e) {
                    this.activityChartsView && this.activityChartsView.setSpeedType(t, e)
                },
                onDragFileIn: function(t) {
                    this.activityPhotosView.onDragPhotosIn(t)
                },
                onDragFileOut: function() {
                    this.activityPhotosView.onDragPhotosOut()
                },
                onAxisTypeChanged: function(t) {
                    this.activityTabsView.changeAxisType(t)
                },
                onPowerRangeChanged: function(t, e) {
                    this.activityTabsView.changePowerRange(t, e)
                },
                onChartRangeChanged: function(t, e, i, a) {
                    this.activityChartsView.onChartRangeChanged(t, e, i, a)
                },
                onRangeReset: function(t) {
                    this.activityTabsView.resetRange(t)
                },
                onSpeedPaceToggled: function(t, e) {
                    this.setChartSpeedType(t, e)
                },
                onActivityTypeChanged: function(t) {
                    this.displayActivityModel(this.dataModel.currentActivityModel),
                    this.pushAnalyticsEvent("Activity Type Changed")
                },
                onViewSegmentToggled: function(t, e) {
                    e ? this.activityMapView.showSegment(t) : this.activityMapView.hideSegment(t)
                },
                onPersonalRecordsChanged: function(t) {
                    this.multisportNavView ? this.multisportNavView.render() : this.dataModel.currentActivityModel.activity.isParent() || this.activityIntroView.renderPrTrophy()
                },
                onPrivacyChanged: function() {
                    this.activitySegmentsView && this.shouldActivityModelShowSegments(this.dataModel.currentActivityModel) && (this.activitySegmentsView.setData(this.dataModel.activityModel.activity, this.dataModel.activityModel.segments),
                    this.activitySegmentsView.render())
                },
                onPageUnloaded: function() {
                    this.reactActivityBadges && this.reactActivityBadges.removeComponent(),
                    rt.a.prototype.onPageUnloaded.call(this),
                    this.activityMapView && this.activityMapView.unloadMap(),
                    this.hasVirbVideo() && this.activityYouTubeView.cleanUp()
                },
                isBackFromSocialPlatform: function() {
                    var t = d.a.history.location.href;
                    return !!/activity\/\d+\/share\/(0|1)\?lang=/.test(t)
                },
                hasVideo: function() {
                    return !(!this.dataModel || !this.dataModel.activityModel) && this.dataModel.activityModel.activity.get("videoUrl")
                },
                hasVirbVideo: function() {
                    return !(!this.dataModel || !this.dataModel.videoClips) && this.dataModel.videoClips.length > 0
                },
                hasTypedSplits: function() {
                    return this.dataModel.activityModel.activity.get("metadataDTO").hasSplits
                },
                hasIntensityIntervals: function() {
                    return this.dataModel.activityModel.activity.get("metadataDTO").hasIntensityIntervals
                },
                hasPowerData: function(t) {
                    return !!((t = t || this.dataModel.currentActivityModel.activity).get("averagePower") || t.get("maxPowerTwentyMinutes") || t.get("leftBalance") || t.get("leftTorqueEffectiveness") || t.get("leftPedalSmoothness") || t.get("normalizedPower") || t.get("intensityFactor") || t.get("functionalThresholdPower") || t.get("totalWork"))
                },
                canDisplayElevCorrectionInfo: function() {
                    return !this.hasVirbVideo() && this.dataModel.activityModel.activityDetails.hasElevationData()
                },
                canDisplayVectorAirInfo: function() {
                    return I.a.hasMBTesterRole() || this.enableVectorAirFeatureFlag && !l.a.isEmpty(this.enableVectorAirFeatureFlag.get("value")) && !1 !== JSON.parse(this.enableVectorAirFeatureFlag.get("value"))
                },
                getUsersWeight: function() {
                    return this.dataModel.getLatestWeight && this.dataModel.getLatestWeight.get("weight") ? g.a.convertWeightGramsToKg(this.dataModel.getLatestWeight.get("weight")) : null
                },
                getRepCounting: function() {
                    return this.showExerciseView(this.dataModel.currentActivityModel.activity.get("activityTypeDTO").typeKey) ? this.dataModel.currentActivityModel.repCountingActivity : null
                },
                onDisplayWeightEntryPopup: function(t) {
                    var e = new ht.a({
                        prompt: u.a.localize("ftp.weight.modal.prompt"),
                        weightDate: Nt.a.formatISODate(new Date(this.dataModel.activityModel.activity.get("startTimeGMT")))
                    });
                    this.listenTo(e, ht.a.Events.WEIGHT_SUCCESS, function(e) {
                        t.successCallback && "function" === typeof t.successCallback && t.successCallback.call(t.context || this, e),
                        i && "function" === typeof i.close && i.close()
                    }, this);
                    var i = new lt.a({
                        view: e,
                        showFooter: !0,
                        showCancelButton: !1,
                        modalTitle: u.a.localize("ftp.modal.title")
                    });
                    i.render()
                },
                onWeightChanged: function(t) {
                    this.activityChartsView.setAndApplyWeight(t),
                    this.activityStatsView.setAndApplyWeight(t),
                    this.activitySplitsView.setAndApplyWeight(t),
                    this.dataModel.userBiometricWeights && this.dataModel.userBiometricWeights.length > 0 && this.dataModel.userBiometricWeights.at(0).set("weight", g.a.convertWeightToGrams(t))
                },
                getTimeInZonesInfo: function(t) {
                    var e = t || this.dataModel.activityModel.activity.get("metadataDTO");
                    return e ? {
                        hasPowerTimeInZones: e.hasPowerTimeInZones,
                        hasHrTimeInZones: e.hasHrTimeInZones
                    } : {
                        hasPowerTimeInZones: !1,
                        hasHrTimeInZones: !1
                    }
                },
                presentationDataWasReturnedForConnectIQ: function() {
                    return this.dataModel.connectIQPresentationData && this.dataModel.connectIQPresentationData.models.length > 0
                },
                onTabToggleClicked: function() {
                    this.pushToggleIntervalsTabsAnalyticsEvents()
                },
                pushToggleIntervalsTabsAnalyticsEvents: function() {
                    jt.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: "Toggle Intervals Tabs"
                    })
                },
                getAllAccessories: function() {
                    var t, e = [];
                    if (this.canDisplayAccessories() && (t = this.dataModel.currentActivityModel.activity.getListOfAccessories()))
                        for (var i in t)
                            i && t.hasOwnProperty(i) && e.push({
                                name: t[i].name,
                                imageUrl: t[i].imageUrl,
                                softwareVersion: t[i].softwareVersion
                            });
                    if (this.canDisplayAccessoriesBatteryStatus() && (t = this.dataModel.currentActivityModel.activity.getListOfAccessoriesWithBatteryStatus()) && t.length > 0)
                        for (var a = 0, n = t.length; a < n; a += 1)
                            if (t[a]) {
                                var r = this.dataModel.currentActivityModel.activity.getBatteryInfo(t[a]);
                                (!this.hideSensorInformationRoleKey.featureEnabled() && t[a].sku.indexOf(ue.a.AccessoriesWithBatteryStatus.Vector3.sku) > -1 || this.hideSensorInformationRoleKey.featureEnabled()) && e.push({
                                    name: r.name,
                                    softwareVersion: r.softwareVersion,
                                    batteryInfo: r,
                                    batteryStatusTypes: this.dataModel.currentActivityModel.activity.getBatteryStatusTypes()
                                })
                            }
                    return e
                },
                showExerciseView: function(t) {
                    return -1 !== [Ft.a.StrengthTraining, Ft.a.Cardio, Ft.a.Pilates, Ft.a.Yoga].indexOf(t)
                },
                hasStartOrEndPoints: function() {
                    return Object(se.a)(this.dataModel.currentActivityModel.activity.has("startLongitude"), this.dataModel.currentActivityModel.activity.has("startLatitude"), this.dataModel.currentActivityModel.activity.has("endLongitude"), this.dataModel.currentActivityModel.activity.has("endLatitude"))
                },
                renderActivityBadges: function() {
                    this.reactActivityBadges = new pt.a,
                    this.reactActivityBadges.renderComponent(window.ActivityBadges, this.$(".react-activity-badges")[0], {
                        activityId: this.dataModel.activityModel.activityId,
                        viewerSocialProfile: I.a.toJSON(),
                        displayName: this.dataModel.activityModel.activity.get("userInfoDto").displayname
                    })
                },
                getMTBMapLayers: function() {
                    var t = []
                      , e = !1
                      , i = this.isMountainBikeActivity();
                    return this.dataModel.activityModel.activity.get("summaryDTO").avgFlow && (e = this.dataModel.userMapSetting.getCustom("FLOW" + (i ? "-MB" : ""), i),
                    t.push({
                        value: "FLOW",
                        text: u.a.localize("label_flow"),
                        selected: e,
                        func: function(t) {
                            t ? this.activityMapView.addFlowLayer() : this.activityMapView.removeFlowLayer()
                        }
                        .bind(this)
                    })),
                    this.dataModel.activityModel.activity.get("summaryDTO").grit && t.push({
                        value: "GRIT",
                        text: u.a.localize("label_grit"),
                        selected: this.dataModel.userMapSetting.getCustom("GRIT" + (i ? "-MB" : ""), !!i && !e),
                        func: function(t) {
                            t ? this.activityMapView.addGritLayer() : this.activityMapView.removeGritLayer()
                        }
                        .bind(this)
                    }),
                    t
                },
                setMTBMapLayers: function() {
                    var t = !1
                      , e = this.isMountainBikeActivity();
                    this.dataModel.activityModel.activity.get("summaryDTO").avgFlow && this.dataModel.userMapSetting.getCustom("FLOW" + (e ? "-MB" : ""), e) && (t = !0,
                    this.activityMapView.addFlowLayer()),
                    this.dataModel.activityModel.activity.get("summaryDTO").grit && this.dataModel.userMapSetting.getCustom("GRIT" + (e ? "-MB" : ""), !!e && !t) && (!0,
                    this.activityMapView.addGritLayer())
                },
                renderDiveAppPromotion: function() {
                    this.diveAppLinkInfo = new Ct.a({
                        el: this.$(".dive-app-link-info")
                    }),
                    this.diveAppLinkInfo.render()
                },
                renderActivityDetailSmallStats: function() {
                    this.showDiveLog() || (this.activityDetailSmallStats = new re.a({
                        el: this.$("#react-activitySmallStats"),
                        activity: this.dataModel.activityModel.activity.toJSON(),
                        repCountingActivity: this.dataModel.activityModel.repCountingActivity,
                        indoorClimbDifficulty: this.dataModel.indoorClimbDifficulty.toJSON()
                    }),
                    this.activityDetailSmallStats.render())
                },
                isPilatesActivity: function(t) {
                    var e = t || this.dataModel.activityModel;
                    return Gt.a.isPilatesActivity(e.activity.get("activityTypeDTO").typeKey)
                },
                isYogaActivity: function(t) {
                    var e = t || this.dataModel.activityModel;
                    return Gt.a.isYogaActivity(e.activity.get("activityTypeDTO").typeKey)
                },
                isMountainBikeActivity: function() {
                    var t = this.dataModel.activityModel;
                    return Gt.a.isMountainBikeActivity(t.activity.get("activityTypeDTO").typeKey)
                },
                includeActivityIntoPowerCurve: function(t) {
                    a.ajax({
                        method: "POST",
                        url: Ht.default.url("/proxy/activity-service/activity/" + t + "/powerCurve"),
                        contentType: "application/json",
                        data: JSON.stringify({
                            excludeFromPowerCurveReports: !1
                        }),
                        beforeSend: function(t) {
                            t.setRequestHeader("X-HTTP-Method-Override", "PATCH")
                        },
                        success: function() {
                            this.dataModel.powerCurve = new qt.a({
                                activityId: t
                            });
                            var e = new Rt.a;
                            e.addModel({
                                model: this.dataModel.powerCurve,
                                required: !0
                            }),
                            this.listenTo(e, Rt.a.Events.SYNCHRONIZED, function() {
                                this.onPowerCurveTabClicked(0)
                            }),
                            e.bind(Rt.a.Events.SYNCHRONIZE_FAILED, function() {
                                this.trigger(fe.Error, u.a.localize("please_try_again_later"))
                            }, this),
                            e.fetchModels()
                        }
                        .bind(this),
                        error: function(t, e, i) {}
                    })
                },
                getParentType: function() {
                    return this.dataModel.activityTypes.getParentType(this.dataModel.currentActivityModel.activity.get("activityTypeDTO").typeKey)
                },
                canShowAdvancedActivityEdit: function() {
                    var t = this.dataModel.activityModel.activity
                      , e = this.dataModel.activityModel.activityDetails;
                    return this.advancedActivityEditPreference.featureEnabled() && this.viewerIsOwner() && !t.get("metadataDTO").manualActivity && t.get("metadataDTO").fileFormat && "fit" === t.get("metadataDTO").fileFormat.formatKey && Kt.b.isActivityTypeAdvancedActivitySupported(t) && Kt.b.hasAdvancedEditChartData(t, e)
                },
                canShowActivityRestore: function() {
                    var t = this.dataModel.activityModel.activity;
                    return this.advancedActivityEditPreference.featureEnabled() && t.get("metadataDTO").trimmed
                },
                showSong: function(t) {
                    return t.has("artist") || t.has("album") || t.has("title") && "OTHER" !== t.get("title").toUpperCase() && "ALL" !== t.get("title").toUpperCase()
                },
                restoreToOriginal: function() {
                    var t = this;
                    new ct.a({
                        modalTitle: u.a.localize("activity_restore_question"),
                        message: u.a.localize("activity_restore_text"),
                        confirmationTextKey: "activity_restore_label",
                        cancelTextKey: "button_cancel",
                        onSaveButtonClicked: function() {
                            return t.restore(),
                            !0
                        }
                    }).render()
                },
                restore: function() {
                    var t = Object(o.a)(r.a.mark(function t() {
                        var e, i, a, n = this;
                        return r.a.wrap(function(t) {
                            for (; ; )
                                switch (t.prev = t.next) {
                                case 0:
                                    return e = this.dataModel.activityModel.activity,
                                    this.hideFailureMessage(),
                                    this.showSpinner(!0, u.a.localize("activity_wait_message")),
                                    Kt.b.pushAnalyticsEvent("TrimActivityRestore"),
                                    t.prev = 4,
                                    t.next = 7,
                                    h.a.put("/activity-service/activity/".concat(e.get("activityId"), "/reconstruct"), {});
                                case 7:
                                    202 === (i = t.sent).status ? (a = new oe.a(i.headers.location,i.headers["location-in-milliseconds"]),
                                    this.listenTo(a.channel, oe.a.Events.Success, function() {
                                        var t = document.URL;
                                        t = t.substring(0, t.indexOf("?")),
                                        location.replace(t)
                                    }, this),
                                    this.listenTo(a.channel, oe.a.Events.Timeout, function() {
                                        var t = new ct.a({
                                            modalTitle: u.a.localize("advanced_activity_restore_inprogress_modal_title"),
                                            message: u.a.localize("advanced_activity_restore_inprogress_exceeded"),
                                            confirmationTextKey: "ok",
                                            showCancelButton: !1,
                                            closable: !1,
                                            onSaveButtonClicked: function() {
                                                return Ht.default.navigate("/activities", null, {
                                                    trigger: !0
                                                }),
                                                !0
                                            }
                                        });
                                        n.showSpinner(!1),
                                        t.render()
                                    }),
                                    this.listenTo(a.channel, oe.a.Events.Error, function() {
                                        n.showSpinner(!1),
                                        n.showFailureMessage(u.a.localize("advanced_activity_restore_error"))
                                    }),
                                    a.poll()) : (this.showSpinner(!1),
                                    this.showFailureMessage(u.a.localize("advanced_activity_save_error"))),
                                    t.next = 15;
                                    break;
                                case 11:
                                    t.prev = 11,
                                    t.t0 = t.catch(4),
                                    this.showSpinner(!1),
                                    this.showFailureMessage(u.a.localize("advanced_activity_restore_error"));
                                case 15:
                                case "end":
                                    return t.stop()
                                }
                        }, t, this, [[4, 11]])
                    }));
                    return function() {
                        return t.apply(this, arguments)
                    }
                }(),
                showSpinner: function(t, e) {
                    t ? (this.$(".spinner-container .h5").text(e),
                    this.$(".spinner-container").show()) : this.$(".spinner-container").hide()
                },
                displayNotification: function(t, e) {
                    this.restoreURL(),
                    (new pt.a).renderComponent(le.a, this.$("#notification-placeholder")[0], {
                        messageKey: t,
                        autoClose: e,
                        renderTimeoutVal: 2e3,
                        onClose: this.onCloseNotification.bind(this)
                    })
                },
                restoreURL: function() {
                    var t = location.href.substring(0, location.href.indexOf("?"));
                    Ht.default.replaceNavigationURL(t)
                },
                onRestoreClicked: function(t) {
                    t.preventDefault(),
                    this.onCloseNotification(),
                    this.restore()
                },
                onCloseNotification: function() {
                    this.$("#notification-placeholder").remove()
                },
                pushAnalyticsEvent: function(t) {
                    jt.a.push({
                        event: "track_event",
                        category: "Activity Page Events",
                        action: t
                    })
                },
                exportSplitsToCSV: function() {
                    this.activitySplitsView.exportToCSV()
                },
                showDiveLog: function() {
                    return Gt.a.isDivingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) && !Gt.a.isApneaDiving(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey)
                },
                renderSurfWaveDistanceChart: function() {
                    (new pt.a).renderComponent(te.a, this.$("#surfWaveChartPlaceholder")[0], {
                        waves: this.dataModel.activityModel.activityTypedSplits.toJSON(),
                        selectedWaveMessageIndex: this.selectedWaveMessageIndex
                    }),
                    this.$("#surfWaveChartPlaceholder").css({
                        display: "block"
                    })
                },
                renderSurfWaveMapLegend: function() {
                    (new pt.a).renderComponent(ee.a, this.$("#surfWaveMapLegendPlaceholder")[0]),
                    this.$("#surfWaveMapLegendPlaceholder").css({
                        display: "block"
                    })
                },
                showPowerCurve: function() {
                    return !(!this.viewerIsOwner() || !this.dataModel.powerCurve || Gt.a.isOffShoreGrinding(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey) || Gt.a.isOnShoreGrindingActivity(this.dataModel.activityModel.activity.get("activityTypeDTO").typeKey))
                }
            })
        }
        .call(this, i(10), i(10))
    }
}]);
//# sourceMappingURL=229.7d9d4975.chunk.js.map
